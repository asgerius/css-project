[{"tags": ["perl", "asterisk", "agi"], "comments": [{"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1443133264, "post_id": 32750635, "comment_id": 53382774, "body": "Does this help? <a href=\"http://stackoverflow.com/a/930353/1255289\">stackoverflow.com/a/930353/1255289</a>"}], "answers": [{"tags": [], "owner": {"reputation": 14851, "user_id": 861388, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e67c6ded563e65de617062d3c47d79c2?s=128&d=identicon&r=PG", "display_name": "arheops", "link": "https://stackoverflow.com/users/861388/arheops"}, "is_accepted": false, "score": 1, "last_activity_date": 1443286509, "creation_date": 1443286509, "answer_id": 32799616, "question_id": 32750635, "link": "https://stackoverflow.com/questions/32750635/how-to-interrupt-streaming-file-on-a-condition/32799616#32799616", "title": "How to interrupt streaming file on a condition?", "body": "<p>You can use AsyncAGI command, which will play musiconhold class unless get some other action</p>\n\n<p>After that you have use Asterisk::AMI to transfer that channel to other context/dialplan</p>\n\n<p>No, there are no any way do it using just AGI interface without AMI.</p>\n"}], "owner": {"reputation": 2297, "user_id": 2243874, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dJnYT.jpg?s=128&g=1", "display_name": "Pavel Zdarov", "link": "https://stackoverflow.com/users/2243874/pavel-zdarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443286509, "creation_date": 1443047931, "question_id": 32750635, "link": "https://stackoverflow.com/questions/32750635/how-to-interrupt-streaming-file-on-a-condition", "title": "How to interrupt streaming file on a condition?", "body": "<p>I`m using <strong>Asterisk::AGI</strong> and I need to stream a music file and interrupt streaming according to some background condition (like checking data in DB, if changed smth -> interrupt streaming).</p>\n\n<p>Can somebody advice/point me where should I look for a solution?</p>\n\n<p>Thanks a lot\nPavel</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443040767, "post_id": 32746011, "comment_id": 53338799, "body": "You can also use <code>my ($value) = $field =~ m,^(\\d{5})\\&#47;,;</code> if you don&#39;t like <code>$1</code>."}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 4, "last_activity_date": 1443033559, "last_edit_date": 1443033559, "creation_date": 1443029870, "answer_id": 32746011, "question_id": 32745756, "link": "https://stackoverflow.com/questions/32745756/perl-regular-expression-extract/32746011#32746011", "title": "Perl Regular expression extract", "body": "<p>The problem is that you are storing the entire <code>$field</code> in the output array, but you only want the number to the left of the slash to be stored.  You could use capturing parentheses in the regular expression and the <code>$1</code> special variable.  This outputs <code>15254</code>:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nwhile (&lt;DATA&gt;) {\n    my @fields = split( /\\ /, $_ );\n    my @output;\n    foreach my $field (@fields) {\n        if ( $field =~ /^([0-9]{5})\\// ) {\n            push @output, $1;\n        }\n    }\n    if (@output) {\n        my $line = join( ' ', @output );\n        print \"$line\\n\";\n    }\n}\n\n__DATA__\nD2001235 9204 254/2004 254/1944 254/2041 15254/2011 ALL-V4YM 001 AUTO C-C0000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1443040831, "creation_date": 1443040831, "answer_id": 32749073, "question_id": 32745756, "link": "https://stackoverflow.com/questions/32745756/perl-regular-expression-extract/32749073#32749073", "title": "Perl Regular expression extract", "body": "<p>As explained, you are saving an entire field in <code>@output</code> if it matches the regex, instead of just the first part before the slash</p>\n\n<p>Your <code>split</code> is also unnecessarily complicated, and <code>join</code> isn't needed</p>\n\n<p>All you need is this</p>\n\n<pre><code>while ( &lt;INFILE&gt; ) {\n\n    my @output = map m{^([0-9]{5})/}, split;\n\n    if ( @output ) {\n        print \"@output\\n\";\n        print OUTFILE \"@output\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5152917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636686673d6c223ee24fef0eee0ce443?s=128&d=identicon&r=PG&f=1", "display_name": "JoJA", "link": "https://stackoverflow.com/users/5152917/joja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 32746011, "answer_count": 2, "score": 2, "last_activity_date": 1443040831, "creation_date": 1443029046, "last_edit_date": 1443040528, "question_id": 32745756, "link": "https://stackoverflow.com/questions/32745756/perl-regular-expression-extract", "title": "Perl Regular expression extract", "body": "<p>I'm trying to extract a certain string of numbers from a text file using a regular exression, but when my code runs, it is grabbing the numbers after the slash in the separation between date and time. Here is what I have so far.</p>\n\n<pre><code>while ( &lt;INFILE&gt; ) {\n\n    my @fields = split( /\\ /, $_ );\n    my @output;\n\n    foreach my $field ( @fields ) {\n        if ( $field =~ /[0-9]{5}\\// ) {\n            push @output, $field;\n        }\n    }\n\n    if ( @output ) {\n        my $line = join( ' ', @output );\n        print \"$line\\n\";\n        print OUTFILE \"$line\\n\";\n    }\n}\n</code></pre>\n\n<p>The line I am trying to extract data from is</p>\n\n<pre><code>D2001235 9204 254/2004 254/1944 254/2041 15254/2011 ALL-V4YM 001 AUTO C-C0000\n</code></pre>\n\n<p>The data I need is the <code>15254</code> but when I run my code it returns <code>15254/2011</code> and my program is erroring out.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 566, "user_id": 3897504, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d215da342703ef7754fb9a149070966b?s=128&d=identicon&r=PG&f=1", "display_name": "Eirik Birkeland", "link": "https://stackoverflow.com/users/3897504/eirik-birkeland"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1443103580, "post_id": 32745348, "comment_id": 53366004, "body": "Thank you all for sharing your insights. I decided to use <code>my @matches; push @matches, $1 while $str =~ &#47;((.)\\2*)&#47;g;</code> for this <a href=\"http://codegolf.stackexchange.com/questions/58523/write-two-programs-that-compresses-and-decompresses-data/58543#58543\">CodeGolf challenge</a>, amongst the 6 or so different options provided by you here. I think this is the most readable and elegant solution. I also benchmarked the different approaches for fun, but found no significant performance differences."}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 3897504, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d215da342703ef7754fb9a149070966b?s=128&d=identicon&r=PG&f=1", "display_name": "Eirik Birkeland", "link": "https://stackoverflow.com/users/3897504/eirik-birkeland"}, "edited": false, "score": 0, "creation_date": 1443030604, "post_id": 32745419, "comment_id": 53333113, "body": "Yes, my bad. I changed it back to using an intermediary hash variable."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1443028449, "last_edit_date": 1443028449, "creation_date": 1443027809, "answer_id": 32745419, "question_id": 32745348, "link": "https://stackoverflow.com/questions/32745348/split-string-where-the-character-changes/32745419#32745419", "title": "Split string where the character changes", "body": "<p>No the problem is because you're using capture groups in <code>split</code> - which returns the \"capture\" along with the \"split\". </p>\n\n<pre><code>use Data::Dumper;\nmy @stuff = split /(=)/, \"this=that\";\nprint Dumper \\@stuff;\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>$VAR1 = [\n          'this',\n          '=',\n          'that'\n        ];\n</code></pre>\n\n<p>Unfortunately it's not easy to 'fix' - best I could come up with is skip the odd numbered elements:</p>\n\n<pre><code>my %stuff =  split /(?&lt;=(.))(?!\\1)/, $str;\nprint Dumper \\%stuff;\n</code></pre>\n\n<p>(That won't preserve ordering though, because hashes don't). </p>\n\n<p>But you can:</p>\n\n<pre><code>print join (\",\", sort keys %stuff);\n</code></pre>\n\n<p>Or perhaps:</p>\n\n<pre><code>my $str = \"1233345abcdde\";\nmy @stuff =  split /(?&lt;=(.))(?!\\1)/, $str;\nprint join ( \",\", @stuff[grep { not $_ &amp; 1 } 0..$#stuff] ),\"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 566, "user_id": 3897504, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d215da342703ef7754fb9a149070966b?s=128&d=identicon&r=PG&f=1", "display_name": "Eirik Birkeland", "link": "https://stackoverflow.com/users/3897504/eirik-birkeland"}, "edited": false, "score": 0, "creation_date": 1443028555, "post_id": 32745425, "comment_id": 53332003, "body": "Putting <code>pairkeys</code> from <code>List::Util</code> in front of my <code>split</code> did the trick. Thanks!"}], "tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 1, "last_activity_date": 1443027822, "last_edit_date": 1495541649, "creation_date": 1443027822, "answer_id": 32745425, "question_id": 32745348, "link": "https://stackoverflow.com/questions/32745348/split-string-where-the-character-changes/32745425#32745425", "title": "Split string where the character changes", "body": "<p>When the <code>split</code> regexp includes a capture group, the return list also includes the values from these captures. You'll have to filter them out somehow.</p>\n\n<p>You want the same as the answer:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/32686837/perl-split-function-use-repeating-characters-as-delimiter/32693008#32693008\">Perl split function - use repeating characters as delimiter</a></p>\n"}, {"comments": [{"owner": {"reputation": 566, "user_id": 3897504, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d215da342703ef7754fb9a149070966b?s=128&d=identicon&r=PG&f=1", "display_name": "Eirik Birkeland", "link": "https://stackoverflow.com/users/3897504/eirik-birkeland"}, "edited": false, "score": 0, "creation_date": 1443031880, "post_id": 32745850, "comment_id": 53333854, "body": "Grep version works great, but the regex versions return something like <code>[1,2,3,3,3,2,1]</code> instead of the expected <code>[1,2,333,2,1]</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 566, "user_id": 3897504, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d215da342703ef7754fb9a149070966b?s=128&d=identicon&r=PG&f=1", "display_name": "Eirik Birkeland", "link": "https://stackoverflow.com/users/3897504/eirik-birkeland"}, "edited": false, "score": 0, "creation_date": 1443032566, "post_id": 32745850, "comment_id": 53334287, "body": "Oops, suppose to be <code>\\2</code> instead of <code>\\1</code>. Fixed."}, {"owner": {"reputation": 566, "user_id": 3897504, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d215da342703ef7754fb9a149070966b?s=128&d=identicon&r=PG&f=1", "display_name": "Eirik Birkeland", "link": "https://stackoverflow.com/users/3897504/eirik-birkeland"}, "edited": false, "score": 0, "creation_date": 1443032858, "post_id": 32745850, "comment_id": 53334447, "body": "Ah.. I should&#39;ve realized the outer parentheses would be <code>\\1</code> and inner <code>\\2</code>. Thanks for adding greatly to my arsenal!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 566, "user_id": 3897504, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d215da342703ef7754fb9a149070966b?s=128&d=identicon&r=PG&f=1", "display_name": "Eirik Birkeland", "link": "https://stackoverflow.com/users/3897504/eirik-birkeland"}, "edited": false, "score": 1, "creation_date": 1443033445, "post_id": 32745850, "comment_id": 53334778, "body": "Captures are numbered based on the order of their opening paren."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1443033515, "last_edit_date": 1443033515, "creation_date": 1443029329, "answer_id": 32745850, "question_id": 32745348, "link": "https://stackoverflow.com/questions/32745348/split-string-where-the-character-changes/32745850#32745850", "title": "Split string where the character changes", "body": "<p>When you use captures, they text they capture gets returned too. You could filter out these extra values.</p>\n\n<pre><code>my $i; my @matches = grep { ++$i % 2 } split /(?&lt;=(.))(?!\\1)/s, $str;\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>use List::Util qw( pairkeys );  # 1.29+\nmy @matches = pairkeys split /(?&lt;=(.))(?!\\1)/s, $str;\n</code></pre>\n\n<p>It's simpler to use a regex match.</p>\n\n<pre><code>my @matches; push @matches, $1 while $str =~ /((.)\\2*)/sg;\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>my $i; my @matches = grep { ++$i % 2 } $str =~ /((.)\\2*)/sg;\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>use List::Util qw( pairkeys );  # 1.29+\nmy @matches = pairkeys $str =~ /((.)\\2*)/sg;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443030147, "post_id": 32746021, "comment_id": 53332821, "body": "Interestingly, split checks at position zero, but ignores the result."}, {"owner": {"reputation": 100624, "user_id": 9410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17949267bbfe21a0fadf1bbf00592b4?s=128&d=identicon&r=PG", "display_name": "Aristotle Pagaltzis", "link": "https://stackoverflow.com/users/9410/aristotle-pagaltzis"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443758515, "post_id": 32746021, "comment_id": 53629353, "body": "It always ignores zero-width matches at the start of the string. Consider <code>split &#47;b*&#47;, &#39;abba&#39;</code> vs <code>split &#47;b*&#47;, &#39;abba&#39;, -1</code>. The pattern has a zero-width match at both ends of the string but there is no way to get the leading one out of <code>split</code>, only the trailing one."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443769117, "post_id": 32746021, "comment_id": 53632431, "body": "You missed my point. It&#39;s not the fact that it doesn&#39;t split at pos 0 that&#39;s interesting, it&#39;s that split checks for a match at pos 0 knowing that it won&#39;t split at pos 0."}, {"owner": {"reputation": 100624, "user_id": 9410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17949267bbfe21a0fadf1bbf00592b4?s=128&d=identicon&r=PG", "display_name": "Aristotle Pagaltzis", "link": "https://stackoverflow.com/users/9410/aristotle-pagaltzis"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454012359, "post_id": 32746021, "comment_id": 57865365, "body": "It doesn\u2019t necessarily know that. Consider <code>split &#47;b*&#47;, &#39;ba&#39;</code>. There is a width-1 separator at the start of the string, which <code>split</code> must skip. But the same pattern will have a zero-width match at the start of a string that starts with something else. So whether a pattern will produce zero-width matches may depend on the string. Therefore the only circumstance in which <code>split</code> can know that it won\u2019t split at pos 0 is if it\u2019s given a pattern that can <i>only</i> ever produce zero-width matches; in any other case, <code>split</code> has to check at pos 0. That may be too narrow a special case to be worthwhile."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1454013670, "post_id": 32746021, "comment_id": 57866132, "body": "Re &quot;is if it\u2019s given a pattern that can only ever produce zero-width matches&quot;, oh, right. (<code>perl -E&#39;say for split &#47;[ab]&#47;, &quot;abc&quot;;&#39;</code> splits at 0.)"}], "tags": [], "owner": {"reputation": 100624, "user_id": 9410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17949267bbfe21a0fadf1bbf00592b4?s=128&d=identicon&r=PG", "display_name": "Aristotle Pagaltzis", "link": "https://stackoverflow.com/users/9410/aristotle-pagaltzis"}, "is_accepted": false, "score": 2, "last_activity_date": 1443029898, "creation_date": 1443029898, "answer_id": 32746021, "question_id": 32745348, "link": "https://stackoverflow.com/questions/32745348/split-string-where-the-character-changes/32746021#32746021", "title": "Split string where the character changes", "body": "<p>This will do what you want, but you almost certainly shouldn\u2019t use it:</p>\n\n<pre><code>split /(??{ (substr $_, (pos)-1, 1) eq (substr $_, pos, 1) ? '(?!)' : '' })/, $str\n</code></pre>\n"}], "owner": {"reputation": 566, "user_id": 3897504, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d215da342703ef7754fb9a149070966b?s=128&d=identicon&r=PG&f=1", "display_name": "Eirik Birkeland", "link": "https://stackoverflow.com/users/3897504/eirik-birkeland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "accepted_answer_id": 32745419, "answer_count": 4, "score": 1, "last_activity_date": 1443033515, "creation_date": 1443027601, "question_id": 32745348, "link": "https://stackoverflow.com/questions/32745348/split-string-where-the-character-changes", "title": "Split string where the character changes", "body": "<p>I want to create an array that splits whenever a character stops repeating. My current code is:</p>\n\n<pre><code>my $str = \"1233345abcdde\";\nprint \"$_,\" for split /(?&lt;=(.))(?!\\1)/, $str;\n</code></pre>\n\n<p>This returns: <code>1,1,2,2,333,3,4,4,5,5,a,a,b,b,c,c,dd,d,e,e,</code></p>\n\n<p>However, what I really want is:\n<code>1,2,333,4,5,a,b,c,dd,e,</code>, i.e. without the duplicate chars.</p>\n\n<p>What's wrong? I suspect the problem has to do with the nature of lookarounds, but I can't pin it down ...</p>\n"}, {"tags": ["perl", "utf-8", "perl-module"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443026873, "post_id": 32744994, "comment_id": 53331062, "body": "What are you trying to accomplish? Just switching on <code>utf8;</code> by default isn&#39;t as simple as it sounds."}, {"owner": {"reputation": 2860, "user_id": 1975049, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cs535.jpg?s=128&g=1", "display_name": "Patrick B&#246;ker", "link": "https://stackoverflow.com/users/1975049/patrick-b%c3%b6ker"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443027242, "post_id": 32744994, "comment_id": 53331269, "body": "I want <code>use utf8;</code> so I can use non ASCII chars in variable names (german umlauts in my case). I do admit, that I have not understood <a href=\"http://stackoverflow.com/a/6163129/1975049\">the world of unicode in Perl</a> in its entirety."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443027334, "post_id": 32744994, "comment_id": 53331327, "body": "This might be relevant reading then: <a href=\"https://stackoverflow.com/questions/6162484/why-does-modern-perl-avoid-utf-8-by-default\" title=\"why does modern perl avoid utf 8 by default\">stackoverflow.com/questions/6162484/&hellip;</a>"}, {"owner": {"reputation": 2860, "user_id": 1975049, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cs535.jpg?s=128&g=1", "display_name": "Patrick B&#246;ker", "link": "https://stackoverflow.com/users/1975049/patrick-b%c3%b6ker"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443028521, "post_id": 32744994, "comment_id": 53331989, "body": "Shame on me... I had a typo in <code>use ProLogue;</code>. I am on Windows, which is case insensitive and did not report the error. Should this question better be deleted?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1443029225, "post_id": 32744994, "comment_id": 53332315, "body": "@patszim It actually can&#39;t be deleted because it&#39;s got an upvoted answer. I would make your last comment an answer in the off chance that someone else in the future has a similar issue."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1443032029, "post_id": 32744994, "comment_id": 53333948, "body": "See <a href=\"http://stackoverflow.com/questions/30814892/how-can-i-export-a-list-of-modules-with-my-own-module\">How can I export a list of modules with my own module?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1443029027, "last_edit_date": 1443029027, "creation_date": 1443027596, "answer_id": 32745346, "question_id": 32744994, "link": "https://stackoverflow.com/questions/32744994/perl-how-can-i-inject-the-utf-8-pragma-in-a-boilerplate-module/32745346#32745346", "title": "Perl: How can I inject the UTF-8 pragma in a boilerplate module?", "body": "<p>Works for me.</p>\n\n<pre><code>$ cat Prologue.pm\npackage Prologue;\nrequire utf8;\nsub import { utf8-&gt;import }\n1;\n\n$ cat a.pl\n$_ = \"\u00e9\";\nCORE::say(sprintf(\"%vX\", $_));\nuse Prologue;\n$_ = \"\u00e9\";\nCORE::say(sprintf(\"%vX\", $_));\n\n$ perl a.pl\nC3.A9\nE9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 0, "last_activity_date": 1443446856, "last_edit_date": 1495541040, "creation_date": 1443105061, "answer_id": 32764054, "question_id": 32744994, "link": "https://stackoverflow.com/questions/32744994/perl-how-can-i-inject-the-utf-8-pragma-in-a-boilerplate-module/32764054#32764054", "title": "Perl: How can I inject the UTF-8 pragma in a boilerplate module?", "body": "<p><em>(Self-answered by <a href=\"https://stackoverflow.com/users/1975049/patszim\">patszim</a>)</em></p>\n\n<p><a href=\"https://stackoverflow.com/a/32745346\">As pointed out by ikegami</a> this does work as expected. My failure was a typo in the <code>use</code> statement: <code>use ProLogue;</code> with a capital \"L\" instead of <code>use Prologue;</code>. On my case-insensitive Windows system this causes Perl to silently not import the Prologue module.</p>\n\n<p>The silent import failure on Windows now has a <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=126167\" rel=\"nofollow noreferrer\">bug report</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2860, "user_id": 1975049, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cs535.jpg?s=128&g=1", "display_name": "Patrick B&#246;ker", "link": "https://stackoverflow.com/users/1975049/patrick-b%c3%b6ker"}, "is_accepted": false, "score": 0, "last_activity_date": 1452036637, "creation_date": 1452036637, "answer_id": 34623145, "question_id": 32744994, "link": "https://stackoverflow.com/questions/32744994/perl-how-can-i-inject-the-utf-8-pragma-in-a-boilerplate-module/34623145#34623145", "title": "Perl: How can I inject the UTF-8 pragma in a boilerplate module?", "body": "<p><em>This is not a direct answer but a pointer for people trying to create their own boilerplate modules.</em></p>\n\n<p>The <a href=\"https://metacpan.org/pod/Import::Into\" rel=\"nofollow\">Import::Into</a> module can import arbitrary modules into other packages. It has a very good explanation of what can go wrong and what to do about it: <a href=\"https://metacpan.org/pod/Import::Into#WHY-USE-THIS-MODULE\" rel=\"nofollow\">Why to use this module?</a> I myself did not use that module but copied the respective tricks into my boilerplate module.</p>\n"}], "owner": {"reputation": 2860, "user_id": 1975049, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cs535.jpg?s=128&g=1", "display_name": "Patrick B&#246;ker", "link": "https://stackoverflow.com/users/1975049/patrick-b%c3%b6ker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 32745346, "answer_count": 3, "score": 2, "last_activity_date": 1452036637, "creation_date": 1443026382, "last_edit_date": 1443105050, "question_id": 32744994, "link": "https://stackoverflow.com/questions/32744994/perl-how-can-i-inject-the-utf-8-pragma-in-a-boilerplate-module", "title": "Perl: How can I inject the UTF-8 pragma in a boilerplate module?", "body": "<p>I have a Perl boilerplate module similar to <a href=\"https://metacpan.org/pod/distribution/common-sense/sense.pod\" rel=\"nofollow\">common::sense</a> or <a href=\"https://metacpan.org/pod/Modern::Perl\" rel=\"nofollow\">Modern::Perl</a>.\nIt's roughly a rip off of Modern::Perl. It looks like this (shortened to keep this question concise):</p>\n\n<pre><code>package Prologue;\n\nuse strict;\nuse feature  ();\nuse utf8;\n\nsub import {\n    strict  -&gt;import;\n    feature -&gt;import( ':5.20', 'signatures' );\n    utf8    -&gt;import;\n}\n1;\n</code></pre>\n\n<p>All in all this works fine. Except for the UTF-8 pragma. Manually adding <code>use utf8;</code> in the calling code has the desired effect.</p>\n\n<p>So how can I inject the UTF-8 pragma into the calling code?</p>\n"}, {"tags": ["perl", "for-loop", "hash", "split", "scope"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1443026958, "post_id": 32744979, "comment_id": 53331101, "body": "Unless you need the <code>@config_pairs</code> later, you should read and split in one loop, saving space."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443027051, "post_id": 32744979, "comment_id": 53331156, "body": "Maybe: <code>my %config_data = map { chomp; split &#47;\\s*=\\s*&#47; } &lt;$fh&gt;;</code>? But I&#39;m not sure that&#39;ll help a newcomer to perl &quot;grok&quot; it :)"}, {"owner": {"reputation": 43, "user_id": 5368641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17379c8b277e7eb263ce028e840b84f?s=128&d=identicon&r=PG&f=1", "display_name": "Max G.", "link": "https://stackoverflow.com/users/5368641/max-g"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1443027259, "post_id": 32744979, "comment_id": 53331277, "body": "@JonathanLeffler Yes that would be much cleaner. Thanks!"}, {"owner": {"reputation": 83, "user_id": 3745552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9918dee92bb212a3549c1cb52adc5d85?s=128&d=identicon&r=PG&f=1", "display_name": "doomsday", "link": "https://stackoverflow.com/users/3745552/doomsday"}, "edited": false, "score": 0, "creation_date": 1443039708, "post_id": 32744979, "comment_id": 53338256, "body": "Just a quick note: Perl is a context based language. Your line &quot;%config_data{$key} = $value;&quot; is using the modulus sign, which implies that in this context &quot;%config_data{$key}&#39; is going to be a map, when in reality it is a scalar. (A scalar into which you are inserting $value.)  If you change your &#39;%&#39; to a &#39;$&#39; that line will become functionally correct. Whether this will fix your other issues I can&#39;t say for certain."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1443026725, "post_id": 32745037, "comment_id": 53330987, "body": "One of the biggest &quot;gotchas&quot; with perl - the sigil denotes what you&#39;re expecting to get <i>out</i>. So <code>@array</code> is a list of values. <code>$array[1]</code> is a single scalar, as is <code>$hash{&#39;some_key&#39;}</code>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1443026774, "post_id": 32745037, "comment_id": 53331012, "body": "@Sobrique: That&#39;s why it&#39;s gone in Perl6."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1443026871, "post_id": 32745037, "comment_id": 53331061, "body": "@Sobrique: No need to hurry :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443026954, "post_id": 32745037, "comment_id": 53331098, "body": "Might want to mention that <code>for my $k (%config_data) {</code> probably needs <code>keys</code> in there too."}, {"owner": {"reputation": 43, "user_id": 5368641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17379c8b277e7eb263ce028e840b84f?s=128&d=identicon&r=PG&f=1", "display_name": "Max G.", "link": "https://stackoverflow.com/users/5368641/max-g"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443027103, "post_id": 32745037, "comment_id": 53331180, "body": "@Sobrique thanks for the explanation of why this worked. Makes a lot more sense now!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 9, "last_activity_date": 1443027075, "last_edit_date": 1443027075, "creation_date": 1443026585, "answer_id": 32745037, "question_id": 32744979, "link": "https://stackoverflow.com/questions/32744979/scope-issue-with-for-loops/32745037#32745037", "title": "Scope issue with for loops", "body": "<p>I'm getting different messages when running the script:</p>\n\n<pre><code>Can't modify key/value hash slice in list assignment at ./1.pl line 19, near \"$value;\"\nGlobal symbol \"$key\" requires explicit package name (did you forget to declare \"my $key\"?) at ./1.pl line 23.\nExecution of ./1.pl aborted due to compilation errors.\n</code></pre>\n\n<p>To refer to a single hash value, change the sigil from <code>%</code> to <code>$</code> (think \"plural\" versus \"singular\"):</p>\n\n<pre><code>$config_data{$key} = $value;\n# ...\nprint \"$k is $config_data{$k}\";\n</code></pre>\n\n<p>Also, <code>$k</code> and <code>$key</code> are different variables (you seem to have fixed this in the meantime).</p>\n\n<p>To iterate over a hash, use <a href=\"http://p3rl.org/keys\" rel=\"noreferrer\">keys</a>:</p>\n\n<pre><code>for my $k (keys %config_data) {\n</code></pre>\n\n<p>Otherwise, you'll loop over the values, too.</p>\n"}], "owner": {"reputation": 43, "user_id": 5368641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17379c8b277e7eb263ce028e840b84f?s=128&d=identicon&r=PG&f=1", "display_name": "Max G.", "link": "https://stackoverflow.com/users/5368641/max-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1310, "favorite_count": 0, "accepted_answer_id": 32745037, "answer_count": 1, "score": 4, "last_activity_date": 1443027075, "creation_date": 1443026316, "question_id": 32744979, "link": "https://stackoverflow.com/questions/32744979/scope-issue-with-for-loops", "title": "Scope issue with for loops", "body": "<p>I am new to perl, and am having some scope or syntax issues.</p>\n\n<p>I am trying to write a piece of code that reads lines from a file, splits them up at a certain delimiter into two pieces, and then stores each half as a key value pair in a hash. This is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $filename = $ARGV[0];\n\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n  or die \"Could not open file '$filename' $!\";\n\nmy @config_pairs;\nwhile (my $row = &lt;$fh&gt;) {\n  chomp ($row);\n  push (@config_pairs, $row);\n}\n\nmy %config_data;\nfor my $pair (@config_pairs) {\n  my ($key, $value) = split(/\\s*=\\s*/, $pair);\n  %config_data{$key} = $value;\n}\n\nfor my $k (%config_data) {\n  print \"$k is %config_data{$k}\";\n}\n</code></pre>\n\n<p>When I try and run this I get:</p>\n\n<pre><code>$ perl test_config_reader.pl --config.txt\n\"my\" variable %config_data masks earlier declaration in same scope at test_email_reader.pl line 22.\nsyntax error at test_config_reader.pl line 19, near \"%config_data{\"\nGlobal symbol \"$value\" requires explicit package name at test_email_reader.pl line 19.\nExecution of test_config_reader.pl aborted due to compilation errors.\n</code></pre>\n\n<p>I am not sure what I am doing wrong. Clearly I don't understand how perl works yet.</p>\n"}, {"tags": ["c#", "perl"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5368512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac3c1a8109494e9b3cfe2f471d914b1?s=128&d=identicon&r=PG&f=1", "display_name": "user201706", "link": "https://stackoverflow.com/users/5368512/user201706"}, "edited": false, "score": 0, "creation_date": 1443024096, "post_id": 32744257, "comment_id": 53329433, "body": "I am quite new to perl, is that a way that you can assign ARG1 and ARG2 to different variables in perl\uff1f"}, {"owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "reply_to_user": {"reputation": 39, "user_id": 5368512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac3c1a8109494e9b3cfe2f471d914b1?s=128&d=identicon&r=PG&f=1", "display_name": "user201706", "link": "https://stackoverflow.com/users/5368512/user201706"}, "edited": false, "score": 0, "creation_date": 1443024211, "post_id": 32744257, "comment_id": 53329512, "body": "<code>@ARGV</code> is an array of comand line args provided when the script executed. See e.g. <a href=\"http://perlmaven.com/argv-in-perl\" rel=\"nofollow noreferrer\">perlmaven.com/argv-in-perl</a>"}, {"owner": {"reputation": 39, "user_id": 5368512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac3c1a8109494e9b3cfe2f471d914b1?s=128&d=identicon&r=PG&f=1", "display_name": "user201706", "link": "https://stackoverflow.com/users/5368512/user201706"}, "edited": false, "score": 0, "creation_date": 1443030626, "post_id": 32744257, "comment_id": 53333126, "body": "Hello rbm, I just pasted the code and still it does not work. Thx"}], "tags": [], "owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "is_accepted": false, "score": 0, "last_activity_date": 1443023872, "creation_date": 1443023872, "answer_id": 32744257, "question_id": 32744197, "link": "https://stackoverflow.com/questions/32744197/c-call-perl-and-passing-values/32744257#32744257", "title": "C# call perl and passing values", "body": "<p>Just pass in the arguments as</p>\n\n<pre><code>string arguments = @\"C:\\Users\\Desktop\\test.pl ARG1 ARG2\";\n</code></pre>\n\n<p>(and then you can access them in Perl using <code>@ARGV</code>)</p>\n"}, {"comments": [{"owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "edited": false, "score": 0, "creation_date": 1443039411, "post_id": 32746245, "comment_id": 53338088, "body": "Look at your <code>arguments</code> variable in c# code. You need spaces after filename <code>old.pl aa bb</code>"}], "tags": [], "owner": {"reputation": 39, "user_id": 5368512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac3c1a8109494e9b3cfe2f471d914b1?s=128&d=identicon&r=PG&f=1", "display_name": "user201706", "link": "https://stackoverflow.com/users/5368512/user201706"}, "is_accepted": false, "score": 1, "last_activity_date": 1443030583, "creation_date": 1443030583, "answer_id": 32746245, "question_id": 32744197, "link": "https://stackoverflow.com/questions/32744197/c-call-perl-and-passing-values/32746245#32746245", "title": "C# call perl and passing values", "body": "<p>this is my c# code and perl code. to simplify, it just passes two variable and print to txt file. </p>\n\n<p>namespace testperl</p>\n\n<p>{</p>\n\n<pre><code>class Program\n\n{\n\n    static void Main(string[] args)\n    {\n        string fullPath = @\"C:\\Perl64\\bin\\perl.exe\";\n\n        string arguments = @\"C:\\Users\\Desktop\\old.pl\"+\"aa\" + \"bb\";\n\n        Process myProcess = Process.Start(fullPath, arguments);\n\n        myProcess.WaitForExit(999);\n\n        if (!myProcess.HasExited)\n        {\n\n            myProcess.Kill();\n\n            throw new Exception(\"Timed out while running process\");\n\n        }\n\n        Console.WriteLine(\"all set\");\n\n        Console.ReadKey();\n\n    }\n}\n</code></pre>\n\n<h2>the perl code:</h2>\n\n<pre><code>use strict;\n\nuse warnings;\n\nuse Carp;\n\nuse English qw(-no_match_vars);\n\nmy $files = 'report.txt';\n\nif (-f $files) {\nunlink $files\n    or croak \"Cannot delete $files: $!\";\n}\n\nmy $OUTFILE;\n\nmy ($name, $number) = @ARGV;\n\nif (not defined $name) {\n\n   die \"Need name\\n\";\n }\n\n\n open $OUTFILE, '&gt;&gt;', $files\n\n or croak \"Cannot open $files: $OS_ERROR\";\n\n if (defined $number) {\n\n    print { $OUTFILE } \"thing, $name \\n\"\n\n    or croak \"Cannot write to $files: $OS_ERROR\";\n</code></pre>\n\n<p>}</p>\n\n<pre><code>   close $OUTFILE\n\n   or croak \"Cannot close $files: $OS_ERROR\";\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5368512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac3c1a8109494e9b3cfe2f471d914b1?s=128&d=identicon&r=PG&f=1", "display_name": "user201706", "link": "https://stackoverflow.com/users/5368512/user201706"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1443030583, "creation_date": 1443023680, "last_edit_date": 1443023733, "question_id": 32744197, "link": "https://stackoverflow.com/questions/32744197/c-call-perl-and-passing-values", "title": "C# call perl and passing values", "body": "<p>Hello I have a question with perl. </p>\n\n<p>Now I have a code that calls a perl code from c#. Now what if I need to pass some values to perl code?</p>\n\n<pre><code>string arguments = @\"C:\\Users\\Desktop\\test.pl\";\n\nProcess myProcess = Process.Start(fullPath, arguments);\n\nmyProcess.WaitForExit(999);\n\nif (!myProcess.HasExited)\n{\n\n  myProcess.Kill();\n\n  throw new Exception(\"Timed out while running process\");\n\n}\n</code></pre>\n\n<p>thank you very much</p>\n"}, {"tags": ["perl", "interpolation", "perl-critic"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1443023124, "post_id": 32743868, "comment_id": 53328739, "body": "perlcritic can always be &quot;fixed&quot; by adding <code>## no critic</code> to the offending line"}, {"owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 3, "creation_date": 1443023231, "post_id": 32743868, "comment_id": 53328826, "body": "... specifically: <code>my $result = eval $rule; ## no critic (ProhibitStringyEval);</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1443023462, "post_id": 32743868, "comment_id": 53328974, "body": "By the way, that <code>|</code> (bitwise-or) should probably be <code>||</code> (logical-or)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1443023678, "post_id": 32743868, "comment_id": 53329145, "body": "By the way, <code>${hasTwitter}</code> is a very weird way of writing <code>$hasTwitter</code>"}, {"owner": {"reputation": 55, "user_id": 5202634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d6203850639313bdb68226463685af2?s=128&d=identicon&r=PG", "display_name": "Albert", "link": "https://stackoverflow.com/users/5202634/albert"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443079272, "post_id": 32743868, "comment_id": 53350736, "body": "@ikegami You are right, it works without {} and with ||. I don&#39;t remember why I changed that, some of my tests failed without the {} and the bitwise-or. I&#39;ll check it out."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1443023190, "creation_date": 1443023190, "answer_id": 32744026, "question_id": 32743868, "link": "https://stackoverflow.com/questions/32743868/avoid-perlcritic-when-interpolating-variables-with-eval/32744026#32744026", "title": "Avoid PerlCritic when interpolating variables with eval", "body": "<p>Perlcritic is not the ultimate authority. If you know what you're doing and why, just disable the given \"sin\" (either globally in the configuration, or by adding <code>## no critic</code> to the offending line).</p>\n\n<p>In this case, you can use double quotes instead of single quotes and verify there are only zeros and ones in the resulting strings before evaluating them. Implementing a parser and evaluator of logic formulas is not that hard, either.</p>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 5202634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d6203850639313bdb68226463685af2?s=128&d=identicon&r=PG", "display_name": "Albert", "link": "https://stackoverflow.com/users/5202634/albert"}, "edited": false, "score": 1, "creation_date": 1443081636, "post_id": 32744039, "comment_id": 53351938, "body": "I knew I can turn them off, just wanted to know if the given code could be changed somehow to avoid the PerlCritic warning"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1443023252, "creation_date": 1443023252, "answer_id": 32744039, "question_id": 32743868, "link": "https://stackoverflow.com/questions/32743868/avoid-perlcritic-when-interpolating-variables-with-eval/32744039#32744039", "title": "Avoid PerlCritic when interpolating variables with eval", "body": "<p>You <a href=\"https://metacpan.org/pod/Perl::Critic#BENDING-THE-RULES\" rel=\"noreferrer\">can turn individual Perl::Critic rules off</a> for specific blocks. Add a comment like this. Note the double comment <code>##</code> is on purpose.</p>\n\n<pre><code>my $rule   = '${hasTwitter} | ${validEmail}';\n\n## no critic 'ProhibitStringyEval'\nmy $result = eval $rule;\n</code></pre>\n\n<p>As this works per block, you will want to do it in the smallest possible scope, just like a <code>use</code> or <code>no</code>.</p>\n\n<p>It makes sense to explain in a comment why you did that. Usually your team would have good reasons to pick the rules, and you should only turn them off if you have a better reason for your specific case.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1443027298, "post_id": 32744214, "comment_id": 53331301, "body": "If the config-file should define new rules, that will not actually help. I believe there is an example in <i>Higher Order Perl</i> for pretty much exactly that, though."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1443027714, "post_id": 32744214, "comment_id": 53331558, "body": "@simbabque, That&#39;s why I didn&#39;t say &quot;you should use the following&quot;. In such a situation, it would be best to create a rule-defining language. A config file is no place for Perl code."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 7, "last_activity_date": 1443024548, "last_edit_date": 1443024548, "creation_date": 1443023720, "answer_id": 32744214, "question_id": 32743868, "link": "https://stackoverflow.com/questions/32743868/avoid-perlcritic-when-interpolating-variables-with-eval/32744214#32744214", "title": "Avoid PerlCritic when interpolating variables with eval", "body": "<p>The critic is there to make you think: Is there a reason for the expression to be there as a string? Can it be avoided given the numerous pitfalls and high security risks? Or rather, are the risks and problems worth avoiding a little work?</p>\n\n<p>For starters, could you have used the following?</p>\n\n<pre><code>my $rule = sub { $hasTwitter || $validEmail };\n\nmy $result = $rule-&gt;();\n</code></pre>\n\n<p>Or maybe</p>\n\n<pre><code>my $rule = 'has_twitter_or_email';\n\nmy %rules = (\n   has_twitter_or_email =&gt; sub { $hasTwitter || $validEmail },\n);\nmy $result = $rules{$rule}-&gt;();\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5202634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d6203850639313bdb68226463685af2?s=128&d=identicon&r=PG", "display_name": "Albert", "link": "https://stackoverflow.com/users/5202634/albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1443024548, "creation_date": 1443022696, "last_edit_date": 1443023267, "question_id": 32743868, "link": "https://stackoverflow.com/questions/32743868/avoid-perlcritic-when-interpolating-variables-with-eval", "title": "Avoid PerlCritic when interpolating variables with eval", "body": "<p><a href=\"https://metacpan.org/pod/perlcritic\" rel=\"nofollow\">perlcritic</a> is complaining with <em>Expression form of \"eval\" [BuiltinFunctions::ProhibitStringyEval]</em> on the first eval line from the code below:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw/say/;\n\nmy $hasTwitter = 1;\nmy $validEmail = 0;\n\nmy $rule   = '${hasTwitter} | ${validEmail}';\nmy $result = eval $rule;\nsay \"Result -&gt;  $result\";\n\n$result = eval { $rule };\nsay \"Result -&gt; $result\";\n</code></pre>\n\n<p>I tried to use eval {} to fix the perlCritic but then It does not return the expected result.</p>\n\n<p>The response is:</p>\n\n<pre><code>Result -&gt;  1\nResult -&gt; ${hasTwitter} | ${validEmail}\n</code></pre>\n\n<p>Is there a workaround using the string interpolation? The idea is to have a set of rules on a configuration file and let the code read and eval them.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["linux", "perl", "filesystems", "delete-file", "delete-directory"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 5, "creation_date": 1443022649, "post_id": 32743817, "comment_id": 53328449, "body": "<code>rm -rf &lt;toplevel-foldername&gt;</code>"}, {"owner": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 1, "creation_date": 1443023475, "post_id": 32743817, "comment_id": 53328984, "body": "It won&#39;t get much faster than <code>rm</code>"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 2, "creation_date": 1443023697, "post_id": 32743817, "comment_id": 53329161, "body": "Using <code>rm</code> as Hunter shows would be the fastest, but if you want a more portable perl solution, then you could use the <code>remove_tree()</code> function from the <a href=\"http://search.cpan.org/~riche/File-Path-2.11/lib/File/Path.pm\" rel=\"nofollow noreferrer\">File::Path</a> module."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1443024532, "creation_date": 1443024532, "answer_id": 32744485, "question_id": 32743817, "link": "https://stackoverflow.com/questions/32743817/absolute-fastest-way-to-recursively-delete-all-files-and-folders-in-a-given-path/32744485#32744485", "title": "Absolute fastest way to recursively delete all files and folders in a given path. Linux", "body": "<p>It's not going to make much difference either way - CPUs are fast, disks are slow. Most of the work - however you do it - will be the traverse and unlink system calls.</p>\n\n<p>There's not really a way to speed that up (well, short of maybe just initialising/quickformatting your disk and starting over). </p>\n"}], "owner": {"reputation": 166, "user_id": 4004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fae2a39dac358353733c41ca49291e8?s=128&d=identicon&r=PG", "display_name": "StoneISStephan", "link": "https://stackoverflow.com/users/4004486/stoneisstephan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1193, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1443024532, "creation_date": 1443022556, "question_id": 32743817, "link": "https://stackoverflow.com/questions/32743817/absolute-fastest-way-to-recursively-delete-all-files-and-folders-in-a-given-path", "title": "Absolute fastest way to recursively delete all files and folders in a given path. Linux", "body": "<p>I am looking for the absolute fastest method of performing unlink and rmdir commands on a path containing millions of files and thousands of folders.</p>\n\n<p>I have found following perl one-liner, but this does not recurse and also performs a stat before each unlink (this is unnecessary):</p>\n\n<pre><code>perl -e 'for(&lt;*&gt;){((stat)[9]&lt;(unlink))}'\n</code></pre>\n"}, {"tags": ["r", "perl"], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 3199995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ql801.jpg?s=128&g=1", "display_name": "asshah4", "link": "https://stackoverflow.com/users/3199995/asshah4"}, "edited": false, "score": 0, "creation_date": 1443020343, "post_id": 32742719, "comment_id": 53326812, "body": "Howdy, thanks! I had to read up on dereferencing in Perl \u2014 declaring variables is tricker than I thought. Your answer was very straightforward, I appreciate it."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1443019540, "creation_date": 1443019540, "answer_id": 32742719, "question_id": 32742571, "link": "https://stackoverflow.com/questions/32742571/send-vector-from-r-to-perl/32742719#32742719", "title": "Send vector from R to Perl", "body": "<p>Looks like <code>$output</code> isn't an array, but is an array reference.</p>\n\n<p>Try dereferencing it:</p>\n\n<pre><code>print @$output;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>use Data::Dumper;\nprint $output;\n</code></pre>\n\n<p>Which will display the contents. You'll need to iterate the array to do anything constructive with it though:</p>\n\n<pre><code>print join (\"\\n\", @$output ),\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 164, "user_id": 3199995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ql801.jpg?s=128&g=1", "display_name": "asshah4", "link": "https://stackoverflow.com/users/3199995/asshah4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 32742719, "answer_count": 1, "score": 2, "last_activity_date": 1443019540, "creation_date": 1443019088, "question_id": 32742571, "link": "https://stackoverflow.com/questions/32742571/send-vector-from-r-to-perl", "title": "Send vector from R to Perl", "body": "<p>I'm stuck on passing data from R to Perl. I'm using the Statistics::R CPAN module.</p>\n\n<p>test.R</p>\n\n<p><code>a &lt;- c(1:10)</code></p>\n\n<p>test.pl  </p>\n\n<pre><code>my $R=Statistics::R-&gt;new();\n$R-&gt;run_from_file(q'test.R');\nmy $output = $R-&gt;get('a');\nprint \"Variable a = $output\\n\";\n</code></pre>\n\n<p>This works fine if the variable in R is single value. However, I cannot pass a vector. I'm most likely missing a simple concept, but could not find any documentation or other questions here. The resulting text spits out, to me, nonsense. <code>Variable a = ARRAY(0x7fcbd9b26ff8)</code></p>\n\n<p>My ugly alternative is to have R write out a text file with the information, and have Perl read the parse the text back in. There must be a simpler way.</p>\n\n<hr>\n\n<p>This is the simplified version. I'd like to send a list/vector of string values to Perl that will be variable based on user-input. My current project is set up so that Perl is the interface (I'm not the best with Perl) and R is dynamically interacting with the database. </p>\n"}, {"tags": ["json", "perl", "csv"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 5, "creation_date": 1443018764, "post_id": 32742346, "comment_id": 53325594, "body": "Unrelated to your problem: You should have double quotes, not single quotes, in <code>die &#39;$! error trying to read&#39;</code>.  As is, you will get <code>$!</code> instead of the value of the variable if those errors happen."}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1443019899, "post_id": 32742346, "comment_id": 53326482, "body": "Sorry - didn&#39;t mention - I get errors that $asset_ip is undefined when I run the script."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1443019955, "post_id": 32742346, "comment_id": 53326531, "body": "Quoting the error message (and line number) helps diagnose. As does some sample source data. Presumably this is the JSON you&#39;re using? <a href=\"http://stackoverflow.com/questions/32737301/accessing-nested-json-elements-in-perl\" title=\"accessing nested json elements in perl\">stackoverflow.com/questions/32737301/&hellip;</a> Do you have some sample CSV data?"}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1443020890, "post_id": 32742346, "comment_id": 53327219, "body": "I didn&#39;t think it was necessary to include sample data. Simply put, $asset_ip is defined as an ip address in the outer loop, but once in the inner loop it is undefined. The second loop iterates the correct number of times for the number of lines in the CSV file."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443021360, "post_id": 32742346, "comment_id": 53327561, "body": "Without the sample data, we can&#39;t reproduce the problem, and thus are left guessing as to which line is causing it, and how. That&#39;s why we usually request a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - there&#39;s no clear reason why it&#39;s becoming undefined or <i>where</i> it&#39;s becoming undefined.  But there is a clear logic error around reading/re-reading <code>$csv_fh</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443022162, "post_id": 32742346, "comment_id": 53328150, "body": "Be aware - you&#39;re potentially recycling <code>@fields</code> if the line doesn&#39;t parse correctly."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443022531, "post_id": 32742346, "comment_id": 53328378, "body": "The edit has improved matters. The only way I can think of why that <i>might</i> he happening is down to your JSON. Is there any chance your JSON has more than 3 elements in top level array?"}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1443023173, "post_id": 32742346, "comment_id": 53328782, "body": "My JSON will only ever be like in my second edit, no more than 3 elements."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443025741, "post_id": 32742346, "comment_id": 53330470, "body": "Lovely. With that data I can reproduce the error. Bear with me."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443025997, "post_id": 32742346, "comment_id": 53330614, "body": "@Jamie - ok - found your problem. It&#39;s this: <code>[{&quot;id&quot;:1001,&quot;interfaces&quot;:[]},</code> - id <code>1001</code> doesn&#39;t have any interfaces, so <code>$asset_ip</code> <i>is</i> undefined."}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1443027238, "post_id": 32742346, "comment_id": 53331266, "body": "Sobrique, that is correct, it is undefined in that instance.   If I surround my last if statement with if (defined $asset_ip) { }, the result is nothing is output. I would expect that the test would skip the line with no interfaces, and continue as normal to the other lines? Edit: didn&#39;t see your answer edit, will go through that now, thanks."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443027409, "post_id": 32742346, "comment_id": 53331375, "body": "It does, but you&#39;ve already read <code>$csv_fh</code> to the end of file, so the loop doesn&#39;t execute at all."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1443019386, "post_id": 32742634, "comment_id": 53326054, "body": "I was just writing a witty comment in the <i>edit summary</i>... :("}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1443019668, "post_id": 32742634, "comment_id": 53326311, "body": "I&#39;ll just imagine something hilarious and insightful."}, {"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1443019839, "post_id": 32742634, "comment_id": 53326446, "body": "In general, <i>if</i> you have to iterate over the contents of a file multiple times anyway, re-reading the file may not really be such a bad idea, since the OS will cache the data anyway. But in this case, of course, much more efficient single-pass algorithms exist."}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1443027556, "post_id": 32742634, "comment_id": 53331458, "body": "Excellent description"}, {"owner": {"reputation": 111, "user_id": 4506221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e40HC.jpg?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4506221/steven"}, "reply_to_user": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1443047871, "post_id": 32742634, "comment_id": 53341805, "body": "@Ilmari Karonen: the OS may cache the contents, and probably Perl&#39;s own I/O layer will do some buffering, but with enough data in the file, you&#39;ll see repeated read() system calls, resulting in unnecessary kernel context switches... Sorry for the nitpicking. ;-)"}, {"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "reply_to_user": {"reputation": 111, "user_id": 4506221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e40HC.jpg?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4506221/steven"}, "edited": false, "score": 0, "creation_date": 1443050531, "post_id": 32742634, "comment_id": 53342617, "body": "@Steven: Well, I started it. ;-) And you&#39;re right that re-reading the file is most likely not the most efficient method. I&#39;m just saying that it may not be <i>quite</i> as bad as one might first assume, since the later passes over the file will likely be (potentially much) faster than the first, if the file is small enough to fit in the disk cache. And it does have the advantage that, if the file is <i>not</i> small enough to fit in memory, reading it several times from disk is quite likely to be faster than trying to slurp it all at once and being forced to swap as a consequence."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1443026592, "last_edit_date": 1443026592, "creation_date": 1443019290, "answer_id": 32742634, "question_id": 32742346, "link": "https://stackoverflow.com/questions/32742346/perl-variable-becoming-undefined-in-loop/32742634#32742634", "title": "Perl variable becoming undefined in loop", "body": "<p>I think your problem will be this:</p>\n\n<pre><code>foreach my $line (&lt;$csv_fh&gt;) {\n</code></pre>\n\n<p>You execute this within our outer loop. But when you do this, your <code>$csv_fh</code> ends up at the end of file. </p>\n\n<p>Once you have done this, subsequent iterations of your <em>outer</em> loop will not execute this inner loop, because there's nothing left for it to read from <code>$csv_fh</code>. </p>\n\n<p>An easy test if this is your problem is to add a <code>seek</code> e.g. <code>seek ( $csv_fh, 0, 0 );</code>.</p>\n\n<p>But this isn't an efficient thing to do, because then you'll be looping through the file multiple times - you should instead read it into a data structure and use that. </p>\n\n<p>Edit: Here is your problem:</p>\n\n<pre><code>[{\"id\":1001,\"interfaces\":[]},{\"id\":1003,\"interfaces\":[{\"ip_addresses\":[{\"value\":\"192.168.0.2\"}]}]},{\"id\":1004,\"interfaces\":[{\"ip_addresses\":[{\"value\":\"192.168.0.3\"}]}]},{\"id\":1005,\"interfaces\":[{\"ip_addresses\":[{\"value\":\"192.168.0.4\"}]}]}]\n</code></pre>\n\n<p>And specifically:</p>\n\n<pre><code>[{\"id\":1001,\"interfaces\":[]}\n</code></pre>\n\n<p>Your <em>first</em> element in that array doesn't have a <code>$asset_ip</code> defined. </p>\n\n<p>This means - on your first pass - <code>$asset_ip</code> is undefined and generates the errors. (no line is printed because of your <code>if defined</code> test). </p>\n\n<p>But then - the code proceeds to traverse <code>$csv_fh</code> - reading to the end of file - looking for matches (and fails 3 times, generating 3 error messages.</p>\n\n<p>Second iteration - for id <code>1002</code> - the IP isn't in the file anyway, but <code>$csv_fh</code> has already been read to end-of-file (EOF) - so that <code>foreach</code> loop doesn't execute at all. </p>\n\n<p>This can be made <em>workable</em> by:</p>\n\n<ul>\n<li>adding <code>else next;</code> after that <code>if defined</code>.</li>\n<li>adding <code>seek</code> to after the while loop. </li>\n</ul>\n\n<p>But really - a rewrite would be in order so you're not re-reading a file over and over anyway. </p>\n\n<p>Very crudely:</p>\n\n<pre><code>#!/usr/bin/perl\n# perl -e'use CPAN; install \"Text::CSV\"'\nuse strict;\nuse warnings;\n\nuse JSON::XS;\nuse File::Slurp;\nuse Text::CSV;\nmy $csv = Text::CSV-&gt;new( { sep_char =&gt; ',' } );\n\nmy $csv_source  = \"servers.csv\";\nmy $json_source = \"assets.json\";\nmy $dest        = \"servers_for_upload.csv\";\n\n# defined these here as I need to use them in foreach loop and if statement:\nmy $csv_ip;\nmy @fields;\nopen( my $csv_fh,  '&lt;', $csv_source ) or die \"$! error trying to read\";\nopen( my $dest_fh, '&gt;', $dest )       or die \"$! error trying to read\";\n\nmy $json       = read_file($json_source);\nmy $json_array = decode_json $json;\n\nforeach my $item (@$json_array) {\n    my $id       = $item-&gt;{id};\n    my $asset_ip = $item-&gt;{interfaces}-&gt;[0]-&gt;{ip_addresses}-&gt;[0]-&gt;{value};\n\n    # test the data is there:\n    if ( defined $asset_ip ) {\n        print \"id: \" . $id . \"\\nip: \" . $asset_ip . \"\\n\";\n    }\n    else {\n        print \"asset_ip undefined for id $id\\n\";\n        next;\n    }\n\n    while ( my $line = &lt;$csv_fh&gt; ) {\n        chomp $line;\n        if ( $csv-&gt;parse($line) ) {\n            @fields = $csv-&gt;fields();\n            $csv_ip = $fields[0];\n        }\n        else {\n            warn \"Line could not be parsed: $line\\n\";\n        }\n\n        if ( $csv_ip eq $asset_ip ) {\n\n            # preppend id to csv array and write these lines to new file\n            unshift( @fields, $id );\n            print {$dest_fh} join( \", \", @fields ),\"\\n\";\n        }\n    }\n    seek( $csv_fh, 0, 0 );\n}\nclose $csv_fh;\n</code></pre>\n\n<p>I would suggest this also needs:</p>\n\n<ul>\n<li>change of while so you're not re-reading the file each time</li>\n<li>You're using <code>Text::CSV</code> so using a <code>print join ( \",\"...</code> doesn't seem a consistent choice. If your data warrants <code>Text::CSV</code> it's worth keeping it for output too.</li>\n</ul>\n"}], "owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 32742634, "answer_count": 1, "score": -1, "last_activity_date": 1443026592, "creation_date": 1443018534, "last_edit_date": 1443023033, "question_id": 32742346, "link": "https://stackoverflow.com/questions/32742346/perl-variable-becoming-undefined-in-loop", "title": "Perl variable becoming undefined in loop", "body": "<p><strong>Edit: modified code and output to make it more clear</strong></p>\n\n<p><strong>Edit 2: Added example input for reproduction</strong></p>\n\n<p>I have a JSON file and a CSV file and I am running comparisons on the two. The problem is that $asset_ip is correctly defined in the outer foreach loop, but when in the nested loop $asset_ip becomes undefined.</p>\n\n<p>Why is $asset_ip becoming undefined?</p>\n\n<pre><code>#!/usr/bin/perl\n# perl -e'use CPAN; install \"Text::CSV\"'\nuse strict;\nuse warnings;\n\nuse JSON::XS;\nuse File::Slurp;\nuse Text::CSV;\nmy $csv = Text::CSV-&gt;new( { sep_char =&gt; ',' } );\n\nmy $csv_source  = \"servers.csv\";\nmy $json_source = \"assets.json\";\nmy $dest = \"servers_for_upload.csv\";\n\n# defined these here as I need to use them in foreach loop and if statement:\nmy $csv_ip;\nmy @fields;\nopen( my $csv_fh, '&lt;', $csv_source ) or die \"$! error trying to read\";\nopen( my $dest_fh, '&gt;', $dest ) or die \"$! error trying to read\";\n\nmy $json = read_file($json_source);\nmy $json_array = decode_json $json;\n\nforeach my $item (@$json_array) {\n    my $id = $item-&gt;{id};\n    my $asset_ip = $item-&gt;{interfaces}-&gt;[0]-&gt;{ip_addresses}-&gt;[0]-&gt;{value};\n\n    # test the data is there:\n    if ( defined $asset_ip ) {\n        print \"id: \" . $id . \"\\nip: \" . $asset_ip . \"\\n\";\n    }\n\n    while (my $line = &lt;$csv_fh&gt;) {\n        chomp $line;\n        if ( $csv-&gt;parse($line) ) {\n            @fields = $csv-&gt;fields();\n            $csv_ip = $fields[0];\n        }\n        else {\n            warn \"Line could not be parsed: $line\\n\";\n        }\n\n            if ( $csv_ip eq $asset_ip ) {\n                # preppend id to csv array and write these lines to new file\n                unshift( @fields, $id );\n                print $dest_fh join( \", \", @fields );    \n        }\n    }\n}\nclose $csv_fh;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Use of uninitialized value $asset_ip in string eq at script.pl line 43, &lt;$csv_fh&gt; line 1.\nUse of uninitialized value $asset_ip in string eq at script.pl line 43, &lt;$csv_fh&gt; line 2.\nUse of uninitialized value $asset_ip in string eq at script.pl line 43, &lt;$csv_fh&gt; line 3. \nid: 1003\nip: 192.168.0.2\nid: 1004\nip: 192.168.0.3\nid: 1005\nip: 192.168.0.4\n</code></pre>\n\n<p>assets.json:</p>\n\n<pre><code>[{\"id\":1001,\"interfaces\":[]},{\"id\":1003,\"interfaces\":[{\"ip_addresses\":[{\"value\":\"192.168.0.2\"}]}]},{\"id\":1004,\"interfaces\":[{\"ip_addresses\":[{\"value\":\"192.168.0.3\"}]}]},{\"id\":1005,\"interfaces\":[{\"ip_addresses\":[{\"value\":\"192.168.0.4\"}]}]}]\n</code></pre>\n\n<p>Note, that for the first iteration, $asset_ip <strong>will</strong> be undefined. I will therefore alter the code to only run the eq comparison if $asset_ip is defined. However, for this example I am not doing the check because all iterations are undefined.</p>\n\n<p>servers.csv:</p>\n\n<pre><code>192.168.0.3,Brian,Germany\n192.168.0.4,Billy,UK\n192.168.0.5,Ben,UK\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1443017686, "post_id": 32740573, "comment_id": 53324761, "body": "If you&#39;re going to be using Perl, it&#39;s worth getting to grips with the <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">online documentation</a>. In particular the sections on <a href=\"http://perldoc.perl.org/perlfunc.html\" rel=\"nofollow noreferrer\">functions</a> and <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">operators</a> (and, obviously, the <a href=\"http://perldoc.perl.org/perlfaq.html\" rel=\"nofollow noreferrer\">FAQ</a>)."}, {"owner": {"reputation": 33, "user_id": 2676256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc1640944bf562100c46ba69c1076b2?s=128&d=identicon&r=PG&f=1", "display_name": "Luiz de Andrade", "link": "https://stackoverflow.com/users/2676256/luiz-de-andrade"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1443086916, "post_id": 32740573, "comment_id": 53355014, "body": "@DaveCross Thanks. I don&#39;t intend to do too much things with Perl, usually is just to rewrite or adapt some plugins for Nagios. But thanks anyway."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1443086967, "post_id": 32740573, "comment_id": 53355048, "body": "Still worth knowing where the official documentation is :-)"}, {"owner": {"reputation": 33, "user_id": 2676256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc1640944bf562100c46ba69c1076b2?s=128&d=identicon&r=PG&f=1", "display_name": "Luiz de Andrade", "link": "https://stackoverflow.com/users/2676256/luiz-de-andrade"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1443087313, "post_id": 32740573, "comment_id": 53355322, "body": "For sure!! ;-) Thanx again!"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 33, "user_id": 2676256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc1640944bf562100c46ba69c1076b2?s=128&d=identicon&r=PG&f=1", "display_name": "Luiz de Andrade", "link": "https://stackoverflow.com/users/2676256/luiz-de-andrade"}, "edited": false, "score": 1, "creation_date": 1443015100, "post_id": 32740632, "comment_id": 53322751, "body": "@LuizdeAndrade welcome to StackOverflow! Please take a moment to take the <a href=\"https://stackoverflow.com/tour\">tour</a> and then accept the answer by clicking on the tick-mark on the left."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1443032880, "last_edit_date": 1443032880, "creation_date": 1443014152, "answer_id": 32740632, "question_id": 32740573, "link": "https://stackoverflow.com/questions/32740573/what-does-e-do-inside-an-expression-in-perl/32740632#32740632", "title": "What does &quot;-e&quot; do inside an expression in Perl?", "body": "<p>It's one of the <em>file test operators</em>. In this case it tests whether the file whose name is in <code>$SNMPWALK</code> <strong><em>exists</em></strong></p>\n\n<p>It's documented in <code>perlfunc</code> under <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\"><code>perldoc -X</code></a></p>\n"}], "owner": {"reputation": 33, "user_id": 2676256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc1640944bf562100c46ba69c1076b2?s=128&d=identicon&r=PG&f=1", "display_name": "Luiz de Andrade", "link": "https://stackoverflow.com/users/2676256/luiz-de-andrade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 1, "accepted_answer_id": 32740632, "answer_count": 1, "score": 1, "last_activity_date": 1462386403, "creation_date": 1443013992, "last_edit_date": 1462386403, "question_id": 32740573, "link": "https://stackoverflow.com/questions/32740573/what-does-e-do-inside-an-expression-in-perl", "title": "What does &quot;-e&quot; do inside an expression in Perl?", "body": "<p>I ran into this piece of code: </p>\n\n<pre><code>unless(-e $SNMPWALK)\n{\n    print \"snmpwalk is not installed!\\n\";\n    exit 3;\n}\n</code></pre>\n\n<p>What is the function of <code>-e</code> in this expression?</p>\n"}, {"tags": ["perl", "moose"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1443011155, "creation_date": 1443011155, "answer_id": 32739565, "question_id": 32739274, "link": "https://stackoverflow.com/questions/32739274/perl-mooseerrordefault-missing-from-latest-moose-release/32739565#32739565", "title": "Perl - Moose::Error::Default missing from latest Moose release", "body": "<p>The module disappeared in 2.1101. The related <a href=\"https://github.com/moose/Moose/blob/e6b297e9247d2e2ea99ebd8fc9761247ba54ab31/Changes#L419\" rel=\"noreferrer\">Changes</a> entry says:</p>\n\n<blockquote>\n  <p>2.1101   2013-10-20 (TRIAL RELEASE)</p>\n  \n  <p>[ENHANCEMENTS]</p>\n  \n  <ul>\n  <li>Moose string exceptions have been replaced by Moose::Exception objects. See\n  Moose::Manual::Delta for details.</li>\n  </ul>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 2, "last_activity_date": 1443012471, "creation_date": 1443012471, "answer_id": 32740057, "question_id": 32739274, "link": "https://stackoverflow.com/questions/32739274/perl-mooseerrordefault-missing-from-latest-moose-release/32740057#32740057", "title": "Perl - Moose::Error::Default missing from latest Moose release", "body": "<p><code>Moose::Error</code> has never been public API and wasn't intended for use in code outside of Moose. For your own code you should use something like the <a href=\"https://metacpan.org/pod/Throwable\" rel=\"nofollow\">Throwable</a> role. If you want to add more structure or create a hierarchy of exception classes you can do it in the ordinary Moose way \u2014 use <code>has</code> in your exception base class (the one does <code>with Throwable</code>) and/or create a bunch of subclasses of it.</p>\n"}], "owner": {"reputation": 23, "user_id": 5247443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb94ea34e59f3ba5498945bd921e8f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Iceman", "link": "https://stackoverflow.com/users/5247443/iceman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1443012471, "creation_date": 1443010338, "question_id": 32739274, "link": "https://stackoverflow.com/questions/32739274/perl-mooseerrordefault-missing-from-latest-moose-release", "title": "Perl - Moose::Error::Default missing from latest Moose release", "body": "<p>I have some Perl code using Moose which use a custom error class.\nLike this :</p>\n\n<pre><code>use metaclass (\n    metaclass   =&gt; 'Moose::Meta::Class',\n    error_class =&gt; 'My::Custom::Class',\n);\n</code></pre>\n\n<p>Where <code>My::Custom::Class</code> is derived from <code>Moose::Error::Default</code>.\nThis used to work fine with Moose 2.0401. I recently upgraded Moose to the latest 2.1603 version and it is not working anymore.\nThe reason is that it seems that The whole <code>Moose::Error::*</code> tree is gone.\nI did have a look at the Moose change log but I could not find neither why it was removed nor how I'm supposed to update my code with those packages missing.</p>\n"}, {"tags": ["perl", "autoformatting"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1443007450, "post_id": 32737883, "comment_id": 53317042, "body": "Where in the code do you call the <code>autoformat</code> subroutine?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443007644, "post_id": 32737883, "comment_id": 53317175, "body": "This feels a bit like an <code>XY</code> problem. What are you trying to accomplish? Your source data doesn&#39;t seem to particularly need anything complicated."}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 2, "last_activity_date": 1443019834, "creation_date": 1443019834, "answer_id": 32742800, "question_id": 32737883, "link": "https://stackoverflow.com/questions/32737883/textautoformat-error-in-perl/32742800#32742800", "title": "Text::Autoformat error in Perl", "body": "<p>What you observe is normal and also you asked for it: <a href=\"http://perldoc.perl.org/perlrun.html#*-w*\" rel=\"nofollow\">the <code>-w</code> option switch enables global warnings</a>.</p>\n\n<p>You're supposed to just use the lexical warnings (pragma <code>use warnings</code>) in Perl 5.6 and later, so remove the option switch.</p>\n"}], "owner": {"reputation": 1584, "user_id": 1218046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2feb5b477b063c4d4bb67087baef2802?s=128&d=identicon&r=PG", "display_name": "Haritz", "link": "https://stackoverflow.com/users/1218046/haritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 32742800, "answer_count": 1, "score": -3, "last_activity_date": 1443019834, "creation_date": 1443006299, "last_edit_date": 1443011159, "question_id": 32737883, "link": "https://stackoverflow.com/questions/32737883/textautoformat-error-in-perl", "title": "Text::Autoformat error in Perl", "body": "<p>I got the following Perl script that prints the content of the files in a directory:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\nuse Text::Autoformat;\n\nmy $NER = \"$ARGV[0]/Data/NER_$ARGV[1]\";\n\nforeach my $fp (glob(\"$NER/*\")){\n    if (-s $fp){\n        # Open file to read\n        open my $fz, \"&lt;\", $fp or die;\n        binmode $fz, \":encoding(UTF-8)\";\n        while(my $row = &lt;$fz&gt;){\n            chomp($row);\n            print \"$row\\n\";\n        }\n        close $fz or die;\n    }\n}\n</code></pre>\n\n<p>The script runs OK but there is this warning every time a new file is opened:</p>\n\n<pre><code>Use of uninitialized value in join or string at /usr/local/share/perl5/Text/Autoformat/Hang.pm line 182, &lt;$fz&gt; line 1.\nUse of uninitialized value in join or string at /usr/local/share/perl5/Text/Autoformat/Hang.pm line 182, &lt;$fz&gt; line 1.\nUse of uninitialized value in join or string at /usr/local/share/perl5/Text/Autoformat/Hang.pm line 182, &lt;$fz&gt; line 1.\nUse of uninitialized value in join or string at /usr/local/share/perl5/Text/Autoformat/Hang.pm line 182, &lt;$fz&gt; line 1.\nUse of uninitialized value in join or string at /usr/local/share/perl5/Text/Autoformat/Hang.pm line 182, &lt;$fz&gt; line 1.\nUse of uninitialized value in join or string at /usr/local/share/perl5/Text/Autoformat/Hang.pm line 182, &lt;$fz&gt; line 1.\nUse of uninitialized value in join or string at /usr/local/share/perl5/Text/Autoformat/Hang.pm line 182, &lt;$fz&gt; line 1.\nUse of uninitialized value in join or string at /usr/local/share/perl5/Text/Autoformat/Hang.pm line 182, &lt;$fz&gt; line 1.\n\n...\n</code></pre>\n\n<p>This is an example of the files that are being printed:</p>\n\n<pre><code>22-22   today   DATE\n25-25   NY  LOCATION\n</code></pre>\n\n<p>Is this a bug in the <a href=\"http://p3rl.org/Text::Autoformat\" rel=\"nofollow\">Text::Autoformat</a> module?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1443004671, "post_id": 32737301, "comment_id": 53315189, "body": "try printing it with <code>Data::Dumper</code> to see what your <code>perl</code> datastruture looks like."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1443004800, "post_id": 32737301, "comment_id": 53315289, "body": "<code>$item-&gt;{interfaces}[0]{ip_addresses}[0]{value}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1443005053, "post_id": 32737408, "comment_id": 53315457, "body": "Sobrique, thank you for your fast help as always, helping my learning."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443013678, "post_id": 32737408, "comment_id": 53321550, "body": "I&#39;ve set the <code>Data::Dumper</code> options so that the output is a bit less sprawling. Please revert my edit if you wish"}, {"owner": {"reputation": 62484, "user_id": 20745, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc5d9e7efea07afc78d5408680438507?s=128&d=identicon&r=PG", "display_name": "friedo", "link": "https://stackoverflow.com/users/20745/friedo"}, "edited": false, "score": 1, "creation_date": 1443015187, "post_id": 32737408, "comment_id": 53322812, "body": "Note that you may omit the <code>-&gt;</code> operator after the first one, so <code>$item-&gt;{interfaces}[0]{ip_addresses}[0]{value}</code> will also work."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 7, "last_activity_date": 1443017903, "last_edit_date": 1495542686, "creation_date": 1443004842, "answer_id": 32737408, "question_id": 32737301, "link": "https://stackoverflow.com/questions/32737301/accessing-nested-json-elements-in-perl/32737408#32737408", "title": "Accessing nested JSON elements in Perl", "body": "<p><code>Data::Dumper</code> is your friend here:</p>\n\n<p>Trying this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse JSON::XS;\nuse Data::Dumper;\n$Data::Dumper::Indent = 1;\n$Data::Dumper::Terse  = 1;\n\n\nmy $json_array = decode_json ( do { local $/; &lt;DATA&gt; } );\nprint Dumper $json_array;\n\n__DATA__\n[{\"id\":1002,\"interfaces\":[{\"ip_addresses\":[{\"value\":\"172.16.77.239\"}]}]},{\"id\":1003,\"interfaces\":[{\"ip_addresses\":[{\"value\":\"192.168.0.2\"}]}]}]\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>[\n  {\n    'interfaces' =&gt; [\n      {\n        'ip_addresses' =&gt; [\n          {\n            'value' =&gt; '172.16.77.239'\n          }\n        ]\n      }\n    ],\n    'id' =&gt; 1002\n  },\n  {\n    'interfaces' =&gt; [\n      {\n        'ip_addresses' =&gt; [\n          {\n            'value' =&gt; '192.168.0.2'\n          }\n        ]\n      }\n    ],\n    'id' =&gt; 1003\n  }\n]\n</code></pre>\n\n<p>Important point of note - you have nested arrays (the <code>[]</code> denotes array, the <code>{}</code> a hash). </p>\n\n<p>So you can extract your thing with:</p>\n\n<pre><code>print $item-&gt;{interfaces}-&gt;[0]-&gt;{ip_addresses}-&gt;[0]-&gt;{value};\n</code></pre>\n\n<p>Or as <a href=\"https://stackoverflow.com/users/20745/friedo\">friedo</a> notes:</p>\n\n<blockquote>\n  <p>Note that you may omit the -> operator after the first one, so <code>$item-&gt;{interfaces}[0]{ip_addresses}[0]{value}</code> will also work. </p>\n</blockquote>\n"}], "owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3340, "favorite_count": 1, "accepted_answer_id": 32737408, "answer_count": 1, "score": 3, "last_activity_date": 1443017903, "creation_date": 1443004533, "question_id": 32737301, "link": "https://stackoverflow.com/questions/32737301/accessing-nested-json-elements-in-perl", "title": "Accessing nested JSON elements in Perl", "body": "<p>I get an error when attempting to access the contents of my JSON array.</p>\n\n<p>Here is the contents of my JSON array assets.json:</p>\n\n<pre><code>[{\"id\":1002,\"interfaces\":[{\"ip_addresses\":[{\"value\":\"172.16.77.239\"}]}]},{\"id\":1003,\"interfaces\":[{\"ip_addresses\":[{\"value\":\"192.168.0.2\"}]}]}]\n</code></pre>\n\n<p>Here is my code</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse JSON::XS;\nuse File::Slurp;\n\nmy $json_source = \"assets.json\";   \n\nmy $json = read_file( $json_source ) ;\nmy $json_array = decode_json $json;\n\nforeach my $item( @$json_array ) { \n    print $item-&gt;{id};\n        print \"\\n\";\n    print $item-&gt;{interfaces}-&gt;{ip_addresses}-&gt;{value};\n        print \"\\n\\n\";\n}\n</code></pre>\n\n<p>I get the expected output for $item->{id} but when accessing the nested element\nI get the error \"Not a HASH reference\"</p>\n"}, {"tags": ["linux", "perl", "ctime"], "comments": [{"owner": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "edited": false, "score": 0, "creation_date": 1442989833, "post_id": 32732439, "comment_id": 53306243, "body": "How are the file systems accessed on different systems? Obviously you must have some sort of file server you use, or is that a removable drive?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1442989881, "post_id": 32732439, "comment_id": 53306270, "body": "If you transferred the files to Linux from Windows their creation time will change and will show the time they were moved."}, {"owner": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 2, "creation_date": 1442989947, "post_id": 32732439, "comment_id": 53306299, "body": "@ChankeyPathak Strictly speaking that would <i>not</i> be a move, but a copy. You cannot <i>move</i> a file between systems. That is why actually a new file gets created which explains the new creation time. A real <i>move</i> would actually preserve the time."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "edited": false, "score": 0, "creation_date": 1442990140, "post_id": 32732439, "comment_id": 53306377, "body": "@arkascha: Ah I see."}, {"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1442990219, "post_id": 32732439, "comment_id": 53306411, "body": "the file was in windows. i run the perl in linux by ctime. without transfering the file to linux"}, {"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1442990392, "post_id": 32732439, "comment_id": 53306514, "body": "the file was at window and i run the script in both linux and window. windows give me the correct date/time but linux not correct. is there something to do with perl version i am using?"}, {"owner": {"reputation": 37580, "user_id": 1248114, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4XXrp.jpg?s=128&g=1", "display_name": "arkascha", "link": "https://stackoverflow.com/users/1248114/arkascha"}, "edited": false, "score": 2, "creation_date": 1442990532, "post_id": 32732439, "comment_id": 53306592, "body": "I repeat my question from above: if you run the script on different systems, then how can they access the same file? By what means?"}, {"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1442990691, "post_id": 32732439, "comment_id": 53306693, "body": "i create a path in linux which will link to window share folder. but the bridge was create by others ppl. is that need to find out how it was access?"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1443003508, "post_id": 32734717, "comment_id": 53314441, "body": "how to do with NTFS on Linux?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1443003560, "post_id": 32734717, "comment_id": 53314467, "body": "@cs87 that is a question that you should probably post either on SuperUser or Unix/Linux."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1443003766, "post_id": 32734717, "comment_id": 53314581, "body": "But seriously - don&#39;t, it&#39;s nasty. Just accept that creation time isn&#39;t that interesting or meaningful. Changing your whole filesystem just to get create times is a lot of pain for negligible benefit."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1442997467, "creation_date": 1442997467, "answer_id": 32734717, "question_id": 32732439, "link": "https://stackoverflow.com/questions/32732439/want-to-show-create-time-for-some-files/32734717#32734717", "title": "Want to show create time for some files.", "body": "<p>The problem here isn't what you're doing, it's that you misunderstand what <code>ctime</code> is. Linux filesystems record a <em>change</em> time not a <em>creation</em> time. </p>\n\n<p><code>mtime</code> denotes modification of file content. <code>ctime</code> denotes modification of attributes. As a result, they may well be the same number.</p>\n\n<p>However what you <em>cannot</em> get is \"create time\" because the EXT filesystem doesn't record it. (Other filesystem formats may - NTFS for example - but I'm not sure I'd suggest using NTFS on a Linux box!)</p>\n"}], "owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442997467, "creation_date": 1442989609, "question_id": 32732439, "link": "https://stackoverflow.com/questions/32732439/want-to-show-create-time-for-some-files", "title": "Want to show create time for some files.", "body": "<p>I was writing perl and run it in window system pretty good . \nBut when i transfer the perl script from windows system to Linux. \nAnd run in Linux system , i get wrong date/time. \nNeed some help. Thanks. </p>\n\n<p>The source code in Perl </p>\n\n<pre><code>   if (($file =~ m/(\\d)(\\S+)\\.csv/) &amp;&amp; ($flag == 0))  \n            {\n                    open(para_file,$file);\n                    $datetime_string = ctime( stat($file)-&gt;ctime );\n\n                    while ($line=&lt;para_file&gt;)\n                    {\n                    if ($line =~ /0\\,170\\,16\\,/) \n                            {\n                                    $cal = $cal + 1;\n                            }\n                    }\n                            push(@data,\"$cal\");\n                            push(@data,\"$datetime_string\");\n             }            \n</code></pre>\n\n<p>$file will be my file name. The windows date &amp; time on create are correct but don't understand why in LINUX it give me the wrong date &amp; time. </p>\n\n<p>Output of generation , from windows </p>\n\n<p>9023-0    50000   5111   10.22          <strong>Mon Jul 21 17:44:38 2014</strong><br>\n 9023-2    100000  23251  23.25          <strong>Fri Apr 11 10:12:19 2014</strong><br>\n 9024_AHG            5000           0              0.00           <strong>Thu Nov 27 15:28:55 2014</strong>  </p>\n\n<p>Output of generation , from linux </p>\n\n<p>9023-0    50000   5111   10.22          <strong>Thu Jul 30 16:45:25 2015</strong><br>\n 9023-2    100000  23251  23.25          <strong>Thu Jul 30 16:45:25 2015</strong><br>\n 9024_AHG            5000           0              0.00           <strong>Thu Jul 30 16:45:25 2015</strong>  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1442988938, "post_id": 32732220, "comment_id": 53305793, "body": "Where is the input and what have you tried so far?"}, {"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1442991370, "post_id": 32732220, "comment_id": 53307080, "body": "@ serenesat : I put my input in my post now. I have tried  R. I work in R. but because my data file is so huge, R does not have enough memory, so I wanna try perl. but I have no idea about that"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1442997329, "post_id": 32732220, "comment_id": 53310367, "body": "@zara: Stack Overflow isn&#39;t a place either to get your work done for free or to learn a new language, so your question is off topic. You will find an excellent list of tutorials at <a href=\"http://learn.perl.org\" rel=\"nofollow noreferrer\">learn.perl.org</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1443003494, "post_id": 32732220, "comment_id": 53314437, "body": "You will, however, every once in a while find someone who can help. I still agree that it is off-topic though."}], "answers": [{"comments": [{"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1443100914, "post_id": 32734646, "comment_id": 53364046, "body": "I tried to run this program. bu I got this error:"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1443101382, "post_id": 32734646, "comment_id": 53364434, "body": "@zara what error? You didn&#39;t post an error."}, {"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1443101462, "post_id": 32734646, "comment_id": 53364488, "body": "I tried to run this program. but I got this error: skarimi@signal[09:18][~]$ chmod +x per.pl skarimi@signal[09:18][~]$ ./per.pl &gt; boo.txt &amp; [1] 4383 skarimi@signal[09:19][~]$ ./per.pl: line 1: my: command not found ./per.pl: line 2: my: command not found Couldn&#39;t get a file descriptor referring to the console ./per.pl: line 5: syntax error near unexpected token <code>)&#39; .&#47;per.pl: line 5: </code> while ( my $row = &lt;$fh&gt; ) {&#39; why is that please?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1443101574, "post_id": 32734646, "comment_id": 53364565, "body": "@zara You didn&#39;t put a shebang in the first line of the program, but gave it execution permissions and tried running it with <code>.&#47;foo.pl</code>. Now the shell doesn&#39;t know what to run it with. Just run <code>perl foo.pl</code> :)"}, {"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1443102323, "post_id": 32734646, "comment_id": 53365107, "body": "but the control file name is per.pl and not foo.pl"}, {"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1443102714, "post_id": 32734646, "comment_id": 53365405, "body": "@ simbabque: this is my control file inside, my input file name is boo.txt:"}, {"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1443102786, "post_id": 32734646, "comment_id": 53365450, "body": "@ simbabque:my %headings;    # we will keep track of all headings ...                        my @rows;        # and all new rows outside the loop                               open my $fh, &#39;&lt;&#39;, &#39;boo.txt&#39; or die $!;  while ( my $row = &lt;$fh&gt; ) { #while ( my $row = &lt;DATA&gt; ) {                                                        chomp $row;    # get rid of newline                                              my @fields = split /\\s+/, $row;  could you please have look to this ? did I change it correctly?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1443102938, "post_id": 32734646, "comment_id": 53365557, "body": "@zara that looks correct, from what I can tell without newlines. Does it work?"}, {"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1443103317, "post_id": 32734646, "comment_id": 53365814, "body": "no it does not. but I uncomment the the code for using my file and comment on the othe one. it does not work"}, {"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1443103737, "post_id": 32734646, "comment_id": 53366120, "body": "@ simbabque: this is the first error: ./per.pl: line 1: my: command not found"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 2, "creation_date": 1443104218, "post_id": 32734646, "comment_id": 53366478, "body": "@zara I told you to run it using the perl interpreter. If you do not add a shebang line <b>it will not work</b> the way you run the script."}, {"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1464813535, "post_id": 32734646, "comment_id": 62643545, "body": "@ simbabque : Hello again. I hope I can ask another question about this program you have written long time go. May I ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1464852267, "post_id": 32734646, "comment_id": 62656130, "body": "@zara if it&#39;s a real new question, please create a new question. If it&#39;s just a comment, go ahead."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1442997221, "creation_date": 1442997221, "answer_id": 32734646, "question_id": 32732220, "link": "https://stackoverflow.com/questions/32732220/how-to-convert-character-within-each-column-as-sub-column-without-duplication/32734646#32734646", "title": "how to convert character within each column as sub-column without duplication", "body": "<p>The following program will do what you want in Perl. It should work with your system Perl and does not require additional modules.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %headings;    # we will keep track of all headings ...\nmy @rows;        # and all new rows outside the loop\n\n# open my $fh, '&lt;', 'inputfilename' or die $!;\n# while ( my $row = &lt;$fh&gt; ) {\nwhile ( my $row = &lt;DATA&gt; ) {\n    chomp $row;    # get rid of newline\n    my @fields = split /\\s+/, $row;\n\n    my %current_row;\nCOL: foreach my $i ( 1, 2, 3 ) {\n        next COL if $fields[$i] eq 'NA';    # skip these\n        my $heading = sprintf 'c%i.%i', $i, $fields[$i];    # build heading\n\n        # track current and all headings\n        $headings{$heading} = $current_row{$heading} = 1;\n    }\n\n    push @rows, \\%current_row;\n}\n# close $fh\n\n# pre-sort the headings to save computation time\nmy @sorted_headings = sort keys %headings;\n\n{\n    # open my $fh_out, '&gt;', 'outputfilename' or die $!;\n\n    # Set the output field separator ($,) to tabulator,\n    # and the output record separator ($\\) to the input record separator ($/),\n    # which holds the right line ending for the OS.\n    # The { local ... } makes this only apply in the current block.\n    local ( $,, $\\ ) = ( \"\\t\", $/ );\n\n    # output an empty string and the headings\n    print q{}, @sorted_headings;\n\n    my $i = 1;\n    foreach my $row (@rows) {\n\n        # use the value for the heading in this row, or 0 if there is no entry\n        print $i, map { $row-&gt;{$_} || 0 } @sorted_headings;\n        # print $fh_out $i, map { $row-&gt;{$_} || 0 } @sorted_headings;\n    } continue {\n      $i++;\n    }\n}\n\n__DATA__\n1 200 444 444\n2 310 NA  444\n3 310 NA  444\n4 NA  444 444\n5 200 444 444\n6 200 NA  444\n7 310 444 444\n8 310 876 444\n9 310 876 444\n10 NA  876 444\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>    c1.200  c1.310  c2.444  c2.876  c3.444\n1   1   0   1   0   1\n2   0   1   0   0   1\n3   0   1   0   0   1\n4   0   0   1   0   1\n5   1   0   1   0   1\n6   1   0   0   0   1\n7   0   1   1   0   1\n8   0   1   0   1   1\n9   0   1   0   1   1\n10  0   0   0   1   1\n</code></pre>\n\n<p>I've built it with the example data in a <code>__DATA__</code> section at the end of the program, but the code for using a file as the data source is there, you just need to uncomment them.</p>\n\n<p>With the number of rows and cols you have, this will still eat some memory, but it does not create the full file in memory. It collects all the possible headings in a hash, but only saves the <code>1</code>s for each rows per heading as there is no need to save the <code>0</code>s.</p>\n\n<p>This is what the data structure looks like for the example.</p>\n\n<pre><code>[\n    [0] {\n        c1.200   1,\n        c2.444   1,\n        c3.444   1\n    },\n    [1] {\n        c1.310   1,\n        c3.444   1\n    },\n    [2] {\n        c1.310   1,\n        c3.444   1\n    },\n    [3] {\n        c2.444   1,\n        c3.444   1\n    },\n    [4] {\n        c1.200   1,\n        c2.444   1,\n        c3.444   1\n    },\n    [5] {\n        c1.200   1,\n        c3.444   1\n    },\n    [6] {\n        c1.310   1,\n        c2.444   1,\n        c3.444   1\n    },\n    [7] {\n        c1.310   1,\n        c2.876   1,\n        c3.444   1\n    },\n    [8] {\n        c1.310   1,\n        c2.876   1,\n        c3.444   1\n    },\n    [9] {\n        c2.876   1,\n        c3.444   1\n    }\n]\n</code></pre>\n"}], "owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "closed_date": 1443130747, "accepted_answer_id": 32734646, "answer_count": 1, "score": -4, "last_activity_date": 1442997221, "creation_date": 1442988618, "last_edit_date": 1442991275, "question_id": 32732220, "link": "https://stackoverflow.com/questions/32732220/how-to-convert-character-within-each-column-as-sub-column-without-duplication", "closed_reason": "Needs more focus", "title": "how to convert character within each column as sub-column without duplication", "body": "<p>I have a data.frame file like this: input:</p>\n\n<pre><code>    1 200 444 444\n    2 310 NA  444\n    3 310 NA  444\n    4 NA  444 444\n    5 200 444 444\n    6 200 NA  444\n    7 310 444 444 \n    8 310 876 444\n    9 310 876 444\n    10 NA  876 444\n</code></pre>\n\n<p>I want to convert ecah character within each column as a sub-column and I want to put either 1 or zero in rows in the way that they represent if the the sub column was observed in that specific row or not: Output data.frame :</p>\n\n<pre><code>   c1.200 c1.310 c2.444 c2.876 c3.444\n1   1      0      1      0      1 \n2   0      1      0      0      1\n3   0      1      0      0      1\n4   0      0      1      0      1\n5   1      0      1      0      1\n6   1      0      0      0      1\n7   0      1      1      0      1\n8   0      1      0      1      1\n9   0      1      0      1      1\n10  0      0      0      1      1\n</code></pre>\n\n<p>is there any solution in PERL to do this? Meanwhile, my real data had 117000 rows and 10,000 columns and I need my output be like a csv.dataframe.and I need todo it in linux</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 27, "user_id": 2446749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27948985213938ff77eb808cffc98f9f?s=128&d=identicon&r=PG", "display_name": "Mokshith Sandeep Kumar", "link": "https://stackoverflow.com/users/2446749/mokshith-sandeep-kumar"}, "edited": false, "score": 0, "creation_date": 1442982941, "post_id": 32730970, "comment_id": 53303767, "body": "I tried using ($_  =~ m/^1.39$/), in this case  no line is printed."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1442983483, "post_id": 32730970, "comment_id": 53303907, "body": "It won&#39;t work as <code>^1.39$</code> will try to look for line which has 1 at start and 9 at the end. You don&#39;t have such lines."}, {"owner": {"reputation": 4793, "user_id": 1099230, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d9d86aa069778820dfc676147d432c2d?s=128&d=identicon&r=PG", "display_name": "luoluo", "link": "https://stackoverflow.com/users/1099230/luoluo"}, "edited": false, "score": 0, "creation_date": 1442983784, "post_id": 32730970, "comment_id": 53303999, "body": "If you want <code>1.39</code> from <code>1.39.2.1</code>, you need to capture them in your regex.  <code>if($_  =~ m&#47;(1.39)&#47;)</code> The result would be in <code>$1</code>."}, {"owner": {"reputation": 27, "user_id": 2446749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27948985213938ff77eb808cffc98f9f?s=128&d=identicon&r=PG", "display_name": "Mokshith Sandeep Kumar", "link": "https://stackoverflow.com/users/2446749/mokshith-sandeep-kumar"}, "edited": false, "score": 0, "creation_date": 1442986674, "post_id": 32730970, "comment_id": 53304910, "body": "ThanQ all for ur time and effort."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1442984467, "post_id": 32731033, "comment_id": 53304196, "body": "Need <code>^</code> too to avoid matching <code>11.39</code> or <code>1.39.1.39</code>."}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1442985060, "last_edit_date": 1442985060, "creation_date": 1442982833, "answer_id": 32731033, "question_id": 32730970, "link": "https://stackoverflow.com/questions/32730970/matching-string-exactly-from-a-list-of-similar-strings-in-perl/32731033#32731033", "title": "Matching string exactly from a list of similar strings in Perl", "body": "<p>If you want the not match the other lines, use a space after <code>1.39</code> like so:</p>\n\n<pre><code>/^1.39\\s/\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/xA1dB9/1\" rel=\"nofollow\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1442983394, "last_edit_date": 1442983394, "creation_date": 1442983059, "answer_id": 32731061, "question_id": 32730970, "link": "https://stackoverflow.com/questions/32730970/matching-string-exactly-from-a-list-of-similar-strings-in-perl/32731061#32731061", "title": "Matching string exactly from a list of similar strings in Perl", "body": "<p>I guess you are trying to match line which says build is successful.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nwhile(&lt;DATA&gt;){\n    next if $_ =~ /^\\s*$/; #skip empty lines\n    my ($build, @status) = split /\\s+/;\n    print $_ if join(\",\", @status) =~ /Succesful/;\n    #you may modify the above regex based on your requirement\n    #I tried to match line which says build is successful\n    #See dawg's answer, he matched exact build 1.39\n}\n__DATA__\n1.39.2.1    Build 001\n\n1.39.1.2    Build 002\n\n1.39.1.1    Rejected Build\n\n1.39        Succesful Build 004\n</code></pre>\n\n<p><a href=\"http://ideone.com/VSwxJn\" rel=\"nofollow\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1443000515, "creation_date": 1443000515, "answer_id": 32735796, "question_id": 32730970, "link": "https://stackoverflow.com/questions/32730970/matching-string-exactly-from-a-list-of-similar-strings-in-perl/32735796#32735796", "title": "Matching string exactly from a list of similar strings in Perl", "body": "<p>No-one has yet taken the time to explain why your existing code doesn't work. I think it is because you're slightly confused as to how regular expressions work.</p>\n\n<p>A text string will match a regular expression if the regular expression pattern matches anywhere in the string.</p>\n\n<p>Your regular expression is <code>/1.39/</code>. Actually, there's a small problem there as a dot has a special meaning in a regular expression (it matches any character) so to match an actual dot you need to escape it and your regex becomes <code>/1\\.39/</code>.</p>\n\n<p>Ok, so now your regex asks the question \"does this string contain the substring \"1.39\". And, of course, all of your data lines contain that substring. For example, the line <code>1.39.2.1    Build 001</code> contains \"1.39\" - it's there right at the start. Sure, it's followed by other stuff, but the regex match doesn't care about that. The regex match just asks \"does this string contain this substring?\"</p>\n\n<p>So you need to be more precise in your regex. You need to match \"1.39\" on its own, with nothing before it on the line and only whitespace after it. That's where the other answers come in. You can put <code>^</code> at the start of your regex to match the start of the line and <code>\\s</code> at the end to match whitespace. So your regex becomes <code>/^1\\.39\\s/</code>.</p>\n"}], "owner": {"reputation": 27, "user_id": 2446749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27948985213938ff77eb808cffc98f9f?s=128&d=identicon&r=PG", "display_name": "Mokshith Sandeep Kumar", "link": "https://stackoverflow.com/users/2446749/mokshith-sandeep-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1443000515, "creation_date": 1442982466, "last_edit_date": 1442982899, "question_id": 32730970, "link": "https://stackoverflow.com/questions/32730970/matching-string-exactly-from-a-list-of-similar-strings-in-perl", "title": "Matching string exactly from a list of similar strings in Perl", "body": "<p>I have a file which has following lines</p>\n\n<pre><code>1.39.2.1    Build 001\n\n1.39.1.2    Build 002\n\n1.39.1.1    Rejected Build\n\n1.39        Succesful Build 004\n</code></pre>\n\n<p>and i am trying to print the line \"1.39     Succesful Build 004 \"\nBelow is my perl script</p>\n\n<pre><code>my $file = 'C:\\labels.txt';\n\nopen(FILE,$file) or die (\"Cannot the open the file : $file\");\n\nmy $ver = \"1.39\";\n\nmy @arr;\n\nforeach (FILE)\n{\n\n    if($_  =~ m/1.39/)\n    {\n        print $line;\n\n    }\n\n}\n\nclose(FILE);\n</code></pre>\n\n<p>When i run this script, it prints all the lines (including 1.39.x.x) . But i want the line which has exactly 1.39 . How can search for it.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["perl", "rose-db"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1442973961, "post_id": 32727823, "comment_id": 53301654, "body": "In case this helps, the next to immediate cause of the error is that Rose::DB::Object&#39;s <code>db</code> method was called as a static method (<code>Rose::DB::Object-&gt;db</code> or <code>$class-&gt;db</code>) instead of an instance method (<code>$object-&gt;db</code>). You might want to use <a href=\"http://search.cpan.org/perldoc?Carp::Always\" rel=\"nofollow noreferrer\">Carp::Always</a> to see how you got there."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1442997308, "post_id": 32727823, "comment_id": 53310357, "body": "You keep doing stuff like in validate: <code>my $u = shift; MyApp::Models::User::Manager::-&gt;get_users_count</code> - if you&#39;re going to make an object and inherit, why throw it away? why not <code>$u-&gt;get_users_count</code>?"}, {"owner": {"reputation": 41, "user_id": 5365070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yGqLa.png?s=128&g=1", "display_name": "henq", "link": "https://stackoverflow.com/users/5365070/henq"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443131320, "post_id": 32727823, "comment_id": 53381992, "body": "I was searching in the wrong location, with help your Carp::Always hint @ikegami I noticed it, thank you. As my error is not very interesting for others I will delete this post in a short while."}, {"owner": {"reputation": 41, "user_id": 5365070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yGqLa.png?s=128&g=1", "display_name": "henq", "link": "https://stackoverflow.com/users/5365070/henq"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1443131595, "post_id": 32727823, "comment_id": 53382111, "body": "@bytepusher , the $u is left over code, I stripped many lines of code away for this post. The get_users_count() function must indeed be called as a class method."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1443178223, "post_id": 32727823, "comment_id": 53399306, "body": "ah, sorry for the confusion. It did look strange, but had nothing to do with anything apparently."}], "answers": [{"tags": [], "owner": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "is_accepted": false, "score": 0, "last_activity_date": 1443141786, "creation_date": 1443141786, "answer_id": 32773085, "question_id": 32727823, "link": "https://stackoverflow.com/questions/32727823/error-in-perl-rosedb-cant-use-string-as-a-hash-ref-while-strict/32773085#32773085", "title": "Error in Perl Rose::DB : Can&#39;t use string ... as a HASH ref while &quot;strict&quot;", "body": "<p>While <code>use strict</code> is a good idea when writing Perl code, you may want to relax the strict-ness by adding</p>\n\n<pre><code>no strict `refs`;\n</code></pre>\n\n<p>to get past the current error.  As @ikegami pointed out another way to fix this is to get rid of the bad reference, but if you don't want to rewrite the module working around it with relaxing strict-ness is your best bet.</p>\n"}], "owner": {"reputation": 41, "user_id": 5365070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yGqLa.png?s=128&g=1", "display_name": "henq", "link": "https://stackoverflow.com/users/5365070/henq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1443141786, "creation_date": 1442959967, "last_edit_date": 1442962733, "question_id": 32727823, "link": "https://stackoverflow.com/questions/32727823/error-in-perl-rosedb-cant-use-string-as-a-hash-ref-while-strict", "title": "Error in Perl Rose::DB : Can&#39;t use string ... as a HASH ref while &quot;strict&quot;", "body": "<p>I am getting an error when using Rose::DB. </p>\n\n<hr>\n\n<pre><code>#MyApp/DB.pm\npackage MyIMDB::DB;\nuse strict;  use warnings;\nuse base qw(Rose::DB);\n__PACKAGE__-&gt;use_private_registry;\n__PACKAGE__-&gt;register_db (\n    driver   =&gt; 'SQLite',\n    ....\n);\n1; \n\n# MyApp/DB/Object.pm\npackage MyApp::DB::Object;\nuse strict;  use warnings;\nuse MyApp::DB;\nuse base qw(Rose::DB::Object);\nsub init_db { MyIMDB::DB-&gt;new }\n1;\n\n#\npackage MyApp::Users;   #controller       \nuse strict;  use warnings;\nuse base 'Mojolicious::Controller';\nuse Mojo::ByteStream 'b';\nuse MyApp::Models::User;\nuse Data::Dumper;\n\nsub my_action {\n  my $uc = shift;\n  my $err =  MyApp::Models::User::-&gt;validate(...);   #extra ::\n                            # http://perldoc.perl.org/perlobj.html#Invoking-Class-Methods\n}\n\n# MyApp/Models/User.pm    # 2 packages in this file\npackage MyApp::Models::User::Manager;\nuse base qw(Rose::DB::Object::Manager);\nuse MyApp::Models::User;\nsub object_class { 'MyApp::Models::User'}\n__PACKAGE__-&gt;make_manager_methods('users');\n  # class methods get_x, get_x_iterator, get_x_count, delete_x, update_x\n1;\n\nMyApp::Models::User\nuse strict;  use warnings;\nuse base qw(MyApp::DB::Object);\n__PACKAGE__-&gt;meta-&gt;setup(\n    #setup tables, columns....\n  );\n\nsub validate {\n  my $u = shift;\n  my $n = MyApp::Models::User::Manager::-&gt;get_users_count(query =&gt; [user_name =&gt; $user]);\n}  \n1;\n</code></pre>\n\n<hr>\n\n<p>The error I get is:</p>\n\n<pre><code>\"Can't use string (\"MyApp::Models::User\") as a HASH ref while \"strict refs\" \n in use at /usr/local/share/perl/5.18.2/Rose/DB/Object.pm line 91, &lt;DATA&gt; line 2231.\"\n</code></pre>\n\n<p>The entry point is <code>my_action()</code> method of <code>MyApp:Users</code> class. </p>\n\n<p>I tried alternative setups of creating class <code>MyApp::Models::User::Manager</code> : separate .pm file, <code>make_manager_class()</code>, but to no avail.</p>\n\n<p>(I found this discussion from 2007 with the same error message, but it does not help me out  <a href=\"http://comments.gmane.org/gmane.comp.lang.perl.modules.dbi.rose-db-object/1537\" rel=\"nofollow\">http://comments.gmane.org/gmane.comp.lang.perl.modules.dbi.rose-db-object/1537</a>).</p>\n\n<p>This may indicate I am trying to call an object method as if it were a class method.  I tried the tricks listed here <a href=\"http://perldoc.perl.org/perlobj.html#Invoking-Class-Methods\" rel=\"nofollow\">http://perldoc.perl.org/perlobj.html#Invoking-Class-Methods</a>, but no success.</p>\n\n<p>I now I can examine the contents of variables with <code>Data::Dumper</code>, but I have no clue what to dump as there are very little data structures used.</p>\n"}, {"tags": ["perl", "network-programming"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1442972821, "post_id": 32727796, "comment_id": 53301424, "body": "That&#39;s actually pretty good for your level of experience. The only thing I would say straight away is that you should make sure your learning material is up to date. <code>-w</code> on the command line or shebang line has long been superseded by the superior <code>use warnings</code>. You should also declare <code>$child</code> in the server code inside the <code>while</code>, immediately before the <code>if</code>"}], "answers": [{"comments": [{"owner": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "edited": false, "score": 0, "creation_date": 1443030602, "post_id": 32736987, "comment_id": 53333111, "body": "Thanks for the answer, to be honest, I&#39;m still extremely confused about how to implement this. Could I still do this with only one process per connection or would I need to fork again? How could I pass a data packet recieved from one connection to all the open connections? I had an idea though; say I had each forked process listening for data, once one recieved some data, I could use a list shared between all processes containing all living connections (although I&#39;m unsure of how to do this, or if it&#39;s even possible), and just loop through all the connections and send it like that. Thoughts?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "edited": false, "score": 0, "creation_date": 1443030827, "post_id": 32736987, "comment_id": 53333245, "body": "Harder than it sounds because sharing lists via fork is hard. Threads can though."}, {"owner": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "edited": false, "score": 0, "creation_date": 1443030970, "post_id": 32736987, "comment_id": 53333320, "body": "Same conclusion I came to, could you elaborate slightly on how I could use threads here?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "edited": false, "score": 0, "creation_date": 1443031760, "post_id": 32736987, "comment_id": 53333782, "body": "Too much to fit in the comments. But threads::shared let you share a data structure."}, {"owner": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "edited": false, "score": 0, "creation_date": 1443031940, "post_id": 32736987, "comment_id": 53333901, "body": "Thanks for the help, I&#39;ll try and implement that now :)"}, {"owner": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "edited": false, "score": 0, "creation_date": 1443034897, "post_id": 32736987, "comment_id": 53335606, "body": "One last question - just to clarify, can what I&#39;m trying to be do be done in an easier fashion using only threads and no forks, or do I need a combination of the two?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "edited": false, "score": 0, "creation_date": 1443037239, "post_id": 32736987, "comment_id": 53336917, "body": "Never mix the two. That way lies madness. Forks and pipes work. Threads and shared memory do too. Both makes a maintenance nightmare."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "edited": false, "score": 0, "creation_date": 1443039152, "post_id": 32736987, "comment_id": 53337951, "body": "Although thinking about it, you don&#39;t actually need either. You can do non blocking reads on sockets, and do it that way. That might be easier overall,  too."}, {"owner": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "edited": false, "score": 0, "creation_date": 1443039397, "post_id": 32736987, "comment_id": 53338078, "body": "I know this might be a fairly big ask, but could you modify your main answer to include a paragraph or two on how I might do it implement this other way? I&#39;d really appreciate it"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "edited": false, "score": 1, "creation_date": 1443040544, "post_id": 32736987, "comment_id": 53338671, "body": "Not easily - but I can point you at an example: <a href=\"http://perldoc.perl.org/IO/Select.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/IO/Select.html</a> Scroll to the bottom, and you can see a socket based scenario."}, {"owner": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443042404, "post_id": 32736987, "comment_id": 53339606, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/90478/discussion-between-psychedelic-alex-and-sobrique\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1443003720, "last_edit_date": 1495540309, "creation_date": 1443003720, "answer_id": 32736987, "question_id": 32727796, "link": "https://stackoverflow.com/questions/32727796/basic-network-chat-app-in-perl/32736987#32736987", "title": "Basic network chat app in Perl", "body": "<p>A single client to a single server isn't too difficult - what you're doing with your code there is - effectively - creating a 1 to 1 relationship. Your <code>fork</code>ed server is talking exclusively to your client.</p>\n\n<p>To get information to propagate (via the server) between multiple clients, you're going to have to get a bit more complicated - because you have separate processes, these processes now need to communicate with each other. This is a big enough question that there's a whole segment of the perl documentation about it: <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow noreferrer\"><code>perlipc</code></a>. </p>\n\n<p>This is actually going to increase the complexity of your code substantially, because you're moving to a 1-to-many relationship on your communications, and they'll all be happening asynchronously. </p>\n\n<p>Socket based communication is one form of inter-process communication (IPC) and you're already doing that. But your 'gotcha' here is that you're moving from 1 to 1 comms to 1 to many comms. You need to be able to broadcast, and this mode of communications doesn't support that particularly well.</p>\n\n<p>What I would suggest is look at <a href=\"http://perldoc.perl.org/IO/Pipe.html\" rel=\"nofollow noreferrer\"><code>IO::Pipe</code></a> - I've some example code here: <a href=\"https://stackoverflow.com/questions/31533054/how-to-extract-data-from-parallelforkmanager-in-perl/31534111#31534111\">How to extract data from Parallel::ForkManager in perl</a></p>\n\n<p>Then use <a href=\"http://perldoc.perl.org/IO/Select.html\" rel=\"nofollow noreferrer\"><code>IO::Select</code></a> and <code>can_read</code> to asynchronously decide if there's any data coming in on the pipe. You'll probably need an array of pipes - one per client - otherwise you might get concurrent stuff overlapping.</p>\n\n<p>E.g.:</p>\n\n<p>(From <code>IO::Pipe</code> doc page:</p>\n\n<pre><code> my $pipe = IO::Pipe-&gt;new();\nif($pid = fork()) { # Parent\n        $pipe-&gt;reader();\n        while(&lt;$pipe&gt;) {\n        ...\n        }\n    }\n    elsif(defined $pid) { # Child\n        $pipe-&gt;writer();\n        print $pipe ...\n    }\n</code></pre>\n\n<p>Unfortunately there's a slight gotcha here - your pipes will be created by the forking process, but that in turn means you'll need to figure out how to handle an array of pipe and checking to see if they're readable.</p>\n\n<p>That means you can't sit in a <code>while</code> loop around accepting sockets any more - that blocks, so you'd have messages queued until another client connects (which is really not going to be what you want). So you'll also need to use <code>select</code> again to check whether there's something ready to <code>accept</code> first. </p>\n"}], "owner": {"reputation": 262, "user_id": 4671911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ea67e9ae2150de4113dc3920ac86fc?s=128&d=identicon&r=PG&f=1", "display_name": "jess", "link": "https://stackoverflow.com/users/4671911/jess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 4, "answer_count": 1, "score": 7, "last_activity_date": 1443039110, "creation_date": 1442959878, "question_id": 32727796, "link": "https://stackoverflow.com/questions/32727796/basic-network-chat-app-in-perl", "title": "Basic network chat app in Perl", "body": "<p>I am trying to write a basic network chat app in Perl for learning purposes. I currently have a server and client program that function almost as I want them to. Multiple clients can connect to the server and send messages to and from it. However, I'm not really sure how to go about sending messages from one client to another and would appreciate a push in the right direction here. Here is the code I have so far, thoughts?</p>\n\n<p>Note: This is my first ever attempt at using networking or using Perl for a proper project so any other guidance on how it's written would also be appreciated.</p>\n\n<p><strong>chat_server.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\n# chat_server.pl\nuse strict;\nuse IO::Socket::INET;\n\nmy $port = shift or die \"Port required!\\n\";\nmy $socket = IO::Socket::INET-&gt;new(\n        LocalPort   =&gt; $port,\n        Proto       =&gt; 'tcp',\n        Listen      =&gt; SOMAXCONN\n    ) or die \"Can't create socket: $!!\\n\";\nmy $child;\n\nprint \"Listening for clients on $port...\\n\";\nREQUEST:\nwhile(my $client = $socket-&gt;accept) {\n    my $addr = gethostbyaddr($client-&gt;peeraddr, AF_INET);\n    my $port = $client-&gt;peerport;\n\n    if($child = fork) {\n        print \"New connection from $addr:$port\\n\";\n        close $client;\n        next REQUEST;\n    } die \"fork failed!\\n\" unless defined $child;\n\n    while (&lt;$client&gt;) {\n        print \"[$addr:$port] says: $_\";\n        print $client \"[$addr:$port] says: $_\";\n    }   \n}\nclose $socket;\n</code></pre>\n\n<p><strong>chat_client.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\n# chat_client.pl\nuse strict;\nuse IO::Socket::INET;\n\nmy $port            = shift or die \"No port\\n\";\nmy $server          = shift or die \"No server\\n\";\nmy $client_socket   = IO::Socket::INET-&gt;new(\n        PeerPort    =&gt;  $port,\n        PeerAddr    =&gt;  $server,\n        Proto       =&gt;  'tcp'\n    ) or die \"Can't create send socket: $!!\\n\";\n\nmy $child;\n\nif($child = fork) {\n    while(1) {\n        sleep(1);\n        print scalar &lt;$client_socket&gt;;\n    }\n}\n\ndie \"fork failed!\\n\" unless defined $child;\nprint \"Connected to $server:$port!\\n\";\n\ndo {\n    print \"&gt; \";\n    print $client_socket $_ if defined $_;\n} while(&lt;STDIN&gt;);\n\nprint \"Closing connection\";\nclose $client_socket;\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1442953934, "post_id": 32726324, "comment_id": 53295088, "body": "I&#39;ve seen several questions like this recently (<a href=\"http://stackoverflow.com/q/28992210/176646\">stackoverflow.com/q/28992210/176646</a>, <a href=\"http://stackoverflow.com/q/32219489/176646\">stackoverflow.com/q/32219489/176646</a>, <a href=\"http://stackoverflow.com/q/32699696/176646\">stackoverflow.com/q/32699696/176646</a>, possibly <a href=\"http://stackoverflow.com/q/31039341/176646\">stackoverflow.com/q/31039341/176646</a> ...interestingly, all on OS X) so I wrote a canonical Q/A that we can point people to. Edits to both question and answer are welcome. (I don&#39;t have access to OS X or Windows right now, so some of the details may need tweaking.)"}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 23, "last_activity_date": 1442953924, "last_edit_date": 1495540934, "creation_date": 1442953924, "answer_id": 32726325, "question_id": 32726324, "link": "https://stackoverflow.com/questions/32726324/i-installed-a-module-successfully-with-cpan-but-perl-cant-find-it-why/32726325#32726325", "title": "I installed a module successfully with CPAN, but perl can&#39;t find it. Why?", "body": "<p>The module was installed here:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/home/foo/perl5/lib/perl5/Acme.pm\n</code></pre>\n\n<p>But perl looks for modules in <a href=\"http://perldoc.perl.org/perlvar.html#%40INC\" rel=\"noreferrer\"><code>@INC</code></a>, which in this case contains:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/usr/local/lib64/perl5\n/usr/local/share/perl5\n/usr/lib64/perl5/vendor_perl\n/usr/share/perl5/vendor_perl\n/usr/lib64/perl5\n/usr/share/perl5\n.\n</code></pre>\n\n<p>(<code>.</code> refers to the current working directory.)</p>\n\n<p>Since the module is not in <code>@INC</code>, perl can't find it without some help.</p>\n\n<h2>Why did CPAN install the module outside of <code>@INC</code>?</h2>\n\n<p>A common cause is configuring CPAN to bootstrap <a href=\"https://metacpan.org/pod/local::lib\" rel=\"noreferrer\">local::lib</a> so that modules are installed in your home directory instead of in the system Perl directories. If you have <a href=\"http://perldoc.perl.org/CPAN.html#5%29\" rel=\"noreferrer\">CPAN 1.9463 or higher</a> and you don't have write permissions in the default install path, the first time you run CPAN you will be prompted:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Warning: You do not have write permission for Perl library directories.\n\nTo install modules, you need to configure a local Perl library directory or\nescalate your privileges.  CPAN can help you by bootstrapping the local::lib\nmodule or by configuring itself to use 'sudo' (if available).  You may also\nresolve this problem manually if you need to customize your setup.\n\nWhat approach do you want?  (Choose 'local::lib', 'sudo' or 'manual')\n [local::lib]\n</code></pre>\n\n<p>If you choose to bootstrap local::lib (the default), the module will be installed inside <code>~/perl5</code>. You may also be prompted something like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Would you like me to append that to /home/foo/.bashrc now? [yes]\n</code></pre>\n\n<p>If you choose yes (the default), some variables will be added to your <code>.bashrc</code> (or the equivalent for your shell) so that when you run CPAN in the future, modules will continue to be installed in your home directory:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>PATH=\"/home/foo/perl5/bin${PATH+:}${PATH}\"; export PATH;\nPERL5LIB=\"/home/foo/perl5/lib/perl5${PERL5LIB+:}${PERL5LIB}\"; export PERL5LIB;\nPERL_LOCAL_LIB_ROOT=\"/home/foo/perl5${PERL_LOCAL_LIB_ROOT+:}${PERL_LOCAL_LIB_ROOT}\"; export PERL_LOCAL_LIB_ROOT;\nPERL_MB_OPT=\"--install_base \\\"/home/foo/perl5\\\"\"; export PERL_MB_OPT;\nPERL_MM_OPT=\"INSTALL_BASE=/home/foo/perl5\"; export PERL_MM_OPT;\n</code></pre>\n\n<h2>How can I fix it?</h2>\n\n<p>If CPAN added the above environment variables to your <code>.bashrc</code> (or equivalent), the simplest thing to do is start a new shell (or source your <code>.bashrc</code>). This will set <a href=\"http://perldoc.perl.org/perlrun.html#PERL5LIB\" rel=\"noreferrer\"><code>PERL5LIB</code></a> so that perl can find modules installed in <code>~/perl5</code>.</p>\n\n<p>On the other hand, if you have sudo access and you want CPAN to install modules in the system Perl directories instead of in your home directory, delete the environment variable settings from your <code>.bashrc</code> (or equivalent), start the CPAN shell, and run:</p>\n\n<pre><code>o conf init\n</code></pre>\n\n<p>This will reset the CPAN configuration. You will be prompted again if you want to bootstrap local::lib; enter \"sudo\" instead. In general, I wouldn't recommend doing this; it's usually better to use your distro's package manager (e.g. yum, apt) to install modules in the system Perl directories.</p>\n\n<p>Also see: <a href=\"https://stackoverflow.com/q/185114/176646\">How do I 'use' a Perl module in a directory not in @INC?</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7817680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a873da18da4449902900519866cc10?s=128&d=identicon&r=PG&f=1", "display_name": "Todd Merriman", "link": "https://stackoverflow.com/users/7817680/todd-merriman"}, "is_accepted": false, "score": -1, "last_activity_date": 1523639964, "last_edit_date": 1523639964, "creation_date": 1519226830, "answer_id": 48909595, "question_id": 32726324, "link": "https://stackoverflow.com/questions/32726324/i-installed-a-module-successfully-with-cpan-but-perl-cant-find-it-why/48909595#48909595", "title": "I installed a module successfully with CPAN, but perl can&#39;t find it. Why?", "body": "<p>The solution I found is to locate <code>/local/lib.pm</code> in one of the <code>@INC</code> directories and delete it or rename it (to an extension other than 'pm').  Then, rename (to an extension other than 'sh' or 'csh') or delete /etc/profile.d/perl-homedir.sh.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 15651516, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/e61b567798c701b49c88d5f2da021221?s=128&d=identicon&r=PG", "display_name": "martin Fuerstenau", "link": "https://stackoverflow.com/users/15651516/martin-fuerstenau"}, "is_accepted": false, "score": 0, "last_activity_date": 1618517094, "creation_date": 1618517094, "answer_id": 67115358, "question_id": 32726324, "link": "https://stackoverflow.com/questions/32726324/i-installed-a-module-successfully-with-cpan-but-perl-cant-find-it-why/67115358#67115358", "title": "I installed a module successfully with CPAN, but perl can&#39;t find it. Why?", "body": "<p>On Centos 7 /RedHat 7 this is caused by package perl-homedir. It sets the variables via /etc/profile.d. Remove it. Than everything is working as expected. Took me hours to find out why I wasn't able to rebuild a package from Epel or CentOS.</p>\n"}], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13615, "favorite_count": 7, "protected_date": 1618517625, "accepted_answer_id": 32726325, "answer_count": 3, "score": 18, "last_activity_date": 1618517094, "creation_date": 1442953924, "question_id": 32726324, "link": "https://stackoverflow.com/questions/32726324/i-installed-a-module-successfully-with-cpan-but-perl-cant-find-it-why", "title": "I installed a module successfully with CPAN, but perl can&#39;t find it. Why?", "body": "<p>I installed a CPAN module like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cpan Acme\n</code></pre>\n\n<p>According to the output, the installation was successful:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Running install for module 'Acme'\n...\nAll tests successful.\nFiles=2, Tests=3,  0 wallclock secs ( 0.02 usr  0.00 sys +  0.04 cusr  0.00 csys =  0.06 CPU)\nResult: PASS\n  INGY/Acme-1.11111111111.tar.gz\n  /usr/bin/make test -- OK\nRunning make install\nManifying 1 pod document\nInstalling /home/foo/perl5/lib/perl5/Acme.pod\nInstalling /home/foo/perl5/lib/perl5/Acme.pm\nInstalling /home/foo/perl5/man/man3/Acme.3pm\nAppending installation info to /home/foo/perl5/lib/perl5/x86_64-linux-thread-multi/perllocal.pod\n  INGY/Acme-1.11111111111.tar.gz\n  /usr/bin/make install  -- OK\n</code></pre>\n\n<p>But when I try to use the module, I get an error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -MAcme -e1\nCan't locate Acme.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .).\nBEGIN failed--compilation aborted.\n</code></pre>\n\n<p>Why can't perl find the module even though it was installed successfully? How can I fix this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1442953482, "post_id": 32726118, "comment_id": 53294825, "body": "Giving errors is good, but show us your code, this will be better for anyone"}, {"owner": {"reputation": 55, "user_id": 5364364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/755560f7ef1ba4a2988b8fbbb787ae65?s=128&d=identicon&r=PG&f=1", "display_name": "matthewarnold", "link": "https://stackoverflow.com/users/5364364/matthewarnold"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1442953599, "post_id": 32726118, "comment_id": 53294894, "body": "i added my quote beneath the errors? @GillesQuenot"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1442953743, "post_id": 32726118, "comment_id": 53294972, "body": "Yes, now it&#39;s OK since your editing"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 2, "creation_date": 1442953828, "post_id": 32726118, "comment_id": 53295031, "body": "Don&#39;t comment &#39;use strict&#39;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1442956101, "post_id": 32726118, "comment_id": 53296280, "body": "Is this homework? It&#39;s terrible code. It&#39;s laid out very badly so that it&#39;s impossible to see the structure (I&#39;ve reformatted it so that I could read it a little better) and you&#39;ve written <i>far</i> too much before starting to test it. You should write just two or three lines of code at a time, then test that and add some more code only when it works properly. Disabling <code>use strict</code> is a <i>very bad</i> move. It would have saved you from many misspellings such as <code>useraccountshash</code> / <code>useraccounthash</code>. There&#39;s there&#39;s really far too much wrong with it to be able tl help you. Try again with this advice"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1442956350, "post_id": 32727012, "comment_id": 53296394, "body": "It should also be called <code>Org22</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1442956639, "post_id": 32727012, "comment_id": 53296518, "body": "Yeah, all-lowercase module names are reserved for pragmas."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1442956794, "last_edit_date": 1442956794, "creation_date": 1442956272, "answer_id": 32727012, "question_id": 32726118, "link": "https://stackoverflow.com/questions/32726118/perl-errors-when-running/32727012#32727012", "title": "Perl Errors when running", "body": "<p>Your script does not have a sub named <code>insertUser</code> because <code>use org22;</code> imports from the package <code>org22</code>, which doesn't exist, much less exports anything. You want to import from package <code>org</code>. Solve this by giving the file and the package the same name.</p>\n\n<pre><code>use org22;\norg22.pm\npackage org22;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use org;\norg.pm\npackage org;\n</code></pre>\n\n<p>Actually, since all-lowercase module names are reserved for pragmas, why don't you rename it to something more conventional.</p>\n\n<pre><code>use Org22;\nOrg22.pm\npackage Org22;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use Org;\nOrg.pm\npackage Org;\n</code></pre>\n\n<p>The warnings indicate a number of other problems, but I only have time to address the main one. Start by adding <code>use strict;</code> and fixing the errors it finds. Then, address the warnings. Adding <code>use diagnostics;</code> will try to explain the warnings to you.</p>\n"}], "owner": {"reputation": 55, "user_id": 5364364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/755560f7ef1ba4a2988b8fbbb787ae65?s=128&d=identicon&r=PG&f=1", "display_name": "matthewarnold", "link": "https://stackoverflow.com/users/5364364/matthewarnold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 32727012, "answer_count": 1, "score": 0, "last_activity_date": 1442956794, "creation_date": 1442953205, "last_edit_date": 1442956158, "question_id": 32726118, "link": "https://stackoverflow.com/questions/32726118/perl-errors-when-running", "title": "Perl Errors when running", "body": "<p>I have been working endlessly on perl program that manages a user and password list. It has contains the specific functions of , adding a user, modifying a user, generating a user list, and deleting a user.</p>\n\n<p>However, I am running into several errors, I am hoping you guys might be able to help me fix.</p>\n\n<p>Here are the errors</p>\n\n<pre><code>C:\\Users\\mte&gt;perl C:\\Users\\mte\\Desktop\\org11.pl\n Useless use of lc in void context at C:\\Users\\mte\\Desktop/org22.pm line 25.\n Useless use of private variable in void context at          \n C:\\Users\\mte\\Desktop\\org11.pl\n line 16.\n Useless use of private variable in void context at     \n C:\\Users\\mte\\Desktop\\org11.pl\n line 18.\n Useless use of a variable in void context at C:\\Users\\mte\\Desktop\\org11.pl    \n line\n 72.\n Name \"main::userNameStorage\" used only once: possible typo at    \n C:\\Users\\mte\\Desktop\\org11.pl line 72.\n Name \"main::nameofile\" used only once: possible typo at    \n C:\\Users\\mte\\Desktop\\org11.pl line 23.\n what is the name of the filename:\n matthew\n Use of uninitialized value $nameofile in scalar chomp at    \n C:\\Users\\mte\\Desktop\\org11.pl line 23, &lt;&gt; line 1.\n Unsuccessful stat on filename containing newline at    \n C:\\Users\\mte\\Desktop\\org11.pl line 25, &lt;&gt; line 1.\n readline() on closed filehandle $filehandle at   \n C:\\Users\\mte\\Desktop\\org11.pl &gt;line 38.\n\n User Accounts\n -------------\n i = Insert new user account\n m = modify existing user account\n r = Remove existing user account\n g = Generate list of accounts\n q = Quit\n\n Enter Choice:i\n Undefined subroutine &amp;main::insertUser called at   \n C:\\Users\\mte\\Desktop\\org11.pl line 85, &lt;&gt; line 2.\n</code></pre>\n\n<p>Source Code for <strong><em>org22.pl</em></strong>:</p>\n\n<pre><code>#!/bin/perl\nuse lib \"C:\\\\Users\\\\mte\\\\Desktop\";\n\nuse org22;\n#use strict;\nuse warnings;\n\n$filename;\n$filehandle;\n$nameoffile;\n\n%useroptionsfunction = (\n    'i' =&gt; \\&amp;insertUser,\n    'm' =&gt; \\&amp;modifyUser,\n    'r' =&gt; \\&amp;removeUser,\n    'g' =&gt; \\&amp;generateList\n);\n\n$nameoffile; # name of file\n\n$filename; # the full path of the file\n\nprint \"what is the name of the filename:\", \"\\n\";\n$nameoffile = &lt;&gt;;\nchomp( $nameofile );\n\nif ( -e $nameoffile ) {\n    open( $filehandle, \"&lt;\", $nameoffile );\n}\nelse {\n    open( $filehandle, \"&gt;\", $nameoffile );\n}\n\n# load user accoutns from filefield;\n%useraccountshash = ();\n\nwhile ( $loadlines = &lt;$filehandle&gt; )    # load all data into hash if the file already exists\n\n{\n\n    # this array temporarily holds the user data while we prepare it to go to hash\n\n    @myarray = split( /:/, $loadlines );    # split the line at the colon, will put username into index 0 in the array, and password in index 1\n\n    $username = $myarray[0];\n\n    $password = $myarray[1];\n    chomp( $password );\n\n    $username =~ s/[^a-zA-Z0-9]//g;\n    $username = lc( $username );\n\n    $password =~ s/\\'//g;\n\n    # now we are putting in the user name and password into the hash , array to va, variiables, variables to hash\n\n    $useraccounthash{$username} = $password;\n\n}\n\n#user account interface\nprint \"\\t\", \"\\n\", \"User Accounts\", \"\\n\";\nprint \"-------------\", \"\\n\";\n\nprint \"i = Insert new user account\",      \"\\n\";\nprint \"m = modify existing user account\", \"\\n\";\nprint \"r = Remove existing user account\", \"\\n\";\nprint \"g = Generate list of accounts\",    \"\\n\";\nprint \"q = Quit\",                         \"\\n\", \"\\n\";\n\n$userNameStorage;\n\n#insert new user account interface\n\nprint( \"Enter Choice:\" );\n$input = &lt;&gt;;\nchomp( $input );\n\nif ( $input ne 'q' ) {\n\n    if ( $input eq \"i\" ) {\n        $command          = $useroptionsfunction{$input};\n        %useraccountshash = $command-&gt;( \\%useraccountshash );\n\n    }\n\n    #modify username and password interface\n    elsif ( $input eq \"m\" ) {\n        $command          = $useroptionsfunction{m};\n        %useraccountshash = $command-&gt;( \\%useraccountshash );\n\n    }\n\n    #remove the user interface\n    elsif ( $input eq \"r\" ) {\n        $command          = $useroptionsfunction{r};\n        %useraccountshash = $command-&gt;( \\%useraccountshash );\n\n    }\n\n    #generate list of accounts\n    elsif ( $input eq \"g\" ) {\n        $command          = $useroptionsfunction{g};\n        %useraccountshash = $command-&gt;( \\%useraccountshash );\n\n    }\n\n}\n\nif ( $input eq \"q\" ) {\n\n    print \"Quitting Program...\";\n\n}\n\nclose( $filehandle );\nprint \"save changes? type, y or n\";\n\n$userinput = &lt;&gt;;\nchomp( $userinput );\n\nif ( $userinput eq 'y' ) {\n    open( $filehandle, \"&gt;\", $filename );\n\n    for $usernames1 ( keys %useraccounthash )\n\n    {    # used to iterate through the hash and pull out usernames\n        print $filehandle \"$usernames1:$useraccountshash{$usernames1}\\n\";    #goes through keys and writes the key and value to file\n    }\n\n    close( $filehandle );\n}\n\n1;\n</code></pre>\n\n<p>source code for <strong><em>org22.pm</em></strong></p>\n\n<pre><code>package org;\nuse strict;\nuse Exporter;\nuse warnings;\n\nmy $userNameStorage;\nmy $insertUserName;\nmy $newpassword;\nmy %temporaryhash;\nmy $userName;\n\nuse vars qw(@ISA @EXPORT);\n@ISA = qw(Exporter);\n@EXPORT = ( \"insertUser\", \"modifyUser\", \"removeUser\", \"generateList\" );\n\nsub insertUser {\n\n    my $grabparameter = shift;\n    my %temporaryhash = %$grabparameter;\n\n    print \"Enter Username:\";\n    my $insertUserName = &lt;&gt;;\n    chomp( $insertUserName );\n\n    lc( $insertUserName );\n    $insertUserName =~ s/[^a-zA-Z0-9]//g;\n\n    if ( exists( $temporaryhash{$insertUserName} ) ) {\n\n        print \"user already exists\";\n        return %temporaryhash;\n\n        # referenceing whoel hash use percent, when refereing part of the\n        # hash use $\n    }\n\n    $userNameStorage = $insertUserName;\n\n    #$userNameStorage = ($input);\n\n    print \"Enter Password:\";\n    my $insertUserPassword = &lt;&gt;;\n    chomp( $insertUserPassword );\n\n    $userNameStorage = ( $insertUserPassword );\n    chomp( $insertUserPassword );\n\n    $insertUserPassword =~ s/\\'//g;\n    $temporaryhash{$insertUserName} = $insertUserPassword;\n\n    # if the user name doesnt exist, get a password for it, then load key\n    # into hash, where key is the user name and the value is the password\n\n    return %temporaryhash;\n\n}\n\nsub modifyUser {\n\n    my $grabparameter = shift;\n    my %temporaryhash = %$grabparameter;\n\n    print \"Username to modify:\";\n    my $modifyUsername = &lt;&gt;;\n    chomp( $modifyUsername );\n\n    my $modifyUserName =~ s/[^a-zA-Z0-9]//g;\n    if ( exists( $temporaryhash{$modifyUsername} ) )\n\n      # checking if username exists, and if it does, then prompt for\n      # password\n\n    {\n\n        print \"password:, \" . \"\\n\";\n        my $oldpassword = &lt;&gt;;\n        chomp( $oldpassword );\n\n        if ( $oldpassword eq $temporaryhash{$modifyUserName} )\n\n        {\n            print \"new password: \";\n\n            $newpassword = &lt;&gt;;\n            chomp( $newpassword );\n            $newpassword =~ s/\\'//g;\n\n            return %temporaryhash;\n\n        }\n\n        print \"Invalid password\";\n        return %temporaryhash;\n\n    }\n\n    print \"user does not exist\";\n\n    return %temporaryhash;\n\n}\n\nsub removeUser {\n\n    my $grabparameter = shift;\n    my %temporaryhash = %$grabparameter;\n\n    print \"User to remove:\";\n    my $removeuser = &lt;&gt;;\n    chomp( $removeuser );\n\n    if ( exists( $temporaryhash{$removeuser} ) ) {\n        delete( $temporaryhash{$removeuser} );\n        return %temporaryhash;\n    }\n    print \"user does not exist\";\n\n    return %temporaryhash;\n\n}\n\nsub generateList {\n\n    my $grabparameter = shift;\n    my %temporaryhash = %$grabparameter;\n\n    for my $userName ( keys %temporaryhash ) {\n\n        print \"----------------------------\", \"\\n\";\n        print \"List of User Accounts\",        \"\\n\";\n        print \"\\n\";\n        print \"$userName: $temporaryhash{$userName}\";\n\n        print $userName. \":\" . $temporaryhash{$userName} . \"\\n\";\n\n        #print user name and passowrd, then colon, then it will print the associated\n        value with the username\n\n    }\n\n    return %temporaryhash;\n}\n\n1;\n</code></pre>\n"}, {"tags": ["perl", "amazon-web-services", "amazon-ec2"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1442946702, "post_id": 32724113, "comment_id": 53291146, "body": "For one thing, use correctly formatted authorization header or parameters. Either that or show some code."}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1442970404, "post_id": 32724113, "comment_id": 53300870, "body": "What are you passing to the constructor for <code>signature_version</code>?  Are you using the latest version of the module? Does <code>debug =&gt; 1</code> provide any more info?  Was it working, then stopped, or is this your first attempt?"}, {"owner": {"reputation": 533, "user_id": 457176, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/47133309c7463618993903d614f7312d?s=128&d=identicon&r=PG", "display_name": "Stef", "link": "https://stackoverflow.com/users/457176/stef"}, "edited": false, "score": 0, "creation_date": 1443327915, "post_id": 32724113, "comment_id": 53446261, "body": "Added the code. It was not working. It failed straight away. signature_version = 4."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 1977470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae64fe7e1e54edcbf913d026952559fb?s=128&d=identicon&r=PG", "display_name": "Stephen Adkins", "link": "https://stackoverflow.com/users/1977470/stephen-adkins"}, "is_accepted": false, "score": 0, "last_activity_date": 1447973224, "creation_date": 1447973224, "answer_id": 33815778, "question_id": 32724113, "link": "https://stackoverflow.com/questions/32724113/authfailure-with-netamazonec2/33815778#33815778", "title": "AuthFailure with Net::Amazon::EC2", "body": "<p>I got the same error when I followed the perl Net::Amazon::EC2 documentation (which said to include signature_version => 4).\nI commented this out (which falls back to the default value of 2), and it all worked.</p>\n"}], "owner": {"reputation": 533, "user_id": 457176, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/47133309c7463618993903d614f7312d?s=128&d=identicon&r=PG", "display_name": "Stef", "link": "https://stackoverflow.com/users/457176/stef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447973224, "creation_date": 1442946038, "last_edit_date": 1443292125, "question_id": 32724113, "link": "https://stackoverflow.com/questions/32724113/authfailure-with-netamazonec2", "title": "AuthFailure with Net::Amazon::EC2", "body": "<p>I'm using the example from Net::Amazon::EC2 to connect to my EC2 instances.\nI have set the correct AWSAccessKeyId and SecretAccessKey. No more changes.</p>\n\n<p>Code:</p>\n\n<pre><code> my $ec2 = Net::Amazon::EC2-&gt;new(\n        AWSAccessKeyId    =&gt; 'abcdef',\n        SecretAccessKey   =&gt; 'defghijklmnopq',\n        signature_version =&gt; 4,\n );\n</code></pre>\n\n<p>However, I get the follwing error: </p>\n\n<pre><code>[AuthFailure] Authorization header or parameters are not formatted correctly.\n</code></pre>\n\n<p>Any idea what I should do different?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "global-variables", "subroutine"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 3, "creation_date": 1442945856, "post_id": 32723941, "comment_id": 53290587, "body": "<code>%localhash{$user_name} = $user_password;</code> - this line should be <code>$localhash{$user_name}</code>, no? And why do you basically break the code with than <code>return %localhash;</code> in the middle of it? )"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1442946079, "post_id": 32723941, "comment_id": 53290748, "body": "and you shouldn&#39;t use last outside a loop"}, {"owner": {"reputation": 1, "user_id": 5364556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2fe938b90b77f1fd988463dbe746e3?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Rodriguez", "link": "https://stackoverflow.com/users/5364556/robert-rodriguez"}, "edited": false, "score": 0, "creation_date": 1442946084, "post_id": 32723941, "comment_id": 53290753, "body": "I am unsure about that, I followed my professor for that line. Not sure if he made a mistake or if I followed incorrectly there but I dont think I got an error for that."}, {"owner": {"reputation": 1, "user_id": 5364556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2fe938b90b77f1fd988463dbe746e3?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Rodriguez", "link": "https://stackoverflow.com/users/5364556/robert-rodriguez"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1442946171, "post_id": 32723941, "comment_id": 53290816, "body": "@ysth I will be calling this subroutine inside a loop from my main Perl file, is this format still fine if I want it to exit the loop if user does not exist?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1442946873, "post_id": 32723941, "comment_id": 53291251, "body": "@RobertRodriguez: that will work, but is a very bad idea and so gives a warning;  to suppress the warning, do <code>if (...) { print &quot;Error, user already exists!&quot;; no warnings &#39;exiting&#39;; last; }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5364556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2fe938b90b77f1fd988463dbe746e3?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Rodriguez", "link": "https://stackoverflow.com/users/5364556/robert-rodriguez"}, "edited": false, "score": 0, "creation_date": 1442946510, "post_id": 32724202, "comment_id": 53291037, "body": "Thank you guys so much! Yes, the problem was that since it was Sub rather than sub and not continuing on, also found a few more little errors thanks to fixing this. Thank you again."}, {"owner": {"reputation": 1, "user_id": 5364556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2fe938b90b77f1fd988463dbe746e3?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Rodriguez", "link": "https://stackoverflow.com/users/5364556/robert-rodriguez"}, "edited": false, "score": 0, "creation_date": 1442946700, "post_id": 32724202, "comment_id": 53291144, "body": "In that case what would be my best bet to have the program restart should the <code>if(exists ($localhash{$user_name}))</code> = true?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 1, "user_id": 5364556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2fe938b90b77f1fd988463dbe746e3?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Rodriguez", "link": "https://stackoverflow.com/users/5364556/robert-rodriguez"}, "edited": false, "score": 0, "creation_date": 1442947013, "post_id": 32724202, "comment_id": 53291330, "body": "I would probably make it just do <code>return;</code> and in the caller, do something like <code>%user = insert_user(...) or last;</code>"}, {"owner": {"reputation": 1, "user_id": 5364556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2fe938b90b77f1fd988463dbe746e3?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Rodriguez", "link": "https://stackoverflow.com/users/5364556/robert-rodriguez"}, "edited": false, "score": 0, "creation_date": 1442947206, "post_id": 32724202, "comment_id": 53291460, "body": "Thank you very much once again, I just realized with what you said that the <code>return %localhash;</code> is what that is for."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 4, "last_activity_date": 1442963925, "last_edit_date": 1442963925, "creation_date": 1442946337, "answer_id": 32724202, "question_id": 32723941, "link": "https://stackoverflow.com/questions/32723941/global-symbol-requires-package-name-while-using-my-in-sub/32724202#32724202", "title": "Global Symbol requires package name while using &quot;my&quot; in Sub", "body": "<p>The <em>first</em> error you get is <code>syntax error at foo.pl line 13, near \"my \"</code>; getting a syntax error throws perl's parser off and you will often get spurious errors afterwards due to it not having successfully recognized a declaration or being mistaken about scope.  Ignore them and fix the syntax error (which in this case is actually a couple lines earlier: <code>Sub</code> instead of <code>sub</code>, as pointed out by toolic).  That will get you on to the next error :)</p>\n\n<p>Other comments:</p>\n\n<p>Using <code>last</code> as you do is bad; it will exit a loop, but there isn't a loop in your code.  If your sub is called from within a loop, it will (with a warning) exit your sub and exit <em>that</em> loop, but that is the kind of action at a distance that leads to bugs.</p>\n\n<p>For a long time, Exporter hasn't needed to be subclassed; simply <code>use Exporter 'import';</code> instead of setting <code>@ISA</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1442949597, "creation_date": 1442949597, "answer_id": 32725136, "question_id": 32723941, "link": "https://stackoverflow.com/questions/32723941/global-symbol-requires-package-name-while-using-my-in-sub/32725136#32725136", "title": "Global Symbol requires package name while using &quot;my&quot; in Sub", "body": "<p>In addition to the issue with <code>Sub</code>, you have <code>%localhash{$user_name}</code> instead of <code>$localhash{$user_name}</code>; you check whether your user name already exists\n<em>before</em> you strip non-alphanumeric characters and lower-case it, which is wrong; and you fail to <code>chomp</code> the password. You also have very little blank space, which can make a program much more readable</p>\n\n<p>This is something like what I would write</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Exporter qw/ import /;\n\nour @EXPORT = qw/ insert_user modify_user remove_user generate_list /;\n\nsub insert_user {\n    my ($param)   = @_;\n    my %localhash = %$param;\n\n    print \"Please enter user name: \";\n    my $user = &lt;&gt;;\n    chomp $user;\n\n    $user =~ s/[^a-zA-Z0-9]//g;\n    $user = lc $user;\n    if ( exists $localhash{$user} ) {\n        warn \"Error, user already exists!\";\n        return;\n    }\n\n    print \"Please enter a password: \";\n    my $pass = &lt;&gt;;\n    chomp $pass;\n    $localhash{$user} = $pass;\n\n    return %localhash;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5364556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2fe938b90b77f1fd988463dbe746e3?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Rodriguez", "link": "https://stackoverflow.com/users/5364556/robert-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 32724202, "answer_count": 2, "score": -1, "last_activity_date": 1442963925, "creation_date": 1442945437, "last_edit_date": 1442945781, "question_id": 32723941, "link": "https://stackoverflow.com/questions/32723941/global-symbol-requires-package-name-while-using-my-in-sub", "title": "Global Symbol requires package name while using &quot;my&quot; in Sub", "body": "<p>I have a class where we are learning Perl so forgive me if I made a simple/obvious error as I am still learning. My question is why do I get the error</p>\n\n<blockquote>\n  <p>Global Symbol \"%localhash\" requires explicit package name</p>\n</blockquote>\n\n<p>as well as the same error for \"$param\" when I do declare it with \"my %localhash\" the first time inside the Sub.</p>\n\n<p>My code for reference:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Exporter;\nuse vars qw(@ISA @EXPORT);\n\n@ISA=qw(Exporter);\n@EXPORT=(\"insert_user\", \"modify_user\", \"remove_user\", \"generate_list\");\n\n\n#Insert user Function\nSub insert_user{\n    my $param = shift;\n    my %localhash = %$param;\n    print \"Please enter Username: \";\n    my $user_name = &lt;&gt;;\n    chomp($user_name);\n    if(exists ($localhash{$user_name})){ \n        print \"Error, user already exists!\";\n        last;\n    }\n    $user_name =~ s/[^a-zA-Z0-9]//g;\n    $user_name = lc($user_name);\n    $localhash{$user_name};\n    return %localhash;\n    print \"Please enter a password: \";\n    my $user_password = &lt;&gt;;\n    %localhash{$user_name} = $user_password;\n    return %localhash;\n}\n</code></pre>\n\n<p>In my class we are suppose to use \"my $param\" and \"my %localhash\" various times so I would repeat the same process in declaring \"my\" in every Sub but I keep getting the same error as if the \"my\" is not there.</p>\n"}, {"tags": ["javascript", "perl", "reactjs", "catalyst"], "comments": [{"owner": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "edited": false, "score": 0, "creation_date": 1442940773, "post_id": 32722433, "comment_id": 53287581, "body": "Why not check the incrementing key on the server side and not even require two separate calls?"}, {"owner": {"reputation": 103, "user_id": 5364237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cacfbd57d7d2ed27cc409556f8aeaae4?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bondwal", "link": "https://stackoverflow.com/users/5364237/amit-bondwal"}, "reply_to_user": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "edited": false, "score": 0, "creation_date": 1442941529, "post_id": 32722433, "comment_id": 53288070, "body": "thanks for comment,  that page in our app will run continuously and it will updated with from different  pages from different users, Currently, I don&#39;t have any idea how to implement this on each Ajax get request response on every 10 sec to avoid load on server. so we setup it separately."}, {"owner": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "edited": false, "score": 0, "creation_date": 1442941918, "post_id": 32722433, "comment_id": 53288304, "body": "You may wish to consider using something like flux or redux then and have your store implement the logic to only perform the ajax request if the token is updated.  I don&#39;t think this should be a difficult problem to solve if the application is designed correctly, so you may have a design problem here (which flux or redux should fix).  Otherwise, just expose your token somewhere it can be read by the code performing the ajax requests, and have it check the token before making the call...  or is your question about how to perform such a check or?"}, {"owner": {"reputation": 103, "user_id": 5364237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cacfbd57d7d2ed27cc409556f8aeaae4?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bondwal", "link": "https://stackoverflow.com/users/5364237/amit-bondwal"}, "reply_to_user": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "edited": false, "score": 0, "creation_date": 1442942356, "post_id": 32722433, "comment_id": 53288577, "body": "thanks Trevor Freeman,  yes you got my point, how to perform such a check ? Let me correct if I am wrong, Is this type of check is not possible in reactjs only and I have to use flux or redux for this."}, {"owner": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "edited": false, "score": 0, "creation_date": 1442942633, "post_id": 32722433, "comment_id": 53288730, "body": "No you don&#39;t have to use flux or redux, but they will just allow you to have a cleaner application design.  As far as I can understand, all you need to do is change your timer task to call your new ajax function every 10 seconds, and then when it receives its result (so in its success handler), check if the token has changed (vs a copy you have kept of the previous value), and then just perform your new ajax call if it has.  It would seem you must already have most of the code written and you only need to add an <code>if</code> statement to compare the tokens...?"}, {"owner": {"reputation": 103, "user_id": 5364237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cacfbd57d7d2ed27cc409556f8aeaae4?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bondwal", "link": "https://stackoverflow.com/users/5364237/amit-bondwal"}, "reply_to_user": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "edited": false, "score": 0, "creation_date": 1442942986, "post_id": 32722433, "comment_id": 53288940, "body": "I am trying to do same logic as you mentioned, but I am struck at, I am not able to return the data of  setinterval of fucnction in reactjs for one ajax, for eg. in my testing code var token2 = setInterval(this.Refresh_token, 10000);"}, {"owner": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "edited": false, "score": 0, "creation_date": 1442943175, "post_id": 32722433, "comment_id": 53289034, "body": "Add the code you have tried to your question so that we have something to work off of to help provide an answer.  Difficult to understand exactly what the issue is without seeing more code."}, {"owner": {"reputation": 103, "user_id": 5364237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cacfbd57d7d2ed27cc409556f8aeaae4?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bondwal", "link": "https://stackoverflow.com/users/5364237/amit-bondwal"}, "reply_to_user": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "edited": false, "score": 0, "creation_date": 1442943562, "post_id": 32722433, "comment_id": 53289268, "body": "eg. componentDidMount: function(){         this.Order_list();         var token1 = this.Refresh_token();         var token2 = setInterval(this.Refresh_token, 10000);         if (token1 != token2)    {                                            self.Order_list();  token1 = token2;  } This above code don&#39;t reach upto if section, it just keep rotating at setinterval line"}, {"owner": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "edited": false, "score": 0, "creation_date": 1442943791, "post_id": 32722433, "comment_id": 53289372, "body": "Better to add your code to the question by editing it, as it is hard to read in a comment.  However, saying that, you are attempting to assign <code>token2</code> as the result of the call to <code>setInterval</code>, which is not what <code>setInterval</code> is returning.  Further, you are comparing that token value after the setInterval call, when you need to be comparing it in your ajax response handler."}, {"owner": {"reputation": 103, "user_id": 5364237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cacfbd57d7d2ed27cc409556f8aeaae4?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bondwal", "link": "https://stackoverflow.com/users/5364237/amit-bondwal"}, "reply_to_user": {"reputation": 6652, "user_id": 1074041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdffa67a952f13f25de129939c16e6a1?s=128&d=identicon&r=PG", "display_name": "Trevor Freeman", "link": "https://stackoverflow.com/users/1074041/trevor-freeman"}, "edited": false, "score": 0, "creation_date": 1442944871, "post_id": 32722433, "comment_id": 53289997, "body": "I will update my whole code soon."}], "answers": [{"tags": [], "owner": {"reputation": 256, "user_id": 5310892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d503c0f16a06f0829d810f579bbf9301?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Huynh.", "link": "https://stackoverflow.com/users/5310892/ryan-huynh"}, "is_accepted": true, "score": 0, "last_activity_date": 1443195963, "last_edit_date": 1443195963, "creation_date": 1442970361, "answer_id": 32729423, "question_id": 32722433, "link": "https://stackoverflow.com/questions/32722433/result-of-multiple-ajax-requests-one-depends-on-other-ajax-output/32729423#32729423", "title": "Result of Multiple Ajax requests, one depends on other Ajax Output", "body": "<p>Think about the \"Refresh_token\" component as your controller. It will handle all of the checking token and get the new order when token has changed. The \"Order list\" should not know when a token has changed, its job is to re-render its view when a new list has arrived.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//Section 1 Starts Here\r\nvar Orderlist = React.createClass({\r\n\trender: function(){\r\n        var orderlist11 = [];\r\n        for(var i = 0; i &lt; this.props.list.length; i++){\r\n        \tvar orderItem = this.props.list[i];\r\n\t        orderlist11.push(\r\n\t        \t&lt;div className=\"card\"&gt;\r\n\t        \t\t&lt;div className=\"title\"&gt;\r\n\t        \t\t\tOrder Number {orderItem.ordernumber} \r\n\t        \t\t&lt;/div&gt;\r\n        \t\t\t&lt;div className=\"content\"&gt; \r\n        \t\t\t\tDate &amp; Time : {orderItem.bizorderdate} &lt;br /&gt;\r\n         \t\t\t\tUsername : {orderItem.userid}\r\n        \t\t\t&lt;/div&gt;\r\n                &lt;/div&gt;\r\n            );\r\n\t\t}\r\n        return (\r\n            &lt;div&gt; {orderlist11} &lt;/div&gt;\r\n        );\r\n \t}\r\n});\r\n \r\n////// Section 1 ends here\r\n \r\n \r\nvar RefreshToken = React.createClass({\r\n \t\r\n    getInitialState : function(){\r\n        return {\r\n            token : -1 , //Or anything that is not a token.\r\n            orderlist : []\r\n        }                      \r\n    },\r\n\r\n    refreshTimer : null,\r\n    componentDidMount : function(){\r\n    \tthis.get_order_list(); //Get the intial order list\r\n        this.refreshTimer = setInterval(this.refresh_token, 10000); //Call to check the new token every 10s\r\n    },\r\n     \r\n    refresh_token : function(){\r\n        $.ajax({\r\n            type: 'GET',\r\n            url: \"/order/refresh\",\r\n            headers: {\r\n                Accept : \"application/json\",\"Content-Type\": \"application/json\"\r\n            },\r\n            success: function (resp){\r\n            \tvar newToken = resp;\r\n           \t\tconsole.log(newToken); //it give the value of refresh eg. [\"20150925313\"] //Assume this will give the new value of the order list changed.\r\n                if(newToken != this.state.token){\r\n                    this.setState({ token: newToken});\r\n                    this.get_order_list() //Get the new list when token has changed.\r\n            //      console.log(this.state.resp);\r\n                } \r\n            }.bind(this)\r\n        });\r\n    },\r\n\r\n   \tget_order_list : function(){\r\n        $.ajax({\r\n            type: 'GET',\r\n            url: \"/order/list/10/1\",\r\n            headers: {\r\n            Accept : \"application/json\", \"Content-Type\": \"application/json\"\r\n            },\r\n            success: function(orderlist) {\r\n\t            //      console.log(orderlist);\r\n\t            //      console.log(this.state.orderlist);\r\n           \t\tthis.setState({orderlist: orderlist});\r\n           \t}.bind(this),\r\n           \terror: function(xhr, status, err) {\r\n       \t\t}\r\n        });\r\n    },\r\n\r\n    render: function(){\r\n    \treturn &lt;Orderlist list={this.state.orderlist} /&gt;\r\n    }\r\n});\r\n \r\nReact.render(\r\n  &lt;RefreshToken  /&gt;,\r\n  document.getElementById('list_of_orders')\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 103, "user_id": 5364237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cacfbd57d7d2ed27cc409556f8aeaae4?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bondwal", "link": "https://stackoverflow.com/users/5364237/amit-bondwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 32729423, "answer_count": 1, "score": 0, "last_activity_date": 1544451066, "creation_date": 1442940452, "last_edit_date": 1544451066, "question_id": 32722433, "link": "https://stackoverflow.com/questions/32722433/result-of-multiple-ajax-requests-one-depends-on-other-ajax-output", "title": "Result of Multiple Ajax requests, one depends on other Ajax Output", "body": "<p>I am developing a web application on Perl Catalyst and using ReactJS for the view, jQuery for AJAX, and JSX added as a script in the header.</p>\n\n<p>I am able to fetch AJAX JSON data on a page and refresh the data every 10 seconds. We found this option we create on load on server to fetch data on every 10 seconds. This application is going to be used by a number of users together, so we autogenerate a key which will be incremented if any data is updated on that database table. We set this key on the rest, and it can be accessed by AJAX JSON.</p>\n\n<p>I want to implement a React component which will check this autogenerated AJAX JSON key and will compare it to its previous value every 10 seconds. If they are not equal then it will call the other AJAX function or React component which will update the data on the view page, and older values will be replaced by new.</p>\n\n<p>I have searched a lot but don't get the logic to implement this in ReactJS. Any logic or reference link will be helpful.</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 1652, "user_id": 2678246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff985eff214bdd3126700c60812ae20?s=128&d=identicon&r=PG&f=1", "display_name": "edi_allen", "link": "https://stackoverflow.com/users/2678246/edi-allen"}, "edited": false, "score": 3, "creation_date": 1442940926, "post_id": 32722400, "comment_id": 53287681, "body": "you can use this command <code>cat sample.txt | sort -k 2</code>"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1442941587, "post_id": 32722400, "comment_id": 53288107, "body": "Or <code>sort -k2 sample.txt</code>, or <code>sort -k2 &lt; sample.txt</code>"}], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 2, "creation_date": 1442943285, "post_id": 32723119, "comment_id": 53289095, "body": "Using the <code>-b</code> option makes the field offset more sane: <code>sort -b -k 2.2</code>"}], "tags": [], "owner": {"reputation": 1463, "user_id": 3083195, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/862fcf01c7837e10629ed86910f46029?s=128&d=identicon&r=PG&f=1", "display_name": "anurag86", "link": "https://stackoverflow.com/users/3083195/anurag86"}, "is_accepted": false, "score": 5, "last_activity_date": 1442942645, "creation_date": 1442942645, "answer_id": 32723119, "question_id": 32722400, "link": "https://stackoverflow.com/questions/32722400/linux-command-to-sort-according-to-second-word-character/32723119#32723119", "title": "Linux command to sort according to second word/character", "body": "<p>I got the answer for both the questions:</p>\n\n<p>For sorting by second word: <code>sort -k2 myfile</code></p>\n\n<p>For sorting by second character of second word <code>sort -k2.3 myfile</code></p>\n"}], "owner": {"reputation": 1463, "user_id": 3083195, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/862fcf01c7837e10629ed86910f46029?s=128&d=identicon&r=PG&f=1", "display_name": "anurag86", "link": "https://stackoverflow.com/users/3083195/anurag86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2474, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1442942645, "creation_date": 1442940327, "last_edit_date": 1442941569, "question_id": 32722400, "link": "https://stackoverflow.com/questions/32722400/linux-command-to-sort-according-to-second-word-character", "title": "Linux command to sort according to second word/character", "body": "<p>I have a linux file whose content is as below:</p>\n\n<pre><code>hey this \nis just\nsample file\n</code></pre>\n\n<p>I want to :</p>\n\n<p><strong>1.</strong>  sort the three lines according to the second word so the output should be :</p>\n\n<pre><code>sample file\nis just\nhey this \n</code></pre>\n\n<p><strong>2.</strong>  sort the three lines according to the second character of second line, so the output would be :</p>\n\n<pre><code>hey this \nsample file\nis just\n</code></pre>\n\n<p>Is there anyway i can run a perl/unix command on command line(doesnt matter using pipes)?</p>\n"}, {"tags": ["perl", "attributes", "moose"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1442933154, "post_id": 32719874, "comment_id": 53282324, "body": "Related: <a href=\"http://stackoverflow.com/q/32613115/176646\">Proper way to use a Moose class attribute in a regex?</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1442934384, "post_id": 32719874, "comment_id": 53283188, "body": "Why do you want to do that? Maybe implementing it as an <code>around</code> modifier for the writer or as a trigger makes more sense than having it somewhere else?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1442936464, "post_id": 32719874, "comment_id": 53284766, "body": "If the accessor was an lvalue sub, it would effectively access <code>$self-&gt;{attr}</code> directly unless magical return values were created, slowing every down every access that doesn&#39;t need it."}], "answers": [{"comments": [{"owner": {"reputation": 9765, "user_id": 923794, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/39295680c5745451291043469e408c18?s=128&d=identicon&r=PG", "display_name": "cfi", "link": "https://stackoverflow.com/users/923794/cfi"}, "edited": false, "score": 0, "creation_date": 1442933368, "post_id": 32720059, "comment_id": 53282461, "body": "This is shorter than my listed attempts, and thus a good suggestion. If we could avoid the code redundancy, that would be good."}, {"owner": {"reputation": 9765, "user_id": 923794, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/39295680c5745451291043469e408c18?s=128&d=identicon&r=PG", "display_name": "cfi", "link": "https://stackoverflow.com/users/923794/cfi"}, "edited": false, "score": 0, "creation_date": 1443040547, "post_id": 32720059, "comment_id": 53338675, "body": "Even though I went with my own answer as a solution, and even though I did not (and currently will not) do a performance benchmark, I mark yours as the solution, because it is not a wise idea to pay a performance penalty for every access when all we get is a little less coding redundancy. While I am strongly opposing such redundancy, this one is very local (two attr names right next to each other and well maintainable."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 5, "last_activity_date": 1442933268, "creation_date": 1442933268, "answer_id": 32720059, "question_id": 32719874, "link": "https://stackoverflow.com/questions/32719874/how-to-efficiently-apply-a-regex-substitution-on-a-moose-attribute/32720059#32720059", "title": "How to efficiently apply a regex substitution on a Moose attribute?", "body": "<p>I have used this approach in the past and I think it seems suitable to me for general use in terms of efficiency and cleanliness. It also works with the <code>/g</code> modifier. </p>\n\n<pre><code>$self-&gt;attr( $self-&gt;attr =~ s/pattern/string/gr );\n</code></pre>\n\n<p>I suspect that under the hood this is the same as your first example with the temporary variable, it is just hidden from us.</p>\n\n<p>Please note that the to use the <code>/r</code> modifier, which returns the result of the substitution without modifying the original, requires Perl 5.14+. </p>\n"}, {"comments": [{"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1442939705, "post_id": 32720372, "comment_id": 53286898, "body": "Um, it does? At latest reading just now (version 0.981) claims that all the validation and triggers work just fine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1442945513, "post_id": 32720372, "comment_id": 53290372, "body": "@LeoNerd is right. It returns a magical scalar instead of returning <code>$self-&gt;{attr}</code> directly in order to properly do stuff like type checking. I believe this significantly adds to the cost of the accessing the attribute."}, {"owner": {"reputation": 9765, "user_id": 923794, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/39295680c5745451291043469e408c18?s=128&d=identicon&r=PG", "display_name": "cfi", "link": "https://stackoverflow.com/users/923794/cfi"}, "reply_to_user": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1442991438, "post_id": 32720372, "comment_id": 53307114, "body": "@LeoNerd and ikegami: What a blatant blunder: I read the docs and wrote the opposite. Thanks for correcting me, I&#39;ve updated the answer."}], "tags": [], "owner": {"reputation": 9765, "user_id": 923794, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/39295680c5745451291043469e408c18?s=128&d=identicon&r=PG", "display_name": "cfi", "link": "https://stackoverflow.com/users/923794/cfi"}, "is_accepted": false, "score": 4, "last_activity_date": 1442991386, "last_edit_date": 1495542698, "creation_date": 1442934202, "answer_id": 32720372, "question_id": 32719874, "link": "https://stackoverflow.com/questions/32719874/how-to-efficiently-apply-a-regex-substitution-on-a-moose-attribute/32720372#32720372", "title": "How to efficiently apply a regex substitution on a Moose attribute?", "body": "<p>My Option (2) and <a href=\"https://stackoverflow.com/questions/582427/how-do-i-handle-optional-parameters-in-moose/582951?s=1|1.7318#582951\">this question</a> provide the idea to use <a href=\"http://search.cpan.org/~tobyink/MooseX-LvalueAttribute/lib/MooseX/LvalueAttribute.pm\" rel=\"nofollow noreferrer\">MooseX::LvalueAttributes</a>:</p>\n\n<pre><code>package Test;\nuse Moose;\nuse MooseX::LvalueAttribute 'lvalue';\nhas 'attr' =&gt; ( is =&gt; 'rw', isa =&gt; 'Str', traits =&gt; [lvalue] );\n</code></pre>\n\n<p>This allows the straightforward syntax:</p>\n\n<pre><code>$self-&gt;attr($dummy) =~ s/pattern/string/g;\n</code></pre>\n\n<p>Internally this uses <a href=\"http://search.cpan.org/~vpit/Variable-Magic/lib/Variable/Magic.pm\" rel=\"nofollow noreferrer\">Variable::Magic</a> and the <a href=\"http://perldoc.perl.org/perlsub.html#Lvalue-subroutines\" rel=\"nofollow noreferrer\">perlsub lvalue</a> feature, so there is a performance overhead to this approach which affects every access to the 'traited' attribute, not just the ones where it's used as a left hand side. Thanks to LeoNerd and ikegami for their correcting comments on my earlier statements.</p>\n\n<p>Therefore, and confirmed by the module's documentation, Moose's type checking still works and triggers are fired.</p>\n"}], "owner": {"reputation": 9765, "user_id": 923794, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/39295680c5745451291043469e408c18?s=128&d=identicon&r=PG", "display_name": "cfi", "link": "https://stackoverflow.com/users/923794/cfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 32720059, "answer_count": 2, "score": 4, "last_activity_date": 1442991386, "creation_date": 1442932812, "last_edit_date": 1442933634, "question_id": 32719874, "link": "https://stackoverflow.com/questions/32719874/how-to-efficiently-apply-a-regex-substitution-on-a-moose-attribute", "title": "How to efficiently apply a regex substitution on a Moose attribute?", "body": "<p>I have a</p>\n\n<pre><code>package Test;\nuse Moose;\nhas 'attr' =&gt; ( is =&gt; 'rw', isa =&gt; 'Str' );\n</code></pre>\n\n<p>Inside a method I'd like to apply a <code>s/pattern/string/g</code> on the attribute. For reasons documented in Moose (basically to properly support polymorphism) I do not want to access the <code>$self-&gt;{attr}</code> directly, so a simple:</p>\n\n<pre><code>$self-&gt;{attr} =~ s/pattern/string/g;\n</code></pre>\n\n<p>is not an option. How can I do this efficiently in speed and little but clear code with Moose?</p>\n\n<p>Options I came up with are:</p>\n\n<p>1) Use a temporary variable, and the usual getter/setter method:</p>\n\n<pre><code>my $dummy = $self-&gt;attr;\n$dummy =~ s/pattern/string/g;\n$self-&gt;attr($dummy);\n</code></pre>\n\n<p>2) Using the attr getter/setter on the left hand side:</p>\n\n<pre><code>$self-&gt;attr($dummy) =~ s/pattern/string/g;\n</code></pre>\n\n<p>But this obviously throws an error</p>\n\n<blockquote>\n  <p>Can't modify non-lvalue subroutine call at Test.pm\n  line 58,  line 29</p>\n</blockquote>\n\n<p>Is there a way to use Moose accessors as <a href=\"http://perldoc.perl.org/perlsub.html#Lvalue-subroutines\" rel=\"nofollow\">lvalue subs</a>?</p>\n\n<p>3) Use the <a href=\"http://search.cpan.org/~ether/Moose/lib/Moose/Meta/Attribute/Native/Trait/String.pm\" rel=\"nofollow\">String traits</a></p>\n\n<p>Redefine the attribute:</p>\n\n<pre><code>has 'attr' =&gt; ( is =&gt; 'rw', isa =&gt; 'Str', traits  =&gt; ['String'],\n                handles =&gt; { replace_attr =&gt; 'replace'}  );\n</code></pre>\n\n<p>Then in the method use:</p>\n\n<pre><code>$self-&gt;replace_attr('pattern', 'string');\n</code></pre>\n\n<p>However the docs explicitly say, there's no way to specify the <code>/g</code> flag.</p>\n\n<p>Any elegant, simple, somewhat efficient method available out of the box?</p>\n"}, {"tags": ["perl", "perlbrew"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1442932180, "post_id": 32719245, "comment_id": 53281582, "body": "I have not tested this, but since all of the perlbrew information is stored in that single directory <code>~&#47;perl5</code>. I don&#39;t see any reason why you couldn&#39;t update <code>PERLBREW_ROOT</code> to point to <code>&#47;opt&#47;perl5</code> then <code>mv ~&#47;perl5 &#47;opt&#47;perl5</code>. Or depending on how many Perls you have already installed, just <code>rm ~&#47;perl5</code> and reinstall in <code>&#47;opt&#47;perl5</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1442933292, "post_id": 32719245, "comment_id": 53282409, "body": "@Hunter McMillen, <code>@INC</code> will be all wrong, for one."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1442933390, "post_id": 32719245, "comment_id": 53282480, "body": "@ikegami hmm, I would have thought that whenever you <code>perlbrew use vX.XX.XX</code> it would re-examine PERLBREW_ROOT."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1442933520, "post_id": 32719245, "comment_id": 53282559, "body": "I meant to say <code>perlbrew use vX.XX.XX</code> not simply <code>use</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1442933625, "post_id": 32719245, "comment_id": 53282635, "body": "@Hunter McMillen, It does. I didn&#39;t say it wouldn&#39;t find the <code>perl</code>, I said <code>@INC</code> would be all wrong."}], "answers": [{"comments": [{"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 1, "creation_date": 1443419579, "post_id": 32720823, "comment_id": 53469043, "body": "That&#39;s the reason why I compile all my Perls with -D userelocateableinc."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1443453717, "post_id": 32720823, "comment_id": 53488647, "body": "@abraxxa, That helps, but you still have to fix all the shebang lines among other things. // Do you know what the downsides are to doing that?"}, {"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1443543461, "post_id": 32720823, "comment_id": 53531695, "body": "I&#39;m using that on my dev notebook and all prod boxes since years with perlbrew and haven&#39;t noticed any side effect so far. The shebang lines are modified from /usr/bin/env perl by Module::Install, not sure if Dist::Zilla also modifies them."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1443544093, "post_id": 32720823, "comment_id": 53532109, "body": "@abraxxa, Exactly, so you have to change them all if you move the <code>perl</code> build."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1442947531, "last_edit_date": 1442947531, "creation_date": 1442935363, "answer_id": 32720823, "question_id": 32719245, "link": "https://stackoverflow.com/questions/32719245/how-can-i-move-perlbrew-root-to-another-directory/32720823#32720823", "title": "How can I move PERLBREW_ROOT to another directory?", "body": "<p>Unfortunately, you cannot simply move an installed Perl. For starters, the paths added to <code>@INC</code> are hardcoded. I present you four solutions, of which I recommend the third.</p>\n\n<p>But first, I recommend using <code>/opt/perlbrew</code> instead of <code>/opt/perl5/perlbrew</code> since there's no need for the extra level. The code snippets below assume you followed this recommendation.</p>\n\n<ol>\n<li><p>Start from scratch, reinstalling any build of <code>perl</code> you had.</p>\n\n<p>Con: For each build, you'll also have to reinstall any modules that build had installed. This means you'll need to retest all your applications. This is time consuming, and not without risk.</p></li>\n<li><p>Move the <code>perlbrew</code> directory, but attempt to fix the installations.</p>\n\n<p>Move the installation as follows if <code>~</code> and <code>/opt</code> are on the same file system:</p>\n\n<pre><code>mv ~/perl5/perlbrew /opt/\n# Adjust file ownership and permissions as desired.\n</code></pre>\n\n<p>Move the installation as follows if <code>~</code> and <code>/opt</code> are on different file systems:</p>\n\n<pre><code>( cd ~/perl5 ; tar c perlbrew ) | ( cd /opt ; tar x )\n# Adjust file ownership and permissions as desired.\n</code></pre>\n\n<p>Then, edit the paths in each of the files printed by the following:</p>\n\n<pre><code>for q in /opt/perlbrew/perls/* ; do\n   \"$q/bin/perl\" -le'\n      use Config;\n      require \"Config_heavy.pl\";\n      print $INC{\"Config.pm\"};\n      print $INC{\"Config_heavy.pl\"};\n   '\ndone\n</code></pre>\n\n<p>You'll also need to edit the shebang (<code>#!</code>) line of many scripts.</p>\n\n<p>Con: Lots of work (though not nearly as much as the first option), fragile, and not guaranteed to work.</p></li>\n<li><p>Create future builds in <code>/opt/perlbrew</code>, but keep existing builds where they are.</p>\n\n<p>After installing <code>perlbrew</code> in <code>/opt/perlbrew</code>, run the following:</p>\n\n<pre><code>cd /opt/perlbrew/perls\nfor q in ~/perl5/perlbrew/perls/* ; do\n   ln -s \"$q\"\ndone\n</code></pre>\n\n<p>Pro: Super simple and quick. Over time, you can phase out your <code>~/perl5/perlbrew</code> (by deleting unneeded builds, by replacing them as per option 1, or by moving them as per option 2).</p>\n\n<p>Con: Everyone that should have access to <code>/opt/perlbrew</code> also needs access to your <code>~/perl5/perlbrew</code>.</p></li>\n<li><p>Don't change <code>PERLBREW_ROOT</code>. Simply make <code>/opt/perlbrew</code> a symlink.</p>\n\n<pre><code>ln -s ~/perl5/perlbrew /opt/perlbrew\n</code></pre>\n\n<p>Pro: Super simple and quick.</p>\n\n<p>Con: Everyone that should have access to <code>/opt/perlbrew</code> also needs access to your <code>~/perl5/perlbrew</code>.</p></li>\n</ol>\n"}], "owner": {"reputation": 3051, "user_id": 273715, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ab9aa9a46949395bb99da49178cc5069?s=128&d=identicon&r=PG", "display_name": "jottr", "link": "https://stackoverflow.com/users/273715/jottr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1193, "favorite_count": 3, "accepted_answer_id": 32720823, "answer_count": 1, "score": 9, "last_activity_date": 1442947531, "creation_date": 1442931142, "last_edit_date": 1442936193, "question_id": 32719245, "link": "https://stackoverflow.com/questions/32719245/how-can-i-move-perlbrew-root-to-another-directory", "title": "How can I move PERLBREW_ROOT to another directory?", "body": "<p>I use <a href=\"http://perlbrew.pl/\" rel=\"noreferrer\"><code>perlbrew</code></a> to manage my Perl environment. \nWhen I installed <code>perlbrew</code> the first time as per the documentation, it installed everything to <code>~/perl5/perlbrew</code>, which I now find undesirable. </p>\n\n<p>The documentation states: </p>\n\n<blockquote>\n  <p>The directory ~/perl5/perlbrew will contain all install perl executables, libraries, documentations, lib, site_libs. In the documentation, that directory is referred as \"perlbrew root\". If you need to set it to somewhere else because, say, your HOME has limited quota, you can do that by setting PERLBREW_ROOT environment variable before running the installer:</p>\n\n<pre><code>export PERLBREW_ROOT=/opt/perl5/perlbrew\ncurl -kL http://install.perlbrew.pl | bash\n</code></pre>\n</blockquote>\n\n<p><strong>Question:</strong> How can I move <code>PERLBREW_ROOT</code> directory to be <code>/opt/perl5/perlbrew</code> instead of <code>~/perl5/perlbrew</code>?</p>\n"}, {"tags": ["regex", "perl", "pattern-matching"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 3, "last_activity_date": 1442931174, "creation_date": 1442931174, "answer_id": 32719260, "question_id": 32719078, "link": "https://stackoverflow.com/questions/32719078/load-regex-from-file-and-match-groups-with-it-in-perl/32719260#32719260", "title": "Load regex from file and match groups with it in Perl", "body": "<p>Your patterns contain a newline character which you need to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">chomp</a>:</p>\n\n<pre><code>while (my $line = &lt;FILE&gt;) {\n    chomp $line;\n    push @pattern, $line;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1442998386, "creation_date": 1442998386, "answer_id": 32735032, "question_id": 32719078, "link": "https://stackoverflow.com/questions/32719078/load-regex-from-file-and-match-groups-with-it-in-perl/32735032#32735032", "title": "Load regex from file and match groups with it in Perl", "body": "<p>First off - <code>chomp</code> is the root of your problem.</p>\n\n<p>However secondly - your code is also very inefficient. Rather than checking patterns in a foreach loop, consider instead compiling a regex in advance:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n# open ( my $pattern_fh, '&lt;', \"pattern.txt\" ) or die $!;\nmy @patterns = &lt;DATA&gt;;\nchomp(@patterns);\nmy $regex = join( '|', @patterns );\n$regex = qr/(?:$regex)/;\nprint \"Using regex of: $regex\\n\";\n\nmy $example_str = 'City of Berlin';\n\nif ( my ($match) = $example_str =~ m/$regex/ ) {\n    print \"Matched: $match\\n\";\n}\n</code></pre>\n\n<p>Why is this better? Well, because it scales more efficiently. With your original algorithm - if I have 100 lines in the patterns file, and 100 lines to check as example str, it means making 10,000 comparisons. </p>\n\n<p>With a single regex, you're making one comparison on each line. </p>\n\n<p>Note - normally you'd use <code>quotemeta</code> when reading in regular expressions, which will escape 'meta' characters. We don't want to do this in this case. </p>\n\n<p>If you're looking for even more concise, you can use <code>map</code> to avoid needing an intermediate array:</p>\n\n<pre><code>my $regex = join( '|', map { chomp; $_ }  &lt;$pattern_fh&gt;  );\n$regex = qr/(?:$regex)/;\nprint \"Using regex of: $regex\\n\";\n\nmy $example_str = 'City of Berlin';\n\nif ( my ($match) = $example_str =~ m/$regex/ ) {\n    print \"Matched: $match\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 825, "user_id": 504729, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JoVY5.jpg?s=128&g=1", "display_name": "beyeran", "link": "https://stackoverflow.com/users/504729/beyeran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1375, "favorite_count": 1, "accepted_answer_id": 32719260, "answer_count": 2, "score": 3, "last_activity_date": 1442998386, "creation_date": 1442930719, "last_edit_date": 1442931024, "question_id": 32719078, "link": "https://stackoverflow.com/questions/32719078/load-regex-from-file-and-match-groups-with-it-in-perl", "title": "Load regex from file and match groups with it in Perl", "body": "<p>I have a file containing regular expressions, e.g.:</p>\n\n<pre><code>City of (.*)\n(.*) State\n</code></pre>\n\n<p>Now I want to read these (line by line), match them against a string, and print out the extraction (matched group). For example: The string <code>City of Berlin</code> should match with the first expression <code>City of (.*)</code> from the file, after that <code>Berlin</code> should be extracted.</p>\n\n<p>This is what I've got so far:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @pattern;\n\nopen(FILE, \"&lt;pattern.txt\");   # open the file described above\nwhile (my $line = &lt;FILE&gt;) {\n    push @pattern, $line;     # store it inside the @pattern variable\n}\nclose(FILE);\n\nmy $exampleString = \"City of Berlin\"; # line that should be matched and\n                                      # Berlin should be extracted\n\nforeach my $p (@pattern) { # try each pattern\n    if (my ($match) = $exampleString =~ /$p/) {\n        print \"$match\";\n    }\n}\n</code></pre>\n\n<p>I want <code>Berlin</code> to be printed.</p>\n\n<ul>\n<li>What happens with the regex inside the <code>foreach</code> loop?</li>\n<li>Is it not compiled? Why?</li>\n<li>Is there even a better way to do this?</li>\n</ul>\n"}, {"tags": ["perl", "moose"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1442928053, "post_id": 32717483, "comment_id": 53278390, "body": "Well, there is <a href=\"https://metacpan.org/pod/Moops\" rel=\"nofollow noreferrer\">metacpan.org/pod/Moops</a>, but I think you only want the part where it takes the boilerplate, right?"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1442933918, "post_id": 32718480, "comment_id": 53282846, "body": "I don&#39;t think OP cares for the actual declarative syntax, but instead only for having less boilerplate."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1442929193, "creation_date": 1442929193, "answer_id": 32718480, "question_id": 32717483, "link": "https://stackoverflow.com/questions/32717483/moose-avoiding-explicit-boilerplate/32718480#32718480", "title": "Moose, avoiding explicit boilerplate", "body": "<p>The <a href=\"https://metacpan.org/pod/MooseX::Declare#WARNING\" rel=\"nofollow\">MooseX::Declare documentation says</a>:</p>\n\n<blockquote>\n  <p>If you want to use declarative syntax in new code, please for the love\n  of kittens get yourself a recent perl and look at <a href=\"https://metacpan.org/pod/Moops\" rel=\"nofollow\">Moops</a> instead.</p>\n</blockquote>\n"}], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 32718480, "answer_count": 1, "score": 2, "last_activity_date": 1442929193, "creation_date": 1442926560, "question_id": 32717483, "link": "https://stackoverflow.com/questions/32717483/moose-avoiding-explicit-boilerplate", "title": "Moose, avoiding explicit boilerplate", "body": "<p><a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/BestPractices.pod\" rel=\"nofollow\">Best practices</a> recommends <code>namespace::autoclean</code> and <code>make_immutable</code></p>\n\n<pre><code>package Person;\n\nuse Moose;\nuse namespace::autoclean;\n\n# extends, roles, attributes, etc.\n\n# methods\n\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n\n1;\n</code></pre>\n\n<p><a href=\"https://metacpan.org/pod/MooseX::Declare\" rel=\"nofollow\"><code>MooseX::Declare</code></a> automatically handles this but it is deprecated, so\nwhat should be recommended alternative(s) to it?</p>\n"}, {"tags": ["perl", "reference", "subroutine"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1442913348, "post_id": 32712809, "comment_id": 53268368, "body": "You should avoid the use of the ampersand <code>&amp;</code> whenever possible. You need to use it when taking a reference to a subroutine, like <code>my $f = \\&amp;F</code>, but you should call that reference with <code>$f-&gt;()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 396, "user_id": 1249683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ez22T.png?s=128&g=1", "display_name": "xebtl", "link": "https://stackoverflow.com/users/1249683/xebtl"}, "edited": false, "score": 0, "creation_date": 1442913523, "post_id": 32712951, "comment_id": 53268482, "body": "You know, I tried <code>core</code> and <code>Core</code>, but not <code>CORE</code>.  I guess I knew this at some point :-)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 396, "user_id": 1249683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ez22T.png?s=128&g=1", "display_name": "xebtl", "link": "https://stackoverflow.com/users/1249683/xebtl"}, "edited": false, "score": 0, "creation_date": 1442913739, "post_id": 32712951, "comment_id": 53268618, "body": "@xebtl me too. But then I remembered. Note that there is also <code>CORE::global::</code> to overwrite stuff."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 9, "last_activity_date": 1442913093, "creation_date": 1442913093, "answer_id": 32712951, "question_id": 32712809, "link": "https://stackoverflow.com/questions/32712809/how-do-i-take-a-reference-to-sin/32712951#32712951", "title": "How do I take a reference to `sin`?", "body": "<p><a href=\"http://perldoc.perl.org/functions/sin.html\"><code>sin</code></a> is not in your current package. You need to call it from <a href=\"http://perldoc.perl.org/CORE.html\">the <code>CORE::</code> namespace</a>. <code>CORE::</code> is where all the built-in functions reside. It is imported automatically. </p>\n\n<pre><code>my $f= \\&amp;CORE::sin;\nprint $f-&gt;(1);\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>0.841470984807897\n</code></pre>\n\n<hr>\n\n<p>Knowing about <code>CORE::foo</code> is mostly usefull if you want to call the original built-in after a function was overwritten.</p>\n\n<pre><code>use Time::HiRes 'time';\n\nsay time;\nsay CORE::time;\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>1442913293.20158\n1442913293\n</code></pre>\n"}], "owner": {"reputation": 396, "user_id": 1249683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ez22T.png?s=128&g=1", "display_name": "xebtl", "link": "https://stackoverflow.com/users/1249683/xebtl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 32712951, "answer_count": 1, "score": 5, "last_activity_date": 1442913093, "creation_date": 1442912578, "question_id": 32712809, "link": "https://stackoverflow.com/questions/32712809/how-do-i-take-a-reference-to-sin", "title": "How do I take a reference to `sin`?", "body": "<p>I can define a subroutine and take a reference to it like this</p>\n\n<pre><code>sub F { q(F here) }\n$f = \\&amp;F;\nprint &amp;$f           # prints \u201cF here\u201d\n</code></pre>\n\n<p>But how can I do the same with, e.g., <code>sin</code>?</p>\n\n<pre><code>$f = \\&amp;sin;\nprint &amp;$f           # error: Undefined subroutine &amp;main::sin called\n</code></pre>\n\n<p>That sounds as though I should be able to use <code>\\&amp;MODULE::sin</code>;\n evidently <code>cos</code> is not in <code>main</code>, but which module is it in?  I do not see that documented anywhere.</p>\n"}, {"tags": ["perl", "selenium", "screenshot"], "comments": [{"owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1442911744, "post_id": 32711554, "comment_id": 53267285, "body": "I&#39;m using selenium server 2.46.0"}, {"owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "edited": false, "score": 0, "creation_date": 1442931502, "post_id": 32711554, "comment_id": 53281068, "body": "Typo: <code>&lt;object codebase=...</code> instead of &lt;object odebase=...`"}, {"owner": {"reputation": 22783, "user_id": 1113772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLSIj.png?s=128&g=1", "display_name": "Paul Sweatte", "link": "https://stackoverflow.com/users/1113772/paul-sweatte"}, "edited": false, "score": 0, "creation_date": 1485920984, "post_id": 32711554, "comment_id": 71121403, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/34997060/selenium-firefox-driver-take-window-screenshotnot-fullscreen\">Selenium firefox driver take window screenshot(not fullscreen)</a>"}], "owner": {"reputation": 105, "user_id": 5138911, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d8635028fabee63246d43cd491af74b3?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Schmitz", "link": "https://stackoverflow.com/users/5138911/roland-schmitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1486057467, "creation_date": 1442909008, "last_edit_date": 1442910696, "question_id": 32711554, "link": "https://stackoverflow.com/questions/32711554/selenium-screenshot-does-not-contain-whole-page", "title": "Selenium screenshot does not contain whole page", "body": "<p>I'm automating a page (with Perl), which contains:</p>\n\n<pre><code>&lt;object odebase=\"/3Dviewer/partserver/applets/partwebviewer/partwebviewer.exe\" style=\"width:100%; height:100%\" id=\"cnsweb3d\" data=\"\" type=\"application/x-zjv\"&gt;&lt;/object&gt;\n</code></pre>\n\n<p>in an iframe. I have to take a screenshot from the whole page. I tried <code>capture_screenshot</code>, but here I see only a white field, where I expect the object above is shown. It's not a matter of timing, the content is already rendered. When I take a screenshot with <code>Imager::Screenshot</code> before and after <code>capture_screenshot</code> I see what I expect to see.\nHow do you handle this?</p>\n\n<p>Changing the page source is not a solution here, I can't influence it.</p>\n"}, {"tags": ["perl", "ntlm", "mojolicious"], "comments": [{"owner": {"reputation": 17071, "user_id": 696632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b78708c369f2ee0d06a9a8e8f89684a3?s=128&d=identicon&r=PG&f=1", "display_name": "Michael-O", "link": "https://stackoverflow.com/users/696632/michael-o"}, "edited": false, "score": 0, "creation_date": 1442905926, "post_id": 32710086, "comment_id": 53263796, "body": "Have you consired curl as an alternative?"}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "reply_to_user": {"reputation": 17071, "user_id": 696632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b78708c369f2ee0d06a9a8e8f89684a3?s=128&d=identicon&r=PG&f=1", "display_name": "Michael-O", "link": "https://stackoverflow.com/users/696632/michael-o"}, "edited": false, "score": 0, "creation_date": 1442907686, "post_id": 32710086, "comment_id": 53264836, "body": "I&#39;ve tried curl in bash scripts - works like a charm. The perl libraries have a bit of a steep learning curve. I&#39;ve also tried LWP::UserAgent with ntlm auth, which failed. Since this is part of a Mojolicious app I&#39;d like to try and stick with  Mojo::UserAgent. I will try WWW::Mechanize and LWP::Protocol::Net::Curl too."}, {"owner": {"reputation": 17071, "user_id": 696632, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b78708c369f2ee0d06a9a8e8f89684a3?s=128&d=identicon&r=PG&f=1", "display_name": "Michael-O", "link": "https://stackoverflow.com/users/696632/michael-o"}, "edited": false, "score": 0, "creation_date": 1442908284, "post_id": 32710086, "comment_id": 53265161, "body": "There is a <a href=\"http://search.cpan.org/~agrolms/LWP-Authen-Negotiate-0.08/\" rel=\"nofollow noreferrer\">SPNEGO plugin</a> f&#252;r LWP, I reported a few bugs but the author refused to fixed them. I wouldn&#39;t use it."}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1442913184, "post_id": 32710086, "comment_id": 53268264, "body": "do you have a working session with curl --debug? can you notice how its different from headers... mojo returns?"}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1442918994, "post_id": 32710086, "comment_id": 53272026, "body": "Yes and curl works fine. The first header that&#39;s sent is the same, but the subsequent ones differ - including the first challenge back from the server if I recall correctly (I&#39;m not at work now)"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1442965252, "post_id": 32710086, "comment_id": 53299647, "body": "ok thats great, when you get to it, copy the headers and challenge, and hardcode that into your Mojo code, and see what it generates -- it should generate the same response as curl ... i think, if it doesn&#39;t at least it gives you a direction for complaints (mojo or ntlm author) ; adding new protocol features requires too much research :)"}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1442987980, "post_id": 32710086, "comment_id": 53305380, "body": "I&#39;ve done that - doesn&#39;t work either."}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1443053509, "post_id": 32710086, "comment_id": 53343401, "body": "what do you mean by &quot;doesn&#39;t work&quot;? can you add this new code to your post?"}], "answers": [{"comments": [{"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1475424883, "post_id": 39069356, "comment_id": 66928110, "body": "Thanks! How would this work with Exchange Web Services? Or do you have suggestion on how I would find the ad server for my organization?"}, {"owner": {"reputation": 510, "user_id": 2035207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=128&d=identicon&r=PG", "display_name": "h q", "link": "https://stackoverflow.com/users/2035207/h-q"}, "edited": false, "score": 0, "creation_date": 1526322548, "post_id": 39069356, "comment_id": 87689693, "body": "What a beautiful solution and plugin @TobiOetiker Is there a way to <i>specify</i> a basedn, or I should just rely on the AD group?"}, {"owner": {"reputation": 4591, "user_id": 235990, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4a6bad1085e07d7f29498019f1840f4b?s=128&d=identicon&r=PG", "display_name": "Tobi Oetiker", "link": "https://stackoverflow.com/users/235990/tobi-oetiker"}, "edited": false, "score": 0, "creation_date": 1527164676, "post_id": 39069356, "comment_id": 88030638, "body": "you can either specify the baseDN in the object else it will ask the rootDSE for the &#39;defaultnamingcontext&#39;  <code>Net::LDAP::SPNEGO-&gt;new($SERVER,baseDN=&gt;....);</code>  note that all the things you can do with &#39;Net::LDAP&#39; you can also do with Net::LDAP::SPNEGO."}], "tags": [], "owner": {"reputation": 4591, "user_id": 235990, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4a6bad1085e07d7f29498019f1840f4b?s=128&d=identicon&r=PG", "display_name": "Tobi Oetiker", "link": "https://stackoverflow.com/users/235990/tobi-oetiker"}, "is_accepted": false, "score": 1, "last_activity_date": 1471818025, "creation_date": 1471818025, "answer_id": 39069356, "question_id": 32710086, "link": "https://stackoverflow.com/questions/32710086/how-can-i-use-ntlm-or-kerberos-authentication-with-mojouseragent/39069356#39069356", "title": "How can I use NTLM or Kerberos authentication with Mojo::UserAgent", "body": "<p>I just published a new module that should be pretty helpful in this respect <a href=\"https://github.com/oetiker/mojolicious-plugin-spnego\" rel=\"nofollow\"><code>Mojolicious::Plugin::SPNEGO</code></a>. It is pretty simple to use:</p>\n\n<pre><code>use Mojolicious::Lite;\n\nmy $SERVER = 'my-ad-server.example.com';\n\napp-&gt;secrets(['My secret passphrase here']);\n\nplugin 'SPNEGO', ad_server =&gt; $SERVER;\n\nget '/' =&gt; sub {\n   my $c = shift;\n   if (not $c-&gt;session('user')){\n       $c-&gt;ntlm_auth({\n           auth_success_cb =&gt; sub {\n               my $c = shift;\n               my $user = shift;\n               my $ldap = shift; # bound Net::LDAP::SPNEGO connection\n               $c-&gt;session('user',$user-&gt;{samaccountname});\n               $c-&gt;session('name',$user-&gt;{displayname});\n               my $groups = $ldap-&gt;get_ad_groups($user-&gt;{samaccountname});\n               $c-&gt;session('groups',[ sort keys %$groups]);\n               return 1;\n           }\n       }) or return;\n   }\n} =&gt; 'index';\n\napp-&gt;start;\n\n__DATA__\n\n@@ index.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;NTLM Auth Test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Hello &lt;%= session 'name' %&gt;&lt;/h1&gt;\n&lt;div&gt;Your account '&lt;%= session 'user' %&gt;' belongs to the following groups:&lt;/div&gt;\n&lt;ul&gt;\n% for my $group (@{session 'groups' }) {\n   &lt;li&gt;'&lt;%= $group %&gt;'&lt;/li&gt;\n% }\n&lt;/ul&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The module is based on the also newly released Net::LDAP::SPNEGO module which provides the basic buildingblocks for the SPNEGO dialog.</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 794, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1471818025, "creation_date": 1442904127, "question_id": 32710086, "link": "https://stackoverflow.com/questions/32710086/how-can-i-use-ntlm-or-kerberos-authentication-with-mojouseragent", "title": "How can I use NTLM or Kerberos authentication with Mojo::UserAgent", "body": "<p>I am trying to get Mojo::UserAgent to authenticate via NTLM. Rougly like this:</p>\n\n<pre><code>use Mojo::UserAgent;\nuse Mojo::URL;\nuse Data::Dump qw/dump/;\nuse Path::Tiny;\nuse Authen::NTLM;\n\n$\\ = \"\\n\"; $|++;\n\nmy $ntlm = Authen::NTLM-&gt; new(host =&gt; \"some.hidden.pl\", user =&gt; 'foo',\n              domain   =&gt; \"bar\", password =&gt; \"baz\", version  =&gt; 2);\n\nmy $xml = path($ARGV[0])-&gt;slurp;\n\nmy $ua = Mojo::UserAgent-&gt;new;\nmy $url = Mojo::URL-&gt;new('https://some.hidden.pl/ews/exchange.asmx');\n\n$url-&gt;userinfo(sprintf('%s\\%s:%s', qw/bar foo baz/));\n\nmy $tx = $ua-&gt;get($url);\n\nmy $tx = $ua-&gt;build_tx(GET =&gt; $url);\n$challenge = $ntlm-&gt;challenge;\n$tx-&gt;req-&gt;headers-&gt;header('Authorization' =&gt; 'NTLM ' . $challenge);\n$ua-&gt;start($tx);\n\n$challenge = [ split /,\\s*/, $tx-&gt;res-&gt;headers-&gt;header('www-authenticate') ]-&gt;[0] =~ s/NTLM //r;\n$challenge = $ntlm-&gt;challenge($challenge);\nmy $tx = $ua-&gt;build_tx(GET =&gt; $url);\n$tx-&gt;req-&gt;headers-&gt;header('Authorization' =&gt; 'NTLM ' . $challenge);\n$ua-&gt;start($tx);\n\n$tx = $ua-&gt;build_tx(POST =&gt; $url, {'Content-Type' =&gt; 'text/xml'}, $xml );\n$tx-&gt;req-&gt;headers-&gt;content_type('text/xml');\n$tx-&gt;req-&gt;headers-&gt;header('Authorization' =&gt; 'NTLM ' . $challenge);\n$ua-&gt;start($tx);\nprint dump $tx-&gt;res;\n</code></pre>\n\n<p>but I keep getting a 401 at the second response from the server.</p>\n\n<p>What am I getting wrong? And would it be easier to use Kerberos authentication (if so, how)?</p>\n\n<p>thanks</p>\n"}, {"tags": ["linux", "perl", "module", "cpan"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1442903807, "post_id": 32709853, "comment_id": 53262677, "body": "What command did you use? (All signs point to &quot;user error&quot;.)"}, {"owner": {"reputation": 3, "user_id": 5361838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e847c75a3ce31ceeac463262e059dc?s=128&d=identicon&r=PG&f=1", "display_name": "pri thi", "link": "https://stackoverflow.com/users/5361838/pri-thi"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1442904101, "post_id": 32709853, "comment_id": 53262815, "body": "i used the command as  cpan and then i used the command as install &quot;PDF::Create&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1442904528, "creation_date": 1442904528, "answer_id": 32710184, "question_id": 32709853, "link": "https://stackoverflow.com/questions/32709853/pdfcreate-module-installation-failed-using-cpan-linux-command/32710184#32710184", "title": "PDF::Create module installation failed using cpan linux command?", "body": "<p>Your error can be reproduced by doing the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cpan\n...\ncpan shell -- CPAN exploration and modules installation (v2.10)\nEnter 'h' for help.\n\ncpan[1]&gt; \"install PDF::Create\"\nCatching error: \"Can't locate object method \\\"Create\\\" via package   \\\"install PDF\\\" (perhaps you forgot to load \\\"install PDF\\\"?) ...\n</code></pre>\n\n<p>The problem is you putting quotes around the whole command, apparently. </p>\n\n<p>Solution: Remove the quotes:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cpan[2]&gt; install PDF::Create\n</code></pre>\n\n<p>... works fine here.</p>\n\n<p>Also, you can just do <code>cpan PDF::Create</code> without entering the cpan shell.</p>\n"}], "owner": {"reputation": 3, "user_id": 5361838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e847c75a3ce31ceeac463262e059dc?s=128&d=identicon&r=PG&f=1", "display_name": "pri thi", "link": "https://stackoverflow.com/users/5361838/pri-thi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 32710184, "answer_count": 1, "score": 0, "last_activity_date": 1442904528, "creation_date": 1442903369, "last_edit_date": 1442903792, "question_id": 32709853, "link": "https://stackoverflow.com/questions/32709853/pdfcreate-module-installation-failed-using-cpan-linux-command", "title": "PDF::Create module installation failed using cpan linux command?", "body": "<p>When I tried to install cpan module, i get the following error, i have tried by googling it,am unable to find solution.</p>\n\n<pre><code>Catching error: \"Can't locate object method \\\"Create\\\" via package   \\\"install PDF\\\" (perhaps you forgot to load \\\"install PDF\\\"?) at /usr/share /perl5/CPAN.pm line 376, &lt;STDIN&gt; line 1.\\cJ\" at /usr/share/perl5/CPAN.pm line 392, &lt;STDIN&gt; line 1.\nCPAN::shell() called at /usr/share/perl5/App/Cpan.pm line 295\nApp::Cpan::_process_options('App::Cpan') called at /usr/share/perl5/App/Cpan.pm line 364\nApp::Cpan::run('App::Cpan') called at /usr/bin/cpan line 11\n</code></pre>\n"}, {"tags": ["python", "ruby", "bash", "perl", "shell"], "answers": [{"tags": [], "owner": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "is_accepted": false, "score": 2, "last_activity_date": 1442901837, "creation_date": 1442901837, "answer_id": 32709484, "question_id": 32709402, "link": "https://stackoverflow.com/questions/32709402/run-line-of-perl-python-ruby-from-bash/32709484#32709484", "title": "Run line of Perl/Python/Ruby from Bash", "body": "<p>Use the argument to the interpreter that tells it that the next argument is code to be run.</p>\n\n<pre><code>python -c 'print \"hello world\"'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": true, "score": 5, "last_activity_date": 1442901876, "creation_date": 1442901876, "answer_id": 32709491, "question_id": 32709402, "link": "https://stackoverflow.com/questions/32709402/run-line-of-perl-python-ruby-from-bash/32709491#32709491", "title": "Run line of Perl/Python/Ruby from Bash", "body": "<p>Each of these commands has a switch to execute a string passed as an argument. For python, it's <code>-c</code>:</p>\n\n<pre><code>$ python -c 'print \"hello world\"'\nhello world\n</code></pre>\n\n<p>For ruby, it's <code>-e</code>:</p>\n\n<pre><code>$ ruby -e 'puts \"hello world\"'\nhello world\n</code></pre>\n\n<p>By the way, the output of <code>python --help</code>, <code>ruby --help</code> or looking in the <code>man</code> page for either program would give you the answer. </p>\n"}, {"tags": [], "owner": {"reputation": 3401, "user_id": 589620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bd618bcfa88646d7fea535ad2073ffec?s=128&d=identicon&r=PG", "display_name": "Alexander Shlenchack", "link": "https://stackoverflow.com/users/589620/alexander-shlenchack"}, "is_accepted": false, "score": 1, "last_activity_date": 1442901992, "creation_date": 1442901992, "answer_id": 32709520, "question_id": 32709402, "link": "https://stackoverflow.com/questions/32709402/run-line-of-perl-python-ruby-from-bash/32709520#32709520", "title": "Run line of Perl/Python/Ruby from Bash", "body": "<p>For Ruby:</p>\n\n<pre><code>ruby -e 'puts \"Hello world\"'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29520, "user_id": 455276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JtuFL.jpg?s=128&g=1", "display_name": "the wolf", "link": "https://stackoverflow.com/users/455276/the-wolf"}, "edited": false, "score": 0, "creation_date": 1442931940, "post_id": 32709593, "comment_id": 53281420, "body": "Seems kinda harsh to vote this down given the votes on the other answers here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1442935805, "post_id": 32709593, "comment_id": 53284296, "body": "Printing from Python to pipe to Perl to use regex! :-)"}, {"owner": {"reputation": 29520, "user_id": 455276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JtuFL.jpg?s=128&g=1", "display_name": "the wolf", "link": "https://stackoverflow.com/users/455276/the-wolf"}, "reply_to_user": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "edited": false, "score": 1, "creation_date": 1442977038, "post_id": 32709593, "comment_id": 53302357, "body": "@sawa: what are you saying? Posts should be judged not just on what they say but what they used to say???"}, {"owner": {"reputation": 155803, "user_id": 314166, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/zL1re.jpg?s=128&g=1", "display_name": "sawa", "link": "https://stackoverflow.com/users/314166/sawa"}, "reply_to_user": {"reputation": 29520, "user_id": 455276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JtuFL.jpg?s=128&g=1", "display_name": "the wolf", "link": "https://stackoverflow.com/users/455276/the-wolf"}, "edited": false, "score": 0, "creation_date": 1442980500, "post_id": 32709593, "comment_id": 53303220, "body": "@thewolf [W]hat are you saying? Votes should foresee the future edit[?]"}, {"owner": {"reputation": 29520, "user_id": 455276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JtuFL.jpg?s=128&g=1", "display_name": "the wolf", "link": "https://stackoverflow.com/users/455276/the-wolf"}, "edited": false, "score": 0, "creation_date": 1442981784, "post_id": 32709593, "comment_id": 53303476, "body": "I suppose not being one who down votes often I think it does make sense to change the vote if the original reason is no longer there. I personally only down vote if a) the answer is wrong and b) someone does not change it if given a chance."}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 1, "last_activity_date": 1442932907, "last_edit_date": 1442932907, "creation_date": 1442902342, "answer_id": 32709593, "question_id": 32709402, "link": "https://stackoverflow.com/questions/32709402/run-line-of-perl-python-ruby-from-bash/32709593#32709593", "title": "Run line of Perl/Python/Ruby from Bash", "body": "<p>If you mean using a one liner of perl/awk/python in a pipe, it is just like most other Unix utilities:</p>\n\n<pre><code>$ python -c 'print \"hello\"' | tr \"[a-z]\" \"[A-Z]\"\nHELLO\n$ ruby -e 'puts \"hello\"' | tr \"[a-z]\" \"[A-Z]\"\nHELLO\n$ python -c 'print \"GREETINGS\"'  | perl -lpe 's/([EI])/lc($1)/ge'\nGReeTiNGS\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29520, "user_id": 455276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JtuFL.jpg?s=128&g=1", "display_name": "the wolf", "link": "https://stackoverflow.com/users/455276/the-wolf"}, "edited": false, "score": 0, "creation_date": 1442931985, "post_id": 32710026, "comment_id": 53281450, "body": "One of the only answers with a unique answer. Thanks"}], "tags": [], "owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "is_accepted": false, "score": 6, "last_activity_date": 1442903912, "creation_date": 1442903912, "answer_id": 32710026, "question_id": 32709402, "link": "https://stackoverflow.com/questions/32709402/run-line-of-perl-python-ruby-from-bash/32710026#32710026", "title": "Run line of Perl/Python/Ruby from Bash", "body": "<p>Since version 2.05b, bash can redirect standard input (stdin) from a \"here string\" using the <code>&lt;&lt;&lt;</code> operator.</p>\n\n<pre><code>$ python &lt;&lt;&lt; 'print \"hello world\"'\nhello world\n$ ruby &lt;&lt;&lt; 'puts \"hello world\"'\nhello world\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1442935559, "post_id": 32710108, "comment_id": 53284126, "body": "You can also save two characters and go <code>perl -E &#39;say &quot;Hello World&quot;&#39;</code>. You don&#39;t need the <code>;</code> at all. Actually OP was not asking for a line break though."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1442904209, "creation_date": 1442904209, "answer_id": 32710108, "question_id": 32709402, "link": "https://stackoverflow.com/questions/32709402/run-line-of-perl-python-ruby-from-bash/32710108#32710108", "title": "Run line of Perl/Python/Ruby from Bash", "body": "<p>In Perl, from command line:</p>\n\n<pre><code>perl -e 'print \"Hello World\\n\";'\n</code></pre>\n\n<p>Or inside bash script:</p>\n\n<pre><code>#!/bin/bash\n\nperl -e 'print \"Hello World\\n\";'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1442935724, "creation_date": 1442935724, "answer_id": 32720946, "question_id": 32709402, "link": "https://stackoverflow.com/questions/32709402/run-line-of-perl-python-ruby-from-bash/32720946#32720946", "title": "Run line of Perl/Python/Ruby from Bash", "body": "<p>You need neither Perl, Python or Ruby to pipe a fixed string to another application. The <code>echo</code> program can be used for that.</p>\n\n<pre><code>$ echo 'foo' | cat\nfoo\n</code></pre>\n\n<p>See <a href=\"http://explainshell.com/explain?cmd=%20echo%20%27foo%27%20%7C%20cat\" rel=\"nofollow\">explainshell.com</a> for more infos.</p>\n"}], "owner": {"reputation": 299, "user_id": 4163107, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7d1886ee70176a2f31897ef69d3b7589?s=128&d=identicon&r=PG", "display_name": "aspin", "link": "https://stackoverflow.com/users/4163107/aspin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 32709491, "answer_count": 7, "score": 0, "last_activity_date": 1442935724, "creation_date": 1442901485, "last_edit_date": 1442902252, "question_id": 32709402, "link": "https://stackoverflow.com/questions/32709402/run-line-of-perl-python-ruby-from-bash", "title": "Run line of Perl/Python/Ruby from Bash", "body": "<p>I want to run a Ruby/Python one-liner in a shell script, like:</p>\n\n<pre><code>python 'print \"hello world\"'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>ruby 'puts \"hello world\"'\n</code></pre>\n\n<p>or something like that so I can quickly pipe the input elsewhere.</p>\n"}, {"tags": ["perl", "moose"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1442901779, "post_id": 32708343, "comment_id": 53261770, "body": "All of those <code>1;</code> in your file do nothing."}, {"owner": {"reputation": 3076, "user_id": 36499, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ce5cfc19a6e855d1d41b9d18b0b96d91?s=128&d=identicon&r=PG", "display_name": "singingfish", "link": "https://stackoverflow.com/users/36499/singingfish"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1442902101, "post_id": 32708343, "comment_id": 53261887, "body": "yeah but if I want to move stuff over into a dir structure it&#39;s one less thing to forget."}], "answers": [{"tags": [], "owner": {"reputation": 6566, "user_id": 748019, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/939cc882ebaf28150d4f716b933d5960?s=128&d=identicon&r=PG", "display_name": "stevenl", "link": "https://stackoverflow.com/users/748019/stevenl"}, "is_accepted": false, "score": 1, "last_activity_date": 1442926291, "creation_date": 1442926291, "answer_id": 32717383, "question_id": 32708343, "link": "https://stackoverflow.com/questions/32708343/dynamically-constructed-objects-with-moosextraits/32717383#32717383", "title": "Dynamically constructed objects with MooseX::Traits", "body": "<p>How about loading Constructor::Plugin::Component via MooseX::Traits also?</p>\n\n<pre><code>#!/usr/bin/perl                                                             \npackage Constructor;\nuse Moose;\nwith 'MooseX::Traits';\nuse namespace::autoclean;\nhas '+_trait_namespace' =&gt; ( default =&gt; __PACKAGE__);\nsub load {\n    my ($class, @plugin) = @_;\n    my $obj_with_plugin = $class-&gt;new_with_traits(traits =&gt; [@plugin]);\n    return $obj_with_plugin;\n}\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n1;\n\npackage Constructor::Plugin;\nuse Moose::Role;\nrequires 'frobnicate';\n1;\n\npackage Constructor::Plugin::Component;\nuse Moose::Role;\nsub frobnicate { \"zark!\\n\" }\n1;\n\npackage main;\nuse Test::More;\nuse Test::Exception;\nmy $thing;\nlives_ok {$thing = Constructor-&gt;load('Plugin', 'Plugin::Component')} \"instantiated ok\";\nok $thing-&gt;frobnicate, \"frobnicates ok\";\ndone_testing;\n</code></pre>\n"}], "owner": {"reputation": 3076, "user_id": 36499, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ce5cfc19a6e855d1d41b9d18b0b96d91?s=128&d=identicon&r=PG", "display_name": "singingfish", "link": "https://stackoverflow.com/users/36499/singingfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1442926291, "creation_date": 1442895817, "last_edit_date": 1442914422, "question_id": 32708343, "link": "https://stackoverflow.com/questions/32708343/dynamically-constructed-objects-with-moosextraits", "title": "Dynamically constructed objects with MooseX::Traits", "body": "<p>I have some code using <a href=\"https://metacpan.org/pod/MooseX::Traits\" rel=\"nofollow\">MooseX::Traits</a> that does a fair bit of dynamic loading of roles.  Setting requires in one of the roles doesn't seem to work because of the dependency of roles on each other.  Is there a correct way to achieve the pattern shown below, this code dies with <code>died: Moose::Exception::RequiredMethodsNotImplementedByClass ('Constructor::Plugin' requires the method 'frobnicate' to be implemented by 'MooseX::Traits::__ANON__::SERIAL::1'</code> </p>\n\n<pre><code>#!/usr/bin/perl                                                             \npackage Constructor;\nuse Moose;\nwith 'MooseX::Traits';\nuse namespace::autoclean;\nhas '+_trait_namespace' =&gt; ( default =&gt; __PACKAGE__);\nsub load {\n    my ($class, $plugin) = @_;\n    my $obj_with_plugin = $class-&gt;new_with_traits(traits =&gt; [\"$plugin\"]);\n    return $obj_with_plugin;\n}\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n1;\n\npackage Constructor::Plugin;\nuse Moose::Role;\nrequires 'frobnicate';\nwith 'Constructor::Plugin::Component';\n1;\n\npackage Constructor::Plugin::Component;\nuse Moose::Role;\nsub frobnicate { \"zark!\\n\" }\n\n1;\npackage main;\nuse Test::More;\nuse Test::Exception;\nmy $thing;\nlives_ok {$thing = Constructor-&gt;load('Plugin')} \"instantiated ok\";\nok $thing-&gt;frobnicate, \"frobnicates ok\";\ndone_testing;\n</code></pre>\n"}, {"tags": ["perl", "hash", "key"], "comments": [{"owner": {"reputation": 21, "user_id": 5282974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbb36c06721bb613fe8f069a9f273e1?s=128&d=identicon&r=PG&f=1", "display_name": "robertb", "link": "https://stackoverflow.com/users/5282974/robertb"}, "reply_to_user": {"reputation": 117024, "user_id": 200291, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/399cacf55045372a29f1f844d12ee777?s=128&d=identicon&r=PG", "display_name": "icktoofay", "link": "https://stackoverflow.com/users/200291/icktoofay"}, "edited": false, "score": 0, "creation_date": 1442884190, "post_id": 32706789, "comment_id": 53257132, "body": "nope. if was using a hash ref then i&#39;d do: delete $align_ref-&gt;{$rna}-&gt;{$dna}"}, {"owner": {"reputation": 21, "user_id": 5282974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbb36c06721bb613fe8f069a9f273e1?s=128&d=identicon&r=PG&f=1", "display_name": "robertb", "link": "https://stackoverflow.com/users/5282974/robertb"}, "reply_to_user": {"reputation": 117024, "user_id": 200291, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/399cacf55045372a29f1f844d12ee777?s=128&d=identicon&r=PG", "display_name": "icktoofay", "link": "https://stackoverflow.com/users/200291/icktoofay"}, "edited": false, "score": 0, "creation_date": 1442884249, "post_id": 32706789, "comment_id": 53257142, "body": "I should add that the delete statement works for some keys and not others. I&#39;m not sure why..."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1442884268, "post_id": 32706789, "comment_id": 53257146, "body": "If <code>%{$ALIGN{$rna}}</code> was a tied hash that did something funky with <code>DELETE</code> or <code>EXISTS</code>?"}, {"owner": {"reputation": 21, "user_id": 5282974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbb36c06721bb613fe8f069a9f273e1?s=128&d=identicon&r=PG&f=1", "display_name": "robertb", "link": "https://stackoverflow.com/users/5282974/robertb"}, "edited": false, "score": 0, "creation_date": 1442884406, "post_id": 32706789, "comment_id": 53257178, "body": "%ALIGN is a global variable and I&#39;m adding and deleting from it as I recurse with a function. maybe I shuld post the entire code??"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1442884895, "creation_date": 1442884895, "answer_id": 32706933, "question_id": 32706789, "link": "https://stackoverflow.com/questions/32706789/hash-key-not-being-deleted-in-perl/32706933#32706933", "title": "Hash key not being deleted in Perl", "body": "<p>What you posted will delete the key.</p>\n\n<pre><code>$ perl -e'\n   $ALIGN{$rna}{$dnaB} = \"abc\";\n   delete $ALIGN{$rna}{$dnaB};\n   print exists($ALIGN{$rna}{$dnaB}) ? qq[exists\\n] : qq[doesn'\\''t exist\\n] ;\n'\ndoesn't exist\n</code></pre>\n\n<p>The only case where it wouldn't is if <code>%{ $ALIGN{$rna} }</code> is a misbehaved magical variable (e.g. a misbehaved tied variable), but I strongly doubt that's the case.</p>\n\n<p>What probably actually happened is that you recreated the variable in between the <code>delete</code> and the <code>exists</code>.</p>\n\n<pre><code>$ perl -e'\n   sub foo { }\n   $ALIGN{$rna}{$dnaB} = \"abc\";\n   delete $ALIGN{$rna}{$dnaB};\n   foo($ALIGN{$rna}{$dnaB}{foo});\n   print exists($ALIGN{$rna}{$dnaB}) ? qq[exists\\n] : qq[doesn'\\''t exist\\n] ;\n'\nexists\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5282974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbb36c06721bb613fe8f069a9f273e1?s=128&d=identicon&r=PG&f=1", "display_name": "robertb", "link": "https://stackoverflow.com/users/5282974/robertb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1442884895, "creation_date": 1442883697, "last_edit_date": 1442883821, "question_id": 32706789, "link": "https://stackoverflow.com/questions/32706789/hash-key-not-being-deleted-in-perl", "title": "Hash key not being deleted in Perl", "body": "<p>In Perl, in what context could you do something like this:</p>\n\n<pre><code>delete $ALIGN{$rna}{$dnaB};\nprint qq[deleted $dnaB\\n] if ! exists $ALIGN{$rna}{$dnaB}; \n</code></pre>\n\n<p>and then not have the print statement execute? This is giving me a huge headache. Thanks!  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442903346, "post_id": 32706559, "comment_id": 53262440, "body": "Give us some valid XML and a better idea of how that maps to your desired output and we may be able to help"}, {"owner": {"reputation": 39, "user_id": 4389780, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh6.googleusercontent.com/-w6i5MwvKw7Q/AAAAAAAAAAI/AAAAAAAAAK4/xoxIE6T7WL4/photo.jpg?sz=128", "display_name": "Ahmed Mahdi", "link": "https://stackoverflow.com/users/4389780/ahmed-mahdi"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442918511, "post_id": 32706559, "comment_id": 53271747, "body": "@Sobrique, thanks, I modified my code now. this is a part of my long code which I cannot post it because it is somehow long. Also, my XML file big too, for this I just added a part of it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442918890, "post_id": 32706559, "comment_id": 53271964, "body": "That still isn&#39;t valid XML. A subset is ok, but it must be valid."}, {"owner": {"reputation": 39, "user_id": 4389780, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh6.googleusercontent.com/-w6i5MwvKw7Q/AAAAAAAAAAI/AAAAAAAAAK4/xoxIE6T7WL4/photo.jpg?sz=128", "display_name": "Ahmed Mahdi", "link": "https://stackoverflow.com/users/4389780/ahmed-mahdi"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442924171, "post_id": 32706559, "comment_id": 53275550, "body": "@Sobrique, I added a subset"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": -1, "last_activity_date": 1442927696, "last_edit_date": 1442927696, "creation_date": 1442927364, "answer_id": 32717771, "question_id": 32706559, "link": "https://stackoverflow.com/questions/32706559/print-attributes-from-two-tags-together/32717771#32717771", "title": "Print attributes from two tags together", "body": "<p><code>twig_handlers</code> is good for pre-processing XML, and most especially for discarding it as you go. </p>\n\n<p>It's probably not what you want here though - it looks like what you're trying to do is:</p>\n\n<ul>\n<li>extract each 'MergeHistory' element from each 'Rs' element. </li>\n<li>Print the content reformatted.</li>\n</ul>\n\n<p>So with that in mind - I think what you probably want is <code>findnodes</code> and <code>children</code>. </p>\n\n<pre><code>my $twig = XML::Twig-&gt;parsefile( $file );\n\nforeach my $rs ( $twig-&gt;findnodes('//Rs') ) {\n    print join( \",\",\n        map { \"rs\" . $_-&gt;att('rsId') } $rs-&gt;children('MergeHistory') ),\n        \"\\t\";\n    print join( \",\",\n        map { \"b\" . $_-&gt;att('buildId') } $rs-&gt;children('MergeHistory') ),\n        \"\\n\";\n}\n</code></pre>\n\n<p>Given your sample, this prints:</p>\n\n<pre><code>rs56546490,rs386588736  b130,b142\n</code></pre>\n\n<p>Which looks roughly what you wanted? </p>\n\n<ul>\n<li>We use <code>findnodes</code> to iterate <code>Rs</code> elements. </li>\n<li>Within each, we use <code>children</code> to fetch the <code>MergeHistory</code> elements.</li>\n<li><code>map</code> to extract the attribute and concat the <code>b</code> or <code>rs</code> string on the front.</li>\n<li><code>join</code> to merge it comma separated.</li>\n</ul>\n\n<p>(you could still do the above with twig_handlers if you prefer, by firing the handler on \"Rs\" instead) </p>\n"}], "owner": {"reputation": 39, "user_id": 4389780, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh6.googleusercontent.com/-w6i5MwvKw7Q/AAAAAAAAAAI/AAAAAAAAAK4/xoxIE6T7WL4/photo.jpg?sz=128", "display_name": "Ahmed Mahdi", "link": "https://stackoverflow.com/users/4389780/ahmed-mahdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 32717771, "answer_count": 1, "score": -1, "last_activity_date": 1442927696, "creation_date": 1442881942, "last_edit_date": 1442924009, "question_id": 32706559, "link": "https://stackoverflow.com/questions/32706559/print-attributes-from-two-tags-together", "title": "Print attributes from two tags together", "body": "<p>I am using XML:twig to extract some attributes from an XML file using Perl;</p>\n\n<p>Here is my code</p>\n\n<pre><code>use XML::Twig;\nmy $file = $ARGV[0];\n$file =~ /(.+)\\.xml/;\nmy $outfile = $1 . \".snp\" ;\nopen my $out, '&gt;', $outfile or die \"Could not open file '$outfile' $!\";\nmy $twig = XML::Twig-&gt;new(\n    twig_handlers =&gt; {\n        'Rs/MergeHistory' =&gt; \\&amp;MergeHistory,\n    }\n);\n\n$twig -&gt; parsefile( \"$file\");\n\nsub MergeHistory {\n    my ($twig, $elt) = @_;\n    print $out \"\\t\";\n    print $out \"rs\";\n    print $out $elt-&gt;att('rsId'), \",\";\n    print $out \"b\";\n    print $out $elt-&gt;att('buildId'), \",\";\n}\n</code></pre>\n\n<p>This print the following results:</p>\n\n<pre><code>rs56546490,b130,    rs386588736,b142\nrs56546490,b130,    rs386588736,b142\n</code></pre>\n\n<p>What I want is to print each MergeHistory rsId and buildId together as the following:</p>\n\n<pre><code>rs56546490,rs386588736,   b130,b142\nrs56546490,rs386588736,   b130,b142\n</code></pre>\n\n<p>Here is a part of the XML file which contains on two MergeHistory tags :</p>\n\n<pre><code> &lt;Rs rsId=\"98324\" snpClass=\"snp\" snpType=\"notwithdrawn\"\n  molType=\"genomic\" genotype=\"true\"bitField=\"050028000005130500030100\"\n    taxId=\"9606\"&gt;\n    &lt;Het type=\"est\" value=\"0.05\" stdError=\"0.1547\"/&gt;\n    &lt;Validation byCluster=\"true\" byOtherPop=\"true\" byHapMap=\"true\"\n    by1000G=\"true\"&gt;\n        &lt;otherPopBatchId&gt;7179&lt;/otherPopBatchId&gt;\n    &lt;/Validation&gt;\n    &lt;Create build=\"36\" date=\"2000-09-19 17:02\"/&gt;\n    &lt;Update build=\"144\" date=\"2015-05-07 10:52\"/&gt;\n    &lt;Sequence exemplarSs=\"491581208\" ancestralAllele=\"C,C\"&gt;\n    &lt;Seq5&gt;\n     ATAAGCAAATAACTGAAGTTTAATCAGTCTCCTCCCAGCAAGTGATATGCAACTGAGATTCC\n     TTATGACACATCTGAACACTAGTGGATTTGCTTTGTAGTAGGAACAA\n     GGTACATTCGCGGGATAAATGTGGCCAAGTTTTATCTGCTGCCAGGGCTTTCAAAT\n     AGGTTGACCTGACAATGGGTCACCTCTGGGACTGA&lt;/Seq5&gt;\n        &lt;Observed&gt;C/T&lt;/Observed&gt;\n  &lt;Seq3&gt;AATTAGGAAGAGCTGGTACCTAAAATGAAAGATGCCCTTAAATTTCAGATTCACAATTTTTT\n        TTTCTTAGTATAAGCATGTCCCATGTAATATCTGGGATATACTCATACCTT\n        TAAAAATGTGCTCATTGTTTATCTGAAATTCACATTTTAACAGGGAACCATTGT\n        TTTGTTATTGTTTATTGTTTTGTTTCTAAATAA&lt;/Seq3&gt;\n    &lt;/Sequence&gt;\n    &lt;Ss ssId=\"1556770886\" handle=\"1000GENOMES\" batchId=\"1061891\"\n     locSnpId=\"PHASE3_chrY_229259\" subSnpClass=\"snp\" orient=\"reverse\"\n      strand=\"top\" molType=\"genomic\" buildId=\"144\"\n       methodClass=\"sequence\" validated=\"by-submitter\"&gt;\n        &lt;Sequence&gt;\n            &lt;Seq5&gt;TTTTAGGTACCAGCTCTTCCTAATT&lt;/Seq5&gt;\n            &lt;Observed&gt;A/G&lt;/Observed&gt;\n            &lt;Seq3&gt;TCAGTCCCAGAGGTGACCCATTGTC&lt;/Seq3&gt;\n        &lt;/Sequence&gt;\n    &lt;/Ss&gt;\n    &lt;Assembly dbSnpBuild=\"144\" genomeBuild=\"38.2\"\n    groupLabel=\"GRCh38.p2\" current=\"true\" reference=\"true\"&gt;\n        &lt;Component componentType=\"contig\" accession=\"NT_011875.13\"\n        chromosome=\"Y\" start=\"11642902\" end=\"21789280\"\n        orientation=\"fwd\" gi=\"568801947\" groupTerm=\"NC_000024.10\"\n        contigLabel=\"GCF_000001405.28\"&gt;\n            &lt;MapLoc asnFrom=\"5341580\" asnTo=\"5341580\" locType=\"exact\"\n        alnQuality=\"1\" orient=\"reverse\" physMapInt=\"16984482\"\n       leftContigNeighborPos=\"5341579\"rightContigNeighborPos=\"5341581\"\n       refAllele=\"G\"/&gt;\n        &lt;/Component&gt;\n        &lt;SnpStat mapWeight=\"unique-in-contig\" chromCount=\"1\"\n         placedContigCount=\"1\" unplacedContigCount=\"0\" seqlocCount=\"1\"\n        hapCount=\"0\"/&gt;\n    &lt;/Assembly&gt;\n    &lt;RsLinkout resourceId=\"1\" linkValue=\"3894\"/&gt;\n    &lt;RsLinkout resourceId=\"4\" linkValue=\"60936\"/&gt;\n    &lt;RsLinkout resourceId=\"5\" linkValue=\"23388839\"/&gt;\n    &lt;MergeHistory rsId=\"56546490\" buildId=\"130\"/&gt;\n    &lt;MergeHistory rsId=\"386588736\" buildId=\"142\"/&gt;\n    &lt;hgvs&gt;NC_000024.9:g.19096363G&amp;gt;A&lt;/hgvs&gt;\n    &lt;hgvs&gt;NC_000024.10:g.16984483G&amp;gt;A&lt;/hgvs&gt;\n    &lt;Frequency freq=\"0.0276\" allele=\"A\" sampleSize=\"1233\"/&gt;\n&lt;/Rs&gt;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1442894041, "post_id": 32705282, "comment_id": 53259351, "body": "A <code>&lt;br&#47;&gt;</code> is just a line break, there is nothing else &quot;in&quot; the tag. You want an expression for the text <i>between</i> (i.e. around) these tags."}], "answers": [{"comments": [{"owner": {"reputation": 796, "user_id": 2058855, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/x3nq3.jpg?s=128&g=1", "display_name": "Frank H.", "link": "https://stackoverflow.com/users/2058855/frank-h"}, "edited": false, "score": 0, "creation_date": 1442876102, "post_id": 32705699, "comment_id": 53255001, "body": "Thanks @type_outcast, my case is as simple as I described. I agree with all you say and that&#39;s the thought process I went through. I was just curious to know if there was a better way and also to know how to deal with &#39;br&#39; tags (but I could perhaps make a separate question out of that)."}], "tags": [], "owner": {"reputation": 595, "user_id": 3847547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vL2YZ.png?s=128&g=1", "display_name": "type_outcast", "link": "https://stackoverflow.com/users/3847547/type-outcast"}, "is_accepted": true, "score": 2, "last_activity_date": 1442875569, "creation_date": 1442875569, "answer_id": 32705699, "question_id": 32705282, "link": "https://stackoverflow.com/questions/32705282/how-best-to-parse-split-a-div-based-on-br-tags/32705699#32705699", "title": "How best to parse/split a &lt;div&gt; based on &lt;br /&gt; tags", "body": "<p>If your case is (and will always be) as simple as you describe, then I'd stick with the regexes. Before you cry havoc and release the dogs on me, <em>think</em> for a second:</p>\n\n<p>Yes, it's true that regexes cannot parse HTML. But we are not parsing HTML here. We are parsing a very, <em>very</em> tiny subset of HTML within a <code>&lt;div&gt;</code>, which is easily handled by a simple regex. Using a full-blown parsing library would, to me, be rather like using a sledgehammer to crack a walnut.</p>\n\n<p>I would personally upgrade your regex a bit to <code>m!&lt;\\s*br\\s*/?\\s*&gt;!</code> to catch (slightly) mangled HTML, and, as with anything, <em>test</em> with every valid and invalid input you can put together.</p>\n"}], "owner": {"reputation": 796, "user_id": 2058855, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/x3nq3.jpg?s=128&g=1", "display_name": "Frank H.", "link": "https://stackoverflow.com/users/2058855/frank-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 32705699, "answer_count": 1, "score": 4, "last_activity_date": 1442875569, "creation_date": 1442873325, "last_edit_date": 1495540308, "question_id": 32705282, "link": "https://stackoverflow.com/questions/32705282/how-best-to-parse-split-a-div-based-on-br-tags", "title": "How best to parse/split a &lt;div&gt; based on &lt;br /&gt; tags", "body": "<p>I have a  tag containing a multiline address that I'd like to split into single lines so that I can identify the city, postcode, etc. </p>\n\n<p>For example</p>\n\n<pre><code>&lt;div&gt;Ministry of Magic\n    &lt;br /&gt;Whitehall\n    &lt;br /&gt;London\n    &lt;br /&gt;SW1A 2AA\n&lt;/div&gt;\n</code></pre>\n\n<p>I can do it no problem with the split function, for example (assuming the address div is in the variable $text)</p>\n\n<pre><code>use feature 'say';\nmy @lines = split qr{&lt;br\\s?/&gt;}, $text;\nforeach my $line (@lines) {\n    say $line;\n}\n</code></pre>\n\n<p>displays</p>\n\n<pre><code>Ministry of Magic\nWhitehall\nLondon\nSW1A 2AA\n</code></pre>\n\n<p>However, I'm well aware that <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">using a regex to parse HTML is verboten</a> so I thought I'd give it a try using <code>HTML::TreeBuilder / HTML::Element</code> but I'm not sure how to grab the content. I can do a look_down for the 'br' tags, but it only returns the <code>&lt;br /&gt;</code> tags themselves. This is not surprising because a <code>&lt;br&gt;</code> element cannot contain content, but I don't know what syntax to use instead.</p>\n\n<pre><code>my $tree = HTML::TreeBuilder-&gt;new();\nmy @content = $tree-&gt;parse($text)-&gt;guts()-&gt;look_down(_tag =&gt; 'br');\nforeach my $line (@content) {\n    say $line-&gt;as_HTML;\n}\n</code></pre>\n\n<p>displays </p>\n\n<pre><code>&lt;br /&gt;\n&lt;br /&gt;\n&lt;br /&gt;\n</code></pre>\n\n<p>So, my questions are: 1) should I stick with the regex or use HTML::TreeBuilder, and 2) if I should use HTML::TreeBuilder, how I can I extract the four lines of text I'm interested in?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1442867840, "post_id": 32704092, "comment_id": 53251684, "body": "That should probably be <code>split &#39; &#39;</code>, not <code>split &#47;\\s+&#47;</code>."}, {"owner": {"reputation": 9375, "user_id": 4881811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ntIt4.jpg?s=128&g=1", "display_name": "Maraboc", "link": "https://stackoverflow.com/users/4881811/maraboc"}, "edited": false, "score": 0, "creation_date": 1442868332, "post_id": 32704092, "comment_id": 53251910, "body": "I don&#39;t know the syntax of Perl but the idea is : take the first word of the line and loop over the rest of the line if you find a that the current word muches the first one increment a counter and so on do the same for the second word ... hope that helps :)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 9375, "user_id": 4881811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ntIt4.jpg?s=128&g=1", "display_name": "Maraboc", "link": "https://stackoverflow.com/users/4881811/maraboc"}, "edited": false, "score": 0, "creation_date": 1442868413, "post_id": 32704092, "comment_id": 53251945, "body": "@Maraboc Depending on how &quot;word&quot; and &quot;duplication&quot; and &quot;location&quot; are defined, this might also be doable with a regex."}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 1, "last_activity_date": 1442921662, "last_edit_date": 1442921662, "creation_date": 1442872011, "answer_id": 32705024, "question_id": 32704092, "link": "https://stackoverflow.com/questions/32704092/counting-and-printing-location-of-duplicate-words-in-a-line-using-perl/32705024#32705024", "title": "Counting and printing location of duplicate words in a line using Perl", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nwhile (&lt;DATA&gt;){\n    chomp; # remove end of line chars\n    my @wordsInLine = split /\\s+/, $_;\n    @wordsInLine = map {lc($_)} @wordsInLine; # convert words to lowercase\n    my( $word, %wordsInLine, $n );\n    for $word (@wordsInLine) {\n       $wordsInLine{$word}++; # use hash %wordsInLine to count occurences of words\n    }\n    for $word (@wordsInLine) {\n      $n++;\n      if( (my $count = $wordsInLine{$word}||0) &gt; 1 ) {\n        print \"line $.: Word $n \\\"$word\\\" is repeated $count times\\n\";\n        delete($wordsInLine{$word}); # do not generate more than one report\n                                     # about the same word in single line\n      }\n    }\n}\n__DATA__\nThis this is a sample sentence\nA that That THAT !\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 4279781, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-MeLLv_oCiTo/AAAAAAAAAAI/AAAAAAAAAb8/CLMXZGKXabI/photo.jpg?sz=128", "display_name": "Sagar Samtani", "link": "https://stackoverflow.com/users/4279781/sagar-samtani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 32705024, "answer_count": 1, "score": -2, "last_activity_date": 1442921662, "creation_date": 1442867623, "last_edit_date": 1442878636, "question_id": 32704092, "link": "https://stackoverflow.com/questions/32704092/counting-and-printing-location-of-duplicate-words-in-a-line-using-perl", "title": "Counting and printing location of duplicate words in a line using Perl", "body": "<p>I am trying to read from a file and print out the location of duplicate words on each line.I have stored each line in an array, but I am not sure if this is the right way to start. </p>\n\n<pre><code>while (my $fileLine = &lt;$fh&gt;){\n    my @lineWords = split /\\s+/, $fileLine;\n    print \"@\\n\"\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "edited": false, "score": 0, "creation_date": 1442867408, "post_id": 32703956, "comment_id": 53251473, "body": "My script prints out the folder name properly, but once it comes across same cp name in two files, it deletes that cp name for all the folders.  In the above question, my script gives the output as Folder name C and Folder name D. But I want the output to be as explained in the question."}, {"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1442867532, "post_id": 32703956, "comment_id": 53251545, "body": "Thanks @Hunter McMillen for the edit."}, {"owner": {"reputation": 3421, "user_id": 2805519, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a3bbbba9019a78dd811890d9a92f682f?s=128&d=identicon&r=PG", "display_name": "Serge Seredenko", "link": "https://stackoverflow.com/users/2805519/serge-seredenko"}, "edited": false, "score": 3, "creation_date": 1442868408, "post_id": 32703956, "comment_id": 53251941, "body": "Please show us what you have already done."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442872227, "post_id": 32703956, "comment_id": 53253699, "body": "Sorry, I don&#39;t understand what the comparison logic is. In outputting <code>Folder C</code> I guess I see that it matches <code>Folder A</code> in fileA, but I don&#39;t understand why <code>Folder D</code> would be output; it doesn&#39;t match anything in fileA. If you&#39;re doing a diff, <code>Folder A</code> doesn&#39;t match between the two files. If you control the file format, have you considered using an existing format such as YAML, JSON or XML? That would make parsing it into a data structure much simpler."}, {"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "edited": false, "score": 0, "creation_date": 1442873028, "post_id": 32703956, "comment_id": 53254001, "body": "It should output the difference between the two files"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442873802, "post_id": 32703956, "comment_id": 53254259, "body": "@Tej You&#39;re going to have to be more specific. Do you mean line by line? Run <code>diff fileA.txt fileB.txt</code>. Do you mean per folder? Then your expected output should include <code>Folder name A</code> because they contain different cp&#39;s. Do you just mean which folders are in one that aren&#39;t in the other, regardless of their content? That matches your expected output, but it doesn&#39;t match your description."}, {"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442874425, "post_id": 32703956, "comment_id": 53254467, "body": "@Schwern We need to compare Folder name A of FileA.txt with Folder name A of FileB.txt, if the cp name matches in both the files for folder name A, then that particular folder has to be completely erased. If a cp name differs for a particular folder, then it should print the folder name and the differed cp name."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442874490, "post_id": 32703956, "comment_id": 53254488, "body": "@Tej Your expected output does not match that description, it does not include <code>Folder name A</code>. Could you please update the post?"}, {"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442874723, "post_id": 32703956, "comment_id": 53254572, "body": "@Schwern Thank you for correcting me. Could you please help me in writing the code."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442874744, "post_id": 32703956, "comment_id": 53254579, "body": "@Tej Now that I understand the problem, yes. :)"}, {"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442874865, "post_id": 32703956, "comment_id": 53254615, "body": "@Schwern Thank you. In the code which I have written it gets all the differed folder names, but it doesnt get the differed cp names properly."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "edited": false, "score": 0, "creation_date": 1442934064, "post_id": 32705881, "comment_id": 53282946, "body": "Thank you @Schwern. But how to send the two files? Like I need to read the data from fileA.txt and fileB.txt. After parsing both the files, then I need to compare them. From the code my folders = map { parse_file($_)} ARGV does the parsing. How do we send the two files?"}, {"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "edited": false, "score": 0, "creation_date": 1442937105, "post_id": 32705881, "comment_id": 53285230, "body": "Also can I use  manual comparison instead of using Array::Utils"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1442941852, "post_id": 32705881, "comment_id": 53288271, "body": "You don&#39;t &quot;send&quot; files to Unix scripts. You pass the filenames as arguments and, in Perl, you read the arguments from <code>@ARGV</code>; then you pass them to a subroutine that reads the contents. That happens in the last block of code."}, {"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1442946883, "post_id": 32705881, "comment_id": 53291257, "body": "@reinierpost Thank you I had figured out that, but when I try to use Array::Utils it says not installed, is there any other way for comparisons"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "edited": false, "score": 0, "creation_date": 1442951242, "post_id": 32705881, "comment_id": 53293630, "body": "@Tej You could do the comparison manually, but you&#39;d have to write your own array comparison routines, like you had to write your own parser, and your program gets bigger, and buggier and harder to maintain. Much easier to install the modules. Use <a href=\"https://github.com/miyagawa/cpanminus\" rel=\"nofollow noreferrer\">cpanm</a> for that."}, {"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "edited": false, "score": 0, "creation_date": 1442953738, "post_id": 32705881, "comment_id": 53294968, "body": "@Schwern it is not allowing me to install as it is connected to university server and this code will be used my many others in the same server. Therefore can you help me with own comparison. Or give me some ideas on how to do it? Thanks"}, {"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "edited": false, "score": 0, "creation_date": 1442962364, "post_id": 32705881, "comment_id": 53298766, "body": "@Schwern I did some comparison and it is working. Thank you"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "edited": false, "score": 0, "creation_date": 1442963297, "post_id": 32705881, "comment_id": 53299065, "body": "@Tej I strongly encourage you to figure out how to get modules installed. Perhaps ask it as a question. That investment will save you time and frustration not having to write redundant code."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1443003249, "post_id": 32705881, "comment_id": 53314270, "body": "The trick is to install the modules in your <code>$HOME</code> directory; Perl supports ways to do that (e.g. the <code>use local lib</code> directive comes in handy, Google for it), but I&#39;ve always find it tricky to see the forest for the trees when trying to find that out. If you set it up correctly, other users will be able to run your scripts, too, even with your modules installed there."}, {"owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "edited": false, "score": 0, "creation_date": 1443021233, "post_id": 32705881, "comment_id": 53327478, "body": "@Schwern Thank you, will try to do that. I have one more question, in the code which you have written, we have to pass the two files from command line argument. But, I want to open the two files, read and get the results from the script itself. How should I do that instead of using the command line? Thanks"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "edited": false, "score": 0, "creation_date": 1443027254, "post_id": 32705881, "comment_id": 53331276, "body": "@Tej <code>@ARGV</code> contains the list of files. Replace it with your list of your files. Though I&#39;d encourage you to let the program take its files from the command line rather than hard coding them, it will be more flexible that way. Perhaps make your list a default: <code>@Default_Files || @ARGV</code>."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 0, "last_activity_date": 1442876669, "creation_date": 1442876669, "answer_id": 32705881, "question_id": 32703956, "link": "https://stackoverflow.com/questions/32703956/comparing-data-in-two-files-in-perl/32705881#32705881", "title": "Comparing data in two files in Perl", "body": "<p>There are two problems: parsing your data format, and doing the comparison.  You can't just compare the files line by line, your file has a structure and you need to parse it into a Perl data structure.</p>\n\n<pre><code>sub parse_file {\n    my $file = shift;\n\n    open my $fh, '&lt;', $file;\n\n    my $in_folder;\n    my %folders = ();\n\n    while(&lt;$fh&gt;) {\n        # Entering a folder\n        if( /^Folder name (.*)\\s*$/ ) {\n            $in_folder = $1;\n        }\n        # We're in a folder\n        elsif( $in_folder ) {\n            # Add a line to the folder actions\n            if( /^\\s+(.*)\\s*$/ ) {\n                push @{$folders{$in_folder}}, $1;\n            }\n            # We exited the folder but didn't enter another one\n            elsif( /^\\S/ ) {\n                $in_folder = '';\n            }\n        }\n    }\n\n    return \\%folders;\n}\n</code></pre>\n\n<p>This is a lot of extra code to write and debug. If your files were stored in something like YAML, JSON or XML you could use a library to do it.</p>\n\n<p>I've deliberately opted to strip out the formatting and just store the folder names. This makes the data easier to work with and shields the rest of the code from formatting changes.</p>\n\n<p>Now each file is a hash of folder names which contain a list of commands.</p>\n\n<pre><code>      {\n        'A' =&gt; [\n                 'cp A',\n                 'cp B'\n               ],\n        'B' =&gt; [\n                 'cp D',\n                 'cp F'\n               ]\n      }\n</code></pre>\n\n<p>Now we need to compare them.  The algorithm is like this:</p>\n\n<ol>\n<li>If a folder is in only one file, pick it.</li>\n<li>If a folder is on both files, show the differences (if any).</li>\n</ol>\n\n<p>Fortunately, we have <a href=\"https://metacpan.org/pod/Array%3a%3aUtils\" rel=\"nofollow\">Array::Utils</a> to do all the necessary intersection and diffs for us. Use <code>array_diff</code> to find which folders are only in one file, and <code>intersection</code> to find those which are in both. Then use <code>array_diff</code> again to find the differences.</p>\n\n<pre><code>sub compare_folders {\n    my($set1, $set2) = @_;\n\n    my @set1_names = keys %$set1;\n    my @set2_names = keys %$set2;\n\n    my %diffs;\n\n    # It's in one but not the other.\n    for my $name (array_diff @set1_names, @set2_names) {\n        $diffs{$name} = $set1-&gt;{$name} || $set2-&gt;{$name};\n    }\n\n    # It's in both.\n    for my $name (intersect @set1_names, @set2_names) {\n        # They're different\n        if( my @diff = array_diff(@{$set1-&gt;{$name}}, @{$set2-&gt;{$name}}) ) {\n            $diffs{$name} = \\@diff;\n        }\n    }\n\n    return \\%diffs;\n}\n</code></pre>\n\n<p>Finally we need to display the results. As I've opted to make the data generic and strip out the formatting, we need to put it back.</p>\n\n<pre><code>sub display_folder {\n    my($name, $values) = @_;\n\n    my $display = \"Folder name $name\\n\";\n\n    for my $value (@$values) {\n        $display .= \"    $value\\n\"\n    }\n\n    return $display;\n}\n</code></pre>\n\n<p>And stick it all together.</p>\n\n<pre><code>my @folders = map { parse_file($_) } @ARGV;\n\nmy $diff = compare_folders(@folders);\n\nfor my $name (keys %$diff) {\n    my $values = $diff-&gt;{$name};\n    print display_folder($name, $values);\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5360817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf2b7d4dc15fbe8f8577bbb2ef64fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5360817/tej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 32705881, "answer_count": 1, "score": -1, "last_activity_date": 1442933805, "creation_date": 1442867062, "last_edit_date": 1442933805, "question_id": 32703956, "link": "https://stackoverflow.com/questions/32703956/comparing-data-in-two-files-in-perl", "title": "Comparing data in two files in Perl", "body": "<p>I have two files,</p>\n\n<p>File A:</p>\n\n<pre><code>Folder name A\n   cp A\n   cp B\nFolder name B\n   cp D\n   cp F\n</code></pre>\n\n<p>File B:</p>\n\n<pre><code>Folder name C\n    cp A\n    cp B\nFolder name A\n    cp A\n    cp B\n    cp C\nFolder name B\n    cp D\n    cp F\nFolder name D\n    cp A\n    cp D\n</code></pre>\n\n<p>The output should be:</p>\n\n<pre><code>Folder name C:\n     cp A\n     cp B\nFolder name D\n     cp A\n     cp D\nFolder name A\n     cp C\n</code></pre>\n\n<p>Basically, I want to check if there is a match in the folder name and then check for a match in the cp name for the same folder name. Then we need to delete the matches. Can anyone help me as I am new to perl.</p>\n\n<p>I have code where it gives the folder names properly but deletes some of the cp names. </p>\n\n<pre><code>my %file2;\nopen my $file2, '&lt;', 'fileA.txt' or die \"Couldnt open fileA.txt\";\nwhile (my $line = &lt;$file2&gt;)\n{\n   ++$file2{$line};\n }\nopen my $file1, '&lt;', 'fileB.txt' or die \"Couldnt open fileB.txt\";\nwhile (my $line = &lt;$file1&gt;)\n{\n   print $fh $line unless $file2{$line};\n }\n</code></pre>\n"}, {"tags": ["perl", "unix", "tcl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1442863749, "post_id": 32702795, "comment_id": 53249501, "body": "No quoted fields, no commas in fields?"}, {"owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "edited": false, "score": 0, "creation_date": 1442998678, "post_id": 32702795, "comment_id": 53311148, "body": "Which language are you going to use? Asking for it in multiple languages is a good reason to close this question\u2026"}], "answers": [{"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 3, "last_activity_date": 1442865861, "last_edit_date": 1442865861, "creation_date": 1442863361, "answer_id": 32703012, "question_id": 32702795, "link": "https://stackoverflow.com/questions/32702795/how-to-sort-column-a-uniquely-based-on-descending-order-of-column-b-in-unix-per/32703012#32703012", "title": "How to sort column A uniquely based on descending order of column B in unix/per/tcl?", "body": "<p>awk to the rescue!</p>\n\n<pre><code>$ sort -t, -k1,1 -k2,2nr filename | awk -F, '!a[$1]++'\nColumn A, Column B\ncat,40\ndog,10\nelephant,37\n</code></pre>\n\n<p>if you want your specific output it needs little more coding because of the header line.</p>\n\n<pre><code>$ sort -t, -k1,1 -k2nr filename | awk -F, 'NR==1{print \"999999\\t\"$0;next} !a[$1]++{print $2\"\\t\"$0}' | sort -k1nr | cut -f2-\nColumn A, Column B\ncat,40\nelephant,37\ndog,10\n</code></pre>\n\n<p>Another alternative with removing header upfront and adding it back at the end</p>\n\n<pre><code>$ h=$(head -1 filename); sed 1d filename | sort -t, -k1,1 -k2nr | awk -F, '!a[$1]++' | sort -t, -k2nr | sed '1i'\"$h\"''\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1442866527, "creation_date": 1442866527, "answer_id": 32703801, "question_id": 32702795, "link": "https://stackoverflow.com/questions/32702795/how-to-sort-column-a-uniquely-based-on-descending-order-of-column-b-in-unix-per/32703801#32703801", "title": "How to sort column A uniquely based on descending order of column B in unix/per/tcl?", "body": "<p>Perlishly:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n#print header row\nprint scalar &lt;&gt;;\nmy %seen;\n#iterate the magic filehandle (file specified on command line or \n#stdin - e.g. like grep/sed)\nwhile (&lt;&gt;) {\n    chomp; #strip trailing linefeed\n    #split this line on ','\n    my ( $key, $value ) = split /,/;\n\n    #save this value if previous is lower or non existant\n    if ( not defined $seen{$key}\n        or $seen{$key} &lt; $value )\n    {\n        $seen{$key} = $value;\n    }\n}\n\n#sort, comparing values in %seen \nforeach my $key ( sort { $seen{$b} &lt;=&gt; $seen{$a} } keys %seen ) {\n    print \"$key,$seen{$key}\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "is_accepted": false, "score": 0, "last_activity_date": 1442867010, "last_edit_date": 1442867010, "creation_date": 1442866640, "answer_id": 32703834, "question_id": 32702795, "link": "https://stackoverflow.com/questions/32702795/how-to-sort-column-a-uniquely-based-on-descending-order-of-column-b-in-unix-per/32703834#32703834", "title": "How to sort column A uniquely based on descending order of column B in unix/per/tcl?", "body": "<p>I've +1'd karakfa's answer.  It's simple and elegant.</p>\n\n<p>My answer is an extension of karakfa's header handling.  If you like it, please feel free to +1 my answer, but \"best answer\" should go to karakfa. (Unless of course you prefer one of the other answer! :] )</p>\n\n<p>If your input is as you've described in your question, then we can recognize the header by seeing that $2 is not numeric.  Thus, the following does not take the header into consideration:</p>\n\n<pre><code>$ sort -t, -k1,1 -k2,2nr filename | awk -F, '!a[$1]++'\n</code></pre>\n\n<p>You might alternately strip the header with:</p>\n\n<pre><code>$ sort -t, -k1,1 -k2,2nr filename | awk -F, '$2~/^[0-9]+$/&amp;&amp;!a[$1]++'\n</code></pre>\n\n<p>This slows things down quite a bit, since a regex may take longer to evaluate than a simple array assignment and numeric test. I'm using a regex for the numeric test in order to permit a <code>0</code>, which would otherwise evaluate to \"false\".</p>\n\n<p>Next, if you want to keep the header, but print it first, you can process your output at the end of the stream:</p>\n\n<pre><code>$ sort -t, -k1,1 -k2,2nr filename | awk -F, '$2!~/^[0-9]+$/{print;next} !a[$1]++{b[$1]=$0} END{for(i in b){print b[i]}}'\n</code></pre>\n\n<p>Last option to achieve the same effect without storing the extra array in memory would be to process your input a second time.  This is more costly in terms of IO, but less costly in terms of memory:</p>\n\n<pre><code>$ sort -t, -k1,1 -k2,2nr filename | awk -F, 'NR==FNR&amp;&amp;$2!~/^[0-9]+$/{print;nextfile} $2~/^[0-9]+$/&amp;&amp;!a[$1]++' filename -\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "is_accepted": false, "score": 0, "last_activity_date": 1443439938, "last_edit_date": 1443439938, "creation_date": 1442866799, "answer_id": 32703890, "question_id": 32702795, "link": "https://stackoverflow.com/questions/32702795/how-to-sort-column-a-uniquely-based-on-descending-order-of-column-b-in-unix-per/32703890#32703890", "title": "How to sort column A uniquely based on descending order of column B in unix/per/tcl?", "body": "<p>One possible Tcl solution:</p>\n\n<pre><code># read the contents of the file into a list of lines\nset f [open data.csv]\nset lines [split [string trim [chan read $f]] \\n]\nchan close $f\n\n# detach the header\nset lines [lassign $lines header]\n\n# map the list of lines to a list of tuples\nset tuples [lmap line $lines {split $line ,}]\n\n# use an associative array to get unique tuples in a flat list\narray set uniqueTuples [concat {*}[lsort -index 1 -integer $tuples]]\n\n# reassemble the tuples, sorted by name\nset tuples [lmap {a b} [lsort -stride 2 -index 0 [array get uniqueTuples]] {list $a $b}]\n\n# map the tuples to csv lines and insert the header\nset lines [linsert [lmap tuple $tuples {join $tuple ,}] 0 $header]\n\n# convert the list of lines into a data string\nset data [join $lines \\n]\n</code></pre>\n\n<p>This solution assumes a simplified data set where there are no quoted elements. If there are quoted elements, the <code>csv</code> module should be used instead of the <code>split</code> command.</p>\n\n<p>Another solution, inspired by the Perl solution:</p>\n\n<pre><code>puts [gets stdin]\nset seen [dict create]\n\nwhile {[gets stdin line] &gt;= 0} {\n    lassign [split $line ,] key value\n    if {![dict exists $seen $key] || [dict get $seen $key] &lt; $value} {\n        dict set seen $key $value\n    }\n}\n\ndict for {key val} [lsort -stride 2 -index 0 $seen] {\n    puts $key,$val\n}\n</code></pre>\n\n<p>Documentation: <a href=\"http://www.tcl.tk/man/tcl/TclCmd/chan.htm\" rel=\"nofollow\" title=\"Read, write and manipulate channels\">chan</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/concat.htm\" rel=\"nofollow\" title=\"Join lists together\">concat</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/dict.htm\" rel=\"nofollow\" title=\"Manipulate dictionaries\">dict</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/gets.htm\" rel=\"nofollow\" title=\"Read a line from a channel\">gets</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/if.htm\" rel=\"nofollow\" title=\"Execute scripts conditionally\">if</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/join.htm\" rel=\"nofollow\" title=\"Create a string by joining together list elements\">join</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/lassign.htm\" rel=\"nofollow\" title=\"Assign list elements to variables\">lassign</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/linsert.htm\" rel=\"nofollow\" title=\"Insert elements into a list\">linsert</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/lmap.htm\" rel=\"nofollow\" title=\"Iterate over all elements in one or more lists and collect results\">lmap</a>, <a href=\"http://wiki.tcl.tk/40570\" rel=\"nofollow\" title=\"Getting lmap for Tcl 8.5 and earlier\">lmap</a> replacement, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/lsort.htm\" rel=\"nofollow\" title=\"Sort the elements of a list\">lsort</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/open.htm\" rel=\"nofollow\" title=\"Open a file-based or command pipeline channel\">open</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/set.htm\" rel=\"nofollow\" title=\"Read and write variables\">set</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/split.htm\" rel=\"nofollow\" title=\"Split a string into a proper Tcl list\">split</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/string.htm\" rel=\"nofollow\" title=\"Manipulate strings\">string</a>, <a href=\"http://www.tcl.tk/man/tcl/TclCmd/while.htm\" rel=\"nofollow\" title=\"Execute script repeatedly as long as a condition is met\">while</a></p>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 0, "last_activity_date": 1442945872, "creation_date": 1442945872, "answer_id": 32724057, "question_id": 32702795, "link": "https://stackoverflow.com/questions/32702795/how-to-sort-column-a-uniquely-based-on-descending-order-of-column-b-in-unix-per/32724057#32724057", "title": "How to sort column A uniquely based on descending order of column B in unix/per/tcl?", "body": "<p>Another perl</p>\n\n<pre><code>perl -MList::Util=max -F, -lane '\n    if ($.==1) {print; next}\n    $val{$F[0]} = max $val{$F[0]}, $F[1];\n} {\n    print \"$_,$val{$_}\" for reverse sort {$val{$a} &lt;=&gt; $val{$b}} keys %val;\n' file\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5360604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a31cf430b0cb4b9c4d9aac862258ff5?s=128&d=identicon&r=PG&f=1", "display_name": "Srinath Badri", "link": "https://stackoverflow.com/users/5360604/srinath-badri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "answer_count": 5, "score": 3, "last_activity_date": 1443439938, "creation_date": 1442862456, "last_edit_date": 1442862770, "question_id": 32702795, "link": "https://stackoverflow.com/questions/32702795/how-to-sort-column-a-uniquely-based-on-descending-order-of-column-b-in-unix-per", "title": "How to sort column A uniquely based on descending order of column B in unix/per/tcl?", "body": "<p>I have  a csv file like the one below.</p>\n\n<pre><code>Column A, Column B\ncat,30\ncat,40\ndog,10\nelephant,23\ndog,3\nelephant,37\n</code></pre>\n\n<p>How would i uniquely sort column A, based on largest corresponding value on \ncolumn B?</p>\n\n<p>The result I would like to get is,</p>\n\n<pre><code>Column A, Column B\ncat,40\nelephant,37\ndog,10\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1442862925, "post_id": 32702778, "comment_id": 53249043, "body": "I see you&#39;ve found warnings. You&#39;re going to want to <a href=\"http://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\">turn on <code>strict</code></a>, it will save you hours of frustrating debugging time. You&#39;ll also want to indent your code. Most <a href=\"http://stackoverflow.com/questions/12528241/best-ide-for-perl-5\">good editors</a> will do this for you when you hit <code>tab</code> at the start of a line. You can also use <a href=\"https://metacpan.org/pod/distribution/Perl-Tidy/bin/perltidy\" rel=\"nofollow noreferrer\">perltidy</a> to get you started. Finally, <a href=\"https://metacpan.org/pod/autodie\" rel=\"nofollow noreferrer\">autodie</a> will find file errors for you."}], "answers": [{"comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1442863624, "post_id": 32702870, "comment_id": 53249441, "body": "It understands <code>\\U</code> fine, it just disagrees with the questioner&#39;s understanding.  :)"}, {"owner": {"reputation": 595, "user_id": 3847547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vL2YZ.png?s=128&g=1", "display_name": "type_outcast", "link": "https://stackoverflow.com/users/3847547/type-outcast"}, "edited": false, "score": 0, "creation_date": 1442875985, "post_id": 32702870, "comment_id": 53254970, "body": "Why would you suggest &quot;escaping the escape characters&quot; when the OP has a simple literal string with no interpolation? Single quotes, ala <code>use lib &#39;C:\\Users\\mte\\Desktop&#39;</code> is a better practice to encourage, in my opinion. Did you perhaps suggest the escapes in this case for instructional reason?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 595, "user_id": 3847547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vL2YZ.png?s=128&g=1", "display_name": "type_outcast", "link": "https://stackoverflow.com/users/3847547/type-outcast"}, "edited": false, "score": 1, "creation_date": 1442876907, "post_id": 32702870, "comment_id": 53255293, "body": "@type_outcast I always forget that \\ doesn&#39;t interpolate in single quotes (except \\&#39;). I tend to just spam <code>&quot;</code> around. Let me retrofit an instructional reason... eventually they&#39;re going to want to interpolate a Windows path."}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1442882233, "post_id": 32702870, "comment_id": 53256660, "body": "Also, I&#39;m pretty sure perl will happily handle windows paths with /&#39;s instead of \\&#39;s, if you&#39;re so inclined."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1442883464, "post_id": 32702870, "comment_id": 53256957, "body": "@Joshua Something like a simple filename is <i>probably</i> safe. Perl is feeding the paths to the Windows API which <i>almost always</i> accepts /. Windows programs will also probably work. See <a href=\"http://superuser.com/a/176395/22550\">this answer</a> for more detail."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1442863677, "last_edit_date": 1442863677, "creation_date": 1442862760, "answer_id": 32702870, "question_id": 32702778, "link": "https://stackoverflow.com/questions/32702778/perl-compiling-errors/32702870#32702870", "title": "Perl compiling errors", "body": "<p>The first problem is this line.</p>\n\n<pre><code>use lib \"C:\\Users\\mte\\Desktop\";\n</code></pre>\n\n<p>In Perl, <code>\\</code> is an escape character. It's also used for special characters like <code>\\n</code> (newline). Perl reads <code>\\U</code> and <code>\\m</code> and <code>\\D</code> as special characters. While there is a <code>\\U</code>, it does not understand the rest.</p>\n\n<p>To avoid this, you need to escape the escape character.</p>\n\n<pre><code>use lib \"C:\\\\Users\\\\mte\\\\Desktop\";\n</code></pre>\n\n<hr>\n\n<pre><code>syntax error at C:\\Users\\mte\\Desktop\\org11.pl line 119, near \"$usernames1 (\"\n</code></pre>\n\n<p>This is caused by a missing semi-colon on the previous line causing Perl to think the <code>open</code> and <code>for</code> loop are all one statement.  Perl isn't good at detecting missing semi-colons; if a syntax error is puzzling, check the previous line.</p>\n\n<hr>\n\n<p>The rest of your error messages are referring to code which you did not post.</p>\n"}], "owner": {"reputation": 11, "user_id": 4565381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8db88b823e4f7a529b11bc40c0e1a705?s=128&d=identicon&r=PG&f=1", "display_name": "matters1776", "link": "https://stackoverflow.com/users/4565381/matters1776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1442863677, "creation_date": 1442862369, "last_edit_date": 1442863116, "question_id": 32702778, "link": "https://stackoverflow.com/questions/32702778/perl-compiling-errors", "title": "Perl compiling errors", "body": "<p>I seem to be getting some compiling errors i cannot figure out. any help would be greatly appreciated. the basic function of the program was created to manage a list of users.</p>\n\n<p>the errors i am getting are:</p>\n\n<pre><code>C:\\Users\\mte&gt;perl C:\\Users\\mte\\Desktop\\org11.pl\nUnrecognized escape \\m passed through at C:\\Users\\mte\\Desktop\\org11.pl line 2.\nUnrecognized escape \\D passed through at C:\\Users\\mte\\Desktop\\org11.pl line 2.\nUnquoted string \"pm\" may clash with future reserved word at C:\\Users\\mte\\Desktop\\org11.pl line 3.\nsyntax error at C:\\Users\\mte\\Desktop\\org11.pl line 3, near \"use org22.\"\nsyntax error at C:\\Users\\mte\\Desktop\\org11.pl line 119, near \"$usernames1 (\"\nsyntax error at C:\\Users\\mte\\Desktop\\org11.pl line 126, near \"}\"\nExecution of C:\\Users\\mte\\Desktop\\org11.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Here is the code.</p>\n\n<pre><code>use warnings;\nuse lib \"C:\\Users\\mte\\Desktop\";\n\n\n $nameoffile;  #name of file\n $filename;   #the full path of the file\n\n print \"what is the name of the filename:\", \"\\n\";\n $nameoffile = &lt;&gt;;\n chomp($nameofile);\n\n if (-e $nameoffile)\n {\n open ($filehandle, \"&lt;\", $nameoffile);\n }\n else\n {\n open ($filehandle, \"&gt;\", $nameoffile);\n }\n\n  # load user accoutns from filefield;\n %useraccountshash = ();\n %useroptionsfunction = ('i' =&gt;\\&amp;insert_user, 'm'=&gt;\\&amp;modify_user,                \n 'r'=&gt;\\&amp;remove_user, 'g'=&gt;\\&amp;generate_list);\n\n\n while ($loadlines=&lt;$filehandle&gt;)   # load all data into hash if the file already exists\n {\n\n # this array temporarily holds the user data while we prepare it to go to hash\n\n @myarray = split(/:/, $loadlines); # split the line at the colon, will put username into index 0 in the array, and password in index 1\n $username=$myarray[0];\n\n\n\n$password=$myarray[1];\nchomp($password);\n\n$username=~ s/[^a-zA-Z0-9]//g;\n$username=lc($username);\n\n$password=~ s/\\'//g;\n\n# now we are putting in the user name and password into the hash , array to va, variiables, variables to hash\n\n$useraccounthash{$username} = $password; \n\n}\n\n#user account interface\nprint \"\\t\",\"\\n\",\"User Accounts\",\"\\n\";\nprint \"-------------\",\"\\n\";\n\nprint \"i = Insert new user account\",\"\\n\";\nprint \"m = modify existing user account\",\"\\n\";\nprint \"r = Remove existing user account\",\"\\n\";\nprint \"g = Generate list of accounts\",\"\\n\";\nprint \"q = Quit\",\"\\n\",\"\\n\";\n\n@userAccounts = ();\n$userNameStorage;\n\n#insert new user account interface\n\nprint(\"Enter Choice:\");\n\n\nwhile ($input != 'q')\n{\nwhile($input = &lt;&gt;) {\nchomp $input; \n\nif ($input eq \"i\"){\n $command=$useroptionsfunction{i};\n %useraccountshash=$command-&gt;(\\%useraccountshash); \n\n\n }\n\n #modify username and password interface\n elsif ($input eq \"m\"){\n $command=$useroptionsfunction{m};\n %useraccountshash=$command-&gt;(\\%useraccountshash); \n\n }\n\n #remove the user interface\n elsif ($input eq \"r\"){\n $command=$useroptionsfunction{r};\n %useraccountshash=$command-&gt;(\\%useraccountshash); \n\n }\n\n #generate list of accounts \n elsif ($input eq \"g\"){\n $command=$useroptionsfunction{g};\n %useraccountshash=$command-&gt;(\\%useraccountshash); \n\n }\n\n elsif ($input eq \"q\"){\n\n print \"Quitting Program...\";\n\n\n }\n }\n }\n close ($filehandle);\n  print \"save changes? type, y or n\";\n\n $userinput=&lt;&gt;;\n chomp($userinput);\n\n  if ($userinput eq 'y')\n {\n open ($filehandle, \"&gt;\", $filename)\n\n for $usernames1 (keys %useraccounthash) \n\n {  # used to iterate through the hash and pull out usernames \n  print $filehandle \"$usernames1:$useraccountshash{$usernames1}\\n\"; #goes            \n  through keys and writes the key and value to file\n  }\n\n close ($filehandle);\n }\n\n   1;\n</code></pre>\n"}, {"tags": ["perl", "authentication", "module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1443087284, "post_id": 32702416, "comment_id": 53355302, "body": "You are missing the <i>following statement</i> where the code is failing. Please add it."}, {"owner": {"reputation": 3388, "user_id": 2965993, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/UrY40.jpg?s=128&g=1", "display_name": "SomeGuyOnAComputer", "link": "https://stackoverflow.com/users/2965993/someguyonacomputer"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1443476286, "post_id": 32702416, "comment_id": 53500301, "body": "@simbabque, I don&#39;t understand. Which statement am I missing? It seems to me that the module is missing or has never been written / been released to the public? I contacted the developer of dump.pl and he explained that he cannot find the module. Then I contacted the developer of Net::Frame::Layer and he said the 8021X module needs to be written."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1443476427, "post_id": 32702416, "comment_id": 53500364, "body": "In you question you have <i>the following statement</i>, but then nothing. That was not diagnosis, just pointing out that information on the question is missing. You probably forgot it. ;-)"}, {"owner": {"reputation": 3388, "user_id": 2965993, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/UrY40.jpg?s=128&g=1", "display_name": "SomeGuyOnAComputer", "link": "https://stackoverflow.com/users/2965993/someguyonacomputer"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1443536023, "post_id": 32702416, "comment_id": 53526514, "body": "@simbabque, ah ok thank you. Yeah the statement is just requiring that missing module. It would appear this module needs to be written."}], "owner": {"reputation": 3388, "user_id": 2965993, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/UrY40.jpg?s=128&g=1", "display_name": "SomeGuyOnAComputer", "link": "https://stackoverflow.com/users/2965993/someguyonacomputer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1443535926, "creation_date": 1442860947, "last_edit_date": 1443535926, "question_id": 32702416, "link": "https://stackoverflow.com/questions/32702416/perl-netframelayer8021x-module-not-found", "title": "perl Net::Frame::Layer::8021X module not found", "body": "<p>Having trouble trying to get passed this last dependency for an old Cisco dump.pl script.</p>\n\n<p><a href=\"https://supportforums.cisco.com/blog/154046\" rel=\"nofollow\">https://supportforums.cisco.com/blog/154046</a></p>\n\n<p>So far I've installed the following dependencies: </p>\n\n<pre><code>apt-get install libclass-gomor-perl libnet-libdnet-perl libnet-pcap-perl libbit-vector-perl libnetpacket-perl\n</code></pre>\n\n<p>and placed all of his custom perl modules in a Net/ directory </p>\n\n<p>then finally I run</p>\n\n<pre><code>./dump.pl\n</code></pre>\n\n<p>My output:</p>\n\n<pre><code>*** Net::Frame::Layer::8021X module not found.\n*** Either install it (if avail), or implement it.\n*** You can also send the pcap file to perl@gomor.org.\nFrame number: 11 (length: 60)\nFrame NUMBER 11 SSL FOUND, preparing SSL payload and crafting TCP packet\n*** Net::Frame::Layer::8021X module not found.\n*** Either install it (if avail), or implement it.\n*** You can also send the pcap file to perl@gomor.org.\nFrame number: 12 (length: 64)\nFrame NUMBER 12 SSL FOUND, preparing SSL payload and crafting TCP packet\n*** Net::Frame::Layer::8021X module not found.\n*** Either install it (if avail), or implement it.\n*** You can also send the pcap file to perl@gomor.org.\nFrame number: 13 (length: 61)\nFrame NUMBER 13 SSL FOUND, preparing SSL payload and crafting TCP packet\n</code></pre>\n\n<p>After debugging using <code>perl -d dump.pl</code>, I saw that it actually requires the modules Net::Frame::Layer::ETH and Net::Frame::Layer::8021X. The former I have and the latter is missing. </p>\n\n<pre><code>Net::Frame::Simple::unpack(Net/Frame/Simple.pm:98):\n98:    for (1..1000) {\n  DB&lt;4&gt; n\nNet::Frame::Simple::unpack(Net/Frame/Simple.pm:99):\n99:       last unless $raw;\n  DB&lt;4&gt; n\nNet::Frame::Simple::unpack(Net/Frame/Simple.pm:101):\n101:          $encapsulate =~ s/[^-:\\w]//g; # Fix potential code injection\n  DB&lt;4&gt; n\nNet::Frame::Simple::unpack(Net/Frame/Simple.pm:102):\n102:          my $layer = 'Net::Frame::Layer::'.$encapsulate;\n  DB&lt;4&gt; n\nNet::Frame::Simple::unpack(Net/Frame/Simple.pm:103):\n103:          eval \"require $layer\";\n  DB&lt;4&gt; n\n</code></pre>\n\n<p>So I installed these dependencies:</p>\n\n<pre><code>apt-get install cpanminus\ncpanm Net::Frame\ncpanm Net::Frame::Simple\ncpanm Net::Frame::Layer\ncpanm Socket6\n</code></pre>\n\n<p>I'm still hitting the same issue.</p>\n\n<p>With additional debugging it seems that the issue is with <code>raw        =&gt; $h-&gt;{raw}</code> because I ran <code>print Net::Frame::Simple-&gt;new( firstLayer =&gt; $h-&gt;{firstLayer}, timestamp  =&gt; $h-&gt;{timestamp} )</code> and <code>print $h-&gt;{raw}</code> in the interpreter without triggering the issue.</p>\n\n<pre><code>main::(dump.pl:44):     my $f = Net::Frame::Simple-&gt;new(\nmain::(dump.pl:45):         raw        =&gt; $h-&gt;{raw},\nmain::(dump.pl:46):         firstLayer =&gt; $h-&gt;{firstLayer},\nmain::(dump.pl:47):         timestamp  =&gt; $h-&gt;{timestamp},\nmain::(dump.pl:48):     );\n</code></pre>\n\n<p>It will write out an ssl.pcap file but it will not contain the raw packet data, just the firstLayer e.g. ETH and the UNIX timestamp. I also made sure that I'm using the local modules inside the Net/ directory by replacing all of the <code>use</code> statements with <code>require</code> and replacing the :: with /. </p>\n\n<p>Still complains when trying to <code>require Net::Frame::Layer::8021X</code> which doesn't seem to exist anywhere on the Internet...</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442860633, "post_id": 32702238, "comment_id": 53247761, "body": "<code>while ( &lt;$fh&gt; ) { $hashCounter{$_}++ for map {fc} split; };</code> should do it."}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 4279781, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-MeLLv_oCiTo/AAAAAAAAAAI/AAAAAAAAAb8/CLMXZGKXabI/photo.jpg?sz=128", "display_name": "Sagar Samtani", "link": "https://stackoverflow.com/users/4279781/sagar-samtani"}, "edited": false, "score": 0, "creation_date": 1442860816, "post_id": 32702280, "comment_id": 53247877, "body": "When I use $hashCounter{fc(word)}++; I get the error of &quot;Undefined subroutine &amp;main::fc called at filename.pl line 13, &lt;$fh&gt; line 1.&quot;"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 193, "user_id": 4279781, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-MeLLv_oCiTo/AAAAAAAAAAI/AAAAAAAAAb8/CLMXZGKXabI/photo.jpg?sz=128", "display_name": "Sagar Samtani", "link": "https://stackoverflow.com/users/4279781/sagar-samtani"}, "edited": false, "score": 1, "creation_date": 1442860978, "post_id": 32702280, "comment_id": 53247968, "body": "@SagarSamtani you perl is older than v5.16. You can use <code>lc()</code> for older perl versions."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 1, "last_activity_date": 1442860427, "creation_date": 1442860427, "answer_id": 32702280, "question_id": 32702238, "link": "https://stackoverflow.com/questions/32702238/reading-line-by-line-from-a-text-file-in-perl-and-case-folding-each-line/32702280#32702280", "title": "Reading line by line from a text file in Perl and case folding each line", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/fc.html\" rel=\"nofollow\"><code>fc()</code></a>,</p>\n\n<pre><code>$hashCounter{ fc($word) }++;\n</code></pre>\n\n<p>From <a href=\"http://perldoc.perl.org/functions/fc.html\" rel=\"nofollow\"><code>perldoc -f fc</code></a></p>\n\n<blockquote>\n  <p>Returns the casefolded version of EXPR. This is the internal function implementing the \\F escape in double-quoted strings.\n  Casefolding is the process of mapping strings to a form where case differences are erased; comparing two strings in their casefolded form is effectively a way of asking if two strings are equal, regardless of case.</p>\n</blockquote>\n"}], "owner": {"reputation": 193, "user_id": 4279781, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-MeLLv_oCiTo/AAAAAAAAAAI/AAAAAAAAAb8/CLMXZGKXabI/photo.jpg?sz=128", "display_name": "Sagar Samtani", "link": "https://stackoverflow.com/users/4279781/sagar-samtani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 32702280, "answer_count": 1, "score": 0, "last_activity_date": 1442860427, "creation_date": 1442860311, "question_id": 32702238, "link": "https://stackoverflow.com/questions/32702238/reading-line-by-line-from-a-text-file-in-perl-and-case-folding-each-line", "title": "Reading line by line from a text file in Perl and case folding each line", "body": "<p>I am trying to read a text file in Perl. For each line, I would like to split the sentence into its words fold the case before processing it any further. I am not sure about the syntax for folding case when reading from a file. </p>\n\n<pre><code>while ($line = &lt;$fh&gt;){\n    @words = split /\\s+/, $line;\n    foreach my $word (@words){\n        $hashCounter{$word}++;\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 1, "creation_date": 1442859934, "post_id": 32702132, "comment_id": 53247371, "body": "put the expression in double quotes? <code>&quot;for (@F) {print if &#47;^[a-zA-z]+&#39;[a-zA-Z]+$&#47;}&quot;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 1, "creation_date": 1442863651, "post_id": 32702132, "comment_id": 53249455, "body": "@hjpotter92 Works in this case, but not a good idea in general, since the shell will expand certain characters inside double quotes in Bourne shell variants."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1442867208, "post_id": 32702132, "comment_id": 53251378, "body": "You can replace the single-quote in the regex with <code>\\x27</code>, which is simply its hex representation."}, {"owner": {"reputation": 2570, "user_id": 251947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80f18fe71d6fc0940ab8b7a036dd056e?s=128&d=identicon&r=PG", "display_name": "Chris Koknat", "link": "https://stackoverflow.com/users/251947/chris-koknat"}, "edited": false, "score": 0, "creation_date": 1442869057, "post_id": 32702132, "comment_id": 53252250, "body": "Thanks.  These both worked:  <code>perl -lane &#39;for (@F) {print if &#47;^[a-zA-z]+\\047[a-zA-Z]+$&#47;}&#39; file</code>  and  <code>perl -lane &#39;for (@F) {print if &#47;^[a-zA-z]+\\x27[a-zA-Z]+$&#47;}&#39; file</code>"}, {"owner": {"reputation": 2570, "user_id": 251947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80f18fe71d6fc0940ab8b7a036dd056e?s=128&d=identicon&r=PG", "display_name": "Chris Koknat", "link": "https://stackoverflow.com/users/251947/chris-koknat"}, "edited": false, "score": 0, "creation_date": 1442869644, "post_id": 32702132, "comment_id": 53252601, "body": "I didn&#39;t understand why a backslash didn&#39;t properly escape the quote.  Evidently bash has the rule &quot;a single quote may not occur between single quotes, even when preceded by a backslash.&quot; - <a href=\"http://ss64.com/bash/syntax-quoting.html\" rel=\"nofollow noreferrer\">ss64.com/bash/syntax-quoting.html</a>"}], "owner": {"reputation": 2570, "user_id": 251947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80f18fe71d6fc0940ab8b7a036dd056e?s=128&d=identicon&r=PG", "display_name": "Chris Koknat", "link": "https://stackoverflow.com/users/251947/chris-koknat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1442860277, "answer_count": 0, "score": 0, "last_activity_date": 1442859885, "creation_date": 1442859885, "question_id": 32702132, "link": "https://stackoverflow.com/questions/32702132/perl-one-liner-to-match-contractions-such-as-id-and-cant", "closed_reason": "Duplicate", "title": "Perl one-liner to match contractions such as I&#39;d and can&#39;t", "body": "<p>I'm writing Perl code to match English contractions such as <code>I'd</code> and <code>can't</code><br>\nI could solve the problem by transforming my code into a short script, but I would like to know if this can be solved with a one-liner.</p>\n\n<p>My sample text is:</p>\n\n<pre><code>I'd like to match only contractions using a Perl one liner but it's tricky\n</code></pre>\n\n<p>The output should be:</p>\n\n<pre><code>I'd\nit's\n</code></pre>\n\n<p>I can't put a bare single-quote inside of the regex, since that would prematurely end the perl expression:</p>\n\n<pre><code>perl -lane 'for (@F) {print if /^[a-zA-z]+'[a-zA-Z]+$/}' file\nIllegal variable name.\n</code></pre>\n\n<p>Escaping the single-quote with a backslash isn't working:</p>\n\n<pre><code>perl -lane 'for (@F) {print if /^[a-zA-z]+\\'[a-zA-Z]+$/}' file\nIllegal variable name.\n</code></pre>\n"}, {"tags": ["perl", "syntax", "io", "filehandle"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 2, "creation_date": 1442858274, "post_id": 32701607, "comment_id": 53246365, "body": "Can&#39;t you just not close <code>$fh</code>?"}, {"owner": {"reputation": 745, "user_id": 1823636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56dc271a930773cc7ce95dfceedcd83e?s=128&d=identicon&r=PG", "display_name": "sisoft", "link": "https://stackoverflow.com/users/1823636/sisoft"}, "edited": false, "score": 0, "creation_date": 1442858444, "post_id": 32701607, "comment_id": 53246467, "body": "Reopening of closed handle is not possible. You have two choices: don&#39;t close handle too early or reopen whole file."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1442858783, "post_id": 32701607, "comment_id": 53246660, "body": "This sounds like an XY problem. In the above code, I would simply store <code>Hi!</code> in a variable; reading it from the file would be both unnecessary and expensive. I assume you want to open the file read/write and use <code>seek</code> as <a href=\"http://stackoverflow.com/a/32701741/176646\">sidyll suggested</a>, but it would help if you explained why you want to do this; we may be able to suggest a better way."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1442859234, "post_id": 32701607, "comment_id": 53246932, "body": "I just wanted to know if it was possible to reopen a closed file handle.  It would just make for some nice syntactic sugar, but if it&#39;s not possible, opening it for read/write and not closing it until the end will get the job done."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1442859642, "post_id": 32701607, "comment_id": 53247189, "body": "<a href=\"https://metacpan.org/pod/Tie::File\" rel=\"nofollow noreferrer\">Tie::File</a> lets you treat the contents of a file as an array, which can be nice if you&#39;re doing lots of random-access reads and writes. Not sure if that&#39;s the kind of thing you&#39;re looking for."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442859852, "post_id": 32701607, "comment_id": 53247313, "body": "what are you trying to accomplish by doing this? You cannot &quot;reopen&quot; a file descriptor, because it no longer exists. That&#39;s the point of &#39;closing&#39; it."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1442861142, "post_id": 32701607, "comment_id": 53248066, "body": "I was really just trying to do something with a file at the beginning of a script and then do something else with it near the end and I didn&#39;t want to create an entirely new file handle.  My question is generic, there&#39;s no real specific usage case I had in mind."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1442858475, "post_id": 32701741, "comment_id": 53246490, "body": "You&#39;ll have to open it read/write first (the OP wants to do both): <code>open my $fh, &#39;+&lt;&#39;, &#39;file.txt&#39; or die $!;</code>"}, {"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1442858639, "post_id": 32701741, "comment_id": 53246582, "body": "Yes well noted @ThisSuitIsBlackNot. I added this to the answer to make it more clear. Thanks!"}], "tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": true, "score": 3, "last_activity_date": 1442858884, "last_edit_date": 1442858884, "creation_date": 1442858383, "answer_id": 32701741, "question_id": 32701607, "link": "https://stackoverflow.com/questions/32701607/how-can-i-reopen-a-closed-file-handle-in-perl/32701741#32701741", "title": "How can I reopen a closed file handle in Perl?", "body": "<p>You cannot  \"reopen\" it. The best  solution is to avoid  closing, if you\nneed it later.  Remember that you can alway use  <a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"nofollow\"><code>seek</code></a> if you need\nto rewind to some portion of the file.</p>\n\n<pre><code># open for read/write\nopen my $fh, '+&lt;', 'file.txt' or die $!;\n\n# do something to file, like writing\n\n# go to the beginning\nseek FILEHANDLE, 0, 0;\n\n# do something else, like reading\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1574254341, "post_id": 32701765, "comment_id": 104165302, "body": "I would delete this answer, because it does not answer the question."}], "tags": [], "owner": {"reputation": 93, "user_id": 5360420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bde88f26ca5efebb82ceff386556a9?s=128&d=identicon&r=PG&f=1", "display_name": "arkadianriver", "link": "https://stackoverflow.com/users/5360420/arkadianriver"}, "is_accepted": false, "score": 0, "last_activity_date": 1442858461, "creation_date": 1442858461, "answer_id": 32701765, "question_id": 32701607, "link": "https://stackoverflow.com/questions/32701607/how-can-i-reopen-a-closed-file-handle-in-perl/32701765#32701765", "title": "How can I reopen a closed file handle in Perl?", "body": "<p>I don't know that you can reopen a closed handle. But, you can reuse the $fh variable as a filehandle since it's been closed. But, you're missing the name of the file when you open again.</p>\n\n<pre><code>open $fh, '&lt;', 'file.txt' or die $!;\n</code></pre>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1292, "favorite_count": 0, "accepted_answer_id": 32701741, "answer_count": 2, "score": 0, "last_activity_date": 1442858884, "creation_date": 1442857902, "question_id": 32701607, "link": "https://stackoverflow.com/questions/32701607/how-can-i-reopen-a-closed-file-handle-in-perl", "title": "How can I reopen a closed file handle in Perl?", "body": "<p>Once a file handle is closed is it possible to reopen it without creating a new file handle?</p>\n\n<p>ex (This doesn't work):</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# Open and write to a file\nopen my $fh, '&gt;', 'file.txt' or die $!;\nprint $fh 'Hi!';\nclose $fh;\n\n# Reopen the file and read its contents\nopen $fh, '&lt;' or die $!;\nmy @contents = &lt;$fh&gt;;\nclose $fh;\n\nprint @contents;\n</code></pre>\n\n<p>I'm trying to avoid doing this:</p>\n\n<pre><code>open my $fh2, '&lt;', 'file.txt' or die $!;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 3, "creation_date": 1442857601, "post_id": 32701491, "comment_id": 53245986, "body": "What do you mean by &quot;not working as expected&quot;? Does it not produce the output you expect? Does it fail with some error? Does it set your computer on fire?"}, {"owner": {"reputation": 135, "user_id": 1269701, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ca0ac7e1147d8d699ed3d7acb1f10342?s=128&d=identicon&r=PG", "display_name": "user1269701", "link": "https://stackoverflow.com/users/1269701/user1269701"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1442860368, "post_id": 32701491, "comment_id": 53247593, "body": "$resFile is getting created , but with no contents. The same a.sh script, when I run directly from the host, it is creating the contents"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 1269701, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ca0ac7e1147d8d699ed3d7acb1f10342?s=128&d=identicon&r=PG", "display_name": "user1269701", "link": "https://stackoverflow.com/users/1269701/user1269701"}, "edited": false, "score": 0, "creation_date": 1442860377, "post_id": 32701547, "comment_id": 53247605, "body": "ok, let me give it a try"}, {"owner": {"reputation": 135, "user_id": 1269701, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ca0ac7e1147d8d699ed3d7acb1f10342?s=128&d=identicon&r=PG", "display_name": "user1269701", "link": "https://stackoverflow.com/users/1269701/user1269701"}, "edited": false, "score": 0, "creation_date": 1442860955, "post_id": 32701547, "comment_id": 53247951, "body": "Thanks a lot , That helped in identifying the issue."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442867029, "post_id": 32701547, "comment_id": 53251272, "body": "You can post an answer if you have identified the problem yourself."}], "tags": [], "owner": {"reputation": 998, "user_id": 884447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b57a75af90fc4db0f0935048d2cc23a?s=128&d=identicon&r=PG", "display_name": "asf107", "link": "https://stackoverflow.com/users/884447/asf107"}, "is_accepted": true, "score": 1, "last_activity_date": 1442858023, "last_edit_date": 1442858023, "creation_date": 1442857693, "answer_id": 32701547, "question_id": 32701491, "link": "https://stackoverflow.com/questions/32701491/output-of-system-command-in-perl/32701547#32701547", "title": "Output of System command in perl", "body": "<p>if you want to see the error messages produced by the system call, I'd recommend concatenating both <code>stdout</code> and <code>stderr</code> and redirecting them by placing <code>2&gt;&amp;1</code> at the end of the call:</p>\n\n<pre><code>system(\"ssh $host_name sh /tmp/a.sh $file_name $region $domain &lt; /tmp/info.txt &gt; $resFile 2&gt;&amp;1 \");`\n</code></pre>\n\n<p>Then, anything in <code>stderr</code> will also be printed in <code>$resfile</code>, and you can inspect the errors to try and discover what went wrong. </p>\n"}], "owner": {"reputation": 135, "user_id": 1269701, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ca0ac7e1147d8d699ed3d7acb1f10342?s=128&d=identicon&r=PG", "display_name": "user1269701", "link": "https://stackoverflow.com/users/1269701/user1269701"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "closed_date": 1442867046, "accepted_answer_id": 32701547, "answer_count": 1, "score": 0, "last_activity_date": 1442858023, "creation_date": 1442857499, "last_edit_date": 1442857555, "question_id": 32701491, "link": "https://stackoverflow.com/questions/32701491/output-of-system-command-in-perl", "closed_reason": "Needs details or clarity", "title": "Output of System command in perl", "body": "<p>I have the following command  </p>\n\n<pre><code>system(\"ssh $host_name sh /tmp/a.sh $file_name $region $domain &lt; /tmp/info.txt &gt; $resFile \");\n</code></pre>\n\n<p>However, this command is not working as expected. Please suggest how to get the failure reason. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1442855583, "post_id": 32700899, "comment_id": 53244897, "body": "In the path for your setup perl can&#39;t find the module file for org22. First check where you installed it. If it is a local module you need to make certain you set the appropriate <code>use lib yourLocalDir&#47;path&#47;to&#47;module&#47;here</code> to bring it into your path."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1442856608, "post_id": 32700899, "comment_id": 53245427, "body": "You said your code contains an instruction to load <code>org22</code>, but the error says <code>org2</code> can&#39;t be found..."}, {"owner": {"reputation": 11, "user_id": 4565381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8db88b823e4f7a529b11bc40c0e1a705?s=128&d=identicon&r=PG&f=1", "display_name": "matters1776", "link": "https://stackoverflow.com/users/4565381/matters1776"}, "reply_to_user": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1442859127, "post_id": 32700899, "comment_id": 53246860, "body": "@scrappedcola , where do i put that? in my program or the command prompt?"}, {"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1442859892, "post_id": 32700899, "comment_id": 53247348, "body": "above your other <code>use</code> statements in your code. just make certain you have the correct directory path. It basically says look in this directory for additional modules."}, {"owner": {"reputation": 11, "user_id": 4565381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8db88b823e4f7a529b11bc40c0e1a705?s=128&d=identicon&r=PG&f=1", "display_name": "matters1776", "link": "https://stackoverflow.com/users/4565381/matters1776"}, "reply_to_user": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1442860509, "post_id": 32700899, "comment_id": 53247684, "body": "@scrappedcola, i used the use function, but how does it know to point to the direct .pm file if i am only putting the path?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1442913621, "post_id": 32700899, "comment_id": 53268558, "body": "&quot;org2&quot; or &quot;org22&quot;? Accuracy is important in programming."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4565381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8db88b823e4f7a529b11bc40c0e1a705?s=128&d=identicon&r=PG&f=1", "display_name": "matters1776", "link": "https://stackoverflow.com/users/4565381/matters1776"}, "edited": false, "score": 0, "creation_date": 1442858840, "post_id": 32701011, "comment_id": 53246692, "body": "I tried almost all the example, and keep running into various problems.   i tried changing my code to,    use warnings; use lib &quot;C:\\Users\\mte\\Desktop\\org22.pm&quot;; use org22.pm;"}, {"owner": {"reputation": 11, "user_id": 4565381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8db88b823e4f7a529b11bc40c0e1a705?s=128&d=identicon&r=PG&f=1", "display_name": "matters1776", "link": "https://stackoverflow.com/users/4565381/matters1776"}, "edited": false, "score": 0, "creation_date": 1442860772, "post_id": 32701011, "comment_id": 53247851, "body": "i used the use function, but how does it know to point to the direct .pm file if i am only putting the path? don&#39;t i need to add something else, like &quot;use org22.pm&quot;"}, {"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 0, "creation_date": 1442860878, "post_id": 32701011, "comment_id": 53247909, "body": "use lib adds a path to your @INC and nothing more.  You still have to &#39;use&#39; the module(s) contained in that path in your code. (and the &#39;use lib&#39; has to come before the &#39;use&#39; of modules in that directory.)"}, {"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 0, "creation_date": 1442861409, "post_id": 32701011, "comment_id": 53248213, "body": "Updated my answer with more details about use lib."}, {"owner": {"reputation": 11, "user_id": 4565381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8db88b823e4f7a529b11bc40c0e1a705?s=128&d=identicon&r=PG&f=1", "display_name": "matters1776", "link": "https://stackoverflow.com/users/4565381/matters1776"}, "edited": false, "score": 0, "creation_date": 1442864662, "post_id": 32701011, "comment_id": 53250002, "body": "for the use module, should i include the .pm or no?"}, {"owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "edited": false, "score": 0, "creation_date": 1442869890, "post_id": 32701011, "comment_id": 53252741, "body": "No. Never use extensions for modules in &#39;use&#39; statements. The example shows that."}], "tags": [], "owner": {"reputation": 1827, "user_id": 1303827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/46c6fe34f1fdce3edc463169a9b03763?s=128&d=identicon&r=PG", "display_name": "Tim S.", "link": "https://stackoverflow.com/users/1303827/tim-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1442861284, "last_edit_date": 1495541199, "creation_date": 1442855654, "answer_id": 32701011, "question_id": 32700899, "link": "https://stackoverflow.com/questions/32700899/perl-module-error/32701011#32701011", "title": "Perl module error", "body": "<p>Either your perl path is incorrect/lacking, or the org22 module is not installed. Take a look at <a href=\"https://stackoverflow.com/questions/2526804/how-is-perls-inc-constructed-aka-what-are-all-the-ways-of-affecting-where-pe\">this post</a> for more information on constructing an @INC.  Make sure that the org22 module is installed (and if it isn't, that's likely the cause of this error.)</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>If your module is not in @INC (the standard perl include path), and assuming that your module (for example) is located at C:\\Some\\Path\\MyModule.pm, then:</p>\n\n<pre><code>use lib 'C:\\Some\\Path';\nuse MyModule;\n\n# Rest of your code\n</code></pre>\n\n<p>You also may consider using a shebang line as the 1st line in your script:</p>\n\n<pre><code>#!/bin/perl\n</code></pre>\n\n<p>or </p>\n\n<pre><code>#!/usr/bin/env perl\n</code></pre>\n\n<p>This will help ensure a consistent experience based on which perl interpreter you are using, given updates, installations of other programs, etc.</p>\n"}], "owner": {"reputation": 11, "user_id": 4565381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8db88b823e4f7a529b11bc40c0e1a705?s=128&d=identicon&r=PG&f=1", "display_name": "matters1776", "link": "https://stackoverflow.com/users/4565381/matters1776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 578, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1442861284, "creation_date": 1442855291, "last_edit_date": 1442855668, "question_id": 32700899, "link": "https://stackoverflow.com/questions/32700899/perl-module-error", "title": "Perl module error", "body": "<p>When I run my perl program, i get the error, i have tried googling it, but i could not find a definitive easy to solve answer</p>\n\n<blockquote>\n  <p>C:\\Users\\mte>C:\\Users\\mte\\Desktop\\org11.pl\n  Can't locate org2.pm in @INC (you may need to install the org2 module) (@INC con\n  tains: C:/Perl64/site/lib C:/Perl64/lib .) at C:\\Users\\mte\\Desktop\\org11.pl line\n  2.\n  BEGIN failed--compilation aborted at C:\\Users\\mte\\Desktop\\org11.pl line 2.</p>\n</blockquote>\n\n<p>the beginning of my code looks like this</p>\n\n<pre><code>use warnings;\nuse org22;\n</code></pre>\n"}, {"tags": ["macos", "mongodb", "perl", "cpan"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1442851617, "post_id": 32699696, "comment_id": 53242630, "body": "It looks like you configured cpan to use local::lib, which will install modules in your home directory instead of in the system Perl directories."}, {"owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1442904295, "post_id": 32699696, "comment_id": 53262903, "body": "Cool! perl -I ~/perl5/lib/perl5 -Mlocal::lib -e&#39;use MongoDB; print MongoDB-&gt;VERSION();&#39; work! Please post your answer and I can vote you up. Can I do -I ~/perl5/lib/perl5 -Mlocal::lib inside the script?"}, {"owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1442906482, "post_id": 32699696, "comment_id": 53264123, "body": "The inline version: perl -e&#39;use lib &quot;$ENV{q(HOME)}/perl5/lib/perl5&quot;; use local::lib; use MongoDB; print MongoDB-&gt;VERSION();&#39;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1443021431, "post_id": 32699696, "comment_id": 53327606, "body": "Glad you got it working. There have actually been quite a few people with this problem lately, so I wrote up a <a href=\"http://stackoverflow.com/q/32726324/176646\">canonical question and answer</a> that can hopefully address these problems in the future. I think the easiest approach is to use PERL5LIB so you don&#39;t have to add <code>use local::lib;</code> to all your code; cpan may have already changed PERL5LIB for you as I explain in the linked post."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1443021758, "post_id": 32699696, "comment_id": 53327832, "body": "Also, if that post does describe the problem you had, I hope you wouldn&#39;t mind if I vote to close this question as a duplicate. Don&#39;t worry, duplicates are not a bad thing, they act as signposts so people searching for similar questions can land on either the main question or the duplicate and still get their answer. For example, someone who had the same issue as you with MongoDB might end up on this page from a google search, while someone else might end up on my more generalized version; if the two questions are linked as duplicates, both users could get their answer easily."}], "owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "closed_date": 1443207775, "answer_count": 0, "score": 0, "last_activity_date": 1442851260, "creation_date": 1442851260, "question_id": 32699696, "link": "https://stackoverflow.com/questions/32699696/how-install-correct-perl-modules-by-using-cpan-on-mac-os", "closed_reason": "Duplicate", "title": "How install correct perl modules by using cpan on Mac-OS?", "body": "<p>I use cpan to install MongoDB on Yosemite. My Steps:</p>\n\n<pre><code>sudo -s\nPassword:\nbash-3.2# cpan\n\n...\n\ncpan[1]&gt; install MongoDB\nRunning install for module 'MongoDB'\nRunning make for M/MO/MONGODB/MongoDB-v0.708.4.0.tar.gz\n\n...\n\nRunning make install\nManifying 24 pod documents\nFiles found in blib/arch: installing files in blib/lib into architecture dependent library tree\nInstalling /Users/gerd/perl5/lib/perl5/darwin-thread-multi-2level/auto/MongoDB/MongoDB.bundle\nInstalling /Users/gerd/perl5/lib/perl5/darwin-thread-multi-2level/MongoDB.pm\nInstalling /Users/gerd/perl5/lib/perl5/darwin-thread-multi-2level/MongoDB/_Types.pm\n\n...\n\nInstalling /Users/gerd/perl5/man/man3/MongoDB::Timestamp.3pm\nInstalling /Users/gerd/perl5/man/man3/MongoDB::Tutorial.3pm\nInstalling /Users/gerd/perl5/man/man3/MongoDB::WriteResult.3pm\nAppending installation info to /Users/gerd/perl5/lib/perl5/darwin-thread-multi-2level/perllocal.pod\n  MONGODB/MongoDB-v0.708.4.0.tar.gz\n  /usr/bin/make install  -- OK\n\n cpan[2]&gt; \n</code></pre>\n\n<p>After exit cpan I test my Installation:</p>\n\n<pre><code>perl -e'use MongoDB; print MongoDB::VERSION();'\nCan't locate MongoDB.pm in @INC (you may need to install the MongoDB module) (@INC contains: /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18 /Network/Library/Perl/5.18/darwin-thread-multi-2level /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.2 /System/Library/Perl/5.18/darwin-thread-multi-2level /System/Library/Perl/5.18 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level /System/Library/Perl/Extras/5.18 .) at -e line 1.\nBEGIN failed--compilation aborted at -e line 1.\n</code></pre>\n\n<p>I think the problem is the modul location in my HOME-directory /Users/gerd/perl5/lib/perl5/darwin-thread-multi-2level/MongoDB.pm. But where is my mistake in cpan installation process on mac?</p>\n"}, {"tags": ["perl", "user-agent", "mojolicious"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1442851111, "post_id": 32699596, "comment_id": 53242287, "body": "Odds are that the server is doing no such check. It probably just returns a webpage which says you don&#39;t support JS and some JS which gets rid of that message. The reason you see the message is because you aren&#39;t parsing it."}, {"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1442851237, "post_id": 32699596, "comment_id": 53242376, "body": "@Quentin so there is no way to see same content what I see in my desktop Google Chrome or Firefox?"}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": -1, "last_activity_date": 1442851365, "creation_date": 1442851365, "answer_id": 32699730, "question_id": 32699596, "link": "https://stackoverflow.com/questions/32699596/how-to-say-to-server-i-can-parse-javascript-in-perl-mojouseragent/32699730#32699730", "title": "How to say to server I can parse Javascript in Perl Mojo::UserAgent?", "body": "<p>There are two basic approaches to scraping data from a website that depends on JavaScript.</p>\n\n<ol>\n<li>Reverse engineer the website. Figure out what the JavaScript is doing, then replicate that functionality in your own code.</li>\n<li>Drive a web browser which supports JavaScript (e.g. via Selenium or PhantomJS \u2014 both of which have CPAN modules) and extract the data from the browser.</li>\n</ol>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1442851365, "creation_date": 1442850962, "question_id": 32699596, "link": "https://stackoverflow.com/questions/32699596/how-to-say-to-server-i-can-parse-javascript-in-perl-mojouseragent", "title": "How to say to server I can parse Javascript in Perl Mojo::UserAgent?", "body": "<p>I try to use <code>Perl</code> <code>Mojo::UserAgent</code> to crawle a website, but the server checking the browser's Javascript support capability. It is possible to say / lie my client support Javascript?</p>\n\n<p>Now I have only this code:</p>\n\n<pre><code>use Mojo::DOM;\nuse Mojo::UserAgent;\n\nmy $ua = Mojo::UserAgent-&gt;new;\n$ua = $ua-&gt;transactor(Mojo::UserAgent::Transactor-&gt;new);\n$ua-&gt;transactor-&gt;name('Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:21.0) Gecko/20100101 Firefox/21.0');\nmy $tx = $ua-&gt;post(\"http://...\" =&gt; form =&gt; {\n                    \"login_username\" =&gt; \"...\",\n                    \"login_password\" =&gt; \"...\"\n            });\n</code></pre>\n\n<p>It is possible to do? If not possible, is there exists any other perl-based user-agent what can do this?</p>\n"}, {"tags": ["perl", "poe"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1442849515, "post_id": 32699018, "comment_id": 53241251, "body": "What does the <code>$self</code> object look like when inspected with Data::Printer?"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1442849632, "post_id": 32699018, "comment_id": 53241338, "body": "That&#39;s not telling you that the returned object doesn&#39;t have a given method, it&#39;s telling you that <code>$self-&gt;pocoirc()</code> is undef."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5359801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525b1c67a20304fede7cd294d0c7a0bd?s=128&d=identicon&r=PG&f=1", "display_name": "Sjoerd Swenzon", "link": "https://stackoverflow.com/users/5359801/sjoerd-swenzon"}, "is_accepted": false, "score": 0, "last_activity_date": 1442909878, "creation_date": 1442909878, "answer_id": 32711855, "question_id": 32699018, "link": "https://stackoverflow.com/questions/32699018/how-do-i-send-a-raw-irc-message-when-using-botbasicbot/32711855#32711855", "title": "How do I send a raw IRC message when using Bot::BasicBot", "body": "<p>Thanks to the tip about Data::Printer, it turns out that the POE::Kernel is available as self->{kernel}. To enqueue a raw command,</p>\n\n<pre><code>$self-&gt;{kernel}-&gt;post( $self-&gt;{IRCNAME}, 'quote', 'your raw command');\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5359801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525b1c67a20304fede7cd294d0c7a0bd?s=128&d=identicon&r=PG&f=1", "display_name": "Sjoerd Swenzon", "link": "https://stackoverflow.com/users/5359801/sjoerd-swenzon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1442909878, "creation_date": 1442849220, "question_id": 32699018, "link": "https://stackoverflow.com/questions/32699018/how-do-i-send-a-raw-irc-message-when-using-botbasicbot", "title": "How do I send a raw IRC message when using Bot::BasicBot", "body": "<p><a href=\"http://search.cpan.org/~hinrik/Bot-BasicBot-0.89/lib/Bot/BasicBot.pm\" rel=\"nofollow\">Bot::BasicBot</a> provides a method for fetching the  handle of the underlying POE::Component::IRC::State object, pocoirc(). Using this object handle, it seems like it should be possible to send a raw message like this:</p>\n\n<pre><code>sub said {\n  my ($self, $message) = @_;\n  $self-&gt;pocoirc()-&gt;yield('raw_events' =&gt; 1);\n  $self-&gt;pocoirc()-&gt;yield('irc_raw_out' =&gt; 'RAW message');\n</code></pre>\n\n<p>However, this gives the error \"Can't call method \"yield\" without a package or object reference\" - the returned object doesn't seem to export the expected method. Have I misunderstood what kind of object I'm getting back, or how to trigger sending of a raw message? </p>\n"}, {"tags": ["perl", "hyphen"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 8, "creation_date": 1442845725, "post_id": 32697725, "comment_id": 53238622, "body": "Side-note: you should have <code>use strict; use warnings;</code> at the top of every Perl script you write. This will require you to quote your strings, e.g. <code>my $QueueName = &#39;Support&#39;;</code>, but it will help you avoid a lot of common errors, like typos in variable names."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 10, "last_activity_date": 1442845603, "creation_date": 1442845603, "answer_id": 32697747, "question_id": 32697725, "link": "https://stackoverflow.com/questions/32697725/how-to-concatenate-perl-variables-with-a-hyphen/32697747#32697747", "title": "How to concatenate Perl variables with a hyphen?", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/join.html\"><code>join()</code></a> to join list elements with delimiter,</p>\n\n<pre><code>my $Tn = join \"-\", $QueueName, $CustomerID, $UserCountry, $Count;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 1, "creation_date": 1442860927, "post_id": 32698154, "comment_id": 53247940, "body": "as complete as you wanted to be, you neglected to give a nice example of how to use the join() operator. please add that to the answer"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 0, "creation_date": 1442924037, "post_id": 32698154, "comment_id": 53275454, "body": "I didn&#39;t include it because that was already covered by another answer."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 1, "creation_date": 1442924594, "post_id": 32698154, "comment_id": 53275857, "body": "An example of <code>join</code> has been added."}], "tags": [], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "is_accepted": false, "score": 5, "last_activity_date": 1442924334, "last_edit_date": 1442924334, "creation_date": 1442846685, "answer_id": 32698154, "question_id": 32697725, "link": "https://stackoverflow.com/questions/32697725/how-to-concatenate-perl-variables-with-a-hyphen/32698154#32698154", "title": "How to concatenate Perl variables with a hyphen?", "body": "<p>You should be using <code>strict</code> and <code>warnings</code> to enforce good programming habits. While your solution is technically valid Perl it would fail the <code>strict</code> test since you are trying to define variables with \"barewords\".</p>\n\n<hr>\n\n<p>To fix this, put these two lines at the top of your code:</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>Then modify your code to fit the rules of the <code>strict</code> module.</p>\n\n<p>ex:</p>\n\n<p><code>my $QueueName = Support;</code></p>\n\n<p>should be:</p>\n\n<p><code>my $QueueName = 'Support';</code></p>\n\n<hr>\n\n<p>As for concatenating the variables this will work:</p>\n\n<p><code>my $Tn = $QueueName.'-'.$CustomerID.'-'.$UserCountry.'-'.$Count;</code></p>\n\n<p>-or-</p>\n\n<p><code>my $Tn = \"$QueueName-$CustomerID-$UserCountry-$Count\";</code></p>\n\n<p>The <code>join</code> function will also work:</p>\n\n<p><code>my $Tn = join '-', $QueueName, $CustomerID, $UserCountry, $Count;</code></p>\n\n<hr>\n\n<p>Depending on who will be maintaining your code, the first two methods may be more readable to those who are inexperienced with Perl.</p>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1442851200, "post_id": 32698972, "comment_id": 53242346, "body": "Actually it is valid to concatenate two variables without putting them in quotes: <code>my $var = $string1.$string2</code> is perfectly valid Perl syntax."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1442851301, "post_id": 32698972, "comment_id": 53242429, "body": "@tjwrona1992 Dr.Avalanche is referring to the use of barewords, e.g. <code>my $QueueName   = Support;</code>, which won&#39;t work under strict subs. The OP probably doesn&#39;t know about strict, so that should really be explained better."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1442852027, "post_id": 32698972, "comment_id": 53242887, "body": "Oh, then yes, Dr. Avalanche is correct.  If <code>strict</code>/<code>warnings</code> is in use that will result in an error . . . and you should ALWAYS use <code>strict</code>/<code>warnings</code>."}], "tags": [], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "is_accepted": true, "score": 0, "last_activity_date": 1442867768, "last_edit_date": 1442867768, "creation_date": 1442849114, "answer_id": 32698972, "question_id": 32697725, "link": "https://stackoverflow.com/questions/32697725/how-to-concatenate-perl-variables-with-a-hyphen/32698972#32698972", "title": "How to concatenate Perl variables with a hyphen?", "body": "<p>This isn't good Perl, and wouldn't run under <code>use strict</code>, which you really should be using.  If you were, you'd see errors displayed.</p>\n\n<p>Write it like this, instead:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $QueueName   = 'Support';\nmy $CustomerID  = 'abc';\nmy $UserCountry = 'India';\nmy $Count       = '12345';\n\nmy $Tn = \"$QueueName-$CustomerID-$UserCountry-$Count\";\nprint \"$Tn\\n\";\n</code></pre>\n\n<p>You have to quote strings. If you want a hyphen you can use the method above to allocate the values separated by a hyphen.</p>\n"}], "owner": {"reputation": 29, "user_id": 4069287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ODKei.jpg?s=128&g=1", "display_name": "Abhijeet N", "link": "https://stackoverflow.com/users/4069287/abhijeet-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "accepted_answer_id": 32698972, "answer_count": 3, "score": 1, "last_activity_date": 1442924334, "creation_date": 1442845552, "last_edit_date": 1442849301, "question_id": 32697725, "link": "https://stackoverflow.com/questions/32697725/how-to-concatenate-perl-variables-with-a-hyphen", "title": "How to concatenate Perl variables with a hyphen?", "body": "<p>I am trying to concatenate two or three variables with hyphens. Please check the below example.</p>\n\n<pre><code>my $QueueName   = Support;\nmy $CustomerID  = abc;\nmy $UserCountry = India;\nmy $Count       = 12345;\n\nmy $Tn = $QueueName.$CustomerID.$UserCountry.$Count;\n</code></pre>\n\n<p>I am getting the following output:</p>\n\n<pre><code>\"$Tn\" = SupportabcIndia12345\n</code></pre>\n\n<p>But I want it like this:</p>\n\n<pre><code>$Tn = Support-abc-India-12345\n</code></pre>\n"}, {"tags": ["perl", "fork"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1442846414, "post_id": 32697518, "comment_id": 53239047, "body": "<i>&quot;I&#39;ve read all the documentation on fork available on the internet&quot;</i> that must have taken you months!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1442846678, "post_id": 32697518, "comment_id": 53239255, "body": "Why are you using two different signals? Signal 1 is SIGHUP (on Linux), and signal 2 is SIGINT, yet you should be using SIGTERM: <code>kill TERM =&gt; $pid;</code>"}, {"owner": {"reputation": 5, "user_id": 1971354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8b7a86cb22ff47e8e1450fb068ed29?s=128&d=identicon&r=PG", "display_name": "user1971354", "link": "https://stackoverflow.com/users/1971354/user1971354"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1442848081, "post_id": 32697518, "comment_id": 53240311, "body": "Borodin, haha, yes that was a bit of an exaggeration, would be more appropriate to say that I&#39;ve read the top 10-15 relevant articles/man pages, and @ikegami, I meant to write kill 1, $pid2, my apologies for the confusion"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1442846612, "post_id": 32697812, "comment_id": 53239201, "body": "Should use <code>kill TERM =&gt; $pid</code> instead of (something equivalent to) <code>kill HUP =&gt; $pid</code>."}, {"owner": {"reputation": 5, "user_id": 1971354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8b7a86cb22ff47e8e1450fb068ed29?s=128&d=identicon&r=PG", "display_name": "user1971354", "link": "https://stackoverflow.com/users/1971354/user1971354"}, "edited": false, "score": 0, "creation_date": 1442846837, "post_id": 32697812, "comment_id": 53239391, "body": "thanks, this was really helpful. Is there any reason you used a hash to store the processes, or is an array also acceptable?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5, "user_id": 1971354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8b7a86cb22ff47e8e1450fb068ed29?s=128&d=identicon&r=PG", "display_name": "user1971354", "link": "https://stackoverflow.com/users/1971354/user1971354"}, "edited": false, "score": 1, "creation_date": 1442847995, "post_id": 32697812, "comment_id": 53240248, "body": "@user1971354, Using a hash makes it easy to remove processes that have ended. Keep in mind you&#39;ll need to reap the processes after killing them, which could look like <code>while (%processes) { my $pid = wait(); delete $processes{$pid}; }</code>"}], "tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": true, "score": 0, "last_activity_date": 1442846527, "last_edit_date": 1442846527, "creation_date": 1442845774, "answer_id": 32697812, "question_id": 32697518, "link": "https://stackoverflow.com/questions/32697518/perl-forking-then-stopping-multiple-child-processes-from-parent/32697812#32697812", "title": "Perl forking then stopping multiple child processes from parent", "body": "<p>Follow this code, I hope the code is self explanatory:</p>\n\n<pre><code>my $num_process = 5; ## for as many you want, I tested with 5\nmy %processes; ## to store the list of children\n\nfor ( 1 .. $num_process ) {\n\n    my $pid = fork();\n\n    if ( not defined $pid ) {\n        die \"Could not fork\";\n    }\n    elseif ( $pid &gt; 0 ) {\n        ## boss\n        $processes{$pid} = 1;\n    }\n    else {\n        #do things in child process\n\n        ## exit for child, dont forget this\n        exit;\n    }\n}\n\n## when things are right to kill ;-)\nforeach my $pid ( keys %processes ) {\n    kill 1, $pid;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": 3, "last_activity_date": 1442846249, "creation_date": 1442846249, "answer_id": 32697987, "question_id": 32697518, "link": "https://stackoverflow.com/questions/32697518/perl-forking-then-stopping-multiple-child-processes-from-parent/32697987#32697987", "title": "Perl forking then stopping multiple child processes from parent", "body": "<p>Once you understand well what's going on in the first answer (but only then!), go have a look at <a href=\"http://search.cpan.org/~yanick/Parallel-ForkManager-1.15/lib/Parallel/ForkManager.pm\" rel=\"nofollow\">Parallel::ForkManager</a> (or something similar) for real work. There are many, many small niggling details that you can get wrong while working with child processes, so using a third-party module for that can save you a lot of time.</p>\n"}], "owner": {"reputation": 5, "user_id": 1971354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8b7a86cb22ff47e8e1450fb068ed29?s=128&d=identicon&r=PG", "display_name": "user1971354", "link": "https://stackoverflow.com/users/1971354/user1971354"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 0, "accepted_answer_id": 32697812, "answer_count": 2, "score": 0, "last_activity_date": 1442846527, "creation_date": 1442844974, "question_id": 32697518, "link": "https://stackoverflow.com/questions/32697518/perl-forking-then-stopping-multiple-child-processes-from-parent", "title": "Perl forking then stopping multiple child processes from parent", "body": "<p>In this scenario, I need my perl program to start multiple child processes that last an unknown amount of time, and in fact only the parent process knows when the child processes need to end. I've been trying to fork off more than one process then ending it from the parent but have been unsuccessful. What I have so far:</p>\n\n<p>Successfully forking off one process then ending it</p>\n\n<pre><code>my $pid = fork();\n\nif($pid == 0){\n    #do things in child process\n}\n\nelse{\n    #examine external conditions, when the time is right:\n    kill 1, $pid;\n}\n</code></pre>\n\n<p>Unsuccessfully trying to extend it to 2 processes:</p>\n\n<pre><code>my $pid = fork();\n\nif($pid != 0){ #parent makes another fork\n    my $pid2 = fork();\n}\n\nif($pid == 0 || $pid2 = 0){\n    #do things in child process\n}\n\nelse{\n    #examine external conditions, when the time is right:\n    kill 1, $pid;\n    kill 2, $pid;\n}\n</code></pre>\n\n<p>I've read all the documentation on fork available on the internet, and it was all written about forking off one process which I understand pretty well, but I have no clue how to extend it to 2 or more processes, and would appreciate any help on how to do that.</p>\n"}, {"tags": ["bash", "perl", "time", "timestamp"], "comments": [{"owner": {"reputation": 13458, "user_id": 1773798, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4Ljqn.png?s=128&g=1", "display_name": "Renaud Pacalet", "link": "https://stackoverflow.com/users/1773798/renaud-pacalet"}, "edited": false, "score": 0, "creation_date": 1442850583, "post_id": 32697494, "comment_id": 53241933, "body": "<i>These records are stored in a different text file</i>: What record is stored in what file? Please clarify your question."}, {"owner": {"reputation": 75, "user_id": 4831832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/70727e2e7a7500308e50bacf467bc24c?s=128&d=identicon&r=PG&f=1", "display_name": "IP_Engr", "link": "https://stackoverflow.com/users/4831832/ip-engr"}, "reply_to_user": {"reputation": 13458, "user_id": 1773798, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4Ljqn.png?s=128&g=1", "display_name": "Renaud Pacalet", "link": "https://stackoverflow.com/users/1773798/renaud-pacalet"}, "edited": false, "score": 0, "creation_date": 1442851126, "post_id": 32697494, "comment_id": 53242296, "body": "@RenaudPacalet Timestamps are stored in a different text file (.txt). I need to extract information from this text file."}, {"owner": {"reputation": 13458, "user_id": 1773798, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4Ljqn.png?s=128&g=1", "display_name": "Renaud Pacalet", "link": "https://stackoverflow.com/users/1773798/renaud-pacalet"}, "edited": false, "score": 0, "creation_date": 1442854121, "post_id": 32697494, "comment_id": 53244030, "body": "Sorry, this is still unclear. Do you have one timestamp per file? If yes, which one do you chose when you want to calculate the difference between the <code>UNKNOWN</code> and <code>OK</code> markers? Do you have several timestamps per file? If yes do you want to compute these time differences on a per file basis? Please try to understand that we do not know anything about your problem and try to give enough information."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1442860053, "post_id": 32697494, "comment_id": 53247436, "body": "@IP_Engr, what is your desired output?"}, {"owner": {"reputation": 75, "user_id": 4831832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/70727e2e7a7500308e50bacf467bc24c?s=128&d=identicon&r=PG&f=1", "display_name": "IP_Engr", "link": "https://stackoverflow.com/users/4831832/ip-engr"}, "reply_to_user": {"reputation": 13458, "user_id": 1773798, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4Ljqn.png?s=128&g=1", "display_name": "Renaud Pacalet", "link": "https://stackoverflow.com/users/1773798/renaud-pacalet"}, "edited": false, "score": 0, "creation_date": 1442862152, "post_id": 32697494, "comment_id": 53248614, "body": "@RenaudPacalet .. the question is updated, hope it clears the doubts now."}, {"owner": {"reputation": 75, "user_id": 4831832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/70727e2e7a7500308e50bacf467bc24c?s=128&d=identicon&r=PG&f=1", "display_name": "IP_Engr", "link": "https://stackoverflow.com/users/4831832/ip-engr"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1442862173, "post_id": 32697494, "comment_id": 53248624, "body": "@glennjackman .. the question is updated, hope it clears the doubts now."}], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1442934760, "post_id": 32706775, "comment_id": 53283481, "body": "Note: requires GNU awk for the mktime/strftime functions"}], "tags": [], "owner": {"reputation": 13458, "user_id": 1773798, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4Ljqn.png?s=128&g=1", "display_name": "Renaud Pacalet", "link": "https://stackoverflow.com/users/1773798/renaud-pacalet"}, "is_accepted": false, "score": 1, "last_activity_date": 1442898508, "last_edit_date": 1442898508, "creation_date": 1442883591, "answer_id": 32706775, "question_id": 32697494, "link": "https://stackoverflow.com/questions/32697494/calculate-timestamps-in-bash-perl-with-keywords/32706775#32706775", "title": "Calculate timestamps in bash/perl (with keywords)", "body": "<p>There are many ways to do this with perl, python, SQLite, C, C++, java, tcl, bash... Here is one with GNU awk, the GNU Swiss knife for text file processing:</p>\n\n<pre><code>$ cat csv2ts.awk\nBEGIN { FS = \";\" }\n{\n    t = $1;\n    gsub(/[-:]/, \" \", t);\n    t = mktime(t);\n}\n$3 == \"UNKNOWN\" || $3 == \"CRITICAL\" { c[$2] = t }\n$3 == \"OK\" {\n    d = t - c[$2];\n    printf(\"%s was unreachable for %d (minutes) %d (seconds) on %s (date)\\n\",\n           $2, d / 60, d % 60, strftime(\"%F\", t));\n}\n$ awk -f csv2ts.awk data.csv &gt; data.txt\n$ cat data.txt\ncity-01-r-01 was unreachable for 14 (minutes) 55 (seconds) on 2015-08-02 (date)\ncity-02-r-01 was unreachable for 5 (minutes) 59 (seconds) on 2015-08-03 (date)\n</code></pre>\n\n<p>The awk script is stored in file <code>csv2ts.awk</code>, your original data in <code>data.csv</code> and the output result in <code>data.txt</code>. The awk script uses ';' as field separator (<code>FS = \";\"</code>). It computes the timestamp (in seconds) of each record, using the first field (<code>gsub</code>, <code>mktime</code>). It builds an array of timestamps (<code>c</code>) indexed by customer locations (field #2). The date of the incident is computed from the timestamp of the second event (<code>OK</code>) using <code>strftime</code>. The rest should be easy to understand.</p>\n\n<p>Please note that your problem is underspecified:</p>\n\n<ul>\n<li>are the records for city C consecutive in the file?</li>\n<li>what exact output format do you want for the date?</li>\n<li>what happens when the non-reachability period crosses day boundaries?</li>\n<li>what if, for a given location, the sequence of events is not UNKNOWN,OK or CRITICAL,OK but anything else, like OK,OK or UNKNOWN,CRITICAL?</li>\n<li>what if, for a given location, the first event is OK?</li>\n<li>what if, for a given location, the last event is not OK?</li>\n</ul>\n\n<p>If you complete your specification, adapting the awk script should be reasonably easy.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1442914651, "creation_date": 1442914651, "answer_id": 32713477, "question_id": 32697494, "link": "https://stackoverflow.com/questions/32697494/calculate-timestamps-in-bash-perl-with-keywords/32713477#32713477", "title": "Calculate timestamps in bash/perl (with keywords)", "body": "<p>Pretty simple with Perl using <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a> and <a href=\"https://metacpan.org/pod/Time::Seconds\" rel=\"nofollow\">Time::Seconds</a>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\n\nmy %outages;\n\nmy $time_format = '%Y-%m-%d %H:%M:%S';\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n  my ($timestamp, $city, $status) = split /;/;\n\n  my $time = Time::Piece-&gt;strptime($timestamp, $time_format);\n\n  if ($status ne 'OK') {\n    $outages{$city} = $time;\n  } else { # status is now ok\n    my $duration = $time - $outages{$city};\n    say \"city $city was unreachable for \",\n        $duration-&gt;pretty, ' on ', $outages{$city}-&gt;date;\n  }\n}\n\n__END__\n2015-08-02 07:18:30;city-01-r-01;UNKNOWN\n2015-08-02 07:33:25;city-01-r-01;OK\n2015-08-03 12:56:50;city-02-r-01;CRITICAL\n2015-08-03 13:02:49;city-02-r-01;OK\n</code></pre>\n\n<p>(For simplicity, I've put the data in the <code>DATA</code> filehandle. Fixing that to read it from an external file is left as an exercise for the reader.)</p>\n"}], "owner": {"reputation": 75, "user_id": 4831832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/70727e2e7a7500308e50bacf467bc24c?s=128&d=identicon&r=PG&f=1", "display_name": "IP_Engr", "link": "https://stackoverflow.com/users/4831832/ip-engr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 32713477, "answer_count": 2, "score": -1, "last_activity_date": 1442914651, "creation_date": 1442844899, "last_edit_date": 1442862056, "question_id": 32697494, "link": "https://stackoverflow.com/questions/32697494/calculate-timestamps-in-bash-perl-with-keywords", "title": "Calculate timestamps in bash/perl (with keywords)", "body": "<p>In my company, there are different customer locations \"city-01-r-01\" and \"city-02-r-01\" and so on. So if the location is unreachable, the monitoring software generates a timestamp with the status \"UNKNOWN\" or \"CRITICAL\". When the location is reachable again, the status is shown as \"OK\". I need to calculate the time for how much duration the location was unreachable.</p>\n\n<p>The monitoring software generates this single file (in .txt format) for all the customer locations in the following format:</p>\n\n<ul>\n<li>2015-08-02 07:18:30;city-01-r-01;UNKNOWN</li>\n<li>2015-08-02 07:33:25;city-01-r-01;OK</li>\n<li>2015-08-03 12:56:50;city-02-r-01;CRITICAL</li>\n<li>2015-08-03 13:02:49;city-02-r-01;OK</li>\n</ul>\n\n<p>I need to extract the above information and calculate the unreachability for every location from the .txt file.</p>\n\n<p>My output should be another .txt file in the following format:\n(script can either be in bash or perl or any other scripting language)</p>\n\n<ul>\n<li>city-01-r-01 was unreachable for ___ (minutes) ____ (seconds) on ____(date)</li>\n<li>city-02-r-01 was unreachable for ___ (minutes) ____ (seconds) on ____(date)</li>\n</ul>\n\n<p>I googled a bit today and got the idea that I need to use IFS (for reading line by line) and a while/do loop to achieve this. But, I'm not sure how to achieve the results.</p>\n"}, {"tags": ["perl", "pdf", "pdf-form"], "comments": [{"owner": {"reputation": 3227, "user_id": 2241145, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff4bb43d7776533dbd96d13258c99f4d?s=128&d=identicon&r=PG", "display_name": "Max Wyss", "link": "https://stackoverflow.com/users/2241145/max-wyss"}, "edited": false, "score": 1, "creation_date": 1442860630, "post_id": 32697406, "comment_id": 53247758, "body": "Is the Comb property set in the IBAN and Telefoon fields? If so, then you have to force the recreation of the appearances when filling the form."}, {"owner": {"reputation": 2297, "user_id": 2243874, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dJnYT.jpg?s=128&g=1", "display_name": "Pavel Zdarov", "link": "https://stackoverflow.com/users/2243874/pavel-zdarov"}, "reply_to_user": {"reputation": 3227, "user_id": 2241145, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff4bb43d7776533dbd96d13258c99f4d?s=128&d=identicon&r=PG", "display_name": "Max Wyss", "link": "https://stackoverflow.com/users/2241145/max-wyss"}, "edited": false, "score": 0, "creation_date": 1442911654, "post_id": 32697406, "comment_id": 53267225, "body": "What does &#39;Comb property&#39; mean? And how I can force the recreation?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3227, "user_id": 2241145, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff4bb43d7776533dbd96d13258c99f4d?s=128&d=identicon&r=PG", "display_name": "Max Wyss", "link": "https://stackoverflow.com/users/2241145/max-wyss"}, "edited": false, "score": 0, "creation_date": 1443087344, "post_id": 32697406, "comment_id": 53355346, "body": "@MaxWyss highlight, the comment above was directed at you."}], "owner": {"reputation": 2297, "user_id": 2243874, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dJnYT.jpg?s=128&g=1", "display_name": "Pavel Zdarov", "link": "https://stackoverflow.com/users/2243874/pavel-zdarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1031, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1443100041, "creation_date": 1442844635, "last_edit_date": 1442844936, "question_id": 32697406, "link": "https://stackoverflow.com/questions/32697406/fill-pdf-form-using-perl", "title": "Fill PDF form using perl", "body": "<p>I need to fill PDF form with a data in perl. I use module <strong>CAM::PDF</strong></p>\n\n<p>Code is pretty simple:</p>\n\n<pre>\nmy $doc = CAM::PDF->new($infile) || die \"$CAM::PDF::errstr\\n\";\n\nmy @list;\npush @list, 'IBAN1';          push @list, '11';\npush @list, 'IBAN2';          push @list, 'WWWW';\npush @list, 'IBAN3';          push @list, '2222';\npush @list, 'IBAN4';          push @list, '2222';\npush @list, 'IBAN5';          push @list, '22';\npush @list, 'Telefon';        push @list, '1234567890';\n\n$doc->fillFormFields({}, @list);\n$doc->cleanoutput($outfile);\n</pre>\n\n<p>It works, it fill fields properly, but it does not look properly. See picture.</p>\n\n<p>In a form there are special squares for every character. When you edit PDF manually, cursor automatically jumps to the next square.  But when I fill this pdf form with a script, it just place text as it is ignoring this squares.</p>\n\n<p>Note that there is no separate ID for every square. All 10 squares for Telefoon is like one field and has one ID 'Telefoon'</p>\n\n<p>Any idea how to fill PDF form properly (so it looks nice) in perl? Or some other ways of doing this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/suzCV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/suzCV.png\" alt=\"PDF Form\"></a></p>\n\n<p>And here are fields with their IDs:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hSnp6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hSnp6.png\" alt=\"IDs\"></a></p>\n\n<p>Thanks for help in advance.</p>\n\n<p>Pavel</p>\n"}, {"tags": ["regex", "windows", "perl"], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 1706047, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/82720367ada039249ed87656135b3bd8?s=128&d=identicon&r=PG", "display_name": "user1706047", "link": "https://stackoverflow.com/users/1706047/user1706047"}, "edited": false, "score": 0, "creation_date": 1442837048, "post_id": 32694263, "comment_id": 53232450, "body": "thanks..It works for me..what should be the expression if i need to replace &#39;\\\\abc&#39; with &#39;a:\\bc&#39;..can u pls suggest.."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 259, "user_id": 1706047, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/82720367ada039249ed87656135b3bd8?s=128&d=identicon&r=PG", "display_name": "user1706047", "link": "https://stackoverflow.com/users/1706047/user1706047"}, "edited": false, "score": 1, "creation_date": 1442837191, "post_id": 32694263, "comment_id": 53232553, "body": "@user1706047: <code>:</code> isn&#39;t special in regular expressions, but you need to double backslashes."}, {"owner": {"reputation": 259, "user_id": 1706047, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/82720367ada039249ed87656135b3bd8?s=128&d=identicon&r=PG", "display_name": "user1706047", "link": "https://stackoverflow.com/users/1706047/user1706047"}, "edited": false, "score": 0, "creation_date": 1444904477, "post_id": 32694263, "comment_id": 54101398, "body": "I need to have a page break in the html pages those are combined into a single page: so i am trying to replace the &quot;&lt;/BODY&gt;&quot;  to   &quot;&lt;div style=&#39;page-break-after:always;&#39;&gt;&amp;nbsp;&lt;/Div&gt;&lt;/BODY&gt;&quot;. I am using the below command with &#39;&amp;&#39; as a matching string as used in sed command. But it doesnt work here . perl -i.bak -pe &quot;BEGIN{@ARGV = map glob, @ARGV} s/&lt;\\/BODY/&lt;div style=\\&#39;page-break-after:always;\\&#39;&gt;\\&amp;nbsp;&lt;\\/Div&gt;&amp;/g&quot; test.html , can you please suggest a solution here."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 259, "user_id": 1706047, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/82720367ada039249ed87656135b3bd8?s=128&d=identicon&r=PG", "display_name": "user1706047", "link": "https://stackoverflow.com/users/1706047/user1706047"}, "edited": false, "score": 1, "creation_date": 1444904716, "post_id": 32694263, "comment_id": 54101552, "body": "Perl uses the <code>$&amp;</code> variable instead of <code>&amp;</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1442835474, "creation_date": 1442835474, "answer_id": 32694263, "question_id": 32694071, "link": "https://stackoverflow.com/questions/32694071/text-replacement-in-all-the-files-in-a-directory/32694263#32694263", "title": "Text replacement in all the files in a directory", "body": "<p>Just replace etc\\ followed by anything up to a \\ again with just exe:</p>\n\n<pre><code>'s/etc\\\\[^\\\\]*\\\\/exe\\\\/g'\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 1706047, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/82720367ada039249ed87656135b3bd8?s=128&d=identicon&r=PG", "display_name": "user1706047", "link": "https://stackoverflow.com/users/1706047/user1706047"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 32694263, "answer_count": 1, "score": -1, "last_activity_date": 1442835554, "creation_date": 1442834912, "last_edit_date": 1442835554, "question_id": 32694071, "link": "https://stackoverflow.com/questions/32694071/text-replacement-in-all-the-files-in-a-directory", "title": "Text replacement in all the files in a directory", "body": "<p>In windows 2008, we have multiple files in a directory. The files are having paths as contents and those texts should be replaced with other string.Find example below:</p>\n\n<p>The files are having the paths like:</p>\n\n<p>File1:</p>\n\n<p>C:\\Apps\\ <strong>etc\\A1</strong>\\X.exe should be replaced with C:\\Apps\\ <strong>exe</strong>\\X.exe</p>\n\n<p>File2:</p>\n\n<p>C:\\Apps\\ <strong>etc\\B1</strong>\\Y.exe should be replaced with C:\\Apps\\ <strong>exe</strong>\\Y.exe</p>\n\n<p>I am trying to find a single command which will replace the bold lettered strings as mentioned above.</p>\n\n<p>In case of normal strings I use the below command and it works:</p>\n\n<pre><code>perl -i.bak -pe \"BEGIN{@ARGV = map glob, @ARGV} s/string1/string2/g\" ./*.txt \n</code></pre>\n\n<p>But the current requirement seems to use regular expression for which I am not able to find a solution.</p>\n"}, {"tags": ["perl", "collectd"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1442833451, "post_id": 32693427, "comment_id": 53230233, "body": "Have you studied the page you linked to, including the <i>Examples</i> part?"}, {"owner": {"reputation": 13, "user_id": 5128103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205751548502151/picture?type=large", "display_name": "Florent Sailly", "link": "https://stackoverflow.com/users/5128103/florent-sailly"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1442837419, "post_id": 32693427, "comment_id": 53232704, "body": "yes, I test this :  my $vl= $value-$old_value; print &quot;$vl-&gt;{&#39;plugin&#39;} ($vl-&gt;{&#39;type&#39;}): $vl-&gt;{&#39;values&#39;}\\n&quot;;  But I have this error  : Can&#39;t use string (&quot;0&quot;) as a HASH ref while &quot;strict refs&quot; in use at ./collectd_mail.pl line 47.  What&#39;s $vl ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1442837669, "post_id": 32693427, "comment_id": 53232871, "body": "$vl seems to be a hash reference. Store the value inside of it, probably as <code>$vl-&gt;{values} = [ $value - $old_value ];</code>."}, {"owner": {"reputation": 13, "user_id": 5128103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205751548502151/picture?type=large", "display_name": "Florent Sailly", "link": "https://stackoverflow.com/users/5128103/florent-sailly"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1443079880, "post_id": 32693427, "comment_id": 53351050, "body": "Sorry but your solution doesn&#39;t work.  Can&#39;t use string (&quot;0&quot;) as a HASH ref while &quot;strict refs&quot; in use at ./collectd_mail.pl line 47. What&#39;s $vl ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1443080377, "post_id": 32693427, "comment_id": 53351312, "body": "Don&#39;t assign 0 to $vl, it should be a hash reference."}], "owner": {"reputation": 13, "user_id": 5128103, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205751548502151/picture?type=large", "display_name": "Florent Sailly", "link": "https://stackoverflow.com/users/5128103/florent-sailly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1442833534, "creation_date": 1442832877, "last_edit_date": 1442833534, "question_id": 32693427, "link": "https://stackoverflow.com/questions/32693427/how-send-value-in-collectd-with-perl-script", "title": "How send value in collectd with perl script?", "body": "<p>I created this script and I would like use it in collectd.</p>\n\n<p>I would like used <a href=\"https://collectd.org/documentation/manpages/collectd-perl.5.shtml\" rel=\"nofollow\">collectd-perl plugin</a> but I don't know how to use it.</p>\n\n<p>The goal is to count how many mail are sent by server.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $pathvalue = 'value.txt';\nmy ($value, $old_value) = (countModule(), old_value());\n\n\n########## Main #############\n\nmain();\n\n####### Functions #############\nsub old_value {\n    open(FIC,$pathvalue) or die return 0;\n    my @fic = &lt;FIC&gt; ;\n        foreach my $line (@fic)\n        {\n                chomp($line) ;\n                return $line;   #return the old value\n        }\n}\n\nsub countModule\n{\n    my $file = \"mail.log\";\n    open my $fh, \"&lt;\",$file or die return 0;\n    my @contents = &lt;$fh&gt;;\n    my @filtered = grep (/status=sent/ ,@contents);\n    my $count = scalar @filtered;\n    return $count;\n}\n\nsub new_value {\n    my ($value) = @_;\n    open (FICHIER, \"&gt;$pathvalue\") || die (\"Vous ne pouvez pas cr\u00e9er le fichier\");\n    print FICHIER \"$value\";\n    close (FICHIER);\n}   \n\nsub main {\n    new_value(countModule());\n\n    if ($value &gt;= $old_value) {\n        print $value-$old_value;\n    }else{\n        print $value;\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442826030, "post_id": 32690916, "comment_id": 53225745, "body": "Why do you expect them to be false? Are you confusing them with returning false for failure?"}, {"owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442826452, "post_id": 32690916, "comment_id": 53226007, "body": "@Schwern I added some code to the question. I want to be able to stop the function and tell the caller something went wrong without killing the whole program.   for some reason I though and exception object would evaluate to false"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 3, "last_activity_date": 1442826986, "last_edit_date": 1442826986, "creation_date": 1442826631, "answer_id": 32691349, "question_id": 32690916, "link": "https://stackoverflow.com/questions/32690916/should-exceptionclass-objects-evaluate-to-false-in-boolean-context/32691349#32691349", "title": "Should Exception::Class objects evaluate to false in boolean context", "body": "<p>You're confusing exceptions with returning a false value to indicate an error.</p>\n\n<p>Part of the point of exceptions is that they provide their own channel to indicate error. This leaves <code>return</code> free to only return valid values. There's no need to check for false vs defined, or special objects, or do any per-function call error checking at all. It's all caught and dealt with at the end of the block.</p>\n\n<p>If you return an exception object it defeats the point; they're not exceptions, they're just error codes.</p>\n\n<p>To take advantage of exceptions, the code in your example should be written like this:</p>\n\n<pre><code>sub get_html {\n    ...try to get the html...\n\n    return $html if defined $html;\n\n    MyException-&gt;throw( error =&gt; 'some error' );\n}\n\neval { \n    my $html = get_html;\n    # do something with $html;\n}\nif ( my $e = Exception::Class-&gt;caught() ) {\n    ...deal with the error...\n}\n</code></pre>\n\n<p>This can be made a bit prettier with <a href=\"https://metacpan.org/pod/Try::Tiny\" rel=\"nofollow\">Try::Tiny</a>.</p>\n\n<p>This makes more sense when you have to do a lot of things which might error, such as a bunch of file, network or database operations.  Look into modules such as <a href=\"http://metacpan.org/release/autodie\" rel=\"nofollow\">autodie</a> and <a href=\"http://metacpan.org/release/Path::Tiny\" rel=\"nofollow\">Path::Tiny</a> for how that works.</p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1442827380, "post_id": 32691392, "comment_id": 53226606, "body": "You should be checking exceptions by their class, not their message. I would recommend <code>use Exception::Class ( &#39;InputException&#39; );</code>, <code>InputException-&gt;throw(error =&gt; &#39;no URL&#39;)</code> and <code>if $_-&gt;isa(&#39;InputException&#39;)</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442827471, "post_id": 32691392, "comment_id": 53226673, "body": "Indeed. I was lazy @Schwern ;)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1442828150, "last_edit_date": 1442828150, "creation_date": 1442826748, "answer_id": 32691392, "question_id": 32690916, "link": "https://stackoverflow.com/questions/32690916/should-exceptionclass-objects-evaluate-to-false-in-boolean-context/32691392#32691392", "title": "Should Exception::Class objects evaluate to false in boolean context", "body": "<p>You should not create one with <code>new</code> and return it. They have a <code>throw</code> method that acts as constructor and <code>die</code> automatically. </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Exception::Class qw( InputException HTTPException );\nuse Try::Tiny;\n\nsub get_html {\n  my ($url) = @_;\n\n  # input validation\n  InputException-&gt;throw(error =&gt; 'no URL') unless $url;\n\n  my $res = $ua-&gt;get($url);\n  if ($res-&gt;is_success) {\n    # do more stuff with $res;\n  } else {\n    HTTPException-&gt;throw( error =&gt; 'request failed' );      \n  }  \n}\n\n# ... later\n\nmy $url;\ntry {\n  get_html($url);\n} catch {\n  # handle the error which is in $_\n  if ( $_-&gt;isa('InputException') ) {\n    print \"You need to supply a URL\";\n  } elsif ( $_-&gt;isa('HTTPException') ) {\n    print \"Could not fetch the HTML because the HTTP request failed.\\n\";\n    print \"But I am not telling you why.\";\n  }\n}\n</code></pre>\n\n<p>You can then go and <code>catch</code> them (use <a href=\"https://metacpan.org/pod/Try::Tiny\" rel=\"nofollow\">Try::Tiny</a> for that) or simply wrap it in an eval. But basically those exceptions are simple objects. They are intended as the return value of <code>die</code> and get thrown around, so there is no need to return them anywhere. </p>\n\n<p>Once the program dies, all the scopes on the call stack are exited forcefully until you end up in an <code>eval</code> block (which is what <code>catch</code> does). There, you can handle the error. And since that error is an object, you can do fancy stuff with it.</p>\n\n\n\n<pre><code>+--------------------------------------------------------------------+          \n| sub {                                                              |          \n| +----------------------------------------------------------------+ |          \n| | if () {                                                        | |          \n| | +------------------------------------------------------------+ | |          \n| | | foo:: sub {                                                | | |          \n| | | +--------------------------------------------------------+ | | |          \n| | | | catch {                                                | | | |          \n| | | | +----------------------------------------------------+ | | | |          \n| | | | | doo_stuff:: sub {                                  | | | | |          \n| | | | | +------------------------------------------------+ | | | | |          \n| | | | | |                                                | | | | | |          \n| | | | | | MyException-&gt;throw ==&gt; die $obj  +---------------------------------+\n| | | | | | do_more_stuff(); # never executed              | | | | | |         |\n| | | | | |                                                | | | | | |         |\n| | | | | +------------------------------------------------+ | | | | |         |\n| | | | +----------------------------------------------------+ | | | |         |\n| | | |                                                        | | | |         |\n| | | | handle_exception_in_catch($_)        &lt;---------------------------------+\n| | | | # ( in Try::Tiny the exception ends up in $_ )         | | | |          \n| | | |                                                        | | | |          \n| | | +--------------------------------------------------------+ | | |          \n| | +------------------------------------------------------------+ | |          \n| +----------------------------------------------------------------+ |          \n+--------------------------------------------------------------------+          \n</code></pre>\n\n<p>Also see the <a href=\"https://metacpan.org/pod/Exception::Class\" rel=\"nofollow\">Exception::Class</a> docs.</p>\n\n<hr>\n\n<p>If you mix exceptions and regular <code>die</code> or <a href=\"https://metacpan.org/pod/Carp\" rel=\"nofollow\">Carp</a> <code>croak</code> calls, you will have to do a lot of checking if stuff is blessed before using <code>-&gt;isa</code>. <a href=\"https://metacpan.org/pod/Safe::Isa\" rel=\"nofollow\">Safe::Isa</a> comes in handy here.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Exception::Class qw( InputException HTTPException );\nuse Try::Tiny;\nuse Safe::Isa;\n\nsub get_html {\n  my ($url) = @_;\n\n  # input validation\n  InputException-&gt;throw(error =&gt; 'no URL') unless $url;\n\n  my $res = $ua-&gt;get($url);\n  if ($res-&gt;is_success) {\n    # do more stuff with $res;\n    die \"There is no answer in this HTML\" if $res-&gt;decoded_content !~ m/42/;\n  } else {\n    HTTPException-&gt;throw( error =&gt; 'request failed' );      \n  }  \n}\n</code></pre>\n\n<p>With this code, the <code>$_-&gt;isa('...')</code> would blow up, because in case of the <code>die</code> call, <code>$_</code> is not an object and you cannot call the method <code>isa</code> on an unblessed reference (or non-reference). Safe::Isa provides a <code>$_isa</code>, which checks for that first and otherwise just returns <code>false</code>. </p>\n\n<pre><code>my $url;\ntry {\n  get_html($url);\n} catch {\n  # handle the error which is in $_\n  if ( $_-&gt;$_isa('InputException') ) {\n    print \"You need to supply a URL\";\n  } elsif ( $_-&gt;$_isa('HTTPException') ) {\n    print \"Could not fetch the HTML because the HTTP request failed.\\n\";\n    print \"But I am not telling you why.\";\n  }\n}\n</code></pre>\n\n<p>For details on how that works, see <a href=\"https://www.youtube.com/watch?v=9aCsUxfRksE\" rel=\"nofollow\">mst's talk <em>You did what?</em></a></p>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 32691349, "answer_count": 2, "score": 1, "last_activity_date": 1442828150, "creation_date": 1442825364, "last_edit_date": 1442826650, "question_id": 32690916, "link": "https://stackoverflow.com/questions/32690916/should-exceptionclass-objects-evaluate-to-false-in-boolean-context", "title": "Should Exception::Class objects evaluate to false in boolean context", "body": "<p>I'm trying Exception::Class for the first time and something that surprised me is that Exception::Class objects evaluate to true when returned from a function. Shouldn't the default be the opposite.</p>\n\n<p>I know I can change this with overload but I am wondering if it's a good idea   </p>\n\n<pre><code>sub gethtml{\n    return MyException-&gt;new( error =&gt; 'some error' );\n}\nmy $response = &amp;gethtml  \n\nif($response){\n    #do something with the html \n}\nelse{\n    #something went wrong check if it's an exception object\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "grep"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1442824091, "creation_date": 1442824091, "answer_id": 32690586, "question_id": 32690429, "link": "https://stackoverflow.com/questions/32690429/excluding-a-file-with-perl-grep/32690586#32690586", "title": "Excluding a file with perl grep", "body": "<p>Check that the directory entries are <code>files</code> and then exclude those that end in <code>.py</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\n\nmy $dir = \"/home/me/somedir\";\n\n# good examples in the perldoc:\n# perldoc -f readdir\nopendir(my $DIR, $dir) || die \"Unable to open $dir : $!\";\n\n# -f checks that it is a plain file ( perldoc perlfunc )\n# !~ means does not match ( perldoc perlre )\n# m|\\.py$| means a match string that ends in '.py'\nmy @files = sort grep { -f \"$dir/$_\" &amp;&amp; $_ !~ m|\\.py$| } readdir($DIR);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1442825836, "creation_date": 1442825836, "answer_id": 32691065, "question_id": 32690429, "link": "https://stackoverflow.com/questions/32690429/excluding-a-file-with-perl-grep/32691065#32691065", "title": "Excluding a file with perl grep", "body": "<p><a href=\"http://p3rl.org/grep\" rel=\"nofollow\">grep</a> uses regular expressions, not globs (aka wildcards). The correct syntax is</p>\n\n<pre><code>my @files = sort(grep(!/^(\\.|\\.\\.|.*\\.py)$/, readdir($dir_h)));\n</code></pre>\n\n<p>or, without the unnecessary parentheses</p>\n\n<pre><code>my @files = sort grep ! /^(\\.|\\.\\.|.*\\.py)$/, readdir $dir_h;\n</code></pre>\n\n<p>As the parentheses in the regular expression aren't used for capturing, but only for precedence, you can change them to non-capturing:</p>\n\n<pre><code>my @files = sort grep ! /^(?:\\.|\\.\\.|.*\\.py)$/, readdir $dir_h;\n</code></pre>\n\n<p>You can express the same in many different ways, e.g.</p>\n\n<pre><code>/^\\.{1,2}$|\\.py$/\n</code></pre>\n\n<p>i.e. dot once or twice with nothing around, or <code>.py</code> at the end.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1442826494, "creation_date": 1442826494, "answer_id": 32691298, "question_id": 32690429, "link": "https://stackoverflow.com/questions/32690429/excluding-a-file-with-perl-grep/32691298#32691298", "title": "Excluding a file with perl grep", "body": "<p>perl's build in <code>grep</code> is actually very clever - it iterates an array, applying a condition to each element in turn. It sets each element to <code>$_</code>. </p>\n\n<p>This condition <em>can</em> be a simple regular expression, but it doesn't have to be. </p>\n\n<p>So you can - for example:</p>\n\n<pre><code>my @files = grep { -f $_ } readir(DIR); \n</code></pre>\n\n<p>But because <code>-f</code> defaults to <code>$_</code> you can also:</p>\n\n<pre><code>my @files = grep { -f } readdir (DIR); \n</code></pre>\n\n<p>You can also apply a regular expression to <code>$_</code></p>\n\n<pre><code>my @files = grep { not m/\\.py$/ } readdir (DIR); \n</code></pre>\n\n<p>(Note - this is the same as <code>not $_ =~ m/\\.py$/</code> - patterns apply to <code>$_</code> by default). </p>\n\n<p>So you can do what you want by:</p>\n\n<pre><code>my @files = sort grep { not m/\\.py$/ and -f } readdir (DIR);\n</code></pre>\n\n<p>Although note - that will work in the current working directory, not for reading a separate path. You can use <code>readdir</code> for different directories, but personally I prefer <code>glob</code> - because it fills in the path as well:</p>\n\n<pre><code>my @files = sort grep { not m/\\.py$/ and -f } glob ( \"$dir/*\" ); \n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 2270358, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a143168897f21b96c7dca36b317bfc87?s=128&d=identicon&r=PG", "display_name": "Eyal D", "link": "https://stackoverflow.com/users/2270358/eyal-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1231, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1442836781, "creation_date": 1442823597, "last_edit_date": 1442836781, "question_id": 32690429, "link": "https://stackoverflow.com/questions/32690429/excluding-a-file-with-perl-grep", "title": "Excluding a file with perl grep", "body": "<p>I want to go over all of the files in the directory, except for files ending with '.py'.\nThe line in the existing script is:</p>\n\n<pre><code>my @files = sort(grep(!/^(\\.|\\.\\.)$/, readdir($dir_h)));\n</code></pre>\n\n<p>And I want something like:</p>\n\n<pre><code>my @files = sort(grep(!/^(\\.|\\.\\.|\"*.py\")$/, readdir($dir_h)));\n</code></pre>\n\n<p>Can you please help with the exact syntax?</p>\n"}, {"tags": ["macos", "perl", "wxwidgets", "osx-yosemite", "wxperl"], "answers": [{"comments": [{"owner": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "edited": false, "score": 0, "creation_date": 1442853429, "post_id": 32697832, "comment_id": 53243640, "body": "I&#39;ve uploaded the full config.log to pastebin, since I doesn&#39;t really know what to look for in it: <a href=\"http://pastebin.com/4WwwkDZm\" rel=\"nofollow noreferrer\">config.log</a> I only have 10.11 installed, so I can&#39;t select another one manually."}, {"owner": {"reputation": 18238, "user_id": 15275, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WNTZ3.jpg?s=128&g=1", "display_name": "VZ.", "link": "https://stackoverflow.com/users/15275/vz"}, "reply_to_user": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "edited": false, "score": 0, "creation_date": 1442883046, "post_id": 32697832, "comment_id": 53256877, "body": "This confirms what I wrote, look at the line 862. You need to use 10.7 as the minimal version with this SDK, not 10.5. Unfortunately I can&#39;t help you further as I don&#39;t know where exactly does this &quot;10.5&quot; come from, but you should be able to find it in Alien::wxWidgets sources."}], "tags": [], "owner": {"reputation": 18238, "user_id": 15275, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WNTZ3.jpg?s=128&g=1", "display_name": "VZ.", "link": "https://stackoverflow.com/users/15275/vz"}, "is_accepted": false, "score": 1, "last_activity_date": 1442845848, "creation_date": 1442845848, "answer_id": 32697832, "question_id": 32689670, "link": "https://stackoverflow.com/questions/32689670/alienwxwidgets-install-fails-on-osx10-10/32697832#32697832", "title": "Alien::wxWidgets install fails on OSX10.10", "body": "<p>This is not the right part of <code>config.log</code>, this error is normal/expected, you should look below to see the real one. Without seeing it, it's hard to be sure but I think <code>-mmacosx-version-min=10.5</code> is the culprit, your SDK could be too new to support 10.5. Try either selecting a different SDK if you have an older one installed (look under <code>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs</code> to check) or hunt down where this 10.5 comes from and replace it with 10.7 which is supported by 10.10 SDK (not sure about 10.11).</p>\n"}, {"comments": [{"owner": {"reputation": 5659, "user_id": 908621, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f275c40d3a1fefc35699d94b20bb4acd?s=128&d=identicon&r=PG", "display_name": "fishinear", "link": "https://stackoverflow.com/users/908621/fishinear"}, "edited": false, "score": 0, "creation_date": 1459884134, "post_id": 35496788, "comment_id": 60484981, "body": "I get the same error when installing Wx with <code>sudo cpanm Wx</code>. Where exactly to I add this?"}], "tags": [], "owner": {"reputation": 93, "user_id": 3904154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd809e414caa39081afd9860c531e7ad?s=128&d=identicon&r=PG&f=1", "display_name": "Pat O", "link": "https://stackoverflow.com/users/3904154/pat-o"}, "is_accepted": false, "score": 6, "last_activity_date": 1455852438, "creation_date": 1455852438, "answer_id": 35496788, "question_id": 32689670, "link": "https://stackoverflow.com/questions/32689670/alienwxwidgets-install-fails-on-osx10-10/35496788#35496788", "title": "Alien::wxWidgets install fails on OSX10.10", "body": "<p>Add the following:</p>\n\n<p>--with-macosx-version-min=10.11</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6385762, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/a593c5a5efb2b9337fc3abe1dd45ceee?s=128&d=identicon&r=PG", "display_name": "Cal", "link": "https://stackoverflow.com/users/6385762/cal"}, "is_accepted": false, "score": 0, "last_activity_date": 1464259942, "creation_date": 1464259942, "answer_id": 37458758, "question_id": 32689670, "link": "https://stackoverflow.com/questions/32689670/alienwxwidgets-install-fails-on-osx10-10/37458758#37458758", "title": "Alien::wxWidgets install fails on OSX10.10", "body": "<p>This is how I got to to <em>mostly</em> build under Mac OS 10.11.4:</p>\n\n<ol>\n<li>Download Alien::wxWidgets from <a href=\"https://metacpan.org/pod/Alien::wxWidgets\" rel=\"nofollow\">https://metacpan.org/pod/Alien::wxWidgets</a></li>\n<li><code>tar xzf Alien-wxWidgets-0.67.tar.gz</code></li>\n<li><code>cd Alien-wxWidgets</code></li>\n<li><code>perl ./Build.PL --wxWidgets-extraflags=\"--with-macosx-versin-min=10.11\"</code></li>\n<li><code>./Build</code></li>\n</ol>\n\n<p>After several minutes of compiling, the below error stopped the build process:</p>\n\n<pre><code>../src/osx/webview_webkit.mm:936:25: error: cannot initialize a variable of type 'WebBackForwardList *' with an rvalue of type 'WKBackForwardList *'\n    WebBackForwardList* history = [m_webView backForwardList];\n                        ^         ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n../src/osx/webview_webkit.mm:954:25: error: cannot initialize a variable of type 'WebBackForwardList *' with an rvalue of type 'WKBackForwardList *'\n    WebBackForwardList* history = [m_webView backForwardList];\n                        ^         ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n15 warnings and 2 errors generated.\nmake: *** [webviewdll_osx_webview_webkit.o] Error 1\nsystem: make all: 512 at ./Build line 60.\n</code></pre>\n\n<p>So <code>--with-macosx-versin-min=10.11</code> gets us farther into the build process, but not (yet) to a successful build.  :-(</p>\n"}, {"tags": [], "owner": {"reputation": 271, "user_id": 4414220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cb4b8fe292ca8e8fce4e568b0b60665?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Walker", "link": "https://stackoverflow.com/users/4414220/mark-walker"}, "is_accepted": false, "score": 0, "last_activity_date": 1472866518, "last_edit_date": 1472866518, "creation_date": 1472862696, "answer_id": 39302203, "question_id": 32689670, "link": "https://stackoverflow.com/questions/32689670/alienwxwidgets-install-fails-on-osx10-10/39302203#39302203", "title": "Alien::wxWidgets install fails on OSX10.10", "body": "<p>I used the steps from @Cal above, but with the patch from wxWidgets project to fix the m_webView type mismatch errors.  The wxWidgets issue is tracked here: <a href=\"http://trac.wxwidgets.org/ticket/16329\" rel=\"nofollow\">http://trac.wxwidgets.org/ticket/16329</a> and the patch is here: <a href=\"http://trac.wxwidgets.org/attachment/ticket/16329/0001-using-proper-types-for-webkit-variants-see-16329.patch\" rel=\"nofollow\">http://trac.wxwidgets.org/attachment/ticket/16329/0001-using-proper-types-for-webkit-variants-see-16329.patch</a> which gives you a html view of the patch.  The download link is here: <a href=\"http://trac.wxwidgets.org/raw-attachment/ticket/16329/0001-using-proper-types-for-webkit-variants-see-16329.patch\" rel=\"nofollow\">http://trac.wxwidgets.org/raw-attachment/ticket/16329/0001-using-proper-types-for-webkit-variants-see-16329.patch</a></p>\n\n<p>It looks like they've fixed this in trunk for releases >= 3.1 and this is the proposed patch for a possible 3.0.3, but since no action for 18 mos., perhaps they'll just skip it and this will go away in the next release.</p>\n\n<p>I repackaged the patch to work with Alien::wxWidgets Build.PL here: <a href=\"http://markwal.github.io/patches/Alien-wxWidgets-0.67-El-Capitan.patch\" rel=\"nofollow\">http://markwal.github.io/patches/Alien-wxWidgets-0.67-El-Capitan.patch</a></p>\n\n<p>So to recap, the steps I used to build under Mac OS X El Capitan 10.11.6:</p>\n\n<ol>\n<li>Download Alien::wxWidgets from <a href=\"https://metacpan.org/pod/Alien::wxWidgets\" rel=\"nofollow\">https://metacpan.org/pod/Alien::wxWidgets</a></li>\n<li>tar xvf Alien-wxWidgets-0.67.tar.gz</li>\n<li>Download the patch from <a href=\"http://markwal.github.io/patches/Alien-wxWidgets-0.67-El-Capitan.patch\" rel=\"nofollow\">http://markwal.github.io/patches/Alien-wxWidgets-0.67-El-Capitan.patch</a></li>\n<li>cd Alien-wxWidgets-0.67</li>\n<li>patch -p1 &lt; ../Alien-wxWidgets-0.67-El-Capitan.patch</li>\n<li>perl ./Build.PL --wxWidgets-extraflags=\"--with-macosx-version-min=10.11\"</li>\n<li>perl Build</li>\n<li>perl Build test</li>\n<li>perl Build install</li>\n</ol>\n"}], "owner": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1662, "favorite_count": 1, "answer_count": 4, "score": 5, "last_activity_date": 1472866518, "creation_date": 1442820787, "last_edit_date": 1442822514, "question_id": 32689670, "link": "https://stackoverflow.com/questions/32689670/alienwxwidgets-install-fails-on-osx10-10", "title": "Alien::wxWidgets install fails on OSX10.10", "body": "<p>I'm trying to install Alien::wxWidgets version 0.67 with wxWidgets version 3.0.2, but no matter what I do, I get the following error:</p>\n\n<pre><code>checking if C compiler (clang -mmacosx-version-min=10.5) works with SDK/version options... configure: error: in `/Users/David/.cpan/build/Alien-wxWidgets-0.67-GGkXTu/wxWidgets-3.0.2/bld':\nconfigure: error: no.  Try a different SDK\nSee `config.log' for more details\nsystem: echo exit | sh ../configure --prefix=/Users/David/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0/darwin-2level/Alien/wxWidgets/osx_cocoa_3_0_2_uni --with-osx_cocoa --with-opengl --disable-compat24 --enable-unicode  --disable-monolithic --disable-universal_binary  --enable-graphics_ctx CC=clang CXX=clang++ CXXFLAGS=\"-stdlib=libc++ -std=c++11\" OBJCXXFLAGS=\"-stdlib=libc++ -std=c++11\" LDFLAGS=-stdlib=libc++: 256 at Build line 60.\n</code></pre>\n\n<p>I've tried building with flags --with-macosx-sdk=10.5, --with-macosx-sdk=10.10, --without-macosx-sdk, --with-macosx-sdk=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/ but none of them worked.</p>\n\n<p>Here's the part of the config.log, where I see the error, but I have no idea how to solve it:</p>\n\n<pre><code>configure:16429: checking for gcc\nconfigure:16456: result: clang\nconfigure:16685: checking for C compiler version\nconfigure:16694: clang --version &gt;&amp;5\nApple LLVM version 7.0.0 (clang-700.0.72)\nTarget: x86_64-apple-darwin14.5.0\nThread model: posix\nconfigure:16705: $? = 0\nconfigure:16694: clang -v &gt;&amp;5\nApple LLVM version 7.0.0 (clang-700.0.72)\nTarget: x86_64-apple-darwin14.5.0\nThread model: posix\nconfigure:16705: $? = 0\nconfigure:16694: clang -V &gt;&amp;5\nclang: error: argument to '-V' is missing (expected 1 value)\nclang: error: no input files\nconfigure:16705: $? = 1\nconfigure:16694: clang -qversion &gt;&amp;5\nclang: error: unknown argument: '-qversion'\nclang: error: no input files\nconfigure:16705: $? = 1\nconfigure:16725: checking whether the C compiler works\nconfigure:16747: clang   -stdlib=libc++ conftest.c  &gt;&amp;5\nconfigure:16751: $? = 0\nconfigure:16799: result: yes\nconfigure:16802: checking for C compiler default output file name\nconfigure:16804: result: a.out\nconfigure:16810: checking for suffix of executables\nconfigure:16817: clang -o conftest   -stdlib=libc++ conftest.c  &gt;&amp;5\nconfigure:16821: $? = 0\nconfigure:16843: result: \nconfigure:16865: checking whether we are cross compiling\nconfigure:16873: clang -o conftest   -stdlib=libc++ conftest.c  &gt;&amp;5\nconfigure:16877: $? = 0\nconfigure:16884: ./conftest\nconfigure:16888: $? = 0\nconfigure:16903: result: no\nconfigure:16908: checking for suffix of object files\nconfigure:16930: clang -c   conftest.c &gt;&amp;5\nconfigure:16934: $? = 0\nconfigure:16955: result: o\nconfigure:16959: checking whether we are using the GNU C compiler\nconfigure:16978: clang -c   conftest.c &gt;&amp;5\nconfigure:16978: $? = 0\nconfigure:16987: result: yes\nconfigure:16996: checking whether clang accepts -g\nconfigure:17016: clang -c -g  conftest.c &gt;&amp;5\nconfigure:17016: $? = 0\nconfigure:17057: result: yes\nconfigure:17074: checking for clang option to accept ISO C89\nconfigure:17137: clang  -c   conftest.c &gt;&amp;5\nconfigure:17137: $? = 0\nconfigure:17150: result: none needed\nconfigure:17183: checking whether we are using the Intel C compiler\nconfigure:17203: clang -c   conftest.c &gt;&amp;5\nconftest.c:18:17: error: use of undeclared identifier 'choke'\n                choke me\n                ^\n1 error generated.\nconfigure:17203: $? = 1\nconfigure: failed program was:\n| /* confdefs.h */\n| #define PACKAGE_NAME \"wxWidgets\"\n| #define PACKAGE_TARNAME \"wxwidgets\"\n| #define PACKAGE_VERSION \"3.0.2\"\n| #define PACKAGE_STRING \"wxWidgets 3.0.2\"\n| #define PACKAGE_BUGREPORT \"wx-dev@lists.wxwidgets.org\"\n| #define PACKAGE_URL \"\"\n| #define __BSD__ 1\n| #define __DARWIN__ 1\n| #define TARGET_CARBON 1\n| /* end confdefs.h.  */\n| \n| int\n| main ()\n| {\n| \n|              #ifndef __INTEL_COMPILER\n|                 choke me\n|              #endif\n| \n|   ;\n|   return 0;\n| }\nconfigure:17213: result: no\nconfigure:17936: checking how to run the C preprocessor\nconfigure:17967: clang -E  conftest.c\nconfigure:17967: $? = 0\nconfigure:17981: clang -E  conftest.c\nconftest.c:12:10: fatal error: 'ac_nonexistent.h' file not found\n#include &lt;ac_nonexistent.h&gt;\n         ^\n1 error generated.\nconfigure:17981: $? = 1\nconfigure: failed program was:\n| /* confdefs.h */\n| #define PACKAGE_NAME \"wxWidgets\"\n| #define PACKAGE_TARNAME \"wxwidgets\"\n| #define PACKAGE_VERSION \"3.0.2\"\n| #define PACKAGE_STRING \"wxWidgets 3.0.2\"\n| #define PACKAGE_BUGREPORT \"wx-dev@lists.wxwidgets.org\"\n| #define PACKAGE_URL \"\"\n| #define __BSD__ 1\n| #define __DARWIN__ 1\n| #define TARGET_CARBON 1\n| /* end confdefs.h.  */\n| #include &lt;ac_nonexistent.h&gt;\n</code></pre>\n\n<p>If you have any idea how to solve this issue and get wxWidgets working on OSX 10.10, I'd be really grateful.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "is_accepted": true, "score": 2, "last_activity_date": 1442817934, "creation_date": 1442817934, "answer_id": 32688891, "question_id": 32688803, "link": "https://stackoverflow.com/questions/32688803/how-to-convert-query-string-in-hash-in-perl/32688891#32688891", "title": "How to convert query string in hash in perl", "body": "<p>Check this answer:</p>\n\n<pre><code>my %in;\n      $buffer = 'resid=60087888;jobid=16471827;from=advance;action=apply';\n      @pairs = split(/[&amp;,;]/, $buffer);\n      foreach $pair (@pairs){\n           ($name, $value) = split(/=/, $pair);\n           $in{$name} = $value; \n      }\ndelete $in{resid};\nprint keys %in;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1442827589, "last_edit_date": 1442827589, "creation_date": 1442826978, "answer_id": 32691468, "question_id": 32688803, "link": "https://stackoverflow.com/questions/32688803/how-to-convert-query-string-in-hash-in-perl/32691468#32691468", "title": "How to convert query string in hash in perl", "body": "<p>You've already an answer that works - but personally I might tackle it like this:</p>\n\n<pre><code>my %in = $buffer =~ m/(\\w+)=(\\w+)/g; \n</code></pre>\n\n<p>What this does is use regular expressions to pattern match either side of the equals sign.</p>\n\n<p>It does so in pairs - effectively - and as a result is treated by a sequence of key-values in the hash assignment. </p>\n\n<p>Note - it does assume you've not got special characters in your keys/values, and that you have no null values. (Or if you do, they'll be ignored - you can use <code>(\\w*)</code> instead if that's the case). </p>\n\n<p>But you get:</p>\n\n<pre><code>$VAR1 = {\n          'from' =&gt; 'advance',\n          'jid' =&gt; '16471827',\n          'action' =&gt; 'apply',\n          'id' =&gt; '60087888'\n        };\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>my %in = map { split /=/ } split ( /[^=\\w]/, $buffer );\n</code></pre>\n\n<p>We split using 'anything that isn't word or equals' to get a sequence, and then split on equals to make the same key-value pairs. Again - certain assumptions are made about valid delimiter/non-delimiter characters. </p>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 4, "last_activity_date": 1442831234, "creation_date": 1442831234, "answer_id": 32692898, "question_id": 32688803, "link": "https://stackoverflow.com/questions/32688803/how-to-convert-query-string-in-hash-in-perl/32692898#32692898", "title": "How to convert query string in hash in perl", "body": "<p>Don't try to solve it with new code; this is what CPAN modules are for. Specifically in this case, <a href=\"https://metacpan.org/pod/URI::Query\" rel=\"nofollow\"><code>URI::Query</code></a></p>\n\n<pre><code>use URI::Query;\nuse Data::Dumper;\n\nmy $q = URI::Query-&gt;new( \"resid=60087888;jobid=16471827;from=advance;action=apply\" );\nmy %hash = $q-&gt;hash;\n\nprint Dumper( \\%hash );\n</code></pre>\n\n<p>Gives</p>\n\n<pre><code>{ action =&gt; 'apply',\n  from   =&gt; 'advance',\n  jobid  =&gt; '16471827',\n  resid  =&gt; '60087888' }\n</code></pre>\n"}], "owner": {"reputation": 643, "user_id": 2790119, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86ff770ac58c010482ce38480cf3e0da?s=128&d=identicon&r=PG&f=1", "display_name": "Pooja Dubey", "link": "https://stackoverflow.com/users/2790119/pooja-dubey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 0, "accepted_answer_id": 32688891, "answer_count": 3, "score": 1, "last_activity_date": 1442831234, "creation_date": 1442817572, "question_id": 32688803, "link": "https://stackoverflow.com/questions/32688803/how-to-convert-query-string-in-hash-in-perl", "title": "How to convert query string in hash in perl", "body": "<p>I have a query string like this:</p>\n\n<pre><code>id=60087888;jid=16471827;from=advance;action=apply\n</code></pre>\n\n<p>or it can be like this :</p>\n\n<pre><code>id=60087888&amp;jid=16471827&amp;from=advance&amp;action=apply\n</code></pre>\n\n<p>Now from this i want to create a hash that will have key as id and its value</p>\n\n<p>I have done this</p>\n\n<pre><code>my %in;\n      $buffer = 'resid=60087888;jobid=16471827;from=advance;action=apply';\n      @pairs = split(/=/, $buffer);\n      foreach $pair (@pairs){\n           ($name, $value) = split(/=/, $pair);\n           $in{$name} = $value; \n      }\n\nprint %in;\n</code></pre>\n\n<p>But the issue is in the query string it can be semin colon or &amp; so how can we do this please help me</p>\n"}, {"tags": ["regex", "perl", "perl-module"], "comments": [{"owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "edited": false, "score": 0, "creation_date": 1442819664, "post_id": 32688596, "comment_id": 53222440, "body": "Have you tried setting the filename like so: <code>my $filename = &#39;&#47;my&#47;file.xml&#39;; system( &quot;gunzip -c 9001_20150921113547_00041.xml.gz &gt;$filename&quot; );</code>"}, {"owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "reply_to_user": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "edited": false, "score": 0, "creation_date": 1442900113, "post_id": 32688596, "comment_id": 53261151, "body": "This works for me,. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "is_accepted": false, "score": 1, "last_activity_date": 1442821675, "creation_date": 1442821675, "answer_id": 32689907, "question_id": 32688596, "link": "https://stackoverflow.com/questions/32688596/gunzip-or-decompress-the-file-in-perl-and-capture-the-file-name-in-variable/32689907#32689907", "title": "gunzip or decompress the file in perl and capture the file name in variable", "body": "<p>You can use <a href=\"http://search.cpan.org/~phred/Archive-Zip-1.50/lib/Archive/Zip.pm\" rel=\"nofollow\">Archive::Zip</a> from CPAN to execute the job with all the bits under your control. Then you do not need to fork out an extra unzip command, and you control the output file name yourself. The documentation on that page also has code examples.</p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1442833459, "creation_date": 1442833459, "answer_id": 32693609, "question_id": 32688596, "link": "https://stackoverflow.com/questions/32688596/gunzip-or-decompress-the-file-in-perl-and-capture-the-file-name-in-variable/32693609#32693609", "title": "gunzip or decompress the file in perl and capture the file name in variable", "body": "<p>Try Perl module <a href=\"http://perldoc.perl.org/IO/Uncompress/Unzip.html\" rel=\"nofollow\">IO::Uncompress::Unzip</a> - Read zip files/buffers:</p>\n\n<blockquote>\n  <p>use IO::Uncompress::Unzip qw(unzip $UnzipError);</p>\n  \n  <p>my $z = new IO::Uncompress::Unzip $input [OPTS] \n      or die \"unzip failed: $UnzipError\\n\";</p>\n</blockquote>\n"}], "owner": {"reputation": 59, "user_id": 4622472, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-1XuvV7i6ktg/AAAAAAAAAAI/AAAAAAAADFU/UYCyey46VaQ/photo.jpg?sz=128", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4622472/bhushan-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1933, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1442833459, "creation_date": 1442816590, "last_edit_date": 1442817615, "question_id": 32688596, "link": "https://stackoverflow.com/questions/32688596/gunzip-or-decompress-the-file-in-perl-and-capture-the-file-name-in-variable", "title": "gunzip or decompress the file in perl and capture the file name in variable", "body": "<p>I have <code>9001_20150921113547_00041.xml.gz</code>, I want to gunzip it or you can say decompress it to <code> 9001_20150921113547_00041.xml</code>... I have many ways to do it in perl, I have use <strong>system()</strong>, <strong>qw</strong>, <strong>qx</strong> and <strong>backtick</strong> as well, it just decompress the file and stored the file in path but I want to store the new decompress file name to variable how Can I do that ?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "reply_to_user": {"reputation": 6043, "user_id": 5290909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34788cb69a6f3007f88e3a36a590ca?s=128&d=identicon&r=PG", "display_name": "Mariano", "link": "https://stackoverflow.com/users/5290909/mariano"}, "edited": false, "score": 0, "creation_date": 1442814748, "post_id": 32688064, "comment_id": 53220483, "body": "@Mariano: added what i attempted"}, {"owner": {"reputation": 6043, "user_id": 5290909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34788cb69a6f3007f88e3a36a590ca?s=128&d=identicon&r=PG", "display_name": "Mariano", "link": "https://stackoverflow.com/users/5290909/mariano"}, "edited": false, "score": 2, "creation_date": 1442815033, "post_id": 32688064, "comment_id": 53220599, "body": "You should really use an html parser... As for your regex, you need to specify the <code>&#47;s</code> modifier, for <code>.*</code> to match <code>\\n</code>"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1442819493, "creation_date": 1442819493, "answer_id": 32689299, "question_id": 32688064, "link": "https://stackoverflow.com/questions/32688064/find-regex-in-next-line-in-perl/32689299#32689299", "title": "Find regex in next line in perl", "body": "<p>Do not try to parse HTML with a regex, that way madness and very broken code lies. Instead, use the existing XML tools. For searching in HTML (which can be treated as XML) use <a href=\"https://en.wikipedia.org/wiki/XPath\" rel=\"nofollow\">XPath</a>. There are many Perl implementations. I would recommend <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/LibXML.pod\" rel=\"nofollow\">XML::LibXML</a> which uses the fast and well maintained libxml2 C library.</p>\n\n<p>Here's an example of how you'd get the content of the cell next to the \"Code \" cell.</p>\n\n<pre><code>use v5.10;\nuse strict;\nuse warnings;\n\nuse XML::LibXML;\n\n# Parse the HTML into an XML::LibXML::Document\nmy $parsed_html = XML::LibXML-&gt;load_html( string =&gt; &lt;&lt;'HTML');\n&lt;tr&gt;    \n    &lt;td width=\"50%\" align=\"right\" valign=\"middle\"&gt;Email &lt;/td&gt; \n    &lt;td width=\"50%\" align=\"center\" valign=\"middle\"&gt; unique@gmail.com &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;    \n    &lt;td width=\"50%\" align=\"right\" valign=\"middle\"&gt;Code &lt;/td&gt;\n    &lt;td width=\"50%\" align=\"center\" valign=\"middle\"&gt;twenty&lt;/td&gt;\n&lt;/tr&gt;\n &lt;tr&gt;   \n    &lt;td width=\"50%\" align=\"right\" valign=\"middle\"&gt;Code12 &lt;/td&gt;\n    &lt;td width=\"50%\" align=\"center\" valign=\"middle\"&gt;forty&lt;/td&gt;\n&lt;/tr&gt;\nHTML\n\n# Find all the rows where the first cell contains \"Code\" ignoring whitespace.\nmy @code_rows = $parsed_html-&gt;findnodes(q{//tr[normalize-space(td[1])='Code']});\n\n# In each of the Code rows, get the value of the second cell.\nfor my $row (@code_rows) {\n    say $row-&gt;findvalue(q{td[2]});\n}\n</code></pre>\n\n<p>XML::LibXML and XPath are large but they're well worth the investment if you're going to be working with HTML and XML. It will save you endless hours debugging all those special cases your regexes don't handle. Most of what you need is in <a href=\"https://metacpan.org/pod/XML::LibXML::Node\" rel=\"nofollow\">XML::LibXML::Node</a>.</p>\n"}], "owner": {"reputation": 1154, "user_id": 3388005, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/517c4aefa072b993dffcf04a90229172?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shrivastava", "link": "https://stackoverflow.com/users/3388005/saurabh-shrivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1442819493, "creation_date": 1442814163, "last_edit_date": 1442814713, "question_id": 32688064, "link": "https://stackoverflow.com/questions/32688064/find-regex-in-next-line-in-perl", "title": "Find regex in next line in perl", "body": "<p>My content is this this form:</p>\n\n<pre><code>&lt;tr&gt;    \n    &lt;td width=\"50%\" align=\"right\" valign=\"middle\"&gt;Email &lt;/td&gt; \n    &lt;td width=\"50%\" align=\"center\" valign=\"middle\"&gt; unique@gmail.com &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;    \n    &lt;td width=\"50%\" align=\"right\" valign=\"middle\"&gt;Code &lt;/td&gt;\n    &lt;td width=\"50%\" align=\"center\" valign=\"middle\"&gt;twenty&lt;/td&gt;\n&lt;/tr&gt;\n &lt;tr&gt;   \n    &lt;td width=\"50%\" align=\"right\" valign=\"middle\"&gt;Code12 &lt;/td&gt;\n    &lt;td width=\"50%\" align=\"center\" valign=\"middle\"&gt;forty&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>What regex should i use if i want to extract \"twenty\" ie data accociated with \"Code\"</p>\n\n<p>I tried to extract the whole line, but empty response</p>\n\n<pre><code>$c=$m-&gt;content();\n($a) = $c =~ /Code(.*?)tr&gt;/;\nprint \"$a\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1442806073, "post_id": 32686837, "comment_id": 53218163, "body": "I don&#39;t think you can modify the regex to avoid having a capturing group, but you <i>can</i> just throw away all of the odd-numbered elements of the list returned by <code>split</code>"}, {"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 2, "creation_date": 1442807071, "post_id": 32686837, "comment_id": 53218413, "body": "If the regex has capture groups, the returned list contains the matched/grouped substrings as well. You could use an alternative: <code>my $str = &#39;123aaaa23a3&#39; =~ s&#47;([[:alpha:]])\\1+&#47;~~&#47;r; my @s = split &#47;~~&#47;, $str;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1442830387, "last_edit_date": 1442830387, "creation_date": 1442828710, "answer_id": 32692038, "question_id": 32686837, "link": "https://stackoverflow.com/questions/32686837/perl-split-function-use-repeating-characters-as-delimiter/32692038#32692038", "title": "Perl split function - use repeating characters as delimiter", "body": "<p>Hmm, its an interesting one. My first thought would be - your delimiter will always be odd numbers, so you can just discard any odd numbered array elements. </p>\n\n<p>Something like this perhaps?:</p>\n\n<pre><code>my %s = (split (/([[:alpha:]])\\1+/, '123aaaa23a3'), '' );\nprint Dumper \\%s;\n</code></pre>\n\n<p>This'll give you:</p>\n\n<pre><code>$VAR1 = {\n          '23a3' =&gt; '',\n          '123' =&gt; 'a'\n        };\n</code></pre>\n\n<p>So you can extract your pattern via <code>keys</code>. </p>\n\n<p>Unfortunately my second approach of 'selecting out' the pattern matches via <code>%+</code> doesn't help particularly (split doesn't populate the regex stuff).</p>\n\n<p>But something like this:</p>\n\n<pre><code>my @delims ='123aaaa23a3' =~ m/(?&lt;delim&gt;[[:alpha:]])\\g{delim}+/g; \nprint Dumper \\%+;\n</code></pre>\n\n<p>By using a named capture, we identify that <code>a</code> is from the capture group. Unfortunately, this doesn't seem to be populated when you do this via <code>split</code> - which might lead to a two-pass approach. </p>\n\n<p>This is the closest I got:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $str = '123aaaa23a3';\n\n#build a regex out of '2-or-more' characters. \nmy $regex = join ( \"|\", map { $_.\"{2,}\"} $str =~ m/([[:alpha:]])\\1+/g);\n#make the regex non-capturing\n$regex = qr/(?:$regex)/;\nprint \"Using: $regex\\n\";\n\n#split on the regex\nmy @s  = split m/$regex/, $str;\n\nprint Dumper \\@s;\n</code></pre>\n\n<p>We first process the string to extract \"2-or-more\" character patterns, to set as our delmiters. Then we assemble a regex out of them, using non-capturing, so we can split. </p>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 2, "last_activity_date": 1442831515, "creation_date": 1442831515, "answer_id": 32693008, "question_id": 32686837, "link": "https://stackoverflow.com/questions/32686837/perl-split-function-use-repeating-characters-as-delimiter/32693008#32693008", "title": "Perl split function - use repeating characters as delimiter", "body": "<p>One solution would be to use your original <code>split</code> call and throw away every other value. Conveniently, <code>List::Util::pairkeys</code> is a function that keeps the first of every pair of values in its input list:</p>\n\n<pre><code>use List::Util 1.29 qw( pairkeys );\n\nmy @vals = pairkeys split /([[:alpha:]])\\1+/, '123aaaa23a3';\n</code></pre>\n\n<p>Gives</p>\n\n<pre><code>Odd number of elements in pairkeys at (eval 6) line 1.\n[ '123', '23a3' ]\n</code></pre>\n\n<p>That warning comes from the fact that <code>pairkeys</code> wants an even-sized list. We can solve that by adding one more value at the end:</p>\n\n<pre><code>my @vals = pairkeys split( /([[:alpha:]])\\1+/, '123aaaa23a3' ), undef;\n</code></pre>\n\n<p>Alternatively, and maybe a little neater, is to add that extra value at the start of the list and use <code>pairvalues</code> instead:</p>\n\n<pre><code>use List::Util 1.29 qw( pairvalues );\n\nmy @vals = pairvalues undef, split /([[:alpha:]])\\1+/, '123aaaa23a3';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2838, "user_id": 4154375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d56dba9cd817fb4dfb662c6a91010fbb?s=128&d=identicon&r=PG&f=1", "display_name": "pjh", "link": "https://stackoverflow.com/users/4154375/pjh"}, "is_accepted": false, "score": 0, "last_activity_date": 1443468195, "creation_date": 1443468195, "answer_id": 32830292, "question_id": 32686837, "link": "https://stackoverflow.com/questions/32686837/perl-split-function-use-repeating-characters-as-delimiter/32830292#32830292", "title": "Perl split function - use repeating characters as delimiter", "body": "<p>The 'split' can be made to work directly by using the delayed execution assertion (aka postponed regular subexpression), <code>(??{ code })</code>, in the regular expression:</p>\n\n<pre><code>@s = split /[[:alpha:]](??{\"$&amp;+\"})/, '123aaaa23a3';\n</code></pre>\n\n<p><code>(??{ code })</code> is documented on the 'perlre' manual page.</p>\n\n<p>Note that, according to the 'perlvar' manual page, the use of <code>$&amp;</code> anywhere in a program imposes a considerable performance penalty on all regular expression matches.  I've never found this to be a problem, but YMMV.</p>\n"}], "owner": {"reputation": 183, "user_id": 2826143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/213c5a9410ae6f1b7574189804dfdd6c?s=128&d=identicon&r=PG&f=1", "display_name": "AaronS", "link": "https://stackoverflow.com/users/2826143/aarons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 32692038, "answer_count": 3, "score": 7, "last_activity_date": 1443468195, "creation_date": 1442805571, "question_id": 32686837, "link": "https://stackoverflow.com/questions/32686837/perl-split-function-use-repeating-characters-as-delimiter", "title": "Perl split function - use repeating characters as delimiter", "body": "<p>I want to split a string using repeating letters as delimiter, for example,\n<code>\"123aaaa23a3\"</code> should be split as <code>('123', '23a3')</code> while <code>\"123abc4\"</code> should be left unchanged.<br>\nSo I tried this:  </p>\n\n<pre><code>@s = split /([[:alpha:]])\\1+/, '123aaaa23a3';\n</code></pre>\n\n<p>But this returns <code>'123', 'a', '23a3'</code>, which is not what I wanted. Now I know that this is because the last <code>'a'</code> in <code>'aaaa'</code> is captured by the parantheses and thus preserved by <code>split()</code>. But anyway, I can't add something like <code>?:</code> since <code>[[:alpha:]]</code> must be captured for back reference.\nHow can I resolve this situation?</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 7766, "user_id": 2172780, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfafe46196280b49fdfd299ce8631c51?s=128&d=identicon&r=PG", "display_name": "maditya", "link": "https://stackoverflow.com/users/2172780/maditya"}, "edited": false, "score": 0, "creation_date": 1442810161, "post_id": 32686834, "comment_id": 53219115, "body": "Here&#39;s a hint: you need to make script2.pl accept and use command-line arguments. You can then pass in $string as an argument to script2.pl."}, {"owner": {"reputation": 7766, "user_id": 2172780, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfafe46196280b49fdfd299ce8631c51?s=128&d=identicon&r=PG", "display_name": "maditya", "link": "https://stackoverflow.com/users/2172780/maditya"}, "edited": false, "score": 2, "creation_date": 1442810203, "post_id": 32686834, "comment_id": 53219130, "body": "Also, it would help us to help you if you can show us what you have tried so far to solve your problem."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1442814157, "post_id": 32686834, "comment_id": 53220253, "body": "<a href=\"https://metacpan.org/pod/perlvar#ARGV1\" rel=\"nofollow noreferrer\">metacpan.org/pod/perlvar#ARGV1</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1442841106, "post_id": 32686834, "comment_id": 53235303, "body": "Your approach is a little clumsy. If you give us more information, such as showing us the whole of <code>script1.pl</code> and <code>script2.pl</code> then I am sure we can help yo to do this better"}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1442816752, "post_id": 32688561, "comment_id": 53221256, "body": "script2.pl requires script1.pl which executes script2.pl. My head hurts."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442817041, "post_id": 32688561, "comment_id": 53221371, "body": "Even my head is hurting, :) but OP has mentioned <code>$cmd</code> in that way, don&#39;t know what exactly OP is trying. I just wanted to tell him/her how to call a variable from one script to another."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1442816460, "creation_date": 1442816460, "answer_id": 32688561, "question_id": 32686834, "link": "https://stackoverflow.com/questions/32686834/how-to-call-a-variable-declared-in-another-perl-file/32688561#32688561", "title": "How to call a variable declared in another perl file?", "body": "<p>Best practice is use a module. See <a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow\">perlmod</a>.</p>\n\n<p>In your case, you can use <a href=\"http://perldoc.perl.org/functions/require.html\" rel=\"nofollow\">require</a>. Make sure that <code>require</code> files return truth by adding <code>1</code>.</p>\n\n<p>script1.pl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nour $string = \"word1 word2 word3 word4 word5 word6 word7 word8 word9\";\nour $cmd = \"perl \\\"My\\\\File\\\\Path\\\\script2.pl\\\"\";\nsystem ($cmd);\n\n1;\n</code></pre>\n\n<p>script2.pl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;    \nuse vars qw($string);\n\nrequire \"script1.pl\";\n\nprint $string, \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>word1 word2 word3 word4 word5 word6 word7 word8 word9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 0, "last_activity_date": 1442817085, "creation_date": 1442817085, "answer_id": 32688703, "question_id": 32686834, "link": "https://stackoverflow.com/questions/32686834/how-to-call-a-variable-declared-in-another-perl-file/32688703#32688703", "title": "How to call a variable declared in another perl file?", "body": "<p>While you can make that work, you're much better off passing in the variable as command line arguments, or if there's a lot of data, to STDIN.</p>\n\n<pre><code># script1.pl\nmy $cmd = qq[$^X \"My\\\\File\\\\Path\\\\script2.pl\"];\nmy @words = qw[word1 word2 word3 word4 word5 word6 word7 word8 word9];\nsystem $cmd, @words;\n\n# script2.pl\nprint join \", \", @ARGV;\n</code></pre>\n\n<p>This doesn't scale well. You're better off rewriting script2.pl as a library and calling a function.</p>\n\n<pre><code># mylibrary.pl\nsub print_stuff {\n    print join \", \", @_;\n}\n\n# script1.pl\nrequire 'mylibrary.pl';\n\nprint_stuff(qw[word1 word2 word3 word4 word5 word6 word7 word8 word9]);\n</code></pre>\n\n<p>For a handful of functions this will work fine. Eventually you'll want to look into <a href=\"https://docs.google.com/viewer?url=http%3A%2F%2Fblob.perl.org%2Fbooks%2Fbeginning-perl%2F3145_Chap10.pdf\" rel=\"nofollow\">writing modules</a>.</p>\n"}], "owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1442817085, "creation_date": 1442805527, "question_id": 32686834, "link": "https://stackoverflow.com/questions/32686834/how-to-call-a-variable-declared-in-another-perl-file", "title": "How to call a variable declared in another perl file?", "body": "<p>I've <strong>script1.pl</strong> and <strong>script2.pl</strong>. I'm looking for making <em>script2.pl</em> able to call the value of <code>$string</code> from <em>script1.pl</em>.</p>\n\n<p><strong>script1.pl</strong></p>\n\n<pre><code>$string=\"word1 word2 word3 word4 word5 word6 word7 word8 word9\";\n$cmd=\"perl \\\"My\\\\File\\\\Path\\\\script2.pl\\\"\";\nsystem ($cmd);\n</code></pre>\n\n<p><strong>script2.pl</strong></p>\n\n<pre><code>print $string;\n</code></pre>\n\n<p><strong>Note</strong>: I'm using perl for Windows.</p>\n"}, {"tags": ["perl", "perl-module", "mod-perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442802491, "post_id": 32686469, "comment_id": 53217438, "body": "Are you printing the log line in one <code>print</code> statement or two? Is it <code>do_something(); print &quot;Date: $log_message\\n&quot;;</code> or is it <code>print &quot;Date: &quot;; do_something(); print $log_message;</code>?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1442802898, "post_id": 32686469, "comment_id": 53217534, "body": "Try turning autoflush on to avoid buffering: <code>$|++;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 0, "last_activity_date": 1442803081, "creation_date": 1442803081, "answer_id": 32686539, "question_id": 32686469, "link": "https://stackoverflow.com/questions/32686469/file-handler-getting-stuck-while-wrting-output-to-a-text-file-in-perl/32686539#32686539", "title": "file handler getting stuck while wrting output to a text file in Perl", "body": "<p>You're encountering <a href=\"http://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow\">file buffering</a>. This is a normal thing most programming languages do. Because writing to disk or terminal is slow, each print statement doesn't necessarily write immediately. The output is usually stored in memory (ie. \"buffered\") and written when a certain amount or certain character is reached.</p>\n\n<p>By default, <code>STDERR</code> is not buffered. <code>STDOUT</code> to a terminal is usually line buffered, meaning it will write when it sees a newline.  Files are buffered in blocks, usually 4K or 8K it depends on your system.</p>\n\n<p>For a log file, it makes sense to turn this buffering off.  All filehandles respond to IO::Handle methods, so use the <a href=\"http://perldoc.perl.org/IO/Handle.html\" rel=\"nofollow\">IO::Handle</a> method <code>autoflush</code> to do this.</p>\n\n<pre><code># Because you've forgotten to check if the file opened.\nuse autodie;\n\nopen my $fh, \"&gt;&gt;\", $log_file;\n$fh-&gt;autoflush(1);\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 3224680, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c38596f17c1c18bfbd13d75eaa64b733?s=128&d=identicon&r=PG&f=1", "display_name": "raj", "link": "https://stackoverflow.com/users/3224680/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 32686539, "answer_count": 1, "score": 0, "last_activity_date": 1442803081, "creation_date": 1442802304, "last_edit_date": 1592644375, "question_id": 32686469, "link": "https://stackoverflow.com/questions/32686469/file-handler-getting-stuck-while-wrting-output-to-a-text-file-in-perl", "title": "file handler getting stuck while wrting output to a text file in Perl", "body": "<p>I have perl script for which I have created a log file and all the operations this script will do it will write in the log file.</p>\n<p>It was working fine, I made some changes to fix some issues but now I am getting a strange problem, the File Handler is getting stuck during writing the log file, and it is not updating the log file until and unless I am exiting the script with exit (x) option.</p>\n<p>For example, my script is offering to perform</p>\n<ol>\n<li><p>Extract</p>\n</li>\n<li><p>Validate</p>\n</li>\n<li><p>Back up</p>\n<p>X. Exit</p>\n</li>\n</ol>\n<p>now I am running the Extraction and is updating the log. But while the extrcation is complted i opened the log file and I can see the last line like</p>\n<pre><code>Date: XYZ file extracted.    \nDate: XXXX file is preparing to extract\nDate:\n</code></pre>\n<p>and nor further update though it has extracted all the files, then I exit the script using X option and only after that I can see the complete log.</p>\n<p>I am not getting why it is getting stuck and this is happening for all the other options as well. Previously it was working fine. I am simply using file handler and print to redirect it.</p>\n<pre><code>open FILE, &quot;&gt;&gt;log.txt&quot; \n    \n## DO some thing\n\nprint FILE $output;\n</code></pre>\n<p>can some one tell me what might be the issue ?</p>\n"}, {"tags": ["perl", "sleep", "alarm", "die"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1442787300, "post_id": 32684699, "comment_id": 53214506, "body": "why are you sleeping?  for that matter, describe in English what you are trying to do"}, {"owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1442787688, "post_id": 32684699, "comment_id": 53214602, "body": "I want to call didfindchange() every 15 seconds. If FIND value changes, exit subroutine. If FIND value does not change, exit subroutine after five minutes has elapsed. I&#39;m calling sleep() because for some reason the subroutine just dies if I don&#39;t. @ysth"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "edited": false, "score": 0, "creation_date": 1442843225, "post_id": 32685369, "comment_id": 53236872, "body": "Thank you for the response, it seems that you&#39;re right and that I didn&#39;t have to use alarms. There were several things in your answer that intrigued me, however. Why do you use ($start_time) instead of $star_time (without the parentheses)? When you print what $value is does ($value ? &#39;true&#39; : &#39;false&#39; ) restrict what $value can be to only true or false? Why do you have two check_for_something() subroutines and an exit 0; right under one? And can you explain the look_for_something()&#39;s return statement? I&#39;m puzzled by the exclamation points.  Either way, thank you for your response. @xxfelixxx"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "edited": false, "score": 0, "creation_date": 1442880359, "post_id": 32685369, "comment_id": 53256207, "body": "The parentheses around <code>($start_time)</code> were unnecessary, so I have removed them.  They came from a habit of trying to avoid list-vs-scalar context bugs.  <code>$value</code> is set to either <code>1</code> or <code>undef</code>, so I convert it to the string &#39;true&#39; or &#39;false&#39; via the ternary operator.   The first <code>check_for_something()</code> is calling the subroutine which is defined later.  The <code>exit 0</code> is so that you can reason about the flow of the code (just because you <code>can</code> intersperse code and subroutines, does not mean it is nice to the next programmer..."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "edited": false, "score": 0, "creation_date": 1442880457, "post_id": 32685369, "comment_id": 53256234, "body": "As for the <code>!!</code> and <code>!!!</code>, although I would discourage such constructs in any real (production) code, they are part of perl&#39;s lore of <code>secret</code> operators: <a href=\"http://search.cpan.org/~book/perlsecret-1.013/lib/perlsecret.pod\" rel=\"nofollow noreferrer\">search.cpan.org/~book/perlsecret-1.013/lib/perlsecret.pod</a>"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 2, "last_activity_date": 1442880052, "last_edit_date": 1442880052, "creation_date": 1442791745, "answer_id": 32685369, "question_id": 32684699, "link": "https://stackoverflow.com/questions/32684699/perl-call-a-subroutine-every-15-seconds/32685369#32685369", "title": "Perl: Call a Subroutine Every 15 Seconds", "body": "<p>Generally, one would use an alarm for subroutines / external processes which can take a long time (waiting for db connection, network resource, really computationally expensive calculation, etc.).  You have to reset the alarm every time after the task finishes <code>alarm(0);</code>  For what I understand that you are trying to do, a simple sleep / timeout loop like the following should work for you.  For something more sophisticated (waiting for file events, network events), you may wish to consider programming with the EV event loops <a href=\"http://search.cpan.org/~mlehmann/EV-4.21/EV.pm\" rel=\"nofollow\">perldoc EV</a> or the AnyEvent library <a href=\"http://hhttp://search.cpan.org/~mlehmann/AnyEvent-7.11/lib/AnyEvent.pm\" rel=\"nofollow\">perldoc AnyEvent</a></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nuse constant TIMEOUT =&gt; 10;\nuse constant SLEEP   =&gt; 2;\n\ncheck_for_something();\nexit 0; # Success\n\nsub check_for_something {\n    my $start_time = time();\n    my $elapsed = 0;\n    while ( $elapsed &lt; TIMEOUT ) {\n        print \"$elapsed seconds have elapsed...\";\n        my $value = look_for_something();\n        print \"Value is \" . ( $value ? 'true' : 'false' ) . \"\\n\";\n        if ($value) {\n            print \"Value is true...returning\\n\";\n            return \"value has changed...\";\n        }\n\n        sleep SLEEP;\n        $elapsed = time() - $start_time;\n    }\n    die \"Timed out after \" . TIMEOUT . \" seconds!\\n\";\n}\n\nsub look_for_something {\n    # !! changes the number into either '1' or 'undef'\n    # ! !! inverts the sense\n    return ! !! int rand (2 * TIMEOUT / SLEEP); # False most of the time, occasionaly true     \n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>perl test_find.pl\n0 seconds have elapsed...Value is false\n2 seconds have elapsed...Value is false\n4 seconds have elapsed...Value is false\n6 seconds have elapsed...Value is false\n8 seconds have elapsed...Value is false\nTimed out after 10 seconds!\n\nperl test_find.pl\n0 seconds have elapsed...Value is false\n2 seconds have elapsed...Value is false\n4 seconds have elapsed...Value is true\nValue is true...returning\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 3784248, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a3e2565e0d4380c3490c9a8ceb892c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Alejandro Santiago", "link": "https://stackoverflow.com/users/3784248/ren%c3%a9-alejandro-santiago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "accepted_answer_id": 32685369, "answer_count": 1, "score": 0, "last_activity_date": 1442880052, "creation_date": 1442786050, "last_edit_date": 1592644375, "question_id": 32684699, "link": "https://stackoverflow.com/questions/32684699/perl-call-a-subroutine-every-15-seconds", "title": "Perl: Call a Subroutine Every 15 Seconds", "body": "<p>So I've been doing some looking around on here as well as on perl.org and perlmaven.com, but I'm confused with what's happening with the code that I'm trying to run. I've googled what $SIG is and found something on <a href=\"http://perlmaven.com/how-to-capture-and-save-warnings-in-perl\" rel=\"nofollow noreferrer\">here</a> that gives me a bit of an idea of what <em>local $SIG</em> is but I'm still confused by what he meant by this:</p>\n<blockquote>\n<p>Perl has a built-in hash called %SIG, in which the keys are the names of the signals available in you operating system. The values are subroutines (more specifically references to subroutines), that will be called when the specific signal arrives.</p>\n<p>In addition to the standard signals of your operating system Perl added two internal &quot;signals&quot;. One of them is called <strong>WARN</strong> and is triggered every time some code calls the warn() function. The other one is called <strong>DIE</strong> and it is triggered when die() is called.</p>\n</blockquote>\n<p>It also says on <a href=\"http://perldoc.perl.org/functions/alarm.html\" rel=\"nofollow noreferrer\">here</a> that I shouldn't mix sleep calls within an alarm call, but what's explained on there seems like another language to me. <strong>I'm confused. I'm having trouble getting out of the subroutine without it dying on me.</strong> The code that I'm running is this (I obtained it from another post on here but I don't want to revive that post as it is from 2011):</p>\n<pre><code>sub checkfind {\ndidfindchange;\n    while ($call_counter &lt;= 20) {\n        my $previous_call_finished = 0;\n        eval {\n            local $SIG{ALRM} = sub { die &quot;Alarm.\\n&quot; };\n            alarm 15;\n            if ($did_find_change eq &quot;false&quot;) {\n                didfindchange;\n                print(&quot;Original FIND value: $original_find_value\\n&quot;);\n                print(&quot;FIND value: $ems_find_value\\n&quot;);\n            }\n            elsif ($did_find_change eq &quot;true&quot;) {\n                print(&quot;FIND changed.\\n&quot;);\n                print(&quot;Original FIND value: $original_find_value\\n&quot;);\n                print(&quot;FIND value: $ems_find_value\\n&quot;);\n                $previous_call_finished = 1;\n            }\n            sleep;\n        };\n        #Propagate unexpected errors.\n        die unless $@ eq &quot;Alarm.\\n&quot;;\n        warn &quot;Timed out!\\n&quot; unless $previous_call_finished\n    }\n    return;\n}\n</code></pre>\n<p>My program just keeps dying and I'm unsure of the reason why. Any help would be appreciated. Thank you!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "reply_to_user": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 0, "creation_date": 1442779398, "post_id": 32683402, "comment_id": 53212129, "body": "What I understand as specified in my question that  Exceptions are only for exceptional circumstances - ie, when they are not part of the normal flow of the code. The failures are part of the flow not exceptional cases."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1442787018, "post_id": 32683402, "comment_id": 53214438, "body": "Ashraf, see Schwern&#39;s comments in reply to wprl&#39;s comment on the accepted answer to that question. It really doesn&#39;t pay to be dogmatic about &quot;exceptions are only for exceptional situations!!!&quot;. That said, you haven&#39;t told us what kind of non-exceptional failures you foresee, so we can&#39;t really say how appropriate exceptions would (or wouldn&#39;t) be in this situation."}, {"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1442833533, "post_id": 32683402, "comment_id": 53230292, "body": "@Dave, I will give you some situations in my app. where the failure is part of the flow and not to be considered an exception ... do_foo is  buy_car (yup, it is a small agency for used cars selling), sometimes the car is already sold, sometimes it is checked now by another customer so it is in hold state, sometimes the agency detected a failure in the car and need to be repaired first, and many other situations which happen frequently and depend on the dynamic state of this class at moment t. I hope I was clear enough about being a failure in purchasing (part of the flow) not an exception."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442867369, "post_id": 32683402, "comment_id": 53251444, "body": "die can work in a void context.  Then they have to trap if with an eval"}], "owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "closed_date": 1443136242, "answer_count": 0, "score": 0, "last_activity_date": 1442779320, "creation_date": 1442777406, "last_edit_date": 1442779320, "question_id": 32683402, "link": "https://stackoverflow.com/questions/32683402/what-is-the-best-way-to-return-failure-info-in-sub-in-perl", "closed_reason": "Duplicate", "title": "What is the best way to return failure info in sub in Perl?", "body": "<p>Lets assume I have a sub <code>do_foo</code> which do some operations. It may either terminate successfully and returns true, or doesn't do the required operations for multiple reasons based on class states and return false.</p>\n\n<pre><code>sub do_foo {\n    my $self = shift;\n\n    my $status = 1; # Assume by default success operation\n    my $error; # How to handle failed operation reason in this variable ?\n\n    # Do some process here, based on it change operation status to 0\n    # The error will also be set to identify why operation failed in case of failure\n    # ....\n\n    return $status;\n}\n</code></pre>\n\n<p>I was thinking what is the best design to return the cause of operation failure ?</p>\n\n<p>Here are my attempts:</p>\n\n<p><strong>A. Return a list, in array context, with extra information about error</strong></p>\n\n<ul>\n<li>In case of success operation: return a list <code>(1)</code> if <code>wantarray</code> is\ntrue, scalar <code>1</code> otherwise</li>\n<li>In case of operation failed: return a list\n<code>(0, $error)</code> if <code>wantarray</code> is true, scalar <code>0</code> otherwise</li>\n</ul>\n\n<p><strong>B. Also I think about throwing an exception in case of failed operation</strong>, but I don't want to return exception in case of expected cases/scenarios/flows that can be handled without exceptions. <strong>What I understand is that Exceptions are only for exceptional circumstances - ie, when they are not part of the normal flow of the code.</strong> </p>\n\n<p>So to summarize, my questions are:</p>\n\n<ol>\n<li>What is the best code design for such scenario (multiple failure\nreasons or success) ?</li>\n<li>Should the error message be a string ? or should I <code>use constant</code> in the class ? or what ? (BTW, I know that PBP 4.5 is against <code>use constant</code> )</li>\n</ol>\n"}, {"tags": ["perl", "cpanm", "perldoc"], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 891516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/982c356712de57fe2e4c0402e005750b?s=128&d=identicon&r=PG", "display_name": "niczero", "link": "https://stackoverflow.com/users/891516/niczero"}, "is_accepted": false, "score": 1, "last_activity_date": 1446046166, "creation_date": 1446046166, "answer_id": 33395160, "question_id": 32679413, "link": "https://stackoverflow.com/questions/32679413/cpanm-does-not-register-all-installed-modules-in-perllocal-pod/33395160#33395160", "title": "cpanm does not register all installed modules in perllocal.pod", "body": "<p>This is the fault of the <a href=\"https://metacpan.org/source/MIKO/String-Util-1.24/Makefile.PL\" rel=\"nofollow\">Makefile.PL</a> in String::Util; by using an intermediary variable in WriteMakefile it thwarts the parsing in App::cpanminus.</p>\n\n<p>I suggest you log this as a <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=String-Util\" rel=\"nofollow\">bug</a> -- it has an easy fix: simply don't use the variable.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446046166, "creation_date": 1442752128, "last_edit_date": 1442773817, "question_id": 32679413, "link": "https://stackoverflow.com/questions/32679413/cpanm-does-not-register-all-installed-modules-in-perllocal-pod", "title": "cpanm does not register all installed modules in perllocal.pod", "body": "<p>According to <a href=\"http://www.cpan.org/misc/cpan-faq.html\" rel=\"nofollow\">CPAN Frequently Asked Questions</a>:</p>\n\n<blockquote>\n  <p>Each time a module is installed on your system, it appends information\n  to a file called <code>perllocal.pod</code></p>\n</blockquote>\n\n<p>I have installed several CPAN modules using <code>cpanm</code>, the problem is that  some modules do not get registered in <code>perllocal.pod</code>. For example, I have installed <a href=\"https://metacpan.org/pod/String::Escape\" rel=\"nofollow\">String::Escape</a>, <a href=\"https://metacpan.org/pod/String::ShellQuote\" rel=\"nofollow\">String::ShellQuote</a>, and <a href=\"https://metacpan.org/pod/String::Util\" rel=\"nofollow\">String::Util</a> using <code>cpanm</code>. If I type</p>\n\n<pre><code>$ perldoc -u perllocal | grep String::\n</code></pre>\n\n<p>I get output:</p>\n\n<pre><code>=head2 Tue Apr 21 16:47:34 2015: C&lt;Module&gt; L&lt;String::Escape|String::Escape&gt;\n=head2 Thu Aug  6 18:51:04 2015: C&lt;Module&gt; L&lt;String::ShellQuote|String::ShellQuote&gt;\n</code></pre>\n\n<p>Note that <code>String::Util</code> is missing, even if all three modules are installed under directory <code>/home/hakon/perl5/lib/perl5/</code>. For example, if I type:</p>\n\n<pre><code>$ perldoc -l String::Util\n</code></pre>\n\n<p>I get output:</p>\n\n<pre><code>/home/hakon/perl5/lib/perl5/String/Util.pod\n</code></pre>\n\n<p>Note: The problem is not related to <code>perldoc</code>. The <code>perldoc</code> command simply displays the Pod in the file <code>perllocal.pod</code>:</p>\n\n<pre><code>$ perldoc -l perllocal\n/home/hakon/perl5/lib/perl5/x86_64-linux-gnu-thread-multi/perllocal.pod\n</code></pre>\n\n<p>Since this file does not contain any Pod for <code>String::Util</code>, it is likely that the problem is that <code>cpanm</code> did not register it ( for some unknown reason ) when I installed the module. </p>\n"}, {"tags": ["perl", "gcc", "aix"], "comments": [{"owner": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1442761974, "post_id": 32678689, "comment_id": 53206277, "body": "Well, it doesn&#39;t hurt if you do take a loadmap: -Wl,-bloadmap:loadmap.txt"}, {"owner": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "edited": false, "score": 0, "creation_date": 1442818568, "post_id": 32678689, "comment_id": 53221977, "body": "So the compiler that compiled &#39;numeric.c&#39; thought there <i>were</i> symbols .__truncl128 and .__copysignl128 somewhere..."}, {"owner": {"reputation": 11, "user_id": 5355766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa464cb0fcb89169ef0fbdd897877f54?s=128&d=identicon&r=PG&f=1", "display_name": "blubber", "link": "https://stackoverflow.com/users/5355766/blubber"}, "reply_to_user": {"reputation": 328, "user_id": 4844822, "user_type": "registered", "profile_image": "https://graph.facebook.com/459123704243311/picture?type=large", "display_name": "Zsigmond L\u0151rinczy", "link": "https://stackoverflow.com/users/4844822/zsigmond-l%c5%91rinczy"}, "edited": false, "score": 0, "creation_date": 1442822289, "post_id": 32678689, "comment_id": 53223748, "body": "@Zsigmond: thanks for your input so far. Used settings from <a href=\"http://perldoc.perl.org/perlaix.html\" rel=\"nofollow noreferrer\">perlaix</a>, 64bit, not threaded (most notably <code>export OBJECT_MODE=64</code> and <code>-Duse64bitall</code>). Wrote <code>make distclean</code> before next run, to make sure there is no &quot;numeric.o&quot; around anymore -- same result. So &quot;numeric.c&quot; is compiled by the same compiler (gcc) with the same settings, all aiming at 64bit (at least to my understanding)."}, {"owner": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "edited": false, "score": 0, "creation_date": 1442822436, "post_id": 32678689, "comment_id": 53223839, "body": "How came you didn&#39;t get &#39;gcc: error: unrecognized command line option &#39;-qlongdouble&#39; when configuring?"}, {"owner": {"reputation": 11, "user_id": 5355766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa464cb0fcb89169ef0fbdd897877f54?s=128&d=identicon&r=PG&f=1", "display_name": "blubber", "link": "https://stackoverflow.com/users/5355766/blubber"}, "edited": false, "score": 0, "creation_date": 1442823012, "post_id": 32678689, "comment_id": 53224117, "body": "Actually, this message shows up:You have OBJECT_MODE=64 set in the environment. This forces a full 64-bit build.  If that is not what you intended, please terminate this program, unset it and restart. Checking if your infinity is working with long doubles... gcc: unrecognized option &#39;-qlongdouble&#39; Your infinity is working correctly with long doubles. But 64bit is just what I want... In config.sh I find <code>uselongdouble=&#39;undef&#39;</code>"}, {"owner": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "edited": false, "score": 0, "creation_date": 1442826527, "post_id": 32678689, "comment_id": 53226062, "body": "I used sed to change every occurance of &#39;-qlongdouble&#39; to &#39;&#39; in files Configure and hints/aix.sh"}, {"owner": {"reputation": 11, "user_id": 5355766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa464cb0fcb89169ef0fbdd897877f54?s=128&d=identicon&r=PG&f=1", "display_name": "blubber", "link": "https://stackoverflow.com/users/5355766/blubber"}, "edited": false, "score": 0, "creation_date": 1442836518, "post_id": 32678689, "comment_id": 53232082, "body": "I don&#39;t get it. With updated Configure and hints/aix.sh <code>numeric.c</code> compiles, but now the exact error pops up while compiling <code>caretx.c</code>. How is this possible? Is there a per file configuration? I don&#39;t think so. I double-checked with <code>grep -R</code> that -qlongdouble is not present in Configure and aix.sh anymore. And it doesn&#39;t show up in other places (well, it did in aix_[34].sh, but I removed those shorthandedly)."}], "answers": [{"comments": [{"owner": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "edited": false, "score": 0, "creation_date": 1442909648, "post_id": 32695118, "comment_id": 53265937, "body": "off: I&#39;ve made some efforts to automate compilation+installation, but no success... this prompt-the-user method is plain wrong (imho), I wish to be able to specify keyword=value parameters..."}], "tags": [], "owner": {"reputation": 11, "user_id": 5355766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa464cb0fcb89169ef0fbdd897877f54?s=128&d=identicon&r=PG&f=1", "display_name": "blubber", "link": "https://stackoverflow.com/users/5355766/blubber"}, "is_accepted": false, "score": 1, "last_activity_date": 1442838103, "creation_date": 1442838103, "answer_id": 32695118, "question_id": 32678689, "link": "https://stackoverflow.com/questions/32678689/gcc-error-undefined-symbol-compiling-perl-5-22-on-aix-7-1/32695118#32695118", "title": "gcc error undefined symbol compiling perl 5.22 on aix 7.1", "body": "<p>OK, this is not really the answer to my question, but I found a workaround, I'm OK with.</p>\n\n<p>The workaround is to <strong>use perl 5.20.3</strong>. Since this version compiles, tests and installs just fine and 5.20 is still maintained, it seems an acceptable solution.</p>\n\n<p>In perl 5.22 the INSTALL file reads:</p>\n\n<pre><code>One option for long doubles is that gcc 4.6 and later have a library\ncalled quadmath, which implements the IEEE 754 quadruple precision\n(128-bit, 113 bits of mantissa) floating point numbers.  The library\nworks at least on x86 and ia64 platforms.  It may be part of your gcc\ninstallation, or you may need to install it separately.\n\nWith \"Configure -Dusequadmath\" you can try enabling its use, but note\nthe compiler dependency, you may need to also add \"-Dcc=...\".\nAt C level the type is called C&lt;__float128&gt; (note, not \"long double\"),\nbut Perl source knows it as NV.\n</code></pre>\n\n<p>I thought about filing a bug report at perl.org, because I don't use the <code>-Dusequadmath</code> switch, neither in Configure, nor in <code>-Dcc=</code>. But I (have to) use gcc 4.2, so I will refrain from that.</p>\n\n<p>@Zsigmond: You've pointed me to the right direction. If you write a short answer here, I'll take that as an accepted answer, so you'll get the credits you deserve. Thanks for your efforts!</p>\n"}], "owner": {"reputation": 11, "user_id": 5355766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa464cb0fcb89169ef0fbdd897877f54?s=128&d=identicon&r=PG&f=1", "display_name": "blubber", "link": "https://stackoverflow.com/users/5355766/blubber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442838103, "creation_date": 1442747383, "last_edit_date": 1442767881, "question_id": 32678689, "link": "https://stackoverflow.com/questions/32678689/gcc-error-undefined-symbol-compiling-perl-5-22-on-aix-7-1", "title": "gcc error undefined symbol compiling perl 5.22 on aix 7.1", "body": "<p>Trying to compile perl 5.22.0 on AIX 7.1 with gcc 4.2.0. gcc is from the AIX toolbox shipping with AIX 7.1. I need to build a perl to ship with our product, customer insists on this.</p>\n\n<p>I used following settings for perl's configure, which finished just nice</p>\n\n<pre><code>sh Configure -des -Dcc=gcc -Dprefix=/my/own/dir -Duserelocatableinc\n</code></pre>\n\n<p>Then I run make, which exits with the following error:</p>\n\n<pre><code>gcc -maix32 -c -DPERL_CORE -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -DUSE_NATIVE_DLOPEN -fno-strict-aliasing -pipe -I/usr/local/include -D_LARGE_FILES -D_FORTIFY_SOURCE=2 -std=c89 -O -Wall -Werror=declaration-after-statement -Wextra -Wc++-compat -Wwrite-strings caretx.c\n        gcc -maix32 -o miniperl -Wl,-brtl -Wl,-bdynamic -L/usr/local/lib -Wl,-b32 -Wl,-bmaxdata:0x80000000 perlmini.o opmini.o miniperlmain.o  gv.o toke.o perly.o pad.o regcomp.o dump.o util.o mg.o reentr.o mro_core.o keywords.o hv.o av.o run.o pp_hot.o sv.o pp.o scope.o pp_ctl.o pp_sys.o doop.o doio.o regexec.o utf8.o taint.o deb.o universal.o globals.o perlio.o perlapi.o numeric.o mathoms.o locale.o pp_pack.o pp_sort.o caretx.o   -lpthread -lbind -lnsl -lgdbm -ldbm -ldl -lld -lm -lcrypt -lc\nld: 0711-317 ERROR: Undefined symbol: .__truncl128\nld: 0711-317 ERROR: Undefined symbol: .__copysignl128\nld: 0711-345 Use the -bloadmap or -bnoquiet option to obtain more information.\ncollect2: ld returned 8 exit status\nmake: 1254-004 The error code from the last command is 1.\n</code></pre>\n\n<p>I ran <code>sh Configure</code> without the <code>-des</code> switch, trying my best to give reasonable answers, but got the same result. </p>\n\n<p>A search for truncl128 and/or copysignl128 yields almost no hits. Seemingly an astrophysicist <a href=\"https://gcc.gnu.org/ml/gcc-help/2010-08/msg00051.html\" rel=\"nofollow\">patched gcc 4.5 because of that</a>. I did try to compile gcc 4.5 on my own but there is too much stuff I would need to install for that (e.g. binutils, which I had to compile first, too). RPM binaries of a more up-to-date gcc lead me into dependency hell. So I'm stuck to IBM's toolset. </p>\n\n<p>Coudn't find a hint in Perl's README for other config/compiler options on this issue. Did I overlook something?</p>\n\n<p>The \"128\" seems to point to the precision of integers/numbers in some math libraries. I don't need that. If there is some \"forget super high precision\" switch, it would be just fine.</p>\n\n<p>Does anybody have a clue about getting around the compiler error? If possible with AIX's standard tools?</p>\n\n<p>EDIT: Here's the output of -Wl,-bloadmap:loadmap.txt:</p>\n\n<pre><code>cat loadmap.txt\n(ld): setopt 64\n(ld): halt 4\n(ld): setopt r/o-&gt;w\n(ld): setopt nodelcsect\n(ld): setopt rtl\n(ld): setopt rtllib\n(ld): setopt symbolic:1\n(ld): setfflag 4\n(ld): savename miniperl\n(ld): filelist 52 1\n(ld): i /lib/crt0_64.o\n(ld): i /tmp//ccgIAPwm.o\n(ld): setopt autoimp\n(ld): i perlmini.o\n(ld): i opmini.o\n(ld): i miniperlmain.o\n(ld): i gv.o\n(ld): i toke.o\n(ld): i perly.o\n(ld): i pad.o\n(ld): i regcomp.o\n(ld): i dump.o\n(ld): i util.o\n(ld): i mg.o\n(ld): i reentr.o\n(ld): i mro_core.o\n(ld): i keywords.o\n(ld): i hv.o\n(ld): i av.o\n(ld): i run.o\n(ld): i pp_hot.o\n(ld): i sv.o\n(ld): i pp.o\n(ld): i scope.o\n(ld): i pp_ctl.o\n(ld): i pp_sys.o\n(ld): i doop.o\n(ld): i doio.o\n(ld): i regexec.o\n(ld): i utf8.o\n(ld): i taint.o\n(ld): i deb.o\n(ld): i universal.o\n(ld): i globals.o\n(ld): i perlio.o\n(ld): i perlapi.o\n(ld): i numeric.o\n(ld): i mathoms.o\n(ld): i locale.o\n(ld): i pp_pack.o\n(ld): i pp_sort.o\n(ld): i caretx.o\n(ld): lib /usr/lib/libpthread.a\n(ld): lib /usr/lib/libbind.a\n(ld): lib /usr/lib/libnsl.a\n(ld): lib /usr/lib/libdl.a\n(ld): lib /usr/lib/libld.a\n(ld): lib /usr/lib/libm.a\n(ld): lib /usr/lib/libcrypt.a\n(ld): lib /usr/lib/libc.a\n(ld): i /opt/freeware/lib/gcc/powerpc-ibm-aix6.1.0.0/4.2.0/ppc64/libgcc.a\n(ld): i /opt/freeware/lib/gcc/powerpc-ibm-aix6.1.0.0/4.2.0/ppc64/libgcc_eh.a\n(ld): lib /usr/lib/librtl.a\nLIBRARY: Shared object libpthread.a[shr_xpg5_64.o]: 342 symbols imported.\nLIBRARY: Shared object libbind.a[shr_64.o]: 412 symbols imported.\nLIBRARY: Shared object libnsl.a[shr_64.o]: 430 symbols imported.\nLIBRARY: Shared object libdl.a[shr_64.o]: 4 symbols imported.\nLIBRARY: Shared object libcrypt.a[shr_64.o]: 8 symbols imported.\nLIBRARY: Shared object libc.a[shr_64.o]: 3075 symbols imported.\nLIBRARY: Shared object libc.a[posix_aio_64.o]: 20 symbols imported.\nLIBRARY: Shared object libc.a[aio_64.o]: 18 symbols imported.\nLIBRARY: Shared object libc.a[pse_64.o]: 8 symbols imported.\nLIBRARY: Shared object libc.a[dl_64.o]: 4 symbols imported.\nLIBRARY: Shared object libc.a[pty_64.o]: 1 symbols imported.\nLIBRARY: Shared object librtl.a[lazy42_64.o]: 3 symbols imported.\nFILELIST: Number of previously inserted files processed: 52\n(ld): initfini _GLOBAL__FI_miniperl _GLOBAL__FD_miniperl\n(ld): resolve\nRESOLVE: 3581 of 15669 symbols were kept.\n(ld): addgl /usr/lib/glink64.o\nADDGL: Glink code added for 215 symbols.\n(ld): er full\nld: 0711-318 ERROR: Undefined symbols were found.\n        The following symbols are in error:\n Symbol                    Inpndx  TY CL Source-File(Object-File) OR Import-File{Shared-object}\n                              RLD: Address  Section  Rld-type Referencing Symbol\n ----------------------------------------------------------------------------------------------\n .__truncl128              [4]     ER PR numeric.c(numeric.o)\n                                   00000524 .text    R_RBR    [64]    .Perl_my_modfl\n .__copysignl128           [6]     ER PR numeric.c(numeric.o)\n                                   00000564 .text    R_RBR    [64]    .Perl_my_modfl\nER: The return code is 8.\n</code></pre>\n"}, {"tags": ["perl", "daemon"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1442803462, "post_id": 32676834, "comment_id": 53217649, "body": "A daemon&#39;s STDOUT is normally purposefully directed to somewhere other than the terminal. How did you daemonize the program?"}], "answers": [{"tags": [], "owner": {"reputation": 2786, "user_id": 1263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a387c319e911adcdd5996d7af0d578?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/1263565/hayden"}, "is_accepted": true, "score": 7, "last_activity_date": 1442733844, "last_edit_date": 1495535275, "creation_date": 1442733844, "answer_id": 32676874, "question_id": 32676834, "link": "https://stackoverflow.com/questions/32676834/why-wont-my-perl-daemon-print/32676874#32676874", "title": "Why won&#39;t my perl daemon print?", "body": "<h1>Summary:</h1>\n\n<p>Use <code>$| = 1</code> or add a newline, <code>\"\\n\"</code> to the print.</p>\n\n<h1>Explanation:</h1>\n\n<p>The reason this isn't printing to the terminal is because perl is buffering the output for efficiency. Once the print buffer has been filled it will be flushed and the output will appear in your terminal. It may be desirable for you to force flushing the buffer, as depending on the length of <code>$TIMEOUT</code> you could be waiting for a considerable length of time for output!</p>\n\n<p>There are two main approaches to flushing the buffer:</p>\n\n<p>1) As you're printing to your terminal, then your filehandle is most likely <code>STDOUT</code>. Any file handles attached to the terminal are by default in <em>line-buffered</em> mode, and we can flush the buffer and force output by adding a newline character to your <code>print</code> statement:</p>\n\n<pre><code>while (1) {\n    print \"DEBUG INFO\\n\";\n    ...\n    sleep $TIMEOUT;\n }\n</code></pre>\n\n<p>2) The second approach is to use <a href=\"http://perldoc.perl.org/perlvar.html#%24%7C\" rel=\"nofollow noreferrer\"><code>$|</code></a> which when set to non-zero makes the current filehandle (<code>STDOUT</code> by default or the last to be <code>select</code>ed) <em>hot</em> and forces a flush of the buffer immediately. Therefore, the following will also force printing of the debug information:</p>\n\n<pre><code>$| = 1;\nwhile (1) {\n    print \"DEBUG INFO\";\n    ...\n    sleep $TIMEOUT;\n}\n</code></pre>\n\n<p>If using syntax such as this is confusing, then you may like to consider:</p>\n\n<pre><code>use IO::Handle;\nSTDOUT-&gt;autoflush(1);\n\nwhile (1) {\n    print \"DEBUG INFO\";\n    ...\n    sleep $TIMEOUT;\n}\n</code></pre>\n\n<p>In many code examples where immediate flushing of the buffer is required, you may see <code>$|++</code> used to make a file-handle hot and immediately flush the buffer, and <code>--$|</code> to make a file-handle cold and switch off auto-flushing. See these two answers for more details:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8804220/perl-operator-dollar-sign-pipe-plus-plus\">Perl operator: $|++; dollar sign pipe plus plus</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4959230/how-does-work-in-perl\">How does --$| work in Perl?</a></li>\n</ul>\n\n<p>If you're interested in learning more about perl buffers, then I would suggest reading <a href=\"http://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">Suffering from Buffering</a>, which gives great insight into why we have buffering and explains how to switch it on and off. </p>\n"}], "owner": {"reputation": 33, "user_id": 5355474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dd7cf6a68e8fcc40168aef75d275c5?s=128&d=identicon&r=PG&f=1", "display_name": "Iaan", "link": "https://stackoverflow.com/users/5355474/iaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 32676874, "answer_count": 1, "score": 3, "last_activity_date": 1442733844, "creation_date": 1442733445, "question_id": 32676834, "link": "https://stackoverflow.com/questions/32676834/why-wont-my-perl-daemon-print", "title": "Why won&#39;t my perl daemon print?", "body": "<p>I am debugging a daemon and I'm trying to use <code>print</code> statements to output information to the terminal. The gist of my code is:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Readonly;\n\nReadonly my $TIMEOUT =&gt; ...;\n\n...\n\nwhile (1) {\n\n   print \"DEBUG INFO\";\n\n   ...\n\n   sleep $TIMEOUT;\n}\n</code></pre>\n\n<p>However, no output it getting printed to my terminal. Why is this?</p>\n"}, {"tags": ["perl", "eval"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1442766665, "post_id": 32676810, "comment_id": 53207852, "body": "Using <code>eval</code> like this is like using a chain saw to trim your fingernails."}], "answers": [{"tags": [], "owner": {"reputation": 2786, "user_id": 1263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a387c319e911adcdd5996d7af0d578?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/1263565/hayden"}, "is_accepted": false, "score": 5, "last_activity_date": 1442736527, "last_edit_date": 1442736527, "creation_date": 1442735484, "answer_id": 32677069, "question_id": 32676810, "link": "https://stackoverflow.com/questions/32676810/problems-with-perl-eval/32677069#32677069", "title": "Problems with perl eval", "body": "<p>I would not use <code>eval</code>. In general it should be avoided unless absolutely necessary due to the security implications linked to it. In your case it's probably a bad idea as you say </p>\n\n<blockquote>\n  <p>The value of mystring is set in a file being read in</p>\n</blockquote>\n\n<p>Which means that your <code>eval</code> call could execute arbitrary user input... a <strong>bad</strong> idea!</p>\n\n<p>Why not use <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\">sprintf</a>?</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Data::Dumper;\n\nmy $mystring1=\"vault.%s.org/%s.%s/os/%s\";\n\nmyfunc (\"A1\", \"b2\", \"C3\", \"d4\");\n\nsub myfunc {\n    print Dumper(\\@_);\n    my $test = sprintf $mystring1, @_;\n    print (\"test=$test\\n\");\n}\n</code></pre>\n\n<p>A simple solution that does everything you require.</p>\n"}, {"tags": [], "owner": {"reputation": 84959, "user_id": 390913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/87a2a7e9ea54bcd1a6c8f09f8c2e8f3b?s=128&d=identicon&r=PG", "display_name": "perreal", "link": "https://stackoverflow.com/users/390913/perreal"}, "is_accepted": false, "score": 0, "last_activity_date": 1442737670, "creation_date": 1442737670, "answer_id": 32677343, "question_id": 32676810, "link": "https://stackoverflow.com/questions/32676810/problems-with-perl-eval/32677343#32677343", "title": "Problems with perl eval", "body": "<p>You are not using eval correctly, it tries to execute some statement like <code>vault..</code> which results in an error (inspect <code>$@</code> after <code>eval</code>). This works as expected because the quotes make it evaluate as a string:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Data::Dumper;\n\nmy $mystring1='\"vault.$_[0].org/$_[1].$_[2]/os/$_[3]\"';\n\n&amp;myfunc (\"A1\", \"b2\", \"C3\", \"d4\");\n\nsub myfunc {\n    print Dumper(\\@_);\n    print (\"Before=$mystring1\\n\");\n    my $test = eval($mystring1);\n    print (\"test=$test\\n\");\n}\n</code></pre>\n\n<p>But using eval [for this particular task] makes no sense.</p>\n"}], "owner": {"reputation": 1, "user_id": 5355448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3abb248875ebc03daf5ede86d6a945ae?s=128&d=identicon&r=PG&f=1", "display_name": "emo3", "link": "https://stackoverflow.com/users/5355448/emo3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1442771962, "creation_date": 1442733209, "last_edit_date": 1442771962, "question_id": 32676810, "link": "https://stackoverflow.com/questions/32676810/problems-with-perl-eval", "title": "Problems with perl eval", "body": "<p>I have the following code, which will set the value of <code>$mystring</code> by reading from a file.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse Data::Dumper;\n\nmy $mystring1 = \"vault.\\$_[0].org/\\$_[1].\\$_[2]/os/\\$_[4]\";\nmy $mystring2 = \"vault.$_[0].org/$_[1].$_[2]/os/$_[4]\";\n\n&amp;myfunc (\"A1\", \"b2\", \"C3\", \"d4\");\n\nsub myfunc {\n\n    print Dumper(\\@_);\n\n    print (\"Before=$mystring1\\n\");\n    my $test = eval($mystring1);\n    print (\"test=$test\\n\");\n\n    print (\"Before=$mystring2\\n\");\n    $test = eval($mystring2);\n    print (\"test=$test\\n\");\n}\n</code></pre>\n\n<p>However the following output is produced:</p>\n\n<pre><code>Use of uninitialized value $_[0] in concatenation (.) or string at ./t.pl line 7.  \nUse of uninitialized value in concatenation (.) or string at ./t.pl line 7.  \nUse of uninitialized value in concatenation (.) or string at ./t.pl line 7.  \nUse of uninitialized value in concatenation (.) or string at ./t.pl line 7.  \n$VAR1 = [  \n          'A1',  \n          'b2',  \n          'C3',  \n          'd4'  \n        ];  \nBefore=vault.$_[0].org/$_[1].$_[2]/os/$_[4]  \nUse of uninitialized value $test in concatenation (.) or string at ./t.pl line 15.  \ntest=  \nBefore=vault..org/./os/  \nUse of uninitialized value $test in concatenation (.) or string at ./t.pl line 18.  \ntest=  \n</code></pre>\n\n<p>What is causing the issues and how can I achieve the following?</p>\n\n<pre><code>test=vault.A1.org/b2.C3/os/d4\n</code></pre>\n\n<p>How would I use <code>eval</code> or create a subroutine to get this to work? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1442733198, "post_id": 32676640, "comment_id": 53198610, "body": "Like <code>perl $(cat options.txt) prog.pl</code>?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1442733938, "post_id": 32676640, "comment_id": 53198761, "body": "This is an odd request. What problem are you trying to solve with this? There may be a better solution."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1442745003, "post_id": 32676640, "comment_id": 53201380, "body": "<code>xargs -a file.txt perl ...</code> handles whitespace in the arguments unlike @melpomene&#39;s solution. If you need newlines in the arguments, look at <code>xargs -0</code>. This is in no way specific to Perl (but somewhat specific to a Unux-like shell)."}, {"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442766766, "post_id": 32676640, "comment_id": 53207888, "body": "@schwern I am passing parameters to perl in Windows command promptin which single quote cannot separate parameters instead double quotes are used. This makes passing string expression via command inconvenient. Response file might solve this."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1442775139, "post_id": 32676640, "comment_id": 53210681, "body": "@Thomson Try using <code>q[]</code> and <code>qq[]</code> instead. Which parameters are you passing to perl that need strings? Do you mean to <code>perl</code> itself, or to the program as <code>@ARGV</code>? An example would help clear things up."}, {"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1442778199, "post_id": 32676640, "comment_id": 53211731, "body": "@Schwern yes, <code>qq[]</code> or <code>qq&#47;&#47;</code> is a good workaround if response file is not supported. I am trying to pass expression to perl via command line, like <code>perl -e &#39;print &quot;\\n&quot;&#39;</code>, and Windows command prompt makes using double quotes a little hard."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1442744886, "post_id": 32678277, "comment_id": 53201357, "body": "Note that these are options to your script, not perl itself."}], "tags": [], "owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "is_accepted": false, "score": 0, "last_activity_date": 1442744803, "creation_date": 1442744803, "answer_id": 32678277, "question_id": 32676640, "link": "https://stackoverflow.com/questions/32676640/pass-command-line-parameters-to-perl-via-file/32678277#32678277", "title": "Pass command line parameters to perl via file?", "body": "<p>You can read the file into a string and then use</p>\n\n<pre><code>    use Getopt::Long qw(GetOptionsFromString);\n    $ret = GetOptionsFromString($string, ...);\n</code></pre>\n\n<p>to parse the options from that.</p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 2, "last_activity_date": 1442782502, "creation_date": 1442782502, "answer_id": 32684211, "question_id": 32676640, "link": "https://stackoverflow.com/questions/32676640/pass-command-line-parameters-to-perl-via-file/32684211#32684211", "title": "Pass command line parameters to perl via file?", "body": "<blockquote>\n  <p>I am trying to pass expression to perl via command line, like perl -e 'print \"\\n\"', and Windows command prompt makes using double quotes a little hard.</p>\n</blockquote>\n\n<p>There are several solutions, from most to least preferable.</p>\n\n<p><strong>Write your program to a file</strong></p>\n\n<p>If your one liner is too big or complicated, write it to a file and run it. This avoids messing with shell escapes. You can reuse it and debug it and work in a real editor.</p>\n\n<pre><code>perl path\\to\\some_program\n</code></pre>\n\n<p>Command line options to perl can be put on the otherwise useless on Windows <code>#!</code> line. Here's an example.</p>\n\n<pre><code>#!/usr/bin/perl -i.bak -p\n\n# -i.bak Backs up the file.\n# -p Puts each line into $_ and writes out the new value of $_.\n# So this changes all instances in a file of \" with '.\ns{\"}{'}g;\n</code></pre>\n\n<p><strong>Use alternative quote delimiters</strong></p>\n\n<p><a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow\">Perl has a slew of alternative ways to write quotes</a>. Use them instead.  This is good for both one liners as well as things like <code>q[&lt;tag key='value'&gt;]</code>.</p>\n\n<pre><code>perl -e \"print qq[\\n]\"\n</code></pre>\n\n<p><strong>Escape the quote</strong></p>\n\n<p><a href=\"http://ss64.com/nt/syntax-esc.html\" rel=\"nofollow\"><code>^</code> is the <code>cmd.exe</code> escape character</a>. So <code>^\"</code> is treated as a literal quote.</p>\n\n<pre><code>perl -e \"print ^\"\\n^\"\"\n</code></pre>\n\n<p>Pretty yucky. I'd prefer using <code>qq[]</code> and reserve <code>^\"</code> for when you need to print a literal quote.</p>\n\n<pre><code>perl -e \"print qq[^\"\\n]\"\n</code></pre>\n\n<p><strong>Use the ASCII code</strong></p>\n\n<p><a href=\"https://duckduckgo.com/?q=ascii+table&amp;t=ffab\" rel=\"nofollow\">The ASCII and UTF-8 hex code for <code>\"</code> is 22</a>.  You can supply this to Perl with <code>qq[\\x22]</code>.</p>\n\n<pre><code>perl -e \"print qq[\\x22\\n]\"\n</code></pre>\n"}], "owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 1, "accepted_answer_id": 32684211, "answer_count": 2, "score": 0, "last_activity_date": 1442782502, "creation_date": 1442731642, "question_id": 32676640, "link": "https://stackoverflow.com/questions/32676640/pass-command-line-parameters-to-perl-via-file", "title": "Pass command line parameters to perl via file?", "body": "<p>Could command lines parameters been saved to a file and then pass the file to perl to parse out the options? Like response file (prefix the name with @) for some Microsoft tools.</p>\n"}, {"tags": ["perl", "debugging", "readline"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1442733491, "post_id": 32675729, "comment_id": 53198665, "body": "What do you get instead?"}, {"owner": {"reputation": 169, "user_id": 4386691, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/862dd6e0f0a133e5d68ecf118d7e888d?s=128&d=identicon&r=PG", "display_name": "azpiuser", "link": "https://stackoverflow.com/users/4386691/azpiuser"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1442771115, "post_id": 32675729, "comment_id": 53209288, "body": "Nothing - no action at all.."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1442789801, "post_id": 32675729, "comment_id": 53215058, "body": "Did you try restarting your bash session?  If that does not work, check the bash man page for <code>readline</code>"}, {"owner": {"reputation": 169, "user_id": 4386691, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/862dd6e0f0a133e5d68ecf118d7e888d?s=128&d=identicon&r=PG", "display_name": "azpiuser", "link": "https://stackoverflow.com/users/4386691/azpiuser"}, "edited": false, "score": 0, "creation_date": 1442855428, "post_id": 32675729, "comment_id": 53244818, "body": "Okay, it&#39;s not that bad :) I get history for commands like &#39;p $var_name&#39; but not for just &#39;p&#39; and &#39;l&#39; - which were what I was using the test whether I had command-line history or not... So I can say all is well.."}], "owner": {"reputation": 169, "user_id": 4386691, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/862dd6e0f0a133e5d68ecf118d7e888d?s=128&d=identicon&r=PG", "display_name": "azpiuser", "link": "https://stackoverflow.com/users/4386691/azpiuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1442724049, "creation_date": 1442722391, "last_edit_date": 1442724049, "question_id": 32675729, "link": "https://stackoverflow.com/questions/32675729/cannot-get-readline-working-in-perl-debugger", "title": "cannot get readline working in perl debugger", "body": "<p>I'm in cygwin, but I tried Ubuntu and Fedora - regardless whether I install Term::ReadKey and Term::ReadLine::Gnu and Term::ReadLine::Perl local (cygwin) or as sudo (Ubuntu, Fedora), I just can't get previous commands with the Up Arrow key. Please help :)</p>\n\n<pre><code>$ cpan Term::ReadKey\nCPAN: Storable loaded ok (v2.53)\nReading '/home/user/.local/share/.cpan/Metadata'\n  Database was generated on Sun, 20 Sep 2015 01:17:02 GMT\nCPAN: Module::CoreList loaded ok (v5.20150520)\nTerm::ReadKey is up to date (2.33).\n\nuser@user-PC /cygdrive/c/Users/user/AppData/Local/Temp\n$ cpan Term::ReadLine::Gnu\nCPAN: Storable loaded ok (v2.53)\nReading '/home/user/.local/share/.cpan/Metadata'\n  Database was generated on Sun, 20 Sep 2015 01:17:02 GMT\nCPAN: Module::CoreList loaded ok (v5.20150520)\nTerm::ReadLine::Gnu is up to date (1.27).\n\nuser@user-PC /cygdrive/c/Users/user/AppData/Local/Temp\n$ cpan Term::ReadLine::Perl\nCPAN: Storable loaded ok (v2.53)\nReading '/home/user/.local/share/.cpan/Metadata'\n  Database was generated on Sun, 20 Sep 2015 01:17:02 GMT\nCPAN: Module::CoreList loaded ok (v5.20150520)\nTerm::ReadLine::Perl is up to date (1.0303).\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1442719698, "post_id": 32675465, "comment_id": 53196280, "body": "Do you know even numbers are not prime?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1442719814, "post_id": 32675465, "comment_id": 53196295, "body": "You only need to test up to sqrt($n).  For large n, there are more efficient ways (google prime number seive)."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1442719913, "post_id": 32675465, "comment_id": 53196309, "body": "also, you should remove the else block and put return 1 after the for loop."}, {"owner": {"reputation": 26589, "user_id": 1032785, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/30816b3d787c2bd9d6f036318304f225?s=128&d=identicon&r=PG", "display_name": "jordanm", "link": "https://stackoverflow.com/users/1032785/jordanm"}, "edited": false, "score": 0, "creation_date": 1442724220, "post_id": 32675465, "comment_id": 53196891, "body": "I rolled back your last edit. It looks like you applied the answer to your question, which makes the question make much less sense."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1442770426, "post_id": 32675465, "comment_id": 53209034, "body": "Please don&#39;t keep fixing your question. I also have had to roll back your edits."}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 0, "creation_date": 1442720053, "post_id": 32675505, "comment_id": 53196338, "body": "I made some changes as you suggested, this seems to work better, but still doesn&#39;t do  primes correctly."}, {"owner": {"reputation": 56, "user_id": 4356029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e857cd2371bc25360042c4127fd782c3?s=128&d=identicon&r=PG&f=1", "display_name": "Octi", "link": "https://stackoverflow.com/users/4356029/octi"}, "reply_to_user": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 1, "creation_date": 1442720277, "post_id": 32675505, "comment_id": 53196379, "body": "Haha, don&#39;t worry, we all make them :D"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1442771308, "post_id": 32675505, "comment_id": 53209382, "body": "@Octi: Stack Overflow is not a forum. You shouldn&#39;t be following the edits of the original question and adjusting your answer accordingly. It might have been better to fix and test the code and show a working version than to describe the required edits in English"}], "tags": [], "owner": {"reputation": 56, "user_id": 4356029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e857cd2371bc25360042c4127fd782c3?s=128&d=identicon&r=PG&f=1", "display_name": "Octi", "link": "https://stackoverflow.com/users/4356029/octi"}, "is_accepted": true, "score": 0, "last_activity_date": 1442771163, "last_edit_date": 1442771163, "creation_date": 1442719836, "answer_id": 32675505, "question_id": 32675465, "link": "https://stackoverflow.com/questions/32675465/perl-finding-out-if-a-given-number-is-a-prime-number/32675505#32675505", "title": "Perl: Finding out if a given number is a prime number", "body": "<p>At the moment your function is checking just if n is not divisible by 3 because it calls <code>return</code> immediately after the fisrt test.</p>\n\n<p>Try to make the function <code>return 0</code> within the <code>for</code> loop, and <code>return 1</code> outside it, or set a flag for the number being prime that is initially true and return its value after the loop.</p>\n\n<p>You should also start your <code>for</code> loop at 2, not at 3, otherwise you aren't testing for even numbers.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 7620929, "user_type": "registered", "profile_image": "https://graph.facebook.com/1876359919319670/picture?type=large", "display_name": "Jacob Frye", "link": "https://stackoverflow.com/users/7620929/jacob-frye"}, "is_accepted": false, "score": 0, "last_activity_date": 1495849508, "creation_date": 1495849508, "answer_id": 44212145, "question_id": 32675465, "link": "https://stackoverflow.com/questions/32675465/perl-finding-out-if-a-given-number-is-a-prime-number/44212145#44212145", "title": "Perl: Finding out if a given number is a prime number", "body": "<p>Here is my code I wrote in about 40 minutes. Don't hate if it is inefficient, I am still learning perl.</p>\n\n<pre><code>print (\"This is a prime number checker!\\n\");\nprint (\"Enter a number below to check it:\\n\");\n$y = 0;\n$num = &lt;&gt;;\nfor ($i = $num; $i &gt; 0; $i--) {\n    if ($num % $i == 0) {\n        $y += 1;\n    }\n}\nif ($y &gt; 2) {\n    print (\"$num is not a prime!\");\n} else {\n    print (\"$num is a prime!\");\n}\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1878, "favorite_count": 0, "accepted_answer_id": 32675505, "answer_count": 2, "score": 0, "last_activity_date": 1495849508, "creation_date": 1442719437, "last_edit_date": 1442770553, "question_id": 32675465, "link": "https://stackoverflow.com/questions/32675465/perl-finding-out-if-a-given-number-is-a-prime-number", "title": "Perl: Finding out if a given number is a prime number", "body": "<p>I am trying to write a subroutine that determines whether or not the number passed in is prime, and it's not working correctly. The numbers I'm passing in should not be identified as prime. Is there a logic error, or something about Perl that I'm missing?</p>\n\n<pre><code>sub isPrime {\n\n    my ( $n ) = @_;\n\n    for ( my $i = 3 ; $i &lt; $n ; $i++ ) {\n\n        if ( $n % $i == 0 ) {\n            return 0;\n        }\n        else {\n            return 1;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1442711191, "post_id": 32674316, "comment_id": 53194984, "body": "You are using an array in scalar context. You cannot take a substring or string length on an array, only on the individual array elements."}], "answers": [{"tags": [], "owner": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "is_accepted": false, "score": 1, "last_activity_date": 1606558475, "last_edit_date": 1606558475, "creation_date": 1442707077, "answer_id": 32674371, "question_id": 32674316, "link": "https://stackoverflow.com/questions/32674316/how-to-determine-the-length-of-a-variable-in-an-array-in-perl/32674371#32674371", "title": "How to determine the length of a variable in an array in Perl", "body": "<p>You are making simple things complicated. Try something like:</p>\n<pre><code>print uc $_ if length $_ &gt; 5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2786, "user_id": 1263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a387c319e911adcdd5996d7af0d578?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/1263565/hayden"}, "is_accepted": false, "score": 1, "last_activity_date": 1442713292, "creation_date": 1442713292, "answer_id": 32674917, "question_id": 32674316, "link": "https://stackoverflow.com/questions/32674316/how-to-determine-the-length-of-a-variable-in-an-array-in-perl/32674917#32674917", "title": "How to determine the length of a variable in an array in Perl", "body": "<p>Assuming that <code>@vdata</code> contains your list of words:</p>\n\n<pre><code>my @upper = map {length $_ &gt; 5 ? uc $_ : ()} @vdata;\nprint \"@upper\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1606558804, "last_edit_date": 1606558804, "creation_date": 1442838310, "answer_id": 32695183, "question_id": 32674316, "link": "https://stackoverflow.com/questions/32674316/how-to-determine-the-length-of-a-variable-in-an-array-in-perl/32695183#32695183", "title": "How to determine the length of a variable in an array in Perl", "body": "<p>Let's start by making you snippet into a complete, runnable program.</p>\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy @vdata = qw[this arrays has strings of different lengths];\n\nif (substr(@vdata, length(@vdata)-5, 5)) {\n    print &quot;@vdata&quot;;\n}\n</code></pre>\n<p>I've put some data into <code>@vdata</code>, but also (and probably more importantly) I've turned on <code>strict</code> and <code>warnings</code>. You should get into the habit of doing that for all of your code.</p>\n<p>So what happens if we try to run this program?</p>\n<pre><code>$ ./vdata\nlength() used on @vdata (did you mean &quot;scalar(@vdata)&quot;?) at ./vdata line 8.\n</code></pre>\n<p>So there's your first problem. You're using the <code>length</code> function on an array. I get the idea that you're not thinking particularly clearly about what you're thinking. Your description of the problem seems rather vague.</p>\n<blockquote>\n<p>I am trying to print to the terminal in all upper-case any word that at least five characters long.</p>\n</blockquote>\n<p>I assume that you are storing the words in the array <code>@vdata</code>. So instead of getting the length of the array, you want to get the length of each individual element of the array. Let's start by setting up a loop to look at each element in the array.</p>\n<pre><code>foreach my $word (@vdata) {\n  # Do something with $word\n}\n</code></pre>\n<p>The code within the block is run once for each element in <code>@vdata</code>. And each time it is executed, the element is in <code>$word</code>. So let's print <code>$word</code> if it's five characters or more.</p>\n<pre><code>foreach my $word (@vdata) {\n  say $word if length($word) &gt;= 5;\n}\n</code></pre>\n<p>(Actually, we've used <code>say</code>, not <code>print</code>, to get an automatic newline character.)</p>\n<p>Running that prints:</p>\n<pre><code>arrays\nstrings\ndifferent\nlengths\n</code></pre>\n<p>So we're on the right lines.</p>\n<p>Now you want to print these words in upper case. That's easy, we just use the <code>uc</code> function.</p>\n<pre><code>foreach my $word (@vdata) {\n  say uc $word if length($word) &gt;= 5;\n}\n</code></pre>\n<p>And now the program shouts at us.</p>\n<pre><code>ARRAYS\nSTRINGS\nDIFFERENT\nLENGTHS\n</code></pre>\n<p>I think perhaps you were trying to do too much in one go. Programming is far easier if you break your problem down into smaller chunks and work on solving one smaller problem at a time.</p>\n"}], "owner": {"reputation": 11, "user_id": 5353669, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/488754594640345/picture?type=large", "display_name": "Josh Laroche", "link": "https://stackoverflow.com/users/5353669/josh-laroche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1606558804, "creation_date": 1442706584, "last_edit_date": 1606558425, "question_id": 32674316, "link": "https://stackoverflow.com/questions/32674316/how-to-determine-the-length-of-a-variable-in-an-array-in-perl", "title": "How to determine the length of a variable in an array in Perl", "body": "<p>I am trying to print to the terminal in all upper-case any word that at is least five characters long. My code is:</p>\n<pre><code>if (substr(@vdata, length(@vdata)-5, 5)) {\n    print &quot;@vdata&quot;; \n}\n</code></pre>\n<p>It does not seem to be working. What am I doing wrong?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1442684348, "creation_date": 1442684348, "answer_id": 32671316, "question_id": 32670684, "link": "https://stackoverflow.com/questions/32670684/perl-store-data-in-between-particular-lines-from-a-file-in-an-array/32671316#32671316", "title": "Perl store data in between particular lines from a file in an array", "body": "<p>I suggest you use the algorithm encoded below</p>\n\n<p>It reads the file line by line, accumulating each value\ninto array <code>@item</code>.\nIf a line contains <code>start</code> or <code>end</code> then it is considered to be a boundary, and instead of adding to <code>@item</code>, its contents are copied as a block into <code>@data</code>; then <code>@item</code> is emptied</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy (@data, @item);\n\nwhile ( &lt;DATA&gt; ) {\n\n    chomp;\n\n    if ( /start|end/ ) {\n        if ( @item ) {\n            push @data, [ @item ];\n            @item = ();\n        }\n    }\n    else {\n        push @item, $_;\n    }\n}\n\nuse Data::Dump;\ndd \\@data;\n\n__DATA__\nstart\n1\n5\n6\nstart\n4\n5\nstart\n6\nend\n</code></pre>\n\n<h2>output</h2>\n\n<pre><code>[[1, 5, 6], [4, 5], [6]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1442759216, "post_id": 32671580, "comment_id": 53205382, "body": "Almost! <code>push @stuff, \\@chunk if @chunk</code> fixes it"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1442826021, "last_edit_date": 1592644375, "creation_date": 1442685884, "answer_id": 32671580, "question_id": 32670684, "link": "https://stackoverflow.com/questions/32670684/perl-store-data-in-between-particular-lines-from-a-file-in-an-array/32671580#32671580", "title": "Perl store data in between particular lines from a file in an array", "body": "<p>I probably wouldn't use a range operator, and instead set <code>$/</code> to <code>start\\n</code>.</p>\n<p>E.G.</p>\n<pre><code>local $/ = &quot;start\\n&quot;;\nmy @stuff;\nwhile ( &lt;DATA&gt;) {\n     my @chunk = m/(\\d+)/gm;\n     push ( @stuff, \\@chunk) if @chunk;\n}\nprint Dumper \\@stuff ;\n</code></pre>\n<p>Something like that anyway.</p>\n<h3>output</h3>\n<pre><code>$VAR1 = [\n          [\n            '1',\n            '5',\n            '6'\n          ],\n          [\n            '4',\n            '5'\n          ],\n          [\n            '6'\n          ]\n        ];\n</code></pre>\n"}], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 32671316, "answer_count": 2, "score": 0, "last_activity_date": 1442826021, "creation_date": 1442680898, "last_edit_date": 1442681713, "question_id": 32670684, "link": "https://stackoverflow.com/questions/32670684/perl-store-data-in-between-particular-lines-from-a-file-in-an-array", "title": "Perl store data in between particular lines from a file in an array", "body": "<p>Say, I have this data in a file:</p>\n\n<pre><code>start\n1\n5\n6\nstart\n4\n5\nstart\n6\nend\n</code></pre>\n\n<p>I want this data to be stored in array of arrays like </p>\n\n<pre><code>([1,5,6],[4,5],[6])\n</code></pre>\n\n<p>I tried it with flip flop operator:</p>\n\n<pre><code>if(/start/../start/){\n                my $line=&lt;DATA&gt;;\n                print \"$line \\n\";\n                push(@data,$line) if($line=~/start/);\n        }\n}\n</code></pre>\n\n<p>It didn't worked for me. Any suggestions and help is greatly appreciated.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4670155, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/31eec0d822baf60c4b25797502d4e8f0?s=128&d=identicon&r=PG&f=1", "display_name": "Elski", "link": "https://stackoverflow.com/users/4670155/elski"}, "edited": false, "score": 0, "creation_date": 1442710609, "post_id": 32671433, "comment_id": 53194871, "body": "it&#39;s a simple data: usa\\nAAPL\\nFB\\nGOOG\\nMSFT. I will try to use split, I will let you know if it works. Thanks."}, {"owner": {"reputation": 29, "user_id": 4670155, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/31eec0d822baf60c4b25797502d4e8f0?s=128&d=identicon&r=PG&f=1", "display_name": "Elski", "link": "https://stackoverflow.com/users/4670155/elski"}, "edited": false, "score": 1, "creation_date": 1442714784, "post_id": 32671433, "comment_id": 53195484, "body": "split didn&#39;t work, I use chomp instead and change the extraction sequence. It fixed the problem :)"}], "tags": [], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1442685014, "creation_date": 1442685014, "answer_id": 32671433, "question_id": 32669543, "link": "https://stackoverflow.com/questions/32669543/perl-stock-ticker-error-undefined-fetch-method/32671433#32671433", "title": "Perl - Stock ticker error : Undefined fetch-method", "body": "<pre><code>my @STOCKS = &lt;FH&gt;;\n...snip...\nforeach my $stockset (@STOCKS) {\n    my ($exchange, @symbols) = $stockset;    # I think the problem is here\n</code></pre>\n\n<p>Indeed, I believe you are correct. <code>@STOCKS</code> is an array of simple strings. They won't automatically transform into <code>$exchange</code> and <code>@symbols</code>. Your code is this equivalent of doing</p>\n\n<pre><code>my ($exchange, @symbols) = \"the rain in spain falls mainly in the plain\";\n</code></pre>\n\n<p>in which case <code>$exchange</code> gets Eliza's entire practice phrase, and @symbols is completely empty.</p>\n\n<p>Try looking up the <code>split()</code> function, <code>perldoc -f split</code>. I suspect that's what you want, but I don't know what the data looks like inside of your techticker.txt.</p>\n"}], "owner": {"reputation": 29, "user_id": 4670155, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/31eec0d822baf60c4b25797502d4e8f0?s=128&d=identicon&r=PG&f=1", "display_name": "Elski", "link": "https://stackoverflow.com/users/4670155/elski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1442715405, "creation_date": 1442673979, "last_edit_date": 1442715405, "question_id": 32669543, "link": "https://stackoverflow.com/questions/32669543/perl-stock-ticker-error-undefined-fetch-method", "title": "Perl - Stock ticker error : Undefined fetch-method", "body": "<p>I'm working on stock ticker program for my class. This program should read ticker list from a file, fetch information using <a href=\"http://search.cpan.org/~ecocode/Finance-Quote-1.37/lib/Finance/Quote.pm\" rel=\"nofollow\">Finance::Quote</a> module and display the result on to the screen. When I ran my program, I received error as follow:\n<code>Undefined fetch-method (ticker)\n passed to Finance::Quote::fetch at filename.pl line 56.</code></p>\n\n<p>I have searched for this error's cause all day, but I can't find any answer that help me to understand the problem. Can anyone can help?</p>\n\n<p>My code:</p>\n\n<pre><code>#!/usr/bin/perl -w\n#\nuse strict;\nuse Finance::Quote;\n\n# Set preferred currency\nmy $CURRENCY = \"CNY\";   \n\n# Assign file name to scalar variable, read file, and then assign \n# to an array\nmy $techticker = \"techticker.txt\";\nopen (FH, \"&lt; $techticker\") or die $!;\nmy @STOCKS = &lt;FH&gt;;\nprint @STOCKS, \"\\n\";\nclose FH or die \"Cannot close $techticker: $!\"; \n\n# Define the format : label, style formatting, width of the field\nmy @labels = ([\"name\",  \"%24s\",  15],\n           [\"date\",  \"%11s\",  17], \n           [\"time\",  \"%8s\",  10],\n           [\"last\",  \"%8.2f\",  8],\n           [\"high\",  \"%8.2f\",  8], \n           [\"low\",   \"%8.2f\",  8],\n           [\"close\", \"%8.2f\",  8], \n           [\"volume\",\"%10d\",  10]);\n\n# Seconds between refresh\nmy $REFRESH = 120;  \n\n# --- END CONFIG SECTION ---\n\nmy $quoter = Finance::Quote-&gt;new();\nmy $clear  = `clear`;           # So we can clear the screen.\n\n# Build our header.\n\nmy $header = \"\\t\\t\\tMEGA CAPITAL TECHNOLOGY COMPANY STOCK REPORT\" .    ($CURRENCY ? \" ($CURRENCY)\" : \"\") .\"\\n\\n\";\n\nforeach my $tuple (@labels) {\n    my ($name, undef, $width) = @$tuple;\n    $header .= sprintf(\"%\".$width.\"s\",uc($name));\n }\n\n$header .= \"\\n\".(\"-\"x85).\"\\n\";\n\n# --- END HEADER SECTION ---\n\n# Set default currency.\n$quoter-&gt;set_currency($CURRENCY) if $CURRENCY;  \n\n\nfor (;;) {  # For ever.\n    print $clear,$header;\n\n    foreach my $stockset (@STOCKS) {\n        my ($exchange, @symbols) = $stockset;           # I think the problem is here\n        my %info = $quoter-&gt;fetch($exchange,@symbols);\n\n        foreach my $symbol (@symbols) {\n            next unless $info{$symbol,\"success\"}; # Skip failures.\n            foreach my $tuple (@labels) {\n                my ($label,$format) = @$tuple;\n                printf $format,$info{$symbol,$label};\n            }\n            print \"\\n\";\n        }\n    }\n\n    sleep($REFRESH);\n}\n</code></pre>\n\n<p>Update:\nJust fixed my code, I should extract my data and assign it to $exchange and @symbols outside the \"foreach\" loop. Here are the fixed code:</p>\n\n<pre><code>my $techticker = \"techticker.txt\";\nopen (FH, \"&lt; $techticker\") or die $!;\nmy @symbols = &lt;FH&gt;;\nchomp @symbols;\nmy $exchange = shift @symbols;\n\nclose FH or die \"Cannot close $techticker: $!\"; \n</code></pre>\n\n<p>...</p>\n\n<pre><code>my %info = $quoter-&gt;fetch($exchange,@symbols);\n\nfor (;;) {  # For ever.\n    print $clear,$header;\n\n    foreach my $symbol (@symbols) {\n        next unless $info{$symbol,\"success\"}; # Skip failures.\n        foreach my $tuple (@labels) {\n            my ($label,$format) = @$tuple;\n            printf $format,$info{$symbol,$label};\n        }\n        print \"\\n\";\n    }\n\n    sleep($REFRESH);\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442673176, "post_id": 32668774, "comment_id": 53184357, "body": "This might benefit from a little more explanation - to clarify why <code>=~ &#47;e&#47;</code> is a very different operation from <code>eq &#39;e&#39;</code>"}], "tags": [], "owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "is_accepted": false, "score": 3, "last_activity_date": 1442673387, "last_edit_date": 1442673387, "creation_date": 1442669217, "answer_id": 32668774, "question_id": 32668728, "link": "https://stackoverflow.com/questions/32668728/how-to-determine-certain-characters-in-a-variable-perl/32668774#32668774", "title": "How to Determine Certain Characters in a Variable Perl", "body": "<p>Your original code</p>\n\n<pre><code>if ((substr($Fullname1, 0, 3)) eq 'e')\n</code></pre>\n\n<p>compares a string consisting of 3 characters (or less, if <code>$Fullname1</code> is shorter than 3 chars) to a single character <code>'e'</code>, which always fails.</p>\n\n<p>This:</p>\n\n<pre><code>if ( substr( $FullName1, 0, 3 ) =~ /e/ )\n</code></pre>\n\n<p>makes a string of the first 3 (or less) characters, and then applies a regular expression <code>/e/</code>, which matches a single letter <code>e</code> in any position of the string.</p>\n\n<p>Check out <code>man perlre</code> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1442674037, "creation_date": 1442674037, "answer_id": 32669553, "question_id": 32668728, "link": "https://stackoverflow.com/questions/32668728/how-to-determine-certain-characters-in-a-variable-perl/32669553#32669553", "title": "How to Determine Certain Characters in a Variable Perl", "body": "<p>I suggest you use a regex to check whether the variable contains zero, one, or two characters followed by an <code>e</code>. Like this</p>\n\n<pre><code>if ( $Fullname1 =~ /\\A.{0,2}e/s ) {\n\n    print \"The first three letters contain an e.\\n\";\n}\nelse {\n\n    print \"The first three letters do not contain an e.\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "is_accepted": false, "score": 4, "last_activity_date": 1442685323, "creation_date": 1442685323, "answer_id": 32671476, "question_id": 32668728, "link": "https://stackoverflow.com/questions/32668728/how-to-determine-certain-characters-in-a-variable-perl/32671476#32671476", "title": "How to Determine Certain Characters in a Variable Perl", "body": "<p>People tend to forget about the good old <code>index()</code> function. </p>\n\n<pre><code>    index STR,SUBSTR\n        The index function searches for one string within another, but\n        without the wildcard-like behavior of a full regular-expression\n        pattern match.\n</code></pre>\n\n<p>So this is a direct solution to this particular problem (for extremely high volume it's also a teeny bit faster, but for normal applications that won't make a difference):</p>\n\n<pre><code>if ( index(substr($Fullname1, 0, 3), 'e') != -1){\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5353669, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/488754594640345/picture?type=large", "display_name": "Josh Laroche", "link": "https://stackoverflow.com/users/5353669/josh-laroche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1442685323, "creation_date": 1442668887, "question_id": 32668728, "link": "https://stackoverflow.com/questions/32668728/how-to-determine-certain-characters-in-a-variable-perl", "title": "How to Determine Certain Characters in a Variable Perl", "body": "<p>I am trying to find if the first three characters of the variable $Fullname1 contain a letter \"e.\" The code I am using is this:</p>\n\n<p><code>if ((substr($Fullname1, 0, 3)) eq 'e'){\n    print \"The first three letters contain an e.\\n\";\n}else { print \"The first three letters do not contain an e.\\n\";}</code></p>\n\n<p>It doesn't seem to be working. Is this the right way to do this? </p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 55943, "user_id": 3933332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zuzev.png?s=128&g=1", "display_name": "Rizier123", "link": "https://stackoverflow.com/users/3933332/rizier123"}, "edited": false, "score": 0, "creation_date": 1442660131, "post_id": 32667328, "comment_id": 53180279, "body": "Are both variables strings?"}, {"owner": {"reputation": 407, "user_id": 2603956, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/06364fd34011b6708fba5c94b9fb7e4d?s=128&d=identicon&r=PG&f=1", "display_name": "Buboon", "link": "https://stackoverflow.com/users/2603956/buboon"}, "reply_to_user": {"reputation": 55943, "user_id": 3933332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zuzev.png?s=128&g=1", "display_name": "Rizier123", "link": "https://stackoverflow.com/users/3933332/rizier123"}, "edited": false, "score": 0, "creation_date": 1442660290, "post_id": 32667328, "comment_id": 53180319, "body": "Yes! Both variables is strings."}, {"owner": {"reputation": 55943, "user_id": 3933332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zuzev.png?s=128&g=1", "display_name": "Rizier123", "link": "https://stackoverflow.com/users/3933332/rizier123"}, "edited": false, "score": 0, "creation_date": 1442660479, "post_id": 32667328, "comment_id": 53180378, "body": "What is the <b>exact</b> output of: <code>var_dump($password);</code> and <code>var_dump($newchal);</code> ?"}, {"owner": {"reputation": 407, "user_id": 2603956, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/06364fd34011b6708fba5c94b9fb7e4d?s=128&d=identicon&r=PG&f=1", "display_name": "Buboon", "link": "https://stackoverflow.com/users/2603956/buboon"}, "reply_to_user": {"reputation": 55943, "user_id": 3933332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zuzev.png?s=128&g=1", "display_name": "Rizier123", "link": "https://stackoverflow.com/users/3933332/rizier123"}, "edited": false, "score": 0, "creation_date": 1442660917, "post_id": 32667328, "comment_id": 53180495, "body": "<code>string(8) &quot;password&quot; string(16) &quot;\u0422&#174;\u201cLU)d\u042e&#183;\u0403q\u0446J\u20ac&quot;</code>"}, {"owner": {"reputation": 407, "user_id": 2603956, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/06364fd34011b6708fba5c94b9fb7e4d?s=128&d=identicon&r=PG&f=1", "display_name": "Buboon", "link": "https://stackoverflow.com/users/2603956/buboon"}, "reply_to_user": {"reputation": 55943, "user_id": 3933332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zuzev.png?s=128&g=1", "display_name": "Rizier123", "link": "https://stackoverflow.com/users/3933332/rizier123"}, "edited": false, "score": 0, "creation_date": 1442661886, "post_id": 32667328, "comment_id": 53180793, "body": "It is logical that the line is shorter by 2 times as <code>$password</code> length 8. I tried to convert it to UTF-16, but then the result of bitwise another."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1442686382, "post_id": 32667328, "comment_id": 53188876, "body": "This is actually a good question; I don&#39;t understand why downvotes."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1442752022, "post_id": 32667328, "comment_id": 53203238, "body": "@\u0421\u0443\u0445\u043e\u043927 No research effort; no test case (input data not shown)."}], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 2603956, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/06364fd34011b6708fba5c94b9fb7e4d?s=128&d=identicon&r=PG&f=1", "display_name": "Buboon", "link": "https://stackoverflow.com/users/2603956/buboon"}, "edited": false, "score": 1, "creation_date": 1442663374, "post_id": 32667825, "comment_id": 53181240, "body": "Oh, how i can add zero bits to shortest value in PHP for same begavior?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": false, "score": 4, "last_activity_date": 1442751520, "last_edit_date": 1442751520, "creation_date": 1442663096, "answer_id": 32667825, "question_id": 32667328, "link": "https://stackoverflow.com/questions/32667328/different-behavior-of-the-operator-in-php-and-perl/32667825#32667825", "title": "Different behavior of the operator ^ in PHP and Perl", "body": "<p>The defined behavior of the languages appears to be different.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow\">For Perl</a>:</p>\n\n<blockquote>\n  <p>If the operands to a binary bitwise op are strings of different sizes,\n  | and ^ ops act as though the shorter operand had additional zero bits\n  on the right</p>\n</blockquote>\n\n<p>The <a href=\"http://php.net/manual/en/language.operators.bitwise.php\" rel=\"nofollow\">PHP documentation</a> doesn't seem to define what happens in this case, but one of the examples gives it away:</p>\n\n<pre><code>echo \"12\" ^ \"9\"; // Outputs the Backspace character (ascii 8)\n                 // ('1' (ascii 49)) ^ ('9' (ascii 57)) = #8\n</code></pre>\n\n<p>So it appears that in PHP, the extra characters in the longer string will just be discarded, while in Perl they will be included.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>To get the desired behavior in PHP, there are a couple of options.  You could add null characters to the end of the string.</p>\n\n<pre><code>$password = '        ';\n$newchal = \"abcdefghijklmnop\";\n\n#prints ABCDEFGH\necho $password ^ $newchal;\n\n$password .= \"\\0\\0\\0\\0\\0\\0\\0\\0\";\n\n#prints ABCDEFGHijklmnop\necho $password ^ $newchal;\n</code></pre>\n\n<p>This example assumes the strings are always a fixed, known length.  If you need to handle arbitrary cases, you could measure the length of each string and then add null characters as necessary. And of course, if you don't want to alter the original variable, put it in a temporary variable before doing the above.</p>\n"}, {"tags": [], "owner": {"reputation": 407, "user_id": 2603956, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/06364fd34011b6708fba5c94b9fb7e4d?s=128&d=identicon&r=PG&f=1", "display_name": "Buboon", "link": "https://stackoverflow.com/users/2603956/buboon"}, "is_accepted": false, "score": 0, "last_activity_date": 1442774514, "creation_date": 1442774514, "answer_id": 32682933, "question_id": 32667328, "link": "https://stackoverflow.com/questions/32667328/different-behavior-of-the-operator-in-php-and-perl/32682933#32682933", "title": "Different behavior of the operator ^ in PHP and Perl", "body": "<p>Right answer (if we know, that password no longer $newchal)</p>\n\n<pre><code>$iterations = ceil(mb_strlen($newchal) / mb_strlen($password)) - 1;\n  while($iterations &gt; 0){\n      $password .= ($password ^ $password);\n     $iterations--;\n  }\n $code = $password ^ $newchal;\n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 2603956, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/06364fd34011b6708fba5c94b9fb7e4d?s=128&d=identicon&r=PG&f=1", "display_name": "Buboon", "link": "https://stackoverflow.com/users/2603956/buboon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1442774514, "creation_date": 1442659977, "last_edit_date": 1442661630, "question_id": 32667328, "link": "https://stackoverflow.com/questions/32667328/different-behavior-of-the-operator-in-php-and-perl", "title": "Different behavior of the operator ^ in PHP and Perl", "body": "<p>I ported script from Perl to PHP and I have errors. The following code returns a different result for the same input data. Rather string is returned to Perl 2 times longer than the line in PHP, but the beginning of this line coincides with the line of PHP.\nI expect that it encoded input lines, but I can not figure out until the end.</p>\n\n<pre><code>$test = $password ^ $newchal;\n</code></pre>\n\n<p>Please, help me to get the same value of <code>$test</code> in PHP as in Perl?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 2, "creation_date": 1443473784, "post_id": 32665616, "comment_id": 53499145, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/5443121/understanding-strange-perl-multiline-comment-mechanism\">Understanding strange Perl multiline comment mechanism</a>"}, {"owner": {"reputation": 16032, "user_id": 1248177, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce4713378691ec2899a27c845a3748f7?s=128&d=identicon&r=PG", "display_name": "aloisdg", "link": "https://stackoverflow.com/users/1248177/aloisdg"}, "edited": false, "score": 1, "creation_date": 1443534608, "post_id": 32665616, "comment_id": 53525430, "body": "You can access a list of Perl secret operators and constants <a href=\"http://search.cpan.org/dist/perlsecret/lib/perlsecret.pod\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"tags": [], "owner": {"reputation": 2786, "user_id": 1263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a387c319e911adcdd5996d7af0d578?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden", "link": "https://stackoverflow.com/users/1263565/hayden"}, "is_accepted": true, "score": 124, "last_activity_date": 1442649250, "last_edit_date": 1495535249, "creation_date": 1442648664, "answer_id": 32665687, "question_id": 32665616, "link": "https://stackoverflow.com/questions/32665616/what-does-the-m-m-syntax-mean-in-perl/32665687#32665687", "title": "What does the &lt;&lt;&#39;m&#39;=~m&gt;&gt; syntax mean in perl?", "body": "<p>This <em>secret</em> syntax is known as the <a href=\"http://search.cpan.org/dist/perlsecret/lib/perlsecret.pod#Ornate_double-bladed_sword\" rel=\"nofollow noreferrer\">ornate double-bladed sword</a>, and is typically denoted as:</p>\n\n<pre><code>&lt;&lt;m=~m&gt;&gt;\n\nComments here\n\nm\n;\n</code></pre>\n\n<p>It is a hack for multi-line comments, making use of the <a href=\"http://perlmaven.com/here-documents\" rel=\"nofollow noreferrer\">heredoc</a> syntax and match operator (<code>=~</code>) with <code>&gt;</code> as delimiter. </p>\n\n<p>Note, as slashes, <code>/</code>, aren't being used as the delimiter for matching, the 'm' operator is required. For example <code>$my_var =~ /test/</code> is equivalent to <code>$my_var =~ m&gt;test&gt;</code>, whereas <code>$my_var =~ &gt;test&gt;</code> would be invalid.</p>\n\n<p>Pay attention to the fact that the first <code>m</code> character in your snippet is enclosed by single quotes, meaning the <code>$a</code> and <code>$b</code> variables won't be interpolated. Had these quotes been omitted (as per my provided code example) perl would automatically add double quotes to the end marker and any subsequent variables would be interpolated. This would cause problems if <code>$a</code> and <code>$b</code> are no longer defined and you're using <code>use warnings;</code>.</p>\n\n<p>To make the ornate double-blade example above easier to understand (but still not recommended), we could write:</p>\n\n<pre><code>&lt;&lt;\"END\" =~ //\n\nComments here\n\nEND\n;\n</code></pre>\n\n<p>Note that the <code>=~ //</code> is redundant, so this is equivalent to:</p>\n\n<pre><code>&lt;&lt;\"END\";\n\nComments here\n\nEND\n</code></pre>\n\n<p>Which is just standard heredoc syntax in void context.</p>\n\n<p>I would not recommend using this in production code as having a string in void context can cause problems. Plus this code is a head scratcher for even the most experienced perl programmers and is pointlessly difficult to read and maintain! If you want to create proper multi-line comments then I would suggest sticking to pod as explained here <a href=\"https://stackoverflow.com/questions/3828205/how-do-i-enter-a-multi-line-comment-in-perl\">How do I enter a multi-line comment in Perl?</a></p>\n\n<p>Hope this clears it up.</p>\n"}, {"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 24, "last_activity_date": 1442649024, "creation_date": 1442649024, "answer_id": 32665739, "question_id": 32665616, "link": "https://stackoverflow.com/questions/32665616/what-does-the-m-m-syntax-mean-in-perl/32665739#32665739", "title": "What does the &lt;&lt;&#39;m&#39;=~m&gt;&gt; syntax mean in perl?", "body": "<p>Running <a href=\"http://perldoc.perl.org/B/Deparse.html\">B::Deparse</a> helps a lot in order to understand how perl is handling that piece of code (assuming it is at \"test.pl\" file):</p>\n\n<pre><code>perl -MO=Deparse  test.pl \n</code></pre>\n\n<p>show us:</p>\n\n<pre><code>\"print \\$a unless \\$b;\\nreturn;\\n\" =~ //;\ntest.pl syntax OK\n</code></pre>\n\n<p>So, as you can see, perl is trying to match an empty regexpr to this string: <code>\"print \\$a unless \\$b;\\nreturn;\\n\"</code></p>\n"}], "owner": {"reputation": 593, "user_id": 5352996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9073ba7ca22dd59520eda3fb310bf81f?s=128&d=identicon&r=PG&f=1", "display_name": "AliceHemp", "link": "https://stackoverflow.com/users/5352996/alicehemp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9392, "favorite_count": 14, "accepted_answer_id": 32665687, "answer_count": 2, "score": 82, "last_activity_date": 1443470537, "creation_date": 1442648112, "last_edit_date": 1443470537, "question_id": 32665616, "link": "https://stackoverflow.com/questions/32665616/what-does-the-m-m-syntax-mean-in-perl", "title": "What does the &lt;&lt;&#39;m&#39;=~m&gt;&gt; syntax mean in perl?", "body": "<p>So I understand that perl has much unusual syntax, but I came across a code snippet at work that other day that has left me confused. Could someone please explain to me what it means:</p>\n\n<pre><code>&lt;&lt;'m'=~m&gt;&gt;\nprint $a unless $b;\nreturn;\nm\n;\n</code></pre>\n\n<p>It looks like HEREDOC syntax, but not in any form I've ever seen.</p>\n"}, {"tags": ["perl", "cpan", "cpanm"], "comments": [{"owner": {"reputation": 640, "user_id": 753271, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f9668ab4f4218790077c7cdbde72b4f1?s=128&d=identicon&r=PG", "display_name": "PKHunter", "link": "https://stackoverflow.com/users/753271/pkhunter"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1442666446, "post_id": 32665344, "comment_id": 53182100, "body": "You misunderstood my question. I want cpanm to install modules to which i point on the local server somewhere. Not for cpanm to look for those modules online, as it does by default. Hope this is clearer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1442670630, "post_id": 32665344, "comment_id": 53183449, "body": "I&#39;m still unsure what it is you want. The specific issue you have with installing <code>HTML::Restrict</code> is because of <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=26121\" rel=\"nofollow noreferrer\">an old bug in <code>Pod::Perldoc</code></a> but that doesn&#39;t affect your ability to install modules in general. I don&#39;t see what difference you think installing <code>App::cpanminus</code> will make"}, {"owner": {"reputation": 640, "user_id": 753271, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f9668ab4f4218790077c7cdbde72b4f1?s=128&d=identicon&r=PG", "display_name": "PKHunter", "link": "https://stackoverflow.com/users/753271/pkhunter"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1442674702, "post_id": 32665344, "comment_id": 53184956, "body": "Thank you for that info. With Perl 5.8.x, is there any way to fix that old Pod::Perldoc issue?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1442676195, "post_id": 32665344, "comment_id": 53185464, "body": "I really don&#39;t know. You could try fetching <code>cpanm</code> as I describe in my answer and see if it will update <code>Pod::Perldoc</code> for you. But the proper way, of course, is to upgrade Perl!"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1442691834, "post_id": 32665344, "comment_id": 53190596, "body": "This is just bloody stupid. Using an antiquated Perl version and needing modules without the ability to install them from CPAN is just boneheaded design. Take a quill and ask your manager why they can use email while your software needs to stay put firmly in the middle ages, and the labor costs this incurs are at 21th century rates."}, {"owner": {"reputation": 640, "user_id": 753271, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f9668ab4f4218790077c7cdbde72b4f1?s=128&d=identicon&r=PG", "display_name": "PKHunter", "link": "https://stackoverflow.com/users/753271/pkhunter"}, "edited": false, "score": 0, "creation_date": 1442745899, "post_id": 32665344, "comment_id": 53201610, "body": "I couldn&#39;t agree more. But the system we use is antiquated. Anyway, we found a way using HTML::TokeParser, which is kludgish, but works for now. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1442667590, "last_edit_date": 1442667590, "creation_date": 1442666904, "answer_id": 32668392, "question_id": 32665344, "link": "https://stackoverflow.com/questions/32665344/installing-cpan-or-cpanm-modules-on-a-behind-firewall-machine-with-no-internet-c/32668392#32668392", "title": "Installing cpan or cpanm modules on a behind-firewall machine with no Internet connection", "body": "<p>You should take a look at <a href=\"http://perldoc.perl.org/perlmodinstall.html\" rel=\"nofollow\"><code>perldoc perlmodinstall</code></a> which goes into detail about how to install a module from its distribution. It follows what should be a familiar incantation</p>\n\n<ul>\n<li>Decompress</li>\n<li>Unpack</li>\n<li>Build</li>\n<li>Test</li>\n<li>Install</li>\n</ul>\n\n<p>Assuming you're on a Linux system, this commonly takes take the form of</p>\n\n<ul>\n<li><code>gzip -d My-Module-Distribution.tar.gz</code></li>\n<li><code>tar -xof My-Module-Distribution.tar</code></li>\n<li><code>perl Makefile.PL</code></li>\n<li><code>make</code></li>\n<li><code>make test</code></li>\n<li><code>make install</code></li>\n</ul>\n\n<p>But after the <em>Unpack</em> stage you will often find a <code>README</code> file or other text file that will describe any unusual steps to be taken</p>\n\n<p>Clearly some of these steps can be combined. For instance, most people will probably want to use</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>tar -xvfz My-Module-Distribution.tar.gz\n</code></pre>\n\n<p>to avoid having to invoke <code>gzip</code> separately. Likewise, the make system will force a build phase as a prerequisite if you use just</p>\n\n<pre><code>make test\n</code></pre>\n\n<p>without the preceding <code>make</code></p>\n\n<p>The linked document has a lot to say about how to install on other platforms, should you not be running a Linux variant</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1442672106, "creation_date": 1442672106, "answer_id": 32669218, "question_id": 32665344, "link": "https://stackoverflow.com/questions/32665344/installing-cpan-or-cpanm-modules-on-a-behind-firewall-machine-with-no-internet-c/32669218#32669218", "title": "Installing cpan or cpanm modules on a behind-firewall machine with no Internet connection", "body": "<p>I still don't really understand your thinking, but you can get a stand-alone version of <code>cpanm</code> using <code>curl</code>. For instance</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>curl -sS --location https://cpanmin.us/ --output cpanm\n</code></pre>\n\n<p>then you should be able to just copy it to your target machine, put it on your PATH, and do</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cpanm HTML-Restrict-2.2.2.tar.gz\n</code></pre>\n\n<p>but I doubt if you will find any change to the specific errors you are getting</p>\n"}], "owner": {"reputation": 640, "user_id": 753271, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f9668ab4f4218790077c7cdbde72b4f1?s=128&d=identicon&r=PG", "display_name": "PKHunter", "link": "https://stackoverflow.com/users/753271/pkhunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1131, "favorite_count": 1, "accepted_answer_id": 32669218, "answer_count": 2, "score": 0, "last_activity_date": 1442672106, "creation_date": 1442646405, "last_edit_date": 1495542146, "question_id": 32665344, "link": "https://stackoverflow.com/questions/32665344/installing-cpan-or-cpanm-modules-on-a-behind-firewall-machine-with-no-internet-c", "title": "Installing cpan or cpanm modules on a behind-firewall machine with no Internet connection", "body": "<p>I've already read <a href=\"https://stackoverflow.com/questions/1541638/how-can-i-install-local-modules-with-the-cpan-tool\">related threads like these</a>, but they do not fully capture our situation. </p>\n\n<ol>\n<li>This is on a firewalled machine. No net access. We can ftp files to folders and install modules from there.  </li>\n<li>We have CHMOD 777 for our users on some folders. We can install Perl modules if we locally build them by downloading the relevant <code>.pm</code> files. But when these files cannot install, we do not have any <code>cpan</code> or <code>cpanm</code>. </li>\n</ol>\n\n<p>I'd like to install, for example, <code>HTML::Restrict</code>. If I do the download + install thing, the Restrict.pm gives me this error: </p>\n\n<pre><code>/lib/HTML/Restrict.PM:328: Unknown command paragraph \"=encoding UTF-8\" \n</code></pre>\n\n<p>Reading a bit online suggests that this could be an old Perl problem. We use 5.8.x. Our own dev machines have the luxury of 5.16.x and internet access so installing module is a cinch. Anyway, one of my older machines also has 5.8.x, and installing the module via cpanminus worked there (with internet). </p>\n\n<p>So, question: is it possible to install \"cpanminus\" (<code>cpanm</code>) through FTP, then upload specific module files to the server through FTP too, and then go into shell and install modules via <code>cpanm</code> by pointing it to respective <code>.pm</code> files? </p>\n\n<p>Thank you for any pointers. </p>\n"}, {"tags": ["python", "linux", "bash", "perl", "shell"], "comments": [{"owner": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "edited": false, "score": 3, "creation_date": 1442636645, "post_id": 32664160, "comment_id": 53174444, "body": "How about <code>#!&#47;usr&#47;bin&#47;env perl</code>? At least that is suggested in <a href=\"http://stackoverflow.com/a/2792076\">What should I use for a Perl script&#39;s shebang line?</a>"}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "reply_to_user": {"reputation": 28716, "user_id": 828193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pmNlX.png?s=128&g=1", "display_name": "user000001", "link": "https://stackoverflow.com/users/828193/user000001"}, "edited": false, "score": 0, "creation_date": 1442637458, "post_id": 32664160, "comment_id": 53174611, "body": "is this generic to all scripts(Perl, Python, bash, tcsh, awk etc)? If Yes, then YES, i am looking for the same."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1442637593, "post_id": 32664160, "comment_id": 53174641, "body": "It is more or less generic; you write the command you want to run after <code>#!&#47;usr&#47;bin&#47;env</code>."}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1442639860, "post_id": 32664160, "comment_id": 53175044, "body": "@JonathanLeffler: Why is it more or less generic, and how does it work?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1442640259, "post_id": 32664160, "comment_id": 53175126, "body": "It is generic if you don&#39;t consider changing <code>python</code> to <code>perl</code> to <code>tcl</code> to <code>awk</code> as making it not-quite-generic.  You need to get the name after <code>&#47;usr&#47;bin&#47;env</code> right \u2014 that stops it being generic.  However, the use of <code>#!&#47;usr&#47;bin&#47;env</code> is as portable as it gets.  How does it work?  The <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/utilities/env.html\" rel=\"nofollow noreferrer\"><code>env</code></a> command has a number of uses.  It can print the environment, modify the environment before running a command, or it can simply run a command without modifying the environment \u2014 but the command is found on <code>$PATH</code>, which is the key point."}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "edited": false, "score": 0, "creation_date": 1442640349, "post_id": 32664160, "comment_id": 53175145, "body": "Agreed!! Thanks many!!"}], "owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 2, "closed_date": 1442637612, "answer_count": 0, "score": 1, "last_activity_date": 1442636513, "creation_date": 1442636513, "question_id": 32664160, "link": "https://stackoverflow.com/questions/32664160/shebang-hashbang-that-is-at-the-beginning-of-a-script", "closed_reason": "Duplicate", "title": "shebang/hashbang, (that is, &quot;#!&quot;) at the beginning of a script", "body": "<p><strong>shebang/hashbang</strong>, (that is, \"#!\") at the beginning of a script is an <strong>interpreter directive</strong>. This line tells the operating system what interpreter to invoke to run the script.</p>\n\n<pre><code>#!path/to/script\n</code></pre>\n\n<p>example: </p>\n\n<pre><code>which perl\nperl is /opt/local/bin/perl\n</code></pre>\n\n<p>On my system perl is installed at above path, but not necessary, every system will have same path. Many time path varies from system to system, how do make it a generic one, so that I will not have to change the first line every time differing with machine to machine.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4175743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0eb14a2b0ab668f3492c2da318b7369e?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Walker", "link": "https://stackoverflow.com/users/4175743/bruce-walker"}, "edited": false, "score": 0, "creation_date": 1442625925, "post_id": 32663138, "comment_id": 53172614, "body": "The  problem is it includes the colon : in the search when trying your solution. I need it to not include the colon : but include the word &quot;spelling&quot;"}, {"owner": {"reputation": 1624, "user_id": 296549, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/134cf24554b2115f4ed28d2ff43b378f?s=128&d=identicon&r=PG", "display_name": "Bacon", "link": "https://stackoverflow.com/users/296549/bacon"}, "reply_to_user": {"reputation": 85, "user_id": 4175743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0eb14a2b0ab668f3492c2da318b7369e?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Walker", "link": "https://stackoverflow.com/users/4175743/bruce-walker"}, "edited": false, "score": 0, "creation_date": 1442626469, "post_id": 32663138, "comment_id": 53172724, "body": "Removing the the ! from the regex should allow spelling to get caught then. The ^ symbol is already excluding any character you mentioned in the brackets"}], "tags": [], "owner": {"reputation": 1624, "user_id": 296549, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/134cf24554b2115f4ed28d2ff43b378f?s=128&d=identicon&r=PG", "display_name": "Bacon", "link": "https://stackoverflow.com/users/296549/bacon"}, "is_accepted": false, "score": 1, "last_activity_date": 1442664917, "last_edit_date": 1442664917, "creation_date": 1442625633, "answer_id": 32663138, "question_id": 32663120, "link": "https://stackoverflow.com/questions/32663120/searching-for-text-that-contain-and-not-contain-text-and-symbol/32663138#32663138", "title": "searching for text that contain and not contain text and symbol", "body": "<p>What about  <code>^([^:\\n]*spelling.*)$</code> ?</p>\n\n<p>Adding <code>.*</code> allows any character (except newline) to be present after 'spelling'</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1442630250, "creation_date": 1442630250, "answer_id": 32663577, "question_id": 32663120, "link": "https://stackoverflow.com/questions/32663120/searching-for-text-that-contain-and-not-contain-text-and-symbol/32663577#32663577", "title": "searching for text that contain and not contain text and symbol", "body": "<pre><code>spelling*\n</code></pre>\n\n<p>matches</p>\n\n<pre><code>spellin\nspelling\nspellingg\nspellinggg\n</code></pre>\n\n<p>etc. You were trying for</p>\n\n<pre><code>^([^:\\n]*spelling[^\\n]*)$\n</code></pre>\n\n<p>aka</p>\n\n<pre><code>^([^:\\n]*spelling.*)$     # Assuming /s isn't used\n</code></pre>\n\n<p>But that would allow <code>:</code> after <code>spelling</code>, so you really want</p>\n\n<pre><code>^([^:\\n]*spelling[^:\\n]*)$\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": true, "score": 3, "last_activity_date": 1442750890, "last_edit_date": 1442750890, "creation_date": 1442642279, "answer_id": 32664802, "question_id": 32663120, "link": "https://stackoverflow.com/questions/32663120/searching-for-text-that-contain-and-not-contain-text-and-symbol/32664802#32664802", "title": "searching for text that contain and not contain text and symbol", "body": "<p>You could do this:</p>\n\n<pre><code>^![^:\\n]*spelling[^:\\n]*$\n</code></pre>\n\n<p>If you are looping through a file line by line, as is typical, there is no need to exclude the newlines from the match:</p>\n\n<pre><code>^![^:]*spelling[^:]*$\n</code></pre>\n\n<p>Another option to consider when you have complex requirements is breaking the match down into mutiple steps.  This makes for simpler, easier to understand code that is less error-prone:</p>\n\n<pre><code>if (/^!/ and /spelling/ and not /:/)\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4175743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0eb14a2b0ab668f3492c2da318b7369e?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Walker", "link": "https://stackoverflow.com/users/4175743/bruce-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 32664802, "answer_count": 3, "score": 0, "last_activity_date": 1442750890, "creation_date": 1442625469, "question_id": 32663120, "link": "https://stackoverflow.com/questions/32663120/searching-for-text-that-contain-and-not-contain-text-and-symbol", "title": "searching for text that contain and not contain text and symbol", "body": "<p>This regex code works correctly for searching for lines that begins with an exclamation mark and does not contain colon : symbol</p>\n\n<pre><code>  ^!([^:\\n]*)$\n</code></pre>\n\n<p>In addition to the regex code above, I need it to contain lines of text that has the word \"spelling\" in it, like this code below but does not work.</p>\n\n<pre><code>  ^!([^:\\n]spelling*)$\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1442612899, "post_id": 32661517, "comment_id": 53169400, "body": "<code>!</code> is not a &quot;not&quot; operator in regexes... <code>$foo !~ &#47;:&#47;</code>, perhaps?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1442613132, "post_id": 32661517, "comment_id": 53169487, "body": "@MarcB It looks like they&#39;re trying to match text that begins with a literal <code>!</code>, not negate the regex."}], "answers": [{"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 85, "user_id": 4175743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0eb14a2b0ab668f3492c2da318b7369e?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Walker", "link": "https://stackoverflow.com/users/4175743/bruce-walker"}, "edited": false, "score": 0, "creation_date": 1442614574, "post_id": 32661739, "comment_id": 53170007, "body": "Note that your regex <code>^!(?!:)*$</code> only finds <code>!</code> in <code>!\\nSome text</code>. And although it is not an error in Perl, in many other flavors it is not a valid regex pattern (due to <code>*</code> quantifier applied to a look-around)."}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 2, "creation_date": 1442620168, "post_id": 32661739, "comment_id": 53171515, "body": "Note that <code>$&amp;</code> will do horrible things to your script&#39;s performance (<a href=\"http://stackoverflow.com/questions/1665722/is-1-or-faster-for-replacing-a-matched-string-using-s-in-perl\" title=\"is 1 or faster for replacing a matched string using s in perl\">stackoverflow.com/questions/1665722/&hellip;</a>); using it makes <i>every</i> regex run much slower. In this case you want the whole line you matched, so just use it: <code>$string</code>. In this tiny script it wont matter as much, but using it in a module (say) will mess up every script that uses that module as well. Best to get out of the habit of using it, and learn how to use parens and non-capturing parens in your regex instead."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1442649464, "post_id": 32661739, "comment_id": 53177366, "body": "@dan1111: I had no idea about any complications about using <code>$&amp;</code> back-reference, it is totally ok in JS and C# where I am using it extensively because capturing groups IMHO take more resources than non-capturing ones. The snippet I had was a <b>mere demo</b>, I only used it to show how the regex works. I changed the demo code and hope it now OK."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1442649530, "post_id": 32661739, "comment_id": 53177388, "body": "@JoeMcMahon: I have fixed the <code>$&amp;</code> issue that I was unaware of, and modified the code so that it could be extrapolated to a more complex task."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 85, "user_id": 4175743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0eb14a2b0ab668f3492c2da318b7369e?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Walker", "link": "https://stackoverflow.com/users/4175743/bruce-walker"}, "edited": false, "score": 0, "creation_date": 1442657139, "post_id": 32661739, "comment_id": 53179444, "body": "@BruceWalker Please check the update. If it no longer works for you please let me know."}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1442706349, "post_id": 32661739, "comment_id": 53194061, "body": "Yep, that was totally not to criticize -- it&#39;s not something that on the face of it says &quot;use this feature to mess up your performance&quot; will be the result. Just wanted to pass it on."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1442852739, "post_id": 32661739, "comment_id": 53243260, "body": "@JoeMcMahon FYI, the performance issues associated with <code>$&amp;</code> and friends were <a href=\"http://perldoc.perl.org/perlvar.html#Performance-issues\" rel=\"nofollow noreferrer\">finally fixed in Perl 5.20</a>, after a couple of partial fixes/workarounds. I would still use a capturing group instead of <code>$&amp;</code>, though."}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1442853609, "post_id": 32661739, "comment_id": 53243730, "body": "Good to know! Thanks."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1442660619, "last_edit_date": 1442660619, "creation_date": 1442614029, "answer_id": 32661739, "question_id": 32661517, "link": "https://stackoverflow.com/questions/32661517/how-to-find-a-line-of-text-that-does-not-contain-the-colon-symbol-using-perl-reg/32661739#32661739", "title": "How to find a line of text that does not contain the colon symbol using perl regex", "body": "<p>If you have a multiline input, you need to read the data in line by line and check if each line starts with <code>!</code> and does not contain <code>:</code> with the following regex:</p>\n\n<pre><code>/^![^:]*$/\n</code></pre>\n\n<p>Or if you want to split conditions:</p>\n\n<pre><code>if (/^!/ and not /:/)\n</code></pre>\n\n<p>The character class <code>[^:]</code> will match any character other than a <code>:</code>.</p>\n\n<p>Here is working sample:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @matches;\nwhile (&lt;DATA&gt;) {\n    if (/^![^:]*$/) {\n        push @matches, $_;\n        print \"$_\\n\";\n    }\n}\n\n__DATA__\n!dkdkdkdkdk: dkdkdkdkdkdkdkadfkldllsls\n!dksdjfslfjlk afldajfdklafjdla;fd\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/b0sh0W\" rel=\"nofollow\">IDEONE demo</a></p>\n\n<p>The <code>@matches</code> will contain all the lines that passed the test.</p>\n"}, {"comments": [{"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1442706422, "post_id": 32663933, "comment_id": 53194076, "body": "I think that&#39;s a great option. If one was completely regex-phobic, you could even use <code>index</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1442633965, "creation_date": 1442633965, "answer_id": 32663933, "question_id": 32661517, "link": "https://stackoverflow.com/questions/32661517/how-to-find-a-line-of-text-that-does-not-contain-the-colon-symbol-using-perl-reg/32663933#32663933", "title": "How to find a line of text that does not contain the colon symbol using perl regex", "body": "<p>Is there anything wrong with</p>\n\n<pre><code>if ( /^!/ and not /:/ ) { ... }\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4175743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0eb14a2b0ab668f3492c2da318b7369e?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Walker", "link": "https://stackoverflow.com/users/4175743/bruce-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 32661739, "answer_count": 2, "score": 2, "last_activity_date": 1442660619, "creation_date": 1442612755, "question_id": 32661517, "link": "https://stackoverflow.com/questions/32661517/how-to-find-a-line-of-text-that-does-not-contain-the-colon-symbol-using-perl-reg", "title": "How to find a line of text that does not contain the colon symbol using perl regex", "body": "<p>For example, I'm trying not to find lines of text with the following</p>\n\n<pre><code>    !dkdkdkdkdk: dkdkdkdkdkdkdkadfkldllsls  &lt;------ do not find this line of code\n\n    !dksdjfslfjlk afldajfdklafjdla;fd        &lt;-------- find this line of code\n</code></pre>\n\n<p>I tried the following code but not working.</p>\n\n<pre><code>           ^!(?!:)*$\n</code></pre>\n"}, {"tags": ["perl", "xpath"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1442605541, "post_id": 32659871, "comment_id": 53166232, "body": "We can&#39;t help unless we see your code"}], "answers": [{"comments": [{"owner": {"reputation": 392, "user_id": 4981459, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054927164535945/picture?type=large", "display_name": "Kalpesh Tawde", "link": "https://stackoverflow.com/users/4981459/kalpesh-tawde"}, "edited": false, "score": 0, "creation_date": 1442607864, "post_id": 32659980, "comment_id": 53167382, "body": "Thanks Borodin, it worked by creating a new object for each page."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1442605824, "creation_date": 1442605824, "answer_id": 32659980, "question_id": 32659871, "link": "https://stackoverflow.com/questions/32659871/perl-htmltreebuilderxpath-duplicate-record-in-next-iteration/32659980#32659980", "title": "Perl HTML::TreeBuilder::XPath duplicate record in next iteration", "body": "<p>You need to create a new <code>HTML::TreeBuilder::XPath</code> object for each web page</p>\n"}], "owner": {"reputation": 392, "user_id": 4981459, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054927164535945/picture?type=large", "display_name": "Kalpesh Tawde", "link": "https://stackoverflow.com/users/4981459/kalpesh-tawde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1442605824, "creation_date": 1442605378, "last_edit_date": 1442605721, "question_id": 32659871, "link": "https://stackoverflow.com/questions/32659871/perl-htmltreebuilderxpath-duplicate-record-in-next-iteration", "title": "Perl HTML::TreeBuilder::XPath duplicate record in next iteration", "body": "<p>I have created an object using the\n<a href=\"http://metacpan.org/module/HTML::TreeBuilder::XPath\" rel=\"nofollow\"><code>HTML::TreeBuilder::XPath</code></a> module\nand am using it to parse the contents of two webpages.</p>\n\n<p>Page 1: Data parsed and printed as below</p>\n\n<pre><code>alaska/fairbanks\n</code></pre>\n\n<p>Page 2: Data parsed and printed as below</p>\n\n<pre><code>alaska/fairbanks\nalazka/arizona\n</code></pre>\n\n<p>The data from first iteration is also getting into second one.\nPlease help to avoid this.</p>\n"}, {"tags": ["string", "perl", "hash", "key"], "answers": [{"comments": [{"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 1, "creation_date": 1442620524, "post_id": 32659327, "comment_id": 53171596, "body": "Note that the <code>exists</code> here isn&#39;t strictly required; if you access a hash element that doesn&#39;t exist, Perl returns <code>undef</code>...but also adds that key to the hash. If you care about the keys not changing when you want to access a hash element, use <code>exists</code>; if you don&#39;t, just access."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 4, "creation_date": 1442622413, "post_id": 32659327, "comment_id": 53171966, "body": "@JoeMcMahon That is incorrect. You are thinking of autovivification, which only occurs when you refer to a multidimensional structure. If you for example try to access <code>$has{foo}{bar}</code>, it will create <code>$has{foo}</code> if it does not already exist."}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 1, "creation_date": 1442627181, "post_id": 32659327, "comment_id": 53172846, "body": "<i>forehead slap</i> You&#39;re quite right. Thank you! Although the comment re <code>exists</code> is still correct."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 3, "creation_date": 1442652966, "post_id": 32659327, "comment_id": 53178246, "body": "@JoeMcMahon Well, not entirely. <code>$has{$string}</code> can still be defined, but false, e.g. <code>0</code> or the empty string. <code>exists</code> is the safest check to perform, possibly one can also use <code>defined</code>."}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 1, "creation_date": 1442706222, "post_id": 32659327, "comment_id": 53194042, "body": "True. I am in a maze of twisty little exceptions, all different. For the OP&#39;s example, with only string-valued values, a &quot;is the key present&quot; check would work, but as you say, there&#39;s always the chance that something didn&#39;t get initialized right, and <code>exists()</code> definitely tells you that there&#39;s a key-value pair there. Whether you got it right or not is of course not something we can guarantee without doing a <code>tie</code> or something more complex."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 3, "last_activity_date": 1442603120, "creation_date": 1442603120, "answer_id": 32659327, "question_id": 32659288, "link": "https://stackoverflow.com/questions/32659288/how-to-look-for-a-value-in-a-hash/32659327#32659327", "title": "How to look for a value in a hash?", "body": "<p>Check if the value exists.</p>\n\n<pre><code>if (exists $has{$string}) {\n     printf \"%s, %s\\n\", $string, $has{$string};\n}\n</code></pre>\n\n<p>Keep in mind that this is case sensitive.</p>\n\n<p>You should probably read up on the various Perl functions in <a href=\"http://perldoc.perl.org/perlfunc.html\" rel=\"nofollow\">perldoc perlfunc</a></p>\n"}], "owner": {"reputation": 133, "user_id": 5302107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/778e30389437ddb701d5d5a55a78defe?s=128&d=identicon&r=PG&f=1", "display_name": "Mia Lua", "link": "https://stackoverflow.com/users/5302107/mia-lua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 32659327, "answer_count": 1, "score": 1, "last_activity_date": 1442603120, "creation_date": 1442602981, "last_edit_date": 1442603052, "question_id": 32659288, "link": "https://stackoverflow.com/questions/32659288/how-to-look-for-a-value-in-a-hash", "title": "How to look for a value in a hash?", "body": "<p>I have a hash like</p>\n\n<pre><code>%has  = ('TCA' =&gt;'S', 'TTC'=&gt;'N'....)\n</code></pre>\n\n<p>and a </p>\n\n<pre><code>$string = 'TCA' \n</code></pre>\n\n<p>I want to look for my <code>$string</code> in the <code>%has</code> and if it exist,  print the value using perl like this: </p>\n\n<pre><code>TCA, S\n</code></pre>\n\n<p>How can I do that? Thank you so much!</p>\n"}, {"tags": ["perl", "inheritance", "overriding"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1442601185, "post_id": 32658755, "comment_id": 53163926, "body": "You&#39;re not! Getting a <code>1</code>, that is. You&#39;re getting <code>Can&#39;t locate object method &quot;new&quot; via package &quot;Test2&quot;</code>"}, {"owner": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1442602337, "post_id": 32658755, "comment_id": 53164565, "body": "hah, you&#39;re right... hold on"}], "answers": [{"tags": [], "owner": {"reputation": 29146, "user_id": 2616073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b0b2c38a8f7657b6504f67f714cc2f7?s=128&d=identicon&r=PG", "display_name": "dkatzel", "link": "https://stackoverflow.com/users/2616073/dkatzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1442602353, "creation_date": 1442602353, "answer_id": 32659112, "question_id": 32658755, "link": "https://stackoverflow.com/questions/32658755/perl-how-to-make-sure-overridden-method-is-called-when-accessed-from-within-the/32659112#32659112", "title": "Perl: How to make sure overridden method is called when accessed from within the base class", "body": "<p><code>new</code> doesn't mean anything in perl unless you make a function with that method name.</p>\n\n<p>You need to <code>bless</code> an object</p>\n\n<p>You can either directly <code>bless</code> an object</p>\n\n<pre><code>my $test = { };\nbless $test, \"Test2\";\n</code></pre>\n\n<p>or make a new method that does the blessing for you:</p>\n\n<pre><code>sub new{\n    my $class = shift;\n    my $test = { };\n    bless $test, $class;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "edited": false, "score": 0, "creation_date": 1442606545, "post_id": 32659166, "comment_id": 53166740, "body": "Good points -- to be honest I just hacked together this example from my much more complex actual code.  I&#39;m not really used to putting together perl bits outside of my normal context, but I&#39;m learning!  I&#39;m not sure that what you suggested will work in my original application which does have new in a base class above.  However, it does look like you answered the question the way I phrased it."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1442602571, "creation_date": 1442602571, "answer_id": 32659166, "question_id": 32658755, "link": "https://stackoverflow.com/questions/32658755/perl-how-to-make-sure-overridden-method-is-called-when-accessed-from-within-the/32659166#32659166", "title": "Perl: How to make sure overridden method is called when accessed from within the base class", "body": "<p>The problem would be in your constructor, but you don't have one so your code doesn't even do what you say it does</p>\n\n<p>You have probably written something like</p>\n\n<pre><code>sub new {\n    bless {};\n}\n</code></pre>\n\n<p>which blesses an empty hash into the <em>current</em> package. Instead you need to take the class name from the first parameter passed to the constructor, like this</p>\n\n<p>You should also avoid using capital letters in your lexical identifiers as they are reserved for global identifiers like package names. If you must use CamelCase then at least makeSureTheFirstLetterIsLowerCase. The standard for both Perl and Python is to use the much_clearer_snake_case</p>\n\n<h3>Test.pm</h3>\n\n<pre><code>package Test;\n\nuse strict;\nuse warnings;\n\nsub new {\n    my $class = shift;\n    bless {}, $class;\n}\n\nsub main {\n    my $self = shift;\n    $self-&gt;some_func();\n}\n\nsub some_func {\n    my $self = shift;\n    'Test::some_func';\n}\n</code></pre>\n\n<h3>Test2.pm</h3>\n\n<pre><code>package Test2;\n\nuse strict;\nuse warnings;\n\nuse parent 'Test';\n\nsub some_func {\n    my $self = shift;\n    'Test2::some_func';\n}\n</code></pre>\n\n<h3>main.pl</h3>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $test = Test-&gt;new;\nprint $test-&gt;main, \"\\n\";\n\n$test = Test2-&gt;new;\nprint $test-&gt;main, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>Test::some_func\nTest2::some_func\n</code></pre>\n"}], "owner": {"reputation": 6327, "user_id": 754559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62af69dc77ca52299987db4a1bee44ff?s=128&d=identicon&r=PG", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/754559/alan-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 32659166, "answer_count": 2, "score": 2, "last_activity_date": 1442606656, "creation_date": 1442600975, "last_edit_date": 1442606656, "question_id": 32658755, "link": "https://stackoverflow.com/questions/32658755/perl-how-to-make-sure-overridden-method-is-called-when-accessed-from-within-the", "title": "Perl: How to make sure overridden method is called when accessed from within the base class", "body": "<p>I have a base class which calls a method which is overridden in a child class, in Perl.  Currently, it still calls the base class version of the method, but I want it to call the base if there is one.  Here is a simplified rendition of my code:</p>\n\n<pre><code>package Test;\n\nuse strict;\nuse warnings;\n\nsub Main\n{\n    my $self = shift;\n    return $self-&gt;SomeFunc();\n}\n\nsub SomeFunc\n{\n    my $self = shift;\n    #...\n    return 1;\n}\n\npackage Test2;\n\nuse strict;\nuse warnings;\n\nuse base qw(Test);\n\nsub SomeFunc\n{\n    my $self = shift;\n    #...\n    return 0;\n}\n\npackage main;\nuse Test2;\n\nmy $test = new Test2();\nprint $test-&gt;Main();\n</code></pre>\n\n<p>and I am getting a 1 when I run this!</p>\n\n<p>PS my apologies, I'm not used to creating examples in working perl code, please forgive the obvious errors.</p>\n"}, {"tags": ["excel", "perl", "csv"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442590114, "post_id": 32655696, "comment_id": 53157964, "body": "<code>Text::CSV</code> is worth looking at. One possible cause of &#39;no input; no errors&#39; is if the loops never iterate - what values do you have for <code>$row_min</code> etc.?"}, {"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442590498, "post_id": 32655696, "comment_id": 53158206, "body": "Oops - I had accidentally overwritten the excel on a previous experiment. Restored the contents now. With my code above, I am getting an error &quot;Use of uninitialized value $csv in print at ProtonToJSON.pl line 36.&quot;  Do I need to declare this as a global variable?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442591609, "post_id": 32655696, "comment_id": 53158973, "body": "No, you already did that. It&#39;s uninitialized though, which means nothing has been assigned to it."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1442596203, "last_edit_date": 1442596203, "creation_date": 1442591831, "answer_id": 32656322, "question_id": 32655696, "link": "https://stackoverflow.com/questions/32655696/code-to-convert-xlsx-spreadsheet-to-csv-is-not-working-as-expected/32656322#32656322", "title": "Code to convert .XLSX spreadsheet to CSV is not working as expected", "body": "<p>First, $col is numeric, so you shouldn't be testing it against string column names.</p>\n\n<p>Second, you need e.g.</p>\n\n<pre><code>$col==7 || $col==9 ||...\n</code></pre>\n\n<p>As you have it, it is only testing $col eq 'A' (since that is the result of all the ||'s).</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 0, "creation_date": 1442920041, "post_id": 32659653, "comment_id": 53272704, "body": "Thanks for your update Borodin. I tested your code but unfortunately the csv file contains weird hash references like:  Spreadsheet::ParseExcel::Cell=HASH (0x2d575d0),Spreadsheet::ParseExcel::Cell=HASH (0x2d57870),Spreadsheet::ParseExcel::Cell=HASH (0x2d616c8),Spreadsheet::ParseExcel::Cell=HASH   You&#39;re right about the skipping a cell if it contains false. I don&#39;t want to do this."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "edited": false, "score": 1, "creation_date": 1442923012, "post_id": 32659653, "comment_id": 53274711, "body": "@Jamie:  Okay, I wasn&#39;t aware that the <code>get_cell</code> method returned an object, and I can&#39;t test this. I&#39;ve made a correction; please test it now"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1442922931, "last_edit_date": 1442922931, "creation_date": 1442604555, "answer_id": 32659653, "question_id": 32655696, "link": "https://stackoverflow.com/questions/32655696/code-to-convert-xlsx-spreadsheet-to-csv-is-not-working-as-expected/32659653#32659653", "title": "Code to convert .XLSX spreadsheet to CSV is not working as expected", "body": "<p>Your test</p>\n\n<pre><code>$col eq ( 'A' || 'S' || 'T' || 'AA' || 'AX' || 'BC' || 'D' || 'AN' || 'AV' )\n</code></pre>\n\n<p>is finding the first of those text strings that is <em>true</em>, which is <code>A</code>, and comparing that with <code>$col</code>, which isn't what you want at all. You would have to write</p>\n\n<pre><code>$col eq 'A' || $col eq 'S' || $col eq 'T' || $col eq 'AA' || $col eq 'AX' || $col eq 'BC' || $col eq 'D' || $col eq 'AN' || $col eq 'AV'\n</code></pre>\n\n<p>except that the module doesn't deal in column labels like that so you need to transform them to numbers</p>\n\n<p>I've written this, which should work. It first builds a hash which relates each column label to its number for the first 100 columns. Then I've used that hash to convert your list of labels to a list of column numbers, and iterated over that. (It produces <code>[1, 4, 19, 20, 27, 40, 48, 50, 55]</code> if you're interested.) It's much neater than iterating over <em>all</em> the columns and ignoring the ones you don't want</p>\n\n<p>It's not tested as I don't have a data file to test with, but it does compile</p>\n\n<p>I'm not at all sure about your code that skips a cell if it contains a <em>false</em> value. That is going to skip empty cells and cells containing the number zero, and it will leave the columns in your CSV file misaligned as a result. The part of my code that does that is <code>@csv_row = grep $_, @csv_row</code> and you may want to remove that if you agree with me</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Spreadsheet::ParseXLSX;\n\nmy ($source, $dest) = qw/ headers.xlsx headers.csv /;\n\nmy $excel = Spreadsheet::ParseXLSX-&gt;new;\nmy $workbook = $excel-&gt;parse($source);\nmy $worksheet = $workbook-&gt;worksheet(0);\nmy ($row_min, $row_max) = $worksheet-&gt;row_range;\n\nmy %col_numbers;\nfor ( my ($n, $name) = (1, 'A'); $n &lt;= 100; ++$n, ++$name ) {\n    $col_numbers{$name} = $n;\n}\n\nmy @cols = sort { $a &lt;=&gt; $b }\n        map $col_numbers{$_}, qw/ A  S  T  AA  AX  BC  D  AN  AV /;\n\nopen my $fh, '&gt;', $dest\n        or die qq{Unable to open \"$dest\" for output: $!};\n\nfor my $row ( $row_min .. $row_max ) {\n    my @csv_row = map $worksheet-&gt;get_cell($row, $_)-&gt;unformatted, @cols;\n    print $fh join(',', @csv_row), \"\\n\";\n}\n\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4389448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f039a047bd39aa9f20712d5eceb46df9?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4389448/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 32659653, "answer_count": 2, "score": 0, "last_activity_date": 1442922931, "creation_date": 1442589916, "last_edit_date": 1442591607, "question_id": 32655696, "link": "https://stackoverflow.com/questions/32655696/code-to-convert-xlsx-spreadsheet-to-csv-is-not-working-as-expected", "title": "Code to convert .XLSX spreadsheet to CSV is not working as expected", "body": "<p>I have an Excel spreadsheet with a number of columns and rows. I want to turn this into a CSV, but only include certain columns in the CSV.   </p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Spreadsheet::ParseXLSX;\nuse Excel::Writer::XLSX;\n\nmy $excel = Spreadsheet::ParseXLSX -&gt; new();\nmy $workbook = $excel-&gt;parse('headers.xlsx');\nmy $worksheet = $workbook-&gt;worksheet(0);\nmy $destination = 'csv.txt';\nmy $csv;\nmy ($row_min, $row_max) = $worksheet-&gt;row_range();\nmy ($col_min, $col_max) = $worksheet-&gt;col_range();\n\nfor my $row ( $row_min .. $row_max ) {\n    for my $col ( $col_min .. $col_max ) {\n\n        # my $cell = $worksheet&gt;{Cells}[$row][$col];\n        my $cell = $worksheet-&gt;get_cell( $row, $col );\n        if ($cell) {\n            if ($col eq ( 'A' || 'S' || 'T' || 'AA' || 'AX' || 'BC' || 'D' || 'AN' || 'AV' )) {\n                if ($col == $col_max) {\n                    $csv .= $cell-&gt;Value . \"\\n\";\n                    } else {\n                    $csv .= $cell-&gt;Value . \",\";\n                }\n            }\n        }\n    }\n}\n\nopen (my $fh, '&gt;', $destination) or die '$! error trying to write';\nprint $fh $csv;\nclose ($fh);\n</code></pre>\n\n<p>I don't get any errors or warnings when I run it, which doesn't help to identify the problem.</p>\n\n<p>Can anyone identify any errors?</p>\n"}, {"tags": ["perl", "memory-management"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1442588237, "post_id": 32655049, "comment_id": 53156759, "body": "Can your show your attempt from 2?"}, {"owner": {"reputation": 55, "user_id": 5202634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d6203850639313bdb68226463685af2?s=128&d=identicon&r=PG", "display_name": "Albert", "link": "https://stackoverflow.com/users/5202634/albert"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1442819449, "post_id": 32655049, "comment_id": 53222337, "body": "@HunterMcMillen It was something like what Sobrique suggested in his answer. But I could&#39;nt make it work."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1442590518, "post_id": 32655658, "comment_id": 53158223, "body": "Hmm, this is perhaps a bit more about applying a conditional to the modules being loaded then."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1442594922, "post_id": 32655658, "comment_id": 53160739, "body": "<i>&quot;<code>use if</code> doesn&#39;t seem to like lexical variables&quot;</i> That&#39;s not true. The tricky part is getting a lexical variable declared and defined at compile time <i>before</i> the <code>use if</code>.  Something like <code>my $wanted; BEGIN { $wanted = 1 } use if $wanted, &#39;My::Module&#39;</code> will work fine"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1442597785, "post_id": 32655658, "comment_id": 53162196, "body": "but nothing passed to import is going to be available at compile time, so <code>use if</code> isn&#39;t going to work here at all"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1442598886, "post_id": 32655658, "comment_id": 53162707, "body": "@ysth Ah, good point, I missed the part in the question about wanting to do this with import."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1442591971, "last_edit_date": 1495541653, "creation_date": 1442589809, "answer_id": 32655658, "question_id": 32655049, "link": "https://stackoverflow.com/questions/32655049/how-to-dynamically-avoid-use-module-to-reduce-memory-footprint/32655658#32655658", "title": "How to dynamically avoid &#39;use module&#39; to reduce memory footprint", "body": "<p>What I think you're looking for is perhaps <a href=\"http://perldoc.perl.org/functions/require.html\" rel=\"nofollow noreferrer\"><code>require</code></a> - require is evaluated later so you can use it successfully in a conditional:</p>\n\n<pre><code>if ( $somecondition ) {\n    require Some::Module;\n}\n</code></pre>\n\n<p>Of course, you won't be able to do <code>Some::Module-&gt;new()</code> if you've not loaded it - there's just no way around that. </p>\n\n<p>Where <code>use</code> is triggered at compile time (and thus will trigger warnings under <code>perl -c</code> if the module is unavailable) <code>require</code> happens are runtime. You should probably test if require was successful as a result. </p>\n\n<p>e.g.:</p>\n\n<pre><code>if ( $somecondition ) {\n    eval { require Some::Module };\n    warn \"Module Not loaded: \".$@ if $@;\n}\n</code></pre>\n\n<p>Otherwise you may be looking for:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3880616/is-it-possible-to-pass-parameters-to-a-perl-module-loading\">Is it possible to pass parameters to a Perl module loading?</a></p>\n\n<pre><code>#!/usr/bin/perl\n\npackage MyObject;\n\nsub import {\n    my ( $package, $msg ) = @_;\n    if ( defined $msg and $msg eq \"NO_USE\" ) {\n        #don't load module\n    }\n    else {\n        require XML::Twig;\n    }\n}\n\n1;\n</code></pre>\n\n<p>And then call:</p>\n\n<pre><code>use if $somecondition, MyObject =&gt; ( 'NO_USE'  );\n</code></pre>\n\n<p>Or just simpler:</p>\n\n<pre><code>use MyObject qw( NO_USE );\n</code></pre>\n\n<p>Edit:</p>\n\n<p>After a bit of fiddling with 'use' - there's a couple of gotchas, in that <code>use if</code> doesn't seem to like lexical variables. So you need to do something like:</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage MyObject;\nuse strict;\nuse warnings;\n\nour $import_stuff = 1;\n\nsub import {\n    my ( $package, $msg ) = @_;\n    if ( $msg and $msg eq \"NO_USE\" ) {\n        $import_stuff = 0;\n    }\n    use if $import_stuff, 'Text::CSV';\n}\n\n1;\n</code></pre>\n\n<p>And call:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse MyObject qw( NO_USE );\nuse Data::Dumper;\n\nprint Dumper \\%INC;\nmy $test = Text::CSV -&gt; new();\n</code></pre>\n\n<p>(Which errors if you set <code>NO_USE</code> and doesn't otherwise). </p>\n\n<p>I <em>think</em> that's an artifact of <code>use</code> being a compile time directive still, so requires a (package scoped) condition. </p>\n"}, {"tags": [], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "is_accepted": true, "score": 4, "last_activity_date": 1442592631, "last_edit_date": 1442592631, "creation_date": 1442592249, "answer_id": 32656465, "question_id": 32655049, "link": "https://stackoverflow.com/questions/32655049/how-to-dynamically-avoid-use-module-to-reduce-memory-footprint/32656465#32656465", "title": "How to dynamically avoid &#39;use module&#39; to reduce memory footprint", "body": "<p>The native pragma <a href=\"http://perldoc.perl.org/autouse.html\" rel=\"nofollow\"><code>autouse</code></a> will load modules needed when plain <em>subroutines</em> are called:</p>\n\n<pre><code>use autouse 'My::Module::A' =&gt; qw(a_sub);\n# ... later ...\na_sub \"this will dynamically load My::Module::A\";\n</code></pre>\n\n<p>For proper OO methods, <a href=\"http://search.cpan.org/perldoc?Class::Autouse\" rel=\"nofollow\"><code>Class::Autouse</code></a> will load modules (classes) when <em>methods</em> are called:</p>\n\n<pre><code>use Class::Autouse;\nClass::Autouse-&gt;autouse( 'My::Module::A' );\n# ... later ...\nprint My::Module::A-&gt;a_method('this will dynamically load My::Module::A');\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5202634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d6203850639313bdb68226463685af2?s=128&d=identicon&r=PG", "display_name": "Albert", "link": "https://stackoverflow.com/users/5202634/albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 32656465, "answer_count": 2, "score": 2, "last_activity_date": 1442592631, "creation_date": 1442588137, "question_id": 32655049, "link": "https://stackoverflow.com/questions/32655049/how-to-dynamically-avoid-use-module-to-reduce-memory-footprint", "title": "How to dynamically avoid &#39;use module&#39; to reduce memory footprint", "body": "<p>Given the following module:</p>\n\n<pre><code>package My::Object;\n\nuse strict;\nuse warnings;\n\nuse My::Module::A;\nuse My::Module::B;\nuse My::Module::C;\nuse My::Module::D;\n\n...\n1;\n</code></pre>\n\n<p>I would like to be able to call My::Object in the next 2 scenarios:</p>\n\n<ol>\n<li><p>Normal use</p>\n\n<p>use My::Object;</p>\n\n<p>My::Module->new();</p></li>\n<li><p>Reduced memory use. Call the same object but with a condition or a flag telling the object to skip the use modules to reduce memory usage. Somehow like:</p>\n\n<p>use My::Object -noUse;</p>\n\n<p>My::Module->new();</p></li>\n</ol>\n\n<p>If tried the <a href=\"http://perldoc.perl.org/if.html\" rel=\"nofollow\">Perl if condition</a> without success.</p>\n\n<p>The problem I'm having it's with big objects with a lot of uses, then only loading this object consumes a lot of RAM. I know I can refactor them but it will be wonderful if somehow I can avoid these uses when I'm sure none of them is used on the given scenario.</p>\n\n<p>One solution will be to replace all uses with requires on all places when the modules are needed, but I don't see convenient when some of them are used in a lot of methods.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["linux", "image", "perl", "file", "raw-data"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1442567909, "post_id": 32647864, "comment_id": 53143846, "body": "Not sure, but also seems geared up to MIME types, where <code>file</code> does mor ."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442589620, "post_id": 32647864, "comment_id": 53157655, "body": "Are you referring to the direction of the pipe symbol? Because I&#39;m pretty sure that&#39;s the right way around. (opening as <code>-|</code> means I can&#39;t then <code>print</code> to it)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 11, "last_activity_date": 1442566623, "creation_date": 1442566623, "answer_id": 32647864, "question_id": 32647770, "link": "https://stackoverflow.com/questions/32647770/applying-file-linux-command-to-binary-buffer-in-perl/32647864#32647864", "title": "Applying &quot;file&quot; linux command to binary buffer in Perl", "body": "<p><code>file</code> can read data from <code>STDIN</code>. So the easiest way might be:</p>\n\n<pre><code>open ( my $file_cmd, '|-', 'file -' ) or die $!;\nprint {$file_cmd} $img;\nprint &lt;$file_cmd&gt;;\n</code></pre>\n\n<p>There appears to be a module - <code>File::Type</code> which does this. My quick testing implies it's not as smart as <code>file</code> making it somewhat less useful. </p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1442582096, "post_id": 32652761, "comment_id": 53152460, "body": "You&#39;ve also got <code>&#47;usr&#47;share&#47;misc&#47;magic</code> you can refer to on *nix systems. Which is what <code>file</code> does."}], "tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1442581445, "creation_date": 1442581445, "answer_id": 32652761, "question_id": 32647770, "link": "https://stackoverflow.com/questions/32647770/applying-file-linux-command-to-binary-buffer-in-perl/32652761#32652761", "title": "Applying &quot;file&quot; linux command to binary buffer in Perl", "body": "<p>Here's another approach: A Jpeg start with \\xFF \\xD8, GIFs start with \"GIF89a\" or \"GIF87a\" and PNGs start with these decimals: 137 80 78 71 13 10 26 10.</p>\n"}], "owner": {"reputation": 5616, "user_id": 1477299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rQIK0.jpg?s=128&g=1", "display_name": "rlib", "link": "https://stackoverflow.com/users/1477299/rlib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 32647864, "answer_count": 2, "score": 2, "last_activity_date": 1442581445, "creation_date": 1442566291, "question_id": 32647770, "link": "https://stackoverflow.com/questions/32647770/applying-file-linux-command-to-binary-buffer-in-perl", "title": "Applying &quot;file&quot; linux command to binary buffer in Perl", "body": "<p>I have image in buffer after retrieving it from the Web:</p>\n\n<pre><code>my $img = $webapi-&gt;get('http://myserver.com/image/123423.jpg');\n</code></pre>\n\n<p>After the call, raw data is in the $img. I want to make sure the data represents image and not text, so I save it to a file on disk and run file command:</p>\n\n<pre><code>open my $fh, '&gt;', '/tmp/images/rawdata.bin';\nprint $fh $img;\nclose $fh;\n$res = `file /tmp/images/rawdata.bin`;\nif ($res =~ 'GIF|JPEG|PNG') print \"Image\";\nelse \"Not image\";\n</code></pre>\n\n<p>How do I avoid saving raw data to file and do the work in memory?</p>\n"}, {"tags": ["perl", "ssh", "expect"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1442566780, "post_id": 32646885, "comment_id": 53143153, "body": "Did you try to remove the <code>\\r</code> from the command line and keep only <code>\\n</code>?"}, {"owner": {"reputation": 1779, "user_id": 2214576, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ca0629dcdb8d4d3747c78674e90d5203?s=128&d=identicon&r=PG", "display_name": "Randomly Named User", "link": "https://stackoverflow.com/users/2214576/randomly-named-user"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1442568693, "post_id": 32646885, "comment_id": 53144365, "body": "Yeah, still the same problem."}, {"owner": {"reputation": 14947, "user_id": 900078, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/83stK.jpg?s=128&g=1", "display_name": "pynexj", "link": "https://stackoverflow.com/users/900078/pynexj"}, "edited": false, "score": 0, "creation_date": 1442586302, "post_id": 32646885, "comment_id": 53155327, "body": "Maybe <code>&gt;&gt; logfile.log 2&gt;&amp;1</code>?"}, {"owner": {"reputation": 586, "user_id": 5216673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5d8b8e0713574ae9a4836651a39e56?s=128&d=identicon&r=PG", "display_name": "thrig", "link": "https://stackoverflow.com/users/5216673/thrig"}, "edited": false, "score": 0, "creation_date": 1442592023, "post_id": 32646885, "comment_id": 53159229, "body": "That unchecked <code>cd</code> call might be hilarious if the <code>cd</code> ever fails and then the program runs who knows where doing who knows what..."}], "owner": {"reputation": 1779, "user_id": 2214576, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ca0629dcdb8d4d3747c78674e90d5203?s=128&d=identicon&r=PG", "display_name": "Randomly Named User", "link": "https://stackoverflow.com/users/2214576/randomly-named-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 392, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1442563507, "creation_date": 1442563507, "question_id": 32646885, "link": "https://stackoverflow.com/questions/32646885/execute-perl-script-using-expect-and-redirect-output-to-file", "title": "Execute perl script using expect and redirect output to file", "body": "<p>I need to execute a perl script in a remote machine and redirect the output of that script into a file on that machine. After an <code>ssh</code> into the remote machine and collecting the expect session in <code>$exp</code>, this is what I'm currently doing:</p>\n\n<pre><code>$exp-&gt;send(\"cd $HOME_PATH/$script_directory; perl $program\\_$number $args &gt;&gt; logfile.log\\r\\n\"); \n$match = $exp-&gt;expect(300,'-re','$script_directory$prompt');\n$exp-&gt;soft_close();\n</code></pre>\n\n<p>The script executes as expected, but it isn't redirecting the output to <code>logfile.log</code>.</p>\n\n<p>Instead, after the execution of the script, this is what I see:</p>\n\n<pre><code>nce.logkeAus:/root/user1/home/scripts#  &gt;&gt; insta\nroot@MukeAus:/root/user1/home/scripts# [root@ubuntu modules]$\n</code></pre>\n\n<p>Where am I going wrong?</p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1442574715, "post_id": 32646360, "comment_id": 53147812, "body": "Is it the correct Perl code? Seems you are using the <code>add</code> method?"}], "answers": [{"comments": [{"owner": {"reputation": 14588, "user_id": 3166303, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/877b076ec96e4ab48f7f4567c1ea2741?s=128&d=identicon&r=PG", "display_name": "leeor", "link": "https://stackoverflow.com/users/3166303/leeor"}, "reply_to_user": {"reputation": 407, "user_id": 2603956, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/06364fd34011b6708fba5c94b9fb7e4d?s=128&d=identicon&r=PG&f=1", "display_name": "Buboon", "link": "https://stackoverflow.com/users/2603956/buboon"}, "edited": false, "score": 1, "creation_date": 1442563767, "post_id": 32646469, "comment_id": 53141354, "body": "see this <a href=\"http://stackoverflow.com/a/2212689/3166303\">stackoverflow.com/a/2212689/3166303</a> Make sure your strings are in fact identical before you hash"}, {"owner": {"reputation": 407, "user_id": 2603956, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/06364fd34011b6708fba5c94b9fb7e4d?s=128&d=identicon&r=PG&f=1", "display_name": "Buboon", "link": "https://stackoverflow.com/users/2603956/buboon"}, "edited": false, "score": 0, "creation_date": 1442659553, "post_id": 32646469, "comment_id": 53180132, "body": "Yes, input data was a different."}], "tags": [], "owner": {"reputation": 14588, "user_id": 3166303, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/877b076ec96e4ab48f7f4567c1ea2741?s=128&d=identicon&r=PG", "display_name": "leeor", "link": "https://stackoverflow.com/users/3166303/leeor"}, "is_accepted": true, "score": 5, "last_activity_date": 1442562019, "creation_date": 1442562019, "answer_id": 32646469, "question_id": 32646360, "link": "https://stackoverflow.com/questions/32646360/what-is-the-php-analogue-of-the-md5-function-in-perl/32646469#32646469", "title": "What is the PHP analogue of the md5 function in Perl?", "body": "<p>Looks like the perl version you are using outputs in binary format: </p>\n\n<p><a href=\"http://perldoc.perl.org/Digest/MD5.html\">http://perldoc.perl.org/Digest/MD5.html</a></p>\n\n<pre><code>md5($data,...)\n</code></pre>\n\n<blockquote>\n  <p>This function will concatenate all arguments, calculate the MD5 digest\n  of this \"message\", and return it in binary form. The returned string\n  will be 16 bytes long.</p>\n</blockquote>\n\n<p>Try this in PHP:</p>\n\n<pre><code>$hash  = md5($str1.$str2, true);\n</code></pre>\n\n<p>See the php <a href=\"http://php.net/manual/en/function.md5.php\">docs</a> for details.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1442588713, "last_edit_date": 1442588713, "creation_date": 1442588362, "answer_id": 32655135, "question_id": 32646360, "link": "https://stackoverflow.com/questions/32646360/what-is-the-php-analogue-of-the-md5-function-in-perl/32655135#32655135", "title": "What is the PHP analogue of the md5 function in Perl?", "body": "<p>It's simply</p>\n\n<pre><code>$hash  = md5($str1.$str2, true);\n</code></pre>\n\n<p>You claim it's not equivalent, but the following shows it is:</p>\n\n<pre><code>$ cat x.pl\nuse Digest::MD5 qw( md5 );\n\nmy $str1 = join '', map chr, 0x00..0x7F;\nmy $str2 = join '', map chr, 0x80..0xFF;\n\nprint md5($str1, $str2);\n\n$ perl x.pl | od -t x1\n0000000 e2 c8 65 db 41 62 be d9 63 bf aa 9e f6 ac 18 f0\n0000020\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$ cat x.php\n&lt;?php\n\n$str1 = join('', array_map(\"chr\", range(0x00, 0x7F)));\n$str2 = join('', array_map(\"chr\", range(0x80, 0xFF)));\n\necho md5($str1.$str2, true);\n\n?&gt;\n\n$ php x.php | od -t x1\n0000000 e2 c8 65 db 41 62 be d9 63 bf aa 9e f6 ac 18 f0\n0000020\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$ diff -q &lt;( perl x.pl ) &lt;( php x.php ) &amp;&amp; echo identical || echo different\nidentical\n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 2603956, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/06364fd34011b6708fba5c94b9fb7e4d?s=128&d=identicon&r=PG&f=1", "display_name": "Buboon", "link": "https://stackoverflow.com/users/2603956/buboon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 32646469, "answer_count": 2, "score": 3, "last_activity_date": 1442588713, "creation_date": 1442561646, "last_edit_date": 1442574638, "question_id": 32646360, "link": "https://stackoverflow.com/questions/32646360/what-is-the-php-analogue-of-the-md5-function-in-perl", "title": "What is the PHP analogue of the md5 function in Perl?", "body": "<p>I have a Perl script and I need to convert it to PHP.\nWhat is PHP analogue of the <code>md5</code> function in Perl?</p>\n\n<p>Perl script:</p>\n\n<pre><code>$hash  = md5($str1, $str2); \n</code></pre>\n\n<p>PHP script:</p>\n\n<pre><code> $hash  = md5($str1.$str2);\n</code></pre>\n\n<p>I have different values in <code>$hash</code>.\nHow I can get same value of <code>$hash</code> in PHP?</p>\n\n<p>Thx.</p>\n"}, {"tags": ["perl", "local", "perl-module"], "comments": [{"owner": {"reputation": 2747, "user_id": 110772, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5814a79c67340b6d63a9e3b4dda17f4e?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/110772/richard"}, "edited": false, "score": 0, "creation_date": 1442556812, "post_id": 32644828, "comment_id": 53137753, "body": "<a href=\"http://perlmaven.com/how-to-create-a-perl-module-for-code-reuse\" rel=\"nofollow noreferrer\">perlmaven.com/how-to-create-a-perl-module-for-code-reuse</a>"}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 1, "creation_date": 1442581368, "post_id": 32644828, "comment_id": 53151993, "body": "Total side-comment: Be aware that <code>libtermkey</code>, and by implication, <code>Term::TermKey</code> are at an evolutionary dead-end. There&#39;s not going to be any more development on it any more. Instead, it&#39;s being merged into <code>libtickit</code>. So if you&#39;re intending to be writing new programs, you might want to look into <code>Tickit</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5349135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1ab35c8c34abf79502581c62b49863?s=128&d=identicon&r=PG&f=1", "display_name": "crackulator", "link": "https://stackoverflow.com/users/5349135/crackulator"}, "edited": false, "score": 0, "creation_date": 1442596691, "post_id": 32645532, "comment_id": 53161619, "body": "So what is the suggested course of action? Sounds like it&#39;s just too difficult to try to use such a library in anything but a single-use situation. I don&#39;t mind expecting users to install something, but within reason..."}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1442620977, "post_id": 32645532, "comment_id": 53171713, "body": "More information as to what platform you&#39;re using, etc. might help us suggest something."}, {"owner": {"reputation": 21, "user_id": 5349135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1ab35c8c34abf79502581c62b49863?s=128&d=identicon&r=PG&f=1", "display_name": "crackulator", "link": "https://stackoverflow.com/users/5349135/crackulator"}, "edited": false, "score": 0, "creation_date": 1442882766, "post_id": 32645532, "comment_id": 53256808, "body": "Target platform? Any. I&#39;m testing on Linux but I was hoping I could make a perl program that uses keystrokes that could be used by anyone. What more information would be helpful?"}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": false, "score": 8, "last_activity_date": 1442559018, "last_edit_date": 1442559018, "creation_date": 1442558708, "answer_id": 32645532, "question_id": 32644828, "link": "https://stackoverflow.com/questions/32644828/perl-how-to-reference-a-module-installed-locally/32645532#32645532", "title": "Perl - How to reference a module installed locally?", "body": "<p>\"Can't locate loadable object for module\" does not mean that Perl can't find Term/TermKey.pm.  It means that it can't find Term/TermKey.so (or whatever shared libraries are called on your platform).</p>\n\n<p><a href=\"https://metacpan.org/pod/Term::TermKey\">Term::TermKey</a> is not a pure-Perl module.  Instead, it includes <a href=\"http://perldoc.perl.org/perlxs.html\">XS</a> code, which needs to be compiled into C and then into a shared library.  Also, that library links to <a href=\"http://www.leonerd.org.uk/code/libtermkey/\">libtermkey</a>, which must also be installed on your system.</p>\n\n<p>This makes it much harder to move the module from system to system.  An XS module compiled for Perl 5.18.2 won't work with 5.20.0; it has to be recompiled.  You can upgrade minor releases (like from 5.18.0 to 5.18.2) without having to recompile, although going the other direction (from 5.18.2 to 5.18.0) isn't guaranteed to work.</p>\n\n<p>So, you might be able to get this to work if all the machines are running the same version of Perl on the same OS with the same libraries installed.  The easiest way (if it works at all) would be to install <a href=\"https://metacpan.org/pod/cpanm\">cpanm</a> and <a href=\"https://metacpan.org/pod/local::lib\">local::lib</a> and do something like:</p>\n\n<pre><code>cpanm --local-lib some-dir Term::TermKey\n</code></pre>\n\n<p>Then you could copy <code>some-dir</code> to another machine (with the caveats listed above).  It isn't necessary to install local::lib on the other machines; you can just</p>\n\n<pre><code>use lib 'some-dir/lib/perl5';\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5349135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1ab35c8c34abf79502581c62b49863?s=128&d=identicon&r=PG&f=1", "display_name": "crackulator", "link": "https://stackoverflow.com/users/5349135/crackulator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1537404400, "creation_date": 1442555949, "last_edit_date": 1537404400, "question_id": 32644828, "link": "https://stackoverflow.com/questions/32644828/perl-how-to-reference-a-module-installed-locally", "title": "Perl - How to reference a module installed locally?", "body": "<p>I have a module Term:TermKey, which is in a file TermKey.pm. I don't want to install it into my perl; I want it to be referenced locally so that the script can be moved to other machines without messing about with each perl installation. How do I do this? None of the recommendations I have seen online works. I always get some form of:</p>\n\n<pre><code>Can't locate loadable object for module Term::TermKey in @INC (@INC   contains: /home/fritz/multi.kodis/Term /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/site_perl .) at test.pl line 6.\nCompilation failed in require at test.pl line 6.\nBEGIN failed--compilation aborted at test.pl line 6.\n</code></pre>\n\n<p>To test this. I placed copies of TermKey.pm in all of:</p>\n\n<pre><code>./TermKey.pm\n./Term/TermKey.pm\n./Term/Term/TermKey.pm\n</code></pre>\n\n<p>(just as a test)</p>\n\n<p>Yet it doesn't work for any of:</p>\n\n<pre><code>use lib '';\nuse Term::TermKey;\n\nuse lib '.';\nuse Term::TermKey;\n\nuse lib './';\nuse Term::TermKey;\n\nuse lib './Term';\nuse Term::TermKey;\n\nuse lib './Term/';\nuse Term::TermKey;\n\nuse lib '/home/[user]/[project]'\nuse Term::TermKey;\n\nuse lib '/home/[user]/[project]/Term'\nuse Term::TermKey;\n\nuse FindBin;                 \nuse lib \"$FindBin::RealBin\"; \nuse Term::TermKey;\n</code></pre>\n\n<p>What the heck? This should be easy, what am I missing?</p>\n"}, {"tags": ["arrays", "perl", "reference", "outlook"], "answers": [{"comments": [{"owner": {"reputation": 376, "user_id": 5349028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5125b69d1b63930f9de4d2490bc1fba1?s=128&d=identicon&r=PG&f=1", "display_name": "OneK", "link": "https://stackoverflow.com/users/5349028/onek"}, "edited": false, "score": 0, "creation_date": 1442559773, "post_id": 32645427, "comment_id": 53139162, "body": "Thanks, this takes me one step further. Now it seems as if the output is the encoded (...YXJlYXN0LWZvbn...) MIME part. How can i get it decoded?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 376, "user_id": 5349028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5125b69d1b63930f9de4d2490bc1fba1?s=128&d=identicon&r=PG&f=1", "display_name": "OneK", "link": "https://stackoverflow.com/users/5349028/onek"}, "edited": false, "score": 0, "creation_date": 1442559849, "post_id": 32645427, "comment_id": 53139204, "body": "Really a separate question.  Looks like <code>base64</code> but your snippet is too limited to really tell. <a href=\"http://perldoc.perl.org/MIME/Base64.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/MIME/Base64.html</a>"}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 1, "last_activity_date": 1442558361, "creation_date": 1442558361, "answer_id": 32645427, "question_id": 32644696, "link": "https://stackoverflow.com/questions/32644696/reading-outlook-msg-in-perl/32645427#32645427", "title": "Reading Outlook .msg in Perl", "body": "<p><code>$mime-&gt;as_string</code> returns the value you want to print, but you don't do anything with it, and then instead print the unchanged <code>$mime</code> handle.  You want <code>print $mime-&gt;as_string;</code></p>\n\n<p>I believe the code should also display <code>Useless use of as_string in void context</code> or similar with <code>use warnings;</code></p>\n"}], "owner": {"reputation": 376, "user_id": 5349028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5125b69d1b63930f9de4d2490bc1fba1?s=128&d=identicon&r=PG&f=1", "display_name": "OneK", "link": "https://stackoverflow.com/users/5349028/onek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 32645427, "answer_count": 1, "score": 2, "last_activity_date": 1443119126, "creation_date": 1442555300, "last_edit_date": 1443119126, "question_id": 32644696, "link": "https://stackoverflow.com/questions/32644696/reading-outlook-msg-in-perl", "title": "Reading Outlook .msg in Perl", "body": "<p>I am having problems trying to read an Outlook Email (Unicode) .msg file in Perl. Every other day i get an E-Mail with information which i have to put into another File. I'd like to automate this process.</p>\n\n<p>Basically i have limited programming skills and have just started to learn Perl specifically for this task. </p>\n\n<p>This is the part of my program trying to read the mail. So far did the Email::Outlook::Message from <a href=\"http://search.cpan.org/~mvz/Email-Outlook-Message-0.918/lib/Email/Outlook/Message.pm\" rel=\"nofollow\">perlmonks</a> get me:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Email::Outlook::Message;\nuse Email::MIME;\n\nmy $sourceDir = \"c:/temp\";\n\nopen_msg(\"test.msg\");\n\nsub open_msg {\n   my $verbose = 0;\n   my $msgFile = shift;\n   my $origMsg = new Email::Outlook::Message \"$sourceDir/$msgFile\", $verbose or die \"$!\";\n   my $mime = $origMsg-&gt;to_email_mime;\n   $mime-&gt;as_string;\n   return ($origMsg);\n}\n</code></pre>\n\n<p>I am able to print the encoded hash, but i don't know how i can store the decoded text of the body in an array?</p>\n\n<p>I am glad for every bit of help i can get.</p>\n\n<p>Edit: i figured i change my initial question  a bit to avoid posting a nearly equal question.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 0, "last_activity_date": 1442539411, "creation_date": 1442539411, "answer_id": 32642430, "question_id": 32642383, "link": "https://stackoverflow.com/questions/32642383/regex-whitespace-to-anchor-s-consumes-line-feed/32642430#32642430", "title": "Regex Whitespace to Anchor (\\s*$) Consumes Line Feed", "body": "<p><code>\\s</code> matches newlines and <code>$</code> matches end of input (after the very last character)</p>\n\n<p>Change you regex to match only non-newline whitespace (eg spaces and tabs):</p>\n\n<pre><code>perl -pe 's/(\\.\\d{4})\\d+[ \\t]*$/\\1/'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 899, "user_id": 3666560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4vat.jpg?s=128&g=1", "display_name": "Luv2code", "link": "https://stackoverflow.com/users/3666560/luv2code"}, "edited": false, "score": 0, "creation_date": 1442544297, "post_id": 32642483, "comment_id": 53134179, "body": "Bingo!  Lazy quantifier worked like a charm.  I thought <code>$</code> always preceded the final newline, so in multi-line mode it would be end-of-string, but if in single line mode, it would anchor ahead (west of) the LF.  Thank you.  This was helpful."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1442696644, "post_id": 32642483, "comment_id": 53192020, "body": "Re &quot;thus guaranteeing that it won&#39;t eat up the newline&quot;, non-greediness normally makes no such guarantees; it&#39;s so frequently misused! It&#39;ll will in this very specific case, though. As such, it&#39;s a very good practice to avoid except as an optimisation"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 3, "last_activity_date": 1442539891, "creation_date": 1442539891, "answer_id": 32642483, "question_id": 32642383, "link": "https://stackoverflow.com/questions/32642383/regex-whitespace-to-anchor-s-consumes-line-feed/32642483#32642483", "title": "Regex Whitespace to Anchor (\\s*$) Consumes Line Feed", "body": "<p><code>$</code> matches in <em>either</em> of two places: at the end of the string, or immediately before a newline at the end of the string.</p>\n\n<p>A newline is a kind of whitespace, so <code>\\s</code> matches it. So your <code>\\s*</code> consumes any trailing whitespace <em>including</em> the newline, and since <code>$</code> matches at end of string even if there's not a newline, no backtrack is forced.</p>\n\n<p>You could use a non-greedy match <code>\\s*?</code> to match as little whitespace as possible, thus guaranteeing that it won't eat up the newline that <code>$</code> is prepared to ignore.</p>\n\n<p>Or you could match any whitespace that isn't a newline, namely <code>[^\\S\\n]</code> (if that seems weird, think about De Morgan's law \u2014 NOT ((NOT whitespace) OR newline) == whitespace AND (NOT newline)</p>\n"}], "owner": {"reputation": 899, "user_id": 3666560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4vat.jpg?s=128&g=1", "display_name": "Luv2code", "link": "https://stackoverflow.com/users/3666560/luv2code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1442539891, "creation_date": 1442538953, "question_id": 32642383, "link": "https://stackoverflow.com/questions/32642383/regex-whitespace-to-anchor-s-consumes-line-feed", "title": "Regex Whitespace to Anchor (\\s*$) Consumes Line Feed", "body": "<p>By default, the end-of-line anchor is supposed to occupy the imaginary position between the last character and the line feed.\nWhy does '\\s*$' consume the line feed in the following example?</p>\n\n<pre><code>perl -pe 's/(\\.\\d{4})\\d+\\s*$/\\1/'\n</code></pre>\n\n<p>The objective of the above substitution is to truncate digit.5+digits to digit.4digits<br>\ne.g.:  <code>123.54321 -&gt; 123.5432</code></p>\n\n<p>I don't want to waste time transforming \".5+digits non-digits\" (e.g.:  5.12345 blah) because it will just fail pre-load validation anyway.</p>\n\n<pre><code>/home/mlibby&gt; echo -e '38492.38945\\n5.12345 blah\\n624.54321  \\n9.325437' | perl -pe 's/(\\.\\d{4})\\d+$/\\1/'\n38492.3894\n5.12345 blah\n624.54321\n9.3254\n</code></pre>\n\n<p>However, I <em>do</em> want to transform \".5+digits whitespace\" (e.g.:  624.54321   ) because trailing whitespace is valid, but should be trimmed.\nSo after I consume 5th-to-many digits, I say <code>\\s*$</code> consume zero-or-more whitespace up to the end-of-subject anchor.</p>\n\n<pre><code>/home/mlibby&gt; echo -e '38492.38945\\n5.12345 blah\\n624.54321  \\n9.325437' | perl -pe 's/(\\.\\d{4})\\d+\\s*$/\\1/'\n38492.38945.12345 blah\n624.54329.3254/home/mlibby&gt;\n</code></pre>\n\n<p>So, why is the above search pattern consuming the line feed, causing the substitution to remove LF and ultimately truncate lines?</p>\n\n<p>Granted, I can change my substitution to <code>\\1\\n</code>, but the point of this post is to <em>understand</em> what's going on here.  By default, <code>$</code> should anchor west of the line feed.  What's going on here?</p>\n\n<p>FYI:  Perl version 5.8.8 on RHEL 5.8</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 4422, "user_id": 446140, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/386186a317b61bfc2caa5e7f289c5418?s=128&d=identicon&r=PG", "display_name": "reox", "link": "https://stackoverflow.com/users/446140/reox"}, "is_accepted": true, "score": 0, "last_activity_date": 1442651544, "creation_date": 1442651544, "answer_id": 32666065, "question_id": 32639655, "link": "https://stackoverflow.com/questions/32639655/can-i-unown-a-ticket-in-rt4-in-a-script/32666065#32666065", "title": "Can i unown a ticket in RT4 in a script?", "body": "<p>Found the answer here: <a href=\"http://lists.bestpractical.com/pipermail/rt-users/2009-September/061521.html\" rel=\"nofollow\">http://lists.bestpractical.com/pipermail/rt-users/2009-September/061521.html</a></p>\n\n<p>You can force the owner of a ticket by simply using:</p>\n\n<pre><code>$ticket-&gt;SetOwner(10, 'Force');\n</code></pre>\n"}], "owner": {"reputation": 4422, "user_id": 446140, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/386186a317b61bfc2caa5e7f289c5418?s=128&d=identicon&r=PG", "display_name": "reox", "link": "https://stackoverflow.com/users/446140/reox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 32666065, "answer_count": 1, "score": -2, "last_activity_date": 1487984781, "creation_date": 1442522673, "last_edit_date": 1487984781, "question_id": 32639655, "link": "https://stackoverflow.com/questions/32639655/can-i-unown-a-ticket-in-rt4-in-a-script", "title": "Can i unown a ticket in RT4 in a script?", "body": "<p>I try to create a script that will change the owner based on which queue it is moved. But unfortunately i always get this error message:</p>\n\n<pre><code>You can only reassign tickets that you own or that are unowned \n</code></pre>\n\n<p>I tried to remove the owner first, and set it to nobody but this of course does not work either:</p>\n\n<pre><code>condition: on queue change\naction: user defined\ntemplate: blank\nstage: transaction create\n\n____preperation code:\nmy ($status, $msg) = $self-&gt;TicketObj-&gt;SetOwner( $RT::Nobody-&gt;id ); \nunless( $status ) {\n      $RT::Logger-&gt;warning( \"Preperation: Impossible to assign the ticket to Nobody: $msg\" );\nreturn undef;\n} 0;\n\n___cleanup code:\nmy %owners = (\n'foo' =&gt; 'userbar',\n'bla' =&gt; 'userfoo',\n);\n\n\nmy $QueueName = $self-&gt;TicketObj-&gt;QueueObj-&gt;Name; \nreturn 1 unless defined($owners{$QueueName}); \n\nmy $MyUser = $owners{$QueueName}; \n$RT::Logger-&gt;info(\"Auto assigning ticket #\". $self-&gt;TicketObj-&gt;id .\" to user $MyUser\" ); \nmy ($status, $msg) = $self-&gt;TicketObj-&gt;SetOwner( $MyUser ); \nunless( $status ) {\n      $RT::Logger-&gt;warning( \"Impossible to assign the ticket to $MyUser: $msg\" );\nreturn undef;\n} 1;\n</code></pre>\n\n<p>Is there any possibility to remove the owner of a ticket with a script?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1442522652, "post_id": 32639485, "comment_id": 53127839, "body": "You&#39;re looking for the Cartesian product. There are several modules out there to do this, but I personally like <a href=\"https://metacpan.org/pod/Set::CrossProduct\" rel=\"nofollow noreferrer\">Set::CrossProduct</a>. It takes an arrayref of arrayrefs, but it would be easy to modify your input array."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1442562931, "post_id": 32639485, "comment_id": 53140903, "body": "You don&#39;t have a list, you have an array. You aren&#39;t trying to expand lists, you are trying to expand arrays. In Perl, <a href=\"http://friedo.com/blog/2013/07/arrays-vs-lists-in-perl\" rel=\"nofollow noreferrer\">lists and arrays are different things</a>."}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 2, "last_activity_date": 1442522645, "creation_date": 1442522645, "answer_id": 32639648, "question_id": 32639485, "link": "https://stackoverflow.com/questions/32639485/expanding-list-refs-in-perl/32639648#32639648", "title": "Expanding list refs in Perl", "body": "<p>It looks like you are trying to compute the Cartesian product of the elements in your array. You can use <a href=\"https://metacpan.org/pod/Math::Cartesian::Product\" rel=\"nofollow\"><code>Math::Cartesian::Product</code></a> from CPAN to do this:</p>\n\n<pre><code>use strict; \nuse warnings; \n\nuse Math::Cartesian::Product;\ncartesian { print \"@_\",\"\\n\"; } \n   ([qw(foo)], [qw(A B)], [qw(bar)], [qw(X Y Z)], [qw(baz)]);\n\n# outputs\n# foo A bar X baz\n# foo A bar Y baz\n# foo A bar Z baz\n# foo B bar X baz\n# foo B bar Y baz\n# foo B bar Z baz\n</code></pre>\n\n<p>Note, this does require you to place each of your input elements in an arrayref and if you want an array of arrayrefs as your output (from your example) you will need to encode that logic in the block. </p>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 0, "last_activity_date": 1467412696, "creation_date": 1467412696, "answer_id": 38154669, "question_id": 32639485, "link": "https://stackoverflow.com/questions/32639485/expanding-list-refs-in-perl/38154669#38154669", "title": "Expanding list refs in Perl", "body": "<p>Although this is an old thread, I thought I'd add another possible solution</p>\n\n<p>The module <a href=\"https://metacpan.org/pod/Set::CrossProduct\" rel=\"nofollow\">Set::CrossProduct</a> will also get the result wanted. (The input array elements must all be array references.)</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dump;\nuse Set::CrossProduct;\n\nmy @l = (\n  'foo',\n  ['A', 'B'],\n  'bar',\n  ['X', 'Y', 'Z'],\n  'baz',\n);\n\n# all elements of array must be array refs\n@l = map ref eq 'ARRAY' ? $_ : [$_], @l;\n\nmy @wanted = Set::CrossProduct-&gt;new(\\@l)-&gt;combinations;\n\ndd \\@wanted;\n</code></pre>\n\n<p>The data dump output was</p>\n\n<pre><code>[\n  [\"foo\", \"A\", \"bar\", \"X\", \"baz\"],\n  [\"foo\", \"A\", \"bar\", \"Y\", \"baz\"],\n  [\"foo\", \"A\", \"bar\", \"Z\", \"baz\"],\n  [\"foo\", \"B\", \"bar\", \"X\", \"baz\"],\n  [\"foo\", \"B\", \"bar\", \"Y\", \"baz\"],\n  [\"foo\", \"B\", \"bar\", \"Z\", \"baz\"],\n]\n</code></pre>\n"}], "owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 32639648, "answer_count": 2, "score": 0, "last_activity_date": 1467412696, "creation_date": 1442521992, "question_id": 32639485, "link": "https://stackoverflow.com/questions/32639485/expanding-list-refs-in-perl", "title": "Expanding list refs in Perl", "body": "<p>I have a list in Perl, and I'm trying to \"expand\" any lists it contains.</p>\n\n<p>For example:</p>\n\n<pre><code>my @l = (\n  'foo',\n  ['A', 'B'],\n  'bar',\n  ['X', 'Y', 'Z'],\n  'baz',\n);\n</code></pre>\n\n<p>I'd like to expand the lists to get this:</p>\n\n<pre><code>my @want = (\n  [qw/ foo A bar X baz /],\n  [qw/ foo A bar Y baz /],\n  [qw/ foo A bar Z baz /],\n  [qw/ foo B bar X baz /],\n  [qw/ foo B bar Y baz /],\n  [qw/ foo B bar Z baz /],\n);\n</code></pre>\n\n<p>I came up with this, which works, but is ugly and doesn't result in sensibly ordered array:</p>\n\n<pre><code>my @out = ([]);\nforeach my $elt (@l){\n    if( ref($elt) eq 'ARRAY' ){\n        my $n = scalar(@$elt);\n        my @_out;\n        # expand \n        for( my $i=0; $i&lt;$n; $i++ ){\n            foreach my $o (@out){\n                push(@_out, [@$o]);\n            }\n        }\n        for( my $i=0; $i&lt;@_out; $i++ ){\n            push(@{$_out[$i]}, $elt-&gt;[$i % $n]);\n        }\n        @out = @_out;\n    }\n    else{\n        foreach my $o (@out){\n            push(@$o, $elt);\n        }\n    }\n}\n</code></pre>\n\n<p>Is there a more concise way to accomplish this operation?</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "edited": false, "score": 0, "creation_date": 1442520551, "post_id": 32638459, "comment_id": 53126716, "body": "thanks! could have sworn I tried that, knew I was close."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 6, "last_activity_date": 1442517973, "creation_date": 1442517973, "answer_id": 32638459, "question_id": 32638363, "link": "https://stackoverflow.com/questions/32638363/perl-create-a-hash-from-array-that-has-the-key-and-the-value/32638459#32638459", "title": "Perl create a hash from array that has the key and the value", "body": "<p>You can simply map the split operation across your array of key value pairs and assign that result back to a hash. <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"noreferrer\"><code>perldoc -f split</code></a> returns a list and you can assign a list directly to a hash:</p>\n\n<pre><code>my @row = (\"x:3\", \"y:4\", \"z:abc\");\nmy %hash = map { split /:/ } @row; # outputs \"x\", \"3\", \"y\", \"4\", \"z\", \"abc\"\nprint(\"$_ : $hash{$_}\\n\") for(keys(%hash));\n# output\n# z : abc\n# y : 4\n# x : 3\n</code></pre>\n"}], "owner": {"reputation": 1303, "user_id": 1765397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/27097058d247934f6ca0ece3867cac4f?s=128&d=identicon&r=PG", "display_name": "kdubs", "link": "https://stackoverflow.com/users/1765397/kdubs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 32638459, "answer_count": 1, "score": 1, "last_activity_date": 1442517973, "creation_date": 1442517594, "question_id": 32638363, "link": "https://stackoverflow.com/questions/32638363/perl-create-a-hash-from-array-that-has-the-key-and-the-value", "title": "Perl create a hash from array that has the key and the value", "body": "<p>I've got an example of what I'm trying to do below. It works, but I think it could be better. I've got an array that contains a key and a value in the same string delimited by a colon. I need to get that into a hash. currently I use split and a temp array. I feel I could get around that, but I can't quite find the syntax.</p>\n\n<pre><code>#!/grid/common/bin/perl -w\nmy @row=(\"x:3\", \"y:4\", \"z:abc\");\nmy %hash = map { my @x=split(\":\",$_); $x[0] =&gt; $x[1] } @row;\nprint(\"$_ : $hash{$_}\\n\") for(keys(%hash));\n</code></pre>\n"}, {"tags": ["xml", "linux", "perl"], "comments": [{"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1442513910, "post_id": 32637326, "comment_id": 53123200, "body": "You sure you have the <code>#!</code> line correct?  It sounds like it&#39;s being run as a shell script instead of perl."}, {"owner": {"reputation": 9423, "user_id": 2809564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9dbbaaa9c03d7a256eef869bf1d635e3?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/2809564/john"}, "reply_to_user": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1442513946, "post_id": 32637326, "comment_id": 53123222, "body": "sorry figure that one out. I was seeing other error after fixing that. Let me edit my question."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1442513999, "post_id": 32637326, "comment_id": 53123262, "body": "How you run your perl script?"}, {"owner": {"reputation": 9423, "user_id": 2809564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9dbbaaa9c03d7a256eef869bf1d635e3?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/2809564/john"}, "edited": false, "score": 0, "creation_date": 1442514026, "post_id": 32637326, "comment_id": 53123273, "body": "I have updated my question, that use error was fixed. I run it like this <code>&#47;testscript.pl</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1442514702, "post_id": 32637326, "comment_id": 53123672, "body": "Please don&#39;t change your question like that after you&#39;ve already gotten answers; it invalidates the answers and can be confusing for future visitors, since some answers will refer to the original problem and others will refer to the new problem. In general, I would recommend asking a new question about the new issue, but in this case, see <a href=\"http://stackoverflow.com/questions/65865/whats-the-easiest-way-to-install-a-missing-perl-module\">What&#39;s the easiest way to install a missing Perl module?</a>."}, {"owner": {"reputation": 9423, "user_id": 2809564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9dbbaaa9c03d7a256eef869bf1d635e3?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/2809564/john"}, "edited": false, "score": 0, "creation_date": 1442515488, "post_id": 32637326, "comment_id": 53124095, "body": "Ok got it. Sorry about that. I will make sure next time definitely."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1442516041, "post_id": 32637326, "comment_id": 53124378, "body": "@david: I&#39;ve rolled your question back to the original version. I think that&#39;s the best way to reflect the history of this item. If you want to ask a different question then <i>open a new question</i> and don&#39;t edit one of your old ones. You must reaslise that Stack Overflow is a <i>knowledge base</i> and not a traditional forum. That means the <i>primary</i> purpose of your question and the associated answers is to provide help for <i>other people</i> who may be in a similar situation. However much you may feel that it&#39;s there just for your own benefit, it simply isn&#39;t, and you must treat it as public property"}], "answers": [{"comments": [{"owner": {"reputation": 19923, "user_id": 66519, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/83ea6683f15edb2087f6a3ad4f42605b?s=128&d=identicon&r=PG", "display_name": "ojblass", "link": "https://stackoverflow.com/users/66519/ojblass"}, "reply_to_user": {"reputation": 9423, "user_id": 2809564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9dbbaaa9c03d7a256eef869bf1d635e3?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/2809564/john"}, "edited": false, "score": 0, "creation_date": 1442514212, "post_id": 32637373, "comment_id": 53123385, "body": "update your questions title it still reflects the old question?  Maybe a new question?"}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 1, "creation_date": 1442514215, "post_id": 32637373, "comment_id": 53123386, "body": "I&#39;d recommend using the OS package manager over CPAN if the package is available (which it is: <code>libxml-perl</code>)."}], "tags": [], "owner": {"reputation": 19923, "user_id": 66519, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/83ea6683f15edb2087f6a3ad4f42605b?s=128&d=identicon&r=PG", "display_name": "ojblass", "link": "https://stackoverflow.com/users/66519/ojblass"}, "is_accepted": false, "score": 1, "last_activity_date": 1442514128, "last_edit_date": 1442514128, "creation_date": 1442513955, "answer_id": 32637373, "question_id": 32637326, "link": "https://stackoverflow.com/questions/32637326/not-able-to-run-perl-script-use-command-not-found/32637373#32637373", "title": "not able to run perl script, use command not found?", "body": "<p>Instead of calling the script by its name run: </p>\n\n<pre><code>perl /path/to/perl/script\n</code></pre>\n\n<p>I am wondering if you have a hidden character in your first line.  Did you write the file in DOS?</p>\n\n<p>With your update you will have to install the Perl Module it cannot find.  There are instructions on <a href=\"http://www.cpan.org/modules/INSTALL.html\" rel=\"nofollow\">CPAN</a> on how to install additional modules.</p>\n"}, {"comments": [{"owner": {"reputation": 9423, "user_id": 2809564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9dbbaaa9c03d7a256eef869bf1d635e3?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/2809564/john"}, "edited": false, "score": 0, "creation_date": 1442514363, "post_id": 32637437, "comment_id": 53123479, "body": "just tried, It is asking this <code>What approach do you want?  (Choose &#39;local::lib&#39;, &#39;sudo&#39; or &#39;manual&#39;) [local::lib]</code> Being a begineer, I am not sure which one to choose?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9423, "user_id": 2809564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9dbbaaa9c03d7a256eef869bf1d635e3?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/2809564/john"}, "edited": false, "score": 0, "creation_date": 1442514696, "post_id": 32637437, "comment_id": 53123664, "body": "@david, Since we&#39;re talking about your system, I recommend you actually use your system&#39;s package manager (<code>apt-get</code> or <code>yum</code>) if you can. If you want to proceed with <code>cpan</code> and you are able to <code>sudo</code>, then I recommend <code>sudo</code>. If not, go with local::lib."}, {"owner": {"reputation": 9423, "user_id": 2809564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9dbbaaa9c03d7a256eef869bf1d635e3?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/2809564/john"}, "edited": false, "score": 0, "creation_date": 1442514840, "post_id": 32637437, "comment_id": 53123738, "body": "I can do sudo as well as I have root access. Is there any <code>sudo apt-get</code> command as well? You mean I should choose sudo right?"}, {"owner": {"reputation": 9423, "user_id": 2809564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9dbbaaa9c03d7a256eef869bf1d635e3?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/2809564/john"}, "edited": false, "score": 0, "creation_date": 1442515560, "post_id": 32637437, "comment_id": 53124139, "body": "Yes it did work. But I have some other issues in my perl script so opened a new question <a href=\"http://stackoverflow.com/questions/32637821/not-able-to-insert-few-lines-in-an-xml-file-at-a-particular-spot-using-perl\">here</a> See if you can help out."}, {"owner": {"reputation": 19923, "user_id": 66519, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/83ea6683f15edb2087f6a3ad4f42605b?s=128&d=identicon&r=PG", "display_name": "ojblass", "link": "https://stackoverflow.com/users/66519/ojblass"}, "edited": false, "score": 0, "creation_date": 1442516357, "post_id": 32637437, "comment_id": 53124553, "body": "wow... been out of the game for a while... thanks learned something new."}], "tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": true, "score": 2, "last_activity_date": 1442518384, "last_edit_date": 1442518384, "creation_date": 1442514164, "answer_id": 32637437, "question_id": 32637326, "link": "https://stackoverflow.com/questions/32637326/not-able-to-run-perl-script-use-command-not-found/32637437#32637437", "title": "not able to run perl script, use command not found?", "body": "<pre><code>Can't locate XML/LibXML.pm \n</code></pre>\n\n<p>So you need to install the XML::LibXML module. Try one of these commands.</p>\n\n<p>If you have <code>sudo</code> access, and are on Debian Linux or Ubuntu, run this:</p>\n\n<pre><code>sudo apt-get install libxml-perl\n</code></pre>\n\n<p>If you have <code>sudo</code> access and are on Red Hat, CentOS, Fedora, or Amazon Linux:</p>\n\n<pre><code>sudo yum install perl-XML-LibXML\n</code></pre>\n\n<p>On other platforms with <code>sudo</code> (e.g. OS X), this should work, but you'll have to answer a lot of questions if you haven't run <code>cpan</code> before:</p>\n\n<pre><code>sudo cpan XML::LibXML\n</code></pre>\n\n<p>If you don't have <code>sudo</code> access, run the same command without <code>sudo</code> and  select <code>local::lib</code> when it asks what approach you wish to take:</p>\n\n<pre><code>cpan XML::LibXML\n</code></pre>\n"}], "owner": {"reputation": 9423, "user_id": 2809564, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9dbbaaa9c03d7a256eef869bf1d635e3?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/2809564/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1009, "favorite_count": 0, "accepted_answer_id": 32637437, "answer_count": 2, "score": 0, "last_activity_date": 1442518384, "creation_date": 1442513830, "last_edit_date": 1442515541, "question_id": 32637326, "link": "https://stackoverflow.com/questions/32637326/not-able-to-run-perl-script-use-command-not-found", "title": "not able to run perl script, use command not found?", "body": "<p>I have an xml file <code>(client_23.xml)</code> in which I need to add few lines at a particular section basis on what is there in other xml file <code>(abc_lop.xml)</code>.</p>\n\n<p>Here is my <code>abc_lop.xml</code> file in which you see I have lot of <code>ClientField</code> lines with <code>name</code>, <code>pptype</code> and <code>dataType</code> in it.</p>\n\n<pre><code>&lt;Hello version=\"100\"&gt;\n &lt;DataHolder numberOfFields=\"67\"&gt;\n  &lt;ClientField name=\"target\" pptype=\"aligning\" dataType=\"string\"&gt;\n   &lt;Value value=\"panel_3646\"/&gt;\n   &lt;Value value=\"panel_3653\"/&gt;\n  &lt;/ClientField&gt;\n  &lt;ClientField name=\"category_3652_0_count\" pptype=\"symetrical\" dataType=\"double\"/&gt;\n  &lt;ClientField name=\"pme.age\" pptype=\"symetrical\" dataType=\"double\"/&gt;\n  &lt;ClientField name=\"pme.gender\" pptype=\"aligning\" dataType=\"string\"&gt;\n   &lt;Value value=\"\"/&gt;\n   &lt;Value value=\"F   \"/&gt;\n   &lt;Value value=\"NA\"/&gt;\n  &lt;/ClientField&gt;\n &lt;/DataHolder&gt;\n&lt;/Hello&gt;\n</code></pre>\n\n<p>I need to read this file and extract <code>name</code> from those <code>ClientField</code> lines and if its <code>pptype</code> is not <code>aligning</code> then I need to construct this line for each name: Below is an example for two names, only first value is different and apart from that other two will always be same.</p>\n\n<pre><code>&lt;eval&gt;upsert(\"category_3652_0_count\", 0, $calty_doubles)&lt;/eval&gt;\n&lt;eval&gt;upsert(\"category_3652_2_count\", 0, $calty_doubles)&lt;/eval&gt;\n</code></pre>\n\n<p>Now if its <code>pptype</code> is <code>aligning</code>, then construct line like this:</p>\n\n<pre><code>&lt;eval&gt;upsert(\"target\", \"NA\", $calty_strings)&lt;/eval&gt;\n&lt;eval&gt;upsert(\"pme.gender\", \"NA\", $calty_strings)&lt;/eval&gt;\n</code></pre>\n\n<p>And all these changes I have to make in <code>client_23.xml</code> file and then make a new file with it so my new file will look like this as an example: I will have a function with name <code>data_values</code> in which I need to add above stuff in the <code>&lt;block&gt;</code> tag as shown below.</p>\n\n<pre><code>    &lt;function&gt;\n        &lt;name&gt;data_values&lt;/name&gt;\n        &lt;variables&gt;\n            &lt;variable&gt;\n            &lt;name&gt;temp&lt;/name&gt;\n            &lt;type&gt;double&lt;/type&gt;\n            &lt;/variable&gt;\n        &lt;/variables&gt;\n        &lt;block&gt;\n            &lt;eval&gt;temp = 1&lt;/eval&gt;\n            &lt;eval&gt;upsert(\"category_3652_0_count\", 0, $calty_doubles)&lt;/eval&gt;\n            &lt;eval&gt;upsert(\"category_3652_2_count\", 0, $calty_doubles)&lt;/eval&gt;\n            &lt;eval&gt;upsert(\"target\", \"NA\", $calty_strings)&lt;/eval&gt;\n            &lt;eval&gt;upsert(\"pme.gender\", \"NA\", $calty_strings)&lt;/eval&gt;             \n        &lt;/block&gt;\n    &lt;/function&gt;\n</code></pre>\n\n<p>This is what I have currently in <code>client_23.xml</code> file so after adding, it will look like above:</p>\n\n<pre><code>    &lt;function&gt;\n        &lt;name&gt;data_values&lt;/name&gt;\n        &lt;variables&gt;\n            &lt;variable&gt;\n            &lt;name&gt;temp&lt;/name&gt;\n            &lt;type&gt;double&lt;/type&gt;\n            &lt;/variable&gt;\n        &lt;/variables&gt;\n        &lt;block&gt;\n            &lt;eval&gt;temp = 1&lt;/eval&gt;\n        &lt;/block&gt;\n    &lt;/function&gt;\n</code></pre>\n\n<p>I came up with below perl script but whenever I try to run it, it doesn't run and I am seeing some errors:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse XML::LibXML;\n\n# Open the main XML file and locate the\n# &lt;block&gt; element that we need to insert into\n#\nmy $doc = XML::LibXML-&gt;load_xml(\n    location =&gt; 'client_23.xml',\n    no_blanks =&gt; 1,\n);\nmy $block = $doc-&gt;find('/function/block')-&gt;get_node(1);\n\n# Open the secondary XML file and find all the &lt;ClientField&gt; elements\n# that contain the data we need to insert\n#\nmy $abc = XML::LibXML-&gt;load_xml(location =&gt; 'abc_lop.xml');\n\nfor my $field ( $abc-&gt;find('/Hello/DataHolder/ClientField')-&gt;get_nodelist ) {\n\n    my ($name, $pptype) = map $field-&gt;getAttribute($_), qw/ name pptype /;\n\n    my $text = $pptype eq 'aligning' ?\n        sprintf q{upsert(\"%s\", \"NA\", $calty_strings)}, $name :\n        sprintf q{upsert(\"%s\", 0, $calty_doubles)}, $name;\n\n    $block-&gt;appendTextChild('eval' , $text);\n}\n\nprint $doc-&gt;toString(2);\n</code></pre>\n\n<p>I made perl script executable and ran it like this and I got an error. What's wrong?</p>\n\n<pre><code>./tester.perl: line 1: use: command not found\n./tester.perl: line 2: use: command not found\n./tester.perl: line 4: use: command not found\n./tester.perl: line 9: syntax error near unexpected token `('\n./tester.perl: line 9: `my $doc = XML::LibXML-&gt;load_xml('\n</code></pre>\n\n<p><strong>Update:-</strong></p>\n\n<p>Use error is fixed now. I am seeing this error:</p>\n\n<pre><code>Can't locate XML/LibXML.pm in @INC (@INC contains: /etc/perl /usr/local/lib/perl/5.14.2 /usr/local/share/perl/5.14.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.14 /usr/share/perl/5.14 /usr/local/lib/site_perl .) at ./tester.perl line 5.\nBEGIN failed--compilation aborted at ./tester.perl line 5.\n</code></pre>\n\n<p>Do I need to install anything?</p>\n"}]