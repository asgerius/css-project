[{"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 1, "creation_date": 1505336286, "post_id": 46206692, "comment_id": 79376811, "body": "Delete the <code>my</code>."}, {"owner": {"reputation": 436, "user_id": 2838493, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/86388736e34c168fd054c7452f9d7387?s=128&d=identicon&r=PG&f=1", "display_name": "Rgarg", "link": "https://stackoverflow.com/users/2838493/rgarg"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1505336360, "post_id": 46206692, "comment_id": 79376845, "body": "It worked. What exactly is the role of my? From definition it is just describing the scope of the variable, correct?"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1505336404, "post_id": 46206692, "comment_id": 79376866, "body": "I gave more explanation in the answer below."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1505341349, "post_id": 46206692, "comment_id": 79378730, "body": "<a href=\"https://stackoverflow.com/questions/20889609/how-should-i-use-the-my-keyword-in-perl\" title=\"how should i use the my keyword in perl\">stackoverflow.com/questions/20889609/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1505343992, "post_id": 46206692, "comment_id": 79379527, "body": "Always use <code>use strict; use warnings qw( all );</code>!!"}], "answers": [{"tags": [], "owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "is_accepted": false, "score": 3, "last_activity_date": 1505370973, "last_edit_date": 1505370973, "creation_date": 1505336353, "answer_id": 46206748, "question_id": 46206692, "link": "https://stackoverflow.com/questions/46206692/why-is-a-regular-expression-containing-the-exact-string-not-matching-successfull/46206748#46206748", "title": "Why is a regular expression containing the exact string not matching successfully?", "body": "<p>The <code>my</code> makes the variable you match local and uninitialised.\nSo you should change to  </p>\n\n<p><code>if ($addr =~ /Hello/)</code></p>\n\n<p>The <code>my</code> indicates that the <code>$addr</code> in the if is \"my own here\", i.e. different from the other <code>$addr</code> the one with larger, outer scope.<br>\nOnly the outer scope variable got initialised to something which would match your regex. The second, inner one is not initialised and (at least in your case) has no matching value.</p>\n\n<p>Note: Comments by other authors have proposed a best practice for avoiding/detecting the cause of your problem in future programming.</p>\n"}, {"tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 1, "last_activity_date": 1505369900, "last_edit_date": 1505369900, "creation_date": 1505369423, "answer_id": 46211749, "question_id": 46206692, "link": "https://stackoverflow.com/questions/46206692/why-is-a-regular-expression-containing-the-exact-string-not-matching-successfull/46211749#46211749", "title": "Why is a regular expression containing the exact string not matching successfully?", "body": "<p>I know this has been answered already, but let me just expand a bit.</p>\n\n<p>in general in perl we would work in blocks, if we can call it that. If you set</p>\n\n<pre><code>my $string = 'String';\n</code></pre>\n\n<p>in the beginning of the script, outside any loop, that declaration will stay the string throughout the script, unless you re-declare or re-assign it somewhere along the line.</p>\n\n<pre><code>my $string = 'string';\n   $string = 'Text';\n</code></pre>\n\n<p>That changes a bit if you work inside of a block, let's say in an if statement:</p>\n\n<p>Scenario 1.</p>\n\n<pre><code>my $var = 'test';\n   if ($var =~ /test/) {\n       my $string = 'string';\n    }\n  print $string;      # This will not work as $string only existed in the if block.\n</code></pre>\n\n<p>The following is the same scenario, but you re-declare <code>$var</code> in the if block and therefore it will try and match the new variable which has no value and therefore <code>$string</code> in this instance will never be set.</p>\n\n<p>Scenario 2.</p>\n\n<pre><code>my $var = 'test';\n   if (my $var =~ /test/) {\n       my $string = 'string';\n    }\n</code></pre>\n\n<p>There is another one though which works differently from <code>my</code> and that is <code>our</code></p>\n\n<p>Scenario 3.</p>\n\n<pre><code>my $var = 'test';\n   if ($var =~ /test/) {\n       our $string = 'string';\n    }\nprint $string;\n</code></pre>\n\n<p>The above scenario works a bit different from scenario 1. We are declaring <code>our $string</code> inside of the if statement block and we can now use $string outside of that loop because <code>our</code> is saying any block from here on, owns this variable.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 7689532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9c09ca0324e286c1e9660f3a2a2c22c?s=128&d=identicon&r=PG&f=1", "display_name": "Chandan Paranjape", "link": "https://stackoverflow.com/users/7689532/chandan-paranjape"}, "is_accepted": false, "score": 0, "last_activity_date": 1505374889, "creation_date": 1505374889, "answer_id": 46213253, "question_id": 46206692, "link": "https://stackoverflow.com/questions/46206692/why-is-a-regular-expression-containing-the-exact-string-not-matching-successfull/46213253#46213253", "title": "Why is a regular expression containing the exact string not matching successfully?", "body": "<p>U had initialised another variable called $addr in the scope of if, instead of using the variable which was initialized in the global scope.</p>\n\n<pre><code>#!/usr/bin/perl \n# This will print \"Hello, World\"\nprint \"Hello, world\\n\";\nmy $addr = \"Hello\";\n#if($addr =~ /(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\)/ )\nif ($addr =~ /Hello/)\n{\n      print(\"matched\\n\\n\");\n}else\n{\n  print(\"Didnt Match\\n\\n\");\n}\n</code></pre>\n"}], "owner": {"reputation": 436, "user_id": 2838493, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/86388736e34c168fd054c7452f9d7387?s=128&d=identicon&r=PG&f=1", "display_name": "Rgarg", "link": "https://stackoverflow.com/users/2838493/rgarg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1505374889, "creation_date": 1505336098, "last_edit_date": 1505374815, "question_id": 46206692, "link": "https://stackoverflow.com/questions/46206692/why-is-a-regular-expression-containing-the-exact-string-not-matching-successfull", "title": "Why is a regular expression containing the exact string not matching successfully?", "body": "<p>This might be a beginners mistake.<br>\nThe regex turns out always as not matching while clearly it should.</p>\n\n<pre><code>#!/usr/bin/perl \n# This will print \"Hello, World\"\nprint \"Hello, world\\n\";\nmy $addr = \"Hello\";\n#if($addr =~ /(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\)/ )\nif (my $addr =~ /Hello/)\n{\n      print(\"matched\\n\\n\");\n}else\n{\n  print(\"Didnt Match\\n\\n\");\n}\n</code></pre>\n"}, {"tags": ["perl", "file-handling", "stderr"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1505334556, "post_id": 46205733, "comment_id": 79375985, "body": "<code>or die print ...</code>????"}, {"owner": {"reputation": 89, "user_id": 2708601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e295d1aaf101788673ab244bca76ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey H.", "link": "https://stackoverflow.com/users/2708601/geoffrey-h"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505335074, "post_id": 46205733, "comment_id": 79376214, "body": "@ikegami I was having an issue where it was failing on the open, and it wouldn&#39;t say why. Adding print at least let me know why open was failing. The cause has since been fixed."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505334596, "post_id": 46206216, "comment_id": 79376001, "body": "Writing to <code>CON:</code> or <code>&#47;dev&#47;tty</code> in a CGI script isn&#39;t useful."}, {"owner": {"reputation": 89, "user_id": 2708601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e295d1aaf101788673ab244bca76ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey H.", "link": "https://stackoverflow.com/users/2708601/geoffrey-h"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505335171, "post_id": 46206216, "comment_id": 79376250, "body": "@ikegami in their defense, I did mention using the command line, but you&#39;re right. This is a CGI script, therefore command line redirects won&#39;t be too helpfull"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1505340707, "post_id": 46206216, "comment_id": 79378517, "body": "In the first snippet, STDERR ends up not being fd 2. That can cause issues. I think you can solve that by replacing <code>close STDERR;             *STDERR = *$tmp_fh; </code> with <code>open STDERR, &#39;&lt;&amp;&#39;, $tmp_fh or die $!;</code>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 4, "last_activity_date": 1505334086, "creation_date": 1505334086, "answer_id": 46206216, "question_id": 46205733, "link": "https://stackoverflow.com/questions/46205733/perl-stderr-redirect-failing/46206216#46206216", "title": "Perl STDERR redirect failing", "body": "<p><code>die</code> (and <code>warn</code>) writes to <code>STDERR</code>. If you close <code>STDERR</code> and then need to <code>die</code> as you attempt to reopen it, where would you expect to see the error message?</p>\n\n<p>Since this is Perl, there are many ways to address this issue. Here are a couple.</p>\n\n<ol>\n<li><p>open the file first to a tmp filehandle, reassign it to STDERR if everything goes ok</p>\n\n<pre><code>if (open my $tmp_fh, '&gt;&gt;', \n   'd:/output/Logs/STDERR_' . &amp;parseUsername($ENV{REMOTE_USER}) . '.txt') {\n   close STDERR;\n   *STDERR = *$tmp_fh;\n} else {\n   die \"couldn't redirect STDERR: $!\";\n}\n</code></pre></li>\n<li><p>Use <code>con</code>. For programs that you run from a command line, most systems have a concept of \"the current terminal\". In Unix systems, it's <code>/dev/tty</code> and on Windows, it's <code>con</code>. Open an output stream to this terminal pseudo-file.</p>\n\n<pre><code>open STDERR, '&gt;&gt;', \n   'd:/output/Logs/STDERR_' . &amp;parseUsername($ENV{REMOTE_USER}) . '.txt'\n   or do {\n       open my $tty_fh, '&gt;', 'con';\n       print $tty_fh \"couldn't redirect STDERR: $!\";\n       exit 1;\n   };\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1505337493, "post_id": 46206771, "comment_id": 79377346, "body": "Follow up on it -- now it sounds interesting.  And something you may <i>want to</i> know."}], "tags": [], "owner": {"reputation": 89, "user_id": 2708601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e295d1aaf101788673ab244bca76ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey H.", "link": "https://stackoverflow.com/users/2708601/geoffrey-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1505336430, "creation_date": 1505336430, "answer_id": 46206771, "question_id": 46205733, "link": "https://stackoverflow.com/questions/46205733/perl-stderr-redirect-failing/46206771#46206771", "title": "Perl STDERR redirect failing", "body": "<p>After changing nothing in the script, and poking around in the server, and changing nothing, it now works as expected. I don't know what to say to be honest.</p>\n"}], "owner": {"reputation": 89, "user_id": 2708601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e295d1aaf101788673ab244bca76ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey H.", "link": "https://stackoverflow.com/users/2708601/geoffrey-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1505336430, "creation_date": 1505332109, "question_id": 46205733, "link": "https://stackoverflow.com/questions/46205733/perl-stderr-redirect-failing", "title": "Perl STDERR redirect failing", "body": "<p>A common functions script that our systems use uses a simple STDERR redirect in order to create user-specific error logs. it goes like this</p>\n\n<pre><code># re-route standard out to text file\nclose STDERR;\nopen STDERR, '&gt;&gt;', 'd:/output/Logs/STDERR_' . &amp;parseUsername($ENV{REMOTE_USER}) . '.txt'\n   or die \"couldn't redirect STDERR: $!\";\n</code></pre>\n\n<p>Now, I copy-pasted this to my own functions script for a system-specific error log, and while it'll compile, it breaks the scripts that require it. Oddly enough, it doesn't even print the error that the children script are throwing. My <em>slightly</em> modified version looks like,</p>\n\n<pre><code>close STDERR;\nopen (STDERR, '&gt;&gt;', 'err/STDERR_SPORK.txt')\n  or die print \"couldn't redirect STDERR: $!\";\n</code></pre>\n\n<p>everything compiles fine in command prompt, <code>-c</code> returns ok, and if I throw a warn into the function script, and compile, it outputs properly. I still do not understand why though this kills the children. I cut out the redirect, and sure enough they work. Any thoughts?</p>\n"}, {"tags": ["arrays", "algorithm", "perl", "recursion", "language-agnostic"], "comments": [{"owner": {"reputation": 488, "user_id": 7430030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4bb93954c0e070025202e484d129d21?s=128&d=identicon&r=PG&f=1", "display_name": "Debabrata", "link": "https://stackoverflow.com/users/7430030/debabrata"}, "edited": false, "score": 5, "creation_date": 1505331158, "post_id": 46205438, "comment_id": 79374253, "body": "can you please explain me how for the array <code>[      [1, 2],     [3, 4]    ] </code> the answer is 4.Because i think there are two ways to go from (0,0) to (1,1).one is <code>(1-&gt;2,2-&gt;4)</code> and another is <code>(1-&gt;3,3-&gt;4)</code>.Have i mistaken something"}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 488, "user_id": 7430030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4bb93954c0e070025202e484d129d21?s=128&d=identicon&r=PG&f=1", "display_name": "Debabrata", "link": "https://stackoverflow.com/users/7430030/debabrata"}, "edited": false, "score": 0, "creation_date": 1505331507, "post_id": 46205438, "comment_id": 79374458, "body": "@Debabrata: <code>[0][0]-&gt;[0][1] + [0][1]-&gt;[1][1] + [0][0]-&gt;[1][0]+[1][0]-&gt;[1][1] = 4 = (1 -&gt; 2) + (2 -&gt;4) + (1-&gt;3) + (3-&gt;4)</code>"}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 488, "user_id": 7430030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4bb93954c0e070025202e484d129d21?s=128&d=identicon&r=PG&f=1", "display_name": "Debabrata", "link": "https://stackoverflow.com/users/7430030/debabrata"}, "edited": false, "score": 0, "creation_date": 1505331558, "post_id": 46205438, "comment_id": 79374483, "body": "@Debabrata: You are counting the paths. I am counting distinct steps"}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505331648, "post_id": 46205438, "comment_id": 79374522, "body": "Why count steps? The Manhattan distance from one corner to the other is always the same."}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505331677, "post_id": 46205438, "comment_id": 79374537, "body": "Btw, you don&#39;t need recursion for this. (But maybe you&#39;re using it as a recursion exercise?)"}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505331740, "post_id": 46205438, "comment_id": 79374565, "body": "@m69: That is how I defined it and I was puzzled why the code does not work because it seems correct to me. The question is about what is the problem with the specific code. Not just solve this in any way"}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505332080, "post_id": 46205438, "comment_id": 79374742, "body": "You&#39;re adding 1 to the result of the 2x2 array, but there are two paths in that, so you should add 2, to get the correct result for the 3x2 array, which is 9."}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505332303, "post_id": 46205438, "comment_id": 79374826, "body": "@m69: The result of the 2x2 array (to the right of (0,0)) is 4 as shown in the fist case. From (0,0) to the cell to the right is 1 way. So 4 +1 = 5. Then we have <code>[0][0]-&gt;[1][0] + [1][0]-&gt;[1][1] + [1][1]-&gt;[1][2]</code> = 3."}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505332310, "post_id": 46205438, "comment_id": 79374830, "body": "Which you can also get by looking at it like this: there are 3 routes, the Manhattan distance is 3, so the result is 9."}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505332374, "post_id": 46205438, "comment_id": 79374876, "body": "@m69:What is the Manhattan distance?"}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 1, "creation_date": 1505332384, "post_id": 46205438, "comment_id": 79374880, "body": "There are 2 routes through the 2x2 array. if you go one step to the right to get into the 2x2 array, you should count that 1 step twice, because it&#39;s part of 2 routes."}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505332437, "post_id": 46205438, "comment_id": 79374911, "body": "Manhattan distance = taxicab distance; see <a href=\"https://en.wikipedia.org/wiki/Taxicab_geometry\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Taxicab_geometry</a>"}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505332494, "post_id": 46205438, "comment_id": 79374939, "body": "@m69:hm... that was a good point +1. So it would be 4+2=6 and then 6+3 =9. But I get 11"}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 1, "creation_date": 1505334364, "post_id": 46205438, "comment_id": 79375906, "body": "using [0,1,2][3,4,5]] -&gt; [5] returns 1, so [2,5] and [4,5] both return 1+1=2, so [[1,2][4,5]] returns 2+1 + 2+1 = 6, so 0-&gt;right returns 6+1=7. Then [5] return 1, so [4,5] returns 1+1=2, so [3,4,5] returns 2+1=3, so 0-&gt;down returns 3+1=4. Total=11. That&#39;s how it works now, but you&#39;ll have to rethink it."}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505335765, "post_id": 46205438, "comment_id": 79376526, "body": "@m69:Ah I see now. But how can I change it so that is goes by the logic I am after? If I define that the number of ways from <code>[i][j] -&gt; [i][j]</code> as 0 instead of 1 it still does not improve it. I.e. if I do <code>if ( $source_row == $dest_row &amp;&amp; $source_col == $dest_col ) {         return 0;     }</code> and modify the rest as <code>my $total = $ways_right + 1;$total += $ways_down + 1; return $total;</code> I get 12. It is so annoying because conceptually it seems to me to be correct"}, {"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1505336404, "post_id": 46205438, "comment_id": 79376865, "body": "<a href=\"https://math.stackexchange.com/questions/1713710/counting-north-east-lattice-paths\" title=\"counting north east lattice paths\">math.stackexchange.com/questions/1713710/&hellip;</a> <a href=\"https://oeis.org/A000984\" rel=\"nofollow noreferrer\">oeis.org/A000984</a>"}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505336790, "post_id": 46205438, "comment_id": 79377045, "body": "@m69: Ah found out why! The boundary conditions are the problem. I should not be doing recursion when I can check that the index will be out of bounds because in that case I am mixing when I am outside the array and when there are no ways"}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505336990, "post_id": 46205438, "comment_id": 79377140, "body": "@m69: I update post. This seems to be correct!"}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505337415, "post_id": 46205438, "comment_id": 79377314, "body": "Does it return the correct value for larger grids?"}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505407366, "post_id": 46205438, "comment_id": 79411880, "body": "@m69:I looked at 3x3 on paper. I made a mistake in the first place. It gives 18 which seems correct"}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505407542, "post_id": 46205438, "comment_id": 79412000, "body": "Look at the table of paths: there are 6; the distance is 4; the total number of steps is 24."}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505422220, "post_id": 46205438, "comment_id": 79419843, "body": "@m69:For 4x4 by hand I counted 68 and that is what the code gave. But I am not sure how I can test and verify it for sure."}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505424126, "post_id": 46205438, "comment_id": 79420707, "body": "Look at the table in my answer.  There are 20 paths with 6 steps each, so 120."}, {"owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "edited": false, "score": 0, "creation_date": 1505456710, "post_id": 46205438, "comment_id": 79429317, "body": "I added two code snippets in JavaScript; the second one is probably closest to what you were trying to do."}], "answers": [{"tags": [], "owner": {"reputation": 10914, "user_id": 4907604, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qowl9.png?s=128&g=1", "display_name": "m69 &#39;&#39;snarky and unwelcoming&#39;&#39;", "link": "https://stackoverflow.com/users/4907604/m69-snarky-and-unwelcoming"}, "is_accepted": false, "score": 3, "last_activity_date": 1505456660, "last_edit_date": 1505456660, "creation_date": 1505336247, "answer_id": 46206723, "question_id": 46205438, "link": "https://stackoverflow.com/questions/46205438/number-of-ways-from-top-left-to-bottom-right-of-an-array/46206723#46206723", "title": "Number of ways from top left to bottom right of an array", "body": "<p>Your algorithm uses this recursion:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0   1   2       0---1   2       0\n            =               +   |\n3   4   5           4   5       3   4   5\n</code></pre>\n\n<p>which then goes on to:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1   2       1---2       1          \n        =           +   |       AND\n4   5           5       4   5         3   4   5   =   3---4   5\n</code></pre>\n\n<p>and then:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>2       2\n    =   |   AND                       AND\n5       5         4   5   =   4---5         4   5   =   4---5\n</code></pre>\n\n<p>and finally:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>5   AND   5   AND   5\n</code></pre>\n\n<p>In itself, this is a useful way of recursing in the 3x2 grid, but the way you then add the steps is problematic; e.g. after receiving 4 as the result of the recursion with the 2x2 grid [[1,2][4,5]], you add 1 to it because it takes 1 step to go from position 0 to the 2x2 grid. However, there are two paths through the 2x2 grid, so you should add the 1 step twice. Knowing how many paths there were through the 2x2 grid requires calculating the Taxicab distance through it, and then dividing the number of steps by this distance. You'll see that this results in a lot of unnecessary calculations, because the number of steps in each complete path is always the same. So it's much easier to just find the number of paths, and then multiply them by the number of steps per path.  </p>\n\n<p>You can use the recursion you have to find the number of paths; from the breakdown into steps of the recursion above you'll see that you end up with the 1x1 grid [5] three times. This is because there are three paths that lead to position 5. If you simply count how many times you recurse with that 1x1 grid), you know the number of paths. To know the number of steps you can then multiply by (width - 1) + (height - 1) which is the number of steps in each path.  </p>\n\n<p>The disadvantage of simply incrementing a variable outside the scope of the recursion is that you cannot easily turn it into a dynamic programming solution, because you have to go through with every recursion to the end, to count how many times you get to the bottom-right corner. So it's probably better to pass the results back up the recursion chain.  </p>\n\n<p>If you return 1 when the input is a 1x1 grid, and the sum of the right and down result in a larger grid (without adding anything to it), this also gives you the total number of paths. Then you can memoize the results by storing that a 2x1 and 1x2 grid return 1, a 2x2 grid returns 2, a 3x2 and 2x3 grid returns 3, a 3x3 grid returns 6, and use these stored values instead of recursing over grids with the same size again.  </p>\n\n<p>You'll see that the number of paths through any size grid is given by this table:  </p>\n\n<pre><code>1  1  1  1  1 ...\n1  2  3  4  5\n1  3  6 10 15\n1  4 10 20 35\n1  5 15 35 70\n</code></pre>\n\n<p>where each value is the sum of the values above and to the left of it, which also points to a simple non-recursive way to calculate the number of paths (or steps) through any size grid.</p>\n\n<hr>\n\n<p>This code snippet in JavaScript uses the recursion method from your code to count the number of paths, and then calculates the total number of steps:  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function count_paths(grid, x, y) {\r\n    x = x || 0; y = y || 0;\r\n    var height = grid.length - y;\r\n    var width = grid[0].length - x;\r\n    if (width == 0 || height == 0) return 0;\r\n    if (width == 1 &amp;&amp; height == 1) return 1;\r\n    return count_paths(grid, x + 1, y) + count_paths(grid, x, y + 1);\r\n}\r\n\r\nvar grid = [[0,1,2,3],[4,5,6,7],[8,9,10,11],[12,13,14,15]];\r\nvar paths = count_paths(grid);\r\nvar steps = paths * (grid.length - 1 + grid[0].length - 1);\r\ndocument.write(\"paths: \" + paths + \"&lt;br&gt;steps: \" + steps);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To integrate the calculation of the total number of steps into the recursion, you'd have to return the number of paths and the number of steps, so that you can multiply the step it takes to go right or down by the number of paths that that step leads to:  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function count_steps(grid, x, y) {\r\n    x = x || 0; y = y || 0;\r\n    var height = grid.length - y;\r\n    var width = grid[0].length - x;\r\n    if (width == 0 || height == 0) return {paths: 0, steps: 0};\r\n    if (width == 1 &amp;&amp; height == 1) return {paths: 1, steps: 0};\r\n    var right = count_steps(grid, x + 1, y);\r\n    var down = count_steps(grid, x, y + 1);\r\n    var paths = right.paths + down.paths;\r\n    var steps = right.steps + down.steps + paths;\r\n    return {paths: paths, steps: steps};\r\n}\r\n\r\nvar grid = [[0,1,2,3],[4,5,6,7],[8,9,10,11],[12,13,14,15]];\r\nvar count = count_steps(grid);\r\ndocument.write(\"paths: \" + count.paths + \"&lt;br&gt;steps: \" + count.steps);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1505456660, "creation_date": 1505330817, "last_edit_date": 1505336962, "question_id": 46205438, "link": "https://stackoverflow.com/questions/46205438/number-of-ways-from-top-left-to-bottom-right-of-an-array", "title": "Number of ways from top left to bottom right of an array", "body": "<p>I was playing around with the following problem:  </p>\n\n<blockquote>\n  <p>Given a 2-d array find all the possible ways we can move from the top\n  left cell <code>[0][0]</code> to the bottom right cell <code>[N-1][N-1]</code> given that we\n  can only move either downward or rightward?</p>\n</blockquote>\n\n<p>I defined the following:<br>\nFor an array such as <code>[ [ 1 ] ]</code> there is only 1 way to go from the start cell to the destination cell. We are already there.<br>\nOtherwise it the total number of ways is the total number of ways we go from the cell to the right to the destination plus 1 (there is 1 way to go from current cell to the next cell) plus the total number of ways we go from the cell bellow to the destination plus 1 (there is 1 way to go from current cell to the bellow cell)<br>\nSo for an array such as:  </p>\n\n<pre><code>[  \n  [1, 2]  \n  [3, 4]  \n]  \n</code></pre>\n\n<p>the answer would be 4 (1->2, 2->4, 1->3, 3->4).<br>\nFor an array such as:  </p>\n\n<pre><code>[   \n  [1, 2, 3],  \n  [3, 4, 5],   \n]  \n</code></pre>\n\n<p>The answer should be 8. 4 comes from the subarray to the right + 1 to go for (1)->(2) plus 1->3 3->4 4->5 total 3.<br>\nSo 5 + 3 = 7.<br>\nThe following code seems to me correct but I am messing something up and I get the wrong result.  </p>\n\n<pre><code>my $array = [\n    [1, 2, 3],\n    [3, 4, 5],\n];\n\nsub number_of_ways {\n    my ( $input, $source_row, $source_col, $dest_row, $dest_col ) = @_;\n\n    if ( $source_row == $dest_row &amp;&amp; $source_col == $dest_col ) {\n        return 1;\n    }\n\n    if ( $source_row &gt;= scalar @$input) {\n        return 0;\n    }\n    if ( $source_col &gt;= scalar @{$input-&gt;[$source_row]} ) {\n        return 0;\n    }\n\n    my $ways_down = number_of_ways($input, $source_row + 1, $source_col, $dest_row, $dest_col);\n    my $ways_right = number_of_ways($input, $source_row, $source_col + 1, $dest_row, $dest_col); \n    my $total = $ways_right + 1 if ( $ways_right );\n    $total += $ways_down + 1 if ( $ways_down );\n    return $total;\n}\n\nprint \"Number of ways: \" . number_of_ways($array, 0, 0, 1, 2). \"\\n\";  \n</code></pre>\n\n<p>This give me 11.<br>\nIs the logic wrong?   </p>\n\n<p><strong>Update:</strong><br>\nWith the help of @m69 I found the problem.<br>\nIn recursion is a bad idea to do the iteration if we already can check if it is going to fail. In this case, even after changing the code after the comments of @m69 it failed because there is no distinction between 0 because we are in an subarray with 1 element (source and destination are the same) or outside of the array.<br>\nThe following code seems to be correct.  </p>\n\n<pre><code>sub number_of_ways {\n    my ( $input, $source_row, $source_col, $dest_row, $dest_col ) = @_;\n\n    if ( $source_row == $dest_row &amp;&amp; $source_col == $dest_col ) {\n        return 0;\n    }\n\n    my $total = 0;\n    if ( $source_row &lt; @$input - 1) {\n        my $ways_down = number_of_ways($input, $source_row + 1, $source_col, $dest_row, $dest_col);\n        $total += $ways_down + 1;\n    }\n    if ( $source_col &lt; @{$input-&gt;[$source_row]} - 1 ) {\n        my $ways_right = number_of_ways($input, $source_row, $source_col + 1, $dest_row, $dest_col); \n        $total += $ways_right + 1;\n    }\n\n    return $total;\n}\n\nprint \"Number of ways: \" . number_of_ways($array, 0, 0, 1, 2). \"\\n\";\n</code></pre>\n"}, {"tags": ["json", "perl", "landsat"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1505328467, "post_id": 46204760, "comment_id": 79372822, "body": "Can you add the very beginning of this Perl script to the question?"}, {"owner": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "reply_to_user": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 0, "creation_date": 1505328843, "post_id": 46204760, "comment_id": 79373000, "body": "Edited as requested. See also <a href=\"https://earthexplorer.usgs.gov/inventory/example/json-download_data-pl\" rel=\"nofollow noreferrer\">earthexplorer.usgs.gov/inventory/example/json-download_data-&zwnj;&#8203;pl</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1505329234, "post_id": 46204760, "comment_id": 79373230, "body": "Please provide the basis for your claim that LWP::Protocol::https is installed."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1505329342, "post_id": 46204760, "comment_id": 79373295, "body": "You realise that the program takes parameters on the command line? It&#39;s not unlikely that the response won&#39;t contain valid JSON if there&#39;s an error in the request. I suggest that you print the value of <code>$res</code> before it&#39;s passed to <code>decode_json</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505330768, "post_id": 46204760, "comment_id": 79374032, "body": "Note that passing passwords on the command line is a security violation. Everyone on the machine can see it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1505373387, "post_id": 46204760, "comment_id": 79388491, "body": "For debugging requests and responses with LWP, have a look at LWP::ConsoleLogger::Everywhere."}, {"owner": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "edited": false, "score": 0, "creation_date": 1505402141, "post_id": 46204760, "comment_id": 79408397, "body": "Thanks on the commandline bit - haven&#39;t used this module before. Will try.... no dice."}, {"owner": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "edited": false, "score": 0, "creation_date": 1505402176, "post_id": 46204760, "comment_id": 79408426, "body": "As for LWP::Protocol::https, when I try and install it, I get <code>Database was generated on Wed, 13 Sep 2017 15:29:02 GMT LWP::Protocol::https is up to date (6.07).</code> returned"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505410695, "post_id": 46204760, "comment_id": 79413827, "body": "Please add the output of <code>which cpan ; head -n 1 `which cpan` ; echo &#39;o conf&#39; | cpan | grep -P &#39;make|mbuild&#39; ; set | grep ^PERL ; which perl ; perl -le&#39;use LWP::Protocol::https; print &quot;ok&quot;;&#39;</code> to your answer and notify me (by leaving a comment)."}, {"owner": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "edited": false, "score": 0, "creation_date": 1505421688, "post_id": 46204760, "comment_id": 79419603, "body": "Done. I think we&#39;ve gone beyond my knowledge of per configs, and I suspect it&#39;s that lack that hampering me. Thank you for your help!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1505425198, "post_id": 46204760, "comment_id": 79421103, "body": "Your script uses <code>&#47;usr&#47;bin&#47;perl</code>, but you probably installed it using/for <code>&#47;share&#47;pkg&#47;perl&#47;5.10.1&#47;bin&#47;perl</code>. You need to switch which <code>perl</code> your script uses, or you need to install it using/for <code>&#47;usr&#47;bin&#47;perl</code>. On phone and gotta go. Will give details later if you haven&#39;t figured it out"}, {"owner": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "edited": false, "score": 0, "creation_date": 1505435592, "post_id": 46204760, "comment_id": 79423933, "body": "Bingo. Now there are other errors, but they are due to sensible things having to do with the API which is in my wheelhouse. Thanks for helping me along the path of what is, in retrospect, obvious."}], "answers": [{"comments": [{"owner": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "edited": false, "score": 0, "creation_date": 1505402071, "post_id": 46205001, "comment_id": 79408345, "body": "`  Database was generated on Wed, 13 Sep 2017 15:29:02 GMT LWP::Protocol::https is up to date (6.07). `"}, {"owner": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "edited": false, "score": 0, "creation_date": 1505402303, "post_id": 46205001, "comment_id": 79408512, "body": "Huh - and yet with your debug code: <code>Error: Can&#39;t fetch X: 501 Protocol scheme &#39;https&#39; is not supported (LWP::Protocol::https not installed) </code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "edited": false, "score": 0, "creation_date": 1505410833, "post_id": 46205001, "comment_id": 79413913, "body": "So? Like I said: It wasn&#39;t installed by that Perl, you installed it a non-standard directory without tell Perl to look for it there, or there&#39;s a permission issue."}, {"owner": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "edited": false, "score": 0, "creation_date": 1505423025, "post_id": 46205001, "comment_id": 79420270, "body": "Sorry, not totally following. I installed it, and other modules I installed around the same time appear to be working normally. Sorry if I&#39;m missing something obvious."}, {"owner": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "edited": false, "score": 0, "creation_date": 1505425118, "post_id": 46205001, "comment_id": 79421073, "body": "Fixed! That&#39;s all I got!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1505449337, "last_edit_date": 1505449337, "creation_date": 1505329163, "answer_id": 46205001, "question_id": 46204760, "link": "https://stackoverflow.com/questions/46204760/malformed-json-string-when-using-perl-and-earthexplorer/46205001#46205001", "title": "Malformed JSON string when using perl and earthexplorer", "body": "<p>Your code doesn't check for errors. You should have something like</p>\n\n<pre><code>$response-&gt;is_success()\n   or die(\"Can't fetch X: \".$response-&gt;status_line());\n</code></pre>\n\n<p>The problem you are encountering is that LWP::Protocol::https isn't installed.</p>\n\n<p>You claim it is, but Perl is authoritative here :) It wasn't installed by that Perl, you installed it a non-standard directory without tell Perl to look for it there, or there's a permission issue.</p>\n\n<p>In this case, your script uses <code>/usr/bin/perl</code>, but you installed the module using/for <code>/share/pkg/perl/5.10.1/bin/perl</code>. You need to switch which <code>perl</code> your script uses, or you need to install the module using/for <code>/usr/bin/perl</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1505329792, "creation_date": 1505329792, "answer_id": 46205160, "question_id": 46204760, "link": "https://stackoverflow.com/questions/46204760/malformed-json-string-when-using-perl-and-earthexplorer/46205160#46205160", "title": "Malformed JSON string when using perl and earthexplorer", "body": "<p><em>\"something like how I defined my username and password (just\u00a0<code>$username = \"myusername\";</code>\u00a0etc., after the variables are declared)\"</em></p>\n\n<p>You shouldn't modify the code to add your username and password. The way it's written, the call to <code>GetOptions</code> will overwrite them. You should use</p>\n\n<pre><code>program.pl --usernam myusername --password mypassword\n</code></pre>\n"}], "owner": {"reputation": 8464, "user_id": 190352, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/009d687cc6e429a19c3ab51c87c90047?s=128&d=identicon&r=PG", "display_name": "jebyrnes", "link": "https://stackoverflow.com/users/190352/jebyrnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 46205001, "answer_count": 2, "score": 0, "last_activity_date": 1505449337, "creation_date": 1505328216, "last_edit_date": 1505425085, "question_id": 46204760, "link": "https://stackoverflow.com/questions/46204760/malformed-json-string-when-using-perl-and-earthexplorer", "title": "Malformed JSON string when using perl and earthexplorer", "body": "<p>I'm currently working with the USGS's EarthExplorer to setup some batch downloads of Landsat scenes based on spatial coordinates. They provide a wonderful handy script to do this at <a href=\"https://earthexplorer.usgs.gov/inventory/example/json-download_data-pl\" rel=\"nofollow noreferrer\">https://earthexplorer.usgs.gov/inventory/example/json-download_data-pl</a> which is great. I'm working on a cluster, and despite installing all perl modules properly, when I run the script I get the following output:</p>\n\n<pre><code>Running Script...\n\n\nError: Error: malformed JSON string, neither array, object, number, string or \natom, at character offset 0 (before \"LWP will support htt...\") at ./dl.pl line 182\n</code></pre>\n\n<p>This seems curious.  As way of explanation, the script starts out with</p>\n\n<pre><code>#!/usr/bin/perl\n\n#use strict;\nuse warnings;\nuse 5.010;\nuse JSON;\nuse Scalar::Util qw(looks_like_number reftype dualvar );\nuse LWP::UserAgent;\nuse Getopt::Long qw(GetOptions);\n\nmy ($username, $password);\n$username = \"myusername_filled_in\";\n$password = \"mypassword_filled_in\";\n\nGetOptions(\n    'username=s' =&gt; \\$username,\n    'password=s' =&gt; \\$password,\n) or die \"Error retrieving Username and Password\\n\";\n</code></pre>\n\n<p>and the offending bit of code is</p>\n\n<pre><code>    $res = $response-&gt;{_content};\n    $res = decode_json $res;\n</code></pre>\n\n<p>Following very useful advice in <a href=\"https://stackoverflow.com/questions/16513774/cant-run-perl-script-on-other-computer\">Can&#39;t run Perl script on other computer</a> I have done the following:</p>\n\n<ol>\n<li><p>Changed <code>$response-&gt;content</code> to <code>$response-&gt;decoded_content( charset =&gt; 'none')</code> in the offending area of code.</p></li>\n<li><p>Ran <code>lwp-request https://google.com/</code> which just pulled back a full webpage - no error. So, that seems to be working.</p></li>\n<li><p>Tried to see some debug by inserting <code>print $response-&gt;decoded_content( charset =&gt; 'none');</code> which then threw the error</p></li>\n</ol>\n\n<p><code>LWP will support https URLs if the LWP::Protocol::https module is installed.</code></p>\n\n<p>And, indeed, LWP::Protocol::https is installed.</p>\n\n<p>I feel like there must be something simple I'm missing - something like how I defined my username and password (just <code>$username = \"myusername\";</code> etc., after the variables are declared) or something else asinine.</p>\n\n<p>Has anyone else run into this?</p>\n\n<hr>\n\n<p>To add output from the query below:</p>\n\n<pre><code>$ which cpan ; head -n 1 `which cpan` ; echo 'o conf' | cpan | grep -P 'make|mbuild' ; set | grep ^PERL ; which perl ; perl -le'use LWP::Protocol::https; print \"ok\";'\n\n/share/pkg/perl/5.10.1/bin/cpan\n#!/share/pkg/perl/5.10.1/bin/perl\n    make               [/usr/bin/make]\n    make_arg           []\n    make_install_arg   []\n    make_install_make_command [/usr/bin/make]\n    makepl_arg         []\n    mbuild_arg         []\n    mbuild_install_arg []\n    mbuild_install_build_command [./Build]\n    mbuildpl_arg       []\nPERL5LIB=/home/jb92b/perl5/lib/perl5:/home/jb92b/perl5/lib/perl5:/home/jb92b/perl5/lib/perl5\nPERL_LOCAL_LIB_ROOT=/home/jb92b/perl5:/home/jb92b/perl5:/home/jb92b/perl5\nPERL_MB_OPT='--install_base \"/home/jb92b/perl5\"'\nPERL_MM_OPT=INSTALL_BASE=/home/jb92b/perl5\n/share/pkg/perl/5.10.1/bin/perl\nok\n</code></pre>\n"}, {"tags": ["perl", "operator-overloading"], "answers": [{"tags": [], "owner": {"reputation": 2652, "user_id": 200304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/88ded01f5ac55b85bb3dd544dce38989?s=128&d=identicon&r=PG", "display_name": "Johannes Ernst", "link": "https://stackoverflow.com/users/200304/johannes-ernst"}, "is_accepted": false, "score": 3, "last_activity_date": 1505327253, "creation_date": 1505327253, "answer_id": 46204498, "question_id": 46204472, "link": "https://stackoverflow.com/questions/46204472/where-is-perls-default-object-to-string-conversion-defined/46204498#46204498", "title": "Where is Perl&#39;s default object-to-string conversion defined?", "body": "<p>Never mind, of course the minute after I post this, I find the answer:</p>\n\n<pre><code>overload::StrVal($o)\n</code></pre>\n\n<p>(see also <a href=\"https://stackoverflow.com/questions/26126621/stop-perl-overloading-or-print-memory-address-of-reference#26126887\">Stop perl overloading or print memory &quot;address&quot; of reference</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1506142909, "last_edit_date": 1506142909, "creation_date": 1505328413, "answer_id": 46204814, "question_id": 46204472, "link": "https://stackoverflow.com/questions/46204472/where-is-perls-default-object-to-string-conversion-defined/46204814#46204814", "title": "Where is Perl&#39;s default object-to-string conversion defined?", "body": "<p>One way to stringify based on object's data</p>\n\n<pre><code>package ClassStringify;\n\nuse warnings;\nuse strict;\n\nsub new {\n    my ($class, %args) = @_; \n    return bless { %args }, $class; \n}\n\nuse overload  q(\"\") =&gt; sub { \n    my $self = shift; \n    return exists $self-&gt;{name} ? $self-&gt;stringify() : $self;\n};\n\nsub stringify {\n    my $self = shift;\n    return join \"\\n\", map { \"$_ =&gt; $self-&gt;{$_}\" } keys %$self;\n}\n\n1;\n</code></pre>\n\n<p>with main</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse ClassStringify;\n\nsay ClassStringify-&gt;new( name =&gt; 'obj_name', id =&gt; 123 );\nsay '---';    \nsay ClassStringify-&gt;new( id =&gt; 123 );\n</code></pre>\n\n<p>what prints</p>\n\n<pre>\nname => obj_name\nid => 123\n---\nClassStringify=HASH(0x23b62c8)\n</pre>\n\n<p>This is just a sketch of course.</p>\n\n<hr>\n\n<p>For the desired print format</p>\n\n<pre><code>use overload  q(\"\") =&gt; sub { \n    my $self = shift; \n    return exists $self-&gt;{name} ? $self-&gt;stringify('name') : $self;   \n};\n\nsub stringify {\n    my ($self, $attr) = @_; \n    return ref($self) . \" ($attr=$self-&gt;{$attr})\";\n}\n</code></pre>\n\n<p>This prints</p>\n\n<pre>\nClassStringify (name=obj_name)\n---\nClassStringify=HASH(0x22852c8)\n</pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1505329353, "last_edit_date": 1505329353, "creation_date": 1505328632, "answer_id": 46204871, "question_id": 46204472, "link": "https://stackoverflow.com/questions/46204472/where-is-perls-default-object-to-string-conversion-defined/46204871#46204871", "title": "Where is Perl&#39;s default object-to-string conversion defined?", "body": "<p>I don't believe the format is documented, but it's unlikely to change. It's equivalent to</p>\n\n<pre><code>use Scalar::Util qw( blessed refaddr reftype );\n\nmy $pkg = blessed($ref);\nmy $str = sprintf(\"%s%s(0x%x)\",\n   ( defined($pkg) ? \"$pkg=\" : \"\" ),\n   reftype($ref),\n   refaddr($ref),\n);\n</code></pre>\n\n<p>You can use <code>blessed</code>, <code>reftype</code> and <code>refaddr</code> if you want the components of Perl's stringification of a reference, but the following is the best way to obtain Perl's stringification of a reference:</p>\n\n<pre><code>use overload qw( );\n\nmy $str = overload::StrVal($ref);\n</code></pre>\n"}], "owner": {"reputation": 2652, "user_id": 200304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/88ded01f5ac55b85bb3dd544dce38989?s=128&d=identicon&r=PG", "display_name": "Johannes Ernst", "link": "https://stackoverflow.com/users/200304/johannes-ernst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1506142909, "creation_date": 1505327117, "question_id": 46204472, "link": "https://stackoverflow.com/questions/46204472/where-is-perls-default-object-to-string-conversion-defined", "title": "Where is Perl&#39;s default object-to-string conversion defined?", "body": "<p>If I print a reference to a blessed object in Perl, I get something like this:</p>\n\n<pre><code>Foo::Bar=HASH(0x0123456789ab)\n</code></pre>\n\n<p>Where is that code defined? The first part is <code>ref($obj)</code>, but where does the HASH hex value come from?</p>\n\n<p>I'm attempting to write a <code>to_string</code> overloaded operator for objects that have an optional <code>name</code> attribute. If the <code>name</code> is provided, I'd like it to print</p>\n\n<pre><code>Foo::Bar(name=joe)\n</code></pre>\n\n<p>and fall back to the default Perl string if not <code>name</code> is undefined. So I either have to be able to invoke Perl's conversion code from my code, or write the equivalent myself, hence my question.</p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1505321124, "post_id": 46202532, "comment_id": 79368617, "body": "Are the actual end of lines as described in your code as &quot;\\r\\n&quot; rather than just &quot;\\n&quot;?"}, {"owner": {"reputation": 113, "user_id": 3043179, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7b07600ff0f79371cb293ccac729c6f9?s=128&d=identicon&r=PG", "display_name": "Geethanadh", "link": "https://stackoverflow.com/users/3043179/geethanadh"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1505323081, "post_id": 46202532, "comment_id": 79369729, "body": "its \\n only, i tried both \\n and \\r\\n, both failed for me"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1505324804, "post_id": 46202532, "comment_id": 79370691, "body": "Is there anything specific about the format -- number of fields, where newlines cannot be, expected patterns in fields ... ?  If yes you can pre-process the file to clean it up.  If no, well, <code>\\n</code> indicates the end of line, just like on all other lines."}, {"owner": {"reputation": 113, "user_id": 3043179, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7b07600ff0f79371cb293ccac729c6f9?s=128&d=identicon&r=PG", "display_name": "Geethanadh", "link": "https://stackoverflow.com/users/3043179/geethanadh"}, "edited": false, "score": 0, "creation_date": 1505332313, "post_id": 46202532, "comment_id": 79374834, "body": "i was thinking pre-process is the only way.. Thank :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1505337644, "post_id": 46202532, "comment_id": 79377394, "body": "If you figure out any regularity in data it shouldn&#39;t be a problem.  I&#39;d suggest to stop re-processing at the cleanup and then use <code>Text::CSV</code>."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 3043179, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7b07600ff0f79371cb293ccac729c6f9?s=128&d=identicon&r=PG", "display_name": "Geethanadh", "link": "https://stackoverflow.com/users/3043179/geethanadh"}, "edited": false, "score": 0, "creation_date": 1505332392, "post_id": 46204213, "comment_id": 79374888, "body": "not sure if the lines are terminated by \\r\\n, i will have to look once again, if not then will try to proceed with some pre-process to cleanup the stuff as @zdim suggested"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 113, "user_id": 3043179, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7b07600ff0f79371cb293ccac729c6f9?s=128&d=identicon&r=PG", "display_name": "Geethanadh", "link": "https://stackoverflow.com/users/3043179/geethanadh"}, "edited": false, "score": 1, "creation_date": 1505332574, "post_id": 46204213, "comment_id": 79374983, "body": "If the lines are ended with newlines, you could still fix the data if the number of fields is known and the last field never contains newlines. In that situation, a row consists of N-1 pipe-terminated fields, then one newline-terminated field."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1505328277, "last_edit_date": 1505328277, "creation_date": 1505326121, "answer_id": 46204213, "question_id": 46202532, "link": "https://stackoverflow.com/questions/46202532/perl-parsing-csv-with-new-line-in-data-but-without-quotest/46204213#46204213", "title": "Perl: parsing csv with new line in data but without quotest", "body": "<p>Text::CSV is just a proxy for Text::CSV_PP or Text::CSV_XS. I can replicate the bug in both.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse Data::Dumper qw( );\nuse Text::CSV_XS qw( );   # Or Text::CSV_PP\n\nsub dumper {\n    local $Data::Dumper::Indent = 0;\n    local $Data::Dumper::Terse  = 1;\n    local $Data::Dumper::Useqq  = 1;\n    return Data::Dumper::Dumper($_[0]);\n}\n\nmy $csv = Text::CSV_XS-&gt;new({   # Or Text::CSV_PP\n    auto_diag             =&gt; 2,\n    allow_loose_quotes    =&gt; 1,\n    eol                   =&gt; \"\\r\\n\",\n    sep_char              =&gt; '|',\n    allow_unquoted_escape =&gt; 1,\n    escape_char           =&gt; '\\\\',\n    binary                =&gt; 1\n});\n\nmy $file = \"01|10|Alpha|Test\\r\\n01|20|Alpha\\n2|Test\\r\\n01|30|Alpha|Test\\r\\n\";\nopen(my $fh, '&lt;:raw', \\$file) or die $!;\nmy $rows = $csv-&gt;getline_all($fh);\nsay dumper($rows);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[\"01\",10,\"Alpha\",\"Test\"],[\"01\",20,\"Alpha\"],[\"01\",30,\"Alpha\",\"Test\"]]\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>[[\"01\",10,\"Alpha\",\"Test\"],[\"01\",20,\"Alpha\\n2\",\"Test\"],[\"01\",30,\"Alpha\",\"Test\"]]\n</code></pre>\n\n<hr>\n\n<p>If they never use quotes or escapes, just read CRLF-terminated lines and split on pipe.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse Data::Dumper qw( );\n\nsub dumper {\n    local $Data::Dumper::Indent = 0;\n    local $Data::Dumper::Terse  = 1;\n    local $Data::Dumper::Useqq  = 1;\n    return Data::Dumper::Dumper($_[0]);\n}\n\nmy $file = \"01|10|Alpha|Test\\r\\n01|20|Alpha\\n2|Test\\r\\n01|30|Alpha|Test\\r\\n\";\nopen(my $fh, '&lt;:raw', \\$file) or die $!;\nmy @rows = do { local $/ = \"\\r\\n\"; map { [ split(/\\|/, substr($_, 0, -2), -1) ] } &lt;$fh&gt; };\nsay dumper(\\@rows);\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3043179, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7b07600ff0f79371cb293ccac729c6f9?s=128&d=identicon&r=PG", "display_name": "Geethanadh", "link": "https://stackoverflow.com/users/3043179/geethanadh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 46204213, "answer_count": 1, "score": 1, "last_activity_date": 1505328277, "creation_date": 1505319924, "last_edit_date": 1505321059, "question_id": 46202532, "link": "https://stackoverflow.com/questions/46202532/perl-parsing-csv-with-new-line-in-data-but-without-quotest", "title": "Perl: parsing csv with new line in data but without quotest", "body": "<p>I have a simple perl script that parses csv</p>\n\n<pre><code>my $csv = Text::CSV-&gt;new(\n    {   auto_diag             =&gt; 1,\n        allow_loose_quotes    =&gt; 1,\n        eol                   =&gt; \"\\r\\n\",\n        sep_char              =&gt; '|',\n        allow_unquoted_escape =&gt; 1,\n        escape_char           =&gt; '\\\\',\n        binary                =&gt; 1\n    }\n    )\n    or die \"\" . Text::CSV-&gt;error_diag();\n</code></pre>\n\n<p>Now i have a wierd csv</p>\n\n<pre><code>01|10|Alpha|Test\n01|20|Alpha\n2|Test\n</code></pre>\n\n<p>Though it looks like 3 lines the last one is \"Alpha\\n2\", but unfortunately my source system doesn't send them in quotes, is there any way i can successfully use the csv??</p>\n"}, {"tags": ["perl", "config", "sudo", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5686217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abc0b958f6f23470781c6a41e07f1a17?s=128&d=identicon&r=PG", "display_name": "user30826", "link": "https://stackoverflow.com/users/5686217/user30826"}, "edited": false, "score": 0, "creation_date": 1505374579, "post_id": 46204341, "comment_id": 79389118, "body": "Thanks, I could re-run the config, but it does not ask for the &#39;sudo&#39; option anymore... I would like to install modules for all users"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1505326890, "last_edit_date": 1505326890, "creation_date": 1505326531, "answer_id": 46204341, "question_id": 46202244, "link": "https://stackoverflow.com/questions/46202244/re-run-perl-cpan-automatic-config/46204341#46204341", "title": "re-run perl cpan automatic config", "body": "<p>From within <code>cpan</code>,</p>\n\n<pre><code>o conf init\n</code></pre>\n\n<hr>\n\n<p>Alternatively, delete <code>~/.cpan/CPAN/MyConfig.pm</code> (after backing it up, preferably).</p>\n\n<hr>\n\n<p>Alternatively, from within <code>cpan</code>,</p>\n\n<pre><code>o conf makepl_arg                   ''\no conf make                         '/usr/bin/make'\no conf make_arg                     ''\no conf make_install_make_command    'sudo /usr/bin/make'\no conf make_install_arg             ''\no conf mbuildpl_arg                 ''\no conf mbuild_arg                   ''\no conf mbuild_install_build_command 'sudo ./Build'\no conf mbuild_install_arg           ''\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5686217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abc0b958f6f23470781c6a41e07f1a17?s=128&d=identicon&r=PG", "display_name": "user30826", "link": "https://stackoverflow.com/users/5686217/user30826"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "accepted_answer_id": 46204341, "answer_count": 1, "score": 1, "last_activity_date": 1505326890, "creation_date": 1505318943, "question_id": 46202244, "link": "https://stackoverflow.com/questions/46202244/re-run-perl-cpan-automatic-config", "title": "re-run perl cpan automatic config", "body": "<p>This might be trivial for someone deep into perl: how can I re-run the automatic config of cpan on mac? I have chosen 'local::lib', however just recognised I should have chosen 'sudo'. How can I re-configure?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1505319196, "post_id": 46202219, "comment_id": 79367501, "body": "Yes, of course. But what&#39;s the problem here, doesn&#39;t it work for you?"}, {"owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "reply_to_user": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1505319538, "post_id": 46202219, "comment_id": 79367700, "body": "@yacc doesnt work for me, I try multiple regex pattern but still cannot get an output as &#39;PtpAgent&#39; only"}, {"owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1505319662, "post_id": 46202219, "comment_id": 79367777, "body": "Provide some example that doesn&#39;t work."}, {"owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "reply_to_user": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1505320815, "post_id": 46202219, "comment_id": 79368421, "body": "@yacc $_ =~ m/\\/(\\w+)/ this is what i wrote from last try"}, {"owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1505321192, "post_id": 46202219, "comment_id": 79368675, "body": "This cannot work. <code>=~ m&#47;...&#47;</code> is the matching operator, it won&#39;t change <code>$_</code>. Use <code>s|.*&#47;||</code> instead."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1505321489, "post_id": 46202219, "comment_id": 79368857, "body": "You should do: <code>open(my $ps_handle, &#39;ps -ef|&#39;);</code> and finish the job in perl instead of using grep and awk."}], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": false, "score": 1, "last_activity_date": 1505325214, "creation_date": 1505325214, "answer_id": 46203964, "question_id": 46202219, "link": "https://stackoverflow.com/questions/46202219/alter-in-execution-command-under-perl-script/46203964#46203964", "title": "Alter $_ in execution command under perl script", "body": "<p>You can, I suggest you use s/// which defaults to $_</p>\n\n<pre><code>s#.*/(.*?)\\.sh$#$1#\n</code></pre>\n\n<p>You can also do</p>\n\n<pre><code>$_=~s#.*/(.*?)\\.sh$#$1#;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$_=\"some text\";\n</code></pre>\n\n<p>let me also suggest you keep the pipes to a minimum and just use perl for the filtering. It's much cleaner</p>\n\n<pre><code>my $status = qx(/usr/bin/ps -ef ) ;\n$status=~s/.*\\n.*?(grep.*?)\\n.*/$1/m;  #adjust the capture group accordingly\n</code></pre>\n\n<p>However, this is merely personal preference.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 7689532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9c09ca0324e286c1e9660f3a2a2c22c?s=128&d=identicon&r=PG&f=1", "display_name": "Chandan Paranjape", "link": "https://stackoverflow.com/users/7689532/chandan-paranjape"}, "is_accepted": false, "score": 1, "last_activity_date": 1505375645, "creation_date": 1505375645, "answer_id": 46213498, "question_id": 46202219, "link": "https://stackoverflow.com/questions/46202219/alter-in-execution-command-under-perl-script/46213498#46213498", "title": "Alter $_ in execution command under perl script", "body": "<p>hoffmeister's approach of minimizing the pipes and working with PERL regex would be good as you would just need to split on \"/\" and get the last element to get the string which you need. And then you can easily pass it on through the next phases of pipe.</p>\n"}], "owner": {"reputation": 199, "user_id": 7417672, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2ad237af02e20c5e05e2fc22985bf646?s=128&d=identicon&r=PG&f=1", "display_name": "MrAZ", "link": "https://stackoverflow.com/users/7417672/mraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1505375645, "creation_date": 1505318869, "question_id": 46202219, "link": "https://stackoverflow.com/questions/46202219/alter-in-execution-command-under-perl-script", "title": "Alter $_ in execution command under perl script", "body": "<p>In my code have a line as below,</p>\n\n<pre><code>my $status = `/usr/bin/ps -ef | grep $_ | grep -v grep | awk '{print\\$2}'`;\n</code></pre>\n\n<p>Which $_ contained string as below,</p>\n\n<blockquote>\n  <p>/home/production/agt/PtpAgent.sh</p>\n</blockquote>\n\n<p>Can I alter the $_ output value to be 'PtpAgent' in the execution command, for example,</p>\n\n<pre><code>my $status = `/usr/bin/ps -ef | grep &lt;some_regex_pattern&gt;$_&lt;some_regex_pattern&gt; | grep -v grep | awk '{print\\$2}'`;\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1505315904, "post_id": 46201090, "comment_id": 79365186, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have any code, then Stack Overflow is probably the wrong place for your question."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505315952, "post_id": 46201090, "comment_id": 79365212, "body": "How is your first hash created? The best approach will be to create the second hash at the same time as the first."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1505315968, "post_id": 46201090, "comment_id": 79365223, "body": "Is this a data structure you&#39;ve pasted or some text? It doesn&#39;t look like it&#39;s a hash already. But it&#39;s doable to map &#39;tween the two via <code>keys</code> <code>values</code> and maybe hash slices."}], "answers": [{"comments": [{"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 0, "creation_date": 1505326614, "post_id": 46204144, "comment_id": 79371715, "body": "you could also use an hash of an array of hashes"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505381073, "post_id": 46204144, "comment_id": 79393180, "body": "I&#39;ve edited this answer to remove a link to a copyright-violating copy of a really out-of-date Perl book and replaced it with a link to the official documentation. Please don&#39;t put links like that on Stack Overflow."}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505383109, "post_id": 46204144, "comment_id": 79394652, "body": "Ok, np. Didn&#39;t realise there are good and bad links. I&#39;ll keep it to offical perl and perl maven. Cheers"}], "tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": true, "score": 0, "last_activity_date": 1505381000, "last_edit_date": 1505381000, "creation_date": 1505325856, "answer_id": 46204144, "question_id": 46201090, "link": "https://stackoverflow.com/questions/46201090/split-values-from-hash-to-another-hash-in-perl/46204144#46204144", "title": "Split values from hash to another hash in perl", "body": "<p>you need to make a hash of hashes </p>\n\n<pre><code>%hash = \n( \n  TEST =&gt; 'xxx',\n  STACK =&gt; 1,\n  1 =&gt; {\n  'ID' =&gt; '111',\n  'VALUE' =&gt; 'Test',\n  } , \n    2 =&gt; {\n      'ID' =&gt; '222',\n      'VALUE' =&gt; 'Sample',\n   }\n);\n</code></pre>\n\n<p>to access them</p>\n\n<pre><code>$hash{1}-&gt;{ID};\n</code></pre>\n\n<p>here is a link for more info on hash of hashes <a href=\"https://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">LINK</a></p>\n"}], "owner": {"reputation": 29, "user_id": 7252841, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d271f205092dddf6e79d7bd8067c01fa?s=128&d=identicon&r=PG&f=1", "display_name": "Sarath", "link": "https://stackoverflow.com/users/7252841/sarath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 46204144, "answer_count": 1, "score": 0, "last_activity_date": 1505381000, "creation_date": 1505315544, "question_id": 46201090, "link": "https://stackoverflow.com/questions/46201090/split-values-from-hash-to-another-hash-in-perl", "title": "Split values from hash to another hash in perl", "body": "<p>I have a Hash like this. In this there are some repeated values like ID and VALUES are coming as shown in the given below code.</p>\n\n<pre><code>HASH = {\nTEST =&gt; 'xxx',\nSTACK =&gt; 1,\n  'ID{0}' =&gt; '111',\n  'ID{1}' =&gt; '222',\n  'VALUE{0}' =&gt; 'Test',\n  'VALUE{1}' =&gt; 'Sample',\n};\n</code></pre>\n\n<p>I want to take these values out to another Hash as given below.</p>\n\n<pre><code>Hash ={\n0 =&gt; { ID =&gt; '111', VALUE =&gt; 'Test }\n1 =&gt; { ID =&gt; '222', VALUE =&gt; 'Sample' }\n}\n</code></pre>\n\n<p>How i can do this in Perl?</p>\n"}, {"tags": ["regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 2, "creation_date": 1505313471, "post_id": 46200305, "comment_id": 79363426, "body": "To be honest, a regex alone probably won&#39;t cover validating all chemical expressions.  The reason for this is that a chemical formula may have nested parenthesis of arbitrary depth.  Instead a parser might be more appropriate here."}, {"owner": {"reputation": 4979, "user_id": 385132, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/224ac20c6793964efb2785a946fa70ad?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/385132/chris"}, "edited": false, "score": 1, "creation_date": 1505313480, "post_id": 46200305, "comment_id": 79363435, "body": "This seems a little insane. Chemists don&#39;t follow strict syntactic rules when writing such formulae. Organic chemists will often throw an <code>R</code> in there to represent an arbitrary carbon-based group, or a <code>Ph</code> for a phenyl group, or an <code>X</code> for a halide, and on and on and on. That&#39;s just a tiny tase of the potential irregularities. Are you SURE you have to do this?"}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 4979, "user_id": 385132, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/224ac20c6793964efb2785a946fa70ad?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/385132/chris"}, "edited": false, "score": 0, "creation_date": 1505313726, "post_id": 46200305, "comment_id": 79363629, "body": "@Chris To add to that, simply because a formula passes the regex does not mean that the molecule actually exists.  There are many layers of validation here."}, {"owner": {"reputation": 4979, "user_id": 385132, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/224ac20c6793964efb2785a946fa70ad?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/385132/chris"}, "edited": false, "score": 0, "creation_date": 1505313806, "post_id": 46200305, "comment_id": 79363696, "body": "Presumably the text the OP is using is responsible for knowing its chemistry, and the goal is just to identify when the text is expressing a formula. But still..."}, {"owner": {"reputation": 65, "user_id": 8603866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57426528de0349188baa4b8f15ecbbc?s=128&d=identicon&r=PG&f=1", "display_name": "Krissy Budd", "link": "https://stackoverflow.com/users/8603866/krissy-budd"}, "reply_to_user": {"reputation": 4979, "user_id": 385132, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/224ac20c6793964efb2785a946fa70ad?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/385132/chris"}, "edited": false, "score": 0, "creation_date": 1505313900, "post_id": 46200305, "comment_id": 79363767, "body": "Hello @Chris, in this application at least, I do not have to deal with variable groups or standard group abbreviations like <code>en</code> or <code>Me</code>, as they were disallowed in the application I have. But you are right that one should be wary of those special situations in the most general case."}, {"owner": {"reputation": 65, "user_id": 8603866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57426528de0349188baa4b8f15ecbbc?s=128&d=identicon&r=PG&f=1", "display_name": "Krissy Budd", "link": "https://stackoverflow.com/users/8603866/krissy-budd"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1505314005, "post_id": 46200305, "comment_id": 79363846, "body": "@Tim, for my purposes, the depth of parenthesization/ bracketing is limited to two; e.g. <code>[(CH3)2CH]2BCH2I</code>. And yes, these are records of synthesized substances, so they certainly do exist."}, {"owner": {"reputation": 4979, "user_id": 385132, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/224ac20c6793964efb2785a946fa70ad?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/385132/chris"}, "edited": false, "score": 0, "creation_date": 1505314171, "post_id": 46200305, "comment_id": 79363978, "body": "I believe (not totally sure otherwise I would post an answer) that your requirement to match complete sets of parentheses is a big indication that you need a parser. A parser has state and can know things like &quot;I&#39;m in a parenthetical now&quot; and therefore make sense of closing them again."}, {"owner": {"reputation": 65, "user_id": 8603866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57426528de0349188baa4b8f15ecbbc?s=128&d=identicon&r=PG&f=1", "display_name": "Krissy Budd", "link": "https://stackoverflow.com/users/8603866/krissy-budd"}, "edited": false, "score": 0, "creation_date": 1505314352, "post_id": 46200305, "comment_id": 79364115, "body": "(I was also going to ask at the chemistry site, but figure that there are too few people there who know regexes.)"}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1505314433, "post_id": 46200305, "comment_id": 79364173, "body": "@Krissy The point here is that a simple regex probably cannot handle nested parentheses.  You need a parser."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 2, "creation_date": 1505316363, "post_id": 46200305, "comment_id": 79365529, "body": "@TimBiegeleisen The Perl and PCRE regex engines are capable of handling recursive syntax. Speaking formally, they can recognize at least all <code>LL(*)</code> (LL-regular) languages."}], "answers": [{"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 5, "last_activity_date": 1505315789, "creation_date": 1505315789, "answer_id": 46201168, "question_id": 46200305, "link": "https://stackoverflow.com/questions/46200305/a-strict-regular-expression-for-matching-chemical-formulae/46201168#46201168", "title": "A strict regular expression for matching chemical formulae", "body": "<p>It is best not to assemble such a large regex manually. Instead, let's assume we have an array of atoms <code>@atoms</code>. We can then create a regex matching any of these atoms like:</p>\n\n<pre><code>my ($atoms_regex) = map qr/$_/, join '|', map quotemeta, sort @atoms;\n</code></pre>\n\n<p>(Sort all items so that shorter atom names come first, then escape all items with <code>quotemeta</code>, join them with a <code>|</code> for alternatives, and compile the regex.)</p>\n\n<p>You can add any used abbreviations to the <code>@atoms</code> array.</p>\n\n<p>Next, we can write a regex that allows grouping and numbering. Our regex will match any number of items, where an item may be an atom or a group, and may be followed by a number:</p>\n\n<pre><code>my $chemical_formula_regex = qr/\n  (?&amp;item)++\n  (?(DEFINE)\n    (?&lt;item&gt; (?: \\((?&amp;item)++\\) | \\[(?&amp;item)++\\] | $atoms_regex ) [0-9]* )\n  )\n/x;\n</code></pre>\n\n<ul>\n<li><p>Within the <code>(?(DEFINE) ...)</code> group we can define named subpatterns with <code>(?&lt;name&gt; ...)</code>. A subpattern is like a subroutine for a regex. We can call those subpatterns with <code>(?&amp;name)</code>. This allows us to structure the regex without unnecessary repetition.</p></li>\n<li><p>The <code>/x</code> flag allows us to use whitespace and linebreaks and comments to lay out the regex in a more readable fashion. Regexes don't have to be an incomprehensible mess!</p></li>\n<li><p>The <code>++</code> quantifier instead of <code>+</code> is not strictly necessary, but prevents unwanted backtracking. That may be a bit faster when a match fails.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 8603866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57426528de0349188baa4b8f15ecbbc?s=128&d=identicon&r=PG&f=1", "display_name": "Krissy Budd", "link": "https://stackoverflow.com/users/8603866/krissy-budd"}, "edited": false, "score": 0, "creation_date": 1505327983, "post_id": 46204355, "comment_id": 79372529, "body": "Nice layout. I&#39;ve added the current names instead of the provisional names. Nevertheless, will try this tomorrow at work!"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 65, "user_id": 8603866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57426528de0349188baa4b8f15ecbbc?s=128&d=identicon&r=PG&f=1", "display_name": "Krissy Budd", "link": "https://stackoverflow.com/users/8603866/krissy-budd"}, "edited": false, "score": 0, "creation_date": 1505328423, "post_id": 46204355, "comment_id": 79372795, "body": "@KrissyBudd Thanks! Do you want to keep the old element symbols as well? I can add back in <code>Uub</code>, <code>Uut</code>, etc. under the new element names. This would appear as, for example <code>(?&lt;Copernicium&gt;Cn|Uub)</code>"}, {"owner": {"reputation": 65, "user_id": 8603866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57426528de0349188baa4b8f15ecbbc?s=128&d=identicon&r=PG&f=1", "display_name": "Krissy Budd", "link": "https://stackoverflow.com/users/8603866/krissy-budd"}, "edited": false, "score": 0, "creation_date": 1505328522, "post_id": 46204355, "comment_id": 79372860, "body": "No, I think I would prefer that only the current names be used. (We have already done a search and replace in that regard.)"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 65, "user_id": 8603866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57426528de0349188baa4b8f15ecbbc?s=128&d=identicon&r=PG&f=1", "display_name": "Krissy Budd", "link": "https://stackoverflow.com/users/8603866/krissy-budd"}, "edited": false, "score": 0, "creation_date": 1505328566, "post_id": 46204355, "comment_id": 79372887, "body": "@KrissyBudd Perfect! I&#39;ll update the link on regex101 with the same information as the regex here"}], "tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": true, "score": 9, "last_activity_date": 1505328644, "last_edit_date": 1505328644, "creation_date": 1505326585, "answer_id": 46204355, "question_id": 46200305, "link": "https://stackoverflow.com/questions/46200305/a-strict-regular-expression-for-matching-chemical-formulae/46204355#46204355", "title": "A strict regular expression for matching chemical formulae", "body": "<h2>Brief</h2>\n\n<p>I decided why not create a massive regex to do what you want (but still maintain a clean regex). This regex would be used in conjunction with a loop to go over matches for bracket or parentheses groups.</p>\n\n<hr>\n\n<h2>Assumptions</h2>\n\n<p>I am assuming the following since the OP has not given a full list of positive and negative matches:</p>\n\n<ul>\n<li>Nested parentheses aren't possible</li>\n<li>Nested square brackets aren't possible</li>\n<li>Square bracket groups that surround a single parentheses group are redundant and therefore incorrect</li>\n<li>Square bracket groups must contain at least 2 groups, of which 1 such group must be a parentheses group</li>\n</ul>\n\n<p>If any of these assumptions are incorrect, please let me know so that I may fix the regex accordingly</p>\n\n<hr>\n\n<h2>Answer</h2>\n\n<p><strong><a href=\"https://regex101.com/r/UjOvca/4\" rel=\"noreferrer\">View this regex in use here</a></strong></p>\n\n<h3>Code</h3>\n\n<pre><code>(?(DEFINE)\n  (?# Periodic elements )\n  (?&lt;Hydrogen&gt;H)\n  (?&lt;Helium&gt;He)\n  (?&lt;Lithium&gt;Li)\n  (?&lt;Beryllium&gt;Be)\n  (?&lt;Boron&gt;B)\n  (?&lt;Carbon&gt;C)\n  (?&lt;Nitrogen&gt;N)\n  (?&lt;Oxygen&gt;O)\n  (?&lt;Fluorine&gt;F)\n  (?&lt;Neon&gt;Ne)\n  (?&lt;Sodium&gt;Na)\n  (?&lt;Magnesium&gt;Mg)\n  (?&lt;Aluminum&gt;Al)\n  (?&lt;Silicon&gt;Si)\n  (?&lt;Phosphorus&gt;P)\n  (?&lt;Sulfur&gt;S)\n  (?&lt;Chlorine&gt;Cl)\n  (?&lt;Argon&gt;Ar)\n  (?&lt;Potassium&gt;K)\n  (?&lt;Calcium&gt;Ca)\n  (?&lt;Scandium&gt;Sc)\n  (?&lt;Titanium&gt;Ti)\n  (?&lt;Vanadium&gt;V)\n  (?&lt;Chromium&gt;Cr)\n  (?&lt;Manganese&gt;Mn)\n  (?&lt;Iron&gt;Fe)\n  (?&lt;Cobalt&gt;Co)\n  (?&lt;Nickel&gt;Ni)\n  (?&lt;Copper&gt;Cu)\n  (?&lt;Zinc&gt;Zn)\n  (?&lt;Gallium&gt;Ga)\n  (?&lt;Germanium&gt;Ge)\n  (?&lt;Arsenic&gt;As)\n  (?&lt;Selenium&gt;Se)\n  (?&lt;Bromine&gt;Br)\n  (?&lt;Krypton&gt;Kr)\n  (?&lt;Rubidium&gt;Rb)\n  (?&lt;Strontium&gt;Sr)\n  (?&lt;Yttrium&gt;Y)\n  (?&lt;Zirconium&gt;Zr)\n  (?&lt;Niobium&gt;Nb)\n  (?&lt;Molybdenum&gt;Mo)\n  (?&lt;Technetium&gt;Tc)\n  (?&lt;Ruthenium&gt;Ru)\n  (?&lt;Rhodium&gt;Rh)\n  (?&lt;Palladium&gt;Pd)\n  (?&lt;Silver&gt;Ag)\n  (?&lt;Cadmium&gt;Cd)\n  (?&lt;Indium&gt;In)\n  (?&lt;Tin&gt;Sn)\n  (?&lt;Antimony&gt;Sb)\n  (?&lt;Tellurium&gt;Te)\n  (?&lt;Iodine&gt;I)\n  (?&lt;Xenon&gt;Xe)\n  (?&lt;Cesium&gt;Cs)\n  (?&lt;Barium&gt;Ba)\n  (?&lt;Lanthanum&gt;La)\n  (?&lt;Cerium&gt;Ce)\n  (?&lt;Praseodymium&gt;Pr)\n  (?&lt;Neodymium&gt;Nd)\n  (?&lt;Promethium&gt;Pm)\n  (?&lt;Samarium&gt;Sm)\n  (?&lt;Europium&gt;Eu)\n  (?&lt;Gadolinium&gt;Gd)\n  (?&lt;Terbium&gt;Tb)\n  (?&lt;Dysprosium&gt;Dy)\n  (?&lt;Holmium&gt;Ho)\n  (?&lt;Erbium&gt;Er)\n  (?&lt;Thulium&gt;Tm)\n  (?&lt;Ytterbium&gt;Yb)\n  (?&lt;Lutetium&gt;Lu)\n  (?&lt;Hafnium&gt;Hf)\n  (?&lt;Tantalum&gt;Ta)\n  (?&lt;Tungsten&gt;W)\n  (?&lt;Rhenium&gt;Re)\n  (?&lt;Osmium&gt;Os)\n  (?&lt;Iridium&gt;Ir)\n  (?&lt;Platinum&gt;Pt)\n  (?&lt;Gold&gt;Au)\n  (?&lt;Mercury&gt;Hg)\n  (?&lt;Thallium&gt;Tl)\n  (?&lt;Lead&gt;Pb)\n  (?&lt;Bismuth&gt;Bi)\n  (?&lt;Polonium&gt;Po)\n  (?&lt;Astatine&gt;At)\n  (?&lt;Radon&gt;Rn)\n  (?&lt;Francium&gt;Fr)\n  (?&lt;Radium&gt;Ra)\n  (?&lt;Actinium&gt;Ac)\n  (?&lt;Thorium&gt;Th)\n  (?&lt;Protactinium&gt;Pa)\n  (?&lt;Uranium&gt;U)\n  (?&lt;Neptunium&gt;Np)\n  (?&lt;Plutonium&gt;Pu)\n  (?&lt;Americium&gt;Am)\n  (?&lt;Curium&gt;Cm)\n  (?&lt;Berkelium&gt;Bk)\n  (?&lt;Californium&gt;Cf)\n  (?&lt;Einsteinium&gt;Es)\n  (?&lt;Fermium&gt;Fm)\n  (?&lt;Mendelevium&gt;Md)\n  (?&lt;Nobelium&gt;No)\n  (?&lt;Lawrencium&gt;Lr)\n  (?&lt;Rutherfordium&gt;Rf)\n  (?&lt;Dubnium&gt;Db)\n  (?&lt;Seaborgium&gt;Sg)\n  (?&lt;Bohrium&gt;Bh)\n  (?&lt;Hassium&gt;Hs)\n  (?&lt;Meitnerium&gt;Mt)\n  (?&lt;Darmstadtium&gt;Ds)\n  (?&lt;Roentgenium&gt;Rg)\n  (?&lt;Copernicium&gt;Cn)\n  (?&lt;Nihonium&gt;Nh)\n  (?&lt;Flerovium&gt;Fl)\n  (?&lt;Moscovium&gt;Mc)\n  (?&lt;Livermorium&gt;Lv)\n  (?&lt;Tennessine&gt;Ts)\n  (?&lt;Oganesson&gt;Og)\n  (?# Regex )\n  (?&lt;Element&gt;(?&amp;Actinium)|(?&amp;Silver)|(?&amp;Aluminum)|(?&amp;Americium)|(?&amp;Argon)|(?&amp;Arsenic)|(?&amp;Astatine)|(?&amp;Gold)|(?&amp;Barium)|(?&amp;Beryllium)|(?&amp;Bohrium)|(?&amp;Bismuth)|(?&amp;Berkelium)|(?&amp;Bromine)|(?&amp;Boron)|(?&amp;Calcium)|(?&amp;Cadmium)|(?&amp;Cerium)|(?&amp;Californium)|(?&amp;Chlorine)|(?&amp;Curium)|(?&amp;Copernicium)|(?&amp;Cobalt)|(?&amp;Chromium)|(?&amp;Cesium)|(?&amp;Copper)|(?&amp;Carbon)|(?&amp;Dubnium)|(?&amp;Darmstadtium)|(?&amp;Dysprosium)|(?&amp;Erbium)|(?&amp;Einsteinium)|(?&amp;Europium)|(?&amp;Iron)|(?&amp;Flerovium)|(?&amp;Fermium)|(?&amp;Francium)|(?&amp;Fluorine)|(?&amp;Gallium)|(?&amp;Gadolinium)|(?&amp;Germanium)|(?&amp;Helium)|(?&amp;Hafnium)|(?&amp;Mercury)|(?&amp;Holmium)|(?&amp;Hassium)|(?&amp;Hydrogen)|(?&amp;Indium)|(?&amp;Iridium)|(?&amp;Iodine)|(?&amp;Krypton)|(?&amp;Potassium)|(?&amp;Lanthanum)|(?&amp;Lithium)|(?&amp;Lawrencium)|(?&amp;Lutetium)|(?&amp;Livermorium)|(?&amp;Moscovium)|(?&amp;Mendelevium)|(?&amp;Magnesium)|(?&amp;Manganese)|(?&amp;Molybdenum)|(?&amp;Meitnerium)|(?&amp;Sodium)|(?&amp;Niobium)|(?&amp;Neodymium)|(?&amp;Neon)|(?&amp;Nihonium)|(?&amp;Nickel)|(?&amp;Nobelium)|(?&amp;Neptunium)|(?&amp;Nitrogen)|(?&amp;Oganesson)|(?&amp;Osmium)|(?&amp;Oxygen)|(?&amp;Protactinium)|(?&amp;Lead)|(?&amp;Palladium)|(?&amp;Promethium)|(?&amp;Polonium)|(?&amp;Praseodymium)|(?&amp;Platinum)|(?&amp;Plutonium)|(?&amp;Phosphorus)|(?&amp;Radium)|(?&amp;Rubidium)|(?&amp;Rhenium)|(?&amp;Rutherfordium)|(?&amp;Roentgenium)|(?&amp;Rhodium)|(?&amp;Radon)|(?&amp;Ruthenium)|(?&amp;Antimony)|(?&amp;Scandium)|(?&amp;Selenium)|(?&amp;Seaborgium)|(?&amp;Silicon)|(?&amp;Samarium)|(?&amp;Tin)|(?&amp;Strontium)|(?&amp;Sulfur)|(?&amp;Tantalum)|(?&amp;Terbium)|(?&amp;Technetium)|(?&amp;Tellurium)|(?&amp;Thorium)|(?&amp;Titanium)|(?&amp;Thallium)|(?&amp;Thulium)|(?&amp;Tennessine)|(?&amp;Uranium)|(?&amp;Vanadium)|(?&amp;Tungsten)|(?&amp;Xenon)|(?&amp;Ytterbium)|(?&amp;Yttrium)|(?&amp;Zirconium)|(?&amp;Zinc))\n  (?&lt;Num&gt;(?:[1-9]\\d*)?)\n  (?&lt;ElementGroup&gt;(?:(?&amp;Element)(?&amp;Num))+)\n  (?&lt;ElementParenthesesGroup&gt;\\((?&amp;ElementGroup)+\\)(?&amp;Num))\n  (?&lt;ElementSquareBracketGroup&gt;\\[(?:(?:(?&amp;ElementParenthesesGroup)(?:(?&amp;ElementGroup)|(?&amp;ElementParenthesesGroup))+)|(?:(?:(?&amp;ElementGroup)|(?&amp;ElementParenthesesGroup))+(?&amp;ElementParenthesesGroup)))\\](?&amp;Num))\n)\n^((?&lt;Brackets&gt;(?&amp;ElementSquareBracketGroup))|(?&lt;Parentheses&gt;(?&amp;ElementParenthesesGroup))|(?&lt;Group&gt;(?&amp;ElementGroup)))+$\n</code></pre>\n\n<h3>Explanation</h3>\n\n<ol>\n<li>The first part of the <code>(?(DEFINE))</code> section lists each periodic element (ordered by atomic number for easy lookup).</li>\n<li>The <code>Element</code> group acts as a simple or <code>|</code> between each of the elements listed in 1. ensuring that each element's symbol is ordered alphabetically by the first character, and then by symbol character length (so as not to catch, for example, Carbon <code>C</code> instead of Calcium <code>Ca</code>)</li>\n<li><code>ElementGroup</code> specifies a group of chemicals in the format: one or more <code>Element</code> followed by zero or more digits, excluding zero (specified by the group <code>Num</code>)\n\n<ul>\n<li><strong>Valid Examples</strong>\n\n<ul>\n<li><code>C</code> - <code>Element</code></li>\n<li><code>CH</code> - <code>Element</code> followed by another <code>Element</code></li>\n<li><code>CH3</code> -<code>Element</code> followed by another <code>Element</code> and a <code>Num</code></li>\n<li><code>O2</code> - <code>Element</code> followed by a <code>Num</code></li>\n</ul></li>\n<li><strong>Invalid Examples</strong>\n\n<ul>\n<li><code>N0</code> - <code>0</code> cannot be used explicitly</li>\n<li><code>N01</code> - <code>Num</code> group specifies the number must begin with <code>1-9</code> or not have a number</li>\n<li><code>A</code> - Element does not exist</li>\n<li><code>c</code> - Element does not exist - case sensitive regex</li>\n</ul></li>\n</ul></li>\n<li><code>ElementParenthesesGroup</code> specifies one or more groupings of <code>ElementGroup</code> between parentheses <code>(</code> <code>)</code> but containing at least one <code>ElementGroup</code>\n\n<ul>\n<li><strong>Valid Examples</strong>\n\n<ul>\n<li><code>(CH)</code> - <code>ElementGroup</code> surrounded by parentheses</li>\n<li><code>(CH3)</code> - <code>ElementGroup</code> surrounded by parentheses</li>\n<li><code>(CH3NO4)</code> - multiple <code>ElementGroup</code> surrounded by parentheses</li>\n<li><code>(CH3N04)2</code> - multiple <code>ElementGroup</code> surrounded by parentheses followed by a <code>Num</code></li>\n</ul></li>\n<li><strong>Invalid Examples</strong>\n\n<ul>\n<li><code>(CH[NO4])</code> - Only <code>ElementGroup</code> is valid inside <code>ElementParenthesesGroup</code></li>\n</ul></li>\n</ul></li>\n<li><code>ElementSquareBracketGroup</code> specifies a grouping of <code>ElementParenthesesGroup</code> or <code>ElementGroup</code> between square brackets <code>[</code> <code>]</code> but containing at least one <code>ElementParenthesesGroup</code> and one other group (<code>ElementParenthesesGroup</code> or <code>ElementGroup</code>)\n\n<ul>\n<li><strong>Valid Examples</strong>\n\n<ul>\n<li><code>[CH3(NO4)]</code> - Contains at least one <code>ElementParenthesesGroup</code> and one other <code>ElementParenthesesGroup</code> or <code>ElementGroup</code></li>\n<li><code>[(NO4)CH]2</code> - Contains at least one <code>ElementParenthesesGroup</code> and one other <code>ElementParenthesesGroup</code> or <code>ElementGroup</code> followed by <code>Num</code></li>\n<li><code>[(NO4)(CH3)]</code> - Contains at least one <code>ElementParenthesesGroup</code> and one other <code>ElementParenthesesGroup</code> or <code>ElementGroup</code></li>\n</ul></li>\n<li><strong>Invalid Examples</strong>\n\n<ul>\n<li><code>[(NO4)]</code> - Does not contain second group, brackets <code>[</code> <code>]</code> are redundant</li>\n<li><code>[NO4]</code> - Does not contain <code>ElementParenthesesGroup</code></li>\n</ul></li>\n</ul></li>\n</ol>\n\n<h3>Additional Information</h3>\n\n<p>I realize this is a very long answer, but the OP is asking a very specific question and wants to ensure specific criteria are met.</p>\n\n<p>Ensure the following flags are set:</p>\n\n<ul>\n<li><code>g</code> - ensures global matches</li>\n<li><code>x</code>  - ensures whitespace is ignored</li>\n<li>if the data is across multiple lines (separated by a newline character) use <code>m</code> for multi line</li>\n</ul>\n\n<p>Note: Regex will only capture the last group of type <code>X</code> that it finds (and overwrite the previously captured group of said type <code>X</code>. This is the default behaviour of regex and there is no way to currently override this behaviour. This may give you undesirable results. You can see this with the last example in the linked regex as well as with your example of <code>(CH3)2CFCOO(CH2)2Si(CH3)2Cl</code> since there are multiple of each group type.</p>\n"}], "owner": {"reputation": 65, "user_id": 8603866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57426528de0349188baa4b8f15ecbbc?s=128&d=identicon&r=PG&f=1", "display_name": "Krissy Budd", "link": "https://stackoverflow.com/users/8603866/krissy-budd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1134, "favorite_count": 1, "accepted_answer_id": 46204355, "answer_count": 2, "score": 6, "last_activity_date": 1505328644, "creation_date": 1505313243, "last_edit_date": 1505328403, "question_id": 46200305, "link": "https://stackoverflow.com/questions/46200305/a-strict-regular-expression-for-matching-chemical-formulae", "title": "A strict regular expression for matching chemical formulae", "body": "<p>In the course of processing a large textual chemical database with Perl, I had been faced with the problem of using a regex to match chemical formulae. I have seen <a href=\"https://stackoverflow.com/questions/31132327\">these</a> <a href=\"https://stackoverflow.com/questions/23602175\">two</a> previous topics, but the suggested answers there are too loose for my requirements.</p>\n\n<p>Specifically, my (admittedly limited) research has led me to <a href=\"https://www.johndcook.com/blog/2016/02/04/regular-expression-to-match-a-chemical-element/#comment-927030\" rel=\"nofollow noreferrer\">this posting</a> that gives a regex for the currently accepted chemical symbols, which I'll copy here for reference</p>\n\n<pre>\n[BCFHIKNOPSUVWY]|[ISZ][nr]|[ACELP][ru]|A[cglmst]|B[aehikr]|C[adeflos]|D[bsy]|Es|F[elmr]|G[ade]|H[efgos]|Kr|L[aiv]|M[cdgnot]|N[abdehiop]|O[gs]|P[abdmot]|R[abe-hnu]|S[bcegim]|T[abcehilms]|Xe|Yb\n</pre>\n\n<p>(Thus e.g. <code>C</code>, <code>Cm</code>, and <code>Cn</code> will pass, but not <code>Cg</code> or <code>Cx</code>.)</p>\n\n<p>As with the previous questions, I also need to match numbers, complete sets of parentheses and complete sets of square brackets, so that both e.g. <code>C2H6O</code> and <code>(CH3)2CFCOO(CH2)2Si(CH3)2Cl</code> are matched.</p>\n\n<p>So how do I combine the previous solutions with the grand regex for matching valid chemical elements to strictly match a chemical formula?</p>\n\n<p>(If it's not too much trouble to add, a blow-by-blow account of how to humanly parse the regex would be appreciated greatly, though not strictly necessary.)</p>\n"}, {"tags": ["perl", "perforce"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1505307651, "post_id": 46197991, "comment_id": 79358982, "body": "Why not just copy the module directories to the relevant folders /site/lib and /lib"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1505308140, "post_id": 46197991, "comment_id": 79359382, "body": "@GerhardBarnard I was just doing that, please check my update."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1505308820, "post_id": 46197991, "comment_id": 79359906, "body": "@GerhardBarnard I missed some files earlier, now it works on <code>5.16.3</code> after I move the folders which you suggested. But it&#39;s still confusing what may have caused this."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1505309293, "post_id": 46197991, "comment_id": 79360282, "body": "well, you somewhere it still saw your initial perl path as the main perl to use."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1505309476, "post_id": 46197991, "comment_id": 79360450, "body": "I will post an answer quick with more detail."}], "answers": [{"comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1505310745, "post_id": 46199018, "comment_id": 79361439, "body": "Well, the default points to the right <code>5.16.3</code> installation path, but as you mentioned, maybe somewhere there is an old refference to the <code>5.12.3</code> installation path. Thanks for the answer, Gerhard."}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": true, "score": 2, "last_activity_date": 1505310353, "last_edit_date": 1505310353, "creation_date": 1505309616, "answer_id": 46199018, "question_id": 46197991, "link": "https://stackoverflow.com/questions/46197991/perforce-p4perl-api-installs-in-wrong-directory/46199018#46199018", "title": "Perforce P4Perl Api installs in wrong directory", "body": "<p>Copy the Directories of the module files to the <code>&lt;PATH_TO_PERL&gt;/lib</code> and <code>&lt;PATH_TO_PERL&gt;/site/lib</code> to solve the issue.</p>\n\n<p>Perl modules almost always exists as <code>/lib/DIR/DIR/Module.pm</code>\nfor instance <code>C:\\perl64\\lib\\Date\\Simple\\date.pm</code>\nIf the files exists on their own, the there is a problem with the module installation itself. Or, Somewhere there is a path reference to your old perl version directory.</p>\n\n<p>To see which perl path is used by default, do:</p>\n\n<pre><code>perl -e \"print $^X\"\n</code></pre>\n\n<p>Hope that helps a bit.</p>\n"}], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 46199018, "answer_count": 1, "score": 1, "last_activity_date": 1505310353, "creation_date": 1505306732, "last_edit_date": 1505308771, "question_id": 46197991, "link": "https://stackoverflow.com/questions/46197991/perforce-p4perl-api-installs-in-wrong-directory", "title": "Perforce P4Perl Api installs in wrong directory", "body": "<p>I have two Perl versions installations on my PC, <code>5.12.3</code> and <code>5.16.3</code>. To install the <code>P4Perl API</code>, I needed to set in Path the location of Perl <code>5.16.3</code>(otherwise I was getting a P4Perl API installer error) and after succesfully running the installation, I searched for the <code>P4.pm</code> module and noticed that the installation of the <code>P4.pm</code> module was done in the folder of the <code>5.12.3</code> installation.</p>\n\n<p>As you can see in the title, the installation was done for Perl 5.16<br>\n<a href=\"https://i.stack.imgur.com/8XSQq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8XSQq.png\" alt=\"enter image description here\"></a>\n<br>But if I search for the <code>P4.pm</code>, it is located in the <code>5123</code> folder ( which is coresponding to <code>Perl 5.12.3</code>\n<a href=\"https://i.stack.imgur.com/71hlj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/71hlj.png\" alt=\"enter image description here\"></a>\n<br>Even more, when I try to run a simple script which only imports the <code>P4.pm</code> module:<br>\n-with <code>Perl 5.16.3</code> it complains about the missing <code>P4.pm</code> module<br>\n-with <code>Perl 5.12.3</code> it complains about the missing <code>perl516.dll</code> which I can find with <code>Everything</code> in the installation of <code>Perl 5.16.3</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bUgiW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bUgiW.png\" alt=\"enter image description here\"></a></p>\n\n<p>After this, I thought to move the content which was installed in <code>5.12.3</code> installation to the <code>5.16.3</code> installation, just as @Gerhard suggested. And now it works. Does anyone knows why it messes up at installation?</p>\n\n<p>Even though, the files exist physically.</p>\n"}, {"tags": ["regex", "perl", "awk", "scripting", "gawk"], "comments": [{"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1505306032, "post_id": 46197614, "comment_id": 79357751, "body": "Shouldn&#39;t the expected output have the word <code>delete</code> at the last removed? since you said exclude the first occurrence"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505408960, "post_id": 46197614, "comment_id": 79412884, "body": "Tip: <code>\\)</code> is a lot clearer than <code>\\Q)\\E</code>. If it&#39;s still not clear enough, use <code>&#47;x</code> and add whitespace to your pattern."}], "answers": [{"comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1505328918, "post_id": 46197696, "comment_id": 79373049, "body": "Could anyone please let me know the reason for down vote here?"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 1371, "user_id": 5056806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa01ad122fc89b571651ffbbc34ce37?s=128&d=identicon&r=PG&f=1", "display_name": "Claes Wikner", "link": "https://stackoverflow.com/users/5056806/claes-wikner"}, "edited": false, "score": 0, "creation_date": 1505359701, "post_id": 46197696, "comment_id": 79383156, "body": "Done that now, actually because of not using code tags it was not clear either space needed or not, so I didn&#39;t put it there, kindly let me know if you are ok to remove -ve now."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 0, "last_activity_date": 1505359654, "last_edit_date": 1505359654, "creation_date": 1505305981, "answer_id": 46197696, "question_id": 46197614, "link": "https://stackoverflow.com/questions/46197614/delete-data-between-two-parameters-excluding-the-parameters-in-perl/46197696#46197696", "title": "Delete data between two parameters excluding the parameters in PERL", "body": "<p>If you want to delete only the very first occurrence of string between ) and ; (by seeing your expected output)then following may help you in same.</p>\n\n<pre><code>awk '!n{n=sub(/^\\).*\\;/,\") ;\")} 1'   Input_file\n</code></pre>\n\n<p>Output will be as follows.</p>\n\n<pre><code>) ;\nTest\nTest\n)delete;\n</code></pre>\n\n<p><strong>Explanation:</strong> So checking here if variable named n's value is NULL, it will be null before a single substitution made for <code>).*;</code>. So once it passes that condition it uses sub keyword of awk to substitute everything from ) to ; with <code>);</code> and saves it's response which will be 1 now as 1 substitution has been made, so next time this condition(!n) will never be true, thus it will substitute very first occurrence of <code>).*;</code> only. 1 means it will print the lines for Input_file.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505409136, "post_id": 46197756, "comment_id": 79412978, "body": "<code>s&#47;(?&lt;=\\)).*?(?=;)&#47;&#47;</code> is improved by switching to <code>s&#47;\\)\\K.*?(?=;)&#47;&#47;</code>, and <code>s&#47;\\)\\K[^\\n;]*(?=;)&#47;&#47;</code> is better yet because it avoids the non-greediness modifier used for a purpose other than optimization."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1505306132, "creation_date": 1505306132, "answer_id": 46197756, "question_id": 46197614, "link": "https://stackoverflow.com/questions/46197614/delete-data-between-two-parameters-excluding-the-parameters-in-perl/46197756#46197756", "title": "Delete data between two parameters excluding the parameters in PERL", "body": "<p>Just specify what to use as a replacement:</p>\n\n<pre><code>perl -0777 -pe 's/\\Q)\\E.*?\\Q;\\E/);/' \n</code></pre>\n\n<p><code>'s/\\).*?;/);/'</code> might be more readable.</p>\n\n<p>You can also use look-arounds:</p>\n\n<pre><code>'s/(?&lt;=\\)).*?(?=;)//'\n</code></pre>\n\n<p>I.e. preceded by <code>)</code>, followed by <code>;</code>, but they don't belong to the matched substring.</p>\n"}, {"tags": [], "owner": {"reputation": 14904, "user_id": 3161993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/56e8M.png?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/3161993/akshay"}, "is_accepted": false, "score": 1, "last_activity_date": 1505307112, "creation_date": 1505307112, "answer_id": 46198137, "question_id": 46197614, "link": "https://stackoverflow.com/questions/46197614/delete-data-between-two-parameters-excluding-the-parameters-in-perl/46198137#46198137", "title": "Delete data between two parameters excluding the parameters in PERL", "body": "<p>Using GNU <code>awk</code></p>\n\n<pre><code>$ cat infile\n) delete; \nTest \nTest\n)delete;\n\n$ awk '!f{print f=gensub(/(\\)).*(;)/,\"\\\\1 \\\\2\",\"a\");next}1' infile\n) ; \nTest \nTest\n)delete;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1371, "user_id": 5056806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfa01ad122fc89b571651ffbbc34ce37?s=128&d=identicon&r=PG&f=1", "display_name": "Claes Wikner", "link": "https://stackoverflow.com/users/5056806/claes-wikner"}, "is_accepted": false, "score": 0, "last_activity_date": 1505327186, "creation_date": 1505327186, "answer_id": 46204487, "question_id": 46197614, "link": "https://stackoverflow.com/questions/46197614/delete-data-between-two-parameters-excluding-the-parameters-in-perl/46204487#46204487", "title": "Delete data between two parameters excluding the parameters in PERL", "body": "<pre><code>awk '{sub(/. delete./,\") ;\")}1' file\n\n) ; \nTest \nTest\n)delete;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 8592356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a8c77f1399ea72b0620b8388b3a29e?s=128&d=identicon&r=PG&f=1", "display_name": "lfc_07", "link": "https://stackoverflow.com/users/8592356/lfc-07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 46197756, "answer_count": 4, "score": 0, "last_activity_date": 1505359654, "creation_date": 1505305715, "last_edit_date": 1505306027, "question_id": 46197614, "link": "https://stackoverflow.com/questions/46197614/delete-data-between-two-parameters-excluding-the-parameters-in-perl", "title": "Delete data between two parameters excluding the parameters in PERL", "body": "<p>I want to delete any data between the two parameters <strong>) and ;</strong> excluding the parameters for just the <strong>first occurence</strong></p>\n\n<p><strong>Currently its deleting including the parameters.</strong></p>\n\n<p>cat input.txt</p>\n\n<pre><code>) delete; \nTest \nTest\n)delete;\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>perl -0777 -pe 's/\\Q)\\E.*?\\Q;\\E//' input.txt\n</code></pre>\n\n<p>Current output:</p>\n\n<pre><code>Test \nTest\n)delete;\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>) ; \nTest \nTest\n)delete;\n</code></pre>\n\n<p>How to exclude the parameters ?\nAny help ?</p>\n\n<p><strong>Any new solutions in awk is also appreciated.</strong></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1505298178, "post_id": 46194438, "comment_id": 79352244, "body": "It&#39;s pretty hard to inspect the regex and deduce what it&#39;s supposed to do, maybe split it multiline and add a comment for each block and maybe others will make an effort to invest some time in solving your question."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1505299456, "post_id": 46194438, "comment_id": 79353095, "body": "From my point of view, your problem comes from the spaces in your regex. If you try <code>$s=~ s&#47; (&quot;\\w&quot;),? &#47;_&#47;g; print &quot;\\nString after replacing \\$1 with _ :  $s&quot;;</code>, you will notice that your string is unchanged, but if you remove the spaces, you will have <code>$s=~ s&#47;(&quot;\\w&quot;),?&#47;_&#47;g;</code> and then <code>$1</code> will be susbtituted with <code>_</code>."}, {"owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1505301127, "post_id": 46194438, "comment_id": 79354239, "body": "I think there is <a href=\"https://perldoc.perl.org/re.html#%27Debug%27-mode\" rel=\"nofollow noreferrer\">some options</a> in <code>re</code> module for debugging."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 2, "creation_date": 1505306857, "post_id": 46194438, "comment_id": 79358380, "body": "As interesting as it is to uncover the precise semantics of the <code>s</code> command with the <code>e</code> flag, this code is unreadable and I&#39;d junk it in favour of a more readable approach.  The same thing applies for your initialization of <code>$s~</code>: this is very hard to understand, so it&#39;s better to use a form that is obvious to everybody."}], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1505306002, "post_id": 46196933, "comment_id": 79357724, "body": "Thanks for your answer. Before using regex,  I have tried with hashes but it results is, data are get shuffled, so I have moved towards regex. Now your answer solved my hash shuffling problem. But I&#39;m eager to know how the regex substitution is working."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 6, "last_activity_date": 1505303833, "creation_date": 1505303833, "answer_id": 46196933, "question_id": 46194438, "link": "https://stackoverflow.com/questions/46194438/how-the-regex-substitution-is-working-in-perl/46196933#46196933", "title": "How the regex substitution is working in perl?", "body": "<p>A regex is (in my opinion) the wrong tool to use here. I would</p>\n\n<ul>\n<li><code>split</code> the string on commas</li>\n<li>remove duplicates from the list returned by <code>split</code></li>\n<li><code>join</code> the list back into a string</li>\n</ul>\n\n<p>Like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy $str = q[\"a\",\"b\",\"b\",\"a\",\"c\"];\n\nmy %seen;\n\n$str = join ',',\n       grep { ! $seen{$_}++ }\n       split /,/, $str;\n\nsay $str;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 2, "last_activity_date": 1505315184, "creation_date": 1505315184, "answer_id": 46200972, "question_id": 46194438, "link": "https://stackoverflow.com/questions/46194438/how-the-regex-substitution-is-working-in-perl/46200972#46200972", "title": "How the regex substitution is working in perl?", "body": "<p>The proper solution to this is split, filter, rejoin as @Dave Cross has already demonstrated.</p>\n\n<p>...</p>\n\n<p>However, the following regex solution does work and hopefully demonstrates why Dave's solution is superior</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse v5.10;\nuse strict;\nuse warnings;\n\nmy $str = q{\"a\",\"b\",\"b\",\"a\",\"c\"};\n\n1 while $str =~ s{\n    \\A\n    (?: (?&amp;element) , )*\n    ( (?&amp;element) )           # Capture in \\1\n    (?: , (?&amp;element) )*\n    \\K\n    ,\n    \\1                        # Remove the duplicate along with preceding comma\n    (?= \\z | , )\n\n    (?(DEFINE)\n        (?&lt;element&gt;\n            \"\n            \\w\n            \"\n        )\n    )\n}{}xg;\n\nsay $str;\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>\"a\",\"b\",\"c\"\n</code></pre>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1505315184, "creation_date": 1505296630, "last_edit_date": 1505312207, "question_id": 46194438, "link": "https://stackoverflow.com/questions/46194438/how-the-regex-substitution-is-working-in-perl", "title": "How the regex substitution is working in perl?", "body": "<p>I have tried the remove duplicates from the strings,  <code>\"a\",\"b\",\"b\",\"a\",\"c\"</code> after removing the result is <code>\"a\",\"b\",\"c\",</code>. I have achieved this, but I have a doubt about working of regex substitution</p>\n\n<pre><code>use warnings;\nuse strict;\nmy $s = q+\"a\",\"b\",\"b\",\"a\",\"c\"+;\n\n $s=~s/ (\"\\w\"),? / ($s=~s|($1)||g)?\"$1,\":\"\" /xge;\n#^                   ^\n#|                   Consider this as s2\n#Consider this as s1\n\nprint \"\\n$s\\n\\n\";\n</code></pre>\n\n<p><code>s1</code> value contain string as <code>\"a\",\"b\",\"b\",\"a\",\"c\"</code></p>\n\n<p>Step 1 </p>\n\n<p>After substitution:</p>\n\n<p>Guess, what is the data contain <code>s1</code> variable from the following <code>\"a\",\"b\",\"b\",\"c\"</code> or <code>\"a\",\"b\",\"b\",\"a\",\"c\"</code> or <code>,\"b\",\"b\",,\"c\"</code> data.?</p>\n\n<p>I have run the regex with eval grouping </p>\n\n<pre><code>$s=~s/ (\"\\w\"),? (?{print \"$s\\n\"})/ ($s=~s|($1)||g)?\"$1,\":\"\" /xge;\n</code></pre>\n\n<p>The result is</p>\n\n<pre><code>\"a\",\"b\",\"b\",\"a\",\"c\"\n,\"b\",\"b\",,\"c\"  #This is from after substitution\n,,,,\"c\"\n,,,,\"c\"\n,,,,\"c\"\n</code></pre>\n\n<p>Now my dobut is <code>s2</code> variable also <code>$s</code> why it is not concatenated with <code>s1</code>, it  means at the second step the result should be <code>\"a\",\"b\",\"b\",\"c\"</code> (All the string <code>\"a\"</code> is replaced with empty and <code>a</code> is added in the <code>$s</code>).? </p>\n\n<hr>\n\n<p><strong>Edited</strong></p>\n\n<p>The result from the eval grouping is <code>(?{print $s})</code> </p>\n\n<pre><code>\"a\",\"b\",\"b\",\"a\",\"c\"\n,\"b\",\"b\",,\"c\" \n,,,,\"c\"\n,,,,\"c\"\n,,,,\"c\"\n</code></pre>\n\n<p>After the substitution line I printed the <code>$s</code> variable it is giving <code>\"a\",\"b\",\"c\"</code>, How this output is coming.?</p>\n"}, {"tags": ["perl", "sdk", "vmware", "vsphere"], "answers": [{"tags": [], "owner": {"reputation": 1516, "user_id": 8279879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PRPDX.jpg?s=128&g=1", "display_name": "Kyle Ruddy", "link": "https://stackoverflow.com/users/8279879/kyle-ruddy"}, "is_accepted": true, "score": 0, "last_activity_date": 1505674363, "creation_date": 1505674363, "answer_id": 46267723, "question_id": 46194278, "link": "https://stackoverflow.com/questions/46194278/difference-between-vsphere-automation-sdk-for-perl-and-vsphere-perl-sdk/46267723#46267723", "title": "Difference between vSphere Automation SDK for Perl and vSphere Perl SDK", "body": "<p>They are different SDKs which talk to different APIs. </p>\n\n<p>The vSphere Automation SDK talks to the vSphere Automation REST based APIs. \nThe vSphere Perl SDK talks to the vSphere SOAP based APIs. </p>\n\n<p>One thing to note, the vSphere Automation APIs are fairly new and have some limited coverage (namely: VCSA, VM, Tagging, and Content Library management) compared to the vSphere APIs. </p>\n"}], "owner": {"reputation": 526, "user_id": 8481953, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8e55deee10d1354662d231ac3caa8390?s=128&d=identicon&r=PG&f=1", "display_name": "rookie09", "link": "https://stackoverflow.com/users/8481953/rookie09"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 46267723, "answer_count": 1, "score": 0, "last_activity_date": 1505674363, "creation_date": 1505296208, "question_id": 46194278, "link": "https://stackoverflow.com/questions/46194278/difference-between-vsphere-automation-sdk-for-perl-and-vsphere-perl-sdk", "title": "Difference between vSphere Automation SDK for Perl and vSphere Perl SDK", "body": "<p>What is the difference between the <a href=\"https://code.vmware.com/web/sdk/65/vsphere-automation-perl\" rel=\"nofollow noreferrer\">VMware vSphere Automation SDK for Perl 6.5</a> and the <a href=\"https://code.vmware.com/web/sdk/65/vsphere-perl\" rel=\"nofollow noreferrer\">vSphere Perl SDK for vSphere 6.5</a>, if any, other than the fact that the second one also includes vSphere CLI. </p>\n\n<p>If they are different, is one perhaps newer and the other deprecated (unlikely though, because of same version numbers)?</p>\n"}, {"tags": ["perl", "scripting-language"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1505295677, "post_id": 46193918, "comment_id": 79350352, "body": "Your question is ambiguous, lacking example of what you&#39;re trying to achieve, and most of all shows absolutely no effort from your side to solve it. Good luck with that."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1505296486, "post_id": 46193918, "comment_id": 79350952, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have any code then Stack Overflow is probably the wrong place to ask your question."}], "answers": [{"tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 1, "last_activity_date": 1505312433, "last_edit_date": 1505312433, "creation_date": 1505296164, "answer_id": 46194269, "question_id": 46193918, "link": "https://stackoverflow.com/questions/46193918/insert-a-string-line-after-finding-a-match/46194269#46194269", "title": "Insert a string line after finding a match", "body": "<p>Seeing as your question is unclear to how dynamic or static your script must be and the fact that you did not give any examples, I will only give a simple solution to point you in the right direction. It will search for the word string, then add a newline after it. it also uses the <code>/g</code> switch so it will do it globally for all <code>string</code> words in the string.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = \"this is my string\";\n   $str=~s/string/string\\nAnother string/g;\n   print $str;\n</code></pre>\n\n<p>From here, I suggest you put some effort into doing some research instead of just expecting everything to be given. You seem to be a perl beginner, so search google for <code>Perl Tutorials</code> for beginners, to get you started.</p>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1505302540, "last_edit_date": 1505302540, "creation_date": 1505298911, "answer_id": 46195249, "question_id": 46193918, "link": "https://stackoverflow.com/questions/46193918/insert-a-string-line-after-finding-a-match/46195249#46195249", "title": "Insert a string line after finding a match", "body": "<p>Hope I understood you correctly, try the follows</p>\n\n<p>You can use the regex <a href=\"https://regex101.com/r/GAzmLn/2\" rel=\"nofollow noreferrer\">demo</a></p>\n\n<pre><code>my $s = \"Stack is a linear data structure stack follows a particular order in stack the operations are performed\";\n$s=~s/(.*?Stack){3}\\K//i;\n</code></pre>\n\n<p>Or you can try with substr also</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $match_to_insert = 2; #which match you need to insert\nmy $f = 1;\n\nwhile($s=~m/stack/gi)\n{\n    substr($s,$+[0],0) = \"\\n\" , last if($f eq $match_to_insert);\n    $f++;\n\n}\n\nprint \"$s\\n\";\n</code></pre>\n\n<p><code>$+[0]</code> which will give the index position of matching string, and I'm making the substr function with that index and I'm inserting the '\\n' in that position.</p>\n"}], "owner": {"reputation": 1, "user_id": 8602408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/312fe36e38a8c5a2f881b3cf2cc779a7?s=128&d=identicon&r=PG&f=1", "display_name": "Pavi", "link": "https://stackoverflow.com/users/8602408/pavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1505312433, "creation_date": 1505295305, "question_id": 46193918, "link": "https://stackoverflow.com/questions/46193918/insert-a-string-line-after-finding-a-match", "title": "Insert a string line after finding a match", "body": "<p>I want to write a script to insert a string line after finding a match word. There are multiple occurance of match word, but i want to insert at second occurance. How to write the script in perl?</p>\n"}, {"tags": ["perl", "tk"], "comments": [{"owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 0, "creation_date": 1505291047, "post_id": 46192345, "comment_id": 79347022, "body": "I think the problem is the <code>exec</code> call which replace your current running executable with a new one."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 0, "creation_date": 1505291335, "post_id": 46192345, "comment_id": 79347207, "body": "Thanks for that point @ulix, I have got the workaround for it by using system function instead of the exec call."}], "answers": [{"tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": false, "score": 2, "last_activity_date": 1505291549, "creation_date": 1505291549, "answer_id": 46192657, "question_id": 46192345, "link": "https://stackoverflow.com/questions/46192345/perl-tk-window-autoclosing-on-browsing-directory/46192657#46192657", "title": "Perl Tk window autoclosing on browsing directory", "body": "<p>Posting for future reference to anyone facing this issue. I just got the proper problem as commented by a fellow Stackoverflow user @ulix. </p>\n\n<p><strong>Problem:</strong> The issue here was that the exec call was causing this current script execution to stop and executed the start directory command.</p>\n\n<p><strong>Solution:</strong> Convert the exec call to system call which does not fires the exec and is handled by Perl instead.</p>\n\n<p>PFB the updated code of the sub:</p>\n\n<pre><code>sub open_directory {\n  my $directory = shift;\n  print \"comes here atleast for $directory\";\n  if ($^O eq 'MSWin32') {\n    system(\"start $directory\");\n  }\n  else {\n    die \"cannot open folder on your system: $^O\";\n  }\n} \n</code></pre>\n"}], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1505291549, "creation_date": 1505290500, "question_id": 46192345, "link": "https://stackoverflow.com/questions/46192345/perl-tk-window-autoclosing-on-browsing-directory", "title": "Perl Tk window autoclosing on browsing directory", "body": "<p>I am developing a desktop client using Perl's <a href=\"http://search.cpan.org/~srezic/Tk-804.034/Tk.pod\" rel=\"nofollow noreferrer\">Tk</a> module. I have a button which opens the directory for the particular task. But the problem I am facing is it closes my Perl interface which I dont want to.</p>\n\n<p>Below is the sub which implements the logic for directory open:</p>\n\n<pre><code>sub open_directory {\n  my $directory = shift;\n  print \"comes here atleast for $directory\";\n  if ($^O eq 'MSWin32') {\n    exec \"start $directory\";\n  }\n  else {\n    die \"cannot open folder on your system: $^O\";\n  }\n} \n</code></pre>\n\n<p>I am calling this sub via:</p>\n\n<pre><code>sub second_window{\n\n    my $row = 0;\n    $mw2 = new MainWindow; \n\n    #Loop for listing taskname,path and browse button for all tasks of a region\n    for my $i(1..$#tasks_region_wise){\n        $row = $row+1;\n        $frame_table-&gt; Label(-text=&gt;$sno+$i,-font=&gt;\"calibri\")-&gt;grid(-row=&gt;$row,-column=&gt;0,-sticky=&gt;'w');\n        $frame_table-&gt; Label(-text=&gt;$tasks_region_wise[$i][2],-font=&gt;\"calibri\")-&gt;grid(-row=&gt;$row,-column=&gt;1,-sticky=&gt;'w');\n        $frame_table-&gt; Label(-text=&gt;$tasks_region_wise[$i][3],-font=&gt;\"calibri\")-&gt;grid(-row=&gt;$row,-column=&gt;2,-sticky=&gt;'w');\n\n\n#Calling that sub in the below line:\n\n        $frame_table-&gt;Button(-text =&gt; 'Browse',-relief =&gt;'raised',-font=&gt;\"calibri\",-command =&gt; [\\&amp;open_directory, $tasks_region_wise[$i][3]],-activebackground=&gt;'green',)-&gt;grid(-row=&gt;$row,-column=&gt;3);\n        $frame_table-&gt;Button(-text =&gt; 'Execute',-relief =&gt;'raised',-font=&gt;\"calibri\",-command =&gt; [\\&amp;open_directory, $tasks_region_wise[$i][4]],-activebackground=&gt;'green',)-&gt;grid(-row=&gt;$row,-column=&gt;4);\n        $frame_table-&gt;Button(-text =&gt; 'Detail',-relief =&gt;'raised',-font=&gt;\"calibri\",-command =&gt; [\\&amp;popupBox, $tasks_region_wise[$i][2],$tasks_region_wise[$i][5]],-activebackground=&gt;'green',)-&gt;grid(-row=&gt;$row,-column=&gt;5);\n\n    }\n    $frame_table-&gt;Label()-&gt;grid(-row=&gt;++$row);\n    $frame_table-&gt;Button(-text =&gt; 'Back',-relief =&gt;'raised',-font=&gt;\"calibri\",-command =&gt; \\&amp;back,-activebackground=&gt;'green',)-&gt;grid(-row=&gt;++$row,-columnspan=&gt;4);\n\n    MainLoop;\n}\n</code></pre>\n\n<p>It opens the File explorer window properly but closes the Perl interface.</p>\n"}, {"tags": ["perl", "encoding", "wkhtmltopdf"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1505299828, "post_id": 46192270, "comment_id": 79353379, "body": "Take a look <a href=\"http://ahinea.com/en/tech/perl-unicode-struggle.html\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1505305211, "post_id": 46192270, "comment_id": 79357082, "body": "Can you please provide the exact steps to reproduce your problem? <a href=\"https://stackoverflow.com/help/how-to-ask#Help_others_reproduce_the_problem\">stackoverflow.com/help/&hellip;</a>"}, {"owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1505307159, "post_id": 46192270, "comment_id": 79358604, "body": "@daxim already solved."}], "answers": [{"tags": [], "owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "is_accepted": false, "score": 0, "last_activity_date": 1505307125, "creation_date": 1505307125, "answer_id": 46198143, "question_id": 46192270, "link": "https://stackoverflow.com/questions/46192270/wkhtmltopdf-encoding-cyrillic-from-perl-pipe/46198143#46198143", "title": "wkhtmltopdf, encoding cyrillic from perl pipe", "body": "<p>After finding a rason why does it happen, i realiased that JS is more likely to operate with its format of byte-array. Now, cyrillic string is encoded to be look like <code>%u0000%u0000...</code> and then in javascript, this string goes through built-in <code>unescape</code> function, and now i have normal cyrillic string in pdf. </p>\n\n<p>Oh, my...</p>\n"}], "owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509371096, "creation_date": 1505290295, "last_edit_date": 1505291278, "question_id": 46192270, "link": "https://stackoverflow.com/questions/46192270/wkhtmltopdf-encoding-cyrillic-from-perl-pipe", "title": "wkhtmltopdf, encoding cyrillic from perl pipe", "body": "<p>So, i'm running wkhtmltopdf command script from perl's <code>system</code> method. I need it to pass a custom value (span class) to pdf via command line:</p>\n\n<p>my $time = \"\u0412\u0440\u0435\u043c\u044f\";<br>\nmy $command = \"./wkhtmltopdf ...blablabla... gen_date \\\"$time\\\" ...blablabla...\";</p>\n\n<p>but when i run this - i have encoding garbage in output .pdf like that: - \u00d0\u200b\u00d1\u00d0\u03bc\u00d0\u00bc\u00d1.\nTried almost everything i know to encode/decode the <code>$time</code> string, but nothing. </p>\n\n<p>my javascript snippet is common for wkhtmltopdf, so....</p>\n\n<pre><code>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;head&gt;\n  &lt;script&gt;\n    function subst() {\n      var vars = {};\n      var query_strings_from_url = document.location.search.substring(1).split('&amp;');\n      for (var query_string in query_strings_from_url) {\n        if (query_strings_from_url.hasOwnProperty(query_string)) {\n          var temp_var = query_strings_from_url[query_string].split('=', 2);\n          vars[temp_var[0]] = decodeURI(temp_var[1]);\n        }\n      }\n      var css_selector_classes = ['gen_date', 'page'];\n      for (var css_class in css_selector_classes) {\n        if (css_selector_classes.hasOwnProperty(css_class)) {\n          var element = document.getElementsByClassName(css_selector_classes[css_class]);\n          for (var j = 0; j &lt; element.length; ++j) {\n            element[j].textContent = vars[css_selector_classes[css_class]];\n          }\n        }\n      }\n    }\n  &lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>Can you help me to solve it?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1505290189, "post_id": 46192167, "comment_id": 79346470, "body": "<a href=\"https://metacpan.org/pod/Regexp::Debugger\" rel=\"nofollow noreferrer\">metacpan.org/pod/Regexp::Debugger</a>"}, {"owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "edited": false, "score": 1, "creation_date": 1505290531, "post_id": 46192167, "comment_id": 79346688, "body": "It&#39;s a <a href=\"https://perldoc.perl.org/functions/s.html\" rel=\"nofollow noreferrer\">regex substitution</a>. It removes text like <code>&lt;abc=&quot;d1&quot;&gt;</code> at the start of a string."}, {"owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "edited": false, "score": 2, "creation_date": 1505290776, "post_id": 46192167, "comment_id": 79346833, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/22937618/reference-what-does-this-regex-mean\">Reference - What does this regex mean?</a>"}, {"owner": {"reputation": 2490, "user_id": 6560478, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/596df03e1a0b79a4c4b2615820202a59?s=128&d=identicon&r=PG&f=1", "display_name": "Drag and Drop", "link": "https://stackoverflow.com/users/6560478/drag-and-drop"}, "reply_to_user": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "edited": false, "score": 0, "creation_date": 1505293243, "post_id": 46192167, "comment_id": 79348495, "body": "@LukStorms, this is more for comment than for direct duplicate."}], "answers": [{"comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1505293638, "post_id": 46193049, "comment_id": 79348783, "body": "That&#39;s not valid XML, so doubt many of the XML parsers would accept it."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1505296942, "post_id": 46193049, "comment_id": 79351297, "body": "Agreed -- but I presume that this line of code is part of a larger &quot;XML sanitisation&quot; script. I bet there&#39;s a bunch more substitution commands, to strip &quot;other formats&quot; of tags."}], "tags": [], "owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "is_accepted": false, "score": 0, "last_activity_date": 1505292767, "creation_date": 1505292767, "answer_id": 46193049, "question_id": 46192167, "link": "https://stackoverflow.com/questions/46192167/what-is-the-meaning-of-this-line-in-perl/46193049#46193049", "title": "What is the meaning of this line in perl?", "body": "<p>It's searching for an XML tag at the start of a string, and substituting it with nothing (i.e. removing it).</p>\n\n<p>For example, in the input:</p>\n\n<pre><code>&lt;hello=\"world\"&gt;example\n</code></pre>\n\n<p>The regex will match <code>&lt;hello=\"world\"&gt;</code>, and substitute it with nothing - so the final result is just:</p>\n\n<pre><code>example\n</code></pre>\n\n<p>In general, this is <a href=\"https://stackoverflow.com/a/1732454/1954610\">something that you shouldn't do with regex</a>. There are a dozen different ways you could create false negatives here, that don't get stripped from the string. </p>\n\n<p>But if this is a \"quick and dirty\" script, where you don't need to worry about all possible edge cases, then it may be OK to use.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1505299332, "last_edit_date": 1505299332, "creation_date": 1505294999, "answer_id": 46193786, "question_id": 46192167, "link": "https://stackoverflow.com/questions/46192167/what-is-the-meaning-of-this-line-in-perl/46193786#46193786", "title": "What is the meaning of this line in perl?", "body": "<p>The <code>s/.../.../</code> is the substitution operator. It matches its first operand, which is a regular expression and replaces it with its second operand.</p>\n\n<p>By default, the substitution operator works on a string stored in <code>$_</code>. But your code uses the binding operator (<code>=~</code>) to make it work on <code>$line</code> instead.</p>\n\n<p>The two operands to the substitution operator are the bits delimited by the <code>/</code> characters (there are more advanced versions of these delimiters, but we'll ignore them for now). So the first operand is <code>^&lt;(\\w+)=\\\"(.*?)\\\"&gt;</code> and the second operand is an empty string (because there is nothing between the second and third <code>/</code> characters).</p>\n\n<p>So your code says:</p>\n\n<ul>\n<li>Examine the variable <code>$line</code></li>\n<li>Look for a section of the string which matches <code>^&lt;(\\w+)=\\\"(.*?)\\\"&gt;</code></li>\n<li>Replace that part of the string with an empty string</li>\n</ul>\n\n<p>All that is left now is for us to untangle the regular expression and see what that matchs.</p>\n\n<ul>\n<li><code>^</code> - matches the start of the string</li>\n<li><code>&lt;</code> - matches a literal <code>&lt;</code> character</li>\n<li><code>(...)</code> - means capture this bit of the match and store it in <code>$1</code></li>\n<li><code>\\w+</code> - matches one or more \"word characters\" (where a word character is a letter, a digit or an underscore)</li>\n<li><code>=</code> - matches a literal <code>=</code> character</li>\n<li><code>\\\"</code> - matches a literal <code>\"</code> character (the <code>\\</code> is unnecessary here)</li>\n<li><code>(...)</code> - means capture this bit of the match and store it in <code>$2</code></li>\n<li><code>.*?</code> - matches zero or more instances of any character</li>\n<li><code>\\\"</code> - matches a literal <code>\"</code> character (once again, the <code>\\</code> is unnecessary here)</li>\n<li><code>&gt;</code> - matches a literal <code>&gt;</code></li>\n</ul>\n\n<p>So, all in all, this looks like a slightly broken attempt to match XML or HTML. It matches tags of the form <code>&lt;foo=\"bar\"&gt;</code> (which isn't valid XML or HTML) and replaces them with an empty string.</p>\n"}], "owner": {"reputation": 7, "user_id": 8601961, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wn36Bj_O_uA/AAAAAAAAAAI/AAAAAAAAACQ/1UAe8T6wNNE/photo.jpg?sz=128", "display_name": "Upendra Chhipa", "link": "https://stackoverflow.com/users/8601961/upendra-chhipa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 1, "accepted_answer_id": 46193786, "answer_count": 2, "score": -3, "last_activity_date": 1505299332, "creation_date": 1505289984, "last_edit_date": 1505290056, "question_id": 46192167, "link": "https://stackoverflow.com/questions/46192167/what-is-the-meaning-of-this-line-in-perl", "title": "What is the meaning of this line in perl?", "body": "<pre><code>$line =~ s/^&lt;(\\w+)=\\\"(.*?)\\\"&gt;//;\n</code></pre>\n\n<p>What is the meaning of this line in perl?</p>\n"}, {"tags": ["perl", "webpage"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1505285120, "post_id": 46190476, "comment_id": 79343270, "body": "why not use <a href=\"http://search.cpan.org/~jdb/Win32-OLE-0.1712/lib/Win32/OLE.pm\" rel=\"nofollow noreferrer\">Win32::OLE</a> then you could just quit when done?"}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1505285633, "post_id": 46190476, "comment_id": 79343595, "body": "Hi @GerhardBarnard, i am new in perl and not sure how to use this <code>Win32::OLE</code> in my scripts, can you show me an example? Thanks"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1505286111, "post_id": 46190476, "comment_id": 79343903, "body": "see a simple demo in the below answer. You can find more help on the <a href=\"http://search.cpan.org/~jdb/Win32-OLE-0.1712/lib/Win32/OLE.pm\" rel=\"nofollow noreferrer\">Win::OLE</a> page"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1505290287, "post_id": 46190476, "comment_id": 79346540, "body": "Look at WWW::Mechanize::Firefox and WWW::Mechanize::Chrome. With those, you can easily build the whole booking process automatically."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1505302423, "post_id": 46190476, "comment_id": 79355156, "body": "Or <a href=\"http://search.cpan.org/perldoc?Selenium%3A%3ARemote%3A%3ADriver\" rel=\"nofollow noreferrer\">Selenium::Remote::Driver</a> if you actually want to control a web browser from your script."}], "answers": [{"comments": [{"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1505289848, "post_id": 46190905, "comment_id": 79346234, "body": "Hi, I has try the code above but this time is pop up a new IE window and the window is not closing."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1505290624, "post_id": 46190905, "comment_id": 79346736, "body": "Can you try now again?"}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1505291053, "post_id": 46190905, "comment_id": 79347028, "body": "yes, i try other website it work but since the website i want to reach is in .cgi format , so i think is the problem of the website i want to reach. Thanks"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1505291640, "post_id": 46190905, "comment_id": 79347431, "body": "Hint.. cgi is perl, perhaps look at alternative get requests?"}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1505292479, "post_id": 46190905, "comment_id": 79347987, "body": "Which alternative get request can be use?"}, {"owner": {"reputation": 631, "user_id": 6252353, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-g5fley8sHyg/AAAAAAAAAAI/AAAAAAAAAeg/R_WrMAny8wg/photo.jpg?sz=128", "display_name": "Andre Carneiro", "link": "https://stackoverflow.com/users/6252353/andre-carneiro"}, "edited": false, "score": 0, "creation_date": 1505305821, "post_id": 46190905, "comment_id": 79357584, "body": "I think this works just for IE. And this is just not good enough! Work with Selenium seems to be a better solution because it is supported accross various platforms. You can try CasperJS to emule a browser. It&#39;s more &quot;friendly&quot; than Selenium and everything stays in Javascript(that I consider an advantage)."}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1505289774, "last_edit_date": 1505289774, "creation_date": 1505286057, "answer_id": 46190905, "question_id": 46190476, "link": "https://stackoverflow.com/questions/46190476/open-and-close-the-webpage-using-perl/46190905#46190905", "title": "Open and close the webpage using perl", "body": "<p>Using <a href=\"http://search.cpan.org/~jdb/Win32-OLE-0.1712/lib/Win32/OLE.pm\" rel=\"nofollow noreferrer\">Win32::OLE</a> you manipulate the application itself.</p>\n\n<p>An example of how to use this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Win32::OLE\n\nmy $my_page = Win32::OLE-&gt;new(\"InternetExplorer.Application\"); # sets the app to open (IE)\n   $my_page-&gt;{visible} = 1;    # sets whether the action is visible\n   $my_page-&gt;Navigate(\"http://www.example.com\"); # opens the page\n   # ..do something while page is open...\n   $my_page-&gt;Quit(); # close the page when done.\n</code></pre>\n\n<p>Obviously you would need to install the <code>Win32::OLE</code> module if you do not have it, by running <code>cpan install Win32::OLE</code> from cmd.</p>\n"}], "owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 650, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1505289774, "creation_date": 1505284692, "question_id": 46190476, "link": "https://stackoverflow.com/questions/46190476/open-and-close-the-webpage-using-perl", "title": "Open and close the webpage using perl", "body": "<p>I would like to write the scripts to auto help me book a time slot in a website. Since i want to book like Monday to Friday, the scripts i write will pop up five tab in the browser by <code>system(\"start $book\")</code> can i close the tab after i done the booking? Below is my example code.</p>\n\n<pre><code>use Time::Local;\nuse POSIX;\n\n\n####### this week ##########\n\nmy $today = time ();\nmy $seconds = 24*60*60;\nmy @gmtime = gmtime ();\nmy@thisweek;\n$today = $today - $gmtime[6] * $seconds;\nfor my $haha (0..4) {\n    $today += $seconds;\n    my @wday = gmtime ($today);\n    push @thisweek,strftime (\"%Y%m%d %Y%U\", @wday);\n}\n\n($monday_1,$tuesday_1,$wednesday_1,$thursday_1,$friday_1) = @thisweek; \n\nbook_time($monday_1,\"1617\");\nbook_time($tuesday_1,\"1617\");\nbook_time($wednesday_1,\"1617\");\nbook_time($thursday_1,\"1617\");\nbook_time($friday_1,\"1617\");\n\nsub book_time()\n{\nmy ($bookdate,$bookweek)= split \" \",shift;\nmy $booktime= shift;\nmy $book = \"http://www.example.com\";\nsystem(\"start $book\");\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "nginx", "pcre"], "answers": [{"tags": [], "owner": {"reputation": 1253, "user_id": 792479, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59768793d816fc6e44f67a9bb5ffbe13?s=128&d=identicon&r=PG", "display_name": "Raghuveer", "link": "https://stackoverflow.com/users/792479/raghuveer"}, "is_accepted": false, "score": 0, "last_activity_date": 1505260576, "creation_date": 1505260576, "answer_id": 46186871, "question_id": 46186695, "link": "https://stackoverflow.com/questions/46186695/how-to-extract-digits-from-a-url-and-save-them-in-a-variable/46186871#46186871", "title": "How to extract digits from a URL and save them in a variable?", "body": "<p>Use this: <code>$myvar = $1 if $location =~ m/^abc.*(\\d+).htm/;</code></p>\n\n<p>$1 would be the first set of digits matched right before .htm. </p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 1681424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87174fb0b5b258e60ae4d421cde39491?s=128&d=identicon&r=PG", "display_name": "user1681424", "link": "https://stackoverflow.com/users/1681424/user1681424"}, "edited": false, "score": 0, "creation_date": 1505326785, "post_id": 46190659, "comment_id": 79371842, "body": "Thanks for the reply. Could I use some parameter or wildcards to replace &quot;Cards&quot;, &quot;Note-cards&quot; and the strings before those numbers? The reason for this is we have different products categories which compose the product link. One example would be /abc/en_us/Products/binder/single-binder/XXX-12345.htm."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1505285304, "creation_date": 1505285304, "answer_id": 46190659, "question_id": 46186695, "link": "https://stackoverflow.com/questions/46186695/how-to-extract-digits-from-a-url-and-save-them-in-a-variable/46190659#46190659", "title": "How to extract digits from a URL and save them in a variable?", "body": "<p>You would want something like this</p>\n\n<pre><code>server {\n    listen 80; \n    server_name www.example.com;\n    rewrite ^/abc/en_us/Products/Cards/Note-Cards/Laser-Note-Cards_([0-9]+).htm /products/cards/$1 last;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 1681424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87174fb0b5b258e60ae4d421cde39491?s=128&d=identicon&r=PG", "display_name": "user1681424", "link": "https://stackoverflow.com/users/1681424/user1681424"}, "edited": false, "score": 0, "creation_date": 1505364907, "post_id": 46209620, "comment_id": 79384628, "body": "Thank you very much for the reply. I was able to get the variable value showed by using the &quot;return 200 &quot;Production id: $prod_id&quot;. However, when I tried to set up the location directive, I couldn&#39;t get the forwarding work. My forwarding is like below    :"}, {"owner": {"reputation": 7607, "user_id": 2820422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eOVO5.jpg?s=128&g=1", "display_name": "Cole Tierney", "link": "https://stackoverflow.com/users/2820422/cole-tierney"}, "reply_to_user": {"reputation": 43, "user_id": 1681424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87174fb0b5b258e60ae4d421cde39491?s=128&d=identicon&r=PG", "display_name": "user1681424", "link": "https://stackoverflow.com/users/1681424/user1681424"}, "edited": false, "score": 0, "creation_date": 1505381768, "post_id": 46209620, "comment_id": 79393718, "body": "You may need to make the location more specific. My example may be too general. I&#39;ve added another directory to my example prefix location, but you may need to experiment some more."}], "tags": [], "owner": {"reputation": 7607, "user_id": 2820422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eOVO5.jpg?s=128&g=1", "display_name": "Cole Tierney", "link": "https://stackoverflow.com/users/2820422/cole-tierney"}, "is_accepted": false, "score": 1, "last_activity_date": 1505424796, "last_edit_date": 1505424796, "creation_date": 1505356634, "answer_id": 46209620, "question_id": 46186695, "link": "https://stackoverflow.com/questions/46186695/how-to-extract-digits-from-a-url-and-save-them-in-a-variable/46209620#46209620", "title": "How to extract digits from a URL and save them in a variable?", "body": "<p>A map is a great way to capture a variable value. It's a safe place to use a regular expression; meaning it does disrupt the natural flow of your configuration with regex locations (see: <a href=\"https://www.youtube.com/watch?v=YWRYbLKsS0I\" rel=\"nofollow noreferrer\">Scaleable NGINX Configuration: Igor Sysoev @nginxconf 2014</a>). The variable is set early in the request cycle and can be used throughout your config.</p>\n\n<pre><code>map $uri $prod_id {\n    ~(?&lt;p_id&gt;\\d+)\\.htm$ $p_id;\n}\n\nserver {\n    server_name www.example.com;\n    return 200 \"Production id: $prod_id\n\";\n}\n</code></pre>\n\n<p>So the following prefix location should work:</p>\n\n<pre><code>location /avery/en_us/Products/ {\n    return 301 http://www.avery.com/$prod_id;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 1681424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87174fb0b5b258e60ae4d421cde39491?s=128&d=identicon&r=PG", "display_name": "user1681424", "link": "https://stackoverflow.com/users/1681424/user1681424"}, "is_accepted": false, "score": 0, "last_activity_date": 1505411334, "creation_date": 1505411334, "answer_id": 46225432, "question_id": 46186695, "link": "https://stackoverflow.com/questions/46186695/how-to-extract-digits-from-a-url-and-save-them-in-a-variable/46225432#46225432", "title": "How to extract digits from a URL and save them in a variable?", "body": "<pre><code>Finally, I got it working by using \"mapping\" and regex with if. Thanks for all the help. \n\nFirst, define the variale from the URL. \nmap $uri $prod_id {\n      ~(?&lt;p_id&gt;\\d+)\\.htm$ $p_id;\n }\n\nSecond, make rewrite rule based on if statement. \nif ($uri ~ \"^/avery/en_us/Products/([0-9a-zA-Z-_]*)/([0-9a-zA-Z-_]*)/([0-9a-\n zA-Z-_.]*).htm$\") {\n             rewrite ^/avery/en_us/Products/([0-9a-zA-Z-_]*)/([0-9a-zA-Z-\n _]*)/([0-9a-zA-Z-_.]*).htm$ http://www.avery.com/$prod_id permanent;\n    }\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 1681424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87174fb0b5b258e60ae4d421cde39491?s=128&d=identicon&r=PG", "display_name": "user1681424", "link": "https://stackoverflow.com/users/1681424/user1681424"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1505424796, "creation_date": 1505259102, "last_edit_date": 1505283190, "question_id": 46186695, "link": "https://stackoverflow.com/questions/46186695/how-to-extract-digits-from-a-url-and-save-them-in-a-variable", "title": "How to extract digits from a URL and save them in a variable?", "body": "<p>I have a forwarding request which involves a bunch of products with production ID. </p>\n\n<pre><code>http://www.example.com/abc/en_us/Products/Cards/Note-Cards/Laser-Note-Cards_05315.htm\n</code></pre>\n\n<p>to</p>\n\n<pre><code> www.example.com/products/cards/05315\n</code></pre>\n\n<p>So I want to make a regex pattern to match the four or five digit product ID in the original URL and use a variable to save it. Then we can reuse that variable to build the destination link.</p>\n\n<p>I have set up a rule like before, but it doesn't work. Could anybody here help me with this or give me some examples that I can imitate?</p>\n\n<pre><code>location ~ ^/abc/en_us/(?&lt;myvar&gt;[0-9][0-9][0-9][0-9]|[0-9][0-9][0-9][0-9][0-9]) {\n # use variable $myvar here\n #if ( $myvar = \"sth\" ) { ... }\n rewrite ^/$1/$2/$myvar;\n}\n</code></pre>\n"}, {"tags": ["regex", "xml", "perl", "namespaces", "xml-libxml"], "comments": [{"owner": {"reputation": 2481, "user_id": 8375503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665c78f2278da31a096f11a21930a84e?s=128&d=identicon&r=PG&f=1", "display_name": "kumesana", "link": "https://stackoverflow.com/users/8375503/kumesana"}, "edited": false, "score": 0, "creation_date": 1505249652, "post_id": 46184839, "comment_id": 79333112, "body": "No, they can be in simple quotes, and someone could have the weird idea of replacing a / with &amp;#x2F; for instance. Long story short, you can&#39;t parse XML with regexes, it will never do the full job. More importantly, you can&#39;t search for a node that contains xmlns:something. This information has no value and there is no reason why the node that declares it is the one you want. Nor for this declaration to be unique in the document. Maybe it is, maybe it&#39;s not, and it&#39;s none of your business. You shouldn&#39;t be looking for it. What you&#39;re looking for is something else."}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "reply_to_user": {"reputation": 2481, "user_id": 8375503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665c78f2278da31a096f11a21930a84e?s=128&d=identicon&r=PG&f=1", "display_name": "kumesana", "link": "https://stackoverflow.com/users/8375503/kumesana"}, "edited": false, "score": 0, "creation_date": 1505250403, "post_id": 46184839, "comment_id": 79333480, "body": "Thx Kumesana.  What you said is exactly what I feared.   But what is the proper way then?    My situation: All the XMLs I work with will use a &quot;dei&quot; namespace, which is of interest to me.   But different XMLs may have different definitions for &quot;dei&quot;.   So how am I supposed to know what the definition is (in order to parse it with a DOM)?     For example, this XML has a different definition than that in my OP.   <a href=\"https://www.sec.gov/Archives/edgar/data/104207/000010420712000098/wag-20120831.xml\" rel=\"nofollow noreferrer\">sec.gov/Archives/edgar/data/104207/000010420712000098/&hellip;</a>"}, {"owner": {"reputation": 2481, "user_id": 8375503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665c78f2278da31a096f11a21930a84e?s=128&d=identicon&r=PG&f=1", "display_name": "kumesana", "link": "https://stackoverflow.com/users/8375503/kumesana"}, "edited": false, "score": 0, "creation_date": 1505250595, "post_id": 46184839, "comment_id": 79333569, "body": "See the other answer, they understood better than I what you had in mind."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505283690, "post_id": 46184839, "comment_id": 79342470, "body": "Re &quot;<i>So how am I supposed to know what the definition is</i>&quot;, That&#39;s not the right question. Both namespaces/specs could be used in the same doc. The correct question is: Which specs (and thus namespaces) are used by the doc?"}], "answers": [{"comments": [{"owner": {"reputation": 2481, "user_id": 8375503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665c78f2278da31a096f11a21930a84e?s=128&d=identicon&r=PG&f=1", "display_name": "kumesana", "link": "https://stackoverflow.com/users/8375503/kumesana"}, "edited": false, "score": 0, "creation_date": 1505250199, "post_id": 46185248, "comment_id": 79333392, "body": "Come to think of it, there could also be no prefix at all."}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1505250857, "post_id": 46185248, "comment_id": 79333680, "body": "Grant.  Please see my comments above.   My actual situation is that I know all the XMLs will hold the information I need under a namespace &quot;dei&quot;.  But sometimes it is <a href=\"http://xbrl.sec.gov/dei/2014-01-31\" rel=\"nofollow noreferrer\">xbrl.sec.gov/dei/2014-01-31</a> (but other times, it could be &quot;<a href=\"http://xbrl.sec.gov/dei/2012-01-31\" rel=\"nofollow noreferrer\">xbrl.sec.gov/dei/2012-01-31</a>&quot; -- depending on the time the XML was produced).   What is the proper thing to do?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1505297531, "post_id": 46185248, "comment_id": 79351728, "body": "OK, I understand now. @ikegami&#39;s solution of registering both URIs and using an XPath query to match either is the way I would do it too."}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 1, "last_activity_date": 1505250027, "creation_date": 1505250027, "answer_id": 46185248, "question_id": 46184839, "link": "https://stackoverflow.com/questions/46184839/should-i-use-regex-to-find-the-xml-namespace-definition/46185248#46185248", "title": "Should I Use Regex to Find the XML Namespace Definition?", "body": "<p>The <em>only</em> important thing about a namespace in XML is the URI.  Your code is assuming a namespace prefix of <code>dei</code>, using that to locate the namespace declaration and determine that the URI is <code>http://xbrl.sec.gov/dei/2014-01-31</code>.  This is exactly backwards.  The thing you should be hard-coding in your script is the URI - it won't change.  The namespace prefix is theoretically variable and a different prefix might be used for the same URI in other documents.</p>\n"}, {"comments": [{"owner": {"reputation": 88920, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "edited": false, "score": 1, "creation_date": 1505261617, "post_id": 46186376, "comment_id": 79336727, "body": "Anonymous downvoter: Downvote only wrong, especially harmfully wrong, answers -- not answers that you don&#39;t want to hear.  This answer is correct; its reasoning, sound."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505282390, "post_id": 46186376, "comment_id": 79341876, "body": "Re &quot;<i>regular expressions are not powerful enough to parse XML correctly.</i>&quot;, That&#39;s not true. XML is trivial to parse using regex. That&#39;s not the reason regex are discouraged. They are discouraged because using them to parse XML is reinventing the wheel (XML parser), and it&#39;s almost guaranteed to be reinvented really, really poorly."}, {"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1505293125, "post_id": 46186376, "comment_id": 79348399, "body": "@ikegami, you are 100% wrong. XML is not a regular language, because its grammar is recursive. It <i>cannot</i> be parsed correctly using regular expressions."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505317542, "post_id": 46186376, "comment_id": 79366413, "body": "It doesn&#39;t have to be a regular language to be parsed using the regular expressions the OP is using. Furthermore, the OP didn&#39;t give any indication that they would parse the document using a single match operator. When you&#39;re done erecting straw men (by pretending the OP is doing something completely different than they are doing) just so you can lecture them and sound smart, please fix your answer."}, {"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "edited": false, "score": 1, "creation_date": 1505319894, "post_id": 46186376, "comment_id": 79367904, "body": "I&#39;ll fix my answer when I see a regular expression used to parse XML without any bugs in it."}], "tags": [], "owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "is_accepted": false, "score": 0, "last_activity_date": 1505320107, "last_edit_date": 1505320107, "creation_date": 1505256400, "answer_id": 46186376, "question_id": 46184839, "link": "https://stackoverflow.com/questions/46184839/should-i-use-regex-to-find-the-xml-namespace-definition/46186376#46186376", "title": "Should I Use Regex to Find the XML Namespace Definition?", "body": "<p>Never use regular expressions to process XML: your code will always be wrong. Your example has at least five bugs: it will fail to match if a different prefix is used, it will fail to match if single quotes are used, it will fail to match if there is whitespace around the \"=\" sign, it will error if the namespace declaration is duplicated, and it will give a spurious match if there is \"commented out\" XML in the source document.</p>\n\n<p>It is <strong>theoretically impossible</strong> to eliminate these bugs, because regular expressions are not powerful enough to parse XML correctly.</p>\n\n<p>Always use a real XML parser, and XPath.</p>\n"}, {"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 1, "last_activity_date": 1505308037, "last_edit_date": 1505308037, "creation_date": 1505274540, "answer_id": 46188539, "question_id": 46184839, "link": "https://stackoverflow.com/questions/46184839/should-i-use-regex-to-find-the-xml-namespace-definition/46188539#46188539", "title": "Should I Use Regex to Find the XML Namespace Definition?", "body": "<p>use <code>getNamespaces()</code></p>\n\n<pre><code>my @ns_dei = grep { $_-&gt;name eq 'xmlns:dei' } $dom-&gt;documentElement()-&gt;getNamespaces();\n\ndie \"Namespace definition must be unique!\\n\" if @ns_dei != 1;\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new($dom);\n$xpc-&gt;registerNs( 'dei', $ns_dei[0]-&gt;value );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1505283761, "last_edit_date": 1505283761, "creation_date": 1505281959, "answer_id": 46189805, "question_id": 46184839, "link": "https://stackoverflow.com/questions/46184839/should-i-use-regex-to-find-the-xml-namespace-definition/46189805#46189805", "title": "Should I Use Regex to Find the XML Namespace Definition?", "body": "<p><code>dei</code> is not a namespace; it's a prefix that's only meaningful in that particular document. You can't count on the namespace's prefix always being <code>dei</code>.</p>\n\n<p><code>http://xbrl.sec.gov/dei/2014-01-31</code> is the namespace. That's the thing that can't change, and that you should be basing your code around.</p>\n\n<p>In a comment, you mentioned you have to deal with multiple specs. Just create an XPath prefix for each spec you support.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse LWP::Simple               qw( );\nuse XML::LibXML               qw( );\nuse XML::LibXML::XPathContext qw( );\n\nmy $url = 'https://www.sec.gov/Archives/edgar/data/1057051/000119312517099664/acef-20161231.xml';\n\nmy $xml = LWP::Simple::get($url);\n\nmy $doc = XML::LibXML-&gt;load_xml(string =&gt; $xml);\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new();\n$xpc-&gt;registerNs( d1 =&gt; 'http://xbrl.sec.gov/dei/2012-01-31' );\n$xpc-&gt;registerNs( d2 =&gt; 'http://xbrl.sec.gov/dei/2014-01-31' );\n\nmy @matches = $xpc-&gt;findnodes('//d1:TradingSymbol|//d2:TradingSymbol', $doc);\nprint \"Number of matches = \", 0+@matches, \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2481, "user_id": 8375503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665c78f2278da31a096f11a21930a84e?s=128&d=identicon&r=PG&f=1", "display_name": "kumesana", "link": "https://stackoverflow.com/users/8375503/kumesana"}, "is_accepted": false, "score": 0, "last_activity_date": 1505297244, "creation_date": 1505297244, "answer_id": 46194671, "question_id": 46184839, "link": "https://stackoverflow.com/questions/46184839/should-i-use-regex-to-find-the-xml-namespace-definition/46194671#46194671", "title": "Should I Use Regex to Find the XML Namespace Definition?", "body": "<p>I understand that your problem is that the XML you read will not always use the same URI as namespace to attach to the dei: prefix and the elements you're looking using it.</p>\n\n<p>In that case the XML you're stuck with is ill-designed and there is no good practice established for that. This XML is using namespaces wrong and you will need to work around that. For information, changing an element's namespace is by definition changing its name, and therefore the most basic information you're using to find it.</p>\n\n<p>Your best bet is to ignore namespaces whatsoever. You can do that with</p>\n\n<pre><code>//*[local-name () = \"TradingSymbol\"]\n</code></pre>\n\n<p>If the number of different namespaces you can get is limited to a select few, you could instead list them all, as dei: and dei2012: for instance, and select for both:</p>\n\n<pre><code>//dei:TradingSymbol | //dei2012:TradingSymbol\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1505421152, "last_edit_date": 1505421152, "creation_date": 1505420468, "answer_id": 46227632, "question_id": 46184839, "link": "https://stackoverflow.com/questions/46184839/should-i-use-regex-to-find-the-xml-namespace-definition/46227632#46227632", "title": "Should I Use Regex to Find the XML Namespace Definition?", "body": "<p>Thanks to everyone who answered.  I am very inexperienced in terms of using Perl to grab data from Internet (SEC Edgar filings in this particular case).  So I am probably not even asking the most intelligent questions.</p>\n\n<p>The business problem (per my best understanding): \n1) When a company files its 10K/Q using XBRL, SEC wants the trading symbol information disclosed based on one of SEC's published schemas.\n2) The complete list of schema locations is known (and will grow):</p>\n\n<pre><code>-- http://taxonomies.xbrl.us/us-gaap/2009/non-gaap/dei-2009-01-31.xsd\n-- https://xbrl.sec.gov/dei/2012/dei-2012-01-31.xsd\n-- https://xbrl.sec.gov/dei/2013/dei-2013-01-31.xsd\n-- https://xbrl.sec.gov/dei/2014/dei-2014-01-31.xsd\n</code></pre>\n\n<p>3) I want to grab such trading symbol information.</p>\n\n<p>I now understand that the \"dei\" namespace-prefix has no real significance.  But it seems that even the namespace-name itself e.g. '<a href=\"http://xbrl.sec.gov/dei/2012-01-31\" rel=\"nofollow noreferrer\">http://xbrl.sec.gov/dei/2012-01-31</a>' has no significance. Only the schema location is truly meaningful.  Is this correct?</p>\n\n<p>My understanding is that the XBRL instance document references a schema document which \"maps\" the namespace (e.g. <a href=\"http://xbrl.sec.gov/dei/2012-01-31\" rel=\"nofollow noreferrer\">http://xbrl.sec.gov/dei/2012-01-31</a>) to the schema location.  (So the namespace-name only needs to be a unique string.)</p>\n\n<p>So is there a way to modify ikegami's code to use the schema locations instead of the namespace names?</p>\n\n<p>Example of a complete XRBL filing:\n<a href=\"https://www.sec.gov/Archives/edgar/data/1057051/000119312517099664\" rel=\"nofollow noreferrer\">https://www.sec.gov/Archives/edgar/data/1057051/000119312517099664</a></p>\n"}], "owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "answer_count": 6, "score": 2, "last_activity_date": 1505421152, "creation_date": 1505248125, "last_edit_date": 1505283485, "question_id": 46184839, "link": "https://stackoverflow.com/questions/46184839/should-i-use-regex-to-find-the-xml-namespace-definition", "title": "Should I Use Regex to Find the XML Namespace Definition?", "body": "<p>The script below works.  It parses a XML and looks up a particular node under the namespace \"dei\".</p>\n\n<p>But is relying on regex for the namespace definition the proper way?   (I do not really know XML.  So I worry that such regex is not fool-proof for all Edgar XMLs. \n For example -- are such definitions always enclosed in double quotes and preceded by xmlns: ?)</p>\n\n<p>Thanks.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse LWP::Simple;\nuse XML::LibXML;\nuse XML::LibXML::XPathContext;\n\nmy $url = 'https://www.sec.gov/Archives/edgar/data/1057051/000119312517099664/acef-20161231.xml';\nmy $xml = LWP::Simple::get($url);\nmy $dom = XML::LibXML-&gt;load_xml(string =&gt; $xml);\n\nmy @nsDefs = ($xml =~ /xmlns:dei=\"(.+?)\"/g);\ndie \"Namespace definition must be unique!\\n\" unless @nsDefs == 1;\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new($dom);\n$xpc-&gt;registerNs('dei', $nsDefs[0]);\n\nmy @matches = $xpc-&gt;findnodes('//dei:TradingSymbol');\nprint 'Number of matches = ', scalar(@matches), \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Number of matches = 1\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1505239781, "post_id": 46182883, "comment_id": 79328600, "body": "Maybe you want <code>&#47;\\blog\\b&#47;</code> aka <code>&#47;(?&lt;!\\w)log(?!\\w)&#47;</code>?"}, {"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505240751, "post_id": 46182883, "comment_id": 79329037, "body": "@ikegami it works good!! could you please explain this pattern? Thanks very much"}], "answers": [{"comments": [{"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1505241942, "post_id": 46182976, "comment_id": 79329632, "body": "so it only matches the word between \\b WORD \\b right?"}, {"owner": {"reputation": 4233, "user_id": 1143387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0b9a9c460593d77b3561075ef1889150?s=128&d=identicon&r=PG", "display_name": "sniperd", "link": "https://stackoverflow.com/users/1143387/sniperd"}, "reply_to_user": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1505242442, "post_id": 46182976, "comment_id": 79329903, "body": "yep, \\b is a zero width match.  I think _ does count as part of the word though, but usually using \\b is going to do exactly what is being looked for."}, {"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1505247055, "post_id": 46182976, "comment_id": 79331947, "body": "I just tried \\bWORD and \\bWORD\\b, the results are the same. So, what is the difference between     \\bWORD     and     \\bWORD\\b"}, {"owner": {"reputation": 4233, "user_id": 1143387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0b9a9c460593d77b3561075ef1889150?s=128&d=identicon&r=PG", "display_name": "sniperd", "link": "https://stackoverflow.com/users/1143387/sniperd"}, "reply_to_user": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1505306308, "post_id": 46182976, "comment_id": 79357931, "body": "Give this a read:  <a href=\"http://www.regular-expressions.info/wordboundaries.html\" rel=\"nofollow noreferrer\">regular-expressions.info/wordboundaries.html</a>   the \\b  is a zero width match with special meanings.  :)"}], "tags": [], "owner": {"reputation": 4233, "user_id": 1143387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0b9a9c460593d77b3561075ef1889150?s=128&d=identicon&r=PG", "display_name": "sniperd", "link": "https://stackoverflow.com/users/1143387/sniperd"}, "is_accepted": false, "score": 0, "last_activity_date": 1505239888, "creation_date": 1505239888, "answer_id": 46182976, "question_id": 46182883, "link": "https://stackoverflow.com/questions/46182883/perl-regular-expression-letter-number/46182976#46182976", "title": "Perl regular expression letter.number", "body": "<p>This should do the trick:</p>\n\n<pre><code>while( &lt;&gt; ) {\n        printf \"%s\",$_ if /\\blog\\b/;\n}\n</code></pre>\n\n<p>The key being the \\b that's a word boundary.  You can read about them here: <a href=\"http://www.regular-expressions.info/wordboundaries.html\" rel=\"nofollow noreferrer\">http://www.regular-expressions.info/wordboundaries.html</a>  but pretty much it's a space, non letter, the beginning of the line, or end of the line.  Another option would be:</p>\n\n<pre><code>/\\.log\\d/\n</code></pre>\n\n<p>That would match .log3  The period has to be escaped and the \\d means a number.  That being said I think \\b is what you want.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1505250129, "post_id": 46183405, "comment_id": 79333364, "body": "@Luke  The <code>&#47;x</code> is not necessary by any means -- I used it in text to make it easier to look at the regex, but in one-liner I don&#39;t so that there&#39;s less typing and is more compact.  In scripts and production code one often sees <code>&#47;x</code> specially when the regex is more complex.  One-liners are mostly used to try things out, and <code>&#47;x</code> may make them longer and unwiedly.  All matter of taste."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1505339596, "post_id": 46183405, "comment_id": 79378157, "body": "@Luke  You are most welcome :).  Let me know if more explanation would be helpful."}, {"owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1505340526, "post_id": 46183405, "comment_id": 79378448, "body": "@zdim it is very helpful :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "edited": false, "score": 0, "creation_date": 1505341029, "post_id": 46183405, "comment_id": 79378632, "body": "@Luke  great :)  I mean let me know if I should add more (and what), and if things come up"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1505319262, "last_edit_date": 1505319262, "creation_date": 1505241801, "answer_id": 46183405, "question_id": 46182883, "link": "https://stackoverflow.com/questions/46182883/perl-regular-expression-letter-number/46183405#46183405", "title": "Perl regular expression letter.number", "body": "<p>As explained, <code>\\blog\\b</code> may work for your data.  However, if <code>log</code> can come in the string along yet other non-word characters (like <code>log-a.txt</code>) that gets matched, too, so you need be more specific.  One way is to match precisely what is expected. By the shown sample</p>\n\n<pre><code>while (&lt;&gt;) {\n    print if /(?: \\.log | log\\.\\d+ )$/x;\n}\n</code></pre>\n\n<p>where <code>(?: )</code> is the <em>non capturing</em> group, used so that either of the alternation patterns is anchored to the end of the string, <code>$</code> (but not needlessly captured). Otherwise we'd match <code>x.log.OLD</code> or such.  With the <code>/x</code> modifier spaces may be used without being matched, good for readability.</p>\n\n<p>The patterns in alternation <code>|</code> can be combined but that gets far more complicated.</p>\n\n<p>The <code>printf %s, $var</code> has no advantage over <code>print $var</code> (unless the format is more involved).</p>\n\n<p>A one-liner test</p>\n\n<pre><code>perl -wE'\n   @ary = qw(log-out xxxx.log log.1 log.2 blog photolog);\n   /(?:\\.log|log\\.\\d+)$/ &amp;&amp; say for @ary\n'\n</code></pre>\n\n<p>where <a href=\"http://perldoc.perl.org/feature.html\" rel=\"nofollow noreferrer\">feature</a> <code>say</code> is used for the newline, needed here. In a one-liner <code>-E</code> (capital) enables it.</p>\n"}], "owner": {"reputation": 338, "user_id": 5426961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsX3K.gif?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5426961/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 46183405, "answer_count": 2, "score": 1, "last_activity_date": 1505319262, "creation_date": 1505239494, "last_edit_date": 1505247988, "question_id": 46182883, "link": "https://stackoverflow.com/questions/46182883/perl-regular-expression-letter-number", "title": "Perl regular expression letter.number", "body": "<p>Perl</p>\n\n<p>I have strings:</p>\n\n<p>xxxx.log, log.1, log.2, blog, photolog</p>\n\n<p>So I would like to match only the strings named </p>\n\n<ol>\n<li>[log.num]  e.g  log.1 log.12 log.3</li>\n<li>[.log] e.g  xxxx.log</li>\n</ol>\n\n<p>not include the string named blog, phtotlog.</p>\n\n<p>any helps would be appreciated. </p>\n\n<p>So far this is my code but i will match blog and some words have \"log\" that is not i want. </p>\n\n<pre><code>while( &lt;&gt; ) {\n        printf \"%s\",$_ if /log/;\n}\n</code></pre>\n"}, {"tags": ["c", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505234129, "post_id": 46181281, "comment_id": 79325804, "body": "Right off the bat, <code>sub udp_checksum(my $len_udp, my @src_addr, my @dest_addr, my $padding, my @buff) { ... }</code> isn&#39;t Perl. That might actually be the only problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505234402, "post_id": 46181281, "comment_id": 79325959, "body": "<code>return $sum;</code> should be <code>return $sum &amp; 0xFFFF;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505234494, "post_id": 46181281, "comment_id": 79326004, "body": "Tip: <code>$sum = $sum + $word16;</code> can be written as <code>$sum += $word16;</code>"}, {"owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505235371, "post_id": 46181281, "comment_id": 79326464, "body": "Already used ~ instead of using &amp; mask. And about += good suggestion, I&#39;am not right now review the style. I was try to convert this. So how can i make a sub function and pass arguments to it like in C? Can you also tell me how to use this function?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505235566, "post_id": 46181281, "comment_id": 79326577, "body": "Re &quot;<i>Already used ~ instead of using &amp; mask.</i>&quot;, That make no sense. <code>return $sum;</code> should be <code>return $sum &amp; 0xFFFF;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505235600, "post_id": 46181281, "comment_id": 79326594, "body": "Re &quot;<i>So how can i make a sub function and pass arguments to it like in C?</i>&quot;, Isn&#39;t that an easy question to answer yourself? Out of time here."}, {"owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505235872, "post_id": 46181281, "comment_id": 79326730, "body": "I don&#39;t get you but if i make this mask what difference? if for example it&#39;s 1010 1010 and you &amp; it with 1111 1111 so it will be same 1010 1010..........................."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505236474, "post_id": 46181281, "comment_id": 79327024, "body": "<code>10101010 &amp; 1111</code> isn&#39;t <code>10101010</code>, it&#39;s <code>1010</code>. /// In Perl, <code>~0x1234</code> gives <code>0xFFFFFB2D</code> (ivsize=4) or <code>0xFFFFFFFFFFFFFB2D</code> (ivsize=8), but the function is suppose to return <code>0xFB2D</code>. In the C code you are translating, this is done using a type cast (<code>return (u16)sum;</code>). In the Perl version, you can use  <code>return $sum &amp; 0xFFFF;</code>"}, {"owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505237244, "post_id": 46181281, "comment_id": 79327375, "body": "Ok, I means &amp; 1111 1111 anyway i really don&#39;t know much in Perl just i&#39;am very starter. So i do what you said like: <a href=\"https://pastebin.com/w9Y99ExC\" rel=\"nofollow noreferrer\">pastebin.com/w9Y99ExC</a> but just to ask you my $src_addr, my $dest_addr, my $buff these when i give them value the value in Hex or binary?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505238673, "post_id": 46181281, "comment_id": 79328086, "body": "Re &quot;<i>Ok, I means &amp; 1111 1111</i>&quot;, No, you had it right. The mask is smaller than the number. You are returning a 32-bit or 64-bit number when only the lowest 16-lowest bits should be returned, and that&#39;s done by replacing <code>$sum</code> with <code>$sum &amp; 0xFFFF</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505238773, "post_id": 46181281, "comment_id": 79328142, "body": "Re &quot;<i>but just to ask you my $src_addr, my $dest_addr, my $buff these when i give them value the value in Hex or binary?</i>&quot;, Hex and binary are <i>text</i> representations of numbers. Neither are what your code needs. Your code needs arrays of bytes for those. My answer instead requires strings of bytes because that&#39;s far more convenient for both <code>udp_checksum</code> and its caller."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505239279, "post_id": 46181281, "comment_id": 79328358, "body": "In the C code, <code>if (padding&amp;1==1)</code> should have been <code>if (len_udp&amp;1==1)</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505239362, "post_id": 46181281, "comment_id": 79328394, "body": "In the C code, <code>buff[len_udp]=0;</code> could be a buffer overflow. This problem didn&#39;t carry over into your code, though."}, {"owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505239527, "post_id": 46181281, "comment_id": 79328480, "body": "That&#39;s ok i&#39;ll try your code better."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505239770, "post_id": 46182532, "comment_id": 79328595, "body": "Hmm, Nice just what you mean by 4-char? Example: The source ip: 94.122.166.249 and the dest: 5.196.159.54 How i write them then?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505239873, "post_id": 46182532, "comment_id": 79328647, "body": "<code>use Socket qw( inet_aton ); my $addr = inet_aton(&quot;94.122.166.249&quot;);</code> Also takes domain names. Alternatively, <code>my $addr = pack(&#39;C4&#39;, split(&#47;\\.&#47;, &quot;94.122.166.249&quot;));</code>"}, {"owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505239886, "post_id": 46182532, "comment_id": 79328658, "body": "And udp header is src port, dest port, udp length and those are integers so how can i add them together? And data is in hex so if can you give me example? I use wireshark so i say this"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505240000, "post_id": 46182532, "comment_id": 79328701, "body": "<code>my $udp_packet = pack(&#39;nnnna*&#39;, $src_port, $dst_port, 8+length($body), 0, $body);</code>"}, {"owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505240368, "post_id": 46182532, "comment_id": 79328864, "body": "And values like: <code>$src_port = 27005</code> <code>$dst_port = 27015</code> <code>$body = &quot;\\xf6\\x12\\x00\\x00\\x5d\\x12\\x00\\x80\\x63\\x33\\x10\\xf4\\x00\\xf6\\x5&zwnj;&#8203;0\\xbd\\x3a\\x84\\xb1\\xb&zwnj;&#8203;d\\x19\\x02\\x4d\\xbd\\xb&zwnj;&#8203;2\\xa7\\x13\\x74\\x5d&quot;</code> ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505240904, "post_id": 46182532, "comment_id": 79329122, "body": "Yup! Added a bit to my answer."}, {"owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505241067, "post_id": 46182532, "comment_id": 79329203, "body": "Yes excellent now but the body should be in hex right? as i do or?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505241154, "post_id": 46182532, "comment_id": 79329242, "body": "It shouldn&#39;t be hex. For example, <code>$body = &quot;f61200...&quot;;</code> would place the hex representation of the body in <code>$body</code>, and that would be bad. What you did above was correct. You may have used hex in your code, but that has nothing to do with what&#39;s in <code>$body</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505241416, "post_id": 46182532, "comment_id": 79329371, "body": "Tip: <code>$body  = &quot;\\xf6\\x12\\x00...&quot;;</code> can be shortened to <code>$body  = pack(&quot;H*&quot;, &quot;f61200...&quot;);</code>."}, {"owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505241505, "post_id": 46182532, "comment_id": 79329420, "body": "Ok let me test now and tell you. I&#39;ll see if the function will return the same checksum wireshark calculated or not"}, {"owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "edited": false, "score": 0, "creation_date": 1505243738, "post_id": 46182532, "comment_id": 79330451, "body": "Great, The value in wireshark is: Checksum: 0x9915 and it&#39;s same result with this function. Big thanks for you."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1505250478, "last_edit_date": 1505250478, "creation_date": 1505238084, "answer_id": 46182532, "question_id": 46181281, "link": "https://stackoverflow.com/questions/46181281/udp-checksum-function-in-perl/46182532#46182532", "title": "UDP Checksum Function in Perl", "body": "<pre><code>use List::Util qw( sum );\nuse Socket     qw( IPPROTO_UDP );\n\nsub udp_checksum {\n    my $packed_src_addr = shift;  # As 4-char string, e.g. as returned by inet_aton.\n    my $packed_dst_addr = shift;  # As 4-char string, e.g. as returned by inet_aton.\n    my $udp_packet      = shift;  # UDP header and data as a string.\n\n    my $sum = sum(\n        IPPROTO_UDP,\n        length($udp_packet),\n        map({ unpack('n*', $_) }\n            $packed_src_addr,\n            $packed_dst_addr,\n            $udp_packet.\"\\0\",  # Extra byte ignored if length($udp_packet) is even.\n        ),\n    );\n\n    while (my $hi = $sum &gt;&gt; 16) {\n        $sum = ($sum &amp; 0xFFFF) + $hi;\n    }\n\n    return ~$sum &amp; 0xFFFF;\n}\n</code></pre>\n\n<p>To build a UDP packet,</p>\n\n<pre><code>my $udp_packet = pack('nnnna*', $src_port, $dst_port, 8+length($body), 0, $body);\nmy $checksum = udp_checksum($packed_src_addr, $packed_dst_addr, $udp_packet);\nsubstr($udp_packet, 6, 2, pack('n', $checksum));\n</code></pre>\n\n<p>To verify a UDP packet's checksum,</p>\n\n<pre><code>udp_checksum($packed_src_addr, $packed_dst_addr, $udp_packet)\n    and die(\"Invalid checksum\\n\");\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse Socket;\nuse warnings;\nuse List::Util qw(sum);\nuse Socket     qw(IPPROTO_UDP);\nuse Socket     qw(inet_aton);\n\nmain();\n\nsub main {\n    my $src_port = 27005;\n    my $dst_port = 27015;\n    my $body = pack(\"H*\", \"92380000621f008063d5179000927df3a2e09bf319a66bf300c239aa9393d8eaa244119a\");\n    my $packed_src_addr = inet_aton(\"156.215.205.76\");\n    my $packed_dst_addr = inet_aton(\"31.186.251.163\");\n\n    my $udp_packet = pack('nnnna*', $src_port, $dst_port, 8+length($body), 0, $body);\n    my $checksum = udp_checksum($packed_src_addr, $packed_dst_addr, $udp_packet);\n\n    print \"\\n\\nUDP Checksum: $checksum\\n\\n\";\n}\n\nsub udp_checksum {\n    my $packed_src_addr = shift;  # As 4-char string, e.g. as returned by inet_aton.\n     my $packed_dst_addr = shift;  # As 4-char string, e.g. as returned by inet_aton.\n    my $udp_packet      = shift;  # UDP header and data as a string.\n\n    my $sum = sum(\n    IPPROTO_UDP,\n    length($udp_packet),\n    map({ unpack('n*', $_) }\n        $packed_src_addr,\n        $packed_dst_addr,\n        $udp_packet.\"\\0\",  # Extra byte ignored if length($udp_packet) is even.\n        ),\n    );\n\n    while (my $hi = $sum &gt;&gt; 16) {\n        $sum = ($sum &amp; 0xFFFF) + $hi;\n    }\n\n    return ~$sum &amp; 0xFFFF;\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8598800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e37cc4ba7d7e24fa66e54af6e82ad8?s=128&d=identicon&r=PG&f=1", "display_name": "gamer-cs", "link": "https://stackoverflow.com/users/8598800/gamer-cs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 2, "accepted_answer_id": 46182532, "answer_count": 1, "score": 2, "last_activity_date": 1505250478, "creation_date": 1505233129, "last_edit_date": 1505234081, "question_id": 46181281, "link": "https://stackoverflow.com/questions/46181281/udp-checksum-function-in-perl", "title": "UDP Checksum Function in Perl", "body": "<p>I have searched much i need function to calculate UDP header checksum in Perl.</p>\n\n<p>I find this function in C: <a href=\"http://www.netfor2.com/udpsum.htm\" rel=\"nofollow noreferrer\">http://www.netfor2.com/udpsum.htm</a>\nBut i don't know how to use it and i try to convert it to Perl but not managed</p>\n\n<p>This what i try:</p>\n\n<pre><code>sub udp_checksum(my $len_udp, my @src_addr, my @dest_addr, my $padding, my @buff)\n{\n    my $proto_udp = 17;\n    my $padd = 0;\n    my $word16;\n    my $sum;\n\n    # Find out if the length of data is even or odd number. If odd,\n    # add a padding byte = 0 at the end of packet\n    if ($padding&amp;1==1){\n        $padd = 1;\n        $buff[$len_udp] = 0;\n    }\n\n    # initialize sum to zero\n    $sum = 0;\n\n    # make 16 bit words out of every two adjacent 8 bit words and \n    # calculate the sum of all 16 bit words\n    for (my $i = 0; $i &lt; $len_udp + $padd; $i = $i + 2){\n        $word16 =(($buff[i] &lt;&lt; 8) &amp; 0xFF00) + ($buff[i+1] &amp; 0xFF);\n        $sum = $sum + $word16;\n    }\n\n    # add the UDP pseudo header which contains the IP source and destinationn addresses\n    for (my $i = 0; $i &lt; 4; $i = $i + 2){\n        $word16 =(($src_addr[i] &lt;&lt; 8) &amp; 0xFF00) + ($src_addr[i+1] &amp; 0xFF);\n        $sum = $sum + $word16;\n    }\n\n    for (my $i = 0; $i &lt; 4; $i = $i + 2){\n        $word16 =(($dest_addr[i] &lt;&lt; 8) &amp; 0xFF00) + ($dest_addr[i+1] &amp; 0xFF);\n        $sum = $sum + $word16;\n    }\n\n    # the protocol number and the length of the UDP packet\n    $sum = $sum + $prot_udp + $len_udp;\n\n    # keep only the last 16 bits of the 32 bit calculated sum and add the carries\n        while ($sum &gt;&gt; 16){\n            $sum = ($sum &amp; 0xFFFF) + ($sum &gt;&gt; 16);\n        }\n\n    # Take the one's complement of sum\n    $sum = ~$sum;\n\n    return $sum;\n}\n</code></pre>\n\n<p>Please help me.</p>\n"}, {"tags": ["perl", "makefile", "cygwin"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1505244866, "post_id": 46181141, "comment_id": 79330946, "body": "No, you&#39;re not running strawberry perl -- you&#39;re running cygwin perl (and cygwin cpan)."}, {"owner": {"reputation": 97, "user_id": 3180258, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9325ca51f417f532d6a2b25fad93c208?s=128&d=identicon&r=PG&f=1", "display_name": "user3180258", "link": "https://stackoverflow.com/users/3180258/user3180258"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1505253255, "post_id": 46181141, "comment_id": 79334626, "body": "Oh. I had initially installed Strawberry perl and later installed cygwin perl after I was having some problems. The problem didn&#39;t change though following the installation of cygwin perl/cpan. Should I just clear out cygwin and perl installations and start from scratch? I need cygwin for &#39;make image&#39; batch file"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1505254917, "post_id": 46181141, "comment_id": 79335158, "body": "The make executable that gets called is from Rtools, not from cygwin. That could be a problem and can be resolved by fixing your $PATH (and making sure you have installed <code>make</code> for cygwin)."}, {"owner": {"reputation": 97, "user_id": 3180258, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9325ca51f417f532d6a2b25fad93c208?s=128&d=identicon&r=PG&f=1", "display_name": "user3180258", "link": "https://stackoverflow.com/users/3180258/user3180258"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1505255678, "post_id": 46181141, "comment_id": 79335372, "body": "Rtools is installed as part of my R install and was already part of $PATH before I started on this. I had done a re-base of cygwin with make modules selected and this seemed to make no difference (late last night though so anything is possible there). What is the $PATH value for make? Does it need to go before/after any particular value in $PATH?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1505302277, "post_id": 46181141, "comment_id": 79355037, "body": "The <code>make</code> installed by Cygwin&#39;s <code>make</code> package (verify that you&#39;ve installed it) will be in <code>&#47;usr&#47;bin&#47;make</code>."}, {"owner": {"reputation": 97, "user_id": 3180258, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9325ca51f417f532d6a2b25fad93c208?s=128&d=identicon&r=PG&f=1", "display_name": "user3180258", "link": "https://stackoverflow.com/users/3180258/user3180258"}, "edited": false, "score": 0, "creation_date": 1505327266, "post_id": 46181141, "comment_id": 79372133, "body": "OK. So I just wiped it all and started fresh. Used console2 instead of windows cmd. Installed Strawberry then ran all the cpan operation from console2 using capping from CPAN::minus. There were a few modules which were reporting that they weren&#39;t installed but after some console exits, pc restarts, and various attempts at installing modules, things just magically worked :/ Even though it&#39;s working, the solution doesn&#39;t really help myself or anyone else for that matter. After re-install the main offending module was Math::Random (Config::General installed fine)"}, {"owner": {"reputation": 97, "user_id": 3180258, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9325ca51f417f532d6a2b25fad93c208?s=128&d=identicon&r=PG&f=1", "display_name": "user3180258", "link": "https://stackoverflow.com/users/3180258/user3180258"}, "edited": false, "score": 0, "creation_date": 1505579318, "post_id": 46181141, "comment_id": 79475644, "body": "So it seems I was a little premature one calling the problem resolved. Math-Random cannot install. There is an issue with &#39;Random.xs.dll&#39;. MakeMaker is installed and up to date. I tried manually installing from the tarball and get the same errors as installing via cpan/cpanm. I have a very long list of undefined references begining with &#39;_imp_Perl_get_context&#39;. I have no problems installing other modules so I&#39;m not sure what the problem is. %PATH% contains a value to point to gmake which is installed as part of Strawberry perl. Any ideas?"}], "owner": {"reputation": 97, "user_id": 3180258, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9325ca51f417f532d6a2b25fad93c208?s=128&d=identicon&r=PG&f=1", "display_name": "user3180258", "link": "https://stackoverflow.com/users/3180258/user3180258"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 695, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1505233486, "creation_date": 1505232648, "last_edit_date": 1505233486, "question_id": 46181141, "link": "https://stackoverflow.com/questions/46181141/no-rule-to-make-target-configure-pm", "title": "no rule to make target configure.pm", "body": "<p>I cannot seem to install Configure::General via cpan (from Cygwin). The issue seems to be that the makefile cannot be found but it definitely exists. The module has been installed in a non-@INC directory. \nI have tried following this: [<a href=\"https://stackoverflow.com/questions/185114/how-do-i-use-a-perl-module-in-a-directory-not-in-inc][2]\">How do I &#39;use&#39; a Perl module in a directory not in @INC?</a> which made no difference to the output. I also tried this:  [<a href=\"https://stackoverflow.com/questions/32726324/i-installed-a-module-successfully-with-cpan-but-perl-cant-find-it-why][1]but\">I installed a module successfully with CPAN, but perl can&#39;t find it. Why?</a> I get an error saying 'use' command not found (so I'm guess my implemtation of that fix is problematic)</p>\n\n<p>The output from perl -V:</p>\n\n<pre><code>Summary of my perl5 (revision 5 version 22 subversion 4) configuration:\n\n  Platform:\n    osname=cygwin, osvers=2.8.1(0.31253), archname=cygwin-thread-multi\n    uname='cygwin_nt-6.3 cygwin 2.8.1(0.31253) 2017-07-03 14:11 x86_64 cygwin '\n    config_args='-des -Dprefix=/usr -Dmksymlinks -Darchname=x86_64-cygwin-threads -Dlibperl=cygperl5_22.dll -Dcc=gcc -Dld=g++ -Accflags=-ggdb -O2 -pipe -Wimplicit-function-declaration -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/build=/usr/src/debug/perl-5.22.4-1 -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/src/perl-5.22.4=/usr/src/debug/perl-5.22.4-1 -fwrapv'\n    hint=recommended, useposix=true, d_sigaction=define\n    useithreads=define, usemultiplicity=define\n    use64bitint=define, use64bitall=define, uselongdouble=undef\n    usemymalloc=n, bincompat5005=undef\n  Compiler:\n    cc='gcc', ccflags ='-DPERL_USE_SAFE_PUTENV -D_GNU_SOURCE -U__STRICT_ANSI__ -ggdb -O2 -pipe -Wimplicit-function-declaration -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/build=/usr/src/debug/perl-5.22.4-1 -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/src/perl-5.22.4=/usr/src/debug/perl-5.22.4-1 -fwrapv -fno-strict-aliasing -fstack-protector-strong -D_FORTIFY_SOURCE=2',\n    optimize='-O3',\n    cppflags='-DPERL_USE_SAFE_PUTENV -D_GNU_SOURCE -U__STRICT_ANSI__ -ggdb -O2 -pipe -Wimplicit-function-declaration -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/build=/usr/src/debug/perl-5.22.4-1 -fdebug-prefix-map=/mnt/share/maint/perl.x86_64/src/perl-5.22.4=/usr/src/debug/perl-5.22.4-1 -fwrapv -fno-strict-aliasing -fstack-protector-strong'\n    ccversion='', gccversion='5.4.0', gccosandvers=''\n    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678, doublekind=3\n    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16, longdblkind=3\n    ivtype='long', ivsize=8, nvtype='double', nvsize=8, Off_t='off_t', lseeksize=8\n    alignbytes=8, prototype=define\n  Linker and Libraries:\n    ld='g++', ldflags =' -Wl,--enable-auto-import -Wl,--export-all-symbols -Wl,--enable-auto-image-base -fstack-protector-strong'\n    libpth=/usr/lib\n    libs=-lpthread -lgdbm -ldb -ldl -lcrypt -lgdbm_compat\n    perllibs=-lpthread -ldl -lcrypt\n    libc=/usr/lib/libcygwin.a, so=dll, useshrplib=true, libperl=cygperl5_22.dll\n    gnulibc_version=''\n  Dynamic Linking:\n    dlsrc=dl_dlopen.xs, dlext=dll, d_dlsymun=undef, ccdlflags=' '\n    cccdlflags=' ', lddlflags=' --shared  -Wl,--enable-auto-import -Wl,--export-all-symbols -Wl,--enable-auto-image-base -fstack-protector-strong'\n\n\nCharacteristics of this binary (from libperl): \n  Compile-time options: HAS_TIMES MULTIPLICITY PERLIO_LAYERS\n                        PERL_DONT_CREATE_GVSV\n                        PERL_HASH_FUNC_ONE_AT_A_TIME_HARD\n                        PERL_IMPLICIT_CONTEXT PERL_NEW_COPY_ON_WRITE\n                        PERL_PRESERVE_IVUV PERL_USE_SAFE_PUTENV\n                        USE_64_BIT_ALL USE_64_BIT_INT USE_ITHREADS\n                        USE_LARGE_FILES USE_LOCALE USE_LOCALE_COLLATE\n                        USE_LOCALE_CTYPE USE_LOCALE_NUMERIC USE_LOCALE_TIME\n                        USE_PERLIO USE_PERL_ATOF USE_REENTRANT_API\n  Built under cygwin\n  Compiled at Jul 15 2017 20:11:53\n  @INC:\n    /usr/lib/perl5/site_perl/5.22/x86_64-cygwin-threads\n    /usr/lib/perl5/site_perl/5.22\n    /usr/lib/perl5/vendor_perl/5.22/x86_64-cygwin-threads\n    /usr/lib/perl5/vendor_perl/5.22\n    /usr/lib/perl5/5.22/x86_64-cygwin-threads\n    /usr/lib/perl5/5.22\n    .\n\n\n  [1]: http://'use'%20a%20perl%20module\n  [2]: http://cpan%20can't%20find%20module\n</code></pre>\n\n<p>The output from the failed install:</p>\n\n<pre><code>CPAN: Storable loaded ok (v2.53_02)\nReading '/home/BobTewilliger/.cpan/Metadata'\n  Database was generated on Tue, 12 Sep 2017 03:17:02 GMT\nRunning install for module 'Config::General'\nCPAN: Digest::SHA loaded ok (v5.96)\nCPAN: Compress::Zlib loaded ok (v2.068001)\nChecksum for /home/BobTewilliger/.cpan/sources/authors/id/T/TL/TLINDEN/Config-General-2.63.tar.gz ok\nCPAN: File::Temp loaded ok (v0.2304)\nCPAN: YAML loaded ok (v1.23)\nCPAN: CPAN::Meta::Requirements loaded ok (v2.140)\nCPAN: Parse::CPAN::Meta loaded ok (v2.150010)\nCPAN: CPAN::Meta loaded ok (v2.150010)\nCPAN: Module::CoreList loaded ok (v5.20170715_22)\nConfiguring T/TL/TLINDEN/Config-General-2.63.tar.gz with Makefile.PL\n  TLINDEN/Config-General-2.63.tar.gz\n  /usr/bin/perl Makefile.PL -- OK\nRunning make for T/TL/TLINDEN/Config-General-2.63.tar.gz\n  TLINDEN/Config-General-2.63.tar.gz\n  /cygdrive/c/Rtools/bin/make.EXE -- NOT OK\n</code></pre>\n\n<p>When I try to run 'makeimage' an error is returned saying config.pm cannot be found. The file exosts. Just not in @INC.</p>\n\n<p>I'm exceptionally new to PERL, and I know similar questions have been asked all over the web but I can't get this running. The original problem was with YAML, which I managed to resolve butt he same solution does not apply here for some reason :/</p>\n\n<p>EDIT: I'm running Strawberry PERL on Windows 7 machine</p>\n"}, {"tags": ["perl", "cron", "timeout", "alarm"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 4, "creation_date": 1505208022, "post_id": 46172392, "comment_id": 79307165, "body": "can you post your code? Then we can probably help with a solution."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 3, "creation_date": 1505209409, "post_id": 46172392, "comment_id": 79308174, "body": "or at least add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if the code is really big"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1505232522, "post_id": 46172392, "comment_id": 79324808, "body": "(1) yes.  (2) which one do you want?  // Seriosuly, please complete your question with more information.  Some code in the first place."}, {"owner": {"reputation": 13, "user_id": 4675507, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f5b71228ddc45b024a29b9c3d2be671?s=128&d=identicon&r=PG&f=1", "display_name": "Shane A.", "link": "https://stackoverflow.com/users/4675507/shane-a"}, "edited": false, "score": 0, "creation_date": 1505306256, "post_id": 46172392, "comment_id": 79357906, "body": "Not sure how a code example will make a difference. The issue is finding an alternative to using alarm for timeouts. The code works fine...  <code>while {true} do</code> <code>alarm(10)</code> <code>something_that_takes_longer_than_10_seconds_and_causes_kerne&zwnj;&#8203;l_alarm()</code> <code>alarm(0)</code> <code>done</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4675507, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f5b71228ddc45b024a29b9c3d2be671?s=128&d=identicon&r=PG&f=1", "display_name": "Shane A.", "link": "https://stackoverflow.com/users/4675507/shane-a"}, "edited": false, "score": 0, "creation_date": 1505306006, "post_id": 46177538, "comment_id": 79357730, "body": "thanks, I&#39;ll give this a shot. I see SIG{ALRM} in there though. Is this still going to cause a kernel alarm? That&#39;s what I am trying to avoid. Apologies for the noob questions. I inherited this perl script and I know very little perl."}, {"owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "reply_to_user": {"reputation": 13, "user_id": 4675507, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f5b71228ddc45b024a29b9c3d2be671?s=128&d=identicon&r=PG&f=1", "display_name": "Shane A.", "link": "https://stackoverflow.com/users/4675507/shane-a"}, "edited": false, "score": 0, "creation_date": 1505318516, "post_id": 46177538, "comment_id": 79367084, "body": "It catches the signal, so your program doesn&#39;t die of it"}], "tags": [], "owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "is_accepted": true, "score": -1, "last_activity_date": 1505222305, "creation_date": 1505222305, "answer_id": 46177538, "question_id": 46172392, "link": "https://stackoverflow.com/questions/46172392/perl-alarm-or-timeout-without-kernel-sig/46177538#46177538", "title": "Perl alarm() or Time::Out Without Kernel SIG", "body": "<p>You can throw an exception in your signal handler, and catch it elsewhere.</p>\n\n<pre><code>my $success = eval {\n    local $SIG{ALRM} = sub { die \"Failure\" };\n    alarm 10;\n    do_something_long();\n    alarm 0;\n    1;\n};\nif (!$success) {\n    warn \"Timeout!\\n\" if $verbose;\n    exit 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4675507, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f5b71228ddc45b024a29b9c3d2be671?s=128&d=identicon&r=PG&f=1", "display_name": "Shane A.", "link": "https://stackoverflow.com/users/4675507/shane-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 46177538, "answer_count": 1, "score": -1, "last_activity_date": 1505222305, "creation_date": 1505207525, "last_edit_date": 1505214063, "question_id": 46172392, "link": "https://stackoverflow.com/questions/46172392/perl-alarm-or-timeout-without-kernel-sig", "title": "Perl alarm() or Time::Out Without Kernel SIG", "body": "<p>I have a script which occasionally misbehaves while communicating with a web server. The server hangs or is very slow to respond with data.</p>\n\n<p>I am currently using <code>alarm()</code> as a hack to get the script to terminate\u2014so as to not flood the system with threads\u2014but this causes a cron error, which alerts the sysadmin, who really doesn't want the 200 emails this produces when the system has fallen over.</p>\n\n<p>Is there an alternative method of terminating a script (or apiQuery, if need be) that won't cause a non-OK exit and the corresponding email?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 3, "user_id": 2231579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/531d839da4fc22c1c27ad13d1fd7164c?s=128&d=identicon&r=PG", "display_name": "kunal", "link": "https://stackoverflow.com/users/2231579/kunal"}, "edited": false, "score": 0, "creation_date": 1505194491, "post_id": 46168617, "comment_id": 79299155, "body": "I used below code    #!/usr/local/bin/perl  use strict; use warnings; use File::Copy;   my $directory = &#39;C:\\Users\\rajkunal_aps\\Desktop&#39;;  chdir($directory) or die &quot;Can&#39;t chdir to $directory $!&quot;;  opendir(DIR, $directory) || die &quot;Couldn&#39;t opendir: $!\\n&quot;;    my @files = grep { $_ ne &#39;.&#39; &amp;&amp; $_ ne &#39;..&#39; } readdir DIR;   foreach(@files) {    print $_,&quot;\\n&quot;; my $newName = $_;    $newName =~ s/STA$/t00/g;    print &quot;RENAMING: $_ -&gt; $newName \\n&quot;;    rename($_, $newName);  }"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1505195032, "post_id": 46168617, "comment_id": 79299341, "body": "You forgot to ask a question!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1505214392, "post_id": 46168617, "comment_id": 79311602, "body": "It looks like you&#39;ve picked up someone else&#39;s script and posted it here to get it modified to your requirement. That isn&#39;t how programming works. You should at least make some effort of your own before getting the rest of the world to do your job for you."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 2231579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/531d839da4fc22c1c27ad13d1fd7164c?s=128&d=identicon&r=PG", "display_name": "kunal", "link": "https://stackoverflow.com/users/2231579/kunal"}, "edited": false, "score": 0, "creation_date": 1505195620, "post_id": 46168818, "comment_id": 79299603, "body": "No ,It is not working---- I have file -ABC.txt,CDE.STA.LMP.STA,GYI.STA and i need to update only GYI.STA to GYI.txt"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 3, "user_id": 2231579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/531d839da4fc22c1c27ad13d1fd7164c?s=128&d=identicon&r=PG", "display_name": "kunal", "link": "https://stackoverflow.com/users/2231579/kunal"}, "edited": false, "score": 0, "creation_date": 1505195837, "post_id": 46168818, "comment_id": 79299700, "body": "why rename only <code>GYI.STA</code>? why not <code>CDE.STA</code> etc?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1505197417, "post_id": 46168818, "comment_id": 79300469, "body": "@AruneshSingh You can write the regex as <code>^(?:KRAT|TRAT)</code>"}, {"owner": {"reputation": 3, "user_id": 2231579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/531d839da4fc22c1c27ad13d1fd7164c?s=128&d=identicon&r=PG", "display_name": "kunal", "link": "https://stackoverflow.com/users/2231579/kunal"}, "edited": false, "score": 0, "creation_date": 1505198628, "post_id": 46168818, "comment_id": 79301122, "body": "I have requirment for particulat type file only.not all"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1505207389, "post_id": 46168818, "comment_id": 79306646, "body": "This will replace <code>KRAT</code> and <code>TRAT</code> with <code>t00</code> instead of <code>STA</code> with <code>t00</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1505214934, "post_id": 46168818, "comment_id": 79311960, "body": "<code>map</code> is meant to implement a <i>mapping</i> from one list to another, and it is wrong to use it in void context. You need a simple <code>for</code> here, like this <code>rename_file($_) for grep { $_ ne &#39;.&#39; &amp;&amp; $_ ne &#39;..&#39; &amp;&amp; &#47;^KRAT|^TRAT&#47;} readdir DIR</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1505218975, "post_id": 46168818, "comment_id": 79314713, "body": "<code>use File::Copy</code> is superfluous."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1505222311, "post_id": 46168818, "comment_id": 79317257, "body": "Please don&#39;t encourage people to use <code>map</code> in void context. That expression is better written as <code>rename_file($_) for grep { ... } readdir DIR</code>."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": -1, "last_activity_date": 1505222759, "last_edit_date": 1505222759, "creation_date": 1505195431, "answer_id": 46168818, "question_id": 46168617, "link": "https://stackoverflow.com/questions/46168617/rename-the-specific-file-with-current-time-stamp-using-perl-script-for-windows/46168818#46168818", "title": "rename the specific file with current time stamp using perl script for windows", "body": "<p>Change the line </p>\n\n<pre><code>$newName =~ s/STA$/t00/g;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>$newName =~ s/^KRAT|^TRAT/t00/;\n</code></pre>\n\n<p>or more succint.</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nmy $directory = '&lt;DIR&gt;';\n\nchdir($directory) or die \"Can't chdir to $directory $!\";\nopendir(DIR, $directory) || die \"Couldn't opendir: $!\\n\";\n\nrename_file($_) for grep { $_ ne '.' &amp;&amp; $_ ne '..' &amp;&amp; /^KRAT|^TRAT/} readdir DIR\n\nclosedir(DIR);\n\nsub rename_file {\n    my $name = shift;\n    $name =~ s/^KRAT|^TRAT/t00/;\n    rename($_, $name);\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2231579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/531d839da4fc22c1c27ad13d1fd7164c?s=128&d=identicon&r=PG", "display_name": "kunal", "link": "https://stackoverflow.com/users/2231579/kunal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1505233307, "creation_date": 1505194477, "last_edit_date": 1505233307, "question_id": 46168617, "link": "https://stackoverflow.com/questions/46168617/rename-the-specific-file-with-current-time-stamp-using-perl-script-for-windows", "title": "rename the specific file with current time stamp using perl script for windows", "body": "<p>I am using the below script to rename but it is renaming the all file end with STA.I need to rename the file that starts with KRAT or TRAT.</p>\n\n<pre><code>#!/usr/local/bin/perl \nuse strict; \nuse warnings; \nuse File::Copy; \n\nmy $directory = 'C:\\Users\\Desktop'; \n\nchdir($directory) or die \"Can't chdir to $directory $!\"; \nopendir(DIR, $directory) || die \"Couldn't opendir: $!\\n\"; \n\nmy @files = grep { $_ ne '.' &amp;&amp; $_ ne '..' } readdir DIR; \n\nforeach(@files) { \n    print $_,\"\\n\"; \n    my $newName = $_; \n\n    $newName =~ s/STA$/t00/g; \n    print \"RENAMING: $_ -&gt; $newName \\n\"; \n\n    rename($_, $newName); \n\n}\n</code></pre>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1505196312, "post_id": 46168572, "comment_id": 79299909, "body": "<a href=\"https://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlreftut.html</a> &amp; <a href=\"https://perldoc.perl.org/functions/push.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/push.html</a>"}, {"owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 0, "creation_date": 1505203737, "post_id": 46168572, "comment_id": 79304283, "body": "But this sub appears to me almost useless; $rec goes out of scope at end of block and the sub returns the value returned by push() ."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "edited": false, "score": 0, "creation_date": 1505218915, "post_id": 46168572, "comment_id": 79314657, "body": "@ulix: The fact that <code>$rec</code> goes out of scope at the end of the subroutine isn&#39;t a problem - as a reference to it is stored in <code>@gCol</code>. The problem is that <code>@gCol</code> goes out of scope as well at exactly the same time :-)"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1505196752, "last_edit_date": 1505196752, "creation_date": 1505195635, "answer_id": 46168868, "question_id": 46168572, "link": "https://stackoverflow.com/questions/46168572/understanding-subroutines-in-perl/46168868#46168868", "title": "understanding subroutines in perl", "body": "<p><code>$rec= {}</code> this is called as <a href=\"https://stackoverflow.com/questions/14175585/what-are-anonymous-hashes-in-perl\">anonymous hash reference</a>. And <code>name</code> , <code>type</code> , <code>length</code> are keys <code>BATID</code>,<code>VARCHAR2</code>,<code>14</code> are values for those keys. </p>\n\n<p>And <code>$rec-&gt;{ref_col}</code> this key's value is <a href=\"https://perldoc.perl.org/perlref.html#Making-References\" rel=\"nofollow noreferrer\">anonymous array</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8449294, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E0RM4Su7Soc/AAAAAAAAAAI/AAAAAAAAAEg/KJDjE43quEg/photo.jpg?sz=128", "display_name": "Kamlesh Sam", "link": "https://stackoverflow.com/users/8449294/kamlesh-sam"}, "edited": false, "score": 0, "creation_date": 1505275752, "post_id": 46168999, "comment_id": 79339722, "body": "what does push @gcol ,\\%rec line is used for?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13, "user_id": 8449294, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E0RM4Su7Soc/AAAAAAAAAAI/AAAAAAAAAEg/KJDjE43quEg/photo.jpg?sz=128", "display_name": "Kamlesh Sam", "link": "https://stackoverflow.com/users/8449294/kamlesh-sam"}, "edited": false, "score": 0, "creation_date": 1505282607, "post_id": 46168999, "comment_id": 79341970, "body": "<code>push</code> appends one or more elements to an array. I annoyed by your lack of <a href=\"http://perldoc.perl.org/functions/push.html\" rel=\"nofollow noreferrer\">research</a>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1505196536, "last_edit_date": 1505196536, "creation_date": 1505196167, "answer_id": 46168999, "question_id": 46168572, "link": "https://stackoverflow.com/questions/46168572/understanding-subroutines-in-perl/46168999#46168999", "title": "understanding subroutines in perl", "body": "<pre><code>{ LIST }\n</code></pre>\n\n<p>is basically equivalent to</p>\n\n<pre><code>do { my %anon = LIST; \\%anon }\n</code></pre>\n\n<p>It creates a hash, then assigns the scalars produced by <code>LIST</code> (if present) to the hash, and then creates a reference to the hash. The whole evaluates to that reference.</p>\n\n<hr>\n\n<p>The sub could just as easily have been written as follows:</p>\n\n<pre><code>sub bat\n{\n   my ($abc) = @_;\n   my @gCol;\n   {\n      my %rec;\n      $rec{name}        = \"BATID\";\n      $rec{type}        = \"VARCHAR2\";\n      $rec{length}      = \"14\";\n      $rec{scale}       = \"0\";\n      $rec{label}       = \"Id\";\n      $rec{ref_comment} = \"Shows bat type\";\n      $rec{ref_link} =\"$APPL_HOME/bat.cgioptions=Status&amp;options=mfgDate&amp;options=Details&amp;options=RefreshAuto\";\n      $rec{ref_col}     = [ (\"BAT_ID\") ];\n      $rec{nullable}    = \"Y\";\n      $rec{pk}          = \"N\";\n      $rec{print}       = undef;\n      $rec{visible}     = \"Yes\";\n      push @gCol, \\%rec;\n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8449294, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E0RM4Su7Soc/AAAAAAAAAAI/AAAAAAAAAEg/KJDjE43quEg/photo.jpg?sz=128", "display_name": "Kamlesh Sam", "link": "https://stackoverflow.com/users/8449294/kamlesh-sam"}, "edited": false, "score": 0, "creation_date": 1505371970, "post_id": 46176607, "comment_id": 79387653, "body": "if subroutine limit the scope of variables ..then what is the advantage of using subroutines?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 13, "user_id": 8449294, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E0RM4Su7Soc/AAAAAAAAAAI/AAAAAAAAAEg/KJDjE43quEg/photo.jpg?sz=128", "display_name": "Kamlesh Sam", "link": "https://stackoverflow.com/users/8449294/kamlesh-sam"}, "edited": false, "score": 0, "creation_date": 1505377991, "post_id": 46176607, "comment_id": 79391051, "body": "It isn&#39;t the use of subroutines that limits the scope of variables, it is the use of <code>my</code> within the subroutine. But that&#39;s a good idea. Subroutines should not use variables from outside the subroutine. All data that the subroutine needs should be passed into it as a parameter and any data that the subroutine creates that needs to be shared outside of the subroutine should be returned through a <code>return()</code> statement."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1505219892, "creation_date": 1505219892, "answer_id": 46176607, "question_id": 46168572, "link": "https://stackoverflow.com/questions/46168572/understanding-subroutines-in-perl/46176607#46176607", "title": "understanding subroutines in perl", "body": "<p>You ask for an explanation of what is happening on every line and I don't think you've got that yet.</p>\n\n<pre><code>sub bat\n{\n   # Take the first parameter passed to the subroutine and store\n   # it in a variable called $abc.\n   # This value is then ignored for the rest of the subroutine, so\n   # this line of code is pointless.\n   my ($abc) = @_;\n\n   # Declare an array variable called @gCol.\n   my @gCol ;\n\n   # Start a new block of code.\n   {\n\n      # Declare a scalar variable called $rec.\n      # Initialise it with a reference to an empty, anonymous hash\n      my $rec = {};\n\n      # The next dozen lines are pretty much all the same.\n      # Each of them inserts a key/value pair into the $rec hash.\n      $rec-&gt;{name}        = \"BATID\";\n      $rec-&gt;{type}        = \"VARCHAR2\";\n      $rec-&gt;{length}      = \"14\";\n      $rec-&gt;{scale}       = \"0\";\n      $rec-&gt;{label}       = \"Id\";\n      $rec-&gt;{ref_comment} = \"Shows bat type\";\n      # This line is slightly interesting as it uses the value\n      # of a global variable called $APPL_HOME.\n      # Using global variables inside a subroutine is a really\n      # bad idea as it limits the portability of the subroutine.\n      $rec-&gt;{ref_link} =\"$APPL_HOME/bat.cgioptions=Status&amp;options=mfgDate&amp;options=Details&amp;options=RefreshAuto\";\n      # This line is also interesting as instead of setting the\n      # value to a scalar value, it sets it to a reference to an\n      # anonymouse array.\n      $rec-&gt;{ref_col}     = [ (\"BAT_ID\") ];\n      $rec-&gt;{nullable}    = \"Y\";\n      $rec-&gt;{pk}          = \"N\";\n      $rec-&gt;{print}       = undef;\n      $rec-&gt;{visible}     = \"Yes\";\n\n      # Having set up a hash with twelve key/value pairs, you\n      # then push the hash reference onto the (currently empty)\n      # array, @gCol.\n      push (@gCol, $rec);\n\n      # The next line marks the end of the block of code.\n      # Because the $rec variable was declared inside this block,\n      # It will now go out of scope and ceases to exist.\n      # However, because the reference is still stored in @gCol,\n      # the memory will not be recovered, so your hash still exists.\n   }\n\n   # This line marks the end of the subroutine. This is also the\n   # end of scope for any variables declared within the subroutine.\n   # That includes the @gCol array which ceases to exist at this\n   # point. Unfortunately, this means that our carefully constructed\n   # hash also ceases to exist at this point and all our work\n   # is wasted.\n}\n</code></pre>\n\n<p>To summarise, your code does a lot of work, but all that work is wasted as the variables it uses are all thrown away as the subroutine ends. So the net effect of calling this subroutine is absolutely nothing.</p>\n"}], "owner": {"reputation": 13, "user_id": 8449294, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E0RM4Su7Soc/AAAAAAAAAAI/AAAAAAAAAEg/KJDjE43quEg/photo.jpg?sz=128", "display_name": "Kamlesh Sam", "link": "https://stackoverflow.com/users/8449294/kamlesh-sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 46176607, "answer_count": 3, "score": -5, "last_activity_date": 1505219892, "creation_date": 1505194265, "question_id": 46168572, "link": "https://stackoverflow.com/questions/46168572/understanding-subroutines-in-perl", "title": "understanding subroutines in perl", "body": "<pre><code>sub bat\n{\n   my ($abc) = @_;\n   my @gCol ;\n   {\n      my $rec = {};\n      $rec-&gt;{name}        = \"BATID\";\n      $rec-&gt;{type}        = \"VARCHAR2\";\n      $rec-&gt;{length}      = \"14\";\n      $rec-&gt;{scale}       = \"0\";\n      $rec-&gt;{label}       = \"Id\";\n      $rec-&gt;{ref_comment} = \"Shows bat type\";\n      $rec-&gt;{ref_link} =\"$APPL_HOME/bat.cgioptions=Status&amp;options=mfgDate&amp;options=Details&amp;options=RefreshAuto\";\n      $rec-&gt;{ref_col}     = [ (\"BAT_ID\") ];\n      $rec-&gt;{nullable}    = \"Y\";\n      $rec-&gt;{pk}          = \"N\";\n      $rec-&gt;{print}       = undef;\n      $rec-&gt;{visible}     = \"Yes\";\n      push (@gCol, $rec);\n   }\n}\n</code></pre>\n\n<p>Can anyone explain this subroutine what is being done in each line ? and is hash used in this or not? what is my $rec= {};? what happens by using push?</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 0, "creation_date": 1505192242, "post_id": 46168107, "comment_id": 79298333, "body": "<code>File2</code> has 2 identical records. What is the logic in the matching and expected output if <code>File2</code> was <code>&quot;C_3364&#47;Y&quot;\\n&quot;C_3363&#47;Y&quot;\\n</code>?"}, {"owner": {"reputation": 15, "user_id": 8574719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0a6e1da674813feea299ac35a3962c?s=128&d=identicon&r=PG&f=1", "display_name": "Senthil Kumar", "link": "https://stackoverflow.com/users/8574719/senthil-kumar"}, "reply_to_user": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 0, "creation_date": 1505192670, "post_id": 46168107, "comment_id": 79298495, "body": "File2 will have unique column1 similar to File1. Updated the question."}, {"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 0, "creation_date": 1505193116, "post_id": 46168107, "comment_id": 79298648, "body": "So the question now is: How to modify <code>$2</code> in <code>File1</code> if <code>$1</code> and <code>$3</code> match <code>$1</code>and <code>$2</code> in <code>File2</code>?"}, {"owner": {"reputation": 15, "user_id": 8574719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0a6e1da674813feea299ac35a3962c?s=128&d=identicon&r=PG&f=1", "display_name": "Senthil Kumar", "link": "https://stackoverflow.com/users/8574719/senthil-kumar"}, "reply_to_user": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 0, "creation_date": 1505199329, "post_id": 46168107, "comment_id": 79301572, "body": "Actually it doesn&#39;t matter to match $1 of both files as every matched line based on $3 should result in a fixed string replacement (ie AU instead of UU)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1505203950, "post_id": 46168107, "comment_id": 79304399, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have any code, then Stack Overflow is probably not the right place for your question."}, {"owner": {"reputation": 15, "user_id": 8574719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0a6e1da674813feea299ac35a3962c?s=128&d=identicon&r=PG&f=1", "display_name": "Senthil Kumar", "link": "https://stackoverflow.com/users/8574719/senthil-kumar"}, "edited": false, "score": 0, "creation_date": 1505207282, "post_id": 46168107, "comment_id": 79306577, "body": "Tried below awk but couldn&#39;t successfully keep unmatched rows for (column = 3; column &lt;= NF; ++column) {         if ($column == &quot;,&quot;) {             $column = $2         }"}], "answers": [{"tags": [], "owner": {"reputation": 2784, "user_id": 1487843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1BFY8.jpg?s=128&g=1", "display_name": "Marc Lambrichs", "link": "https://stackoverflow.com/users/1487843/marc-lambrichs"}, "is_accepted": true, "score": 0, "last_activity_date": 1505206204, "last_edit_date": 1505206204, "creation_date": 1505205498, "answer_id": 46171680, "question_id": 46168107, "link": "https://stackoverflow.com/questions/46168107/conditional-string-replacement-based-on-matched-column/46171680#46171680", "title": "Conditional string replacement based on matched column", "body": "<p>another gnu <strong>awk</strong> solution with single FS:</p>\n\n<pre><code>$ cat tst.awk\nBEGIN {FS=\",\"}\nNR==FNR &amp;&amp; sub(/ /, \"\", $2) {a[$2]++; next}\n($3 in a){ printf \"%s,AU,%s\\n\", $1,$3; next}1\n</code></pre>\n\n<p>same, <strong>commandline</strong>:</p>\n\n<pre><code>awk -F, 'NR==FNR &amp;&amp; sub(/[[:space:]]/,\"\",$2){a[$2]++; next} ($3 in a){ printf \"%s,AU,%s\\n\", $1,$3; next}1' input2.txt input1.txt\n</code></pre>\n\n<p>with input files:</p>\n\n<pre><code>$ cat input2.txt\n0, \"C_3364/Y\"\n1, \"C_3364/Y\"\n1, \"A_3364/Y\"\n1, \"B_3364/Y\"\n\n$ cat input1.txt\n0,DS,\"C_3363/Y\"\n1,DS,\"C_3363/Y\"\n0,UU,\"C_3364/Y\"\n1,UU,\"C_3364/Y\"\n</code></pre>\n\n<p>you'll get:</p>\n\n<pre><code>$ awk -F, 'NR==FNR &amp;&amp; sub(/[[:space:]]/,\"\",$2){a[$2]++; next} ($3 in a){ printf \"%s,AU,%s\\n\", $1,$3; next}1' input2.txt input1.txt\n0,DS,\"C_3363/Y\"\n1,DS,\"C_3363/Y\"\n0,AU,\"C_3364/Y\"\n1,AU,\"C_3364/Y\"\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8574719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0a6e1da674813feea299ac35a3962c?s=128&d=identicon&r=PG&f=1", "display_name": "Senthil Kumar", "link": "https://stackoverflow.com/users/8574719/senthil-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "closed_date": 1505231555, "accepted_answer_id": 46171680, "answer_count": 1, "score": -4, "last_activity_date": 1505207618, "creation_date": 1505191657, "last_edit_date": 1505194282, "question_id": 46168107, "link": "https://stackoverflow.com/questions/46168107/conditional-string-replacement-based-on-matched-column", "closed_reason": "Not suitable for this site", "title": "Conditional string replacement based on matched column", "body": "<p>I'd like to match a string present in a columnX and replace with a fixed string in columnY. For example how to match strings based on column3 in file1 with file2 in the below example and selectively replace column2 of file1 with fixed string \"AU\" whenever a match is found. If no match is found, then those rows in file1 should be printed as is to output. Both file1 &amp; file2 contains more than 100K such lines. </p>\n\n<p>File1:</p>\n\n<pre><code>0,DS,\"C_3363/Y\"\n1,DS,\"C_3363/Y\"\n0,UU,\"C_3364/Y\"\n1,UU,\"C_3364/Y\"\n</code></pre>\n\n<p>File2</p>\n\n<pre><code>0, \"C_3364/Y\"\n1, \"C_3364/Y\"\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>0,DS,\"C_3363/Y\"\n1,DS,\"C_3363/Y\"\n0,AU,\"C_3364/Y\"\n1,AU,\"C_3364/Y\"\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1505190395, "post_id": 46167194, "comment_id": 79297808, "body": "Elements don&#39;t have a value. I believe you want the value of the element&#39;s child nodes of type text. The DOM provides <code>$ele-&gt;textContent</code> to conveniently obtain this. However, XML::DOM didn&#39;t implement this. Why don&#39;t you switch to XML::LibXML? It&#39;s basically XML::DOM, but crazy faster, and without all the missing bits."}, {"owner": {"reputation": 619, "user_id": 943222, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b6142cb5c6c09edcbe740b6ce3fb7f4?s=128&d=identicon&r=PG", "display_name": "D.Zou", "link": "https://stackoverflow.com/users/943222/d-zou"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505190661, "post_id": 46167194, "comment_id": 79297858, "body": "work host doesn&#39;t have LibXML, and I don&#39;t have sudo."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505190684, "post_id": 46167194, "comment_id": 79297864, "body": "What does that have to do with anything? You don&#39;t need any special permissions to install a module, so your inability to &quot;sudo&quot; is meaningless."}, {"owner": {"reputation": 619, "user_id": 943222, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b6142cb5c6c09edcbe740b6ce3fb7f4?s=128&d=identicon&r=PG", "display_name": "D.Zou", "link": "https://stackoverflow.com/users/943222/d-zou"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505190986, "post_id": 46167194, "comment_id": 79297927, "body": "sorry, let me rephrase, installation of additional modules is currently not possible due to lack of permission."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505191032, "post_id": 46167194, "comment_id": 79297938, "body": "That&#39;s not true, unless you can&#39;t write to any directory."}, {"owner": {"reputation": 619, "user_id": 943222, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b6142cb5c6c09edcbe740b6ce3fb7f4?s=128&d=identicon&r=PG", "display_name": "D.Zou", "link": "https://stackoverflow.com/users/943222/d-zou"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505191034, "post_id": 46167194, "comment_id": 79297939, "body": "well let me try a few things first, maybe am wrong"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505191160, "post_id": 46167194, "comment_id": 79297988, "body": "Anyway, you now know where to look for the text you want, so adieu!"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 2, "creation_date": 1505207487, "post_id": 46167194, "comment_id": 79306719, "body": "I would also encourage you to switch to XML::LibXML. However it could be challenging to install without sudo (you&#39;d need the libxml2 C library and development header files installed first as well as a compiler, linker and related build tools). I suggest at least asking someone with admin access to install the Perl XML::LibXML package from the OS repository (e.g.: libxml-libxml-perl on Debian). Then you could use my guide: <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\">Perl XML::LibXML by Example</a>."}], "owner": {"reputation": 619, "user_id": 943222, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b6142cb5c6c09edcbe740b6ce3fb7f4?s=128&d=identicon&r=PG", "display_name": "D.Zou", "link": "https://stackoverflow.com/users/943222/d-zou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 716, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1505190517, "creation_date": 1505185086, "last_edit_date": 1505190517, "question_id": 46167194, "link": "https://stackoverflow.com/questions/46167194/get-value-of-elements-using-xmldom", "title": "Get value of elements using XML::DOM", "body": "<p>For the life of me I can't seem to figure this out. </p>\n\n<p>I got the below sample file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Datafile&gt;\n    &lt;Contract&gt;\n        &lt;A&gt;234&lt;/A&gt;\n        &lt;B&gt;234&lt;/B&gt;\n        &lt;C&gt;2fs4&lt;/C&gt;\n    &lt;/Contract&gt;\n    &lt;Contract&gt;\n        &lt;A&gt;234&lt;/A&gt;\n        &lt;B&gt;21&lt;/B&gt;\n        &lt;C&gt;2fs4&lt;/C&gt;\n    &lt;/Contract&gt;\n    &lt;Contract&gt;\n        &lt;A&gt;23V&lt;/A&gt;\n        &lt;B&gt;234&lt;/B&gt;\n        &lt;e/&gt;\n        &lt;C&gt;2fs4&lt;/C&gt;\n    &lt;/Contract&gt;\n    &lt;Contract&gt;\n        &lt;A&gt;234&lt;/A&gt;\n        &lt;B&gt;234&lt;/B&gt;\n        &lt;e/&gt;\n        &lt;C&gt;2fs4&lt;/C&gt;\n            &lt;d&gt;234&lt;/d&gt;\n    &lt;/Contract&gt;\n    &lt;Contract&gt;\n        &lt;A&gt;2343&lt;/A&gt;\n        &lt;B&gt;234&lt;/B&gt;\n        &lt;e/&gt;\n        &lt;C&gt;2fs4&lt;/C&gt;\n            &lt;d&gt;3kv&lt;/d&gt;\n    &lt;/Contract&gt;\n&lt;/Datafile&gt;\n</code></pre>\n\n<p>I want to get the element values for each tag: like the value of A, which would be 234,234,23V... and so on.</p>\n\n<p>This is what I got so far:</p>\n\n<pre><code>use XML::DOM;\n\n my $parser = new XML::DOM::Parser;\n my $doc = $parser-&gt;parsefile (\"./sample.xml\");\n\n my $nodes = $doc-&gt;getElementsByTagName (\"Contract\");\n\n my $n = $nodes-&gt;getLength;\n\n for (my $i = 0; $i &lt; $n; $i++)\n {\n     my $node = $nodes-&gt;item ($i); #returns one of the Contracts's array hash\n\n     #print $node-&gt;getValue . \"\\n\";\n     #print $node;   \n     #print $node-&gt;toString . \"\\n\";\n     foreach $myelement ($node-&gt;getChildNodes){\n        #print $myelement . \"\\n\";\n        #print $myelement-&gt;toString . \"\\n\"; #prints to string each childnode\n        #print $myelement-&gt;getNodeName() . \"\\n\"; #prints the element tag itself\n        print $myelement-&gt;getNodeValue() . \"bla \\n\";#doesn't print a thing \n     } \n\n }\n</code></pre>\n\n<p>As you can see the idea is pretty simple. getElementsByTagName will return me a list of Contract. Then I use a for loop to step through the list of Contract. Then in each Contract I get the child nodes, A, B,C etc. But then I am stuck. I tried several methods on XML::DOM on search.cpan.org and all I keep getting are the hashed stuff, not the actual text values. </p>\n\n<p>I found an example that required xml::dom::lite, while it works on my laptop it doesn't work on my office computer since I don't have sudo to install xml::dom::lite. it only has xml::dom and xml::parser it seems.</p>\n"}, {"tags": ["perl", "cpan", "strawberry-perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1505151655, "post_id": 46161246, "comment_id": 79284937, "body": "What is the original command that was failing when you were trying to compile PostgreSQL? <code>Module::Install</code> is not the same as <code>Install</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1505152960, "post_id": 46161246, "comment_id": 79285590, "body": "Don&#39;t pass <code>-f</code> to <code>cpan</code>!!! It makes no sense to install a module that doesn&#39;t work! (It&#39;s a good thing you passed it last, cause that caused it to be ignored.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1505153085, "post_id": 46161246, "comment_id": 79285665, "body": "Did you perhaps do <code>cpan Install ...</code> when you should have done <code>cpan install ...</code>?"}, {"owner": {"reputation": 519, "user_id": 837816, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74285139dbc24c216077d8c833cfd59c?s=128&d=identicon&r=PG", "display_name": "jgsogo", "link": "https://stackoverflow.com/users/837816/jgsogo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505154923, "post_id": 46161246, "comment_id": 79286594, "body": "@ikegami I tried it with and without the <code>-f</code>, one of the last attemps was to force instalation (and skip tests). I will edit the question to remove it. Thanks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505155042, "post_id": 46161246, "comment_id": 79286638, "body": "I know what <code>-f</code> does. I repeat, don&#39;t force installation!!! It makes no sense to install a module that doesn&#39;t work!"}, {"owner": {"reputation": 519, "user_id": 837816, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74285139dbc24c216077d8c833cfd59c?s=128&d=identicon&r=PG", "display_name": "jgsogo", "link": "https://stackoverflow.com/users/837816/jgsogo"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1505155172, "post_id": 46161246, "comment_id": 79286713, "body": "@melpomene, last step after compilation sources is to install binaries (link: <a href=\"https://www.postgresql.org/docs/9.6/static/install-windows-full.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/9.6/static/install-windows-full.html</a>). The install script executed is this one: <a href=\"https://git.postgresql.org/gitweb/?p=postgresql.git;a=blob_plain;f=src/tools/msvc/install.pl;hb=HEAD\" rel=\"nofollow noreferrer\">git.postgresql.org/gitweb/?p=postgresql.git;a=blob_plain;f=s&zwnj;&#8203;rc/&hellip;</a>"}, {"owner": {"reputation": 519, "user_id": 837816, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74285139dbc24c216077d8c833cfd59c?s=128&d=identicon&r=PG", "display_name": "jgsogo", "link": "https://stackoverflow.com/users/837816/jgsogo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505155490, "post_id": 46161246, "comment_id": 79286871, "body": "@ikegami, yes, I run <code>install c:\\destination\\...</code> and I get the first error (first codeblock in the question body), then I search through internet about it and it seems than I need to install <code>Module::Install</code>, so I run <code>cpan</code> and get the second error (second codeblock)."}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 837816, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74285139dbc24c216077d8c833cfd59c?s=128&d=identicon&r=PG", "display_name": "jgsogo", "link": "https://stackoverflow.com/users/837816/jgsogo"}, "edited": false, "score": 0, "creation_date": 1505156291, "post_id": 46162454, "comment_id": 79287311, "body": "So, do you mean that it will work if I run the script inside the <code>src&#47;tools&#47;msvc&#47;</code> directory? I think that I was doing it that way, I will try it using appveyor now, until tomorrow I won&#39;t have a Windows available.  But, if the code can be improved/fixed, you can send your proposal to PostgreSQL team."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 519, "user_id": 837816, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74285139dbc24c216077d8c833cfd59c?s=128&d=identicon&r=PG", "display_name": "jgsogo", "link": "https://stackoverflow.com/users/837816/jgsogo"}, "edited": false, "score": 0, "creation_date": 1505165841, "post_id": 46162454, "comment_id": 79291874, "body": "Re &quot;<i>do you mean that it will work if I run the script inside the src/tools/msvc/ directory</i>&quot;, No, now that <code>.</code> is no longer in <code>@INC</code>."}, {"owner": {"reputation": 519, "user_id": 837816, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74285139dbc24c216077d8c833cfd59c?s=128&d=identicon&r=PG", "display_name": "jgsogo", "link": "https://stackoverflow.com/users/837816/jgsogo"}, "edited": false, "score": 0, "creation_date": 1505216104, "post_id": 46162454, "comment_id": 79312761, "body": "Thanks. Now I have tried it in my windows machine and it has worked (running PostgreSQL install command) as expected.  May I keep the question opened as the title talks about why Module::Install fails (nothing to do with PostgreSQL)?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1505165988, "last_edit_date": 1505165988, "creation_date": 1505155552, "answer_id": 46162454, "question_id": 46161246, "link": "https://stackoverflow.com/questions/46161246/cpan-install-moduleinstall-fails-passing-tests-strawberryperl/46162454#46162454", "title": "CPAN install Module::Install fails passing tests (strawberryperl)", "body": "<p>Many scripts assume the script's directory is in <code>@INC</code>. That usually worked because the scripts's directory often happened to be the same as the CWD, and the CWD (<code>.</code>) was in <code>@INC</code>. But it wasn't always the case, and it's virtually never the case now that <code>.</code> is no longer in <code>@INC</code>.</p>\n\n<p>In <code>src/tools/msvc/install.pl</code>,</p>\n\n<p>Before the following:</p>\n\n<pre><code>use Install qw(Install);\n</code></pre>\n\n<p>Add the following:</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib $RealBin;\n</code></pre>\n"}], "owner": {"reputation": 519, "user_id": 837816, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74285139dbc24c216077d8c833cfd59c?s=128&d=identicon&r=PG", "display_name": "jgsogo", "link": "https://stackoverflow.com/users/837816/jgsogo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1024, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505165988, "creation_date": 1505150704, "last_edit_date": 1505156833, "question_id": 46161246, "link": "https://stackoverflow.com/questions/46161246/cpan-install-moduleinstall-fails-passing-tests-strawberryperl", "title": "CPAN install Module::Install fails passing tests (strawberryperl)", "body": "<p>I'm completely new to Perl, so maybe there is something obvious I'm not seeing.</p>\n\n<p>I'm using perl to compile PostgreSQL database (C++) and I need to call an \"install\" command (here there are PostgreSQL <a href=\"https://www.postgresql.org/docs/9.6/static/install-windows-full.html\" rel=\"nofollow noreferrer\">installation instructions</a>, and <a href=\"https://git.postgresql.org/gitweb/?p=postgresql.git;a=tree;f=src/tools/msvc;hb=HEAD\" rel=\"nofollow noreferrer\">source files</a> with code used), this is the output:</p>\n\n<pre><code>Can't locate Install.pm in @INC (you may need to install the Install module) \n(@INC contains: shows/me/several/directories/\nBEGIN failed--compilation aborted at install.pl line 9.\n</code></pre>\n\n<p>Searching internet about this error, I found that I have to install <code>Module::Install</code> and here comes the error:</p>\n\n<pre><code>$ cpan Module::Install\nLoading internal null logger. Install Log::Log4perl for logging messages\nCPAN: CPAN::SQLite loaded ok (v0.211)\nDatabase was generated on Mon, 11 Sep 2017 15:32:15 GMT\n\nRunning install for module 'Module::Install'\nCPAN: Digest::SHA loaded ok (v5.96)\nCPAN: Compress::Zlib loaded ok (v2.074)\nChecksum for C:\\Users\\e047439\\.conan\\data\\strawberryperl\\5.26.0\\conan\\stable\\package\\ca33edce272a279b24f87dc0d4cf5bbdcffbc187\\cpan\\sources\\authors\\id\\E\\ET\\ETHER\\Module-Install-1.18.tar.gz ok\nCPAN: Archive::Tar loaded ok (v2.26)\nCPAN: YAML::XS loaded ok (v0.65)\nCPAN: CPAN::Meta::Requirements loaded ok (v2.140)\nCPAN: Parse::CPAN::Meta loaded ok (v2.150010)\nCPAN: CPAN::Meta loaded ok (v2.150010)\nCPAN: Module::CoreList loaded ok (v5.20170530)\nConfiguring E/ET/ETHER/Module-Install-1.18.tar.gz with Makefile.PL\ninclude C:/Users/e047439/.conan/data/strawberryperl/5.26.0/conan/stable/package/ca33edce272a279b24f87dc0d4cf5bbdcffbc187/cpan/build/Module-Install-1.18-4/inc/Module/Install.pm\ninclude inc/Module/Install/Metadata.pm\ninclude inc/Module/Install/Base.pm\ninclude inc/Module/Install/Makefile.pm\ninclude inc/Module/Install/With.pm\ninclude inc/Module/Install/WriteAll.pm\ninclude inc/Module/Install/Win32.pm\ninclude inc/Module/Install/Can.pm\ninclude inc/Module/Install/Fetch.pm\nChecking if your kit is complete...\nLooks good\nGenerating a gmake-style Makefile\nWriting Makefile for Module::Install\nWriting MYMETA.yml and MYMETA.json\nWriting META.yml\n  ETHER/Module-Install-1.18.tar.gz\n  C:\\Users\\e047439\\.conan\\data\\strawberryperl\\5.26.0\\conan\\stable\\package\\ca33edce272a279b24f87dc0d4cf5bbdcffbc187\\perl\\bin\\perl.exe Makefile.PL -- OK\nRunning make for E/ET/ETHER/Module-Install-1.18.tar.gz\ncp lib/Module/Install/Admin/Makefile.pm blib\\lib\\Module\\Install\\Admin\\Makefile.pm\ncp lib/Module/Install/Admin/Compiler.pm blib\\lib\\Module\\Install\\Admin\\Compiler.pm\ncp lib/Module/Install/Admin/Manifest.pm blib\\lib\\Module\\Install\\Admin\\Manifest.pm\ncp lib/Module/Install/Admin/Metadata.pm blib\\lib\\Module\\Install\\Admin\\Metadata.pm\ncp lib/Module/Install/Admin.pm blib\\lib\\Module\\Install\\Admin.pm\ncp lib/Module/Install/Admin/Include.pm blib\\lib\\Module\\Install\\Admin\\Include.pm\ncp lib/Module/Install/Bundle.pm blib\\lib\\Module\\Install\\Bundle.pm\ncp lib/Module/Install/Can.pm blib\\lib\\Module\\Install\\Can.pm\ncp lib/Module/Install/Admin/WriteAll.pm blib\\lib\\Module\\Install\\Admin\\WriteAll.pm\ncp lib/Module/Install/Base.pm blib\\lib\\Module\\Install\\Base.pm\ncp lib/Module/Install/Admin/Find.pm blib\\lib\\Module\\Install\\Admin\\Find.pm\ncp lib/Module/Install/Admin/ScanDeps.pm blib\\lib\\Module\\Install\\Admin\\ScanDeps.pm\ncp lib/Module/Install.pod blib\\lib\\Module\\Install.pod\ncp lib/Module/Install.pm blib\\lib\\Module\\Install.pm\ncp lib/Module/Install/Admin/Bundle.pm blib\\lib\\Module\\Install\\Admin\\Bundle.pm\ncp lib/Module/Install/AutoInstall.pm blib\\lib\\Module\\Install\\AutoInstall.pm\ncp lib/Module/Install/API.pod blib\\lib\\Module\\Install\\API.pod\ncp lib/Module/AutoInstall.pm blib\\lib\\Module\\AutoInstall.pm\ncp lib/Module/Install/With.pm blib\\lib\\Module\\Install\\With.pm\ncp lib/Module/Install/Run.pm blib\\lib\\Module\\Install\\Run.pm\ncp lib/Module/Install/Deprecated.pm blib\\lib\\Module\\Install\\Deprecated.pm\ncp lib/Module/Install/PAR.pm blib\\lib\\Module\\Install\\PAR.pm\ncp lib/Module/Install/Scripts.pm blib\\lib\\Module\\Install\\Scripts.pm\ncp lib/Module/Install/Win32.pm blib\\lib\\Module\\Install\\Win32.pm\ncp lib/Module/Install/Fetch.pm blib\\lib\\Module\\Install\\Fetch.pm\ncp lib/Module/Install/Include.pm blib\\lib\\Module\\Install\\Include.pm\ncp lib/Module/Install/MakeMaker.pm blib\\lib\\Module\\Install\\MakeMaker.pm\ncp lib/Module/Install/Makefile.pm blib\\lib\\Module\\Install\\Makefile.pm\ncp lib/Module/Install/Philosophy.pod blib\\lib\\Module\\Install\\Philosophy.pod\ncp lib/Module/Install/Share.pm blib\\lib\\Module\\Install\\Share.pm\ncp lib/Module/Install/Compiler.pm blib\\lib\\Module\\Install\\Compiler.pm\ncp lib/Module/Install/WriteAll.pm blib\\lib\\Module\\Install\\WriteAll.pm\ncp lib/Module/Install/Metadata.pm blib\\lib\\Module\\Install\\Metadata.pm\ncp lib/Module/Install/Inline.pm blib\\lib\\Module\\Install\\Inline.pm\ncp lib/Module/Install/External.pm blib\\lib\\Module\\Install\\External.pm\ncp lib/Module/Install/FAQ.pod blib\\lib\\Module\\Install\\FAQ.pod\ncp lib/Module/Install/DSL.pm blib\\lib\\Module\\Install\\DSL.pm\ncp lib/inc/Module/Install.pm blib\\lib\\inc\\Module\\Install.pm\ncp lib/inc/Module/Install/DSL.pm blib\\lib\\inc\\Module\\Install\\DSL.pm\n  ETHER/Module-Install-1.18.tar.gz\n  C:\\Users\\e047439\\.conan\\data\\strawberryperl\\5.26.0\\conan\\stable\\package\\ca33edce272a279b24f87dc0d4cf5bbdcffbc187\\c\\bin\\gmake.exe -- OK\nRunning make test\n\"C:\\Users\\e047439\\.conan\\data\\strawberryperl\\5.26.0\\conan\\stable\\package\\ca33edce272a279b24f87dc0d4cf5bbdcffbc187\\perl\\bin\\perl.exe\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'inc', 'blib\\lib', 'blib\\arch')\" t/*.t t/recursive/*.t\nt/01_compile.t .......................... ok\nt/02_mymeta.t ........................... skipped: New EU::MM has own MYMETA support\nt/03_autoinstall.t ...................... skipped: Skipping dangerous test\nt/04_version.t .......................... ok\nt/05_share.t ............................ 3/22\n#   Failed test 'make'\n#   at t/05_share.t line 37.\n\n#   Failed test 'Found install_share in correct dist_dir location'\n#   at t/05_share.t line 40.\n\n#   Failed test 'Found expected file in dist_dir location'\n#   at t/05_share.t line 43.\nopen(t\\Foo39760\\blib\\lib\\auto\\share\\dist\\Foo\\dist_file.txt): No such file or directory at (eval 27) line 3.\n# Looks like your test exited with 2 just after 6.\nt/05_share.t ............................ Dubious, test returned 2 (wstat 512, 0x200)\nFailed 19/22 subtests\nt/06_ppport.t ........................... ok\nt/07_perl_version.t ..................... ok\nt/08_dsl.t .............................. ok\nt/09_read.t ............................. ok\nt/10_test.t ............................. ok\nt/11_extraction.t ....................... ok\nt/12_eumm_params.t ...................... ok\nt/13_author_tests.t ..................... ok\nt/13_author_tests_ext.t ................. skipped: requires Module::Install::AuthorTests\nt/13_author_tests_ext2.t ................ skipped: requires Module::Install::ExtraTests 0.007\nt/14_auto_include_deps_with_version.t ... skipped: your perl is new enough to have File::Spec 3.30 in core\nt/15_wrong_usage.t ...................... ok\nt/16_require.t .......................... ok\nt/17_sign.t ............................. ok\nt/18_all_from.t ......................... ok\nt/19_authors.t .......................... ok\nt/20_authors_with_special_characters.t .. ok\nt/21_makemaker_args.t ................... ok\nt/22_installdirs.t ...................... 12/24 old INSTALLDIRS (probably set by makemaker_args) is overriden by installdirs\nt/22_installdirs.t ...................... ok\nt/23_pl_files.t ......................... ok\nt/24_multiple_license_blocks.t .......... ok\nt/25_perl_version_from.t ................ ok\nt/26_unknown_func.t ..................... ok\nt/27_build_requires_and_include.t ....... 1/14 Warning: prerequisite Test::More 9999 not found. We have 1.302085.\nt/27_build_requires_and_include.t ....... ok\nt/28_makemaker_args.t ................... ok\nt/29_requires_from.t .................... ok\nt/30_build_subdirs.t .................... ok\nt/31_add_metadata.t ..................... ok\nt/32_module_name.t ...................... ok\nt/33_copy.t ............................. ok\nt/34_readwrite.t ........................ ok\nt/recursive/test.t ...................... ok\n\nTest Summary Report\n-------------------\nt/05_share.t                          (Wstat: 512 Tests: 6 Failed: 3)\n  Failed tests:  4-6\n  Non-zero exit status: 2\n  Parse errors: Bad plan.  You planned 22 tests but ran 6.\nFiles=37, Tests=541, 76 wallclock secs ( 0.25 usr +  0.25 sys =  0.50 CPU)\nResult: FAIL\nFailed 1/37 test programs. 3/541 subtests failed.\ngmake: *** [Makefile:823: test_dynamic] Error 255\n  ETHER/Module-Install-1.18.tar.gz\n  C:\\Users\\e047439\\.conan\\data\\strawberryperl\\5.26.0\\conan\\stable\\package\\ca33edce272a279b24f87dc0d4cf5bbdcffbc187\\c\\bin\\gmake.exe test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports ETHER/Module-Install-1.18.tar.gz\nStopping: 'install' failed for 'Module::Install'.\n</code></pre>\n\n<p>Some tests are failing and I don't know neither how to bypass it nor to solve it.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["bash", "perl", "stdin"], "comments": [{"owner": {"reputation": 239, "user_id": 2780906, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f529006e9f05a8d128c65ebfabf2b252?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2780906/tim"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1505142151, "post_id": 46158140, "comment_id": 79279524, "body": "yes, but nothing I found addressed my specific question. the constraint of using File::Slurp module exclude answers such as <a href=\"https://stackoverflow.com/questions/3138649/programmatically-read-from-stdin-or-input-file-in-perl?rq=1\" title=\"programmatically read from stdin or input file in perl\">stackoverflow.com/questions/3138649/&hellip;</a>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1505142811, "post_id": 46158140, "comment_id": 79279907, "body": "<a href=\"https://metacpan.org/pod/File::Slurp#edit_file,-edit_file_lines\" rel=\"nofollow noreferrer\"><code>edit_file_lines</code> is ... equivalent of the <code>-pi</code> command line options of Perl</a>. Do you not understand what <code>-pi</code> does or is there some additional reason that you have to use <code>File::Slurp</code> for this task?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1505147113, "post_id": 46158140, "comment_id": 79282543, "body": "I&#39;ve edited your question to add indentation to your code. You&#39;re welcome, but please do it yourself next time. If you&#39;re asking a large group of people to read and understand your code, then surely it&#39;s only polite to make it as easy to follow as possible."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1505151900, "post_id": 46158140, "comment_id": 79285076, "body": "I recommend against using File::Slurp. It has huge issues and it doesn&#39;t look like they&#39;re going to be fixed any time soon (e.g. <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=83126\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Bug/Display.html?id=83126</a> - encodings are completely broken)."}, {"owner": {"reputation": 239, "user_id": 2780906, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f529006e9f05a8d128c65ebfabf2b252?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2780906/tim"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1505156047, "post_id": 46158140, "comment_id": 79287181, "body": "@mob, yes, I had been using  commandline perl -pi, but increasing complexity made me want to learn how to do it in a proper perl script.  The example I gave was only a minimum."}], "answers": [{"comments": [{"owner": {"reputation": 239, "user_id": 2780906, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f529006e9f05a8d128c65ebfabf2b252?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2780906/tim"}, "edited": false, "score": 0, "creation_date": 1505216787, "post_id": 46159171, "comment_id": 79313212, "body": "This answers the question because it allows me to use the File::Slurp package (or, in general, others)."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1505143462, "creation_date": 1505143462, "answer_id": 46159171, "question_id": 46158140, "link": "https://stackoverflow.com/questions/46158140/perl-module-fileslurp-with-stdin-piped/46159171#46159171", "title": "Perl module File:Slurp with STDIN piped", "body": "<p>To have your script work in a pipeline, you could check if <code>STDIN</code> is connected to a <code>tty</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Slurp qw( edit_file_lines );\n\nsub my_edit_func {  s/foo/bar/g;  print $_ }\n\nif ( !(-t STDIN) ) {\n    while(&lt;&gt;) { my_edit_func }\n}\nelse {\n    foreach my $argnum (0 .. $#ARGV) {\n        edit_file_lines { my_edit_func } $ARGV[$argnum];\n    }\n}\n</code></pre>\n\n<p>See <a href=\"https://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\"><code>perldoc -X</code></a> for more information on the <code>-t</code> file test operator. </p>\n"}, {"comments": [{"owner": {"reputation": 239, "user_id": 2780906, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f529006e9f05a8d128c65ebfabf2b252?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2780906/tim"}, "edited": false, "score": 0, "creation_date": 1505216673, "post_id": 46160287, "comment_id": 79313121, "body": "I know about this construct, my question required using the File::Slurp package.  But comment from  @melpomene makes me think I might need to steer away from that package."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1505152784, "last_edit_date": 1505152784, "creation_date": 1505147188, "answer_id": 46160287, "question_id": 46158140, "link": "https://stackoverflow.com/questions/46158140/perl-module-fileslurp-with-stdin-piped/46160287#46160287", "title": "Perl module File:Slurp with STDIN piped", "body": "<p>All you need is the following:</p>\n\n<pre><code>local $^I = '';\n\nwhile (&lt;&gt;) {\n  s/foo/bar/g; \n  print;\n}\n</code></pre>\n\n<p>This is basically the same as <code>perl -i -pe's/foo/bar/'</code>, except it doesn't warn when STDIN is used.</p>\n"}], "owner": {"reputation": 239, "user_id": 2780906, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f529006e9f05a8d128c65ebfabf2b252?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2780906/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 46159171, "answer_count": 2, "score": 0, "last_activity_date": 1505152784, "creation_date": 1505140148, "last_edit_date": 1505147050, "question_id": 46158140, "link": "https://stackoverflow.com/questions/46158140/perl-module-fileslurp-with-stdin-piped", "title": "Perl module File:Slurp with STDIN piped", "body": "<p>I have just tried using the following Perl script to do some text substitution using the File::Slurp module.  It works fine on a single file given as an argument at the command line (BASH).</p>\n\n<pre><code>#!/opt/local/bin/perl -w\n\nuse File::Slurp qw( edit_file_lines );\n\nforeach my $argnum (0 .. $#ARGV) {\n  edit_file_lines { \n    s/foo/bar/g; \n    print $_\n  } \n  $ARGV[$argnum];\n}\n</code></pre>\n\n<p>I would like to alter it to cope also with pipes (i.e. STDIN), so that it can be in the middle of a series of piped operations:\nfor example:</p>\n\n<p><code>command blah|....|my-perl-script|sort|uniq|wc....</code></p>\n\n<p>What is the best way to change the Perl script to allow this, whilst retaining the existing ability to work with single files on the command line?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 5, "creation_date": 1505138426, "post_id": 46157498, "comment_id": 79276958, "body": "Why do you expect that? Please read the docs for that function."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1505138821, "post_id": 46157498, "comment_id": 79277222, "body": "Try looking here to trim whitespaces: <a href=\"http://www.perlmonks.org/?node_id=522531\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=522531</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1505203457, "post_id": 46157498, "comment_id": 79304143, "body": "<i>Why is chomp not removing whitespace around my string?</i> Because that&#39;s not what <code>chomp()</code> does :-)"}], "answers": [{"comments": [{"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 1, "creation_date": 1505139038, "post_id": 46157614, "comment_id": 79277377, "body": "global switch might be more useful here &quot;$extra=~s/^\\s+|\\s+$//g&quot;"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1505140322, "post_id": 46157614, "comment_id": 79278271, "body": "<a href=\"https://metacpan.org/pod/distribution/perl5i/lib/perl5ifaq.pod#How-do-I-strip-whitespace-off-a-string?\" rel=\"nofollow noreferrer\">implemented in perl5i</a>"}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 7, "last_activity_date": 1505138607, "creation_date": 1505138607, "answer_id": 46157614, "question_id": 46157498, "link": "https://stackoverflow.com/questions/46157498/why-is-chomp-not-removing-whitespace-around-my-string/46157614#46157614", "title": "Why is chomp not removing whitespace around my string?", "body": "<p>Chomp only removes the <em>line ending</em> (can be set with <code>$/</code> variable) from the end of the string. It does not trim the string. Perl does not have a built-in trim function. I usually spell out two substitutions instead:</p>\n\n<pre><code>s/^\\s+//, s/\\s+$// for $string;\n</code></pre>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"noreferrer\"><code>perldoc -f chomp</code></a></li>\n<li><a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-strip-blank-space-from-the-beginning/end-of-a-string%3F\" rel=\"noreferrer\">Perl FAQ: How do I strip blank space from the beginning/end of a string?</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 4, "last_activity_date": 1505217466, "last_edit_date": 1505217466, "creation_date": 1505138962, "answer_id": 46157723, "question_id": 46157498, "link": "https://stackoverflow.com/questions/46157498/why-is-chomp-not-removing-whitespace-around-my-string/46157723#46157723", "title": "Why is chomp not removing whitespace around my string?", "body": "<p>To remove all whitespace:</p>\n\n<pre><code>$string =~ s/\\s+//g;\n</code></pre>\n\n<p>Left trim:</p>\n\n<pre><code>$string =~ s/^\\s+//;\n</code></pre>\n\n<p>Right Trim:</p>\n\n<pre><code>$string =~ s/\\s+$//;\n</code></pre>\n\n<p>Left and Right trim:</p>\n\n<pre><code>$string =~ s/^\\s+|\\s+$//g\n</code></pre>\n\n<p>We can then also build trimming fucntions. This helps in much bigger scripts where you would not want to write the full replacement strings each time, we write them once, then use the function to do the work.</p>\n\n<p>This simple function can be used in any script as <code>trim($string);</code></p>\n\n<pre><code>sub trim {\n    $_[0] =~ s/^\\s+|\\s+$//g;\n }\n</code></pre>\n\n<p>Similarly with a full strip of whitespace.</p>\n\n<pre><code> sub full_strip {\n    $_[0] =~ s/\\s+//g;\n }\n</code></pre>\n\n<p>in a script:</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $string = \"  this is line with leading and trailing whitespaces  \";\nmy $string2 = \"         another one of those lines \";\n\ntrim($string);\ntrim($string2);\n\nprint \"$string\\n\";\nprint \"$string2\\n\";\n\nfull_strip($string);\nfull_strip($string2);\n\nprint \"$string\\n\";\nprint \"$string2\\n\";\n\n\nsub trim {\n    $_[0] =~ s/^\\s+|\\s+$//g;\n   }\n\nsub full_strip {\n    $_[0] =~ s/\\s+//g;\n   }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 7689532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9c09ca0324e286c1e9660f3a2a2c22c?s=128&d=identicon&r=PG&f=1", "display_name": "Chandan Paranjape", "link": "https://stackoverflow.com/users/7689532/chandan-paranjape"}, "is_accepted": false, "score": 0, "last_activity_date": 1511430018, "last_edit_date": 1511430018, "creation_date": 1505378205, "answer_id": 46214274, "question_id": 46157498, "link": "https://stackoverflow.com/questions/46157498/why-is-chomp-not-removing-whitespace-around-my-string/46214274#46214274", "title": "Why is chomp not removing whitespace around my string?", "body": "<pre><code>$string=~s/^\\s+|\\s+$//g;\n</code></pre>\n\n<p>This would work well for any generic string where you want to remove beginning and ending spaces.</p>\n"}], "owner": {"reputation": 8020, "user_id": 823282, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xBNDh.png?s=128&g=1", "display_name": "activedecay", "link": "https://stackoverflow.com/users/823282/activedecay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1029, "favorite_count": 0, "accepted_answer_id": 46157614, "answer_count": 3, "score": 1, "last_activity_date": 1511430018, "creation_date": 1505138279, "last_edit_date": 1505138848, "question_id": 46157498, "link": "https://stackoverflow.com/questions/46157498/why-is-chomp-not-removing-whitespace-around-my-string", "title": "Why is chomp not removing whitespace around my string?", "body": "<p>I don't understand why perl <code>chomp</code> isn't removing the whitespace surrounding my string. I've even tried to call chomp twice, for example, using bash:</p>\n\n<pre><code>$ perl -e 'use 5.22.4; chomp(my $extra=\" lol \"); chomp($extra); say \"&lt;$extra&gt;\"'\n&lt; lol &gt;\n</code></pre>\n\n<p>I really expected to get </p>\n\n<pre><code>&lt;lol&gt;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1505131798, "post_id": 46155352, "comment_id": 79272384, "body": "all your input strings appear to be the same :)"}, {"owner": {"reputation": 93, "user_id": 8398851, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/184a68eacdaaaf65bd765316303aa95a?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/8398851/nico"}, "reply_to_user": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1505131997, "post_id": 46155352, "comment_id": 79272526, "body": "What do you mean? Sorry i dont get it."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1505132025, "post_id": 46155352, "comment_id": 79272543, "body": "It&#39;s confusing, what is your regex, what are your input strings? what are expected results?  Where is your code?"}, {"owner": {"reputation": 93, "user_id": 8398851, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/184a68eacdaaaf65bd765316303aa95a?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/8398851/nico"}, "edited": false, "score": 0, "creation_date": 1505132123, "post_id": 46155352, "comment_id": 79272620, "body": "I will edit the question to make it clear. Sorry"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 8398851, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/184a68eacdaaaf65bd765316303aa95a?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/8398851/nico"}, "edited": false, "score": 0, "creation_date": 1505132889, "post_id": 46155689, "comment_id": 79273124, "body": "First try is positive now it matches without &quot;SOME_RANDOM_STRING:&quot; now i will try with SOME_RANDOM_STRING:"}], "tags": [], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "is_accepted": true, "score": 2, "last_activity_date": 1505132491, "creation_date": 1505132491, "answer_id": 46155689, "question_id": 46155352, "link": "https://stackoverflow.com/questions/46155352/perl-regex-either-some-string-is-there-or-not/46155689#46155689", "title": "Perl Regex either some string is there or not", "body": "<p>You have to capture one of the two spaces enclosing your random string.</p>\n\n<p>This does not match any space at all:</p>\n\n<pre><code>[a-zA-Z0-9:]*\n</code></pre>\n\n<p>Use this instead:</p>\n\n<pre><code>( [a-zA-Z0-9:]+)?\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 8398851, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/184a68eacdaaaf65bd765316303aa95a?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/8398851/nico"}, "edited": false, "score": 0, "creation_date": 1505134031, "post_id": 46155828, "comment_id": 79273920, "body": "Even if i already had a valid answer i tried your&#39;s too, works thanks"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1505132945, "creation_date": 1505132945, "answer_id": 46155828, "question_id": 46155352, "link": "https://stackoverflow.com/questions/46155352/perl-regex-either-some-string-is-there-or-not/46155828#46155828", "title": "Perl Regex either some string is there or not", "body": "<p>I'd do:</p>\n\n<pre><code>$str =~ /Info:.*?Focus switched to: \\[b\\] \\(1\\)/;\n</code></pre>\n\n<p>Where <code>.*?</code> matches any number of any character not greedy.</p>\n"}], "owner": {"reputation": 93, "user_id": 8398851, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/184a68eacdaaaf65bd765316303aa95a?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/8398851/nico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 46155689, "answer_count": 2, "score": 0, "last_activity_date": 1505132945, "creation_date": 1505131510, "last_edit_date": 1505132662, "question_id": 46155352, "link": "https://stackoverflow.com/questions/46155352/perl-regex-either-some-string-is-there-or-not", "title": "Perl Regex either some string is there or not", "body": "<p>today i need your help again.\nIm learning Perl and my first Job is to expand a little script which waits for this Output from a virtual machine this output is:</p>\n\n<pre><code>Info: SOME_RANDOM_STRING: Focus switched to: [b] (1)\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>Info: Focus switched to: [b] (1)\n</code></pre>\n\n<p>So the \"SOME_RANDOM_STRING:\" can be there but doesn't need to now i need to match those to decide if the Output was there or not. I tried</p>\n\n<pre><code>Info: [a-zA-Z0-9*:]* Focus switched to: [b] (1)\n</code></pre>\n\n<p>And this matches \"Info: SOME_RANDOM_STRING: Focus switched to: [b] (1)\" but not \"Info: Focus switched to: [b] (1)\"</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 1158, "user_id": 5886576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/w2Wri.jpg?s=128&g=1", "display_name": "HariHaraSudhan", "link": "https://stackoverflow.com/users/5886576/hariharasudhan"}, "edited": false, "score": 0, "creation_date": 1505130868, "post_id": 46155121, "comment_id": 79271755, "body": "why dont u try to use regex"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1505130908, "post_id": 46155121, "comment_id": 79271782, "body": "Do not put <code>&#39;push @band_array, $ele&#39; </code> into single qoutes. It is a string in perl"}, {"owner": {"reputation": 33, "user_id": 7391072, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1243472112402966/picture?type=large", "display_name": "Himanshu Gupta", "link": "https://stackoverflow.com/users/7391072/himanshu-gupta"}, "reply_to_user": {"reputation": 1158, "user_id": 5886576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/w2Wri.jpg?s=128&g=1", "display_name": "HariHaraSudhan", "link": "https://stackoverflow.com/users/5886576/hariharasudhan"}, "edited": false, "score": 0, "creation_date": 1505130998, "post_id": 46155121, "comment_id": 79271848, "body": "@N.HariHaraSudhan Can you please tell me some link for regex which I can use. I havent use regex before"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1505131076, "post_id": 46155121, "comment_id": 79271908, "body": "As for Perl documentation, <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlretut.html</a> is a good start. All you need to do is grab numbers."}, {"owner": {"reputation": 1158, "user_id": 5886576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/w2Wri.jpg?s=128&g=1", "display_name": "HariHaraSudhan", "link": "https://stackoverflow.com/users/5886576/hariharasudhan"}, "edited": false, "score": 0, "creation_date": 1505131086, "post_id": 46155121, "comment_id": 79271915, "body": "try this inside the for loop on each elemet of array <code>\\d+</code>"}, {"owner": {"reputation": 1158, "user_id": 5886576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/w2Wri.jpg?s=128&g=1", "display_name": "HariHaraSudhan", "link": "https://stackoverflow.com/users/5886576/hariharasudhan"}, "edited": false, "score": 0, "creation_date": 1505131242, "post_id": 46155121, "comment_id": 79272031, "body": "i didnt used perl please go through this <a href=\"https://www.tutorialspoint.com/perl/perl_regular_expressions.htm\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1505131465, "post_id": 46155121, "comment_id": 79272177, "body": "You missing a semicolon. And if you run your program, you&#39;ll get a bunch of warnings after adding that semicolon in. Please either show us your <i>real code</i> or at least try to run your stuff yourself."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1505131260, "creation_date": 1505131260, "answer_id": 46155281, "question_id": 46155121, "link": "https://stackoverflow.com/questions/46155121/extract-number-from-array-in-perl/46155281#46155281", "title": "Extract number from array in Perl", "body": "<p>To do this with a regular expression, you need a very simple pattern. <code>/BC(\\d)/</code> should be enough. The <code>BC</code> is literal. The <code>()</code> are a <em>capture group</em>. They save the match inside into a variable. The first group relates to <code>$1</code> in Perl. The <code>\\d</code> is a <em>character group</em> for digits. That's <code>0-9</code> (and others, but that's not relevant here).</p>\n\n<p>In your program, it would look like this.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nmy @band = ('BC1', 'BC2');\nmy @numbers;\nforeach my $elem (@band) {\n    if ($elem =~ m/BC(\\d)/) {\n        push @numbers, $1;\n    }\n}\n\nprint Dumper @numbers;\n</code></pre>\n\n<p>This program prints:</p>\n\n<pre><code>$VAR1 = '1';\n$VAR2 = '2';\n</code></pre>\n\n<p>Note that your code had several syntax errors. The main one is that you were using <code>@band = [ ... ]</code>, which gives you an array that contains one array reference. But your program assumed there were strings in that array.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1505243877, "post_id": 46157199, "comment_id": 79330505, "body": "That&#39;s way better, thank you. However it&#39;s a bit around a few corners, isn&#39;t it? It only works because <code>grep</code> aliases the list elements, and the <code>s&#47;&#47;&#47;</code> manipulates them. If the substitution was successful, it returns <code>1</code> and that triggers passing on the now altered (because of the alias) value. It gets the job done, but it&#39;s an unusual approach I would say. :-)"}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1505254780, "post_id": 46157199, "comment_id": 79335118, "body": "I would say this flexibility is this the beauty of perl and why we love it. Besides, if it was a m// then it would be exactly the same a linux grep :-)"}], "tags": [], "owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "is_accepted": false, "score": 1, "last_activity_date": 1505242915, "last_edit_date": 1505242915, "creation_date": 1505137352, "answer_id": 46157199, "question_id": 46155121, "link": "https://stackoverflow.com/questions/46155121/extract-number-from-array-in-perl/46157199#46157199", "title": "Extract number from array in Perl", "body": "<p>First, your array is an anonymous array reference; use () for a regular array. </p>\n\n<p>Then, i would use grep to filter out the values into a new array</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @band = (\"BC1\", \"BC3\");   \nmy @band_array = grep {s/BC(\\d+)/$1/} @band;\n\n$\"=\" , \";   # make printing of array nicer\nprint \"@band_array\\n\";  # print array\n</code></pre>\n\n<p>grep works by passing each element of an array in the code in { } , just like a sub routine. $_ for each value in the array is passed. If the code returns true then the value of $_ after the passing placed in the new array. </p>\n\n<p>In this case the s/// regex returns true if a substitution is made e.g., the regex must match. Here is <a href=\"https://perlmaven.com/filtering-values-with-perl-grep\" rel=\"nofollow noreferrer\">link</a> for more info on grep</p>\n"}, {"tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 1, "last_activity_date": 1505208055, "last_edit_date": 1505208055, "creation_date": 1505207067, "answer_id": 46172217, "question_id": 46155121, "link": "https://stackoverflow.com/questions/46155121/extract-number-from-array-in-perl/46172217#46172217", "title": "Extract number from array in Perl", "body": "<p>Just incase your naming contains characters other than <code>BC</code> this will exctract all numeric values from your list.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @band = (\"AB1\", \"BC2\", \"CD3\");\nforeach my $str(@band) {\n $str =~ s/[^0-9]//g;\n print $str;\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7391072, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1243472112402966/picture?type=large", "display_name": "Himanshu Gupta", "link": "https://stackoverflow.com/users/7391072/himanshu-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1505242915, "creation_date": 1505130751, "last_edit_date": 1505200561, "question_id": 46155121, "link": "https://stackoverflow.com/questions/46155121/extract-number-from-array-in-perl", "title": "Extract number from array in Perl", "body": "<p>I have a array which have certain elements. Each element have two char \"BC\" followed by a number \ne.g - \"BC6\"</p>\n\n<p>I want to extract the number which is present and store in a different array.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Scalar::Util qw(looks_like_number);\nmy @band = (\"BC1\", \"BC3\");\nforeach my $elem(@band)\n{\n    my @chars = split(\"\", $elem);\n    foreach my $ele (@chars) {\n        looks_like_number($ele) ? 'push @band_array, $ele' : '';\n    }\n}\n</code></pre>\n\n<p>After execution @band_array should contain (1,3)</p>\n\n<p>Can someone please tell what I'm doing wrong? I am new to perl and still learning</p>\n"}, {"tags": ["multithreading", "perl", "cygwin"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1505127026, "post_id": 46153833, "comment_id": 79269281, "body": "How did you run the code?"}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1505127084, "post_id": 46153833, "comment_id": 79269321, "body": "Using cygwin terminal by typing : perl filename.pl"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1505127251, "post_id": 46153833, "comment_id": 79269418, "body": "Do other perl scripts work OK? Your script works correctly for me on Linux (no cygwin machine at hand)."}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1505127309, "post_id": 46153833, "comment_id": 79269460, "body": "Yes all the other scripts which do not use threading work correctly."}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1505127978, "post_id": 46153833, "comment_id": 79269886, "body": "I came upon something called &quot;Dusethreads&quot; which enable multithreaded perl in cygwin. But not sure how to configure it.  <a href=\"https://www.mkssoftware.com/docs/perl/pod/perlcygwin.asp\" rel=\"nofollow noreferrer\">mkssoftware.com/docs/perl/pod/perlcygwin.asp</a>"}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1505128563, "post_id": 46153833, "comment_id": 79270249, "body": "Also quite strange that the code work in 32 bit version of cygwin but not in 64 bit. I check four machines , two having 32 bit and two 64 bit."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1505131244, "post_id": 46153833, "comment_id": 79272032, "body": "<code>Dusethreads</code> is a compile option for Perl. But without thread support, Perl should tell you when you try <code>use threds</code>."}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1505132799, "post_id": 46153833, "comment_id": 79273063, "body": "There is another option : Duse64bitint. Looks like those are the basic difference between 32 and 64 bit (Please check image at the top). Do you know how to set those options."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1505134480, "post_id": 46153833, "comment_id": 79274208, "body": "You set them when compiling the Perl binary. But it seems threads should work in both. Is your machine 64 bit?"}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1505136569, "post_id": 46153833, "comment_id": 79275663, "body": "yes it is 64 bit."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505148106, "post_id": 46153833, "comment_id": 79283105, "body": "What is <code>echo $?</code> after you execute the script?"}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505176832, "post_id": 46153833, "comment_id": 79294737, "body": "How is it done @ikegami"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505177100, "post_id": 46153833, "comment_id": 79294785, "body": "Execute <code>echo $?</code> after running your script. What&#39;s the output?"}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "edited": false, "score": 0, "creation_date": 1505177667, "post_id": 46153833, "comment_id": 79294889, "body": "So after executing perl script through cygwin terminal (it terminated) , i type echo $? in the cygwin terminal again and it return 0."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505792302, "post_id": 46153833, "comment_id": 79545430, "body": "If it died from a protection fault (segfault), I would have expected that to be non-zero. But this is cygwin, a unix environment running on Windows. Windows doesn&#39;t have signals, so I&#39;m not sure what happens when there&#39;s a protection violation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505792377, "post_id": 46153833, "comment_id": 79545456, "body": "I don&#39;t know what else to say. That code should not crash, and I can&#39;t reproduce the problem. You don&#39;t wait for the thread to end, but it should at least output <code>main thread</code>. You could try uninstall and reinstalling <code>perl</code> -- maybe one of the files got corrupted. Other than that, you&#39;re left debugging your executable (using <code>gdb</code>?)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505792475, "post_id": 46153833, "comment_id": 79545489, "body": "I will point out that your title is nonsense. As you showed, both of your <code>perl</code> have threads &quot;enabled&quot;."}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505837438, "post_id": 46153833, "comment_id": 79572546, "body": "@ikegami But strange that the same code work on some of the machine ."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505840361, "post_id": 46153833, "comment_id": 79574033, "body": "What do you mean by &quot;works on some of the machine&quot;?"}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "edited": false, "score": 0, "creation_date": 1505840791, "post_id": 46153833, "comment_id": 79574238, "body": "I installed cygwin on various machine. It is working in couple of machine but not all. Like you said both perl have threads &quot;enabled&quot;, but it works in only one of them ."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1505841085, "post_id": 46153833, "comment_id": 79574371, "body": "It&#39;s not weird at all that it works on some of the machines. It should work."}, {"owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "edited": false, "score": 0, "creation_date": 1505841191, "post_id": 46153833, "comment_id": 79574420, "body": "I bet it should work. But could not figure out what is the problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1505841239, "post_id": 46153833, "comment_id": 79574441, "body": "I can&#39;t debug <code>perl</code> for you; it works on my machine."}], "owner": {"reputation": 675, "user_id": 1179945, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1c57c3166877ba7fa58a70609c331f00?s=128&d=identicon&r=PG", "display_name": "arjun", "link": "https://stackoverflow.com/users/1179945/arjun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1505648971, "creation_date": 1505126767, "last_edit_date": 1505132668, "question_id": 46153833, "link": "https://stackoverflow.com/questions/46153833/cygwin-perl-enable-multithreading", "title": "cygwin-perl enable multithreading", "body": "<p>I am using perl version 5.22 with cygwin. I am not able to figure out the problem in the following code. It looks like  multi threading is not enable or something. When I ran the following code it just terminated without any message. </p>\n\n<pre><code>use warnings;\nuse threads;\n\nsub threaded_task {\n\n    threads -&gt; create(sub { \n\n        print \"Starting thread\\n\";\n        sleep(2);\n        print \"Ending thread\\n\";\n\n\n    });\n }\n\nwhile(1) {\nthreaded_task(\"arjun\");\nprint \"main thread\\n\";\nsleep (2); \n}\n</code></pre>\n\n<p>64 bit config :\n<a href=\"https://i.stack.imgur.com/E7qDO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E7qDO.png\" alt=\"enter image description here\"></a></p>\n\n<p>32 bit config: \n<a href=\"https://i.stack.imgur.com/SJt9j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SJt9j.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["r", "regex", "shell", "perl", "bioinformatics"], "comments": [{"owner": {"reputation": 2784, "user_id": 1487843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1BFY8.jpg?s=128&g=1", "display_name": "Marc Lambrichs", "link": "https://stackoverflow.com/users/1487843/marc-lambrichs"}, "edited": false, "score": 0, "creation_date": 1505125840, "post_id": 46151738, "comment_id": 79268649, "body": "There is one thing not clear in the question. Suppose you&#39;ll match <code>AAGGA</code> in first.regex.p3, what should be the corresponding match in the second file: exactly &#39;TTCCT&#39; or [CT]{2,5}? Or even [CT]{5}?"}, {"owner": {"reputation": 341, "user_id": 4572644, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75f9310c7cb1ded3cf5dff5b5697f4e1?s=128&d=identicon&r=PG&f=1", "display_name": "l..", "link": "https://stackoverflow.com/users/4572644/l"}, "reply_to_user": {"reputation": 2784, "user_id": 1487843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1BFY8.jpg?s=128&g=1", "display_name": "Marc Lambrichs", "link": "https://stackoverflow.com/users/1487843/marc-lambrichs"}, "edited": false, "score": 0, "creation_date": 1505126293, "post_id": 46151738, "comment_id": 79268884, "body": "@MarcLambrichs I am really sorry that my text is convoluted and confusing. I got lost in my own text as well while trying to simplify my original regex and results. To answer your question: yes! It should be exactly <code>TTCCT</code> because the length of the match in the second file for that particular dependent part of the regex should be exactly the same as the one found in the first file. Another example: If <code>first.regex.p4</code> matches <code>GGGG</code> in the first file for a certain substring, then the corresponding match in the second file (second regex) should definitely be <code>CCCC</code>."}, {"owner": {"reputation": 341, "user_id": 4572644, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75f9310c7cb1ded3cf5dff5b5697f4e1?s=128&d=identicon&r=PG&f=1", "display_name": "l..", "link": "https://stackoverflow.com/users/4572644/l"}, "reply_to_user": {"reputation": 2784, "user_id": 1487843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1BFY8.jpg?s=128&g=1", "display_name": "Marc Lambrichs", "link": "https://stackoverflow.com/users/1487843/marc-lambrichs"}, "edited": false, "score": 0, "creation_date": 1505127227, "post_id": 46151738, "comment_id": 79269399, "body": "This is because these are essentially two strands of DNA and at some point they are partly forming a base pair (they are coming together and sticking to each other). So the  TTCCT from second file is sticking to the AAGGA from the first file. <a href=\"http://www.michaelwosnick.com/CancerResearch/wp-content/uploads/DNA-replication-from-visionlearning.jpg\" rel=\"nofollow noreferrer\">michaelwosnick.com/CancerResearch/wp-content/uploads/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1505124684, "post_id": 46152885, "comment_id": 79267987, "body": "I am pretty sure if Damian Conway comes across this question, he will write a very long regex to solve it. :)"}], "tags": [], "owner": {"reputation": 1278, "user_id": 2581168, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b270277ab230e839d39ac0c67de6244?s=128&d=identicon&r=PG", "display_name": "ymbirtt", "link": "https://stackoverflow.com/users/2581168/ymbirtt"}, "is_accepted": false, "score": 1, "last_activity_date": 1505124644, "last_edit_date": 1505124644, "creation_date": 1505123839, "answer_id": 46152885, "question_id": 46151738, "link": "https://stackoverflow.com/questions/46151738/creating-a-new-regex-based-on-the-returned-results-and-rules-of-a-previous-regex/46152885#46152885", "title": "Creating a new regex based on the returned results and rules of a previous regex | Indexing a regex and seeing how the regex has matched a substring", "body": "<p>This question really brings to mind <a href=\"https://softwareengineering.stackexchange.com/questions/223634/what-is-meant-by-now-you-have-two-problems\">the old saying about regular expressions</a>, though in this case the languages you're matching against are regular, so RE is a good fit for this.</p>\n\n<p>Unfortunately, my Perl is somewhat lacking, but fundamentally this sounds like a Regex problem rather than an R or Perl problem, so I'll do my best to answer it on that basis.</p>\n\n<p>Perl's regex engine supports capture groups. The substrings matching bracketed subexpressions in your regex can be made available after matching:</p>\n\n<pre><code>use feature qw(say);\n\n$foo = 'foo';\n'aaa' =~ /(a)(a+)/;\nsay($1); # =&gt; 'a'\nsay($2); # =&gt; 'aa'\nsay(\"Matched!\") if 'aaaa' =~ /${2}/;\n</code></pre>\n\n<p>What I'd suggest doing is bracketing your regex up properly, picking apart the capture groups after matching, and then sticking them together into a new regex, say...</p>\n\n<pre><code>use feature qw(say);\n\n'ACGTAACAGAGATCTGTGTA' =~ /([ACGT]{1,12000})(AAC)([AG]{2,5})([ACGT]{2,5})(CTGTGTA)/ ; # Note that I've added a lot of (s and )s here so that the results get sorted into nice groups\nsay($1); # =&gt; 'ACGT'\nsay($2); # =&gt; 'AAC'\nsay($3); # =&gt; 'AGAG'\nsay($4); # =&gt; 'AT'\nsay($5); # =&gt; 'CTGTGTA'\n\n$complemented_3 = complement($3); # You can probably implement these yourself...\n$complemented_4 = complement($4);\n\n$new_regex = /${complemented_3}[ACGT]+${complemented_4}/;\n</code></pre>\n\n<p>If the sections have actual meaning, then I'd also advise looking up <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">named capture groups</a>, and giving the results decent names rather than <code>$1, $2, $3...</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 10, "last_activity_date": 1505130538, "last_edit_date": 1505130538, "creation_date": 1505123977, "answer_id": 46152939, "question_id": 46151738, "link": "https://stackoverflow.com/questions/46151738/creating-a-new-regex-based-on-the-returned-results-and-rules-of-a-previous-regex/46152939#46152939", "title": "Creating a new regex based on the returned results and rules of a previous regex | Indexing a regex and seeing how the regex has matched a substring", "body": "<p>This can be done programmatically in Perl, or any other language. </p>\n\n<p>Since you need input from two different files, you cannot do this in pure regex, as regex cannot read files. You cannot even do it in one pattern, as no regex engine remembers what you matched before on a different input string. It has to be done in the program surrounding your matches, which should very well be regex, as that's what regex is meant for.</p>\n\n<p>You can build the second pattern up step by step. I've implemented a more advanced version in Perl that can easily be adapted to suit other pattern combinations as well, without changing the actual code that does the work.</p>\n\n<p>Instead of file 1, I will use the <code>DATA</code> section. It holds all three example input strings. Instead of file 2, I use your example output for the third input string.</p>\n\n<p>The main idea behind this is to split up both patterns into sub-patterns. For the first one, we can simply use an array of patterns. For the second one, we create anonymous functions that we will call with the match results from the first pattern to construct the second complete pattern. Most of them just return a fixed string, but two actually take a value from the arguments to build the complements.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub complement {\n    my $string = shift;\n    $string =~ tr/ATGC/TACG/; # this is a transliteration, faster than s///\n    return $string;\n}\n\n# first regex, split into sub-patterns\nmy @first = ( \n    qr([ACGT]{1,12000}), \n    qr(AAC), \n    qr([AG]{2,5}), \n    qr([ACGT]{2,5}), \n    qr(CTGTGTA), \n);\n\n# second regex, split into sub-patterns as callbacks\nmy @second = (\n    sub { return qr(CTAAA) },\n    sub { return qr([AC]{5,100}) },\n    sub { return qr(TTTGGG) },\n    sub {\n        my (@matches) = @_;\n\n        # complement the pattern of first.regex.p3\n        return complement( $matches[3] );\n    },\n    sub { return qr(CTT) },\n    sub { return qr([AG]{10,5000}) },\n    sub {\n        my (@matches) = @_;\n\n        # complement the pattern of first.regex.p4\n        return complement( $matches[4] );\n    },\n);\n\nmy $file2 = \"CTAAAACACCTTTGGGTTCCTCTTAAAAAAAAAGGGGGAGAGAGAAGAAAAAAAGAGAGGG\";\n\nwhile ( my $file1 = &lt;DATA&gt; ) {\n\n    # this pattern will match the full thing in $1, and each sub-section in $2, $3, ...\n    # @matches will contain (full, $2, $3, $4, $5, $6)\n    my @matches = ( $file1 =~ m/(($first[0])($first[1])($first[2])($first[3])($first[4]))/g );\n\n    # iterate the list of anonymous functions and call each of them,\n    # passing in the match results of the first match\n    my $pattern2 = join q{}, map { '(' . $_-&gt;(@matches) . ')' } @second;\n\n    my @matches2 = ( $file2 =~ m/($pattern2)/ );\n}\n\n__DATA__\nAAACCCGTGTAATAACAGACGTACTGTGTA\nTTTTTTTGCGACCGAGAAACGGTTCTGTGTA\nTAACAAGGACCCTGTGTA\n</code></pre>\n\n<p>These are the generated second patterns for your three input substrings.</p>\n\n<pre><code>((?^:CTAAA))((?^:[AC]{5,100}))((?^:TTTGGG))(TCT)((?^:CTT))((?^:[AG]{10,5000}))(GCAT)\n((?^:CTAAA))((?^:[AC]{5,100}))((?^:TTTGGG))(CC)((?^:CTT))((?^:[AG]{10,5000}))(AA)\n((?^:CTAAA))((?^:[AC]{5,100}))((?^:TTTGGG))(TTCCT)((?^:CTT))((?^:[AG]{10,5000}))(GG)\n</code></pre>\n\n<p>If you're not familiar with this, it's what happens if you <code>print</code> a pattern that was constructed with the <a href=\"http://perldoc.perl.org/functions/qr.html\" rel=\"noreferrer\">quoted regex operator <code>qr//</code></a>.</p>\n\n<p>The pattern matches your example output for the third case. The resulting <code>@matches2</code> looks like this when dumped out using <a href=\"https://metacpan.org/pod/Data::Printer\" rel=\"noreferrer\">Data::Printer</a>.</p>\n\n<pre><code>[\n    [0] \"CTAAAACACCTTTGGGTTCCTCTTAAAAAAAAAGGGGGAGAGAGAAGAAAAAAAGAGAGGG\",\n    [1] \"CTAAA\",\n    [2] \"ACACC\",\n    [3] \"TTTGGG\",\n    [4] \"TTCCT\",\n    [5] \"CTT\",\n    [6] \"AAAAAAAAAGGGGGAGAGAGAAGAAAAAAAGAGAG\",\n    [7] \"GG\"\n]\n</code></pre>\n\n<p>I cannot say anything about speed of this implementation, but I believe it will be reasonable fast.</p>\n\n<p>If you wanted to find other combinations of patterns, all you had to do was replace the <code>sub { ... }</code> entries in those two arrays. If there is a different number than five of them for the first match, you'd also construct that pattern programmatically. I've not done that above to keep things simpler. Here's what it would look like.</p>\n\n<pre><code>my @matches = ( $file1 =~ join q{}, map { \"($_)\" } @first);\n</code></pre>\n\n<hr>\n\n<p>If you want to learn more about this kind of strategy, I suggest you read Mark Jason Dominus' excellent <em>Higher Order Perl</em>, which is <a href=\"https://hop.perl.plover.com/\" rel=\"noreferrer\">available for free as a PDF here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 341, "user_id": 4572644, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75f9310c7cb1ded3cf5dff5b5697f4e1?s=128&d=identicon&r=PG&f=1", "display_name": "l..", "link": "https://stackoverflow.com/users/4572644/l"}, "edited": false, "score": 0, "creation_date": 1505136170, "post_id": 46154025, "comment_id": 79275380, "body": "Brilliant! I really love this answer, in its simplicity, it is a very clever implementation. I have also been mainly using stringi/stringr for this problem as I find it extremely efficient and many of the packages I need are found for R, which makes it less hassle. I have tried your solution and it really is an intelligent one, but I cannot seem to understand why the section <code>df_ps = stringr::str_match</code> can only produce results for the first matched string in <code>reg_1_matches</code>. It returns NA for all other found strings.. Do you have any idea why this is happening? <a href=\"https://pastebin.com/XS7wB4bc\" rel=\"nofollow noreferrer\">pastebin.com/XS7wB4bc</a>"}, {"owner": {"reputation": 16606, "user_id": 8573068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhhSK.png?s=128&g=1", "display_name": "missuse", "link": "https://stackoverflow.com/users/8573068/missuse"}, "reply_to_user": {"reputation": 341, "user_id": 4572644, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75f9310c7cb1ded3cf5dff5b5697f4e1?s=128&d=identicon&r=PG&f=1", "display_name": "l..", "link": "https://stackoverflow.com/users/4572644/l"}, "edited": false, "score": 1, "creation_date": 1505136862, "post_id": 46154025, "comment_id": 79275870, "body": "<code>stringr::str_extract_all</code> produces a list, in the answer I assumed it produces a vector. In my simple example, one would need to do <code>reg_1_matches = unlist(reg_1_matches)</code> and proceed to <code>stringr::str_extract_all</code>. I am downloading <code>BSgenome.Hsapiens.UCSC.hg38_1.4</code> to check on it also, but its a 700 MB file. I&#39;ll edit the comment when I test on it."}], "tags": [], "owner": {"reputation": 16606, "user_id": 8573068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhhSK.png?s=128&g=1", "display_name": "missuse", "link": "https://stackoverflow.com/users/8573068/missuse"}, "is_accepted": false, "score": 3, "last_activity_date": 1505141971, "last_edit_date": 1505141971, "creation_date": 1505127378, "answer_id": 46154025, "question_id": 46151738, "link": "https://stackoverflow.com/questions/46151738/creating-a-new-regex-based-on-the-returned-results-and-rules-of-a-previous-regex/46154025#46154025", "title": "Creating a new regex based on the returned results and rules of a previous regex | Indexing a regex and seeing how the regex has matched a substring", "body": "<p>Using stringr in R</p>\n\n<p>Extract matches to regex_1: <code>\"[ACGT]{1,12000}(AAC)[AG]{2,5}[ACGT]{2,5}(CTGTGTA)\"</code></p>\n\n<pre><code>reg_1_matches = stringr::str_extract_all(sequences, \"[ACGT]{1,12000}(AAC)[AG]{2,5}[ACGT]{2,5}(CTGTGTA)\")\nreg_1_matches = unlist(reg_1_matches)\n</code></pre>\n\n<p>lets assume the matches were:</p>\n\n<pre><code> reg_1_matches = c(\"TTTTTTTGCGACCGAGAAACGGTTCTGTGTA\", \"TAACAAGGACCCTGTGTA\")\n</code></pre>\n\n<p>Use stringr::str_match with capturing groups (...)</p>\n\n<pre><code>df_ps = stringr::str_match(reg_1_matches, \"[ACGT]{1,12000}AAC([AG]{2,5})([ACGT]{2,5})CTGTGTA\")\n\np3 = df_ps[,2]\np4 = df_ps[,3]\n</code></pre>\n\n<p>Complement   </p>\n\n<pre><code>rule_1 = chartr(old= \"ACGT\", \"TGCA\", p3)\nrule_2 = chartr(old= \"ACGT\", \"TGCA\", p4)\n</code></pre>\n\n<p>Construct regex_2</p>\n\n<pre><code>  paste(\"(CTAAA)[AC]{5,100}(TTTGGG)\", rule_1, \"(CTT)[AG]{10,5000}\", rule_2, sep=\"\") \n</code></pre>\n\n<p>all in one go:</p>\n\n<pre><code>reg_1_matches =  stringr::str_extract_all(sequences, \"[ACGT]{1,12000}(AAC)[AG]{2,5}[ACGT]{2,5}(CTGTGTA)\")\ndf_ps = stringr::str_match(reg_1_matches, \"[ACGT]{1,12000}AAC([AG]{2,5})([ACGT]{2,5})CTGTGTA\")\np3 = df_ps[,2]\np4 = df_ps[,3]\nrule_1 = chartr(old= \"ACGT\", \"TGCA\", p3)\nrule_2 = chartr(old= \"ACGT\", \"TGCA\", p4)\npaste(\"(CTAAA)[AC]{5,100}(TTTGGG)\", rule_1, \"(CTT)[AG]{10,5000}\", rule_2, sep=\"\") \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2784, "user_id": 1487843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1BFY8.jpg?s=128&g=1", "display_name": "Marc Lambrichs", "link": "https://stackoverflow.com/users/1487843/marc-lambrichs"}, "is_accepted": false, "score": 1, "last_activity_date": 1505138692, "last_edit_date": 1505138692, "creation_date": 1505135899, "answer_id": 46156700, "question_id": 46151738, "link": "https://stackoverflow.com/questions/46151738/creating-a-new-regex-based-on-the-returned-results-and-rules-of-a-previous-regex/46156700#46156700", "title": "Creating a new regex based on the returned results and rules of a previous regex | Indexing a regex and seeing how the regex has matched a substring", "body": "<p><strong>awk</strong> solution. \nThe requirements are not that complicated: a simple script can do the trick. There's just one complication: every regex that is a result from your first match has to be matched against <strong>all</strong> lines of the second file. Here's where we use <strong>xargs</strong> to solve that.</p>\n\n<p>Now, whatever language you pick, it looks like the number of matches being made is going to be extensive, so some remarks about the regexes need to be made first.</p>\n\n<p>The regex for the first file is going to be slow, because in</p>\n\n<pre><code>[ACGT]{1,12000}(AAC)[AG]{2,5}[ACGT]{2,5}(CTGTGTA)\n</code></pre>\n\n<p>the number of possibilities for the first part <code>[AGCT]{1,12000}</code> are huge. Actuallly it only says pick any element from A, C, G, T and to that between 1 and 12000 times. Then match the rest. Couldn't we do a </p>\n\n<pre><code>AAC([AG]{2,5})([ACGT]{2,5})CTGTGTA$\n</code></pre>\n\n<p>instead? The speed gain is considerable.</p>\n\n<p>A similar remark can be made to the regex for the second file. If you replace</p>\n\n<pre><code> (CTAAA)[AC]{5,100}(TTTGGG){**rule1**}(CTT)[AG]{10,5000}{**rule2**}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>(CTAAA)[AC]{5,100}(TTTGGG){**rule1**}(CTT)[AG]*{**rule2**}$\n</code></pre>\n\n<p>you will experience some improvement.</p>\n\n<p>Because I started this answer with the low complication-factor of the requirements, let's see some code:</p>\n\n<pre><code>$ cat tst.awk\nmatch($0, /AAC([AG]{2,5})([ACGT]{2,5})CTGTGTA$/, a) {\n   r = sprintf(\"(CTAAA)[AC]{5,100}(TTTGGG)(%s)(CTT)[AG]*(%s)$\", \n               translate(a[1]), \n               translate(a[2]));\n   print r\n}\n\nfunction translate(word) {\n   cmd = \"echo '\" word \"' | tr 'ACGT' 'TGCA'\";\n   res = ((cmd | getline line) &gt; 0 ? line : \"\");\n   close(cmd);\n   return res\n}\n</code></pre>\n\n<p>What this will do is produce the regex for your second file. (I've added extra grouping for demo purposes). Now, let's take a look at the second script:</p>\n\n<pre><code>$ cat tst2.awk\nmatch($0, regex, a){ printf(\"Found matches %s and %s\\n\", a[3], a[5]) }\n</code></pre>\n\n<p>What this will do is get a <code>regex</code> and matches it with every line read from the second input file. We need to provide this script with a value for <code>regex</code>, like this:</p>\n\n<pre><code>$ awk -f tst.awk input1.txt | xargs -I {} -n 1 awk -v regex={} -f tst2.awk input2.txt\n</code></pre>\n\n<p>The -v option of awk let's us define a regex, which is fed into this call by the first script.</p>\n\n<pre><code>$ cat input1.txt\nTAACAAGGACCCTGTGTA\n\n$ cat input2.txt\nCTAAAACACCTTTGGGTTCCTCTTAAAAAAAAAGGGGGAGAGAGAAGAAAAAAAGAGAGGG\n</code></pre>\n\n<p>and the result is:</p>\n\n<pre><code>$ awk -f tst.awk input1.txt | xargs -I {} -n 1 awk -v regex={} -f tst2.awk input2.txt\nFound matches TTCCT and GG\n</code></pre>\n\n<p>In conclusion: should you use regexes to solve your problem? Yes, but you need to be not too ambitious to match the whole string in one time. Quantifiers like {1,12000} are going to slow you down, whatever language you pick.</p>\n"}], "owner": {"reputation": 341, "user_id": 4572644, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75f9310c7cb1ded3cf5dff5b5697f4e1?s=128&d=identicon&r=PG&f=1", "display_name": "l..", "link": "https://stackoverflow.com/users/4572644/l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 2, "answer_count": 4, "score": 18, "last_activity_date": 1505141971, "creation_date": 1505120178, "last_edit_date": 1505129374, "question_id": 46151738, "link": "https://stackoverflow.com/questions/46151738/creating-a-new-regex-based-on-the-returned-results-and-rules-of-a-previous-regex", "title": "Creating a new regex based on the returned results and rules of a previous regex | Indexing a regex and seeing how the regex has matched a substring", "body": "<p>I am particularly looking at R, Perl, and shell. But any other programming language would be fine too.</p>\n\n<p><strong>QUESTION</strong></p>\n\n<p>Is there a way to visually or programmatically inspect and index a matched string based on the regex? This is intended for referencing back to the first regex and its results inside of a second regex, so as to be able to modify a part of the matched string and write new rules for that particular part.</p>\n\n<p><a href=\"https://regex101.com\" rel=\"noreferrer\">https://regex101.com</a> does visualize how a certain string matches the regular expression. But it is far from perfect and is not efficient for my huge dataset.</p>\n\n<p><strong>PROBLEM</strong></p>\n\n<p>I have around 12000 matched strings (DNA sequences) for my first regex, and I want to process these strings and based on some strict rules find some other strings in a second file that go well together with those 12000 matches based on those strict rules.</p>\n\n<p><strong>SIMPLIFIED EXAMPLE</strong></p>\n\n<p>This is my <strong>first regex</strong> (a simplified, shorter version of my original regex) that runs through my <strong>first text file</strong>.</p>\n\n<blockquote>\n<pre><code>[ACGT]{1,12000}(AAC)[AG]{2,5}[ACGT]{2,5}(CTGTGTA)\n</code></pre>\n</blockquote>\n\n<p>Let's suppose that it finds the following three sub-strings in my large text file:</p>\n\n<pre><code>1. AAACCCGTGTAATAACAGACGTACTGTGTA\n2. TTTTTTTGCGACCGAGAAACGGTTCTGTGTA\n3. TAACAAGGACCCTGTGTA\n</code></pre>\n\n<p>Now I have a <strong>second file</strong> which includes a very large string. From this second file, I am only interested in extracting those <strong>sub-strings that match a new (second) regex which itself is dependent on my first regex in few sections</strong>. <em>Therefore, this second regex has to take into account the substrings matched in the first file and look at how they have matched to the first regex!</em></p>\n\n<p>Allow me, for the sake of simplicity, index my first regex for better illustration in this way:</p>\n\n<pre><code>first.regex.p1 = [ACGT]{1,12000}\nfirst.regex.p2 = (AAC)\nfirst.regex.p3 = [AG]{2,5}\nfirst.regex.p4 = [ACGT]{2,5}\nfirst.regex.p5 = (CTGTGTA)\n</code></pre>\n\n<p>Now my <strong>second (new) regex</strong> which will search the <strong>second text file</strong> and will be dependent on the results of the first regex (and how the substrings returned from the first file have matched the first regex) will be defined in the following way:</p>\n\n<blockquote>\n<pre><code>second.regex = (CTAAA)[AC]{5,100}(TTTGGG){**rule1**} (CTT)[AG]{10,5000}{**rule2**}\n</code></pre>\n</blockquote>\n\n<p>In here <strong>rule1</strong> and <strong>rule2</strong> are dependent on the matches coming from the first regex on the first file. Hence;</p>\n\n<pre><code>rule1 = look at the matched strings from file1 and complement the pattern of first.regex.p3 that is found in the matched substring from file1 (the complement should of course have the same length)\nrule2 = look at the matched strings from file1 and complement the pattern of first.regex.p4 that is found in the matched substring from file1 (the complement should of course have the same length)\n</code></pre>\n\n<p>You can see that second regex has sections that belong to itself (i.e. they are independent of any other file/regex), but it also has sections that are dependent on the results of the first file and the rules of the first regex and how each sub-string in the first file has matched that first regex!</p>\n\n<p>Now again for the sake of simplicity, I use the third matched substring from file1 (because it is shorter than the other two) to show you how a possible match from the second file looks like and how it satisfies the second regex:</p>\n\n<p>This is what we had from our first regex run through the first file:</p>\n\n<pre><code>3. TAACAAGGACCCTGTGTA\n</code></pre>\n\n<p>So in this match, we see that:</p>\n\n<pre><code>T has matched first.regex.p1\nAAC has matched first.regex.p2\nAAGGA has matched first.regex.p3\nCC first.regex.p4\nCTGTGTA has matched first.regex.p5\n</code></pre>\n\n<p>Now in our second regex for the second file we see that when looking for a substring that matches the second regex, we are dependent on the results coming from the first file (which match the first regex). Particularly we need to look at the matched substrings and complement the parts that matched first.regex.p3 and first.regex.p4 (<strong>rule1</strong> and <strong>rule2</strong> from second.regex).</p>\n\n<pre><code>complement means:\nA will be substituted by T\nT -&gt; A\nG -&gt; C\nC -&gt; G\n</code></pre>\n\n<p>So if you have TAAA, the complement will be ATTT.</p>\n\n<p>Therefore, going back to this example:</p>\n\n<ol start=\"3\">\n<li>TAACAAGGACCCTGTGTA</li>\n</ol>\n\n<p>We need to complement the following to satisfy the requirements of the second regex:</p>\n\n<pre><code>AAGGA has matched first.regex.p3\nCC first.regex.p4\n</code></pre>\n\n<p>And complements are:</p>\n\n<pre><code>TTCCT (based on rule1)\nGG (based on rule2)\n</code></pre>\n\n<p>So an example of a substring that matches second.regex is this:</p>\n\n<p>CTAAAACACCTTTGGG<strong>TTCCT</strong>CTTAAAAAAAAAGGGGGAGAGAGAAGAAAAAAAGAGAG<strong>GG</strong></p>\n\n<p>This is only one example! But in my case I have 12000 matched substrings!! I cannot figure out how to even approach this problem. I have tried writing pure regex but I have completely failed to implement anything that properly follows this logic.. Perhaps I shouldn't be even using regex?</p>\n\n<p>Is it possible to do this entirely with regex? Or should I look at another approach? Is it possible to index a regex and in the second regex reference back to the first regex and force the regex to consider the matched substrings as returned by first regex?</p>\n"}, {"tags": ["perl", "binary", "hex"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1505115699, "post_id": 46150184, "comment_id": 79262545, "body": "It looks like you&#39;re trying to learn Perl. Please always <code>use strict</code> and <code>use warnings</code>. Those pragmas will help you find mistakes faster as Perl will complain about more things."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7391072, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1243472112402966/picture?type=large", "display_name": "Himanshu Gupta", "link": "https://stackoverflow.com/users/7391072/himanshu-gupta"}, "edited": false, "score": 0, "creation_date": 1505120312, "post_id": 46150554, "comment_id": 79265148, "body": "Thanks alot.  Can you tell me how can I store the hex value in a variable? $hex_value = %X($num) will work??"}, {"owner": {"reputation": 33, "user_id": 7391072, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1243472112402966/picture?type=large", "display_name": "Himanshu Gupta", "link": "https://stackoverflow.com/users/7391072/himanshu-gupta"}, "edited": false, "score": 0, "creation_date": 1505120410, "post_id": 46150554, "comment_id": 79265219, "body": "I am trying to learn Perl.  Can you please explain how this line works?  $num |= 1 &lt;&lt; ( $_ - 1 ) for @bits_plus_1;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 33, "user_id": 7391072, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1243472112402966/picture?type=large", "display_name": "Himanshu Gupta", "link": "https://stackoverflow.com/users/7391072/himanshu-gupta"}, "edited": false, "score": 0, "creation_date": 1505154811, "post_id": 46150554, "comment_id": 79286539, "body": "Use <code>sprintf</code> instead of <code>printf</code> to grab the string instead of printing it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 33, "user_id": 7391072, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1243472112402966/picture?type=large", "display_name": "Himanshu Gupta", "link": "https://stackoverflow.com/users/7391072/himanshu-gupta"}, "edited": false, "score": 0, "creation_date": 1505154882, "post_id": 46150554, "comment_id": 79286573, "body": "<code>1 &lt;&lt; ( $_ - 1 )</code> creates a number that has bit <code>$_ - 1</code> set. These numbers are &quot;merged together&quot; using bitwise-ORed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1505115984, "last_edit_date": 1505115984, "creation_date": 1505115674, "answer_id": 46150554, "question_id": 46150184, "link": "https://stackoverflow.com/questions/46150184/perl-create-a-binary-number-and-convert-it-into-hex/46150554#46150554", "title": "Perl: Create a binary number and convert it into hex", "body": "<p><code>[ ]</code> creates an array and returns a reference to that array, so you are assigning a single scalar to (poorly named) <code>@x</code>.</p>\n\n<p>You are also misusing <code>join</code>. Always use <code>use strict; use warnings qw( all );</code>! It would have caught this error.</p>\n\n<p>Fixed:</p>\n\n<pre><code>my @bits = ( 1, 3, 7 );\n\nmy $num = 0;\n$num |= 1 &lt;&lt; $_ for @bits;\n                                           #   76543210\nprintf(\"0b%b\\n\", $num);                    # 0b10001010\nprintf(\"0x%X\\n\", $num);                    # 0x8A\n</code></pre>\n\n<p>It seems that you want <code>0b1000101</code>, so we need to correct the indexes.</p>\n\n<pre><code>my @bits_plus_1 = ( 1, 3, 7 );\n\nmy $num = 0;\n$num |= 1 &lt;&lt; ( $_ - 1 ) for @bits_plus_1;\n                                           #   6543210\nprintf(\"0b%b\\n\", $num);                    # 0b1000101\nprintf(\"0x%X\\n\", $num);                    # 0x45\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 1, "last_activity_date": 1505115699, "creation_date": 1505115699, "answer_id": 46150558, "question_id": 46150184, "link": "https://stackoverflow.com/questions/46150184/perl-create-a-binary-number-and-convert-it-into-hex/46150558#46150558", "title": "Perl: Create a binary number and convert it into hex", "body": "<p>A few problems:</p>\n\n<ul>\n<li><p><code>@x = [ 1, 3, 7 ];</code> is not an array of three integers. It's an array containing a single array reference. What you want is round brackets, not square brackets: <code>@x = ( 1, 3, 7 );</code></p></li>\n<li><p>The string returned by <code>join</code> is not assigned to <code>$z</code></p></li>\n</ul>\n\n<hr>\n\n<p>But even then your code is buggy:</p>\n\n<ul>\n<li><p>it appends a bit at the <em>end</em> of <code>$z</code>, not the beginning</p></li>\n<li><p>there's a trailing zero that has no business being there.</p></li>\n</ul>\n"}], "owner": {"reputation": 33, "user_id": 7391072, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1243472112402966/picture?type=large", "display_name": "Himanshu Gupta", "link": "https://stackoverflow.com/users/7391072/himanshu-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 46150554, "answer_count": 2, "score": 1, "last_activity_date": 1514237745, "creation_date": 1505114369, "last_edit_date": 1514237745, "question_id": 46150184, "link": "https://stackoverflow.com/questions/46150184/perl-create-a-binary-number-and-convert-it-into-hex", "title": "Perl: Create a binary number and convert it into hex", "body": "<p>I want to create a binary number from the given user input.</p>\n\n<p>Input - Array of number</p>\n\n<p>Output - Binary number</p>\n\n<p>A binary number should be created such that it has one on all the places which has been given as input.</p>\n\n<p>In the given case input is 1, 3, and 7 so my binary no should be <code>1000101</code>, so it has 1's on 1, 3 and 7 places from left.</p>\n\n<pre><code>@x = [ 1, 3, 7 ];\n$z = 0;\nfor( $i = 0; $i &lt; 10; $i++ ){\n    foreach $elem ( @x ){\n        if( $elem == $i ){\n            join( \"\", $z, 1 );\n        }\n        else{\n            join( \"\", $z, 0 );\n       }\n   }\n}\nprint \"Value of z: $z\";\n</code></pre>\n\n<p>After execution, I am getting the value of z as 0.</p>\n\n<p>I need to convert this binary to hexadecimal.</p>\n\n<p>Is there some function which converts binary to hexadecimal?</p>\n"}, {"tags": ["javascript", "html", "perl"], "comments": [{"owner": {"reputation": 875, "user_id": 4332208, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EmiAc.jpg?s=128&g=1", "display_name": "Sand", "link": "https://stackoverflow.com/users/4332208/sand"}, "edited": false, "score": 2, "creation_date": 1505108750, "post_id": 46148876, "comment_id": 79259253, "body": "Could you post your code as well ?"}, {"owner": {"reputation": 1, "user_id": 7820253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yp6Ab.jpg?s=128&g=1", "display_name": "mallocgowda", "link": "https://stackoverflow.com/users/7820253/mallocgowda"}, "reply_to_user": {"reputation": 875, "user_id": 4332208, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/EmiAc.jpg?s=128&g=1", "display_name": "Sand", "link": "https://stackoverflow.com/users/4332208/sand"}, "edited": false, "score": 0, "creation_date": 1505110521, "post_id": 46148876, "comment_id": 79259987, "body": "There is no code yet, for now its a thing that I need to do"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1505127106, "post_id": 46148876, "comment_id": 79269330, "body": "What have you tried? What problems are you having? Show us your code. If you don&#39;t have any code, then Stack Overflow isn&#39;t the right place for your question."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7820253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yp6Ab.jpg?s=128&g=1", "display_name": "mallocgowda", "link": "https://stackoverflow.com/users/7820253/mallocgowda"}, "edited": false, "score": 0, "creation_date": 1505110807, "post_id": 46149038, "comment_id": 79260112, "body": "Thank you for this hint , &#39;m trying to do this via a hyperlink, which leaves the page and once the value get searched and selected from a list, it needs to leave that page and fill the data in the original page where the link was accessed, this is possible?"}, {"owner": {"reputation": 1927, "user_id": 4060708, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5feea78eae6eac8efb6d9a3bba841ce1?s=128&d=identicon&r=PG&f=1", "display_name": "amdg", "link": "https://stackoverflow.com/users/4060708/amdg"}, "reply_to_user": {"reputation": 1, "user_id": 7820253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yp6Ab.jpg?s=128&g=1", "display_name": "mallocgowda", "link": "https://stackoverflow.com/users/7820253/mallocgowda"}, "edited": false, "score": 0, "creation_date": 1505111913, "post_id": 46149038, "comment_id": 79260560, "body": "Yes, it is. U can open a popup using myWindow = window.open(&quot;&lt;url&gt;&quot;, &quot;myWindow&quot;, &quot;width=100, height=100&quot;); When the value is selected from the list, u can write a function which will set the values in the original page using window.opener.document. Once the values are set, you can use myWindow.close(); to close the popup."}], "tags": [], "owner": {"reputation": 1927, "user_id": 4060708, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5feea78eae6eac8efb6d9a3bba841ce1?s=128&d=identicon&r=PG&f=1", "display_name": "amdg", "link": "https://stackoverflow.com/users/4060708/amdg"}, "is_accepted": false, "score": 0, "last_activity_date": 1505109438, "creation_date": 1505109438, "answer_id": 46149038, "question_id": 46148876, "link": "https://stackoverflow.com/questions/46148876/how-to-transfer-data-from-one-form-to-other-after-a-lookup-to-the-original-page/46149038#46149038", "title": "How to transfer data from one form to other (after a lookup to the original page where the request was made) Javascript and html", "body": "<p>We did it using <code>window.opener.document</code>.In JavaScript, the parent window elements can be accessed from the child window.</p>\n\n<p>Once, the value in the popup is selected, it can be set as follows</p>\n\n<pre><code>window.opener.document.getElementById(\"data\").value = &lt;selected value from popup&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7820253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yp6Ab.jpg?s=128&g=1", "display_name": "mallocgowda", "link": "https://stackoverflow.com/users/7820253/mallocgowda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1505109438, "creation_date": 1505108511, "question_id": 46148876, "link": "https://stackoverflow.com/questions/46148876/how-to-transfer-data-from-one-form-to-other-after-a-lookup-to-the-original-page", "title": "How to transfer data from one form to other (after a lookup to the original page where the request was made) Javascript and html", "body": "<p>Here is a situation, I have a page which has three text fields, and with default values, and a hyperlink to do a lookup of the database, and return parameters  back to the page where the hyperlink was accessed and the text box must be filled with the looked up data ? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1505082720, "post_id": 46146111, "comment_id": 79254078, "body": "The result/value of a comparison like your examples is boolean, usually you use it directly in e.g. an <code>if(...)</code> to control program flow. You can also store the result in a scalar variable, like you did, and then do  <code>if($rr)</code>. Printing booleans is most readable done as <code>if($rr) {print &quot;True&quot;} else {print &quot;False&quot;}</code>. Please provide more context on what you otherwise want to achieve."}, {"owner": {"reputation": 53, "user_id": 8589144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e57801bfd6826d7a6e259dbd474f460?s=128&d=identicon&r=PG&f=1", "display_name": "bilodeau1", "link": "https://stackoverflow.com/users/8589144/bilodeau1"}, "reply_to_user": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 2, "creation_date": 1505083017, "post_id": 46146111, "comment_id": 79254127, "body": "@Yunnosch Thanks for your comment. However, it doesn&#39;t really answer my question as to what the scalar variable holds. As you know, there is no &quot;boolean&quot; type in Perl. It is well-known many numbers and strings evaluate to false, but does one know what exactly is stored in $rr? Is it implementation-dependent?"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1505110495, "post_id": 46146111, "comment_id": 79259972, "body": "I know that there is no boolean type in Perl and did not intend to say so. Admittedly, my &quot;Printing booleans...&quot; could be read like that, but if was meant as short for &quot;visualising such boolean results...&quot;. The &quot;output of a comparison&quot; is still boolean, i.e. part of boolean logic. The fact that they are stored as described in the good answer is what I learned here. I comented instead of answering because I was clear, that I coudl not aswer the specific &quot;how is it stored&quot; question. Thanks for the question."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8589144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e57801bfd6826d7a6e259dbd474f460?s=128&d=identicon&r=PG&f=1", "display_name": "bilodeau1", "link": "https://stackoverflow.com/users/8589144/bilodeau1"}, "edited": false, "score": 1, "creation_date": 1505083531, "post_id": 46146185, "comment_id": 79254222, "body": "Hmm...it seems to always be the empty string, even in the numeric context, no? Unless I misunderstood what you mean by numeric context, in my example, everything is numeric, yet it still returned the empty string (nothing was printed)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 53, "user_id": 8589144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e57801bfd6826d7a6e259dbd474f460?s=128&d=identicon&r=PG&f=1", "display_name": "bilodeau1", "link": "https://stackoverflow.com/users/8589144/bilodeau1"}, "edited": false, "score": 0, "creation_date": 1505083735, "post_id": 46146185, "comment_id": 79254251, "body": "@bilodeau1 In your code the only thing you do with <code>$rr</code> is to pass it to <code>print</code>, which uses it as a string. No numeric context here."}, {"owner": {"reputation": 53, "user_id": 8589144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e57801bfd6826d7a6e259dbd474f460?s=128&d=identicon&r=PG&f=1", "display_name": "bilodeau1", "link": "https://stackoverflow.com/users/8589144/bilodeau1"}, "edited": false, "score": 1, "creation_date": 1505084399, "post_id": 46146185, "comment_id": 79254376, "body": "melpomene, thanks. Reading the perldoc more carefully, I now understand what ysth meant. What is returned neither truly an empty string or 0, but a special &quot;dual&quot; character that acts like an empty string or the 0, depending on what&#39;s &quot;appropriate&quot;. I verified that $rr+1 does not issue a warning."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53, "user_id": 8589144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e57801bfd6826d7a6e259dbd474f460?s=128&d=identicon&r=PG&f=1", "display_name": "bilodeau1", "link": "https://stackoverflow.com/users/8589144/bilodeau1"}, "edited": false, "score": 2, "creation_date": 1505084883, "post_id": 46146185, "comment_id": 79254449, "body": "@bilodeau1, Compare <code>perl -we&#39;my $x = &quot;&quot; + 0;&#39;</code> and <code>perl -we&#39;my $x = (1&lt;0) + 0;&#39;</code> and you&#39;ll see it&#39;s not just an empty string."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 4, "last_activity_date": 1505082951, "creation_date": 1505082951, "answer_id": 46146185, "question_id": 46146111, "link": "https://stackoverflow.com/questions/46146111/perl-comparison-operator-output/46146185#46146185", "title": "Perl comparison operator output", "body": "<p><a href=\"http://perldoc.perl.org/perlop.html#Relational-Operators\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlop.html#Relational-Operators</a>:</p>\n\n<blockquote>\n  <p>Perl operators that return true or false generally return values that can be safely used as numbers. For example, the relational operators in this section and the equality operators in the next one return 1 for true and a special version of the defined empty string, \"\" , which counts as a zero but is exempt from warnings about improper numeric conversions, just as \"0 but true\" is.</p>\n</blockquote>\n\n<p>So it what is returned is something that is an empty string in string context, and 0 in numeric context.</p>\n"}], "owner": {"reputation": 53, "user_id": 8589144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e57801bfd6826d7a6e259dbd474f460?s=128&d=identicon&r=PG&f=1", "display_name": "bilodeau1", "link": "https://stackoverflow.com/users/8589144/bilodeau1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 1, "accepted_answer_id": 46146185, "answer_count": 1, "score": 5, "last_activity_date": 1505082951, "creation_date": 1505082235, "question_id": 46146111, "link": "https://stackoverflow.com/questions/46146111/perl-comparison-operator-output", "title": "Perl comparison operator output", "body": "<p>I am not exactly sure what the output of a comparison is. For instance, consider</p>\n\n<pre><code>$rr = 1&gt;2;\n$qq = 2&gt;1;\n\nprint $rr; #nothing printed\nprint $qq; #1 printed\n</code></pre>\n\n<p>Is <code>$rr</code> the empty string? Is this behavior documented somewhere? Or how can one tell for sure?</p>\n\n<p>I was looking for the answer in Learning Perl by Schwartz et al., but could not immediately resolve the answer.</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1505093413, "post_id": 46145924, "comment_id": 79255997, "body": "Why not use <a href=\"http://mojolicious.org/perldoc/Mojolicious/Command/daemon\" rel=\"nofollow noreferrer\"><code>daemon</code> command</a>, eg. <code>.&#47;myapp.pl daemon ...</code>, or <code>$daemon-&gt;run(@ARGV)</code> ?  Also: what happens when you run it the way you show?"}, {"owner": {"reputation": 73, "user_id": 1128792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/91f07514b04bad7a78e14de7f278b4d2?s=128&d=identicon&r=PG", "display_name": "user1128792", "link": "https://stackoverflow.com/users/1128792/user1128792"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1505097632, "post_id": 46145924, "comment_id": 79256705, "body": "Right now I run it from the DOS prompt and it runs in the foreground and I see the output of the activity. My expectations would be that when I start it from the DOS prompt that it would detach and run in the background allowing me to close the DOS prompt. I&#39;m using the start_app function because I&#39;m running Mojolicious from a class as a full app not lite app."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1505115428, "post_id": 46145924, "comment_id": 79262383, "body": "How do you run it? Please show the command line. To deploy a Mojo app, Mojolicious brings its own server called Hypnotoad. It not only goes into the backend, it also handles all kinds of multi-process behaviour automatically for you. As an alternative, you can also use a Plack based deployment and pick any PSGI server you want, like Twiggy, Gazelle or Starman, combined with either <code>plackup</code> or <code>server_starter</code> from Server::Starter."}, {"owner": {"reputation": 73, "user_id": 1128792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/91f07514b04bad7a78e14de7f278b4d2?s=128&d=identicon&r=PG", "display_name": "user1128792", "link": "https://stackoverflow.com/users/1128792/user1128792"}, "edited": false, "score": 0, "creation_date": 1505139232, "post_id": 46145924, "comment_id": 79277520, "body": "Hi simbabque, I run it like this. I cd to C:\\MyApp and then type script\\Myapp.pl"}, {"owner": {"reputation": 73, "user_id": 1128792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/91f07514b04bad7a78e14de7f278b4d2?s=128&d=identicon&r=PG", "display_name": "user1128792", "link": "https://stackoverflow.com/users/1128792/user1128792"}, "edited": false, "score": 0, "creation_date": 1505141129, "post_id": 46145924, "comment_id": 79278803, "body": "When I run hypnotoad script\\Myapp.pl I get the following error - Hypnotoad does not support fork emulation. So is Hypnotoad not supported on Windows?"}, {"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 1, "creation_date": 1505147578, "post_id": 46145924, "comment_id": 79282812, "body": "@user1128792 By default, you cannot use hypnotoad on Windows, but you can use <a href=\"https://metacpan.org/pod/Mojo::Server::Morbo\" rel=\"nofollow noreferrer\">morbo</a>.  According to the <a href=\"https://metacpan.org/pod/distribution/Mojolicious/lib/Mojolicious/Guides/FAQ.pod#How-well-is-Windows-supported-by-Mojolicious?\" rel=\"nofollow noreferrer\">Mojolicious Guides FAQ</a>, you can use hypnotoad on Windows if you have installed &quot;Windows Subsystem for Linux&quot;."}, {"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1505148018, "post_id": 46145924, "comment_id": 79283059, "body": "@simbabque The modules that you mentioned (Twiggy, Gazelle, Starman) do not have any &quot;Pass&quot; values listed under mswin32 column in CPANTesters.  In answering zdim&#39;s question, the OP mentioned running the code from a DOS prompt, which indicates that the OP is using Windows."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1505148383, "post_id": 46145924, "comment_id": 79283221, "body": "@dasgar true. But I think there are some Plack servers that run on Windows. It&#39;s just that it&#39;s really not the typical use case."}], "owner": {"reputation": 73, "user_id": 1128792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/91f07514b04bad7a78e14de7f278b4d2?s=128&d=identicon&r=PG", "display_name": "user1128792", "link": "https://stackoverflow.com/users/1128792/user1128792"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1505080473, "creation_date": 1505080473, "question_id": 46145924, "link": "https://stackoverflow.com/questions/46145924/perl-mojolicious-not-running-as-a-detached-process-on-windows-7-64bit", "title": "Perl Mojolicious not running as a detached process on Windows 7 64bit", "body": "<p>I'm not sure if this is an OS specific issue or not. How do you get Mojolicious  to detach and run in the background? I spent a lot of time writing this web app and now that I'm finished I can't get it to run in the background. What I'm I missing or not understanding about Mojolicious? -thanks </p>\n\n<pre><code>use strict;\nuse warnings;\n\nBEGIN {\n    push @ARGV, qw(\n          daemon -m production  -l http://127.0.0.1:3000\n    );\n}\n\nuse Mojolicious::Commands; \nMojolicious::Commands-&gt;start_app( MyApp =&gt; @ARGV);\n</code></pre>\n"}, {"tags": ["sql", "sqlite", "perl", "dbi", "sql-execution-plan"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1505083581, "post_id": 46144671, "comment_id": 79254232, "body": "Have you looked at the output of statistics_info ? Does it show the indexes?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1505105973, "post_id": 46144671, "comment_id": 79258366, "body": "Do you use transactions in <code>DBI::SQLite</code> case (and commit infrequently)?  Any difference in settings when you connect from the script?  (Are REGEXP involved by any chance?)"}, {"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 1, "creation_date": 1505117567, "post_id": 46144671, "comment_id": 79263525, "body": "What is the output of <code>SELECT sqlite_version();</code> in both cases?"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1532375304, "creation_date": 1505071391, "last_edit_date": 1532375304, "question_id": 46144671, "link": "https://stackoverflow.com/questions/46144671/why-does-dbdsqlite-have-a-different-query-plan-for-an-sql-statement", "title": "Why does DBD::SQLite have a different query plan for an SQL statement", "body": "<p>I have an <code>INSERT INTO... SELECT ... FROM</code> SQL statement that runs acceptably fast when executed from <code>SQLite's</code> command line shell.</p>\n\n<p>However, if I execute the same statement (copy/pasted) with Perl's <code>DBI::SQLite</code>, the statement becomes slow.</p>\n\n<p>The reason must be the execution plan: when I let the statement be explained from the shell and from within <code>DBI::SQLite</code>, they're different: the fast version uses the optimal indexes and table order, the slow version chooses to access the tables in a less than optimal way.</p>\n\n<p>So, I have two questions. </p>\n\n<ol>\n<li>Why is the plan different?</li>\n<li>How can I make the plan used in the Perl environment the same as in\nthe shell?</li>\n</ol>\n"}, {"tags": ["arrays", "perl", "default"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1505019984, "post_id": 46137418, "comment_id": 79237076, "body": "There is no single operator to use in place of <code>||</code> that would make that work as desired.  The closest I can think of is <code>(@ARGV ? @ARGV : qw(one two))</code>"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1505030205, "post_id": 46137418, "comment_id": 79238872, "body": "<a href=\"https://stackoverflow.com/q/16883923/133939\">Related question</a>"}], "answers": [{"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1505030245, "post_id": 46137508, "comment_id": 79238881, "body": "<code>@ARGV = @ARGV || qw( one two three );</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1505030761, "post_id": 46137508, "comment_id": 79239008, "body": "@Zaid <code>perl -wE&#39;@ary = qw(one two); say for (@ary = @ary || 1..3)&#39;</code> prints <code>2 3</code>"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1505031000, "post_id": 46137508, "comment_id": 79239077, "body": "Oh, I forgot to add the usage line: <code>say for @ARGV;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1505031603, "post_id": 46137508, "comment_id": 79239236, "body": "@Zaid  Meets a similar fate, per \u0421\u0443\u0445\u043e\u043927 link.  But this is fun:  <code>perl -wE&#39;@ary = qw(a b); @ary = @ary || 1..3; say for @ary&#39;</code> prints <code>2 3</code> while <code>perl -wE&#39;@ary = qw(a b); @ary = @ary || qw(1 2 3); say for @ary&#39;</code> prints <code>2</code>."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1595838216, "last_edit_date": 1595838216, "creation_date": 1505020466, "answer_id": 46137508, "question_id": 46137418, "link": "https://stackoverflow.com/questions/46137418/how-do-i-use-a-default-array-if-no-command-line-arguments-are-given/46137508#46137508", "title": "How do I use a default array if no command line arguments are given?", "body": "<p>The <a href=\"https://perldoc.perl.org/perlop.html#Logical-or-and-Exclusive-Or\" rel=\"nofollow noreferrer\"><code>||</code> operator</a> imposes the scalar context by the nature of what it does</p>\n<blockquote>\n<p>Binary <code>&quot;or&quot;</code> returns the <strong>logical</strong> disjunction of the two surrounding expressions. It's equivalent to <code>||</code> except for the very low precedence.</p>\n</blockquote>\n<p>(emphasis mine). Thus when its left-hand-side operand is an array it gets the array's length.</p>\n<p>However, if that's <code>0</code> then the right hand side is just evaluated</p>\n<blockquote>\n<p>This means that it short-circuits: the right expression is evaluated only if the left expression is false.</p>\n</blockquote>\n<p>what is spelled out in <a href=\"https://perldoc.perl.org/perlop.html#C-style-Logical-Or\" rel=\"nofollow noreferrer\">C-Style Logical Or in perlop</a></p>\n<blockquote>\n<p>Scalar or list context propagates down to the right operand if it is evaluated.</p>\n</blockquote>\n<p>so you get the list in that case.</p>\n<p>There is no operator that can perform what your statement desires. The closest may be</p>\n<pre><code>say for (@ARGV ? @ARGV : qw(one two));\n</code></pre>\n<p>but there are better and more systemic ways to deal with <code>@ARGV</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1505122447, "creation_date": 1505122447, "answer_id": 46152450, "question_id": 46137418, "link": "https://stackoverflow.com/questions/46137418/how-do-i-use-a-default-array-if-no-command-line-arguments-are-given/46152450#46152450", "title": "How do I use a default array if no command line arguments are given?", "body": "<p>Just write it as two lines.</p>\n\n<pre><code>@ARGV = qw[...] unless @ARGV;\nsay for @ARGV;\n</code></pre>\n"}], "owner": {"reputation": 248, "user_id": 3006604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a438c3ea2f0a9241554a5e9762e1384c?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/3006604/pascal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 1, "accepted_answer_id": 46137508, "answer_count": 2, "score": 8, "last_activity_date": 1595838216, "creation_date": 1505019323, "last_edit_date": 1505030086, "question_id": 46137418, "link": "https://stackoverflow.com/questions/46137418/how-do-i-use-a-default-array-if-no-command-line-arguments-are-given", "title": "How do I use a default array if no command line arguments are given?", "body": "<p>The below appears to work correctly if no command line arguments are given, but when they are all I get is the number of arguments supplied, not the arguments themselves.  It appears <code>@ARGV</code> is being forced scalar by <code>||</code>.  I've also tried using <code>or</code> and <code>//</code> with similar results.  What is the correct operator to use here?</p>\n\n<pre><code>say for @ARGV || qw/one two three/;\n</code></pre>\n"}, {"tags": ["perl", "spotify"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1505034746, "post_id": 46136199, "comment_id": 79239976, "body": "Does anything change if you do: <code>my $resp = $ua-&gt;post($SPOTIFY_URL_INCLUDING_TOKEN, &#39;Authorization&#39; =&gt; &#39;Basic MYBASE64HERE&#39;, Content =&gt; { grant_type =&gt; &#39;client_credentials&#39; });</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 424, "user_id": 2691732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c5b2d9aae7d942f7061319189d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Dangol", "link": "https://stackoverflow.com/users/2691732/sachin-dangol"}, "is_accepted": false, "score": 0, "last_activity_date": 1505034355, "creation_date": 1505034355, "answer_id": 46138999, "question_id": 46136199, "link": "https://stackoverflow.com/questions/46136199/sending-post-data-via-lwp-request-built-by-httprequest-for-spotify-api/46138999#46138999", "title": "Sending Post Data via LWP (Request built by HTTP::Request) for Spotify API", "body": "<p>I think following should work, Please try:\n<code>$req->content(grant_type => 'client_credentials');</code></p>\n"}, {"tags": [], "owner": {"reputation": 695, "user_id": 2843435, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/0f8805261b3b7ff8222dcbab949465f6?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2843435/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1505114061, "creation_date": 1505114061, "answer_id": 46150075, "question_id": 46136199, "link": "https://stackoverflow.com/questions/46136199/sending-post-data-via-lwp-request-built-by-httprequest-for-spotify-api/46150075#46150075", "title": "Sending Post Data via LWP (Request built by HTTP::Request) for Spotify API", "body": "<p>my $post_data = \"grant_type=client_credentials\";</p>\n\n<p>Turns out this is the answer. I'm not sure how I missed this previously.</p>\n"}], "owner": {"reputation": 695, "user_id": 2843435, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/0f8805261b3b7ff8222dcbab949465f6?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2843435/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1505114061, "creation_date": 1505002496, "question_id": 46136199, "link": "https://stackoverflow.com/questions/46136199/sending-post-data-via-lwp-request-built-by-httprequest-for-spotify-api", "title": "Sending Post Data via LWP (Request built by HTTP::Request) for Spotify API", "body": "<p>See: <a href=\"https://developer.spotify.com/web-api/authorization-guide/\" rel=\"nofollow noreferrer\">https://developer.spotify.com/web-api/authorization-guide/</a></p>\n\n<p>I'm using the \"client credentials flow\" method.</p>\n\n<pre><code>sub get_token {\n    my $req = HTTP::Request-&gt;new(POST =&gt; $SPOTIFY_TOKEN);\n    $req-&gt;header('Authorization' =&gt; 'Basic MYBASE64HERE');\n\n    my $post_data = 'grant_type=client_credentials';\n    $req-&gt;content($post_data);\n    my $resp = $ua-&gt;request($req); #this is LWP\n    if ($resp-&gt;is_success) {\n        my $token = $resp-&gt;decoded_content;\n        print \"$token\\n\";\n        return \\$token;\n    }\n    else {\n        print \"HTTP POST error code: \", $resp-&gt;code, \"\\n\";\n        print \"HTTP POST error message: \", $resp-&gt;message, \"\\n\";\n    }\n}\n</code></pre>\n\n<p>I get back <code>HTTP POST error code: 400 / bad request</code></p>\n\n<p>I know that it doesn't have to do with the header information or the URL. I tested via Curl and used Data::Dumper to verify it was formatted properly.</p>\n\n<p>I'm not sure on the format I need to send the POST body data. I've tried the example above <code>my $post_data = 'grant_type=client_credentials';</code> as well as every variation I could think of. Is there a proper way to do this in Perl using HTPP::Request to build the POST request?</p>\n"}, {"tags": ["perl", "http"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1504973512, "post_id": 46132533, "comment_id": 79227464, "body": "It gets stored in the <code>$filename</code> you give as second argument. If this is a relative name it is treated relative to the current working directory. But, why do you first do a GET and then to another GET (implicit inside <code>getstore</code>) instead just saving the response you&#39;ve already got?"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1504973605, "post_id": 46132533, "comment_id": 79227494, "body": "@SteffenUllrich That should be an (the) answer, maybe expanded with a suggestion to prepend the destination directory to <code>$filename</code>.  The question is marginal at best (answer really is &quot;read the docs&quot;) but it might help someone in the future."}, {"owner": {"reputation": 21, "user_id": 6789507, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7934eaa0a3cc7ce7742f42104eedf201?s=128&d=identicon&r=PG&f=1", "display_name": "Undead Left Click ", "link": "https://stackoverflow.com/users/6789507/undead-left-click"}, "edited": false, "score": 0, "creation_date": 1504973984, "post_id": 46132533, "comment_id": 79227619, "body": "the    $filename is koala1.jpg, i searched the working directory but i found nothing other than the perl file. The GET is just for me to confirm the code can get a connection to the url, that&#39;s what i think I&#39;m doing, I&#39;m very new to perl."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6789507, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7934eaa0a3cc7ce7742f42104eedf201?s=128&d=identicon&r=PG&f=1", "display_name": "Undead Left Click ", "link": "https://stackoverflow.com/users/6789507/undead-left-click"}, "edited": false, "score": 0, "creation_date": 1504974343, "post_id": 46132666, "comment_id": 79227737, "body": "the $filename is koala1.jpg, i searched the working directory but i found nothing other than the perl file."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 21, "user_id": 6789507, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7934eaa0a3cc7ce7742f42104eedf201?s=128&d=identicon&r=PG&f=1", "display_name": "Undead Left Click ", "link": "https://stackoverflow.com/users/6789507/undead-left-click"}, "edited": false, "score": 0, "creation_date": 1504974528, "post_id": 46132666, "comment_id": 79227787, "body": "@UndeadLeftClick: see edited response - the problem is probably that you&#39;ve left the newline at the end of the name."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1505000080, "last_edit_date": 1505000080, "creation_date": 1504973971, "answer_id": 46132666, "question_id": 46132533, "link": "https://stackoverflow.com/questions/46132533/where-does-perl-lwpsimple-getstore-save-the-image/46132666#46132666", "title": "Where does PERL LWP::Simple getstore save the image?", "body": "<p>According to\n<a href=\"https://metacpan.org/pod/LWP::Simple#getstore\" rel=\"nofollow noreferrer\">the documentation</a>,\n<code>getstore(url, file)</code> takes the URL as the first argument and the second argument is the file name where the result is stored. If the file name is a relative path (it doesn't begin with a slash <code>/</code>) it will be relative to the current working directory.</p>\n\n<p>But you read the name from a file and then treat the full line, including the newline character, as the file name. That's probably not what you want, so you should use <code>chomp</code> to remove the newline.</p>\n\n<p>Apart from that:</p>\n\n<ul>\n<li><p>You are doing first a <code>GET</code> request using <code>LWP::UserAgent</code> to retrieve the file but ignore the response and instead call <code>getstore</code> to retrieve and store the same resource if the first <code>GET</code> was successful. It would be simpler to either just save the result from the first <code>GET</code> or just skip it and use only <code>getstore</code>.</p></li>\n<li><p>You are using <code>DATA</code> as a file handle. While this is not wrong, <code>DATA</code> is already an implicit file handle which points to the program file after the <code>__DATA__</code> marker, so I recommend to use a different file handle.</p></li>\n</ul>\n\n<p>When using a simplified version of the code the file gets successfully stored:</p>\n\n<pre><code>use strict;\nuse warnings;    \n\nuse LWP::Simple;\n\nmy $url  = \"https://labs.jamesooi.com/images/\";\nmy $file = 'image-list.txt';\n\nopen (my $fh, '&lt;', $file) or die \"Could not open $file: $!\";\n\nwhile ( &lt;$fh&gt; ) {\n\n    chomp;  # remove the newline from the end of the line\n\n    my $link     = $url . $_;\n    my $filename = $_;\n\n    my $rc = getstore($link, $filename);\n\n    if (is_success($rc)) {\n        print \"Success\\n\";\n    }\n    else {\n        print \"Error\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6789507, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7934eaa0a3cc7ce7742f42104eedf201?s=128&d=identicon&r=PG&f=1", "display_name": "Undead Left Click ", "link": "https://stackoverflow.com/users/6789507/undead-left-click"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "accepted_answer_id": 46132666, "answer_count": 1, "score": -1, "last_activity_date": 1505000080, "creation_date": 1504973139, "question_id": 46132533, "link": "https://stackoverflow.com/questions/46132533/where-does-perl-lwpsimple-getstore-save-the-image", "title": "Where does PERL LWP::Simple getstore save the image?", "body": "<p>I am trying to use perl getstore to get a list of image from URL after reading a text file containing the file names, I created the code and able to run it successfully but I do not know where is the file saved, i checked the disk size it and shows that every time i run the code the hard disk free space decrease, so i assume there are file saved but I can't find it. So where does perl getstore save file and what is the correct way to save image from a link ?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\nuse LWP::Simple;\n\nmy $url = \"https://labs.jamesooi.com/images/\";\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;agent(\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36(KHTML, like Gecko) Chrome/59.0.3071.104 Safari/537.36\");\n\nmy $file = 'image-list.txt';\nopen (DATA, $file) or die \"Could not open $file: $!\";\n\nwhile(&lt;DATA&gt;){\n  my $link = \"$url\" . \"$_\";\n  my $filename = \"$_\";\n  print $link;\n  print $filename;\n\n  my $req = HTTP::Request-&gt;new(GET =&gt; $link);\n  my $res = $ua-&gt;request($req);\n  if($res-&gt;is_success){\n    my $rc = getstore($link, $filename);\n    if(is_success($rc)){\n      print \"Success\\n\";\n    }else{\n      print \"Error\\n\";\n    }\n  } else {\n    print $res-&gt;status_line, \"\\n\";\n  }\n}\n</code></pre>\n"}, {"tags": ["windows", "perl", "line"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504964167, "post_id": 46130170, "comment_id": 79224641, "body": "<i>&quot;But this is not what I want, and it seems unreasonable&quot;</i> Why do you think it unreasonable for perl to assume that it should read and write standard Windows files on a Windows systemunless you say otherwise?"}, {"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504965687, "post_id": 46130170, "comment_id": 79225086, "body": "Hi, @Borodin. Because perl done something implicitly, and I don&#39;t see any problem using <code>\\n</code> exclusively as newline on windows. Actually I set unix format as notepad++ default which is my main editor. This is critical for me, because I work on windows desktop and linux server at the same time."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504966111, "post_id": 46130170, "comment_id": 79225216, "body": "<i>&quot;I don&#39;t see any problem using \\n exclusively as newline on windows&quot;</i> You&#39;ll have to take that up with Microsoft. Windows has used CR LF as the line terminator since the very first version. Just because you would prefer it to work a different way doesn&#39;t mean it&#39;s a good idea for the whole world to change around you."}, {"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504966906, "post_id": 46130170, "comment_id": 79225443, "body": "Hi, @Borodin. Thank you for reply. My experience is that in linux many program will have problem with input file contain \\r. I recall that I actually didn&#39;t use command line things that much on windows. Maybe I am wrong. Could you give an example which \\n will cause problem in windows program?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1504967746, "post_id": 46130170, "comment_id": 79225741, "body": "<i>&quot;Could you give an example which \\n will cause problem in windows program?&quot;</i> It depends entirely on how each application is written, and you would have to test everything on Windows to make sure that it works correctly without CR characters in the data. The likely effect is that a program will find no line terminators in the file and so will read the whole thing as a single record. I know for a fact that Notepad will be unable to read the file properly, and there are probably many other examples. That will have many effects depending on the application, but most things will not work at all."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1504968005, "post_id": 46130170, "comment_id": 79225827, "body": "<i>&quot;I actually didn&#39;t use command line things that much on windows&quot;</i> Then it sounds like you&#39;re not really in a position to branch out and use a non-standard file format on Windows. I suggest you should wait until you&#39;re much more familiar with the system before making such an extreme decision."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1504968008, "post_id": 46130170, "comment_id": 79225829, "body": "Perhaps you need to as a question on Stack Overflow: &quot;Is there any problem with keeping all my files in Linux format on a Windows system?&quot;. You should also read <a href=\"https://blogs.msdn.microsoft.com/commandline/2016/11/17/do-not-change-linux-files-using-windows-apps-and-tools/\" rel=\"nofollow noreferrer\"><i>Do not change Linux files using Windows apps and tools</i></a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504973073, "post_id": 46130170, "comment_id": 79227329, "body": "Re &quot;<i>Could you give an example which \\n will cause problem in windows program?</i>&quot;, Try loading the file in <code>notepad</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1504958937, "post_id": 46130399, "comment_id": 79223144, "body": "Hi, birryree. Thank you so much for answering. But solutions sounds complicated. I forgot to ask why perl forces newline to \\r\\n on windows? It doesn&#39;t make sense, the command I provide to perl is nothing related to newline operation, it just done unnecessary stuff for me. And by the way, how to do inplace replacement?. I found -i.bak doesn&#39;t work."}, {"owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "reply_to_user": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1504959236, "post_id": 46130399, "comment_id": 79223228, "body": "@user15964 It&#39;s a Perl behavior that shows itself on Windows. Basically, when writing to a file on Windows, Perl will convert <code>\\n</code> to <code>\\r\\n</code> unless you use <code>binmode</code> and do what I show in my answer. You don&#39;t have to explicitly do anything for this automatic line-ending conversion to happen. Doing it in place with <code>binmode</code> is something I don&#39;t know how to do (and I don&#39;t have a running Windows set up so I couldn&#39;t test that anything I did there was correct)."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1504970138, "post_id": 46130399, "comment_id": 79226437, "body": "PowerShell needs operators for legacy piping and file redirection that simply set up the standard I/O handles for programs without inserting the shell as a middleman."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1504970456, "post_id": 46130399, "comment_id": 79226526, "body": "BTW, file I/O is binary in the Windows API, i.e. it doesn&#39;t do LF &lt;=&gt; CRLF conversions. It&#39;s Microsoft&#39;s C runtime that does that conversion for files opened in text mode. Does Perl use the CRT&#39;s POSIX compatibility API, or does it use the Windows API directly? In Python 3.x we still use the CRT, but just its low I/O functions (e.g. <code>_wopen</code>, <code>_write</code>) with all low I/O file descriptors opened in binary mode; buffered and text I/O objects are layered over the raw layer. Nonetheless we still default to using CRLF in text mode on Windows because it&#39;s the platform standard."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1504985075, "post_id": 46130399, "comment_id": 79230808, "body": "@eryksun: Please don&#39;t make this even more confused. What you say is very wrong; <b>CRT</b> is <i>not</i> a recognised abbreviation for the Microsoft C Run Time Library; and there&#39;s no reason to involve Python here. The only software that translates CR LF to and from LF is the perl compiler. The MS C run time library uses CR LF only to delimit lines of text. If you think you can help the OP then please write your own answer."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504985673, "post_id": 46130399, "comment_id": 79230972, "body": "@Borodin, birryree said &quot;prevents Windows from doing the automatic line-ending conversion&quot;, and <i>Windows</i> does no such thing. BTW, &quot;CRT&quot; is a very common abbreviation for &quot;C runtime&quot;, and I already clarified the context that I was talking about Microsoft&#39;s C runtime, which does LF =&gt;CRLF translation when files are opened in text mode."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1504986490, "post_id": 46130399, "comment_id": 79231198, "body": "@eryksun: You&#39;re making things worse. <i>&quot;Microsoft&#39;s C runtime, which does LF =&gt;CRLF translation when files are opened in text mode&quot;</i>. Again, this is completely untrue. The MS C run time library doesn&#39;t do any translation at all. Please stop spreading misinformation just to hide your embarrassment. Python does the same thing as Perl, so you should be familiar with this."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504986962, "post_id": 46130399, "comment_id": 79231320, "body": "@birryree: I think the mention of PowerShell detracts from your answer. The OP hasn&#39;t mentioned PowerShell at all, and it&#39;s safe to assume that they&#39;re working with a cmd window."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504987784, "post_id": 46130399, "comment_id": 79231527, "body": "@Borodin, I suppose you&#39;ve never used the CRT&#39;s low I/O layer in one of its <i>translated</i> text modes, e.g. <code>_O_TEXT</code>, <code>_O_WTEXT</code>, <code>_O_U16TEXT</code>, or <code>_O_U8TEXT</code>. These modes not only translate LF to CRLF when writing strings to a file, but also for <code>FILE</code> streams text mode interprets &quot;\\x1A&quot; (i.e. Ctrl+Z) as EOF when reading a file. The sources for the C runtime are published, so this is not a debatable matter."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1504988231, "post_id": 46130399, "comment_id": 79231651, "body": "@eryksun: Please stop it. You wrote <i>&quot;Microsoft&#39;s C runtime, which does LF =&gt;CRLF translation when files are opened in text mode&quot;</i> and said nothing about <b><i>using the low-level IO layer in a translated text mode</i></b>. That&#39;s also clearly not what you meant at the time. You were wrong; stop digging."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504988927, "post_id": 46130399, "comment_id": 79231844, "body": "@Borodin, all text modes in Microsoft&#39;s CRT are <i>translated</i> text modes. The high-level <code>FILE</code> stream API (e.g. <code>fopen</code>, <code>fread</code>, <code>frwrite</code>) is layered on top of the &quot;low I/O&quot; layer (e.g. <code>_open</code>, <code>_read</code>, <code>_write</code>), which provides basic POSIX compatibility and maps POSIX file descriptors (e.g. 0, 1, 2) to Windows File handles. Windows itself (e.g. <code>CreateFile</code>, <code>ReadFile</code>, <code>WriteFile</code>) implements binary I/O; it does no LF =&gt; CRLF translation."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1504990182, "post_id": 46130399, "comment_id": 79232161, "body": "@Borodin, I made a small correction to birryree&#39;s answer and then asked a question about how Perl is implemented to see to what extent this is 3rd party behavior (i.e. based on Microsoft&#39;s C runtime text mode, which Python 2 also uses) vs specifically chosen behavior. For the latter I gave an example from my own experience with Python 3&#39;s decision to default to translating newlines to CRLF on Windows even though it no longer uses the CRT&#39;s text mode."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "reply_to_user": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1505000691, "post_id": 46130399, "comment_id": 79234456, "body": "@user15964, Strawberry Perl is a Windows distribution, so by default it does the right thing for Windows files.  There might well be a distribution corresponding to whichever bash you&#39;re using, or you could build one from source if you wanted."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1505000719, "post_id": 46130399, "comment_id": 79234466, "body": "@Borodin, eryksun is absolutely right about the Microsoft CRT, it does indeed do CRLF/LF translation.  Perl might or might not be using this functionality but it definitely exists."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1505001308, "post_id": 46130399, "comment_id": 79234573, "body": "@HarryJohnston: The C run time library <code>stdio</code> provided by Microsoft does no character conversion; it can&#39;t because its behaviour is part of the C standard. Yes, there are libraries that do convert between CR LF and LF\u2014I could write one myself\u2014but they&#39;re completely irrelevant because Perl doesn&#39;t use them, and this is a question about Perl. At build time, Perl does its best to replace even <code>stdio</code> by its own faster library, so not even <code>stdio</code> is relevant. What is <i>&quot;beside the point&quot;</i> is that there are other libraries somewhere that alter the characters read from a file."}, {"owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1505001510, "post_id": 46130399, "comment_id": 79234602, "body": "@Borodin thank you for the edit and suggestions - I removed the Powershell portion as it was probably a little confusing and unnecessary."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1505001760, "post_id": 46130399, "comment_id": 79234654, "body": "@HarryJohnston: What <b>eryksun</b> originally wrote is <i>&quot;\t BTW, file I/O is binary in the Windows API, i.e. it doesn&#39;t do LF &lt;=&gt; CRLF conversions. It&#39;s Microsoft&#39;s C runtime that does that conversion for files opened in text mode&quot;</i>, and that&#39;s incorrect and misleading."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1505001797, "post_id": 46130399, "comment_id": 79234662, "body": "@Borodin, the C run time library <code>stdio</code> provided by Microsoft <i>does</i> do character conversion.  See <a href=\"https://msdn.microsoft.com/en-us/library/yeby3zcb.aspx\" rel=\"nofollow noreferrer\">fopen</a>: &quot;In text mode, carriage return\u2013linefeed combinations are translated into single linefeeds on input, and linefeed characters are translated to carriage return\u2013linefeed combinations on output. &quot;  If you think that violates the standard, argue with Microsoft, but note that <a href=\"http://www.cplusplus.com/reference/cstdio/fopen/\" rel=\"nofollow noreferrer\">the reference at cplusplus.com</a> also says that character conversion may occur."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1505001903, "post_id": 46130399, "comment_id": 79234678, "body": "(The two sentences of eryksun&#39;s you quote are only tangentially relevant to the OP, but they&#39;re not incorrect.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1505003030, "post_id": 46130399, "comment_id": 79234865, "body": "@HarryJohnston: &quot;the C run time library stdio provided by Microsoft does do character conversion&quot;* I didn&#39;t realise that Microsoft had screwed up even <code>stdio</code>, but <code>t</code> is an <i>invalid character</i> in the <code>mode</code> string for ISO C, and the call should throw an <code>EINVAL</code> error if you use it. They could at least have had an <code>_fopen</code> or similar to add custom functionality. <i>&quot;The two sentences of eryksun&#39;s you quote are only tangentially relevant to the OP&quot;</i> That&#39;s not true. It is <b><i>not</i></b> the C library that does the conversion in the OP&#39;s situation and many others, and it&#39;s irrelevant that it <i>can</i>."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1505004198, "post_id": 46130399, "comment_id": 79235026, "body": "@Borodin, it was relevant to point out that Windows isn&#39;t doing the conversion, since at the time the answer incorrectly claimed that it was.  Eryksun then goes on to ask whether Perl is using the Microsoft CRT to do the conversion or not.  I can see that the second sentence in the comment at issue could be misinterpreted, but it seems to me that you&#39;re making way too much of a fuss about it.  Never mind; I just wanted to make a factual correction, and that&#39;s (almost) done."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1505004651, "post_id": 46130399, "comment_id": 79235080, "body": "... footnote 271 in the WG14 draft of C11 explicitly permits implementations to support additional characters in the <code>mode</code> string.  I don&#39;t know for certain how far back that goes, but I think it has always been permitted.  And of course the <code>b</code> option is explicitly listed, and without it the implementation is explicitly permitted to perform character conversion (paragraph 7.12.2.2)."}], "tags": [], "owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "is_accepted": false, "score": 2, "last_activity_date": 1505029958, "last_edit_date": 1505029958, "creation_date": 1504958163, "answer_id": 46130399, "question_id": 46130170, "link": "https://stackoverflow.com/questions/46130170/how-to-prevent-n-to-from-being-translated-to-r-n-on-windows/46130399#46130399", "title": "How to prevent \\n to from being translated to \\r\\n on Windows", "body": "<p>This is standard behavior of Perl on Windows (to convert <code>\\n</code> to <code>\\r\\n</code>).</p>\n\n<p>You can get around it by using <a href=\"http://perldoc.perl.org/functions/binmode.html\" rel=\"nofollow noreferrer\"><code>binmode</code></a>, which prevents Perl from doing the automatic line-ending conversion.</p>\n\n<p>Your command would then be changed to look like this. It tells <code>binmode</code> to write to <code>STDOUT</code> and then that output has to be redirected to another file. The following command should do what you want (though not in place):</p>\n\n<pre><code>perl -pe \"BEGIN{ binmode(STDOUT) } s/aaa/bbb/g\" test.txt &gt; newtest.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1504968601, "post_id": 46131675, "comment_id": 79225999, "body": "Hi, Borodin. Thank you so much for your answer and various suggestions. But I just tried <code>perl -Mopen=IO,raw -i.bak -pe &quot;s&#47;aaa&#47;bbb&#47;g&quot; test.txt</code> and <code>set PERLIO=raw &amp;&amp; perl -i.bak -pe &quot;s&#47;ibrav&#47;lll&#47;g&quot; 0.txt</code>. But they didn&#39;t work, resulted file also becomes &#39;\\r\\n&#39;."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1504967615, "last_edit_date": 1504967615, "creation_date": 1504967184, "answer_id": 46131675, "question_id": 46130170, "link": "https://stackoverflow.com/questions/46130170/how-to-prevent-n-to-from-being-translated-to-r-n-on-windows/46131675#46131675", "title": "How to prevent \\n to from being translated to \\r\\n on Windows", "body": "\n\n<p><em>\"Actually I set unix format as notepad++ default which is my main editor\"</em> I think you should make the effort the keep files with the correct line endings for the appropriate system. You won't make any friends if you keep Linux files everywhere, as it will make it very hard for others to work with your non-standard methodology</p>\n\n<p>It isn't very hard to work with both systems properly, as all you have to do is to make the change automatically when copying from one system to another. You can use <code>dos2unix</code> and <code>unix2dos</code> when making the copy, but it would be a simple job to write a Perl program to update all of your systems with the relevant version of the text files</p>\n\n<p>However, if you insist on this plan, this should help you to achieve it</p>\n\n<p>By default, when running on Windows, perl will use the IO layers <code>:unix</code> and <code>:crlf</code>, which means it works the same as on a Linux system but will translate CRLF to LF on input, and LF to CRLF on output</p>\n\n<p>You can make individual <code>open</code> calls behave differently by adding an explicit pseudo-layer <code>:raw</code>, which removes the <code>:crlf</code> layer. But if you want to modify the special file handles<code>STDIN</code>, <code>STDOUT</code> and <code>ARGV</code> then you need a different tactic, because those handles are opened for you by perl</p>\n\n<p>You can use the <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\"><code>open</code></a> pragma at the top of your program, like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use open IO =&gt; ':raw';\n</code></pre>\n\n<p>which will implicitly apply the <code>:raw</code> layer to every input or output file handle, including the special handles. You can set this from the command line by using</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -Mopen=IO,raw program.pl\n</code></pre>\n\n<p>Or you can set the <code>PERLIO</code> environment variable</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>set PERLIO=raw\n</code></pre>\n\n<p>which will affect every program run henceforth from the same cmd window</p>\n"}], "owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1505029958, "creation_date": 1504956494, "last_edit_date": 1504963262, "question_id": 46130170, "link": "https://stackoverflow.com/questions/46130170/how-to-prevent-n-to-from-being-translated-to-r-n-on-windows", "title": "How to prevent \\n to from being translated to \\r\\n on Windows", "body": "<p>I am using Windows 10 and Strawberry Perl </p>\n\n<p>It is well know that the line terminator in Linux is <code>\\n</code>, and in Windows is <code>\\r\\n</code>.</p>\n\n<p>I found that, on my computer, files of Linux type will automatically transform to windows type <code>\\r\\n</code> after a replacement operation like</p>\n\n<pre><code>perl -i.bak -pe \"s/aaa/bbb/g\" test.txt\n</code></pre>\n\n<p>But this is not what I want, and it seems unreasonable. I would like to know if this is a Strawberry Perl issue, or another factor?</p>\n\n<p>How can I leave the line terminator unaffected on Windows?</p>\n"}, {"tags": ["regex", "perl", "regex-recursion"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504888547, "post_id": 46120425, "comment_id": 79204552, "body": "Do you want to match what&#39;s inside the blocks recursively? Or merely to get <code>int max...</code>, and what&#39;s inside the top-level <code>{ }</code>, and <code>&#47;&#47; more stuff</code>?"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504888598, "post_id": 46120425, "comment_id": 79204579, "body": "I just want <code>int max...</code> and to ignore the stuff in <code>{ }</code> and then capture <code>&#47;&#47; more stuff</code>"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504888631, "post_id": 46120425, "comment_id": 79204602, "body": "I want <code>$code_block</code> to match everything inside of <code>{ }</code> but not capture anything."}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504887030, "post_id": 46120593, "comment_id": 79203748, "body": "I do use the variable, it&#39;s right before the <code>DEFINE</code> statement."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504887688, "post_id": 46120593, "comment_id": 79204111, "body": "@tjwrona1992 I edited my answer to include the proper regex to capture the comments following code blocks"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504887770, "post_id": 46120593, "comment_id": 79204149, "body": "The thing is, I am using the <code>s</code> modifier which means it should just capture everything. And that captures it in the <code>$code_block</code> regex. I want to capture it outside in the regex that uses <code>$code_block</code>"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504888309, "post_id": 46120593, "comment_id": 79204426, "body": "This proposed solution captures <code>$2</code> within <code>$code_block</code>. If I did this I could change my <code>if</code> statement to <code>if ($text =~ m&#47;(.+?)$code_block&#47;s) { print $1; print $2; }. I&#39;m trying to keep </code>$code_block` generic so I don&#39;t want to move any of the capture logic inside."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504888383, "post_id": 46120593, "comment_id": 79204468, "body": "Your example of my code running successfully also moves the capture logic into the <code>$code_block</code> regex which is exactly what I&#39;m trying to avoid. I don&#39;t want anything captured within <code>$code_block</code> I want to capture the groups in the regular expression that uses <code>$code_block</code> like so <code>$text =~ &#47;(.+?)$code_block(.+)&#47;</code> &lt;-- both capture groups occur outside of the defined <code>$code_block</code> expression."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504888547, "post_id": 46120593, "comment_id": 79204550, "body": "If I move the capture logic inside, then <code>$code_block</code> is no longer generic because it is doing more work than just matching a code block."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504890597, "post_id": 46120593, "comment_id": 79205522, "body": "@tjwrona1992 I edited my answer. I have added a new method to doing your regex. See my explanation for more info"}], "tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": false, "score": 1, "last_activity_date": 1504890104, "last_edit_date": 1504890104, "creation_date": 1504886920, "answer_id": 46120593, "question_id": 46120425, "link": "https://stackoverflow.com/questions/46120425/capturing-text-before-and-after-a-c-style-code-block-with-a-perl-regular-express/46120593#46120593", "title": "Capturing text before and after a C-style code block with a Perl regular expression", "body": "<p>You're very close.</p>\n\n<p><code>(?(DEFINE))</code> will define the expression &amp; parts you want to use but it doesn't actually do anything other than define them. Think of this tag (and everything it envelops) as you defining variables. That's nice and clean, but defining the variables doesn't mean the variables get used!</p>\n\n<p>You want to use the code block after defining it so you need to add the expression after you've declared your variables (like in any programming language)</p>\n\n<pre><code>(?(DEFINE)\n  (?&lt;block&gt;\\{(?:[^{}]++|(?&amp;block))*\\})\n)\n(?&amp;block)\n</code></pre>\n\n<p>This part defines your <em>variables</em></p>\n\n<pre><code>(?(DEFINE)\n  (?&lt;block&gt;\\{(?:[^{}]++|(?&amp;block))*\\})\n)\n</code></pre>\n\n<p>This part calls your <em>variables</em> into use.</p>\n\n<pre><code>(?&amp;block)\n</code></pre>\n\n<hr>\n\n<h2>Edits</h2>\n\n<h3>Edit 1</h3>\n\n<pre><code>(?(DEFINE)\n  (?&lt;block&gt;\\{(?:[^{}]++|(?&amp;block))*\\})\n)\n(?&amp;block)\\s*(?:\\/\\/|\\/\\*)([\\s\\S]*?)(?:\\r\\n|\\r|\\n|$)\n</code></pre>\n\n<p>The regex above will get the comment after a block (as you've already defined).</p>\n\n<p>You had a <code>.</code> which will match any character (except newline - unless you use the <code>s</code> modifier which specifies that <code>.</code> should also match newline characters)</p>\n\n<h3>Edit 2</h3>\n\n<pre><code>(?(DEFINE)\n  (?&lt;block&gt;\\{(?:[^{}]++|(?&amp;block))*\\})\n)\n(?&amp;block)\\s*(?:(?:\\/\\/([\\s\\S]*?)(?:\\r\\n|\\r|\\n|$))|\\/\\*([\\s\\S]*?)\\*\\/)\n</code></pre>\n\n<p>This regex is more syntactically correct for capturing comments. The previous edit will work with <code>/*</code> up until a new line or end of file. This one will work until the closing tag or end of file.</p>\n\n<h3>Edit 3</h3>\n\n<p>As for your code not working, I'm not exactly sure. You can see your code running <a href=\"https://regex101.com/r/0MfRvg/1\" rel=\"nofollow noreferrer\">here</a> and it seems to be working just fine. I would use one of the regular expressions I've written above instead.</p>\n\n<h3>Edit 4</h3>\n\n<p>I think I finally understand what you're saying. What you're trying to do is impossible with regex. You cannot reference a group without capturing it, therefore, the only true solution is to capture it. There is, however, a hack-around alternative that works for your situation. If you want to grab the first and last sections without the second section you can use the following regex, which, will not check the second section of your regex for proper syntax (downside). If you do need to check the syntax you're going to have to deal with there being an additional capture group.</p>\n\n<pre><code>(.+?)\\{.*\\}\\s*(?:(?:\\/\\/([\\s\\S]*?)(?:\\r\\n|\\r|\\n|$))|\\/\\*([\\s\\S]*?)\\*\\/)\n</code></pre>\n\n<p>This regex captures everything before the <code>{</code> character, then matches everything after it until it meets <code>}</code> followed by any whitespace, and finally by <code>//</code>. This, however, will break if you have a comment within a block of code (after a <code>}</code>)</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504895973, "post_id": 46121634, "comment_id": 79208035, "body": "@tjwrona1992  I added another short way, using <code>Text::Balanced</code>"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504896038, "post_id": 46121634, "comment_id": 79208069, "body": "Thanks @zdim, that looks useful :) I&#39;ve been trying to figure out how to use that module."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504900359, "post_id": 46121634, "comment_id": 79209987, "body": "@tjwrona1992  Great :).  I rearranged it and cleaned up a little."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1506554038, "last_edit_date": 1506554038, "creation_date": 1504891133, "answer_id": 46121634, "question_id": 46120425, "link": "https://stackoverflow.com/questions/46120425/capturing-text-before-and-after-a-c-style-code-block-with-a-perl-regular-express/46121634#46121634", "title": "Capturing text before and after a C-style code block with a Perl regular expression", "body": "<p>There are also ready tools that can be leveraged for this, in a few lines of code.</p>\n\n<p>Perhaps the first module to look at is the core <a href=\"http://perldoc.perl.org/Text/Balanced.html\" rel=\"nofollow noreferrer\">Text::Balanced</a>. </p>\n\n<p>The <code>extract_bracketed</code> in list context returns: matched substring, remainder of the string after the match, and the substring before the match. Then we can keep matching in the remainder</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Text::Balanced qw/extract_bracketed/;\n\nmy $text = 'start {some {stuff} one} and {more {of it} two}, and done';\n\nmy ($match, $lead);\nwhile (1) {\n    ($match, $text, $lead) = extract_bracketed($text, '{', '[^{]*');\n    say $lead // $text;\n    last if not defined $match; \n}\n</code></pre>\n\n<p>what prints</p>\n\n<pre>\nstart \n and \n, and done\n</pre>\n\n<p>Once there is no match we need to print the remainder, thus <code>$lead // $text</code> (as there can be no <code>$lead</code> either). The code uses <code>$text</code> directly and modifies it, down to the last remainder; if you'd like to keep the original text save it away first.</p>\n\n<p>I've used a made-up string above, but I tested it on your code sample as well.</p>\n\n<hr>\n\n<p>This can also be done using <a href=\"http://search.cpan.org/~abigail/Regexp-Common-2017060201/lib/Regexp/Common.pm\" rel=\"nofollow noreferrer\">Regexp::Common</a>.</p>\n\n<p>Break the string using its <code>$RE{balanced}</code> regex, then take odd elements</p>\n\n<pre><code>use Regexp::Common qw(balanced);\n\nmy @parts = split /$RE{balanced}{-parens=&gt;'{}'}/, $text;\n\nmy @out_of_blocks = @parts[  grep { $_ &amp; 1 } 1..$#parts ];\n\nsay for @out_of_blocks;\n</code></pre>\n\n<p>If the string starts with the delimiter the first element is an empty string, as usual with <code>split</code>.</p>\n\n<p>To clean out leading and trailing spaces pass it through <code>map { s/(^\\s*|\\s*$//gr }</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504892247, "post_id": 46121843, "comment_id": 79206268, "body": "You&#39;re right! It is in <code>$3</code>! I was not expecting that.... I now think I understand what you were saying in the other question about how it usually is more maintainable to put your defines at the end."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 4, "last_activity_date": 1504892106, "creation_date": 1504892106, "answer_id": 46121843, "question_id": 46120425, "link": "https://stackoverflow.com/questions/46120425/capturing-text-before-and-after-a-c-style-code-block-with-a-perl-regular-express/46121843#46121843", "title": "Capturing text before and after a C-style code block with a Perl regular expression", "body": "<p>Capture groups are numbered left-to-right in the order they occur in the regex, not in the order they are matched. Here is a simplified view of your regex:</p>\n\n<pre><code>m/\n  (.+?)  # group 1\n  (?:  # the $code_block regex\n    (?&amp;block)\n    (?(DEFINE)\n      (?&lt;block&gt; ... )  # group 2\n    )\n  )\n  (.+)  # group 3\n/xs\n</code></pre>\n\n<p>Named groups can also be accessed as numbered groups.</p>\n\n<p>The 2nd group is the <code>block</code> group. However, this group is only used as a named subpattern, not as a capture. As such, the <code>$2</code> capture value is undef.</p>\n\n<p>As a consequence, the text after the code-block will be stored in capture <code>$3</code>.</p>\n\n<p>There are two ways to deal with this problem:</p>\n\n<ul>\n<li><p>For complex regexes, only use named capture. Consider a regex to be complex as soon as you assemble it from regex objects, or if captures are conditional. Here:</p>\n\n<pre><code>if ($text =~ m/(?&lt;before&gt;.+?)$code_block(?&lt;afterwards&gt;.+)/s){\n    print $+{before};\n    print $+{afterwards};\n}\n</code></pre></li>\n<li><p>Put all your defines at the end, where they can't mess up your capture numbering. For example, your <code>$code_block</code> regex would only define a named pattern which you then invoke explicitly.</p></li>\n</ul>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 46121843, "answer_count": 3, "score": 6, "last_activity_date": 1506554038, "creation_date": 1504886349, "last_edit_date": 1504887789, "question_id": 46120425, "link": "https://stackoverflow.com/questions/46120425/capturing-text-before-and-after-a-c-style-code-block-with-a-perl-regular-express", "title": "Capturing text before and after a C-style code block with a Perl regular expression", "body": "<p>I am trying to capture some text before and after a C-style code block using a Perl regular expression. So far this is what I have:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $text = &lt;&lt; \"END\";\nint max(int x, int y)\n{\n    if (x &gt; y)\n    {\n        return x;\n    }\n    else\n    {\n        return y;\n    }\n}\n// more stuff to capture\nEND\n\n# Regex to match a code block\nmy $code_block = qr/(?&amp;block)\n(?(DEFINE)\n    (?&lt;block&gt;\n        \\{                # Match opening brace\n            (?:           # Start non-capturing group\n                [^{}]++   #     Match non-brace characters without backtracking\n                |         #     or\n                (?&amp;block) #     Recursively match the last captured group\n            )*            # Match 0 or more times\n        \\}                # Match closing brace\n    )\n)/x;\n\n# $2 ends up undefined after the match\nif ($text =~ m/(.+?)$code_block(.+)/s){\n    print $1;\n    print $2;\n}\n</code></pre>\n\n<p>I am having an issue with the 2nd capture group not being initialized after the match. Is there no way to continue a regular expression after a <code>DEFINE</code> block? I would think that this should work fine.</p>\n\n<p><code>$2</code> should contain the comment below the block of code but it doesn't and I can't find a good reason why this isn't working.</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1504880790, "post_id": 46118713, "comment_id": 79199955, "body": "Because this is no module but part of the perl-5.8.9 source tree?"}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 3, "last_activity_date": 1504880929, "creation_date": 1504880929, "answer_id": 46118803, "question_id": 46118713, "link": "https://stackoverflow.com/questions/46118713/cannot-install-from-cpan-perl/46118803#46118803", "title": "Cannot install from CPAN (Perl)", "body": "<p><code>perlcc</code> is not a module. It is a command line executable. </p>\n\n<p>Look at the page you link to:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FUUXt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FUUXt.png\" alt=\"image\"></a></p>\n\n<p>\u2026 it is part of Perl itself.</p>\n\n<p>Searching for <em>perlcc</em> using Google turned up <a href=\"http://www.perlmonks.org/?node_id=654568\" rel=\"nofollow noreferrer\">this page</a> which says:</p>\n\n<blockquote>\n  <p>perlcc has been removed from Perl effective Perl 5.10. It and the underlying modules have always been out of date, broken and unmaintained.</p>\n</blockquote>\n\n<p>So you could install an old version of Perl (<a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a> might help there) to get access to it.</p>\n\n<p>That page also says:</p>\n\n<blockquote>\n  <p>Reini Urban has since fixed it and has been maintaining it as part of <a href=\"http://search.cpan.org/~rurban/B-C-1.55/lib/B/C.pm\" rel=\"nofollow noreferrer\">B::C</a></p>\n</blockquote>\n\n<p>So you could look at installing that instead.</p>\n"}, {"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 1, "last_activity_date": 1504896501, "last_edit_date": 1504896501, "creation_date": 1504881911, "answer_id": 46119106, "question_id": 46118713, "link": "https://stackoverflow.com/questions/46118713/cannot-install-from-cpan-perl/46119106#46119106", "title": "Cannot install from CPAN (Perl)", "body": "<p>The <code>cpan</code> tool expects you to specify a <em>module name</em> or a <em>distribution name</em> in order to find the correct distribution. <code>perlcc</code> is not a module, but the name of an executable script.</p>\n\n<p>To find the module name, search for the executable on <a href=\"https://metacpan.org\" rel=\"nofollow noreferrer\">https://metacpan.org</a>. This brings us to the <a href=\"https://metacpan.org/pod/distribution/B-C/script/perlcc.PL\" rel=\"nofollow noreferrer\"><code>perlcc</code> documentation</a>. In the top left there is the distribution name (e.g. <code>B-C-1.55</code>). When we click on it we get a list of all modules in the distribution \u2013 any of them should work. In particular, <code>cpan&gt; install B::C</code> should be able to find the correct distribution.</p>\n\n<p>However, I wouldn't hold my breath for that tool. The test results are rather mixed, with no successful tests above perl v5.24.2 and very mixed results under previous versions. You might be more interested in R. Urban's controversial <a href=\"https://github.com/perl11/cperl\" rel=\"nofollow noreferrer\">cperl</a> fork of Perl.</p>\n"}], "owner": {"reputation": 20623, "user_id": 3522130, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f83ceae9da7eb5d15dba167d1ff9357e?s=128&d=identicon&r=PG&f=1", "display_name": "rnso", "link": "https://stackoverflow.com/users/3522130/rnso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1221, "favorite_count": 0, "accepted_answer_id": 46118803, "answer_count": 2, "score": 1, "last_activity_date": 1504896501, "creation_date": 1504880658, "last_edit_date": 1504881463, "question_id": 46118713, "link": "https://stackoverflow.com/questions/46118713/cannot-install-from-cpan-perl", "title": "Cannot install from CPAN (Perl)", "body": "<p>I am trying to install <a href=\"http://search.cpan.org/~nwclark/perl-5.8.9/utils/perlcc.PL#NAME\" rel=\"nofollow noreferrer\">perlcc module</a> using cpan: </p>\n\n<pre><code>cpan[1]&gt; install perlcc\nReading '/home/iuser/.local/share/.cpan/Metadata'\n  Database was generated on Fri, 08 Sep 2017 12:41:02 GMT\nWarning: Cannot install perlcc, don't know what it is.\nTry the command\n\n    i /perlcc/\n\nto find objects with matching identifiers.\n\ncpan[2]&gt; i /perlcc/\nNo objects found of any type for argument /perlcc/\n\ncpan[3]&gt; \n</code></pre>\n\n<p>Why is this module not getting installed even when search page is showing it to be there? How can this problem be solved?</p>\n"}, {"tags": ["regex", "perl", "regex-recursion"], "comments": [{"owner": {"reputation": 21876, "user_id": 1678362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba023d18099cde022b9e4394d5714c0?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1678362/aaron"}, "edited": false, "score": 0, "creation_date": 1504879644, "post_id": 46118290, "comment_id": 79199155, "body": "Maybe a version problem, <code>(?R)</code> requires Perl 5.10+"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504879712, "post_id": 46118290, "comment_id": 79199204, "body": "@ Aaron, I have version 5.20"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1504879750, "post_id": 46118290, "comment_id": 79199235, "body": "@anubhava, the recursive expression seems to work on it&#39;s own, but not inside the <code>if</code> statement with more added to it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1504879782, "post_id": 46118290, "comment_id": 79199265, "body": "You might enjoy <a href=\"https://www.youtube.com/watch?v=ob6YHpcXmTg\" rel=\"nofollow noreferrer\">this talk</a> by Damian Conway, which explains how he wrote a single massive regex to parse Perl. Also look at his module PPR, which is on CPAN."}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504879952, "post_id": 46118418, "comment_id": 79199391, "body": "that works, but adds another problem. if I change my <code>if</code> statement to print <code>$1</code> and <code>$2</code> it will now print something for <code>$2</code>, but the way I&#39;m going to use this pattern having it capture a group internally can make the code that uses it confusing."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504880002, "post_id": 46118418, "comment_id": 79199423, "body": "I basically want to capture the codeblock and leave <code>$2</code> undefined so it only captures the groups that I explicitly ask for."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504880530, "post_id": 46118418, "comment_id": 79199786, "body": "@tjwrona1992 see my update \u2013 by using <code>(?(DEFINE) ...)</code> blocks you can structure your regex to avoid extra captures."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504880802, "post_id": 46118418, "comment_id": 79199961, "body": "Can you explain the <code>((?&amp;nestedbrace))</code>? Why is that needed before using `$define_nested_brace_re?"}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504881390, "post_id": 46118418, "comment_id": 79200366, "body": "@tjwrona1992 The <code>$define_nested_brace_re</code> pattern only defines a named subpattern. It does not match it by itself and does not capture the results. The <code>(?(DEFINE) \u2026)</code> is very much like a <code>sub</code> declaration. You could rewrite the pattern to define the pattern and also run it, but I find that defining and invoking subpatterns separately is more maintainable for large regexes."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504883659, "post_id": 46118418, "comment_id": 79201786, "body": "For this scenario I think defining and running it in one would be simpler as far as readability, but trying that I end up having another problem. I added an extra line to the text saying <code>more stuff</code> or something else random, then changed my expression to <code>if ($text =~ m&#47;int\\s(.+?)$regex(.+)&#47;s){ print $1; print $2; }</code> but after executing it I get an error saying <code>$2</code> is undefined."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504884867, "post_id": 46118418, "comment_id": 79202542, "body": "There is nothing obviously wrong with that regex. This might be an unrelated problem, and these comments are not a suitable place to debug it."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504885676, "post_id": 46118418, "comment_id": 79203014, "body": "Okay I think I may need to post a new question for this new problem, because it is really too much to describe here."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 6, "last_activity_date": 1504880483, "last_edit_date": 1504880483, "creation_date": 1504879724, "answer_id": 46118418, "question_id": 46118290, "link": "https://stackoverflow.com/questions/46118290/why-doesnt-this-recursive-regex-capture-the-entire-code-block/46118418#46118418", "title": "Why doesn&#39;t this recursive regex capture the entire code block?", "body": "<p><code>(?R)</code> recurses into the whole pattern \u2013 but what is the whole pattern? When you embed the quoted <code>$regex</code> into <code>/int\\s.+?($regex)/</code>, the pattern is recompiled and <code>(?R)</code> refers to the new pattern. That's not what you intended.</p>\n\n<p>I'd recommend you use named captures instead so that you can recurse by name. Change the <code>$regex</code> like</p>\n\n<pre><code>/(?&lt;nestedbrace&gt; ... (?&amp;nestedbrace) ...)/\n</code></pre>\n\n<p>If you want to avoid extra captures, you can use the <code>(?(DEFINE) ...)</code> syntax to declare named regex patterns that can be called later:</p>\n\n<pre><code>my $define_nestedbrace_re = qr/(?(DEFINE)\n  (?&lt;nestedbrace ... (?&amp;nestedbrace) ...)\n)/x;\n</code></pre>\n\n<p>Then: <code>/int\\s.+?((?&amp;nestedbrace))$define_nestedbrace_re/</code></p>\n\n<p>That won't create additional captures. However, it is not generally possible to write encapsulated regex fragments. Techniques like preferring named captures instead of numbered captures can help here.</p>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504880122, "post_id": 46118509, "comment_id": 79199507, "body": "This also works, but just like the other solution it causes the recursive pattern to capture an extra group that is visible from the outer pattern. so <code>if ($text =~ m&#47;int\\s.+?($regex)&#47;s)</code> will now capture something for <code>$1</code> as expected but also captures a value for <code>$2</code>."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504880170, "post_id": 46118509, "comment_id": 79199539, "body": "The way this will be used I may want to capture a group before it, and after it like so <code>if ($text =~ m&#47;int\\s(.+?)$regex(.+?)&#47;s) { print &quot;$1, $2&quot;; }</code> but now the second capture group will really be in <code>$3</code> which is really confusing."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1504880209, "post_id": 46118509, "comment_id": 79199564, "body": "Sorry I didn&#39;t get. There is only one capturing group here: <a href=\"https://regex101.com/r/lJ4bXk/3/\" rel=\"nofollow noreferrer\">regex101.com/r/lJ4bXk/3</a>"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 2, "creation_date": 1504880365, "post_id": 46118509, "comment_id": 79199668, "body": "I think what I&#39;m trying to ask in these comments should probably be a whole new question. These answers do what I asked in this question."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1504880304, "last_edit_date": 1504880304, "creation_date": 1504880018, "answer_id": 46118509, "question_id": 46118290, "link": "https://stackoverflow.com/questions/46118290/why-doesnt-this-recursive-regex-capture-the-entire-code-block/46118509#46118509", "title": "Why doesn&#39;t this recursive regex capture the entire code block?", "body": "<p>You can change your recursive pattern to this one:</p>\n\n<pre><code>/int\\s+.*?  (\n    \\{              # Match opening brace\n        (?:         # Start non-capturing group\n            [^{}]++ # Match non-brace chars without backtracking\n            |       # OR\n            (?-1)   # Recursively match the previous group\n        )*          # Match 0 or more times\n    \\}\n)/sx\n</code></pre>\n\n<ul>\n<li>Note use of <code>(?-1)</code> instead of <code>(?R)</code> that recurses whole matched pattern.</li>\n<li><code>(?-1)</code> is back-reference of previous capturing group.</li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/lJ4bXk/4\" rel=\"nofollow noreferrer\">Updated RegEx Demo</a></p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 46118418, "answer_count": 2, "score": 4, "last_activity_date": 1504880483, "creation_date": 1504879254, "question_id": 46118290, "link": "https://stackoverflow.com/questions/46118290/why-doesnt-this-recursive-regex-capture-the-entire-code-block", "title": "Why doesn&#39;t this recursive regex capture the entire code block?", "body": "<p>I'm trying to write a recursive regular expression to capture code blocks, but for some reason it seems to not be capturing them properly. I would expect the code below to capture the full body of the function, but instead it only captures the contents of the first <code>if</code> statement.</p>\n\n<p>It's almost like the <code>.+?</code> is somehow gobbling up the first <code>{</code>, but it's supposed to be non-greedy so I don't understand why it would.</p>\n\n<p>What is causing it to act this way?</p>\n\n<p><strong>Script:</strong></p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $text = &lt;&lt; \"END\";\nint max(int x, int y)\n{\n    if (x &gt; y)\n    {\n        return x;\n    }\n    else\n    {\n        return y;\n    }\n}\nEND\n\n# Regular expression to capture balanced \"{}\" groups\nmy $regex = qr/\n    \\{              # Match opening brace\n        (?:         # Start non-capturing group\n            [^{}]++ #     Match non-brace characters without backtracking\n            |       #     or\n            (?R)    #     Recursively match the entire expression\n        )*          # Match 0 or more times\n    \\}              # Match closing brace\n/x;\n\n# is \".+?\" gobbling up the first \"{\"?\n# What would cause it to do this?\nif ($text =~ m/int\\s.+?($regex)/s){\n    print $1;\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>{\n        return x;\n    }\n</code></pre>\n\n<p><strong>Expected Output:</strong></p>\n\n<pre><code>{\n    if (x &gt; y)\n    {\n        return x;\n    }\n    else\n    {\n        return y;\n    }\n}\n</code></pre>\n\n<p>I know that there is a <a href=\"http://search.cpan.org/~shay/Text-Balanced-2.03/lib/Text/Balanced.pm\" rel=\"nofollow noreferrer\"><code>Text::Balanced</code></a> module for this purpose, but I am attempting to do this by hand in order to learn more about regular expressions.</p>\n"}, {"tags": ["json", "xml", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1504878812, "post_id": 46118112, "comment_id": 79198579, "body": "Please always <code>use strict</code> and <code>use warnings</code> in your Perl code. Especially when asking for help here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504879057, "post_id": 46118112, "comment_id": 79198755, "body": "<code>$twig-&gt;print</code> prints a stringified XML version of the twig or tree, and returns the <code>$twig</code> object itself. So you are assigning <code>$twig</code> to <code>$output</code>. You then pass that object to JSON, which cannot convert it because it doesn&#39;t know what to do with a blessed data structure (i.e. an object). XML is way more complex than JSON can be, having an additional dimension. For your example there are already several ways to encode that in JSON. How do you want it to map?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1504879644, "creation_date": 1504879644, "answer_id": 46118389, "question_id": 46118112, "link": "https://stackoverflow.com/questions/46118112/perl-xmltwig-send-final-output-to-json/46118389#46118389", "title": "Perl XML::Twig send final output to JSON", "body": "<p><a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a> has <a href=\"https://metacpan.org/pod/XML::Twig#simplify-(%25options)\" rel=\"nofollow noreferrer\">a <code>simplify</code> method</a> that works similar to <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow noreferrer\">XML::Simple</a> (which should not be used!). You could use that, but it's not very helpful for your example.</p>\n\n<pre><code>my $json = JSON-&gt;new-&gt;allow_nonref;\nmy $pretty_printed = $json-&gt;pretty-&gt;encode( $twig-&gt;simplify );\n</code></pre>\n\n<p>This will output</p>\n\n<pre><code>\"10.20.200.11\"\n</code></pre>\n\n<p>That's valid JSON, but it's missing the <code>Servers</code>. I would expect something like</p>\n\n<pre><code>{ \"Servers\" =&gt; \"10.20.200.11\" }\n</code></pre>\n\n<p>In <a href=\"https://metacpan.org/pod/XML::Simple#KeepRoot-=%3E-1-%23-in+out-handy\" rel=\"nofollow noreferrer\">XML::Simple the <code>KeepRoot</code> option</a> would do that, and XML::Twig's doc claims one should look at XML::Simple's docs for the options to <code>simplify</code>.</p>\n\n<blockquote>\n  <p>Return a data structure suspiciously similar to XML::Simple's. Options are identical to XMLin options, see XML::Simple doc for more details (or use DATA::dumper or YAML to dump the data structure)</p>\n</blockquote>\n\n<p>However, it <a href=\"https://github.com/mirod/xmltwig/blob/master/Twig.pm#L7273\" rel=\"nofollow noreferrer\">does not allow</a> that option.</p>\n\n<hr>\n\n<p>A better plan might be to write your own code to allow for a conversion based specifically on the format you want.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 1128792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/91f07514b04bad7a78e14de7f278b4d2?s=128&d=identicon&r=PG", "display_name": "user1128792", "link": "https://stackoverflow.com/users/1128792/user1128792"}, "edited": false, "score": 0, "creation_date": 1504884093, "post_id": 46119138, "comment_id": 79202071, "body": "This worked like a charm $json-&gt;pretty-&gt;encode($twig-&gt;sprint); Thank you!!"}], "tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": true, "score": 0, "last_activity_date": 1504882005, "creation_date": 1504882005, "answer_id": 46119138, "question_id": 46118112, "link": "https://stackoverflow.com/questions/46118112/perl-xmltwig-send-final-output-to-json/46119138#46119138", "title": "Perl XML::Twig send final output to JSON", "body": "<pre><code> my $output = $twig-&gt;print;\n</code></pre>\n\n<p>I think you want </p>\n\n<pre><code> my $output = $twig-&gt;sprint;\n</code></pre>\n\n<p>there, so you get the string back instead of the twig object (thanks simbabque)</p>\n\n<p>this will just output the variable as a JSON string though, not generate a data structure from the XML</p>\n"}], "owner": {"reputation": 73, "user_id": 1128792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/91f07514b04bad7a78e14de7f278b4d2?s=128&d=identicon&r=PG", "display_name": "user1128792", "link": "https://stackoverflow.com/users/1128792/user1128792"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 46119138, "answer_count": 2, "score": 0, "last_activity_date": 1504883551, "creation_date": 1504878743, "last_edit_date": 1504883551, "question_id": 46118112, "link": "https://stackoverflow.com/questions/46118112/perl-xmltwig-send-final-output-to-json", "title": "Perl XML::Twig send final output to JSON", "body": "<p>I have the following code that erases the soap envelope and body of and XML string keeping the root and I want to take the final output and send to JSON. -thanks </p>\n\n<pre><code>use XML::Twig;\nuse JSON;\n\n$xml = '&lt;soap:Envelope&gt;&lt;Servers&gt;10.20.200.11&lt;/Servers&gt;&lt;/soap:Envelope&gt;';\n\nmy $twig = XML::Twig-&gt;new( twig_roots =&gt; { Servers =&gt; 1 },\n    twig_handlers =&gt; { \n        'soap:Envelope' =&gt; sub { $_-&gt;erase() },\n    },\n    pretty_print  =&gt; 'indented',\n );\n\n $twig-&gt;parse($xml); \n\n my $output = $twig-&gt;print;\n\n $json = JSON-&gt;new-&gt;allow_nonref;\n\n $pretty_printed = $json-&gt;pretty-&gt;encode($output); # &lt;-- This dosen't work!!\n\n # finally print json\n print $pretty_printed;\n\n\n\nSo if the XML looks like this - I added a node\n$xml = '&lt;Envelope&gt;&lt;Servers&gt;&lt;Server&gt;10.20.200.11&lt;/Server&gt;&lt;/Servers&gt;&lt;/Envelope&gt;';\n\nI would expect the JSON to look like this \n\n {\n   \"Servers\" : {\n        \"Server\" : \"10.20.200.11\"\n    }\n }\n</code></pre>\n"}, {"tags": ["arrays", "perl", "grep", "moose"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504875925, "post_id": 46117043, "comment_id": 79196602, "body": "I don&#39;t understand the question. What exactly do you want to do?"}, {"owner": {"reputation": 2156, "user_id": 7273347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/381f953406e0dc6301d1d0bdb6f95c24?s=128&d=identicon&r=PG&f=1", "display_name": "airborne", "link": "https://stackoverflow.com/users/7273347/airborne"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504876323, "post_id": 46117043, "comment_id": 79196845, "body": "I have one Array @ aIdentList with the identifiers and the other Array with the TestObject. I want to compare the identifiers in the first Array with the &quot;Identifier&quot; attributse in the second Array and get only the identifiers who are unique in @ aIdentList written in the @ unique Array."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1504876365, "creation_date": 1504876365, "answer_id": 46117347, "question_id": 46117043, "link": "https://stackoverflow.com/questions/46117043/using-listcompare-on-an-array-of-moose-objects/46117347#46117347", "title": "using List::Compare on an array of Moose Objects", "body": "<blockquote>\n<pre><code>\\@{(grep {$_-&gt;Identifier}@aArray1)}\n</code></pre>\n</blockquote>\n\n<p>This part is weird. You are trying to dereference a list via <code>@{}</code>. That doesn't work.</p>\n\n<p>The <code>grep</code> returns a list already. You do not need to use parenthesis <code>()</code> to construct a new list. Perl will ignore them. Then your <code>@{}</code> is simply wrong. You need a new array reference. That's <code>[]</code>. It will construct a new array ref from the list that <code>grep</code> returns. That's already enough to pass to <code>List::Compare-&gt;new</code>. The backslash <code>\\</code> is only needed if you want to take a reference of something, but you now already have a reference.</p>\n\n<p>But you actually do not want to <code>grep</code> here. You want to <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a>!</p>\n\n<p>This is what your code should look like.</p>\n\n<pre><code>List::Compare-&gt;new( '-u', \\@aIdentList,  [ map { $_-&gt;Identifier } @aArray1 ] )\n</code></pre>\n\n<p><code>grep</code> will filter out every element of the list you pass in where the block does not return a true value. Since all objects in <code>@aArray1</code> (typing this is horrible!) have an <code>Identifier</code> property, this will let all elements through. The second array ref arg to <code>new</code> will then be a list of objects. That's not what you want, because you'd be comparing apples to oranges.</p>\n\n<p>Instead, you need to use <code>map</code>, which will pass the return value of the block for each element. It's like an inline <code>foreach</code> loop. Then your second list will be the actual identifiers of the objects, and not the objects themselves.</p>\n"}], "owner": {"reputation": 2156, "user_id": 7273347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/381f953406e0dc6301d1d0bdb6f95c24?s=128&d=identicon&r=PG&f=1", "display_name": "airborne", "link": "https://stackoverflow.com/users/7273347/airborne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 46117347, "answer_count": 1, "score": 0, "last_activity_date": 1504876365, "creation_date": 1504875184, "question_id": 46117043, "link": "https://stackoverflow.com/questions/46117043/using-listcompare-on-an-array-of-moose-objects", "title": "using List::Compare on an array of Moose Objects", "body": "<p>this question succeeds the following question: <a href=\"https://stackoverflow.com/questions/46115644/moose-array-of-objects-loop-through-attribute/46115851?noredirect=1#comment79195422_46115851\">Moose: Array of Objects-&gt;loop through Attribute</a>\nI'm struggling to implement the grep syntax into a List::Compare Object:</p>\n\n<pre><code>my @aIdentList=(\"z003\",\"t302\",\"p032\");\nmy $lc=List::Compare-&gt;new('-u',\\@aIdentList,\\@{(grep {$_-&gt;Identifier}@aArray1)});\nmy @unique=$lc-&gt;get_unique;\n</code></pre>\n"}, {"tags": ["arrays", "perl", "attributes", "moose"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1504870974, "post_id": 46115644, "comment_id": 79193346, "body": "Don&#39;t name your class <i>Object</i>. That&#39;s really confusing!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1504871102, "post_id": 46115644, "comment_id": 79193441, "body": "I would say <i>don&#39;t use the smartmatch operator</i>. It&#39;s experimental and might change or get thrown out finally at some point."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1504872316, "post_id": 46115851, "comment_id": 79194250, "body": "&quot;Do not ever name a class anything with object.&quot; One of my first jobs was working on the database generation component of a data modelling tool. Our database had tables called &quot;database&quot;, &quot;table&quot; and &quot;column&quot;. It was <b>very</b> confusing!"}, {"owner": {"reputation": 2156, "user_id": 7273347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/381f953406e0dc6301d1d0bdb6f95c24?s=128&d=identicon&r=PG&f=1", "display_name": "airborne", "link": "https://stackoverflow.com/users/7273347/airborne"}, "edited": false, "score": 0, "creation_date": 1504873016, "post_id": 46115851, "comment_id": 79194713, "body": "@simbabque: Thx for your answer. Yes, I know the difference between class and object, just wrote this code snippet for posting on stackoverflow. Could you help me out with a similar issue? I&#39;m struggling to implement the grep syntax into a List::Compare Object: my $lc=List::Compare-&gt;new(&#39;-u&#39;,\\@aIdentList,\\@{(grep {$_-&gt;Identifier}@aArray1)});"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2156, "user_id": 7273347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/381f953406e0dc6301d1d0bdb6f95c24?s=128&d=identicon&r=PG&f=1", "display_name": "airborne", "link": "https://stackoverflow.com/users/7273347/airborne"}, "edited": false, "score": 1, "creation_date": 1504874055, "post_id": 46115851, "comment_id": 79195422, "body": "@airborne just ask a new question for that please."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2156, "user_id": 7273347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/381f953406e0dc6301d1d0bdb6f95c24?s=128&d=identicon&r=PG&f=1", "display_name": "airborne", "link": "https://stackoverflow.com/users/7273347/airborne"}, "edited": false, "score": 1, "creation_date": 1504880018, "post_id": 46115851, "comment_id": 79199427, "body": "@airborne: <i>&quot;I know the difference between class and object, just wrote this code snippet for posting on stackoverflow&quot;</i> How are we so special that we deserve the confusing version?"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1504871434, "creation_date": 1504871434, "answer_id": 46115851, "question_id": 46115644, "link": "https://stackoverflow.com/questions/46115644/moose-array-of-objects-loop-through-attribute/46115851#46115851", "title": "Moose: Array of Objects-&gt;loop through Attribute", "body": "<p>Do not do this with the smartmatch operator. It's experimental for a reason, and it might be removed from future Perl versions, or change the way it works, as it's done before.</p>\n\n<p>Instead, this can be achieved with a simple <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\"><code>grep</code></a>.</p>\n\n<pre><code>my @aArray1 = ( \n    TestObject-&gt;new(\"z003\"), \n    TestObject-&gt;new(\"t302\"),\n    TestObject-&gt;new(\"r002\"),\n);\n\nmy $sIdent = \"t302\";\nif ( grep { $_-&gt;Identifier eq $sIdent } @aArray1 ) {\n    print \"Element with Identifier\" . $sIdent . \" found.\";\n}\n</code></pre>\n\n<p>If you want that to be a bit shorter, you can also use <a href=\"https://metacpan.org/pod/List::Util#first\" rel=\"nofollow noreferrer\"><code>first</code> from List::Util</a>. This is a bit faster as it will stop looking after the first match.</p>\n\n<pre><code>use List::Util 'first';\nmy @aArray1 = ( \n    TestObject-&gt;new(\"z003\"), \n    TestObject-&gt;new(\"t302\"),\n    TestObject-&gt;new(\"r002\"),\n);\n\nmy $sIdent = \"t302\";\nif ( first { $_-&gt;Identifier eq $sIdent } @aArray1 ) {\n    print \"Element with Identifier\" . $sIdent . \" found.\";\n}\n</code></pre>\n\n<hr>\n\n<p>A few words of advice on your code:</p>\n\n<ul>\n<li>Do not ever name a class anything with <em>object</em>. It is going to confuse you, future you and the maintenance guy. If you do not understand the difference between <em>class</em> and <em>object</em>, read up on that please.</li>\n<li>Variable names and functions in Perl are always written in lower case by convention, and we use snake case. Camel case is reserved for package names.</li>\n</ul>\n"}], "owner": {"reputation": 2156, "user_id": 7273347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/381f953406e0dc6301d1d0bdb6f95c24?s=128&d=identicon&r=PG&f=1", "display_name": "airborne", "link": "https://stackoverflow.com/users/7273347/airborne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 46115851, "answer_count": 1, "score": 1, "last_activity_date": 1504871434, "creation_date": 1504870717, "question_id": 46115644, "link": "https://stackoverflow.com/questions/46115644/moose-array-of-objects-loop-through-attribute", "title": "Moose: Array of Objects-&gt;loop through Attribute", "body": "<p>I'm new to Perl Moose, and I'm trying to achieve this simple task. I have my Moose class \"TestObject\" defined:</p>\n\n<pre><code>package TestObject;\nuse Moose;\nuse namespace::autoclean;\n\nhas 'Identifier' =&gt; (is =&gt;'ro',isa=&gt;'Str');\n\naround BUILDARGS =&gt; sub\n{\n    my $orig = shift;\n    my $class = shift;\n\n    if ( @_ == 1 &amp;&amp; ! ref $_[0] ) {\n        return $class-&gt;$orig(Identifier =&gt; $_[0]);\n    }\n    else {\n        return $class-&gt;$orig(@_);\n    }\n};\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n1;\n</code></pre>\n\n<p>In another script I'm trying to access the attribute \"Identifier\" directly from an array of \"TestObjects\":</p>\n\n<pre><code>use TestObject;\nuse experimental 'smartmatch';\nmy @aArray1=(TestObject-&gt;new(\"z003\"),TestObject-&gt;new(\"t302\"),TestObject-&gt;new(\"r002\"));\nmy $sIdent=\"t302\";\nif($sIdent~~@aArray1-&gt;Identifier)\n{\n    print \"Element with Identifier\".$sIdent.\" found.\";\n}\n</code></pre>\n\n<p>This doesn't work. I could implement a workaround like this:</p>\n\n<pre><code>my @aIdent=();\nforeach my $sObject(@aArray1)\n{\n    push(@aIdent,$sObject-&gt;Identifier);\n}\nif($sIdent~~@aIdent)\n{\n    print \"Element with Identifier\".$sIdent.\" found.\";\n}\n</code></pre>\n\n<p>but that doesn't seem to be the most elegant solution. What is the most elegant solution to solve this problem?</p>\n"}, {"tags": ["bash", "perl", "ubuntu", "ssh"], "comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1504854946, "post_id": 46110013, "comment_id": 79183808, "body": "Are you having this issue only when running the script remotely? What happens when you run the <code>ps -ef</code> locally on that server?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504855531, "post_id": 46110013, "comment_id": 79184167, "body": "1) One thing that can hang here is the <code>ssh</code>.  Can you just ssh to that server from a Perl script and get anything back?   Did you try to print anything out of the <code>while</code> loop, after running <code>ssh</code>? For instance, the <code>$wsrep_check</code> variable? (2) Is this your complete script? Can there be more, that hangs after <code>while</code> completes?"}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1504855750, "post_id": 46110013, "comment_id": 79184285, "body": "The script runs on locally. The issue seems to be with ssh part."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504856395, "post_id": 46110013, "comment_id": 79184655, "body": "Can you try to add <code>print &quot;$wsrep_check\\n&quot;;</code> before the <code>if</code> statement and tell us what happens?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504856458, "post_id": 46110013, "comment_id": 79184690, "body": "What other things does your script do?  The code that is shown never deals with a database so there&#39;d be no reason to get <code>Connection ..closed</code>, as far as this code is concerned."}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1504859589, "post_id": 46110013, "comment_id": 79186450, "body": "@dzim it just hangs again. But if i remove the <code>ssh...</code> statement, i can test printing just fine. So the issue is with the way the ssh works i am guessing. And no, the code does not need to deal with a DB. Just need to know how to execute a bash command on a remote server from a perl script."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1504859686, "post_id": 46110013, "comment_id": 79186498, "body": "OK, thanks -- it appears that @Borodin figured it out.  You surely need to <code>chomp</code> that (and in my quick test <code>ssh</code> does hang with a newline following the hostname)."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1504862584, "post_id": 46110013, "comment_id": 79188312, "body": "Why are you assigning the chomped hostname to another scalar? just do <code>chomp ($hostname);</code>"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1504862923, "post_id": 46110013, "comment_id": 79188496, "body": "@TheGeorgia change the last part you edited to this: <code>while( my $hostname = &lt;$info&gt;)  {    chomp( $hostname );     my $wsrep_check = `ssh $hostname ls`;          if ( index($wsrep_check, &#39;State transfer in progress, setting sleep higher mysqld&#39;) != -1 ){             print &quot;$time: Server $hostname&quot;;        } last if $. == 2; }</code>"}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1504863071, "post_id": 46110013, "comment_id": 79188591, "body": "You are right Barnard. My bad. Have edited on my script already."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1504863097, "post_id": 46110013, "comment_id": 79188610, "body": "Ok so now your ssh should work."}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1504864965, "post_id": 46110013, "comment_id": 79189737, "body": "Thanks guys for all the help. Its working now."}], "answers": [{"comments": [{"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1504860970, "post_id": 46112048, "comment_id": 79187293, "body": "with your suggestions, it does not hang, but throws an error: /home/thegeorgia/.bashrc: line 2: /usr/local/bin/virtualenvwrapper.sh: No such file or directory"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1504861557, "post_id": 46112048, "comment_id": 79187694, "body": "@TheGeorgia: That is a problem with your <code>.bashrc</code>. You need to find where <code>virtualenvwrapper.sh</code> is on the relevant host and correct the path."}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1504862014, "post_id": 46112048, "comment_id": 79187972, "body": "Check my original post to see changes and current output please"}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1504862418, "post_id": 46112048, "comment_id": 79188212, "body": "you mean add on the local server, or remote servers?"}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1504865021, "post_id": 46112048, "comment_id": 79189770, "body": "chomp did the trick. Thanks @Borodin and everybody that provided feedback"}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1504865035, "post_id": 46112048, "comment_id": 79189776, "body": "I have posted the revised version now"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1504860104, "last_edit_date": 1504860104, "creation_date": 1504859418, "answer_id": 46112048, "question_id": 46110013, "link": "https://stackoverflow.com/questions/46110013/run-a-remote-bash-command-through-ssh/46112048#46112048", "title": "Run a remote bash command through ssh", "body": "\n\n<p>You need to</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>chomp $hostname;\n</code></pre>\n\n<p>before your ssh command to remove the trailing newline from the read</p>\n\n<p>I also suspect that your <code>last if $. == 2</code> should be <em>outside</em> the <code>if</code> block</p>\n\n<p>Perl has built-in support for regular expressions, so there is rarely any need for a call to <code>index</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>if ( index($wsrep_check, 'State transfer in progress, setting sleep higher mysqld') != -1 ) { ... }\n</code></pre>\n\n<p>would usually be written</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>if ( $wsrep_check =~ /State transfer in progress, setting sleep higher mysqld/ ) { ... }\n</code></pre>\n\n<p>but what you have written is fine</p>\n"}], "owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "accepted_answer_id": 46112048, "answer_count": 1, "score": 1, "last_activity_date": 1504865071, "creation_date": 1504852246, "last_edit_date": 1504865071, "question_id": 46110013, "link": "https://stackoverflow.com/questions/46110013/run-a-remote-bash-command-through-ssh", "title": "Run a remote bash command through ssh", "body": "\n\n<p>I have the following script that I plan to use to execute a bash command on a remote server. Every time this script runs it should check whether the remote MySQL (PXC) server is undergoing SST.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $time = localtime();\n\nmy $file = '/db-common-list/names.txt';\nopen my $info, $file or die \"Could not open $file: $!\";\n\nwhile ( my $hostname = &lt;$info&gt; )  {\n\n    my $wsrep_check = `ssh $hostname ps -ef |grep mysql | grep wsrep_sst_xtrabackup-v2`;\n\n    if ( index($wsrep_check, 'State transfer in progress, setting sleep higher mysqld') != -1 ) {\n        print \"$time: Server $hostname\";\n        last if $. == 2;\n    }\n}\n\nclose $info;\n</code></pre>\n\n<p>Inside <code>/db-common-list/names.txt</code> is a list of databases that the script should loop through line by line. So it looks something like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>db-test-1\ndb-test-2\ndb-test-3\ndb-test-4\n...\n</code></pre>\n\n<p>But when I run the script, the command line just hangs and never displays anything, at which point I have to manually force the script to stop executing. So after several minutes with nothing but the script just hanging in the terminal, I use Ctrl-D to stop the script and I get this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>thegeorgia@cron-db$ ./test.cron\nConnection to db-test-1 closed.\nConnection to db-test-2 closed.\nthegeorgia@cron-db$ ./test.cron\n</code></pre>\n\n<p>I can ssh and ping these remote as demonstrated below servers so thats not the issue for sure:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>thegeorgis@cron-db$ ping db-test-1\nPING db-test-1 (10.1.4.205) 56(84) bytes of data.\n64 bytes from db-test-1 (10.1.4.205): icmp_seq=1 ttl=64 time=0.263 ms\n64 bytes from db-test-1 (10.1.4.205): icmp_seq=2 ttl=64 time=0.222 ms \n</code></pre>\n\n<p>All servers involved are running Ubuntu.</p>\n\n<p>NOTE:\nAs suggested by Borodin, i added the chomp as follows:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>    while( my $hostname = &lt;$info&gt;)  {\n    my $server = chomp( $hostname );\n    my $wsrep_check = `ssh $server ls`;\n         if ( index($wsrep_check, 'State transfer in progress, setting sleep higher mysqld') != -1 ){\n            print \"$time: Server $server\";\n       }\nlast if $. == 2;\n}\n</code></pre>\n\n<p>And when i run the perl script, i now get the following error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ssh: connect to host 1 port 22: Invalid argument\nssh: connect to host 1 port 22: Invalid argument\n</code></pre>\n\n<p>SOLUTION:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nmy $time = localtime();\nmy $file = '/db-common-list/names.txt';\nopen my $info, $file or die \"Could not open $file: $!\";\n\nwhile( my $hostname = &lt;$info&gt;)  {\n    chomp( $hostname );\n    my $wsrep_check = `ssh $hostname ps -ef |grep mysql | grep wsrep_sst_xtrabackup-v2`;\n         if ( $wsrep_check ne \"\" ){\n            print \"$time: Server $hostname\\n\";\n       }\n}\nclose $info;\n</code></pre>\n"}, {"tags": ["oracle", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504874629, "post_id": 46109738, "comment_id": 79195793, "body": "It is foolish to have both <code>RaiseError</code> and <code>PrintError</code> disabled, especially when you are having trouble with your program. That way you will get no notification of any errors that are encountered, and you will have to check for and handle all errors yourself. Disabling <code>AutoCommit</code> is also a little strange, and is normally used when you are trying to optimise working code or for advanced applications that need transactions."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7424453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bd05ea3c456dbd5cee2928a3cf2149?s=128&d=identicon&r=PG&f=1", "display_name": "Duy B&#249;i V\u0103n Kh&#225;nh", "link": "https://stackoverflow.com/users/7424453/duy-b%c3%b9i-v%c4%83n-kh%c3%a1nh"}, "edited": false, "score": 0, "creation_date": 1504866779, "post_id": 46110177, "comment_id": 79190877, "body": "oh the error is Can&#39;t call method &quot;execute&quot; on an undefined. But I don&#39;t know why sometimes it is run and not error"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 1, "user_id": 7424453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bd05ea3c456dbd5cee2928a3cf2149?s=128&d=identicon&r=PG&f=1", "display_name": "Duy B&#249;i V\u0103n Kh&#225;nh", "link": "https://stackoverflow.com/users/7424453/duy-b%c3%b9i-v%c4%83n-kh%c3%a1nh"}, "edited": false, "score": 0, "creation_date": 1504867707, "post_id": 46110177, "comment_id": 79191439, "body": "Change RaiseError value from 0 to 1, <code>RaiseError =&gt; 1</code>, it will give detailed reason why it is failing."}, {"owner": {"reputation": 1, "user_id": 7424453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bd05ea3c456dbd5cee2928a3cf2149?s=128&d=identicon&r=PG&f=1", "display_name": "Duy B&#249;i V\u0103n Kh&#225;nh", "link": "https://stackoverflow.com/users/7424453/duy-b%c3%b9i-v%c4%83n-kh%c3%a1nh"}, "edited": false, "score": 0, "creation_date": 1504925724, "post_id": 46110177, "comment_id": 79215972, "body": "After i changed as you suggested, it has error &quot;DBD::Oracle::db commit failed: ORA-03114: not connected to ORACLE (DBD ERROR: OCITransCommit)&quot;"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1504852988, "creation_date": 1504852988, "answer_id": 46110177, "question_id": 46109738, "link": "https://stackoverflow.com/questions/46109738/ora-03135-connection-lost-contact-when-prepare-sql-from-perl/46110177#46110177", "title": "ORA-03135: connection lost contact when prepare sql from Perl", "body": "<p>I do not have setup to test this, but I guess you are getting this error because you have prepared the query but didn't execute it:</p>\n\n<pre><code>$HNDL_TABLE-&gt;execute() or die \"Couldn't execute query: $Oracle_Dbh-&gt;errstr\";\n</code></pre>\n\n<p>Better to use placeholder <code>?</code> in query preparation and then execute with value:</p>\n\n<pre><code>$HNDL_TABLE = $Oracle_Dbh-&gt;prepare(\"select * from MMSC40_CDR where rownum&lt;=?\");\n$HNDL_TABLE-&gt;execute(1) or die \"Couldn't execute query: $Oracle_Dbh-&gt;errstr\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7424453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bd05ea3c456dbd5cee2928a3cf2149?s=128&d=identicon&r=PG&f=1", "display_name": "Duy B&#249;i V\u0103n Kh&#225;nh", "link": "https://stackoverflow.com/users/7424453/duy-b%c3%b9i-v%c4%83n-kh%c3%a1nh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504853139, "creation_date": 1504850967, "last_edit_date": 1504853139, "question_id": 46109738, "link": "https://stackoverflow.com/questions/46109738/ora-03135-connection-lost-contact-when-prepare-sql-from-perl", "title": "ORA-03135: connection lost contact when prepare sql from Perl", "body": "<p>I have a problem about connection to database.I execute command line as below:</p>\n\n<pre><code>$Oracle_Dbh = DBI-&gt;connect(\"dbi:Oracle:$two_task\", $Oracle_User, $Oracle_Password, \n     { RaiseError =&gt; 0 , AutoCommit =&gt; 0, PrintError =&gt; 0});\n$HNDL_TABLE = $Oracle_Dbh-&gt;prepare(\"select * from MMSC40_CDR where rownum&lt;=1\");\nmy $err=\"\";\nif(!$HNDL_TABLE){\n    $err = $Oracle_Dbh-&gt;errstr;\n    $exists = 0;\n}\n\nif (!$exists){\n    print \"error: $err\";\n}\n</code></pre>\n\n<p>Sometimes, it has a error occurred as below:</p>\n\n<pre><code>\"error: ORA-03135: connection lost contact Process ID: 8936 Session ID: 1585 Serial number: 27537 (DBD ERROR: error possibly near &lt;*&gt; indicator at char 11 in 'select * fr&lt;*&gt;om MMSC40_CDR where rownum&lt;=1')\"\n</code></pre>\n\n<p>and DBA checked not have any error in listener log from database.\nSo if anybody can resolve or find out the cause, please tell me.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53, "user_id": 6804908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e49096a7b3636481a885407cc4f66c2?s=128&d=identicon&r=PG&f=1", "display_name": "Megiddo", "link": "https://stackoverflow.com/users/6804908/megiddo"}, "edited": false, "score": 0, "creation_date": 1504823754, "post_id": 46105976, "comment_id": 79175143, "body": "With respect, I do not see the answer to my question in none of those 3 answers. I am asking for the logics of having to specify a max of occurrences when it does not work like that. Meaning that I want to match maximum 3 and the string has 4; I get TRUE and I assume that the maximum is 3. When in fact it is 4."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1504825577, "post_id": 46105976, "comment_id": 79175662, "body": "you are not matching the full string. <code>&#47;^x{2,3}$&#47;</code> would be false, whereas <code>&#47;^x{2,4}$&#47;</code> would be true. <code>&#47;x{2,3}&#47;</code> matches, <code>&#47;^x{2,3}y&#47;</code> would not even if you added a y to the end."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1504825917, "post_id": 46105976, "comment_id": 79175737, "body": "The first 2 characters of the strings are &#39;x&#39; characters so the regex matches i.e.: there is at least one point in the string that is followed by 2 or 3 &#39;x&#39;s. The fact that that point in the string is followed by even more &#39;x&#39;s is not prohibited by your regex."}, {"owner": {"reputation": 53, "user_id": 6804908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e49096a7b3636481a885407cc4f66c2?s=128&d=identicon&r=PG&f=1", "display_name": "Megiddo", "link": "https://stackoverflow.com/users/6804908/megiddo"}, "edited": false, "score": 0, "creation_date": 1504848495, "post_id": 46105976, "comment_id": 79180944, "body": "I now understand. Thank you. I am sorry but from the original (suggested) post, I did not understand this very issue. Sorry for the duplicate but I had to find a way to understand."}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 1, "creation_date": 1504914181, "post_id": 46105976, "comment_id": 79214186, "body": "another option is /x{2,3}[^x]/ , which means the next after the x{2,3} must not be x"}], "answers": [{"tags": [], "owner": {"reputation": 6777, "user_id": 5641244, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eWSvYZU4YDw/AAAAAAAAAAI/AAAAAAAAA1o/Cozm_nLgSEY/photo.jpg?sz=128", "display_name": "Levi Ramsey", "link": "https://stackoverflow.com/users/5641244/levi-ramsey"}, "is_accepted": true, "score": 1, "last_activity_date": 1505604528, "creation_date": 1505604528, "answer_id": 46259356, "question_id": 46105976, "link": "https://stackoverflow.com/questions/46105976/perl-regular-expressions-match-at-least-but-no-more-than/46259356#46259356", "title": "Perl regular expressions match at least but no more than", "body": "<p>Perl regexes are unanchored by default (this is not true of every regex implementation out there).  This means that if there's any substring of the input string that in your case has 2 or 3 x's, the match is successful.</p>\n\n<pre><code>my $seq= \"xxxx\";\nprint \"bingo!\" if ($seq =~ /^x{2,3}$/);\n</code></pre>\n\n<p>Will fail to match (the only strings it will match are \"xx\" and \"xxx\".</p>\n\n<p>Alternatively:</p>\n\n<pre><code>my $seq= \"xxxx\";\nprint \"bingo!\" if ($seq =~ /([^x]|^)x{2,3}([^x]|$)/);\n</code></pre>\n\n<p>Would also fail to match, but would match any string that had 2 or 3 consecutive x's, but not if those x's were part of a longer string of x's.</p>\n"}], "owner": {"reputation": 53, "user_id": 6804908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e49096a7b3636481a885407cc4f66c2?s=128&d=identicon&r=PG&f=1", "display_name": "Megiddo", "link": "https://stackoverflow.com/users/6804908/megiddo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 46259356, "answer_count": 1, "score": 0, "last_activity_date": 1505604528, "creation_date": 1504823175, "last_edit_date": 1504823925, "question_id": 46105976, "link": "https://stackoverflow.com/questions/46105976/perl-regular-expressions-match-at-least-but-no-more-than", "title": "Perl regular expressions match at least but no more than", "body": "<p>If \"a{m,n} = at least m but at most n a\u2019s\", why does the code returns true? </p>\n\n<pre><code>  my $seq= \"xxxx\";\n  print \"bingo!\" if ($seq =~ /x{2,3}/);\n</code></pre>\n\n<p>Since our n=3 and the string contains 4 x?\nI guess I am having troubles with the definition of <code>/a{m,n}/</code> with respect to n. After all, the point was to make sure we have max 3 x in the string...or?\nCan someone explain? \n I am asking for the logics of having to specify a max of occurrences when it does not work like that. Meaning that I want to match maximum 3 and the string has 4; I get TRUE and I assume that the maximum is 3. When in fact it is 4.\nThanks.</p>\n"}, {"tags": ["linux", "perl", "cwd"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1504811411, "post_id": 46103513, "comment_id": 79169820, "body": "Why the <code>eval</code> and <code>die</code> inside it? Why <code>our</code> and not <code>my</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504815506, "post_id": 46103513, "comment_id": 79171766, "body": "It would be tidier to make this an object-oriented module that subclassed <code>Net::SSH::Expect</code> rather than just a function library. But you&#39;ve done everything right with <code>Exporter</code> and that&#39;s unusual; well done."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504816546, "post_id": 46103513, "comment_id": 79172251, "body": "Although I don&#39;t understand how, it sounds like the module file is being found successfully in both cases (otherwise <code>use myRoutines</code> would fail). Have you found out why the <code>send</code> method call is failing? Is there a stray <code>myRoutines.pm</code> in the other directory you&#39;re running from? If <code>some command</code> generates output then you should use <code>read_all</code>or <code>read_line</code> to see any errors, or you can just use <code>exec</code> instead of <code>send</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504816611, "post_id": 46103513, "comment_id": 79172290, "body": "You should remove the <code>eval</code>, as it&#39;s preventing you from seeing any errors from the <code>login</code> call."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504816704, "post_id": 46103513, "comment_id": 79172337, "body": "<code>host =&gt; &quot;$adminServer&quot;</code> etc. should be <code>host =&gt; $adminServer</code>. The quotes are unnecessary at best, and may cause problems in some circumstances."}], "answers": [{"tags": [], "owner": {"reputation": 488, "user_id": 2482874, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/57d7366da5584bda643930c73c2bf485?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah Aziziyan", "link": "https://stackoverflow.com/users/2482874/sarah-aziziyan"}, "is_accepted": false, "score": -2, "last_activity_date": 1504811957, "creation_date": 1504811957, "answer_id": 46103665, "question_id": 46103513, "link": "https://stackoverflow.com/questions/46103513/module-cwd-assistance/46103665#46103665", "title": "Module cwd assistance", "body": "<p>The simple and easy way would be placing your <code>.pm</code> file in:\n <code>/usr/lib64/perl5/</code>\ndirectory and you shouldn't have any problems.\nBut still not the perfect solution, you should be able to put the <code>.pm</code> file wherever you want.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1504812920, "creation_date": 1504812920, "answer_id": 46103867, "question_id": 46103513, "link": "https://stackoverflow.com/questions/46103513/module-cwd-assistance/46103867#46103867", "title": "Module cwd assistance", "body": "<p>If you don't want to hardcode the directory, you can use</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib $RealBin;\n</code></pre>\n\n<p>(<code>$RealBin</code> is the path to the script. Adjust as needed if <code>myRoutines.pm</code> is in a subdir.)</p>\n"}], "owner": {"reputation": 1, "user_id": 8576400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8259e492d872e5d7bc26dba07c6abb8?s=128&d=identicon&r=PG", "display_name": "Kevin Martin", "link": "https://stackoverflow.com/users/8576400/kevin-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504905561, "creation_date": 1504811278, "last_edit_date": 1504905561, "question_id": 46103513, "link": "https://stackoverflow.com/questions/46103513/module-cwd-assistance", "title": "Module cwd assistance", "body": "<p>I created a Perl module that is to be used in many Perl scripts to use <a href=\"https://metacpan.org/pod/Net::SSH::Expect\" rel=\"nofollow noreferrer\"><code>Net::SSH::Expect</code></a>\nto do a login.</p>\n\n<pre><code>package myRoutines;\n#\nuse v5.22;\nuse strict;\nuse warnings;\n\nuse Net::SSH::Expect;\nuse Exporter qw(import);\nour @EXPORT_OK = qw(my_login);\n\nsub my_login {\n    my $user         = 'xxxx';\n    my $port         = '10000';\n    my $passwd       = 'XYZ';\n    my $adminServer  = 'myServer';\n    my $rootpassword = 'ABCDEF';\n\n    my ( $pName, $vName ) = @_;\n\n    our $ssh = Net::SSH::Expect-&gt;new(\n        host       =&gt; \"$adminServer\",\n        ssh_option =&gt; \"-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null\",\n        user       =&gt; \"$user\",\n        password   =&gt; \"$passwd\",\n        port       =&gt; \"$port\",\n        raw_pty    =&gt; 1,\n        restart_timeout_upon_receive =&gt; 1,\n        log_file                     =&gt; \"/var/tmp/clilog_$pName$vName\"\n    );\n\n    eval {\n\n        my $login_output = $ssh-&gt;login();\n\n        if ( $login_output !~ /&gt;/ ) {\n            die \"Login has failed.\n              Login output was $login_output\";\n        }\n    };\n\n    return $ssh;\n}\n\n1;\n</code></pre>\n\n<p>The scripts will do:</p>\n\n<pre><code>use myRoutines qw(my_login);\n\nour ( $ssh, $pName, $vName );\n\n$pName = 'abc';\n$vName = '123';\n\n$ssh = my_login( $pName, $vName );\n\n$ssh-&gt;send( \"some command\\r\" );\n</code></pre>\n\n<p>This all works if I'm in the directory that the script and module are in. If I'm in any other directory, the <code>new</code> call works but the call to <code>$ssh-&gt;send</code> does nothing.</p>\n\n<p>I've tried adding to my script:</p>\n\n<pre><code>use lib '/some/dir'; \n</code></pre>\n\n<p>(where the .pm file resides) to force it find the module, and that seems to work when I'm not in the directory where the pm file resides.</p>\n\n<p>I've tried to:</p>\n\n<pre><code>use File::chdir;\n$CWD = '/some/dir'; \n</code></pre>\n\n<p>and again, the login seems to work but the next send does nothing. So I'm at a loss as to what might be happening and would like some advice.</p>\n\n<p>Update 20170908:</p>\n\n<p>Upon further playing and following the suggestions made, I've done the following and it now works:</p>\n\n<p>removed the eval as it was unnecessary.\nremoved the our's and made it my's.\nremoved the \"\"'s </p>\n\n<p>set the following in the script:</p>\n\n<pre><code>use File::Basename;\nuse Cwd qw( abs_path );\nchdir \"/some/dir\";\nuse lib dirname(abs_path($0));\nmy $scriptName = basename($0);\nuse myRoutines qw(ovm_login);\nmy $pName = substr($scriptName,0,-3);   (cutting off the .pl from the end of the script name to pass the scriptname as the pName)\n</code></pre>\n\n<p>using chdir to change directory to where my pl script and pm file is and then setting the lib is seemingly working as it should.</p>\n\n<p>Borodin, I'm not sure I understand your meaning when you say to object orient the module and .... but would be interested in hearing more to better understand.</p>\n"}, {"tags": ["git", "perl", "hook", "gerrit"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 4189388, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-9bQZC12A2cU/AAAAAAAAAAI/AAAAAAAAAmU/Fqjgxj4trY8/photo.jpg?sz=128", "display_name": "Raghavendra Pathi", "link": "https://stackoverflow.com/users/4189388/raghavendra-pathi"}, "edited": false, "score": 0, "creation_date": 1504878790, "post_id": 46100438, "comment_id": 79198556, "body": "In the above perl code, where are you verifying the policies? a sample patchset-created hook should help."}, {"owner": {"reputation": 11981, "user_id": 4653675, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--qAy9sY_FtU/AAAAAAAAAAI/AAAAAAAAAcI/1eUd0gZytXc/photo.jpg?sz=128", "display_name": "Marcelo &#193;vila de Oliveira", "link": "https://stackoverflow.com/users/4653675/marcelo-%c3%81vila-de-oliveira"}, "reply_to_user": {"reputation": 157, "user_id": 4189388, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-9bQZC12A2cU/AAAAAAAAAAI/AAAAAAAAAmU/Fqjgxj4trY8/photo.jpg?sz=128", "display_name": "Raghavendra Pathi", "link": "https://stackoverflow.com/users/4189388/raghavendra-pathi"}, "edited": false, "score": 0, "creation_date": 1504888014, "post_id": 46100438, "comment_id": 79204279, "body": "In the step 1 of the &quot;Configuration&quot; section you&#39;ll find the patchset-created hook, use that content as-is for the patchset-created AND draft-published hooks. I added more info in the [githooks &quot;checkfile&quot;] section... now the above configuration can check: the presence of JIRA tickets (CheckJira), the commit message (CheckLog), the max file size and the sintaxe of Perl / Puppet / Shell / Ruby files (CheckFile). More itens can be added."}], "tags": [], "owner": {"reputation": 11981, "user_id": 4653675, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--qAy9sY_FtU/AAAAAAAAAAI/AAAAAAAAAcI/1eUd0gZytXc/photo.jpg?sz=128", "display_name": "Marcelo &#193;vila de Oliveira", "link": "https://stackoverflow.com/users/4653675/marcelo-%c3%81vila-de-oliveira"}, "is_accepted": true, "score": 5, "last_activity_date": 1560511324, "last_edit_date": 1560511324, "creation_date": 1504798934, "answer_id": 46100438, "question_id": 46100437, "link": "https://stackoverflow.com/questions/46100437/how-to-install-config-githooks-to-use-with-gerrit/46100438#46100438", "title": "How to install/config Git::Hooks to use with Gerrit", "body": "<h2>Installation</h2>\n\n<p>1) Install dependencies:</p>\n\n<p>Ubuntu:</p>\n\n<pre><code>sudo apt-get install gcc make libcrypt-ssleay-perl\n</code></pre>\n\n<p>Red Hat:</p>\n\n<pre><code>sudo yum install gcc make libcrypt-ssleay-perl\n</code></pre>\n\n<p>2) Install Git::Hooks:</p>\n\n<pre><code>sudo cpanm Git::Hooks\nsudo cpanm Gerrit::REST\nsudo cpanm JIRA::REST\n</code></pre>\n\n<h2>Configuration</h2>\n\n<p>0) Be sure you have the <a href=\"https://gerrit-review.googlesource.com/Documentation/config-hooks.html\" rel=\"nofollow noreferrer\">hooks plugin</a> installed in Gerrit.</p>\n\n<p>1) Create the Gerrit hooks patchset-created and draft-published (with execution permission) in GERRIT-SITE/hooks directory, with the following content:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Git::Hooks;\n$ENV{HOME}=\"/home/GERRIT-USER\";\nrun_hook($0, @ARGV);\n</code></pre>\n\n<p>2) Configure the Gerrit repositories:</p>\n\n<p>Any repository can be set individually but it's easier to configure all-projects project in GERRIT-SITE/git/all-projects.git/config file like in the following example (some configurations itens can be added/removed as needed):</p>\n\n<pre><code>...\n[githooks]\n    plugin = CheckJira\n    plugin = CheckLog\n    plugin = CheckFile\n    nocarp = 1\n[githooks \"gerrit\"]\n    url = https://GERRIT-SERVER\n    username = GERRIT-USER\n    password = GERRIT-PASS\n    votes-to-approve = Verification+1\n    votes-to-reject = Verification-1\n    comment-ok = OK\n    notify = OWNER\n[githooks \"checkjira\"]\n    jiraurl = https://JIRA-SERVER\n    jirauser = JIRA-USER\n    jirapass = JIRA-PASS\n    matchlog = (?s)^(?:Revert\\\\s\\\")?\\\\s*\\\\[([^]]+)\\\\]\n    status = In Progress\n    status = Analysing\n    status = Treating\n    status = Evaluating\n    status = Waiting Information\n[githooks \"checklog\"]\n    title-required = 1\n    title-max-width = 60\n    body-max-width = 80\n[githooks \"checkfile\"]\n    sizelimit = 5242880\n    name = *.p[lm] /usr/local/bin/perlcritic --stern --verbose 5\n    name = *.pp /usr/local/bin/puppet-lint --error-level error --with-context --with-filename\n    name = *.sh LANG=en_US.UTF-8 /usr/bin/shellcheck --exclude=SC2046,SC2053,SC2086\n    name = *.erb /usr/bin/erb -P -x -T - {} | ruby -c\n...\n</code></pre>\n\n<p>And then include the all-projects config in all repositories by adding the folling at GERRIT-SITE/git/REPO.git/config</p>\n\n<pre><code>[include]\n    path = GERRIT-SITE/git/all-projects.git/config\n</code></pre>\n\n<p>If needed any configuration can be changed/added at some specific repository changing the GERRIT-SITE/git/repo.git/config like in the following example (some configurations itens can be added/removed as needed):</p>\n\n<pre><code>...\n[githooks]\n    plugin = CheckWhitespace\n[githooks \"checkjira\"]\n    require = 0\n    unresolved = 0\n...\n</code></pre>\n\n<p>To learn more about Git::Hooks configuration options see <a href=\"https://github.com/gnustavo/Git-Hooks/wiki#documentation\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>3) Restart the Gerrit server</p>\n\n<pre><code>GERRIT-SITE/bin/gerrit.sh restart\n</code></pre>\n"}], "owner": {"reputation": 11981, "user_id": 4653675, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--qAy9sY_FtU/AAAAAAAAAAI/AAAAAAAAAcI/1eUd0gZytXc/photo.jpg?sz=128", "display_name": "Marcelo &#193;vila de Oliveira", "link": "https://stackoverflow.com/users/4653675/marcelo-%c3%81vila-de-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1383, "favorite_count": 2, "accepted_answer_id": 46100438, "answer_count": 1, "score": 2, "last_activity_date": 1560511324, "creation_date": 1504798934, "last_edit_date": 1504822216, "question_id": 46100437, "link": "https://stackoverflow.com/questions/46100437/how-to-install-config-githooks-to-use-with-gerrit", "title": "How to install/config Git::Hooks to use with Gerrit", "body": "<p>The <a href=\"https://github.com/gnustavo/Git-Hooks/wiki\" rel=\"nofollow noreferrer\">Git::Hooks</a> is a Perl framework for implementing Git/Gerrit hooks. What is the procedure to install and config it to use with Gerrit?</p>\n"}, {"tags": ["regex", "perl", "sed", "grep"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1504793357, "post_id": 46098515, "comment_id": 79159066, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have any code, then Stack Overflow might not be the best place for your question."}, {"owner": {"reputation": 789, "user_id": 1382302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78c4d031a5bd4266608605a3a5468419?s=128&d=identicon&r=PG", "display_name": "danny", "link": "https://stackoverflow.com/users/1382302/danny"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1504793674, "post_id": 46098515, "comment_id": 79159319, "body": "I am looking for a one line regex command not code. So far i am stuck on how to keep the parts of the word that are not replaced (X in my example)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1504793740, "post_id": 46098515, "comment_id": 79159383, "body": "How is &quot;a one line regex command&quot; not &quot;code&quot;? :-)"}], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 1382302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78c4d031a5bd4266608605a3a5468419?s=128&d=identicon&r=PG", "display_name": "danny", "link": "https://stackoverflow.com/users/1382302/danny"}, "edited": false, "score": 0, "creation_date": 1504795527, "post_id": 46098646, "comment_id": 79160768, "body": "This is close but not working quite the way i want it. An example: -!$acc update device(msfu_pt, msfv_pt, msft_pt) +grid%!$acc update device(msfu_pt, msfv_pt, msft) I guess it takes the whole line as a word."}, {"owner": {"reputation": 2292, "user_id": 8536377, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f51711156b8ff9b6ea77ea2de12995f6?s=128&d=identicon&r=PG", "display_name": "campovski", "link": "https://stackoverflow.com/users/8536377/campovski"}, "edited": false, "score": 0, "creation_date": 1504795580, "post_id": 46098646, "comment_id": 79160813, "body": "When does it fail?"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1504796770, "post_id": 46098646, "comment_id": 79161681, "body": "<code>.*?</code> won&#39;t work in <code>sed</code>. It will work as greedy <code>.*</code> and will match longest match before last <code>_pt</code>"}, {"owner": {"reputation": 21412, "user_id": 333698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca080b4ef1c6cb4df9bc123d3b3af61?s=128&d=identicon&r=PG", "display_name": "psmears", "link": "https://stackoverflow.com/users/333698/psmears"}, "edited": false, "score": 0, "creation_date": 1504800890, "post_id": 46098646, "comment_id": 79164482, "body": "You probably want something like <code>[a-zA-Z0-9_]*</code> rather than <code>.*</code>"}, {"owner": {"reputation": 21412, "user_id": 333698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca080b4ef1c6cb4df9bc123d3b3af61?s=128&d=identicon&r=PG", "display_name": "psmears", "link": "https://stackoverflow.com/users/333698/psmears"}, "edited": false, "score": 0, "creation_date": 1504803769, "post_id": 46098646, "comment_id": 79165945, "body": "@campovski: Yeah, but you&#39;ve still got the &quot;_pt&quot; in the regexp, so I think that shouldn&#39;t be a problem, right?"}, {"owner": {"reputation": 2292, "user_id": 8536377, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f51711156b8ff9b6ea77ea2de12995f6?s=128&d=identicon&r=PG", "display_name": "campovski", "link": "https://stackoverflow.com/users/8536377/campovski"}, "edited": false, "score": 0, "creation_date": 1504805086, "post_id": 46098646, "comment_id": 79166652, "body": "Indeed it is, I thougth you wanted to substitute whole regex string with that, my mistake"}], "tags": [], "owner": {"reputation": 2292, "user_id": 8536377, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f51711156b8ff9b6ea77ea2de12995f6?s=128&d=identicon&r=PG", "display_name": "campovski", "link": "https://stackoverflow.com/users/8536377/campovski"}, "is_accepted": false, "score": 1, "last_activity_date": 1504801013, "last_edit_date": 1504801013, "creation_date": 1504793659, "answer_id": 46098646, "question_id": 46098515, "link": "https://stackoverflow.com/questions/46098515/replace-parts-of-word/46098646#46098646", "title": "replace parts of word", "body": "<p>You could use <code>sed</code> like this:</p>\n\n<pre><code>sed -i -E \"s/(.*?)_pt\\b/grid%\\1/g\" file.txt\n</code></pre>\n\n<p>What this does is the following:</p>\n\n<ul>\n<li><code>(.*?)</code> matches and groups any character but <code>?</code> denotes nongreedy method of matching.</li>\n<li><p><code>\\b</code> ensures it is the end of the word.</p></li>\n<li><p><code>\\1</code> stands for first group, which in our case is everything before <code>'_pt'</code>.</p></li>\n</ul>\n\n<p><strong>Comment:</strong> <code>sed</code> and <code>awk</code> are manipulators, <code>grep</code> is just search-like thing, meaning it cannot replace strings.</p>\n\n<blockquote>\n  <p>BUT THIS DOES NOT WORK!! Why? Because neither basic nor extended posix regex recognizes <code>?</code> as escape for greedy search. Instead use perl:</p>\n</blockquote>\n\n<pre><code>perl -pe 's|(*?)_pt\\b|grid%\\1|g'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 1, "creation_date": 1504796461, "post_id": 46098723, "comment_id": 79161473, "body": "Being on macOS and not having GNU sed are not as tied as your text implies. One may be on that system and have the program installed, or use a completely different system and not have it installed either :)"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1504796634, "post_id": 46098723, "comment_id": 79161593, "body": "<code>One may be on that system and have the program installed</code> - That is what I implied as I am on OSX and have <code>gnu sed</code> installed using <code>home brew</code>"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 0, "last_activity_date": 1504793896, "creation_date": 1504793896, "answer_id": 46098723, "question_id": 46098515, "link": "https://stackoverflow.com/questions/46098515/replace-parts-of-word/46098723#46098723", "title": "replace parts of word", "body": "<p>You can use this <code>gnu sed</code> command with word boundaries:</p>\n\n<pre><code>sed -E 's/\\b([_[:alnum:]]+)_pt\\b/grid%\\1/g' file\n</code></pre>\n\n<p>Presence of <code>\\b</code> on either side of the pattern ensures that we match full words only that end with <code>_pt</code>.</p>\n\n<p>If you are on OSX and don't have <code>gnu sed</code> installed then use:</p>\n\n<pre><code>sed -E 's/[[:&lt;:]]([_[:alnum:]]+)_pt[[:&gt;:]]/grid%\\1/g' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": true, "score": 2, "last_activity_date": 1504796322, "creation_date": 1504796322, "answer_id": 46099566, "question_id": 46098515, "link": "https://stackoverflow.com/questions/46098515/replace-parts-of-word/46099566#46099566", "title": "replace parts of word", "body": "<p>With Perl:</p>\n\n<pre><code>perl -pe 's/(\\w+?)_pt\\b/grid%\\1/g' file\n</code></pre>\n\n<p>Note that the <code>-i</code> option is also available, for modifying the file in-place and optionally saving the old one with the extension provided.</p>\n"}], "owner": {"reputation": 789, "user_id": 1382302, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78c4d031a5bd4266608605a3a5468419?s=128&d=identicon&r=PG", "display_name": "danny", "link": "https://stackoverflow.com/users/1382302/danny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 46099566, "answer_count": 3, "score": -5, "last_activity_date": 1504835971, "creation_date": 1504793275, "last_edit_date": 1504835971, "question_id": 46098515, "link": "https://stackoverflow.com/questions/46098515/replace-parts-of-word", "title": "replace parts of word", "body": "<p>I would like to replace words ending in <code>_pt</code> pattern (say the whole word is <code>X_pt</code>) with a new word <code>grid%X</code> which contains X, i.e. parts of the word that are not to be replaced. How do i do this with sed, grep+sed, or any other Unix tool?</p>\n\n<p>The following just removes the <code>_pt</code> but does not add the <code>grid%</code>:</p>\n\n<pre><code>sed -i 's/_pt//g' x.f90\n</code></pre>\n"}, {"tags": ["perl", "variables", "alphanumeric"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1504787098, "post_id": 46096119, "comment_id": 79154189, "body": "I don&#39;t understand what you want to do. Please <a href=\"https://stackoverflow.com/posts/46096119/edit\">edit</a> your question and clean up your code. It&#39;s not valid syntax. There&#39;s also no alphabetical values in your sequence of numbers. It&#39;s just numbers. The <code>var</code> part is not a variable. Variables in Perl have a <i>sigil</i>. That&#39;s the thing in front of the name, like the <code>$</code> for a scalar value, the <code>@</code> for an array and the <code>%</code> for a hash."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1504789784, "post_id": 46096119, "comment_id": 79156286, "body": "You question is still unclear. It is not clear what you are trying to get. You code is having error. What you mean by alphanumeric? In your sample output is not an alphanumeric output."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 3, "creation_date": 1504790069, "post_id": 46096119, "comment_id": 79156487, "body": "<a href=\"https://stackoverflow.com/a/1829927/100754\">When you find yourself adding an integer suffix to variable names, think &quot;<b>I should have used an array</b>&quot;.</a> See also <a href=\"https://stackoverflow.com/q/2314507/100754\">How can I use the value of a variable as a variable name in Perl?</a>"}, {"owner": {"reputation": 19, "user_id": 6519189, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-Wo26SMojn-8/AAAAAAAAAAI/AAAAAAAAAAA/evsTmW7svIg/photo.jpg?sz=128", "display_name": "Emerson Soares", "link": "https://stackoverflow.com/users/6519189/emerson-soares"}, "edited": false, "score": 0, "creation_date": 1504790331, "post_id": 46096119, "comment_id": 79156670, "body": "Sorry for the code, but what I need is to create a new variable named by the word VAR + the integer from $x in every loop (var1, var2, var3,...). Having the variables created, they going to store the values from the first and second FOR loop (11, 12, 13...; 21, 22, 23...). Also, I am OK to create arrays within all first for loop, I just need some guidance on how to create and how to store the second loop values in it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1504792185, "post_id": 46096119, "comment_id": 79158127, "body": "I have edited your code to add some indentation. You&#39;re welcome, but please do it yourself in the future. If you want a large group of strangers to read and understand your code, then surely it is polite to make it as easy to read as possible."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 6519189, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-Wo26SMojn-8/AAAAAAAAAAI/AAAAAAAAAAA/evsTmW7svIg/photo.jpg?sz=128", "display_name": "Emerson Soares", "link": "https://stackoverflow.com/users/6519189/emerson-soares"}, "edited": false, "score": 0, "creation_date": 1504792006, "post_id": 46097529, "comment_id": 79157993, "body": "Thank you. In case of using hash or arrays, is it possible to create an incremental key&#39;s name, than I can add the second loop values to it?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 19, "user_id": 6519189, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-Wo26SMojn-8/AAAAAAAAAAI/AAAAAAAAAAA/evsTmW7svIg/photo.jpg?sz=128", "display_name": "Emerson Soares", "link": "https://stackoverflow.com/users/6519189/emerson-soares"}, "edited": false, "score": 0, "creation_date": 1504792520, "post_id": 46097529, "comment_id": 79158375, "body": "@EmersonSoares: Well Perl has pre- and post-increment operators that work on strings as well as numbers (<code>$x=&quot;a&quot;;say ++$x</code>). So I assume you can do what you want, although it&#39;s far from clear to me what an &quot;incremental key&#39;s name&quot; is."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 5, "last_activity_date": 1504790535, "creation_date": 1504790535, "answer_id": 46097529, "question_id": 46096119, "link": "https://stackoverflow.com/questions/46096119/perl-create-alphanumeric-sequencial-vars/46097529#46097529", "title": "Perl: Create alphanumeric sequencial vars", "body": "<p>What you are asking for is a very bad idea. You want to create a variable, using the value of another variable as part of the name. This is known as \"symbolic referencing\" and there is a very good reason why it is one of the three things that <a href=\"https://metacpan.org/pod/strict\" rel=\"noreferrer\"><code>use strict</code></a> turns into a fatal error.</p>\n\n<p>For a good discussion of the problems it can cause, see <a href=\"http://perl.plover.com/varvarname.html\" rel=\"noreferrer\">these</a> <a href=\"http://perl.plover.com/varvarname2.html\" rel=\"noreferrer\">three</a> <a href=\"http://perl.plover.com/varvarname3.html\" rel=\"noreferrer\">articles</a> by Mark Dominus.</p>\n\n<p>Almost certainly, the best solution to your problem is to use an array, hash or some other (more complex) data structure. But without knowing a lot more about what you're doing it is hard to make any concrete suggestions.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1504813406, "last_edit_date": 1504813406, "creation_date": 1504803379, "answer_id": 46101639, "question_id": 46096119, "link": "https://stackoverflow.com/questions/46096119/perl-create-alphanumeric-sequencial-vars/46101639#46101639", "title": "Perl: Create alphanumeric sequencial vars", "body": "<p><a href=\"https://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">Don't try to generate variable names!</a></p>\n\n<p>All you need is</p>\n\n<pre><code>for my $x (1..10) {\n   for my $y (1..9) {\n      print \"$x$y\\n\";\n   }\n}\n</code></pre>\n\n<p>Or if you want to populate a data structure instead of printing,</p>\n\n<pre><code>my @matrix;\nfor my $x (0..9) {\n   for my $y (0..8) {\n      $matrix[$x][$y] = ($x+1).($y+1);\n   }\n}\n</code></pre>\n\n<p>Same as previous:</p>\n\n<pre><code>my @matrix;\nfor my $x (1..10) {\n   my @row;\n   for my $y (1..9) {\n      push @row, \"$x$y\";\n   }\n\n   push @matrix, \\@row;\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 6519189, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-Wo26SMojn-8/AAAAAAAAAAI/AAAAAAAAAAA/evsTmW7svIg/photo.jpg?sz=128", "display_name": "Emerson Soares", "link": "https://stackoverflow.com/users/6519189/emerson-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 46097529, "answer_count": 2, "score": -2, "last_activity_date": 1504813406, "creation_date": 1504786611, "last_edit_date": 1504792110, "question_id": 46096119, "link": "https://stackoverflow.com/questions/46096119/perl-create-alphanumeric-sequencial-vars", "title": "Perl: Create alphanumeric sequencial vars", "body": "<p>I would like to ask a help to create a Perl code where I could create alphanumeric sequential vars (that could be used as array, hash or any other kind of var).</p>\n\n<pre><code>for ( my $x = 1; $x &lt;= 10; $x++ ){\n  my $var$x = \"\" *# to create empty variable with the word 'var' + the integer from x (var1, var2, var3, ...)* \n  for ( my $y = 1; $y &lt; 10; $y++){\n    my $var$x = $var$x.''.$x.''.$y *# to store/concatenate the values from $x+$y into var$x*\n  }\n  print \"$var$x\"\n}\n</code></pre>\n\n<p>What should print:</p>\n\n<pre><code>var1 = 11, 12, 13, 14, 15, 16, 17, 18, 19\nvar2 = 21, 22, 23, 24, 25, 26, 27, 28, 29\n</code></pre>\n\n<p>and so on</p>\n\n<p>Thank you</p>\n"}, {"tags": ["perl", "log4perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1504786746, "post_id": 46095565, "comment_id": 79153938, "body": "You have not released that module to CPAN yet. Your repo also doesn&#39;t look like a typical Perl distribution. Do you need help with structuring it properly and releasing it?"}, {"owner": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504874580, "post_id": 46095565, "comment_id": 79195749, "body": "I want to release this module on CPAN but i think it&#39;s functionality is not enough. I&#39;ve prepared Git repository for CPAN upload on my machine (after reading article about preparing CPAN modules on habrahabr.ru), so i&#39;m ready to make Log4perl::KISS available on CPAN... very soon :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504875583, "post_id": 46095565, "comment_id": 79196392, "body": "You also might want to look into Dist::Zilla and similar. I used Module::Starter for my first module, but I don&#39;t like it any more. I&#39;ve switched to Minilla since, but honestly the dists I took over that use dzil are just so much nicer to use. It&#39;s just a bit of work to set it up, but then it&#39;s awesome."}], "answers": [{"comments": [{"owner": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "edited": false, "score": 0, "creation_date": 1504874267, "post_id": 46096124, "comment_id": 79195565, "body": "Thank you! I was very unobservant when reading this documentation. Yes, file_switch is exactly what i need!"}, {"owner": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "edited": false, "score": 0, "creation_date": 1504875097, "post_id": 46096124, "comment_id": 79196094, "body": "But... how to get access to Log4perl&#39;s &quot;internal&quot; instance of Log::Log4perl::Appender::File object class?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "edited": false, "score": 0, "creation_date": 1504875518, "post_id": 46096124, "comment_id": 79196352, "body": "@drvtiny I don&#39;t know. I&#39;ve never set up an l4p myself. We do use it at <code>$work</code> for a few projects, but I don&#39;t really interact with it. I&#39;d have to play around to do that. You can, probably. Use Data::Printer to understand what kind of accessors there are on the objects you have, and work your way down."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1504786619, "creation_date": 1504786619, "answer_id": 46096124, "question_id": 46095565, "link": "https://stackoverflow.com/questions/46095565/log4perl-how-to-switch-to-other-named-log-file-on-the-fly/46096124#46096124", "title": "Log4perl: how to switch to other-named log file on the fly?", "body": "<p>There is a <a href=\"https://metacpan.org/source/MSCHILLI/Log-Log4perl-1.49/lib/Log/Log4perl/Appender/File.pm#L262\" rel=\"nofollow noreferrer\"><code>file_switch</code> method</a> in <a href=\"https://metacpan.org/pod/Log::Log4perl::Appender::File\" rel=\"nofollow noreferrer\">Log::Log4perl::Appender::File</a> that's briefly touched upon in the <a href=\"http://There%20is%20a%20%60file_switch%60%20method%20in%20Log::Log4perl::Appender::File%20that&#39;s%20briefly%20touched%20upon%20in%20the%20Description%20section.\" rel=\"nofollow noreferrer\">Description section</a>.</p>\n\n<blockquote>\n  <p>If you want to switch over to a different logfile, use the file_switch($newfile) method which will first close the old file handle and then open a one to the new file specified.</p>\n</blockquote>\n\n<p>There's no further documentation on it, but I believe you can use that.</p>\n"}], "owner": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 46096124, "answer_count": 1, "score": 2, "last_activity_date": 1504799936, "creation_date": 1504784866, "last_edit_date": 1504799936, "question_id": 46095565, "link": "https://stackoverflow.com/questions/46095565/log4perl-how-to-switch-to-other-named-log-file-on-the-fly", "title": "Log4perl: how to switch to other-named log file on the fly?", "body": "<p>I am the author of the\n<a href=\"https://github.com/DRVTiny/Log4perl--KISS\" rel=\"nofollow noreferrer\"><code>Log4perl::KISS</code></a>\nmodule, and I want to convert the <code>log_open</code> function so that it can switch the current log file on the fly at any time without full <code>Log::Log4perl</code> reinitialization.</p>\n\n<p>I know that the file appender in <code>Log4perl</code> can switch to the file with the same name (this possibility was added to allow log rotation), but I need to switch to a different filename. I don't know how to change the filename used by the file appender before switching to another file handle.</p>\n\n<p>How to change the appender's filename if it is possible?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504802007, "post_id": 46094903, "comment_id": 79165053, "body": "@zdim: She wants the end of the first column. If you look at the regex it has <code>\\&#47;\\d{1,2})</code> at the end."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1504802519, "post_id": 46094903, "comment_id": 79165308, "body": "@Borodin  Oh, right ... even has the <code>&#47;</code> there.  I&#39;m removing that comment, thank you. Here&#39;s a replacement then <code>($ip, $n) = map { s&#47;^\\D*|\\D$&#47;&#47;g; $_ } (split)[0,-1];</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504802879, "post_id": 46094903, "comment_id": 79165521, "body": "Or with <code>&#47;r</code> (v5.16): <code>($ip, $n) = map { s&#47;^\\D*|\\D$&#47;&#47;gr } (split)[0,-1]</code>"}, {"owner": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504857835, "post_id": 46094903, "comment_id": 79185462, "body": "Ok now I read it so i will do so"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504787317, "post_id": 46095774, "comment_id": 79154363, "body": "Ok.it works with the portion of the file I post now with the whole file I am having a problem because the is the router description at the top of my file"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504787858, "post_id": 46095774, "comment_id": 79154777, "body": "@OdileAcotie:In this case edit the pattern to make it more precise (for example try to start it with <code>^\\S*?</code> to be sure to catch the ip in the first field). As suggested, you can also try a field approach (split first and extract informations in a second time)."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1504786304, "last_edit_date": 1504786304, "creation_date": 1504785556, "answer_id": 46095774, "question_id": 46094903, "link": "https://stackoverflow.com/questions/46094903/extract-specific-values-from-a-log-file/46095774#46095774", "title": "Extract specific values from a log file", "body": "<p>There are nothing particular to do, only to continue the line description with the number you want to capture:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen (my $conf, '&lt;', 'putty-wan.log') || die \"Don't eat too much Montb\u00e9liard saussages\\n\";\nopen (my $output, '&gt;', 'RouterNetwork.txt') || die ('Vous ne pouvez pas cr\u00e9er le fichier \"RouterNetwork.txt\"');\n\nwhile( &lt;$conf&gt; ) { # the current line is stored in $_\n    print $output \"$1\\t$2\\n\" if /(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\/\\d{1,2}).*\\b(\\d+)\\?/;\n}\n\nclose $output;\nclose $conf;\n</code></pre>\n\n<p>Note the word boundary before the number to be sure to obtain the whole number and not the last digit only.</p>\n\n<p>The pattern can also be shorten to: <code>/([\\d.]{7,15}\\/\\d\\d?).*?(\\d+)\\?/</code></p>\n\n<p>Take care to not use old school programming style and look at perl current practises. <em>(use strict and warnings systematically)</em></p>\n\n<p>Note that with log files, a fields approach <em>(split the line by whitespaces)</em> is sometimes more handy.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504855933, "post_id": 46101661, "comment_id": 79184395, "body": "Thank u for the advices. very useful."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504856079, "post_id": 46101661, "comment_id": 79184494, "body": "@OdileAcotie  You are welcome.  I hope that the code works for you, too.  If something doesn&#39;t please let me know."}, {"owner": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504857007, "post_id": 46101661, "comment_id": 79184969, "body": "ok I see what is going on.you see, when i use the code with the portion of the file that i post it works because see between the last number that I want and the &quot;?&quot; there is no white space but in the original file there is space between them and for some line there is no &quot;?&quot; but &quot;i&quot; and in that case i want also the number before the &quot;i&quot;.                                                * e  10.238.1.202                0 65103 65000 65112 ? *|i206.112.193.64/26  10.6.76.242          2        100          0 65000 65533 i *&gt;i         10.6.76.240              2        100          0 65000 65533 i"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504858794, "post_id": 46101661, "comment_id": 79185987, "body": "@OdileAcotie  OK. That is very different, please be careful in the future when posting.  Seemingly small differences in formats may make a big difference. See the update to the answer."}, {"owner": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504859301, "post_id": 46101661, "comment_id": 79186287, "body": "10.1.5.0/24 1 10.1.9.0/24 1 10.2.9.0/25 1 this is the output.$num returns 1 for all lines not the number i am expecting"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504859457, "post_id": 46101661, "comment_id": 79186375, "body": "@OdileAcotie  For a line <code>10.1.5.0&#47;24 1 10.1.9.0&#47;24 1 10.2.9.0&#47;25 1</code> (from your last comment) I get <code>10.1.5.0&#47;24 1</code> -- isn&#39;t that what you need?  The first (IP) and the last number."}, {"owner": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504860401, "post_id": 46101661, "comment_id": 79186934, "body": "i want for example: 10.1.5.0/24  65000 10.1.9.0/24 64000 i want the adresse and the number before &quot;?&quot; or &quot;i&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504860561, "post_id": 46101661, "comment_id": 79187037, "body": "@OdileAcotie  Oh, sorry -- I had left out parenthesis in <code>($num)</code> (used to have <code>s&#47;&#47;&#47;</code> there instead).  Corrected, should be fine now."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "edited": false, "score": 0, "creation_date": 1504861267, "post_id": 46101661, "comment_id": 79187512, "body": "@OdileAcotie  Great.  Let me know if some explanations would be helpful."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1505319668, "last_edit_date": 1505319668, "creation_date": 1504803454, "answer_id": 46101661, "question_id": 46094903, "link": "https://stackoverflow.com/questions/46094903/extract-specific-values-from-a-log-file/46101661#46101661", "title": "Extract specific values from a log file", "body": "<p>Given the shown format, you can process the line with</p>\n\n<pre><code>my ($ip, $n) = map { s/^\\D*|\\D*$//gr } (split ' ', $line)[0,-1];\n</code></pre>\n\n<p>or, when the line is in the <a href=\"http://perldoc.perl.org/perlvar.html#$_\" rel=\"nofollow noreferrer\"><code>$_</code> variable</a></p>\n\n<pre><code>my ($ip, $n) = map { s/^\\D*|\\D*$//gr } (split)[0,-1];\n</code></pre>\n\n<p>With the <code>/r</code> <em>non-desctructive</em> modifier the new string is returned (leaving the original unchanged, what we don't care about here). It's available since v5.16. If your version of Perl is older use</p>\n\n<pre><code>my ($ip, $n) = map { s/^\\D*|\\D*$//g; $_ } (split)[0,-1];\n</code></pre>\n\n<p>As for processing the whole file, you need a way to detect header lines. How to do this depends on details of your file format. Given the sample, perhaps skip lines starting with letter-only words</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $file = 'putty-wan.log';\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nwhile (&lt;$fh&gt;)\n{\n    next if /^[a-zA-Z]+\\b/;\n\n    my ($ip, $num) = map { s/^\\D*|\\D*$//gr } (split)[0,-1];\n\n    say \"$ip $num\";\n}\n</code></pre>\n\n<p>Some comments</p>\n\n<ul>\n<li><p>Please <em>always</em> start with <code>use warnings;</code>, and with <code>use strict;</code></p></li>\n<li><p>Use three-argument form of <code>open</code>, with a lexical filehandle.  It's better</p></li>\n<li><p>Always include <code>$!</code> in your <code>die</code> statements, to see the actual error. This would be the \"default\" way to do it while sometimes other <a href=\"http://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\">error variables</a> are needed as well.</p></li>\n<li><p>While there is nothing wrong with using <code>||</code> as you do, the <code>or</code> is very handy for flow control, having a suitably lower <a href=\"http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity\" rel=\"nofollow noreferrer\">precedence</a>.  But above all, it's good to be consistent in any case.</p></li>\n</ul>\n\n<hr>\n\n<p>It's been clarified that the last part on the line can also be <code>6500 ?</code> or <code>65000 i</code> or such. </p>\n\n<p>Then store all fields in an array and process it from the back, looking for the first field with numbers.</p>\n\n<pre><code>while (&lt;$fh&gt;) \n{\n    next if /^[a-zA-Z]+\\b/;\n    my @fields = split;\n\n    my $ip = (shift @fields) =~ s/^\\D*//gr;  #/# need v5.16 for /r\n\n    my $num;\n    while (my $f = pop @fields) {\n        ($num) = $f =~ /(\\d+)/;\n        last if $num;\n    }\n\n    say \"$ip $num\";\n}\n</code></pre>\n\n<p>The IP is still obtained from the first field, and cleaned up the same way as before.</p>\n"}], "owner": {"reputation": 13, "user_id": 8559170, "user_type": "registered", "profile_image": "https://graph.facebook.com/121788465148130/picture?type=large", "display_name": "Odile Acotie", "link": "https://stackoverflow.com/users/8559170/odile-acotie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 46101661, "answer_count": 2, "score": 1, "last_activity_date": 1505319668, "creation_date": 1504782725, "last_edit_date": 1504802947, "question_id": 46094903, "link": "https://stackoverflow.com/questions/46094903/extract-specific-values-from-a-log-file", "title": "Extract specific values from a log file", "body": "\n\n<p>I want to extract two values on the same line of a log file using Perl.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Network             Next Hop               metric    locprf       Path\n*|i10.1.5.0/24        10.6.76.242             2        100         0 65000? \n*|i10.1.9.0/24        10.6.76.242           2        100     0 64345 63800?\n*|i10.2.9.0/25        10.6.76.242           2        100     0?\n</code></pre>\n\n<p>For each line, I want to extract the network address and the number before the <code>?</code></p>\n\n<p>I have this but it extracts only the network address.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>open( CONF, '&lt;', 'putty-wan.log' ) or die \"\\n\";\n\nmy @ip;\n\nopen( FICHE, \"&gt;RouterNetwork.txt\" ) || die ( \"Vous ne pouvez pas cr\u00e9er le fichier \\\"RouterNetwork.txt\\\"\" );\n\nwhile ( my $line = &lt;CONF&gt; ) {\n    if ( $line =~ /(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\/\\d{1,2})/ ) {\n        print FICHE $1, \"\\n\";\n    }   \n}\n\nclose(FICHE);\nclose CONF;\n</code></pre>\n\n<p>Now I want the regular expression to add or any way to get per line, the network address and the number just before <code>?</code>.</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1504809229, "post_id": 46092194, "comment_id": 79168798, "body": "Plagiarised here: <a href=\"http://www.perlmonks.org/?node_id=1198846\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1198846</a>"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1504809750, "post_id": 46092194, "comment_id": 79169014, "body": "@choroba: huh... someone repost my question one on one ((("}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1504810038, "post_id": 46092194, "comment_id": 79169151, "body": "They did, and not only yours, and then reposted good answers back to get XP. World is a weird place."}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1504777386, "post_id": 46092744, "comment_id": 79147647, "body": "Yes, but why controller should worry about format of request? The life will be more easy if I just get request data. Now, instead, I should write: <code>$data = $req-&gt;json || $req-&gt;body_params-&gt;to_hash</code>. And things goes worse if application allow many request formats."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1504777672, "post_id": 46092744, "comment_id": 79147876, "body": "@EugenKonkov you could write your own handler that deducts the format and deals with it. Then you can pass cleaned up data to your controllers and reuse that for all of them. But if you wanted your app not to care about the incoming format, I&#39;d have the controllers deal with the format and have a fat model for the business logic."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1504776455, "creation_date": 1504776455, "answer_id": 46092744, "question_id": 46092194, "link": "https://stackoverflow.com/questions/46092194/why-mojolicious-has-two-methods-to-access-post-body/46092744#46092744", "title": "Why Mojolicious has two methods to access POST body?", "body": "<p>I cannot tell you why this decision was made. You'd have to ask SRI for that. <a href=\"https://github.com/kraih/mojo/commit/1dbb37dfdf6397be03f6036b4986664e681955b0\" rel=\"nofollow noreferrer\">He added</a> the <code>json</code> method in 2010.</p>\n\n<p>But I can tell you why it is useful.</p>\n\n<p><code>body_params</code> parses requests for common form submissions, <code>application/x-www-form-urlencoded</code> and <code>multipart/form-data</code>. You use that when your action talks to an HTML form submission or similar.</p>\n\n<p><code>json</code> on the other hand automatically decodes JSON data from the body. This is useful for AJA<strike>X</strike>J requests and APIs. Typically it's used in a REST context where the client sends JSON encoded information. It decodes the JSON directly, making your live easy for you.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504782346, "creation_date": 1504774985, "question_id": 46092194, "link": "https://stackoverflow.com/questions/46092194/why-mojolicious-has-two-methods-to-access-post-body", "title": "Why Mojolicious has two methods to access POST body?", "body": "<p>The Mojolicious has two methods to access POST body: <a href=\"http://mojolicious.org/perldoc/Mojo/Message#body_params\" rel=\"nofollow noreferrer\"><code>body_params</code></a> and <a href=\"http://mojolicious.org/perldoc/Mojo/Message#json\" rel=\"nofollow noreferrer\"><code>json</code></a></p>\n\n<p>What is the benefit of them?</p>\n\n<p><strong>UPD</strong>\nI think, it will be more handy if <code>body_params</code> returns hash if body is recognized by some parser and <code>body_type</code> will return the name of this parser.<br>\nThus if it were POST from form <code>body_type</code> will return <code>application/x-www-form-urlencoded</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504772528, "post_id": 46091186, "comment_id": 79144370, "body": "Where is this <code>try_to_sendmail</code> function from? It seems to be an undocumented export from Email::Sender::Simple. Your code contains syntax errors, unless <code>usename</code>, <code>password</code>, ... and <code>bcc</code> are constants or function calls. Please show your <b>real code</b>. We cannot help you find a problem without seeing the actual code."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504779516, "post_id": 46091186, "comment_id": 79149171, "body": "Why do you  build a header manually anyway?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1504779542, "post_id": 46091186, "comment_id": 79149187, "body": "I do like Email::Stuffer. It&#39;s from the same author, and it abstracts away all of this weirdness. Maybe you should give it a try."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1504809185, "post_id": 46091186, "comment_id": 79168778, "body": "Plagiarised here: <a href=\"http://www.perlmonks.org/?node_id=1198839\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1198839</a>"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4814930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-tQyJN_kU6JA/AAAAAAAAAAI/AAAAAAAAASQ/fBYRy2qtmzI/photo.jpg?sz=128", "display_name": "Prem Rexx", "link": "https://stackoverflow.com/users/4814930/prem-rexx"}, "edited": false, "score": 0, "creation_date": 1504776079, "post_id": 46091468, "comment_id": 79146689, "body": "But i&#39;m still facing issue on that. If i add to bcc address into TO filed, i&#39;m getting mail from To recipient. But for me it need to come from bcc recipient"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 55, "user_id": 4814930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-tQyJN_kU6JA/AAAAAAAAAAI/AAAAAAAAASQ/fBYRy2qtmzI/photo.jpg?sz=128", "display_name": "Prem Rexx", "link": "https://stackoverflow.com/users/4814930/prem-rexx"}, "edited": false, "score": 0, "creation_date": 1504777423, "post_id": 46091468, "comment_id": 79147673, "body": "Because you have Bcc in the Header, you should exclude it"}, {"owner": {"reputation": 55, "user_id": 4814930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-tQyJN_kU6JA/AAAAAAAAAAI/AAAAAAAAASQ/fBYRy2qtmzI/photo.jpg?sz=128", "display_name": "Prem Rexx", "link": "https://stackoverflow.com/users/4814930/prem-rexx"}, "edited": false, "score": 0, "creation_date": 1504778334, "post_id": 46091468, "comment_id": 79148381, "body": "- I&#39;ve exculded Bcc in Header part. But still i am facing same issue."}, {"owner": {"reputation": 55, "user_id": 4814930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-tQyJN_kU6JA/AAAAAAAAAAI/AAAAAAAAASQ/fBYRy2qtmzI/photo.jpg?sz=128", "display_name": "Prem Rexx", "link": "https://stackoverflow.com/users/4814930/prem-rexx"}, "edited": false, "score": 0, "creation_date": 1504779108, "post_id": 46091468, "comment_id": 79148898, "body": "Now i&#39;m getting mail from Bcc. But if i&#39;ve given multiple mail id for Bcc, mail is not send."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 55, "user_id": 4814930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-tQyJN_kU6JA/AAAAAAAAAAI/AAAAAAAAASQ/fBYRy2qtmzI/photo.jpg?sz=128", "display_name": "Prem Rexx", "link": "https://stackoverflow.com/users/4814930/prem-rexx"}, "edited": false, "score": 0, "creation_date": 1504782103, "post_id": 46091468, "comment_id": 79150877, "body": "How does your multiple addresses get formatted? comma&#39;s? Why not just create an array of addresses? Will update my answer as soon as I see how you setup the users."}, {"owner": {"reputation": 55, "user_id": 4814930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-tQyJN_kU6JA/AAAAAAAAAAI/AAAAAAAAASQ/fBYRy2qtmzI/photo.jpg?sz=128", "display_name": "Prem Rexx", "link": "https://stackoverflow.com/users/4814930/prem-rexx"}, "edited": false, "score": 0, "creation_date": 1509011559, "post_id": 46091468, "comment_id": 80849364, "body": "That&#39;s works fine.  But i have one more doubt on it. if mail id contains apostrophe, Mail is not delivering as well as it&#39;s not throwing error. For example, john&#39;dave@doe.com mail id if i given over there it&#39;s not delivering. How do i fix that?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 55, "user_id": 4814930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-tQyJN_kU6JA/AAAAAAAAAAI/AAAAAAAAASQ/fBYRy2qtmzI/photo.jpg?sz=128", "display_name": "Prem Rexx", "link": "https://stackoverflow.com/users/4814930/prem-rexx"}, "edited": false, "score": 0, "creation_date": 1509082829, "post_id": 46091468, "comment_id": 80883738, "body": "you need to escape it like this. <code>john\\&#39;dave@doe.com</code>"}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": true, "score": 1, "last_activity_date": 1504785035, "last_edit_date": 1504785035, "creation_date": 1504772731, "answer_id": 46091468, "question_id": 46091186, "link": "https://stackoverflow.com/questions/46091186/emailmime-wont-send-bcc-address-in-perl/46091468#46091468", "title": "Email::MIME Won&#39;t send BCC address in Perl", "body": "<p>When creating the message <code>Email::MIME-&gt;create</code> do not add a BCC header.\nAny address you send to in <code>to</code> that not in the header effectively is a Bcc address.</p>\n\n<pre><code>my $email = Email::MIME-&gt;create(\nheader_str =&gt; [\nFrom    =&gt; Email::Address::XS-&gt;new($display_name,$from),\nTo      =&gt; [$to, $bcc]\nSubject =&gt; Encode::encode('MIME-Header-ISO_2022_JP', $subject),\n],\nparts =&gt; [ @body1 ],\n);\n</code></pre>\n\n<p>EDIT: As per your issue with Multiple addresses in Bcc.</p>\n\n<p>You should have it either as:</p>\n\n<pre><code>$bcc1 = 'john@doe.com';\n$bcc2 = 'sam@ibm.com';\n$bcc3 = 'dennis@dell.com';\n</code></pre>\n\n<p>then send it as </p>\n\n<pre><code>To      =&gt; [$to, $bcc1, $bcc2, $bcc3]\n</code></pre>\n\n<p>Or define a string of Email addresses join them and send like this.</p>\n\n<pre><code>@bcc = ('john@doe.com', 'sam@ibm.com', 'dennis@dell.com');\nTo      =&gt; join (',', @bcc),\n</code></pre>\n\n<p>Or you can just define $bcc as a string</p>\n\n<pre><code>$bcc = 'john@doe.com, sam@ibm.com, dennis@dell.com';\nTo      =&gt; [$to, $bcc]\n</code></pre>\n\n<p>You need to use the commas and not spaces to separate the email addresses.</p>\n"}], "owner": {"reputation": 55, "user_id": 4814930, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-tQyJN_kU6JA/AAAAAAAAAAI/AAAAAAAAASQ/fBYRy2qtmzI/photo.jpg?sz=128", "display_name": "Prem Rexx", "link": "https://stackoverflow.com/users/4814930/prem-rexx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "accepted_answer_id": 46091468, "answer_count": 1, "score": 0, "last_activity_date": 1504785035, "creation_date": 1504771745, "last_edit_date": 1504779048, "question_id": 46091186, "link": "https://stackoverflow.com/questions/46091186/emailmime-wont-send-bcc-address-in-perl", "title": "Email::MIME Won&#39;t send BCC address in Perl", "body": "<p>I'm using <code>Email::MIME</code> for sending mail from Perl script. All mails are going fine. But thing is, when I have given multiple Bcc mail id, For Bcc address Mail is not sending. It doesn't throw any error.\nCan Anyone help in this case?</p>\n\n<pre><code>use Encode;\nuse Email::Sender::Simple qw/try_to_sendmail/;\nuse Email::MIME;\nuse Email::Sender::Transport::SMTP::TLS;\nuse Email::Address::XS;\n\nmy $mailinfo = shift;\nmy $username = usename;\nmy $password = password;\nmy $from  = fromaddress;\nmy $to       = to;\nmy $subject  = subject;\nmy $body     = body;\nmy $host = host;\nmy $port = port;\nmy $bcc = bcc;\nmy $email = Email::MIME-&gt;create(\nheader_str =&gt; [\n     From    =&gt; Email::Address::XS-&gt;new($display_name,$from),\n     To      =&gt; $to,\n     Subject =&gt; Encode::encode('MIME-Header-ISO_2022_JP', $subject),\n],\nparts =&gt; [ @body1 ],\n);\n$_-&gt;encoding_set( 'base64' ) for $email-&gt;parts;\ntry_to_sendmail(\n       $email,\n       {\n        to =&gt; [$to,$bcc],\n        transport =&gt; Email::Sender::Transport::SMTP::TLS-&gt;new(\n        host     =&gt; $host,\n        port     =&gt; $port,\n        username =&gt; $username,\n        password =&gt; $password,\n        )\n      } \n) or do {\nprint \"Error occured while mail send\\n\";\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1504765136, "post_id": 46089097, "comment_id": 79139822, "body": "Sorry, the &quot;contex&quot; and the flag should be in different line"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 1, "creation_date": 1504765613, "post_id": 46089097, "comment_id": 79140077, "body": "Please edit your post with the actual format. Are they on consecutive lines, or do you need to match anywhere between flag_2 and another flag? Are flags recognisable?"}, {"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1504766201, "post_id": 46089097, "comment_id": 79140381, "body": "Hi jcaron, I have put a example as above, please check. Thx"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1504767064, "post_id": 46089577, "comment_id": 79140903, "body": "Hi jcaron, I&#39;m thinking the same using a match flag. But there&#39;s a lot sequence to follow in the remaining text which is in the exact format I wanted to match with. Let me try out. Thanks!"}, {"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1504768924, "post_id": 46089577, "comment_id": 79142072, "body": "Yeah it works. Consider you reset the flag to 0 after the first match. Thx"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "reply_to_user": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1504796911, "post_id": 46089577, "comment_id": 79161794, "body": "If every &quot;section&quot; starts with &quot;From Clock: &quot; and there&#39;s only one line starting with PW: in each section, then that&#39;s already the case: <code>$match</code> will be true in each section for mmcm_clkout, and false for all others. If you indeed have more PW: in a section (and only want to match the first one), or sections starting with something else, then indeed you need to reset <code>$match</code>."}], "tags": [], "owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "is_accepted": true, "score": 0, "last_activity_date": 1504766704, "creation_date": 1504766704, "answer_id": 46089577, "question_id": 46089097, "link": "https://stackoverflow.com/questions/46089097/perl-regexp-how-to-start-matching-text-in-part-of-file-after-i-have-find-a-fla/46089577#46089577", "title": "Perl regexp: how to start matching text in part of file after I have find a &quot;flag&quot; string in the context?", "body": "<p>You can try something along these lines:</p>\n\n<pre><code>my $match = 0;\nwhile (&lt;&gt;)\n{\n    if (/^From Clock: (\\w+)/)\n    {\n        $match = ($1 eq \"mmcm_clkout\");\n    } elsif ($match &amp;&amp; /^PW: whatever/)\n    {\n        # do whatever you want with the line\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 46089577, "answer_count": 1, "score": 0, "last_activity_date": 1504807577, "creation_date": 1504765005, "last_edit_date": 1504773916, "question_id": 46089097, "link": "https://stackoverflow.com/questions/46089097/perl-regexp-how-to-start-matching-text-in-part-of-file-after-i-have-find-a-fla", "title": "Perl regexp: how to start matching text in part of file after I have find a &quot;flag&quot; string in the context?", "body": "<p>Apologize for the way I describe my question, maybe it will be much clarified if I give the instance as below:\nConsider the case that I have a certain file, and it is separated into different section with each beginning with a certain string consider as flag: e.g.\nconsider \"From Clock\" as the flag I mentioned about\nexample_file:</p>\n\n<pre><code>From Clock:  fdbk_bufg_cell_in_net\n  To Clock:  fdbk_bufg_cell_in_net\n\nSetup :           NA  Failing Endpoints,  Worst Slack           NA  ,  Total Violation           NA\nHold  :           NA  Failing Endpoints,  Worst Slack           NA  ,  Total Violation           NA\nPW    :            0  Failing Endpoints,  Worst Slack        5.501ns,  Total Violation        0.000ns\n</code></pre>\n\n<p>Pulse Width Checks</p>\n\n<pre><code>Clock Name:         fdbk_bufg_cell_in_net\nWaveform(ns):       { 0.000 3.500 }\nPeriod(ns):         7.000\nSources:            { my_atspeed_mmcm/CLKFBOUT }\n\nCheck Type  Corner  Lib Pin   Reference Pin  Required(ns)  Actual(ns)  Slack(ns)  Location      Pin\nMin Period  n/a     BUFGCE/I  n/a            1.499         7.000       5.501      BUFGCE_X0Y35  fdbk_bufg_cell/I\n</code></pre>\n\n<hr>\n\n<pre><code>From Clock:  mmcm_clkout\n  To Clock:  mmcm_clkout\n\nSetup :           NA  Failing Endpoints,  Worst Slack           NA  ,  Total Violation           NA\nHold  :            0  Failing Endpoints,  Worst Slack        0.123ns,  Total Violation        0.000ns\nPW    :          625  Failing Endpoints,  Worst Slack       -0.195ns,  Total Violation     -121.875ns\n</code></pre>\n\n<p>Now I only want to match the \"PW :\" line in \"From Clock: mmcm_clkout\" part, how do I do so?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1504753805, "post_id": 46086838, "comment_id": 79136396, "body": "Taint error aside, I question the correctness of <code>eval(&#39;local our ...&#39;)</code>, although it&#39;s hard to tell since you didn&#39;t show the complete statement. You appear to be trying to use a variable as a variable name. Please read &quot;<a href=\"https://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">Why it&#39;s stupid to `use a variable as a variable name&#39;</a>&quot;"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504761831, "post_id": 46086838, "comment_id": 79138455, "body": "@ikegami I&#39;m not sure <code>local our \u2026</code> even makes any sense outside of an <code>eval</code>. OP: What are you trying to accomplish here?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1504763508, "post_id": 46086838, "comment_id": 79139079, "body": "@duskwuff, It does, but its uses are limited: dynamic scoping, &quot;lexical&quot; that isn&#39;t captured by closures. Generally, you&#39;d want a truly lexically-scoped variable instead. I think they are trying to create a lexically-scoped variably-named variable."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504803714, "post_id": 46086838, "comment_id": 79165920, "body": "Don&#39;t replace one question with another. (Also, the new question was awful in both format and content.)"}, {"owner": {"reputation": 1, "user_id": 8572041, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209191008366504/picture?type=large", "display_name": "Prabhakar Bhatt S", "link": "https://stackoverflow.com/users/8572041/prabhakar-bhatt-s"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504804231, "post_id": 46086838, "comment_id": 79166203, "body": "@ikegami sorry for the  confusion. Is there way I can remove taint error , remove the setuid bit . please can you suggest."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504805020, "post_id": 46086838, "comment_id": 79166619, "body": "I told you everything I could given the information provided (i.e. a partial Perl statement)"}, {"owner": {"reputation": 1, "user_id": 8572041, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209191008366504/picture?type=large", "display_name": "Prabhakar Bhatt S", "link": "https://stackoverflow.com/users/8572041/prabhakar-bhatt-s"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504805256, "post_id": 46086838, "comment_id": 79166748, "body": "@ikegami : I tried following stuff to untaint. But did not help                               if ($data =~ /^([-\\@\\w.]+)$/) { \t$data = $1; \t\t\t# $data now untainted     } else { \tdie &quot;Bad data in &#39;$data&#39;&quot;; \t# log this somewhere     }"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504805589, "post_id": 46086838, "comment_id": 79166904, "body": "@Prabhakar Bhatt S, so?"}, {"owner": {"reputation": 1, "user_id": 8572041, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209191008366504/picture?type=large", "display_name": "Prabhakar Bhatt S", "link": "https://stackoverflow.com/users/8572041/prabhakar-bhatt-s"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504805830, "post_id": 46086838, "comment_id": 79167034, "body": "@ikegami  Thanks for your support. (i.e. a partial Perl statement) . you need full code?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504806356, "post_id": 46086838, "comment_id": 79167318, "body": "NEVER. Normally, we&#39;d need a minimal, runable demonstration of the problem. In this case. In this case, it sounds like you are trying to do something without knowing how to do it, so you&#39;re question is probably along the lines of &quot;How do I &lt;task the code is suppose to perform&gt;?&quot; Include your work. But again, only post code that relates the question."}, {"owner": {"reputation": 1, "user_id": 8572041, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209191008366504/picture?type=large", "display_name": "Prabhakar Bhatt S", "link": "https://stackoverflow.com/users/8572041/prabhakar-bhatt-s"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504807040, "post_id": 46086838, "comment_id": 79167655, "body": "@ikegami I have added the code snipped. Thanks a lot once again"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504808470, "post_id": 46086838, "comment_id": 79168403, "body": "Earlier, I mentioned I suspected your code is trying to create variables. I was correct. As I mentioned then, <a href=\"https://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">that makes no sense</a>. Stop doing that (e.g. by storing your config vars in a hash) and your issue will go away."}, {"owner": {"reputation": 1, "user_id": 8572041, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209191008366504/picture?type=large", "display_name": "Prabhakar Bhatt S", "link": "https://stackoverflow.com/users/8572041/prabhakar-bhatt-s"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504829312, "post_id": 46086838, "comment_id": 79176511, "body": "@ikegami  Thanks once again. I am not a perl developer. So I have zero knowwledge here. if you give me an example how to break it , that will be of great help. Thanks once again."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504830898, "post_id": 46086838, "comment_id": 79176827, "body": "Then this should be easy, because the correct thing to do in other languages is also the correct thing here. If you want to lookup values by name, don&#39;t try to create variables; use an associative array (dictionary). Hashes are associative arrays."}, {"owner": {"reputation": 1, "user_id": 8572041, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209191008366504/picture?type=large", "display_name": "Prabhakar Bhatt S", "link": "https://stackoverflow.com/users/8572041/prabhakar-bhatt-s"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1504835820, "post_id": 46086838, "comment_id": 79177891, "body": "Thanks a lot @ikegami. let me try this."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8572041, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209191008366504/picture?type=large", "display_name": "Prabhakar Bhatt S", "link": "https://stackoverflow.com/users/8572041/prabhakar-bhatt-s"}, "edited": false, "score": 0, "creation_date": 1504765002, "post_id": 46087088, "comment_id": 79139752, "body": "Thanks for ur inputs. following is the snipppet.                                                    my ($in_file_name, $separator_char) = @_;   my %custom_fields_description = ();   open FILE, &quot;&lt; $in_file_name&quot; or return;   while(&lt;FILE&gt;){     chop;     my($name,$id,$type)= split($separator_char);     $::trc-&gt;print( $::dbg,&quot;found id $separator_char&quot;);     $custom_fields_description{$id}{name} = $name;     $custom_fields_description{$id}{type} = $type;   }  close FILE;  return \\%custom_fields_description;"}, {"owner": {"reputation": 1, "user_id": 8572041, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209191008366504/picture?type=large", "display_name": "Prabhakar Bhatt S", "link": "https://stackoverflow.com/users/8572041/prabhakar-bhatt-s"}, "edited": false, "score": 0, "creation_date": 1504765601, "post_id": 46087088, "comment_id": 79140069, "body": "for my $id ( keys %$custom_fields_hash )     {                                                                                                       eval(&quot;local our &quot;.$custom_fields_hash-&gt;{ $id }-&gt;{ &#39;name&#39; });                                 }"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1, "user_id": 8572041, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209191008366504/picture?type=large", "display_name": "Prabhakar Bhatt S", "link": "https://stackoverflow.com/users/8572041/prabhakar-bhatt-s"}, "edited": false, "score": 0, "creation_date": 1504787334, "post_id": 46087088, "comment_id": 79154382, "body": "@PrabhakarBhattS please edit your code into your question. It&#39;s hard to read in a comment without formatting."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1504752678, "creation_date": 1504752678, "answer_id": 46087088, "question_id": 46086838, "link": "https://stackoverflow.com/questions/46086838/eval-throws-insecure-dependency-in-eval-while-running-setuid-in-perl-5-10-1-wo/46087088#46087088", "title": "eval throws Insecure dependency in eval while running setuid in perl 5.10.1 , work fine in 5.8.8", "body": "<p>You have it backwards. The security check works fine in 5.10.1, but didn't in 5.8.8.</p>\n\n<p>You're running in taint mode (because you're running in setuid mode) and you're apparently passing code from an unstrusted source to <code>eval</code>. That's a major security violation, so Perl prevents you from doing it.</p>\n\n<p>Read more about it in <a href=\"https://perldoc.perl.org/perlsec.html\" rel=\"nofollow noreferrer\">perlsec</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 8572041, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209191008366504/picture?type=large", "display_name": "Prabhakar Bhatt S", "link": "https://stackoverflow.com/users/8572041/prabhakar-bhatt-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1504835845, "creation_date": 1504750333, "last_edit_date": 1504835845, "question_id": 46086838, "link": "https://stackoverflow.com/questions/46086838/eval-throws-insecure-dependency-in-eval-while-running-setuid-in-perl-5-10-1-wo", "title": "eval throws Insecure dependency in eval while running setuid in perl 5.10.1 , work fine in 5.8.8", "body": "<pre><code>eval(\"local our \".$custom_fields_hash-&gt;{ $id }-&gt;{ 'name' }); \n</code></pre>\n\n<p>throws </p>\n\n<blockquote>\n  <p>\"Insecure dependency in eval while running setuid\"</p>\n</blockquote>\n\n<p>in perl 5.10.1.</p>\n\n<p>works fine in 5.8.8</p>\n"}, {"tags": ["perl", "sockets", "events", "tcp"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504751529, "post_id": 46085929, "comment_id": 79135960, "body": "I don&#39;t see any error checks?  You mention that you have them, so what do they say?  You&#39;d certainly need to &quot;re-enable&quot; of restart things and those errors would help in figuring out what."}, {"owner": {"reputation": 1857, "user_id": 6758795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pgWd8.jpg?s=128&g=1", "display_name": "derelict", "link": "https://stackoverflow.com/users/6758795/derelict"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504752070, "post_id": 46085929, "comment_id": 79136069, "body": "i have &#39;on_read_error&#39;, &#39;on_write_error&#39; and &#39;on_writeable_stop&#39; in the IO::Async::Stream -- none of them fire.  at all.  i&#39;ve also try/catch&#39;d all over -- the problem is nothing throws errors.  it just doesn&#39;t work."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504752072, "post_id": 46085929, "comment_id": 79136070, "body": "Did you try to reconnect on your <code>$NOTIFY</code>?  It is unclear from the question.  You may or may not have to also again <code>add</code> to the loop (and perhaps restart it).  Can you clarify whether you tried, and can you complete the question with information on what the various error-checking methods say?"}, {"owner": {"reputation": 1857, "user_id": 6758795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pgWd8.jpg?s=128&g=1", "display_name": "derelict", "link": "https://stackoverflow.com/users/6758795/derelict"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504752130, "post_id": 46085929, "comment_id": 79136079, "body": "i&#39;ll try restarting the loop i guess -- it won&#39;t add because it knows it already exists.  a &#39;connect&#39; on the NOTIFY expects to return a future, which i don&#39;t know what to do with..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504752186, "post_id": 46085929, "comment_id": 79136085, "body": "OK, no errors fire. It may mean that it is in fact working fine on its end (via <code>Futures</code>s).  Those should be usable once the operation(s) complete. So perhaps when you reconnect go back and check the streams."}, {"owner": {"reputation": 1857, "user_id": 6758795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pgWd8.jpg?s=128&g=1", "display_name": "derelict", "link": "https://stackoverflow.com/users/6758795/derelict"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1504752657, "post_id": 46085929, "comment_id": 79136177, "body": "thanks for the comments, i&#39;ll go back and try a couple more things.  i edited to add slightly more info, basically what we just covered here"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1504809087, "post_id": 46085929, "comment_id": 79168727, "body": "Plagiarised here: <a href=\"http://www.perlmonks.org/?node_id=1198804\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1198804</a>"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1504763360, "creation_date": 1504763360, "answer_id": 46088719, "question_id": 46085929, "link": "https://stackoverflow.com/questions/46085929/perl-iosocketinet-ioasyncstream-reconnect-to-tcp-server-when-disconnec/46088719#46088719", "title": "Perl IO::Socket::INET + IO::Async::Stream reconnect to TCP server when disconnected", "body": "<p>You simply cannot connect an existing socket multiple times. You can only close the socket and create a new socket. This has nothing to do with IO::Socket::INET, IO::Async::Stream or even Perl but this is how the sockets API works.</p>\n\n<p>In detail: The local socket actually never got disconnected, i.e. it is still configured to send data from a specific local IP address and port and to a specific address and port. Only, that the sending will no longer worked because the underlying TCP connection is broken or closed (i.e. FIN exchanged). Since there is no API to unbind and unconnect a socket the only way is to close it and create a new one which is unbound and unconnected until connect is called. This new socket then might or might not get the same file descriptor as the previous one.</p>\n"}], "owner": {"reputation": 1857, "user_id": 6758795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pgWd8.jpg?s=128&g=1", "display_name": "derelict", "link": "https://stackoverflow.com/users/6758795/derelict"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504763360, "creation_date": 1504742449, "last_edit_date": 1504752605, "question_id": 46085929, "link": "https://stackoverflow.com/questions/46085929/perl-iosocketinet-ioasyncstream-reconnect-to-tcp-server-when-disconnec", "title": "Perl IO::Socket::INET + IO::Async::Stream reconnect to TCP server when disconnected", "body": "<p>for the life of me, i can't seem to figure out how to get a standard TCP socket connection to reconnect after a disconnect, particularly in the context of an IO::Async::Loop</p>\n\n<p>some basics:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Socket;\nuse IO::Async::Loop;\nuse IO::Async::Stream;\nuse IO::Socket;\nuse Time::HiRes qw(usleep);\n\n# standard event loop\nmy $loop = IO::Async::Loop-&gt;new;\n\n# notification service socket connection; we only write outgoing\nmy $NOTIFY = IO::Socket::INET-&gt;new(\n    PeerHost =&gt; $a_local_network_host,\n    PeerPort =&gt; $comm_port,\n    Proto =&gt; 'tcp',\n    Type =&gt; SOCK_STREAM,\n    ReuseAddr =&gt; 1,\n    Blocking =&gt; 0\n) or warn(\"Can't connect to NOTIFY: $!\\n\");\nsetsockopt($NOTIFY, SOL_SOCKET, SO_KEEPALIVE, 1);\n\n# main interface element via IO::Async\nmy $notifystream = IO::Async::Stream-&gt;new(\n    handle =&gt; $NOTIFY,\n    on_read =&gt; sub {\n        my ( $self, $buffref, $eof ) = @_;\n        # here's where we need to handle $eof if the remote goes away\n        if($eof) {\n            # i have tried several things here\n            usleep(200000); # give the remote service some milliseconds to start back up\n            # process fails if remote is not back up, so i know the timeout is 'good enough' for this test\n            # attempt to reconnect.  have also tried recreating from scratch\n            $NOTIFY-&gt;connect(\"$a_local_network_host:$comm_port\");\n            # this doesn't seem to have any effect\n            $self-&gt;configure(handle=&gt;$NOTIFY);\n        }\n    }\n);\n$loop-&gt;add( $notifystream );\n\n# kickstart the event loop\n$loop-&gt;run;\n\n### -- Meanwhile, elsewhere in the code -- ###\n\n$notifystream-&gt;write(\"data for notification service\\n\");\n</code></pre>\n\n<p>in reality, there are many more things going on in the loop.  i also have more sophisticated ways to test for socket closed or broken, further error handlers on the $notifystream, and a better timeout/backoff for reconnecting to the remote service, however this should show the main crux of what i'm doing.</p>\n\n<p>when the remote server goes away for any reason, i'd like to attempt to reconnect to it without disrupting the rest of the system.  in most cases the remote sends eof cleanly because it's intentionally rebooting (not my choice, just something i have to deal with), but i'd also like to handle other communication errors as well.</p>\n\n<p>in practice, the above code acts as though it works, however the remote service no longer receives further write calls to the $notifystream.  no errors are generated, the $notifystream happily takes further writes, but they are not delivered to the remote.</p>\n\n<p>i have a feeling i'm doing this wrong.  i'm not looking to rewrite the rest of the application's event loop, so please no 'just use AnyEvent'-type responses -- really hoping to gain a better understanding of how to reconnect/reuse/recreate the variables in use here (IO::Socket::INET and IO::Async::Stream) to compensate when a remote server is temporarily unavailable.</p>\n\n<p>Any suggestions or references towards this goal are welcome.  Thanks!</p>\n\n<p>-=-=-=-=-</p>\n\n<p>to summarize errors i have (and have not) received:\nif i leave no usleep, the reconnect (or recreation) of the base socket will fail due to the remote service being unavailable.\nif i attempt to recreate the socket from scratch and then 'configure' the stream, i get 'can't call method sysread on undefined' which leads me to believe the socket is not recreated correctly.\nat no time do the stream's built in 'on_read_error' or 'on_write_error' handlers fire, regardless of how much i write to the socket with the current code, although if i destroy the socket entirely these will generate an error.\nthe socket simply seems to still be active after i know it has closed, and a reconnect does not seem to change anything.  no errors are generated, but the socket is not being written to.</p>\n\n<p>is there different syntax for reconnecting to an IO::Socket::INET socket?  so far calls to ->connect() or rebuilding from scratch seem to be the only options for a closed connection, and neither seem to work.</p>\n"}]