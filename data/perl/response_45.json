[{"tags": ["eclipse", "perl", "debugging", "epic"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5576963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3dd7e76c9c1df00094506ce8224608e?s=128&d=identicon&r=PG&f=1", "display_name": "mimohodom", "link": "https://stackoverflow.com/users/5576963/mimohodom"}, "is_accepted": false, "score": 0, "last_activity_date": 1448840358, "creation_date": 1448840358, "answer_id": 33989478, "question_id": 33792807, "link": "https://stackoverflow.com/questions/33792807/eclipse-epic-connection-timed-out-error/33989478#33989478", "title": "Eclipse EPIC - connection timed out error", "body": "<p>It looks like I found the answer. The IP address mentioned in the error message is the one that I had statically added in the hosts file. For some reasons EPIC searches this address for debugger connection skipping dynamic addressing assigned by DHCP.</p>\n"}], "owner": {"reputation": 31, "user_id": 5576963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3dd7e76c9c1df00094506ce8224608e?s=128&d=identicon&r=PG&f=1", "display_name": "mimohodom", "link": "https://stackoverflow.com/users/5576963/mimohodom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448840358, "creation_date": 1447890855, "question_id": 33792807, "link": "https://stackoverflow.com/questions/33792807/eclipse-epic-connection-timed-out-error", "title": "Eclipse EPIC - connection timed out error", "body": "<p>I am puzzled: when I am running EPIC Perl debugging tool it produces \"Timed out while waiting for Perl debugger connection\" error along with \"Unable to connect to remote host: 192.168.1.37:5000\nCompilation failed in require....\" on the console.</p>\n\n<p>I am on OS X 10.11.1 (El Capitan, darwin 15.0), using Eclipse Kepler 4.3.2, EPIC 0.7.0 (same thing happens with 6.5.6), and Perl 5.18 (prebuilt for darwin) or ActiveState Perl 5.20</p>\n\n<p>Do you have any suggestions?\nThanks in advance.</p>\n"}, {"tags": ["perl", "csv"], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 1, "last_activity_date": 1447891590, "creation_date": 1447891590, "answer_id": 33792949, "question_id": 33792622, "link": "https://stackoverflow.com/questions/33792622/perl-to-pass-valuse-down-csv-file-where-missing/33792949#33792949", "title": "Perl, to pass valuse down csv file where missing.", "body": "<pre><code>perl -F, -lape '\n    next if $. == 1;\n    $F[0] = $size[$F[2]] if $F[0] eq \"\";\n    $size[$F[1]] = $F[0];\n    $_ = join \",\", @F;\n' input.file &gt; output.file\n</code></pre>\n\n<p>I'm assuming that there will not be a case where a line with an empty size also has a parent with an empty size.</p>\n"}], "owner": {"reputation": 141, "user_id": 3767953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d63deb1aec93f67b9add5fa30a235bc4?s=128&d=identicon&r=PG&f=1", "display_name": "user3767953", "link": "https://stackoverflow.com/users/3767953/user3767953"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 33792949, "answer_count": 1, "score": 0, "last_activity_date": 1447891590, "creation_date": 1447889879, "question_id": 33792622, "link": "https://stackoverflow.com/questions/33792622/perl-to-pass-valuse-down-csv-file-where-missing", "title": "Perl, to pass valuse down csv file where missing.", "body": "<p>I am trying to fill in the gaps in a csv file with information from above in the csv file. </p>\n\n<p>I have a CSV file with three columns in order called Mb_size, tax_id, and parent_id. There is a relationship between tax_id and parent_id, for example, in the csv file at the end where you have 22.2220658537 for the mb size, 5820 is the tax id and 5819 is the parent id. As move up the file 5819 the parent id will be seen in the tax id column. The parent id can be repeated but tax id is uniqie in its column.</p>\n\n<p>At the top of the csv file some of the taxa id have corresponding MB size next to them. I want to pass these values down to fill in the gaps. So if there is a taxa id with no mb size next to it, take it from the above by using the parent id and taxa id relationship.I am trying to alter a previous script I have but I cant get the relationship coded. </p>\n\n<p>The example input file:</p>\n\n<pre><code>Mb_size,tax_id,parent_id\n\n377.810518214,1,1\n377.810518214,131567,1\n377.810518214,2759,131567\n288.886032927,5819,2759\n6565.2,999923,2759\n466.7350035,147429,2759\n22.2220658537,5820,5819\n184.801317,4557,147429\n,4575,147429\n555.55,1234,5819\n,4321,999923\n,9999,4321\n</code></pre>\n\n<p>The example output:</p>\n\n<pre><code>Mb_size,tax_id,parent_id\n377.810518214,1,1\n377.810518214,131567,1\n377.810518214,2759,131567\n288.886032927,5819,2759\n6565.2,999923,2759\n466.7350035,147429,2759\n22.2220658537,5820,5819\n184.801317,4557,147429\n466.7350035,4575,147429\n555.55,1234,5819\n6565.2,4321,999923\n6565.2,9999,4321\n</code></pre>\n\n<p>The code I have :\n     use strict;\n     use warnings;</p>\n\n<pre><code> open taxa_fh, '&lt;', \"$ARGV[0]\" or die qq{Failed to open \"$ARGV[1]\" for input: $!\\n};\n open match_fh, \"&gt;$ARGV[0]_passedDOWN.csv\" or die qq{Failed to open for output: $!\\n};\n\n my %node_data;\n my %parent;\n my @node_order;\n my $header;\n while ( my $line = &lt;taxa_fh&gt; ) {\n chomp( $line );\n\n   if (1 == $.) {\n      $header = $line;\n      next; \n     }\n\n     my @fields    = split( /,/, $line );\n     my $Mb_size   = $fields[0] || 0; \n     my $tax_id    = $fields[1];\n     my $parent_id = $fields[2];\n\n  $parent{$tax_id} = $parent_id;\n  push @node_order, $tax_id;\n  $node_data{$tax_id} = $Mb_size;\n}\n\n print match_fh \"$header\\n\";\n for my $id ( @node_order ) {\n\n  if ( exists $node_data{$tax_id} ) {\n         print match_fh \"$Mb_size, $id, \" . $parent{$id} . \"\\n\";\n\n      } else {\n         $parent = $parent{$parent}\n     }\n\n     }\n\n    close taxa_fh;\n    close match_fh;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 6, "creation_date": 1447883272, "post_id": 33790662, "comment_id": 55349205, "body": "What is the specific problem you&#39;re having? I&#39;m not going to scan 50 lines of code for comments---please spell out your specific problem up front. By the way, <code>&gt;&gt;</code> is a bit shift operator, not an enhanced form of greater than."}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1447883606, "post_id": 33790662, "comment_id": 55349389, "body": "FYI you can use <code>next</code> instead of <code>goto MIRACLE</code>"}, {"owner": {"reputation": 1, "user_id": 5578438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9232678f231577b109a4e0c3d9734aba?s=128&d=identicon&r=PG&f=1", "display_name": "Q.Ummy", "link": "https://stackoverflow.com/users/5578438/q-ummy"}, "edited": false, "score": 0, "creation_date": 1447884466, "post_id": 33790662, "comment_id": 55349859, "body": "Sorry, my mistake. The problems is in the script. 1 the second &quot;if&quot;, why should I use double &quot;&gt;&quot; to make it work? one &quot;&gt;&quot; will be ignored.  2 4th &quot;if&quot;, similar problem, double &quot;=&quot;. 3 MOST IMPORTANT problem. In the result picture, the range 240~260, I use the debug software, the $m_z_value at that time is 245.1488, the $tmp_to is 260, but the program run the script in if ($m_z_value &gt;&gt; $tmp_to){}. And other results are all good. I thought it was a mistake, but I&#39;ve run it many times, same results come out...It drives me crazy...@MattJacob"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1447884651, "post_id": 33790662, "comment_id": 55349953, "body": "You should <a href=\"http://stackoverflow.com/posts/33790662/edit\">edit</a> the original post to include that information/clarify the problem. Also, because of the image, the post is not currently a good <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>. Nobody is going to retype a column of floating-point numbers to reproduce your issue so that they can help you. Please include that as text."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1447885916, "post_id": 33790662, "comment_id": 55350527, "body": "Please avoid images wherever possible. Code and data should be posted <i>within</i> the question so that we can easily replicate your problem"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447889119, "post_id": 33790662, "comment_id": 55351774, "body": "<code>GOD</code> and <code>MIRACLE</code> may make you laugh, but they don&#39;t help anyone to understand your program. If you aren&#39;t taking this seriously then you should quit the course, but please don&#39;t ask for help when you have written comedy"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447889267, "post_id": 33790662, "comment_id": 55351825, "body": "<i>Well done</i> for prefixing <code>++</code> in <code>++$bin_number</code> etc. Most people just know the name of the C++ language and wrongly put it afterwards without thinking"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447892139, "post_id": 33790662, "comment_id": 55352866, "body": "@Borodin It makes no difference in this case whether it&#39;s <code>++$i</code> or <code>$i++</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447895726, "post_id": 33790662, "comment_id": 55353987, "body": "@MattJacob: Writing bad code because it does the same thing as good code isn&#39;t a good guideline. It rarely makes any difference with modern compilers if the value of the increment is unused, but that is not the point. Writing <code>C++</code> means <i>increment C but return me C&#39;s previous value</i>. That&#39;s almost <i>never</i> what is intended. &quot;Increment C&quot; looks like <code>++C</code>. It is always easier to read if the verb precedes the object. The name of the language has a lot to answer for"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447896523, "post_id": 33791876, "comment_id": 55354206, "body": "Nice tight code, but <code>while ( defined( my $m_z_value = &lt;$ff&gt; ) )</code> is commonly written <code>while ( my $m_z_value = &lt;$ff&gt; )</code>"}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447922168, "post_id": 33791876, "comment_id": 55363484, "body": "@Borodin Won&#39;t that fail if a zero m_z_value comes in?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447955476, "post_id": 33791876, "comment_id": 55387280, "body": "No. Perl adds the <code>defined</code> for you in this case. Try running <code>perl -MO=Deparse -e&#39;print $line while $line = &lt;&gt;&#39;</code>"}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 0, "last_activity_date": 1447922102, "last_edit_date": 1447922102, "creation_date": 1447886573, "answer_id": 33791876, "question_id": 33790662, "link": "https://stackoverflow.com/questions/33790662/how-can-i-use-the-if-and-else-to-do-the-multiple-determination-in-this-case-if/33791876#33791876", "title": "How can I use the if and else to do the multiple determination in this case? if and else cannot work well", "body": "<p>First thing, the bin number is easy to calculate directly:</p>\n\n<pre><code>$bin_number = int (($m_z_value - $from) / $intervals);\n</code></pre>\n\n<p>Next thing, perl has arrays for representing things like bins:</p>\n\n<pre><code>++$bin_pep_number[$bin_number];\n$mass[$bin_number] += $m_z_value;\n</code></pre>\n\n<p>Putting it all together:</p>\n\n<pre><code>my @bin_pep_number;\nmy @mass;\nmy $bin_number;\nwhile(defined(my $m_z_value = &lt;$ff&gt;)) {\n    $m_z_value =~ s/^\\s+//;\n    chomp $m_z_value;\n\n    $bin_number = int (($m_z_value - $from) / $intervals);\n    ++$bin_pep_number[$bin_number];\n    $mass[$bin_number] += $m_z_value;\n    }\n\n$bin_number = 0;\nfor (my $tmp_from=$from; $tmp_from&lt;$to; $tmp_from+=$intervals) {\n    my $tmp_to = $tmp_from + $intervals;\n    print \"$bin_number\\t\\t\";\n    print \"$tmp_from\\t\";\n    print \"$tmp_to\\t\";\n    print \"$bin_pepnumber[$bin_number]\\t\\t\";\n    print \"$mass[$bin_number]/$bin_pepnumber[$bin_number]\" if $bin_pep_number[$bin_number];\n    print \"\\n\";\n    ++$bin_number;\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5578438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9232678f231577b109a4e0c3d9734aba?s=128&d=identicon&r=PG&f=1", "display_name": "Q.Ummy", "link": "https://stackoverflow.com/users/5578438/q-ummy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 1, "answer_count": 1, "score": -3, "last_activity_date": 1447922102, "creation_date": 1447881754, "last_edit_date": 1447889396, "question_id": 33790662, "link": "https://stackoverflow.com/questions/33790662/how-can-i-use-the-if-and-else-to-do-the-multiple-determination-in-this-case-if", "title": "How can I use the if and else to do the multiple determination in this case? if and else cannot work well", "body": "<p>We need to make a program to analyse a DNA sequence with Perl. Mine is the last task: to analyse the result file from the others.</p>\n\n<p>This is a column of numbers which are sorted from smallest to biggest. <a href=\"http://i.stack.imgur.com/GH0Dx.png\" rel=\"nofollow\">The result file</a></p>\n\n<p>I have three parameters get from the STDIN. They are <code>$from</code>, <code>$to</code>, and <code>$intervals</code>. For example</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1000 5000 200\n</code></pre>\n\n<p>In this case, the range 1000 .. 5000 is divided into 20 bins. Each bin's size is 200. The program should scan the data file and find whether the number is in the current bin. If it is in this bin, then calculate it and go to the next line until the number is out of this bin; then go to the next bin. If it is not in the current bin, then go to the next bin and do nothing about it.</p>\n\n<p>The final result should be look like <a href=\"http://i.stack.imgur.com/pMKQ4.png\" rel=\"nofollow\">this</a></p>\n\n<p>Here is my script about this part. My questions are in the script.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>while ( defined( my $m_z_value = &lt;$ff&gt; ) ) {\n\n    $m_z_value =~ s/^\\s+//;           # /\n\n  GOD:\n    chomp $m_z_value;\n\n    if ( $tmp_to &lt;= $to and $m_z_value &lt;= $to ) {    # limit the bin in the range\n\n        if ( $m_z_value &gt;&gt; $tmp_to ) {               # Here if I don't use double \"&gt;\", the program will just ignore it. Even I use double \"&gt;\",sometime it still don't work, I don't know why?\n            ++$bin_number;\n            print \"$bin_number\\t\\t $tmp_from\\t $tmp_to\\t 0\\t\\t -\\n\";\n            $tmp_from = $tmp_from + $intervals;\n            $tmp_to   = $tmp_to + $intervals;\n            goto GOD;                                # if the value is in the main range but out of the bin, move to the next bin and test it again\n        }\n        else {\n            if ( $m_z_value &lt; $from ) {\n                goto MIRACLE;                        # if the value is before the range, go to next line\n            }\n            else {\n                if ( $m_z_value == $from ) {         # similar problem, if I don't use double \"=\", in this part, the program will define the value of $m_z_value the same as $from\n                    $mass       = $mass + $m_z_value;\n                    $whole_mass = $whole_mass + $m_z_value;\n                    ++$bin_pepnumber;\n                    ++$whole_pepnumber;\n\n                    print \"$bin_number\\t\\t $tmp_from\\t $tmp_to\\t $bin_pepnumber\\t\\t $mass/$bin_pepnumber\\n\";\n                }\n                else {\n                    if ( $m_z_value &gt;= $tmp_from and $m_z_value &lt;= $tmp_to ) {\n                        $mass       = $mass + $m_z_value;\n                        $whole_mass = $whole_mass + $m_z_value;\n                        ++$bin_pepnumber;\n                        ++$whole_pepnumber;\n                    }\n                    else {\n                        if ( $m_z_value &gt; $tmp_to ) {\n                            print \"$bin_number\\t\\t $tmp_from\\t $tmp_to\\t $bin_pepnumber\\t\\t $mass/$bin_pepnumber\\n\";\n                            ++$bin_number;\n                            $mass          = $m_z_value;\n                            $whole_mass    = $whole_mass + $m_z_value;\n                            $bin_pepnumber = 0;\n                            ++$whole_pepnumber;\n                            $tmp_from = $tmp_from + $intervals;\n                            $tmp_to   = $tmp_to + $intervals;\n                            goto GOD;    #if the m/z value is bigger than the range, go to next bin and test it again\n                        }\n                    }\n                }\n            }\n        }\n      MIRACLE:\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447882793, "post_id": 33790492, "comment_id": 55348935, "body": "You don&#39;t have to download to a temp directory and move the file. You could store it in your actual destination directory and <code>rename</code> it. Or use <a href=\"https://metacpan.org/pod/LWP\" rel=\"nofollow noreferrer\">LWP</a>, which is more or less the canonical way to handle network requests in Perl."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1447883025, "post_id": 33790813, "comment_id": 55349064, "body": "A previous edit had me using <code>File::Copy</code> (<a href=\"http://perldoc.perl.org/File/Copy.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/File/Copy.html</a>), but <code>rename</code> does the same thing as <code>File::Copy::move</code>, and it doesn&#39;t require another loaded module (although <code>File::Copy</code> is core)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1447884976, "post_id": 33790813, "comment_id": 55350110, "body": "It would be better to use File::Basename or File::Spec (both of which are core modules) to split the path."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447885814, "post_id": 33790813, "comment_id": 55350482, "body": "Very good point. I&#39;ll fix it when I&#39;m home unless you&#39;re inclined ;)"}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1447898701, "post_id": 33790813, "comment_id": 55354783, "body": "So my original motivation for asking was I don&#39;t want to clobber whatever file happened to be at the old location, and I figured the easiest way to accomplish that when I go back and make the script a little more resilient is to have control over the name of the file. Is the right approach to create a new directory for the file since you don&#39;t control its name and File::Fetch won&#39;t bother to append numbers for disambiguation?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1447911690, "post_id": 33790813, "comment_id": 55358544, "body": "@GregoryNisbet The right approach would be to use File::Temp to create a temporary directory, or LWP as I suggested in my other comment. See my <a href=\"http://stackoverflow.com/a/33796067/82262\">answer</a> for a solution using File::Temp."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1447924869, "post_id": 33790813, "comment_id": 55365226, "body": "@Gregory Or you could <code>use File::Copy;</code> and do your own &quot;versioning&quot; by copying before (or instead of) renaming. I&#39;d suggest just appending a .timestamp: <code>copy($where,$where.&quot;.&quot;.</code>date +%F-%T<code>);</code>"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1447886264, "last_edit_date": 1447886264, "creation_date": 1447882348, "answer_id": 33790813, "question_id": 33790492, "link": "https://stackoverflow.com/questions/33790492/perl-fetch-file-to-particular-location/33790813#33790813", "title": "Perl fetch file to particular location", "body": "<p>You can simply rename the file after it has been fetched. The automatic modification of the file name is unnecessary, but I threw it in anyways.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse File::Basename;\nuse File::Fetch;\n\nmy $dir = './incoming';\n\nmy $ff = File::Fetch-&gt;new(\n    uri =&gt; 'http://downloads.haskell.org/~ghc/7.10.2/ghc-7.10.2-src.tar.bz2'\n);\n\nmy $where = $ff-&gt;fetch(to =&gt; $dir);\nmy $fname = basename($where);\n\nrename $where, \"$dir/$fname\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 1, "last_activity_date": 1447882787, "last_edit_date": 1447882787, "creation_date": 1447882440, "answer_id": 33790839, "question_id": 33790492, "link": "https://stackoverflow.com/questions/33790492/perl-fetch-file-to-particular-location/33790839#33790839", "title": "Perl fetch file to particular location", "body": "<p>Have you considered just post-moving the file?:</p>\n\n<pre><code>...\nmy $where = $ff-&gt;fetch(to =&gt; './incoming');\n\nsystem(\"mv\", $where, \"./incoming/ghc.tar.bz2\");\n</code></pre>\n\n<p>Or, as stevieb notes, a better alternative is the builtin move:</p>\n\n<pre><code>...\nmy $where = $ff-&gt;fetch(to =&gt; './incoming');\n\nrename $where, \"./incoming/ghc.tar.bz2\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1447912475, "last_edit_date": 1447912475, "creation_date": 1447911609, "answer_id": 33796067, "question_id": 33790492, "link": "https://stackoverflow.com/questions/33790492/perl-fetch-file-to-particular-location/33796067#33796067", "title": "Perl fetch file to particular location", "body": "<pre><code>use strict;\nuse warnings;\n\nuse File::Fetch;\nuse File::Temp qw(tempdir);\n\nmy $dir = '/Users/matt/Desktop';\nmy $ff = File::Fetch-&gt;new(uri =&gt; 'http://downloads.haskell.org/~ghc/7.10.2/ghc-7.10.2-src.tar.bz2');\nmy $where = $ff-&gt;fetch(to =&gt; tempdir(CLEANUP =&gt; 1)) or die $ff-&gt;error;\nmy $file = $ff-&gt;file;\n\nwhile (-f \"$dir/$file\") {\n    # change name, append a number, whatever...\n    # $file = '...';\n}\n\nrename($where, \"$dir/$file\") or die $!;\n</code></pre>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 1, "accepted_answer_id": 33790813, "answer_count": 3, "score": 1, "last_activity_date": 1447912475, "creation_date": 1447881210, "question_id": 33790492, "link": "https://stackoverflow.com/questions/33790492/perl-fetch-file-to-particular-location", "title": "Perl fetch file to particular location", "body": "<p>The script below fetches the source to ghc to a folder calling './incoming/ghc.tar.bz2'. There doesn't seem to be a way to specify a destination file rather than a destination directory (and slurping the download into a scalar just to dump it later seems inefficient). What is the preferred way to download a file to a given path rather than to the directory specified by a given path. I would like to avoid depending on a non-core module or downloading to a <code>tmp</code> directory just to move the file somewhere else if at all possible.</p>\n\n<pre><code>use strict;\nuse warnings FATAL =&gt; 'all';\n\nmy $ff = File::Fetch-&gt;new(\n    uri =&gt; 'http://downloads.haskell.org/~ghc/7.10.2/ghc-7.10.2-src.tar.bz2');\n\nmy $where = $ff-&gt;fetch(to =&gt; './incoming/ghc.tar.bz2');\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 717, "user_id": 1483288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5b0b7a55223dba7a538aaf97dbbc6150?s=128&d=identicon&r=PG", "display_name": "ccc31807", "link": "https://stackoverflow.com/users/1483288/ccc31807"}, "is_accepted": true, "score": -1, "last_activity_date": 1447885340, "last_edit_date": 1447885340, "creation_date": 1447880166, "answer_id": 33790187, "question_id": 33789310, "link": "https://stackoverflow.com/questions/33789310/calling-coreftp-application-with-perl/33790187#33790187", "title": "Calling coreftp application with perl", "body": "<p>I have had a great deal of success with PUTTY, specifically, <code>PSCP</code>. You can run <code>PSCP</code> on the command line, to test it and to make sure that you are calling it correctly. Then, in your script, call it with <code>system()</code>, or back ticks, or however you want to. Whether it's better to use SCP or SFTP is a matter of debate, and I don't take sides here. For my purposes, <code>PSCP</code> worked very well.</p>\n\n<p>Unfortunately, I don't currently have access to a remote server, or I would write a script to illustrate it. Still, it's easy to use and reliable.</p>\n\n<p>Download: <a href=\"http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html\" rel=\"nofollow\">http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html</a></p>\n\n<p>Usage example: <code>pscp fred@example.com:/etc/hosts c:\\temp\\example-hosts.txt</code></p>\n"}], "owner": {"reputation": 120, "user_id": 3101182, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a723eb4d02a334b5ef244a2b097bf96f?s=128&d=identicon&r=PG&f=1", "display_name": "user3101182", "link": "https://stackoverflow.com/users/3101182/user3101182"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 33790187, "answer_count": 1, "score": 0, "last_activity_date": 1450554334, "creation_date": 1447877018, "last_edit_date": 1450554334, "question_id": 33789310, "link": "https://stackoverflow.com/questions/33789310/calling-coreftp-application-with-perl", "title": "Calling coreftp application with perl", "body": "<p>I am attempting to loop through a set of files and upload to an FTP site using <code>coreftp</code>. I need to use core ftp and cannot use <code>Net::SFTP</code> or any other module.</p>\n\n<p>When I run this command from CMD prompt, it works perfectly, but as you can see it is only for one file:</p>\n\n<pre><code>'\"c:\\program files\\coreftp\\coreftp.exe\" -s -O -site My_Upload_Site -u //someserver/atextfile.txt -p /directory/'\n</code></pre>\n\n<p>I am requesting assistance on combining the <code>foreach</code> loop variable with the command prompt. How can I call the CMD script and replace the <code>\"//someserver/atextfile.txt\"</code> with <code>$TheInputDir/$FileToUse</code> from the foreach loop?</p>\n\n<pre><code> foreach $FileToUse(@FilesToUse)  \n    {\n'\"c:\\program files\\coreftp\\coreftp.exe\" -s -O -site My_Upload_Site -u //someserver/atextfile.txt -p /directory/'\n\n#once uploaded move the file\n    move (\"$TheInputDir/$FileToUse\", \"$TheMoveDir/$FileToUse\") or $MailMsg = $MailMsg . \"ERROR: Moving files Failed! \\n\";\n\n    }\n</code></pre>\n\n<p>if there is a better way, I am always open to suggestions.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3262, "user_id": 1900537, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/I7rTU.jpg?s=128&g=1", "display_name": "romants", "link": "https://stackoverflow.com/users/1900537/romants"}, "edited": false, "score": 4, "creation_date": 1447870790, "post_id": 33787402, "comment_id": 55341723, "body": "Have you tried just reading from file ? Possible duplicate of <a href=\"http://stackoverflow.com/questions/206661/what-is-the-best-way-to-slurp-a-file-into-a-string-in-perl\" title=\"what is the best way to slurp a file into a string in perl\">stackoverflow.com/questions/206661/&hellip;</a> ?"}, {"owner": {"reputation": 3262, "user_id": 1900537, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/I7rTU.jpg?s=128&g=1", "display_name": "romants", "link": "https://stackoverflow.com/users/1900537/romants"}, "edited": false, "score": 1, "creation_date": 1447871091, "post_id": 33787402, "comment_id": 55341901, "body": "The question lists many ways to read from file. For example  open F, $filename or die &quot;Can&#39;t read $filename: $!&quot;;   $file = &lt;F&gt;;   close F;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447881309, "post_id": 33787402, "comment_id": 55348080, "body": "<a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/open.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 2, "last_activity_date": 1447872233, "creation_date": 1447872233, "answer_id": 33787893, "question_id": 33787402, "link": "https://stackoverflow.com/questions/33787402/read-address-from-another-file-using-perl/33787893#33787893", "title": "Read address from another file using Perl", "body": "<p>I'm going to assume that the file will always only have one line in it... </p>\n\n<p>First, always put <code>use warnings;</code> and <code>use strict;</code> at the top of your scripts. This catches the most common and basic problems before you even get going (like not declaring your variables with <code>my</code> for instance).</p>\n\n<p>You need to <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\">open</a> the file (using the three-argument form, and catching any errors with <code>die</code>), then you need to assign the line in the file to a variable, then <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">chomp</a> off any newline character.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse LWP::Simple;\n\nmy $file = 'address.txt';\n\nopen my $fh, '&lt;', $file\n  or die \"can't open the $file file!: $!\";\n\nmy $url = &lt;$fh&gt;;\nchomp $url;\n\nmy $content = get($url);\ndie \"Couldn't get it!\" unless defined $content;\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 5033701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gAzqe.jpg?s=128&g=1", "display_name": "fuser", "link": "https://stackoverflow.com/users/5033701/fuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 33787893, "answer_count": 1, "score": -5, "last_activity_date": 1447872233, "creation_date": 1447870686, "question_id": 33787402, "link": "https://stackoverflow.com/questions/33787402/read-address-from-another-file-using-perl", "title": "Read address from another file using Perl", "body": "<p>I'm trying to create a script that will read URL from another file. My first step is a creation of the file with my URL:</p>\n\n<pre><code>cat &gt; address.txt\nhttps://unix.stackexchange.com\n</code></pre>\n\n<p>Then I create perl-script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse LWP::Simple;\n$content = get($URL);\ndie \"Couldn't get it!\" unless defined $content;\n</code></pre>\n\n<p>What should I do to set address from address.txt instead of $URL in my script?</p>\n"}, {"tags": ["perl", "sorting", "hash"], "answers": [{"comments": [{"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 369, "user_id": 4159455, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0130c122db7e88b4207f83dfe94ba3a1?s=128&d=identicon&r=PG&f=1", "display_name": "David Mordigal", "link": "https://stackoverflow.com/users/4159455/david-mordigal"}, "edited": false, "score": 1, "creation_date": 1447875873, "post_id": 33786606, "comment_id": 55344856, "body": "@DavidMordigal If you find a answer that suits your needs you should accept it :-)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1447872237, "last_edit_date": 1447872237, "creation_date": 1447867964, "answer_id": 33786606, "question_id": 33786490, "link": "https://stackoverflow.com/questions/33786490/how-to-sort-an-array-of-hashes-with-multiple-keys-in-perl/33786606#33786606", "title": "How to sort an array of hashes with multiple keys in Perl?", "body": "<p>You can't do it with <code>$key</code> like that, because you have an array(ref), not a hash(ref) in <code>$students</code>. (And each element of the array is a hash reference). </p>\n\n<p>When you <code>sort</code> you iterate an list of values comparing elements (e.g. each element of an array, or each key returned by <code>keys %hash</code>) - each element in turn is assigned to <code>$a</code> and <code>$b</code> and compared. If you specify a custom sort, it should return negative, zero or positive based on relative position of elements. </p>\n\n<p>The 'default' is:</p>\n\n<pre><code>sort { $a cmp $b } @list;\n</code></pre>\n\n<p>Which compares alphanumerically and <code>cmp</code> returns <code>-1</code>, <code>0</code> or <code>1</code> depending on relative ordering. (For numeric comparison we would use <code>$a &lt;=&gt; $b</code>).  We need to iterate the elements of your array (ref) and then compare them by extracting a suitable comparison value. </p>\n\n<p>So:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $students = [\n    { name =&gt; \"Johnson\", age =&gt; 19, gpa =&gt; 2.5, major =&gt; \"CS\" },\n    { name =&gt; \"Jones\", age =&gt; 18, gpa =&gt; 2.0, major =&gt; \"IT\" },\n    { name =&gt; \"Brown\", age =&gt; 19, gpa =&gt; 2.2, major =&gt; \"SE\" }\n];\n\nforeach my $hashref ( sort { $a -&gt; {name} cmp $b -&gt; {name} } @$students ) {\n    print $hashref -&gt; {name},\"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 4159455, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0130c122db7e88b4207f83dfe94ba3a1?s=128&d=identicon&r=PG&f=1", "display_name": "David Mordigal", "link": "https://stackoverflow.com/users/4159455/david-mordigal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447872237, "creation_date": 1447867639, "question_id": 33786490, "link": "https://stackoverflow.com/questions/33786490/how-to-sort-an-array-of-hashes-with-multiple-keys-in-perl", "title": "How to sort an array of hashes with multiple keys in Perl?", "body": "<p>I have a reference to a list of hashes in Perl, like this:</p>\n\n<pre><code>my $students = [\n    { name =&gt; \"Johnson\", age =&gt; 19, gpa =&gt; 2.5, major =&gt; \"CS\" },\n    { name =&gt; \"Jones\", age =&gt; 18, gpa =&gt; 2.0, major =&gt; \"IT\" },\n    { name =&gt; \"Brown\", age =&gt; 19, gpa =&gt; 2.2, major =&gt; \"SE\" }\n];\n</code></pre>\n\n<p>I need to sort this list ascending and descending by the <code>name</code> key. I know about the Perl <code>sort</code> function, but this is a little confusing to me with hashes and multiple keys.</p>\n\n<p>I'm trying this (going off of other questions I've seen on SO):</p>\n\n<pre><code>foreach my $key (sort {$%students-&gt;{name}}) {\n    print $students{$key} . \"\\n\";\n}\n</code></pre>\n\n<p>But it's not quite there (getting syntax errors).</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1447861877, "post_id": 33784436, "comment_id": 55335765, "body": "The <code>ARRAY(0x210e150)</code> is not an error. It&#39;s the string representation/address of a data structure."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1447862090, "post_id": 33784436, "comment_id": 55335928, "body": "The code does not make sense for the output you are showing. There is no array ref in <code>$json</code> if that is what you are showing as <code>$VAR1</code>. Also you keep referring to a key <code>docs</code>, but there is only <code>mydocs</code> in your data. If thee output <code>ARRAY(0x210e150)</code> is from the <code>print &quot;$json-&gt;{&#39;response&#39;}-&gt;{&#39;docs&#39;}</code> line, then it is pretty much correct, assuming there is a key <code>docs</code> (and not <code>mydocs</code>), because that contains an array ref with a bunch of hash refs inside, and if you <code>print</code> that, it will show the address. You could <code>Dumper</code> it like you did above to see something else."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 7, "last_activity_date": 1447862496, "last_edit_date": 1447862496, "creation_date": 1447862182, "answer_id": 33784620, "question_id": 33784436, "link": "https://stackoverflow.com/questions/33784436/how-to-extract-json-value-in-perl/33784620#33784620", "title": "How to extract json value in perl", "body": "<p><code>$json</code> is a hash reference, not an array reference, so looping over <code>@$json</code> won't work. What you need to do is delve down to where the array of hashes starts, and loop over that:</p>\n\n<pre><code>for my $host (@{ $json-&gt;{response}{mydocs} }){\n    print \"host: $host-&gt;{host}\\n\";\n}\n</code></pre>\n\n<p>...and this:</p>\n\n<pre><code>print \"$json-&gt;{'response'}-&gt;{'mydocs'}\";\n</code></pre>\n\n<p>...is printing out the memory address of the <code>mydocs</code> array reference. What I do above is loop over this array reference extracting each hash reference it contains one at a time, then work on that.</p>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2447, "favorite_count": 0, "accepted_answer_id": 33784620, "answer_count": 1, "score": 1, "last_activity_date": 1447862496, "creation_date": 1447861598, "last_edit_date": 1447862226, "question_id": 33784436, "link": "https://stackoverflow.com/questions/33784436/how-to-extract-json-value-in-perl", "title": "How to extract json value in perl", "body": "<p>i am trying to extract the the values which I need 'system1 system2 system3 system4' . I used to extract the content from <code>$json</code> output like below. I am getting error <code>ARRAY(0x210e150)</code>. Please suggest how to retrieve those values only.</p>\n\n<pre><code>$VAR1 = {\n          'response' =&gt; {\n                          'mydocs' =&gt; [\n                                      {\n                                        'host' =&gt; 'system1'\n                                      },\n                                      {\n                                        'host' =&gt; 'system2'\n                                      },\n                                      {\n                                        'host' =&gt; 'system3'\n                                      },\n                                      {\n                                        'host' =&gt; 'system4'\n                                      }\n                                      ],\n                                      }\n\n                                   };\n\nuse LWP::Simple;              \nuse JSON;    \nuse Data::Dumper;               \n\n\nmy $url = \"https://localhost/content;\n\nmy $json = from_json(get($url));\n\nprint Dumper($json); # received above output\n\nprint \"$json-&gt;{'response'}-&gt;{'docs'}\";\n\nfor my $data (@$json) {\n    my $result = ref $data-&gt;{response} ? $data-&gt;{response}-&gt;{docs} : $data-&gt;{response};\n    print \"Result is $result\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 3, "creation_date": 1447859357, "post_id": 33783568, "comment_id": 55333775, "body": "<i>Always</i> <code>use strict; use warnings;</code>!"}, {"owner": {"reputation": 548, "user_id": 1218919, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/245a9a6d7af44d3820591435f058fbd8?s=128&d=identicon&r=PG", "display_name": "darkgrin", "link": "https://stackoverflow.com/users/1218919/darkgrin"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1447859450, "post_id": 33783568, "comment_id": 55333850, "body": "Oh ya I actually have those pragmas in my test file. I&#39;ll edit it. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 12, "last_activity_date": 1447861768, "last_edit_date": 1447861768, "creation_date": 1447860292, "answer_id": 33783938, "question_id": 33783568, "link": "https://stackoverflow.com/questions/33783568/can-someone-explain-why-perl-behaves-this-way-variable-scoping/33783938#33783938", "title": "Can someone explain why Perl behaves this way (variable scoping)?", "body": "<p>The behaviour of <code>my</code> is documented in <a href=\"http://perldoc.perl.org/perlsub.html#Private-Variables-via-my()\"><code>perlsub</code></a> - it boils down to this - <code>perl</code> knows <code>$string</code> is in scope - because the <code>my</code> tells it so.</p>\n\n<blockquote>\n  <p>The my operator declares the listed variables to be lexically confined to the enclosing block, conditional (if/unless/elsif/else), loop (for/foreach/while/until/continue), subroutine, eval, or do/require/use'd file. </p>\n</blockquote>\n\n<p>It means it's 'in scope' from the point at which it's first 'seen' until the closing bracket of the current 'block'. (Or in your example - the end of the code)</p>\n\n<p>However - in your example <code>my</code> <em>also</em> assigns a value. </p>\n\n<p>This scoping process happens at compile time - where perl checks where it's valid to use <code>$string</code> or not. (Thanks to <code>strict</code>). However - it can't know what the value was, because that might change during code execution. (and is non-trivial to analyze)</p>\n\n<p>So if you do this it might be a little clearer what's going on:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $string; #undefined\nfunc();\n$string = 'string';\nfunc();\n\nsub func {\n    print $string, \"\\n\";\n}\n</code></pre>\n\n<p><code>$string</code> is in scope in both cases - because the <code>my</code> happened at compile time - before the subroutine has been called - but it doesn't have a value set beyond the default of <code>undef</code> prior to the first invocation. </p>\n\n<p>Note this contrasts with:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nsub func {\n    print $string, \"\\n\";\n}\n\nmy $string; #undefined\nfunc();\n$string = 'string';\nfunc();\n</code></pre>\n\n<p>Which errors because when the sub is declared, <code>$string</code> isn't in scope. </p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447868909, "post_id": 33784138, "comment_id": 55340644, "body": "I don&#39;t follow. Running <code>perl -MDevel::Peek -e&#39;mysub(); my $foo; sub mysub { Dump($foo) }&#39;</code> shows <code>$foo</code> with the PADMY flag, while <code>perl -MDevel::Peek -e&#39;mysub(); sub mysub { Dump($foo) }&#39;</code> (obviously) doesn&#39;t. I don&#39;t know much about perlguts, so I could be way off, but it seems like <code>my</code> isn&#39;t being skipped. Could you explain more?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447871329, "post_id": 33784138, "comment_id": 55342021, "body": "@ThisSuitIsBlackNot, It&#39;s undefined behaviour to use a lexical varaible before EXECUTING the <code>my</code> that declares it*.  Its EXECUTION came after the first call to <code>func()</code> in the OP&#39;s code. Therefore, his program relies on undefined behaviour. You merely showed that <code>my</code> has a compile-time effect, as I stated. (* These aren&#39;t the words used by the docs. This is my understanding of the unclear docs.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1447863379, "last_edit_date": 1447863379, "creation_date": 1447860824, "answer_id": 33784138, "question_id": 33783568, "link": "https://stackoverflow.com/questions/33783568/can-someone-explain-why-perl-behaves-this-way-variable-scoping/33784138#33784138", "title": "Can someone explain why Perl behaves this way (variable scoping)?", "body": "<p>First of all, I would consider this undefined behaviour since it skips executing <code>my</code> like <code>my $x if $cond;</code> does.</p>\n\n<p>That said, the behaviour is currently consistent and predictable. And in this instance, it behaves <em>exactly</em> as expected if the optimization that warranted the undefined behaviour notice didn't exit.</p>\n\n<hr>\n\n<p>At compile-time, <code>my</code> has the effect of declaring and allocating the variable<sup>[1]</sup>. Scalars are initialized to undef when created. Arrays and hashes are created empty.</p>\n\n<p><code>my $string</code> was encountered by the compiler, so the variable was created. But since you haven't executed the assignment yet, it still has its default value (undefined) during the first call to <code>func</code>.</p>\n\n<p>This model allows variables to be captured by closures.</p>\n\n<p>Example 1:</p>\n\n<pre><code>{\n   my $x = \"abc\";\n   sub foo { $x }   # Named subs capture at compile-time.\n}\n\nsay foo();  # abc, even though $x fell out of scope before foo was called.\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>sub make_closure {\n   my ($x) = @_;\n   return sub { $x };   # Anon subs capture at run-time.\n}\n\nmy $foo = make_closure(\"foo\");\nmy $bar = make_closure(\"bar\");\n\nsay $foo-&gt;();  # foo\nsay $bar-&gt;();  # bar\n</code></pre>\n\n<hr>\n\n<ol>\n<li>The allocation is possibly deferred until the variable is actually used.</li>\n</ol>\n"}], "owner": {"reputation": 548, "user_id": 1218919, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/245a9a6d7af44d3820591435f058fbd8?s=128&d=identicon&r=PG", "display_name": "darkgrin", "link": "https://stackoverflow.com/users/1218919/darkgrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1447863379, "creation_date": 1447859319, "last_edit_date": 1447859469, "question_id": 33783568, "link": "https://stackoverflow.com/questions/33783568/can-someone-explain-why-perl-behaves-this-way-variable-scoping", "title": "Can someone explain why Perl behaves this way (variable scoping)?", "body": "<p>My test goes like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nfunc();\nmy $string = 'string';\nfunc();\n\nsub func {\n    print $string, \"\\n\";\n}\n</code></pre>\n\n<p>And the result is:</p>\n\n<pre><code>Use of uninitialized value $string in print at test.pl line 10.\n\nstring\n</code></pre>\n\n<p>Perl allows us to call a function before it has been defined. However when the function uses a variable declared only after the function call, the variable appears to be undefined. Is this behavior documented somewhere? Thank you!</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "is_accepted": true, "score": 1, "last_activity_date": 1447857410, "last_edit_date": 1447857410, "creation_date": 1447855457, "answer_id": 33782115, "question_id": 33781980, "link": "https://stackoverflow.com/questions/33781980/regex-to-match-certain-words-but-not-others/33782115#33782115", "title": "Regex to match certain words but not others", "body": "<p>You can accomplish what you need with a single regex:</p>\n\n<pre><code>/(?&lt;!\\ban)d\\s(p[^h]\\w+)/\n</code></pre>\n\n<p>Where:</p>\n\n<ul>\n<li><code>\\b</code> is the word boundary anchor, doesn't consume any chars but assure that the excluded words is <code>and</code> and not <code>sand</code>. It matches between <code>\\w</code> (word chars: [a-zA-Z0-9_]) and <code>\\W</code> (not in word chars) and in the same position of <code>^</code> and <code>$</code>.</li>\n<li><code>(?&lt;!\\ban)d</code> a <code>d</code> not preceded by an <em>isolated</em> <code>an</code>, technically speaking is almost equivalent to <code>(?&lt;!\\Wan)</code>.</li>\n</ul>\n\n<p>Online <a href=\"https://regex101.com/r/dB1iG5/2\" rel=\"nofollow\">Demo</a></p>\n\n<p>If you doesn't need to extract the first and second word separately you may remove the capturing groups also and add some tolerance (one or more spaces between words):</p>\n\n<pre><code>if ( $input =~ m/(?&lt;!\\ban)d\\s+p(?!h)/ )\n  print \"Yes\\n\";\nelse\n  print \"No\\n\";\n</code></pre>\n\n<p><strong>Note</strong>: this regex is actually search for a <code>d</code> (not preceded by a non-substring <code>an</code>) separated by one or more spaces from a <code>p</code> not followed by a <code>h</code>. It tells nothing aboud <em>words</em>. If you want to make sure there are words of more than one char you can add a leading and trailing <code>\\w+</code>.</p>\n\n<p>Another <a href=\"https://regex101.com/r/dB1iG5/3\" rel=\"nofollow\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1447855751, "creation_date": 1447855751, "answer_id": 33782233, "question_id": 33781980, "link": "https://stackoverflow.com/questions/33781980/regex-to-match-certain-words-but-not-others/33782233#33782233", "title": "Regex to match certain words but not others", "body": "<p>You're getting too complicated. That negative lookahead is applied to the string, and matches against any substring. So it will match any <em>substring</em> which doesn't contain <code>\\sand\\s</code> which is always going to work, because zero length substrings are 'ok'. </p>\n\n<p>You can see this at work with turning on debugging:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse re 'debug';\n\nwhile ( &lt;DATA&gt; ) {\n    print if m{(?:(?!\\sand\\s))};\n}\n\n__DATA__\nsand pet \nsand phone \ngo and pet \nsand pet and\nempty\n</code></pre>\n\n<p>That lookahead is used with another pattern to say 'match this, but only if this is (or isn't) next'. </p>\n\n<p>So something like:</p>\n\n<pre><code>m{d\\s(p[^h])} and not m{\\sand\\s};\n</code></pre>\n\n<p>Might do what you want - or alternatively, just break it down into phases:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n#use re 'debug';\n\nwhile (&lt;DATA&gt;) {\n    my ($capture) = m{d\\s(p[^h])};\n    if ( $capture and not $capture =~ m/\\sand\\s/ ) {\n        print $capture, \" =&gt; \", $_, \"\\n\";\n    }\n}\n\n__DATA__\nsand pet \nsand phone \ngo and pet \nsand pet and\nempty\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11918, "user_id": 5527985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CfG3C.png?s=128&g=1", "display_name": "bobble bubble", "link": "https://stackoverflow.com/users/5527985/bobble-bubble"}, "edited": false, "score": 0, "creation_date": 1447909321, "post_id": 33784668, "comment_id": 55357794, "body": "@bobblebubble: How is that relevant to my post?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1447862309, "creation_date": 1447862309, "answer_id": 33784668, "question_id": 33781980, "link": "https://stackoverflow.com/questions/33781980/regex-to-match-certain-words-but-not-others/33784668#33784668", "title": "Regex to match certain words but not others", "body": "<p>It's often inappropriate to try to get everything working in a single regex. This program has a subroutine <code>ok_words</code> that checks a pair of words to see if your criteria apply. The calling code takes every pair of words in the string and prints a <code>yes</code> if the test is true for any pair, otherwise <code>no</code></p>\n\n<p>These are your tests, together with the Perl code that checks for them</p>\n\n<ul>\n<li><p>The first ends in a <code>d</code> \u2014 <code>/\\d\\z/</code></p></li>\n<li><p>...but isn't <code>and</code> \u2014 `ne 'and'</p></li>\n<li><p>The second starts with a <code>p</code>, but not <code>ph</code> \u2014 <code>/\\Ap(?!h)/</code></p></li>\n</ul>\n\n<p>And this is the program that applies them</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse List::MoreUtils qw/ any /;\n\nwhile ( &lt;DATA&gt; ) {\n    chomp;\n\n    my @w = split;\n\n    if ( any { ok_words( $w[$_], $w[$_+1] ) } 0 .. $#w-1 ) {\n        print \"$_ -&gt; yes\\n\";\n    }\n    else {\n        print \"$_ -&gt; no\\n\";\n    }\n\n}\n\nsub ok_words {\n    my ($this, $next) = map lc, @_;\n\n    $this =~ /d\\z/ and $this ne 'and' and $next =~ /\\Ap(?!h)/;\n}\n\n__DATA__\nsand pet\nsand phone\ngo and pet\nsand pet and\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>sand pet -&gt; yes\nsand phone -&gt; no\ngo and pet -&gt; no\nsand pet and -&gt; yes\n</code></pre>\n"}], "owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 33782115, "answer_count": 3, "score": 1, "last_activity_date": 1447862309, "creation_date": 1447855095, "question_id": 33781980, "link": "https://stackoverflow.com/questions/33781980/regex-to-match-certain-words-but-not-others", "title": "Regex to match certain words but not others", "body": "<p>I am working with regexes in perl, and I'm trying to make a regex that finds two words where one ends with d and the next word starts with p (but not ph). Here is my regex, which works:</p>\n\n<pre><code>d\\s(p[^h])}\n</code></pre>\n\n<p>However, I'd also like this to exclude the word \"and\" (but only within this pattern) so I have tried to use a negative lookahead, so my code looks like this:</p>\n\n<pre><code>if ($text =~ m{d\\s(p[^h])} &amp;&amp; $text =~ m{(?:(?!\\sand\\s))}) {\n        print \"Yes\\n\";\n        } else {\n                }\n</code></pre>\n\n<p>However, this doesn't seem to work.</p>\n\n<p>Here are some sample input/output:</p>\n\n<p>sand pet -> yes</p>\n\n<p>sand phone -> no</p>\n\n<p>go and pet -> no</p>\n\n<p>sand pet and -> yes</p>\n\n<p>Any help with this is greatly appreciated!</p>\n"}, {"tags": ["bash", "perl", "shell", "awk"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1447864698, "post_id": 33781836, "comment_id": 55337830, "body": "&quot;Is this possible...?&quot; Yes, it is possible."}], "answers": [{"comments": [{"owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "edited": false, "score": 0, "creation_date": 1447855921, "post_id": 33781887, "comment_id": 55331072, "body": "This won&#39;t display a count if there&#39;re no lines between two <code>***</code> lines (which may be ok for the OP though)"}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "edited": false, "score": 0, "creation_date": 1447856079, "post_id": 33781887, "comment_id": 55331215, "body": "@eugeney good point. Probably <code>awk &#39;&#47;\\*\\*\\*&#47; {if (NR&gt;1)print count; print; count=0; next} {count++} END {print count}&#39; file</code> solves it, because <code>count</code> is not evaluated (the original problem when it was 0) but just the number of line."}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": false, "score": 3, "last_activity_date": 1447856835, "last_edit_date": 1447856835, "creation_date": 1447854864, "answer_id": 33781887, "question_id": 33781836, "link": "https://stackoverflow.com/questions/33781836/how-to-count-the-number-of-lines-between-pattern-with-awk-or-other-console-tool/33781887#33781887", "title": "How to count the number of lines between pattern with awk or other console tool?", "body": "<p>For example:</p>\n\n<pre><code>awk '/\\*\\*\\*/ {if (count) print count; print; count=0; next} {count++} END {print count}' file\n</code></pre>\n\n<p>For your sample input it returns:</p>\n\n<pre><code>*** dev1\n3\n*** dev2\n2\n</code></pre>\n\n<p>To match consecutive blocks (that is, two lines with <code>***</code> one after the other), we can check <code>NR</code> (number of line) instead of <code>count</code>:</p>\n\n<pre><code>awk '/\\*\\*\\*/ {if (NR&gt;1)print count; print; count=0; next} {count++} END {print count}' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": false, "score": 3, "last_activity_date": 1447858391, "last_edit_date": 1447858391, "creation_date": 1447855269, "answer_id": 33782050, "question_id": 33781836, "link": "https://stackoverflow.com/questions/33781836/how-to-count-the-number-of-lines-between-pattern-with-awk-or-other-console-tool/33782050#33782050", "title": "How to count the number of lines between pattern with awk or other console tool?", "body": "<p>Using Perl:</p>\n\n<pre><code>$ perl -lne '/\\*\\*\\*/ &amp;&amp; do {print $c if defined $c; $c = 0; print} || $c++; END {print $c}' file\n*** dev1\n3\n*** dev2\n2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1447856902, "post_id": 33782073, "comment_id": 55331866, "body": "He is just counting the line below a header in the array. After all, for me it looks like the best solution."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1447857409, "post_id": 33782073, "comment_id": 55332250, "body": "Note that the order can be lost: <a href=\"http://stackoverflow.com/q/20683474/1983854\">Why does awk seem to randomize the array?</a>"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1447858167, "post_id": 33782073, "comment_id": 55332903, "body": "@fedorqui, easy enough to fix if it was a problem though."}], "tags": [], "owner": {"reputation": 5027, "user_id": 2290847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XjQRo.jpg?s=128&g=1", "display_name": "Arjun Mathew Dan", "link": "https://stackoverflow.com/users/2290847/arjun-mathew-dan"}, "is_accepted": false, "score": 3, "last_activity_date": 1447855927, "last_edit_date": 1447855927, "creation_date": 1447855331, "answer_id": 33782073, "question_id": 33781836, "link": "https://stackoverflow.com/questions/33781836/how-to-count-the-number-of-lines-between-pattern-with-awk-or-other-console-tool/33782073#33782073", "title": "How to count the number of lines between pattern with awk or other console tool?", "body": "<p>Another solution with <code>awk</code>:</p>\n\n<pre><code>awk '/\\*\\*\\* /{p=$0} {a[p]++} END{for(i in a) print i\"\\n\"a[i]-1}' File\n</code></pre>\n\n<p>Whenever the pattern <code>***</code> is matched, assign the entire line to variable <code>p</code>. Increase <code>a[p]</code> (this will be the counter) for every line. In the <code>END</code>, use array <code>a[]</code> to print the patterns and count. (<code>-1</code> used since count is increased even for lines with <code>***</code>). Output might not be always sorted, which i assume is not a concern here.</p>\n\n<p>Output:</p>\n\n<pre><code>AMD$ awk '/\\*\\*\\* /{p=$0} {a[p]++} END{for(i in a) print i\"\\n\"a[i]-1}' File\n*** dev1\n3\n*** dev2\n2\n</code></pre>\n"}], "owner": {"reputation": 10277, "user_id": 190446, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/c544188078900e5d5976689949177f11?s=128&d=identicon&r=PG", "display_name": "S\u0142awosz", "link": "https://stackoverflow.com/users/190446/s%c5%82awosz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3033, "favorite_count": 0, "closed_date": 1447914653, "answer_count": 3, "score": -5, "last_activity_date": 1447876818, "creation_date": 1447854750, "last_edit_date": 1447876818, "question_id": 33781836, "link": "https://stackoverflow.com/questions/33781836/how-to-count-the-number-of-lines-between-pattern-with-awk-or-other-console-tool", "closed_reason": "Not suitable for this site", "title": "How to count the number of lines between pattern with awk or other console tool?", "body": "<p>I have such input:</p>\n\n<pre><code>*** dev1\nresult1\nresult2\nother3\n*** dev2\nresult1\nresult2\n</code></pre>\n\n<p>I would like to count lines after <code>***</code> and display them like this:</p>\n\n<pre><code>*** dev1\n3\n*** dev2\n2\n</code></pre>\n\n<p>Is this possible with awk or other bash tools?</p>\n"}, {"tags": ["bash", "perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1447854119, "creation_date": 1447854119, "answer_id": 33781631, "question_id": 33781557, "link": "https://stackoverflow.com/questions/33781557/how-to-run-source-command-linux-from-a-perl-script/33781631#33781631", "title": "How to run &quot;source&quot; command (Linux) from a perl script?", "body": "<p>You can't. <code>source</code> is a shell function that 'imports' the contents of that script into your current environment. It's not an executable. </p>\n\n<p>You can replicate some of it's functionality by rolling your own - run or parse whatever you're 'sourcing' and capture the result:</p>\n\n<pre><code> print `. file_to_source; echo $somevar`;\n</code></pre>\n\n<p>or similar. </p>\n"}, {"comments": [{"owner": {"reputation": 301, "user_id": 3831735, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/8e44f4fd5b47d79286386f7ddba2e5d2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/3831735/anand"}, "edited": false, "score": 0, "creation_date": 1447854468, "post_id": 33781634, "comment_id": 55329882, "body": "What if I don&#39;t know (unsure of) which kind of (shell or something else) script it is? In my case, the script-to-be-called, does not have a shebang (<code>#!</code>) line, at the start of the file."}, {"owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "reply_to_user": {"reputation": 301, "user_id": 3831735, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/8e44f4fd5b47d79286386f7ddba2e5d2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/3831735/anand"}, "edited": false, "score": 0, "creation_date": 1447854762, "post_id": 33781634, "comment_id": 55330109, "body": "In which case it needs one.   IMHO <i>every</i> interpreted script should have one."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1447856142, "post_id": 33781634, "comment_id": 55331258, "body": "If it doesn&#39;t have a shebang, you must assume it was intended to be executed with <code>&#47;bin&#47;sh</code>."}, {"owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1447856843, "post_id": 33781634, "comment_id": 55331814, "body": "@chepner that and the previous use of <code>source</code> is a strong indicator too, but it would be <i>far</i> better to put the shebang in than to guess (and potentially guess wrong, overriding the shebang)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 301, "user_id": 3831735, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/8e44f4fd5b47d79286386f7ddba2e5d2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/3831735/anand"}, "edited": false, "score": 0, "creation_date": 1447857150, "post_id": 33781634, "comment_id": 55332033, "body": "@Anand, Either you need to know for which shell it was written (so you can specify which shell to use), or it needs to have shebang (so it can be executed directly). There&#39;s no way around it."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1447857183, "post_id": 33781634, "comment_id": 55332063, "body": "Well, <code>source</code> is not guaranteed to work with <code>&#47;bin&#47;sh</code>, as it is a bash/ksh/zsh/etc extension; you&#39;d have to use <code>.</code>. My comment was for Anand, who wasn&#39;t sure which shell to use since there was no shebang. The shebang is used to tell the OS to use something <i>other</i> than <code>&#47;bin&#47;sh</code> (or rather, whatever the default system shell is)."}], "tags": [], "owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": false, "score": 4, "last_activity_date": 1447854127, "creation_date": 1447854127, "answer_id": 33781634, "question_id": 33781557, "link": "https://stackoverflow.com/questions/33781557/how-to-run-source-command-linux-from-a-perl-script/33781634#33781634", "title": "How to run &quot;source&quot; command (Linux) from a perl script?", "body": "<p>In bash, etc, <code>source</code> is a builtin that means <em>read this file, and interpret it locally</em>  (a little like a <code>#include</code>).</p>\n\n<p>In this context that makes no sense - you either need to remove <code>source</code> from the command and have a shebang (<code>#!</code>) line at the start of the shell script that tells the system which shell to use to execute that script, or you need to explicitly tell <code>system</code> which shell to use, e.g.</p>\n\n<pre><code>system \"/bin/sh\", \"/some/generic/script\";\n</code></pre>\n\n<p>[with no comment about whether it's actually appropriate to use <code>system</code> in this case].</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1617279700, "creation_date": 1617279700, "answer_id": 66904388, "question_id": 33781557, "link": "https://stackoverflow.com/questions/33781557/how-to-run-source-command-linux-from-a-perl-script/66904388#66904388", "title": "How to run &quot;source&quot; command (Linux) from a perl script?", "body": "<p>There are a few things going on here. First, a child process can't change the environment of its parent. That <code>source</code> would only last as long as its process is around.</p>\n<p>Here's a short program that set and export an environment variable.</p>\n<pre><code>#!/bin/sh\necho &quot;PID&quot; $$\nexport HERE_I_AM=&quot;JH&quot;;\n</code></pre>\n<p>Running the file does not export the variable. The file runs in its own proces. The process IDs (<code>$$</code>) are different in <em>set_stuff.sh</em> and the shell:</p>\n<pre><code>$ chmod 755 set_stuff.sh\n$ ./set_stuff.sh\nPID 92799\n$ echo $$\n92077    \n$ echo $HERE_I_AM       # empty\n</code></pre>\n<p><code>source</code> is different. It reads the file and evaluates it in the shell. The process IDs are the same in <em>set_stuff.sh</em> and the shell, so the file is actually affecting its own process:</p>\n<pre><code>$ unset HERE_I_AM       # start over\n$ source set_stuff.sh\nPID 92077\n$ echo $$\n92077\n$ echo $HERE_I_AM\nJH\n</code></pre>\n<p>Now on to Perl. Calling <code>system</code> creates a child process (there's an <code>exec</code> in there somewhere) so that's not going to affect the Perl process.</p>\n<pre><code>$ perl -lwe 'system( &quot;source set_stuff.sh;  echo \\$HERE_I_AM&quot; );\n      print &quot;From Perl ($$): $ENV{HERE_I_AM}&quot;'\nPID 92989\nJH\nUse of uninitialized value in concatenation (.) or string at -e line 1.\nFrom Perl (92988):\n</code></pre>\n<p>Curiously, this works even though your version doesn't. I think the different is that in this there are no special shell metacharacters here, so it tries to exec the program directory, skipping the shell it just used for my more complicated string:</p>\n<pre><code>$ perl -lwe 'system( &quot;source set_stuff.sh&quot; ); print $ENV{HERE_I_AM}'\nCan't exec &quot;source&quot;: No such file or directory at -e line 1.\nUse of uninitialized value in print at -e line 1.\n</code></pre>\n<p>But, you don't want a single string in that case. The list form is more secure, but <code>source</code> isn't a file that anything can execute:</p>\n<pre><code>$ which source    # nothing\n$ perl -lwe 'system( &quot;source&quot;, &quot;set_stuff.sh&quot; ); print &quot;From Perl ($$): $ENV{HERE_I_AM}&quot;'\nCan't exec &quot;source&quot;: No such file or directory at -e line 1.\nUse of uninitialized value in concatenation (.) or string at -e line 1.\nFrom Perl (93766):\n</code></pre>\n<p>That is, you can call <code>source</code>, but as something that invokes the shell.</p>\n<p>Back to your problem. There are various ways to tackle this, but we need to get the output of the program. Instead of <code>system</code>, use backticks. That's a double-quoted context so I need to protect some literal <code>$</code>s that I want to pass as part of the shell commans</p>\n<pre><code>$ perl -lwe 'my $o = `echo \\$\\$ &amp;&amp; source set_stuff.sh &amp;&amp; echo \\$HERE_I_AM`; print &quot;$o\\nFrom Perl ($$): $ENV{HERE_I_AM}&quot;'\nUse of uninitialized value in concatenation (.) or string at -e line 1.\n93919\nFrom Shell PID 93919\nJH\n\nFrom Perl (93918):\n</code></pre>\n<p>Inside the backticks, you get what you like. The shell program can see the variable. Once back in Perl, it can't. But, I have the output now. Let's get more fancy. Get rid of the PID stuff because I don't need to see that now:</p>\n<pre><code>#!/bin/sh\nexport HERE_I_AM=&quot;JH&quot;;\n</code></pre>\n<p>And the shell command creates some output that has the name and value:</p>\n<pre><code>$ perl -lwe 'my $o = `source set_stuff.sh &amp;&amp; echo HERE_I_AM=\\$HERE_I_AM`; print $o'\nHERE_I_AM=JH\n</code></pre>\n<p>I can parse that output and set variables in Perl. Now Perl has imported part of the environment of the shell program:</p>\n<pre><code>$ perl -lwe 'my $o = `source set_stuff.sh &amp;&amp; echo HERE_I_AM=\\$HERE_I_AM`; for(split/\\R/,$o){ my($k,$v)=split/=/; $ENV{$k}=$v }; print &quot;From Perl: $ENV{HERE_I_AM}&quot;'\nFrom Perl: JH\n</code></pre>\n<p>Let's get the entire environment, though. <code>env</code> outputs every value in the way I just processed it:</p>\n<pre><code>$ perl -lwe 'my $o = `source set_stuff.sh &amp;&amp; env | sort`; print $o'\n...\nDISPLAY=:0\nEC2_PATH=/usr/local/ec2/ec2-api-tools\nEDITOR=/usr/bin/vi\n...\n</code></pre>\n<p>I have a few hundred varaibles set in the shell, and I don't want to expose most of them. Those are all set by the Perl process, so I can temporarily clear out <code>%ENV</code>:</p>\n<pre><code>$ perl -lwe 'local %ENV=(); my $o = `source set_stuff.sh &amp;&amp; env | sort`; print $o'\nHERE_I_AM=JH\nPWD=/Users/brian/Desktop/test\nSHLVL=1\n_=/usr/bin/env\n</code></pre>\n<p>Put that together with the post processing code and you have a way to pass that information back up to the parent.</p>\n<p>This is, by the way, similar to how you'd pass variables back up to a parent shell process. Since that output is already something the shell understands, you use the <a href=\"https://stackoverflow.com/a/46944004/2766176\">shell's eval</a> instead of parsing it.</p>\n"}], "owner": {"reputation": 301, "user_id": 3831735, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/8e44f4fd5b47d79286386f7ddba2e5d2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/3831735/anand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4223, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1617562006, "creation_date": 1447853895, "last_edit_date": 1617279713, "question_id": 33781557, "link": "https://stackoverflow.com/questions/33781557/how-to-run-source-command-linux-from-a-perl-script", "title": "How to run &quot;source&quot; command (Linux) from a perl script?", "body": "<p>I am trying to <code>source</code> a script from a Perl script (script.pl).</p>\n<pre><code>system (&quot;source /some/generic/script&quot;);\n</code></pre>\n<p>Please note that this generic script could be a shell, python or any other script. Also, I cannot replicate the logic present inside this generic script into my Perl script. I tried replacing <code>system</code> with ``,  <code>exec</code>, and <code>qx//</code>. Each time I got the following error:</p>\n<blockquote>\n<p>Can't exec &quot;source&quot;: No such file or directory at script.pl line 18.</p>\n</blockquote>\n<p>I came across many forums on the internet, which discussed various reasons for this problem. But none of them provided a solution. Is there any way to run/execute <code>source</code> command from a Perl script?</p>\n"}, {"tags": ["perl", "sed"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1449839375, "post_id": 33781500, "comment_id": 56192550, "body": "It would be nice if you could take a look at: <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1447854005, "post_id": 33781552, "comment_id": 55329521, "body": "An explanation of how this works would be useful. Also both of those still replace the first <code>x</code> in <code>0xabc</code>. Do you need the <code>\\S</code> here?"}, {"owner": {"reputation": 17, "user_id": 5576822, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37c7ca48cbfdb35b372c84cab8d46726?s=128&d=identicon&r=PG&f=1", "display_name": "Roger Federer", "link": "https://stackoverflow.com/users/5576822/roger-federer"}, "edited": false, "score": 0, "creation_date": 1447854160, "post_id": 33781552, "comment_id": 55329628, "body": "but the initial 0x is being changed to 00 if i am trying that way. the initial 0x should remain as 0x for all the words in the line."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1447854376, "last_edit_date": 1447854376, "creation_date": 1447853883, "answer_id": 33781552, "question_id": 33781500, "link": "https://stackoverflow.com/questions/33781500/perl-oneliner-to-match-a-pattern-and-substitute-part-of-the-matched-pattern/33781552#33781552", "title": "perl oneliner : to match a pattern and substitute part of the matched pattern", "body": "<pre><code>$ echo '0xabcdxx 0xdefxxcf 0x12345xad' |\n   perl -pe's/(?&lt;!^0)(?&lt;!\\s0)x/0/g'\n0xabcd00 0xdef00cf 0x123450ad\n</code></pre>\n\n<p>Maybe a teeny bit faster:</p>\n\n<pre><code>$ echo '0xabcdxx 0xdefxxcf 0x12345xad' |\n   perl -pe's/x(?&lt;!^0x)(?&lt;!\\s0x)/0/g'\n0xabcd00 0xdef00cf 0x123450ad\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 5576822, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37c7ca48cbfdb35b372c84cab8d46726?s=128&d=identicon&r=PG&f=1", "display_name": "Roger Federer", "link": "https://stackoverflow.com/users/5576822/roger-federer"}, "edited": false, "score": 0, "creation_date": 1447904355, "post_id": 33781667, "comment_id": 55356304, "body": "Thanks a lot it helps :)"}], "tags": [], "owner": {"reputation": 5027, "user_id": 2290847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XjQRo.jpg?s=128&g=1", "display_name": "Arjun Mathew Dan", "link": "https://stackoverflow.com/users/2290847/arjun-mathew-dan"}, "is_accepted": false, "score": 2, "last_activity_date": 1447854219, "creation_date": 1447854219, "answer_id": 33781667, "question_id": 33781500, "link": "https://stackoverflow.com/questions/33781500/perl-oneliner-to-match-a-pattern-and-substitute-part-of-the-matched-pattern/33781667#33781667", "title": "perl oneliner : to match a pattern and substitute part of the matched pattern", "body": "<p>With <code>sed</code>:</p>\n\n<pre><code>echo \"0xabcdxx 0xdefxxcf 0x12345xad\" | sed 's/\\b0x/Y/g; s/x/0/g; s/Y/0x/g'\n</code></pre>\n\n<p>First substitute the <code>0x</code> patterns at the word beginnings with a distinguishable pattern (I used <code>'Y'</code>). Then replace all <code>x</code> with <code>0</code> and replace <code>Y</code> back with <code>0x</code>.</p>\n"}], "owner": {"reputation": 17, "user_id": 5576822, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37c7ca48cbfdb35b372c84cab8d46726?s=128&d=identicon&r=PG&f=1", "display_name": "Roger Federer", "link": "https://stackoverflow.com/users/5576822/roger-federer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1447854376, "creation_date": 1447853740, "last_edit_date": 1447853799, "question_id": 33781500, "link": "https://stackoverflow.com/questions/33781500/perl-oneliner-to-match-a-pattern-and-substitute-part-of-the-matched-pattern", "title": "perl oneliner : to match a pattern and substitute part of the matched pattern", "body": "<p>how to match a pattern which is as follows</p>\n\n<pre><code>input:  0xabcdxx 0xdefxxcf 0x12345xad\noutput: 0xabcd00 0xdef00cf 0x123450ad\n</code></pre>\n\n<p>I want the x to be replaced by 0 but the initial 0x at the start of a word should remain the same. Can a perl/sed oneliner is possible to get this way?\nThanks, in advance</p>\n"}, {"tags": ["perl", "hadoop", "mapreduce", "hadoop-streaming"], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 952257, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e7372f4ffc488d78a3c07b09e0c95fda?s=128&d=identicon&r=PG", "display_name": "Shaharg", "link": "https://stackoverflow.com/users/952257/shaharg"}, "edited": false, "score": 0, "creation_date": 1447857274, "post_id": 33782317, "comment_id": 55332134, "body": "Just to make sure I understand your answer, I should add to my script a line:  &quot;use Hadoop::Streaming&quot; .  Then I should put my perl code in the sub (relating to the relevant key and values part).  I assume that the default key-value separator is tab. Is this correct?"}, {"owner": {"reputation": 1024, "user_id": 4029402, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-na8c0qGDbLY/AAAAAAAAAAI/AAAAAAAAAHw/gL4hp6e-O7A/photo.jpg?sz=128", "display_name": "Ramin Darvishov", "link": "https://stackoverflow.com/users/4029402/ramin-darvishov"}, "reply_to_user": {"reputation": 784, "user_id": 952257, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e7372f4ffc488d78a3c07b09e0c95fda?s=128&d=identicon&r=PG", "display_name": "Shaharg", "link": "https://stackoverflow.com/users/952257/shaharg"}, "edited": false, "score": 0, "creation_date": 1447857770, "post_id": 33782317, "comment_id": 55332535, "body": "yes, you are correct. Note: Hadoop streaming library (perl library) must be installed all tasktracker nodes"}], "tags": [], "owner": {"reputation": 1024, "user_id": 4029402, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-na8c0qGDbLY/AAAAAAAAAAI/AAAAAAAAAHw/gL4hp6e-O7A/photo.jpg?sz=128", "display_name": "Ramin Darvishov", "link": "https://stackoverflow.com/users/4029402/ramin-darvishov"}, "is_accepted": true, "score": 1, "last_activity_date": 1447855999, "creation_date": 1447855999, "answer_id": 33782317, "question_id": 33779654, "link": "https://stackoverflow.com/questions/33779654/using-hadoop-streaming-with-perl-for-map-reduce/33782317#33782317", "title": "Using Hadoop streaming with perl for map reduce", "body": "<p>You can use cpan library <a href=\"http://search.cpan.org/~spazm/Hadoop-Streaming-0.102520/lib/Hadoop/Streaming.pm\" rel=\"nofollow\">Hadoop::Streaming</a> </p>\n\n<pre><code>sub reduce \n{ \n    my ( $self, $key, $value_iterator) = @_;\n    ...\n    while( $value_iterator-&gt;has_next() ) { ... }\n    $self-&gt;emit( $key, $composite_value );\n}\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 952257, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e7372f4ffc488d78a3c07b09e0c95fda?s=128&d=identicon&r=PG", "display_name": "Shaharg", "link": "https://stackoverflow.com/users/952257/shaharg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 33782317, "answer_count": 1, "score": 1, "last_activity_date": 1447855999, "creation_date": 1447848450, "last_edit_date": 1447855415, "question_id": 33779654, "link": "https://stackoverflow.com/questions/33779654/using-hadoop-streaming-with-perl-for-map-reduce", "title": "Using Hadoop streaming with perl for map reduce", "body": "<p>I would like to use the hadoop-streaming functionality with perl scripts as the mapper and reducer. I found out <a href=\"https://hadoopavenue.wordpress.com/2014/10/02/hadoop-streaming-with-perl-script/\" rel=\"nofollow\">this explanation</a> that partially answer my question, however it does not contain the functionality of the reducer handling all values together for each key. </p>\n\n<p>For example the mapper might extract  pairs, and the reducer will output the list of categories for each product. This is of course possible by saving all reducer data in memory (like in the example I mentioned before), but in many cases this is not scalable. Is there a way to let the perl script get all values for each key at once (like normal map-reduce jobs)?</p>\n"}, {"tags": ["c++", "perl", "coefficients"], "comments": [{"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1447849530, "post_id": 33779467, "comment_id": 55326272, "body": "Is the problem that it gives the base frequencies to the C note instead of the A note?"}, {"owner": {"reputation": 518, "user_id": 3924272, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1b01be61acf18c3d7b41427d4c655cf5?s=128&d=identicon&r=PG&f=1", "display_name": "edition", "link": "https://stackoverflow.com/users/3924272/edition"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1447849588, "post_id": 33779467, "comment_id": 55326311, "body": "@bolav Yes, you are correct."}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1447849937, "post_id": 33779467, "comment_id": 55326539, "body": "So what is the correct frequenciy for C0?"}, {"owner": {"reputation": 518, "user_id": 3924272, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1b01be61acf18c3d7b41427d4c655cf5?s=128&d=identicon&r=PG&f=1", "display_name": "edition", "link": "https://stackoverflow.com/users/3924272/edition"}, "reply_to_user": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1447850115, "post_id": 33779467, "comment_id": 55326678, "body": "@bolav 16.35159783128741375 Hz"}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 2, "last_activity_date": 1447850338, "creation_date": 1447850338, "answer_id": 33780327, "question_id": 33779467, "link": "https://stackoverflow.com/questions/33779467/generating-correct-pitch-frequency-values/33780327#33780327", "title": "Generating correct pitch frequency values", "body": "<p>Your program is expecting the values in <code>@START_FREQS</code> to be the <code>C</code> frequencies, and not the <code>A</code> frequencies. We can modify the value printed to be based on the <code>A</code> be dividing everything on the <code>A</code> changer like this:</p>\n\n<p><code>print \"\\t{ $INDEX, \\\"\" . $NOTES[$KEY] . $OCTAVE . \"\\\", \" . $START_FREQS[$OCTAVE] * $CF_VALUES[$KEY] / $CF_VALUES[9] .  \" }\";</code></p>\n\n<p>This would be the whole program:</p>\n\n<pre><code>#!/bin/perl\nuse strict;\nuse warnings;\n\nmy @NOTES = ( \"C\" , \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\" );\n\n#2*(x/12)\nmy @CF_VALUES = (1, 1.0594630943592953, 1.122462048309373, 1.189207115002721, 1.2599210498948732, 1.3348398541700344, 1.4142135623730951, 1.4983070768766815, 1.5874010519681994, 1.681792830507429, 1.7817974362806785, 1.8877486253633868);\n\nmy @START_FREQS = (27.5,55,110,220,440,880,1760,3520,7040);\n\nmy $FREQUENCY = 0;\nmy $OCTAVE;\nmy $KEY;\nmy $INDEX = 12;\n\nprint \"static const MidiNote_t Notes[\" . 8 * 12 . \"] = {\\n\";\n\n#4 times\n\nfor ($OCTAVE=0; $OCTAVE&lt;=8; $OCTAVE++)\n{\n    for ($KEY=0; $KEY&lt;12; $KEY++)\n    {\n        print \"\\t{ $INDEX, \\\"\" . $NOTES[$KEY] . $OCTAVE . \"\\\", \" . $START_FREQS[$OCTAVE] * $CF_VALUES[$KEY] / $CF_VALUES[9] .  \" }\";\n        if ($KEY == 11 &amp;&amp; $OCTAVE == 8) {\n            print \"\\n};\";\n        } else {\n            print \",\\n\";\n        }\n        $INDEX++;\n    }\n}\n</code></pre>\n\n<p>Gives this output:</p>\n\n<pre><code> static const MidiNote_t Notes[96] = {\n      { 12, \"C0\", 16.3515978312874 },\n      { 13, \"C#0\", 17.3239144360545 },\n      { 14, \"D0\", 18.354047994838 },\n      { 15, \"D#0\", 19.4454364826301 },\n      { 16, \"E0\", 20.6017223070544 },\n      { 17, \"F0\", 21.8267644645627 },\n      { 18, \"F#0\", 23.1246514194772 },\n      { 19, \"G0\", 24.4997147488593 },\n      { 20, \"G#0\", 25.9565435987466 },\n      { 21, \"A0\", 27.5 },\n      { 22, \"A#0\", 29.1352350948806 },\n      { 23, \"B0\", 30.8677063285078 },\n      { 24, \"C1\", 32.7031956625748 },\n      { 25, \"C#1\", 34.647828872109 },\n      { 26, \"D1\", 36.7080959896759 },\n      { 27, \"D#1\", 38.8908729652601 },\n      { 28, \"E1\", 41.2034446141087 },\n      { 29, \"F1\", 43.6535289291255 },\n      { 30, \"F#1\", 46.2493028389543 },\n      { 31, \"G1\", 48.9994294977187 },\n      { 32, \"G#1\", 51.9130871974931 },\n      { 33, \"A1\", 55 },\n      { 34, \"A#1\", 58.2704701897612 },\n      { 35, \"B1\", 61.7354126570155 },\n      { 36, \"C2\", 65.4063913251497 },\n      { 37, \"C#2\", 69.295657744218 },\n      { 38, \"D2\", 73.4161919793519 },\n      { 39, \"D#2\", 77.7817459305202 },\n      { 40, \"E2\", 82.4068892282175 },\n      { 41, \"F2\", 87.307057858251 },\n      { 42, \"F#2\", 92.4986056779086 },\n      { 43, \"G2\", 97.9988589954373 },\n      { 44, \"G#2\", 103.826174394986 },\n      { 45, \"A2\", 110 },\n      { 46, \"A#2\", 116.540940379522 },\n      { 47, \"B2\", 123.470825314031 },\n      { 48, \"C3\", 130.812782650299 },\n      { 49, \"C#3\", 138.591315488436 },\n      { 50, \"D3\", 146.832383958704 },\n      { 51, \"D#3\", 155.56349186104 },\n      { 52, \"E3\", 164.813778456435 },\n      { 53, \"F3\", 174.614115716502 },\n      { 54, \"F#3\", 184.997211355817 },\n      { 55, \"G3\", 195.997717990875 },\n      { 56, \"G#3\", 207.652348789973 },\n      { 57, \"A3\", 220 },\n      { 58, \"A#3\", 233.081880759045 },\n      { 59, \"B3\", 246.941650628062 },\n      { 60, \"C4\", 261.625565300599 },\n      { 61, \"C#4\", 277.182630976872 },\n      { 62, \"D4\", 293.664767917408 },\n      { 63, \"D#4\", 311.126983722081 },\n      { 64, \"E4\", 329.62755691287 },\n      { 65, \"F4\", 349.228231433004 },\n      { 66, \"F#4\", 369.994422711634 },\n      { 67, \"G4\", 391.995435981749 },\n      { 68, \"G#4\", 415.304697579945 },\n      { 69, \"A4\", 440 },\n      { 70, \"A#4\", 466.16376151809 },\n      { 71, \"B4\", 493.883301256124 },\n      { 72, \"C5\", 523.251130601197 },\n      { 73, \"C#5\", 554.365261953744 },\n      { 74, \"D5\", 587.329535834815 },\n      { 75, \"D#5\", 622.253967444162 },\n      { 76, \"E5\", 659.25511382574 },\n      { 77, \"F5\", 698.456462866008 },\n      { 78, \"F#5\", 739.988845423269 },\n      { 79, \"G5\", 783.990871963499 },\n      { 80, \"G#5\", 830.60939515989 },\n      { 81, \"A5\", 880 },\n      { 82, \"A#5\", 932.32752303618 },\n      { 83, \"B5\", 987.766602512248 },\n      { 84, \"C6\", 1046.50226120239 },\n      { 85, \"C#6\", 1108.73052390749 },\n      { 86, \"D6\", 1174.65907166963 },\n      { 87, \"D#6\", 1244.50793488832 },\n      { 88, \"E6\", 1318.51022765148 },\n      { 89, \"F6\", 1396.91292573202 },\n      { 90, \"F#6\", 1479.97769084654 },\n      { 91, \"G6\", 1567.981743927 },\n      { 92, \"G#6\", 1661.21879031978 },\n      { 93, \"A6\", 1760 },\n      { 94, \"A#6\", 1864.65504607236 },\n      { 95, \"B6\", 1975.5332050245 },\n      { 96, \"C7\", 2093.00452240479 },\n      { 97, \"C#7\", 2217.46104781498 },\n      { 98, \"D7\", 2349.31814333926 },\n      { 99, \"D#7\", 2489.01586977665 },\n      { 100, \"E7\", 2637.02045530296 },\n      { 101, \"F7\", 2793.82585146403 },\n      { 102, \"F#7\", 2959.95538169308 },\n      { 103, \"G7\", 3135.96348785399 },\n      { 104, \"G#7\", 3322.43758063956 },\n      { 105, \"A7\", 3520 },\n      { 106, \"A#7\", 3729.31009214472 },\n      { 107, \"B7\", 3951.06641004899 },\n      { 108, \"C8\", 4186.00904480958 },\n      { 109, \"C#8\", 4434.92209562995 },\n      { 110, \"D8\", 4698.63628667852 },\n      { 111, \"D#8\", 4978.03173955329 },\n      { 112, \"E8\", 5274.04091060592 },\n      { 113, \"F8\", 5587.65170292806 },\n      { 114, \"F#8\", 5919.91076338615 },\n      { 115, \"G8\", 6271.92697570799 },\n      { 116, \"G#8\", 6644.87516127912 },\n      { 117, \"A8\", 7040 },\n      { 118, \"A#8\", 7458.62018428944 },\n      { 119, \"B8\", 7902.13282009799 }\n };\n</code></pre>\n"}], "owner": {"reputation": 518, "user_id": 3924272, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1b01be61acf18c3d7b41427d4c655cf5?s=128&d=identicon&r=PG&f=1", "display_name": "edition", "link": "https://stackoverflow.com/users/3924272/edition"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 33780327, "answer_count": 1, "score": 1, "last_activity_date": 1447850338, "creation_date": 1447847845, "question_id": 33779467, "link": "https://stackoverflow.com/questions/33779467/generating-correct-pitch-frequency-values", "title": "Generating correct pitch frequency values", "body": "<p>I have written a perl script to generate a list of note information entries to be used in a C++ header. The script contains contains the following:</p>\n\n<pre><code>#!/bin/perl\nuse strict;\nuse warnings;\n\nmy @NOTES = ( \"C\" , \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\" );\n\n#2*(x/12)\nmy @CF_VALUES = (1, 1.0594630943592953, 1.122462048309373, 1.189207115002721, 1.2599210498948732, 1.3348398541700344, 1.4142135623730951, 1.4983070768766815, 1.5874010519681994, 1.681792830507429, 1.7817974362806785, 1.8877486253633868);\n\nmy @START_FREQS = (27.5,55,110,220,440,880,1760,3520,7040);\n\nmy $FREQUENCY = 0;\nmy $OCTAVE;\nmy $KEY;\nmy $INDEX = 12;\n\nprint \"static const MidiNote_t Notes[\" . 8 * 12 . \"] = {\\n\";\n\n#4 times\n\nfor ($OCTAVE=0; $OCTAVE&lt;=8; $OCTAVE++)\n{\n    for ($KEY=0; $KEY&lt;12; $KEY++)\n    {\n        print \"\\t{ $INDEX, \\\"\" . @NOTES[$KEY] . $OCTAVE . \"\\\", \" . @START_FREQS[$OCTAVE] * @CF_VALUES[$KEY] .  \" }\";\n        if ($KEY == 11 &amp;&amp; $OCTAVE == 8) {\n            print \"\\n};\";\n        } else {\n            print \",\\n\";\n        }\n        $INDEX++;\n    }\n}\n</code></pre>\n\n<p>And the generated output looks like this:</p>\n\n<pre><code>static const MidiNote_t Notes[96] = {\n        { 12, \"C0\", 13.75 },\n        { 13, \"C#0\", 14.5676175474403 },\n        { 14, \"D0\", 15.4338531642539 },\n        { 15, \"D#0\", 16.3515978312874 },\n        { 16, \"E0\", 17.3239144360545 },\n        { 17, \"F0\", 18.354047994838 },\n        { 18, \"F#0\", 19.4454364826301 },\n        { 19, \"G0\", 20.6017223070544 },\n        { 20, \"G#0\", 21.8267644645627 },\n        { 21, \"A0\", 23.1246514194772 },\n        { 22, \"A#0\", 24.4997147488593 },\n        { 23, \"B0\", 25.9565435987466 },\n        { 24, \"C1\", 27.5 },\n        { 25, \"C#1\", 29.1352350948806 },\n...\n</code></pre>\n\n<p>Although, I cannot seem to get the resulting frequencies in the list generated by my script, to align with the base 'A' frequencies.</p>\n\n<p>For example, A4 should correspond to 440 Hz, and A0 should be 27.5 Hz.</p>\n\n<p>How can I align the frequencies properly and multiply each note in each octave with its respective base A note frequency? </p>\n"}, {"tags": ["arrays", "regex", "string", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1447847570, "post_id": 33779251, "comment_id": 55325043, "body": "You missed <code>MZEFSRGGRMEAZFE*MQZEFFMAEZF*</code> . Any attempts from your side?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1447847607, "post_id": 33779251, "comment_id": 55325080, "body": "@AvinashRaj no, the full string contains a <code>*</code> instide, so that&#39;s not part of the result."}, {"owner": {"reputation": 333, "user_id": 4816093, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/SVtg6.png?s=128&g=1", "display_name": "cachemoi", "link": "https://stackoverflow.com/users/4816093/cachemoi"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1447848209, "post_id": 33779251, "comment_id": 55325502, "body": "@AvinashRaj simbabque is correct, that would not be part of the final array because there is a &#39;*&#39; in it. The code I used does not find overlapping substrings, which is my problem."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1447848879, "post_id": 33779251, "comment_id": 55325882, "body": "In the future, please add the code you have already written and that you are facing problems with. That makes it easier for us to help."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1447848065, "creation_date": 1447848065, "answer_id": 33779530, "question_id": 33779251, "link": "https://stackoverflow.com/questions/33779251/how-do-i-find-overlapping-regex-in-a-string/33779530#33779530", "title": "How do I find overlapping regex in a string?", "body": "<p>Regular expression matching consumes the pattern as it matches - that's by design. </p>\n\n<p>You can use a lookahead expression to avoid this happening <a href=\"http://www.perlmonks.org/?node_id=518444\">PerlMonks:\nUsing Look-ahead and Look-behind</a></p>\n\n<p>So something like this will work:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $line = \"MZEFSRGGRMEAZFE*MQZEFFMAEZF*\";\nmy @matches = $line  =~ m/(?=(M[^*]+))/g;\nprint Dumper \\@matches;\n</code></pre>\n\n<p>Which gives you:</p>\n\n<pre><code>$VAR1 = [\n          'MZEFSRGGRMEAZFE',\n          'MEAZFE',\n          'MQZEFFMAEZF',\n          'MAEZF'\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1447848343, "creation_date": 1447848343, "answer_id": 33779620, "question_id": 33779251, "link": "https://stackoverflow.com/questions/33779251/how-do-i-find-overlapping-regex-in-a-string/33779620#33779620", "title": "How do I find overlapping regex in a string?", "body": "<p>You can also use a recursive approach instead of an advanced-feature regex to do that. The program below takes each match and reparses the match, but omitting the starting <code>M</code> so it won't match the whole thing again.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\n\nmy $line = \"MZEFSRGGRMEAZFE*MQZEFFMAEZF*\";\nmy @matches;\n\nsub parse {\n    my ( $string ) = @_;\n\n    while ($string =~ m/(M[^*]+\\*)/g ) {\n        push @matches, $1;\n        parse(substr $1, 1);\n    }\n}\n\nparse($line);\np @matches;\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>[\n    [0] \"MZEFSRGGRMEAZFE*\",\n    [1] \"MEAZFE*\",\n    [2] \"MQZEFFMAEZF*\",\n    [3] \"MAEZF*\"\n]\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 4816093, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/SVtg6.png?s=128&g=1", "display_name": "cachemoi", "link": "https://stackoverflow.com/users/4816093/cachemoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 33779530, "answer_count": 2, "score": 1, "last_activity_date": 1447848343, "creation_date": 1447847228, "last_edit_date": 1447847492, "question_id": 33779251, "link": "https://stackoverflow.com/questions/33779251/how-do-i-find-overlapping-regex-in-a-string", "title": "How do I find overlapping regex in a string?", "body": "<p>I have this string:</p>\n\n<pre><code>my $line = \"MZEFSRGGRMEAZFE*MQZEFFMAEZF*\"\n</code></pre>\n\n<p>I want to find every substring starting with <code>M</code> and ending with <code>*</code>, without <code>*</code> within them. this means that the above string would give me 4 elements in my final array.</p>\n\n<pre><code>@ORF= (MZEFSRGGRMEAZFE*,MEAZFE*, MQZEFFMAEZF*,MAEZF*)\n</code></pre>\n\n<p>A simple regex will not do since it does not find overlapping substrings. Is there a simple way to do this?</p>\n"}, {"tags": ["mysql", "sql", "perl"], "answers": [{"comments": [{"owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 0, "creation_date": 1447928931, "post_id": 33778992, "comment_id": 55368240, "body": "Thanks for your answer, bolav. &quot;if you use DBIx::Class&quot;, is not applicable in our case."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1447846438, "creation_date": 1447846438, "answer_id": 33778992, "question_id": 33778332, "link": "https://stackoverflow.com/questions/33778332/sql-binding-an-undef-null-to-the-placeholder-will-not-select-rows-which-have/33778992#33778992", "title": "SQL: Binding an undef (NULL) to the placeholder will not select rows which have a NULL value", "body": "<p>I understand that this is not exactly what you asked for but if you use DBIx::Class, the ORM will do that lifting for you.</p>\n\n<pre><code>my $res = $schema-&gt;resultset('table')-&gt;search({ field =&gt; [345, undef] });\nprint $res-&gt;count;\n</code></pre>\n\n<p>It will be translated to this <code>SELECT COUNT( * ) FROM table me WHERE ( ( field = ? OR field IS NULL ) ): '345'</code></p>\n"}], "owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1447846728, "creation_date": 1447844529, "last_edit_date": 1447846728, "question_id": 33778332, "link": "https://stackoverflow.com/questions/33778332/sql-binding-an-undef-null-to-the-placeholder-will-not-select-rows-which-have", "title": "SQL: Binding an undef (NULL) to the placeholder will not select rows which have a NULL value", "body": "<p>I'm using perl 5.20 and MySQL 5.7, but I think the question is about SQL in general:</p>\n\n<p><a href=\"http://search.cpan.org/perldoc?DBI\" rel=\"nofollow\">perldoc DBI</a> says:</p>\n\n<blockquote>\n  <p>Binding an undef (NULL) to the placeholder will not select rows which have a NULL age! At least for database engines that conform to the SQL standard. Refer to the SQL manual for your database engine or any SQL book for the reasons for this. To explicitly select NULLs you have to say \"WHERE age IS NULL\".</p>\n</blockquote>\n\n<p>I don't even know what to google for... My question is: What are the reasons behind <code>= ?</code> not matching a binding to <code>NULL</code>/<code>undef</code>? (Beyond \"that is how it is defined and documented\".)</p>\n\n<p>I've discovered that MySQL has an <a href=\"http://dev.mysql.com/doc/refman/5.7/en/comparison-operators.html#operator_equal-to\" rel=\"nofollow\">operator <code>&lt;=&gt;</code></a> that allows comparisons with <code>NULL</code> and so:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare('select count(*) from table where field &lt;=&gt; ?');\n$sth-&gt;execute(345);\n$sth-&gt;execute(undef);\n</code></pre>\n\n<p>both work as expected. Unfortunately, <a href=\"http://dev.mysql.com/doc/refman/5.7/en/comparison-operators.html#operator_equal-to\" rel=\"nofollow\">the doc</a> says:</p>\n\n<blockquote>\n  <p>The <code>&lt;=&gt;</code> operator is equivalent to the standard SQL <code>IS NOT DISTINCT FROM</code> operator.</p>\n</blockquote>\n\n<p>And MySQL doesn't support the <code>IS NOT DISTINCT FROM</code> operator :-(. So there seems to be no portable way to do this. Except for the very hackish:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare('\n    select count(*) from table\n    where field = ? OR ( ? IS NULL AND field IS NULL )\n');\n$sth-&gt;execute(345, 345);\n$sth-&gt;execute(undef, undef);\n</code></pre>\n\n<p>or the even more hackish snippet from <a href=\"http://search.cpan.org/perldoc?DBI\" rel=\"nofollow\">perldoc DBI</a></p>\n\n<pre><code>$sql_clause = defined $age? \"age = ?\" : \"age IS NULL\";\n$sth = $dbh-&gt;prepare(qq{\n  SELECT fullname FROM people WHERE $sql_clause\n});\n$sth-&gt;execute(defined $age ? $age : ());\n</code></pre>\n\n<p>Is there a portable way to do <code>WHERE FIELD = ?</code> and have it do what I mean also with <code>NULL</code>s/<code>undef</code>s? What did I miss?</p>\n\n<p>EDIT: I also came up with this workaround, which especially works great if <code>field</code> is a numeric type such as an <code>INT</code>, so we're sure the string <code>\"NULL\"</code> is not a possible non-NULL value.</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare('\n    select count(*) from table\n    where COALESCE(field, \"NULL\") = COALESCE(?,\"NULL\")\n');\n$sth-&gt;execute(345);\n$sth-&gt;execute(undef);\n</code></pre>\n\n<p>But performance goes out the window, as I don't think any indexes can be used....</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1447843461, "post_id": 33777640, "comment_id": 55322291, "body": "Remove the <code>else</code> part and check the error reported."}, {"owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447844815, "post_id": 33777640, "comment_id": 55323243, "body": "I have commented the else part and files are downloading with 0 bytes. It seems the files are not transferred properly after the first instance.  No error/exception thrown."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1447845352, "post_id": 33777640, "comment_id": 55323623, "body": "You could try reading the module&#39;s documentation on <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#Error-handling\" rel=\"nofollow noreferrer\">error handling</a>. In particular, replacing <code>print &quot;Transfer Failed&quot;</code> with <code>$sftp-&gt;die_on_error(&quot;Transfer Failed&quot;)</code> looks like a good idea."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1447847938, "post_id": 33777640, "comment_id": 55325307, "body": "@DaveCross: That&#39;s what removing the <code>else</code> part should achieve."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447848195, "post_id": 33777640, "comment_id": 55325488, "body": "@choroba: True. But given the OP&#39;s rather cavalier approach to indentation, I&#39;d rather start by making smaller changes."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1447848376, "post_id": 33777640, "comment_id": 55325603, "body": "@DaveCross: Yes, I had to reindent the code in my editor before I was able to comment."}, {"owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 1, "creation_date": 1447924698, "post_id": 33777640, "comment_id": 55365095, "body": "I am getting the below exception after one file download and after the line $sftp-&gt;die_on_error(&quot;Transfer Failed&quot;) updated.   &quot;Transfer Failed: Couldn&#39;t read from remote file: java.lang.Exception: Failed to initialize transfer directory object&quot;"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1448014688, "post_id": 33777640, "comment_id": 55413523, "body": "Enable debugging for Net::SFTP::Foreign and include the output you get in your post: <code>$Net::SFTP::Foreign::debug = (~(8|16|1024|2048));</code>"}], "owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 990, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1447843134, "creation_date": 1447842725, "last_edit_date": 1447843134, "question_id": 33777640, "link": "https://stackoverflow.com/questions/33777640/download-multiple-files-from-sftp-using-perl-netsftpforeign", "title": "Download multiple files from SFTP using perl Net::SFTP::Foreign", "body": "<p>I am using the below code to download files from SFTP and I am getting error message after one file download. Then I am rerunning the program and then it downloads only one file again and when trying to download the next file in the array it get failed. I couldn't understand the reasons for this failure and kindly review the below code and share opinions.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Net::SFTP::Foreign::Constants qw(:error :status);\nuse Net::SFTP::Foreign;\nuse Net::SFTP::Foreign::Attributes;\n\n\nmy $SFTP_CON=Net::SFTP::Foreign-&gt;new(\"sftpserver.test.com\",user=&gt;\"testuser\",password=&gt;\"pass\");\nmy @SFTP_Files=('/test/1.txt','/test/2.txt','/test/3.txt');\nmy $root_dir='/test/';\n$local_dir='/u/test/';\n\nforeach my $file_to_dwn(@SFTP_Files){\n    my $file_to=$file_to_dwn;\n    $file_to=~s/$root_dir/$local_dir/igs;\n\n    unless($SFTP_CON-&gt;get(\"$file_to_dwn\",\"$file_to\")){\n     if (($SFTP_CON-&gt;error == SFTP_ERR_REMOTE_STAT_FAILED or\n      $SFTP_CON-&gt;error == SFTP_ERR_REMOTE_OPEN_FAILED) and\n      $SFTP_CON-&gt;status == SSH2_FX_NO_SUCH_FILE) {\n      print  \"Remote file does not exist!\";\n      exit;\n      }\n      else {\n       print \"Transfer Failed\";\n       exit;\n      }\n       print $SFTP_CON-&gt;error.\"\\n\";\n       exit;\n      }\n}\n</code></pre>\n\n<p>I am getting \"Transfer Failed\", when the program tries to download the one after another (second file download).</p>\n\n<p>Please do needful.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1447845028, "post_id": 33773805, "comment_id": 55323377, "body": "Please read <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> and bring your Perl web programming into the 21st century :-)"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 4, "last_activity_date": 1447831395, "creation_date": 1447831395, "answer_id": 33774019, "question_id": 33773805, "link": "https://stackoverflow.com/questions/33773805/undefined-subroutine-cgiremote-port/33774019#33774019", "title": "Undefined subroutine CGI::remote_port", "body": "<p>The available methods are documented in the <a href=\"https://metacpan.org/pod/CGI#FETCHING-ENVIRONMENT-VARIABLES\" rel=\"nofollow\">man page</a> and it looks like <code>remote_port</code> is not one of them.</p>\n\n<blockquote>\n  <p>afaik REMOTE_PORT is a valid environment variable too.</p>\n</blockquote>\n\n<p>If it is an environment variable then you can simply access it as one:</p>\n\n<pre><code>my $port = $ENV{REMOTE_PORT};\n</code></pre>\n\n<p>Apart from that it is not clear why you need the remote port number at all, because it will probably simply be some arbitrary number from the ephemeral port range of the remote system. This was maybe also the reasoning to not provide a method to access it.</p>\n"}], "owner": {"reputation": 365, "user_id": 3614293, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/100004465178940/picture?type=large", "display_name": "user3614293", "link": "https://stackoverflow.com/users/3614293/user3614293"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 33774019, "answer_count": 1, "score": 1, "last_activity_date": 1447831395, "creation_date": 1447830513, "question_id": 33773805, "link": "https://stackoverflow.com/questions/33773805/undefined-subroutine-cgiremote-port", "title": "Undefined subroutine CGI::remote_port", "body": "<p>Why am I getting this error? server_port() works as intended, afaik REMOTE_PORT is a valid environment variable too.</p>\n\n<p>Are there any alternative ways of getting the client's port number?</p>\n\n<p>Here's my full code:</p>\n\n<pre><code>#!/usr/bin/perl -w\n  use CGI qw(:all);\n  use CGI::Carp qw(fatalsToBrowser);\n  use strict;\n  use Cwd; \n  #################################\n\nmy $time = localtime();\nmy $dir = cwd();\nmy $parameter = param('name');\n\nmy $q = new CGI;\nmy $addr = $q-&gt;remote_host();\nmy $request = $q-&gt;request_method();\nmy $port = $q-&gt;server_port();\n\n\nprint \"Content-type:text/html\\r\\n\\r\\n\";\nprint '&lt;html&gt;';\nprint '&lt;head&gt;';\nprint '&lt;title&gt;Auth2&lt;/title&gt;';\nprint '&lt;/head&gt;';\nprint '&lt;body&gt;';\nprint \"&lt;h1&gt; The time is $time &lt;/h1&gt;\";\nprint \"&lt;p&gt; Current directory is $dir&lt;/p&gt;\";\nprint \"&lt;p&gt; Request parameter: $parameter&lt;/p&gt;\";\nprint \"&lt;p&gt; Remote address: $addr&lt;/p&gt;\";\nprint \"&lt;p&gt; Remote port: $port&lt;/p&gt;\";\nprint \"&lt;p&gt; Request method: $request &lt;/p&gt;\";\nprint '&lt;/body&gt;';\nprint '&lt;/html&gt;';\n\n\n1;\n</code></pre>\n"}, {"tags": ["perl", "postgresql"], "comments": [{"owner": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "edited": false, "score": 0, "creation_date": 1447798291, "post_id": 33767905, "comment_id": 55303793, "body": "<code>$_</code> is not an array, it is a string. You&#39;ll likely want to <code>split</code> it first."}, {"owner": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "edited": false, "score": 0, "creation_date": 1447798478, "post_id": 33767905, "comment_id": 55303899, "body": "Additionally, if it truly is space separated, how are you going to differenciate the fields when they contain space, i.e. <code>123 W State Street North</code>?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447799623, "post_id": 33767905, "comment_id": 55304468, "body": "You also need the keyword <code>VALUES</code> before your list of values: <code>INSERT INTO table_name VALUES ...</code>. It seems like you probably want to do your inserts in the loop that iterates over the spreadsheet contents rather than stringifying and de-stringifying."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1447802776, "post_id": 33767905, "comment_id": 55305766, "body": "<code>$_</code> is not an arrayref, it is a string. But <code>$data</code> was an arrayref. You could have just said <code>push @array, $data</code>."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1447816724, "last_edit_date": 1447816724, "creation_date": 1447809217, "answer_id": 33770113, "question_id": 33767905, "link": "https://stackoverflow.com/questions/33767905/batch-inserts-with-perls-dbi/33770113#33770113", "title": "Batch inserts with Perl&#39;s DBI", "body": "<p>Taking into account the advice you have received in comments and adding a few corrections of my own, your program should look something like this. I've not been able to test it as I'm posting from a tablet</p>\n\n<p>There's no need to read the whole spreadsheet into memory -- simply insert the data into the database table as you read it from the XLS file</p>\n\n<p>Clearly you will have to replace the column names with real-world values. If you simply want all of the data in the spreadsheet then you should use <a href=\"http://search.cpan.org/~gng/Spreadsheet-BasicRead-1.11/BasicRead.pm\" rel=\"nofollow\"><code>Spreadsheet::BasicRead</code></a></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse DBI;\nuse DBD::Pg;\nuse Spreadsheet::BasicReadNamedCol;\n\nuse constant XLS_FILE =&gt; 'myfile.xls';\n\nmy $dbh    = DBI-&gt;connect( 'dbi:Pg:dbname=greenthumb;host=localhost;port=5432', '', '', { RaiseError =&gt; 1 } );\nmy $insert = $dbh-&gt;prepare( 'INSERT INTO testtable VALUES (?, ?, ?, ?, ?, ?)' );\n\nmy $ss = Spreadsheet::BasicReadNamedCol-&gt;new(\n    fileName      =&gt; XLS_FILE,\n    columns       =&gt; [ qw/ FirstName LastName BusinessName col4name col5name col6name / ],\n    skipHeadings  =&gt; 1,\n    skipBlankRows =&gt; 1,\n) or die sprintf \"Could not open '%s': %s\", XLS_FILE, $!;\n\nwhile ( my $data = $ss-&gt;getNextRow ) {\n    $insert-&gt;execute(@$data);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2965, "user_id": 5548927, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/56e4d9e2488329026ab4b65d05cda3fb?s=128&d=identicon&r=PG", "display_name": "Curt Tilmes", "link": "https://stackoverflow.com/users/5548927/curt-tilmes"}, "is_accepted": false, "score": 3, "last_activity_date": 1447820184, "creation_date": 1447820184, "answer_id": 33771734, "question_id": 33767905, "link": "https://stackoverflow.com/questions/33767905/batch-inserts-with-perls-dbi/33771734#33771734", "title": "Batch inserts with Perl&#39;s DBI", "body": "<p>Not a general DBI solution, but since you are using PostgreSQL, you can also use \"COPY\" for efficient bulk inserts, adding each row as you grab it from the spreadsheet:</p>\n\n<pre><code>...\n$dbh-&gt;do(\"COPY testtable FROM STDIN\");\nwhile ( my $data = $ss-&gt;getNextRow ) {\n    $dbh-&gt;pg_putcopydata(join(\"\\t\", @$data) . \"\\n\");\n}\n$dbh-&gt;pg_putcopyend();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1447844861, "last_edit_date": 1495539899, "creation_date": 1447844861, "answer_id": 33778440, "question_id": 33767905, "link": "https://stackoverflow.com/questions/33767905/batch-inserts-with-perls-dbi/33778440#33778440", "title": "Batch inserts with Perl&#39;s DBI", "body": "<p>You get an array reference from <code>$ss-&gt;getNextRow</code>, but you dereference it and convert the array into a string when pushing it on to the array.</p>\n\n<pre><code>push @array, \"@$data\";\n</code></pre>\n\n<p>(The <code>@$data</code> dereferences the referenced array and <code>\"...\"</code> converts the dereferenced array into a string.)</p>\n\n<p>If you just pushed the array reference that you have, then everything would work.</p>\n\n<pre><code>push @array, $data;\n</code></pre>\n\n<p>But I like <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a>'s <a href=\"https://stackoverflow.com/a/33770113/7231\">answer</a> as it eliminates the need for the intermediate <code>@array</code> and processes the spreadsheet a row at a line.</p>\n"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 982, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1447844861, "creation_date": 1447797892, "last_edit_date": 1447808567, "question_id": 33767905, "link": "https://stackoverflow.com/questions/33767905/batch-inserts-with-perls-dbi", "title": "Batch inserts with Perl&#39;s DBI", "body": "<p>I'm trying to do a batch insert of rows of data into a postgres database.</p>\n\n<p>I have the data populated in an array ref, I think. It was fetched using a perl script from a space delimited file using the <a href=\"https://metacpan.org/pod/Spreadsheet::BasicReadNamedCol\" rel=\"nofollow\"><code>Spreadsheet::BasicReadNamedCol</code>module</a>. The code to fetch the data is</p>\n\n<pre><code> $ss = new Spreadsheet::BasicReadNamedCol($xlsFileName) ||\n die \"Could not open '$xlsFileName': $!\";\n $ss-&gt;setColumns(@columnHeadings);\n\n my @array;\n\n my $row = 0;\n while (my $data = $ss-&gt;getNextRow())\n {\n     $row++;\n\n     push @array, \"@$data\";\n }\n</code></pre>\n\n<p>Below is the content of the array ref.</p>\n\n<pre><code>Cristan McX  123 W State Street North Aurora IL\nWilliam Sch  123 South Third St #367 Geneva IL\nKellie xxx  123 South East St. Gardner IL\nJohn xx  321 Princeton Ct. Frankfort IL\nPeter xxxxxxx  123 N Myrtle Avenue Elmhurst IL\nIzabella xxx  321 S 3rd St. #367 Geneva IL\n</code></pre>\n\n<p>The Perl DBI code I'm using to do the inserts is:</p>\n\n<pre><code>my $dbh = DBI-&gt;connect(\"DBI:Pg:dbname=greenthumb;host=localhost;    port=5432\",\"\",\"\", {'RaiseError' =&gt; 1});\n\nmy $sth = $dbh-&gt;prepare( 'INSERT INTO testtable (?, ?, ?, ?, ?, ?)' );\n\nforeach(@array) { $sth-&gt;execute( @{$_} ); }\n$sth-&gt;finish;\n</code></pre>\n\n<p>The error I'm getting is:</p>\n\n<pre><code>Can't use string (\"FirstName LastName BusinessName \"...) as an ARRAY ref   while \"strict refs\" in use at ./f.pl line 38.\n</code></pre>\n"}, {"tags": ["perl", "cgi", "perl-module"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447795354, "post_id": 33766690, "comment_id": 55302266, "body": "<code>submit . value</code> is not a Perl syntax."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1447795844, "post_id": 33766690, "comment_id": 55302500, "body": "You should add <code>use strict; use warnings;</code> to the top of your script and to every Perl script you ever write; they can help catch a lot of simple errors. See <a href=\"http://stackoverflow.com/questions/8023959/why-use-strict-and-warnings\">Why use strict and warnings?</a> for details."}, {"owner": {"reputation": 43, "user_id": 3600460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05298f617a2e3762849360dff715e0cb?s=128&d=identicon&r=PG&f=1", "display_name": "user3600460", "link": "https://stackoverflow.com/users/3600460/user3600460"}, "edited": false, "score": 0, "creation_date": 1447881005, "post_id": 33766690, "comment_id": 55347903, "body": "Wow Thanks a lot. I am fairly new to the language and the requirements make it even more difficult because I can&#39;t use Javascript and again like you said, it is a dead language. I do have a couple of further questions regarding this code.  Although I have now set limitations on my $size variable, how do I get the form to generate the next question in my nested If statement at the cluck of the submit button? It seems like it should be relatively simple but I am getting stuck."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1447795830, "creation_date": 1447795830, "answer_id": 33767377, "question_id": 33766690, "link": "https://stackoverflow.com/questions/33766690/program-submit-buttons-in-perl-cgi/33767377#33767377", "title": "Program submit buttons in Perl Cgi", "body": "<p>Use the <code>param</code> method:</p>\n\n<pre><code>if ($q-&gt;param('prev_button') eq 'Prev') {\n...\nif ($q-&gt;param('next_button') eq 'Next') {\n</code></pre>\n\n<p>It's better to use the same name for all the submit buttons, as it's not possible to press more than one at the same time. Then, you can use a dispatch table based on the value.</p>\n\n<pre><code>my $other_page = {  Prev =&gt; \\&amp;previous_page,\n                    Next =&gt; \\&amp;next_page,\n                 }-&gt;{ $q-&gt;param('submit') };\n$other_page-&gt;() if $other_page;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 3600460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05298f617a2e3762849360dff715e0cb?s=128&d=identicon&r=PG&f=1", "display_name": "user3600460", "link": "https://stackoverflow.com/users/3600460/user3600460"}, "edited": false, "score": 0, "creation_date": 1447880753, "post_id": 33777748, "comment_id": 55347744, "body": "Wow Thanks a lot. I am fairly new to the language and the requirements make it even more difficult because I can&#39;t use Javascript and again like you said, it is a dead language. I do have a couple of further questions regarding this code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 43, "user_id": 3600460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05298f617a2e3762849360dff715e0cb?s=128&d=identicon&r=PG&f=1", "display_name": "user3600460", "link": "https://stackoverflow.com/users/3600460/user3600460"}, "edited": false, "score": 0, "creation_date": 1447881429, "post_id": 33777748, "comment_id": 55348145, "body": "Woah. I didn&#39;t say that Perl was a dead language. I said that CGI was a dead technology. There are plenty of good ways to write web apps using Perl."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1447847431, "last_edit_date": 1447847431, "creation_date": 1447842996, "answer_id": 33777748, "question_id": 33766690, "link": "https://stackoverflow.com/questions/33766690/program-submit-buttons-in-perl-cgi/33777748#33777748", "title": "Program submit buttons in Perl Cgi", "body": "<p>You seem to be rather guessing at how a lot of this stuff works. As you're using the CGI module, it would probably be a good idea to read <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow\">its documentation</a> once or twice before spending any more time trying to use it.</p>\n\n<p>Some points about your code.</p>\n\n<ol>\n<li>Always have <code>use strict</code> and <code>use warnings</code> in your code. And fix all of the problems they will show you.</li>\n<li>The CGI module has a <code>param()</code> method which gives you access to the parameters passed to your program. Using that will enable you to lose all that horrible parameter parsing code at the top of your program.</li>\n<li>Please don't use the <code>new CGI</code> syntax to create a new CGI object. <code>CGI-&gt;new</code> is far less error prone.</li>\n<li>The HTML creation methods in the CGI module are deprecated. Please consider using a templating system instead. You could also consider a PSGI-based solution rather than CGI (which is considered a dead technology) See <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow\">CGI::Alternatives</a> for suggestions.</li>\n</ol>\n\n<p>Your actual problems seem to be caused by some syntax errors in your code.</p>\n\n<pre><code>if ( submit . value == Prev ) {\n</code></pre>\n\n<p>This is not valid Perl. I would hope that it would lead to syntax error messages being written to your error log. As you have two submit buttons, you probably want:</p>\n\n<pre><code>if ($my_hash{prev_button}) {\n    ...\n} elsif ($my_hash{next_button}) {\n    ...\n}\n</code></pre>\n\n<p>But, as others have said, it's probably better for both submit buttons to have the same name.</p>\n\n<p>Things are a little strange inside your <code>if ... else ...</code> block too. This:</p>\n\n<pre><code>if ( $size == 0 ) {\n    $size = 0;\n} else {\n    $size = $size - 1;\n}\n</code></pre>\n\n<p>Can be simplified to:</p>\n\n<pre><code>$size-- if $size != 0;\n</code></pre>\n\n<p>And this:</p>\n\n<pre><code>if ( $size == 6 ) {\n    $size = 6;\n} else {\n    $size + 1;\n}\n</code></pre>\n\n<p>Doesn't do anything useful. I think you wanted:</p>\n\n<pre><code>if ( $size == 6 ) {\n    $size = 6;\n} else {\n    $size = $size + 1;\n}\n</code></pre>\n\n<p>Which can be simplified to:</p>\n\n<pre><code>$size++ if $size != 6;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3600460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05298f617a2e3762849360dff715e0cb?s=128&d=identicon&r=PG&f=1", "display_name": "user3600460", "link": "https://stackoverflow.com/users/3600460/user3600460"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 33767377, "answer_count": 2, "score": 0, "last_activity_date": 1447847431, "creation_date": 1447793271, "last_edit_date": 1447794925, "question_id": 33766690, "link": "https://stackoverflow.com/questions/33766690/program-submit-buttons-in-perl-cgi", "title": "Program submit buttons in Perl Cgi", "body": "<p>I have a simple Survey like form in which I am using Perl CGI to do so, no interactive HTML docs will be used. The issue I'm having is that I don't know how to determine which submit button was clicked and if so either proceed to the next question or go to the previous question. I have set values to the buttons but I'm not sure on how to use that value to proceed to the next question. (I am fairly new at Perl CGI, please pardon the sloppy code. Thanks)</p>\n\n<pre><code>#!c:/Perl/bin/perl.exe\n\nuse CGI;\nuse CGI::Carp qw(fatalsToBrowser);\n\nif ( $ENV{'REQUEST_METHOD'} eq \"POST\" ) {\n    $form_size = $ENV{'CONTENT_LENGTH'};\n    read( STDIN, $form_data, $form_size );\n} else {\n    $form_data = $ENV{'QUERY_STRING'};\n}\n\n$form_data =~ s/%([\\dA-Fa-f][\\dA-Fa-f])/pack (\"C\", hex ($1))/eg;\n@fields = ( split( /&amp;/, $form_data ) );\n$size = @fields;\n\nfor ( $i = 0; $i &lt; $size; $i++ ) {\n    ( $key, $value ) = ( split( /=/, $fields[$i] ) );\n    $value =~ s/[;&lt;&gt;\\(\\)\\{\\}\\*\\|'`\\&amp;\\$!#:\"\\\\]/\\ /g;    # Syntax Highlighting fix: '\n    $value =~ s/[+]/\\ /g;\n    $my_hash{$key} = $value;\n}\n\nmy $q = new CGI;\nprint $q-&gt;header(\"text/html\"), $q-&gt;start_html( -title =&gt; \"Survey\", -bgcolor =&gt; \"blue\" );\n\n@labels = ( \"Not at all\", \"\", \"Somewhat\", \"\", \"Extremely\" );\n@labels2 = ( \"No\", \"Yes\", \"N/A\" );\n\nprint $q-&gt;submit( 'prev_button', 'Prev' );\nprint $q-&gt;submit( 'next_button', 'Next', 'Javascript: validate_form()' );\n\nif ( submit . value == Prev ) {\n    if ( $size == 0 ) {\n        $size = 0;\n    } else {\n        $size = $size - 1;\n    }\n} elsif ( submit . value == Next ) {\n    if ( $size == 6 ) {\n        $size = 6;\n    } else {\n        $size + 1;\n    }\n}\n\nif ( $size == 0 ) {\n    print $q-&gt;p(\"1. Please enter your name:\");\n    print $q-&gt;textfield( 'q1', '', 50, 80 );\n} elsif ( $size == 1 ) {\n    print $q-&gt;p(\"2. Did you find the information included within this web site useful?\");\n    print $q-&gt;radio_group( 'q2', [ '1', '2', '3', '4', '5' ], \"-\", 'false', \\%labels );\n} elsif ( $size == 2 ) {\n    print $q-&gt;p(\"3. Is the web site easy to navigate?\");\n    print $q-&gt;radio_group( 'q3', [ '1', '2', '3', '4', '5' ], \"-\", 'false', \\%labels );\n} elsif ( $size == 3 ) {\n    print $q-&gt;p(\"4. Were you able to find the information you were looking for?\");\n    print $q-&gt;radio_group( 'q4', [ '1', '2', '0' ], \"-\", 'false', \\%labels2 );\n} elsif ( $size == 4 ) {\n    print $q-&gt;p(\"5. What other information would you like to be included in the web site?\");\n    print $q-&gt;textarea( 'q5', '', 10, 50 );\n} elsif ( $size == 5 ) {\n    print $q-&gt;p(\"6. What suggestions you might have for our website improvement?\");\n    print $q-&gt;textarea( 'q5', '', 10, 50 );\n} elsif ( $size == 6 ) {\n    print $q-&gt;p(\"Thank you for your input.\");\n}\n\nprint $q-&gt;end_html;\n\nexit(0);\n</code></pre>\n"}, {"tags": ["perl", "debugging", "printstacktrace"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1447793767, "post_id": 33766532, "comment_id": 55301361, "body": "I think you just mean &quot;trace&quot; and not &quot;stack trace&quot;."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447793858, "post_id": 33766532, "comment_id": 55301419, "body": "I&#39;m not aware of a built-in way to do what you&#39;re asking, but you can use watch expressions to pause the debugger when the value of a variable changes. I think this would be more useful than seeing every single line that references a variable, whether the value changes or not."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447795235, "post_id": 33767050, "comment_id": 55302191, "body": "This approach won&#39;t follow references. Say <code>$foo</code> is a reference to <code>$bar</code>: <code>$foo = \\$bar;</code>. If you only grep for <code>$bar</code>, the line <code>$$foo = &quot;foo&quot;;</code> will be filtered out, even though it changes the value of <code>$bar</code>."}, {"owner": {"reputation": 156, "user_id": 2134762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cfc9220edbc19dbae79e42aab4b42df?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2134762/silence"}, "edited": false, "score": 0, "creation_date": 1447796872, "post_id": 33767050, "comment_id": 55303077, "body": "I agree with ThisSuitIsBlackNot, as references to the variable will not be caught."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1447819588, "post_id": 33767050, "comment_id": 55310516, "body": "Have a look at Variable::Magic <a href=\"http://search.cpan.org/~vpit/Variable-Magic-0.59/lib/Variable/Magic.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~vpit/Variable-Magic-0.59/lib/Variable/Magic&zwnj;&#8203;.pm</a> You could add a hook that prints out the variable&#39;s value whenever it is accessed."}, {"owner": {"reputation": 156, "user_id": 2134762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cfc9220edbc19dbae79e42aab4b42df?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2134762/silence"}, "edited": false, "score": 0, "creation_date": 1447866069, "post_id": 33767050, "comment_id": 55338826, "body": "Thank you xxfelixxx, by using Variable::Magic I am able to add a variable tracer that gets called each time the variable is accessed."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 156, "user_id": 2134762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cfc9220edbc19dbae79e42aab4b42df?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2134762/silence"}, "edited": false, "score": 0, "creation_date": 1447956245, "post_id": 33767050, "comment_id": 55387717, "body": "@user2134762 Can you add that as an answer and show your implementation? It could be helpful to future visitors who have the same question."}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": -1, "last_activity_date": 1447794618, "creation_date": 1447794618, "answer_id": 33767050, "question_id": 33766532, "link": "https://stackoverflow.com/questions/33766532/perl-debugger-trace-variable-in-stacktrace/33767050#33767050", "title": "Perl debugger: Trace variable in stacktrace", "body": "<p>You could just append (to the trace command) this semi-automated way of filtering on only the line numbers that contain the variable:</p>\n\n<pre><code>|egrep \":($(echo $(grep -n '$data\\b' script.pl|cut -d: -f1)|tr ' ' '|')):\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 2134762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cfc9220edbc19dbae79e42aab4b42df?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2134762/silence"}, "is_accepted": false, "score": 0, "last_activity_date": 1448100201, "creation_date": 1448100201, "answer_id": 33842037, "question_id": 33766532, "link": "https://stackoverflow.com/questions/33766532/perl-debugger-trace-variable-in-stacktrace/33842037#33842037", "title": "Perl debugger: Trace variable in stacktrace", "body": "<p>I found a <strong>partially</strong> working solution by using <a href=\"http://search.cpan.org/~vpit/Variable-Magic-0.59/lib/Variable/Magic.pm\" rel=\"nofollow\">Variable::Magic</a>. The variable tracer (see code below) $wiz is attached to the variable $data. Whenever $data is accessed, it will call the \"get\" method and execute sub {print \"875ABC8768\"}.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Variable::Magic qw&lt;wizard cast VMG_OP_INFO_NAME&gt;;\n\nmy $data = 1;\n\n{ # A variable tracer\nmy $wiz = wizard(\nget  =&gt; sub { print \"875ABC8768\"},\n );\n\n cast $data, $wiz;\n}\n\nmy $otherdata = \"Diamond\";\n\n$data += 1;\nmy $rename = $data;\n\nif($rename =~ /2/){\n\n   print \"hello world\";\n\n}\n</code></pre>\n\n<p>By using the following steps, I was able to extract the executed lines that contain the variable $data:</p>\n\n<p>1) Write a Stack trace to a file:</p>\n\n<pre><code>perl -d:Trace script.pl 2&gt; stacktrace.txt\n</code></pre>\n\n<p>2) Extract the lines with variable $data:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(FILE,\"&lt;\",\"stacktrace.txt\");\nmy $previous = &lt;FILE&gt;;\n\n     while (my $current = &lt;FILE&gt;) {\n\n        if($current =~ /875ABC8768/){\n            print $previous;\n        }\n\n        $previous = $current;\n     }\n\nclose(FILE);\n</code></pre>\n\n<p>Execute script:</p>\n\n<pre><code>perl extractor.pl\n\n&gt;&gt; magic.pl:17: $data += 1;\n&gt;&gt; magic.pl:18: my $rename = $data;\n</code></pre>\n"}], "owner": {"reputation": 156, "user_id": 2134762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1cfc9220edbc19dbae79e42aab4b42df?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2134762/silence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1448100201, "creation_date": 1447792777, "question_id": 33766532, "link": "https://stackoverflow.com/questions/33766532/perl-debugger-trace-variable-in-stacktrace", "title": "Perl debugger: Trace variable in stacktrace", "body": "<p>With the builtin Perl debugger I am able to print a stack trace. However, I am only interested in a certain variable not a full stack trace of 30k+ lines.\nIs it possible to only display executed lines that contain a specified variable?</p>\n\n<p><strong>Example</strong></p>\n\n<p>Suppose I would like to trace the variable $data. Then I only want to want to see line 4,7,8,10 not the others.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $data = 1;\nmy $otherdata = \"Diamond\";\n\n$data += 1;\nmy $rename = $data;\n\nif($rename =~ /2/){\n\n    print \"hello world\";\n\n}\n</code></pre>\n\n<p><strong>Stack trace</strong></p>\n\n<pre><code>perl -d:Trace script.pl\n\nscript.pl:4: my $data = 1;\nscript.pl:5: my $otherdata = \"Diamond\";\nscript.pl:7: $data += 1;\nscript.pl:8: my $rename = $data;\nscript.pl:10: if($rename =~ /2/){\nscript.pl:12:        print \"hello world\";\n</code></pre>\n"}, {"tags": ["perl", "cpan", "strawberry-perl"], "answers": [{"comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1447793740, "post_id": 33766694, "comment_id": 55301344, "body": "thanks. older versions of Starbwerry Perl are still available on their website. would it reasonable to try with an older version?"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1447793961, "post_id": 33766694, "comment_id": 55301503, "body": "I think it would be reasonable to look over the <a href=\"http://perldoc.perl.org/index-history.html\" rel=\"nofollow noreferrer\">perldelta</a>s and decide if any of it is important to your needs."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1447794717, "post_id": 33766694, "comment_id": 55301907, "body": "I also forgot to mention that I did force install. The module is in fact installed... it&#39;s just that the char tables it needs to do the conversions never complied"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1451410187, "post_id": 33766694, "comment_id": 56772999, "body": "@beasy FWIW: I just got MARC::Charset to build on Strawberry Portable 5.22.1.1-64bit ."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 4, "last_activity_date": 1451410353, "last_edit_date": 1451410353, "creation_date": 1447793273, "answer_id": 33766694, "question_id": 33766200, "link": "https://stackoverflow.com/questions/33766200/wide-character-in-print-causing-cpan-install-failure/33766694#33766694", "title": "&quot;wide character in print&quot; causing cpan install failure", "body": "<p><strong>Edit</strong> 2015-12-29: It looks like it's building on 5.22.1 64bit.</p>\n\n<hr>\n\n<p>It appears that MARC::Charset has been <a href=\"http://matrix.cpantesters.org/?dist=MARC-Charset+1.35\" rel=\"nofollow\">failing to build on the last few releases of Perl on Windows</a>.  It also appears as though nobody has <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=MARC-Charset\" rel=\"nofollow\">opened a ticket about the issue</a>, though the developers should theoretically be informed by CPAN Testers (the 1st site).</p>\n\n<p>Possible courses of action:</p>\n\n<ul>\n<li>Be a productive member of the community!\n\n<ul>\n<li>File a bug report.</li>\n<li>Modify the scripts to handle unicode output on windows correctly.  Bonus points for sending your diffs along with your bug report.</li>\n</ul></li>\n<li>Just solve your problem!\n\n<ul>\n<li><strike><em>Force</em> install the module, ignoring the errors in the test scripts.  Do your own testing to see if it meets your needs.</strike>  OP tried this one and it didn't work for this module. =(</li>\n<li>Move your program to a *nix based OS.  OS X &amp; Linux are both popular and seem to be building/installing the module just fine.</li>\n<li>Look over the <a href=\"http://perldoc.perl.org/index-history.html\" rel=\"nofollow\">perldelta</a>s and decide if any of it is important to your needs.  If not, feel free to use an older release of Perl.</li>\n</ul></li>\n</ul>\n\n<p>P.S.  As MARC::Charset hasn't seen an update in a couple years, it's entirely possible this module has become unsupported.  Best of luck!</p>\n"}], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 33766694, "answer_count": 1, "score": 0, "last_activity_date": 1451410353, "creation_date": 1447791522, "question_id": 33766200, "link": "https://stackoverflow.com/questions/33766200/wide-character-in-print-causing-cpan-install-failure", "title": "&quot;wide character in print&quot; causing cpan install failure", "body": "<p>I have installed and used a module, <a href=\"http://search.cpan.org/~gmcharlt/MARC-Charset-1.35/lib/MARC/Charset.pm\" rel=\"nofollow\">MARC::Charset</a>, on linux and OS x successfully. However, it is not installing correctly using Strawberry Perl. The \"wide character in print\" error occurrs frequently throughout the build log, specifically  when it is trying to build its char conversion table. </p>\n\n<p>\"Wide character in print\" has plagued me a few times on Windows, but I was always able to work it out as it was occurring in my own scripts. Now however it is occurring (if I understand correctly) in the module's build script....</p>\n"}, {"tags": ["perl", "console"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447785159, "post_id": 33764397, "comment_id": 55296505, "body": "You mean you want to print a line, and then overwrite it with another line, and then overwrite <i>that</i> with another line, and so on?"}, {"owner": {"reputation": 132, "user_id": 1486437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58352f575d5316a6612db9b80a449f54?s=128&d=identicon&r=PG", "display_name": "mokko", "link": "https://stackoverflow.com/users/1486437/mokko"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447785483, "post_id": 33764397, "comment_id": 55296701, "body": "Yes. I finally found a solution here: <a href=\"http://www.perlmonks.org/?node_id=699555\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=699555</a>. Thanks!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447785891, "post_id": 33764397, "comment_id": 55296932, "body": "Duplicate of <a href=\"http://stackoverflow.com/q/2774596/176646\">Perl: print back to beginning of line</a>, <a href=\"http://stackoverflow.com/q/277384/176646\">How can I update a progress display on a Perl command-line application?</a>, and probably others (already used my close vote)."}], "owner": {"reputation": 132, "user_id": 1486437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58352f575d5316a6612db9b80a449f54?s=128&d=identicon&r=PG", "display_name": "mokko", "link": "https://stackoverflow.com/users/1486437/mokko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "closed_date": 1447787687, "answer_count": 0, "score": 0, "last_activity_date": 1447784966, "creation_date": 1447784966, "question_id": 33764397, "link": "https://stackoverflow.com/questions/33764397/printing-to-same-line-stdout-in-perl", "closed_reason": "Duplicate", "title": "Printing to same line STDOUT in perl", "body": "<p>In perl I want to print status info to STDOUT, but instead of printing line <em>after</em> line I want to print the same line. How? Thanks!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1447774368, "post_id": 33760666, "comment_id": 55289129, "body": "Since you&#39;re new to Perl, I&#39;ll make a plug for the excellent built-in documentation. The match operator is documented in <a href=\"http://perldoc.perl.org/perlop.html#m%2f_PATTERN_%2fmsixpodualngc\" rel=\"nofollow noreferrer\"><code>perldoc perlop</code></a> (I&#39;ve linked to the online version for your convenience, but you should also be able to run <code>perldoc perlop</code> in a shell to view it)."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447775112, "post_id": 33760666, "comment_id": 55289730, "body": "Thank you Sir!  I will review this."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447775618, "post_id": 33760880, "comment_id": 55290138, "body": "This is going to come in handy!  In my case I know that my line will only contain one match.  Thank you very much!"}], "tags": [], "owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "is_accepted": false, "score": 1, "last_activity_date": 1447775164, "last_edit_date": 1447775164, "creation_date": 1447774456, "answer_id": 33760880, "question_id": 33760666, "link": "https://stackoverflow.com/questions/33760666/match-returned-as-array-instead-of-variable/33760880#33760880", "title": "Match returned as array instead of variable", "body": "<p>Usually you would refer to <code>$1</code> to see the content of the first matching parentheses:</p>\n\n<pre><code>$inFileLine = '&lt;recordNum&gt;SW001&lt;/recordNum&gt;&lt;state&gt;Assigned&lt;/state&gt;&lt;title&gt;Fix Something&lt;/title&gt;';\n$inFileLine =~ m(&lt;State&gt;(.*?)&lt;\\/State&gt;)i;\n$finishState = $1;\nprint $finishState;\n</code></pre>\n\n<p>outputs</p>\n\n<blockquote>\n  <p>Assigned</p>\n</blockquote>\n\n<p><a href=\"http://perldoc.perl.org/perlrequick.html#More-matching\" rel=\"nofollow\">perlrequick</a> states that </p>\n\n<blockquote>\n  <p>In list context, //g returns a list of matched groupings, or if there are no groupings, a list of matches to the whole regex.</p>\n</blockquote>\n\n<p>But the usual way would be to check the return value of the regex to find out whether there is any match, and to refer to <code>$1</code>, <code>$2</code> etc. to see the matches.</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447775363, "post_id": 33761038, "comment_id": 55289928, "body": "My goodness you guys have tons of knowledge.  Thank you for the lesson."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1447774874, "creation_date": 1447774874, "answer_id": 33761038, "question_id": 33760666, "link": "https://stackoverflow.com/questions/33760666/match-returned-as-array-instead-of-variable/33761038#33761038", "title": "Match returned as array instead of variable", "body": "<pre><code>$finishState = $inFileLine =~ m(&lt;State&gt;(.*?)&lt;\\/State&gt;)g;\n</code></pre>\n\n<p>evaluates the regular expression in scalar context, and populates <code>$finishState</code> with a true (1) or false (<code>\"\"</code>) value.</p>\n\n<pre><code>@finishState = $inFileLine =~ m(&lt;State&gt;(.*?)&lt;\\/State&gt;)g;\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>($finishState) = $inFileLine =~ m(&lt;State&gt;(.*?)&lt;\\/State&gt;)g;\n</code></pre>\n\n<p>evaluate the regular expression in list context. The distinction between scalar context and list context is important in Perl, and one of the greatest sources of confusion to new Perl programmers. Many functions and operations behave differently in the two different contexts, and often the only way to be sure what an operation is supposed to do in a particular context is to <a href=\"https://metacpan.org/pod/perlop#Matching-in-list-context\" rel=\"nofollow\">read the docs</a>.</p>\n\n<p><a href=\"https://metacpan.org/pod/perlop#Matching-in-list-context\" rel=\"nofollow\">In this case</a>, <code>@finishState</code> will be populated by a list of all strings matching the capture group in the regular expression (i.e., all strings of length 0 of more enclosed by <code>&lt;State&gt;</code> and <code>&lt;/State&gt;</code> tags), which in your example is a list of one element with the value <code>Assigned</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447775954, "post_id": 33761039, "comment_id": 55290418, "body": "Wow, thank you.  I&#39;m going to read this page 10 times until it sinks in.  Thank you very much for the lesson and answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1447777101, "post_id": 33761039, "comment_id": 55291195, "body": "Another reference that&#39;s more specific to this context is <a href=\"http://www.perlmonks.org/?node_id=790129\" rel=\"nofollow noreferrer\">Mini-Tutorial: Scalar vs List Assignment Operator</a>"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447779008, "post_id": 33761039, "comment_id": 55292663, "body": "Thank you ikegami!  I will look at that now."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 3, "last_activity_date": 1447776169, "last_edit_date": 1447776169, "creation_date": 1447774881, "answer_id": 33761039, "question_id": 33760666, "link": "https://stackoverflow.com/questions/33760666/match-returned-as-array-instead-of-variable/33761039#33761039", "title": "Match returned as array instead of variable", "body": "<p>It  is called context. Perl is context based language, the result given by operand is based on which context you are evaluating it.</p>\n\n<p>There are two types of context in perl.</p>\n\n<ol>\n<li>Scalar context.</li>\n<li>List context.</li>\n</ol>\n\n<p>Lists are collection of scalars.We use arrays and hashes to name them.</p>\n\n<pre><code>my $finishState = $inFileLine =~ m(&lt;State&gt;(.*?)&lt;\\/State&gt;)g;\n</code></pre>\n\n<p>In this case you are evaluating the expression in scalar context which is giving you the boolean value whether it is matched or not i.e <code>1(matched)</code> in your case.. </p>\n\n<pre><code>my @finishState = $inFileLine =~ m(&lt;State&gt;(.*?)&lt;\\/State&gt;)g;\n</code></pre>\n\n<p>In this case you are evaluating the expression as array so it will give you all the matches in the array.</p>\n\n<p>So, you know there is only one match and you want to store it into scalar use <code>parenthesis</code> to evaluate it in list context.</p>\n\n<p>i.e </p>\n\n<pre><code>my ($finishState) = $inFileLine =~ m(&lt;State&gt;(.*?)&lt;\\/State&gt;)g;\n</code></pre>\n\n<p>Now <code>$finishState</code> will contain your match.</p>\n\n<p>If there is more than one match, then  <code>$finishState</code> will contain the first match. Check <a href=\"http://www.perlmonks.org/?node_id=738558\" rel=\"nofollow\">this</a> and <a href=\"http://www.perlmonks.org/?node_id=291543\" rel=\"nofollow\">this</a> node for more information on contexts.</p>\n"}], "owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 33761039, "answer_count": 3, "score": 1, "last_activity_date": 1447776169, "creation_date": 1447773957, "last_edit_date": 1447775845, "question_id": 33760666, "link": "https://stackoverflow.com/questions/33760666/match-returned-as-array-instead-of-variable", "title": "Match returned as array instead of variable", "body": "<p>I am pulling a simple string from between two XML-like tags, but the match is being returned as an array instead of a variable. I am using the following code:</p>\n\n<pre><code>$finishState = $inFileLine =~ m(&lt;State&gt;(.*?)&lt;\\/State&gt;)g;\n</code></pre>\n\n<p>And the value of <code>$inFileLine</code> is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;recordNum&gt;SW001&lt;/recordNum&gt;&lt;state&gt;Assigned&lt;/state&gt;&lt;title&gt;Fix Something&lt;/title&gt;\n</code></pre>\n\n<p>When I run this code, a \"1\" is stored in <code>$finishState</code>. When I change <code>$finishState</code> to <code>@finishState</code> the value \"Assigned\" is stored properly. </p>\n\n<p>I'm unsure why and how to fix this. I'm absolutely not able to use an XML parser.</p>\n\n<p>While having the value I need in an array doesn't kill me I would like to find out why this is happening and modify my regexp to correctly populate the variable.  I also considered using grep, sed, awk, etc. but a match seems like a concise and clean way to do this.</p>\n"}, {"tags": ["arrays", "regex", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447770743, "post_id": 33759315, "comment_id": 55286477, "body": "Splice does not work that way, nor does grep. You splice an array using indexes and length, and you grep one list to another list. Read <a href=\"http://perldoc.perl.org/perlfunc.html\" rel=\"nofollow noreferrer\">the manual</a> and try again."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447780582, "post_id": 33759759, "comment_id": 55293748, "body": "Think you can reduce that split to <code>(split &#47;\\*&#47; )[0]</code>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1447804397, "post_id": 33759759, "comment_id": 55306313, "body": "If you use a look-behind assertion, you don&#39;t have to add the asterisk again."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1447835667, "last_edit_date": 1447835667, "creation_date": 1447771380, "answer_id": 33759759, "question_id": 33759315, "link": "https://stackoverflow.com/questions/33759315/how-to-filter-each-array-elements-according-to-a-regex/33759759#33759759", "title": "How to filter each array elements according to a regex", "body": "<p>You can indeed do that with <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> and a loop. You can also use <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\"><code>map</code></a> instead of a <code>for</code> loop.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\n\nmy @ORF= ('MEZQFVECQWSXC*FVCXRCT*', 'MAEZCRTDRX*AZEFZC*AZERC*');\n@ORF = map { (split /\\*/, $_, 0 )[0] . '*' } @ORF;\n\np @ORF;\n</code></pre>\n\n<p>It will iterate over every element in <code>@ORF</code> and <code>split</code> on the <code>*</code>. The <code>0</code> as the thrid parameter tells <code>split</code> to only split once. Treat the return value as a list and only take the first element (<code>[0]</code>), put back the asterisk and you've got yourself a new list of strings that start with the <code>M</code> and ends with the asterisk.</p>\n\n<pre><code>[\n    [0] \"MEZQFVECQWSXC*\",\n    [1] \"MAEZCRTDRX*\"\n]\n</code></pre>\n\n<p>Of course that assumes there are only strings that match this pattern without checking.</p>\n\n<hr>\n\n<p>A simpler way would be to use <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow\"><code>substr</code></a> and <a href=\"http://perldoc.perl.org/functions/index.html\" rel=\"nofollow\"><code>index</code></a> to find the first occurance of the <code>*</code> and take the beginning of the string until that character. That's probably more like what you wanted to do with the <code>splice</code>, but misunderstood what that does.</p>\n\n<pre><code>@ORF = map { substr $_, 0 , index($_, '*') + 1 } @ORF;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1447774758, "last_edit_date": 1495542614, "creation_date": 1447772372, "answer_id": 33760133, "question_id": 33759315, "link": "https://stackoverflow.com/questions/33759315/how-to-filter-each-array-elements-according-to-a-regex/33760133#33760133", "title": "How to filter each array elements according to a regex", "body": "<blockquote>\n<pre><code>foreach (@ORF) {\n    my $true= split /\\*/, $_;\n    push @ORF, $true\n}\n</code></pre>\n</blockquote>\n\n<p>This was actually very close to the solution. There were just a couple of problems.</p>\n\n<p>Firstly, you're assigning the return value from <code>split</code> to a scalar variable. And in scalar context, <code>split</code> returns the number of items it can split the string into, not the items themselves. So you'll just get the value 2. We can fix that by making it a list assignment.</p>\n\n<pre><code>my ($true) = split /\\*/, $_;\n</code></pre>\n\n<p>Secondly, you're <code>push</code>ing your new value on to the end of <code>@ORF</code>. This means that <code>@ORF</code> just keeps getting longer and your loop never ends. You need to replace the current element of the array with your new value. And you can do that by assigning to <code>$_</code>.</p>\n\n<p>So the whole loop becomes:</p>\n\n<pre><code>foreach (@ORF) {\n    my ($true) = split /\\*/, $_;\n    $_ = \"$true*\";\n}\n</code></pre>\n\n<p>Having said all that, I do prefer <a href=\"https://stackoverflow.com/users/1331451/simbabque\">simbabque</a>'s <a href=\"https://stackoverflow.com/a/33759759/7231\"><code>map</code> solution</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1328, "user_id": 542995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fPDiC.jpg?s=128&g=1", "display_name": "zdk", "link": "https://stackoverflow.com/users/542995/zdk"}, "is_accepted": false, "score": 0, "last_activity_date": 1447772567, "creation_date": 1447772567, "answer_id": 33760206, "question_id": 33759315, "link": "https://stackoverflow.com/questions/33759315/how-to-filter-each-array-elements-according-to-a-regex/33760206#33760206", "title": "How to filter each array elements according to a regex", "body": "<p>if you like, you could also use map+grep, like so:</p>\n\n<pre><code>use Data::Dumper;\n\nmy @ORF= (\"MEZQFVECQWSXC*FVCXRCT*\", \"MAEZCRTDRX*AZEFZC*AZERC*\");\n@ORF = grep { $_ =~ /^M/ } map { (split/\\*/, $_)[0] . '*' } @ORF;\nprint Data::Dumper-&gt;Dump(\\@ORF);\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>$VAR1 = 'MEZQFVECQWSXC*';\n$VAR2 = 'MAEZCRTDRX*';\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 4816093, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/SVtg6.png?s=128&g=1", "display_name": "cachemoi", "link": "https://stackoverflow.com/users/4816093/cachemoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 33759759, "answer_count": 3, "score": 2, "last_activity_date": 1447835667, "creation_date": 1447770210, "last_edit_date": 1447771106, "question_id": 33759315, "link": "https://stackoverflow.com/questions/33759315/how-to-filter-each-array-elements-according-to-a-regex", "title": "How to filter each array elements according to a regex", "body": "<p>I have an array with elements like this:</p>\n\n<pre><code>@ORF= (MEZQFVECQWSXC*FVCXRCT*, MAEZCRTDRX*AZEFZC*AZERC*)\n</code></pre>\n\n<p>I want to split every array so that each elment starts with <code>'M'</code> and ends with <code>'*'</code>, no extra <code>'*'</code> in between.</p>\n\n<p>so my example above should give me</p>\n\n<pre><code>@ORF = (MEZQFVECQWSXC*,MAEZCRTDRX*)\n</code></pre>\n\n<p>I thought about first splitting each elements like this:</p>\n\n<pre><code>    foreach (@ORF) {\n        my $true= split /\\*/, $_;\n        push @ORF, $true\n}\n</code></pre>\n\n<p>and then splicing the others out with and if statement, but this does not work.</p>\n\n<p>I also considered using grep</p>\n\n<pre><code>@ORF= grep m/M.*\\*/, @ORF;\n</code></pre>\n\n<p>But this does not affect the array.</p>\n\n<p>I am getting increasingly confused and google is not helping... Please help me out?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1447763207, "post_id": 33756835, "comment_id": 55281379, "body": "Is this for the specified case only, or generic for this type of format? I&#39;m asking because you are using your example data directly in your regex."}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 1, "creation_date": 1447788068, "post_id": 33756835, "comment_id": 55298164, "body": "Take a look at the documentation for the <code>-i</code> switch in the <a href=\"http://perldoc.perl.org/perlrun.html#%2A-i%2A%5B_extension_%5D\" rel=\"nofollow noreferrer\"><code>perlrun</code> documentation</a>. It is especially useful if you&#39;re writing a one-off script. For example, <code>perl -i.orig -ne &#39;BEGIN{ $&#47;=&quot;Query&quot; } print unless &#47;3374_Cioin&#47;&#39; input.txt</code> should do the trick and also take a backup of the original file."}], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 5571914, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0585097f26069beb3b696cb0d7dba241?s=128&d=identicon&r=PG&f=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5571914/arun"}, "edited": false, "score": 0, "creation_date": 1447858768, "post_id": 33757218, "comment_id": 55333320, "body": "Hi It worked. Also, I tweaked in a different way using push \\@new, \\@content unless (regex)."}], "tags": [], "owner": {"reputation": 1720, "user_id": 989659, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84d2d1476d96b093bd0f180412db2460?s=128&d=identicon&r=PG", "display_name": "Srgrn", "link": "https://stackoverflow.com/users/989659/srgrn"}, "is_accepted": false, "score": 1, "last_activity_date": 1447860224, "last_edit_date": 1447860224, "creation_date": 1447764061, "answer_id": 33757218, "question_id": 33756835, "link": "https://stackoverflow.com/questions/33756835/file-editing-in-perl/33757218#33757218", "title": "File editing in perl", "body": "<p>The easiest way is to simply write all lines you do want into some other file. </p>\n\n<p>I would suggest something like:</p>\n\n<pre><code>my $file = \"Cioin_PatchAnalysis.txt\";\nmy $outfile = \"Fixed_Cioin_PatchAnalysis.txt\";\nlocal $/ = 'Query=';\nmy @content = ();\nopen (INFILE, $file) || die \"error2: $!\";\nopen(my $outfile, '&gt;', $outfile) or die \"Could not open file '$outfile' $!\";\nwhile (&lt;INFILE&gt;) \n    {\n    chomp;\n    if ($_ !~ /\\s*3374_Cioin/) \n     {#capture the query sequence\n        @content = $_;\n        print $outfile @content;\n     }\n    }\n</code></pre>\n\n<p>Than you can replace the original with the new file.\nAnother option is to keep all the lines that doesn't match the regex, than print them back into the original file:</p>\n\n<pre><code>my $file = \"Cioin_PatchAnalysis.txt\";\nlocal $/ = 'Query=';\nmy @content = ();\nopen (INFILE, $file) || die \"error2: $!\";\n\nwhile (&lt;INFILE&gt;) \n    {\n    chomp;\n    if ($_ !~ /\\s*3374_Cioin/) \n     {#capture the query sequence\n        push @content, $_;\n     }\n    }\n\nopen(my $outfile, '&gt;', $file) or die \"Could not open file '$outfile' $!\";\nprint $outfile @content;\n</code></pre>\n"}], "owner": {"reputation": 527, "user_id": 5571914, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0585097f26069beb3b696cb0d7dba241?s=128&d=identicon&r=PG&f=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5571914/arun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447860224, "creation_date": 1447763024, "last_edit_date": 1447763149, "question_id": 33756835, "link": "https://stackoverflow.com/questions/33756835/file-editing-in-perl", "title": "File editing in perl", "body": "<p>Hi I am trying to delete a content of file based on regex match. Here is the following code:</p>\n\n<pre><code>my $file = \"Cioin_PatchAnalysis.txt\";\nlocal $/ = 'Query=';\nmy @content = ();\nopen (INFILE, $file) || die \"error2: $!\";\nwhile (&lt;INFILE&gt;) \n    {\n    chomp;\n    if ($_ =~ /\\s*3374_Cioin/) \n     {#capture the query sequence\n        @content = $_;\n        print @content;\n     }\n    }\n</code></pre>\n\n<p>Sample data is:</p>\n\n<pre><code>===================================================================\nQuery= 3374_Cioin\n         (24,267 letters)\n\nDatabase: /home/aprasanna/BLAST/DMel_renamedfile.fasta \n           14,047 sequences; 7,593,731 total letters\n\nReference: Altschul, Stephen F., Thomas L. Madden, Alejandro A. Schaffer, \nJinghui Zhang, Zheng Zhang, Webb Miller, and David J. Lipman (1997), \n\"Gapped BLAST and PSI-BLAST: a new generation of protein database search\nprograms\",  Nucleic Acids Res. 25:3389-3402.\n\nQuery= 578_Antlo\n         (88 letters)\n=========================================================\n</code></pre>\n\n<p>I wish to remove from <code>Query =3374_Coin...</code> till <code>-3402</code>. i.e till next record separator. I am able to store the matched part in <code>@content</code>. However, I am not able to delete it in the original file. I wish my original file only has <code>Query= 578_Antlo</code>!</p>\n\n<p>I am very new to Perl.</p>\n"}, {"tags": ["php", "perl", "cron", "crontab", "cpanel"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447778613, "post_id": 33756332, "comment_id": 55292346, "body": "&quot;I am using cpanel on windows machine&quot; -- that doesn&#39;t even make sense. According to their <a href=\"https://documentation.cpanel.net/display/ALD/Installation%20Guide%20-%20System%20Requirements\" rel=\"nofollow noreferrer\">system requirements</a>, cPanel only runs on Linux."}, {"owner": {"reputation": 99, "user_id": 4988805, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/32af98e23ffe17c014821ad169cf59aa?s=128&d=identicon&r=PG&f=1", "display_name": "Loura", "link": "https://stackoverflow.com/users/4988805/loura"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447827575, "post_id": 33756332, "comment_id": 55313131, "body": "Thanks.  and yes i know thats nothing to do with cpanel. I am accessing my linux server through cpanel from wiindows machine.. I am unable to stop my cron job.. how do i do it?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447828290, "post_id": 33756332, "comment_id": 55313409, "body": "<code>top</code> or <code>ps</code> to get the pid, and then <code>kill</code>."}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1447765346, "creation_date": 1447765346, "answer_id": 33757653, "question_id": 33756332, "link": "https://stackoverflow.com/questions/33756332/how-to-stop-a-cron-job-cpanel/33757653#33757653", "title": "how to stop a cron job - cpanel", "body": "<p>Since you have * in minute it now runs every minute. Try putting a value there (for instance 0) to run it every hour on that minute number. And only have star in hour.</p>\n"}], "owner": {"reputation": 99, "user_id": 4988805, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/32af98e23ffe17c014821ad169cf59aa?s=128&d=identicon&r=PG&f=1", "display_name": "Loura", "link": "https://stackoverflow.com/users/4988805/loura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2384, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447827589, "creation_date": 1447761471, "last_edit_date": 1447827589, "question_id": 33756332, "link": "https://stackoverflow.com/questions/33756332/how-to-stop-a-cron-job-cpanel", "title": "how to stop a cron job - cpanel", "body": "<p>My cron job in my cpanel looks like this</p>\n\n<pre><code>cd public_html/Staging/ff; perl sendmail.pl &gt;/dev/null\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/aSjpJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aSjpJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>The sendmail.pl looks like this</p>\n\n<pre><code>my $php = `php decode.php`;\n</code></pre>\n\n<p>The decode.php looks like this</p>\n\n<pre><code>$user = \"Hello\";\n$fh = fopen(\"output.txt\",\"a+\");\nfwrite($fh,$user.\"\\n\");\nfclose($fh);\n</code></pre>\n\n<p><code>output.txt</code> file gets on updating every second, even though i've called it for 1 hour.</p>\n\n<p>Now how do i stop this job based in PID?</p>\n\n<p>Where should i find PID?</p>\n\n<p>How do i find all cron jobs running right now? and stop it at once?</p>\n\n<p>I wanted to call <code>sendmail.pl</code> every hour.</p>\n"}, {"tags": ["perl", "time", "date-format"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447840832, "post_id": 33755354, "comment_id": 55320338, "body": "The first format is considerably more useful, generally, because it&#39;s following the ISO 8601 standard. (And is thus numerically sortable and not ambiguous US vs. almost everywhere else)."}, {"owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447841775, "post_id": 33755354, "comment_id": 55321062, "body": "i was asked to convert the specific timestamp to this format...it was not my decision...is there a reason for downvoting me?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447841875, "post_id": 33755354, "comment_id": 55321140, "body": "I didn&#39;t. But it&#39;s not unusual when you ask for a solution to a problem without showing any attempt yourself."}], "answers": [{"tags": [], "owner": {"reputation": 6076, "user_id": 54504, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/TRZUq.jpg?s=128&g=1", "display_name": "p.marino", "link": "https://stackoverflow.com/users/54504/p-marino"}, "is_accepted": false, "score": 0, "last_activity_date": 1447758884, "last_edit_date": 1495541719, "creation_date": 1447758884, "answer_id": 33755513, "question_id": 33755354, "link": "https://stackoverflow.com/questions/33755354/convert-timestamp-to-d-m-y-format-data-perl/33755513#33755513", "title": "convert timestamp to d-m-Y format data perl", "body": "<p>Even if this <a href=\"https://stackoverflow.com/questions/7726514/how-to-convert-text-date-to-timestamp\">answer here</a> is not exactly about your problem you will find a concise way to parse your timestamp string into its components (month, year, etc.) and then it should be pretty simple to put them back together as you like.</p>\n"}, {"comments": [{"owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "edited": false, "score": 1, "creation_date": 1447761914, "post_id": 33755518, "comment_id": 55280525, "body": "how can i save the output to a variable?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "edited": false, "score": 0, "creation_date": 1447761975, "post_id": 33755518, "comment_id": 55280561, "body": "@tsiro I updated the answer. You need to use <code>sprintf</code> instead of <code>printf</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1447770233, "post_id": 33755518, "comment_id": 55286069, "body": "Safer: <code>my $date = $timestamp =~ m&#47;^(....)-(..)-(..)\\s&#47; ? sprintf &#39;%02d-%02d-%4d&#39;, $3, $2, $1 : undef;</code>"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1447761962, "last_edit_date": 1447761962, "creation_date": 1447758899, "answer_id": 33755518, "question_id": 33755354, "link": "https://stackoverflow.com/questions/33755354/convert-timestamp-to-d-m-y-format-data-perl/33755518#33755518", "title": "convert timestamp to d-m-Y format data perl", "body": "<p>You can use a simple regular expression to grab the year, month and date, and then build up your date string using <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow\">the <code>sprintf</code> built-in</a>.</p>\n\n<pre><code>my $timestamp = '2015-06-25 11:27:38.152933+03';\n$timestamp =~ m/^(....)-(..)-(..)\\s/;\nmy $date = sprintf '%02d-%02d-%4d', $3, $2, $1;\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>25-06-2015\n</code></pre>\n\n<p>Since you don't care about the time and time zone, there is no need for a full-blown parser. Rolling your own very simple one suffices.</p>\n"}, {"tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": false, "score": 0, "last_activity_date": 1452980249, "last_edit_date": 1452980249, "creation_date": 1452979664, "answer_id": 34832329, "question_id": 33755354, "link": "https://stackoverflow.com/questions/33755354/convert-timestamp-to-d-m-y-format-data-perl/34832329#34832329", "title": "convert timestamp to d-m-Y format data perl", "body": "<p>I know this question has been answered, but for future reference:</p>\n\n<pre><code>use Time::Moment;\nsay Time::Moment-&gt;from_string('2015-06-25 11:27:38.152933+03', lenient =&gt; 1)\n                -&gt;strftime(\"%d-%m-%Y\");\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>25-06-2015\n</code></pre>\n\n<p>Now you probably think the regex solution provided by @simbabque is faster? Time for a simple benchmark:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Benchmark    qw[];\nuse Time::Moment qw[];\n\nmy $timestamp = '2015-06-25 11:27:38.152933+03';\n\nBenchmark::cmpthese( -10, {\n    'regex' =&gt; sub {\n        $timestamp =~ m/^(....)-(..)-(..)/;\n        my $string = sprintf '%02d-%02d-%4d', $3, $2, $1;\n    },\n    'Time::Moment' =&gt; sub {\n        my $string = Time::Moment-&gt;from_string($timestamp, lenient =&gt; 1)\n                                 -&gt;strftime(\"%d-%m-%Y\");\n    },\n});\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>                  Rate        regex Time::Moment\nregex        1256682/s           --          -8%\nTime::Moment 1368953/s           9%           --\n</code></pre>\n\n<p><a href=\"https://metacpan.org/pod/Time::Moment\" rel=\"nofollow\">Time::Moment</a> is faster even though it's a strict parser which validates the  date/time components of the given timestamp string. In the interest of full disclosure, I am the author of Time::Moment.</p>\n"}], "owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 33755518, "answer_count": 3, "score": -2, "last_activity_date": 1452980249, "creation_date": 1447758384, "question_id": 33755354, "link": "https://stackoverflow.com/questions/33755354/convert-timestamp-to-d-m-y-format-data-perl", "title": "convert timestamp to d-m-Y format data perl", "body": "<p>i have the following timestamp:</p>\n\n<pre><code> 2015-06-25 11:27:38.152933+03 \n</code></pre>\n\n<p>I want to convert it to something like this:</p>\n\n<pre><code> 25-06-2015\n</code></pre>\n\n<p>How can i do this in perl? Thanks.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1447753361, "post_id": 33753534, "comment_id": 55274729, "body": "<code>system</code> returns the status code of the executed command, not the output. You could use the backticks instead."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 3, "creation_date": 1447753413, "post_id": 33753534, "comment_id": 55274759, "body": "or better you should use a perl function to get the date"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1447753457, "post_id": 33753534, "comment_id": 55274791, "body": "And the title is misleading. This ist not a problem with CGI, it is a problem capturing the output of an external command."}, {"owner": {"reputation": 87, "user_id": 4441134, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/871327b9630540bd56acc7935cf388d3?s=128&d=identicon&r=PG&f=1", "display_name": "BBbbBB", "link": "https://stackoverflow.com/users/4441134/bbbbbb"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1447753576, "post_id": 33753534, "comment_id": 55274878, "body": "Can you teach me how to use the backticks please. @dgw"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1447754306, "post_id": 33753534, "comment_id": 55275314, "body": "Searching within SO should give you enough input ... for example <a href=\"http://stackoverflow.com/questions/799968/whats-the-difference-between-perls-backticks-system-and-exec\">here</a>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1447754492, "post_id": 33753931, "comment_id": 55275440, "body": "DateTime is not in the Perl core. To get a textual representation of the date, it&#39;s enough to simply call <code>localtime</code>."}], "tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": false, "score": 1, "last_activity_date": 1447754282, "last_edit_date": 1495542614, "creation_date": 1447754282, "answer_id": 33753931, "question_id": 33753534, "link": "https://stackoverflow.com/questions/33753534/cgi-printing-issue/33753931#33753931", "title": "CGI Printing issue", "body": "<p>The return value of the <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system command</a> is the return value of the call. For a successful call this will be 0. If you want to capture the output of a command use backticks or IPC. Look at this answer: <a href=\"https://stackoverflow.com/questions/11514947/capture-the-output-of-perl-system\">Capture the output of Perl system()</a></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $date = `date`;\n\nprint \"Date :: $date\";\n</code></pre>\n\n<p>But better would be to use <a href=\"http://search.cpan.org/~drolsky/DateTime-1.21/lib/DateTime.pm\" rel=\"nofollow noreferrer\">DateTime</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 2, "last_activity_date": 1447754349, "last_edit_date": 1495540742, "creation_date": 1447754349, "answer_id": 33753962, "question_id": 33753534, "link": "https://stackoverflow.com/questions/33753534/cgi-printing-issue/33753962#33753962", "title": "CGI Printing issue", "body": "<p>Instead of using <code>system</code> command, use <code>backtick</code>. <code>system</code> command doesn't return value in a variable. Change this line:</p>\n\n<pre><code>my $date = system('date');\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my $date = `date`;\n</code></pre>\n\n<p>See this for more understanding about <code>system</code> and <code>backtick</code>:\n<a href=\"https://stackoverflow.com/a/800105/4248931\">https://stackoverflow.com/a/800105/4248931</a></p>\n"}], "owner": {"reputation": 87, "user_id": 4441134, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/871327b9630540bd56acc7935cf388d3?s=128&d=identicon&r=PG&f=1", "display_name": "BBbbBB", "link": "https://stackoverflow.com/users/4441134/bbbbbb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 33753962, "answer_count": 2, "score": 1, "last_activity_date": 1447754448, "creation_date": 1447753227, "last_edit_date": 1447754448, "question_id": 33753534, "link": "https://stackoverflow.com/questions/33753534/cgi-printing-issue", "title": "CGI Printing issue", "body": "<pre><code>#!/usr/bin/perl -w\nuse CGI qw(:all);\nuse CGI::Carp qw(fatalsToBrowser);\nuse strict; \nprint \"Content-type: text/plain\\n\";\nprint \"\\n\";\n\nmy $date = system('date');\n\nprint \"Date :: $date\";\n</code></pre>\n\n<p>The above code keeps producing the output of <code>Date :: 0</code> instead of the current date.<br>\nI can't find any solution for this problem. Please help.</p>\n"}, {"tags": ["perl", "grep"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1447750825, "post_id": 33752749, "comment_id": 55273115, "body": "What values are in the list? What section of the book are you talking about? This would be easier to answer with context."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1447750830, "post_id": 33752749, "comment_id": 55273118, "body": "<a href=\"http://hop.perl.plover.com/\" rel=\"nofollow noreferrer\">The book</a> is called <i>Higher Order Perl</i>, by Mark Jason Dominus. Can you please point to the page or chapter? This is a bit out of context. You can <a href=\"https://stackoverflow.com/posts/33752749/edit\">edit</a> your question."}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 12, "last_activity_date": 1447751390, "creation_date": 1447751390, "answer_id": 33752951, "question_id": 33752749, "link": "https://stackoverflow.com/questions/33752749/whats-the-difference-between-my-h-s-and-my-h-s-grep/33752951#33752951", "title": "what&#39;s the difference between `my ($h, @s) = @_;` and `my ($h, @s) = grep $_, @_;`", "body": "<p><code>my ($h, @s) = @_;</code> takes the first value of the array <code>@_</code> and put it in <code>$h</code> and the rest in <code>@s</code>.</p>\n\n<p><code>my ($h, @s) = grep $_, @_;</code> takes the first true value and puts it in <code>$h</code> and the rest of the true values and puts it in <code>@s</code>. </p>\n\n<p>True values in perl are things that are not the empty string '', 0 or undef.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1447758165, "creation_date": 1447758165, "answer_id": 33755290, "question_id": 33752749, "link": "https://stackoverflow.com/questions/33752749/whats-the-difference-between-my-h-s-and-my-h-s-grep/33755290#33755290", "title": "what&#39;s the difference between `my ($h, @s) = @_;` and `my ($h, @s) = grep $_, @_;`", "body": "<p>Given that the difference between the two statements is the use of the <code>grep</code> function then I'd suggest that a good place to get an answer to your question is to read <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\">the documentation for <code>grep</code></a>.</p>\n\n<blockquote>\n  <p>grep BLOCK LIST</p>\n  \n  <p>grep EXPR,LIST</p>\n  \n  <p>This is similar in spirit to, but not the same as, grep(1) and its\n  relatives. In particular, it is not limited to using regular\n  expressions.</p>\n  \n  <p>Evaluates the BLOCK or EXPR for each element of LIST (locally setting\n  <code>$_</code> to each element) and returns the list value consisting of those\n  elements for which the expression evaluated to true. In scalar\n  context, returns the number of times the expression was true.</p>\n</blockquote>\n"}], "owner": {"reputation": 777, "user_id": 2273296, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/hAwbT.jpg?s=128&g=1", "display_name": "oxnz", "link": "https://stackoverflow.com/users/2273296/oxnz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 33752951, "answer_count": 2, "score": 2, "last_activity_date": 1447758165, "creation_date": 1447750692, "last_edit_date": 1447751140, "question_id": 33752749, "link": "https://stackoverflow.com/questions/33752749/whats-the-difference-between-my-h-s-and-my-h-s-grep", "title": "what&#39;s the difference between `my ($h, @s) = @_;` and `my ($h, @s) = grep $_, @_;`", "body": "<p>I read this code in a book named 'High-order Perl`, I just don't understand why the bother to use grep, but if I changed to the first statement, things start go wrong, can anyone please explain it a bit? thanks.</p>\n\n<p>Context: The code located in the chapter 6 and section 5, in the</p>\n\n<pre><code>sub union {\nmy ($h, @s) = grep $_, @_;\n  return unless $h;\n  return $h unless @s;\n  node(head($h), promise {\n  union(@s, tail($h));\n });\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447753538, "post_id": 33751622, "comment_id": 55274852, "body": "Looks like <code>xml</code>. Is it? If so, there&#39;s better ways than regex - like XML parsers."}], "answers": [{"comments": [{"owner": {"reputation": 1100, "user_id": 1970427, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/18f92f7a3437a93370c95724e63ffa34?s=128&d=identicon&r=PG", "display_name": "Emman", "link": "https://stackoverflow.com/users/1970427/emman"}, "edited": false, "score": 0, "creation_date": 1447751282, "post_id": 33751823, "comment_id": 55273390, "body": "since you have mentioned xml parsing through regex is hard and error prone I tried this but getting the following error <code>Having no space between pattern and following word is deprecated at so.pl line 5.</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 1100, "user_id": 1970427, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/18f92f7a3437a93370c95724e63ffa34?s=128&d=identicon&r=PG", "display_name": "Emman", "link": "https://stackoverflow.com/users/1970427/emman"}, "edited": false, "score": 0, "creation_date": 1447751690, "post_id": 33751823, "comment_id": 55273649, "body": "Have you installed XML::XSH2?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1447747269, "creation_date": 1447747269, "answer_id": 33751823, "question_id": 33751622, "link": "https://stackoverflow.com/questions/33751622/multiple-line-search-and-replace/33751823#33751823", "title": "Multiple line search and replace", "body": "<p>Use a XML aware tool, parsing XML with regular expressions is hard and error prone.</p>\n\n<p>For example, <a href=\"http://metacpan.org/pod/distribution/XML-XSH2/xsh\" rel=\"nofollow\">xsh</a>, a wrapper around <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>:</p>\n\n<pre><code>open file.xml ;\nmy $v = //name[normalize-space(.)='POWERDOWN_SUPPORT']/following-sibling::bool/value[normalize-space(.)='true'];\nset $v/text() 'false' ;\nsave :b ;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8276, "user_id": 3501958, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/weWwl.png?s=128&g=1", "display_name": "hata", "link": "https://stackoverflow.com/users/3501958/hata"}, "is_accepted": true, "score": 1, "last_activity_date": 1447747398, "creation_date": 1447747398, "answer_id": 33751860, "question_id": 33751622, "link": "https://stackoverflow.com/questions/33751622/multiple-line-search-and-replace/33751860#33751860", "title": "Multiple line search and replace", "body": "<p>This may work:</p>\n\n<pre><code>s/(POWERDOWN_SUPPORT\\s*?&lt;\\/name&gt;\\s*?&lt;bool&gt;\\s*?&lt;value&gt;).*?(&lt;\\/value&gt;)/$1 false $2/s\n</code></pre>\n"}], "owner": {"reputation": 1100, "user_id": 1970427, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/18f92f7a3437a93370c95724e63ffa34?s=128&d=identicon&r=PG", "display_name": "Emman", "link": "https://stackoverflow.com/users/1970427/emman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 33751860, "answer_count": 2, "score": 1, "last_activity_date": 1447747398, "creation_date": 1447746450, "question_id": 33751622, "link": "https://stackoverflow.com/questions/33751622/multiple-line-search-and-replace", "title": "Multiple line search and replace", "body": "<pre><code>my $string = \"&lt;name&gt;\n                POWERDOWN_SUPPORT\n              &lt;/name&gt;\n              &lt;bool&gt;\n                &lt;value&gt; true &lt;/value&gt;\n              &lt;/bool&gt;\";\n\n    if ($string=~ s/POWERDOWN_SUPPORT&lt;\\/name&gt;&lt;bool&gt;&lt;value&gt;.*?&lt;\\/value&gt;/&lt;false&gt;/ims) {\n    print \"$string\\n\";\n    }\n</code></pre>\n\n<p>How do I get the replacement to work?</p>\n\n<p>Expected output:</p>\n\n<pre><code>&lt;name&gt;\n  POWERDOWN_SUPPORT\n&lt;/name&gt;\n&lt;bool&gt;\n  &lt;value&gt; false &lt;/value&gt;\n&lt;/bool&gt;\n</code></pre>\n"}, {"tags": ["perl", "parsing", "declaration", "raku"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1447739901, "post_id": 33749176, "comment_id": 55268130, "body": "<code>&lt;&gt;</code> isn&#39;t necessarily an operator that takes barewords, it could be defined as part of the grammar. Perhaps instead of defining a function, you need to <a href=\"http://doc.perl6.org/language/grammars\" rel=\"nofollow noreferrer\">add to the grammar</a>?"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1447742264, "post_id": 33749176, "comment_id": 55268970, "body": "I think it is worth mentioning that there is a <code>circumfix</code> keyword to define surrounding operators. But you won&#39;t get the barewords passed to it. In that instance, you might have to delve into macros, as Schwern pointed out."}, {"owner": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "edited": false, "score": 1, "creation_date": 1447751203, "post_id": 33749176, "comment_id": 55273340, "body": "as Schwern suggested, ony way to do it is by introducing a new &#39;slang&#39;; take a look at <a href=\"https://github.com/tony-o/perl6-slang-sql/\" rel=\"nofollow noreferrer\">Slang::SQL</a>"}, {"owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "edited": false, "score": 1, "creation_date": 1447830497, "post_id": 33749176, "comment_id": 55314353, "body": "Thanks Guys, looks like Slangs are the way to go with this one so thanks for directing me in the right direction. Only problem being that there isn&#39;t much explanation on this concept anywhere. I found this <a href=\"https://mouq.github.io/slangs.html\" rel=\"nofollow noreferrer\">mouq.github.io/slangs.html</a> which was kind of useful but with the explanation lacking mid way through I found myself lost again. I&#39;ve seemed to find Grammar explanations that are decent enough and Slang examples that are too much too fast, there&#39;s no in between. Anyone have any resources that are a bit easier to follow?"}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 1, "creation_date": 1447874036, "post_id": 33749176, "comment_id": 55343719, "body": "Actually you should be able to do this with a macro. Unfortunately Macros are going to be a post-christmas thing."}, {"owner": {"reputation": 25859, "user_id": 1077672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f8b55b0ade2c4748e94fb73a40662?s=128&d=identicon&r=PG", "display_name": "raiph", "link": "https://stackoverflow.com/users/1077672/raiph"}, "edited": false, "score": 0, "creation_date": 1455657414, "post_id": 33749176, "comment_id": 58584277, "body": "@Phyreprooph Have you mostly put this to one side for now or would a belated answer still be especially helpful to you? If the latter, please comment here about exactly where you first found/find mouq&#39;s document confusing, and let me know if you&#39;ve since seen any other helpful posts about slangs."}, {"owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "edited": false, "score": 0, "creation_date": 1455665722, "post_id": 33749176, "comment_id": 58588305, "body": "This was more of a curiosity thing than a, not being able to continue without it thing. For now I&#39;ve put it aside but feel free to answer. There might not be many good grammar/whatever explanations out there but I wouldn&#39;t know as I haven&#39;t looked further into it."}, {"owner": {"reputation": 758, "user_id": 4211231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c11386378a442612ab14ee7e93ce3c7?s=128&d=identicon&r=PG", "display_name": "Matt Oates", "link": "https://stackoverflow.com/users/4211231/matt-oates"}, "edited": false, "score": 0, "creation_date": 1460576687, "post_id": 33749176, "comment_id": 60813028, "body": "I&#39;d take a look at any of the Slang code from modules.perl6.org also my own one which adds a new quoted-literal constructor lives here: <a href=\"https://github.com/MattOates/BioInfo/blob/master/lib/BioInfo.pm6\" rel=\"nofollow noreferrer\">github.com/MattOates/BioInfo/blob/master/lib/BioInfo.pm6</a>"}, {"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 0, "creation_date": 1510588616, "post_id": 33749176, "comment_id": 81487509, "body": "Any bareword? Or just a couple of well defined ones? In the latter case you could use sigil-less &quot;variables&quot; to just make it look like barewords."}], "answers": [{"tags": [], "owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "is_accepted": false, "score": 2, "last_activity_date": 1523190054, "creation_date": 1523190054, "answer_id": 49717752, "question_id": 33749176, "link": "https://stackoverflow.com/questions/33749176/perl-6-subroutine-taking-bareword-input/49717752#49717752", "title": "Perl 6 - Subroutine taking &quot;Bareword&quot; input", "body": "<p>The best way to do that would be to create a <a href=\"https://docs.perl6.org/language/grammar_tutorial\" rel=\"nofollow noreferrer\">Grammar</a> that parses your language. If you additionally want it to run the DSL you have just created, combine it with <a href=\"https://docs.perl6.org/language/grammar_tutorial#Grammar_Actions\" rel=\"nofollow noreferrer\">Actions</a>.</p>\n"}], "owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1575224255, "creation_date": 1447734573, "last_edit_date": 1575224255, "question_id": 33749176, "link": "https://stackoverflow.com/questions/33749176/perl-6-subroutine-taking-bareword-input", "title": "Perl 6 - Subroutine taking &quot;Bareword&quot; input", "body": "<p>So I've been diving into Perl 6 and have been looking at interpreting another language using Perl 6's operator definitions. I understand that this could be done by parsing the code but I'm looking to push Perl 6's capabilities to see what it can do. Having this functionality would also make the parsing a lot easier</p>\n\n<p>I'm trying to make a variable definition in a C-style format.(The language isn't important)</p>\n\n<p>Something like:</p>\n\n<pre><code>char foo;\n</code></pre>\n\n<p>Where the <strong>char</strong> represents the type and the foo is the variable name. From my understanding the <strong>char</strong> can be interpreted using an operator definition like so:</p>\n\n<pre><code>sub prefix:&lt;char&gt;($input) {\n    say $input;\n}\n</code></pre>\n\n<p>Which calls a subroutine with the <strong>foo</strong> as <strong>$input</strong>. The idea from here would be to use <strong>foo</strong> as a string and hold it's reference in a hash somewhere. The problem with this is that Perl 6 seems to see any bareword as a function call and will complain when it can't find the \"Undeclared routine\".</p>\n\n<p>I've looked possibly everywhere for an answer to this and the only thing that makes me still think that this may be possible is the <strong>qw</strong> function from Perl 5 which is now <strong>&lt; ></strong> in Perl 6. The <strong>&lt; ></strong> is obviously an operator which leads me to believe that there is a subroutine defined somewhere that tells this operator how to work and how to deal with the bareword input. </p>\n\n<p>So to my question: </p>\n\n<p>Is there a way of accepting bareword input into a subroutine just like the <strong>&lt; ></strong> operator does?</p>\n\n<p>Cheers!</p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 9229, "user_id": 2571021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87cbb4445df2a3318c04b951bf1d8148?s=128&d=identicon&r=PG", "display_name": "Dijkgraaf", "link": "https://stackoverflow.com/users/2571021/dijkgraaf"}, "edited": false, "score": 2, "creation_date": 1447726407, "post_id": 33747983, "comment_id": 55264289, "body": "Which programming language or tool are you doing this in?  Please edit your question and add the appropriate tag."}, {"owner": {"reputation": 83, "user_id": 1224608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/834ffa0be199f7047fef63e3a3b50c08?s=128&d=identicon&r=PG", "display_name": "BurnerBoy", "link": "https://stackoverflow.com/users/1224608/burnerboy"}, "reply_to_user": {"reputation": 9229, "user_id": 2571021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87cbb4445df2a3318c04b951bf1d8148?s=128&d=identicon&r=PG", "display_name": "Dijkgraaf", "link": "https://stackoverflow.com/users/2571021/dijkgraaf"}, "edited": false, "score": 0, "creation_date": 1447726585, "post_id": 33747983, "comment_id": 55264320, "body": "I have added the requested information"}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 1, "creation_date": 1447726968, "post_id": 33747983, "comment_id": 55264402, "body": "<a href=\"http://stackoverflow.com/a/1732454/1072112\">You know that regex is particularly ill-suited to parsing HTML, right?</a>?  If you&#39;re programming in perl, is <a href=\"http://www.cgi101.com/modules/XML.dom.html\" rel=\"nofollow noreferrer\">XML::DOM</a> or <a href=\"http://stackoverflow.com/a/4598384/1072112\">Mojo::DOM</a> not an option? If you&#39;re programming in bash, are you doing so by choice?  And .. what have you tried?  We can&#39;t help you fix code we haven&#39;t seen."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1447726991, "post_id": 33747983, "comment_id": 55264411, "body": "It has been said here over and over again, if you&#39;re processing XML then use an XML parser. Regular expressions are good for many things, but cannot process irregular syntaxes"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447727249, "post_id": 33747983, "comment_id": 55264465, "body": "What do you mean by <code>tags themselves</code> ? Are you looking for just the  <i>tag</i> that has that attribute value, or are you looking for a closing tag, and all between as well ?"}, {"owner": {"reputation": 83, "user_id": 1224608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/834ffa0be199f7047fef63e3a3b50c08?s=128&d=identicon&r=PG", "display_name": "BurnerBoy", "link": "https://stackoverflow.com/users/1224608/burnerboy"}, "edited": false, "score": 0, "creation_date": 1447727437, "post_id": 33747983, "comment_id": 55264510, "body": "I&#39;m doing this in Bash, calling the perl executable because it was a single find and replace I had to do, and I was hoping it&#39;d be a simple thing... something like <code>perl -0pe &quot;s&#47;&lt;tag&gt;.*?ThisIsImportant.*?&lt;\\&#47;tag&gt;&#47;&lt;replacement&gt;&lt;\\&#47;replace&zwnj;&#8203;ment&gt;&#47;sg&quot;</code> is what I was hoping to get."}, {"owner": {"reputation": 83, "user_id": 1224608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/834ffa0be199f7047fef63e3a3b50c08?s=128&d=identicon&r=PG", "display_name": "BurnerBoy", "link": "https://stackoverflow.com/users/1224608/burnerboy"}, "edited": false, "score": 0, "creation_date": 1447728025, "post_id": 33747983, "comment_id": 55264667, "body": "That pattern took too much, it matched from the first tag to the last /tag, which included many other things and not just the one that had &quot;ThisIsImportant&quot; inside."}, {"owner": {"reputation": 83, "user_id": 1224608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/834ffa0be199f7047fef63e3a3b50c08?s=128&d=identicon&r=PG", "display_name": "BurnerBoy", "link": "https://stackoverflow.com/users/1224608/burnerboy"}, "edited": false, "score": 0, "creation_date": 1447728548, "post_id": 33747983, "comment_id": 55264793, "body": "I edited the question, as I think my example wasn&#39;t very good...When I tried <code>&lt;tag&gt;.*?ThisIsImportant.*?&lt;\\&#47;tag&gt;</code>, it ends up getting from the starting <code>&lt;tag&gt;</code> at the top of the file and finishes it at the <code>&lt;&#47;tag&gt;</code> after &quot;ThisIsImportant&quot;. I am trying to figure out how to start the match from the <code>&lt;tag&gt;</code> that is immediately before &quot;ThisIsImportant&quot;, and not any earlier than that."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 0, "last_activity_date": 1447729649, "creation_date": 1447729649, "answer_id": 33748463, "question_id": 33747983, "link": "https://stackoverflow.com/questions/33747983/perl-regex-search-and-replace-between-tags-only-if-string-is-in-between/33748463#33748463", "title": "Perl Regex - Search and replace between tags only if string is in-between", "body": "<p>To get the closest starting tag to <code>ThisIsImportant</code> use a negative<br>\nassertion on the tag itself.  </p>\n\n<p><code>/&lt;tag&gt;(?:(?!&lt;tag&gt;).)*ThisIsImportant.*?&lt;\\/tag&gt;/</code>  </p>\n\n<p>Formatted:  </p>\n\n<pre><code> &lt;tag&gt;\n (?:\n      (?! &lt;tag&gt; )\n      . \n )*\n ThisIsImportant\n .*? \n &lt;/tag&gt; \n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 1224608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/834ffa0be199f7047fef63e3a3b50c08?s=128&d=identicon&r=PG", "display_name": "BurnerBoy", "link": "https://stackoverflow.com/users/1224608/burnerboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "closed_date": 1447770288, "accepted_answer_id": 33748463, "answer_count": 1, "score": -3, "last_activity_date": 1447729649, "creation_date": 1447726199, "last_edit_date": 1447728390, "question_id": 33747983, "link": "https://stackoverflow.com/questions/33747983/perl-regex-search-and-replace-between-tags-only-if-string-is-in-between", "closed_reason": "Not suitable for this site", "title": "Perl Regex - Search and replace between tags only if string is in-between", "body": "<p>I'm trying to come up with a regex that will match the entirety of the tag that has \"ThisIsImportant\" (including the tags themselves), without matching either of the other ones:</p>\n\n<pre><code>&lt;tag&gt;\n  &lt;random attribute=\"ThisIsNotImportant\" /&gt;\n&lt;/tag&gt;\n\n&lt;tag&gt;\n  &lt;random attribute=\"ThisIsImportant\" /&gt;\n&lt;/tag&gt;\n\n&lt;tag&gt;\n  &lt;random attribute=\"ThisIsAlsoNotImportant\" /&gt;\n&lt;/tag&gt;\n</code></pre>\n\n<p>So far I've got \"&lt;tag&gt;.*?&lt;/tag&gt;\", but I don't know how to make it so that I only match the one with \"ThisIsImportant\". Can anyone provide some help?</p>\n\n<p>Thanks in advance.</p>\n\n<p>EDIT: For clarity, I want to match the entirety of \"&lt;tag&gt;&lt;random attribute=\"ThisIsImportant\" /&gt;&lt;/tag&gt;\".</p>\n\n<p>I am trying to do this in Bash using the perl executable, and am avoiding something like xmlstarlet because the environments I need to run the script on does not have access to this application.</p>\n"}, {"tags": ["perl", "shell", "awk", "grep"], "comments": [{"owner": {"reputation": 10152, "user_id": 2229272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oisED.png?s=128&g=1", "display_name": "jas", "link": "https://stackoverflow.com/users/2229272/jas"}, "edited": false, "score": 0, "creation_date": 1447713732, "post_id": 33745903, "comment_id": 55260405, "body": "Assuming what you are showing is a sample input file, show also your desired output given that input."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1447714019, "post_id": 33745903, "comment_id": 55260530, "body": "Two things: what should the output look like, and what have you tried so far?"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4983656, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155688886780051/picture?type=large", "display_name": "dciampa", "link": "https://stackoverflow.com/users/4983656/dciampa"}, "edited": false, "score": 0, "creation_date": 1447779878, "post_id": 33747091, "comment_id": 55293245, "body": "Thanks for this!!  I think I am going to use the grep command to find the line I wish to print then awk to print only a section of that line. Now figuring out how to find the first occurrence of the Element after a certain header. This I just used:  grep -A 5 &#39;Log10  Mean Ionisation (over radius)&#39; FILE | grep &#39;Carbon&#39; | awk...  This may be improper to do, but it works!   Thanks for the help!!!"}], "tags": [], "owner": {"reputation": 305, "user_id": 5484716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7feVG.png?s=128&g=1", "display_name": "RobertL", "link": "https://stackoverflow.com/users/5484716/robertl"}, "is_accepted": true, "score": 0, "last_activity_date": 1447719807, "creation_date": 1447719807, "answer_id": 33747091, "question_id": 33745903, "link": "https://stackoverflow.com/questions/33745903/shell-perl-script-to-find-and-print-string-and-some/33747091#33747091", "title": "Shell/Perl script to find and print string and some", "body": "<p>You can save this in a file and call it with 2 parameters, the first is the name of the element, the second is the name of the file to search.  The element name is case sensitive:</p>\n\n<pre><code>#!/bin/sh\nsed -n \"\n    /Log10  Mean Ionisation (over radius)/,/^[[:space:]]*$/ {\n        /^${1:?}/ p\n    }\n\" \"${2:?}\"\n</code></pre>\n\n<p>The <code>sed</code> command by default prints nothing (<code>-n</code>), then, for the lines between \"Log10  Mean Ionisation (over radius)\" and the next blank line, it will search for the pattern (element) given by the first script parameter, at the beginning of the line (<code>/^${1:?}</code>), and if found, prints the line (<code>p</code>).</p>\n\n<p>The <code>${1:?}</code> and <code>${2:?}</code> notation to reference the positional parameters, causes the shell to print an error message and exit if either of the parameters are not set.</p>\n"}], "owner": {"reputation": 43, "user_id": 4983656, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155688886780051/picture?type=large", "display_name": "dciampa", "link": "https://stackoverflow.com/users/4983656/dciampa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "closed_date": 1447739999, "accepted_answer_id": 33747091, "answer_count": 1, "score": -2, "last_activity_date": 1447719807, "creation_date": 1447713246, "last_edit_date": 1447717687, "question_id": 33745903, "link": "https://stackoverflow.com/questions/33745903/shell-perl-script-to-find-and-print-string-and-some", "closed_reason": "Needs more focus", "title": "Shell/Perl script to find and print string and some", "body": "<p>I'm currently trying to write a simple shell script that will read in a file, look for a certain string and then print that string and a few characters after. The context of this request is that I have a set of data files which I'd like to run through. The files contain a bunch of elemental ionization values. I'm trying to find the element and the print out its ionization values.</p>\n\n<p>An issue here is that the data file also contains elemental temperatures at certain ionizations, so there are at least two different instances in which the element will appear in the file. Each data file is pretty standard so I could go about this by counting which element occurrence I desire and print only that one, but I was wondering if there were a better way to do this. Say first find the location of the section header \"ionization values\" and then print the first said element values that occur.</p>\n\n<p>Does this make sense? If not, don't hesitate to ask for clarification!</p>\n\n<p>Here's a sample of what the input can look like:</p>\n\n<pre><code>Log10  Mean Ionisation (over radius)\nHydrogen   -1.881 -0.006-10.514 (H2)\nHelium     -1.433 -0.034 -1.410\nLithium    -3.769 -0.001 -2.531 -4.765\nBeryllium  -1.896 -0.704 -0.107 -2.060 -5.793\nBoron      -3.592 -0.118 -0.677 -1.570 -4.884\nCarbon     -3.082 -0.350 -0.259 -2.707 -3.577 -8.864\n\nLog10 Mean Temperature (over radius)\nHydrogen    4.068  4.068  4.068 (H2)\nHelium      4.068  4.068  4.068\nLithium     4.068  4.068  4.068  4.068\nBeryllium   4.068  4.068  4.068  4.068  4.068\nBoron       4.068  4.068  4.068  4.068  4.068\nCarbon      4.068  4.068  4.068  4.068  4.068  4.068\n</code></pre>\n\n<p>As for an output, all I really need is just the values an elements. Print them to console is fine</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "apc"], "comments": [{"owner": {"reputation": 339, "user_id": 1223758, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7O4NB.jpg?s=128&g=1", "display_name": "Paul Allen", "link": "https://stackoverflow.com/users/1223758/paul-allen"}, "edited": false, "score": 0, "creation_date": 1447713491, "post_id": 33745391, "comment_id": 55260304, "body": "why would you want to do this?  the current mode it works in allows you to manage the file without threat of breaking the code - adding the hosts directly and managing new/old host adds and removals introduces new opportunities to blow stuff up"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447713929, "post_id": 33745391, "comment_id": 55260487, "body": "Welcome to Stack Overflow. You should include the code in your question, along with a specific problem and any difficulties that have prevented you from solving the problem yourself. See: <a href=\"http://stackoverflow.com/help/how-to-ask\">how do I ask a good question?</a>"}, {"owner": {"reputation": 1, "user_id": 5569522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abfbdad9a5a8ac38e724c7eaa067f07b?s=128&d=identicon&r=PG&f=1", "display_name": "Methodman85", "link": "https://stackoverflow.com/users/5569522/methodman85"}, "reply_to_user": {"reputation": 339, "user_id": 1223758, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7O4NB.jpg?s=128&g=1", "display_name": "Paul Allen", "link": "https://stackoverflow.com/users/1223758/paul-allen"}, "edited": false, "score": 0, "creation_date": 1447794235, "post_id": 33745391, "comment_id": 55301654, "body": "@Paul Allen PCNS only lets you specify the script location and does not let you run it with any switches/parameters/modifiers etc. That&#39;s why I would like it all in one file. I was able to find an answer."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447803168, "post_id": 33767001, "comment_id": 55305892, "body": "The <code>&quot;&quot;hostx.somedomain&quot;&quot;</code> part will cause a syntax error."}], "tags": [], "owner": {"reputation": 1, "user_id": 5569522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abfbdad9a5a8ac38e724c7eaa067f07b?s=128&d=identicon&r=PG&f=1", "display_name": "Methodman85", "link": "https://stackoverflow.com/users/5569522/methodman85"}, "is_accepted": false, "score": 0, "last_activity_date": 1447794431, "creation_date": 1447794431, "answer_id": 33767001, "question_id": 33745391, "link": "https://stackoverflow.com/questions/33745391/need-helping-editing-perl-script-for-powerchute-network-shutdown/33767001#33767001", "title": "Need Helping Editing Perl Script for PowerChute Network Shutdown", "body": "<p>Replace </p>\n\n<pre><code>my $host_username = 'fillmein';\nmy $host_password = 'fillmein';\n\n#### DO NOT EDIT PAST HERE ####\n\nmy @hostlist;\nmy ($file,$request,$message,$response,$retval,$cookie);\n\n&amp;verifyUserInput();\n&amp;processFile($file);\n</code></pre>\n\n<p>With</p>\n\n<pre><code>my $host_username = 'yourusername';\nmy $host_password = 'yourpass';\n\n#### DO NOT EDIT PAST HERE ####\n\nmy @hostlist = (\"host1.somedomain\", \"\"hostx.somedomain\"\");\nmy ($file,$request,$message,$response,$retval,$cookie);\n\n#&amp;verifyUserInput();\n#&amp;processFile($file);\n</code></pre>\n\n<p>I only have 1 host at each site to shut down so this is a clean solution for me.</p>\n"}], "owner": {"reputation": 1, "user_id": 5569522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abfbdad9a5a8ac38e724c7eaa067f07b?s=128&d=identicon&r=PG&f=1", "display_name": "Methodman85", "link": "https://stackoverflow.com/users/5569522/methodman85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1447794431, "creation_date": 1447711062, "question_id": 33745391, "link": "https://stackoverflow.com/questions/33745391/need-helping-editing-perl-script-for-powerchute-network-shutdown", "title": "Need Helping Editing Perl Script for PowerChute Network Shutdown", "body": "<p>I found the perl script on the vmware community. The problem is that within APC's PCNS it will not let you specify parameters to run with the script.</p>\n\n<p>The script requires calling on a host-list file  Usage: ./shutdownHostViaSOAPAPICall.pl [HOST_FILE]</p>\n\n<p>So I would like to add the hosts I want to shutdown directly into the script instead of having to call a hostlist file.</p>\n\n<p>Can anyone help with this? Here is the Vsphere thread for reference. And so that you can download the script. </p>\n\n<p><a href=\"https://communities.vmware.com/docs/DOC-11623\" rel=\"nofollow\">https://communities.vmware.com/docs/DOC-11623</a></p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 1, "creation_date": 1447712406, "post_id": 33745131, "comment_id": 55259846, "body": "You can use strict and warnings pragmas to improve your code"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447717426, "post_id": 33745131, "comment_id": 55261724, "body": "There are two core ways to list the contents of a file system directory, One is to use <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow noreferrer\">readdir</a>  as you have done, and the other is <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">glob</a> , which implements something like the command-line wildcard semantics. Both of these will include directories as well as files indiscriminately. <code>readdir</code> has the additional problem that it will return the current and parent pseudo-directories <code>.</code> and <code>..</code> as well as any real content, and will provide just the names without any associated path"}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 5199588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53d2e142e6df6e73cd33298c737cfcad?s=128&d=identicon&r=PG&f=1", "display_name": "nchimato", "link": "https://stackoverflow.com/users/5199588/nchimato"}, "edited": false, "score": 0, "creation_date": 1447767259, "post_id": 33745194, "comment_id": 55284052, "body": "Wow. Duh. Thank you! And thanks for the tip about the filehandle. Perl is a whole new world to me."}], "tags": [], "owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "is_accepted": true, "score": 0, "last_activity_date": 1447710171, "creation_date": 1447710171, "answer_id": 33745194, "question_id": 33745131, "link": "https://stackoverflow.com/questions/33745131/perl-reading-all-files-of-a-directory-error-no-such-file-or-directory/33745194#33745194", "title": "Perl: reading all files of a directory, error: no such file or directory", "body": "<p>You just need to prepend the directory to the elements of <code>@files</code> afterwards.</p>\n\n<pre><code>foreach $file (@files) {\n    open(my $fh, \"$dir/$file\") or die \"Can't open $dir/$file: $!\";\n    while (&lt;$fh&gt;) { ... }\n    # ...\n}\n</code></pre>\n\n<p>Notice I've also used a lexical filehandle instead of opening the bareword <code>file</code>, which is frowned upon for various reasons.</p>\n"}], "owner": {"reputation": 393, "user_id": 5199588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53d2e142e6df6e73cd33298c737cfcad?s=128&d=identicon&r=PG&f=1", "display_name": "nchimato", "link": "https://stackoverflow.com/users/5199588/nchimato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "closed_date": 1447716834, "accepted_answer_id": 33745194, "answer_count": 1, "score": -1, "last_activity_date": 1447710171, "creation_date": 1447709892, "question_id": 33745131, "link": "https://stackoverflow.com/questions/33745131/perl-reading-all-files-of-a-directory-error-no-such-file-or-directory", "closed_reason": "Duplicate", "title": "Perl: reading all files of a directory, error: no such file or directory", "body": "<p>I am working in Perl on the very beginning stages of a program to read all files in a directory matching a certain pattern then parsing each of them. It works if the code is in the same directory as the files, but I would like it to be able to work no matter where the program is located, as long as the path in the program is correct. Can anyone help me out on how to do this? </p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>#!/usr/bin/perl5.16.2\n\nmy $dir = '/my/path/';\n\nopendir(files, $dir) or die (\"The directory could not be opened: $!\");\n@files = grep { /^jhu*/ &amp;&amp; -f \"$dir/$_\" } readdir(files);\nclosedir(files);\n\nforeach $file (@files) {\n\n    open(file, $file) or die \"$!\";\n\n    while(&lt;file&gt;) {\n\n    $line = $_;\n    chomp($line);\n\n    @cols = split(/\\t/, $line);\n\n    print \"$cols[4]\\n\";\n    }\n}\n\nclose(file);\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["regex", "perl", "shell", "awk"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447708670, "post_id": 33744802, "comment_id": 55258006, "body": "You say &quot;...this yyyymmddhhmmss.txt remaining format may change&quot; and then &quot;This part (yyyymmddhhmmss.txt) will never change.&quot; Which is it?"}, {"owner": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447709081, "post_id": 33744802, "comment_id": 55258209, "body": "Sorry for the confusion.. I tried to say &quot;except this part (yyyymmddhhmmss.txt) remaining format may change&quot;.                                     For ex: AEXP_CSTONE_EU_prpbdp_sourcefile_yyyymmddhhmmss.txt may change to  AEXP_CSTONE_EU_prpbdp_sourcefile_prospects_yyyymmddhhmmss.tx&zwnj;&#8203;t"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447710912, "post_id": 33744802, "comment_id": 55259152, "body": "<code>$ perl -e &#39;print $1 if $ARGV[0] =~ &#47;_(\\d{14})\\.txt$&#47;&#39; AEXP_CSTONE_EU_prpbdp_sourcefile_20151116143925.txt</code>"}, {"owner": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "edited": false, "score": 0, "creation_date": 1447774197, "post_id": 33744802, "comment_id": 55288990, "body": "Works fine .. Thanq Matt"}], "answers": [{"comments": [{"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1447711409, "post_id": 33745379, "comment_id": 55259407, "body": "Escape the <code>.</code> like <code>s&#47;.*(\\d{14})\\.txt&#47;$1&#47;</code> otherwise the <code>.</code> has the metacharacter meaning of any character."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1447714086, "post_id": 33745379, "comment_id": 55260555, "body": "@dawg Good catch. I have updated the answer accordingly."}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 0, "last_activity_date": 1447714053, "last_edit_date": 1447714053, "creation_date": 1447711020, "answer_id": 33745379, "question_id": 33744802, "link": "https://stackoverflow.com/questions/33744802/how-can-i-extract-the-timestamp-from-the-end-of-a-shell-variable-when-the-format/33745379#33745379", "title": "How can I extract the timestamp from the end of a shell variable when the format isn&#39;t fixed?", "body": "<p>You need to match the part that will <em>not</em> change then:</p>\n\n<pre><code>TimeStamp=$(echo $Input | perl -pe 's/.*(\\d{14})\\.txt/$1/')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "edited": false, "score": 0, "creation_date": 1447774127, "post_id": 33746308, "comment_id": 55288937, "body": "Thanks much dawg.. Each and every solution worked perfectly."}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 2, "last_activity_date": 1447717883, "last_edit_date": 1447717883, "creation_date": 1447715197, "answer_id": 33746308, "question_id": 33744802, "link": "https://stackoverflow.com/questions/33744802/how-can-i-extract-the-timestamp-from-the-end-of-a-shell-variable-when-the-format/33746308#33746308", "title": "How can I extract the timestamp from the end of a shell variable when the format isn&#39;t fixed?", "body": "<p>Given:</p>\n\n<pre><code>$ echo $Input\nAEXP_CSTONE_EU_prpbdp_sourcefile_prospects_20151116141111.txt\n</code></pre>\n\n<p>You can use <code>sed</code>:</p>\n\n<pre><code>$ echo $Input | sed -n 's|.*_\\([0-9]\\{14\\}\\)\\.txt|\\1|p' \n20151116141111\n</code></pre>\n\n<p>Or nested grep:</p>\n\n<pre><code>$ echo $Input | grep -Eo '_[0-9]{14}\\.txt' | grep -Eo '[0-9]{14}'\n20151116141111\n</code></pre>\n\n<p>awk:</p>\n\n<pre><code>$ echo $Input | awk -F_ '{split($NF, a, \".\"); print a[1]}'\n20151116141111\n</code></pre>\n\n<p>Perl</p>\n\n<pre><code>$ echo $Input | perl -ne 'print $1 if /_(\\d{14})\\.txt/'\n20151116141111\n</code></pre>\n\n<p>cut and rev:</p>\n\n<pre><code>$ echo $Input | rev | cut -d'_' -f 1 | rev | cut -d'.' -f 1\n20151116141111\n</code></pre>\n\n<p>Bash:</p>\n\n<pre><code>$ last=${Input##*_}\n$ echo $last\n20151116141111.txt\n$ ts=${last%.*}\n$ echo $ts\n20151116141111\n</code></pre>\n\n<p>In summary, lots of ways...</p>\n\n<hr>\n\n<p>If you don't want to loose the <code>.txt</code> part, even easier:</p>\n\n<pre><code>$ echo $Input | sed -n 's|.*_\\([0-9]\\{14\\}\\.txt\\)|\\1|p'\n20151116141111.txt\n$ echo $Input | grep -Eo '[0-9]{14}\\.txt$'\n20151116141111.txt\n$ echo $Input | awk -F_ '{print $NF}'\n20151116141111.txt\n$ echo $Input | perl -ne 'print $1 if /_(\\d{14}\\.txt)/'\n20151116141111.txt\n$ echo $Input | rev | cut -d'_' -f 1 | rev\n20151116141111.txt\n$ last=${Input##*_}\n$ echo $last\n20151116141111.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4754, "user_id": 1524545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba0e504ac6af81a0a5033cb33a9c08c?s=128&d=identicon&r=PG", "display_name": "geirha", "link": "https://stackoverflow.com/users/1524545/geirha"}, "is_accepted": false, "score": 0, "last_activity_date": 1447715491, "creation_date": 1447715491, "answer_id": 33746372, "question_id": 33744802, "link": "https://stackoverflow.com/questions/33744802/how-can-i-extract-the-timestamp-from-the-end-of-a-shell-variable-when-the-format/33746372#33746372", "title": "How can I extract the timestamp from the end of a shell variable when the format isn&#39;t fixed?", "body": "<p>You are extracting the 6th field separated by <code>_</code>, yet it seems you really want to extract the last field. You can do that with parameter expansion:</p>\n\n<pre><code>timestamp=${Input##*_}\ntimestamp=${timestamp%.txt}\n</code></pre>\n\n<p>See <a href=\"http://mywiki.wooledge.org/BashFAQ/100\" rel=\"nofollow\">BashFAQ 100</a> for more on string manipulation in bash.</p>\n\n<p>In awk, you'd use <code>$NF</code> to reference the last field, though awk is overkill for this.</p>\n"}], "owner": {"reputation": 49, "user_id": 5569347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62686db39e7dcd11709c01dc5c5026f2?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen.Y", "link": "https://stackoverflow.com/users/5569347/naveen-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1447717883, "creation_date": 1447708591, "last_edit_date": 1447711181, "question_id": 33744802, "link": "https://stackoverflow.com/questions/33744802/how-can-i-extract-the-timestamp-from-the-end-of-a-shell-variable-when-the-format", "title": "How can I extract the timestamp from the end of a shell variable when the format isn&#39;t fixed?", "body": "<p>I'm trying to extract the timestamp from the end of a shell variable like this:</p>\n\n<pre><code>Input=AEXP_CSTONE_EU_prpbdp_sourcefile_yyyymmddhhmmss.txt\nTimeStamp=`echo $Input | awk -F\"_\" '{print $6}'`\n</code></pre>\n\n<p>This works for this particular case, but the format of the string can change. For example, it could also be:</p>\n\n<pre><code>Input=AEXP_CSTONE_EU_prpbdp_sourcefile_prospects_yyyymmddhhmmss.txt\n</code></pre>\n\n<p>The variable will always end with <code>yyyymmddhhmmss.txt</code>. How can I extract the timestamp consistently?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "is_accepted": false, "score": 0, "last_activity_date": 1447704974, "creation_date": 1447704974, "answer_id": 33743846, "question_id": 33742942, "link": "https://stackoverflow.com/questions/33742942/spreadsheetread-and-columns/33743846#33743846", "title": "Spreadsheet::Read and columns", "body": "<p>I was able to resolve this with the <code>Spreadsheet::BasicReadNamedCol</code> module</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Data::Dumper;\nuse Spreadsheet::BasicReadNamedCol;\n\nmy $xlsFileName = 'test.xls';\nmy @columnHeadings = (\n'AgencyName',\n'eMail',\n'PhysicalAddress1',\n'PhysicalAddress2'\n);\n\nmy $ss = new Spreadsheet::BasicReadNamedCol($xlsFileName) ||\ndie \"Could not open '$xlsFileName': $!\";\n$ss-&gt;setColumns(@columnHeadings);\n\n# Print each row of the spreadsheet in the order defined in\n# the columnHeadings array\nmy $row = 0;\nwhile (my $data = $ss-&gt;getNextRow())\n{\n$row++;\nprint join('|', $row, @$data), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447704974, "creation_date": 1447701629, "question_id": 33742942, "link": "https://stackoverflow.com/questions/33742942/spreadsheetread-and-columns", "title": "Spreadsheet::Read and columns", "body": "<p>I'm trying to extract all the data in various columns of my spreadsheet using Perl's Spreadsheet::Read. For example, I want to extract all the data in the following columns:</p>\n\n<pre><code>A1 = 'NewRecordFlag'\nB1 = 'AgencyName'\nC1 = 'CredentialIdnt'\n</code></pre>\n\n<p>In the Spreadsheet::Read module I can extract all data from rows but how do I from columns? </p>\n\n<p>In the following example, the code below is extracting data from row 6. So, how do I create an array of A1, B1, and C1?</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Data::Printer;\nuse Spreadsheet::Read qw(row rows);\nuse Spreadsheet::Read;\n\n\n\nmy $workbook = ReadData(\"test.xls\");\n\nmy @row = row($workbook-&gt;[1], 6);\n</code></pre>\n"}, {"tags": ["jquery", "html", "perl", "browser", "cgi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447696046, "post_id": 33740941, "comment_id": 55251203, "body": "Use the <code>redirect</code> method as described in the CGI.pm documentation under <a href=\"http://perldoc.perl.org/CGI.html#GENERATING-A-REDIRECTION-HEADER\" rel=\"nofollow noreferrer\">Generating a redirection header</a>. You can see how the headers differ from your current method by running on the command line: compare <code>perl -MCGI -e&#39;print CGI-&gt;new-&gt;header(-location =&gt; &quot;foo&quot;)&#39;</code> to <code>perl -MCGI -e&#39;print CGI-&gt;new-&gt;redirect(&quot;foo&quot;)&#39;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447696493, "post_id": 33740941, "comment_id": 55251470, "body": "Also, if you&#39;re writing new code, I would recommend using something other than CGI.pm. Its use is <a href=\"https://metacpan.org/pod/CGI#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">officially discouraged</a>: &quot;...CGI.pm is no longer considered good practice for developing web applications, <b>including</b> quick prototyping and small web scripts. There are far better, cleaner, quicker, easier, safer, more scalable, more extensible, more modern alternatives available at this point in time. These will be documented with <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a>.&quot;"}, {"owner": {"reputation": 846, "user_id": 385390, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b41a2fc080cdea0887394c53f4108dfb?s=128&d=identicon&r=PG", "display_name": "bliako", "link": "https://stackoverflow.com/users/385390/bliako"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447698308, "post_id": 33740941, "comment_id": 55252519, "body": "Noted your comment re:redirect. I know about CGI.pm obsol. but is there an alternative? I use HTML::Templates for all html output but CGI for cookies, params etc. I have tried the method you susggest too (-&gt;redirect). The browser&#39;s behaviour is the same. Please note that this problem exits even if all redirects are removed and rather the CGI script outputs some basic HTML to the browser. The browser does not display it at all (e.g. in my example verify script when password is wrong). Can this be related to jQuery? if I comment out the jQuery include, the browser reacts to redirect as expected."}, {"owner": {"reputation": 846, "user_id": 385390, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b41a2fc080cdea0887394c53f4108dfb?s=128&d=identicon&r=PG", "display_name": "bliako", "link": "https://stackoverflow.com/users/385390/bliako"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447698676, "post_id": 33740941, "comment_id": 55252728, "body": "I have corrected the redirection in my scripts to be using <code>CGI::redirect()</code> rather than with <code>CGI::location()</code> as per ThisSuitIsBlackNot&#39;s correct suggestion. The problem still persists."}], "answers": [{"tags": [], "owner": {"reputation": 846, "user_id": 385390, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b41a2fc080cdea0887394c53f4108dfb?s=128&d=identicon&r=PG", "display_name": "bliako", "link": "https://stackoverflow.com/users/385390/bliako"}, "is_accepted": true, "score": 0, "last_activity_date": 1447772630, "creation_date": 1447772630, "answer_id": 33760229, "question_id": 33740941, "link": "https://stackoverflow.com/questions/33740941/browser-does-not-react-update-to-perl-cgi-redirect-print-html-after-including-jq/33760229#33760229", "title": "Browser does not react/update to perl CGI redirect/print html after including jquery-1.11.3.min.js", "body": "<p>Adding </p>\n\n<p><code>data-ajax=\"false\"</code></p>\n\n<p>to the form definition (e.g. <code>&lt;form data-ajax=\"false\" ....&gt;</code>)\ninside the file <code>login_page.html</code></p>\n\n<p>solves the problem. Now browser's url textbox and content area are updated properly when doing a CGI::redirect().</p>\n\n<p>Will this break something else? Who knows.</p>\n"}], "owner": {"reputation": 846, "user_id": 385390, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b41a2fc080cdea0887394c53f4108dfb?s=128&d=identicon&r=PG", "display_name": "bliako", "link": "https://stackoverflow.com/users/385390/bliako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 0, "accepted_answer_id": 33760229, "answer_count": 1, "score": 0, "last_activity_date": 1447772630, "creation_date": 1447694064, "last_edit_date": 1447698560, "question_id": 33740941, "link": "https://stackoverflow.com/questions/33740941/browser-does-not-react-update-to-perl-cgi-redirect-print-html-after-including-jq", "title": "Browser does not react/update to perl CGI redirect/print html after including jquery-1.11.3.min.js", "body": "<p>I am trying to implement a basic user authorisation system using perl and CGI. The browser (firefox &amp; safari) does not react to the CGI redirect (upon successful login to a new page) or even to a simple print HTML after including <strong>jQuery</strong> 1.11.13.min.js in the header of the HTML login page. The browser's content area and url textbox remain the same as CGI script were never executed. But I know the scripts were executed.</p>\n\n<p><strong>Here is a summary of the system:</strong><br>\nThe user is first presented with an HTML login page (<code>login_page.html</code>) which contains a basic login form with 'username' and 'password' fields, the form action is a cgi script (<code>verify.cgi</code>) called using POST.</p>\n\n<p>This script checks if credentials are OK and either <b>redirects</b> to a new CGI script (<code>welcome.cgi</code>) which prints a basic welcome message in HTML or just prints a basic html message of failure there and then (all three files are included further down this post).</p>\n\n<p>However, there is a problem after redirecting to the welcome (CGI) page. The <code>welcome.cgi</code> script is called successfully because I made it print a message in a file in the server. <strong>BUT</strong> the url-address box of the browser (firefox 41.0.2 and safari 6.2.4) is not updating, the <code>http://..../verify.cgi</code> url remains there. Also, the browser displays the login page html and does not update its content area to the welcome or failed login message html output-ed by the <code>verify.cgi</code>/<code>welcome.cgi</code> scripts.</p>\n\n<p>The problem appears after including the standard jQuery js file (<a href=\"http://code.jquery.com/jquery-1.11.3.min.js\" rel=\"nofollow\">http://code.jquery.com/jquery-1.11.3.min.js</a>) in the header of my login page (in html).</p>\n\n<p>Can anyone help me finding out what I am doing wrong and how to fix it?</p>\n\n<p>Please do not ask why I want to include jQuery. And I prefer to stick with perl than anything else.</p>\n\n<p>General comments about the code and design welcomed.</p>\n\n<p>Many thanks</p>\n\n<p>Here are the three files in their most basic form:</p>\n\n<ol>\n<li><code>login_page.html</code></li>\n</ol>\n\n<pre class=\"lang-css prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;!-- this one creates a problem with CGI redirect --&gt;\n&lt;script src=\"http://code.jquery.com/jquery-1.11.3.min.js\"&gt;&lt;/script&gt;\n\n&lt;!-- this one does not seem to create any problem --&gt;\n&lt;script src=\"http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js\"&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form action=\"/bin/verify.cgi\" method=\"post\" name=\"login_form\"&gt;\n &lt;input type=\"text\" name=\"username\" id=\"username\"&gt;&lt;br/&gt;\n &lt;input type=\"password\" name=\"password\" id=\"password\"&gt;&lt;br/&gt;\n &lt;input type=\"submit\" value=\" Log In \" name=\"login_button\"/&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li><code>verify.cgi</code></li>\n</ol>\n\n<pre class=\"lang-css prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse CGI::Carp;\nuse CGI::Session;\nuse CGI;\n\nmy $cgi = CGI-&gt;new;\n\nmy $username = $cgi-&gt;param(\"username\");\nmy $password = $cgi-&gt;param(\"password\");\n\nif( defined($username) &amp;&amp;\n    defined($password) &amp;&amp;\n    ($username eq 'test') &amp;&amp;\n    ($password eq 'test')\n){\n    # successful login\n    my $session = CGI::Session-&gt;new(\n        \"driver:File\",\n        undef,\n        {Directory=&gt;'/tmp'}\n    );\n    my $sid = $session-&gt;id();\n    $session-&gt;param('username', $username);\n    # setup the cookie to the session\n    my $cookie = $cgi-&gt;cookie(\n        -name  =&gt; 'CGISESSID',\n        -value =&gt; $sid\n    );\n    $session-&gt;save_param();\n    $session-&gt;flush();\n    # move on to the next page and place the cookie in the headers\n    # the script in the -location is EXECUTED OK - so redirect works\n    # however browser does not update URL textbox nor its content page:\n    print $cgi-&gt;redirect(\n            -cookie   =&gt; $cookie,\n            -url =&gt; 'http://c3.myartsonline.com/bin/welcome.cgi'\n    );\n    # even with this it does not work\n    # print $cgi-&gt;header() . \"&lt;html&gt;&lt;body&gt;welcome, login successful&lt;/body&gt;&lt;/html&gt;\";\n\n} else {\n    # login failed\n    # this I can not see in the browser either\n    print $cgi-&gt;header() . '&lt;html&gt;&lt;body&gt;login failed&lt;/body&gt;&lt;/html&gt;';\n}\n1;\n__END__\n</code></pre>\n\n<ol start=\"3\">\n<li><code>welcome.cgi</code></li>\n</ol>\n\n<pre class=\"lang-css prettyprint-override\"><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse CGI;\nuse CGI::Session;\nmy $cgi = CGI-&gt;new;\n\nmy ($session, $username) = (undef) x 2;\n\nmy $sid = $cgi-&gt;cookie('CGISESSID') || $cgi-&gt;param('CGISESSID') || undef;\nif( defined($sid) ){\n    $session = CGI::Session-&gt;new(undef, $sid, {Directory=&gt;'/tmp'});\n    if( defined($session) ){\n        $username = $session-&gt;param('username')\n    }\n}\nif( defined($username) ){\n    print $cgi-&gt;header() . \"&lt;html&gt;&lt;body&gt;welcome user '$username', login successful&lt;/body&gt;&lt;/html&gt;\";\n    open(OUT, \"&gt;hello\");\n    print OUT \"weclome\\n\";\n    close(OUT);\n} else {\n    print $cgi-&gt;header() . \"&lt;html&gt;&lt;body&gt;please login first&lt;/body&gt;&lt;/html&gt;\";\n}\n1;\n__END__\n</code></pre>\n"}, {"tags": ["mongodb", "perl", "nested"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447692168, "post_id": 33740249, "comment_id": 55249024, "body": "I believe you meant: <code>$dbc-&gt;find({ &quot;Owner.Name&quot; =&gt; &quot;Joe Bloggs&quot;, &quot;IsClosed&quot; =&gt; 0 });</code>. For your second issue, it&#39;s probably <code>$record-&gt;{Owner}-&gt;{Name}</code> (just a guess). You could <code>use Data::Dump;</code> and then <code>dd($record)</code> to find out. ;-)"}, {"owner": {"reputation": 1, "user_id": 5532855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432c2f344c1a7fdc943de9c630280eb5?s=128&d=identicon&r=PG&f=1", "display_name": "ShaneOC", "link": "https://stackoverflow.com/users/5532855/shaneoc"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447692448, "post_id": 33740249, "comment_id": 55249207, "body": "Hi Matt, I had tried that too but same result - the while loop is never executed"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447692795, "post_id": 33740249, "comment_id": 55249417, "body": "Have you chosen a collection? For example, <code>$dbc-&gt;get_collection(&#39;foo&#39;)-&gt;find</code> is equivalent to <code>select * from foo</code>."}, {"owner": {"reputation": 1, "user_id": 5532855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432c2f344c1a7fdc943de9c630280eb5?s=128&d=identicon&r=PG&f=1", "display_name": "ShaneOC", "link": "https://stackoverflow.com/users/5532855/shaneoc"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447692844, "post_id": 33740249, "comment_id": 55249447, "body": "$record-&gt;{Owner}-&gt;{Name} was a good guess.  That part is working now - thanks."}, {"owner": {"reputation": 1, "user_id": 5532855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432c2f344c1a7fdc943de9c630280eb5?s=128&d=identicon&r=PG&f=1", "display_name": "ShaneOC", "link": "https://stackoverflow.com/users/5532855/shaneoc"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447766742, "post_id": 33740249, "comment_id": 55283673, "body": "my $records = $dbc-&gt;find({ &#39;Owner.Name&#39; =&gt; &quot;$TSE&quot;});  was the solution."}], "owner": {"reputation": 1, "user_id": 5532855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432c2f344c1a7fdc943de9c630280eb5?s=128&d=identicon&r=PG&f=1", "display_name": "ShaneOC", "link": "https://stackoverflow.com/users/5532855/shaneoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447691748, "creation_date": 1447691748, "question_id": 33740249, "link": "https://stackoverflow.com/questions/33740249/perl-and-mongodb-query-and-display-questions", "title": "PERL and MongoDB: Query and display questions", "body": "<p>I am working using PERL and MongoDB.  I have the connection working correctly and I can find a single record using a specific record_id key.</p>\n\n<p>However I am unable to find open records belonging to a specific user.  I am also unable to display the Owner.Name value.  </p>\n\n<pre><code>my $count = 0;\nmy $records = $dbc-&gt;find({ \"Owner.Name\" =&gt; {'$eq' =&gt; \"Joe Bloggs\"}, IsClosed =&gt; {'$eq' =&gt; 0 }});\n\nwhile(my $record=$records-&gt;next)\n{\n     foreach my $key (keys %$record )\n     {\n         my $val=$record-&gt;{$key};\n         print \"$key-&gt;$val\\n\";\n         $count++;\n     }\n     print \"Owner Name: \";\n     print $record-&gt;{\"Owner-&gt;Name\"};\n     print \"The number of cases is $count\\n\";\n     print \"\\n\";\n}\nprint \"The number of cases is $count\\n\";\n</code></pre>\n\n<p>When a valid case is found (not shown here) the Owner.Name value appears as an empty string.  In the above code the while loop is never executed so count remains at 0.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "ubuntu"], "comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1447690763, "post_id": 33739458, "comment_id": 55248166, "body": "What do you expect it to do when <code>plenv</code> is not installed?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1447690822, "post_id": 33739458, "comment_id": 55248211, "body": "What do you mean it works on Centos 6? You said that what you run your command from the command line on Centos 6, you get an error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1447691335, "post_id": 33739458, "comment_id": 55248516, "body": "You can&#39;t use different handles for STDOUT and STDERR without using <code>select</code> (or IO::Select). If you do, you can have deadlocks."}, {"owner": {"reputation": 141, "user_id": 4336874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/216700bf8ddce5775b3a0e496e7090cd?s=128&d=identicon&r=PG&f=1", "display_name": "mocnii", "link": "https://stackoverflow.com/users/4336874/mocnii"}, "edited": false, "score": 0, "creation_date": 1447764353, "post_id": 33739458, "comment_id": 55282136, "body": "I use error to check for existence of program. If I catch exit code other than zero, I install this program and try next in line."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1447692303, "last_edit_date": 1447692303, "creation_date": 1447691929, "answer_id": 33740297, "question_id": 33739458, "link": "https://stackoverflow.com/questions/33739458/capturing-output-error-and-exit-code-with-perl-ipcopen3-fails-in-newer-perl/33740297#33740297", "title": "Capturing output, error and exit code with Perl IPC::Open3 fails in newer Perl", "body": "<p>It's not clear what you think the problem is, but <code>open3</code> is behaving as documented.</p>\n\n<blockquote>\n  <p>It doesn't return on failure: it just raises an exception matching /^open3:/.</p>\n</blockquote>\n\n<p>The program you are trying to execute doesn't exist, so <code>open3</code> throws an exception. I think you are wondering why <code>$?</code> isn't set and why nothing was printed to the the handle in <code>$stderr</code>, but that shouldn't be a surprise since the program never ran.</p>\n\n<p>Keep in mind that <code>exec</code> (used by <code>open3</code>) will bypass the shell if the command is a string with no shell characters except whitespace, so you'll get different results from executing</p>\n\n<pre><code>plenv --version         \n# Same as: open3(..., ..., ..., 'plenv', '--version')\n# Exception: Can't find plenv\n</code></pre>\n\n<p>and</p>\n\n<pre><code>plenv '--version'\n# Same as: open3(..., ..., ..., '/bin/sh', '-c', q{plenv '--version'})\n# Shell exits with an error in ($? &gt;&gt; 8)\n</code></pre>\n\n<p>You can catch exceptions using <code>eval BLOCK</code>.</p>\n"}], "owner": {"reputation": 141, "user_id": 4336874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/216700bf8ddce5775b3a0e496e7090cd?s=128&d=identicon&r=PG&f=1", "display_name": "mocnii", "link": "https://stackoverflow.com/users/4336874/mocnii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "accepted_answer_id": 33740297, "answer_count": 1, "score": 1, "last_activity_date": 1447692303, "creation_date": 1447689350, "question_id": 33739458, "link": "https://stackoverflow.com/questions/33739458/capturing-output-error-and-exit-code-with-perl-ipcopen3-fails-in-newer-perl", "title": "Capturing output, error and exit code with Perl IPC::Open3 fails in newer Perl", "body": "<p>I have a small subroutine that uses <a href=\"https://metacpan.org/pod/IPC::Open3\" rel=\"nofollow\">IPC::Open3</a> (usually I use <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow\">Capture::Tiny</a>) because I wanted to use only core Perl modules. This subroutine is part of larger installation script. It captures command output, error and exit code. It works on Centos 6 (and 5) with Perl 5.10.1 (IPC::Open3 1.04) but it fails on Ubuntu 14 LTS with Perl 5.18.1 (IPC::Open3 1.13). Could someone explain to me why it fails on newer Perl and how to fix it.</p>\n\n<pre><code>sub _capture_output {\n    croak( '_capture_output() needs a $cmd and options' ) unless (@_ ==  2);\n    my ($cmd, $param_href) = @_;\n\n    my $verbose = defined $param_href-&gt;{verbose}  ? $param_href-&gt;{verbose}  : 0;   #default is silent\n    print \"Report: COMMAND is: $cmd\\n\" if $verbose;\n\n    local $| = 1;   #autoflush\n    my ( $in, $out, $err );\n    open my ($in_fh),  '&lt;', \\$in;\n    open my ($out_fh), '&gt;&gt;', \\$out;\n    open my ($err_fh), '&gt;&gt;', \\$err;\n\n    my $pid = open3($in_fh, $out_fh, $err_fh, $cmd);\n\n    my $stdout = $out;\n    my $stderr = $err;\n    $stdout = '' if !defined $stdout;\n    $stderr = '' if !defined $stderr;\n\n    waitpid( $pid, 0 ) or die \"$!\\n\";\n    my $exit =  $? &gt;&gt; 8;\n\n    if ($verbose == 2) {\n        print 'STDOUT is: ', \"$stdout\", \"\\n\", 'STDERR  is: ', \"$stderr\", \"\\n\", 'EXIT   is: ', \"$exit\\n\";\n    }\n\n    return  $stdout, $stderr, $exit;\n}\n</code></pre>\n\n<p>It fails on line with open3 call with error:</p>\n\n<pre><code>Report: COMMAND is: plenv --version\nUncaught exception from user code:\nopen3: exec of plenv --version failed at ./Perlinstall.pm line 175.\nIPC::Open3::_open3('open3', 'GLOB(0x27819a0)', 'GLOB(0x2781730)', 'GLOB(0x2781b68)', 'plenv --version') called at /usr/share/perl/5.18/IPC/Open3.pm line 250\n</code></pre>\n\n<p>When I try this command on command line I get same error code but different error.\nCentos6:</p>\n\n<pre><code>$ plenv --version\n-bash: plenv: command not found\n$ echo $?\n127\n</code></pre>\n\n<p>Ubuntu14:</p>\n\n<pre><code>$ plenv --version\nNo command 'plenv' found, did you mean:\nCommand 'p7env' from package 'libnss3-tools' (main)\nplenv: command not found\n$ echo $?\n127\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1447689103, "post_id": 33739295, "comment_id": 55247061, "body": "There&#39;s actually an example of this in the documentation for branch-reset: <a href=\"http://perldoc.perl.org/perlre.html#%28%3f|pattern%29\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447689376, "post_id": 33739295, "comment_id": 55247219, "body": "You could name the capture groups like this <code>(?&lt;prefix&gt;..)</code> but why would you? You&#39;re just passing them to a function <code>transformer($+{prefix},...)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4949848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/944408852246592/picture?type=large", "display_name": "Qasim Ahmed", "link": "https://stackoverflow.com/users/4949848/qasim-ahmed"}, "edited": false, "score": 0, "creation_date": 1447693269, "post_id": 33740019, "comment_id": 55249693, "body": "Great thanks the first one worked. Can you explain what $+{number} means? I am quite new to perl."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 177, "user_id": 4949848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/944408852246592/picture?type=large", "display_name": "Qasim Ahmed", "link": "https://stackoverflow.com/users/4949848/qasim-ahmed"}, "edited": false, "score": 1, "creation_date": 1447721421, "post_id": 33740019, "comment_id": 55262912, "body": "@QasimAhmed - See <i>perlre</i> man page under <code>Capture Groups</code> - <code>Capture group contents are dynamically scoped and available to you outside the pattern until the end of the enclosing block or until the next successful match, whichever comes first. (See &quot;Compound Statements&quot; in perlsyn.) You can refer to them by absolute number (using &quot;$1&quot; instead of &quot;\\g1&quot;, etc); or by name via the %+ hash, using &quot;$+{name}&quot;.</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 1, "last_activity_date": 1447691009, "creation_date": 1447691009, "answer_id": 33740019, "question_id": 33739295, "link": "https://stackoverflow.com/questions/33739295/using-named-captures-with-the-branch-reset-pattern/33740019#33740019", "title": "Using named captures with the branch reset pattern", "body": "<p>Probably can be done like this  </p>\n\n<pre><code>$recepies =~ s/\n     (?|\n          (?&lt;prefix&gt; [^\\.\\/] )                    # (1)\n          (?&lt;number&gt; $dimentions )                # (2)\n       |  \n          (?&lt;prefix&gt; \\(? )                        # (1), ex: 1.5\n          (?&lt;number&gt; $wholeNumberDecimal )        # (2)\n       |  \n          (?&lt;prefix&gt; \\(? )                        # (1), ex: 1\n          (?&lt;number&gt; $wholeNumber )               # (2)\n       |  \n          (?&lt;prefix&gt; \\(? )                        # (1)\n          (?&lt;number&gt; $wholeNumberFraction )       # (2)\n     )\n     (?&lt;space&gt; \\s )                          # (3)\n     (?&lt;unit&gt; $unit )                        # (4)\n\n/transformer($+{prefix},$+{number},$+{space},$+{unit}) /eixg;    #the replacement\n</code></pre>\n\n<p><em>Or like this</em>  </p>\n\n<pre><code>$recepies =~ s/\n     (?|\n          (?&lt;prefix&gt; [^\\.\\/] )                    # (1)\n          (?&lt;number&gt; $dimentions )                # (2)\n       |  \n          (?&lt;prefix&gt; \\(? )                        # (1), ex: 1.5\n          (?&lt;number&gt; $wholeNumberDecimal )        # (2)\n       |  \n          (?&lt;prefix&gt; \\(? )                        # (1), ex: 1\n          (?&lt;number&gt; $wholeNumber )               # (2)\n       |  \n          (?&lt;prefix&gt; \\(? )                        # (1)\n          (?&lt;number&gt; $wholeNumberFraction )       # (2)\n     )\n     \\s\n     $unit\n\n/transformer($+{prefix},$+{number},$unit) /eixg;    #the replacement\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4949848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/944408852246592/picture?type=large", "display_name": "Qasim Ahmed", "link": "https://stackoverflow.com/users/4949848/qasim-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 33740019, "answer_count": 1, "score": 0, "last_activity_date": 1447691009, "creation_date": 1447688871, "question_id": 33739295, "link": "https://stackoverflow.com/questions/33739295/using-named-captures-with-the-branch-reset-pattern", "title": "Using named captures with the branch reset pattern", "body": "<pre><code>$recepies =~ s/\n                    (?|\n                    ([^\\.\\/]) ($dimentions) \n                    |\n                    (\\(?) ($wholeNumberDecimal)     #ex: 1.5\n                    |\n                    (\\(?) ($wholeNumber)            #ex: 1\n                    |\n                    (\\(?) ($wholeNumberFraction) \n                    )\n                    (\\s) ($unit)\n\n                    /transformer($1,$2,$3,$4) /eixg;    #the replacement\n</code></pre>\n\n<p>I was wondering how would it be possible to name my captures in this context.</p>\n\n<p>For example I would like to call the first one \"prefix\" the second \"number\" the third \"space\" and the fourth \"unit\"</p>\n"}, {"tags": ["perl", "tie"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1447688520, "post_id": 33738849, "comment_id": 55246661, "body": "It works for me. I&#39;m getting the error when I try <code>encode_json(@val)</code>."}, {"owner": {"reputation": 140, "user_id": 912082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f2e66c6dbccb4d84311a8f929db7dc?s=128&d=identicon&r=PG", "display_name": "kanly", "link": "https://stackoverflow.com/users/912082/kanly"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447688846, "post_id": 33738849, "comment_id": 55246888, "body": "Uh really? Yes you get the error in that case because encode_json expects an arrayref as input.  What version of perl are you on? I&#39;m on v5.18.2"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1447689822, "post_id": 33738849, "comment_id": 55247568, "body": "Works for me in 5.8.3 and 5.22.0."}], "answers": [{"comments": [{"owner": {"reputation": 140, "user_id": 912082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f2e66c6dbccb4d84311a8f929db7dc?s=128&d=identicon&r=PG", "display_name": "kanly", "link": "https://stackoverflow.com/users/912082/kanly"}, "edited": false, "score": 0, "creation_date": 1447693038, "post_id": 33739535, "comment_id": 55249555, "body": "tried again putting everything in a <a href=\"http://pastebin.com/eQHqV3WZ\" rel=\"nofollow noreferrer\">file</a>. But error still happens to me. Weird!"}, {"owner": {"reputation": 48744, "user_id": 40468, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43722cb1e955874a8eb721e9dfe101d1?s=128&d=identicon&r=PG", "display_name": "Ether", "link": "https://stackoverflow.com/users/40468/ether"}, "edited": false, "score": 2, "creation_date": 1447696152, "post_id": 33739535, "comment_id": 55251269, "body": "@chaos if you don&#39;t have JSON::XS installed, JSON.pm will use JSON::PP instead, which uses pure-perl code and will work around the issue."}], "tags": [], "owner": {"reputation": 115430, "user_id": 47529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aaee40db39ad6b164cfb89cb6ad4d176?s=128&d=identicon&r=PG", "display_name": "chaos", "link": "https://stackoverflow.com/users/47529/chaos"}, "is_accepted": false, "score": 1, "last_activity_date": 1447689552, "creation_date": 1447689552, "answer_id": 33739535, "question_id": 33738849, "link": "https://stackoverflow.com/questions/33738849/strange-behavior-of-a-tied-hash-in-perl-when-asking-for-an-arrayref/33739535#33739535", "title": "Strange behavior of a tied hash in perl, when asking for an arrayref", "body": "<p>Unable to replicate using the code given, so what you're providing doesn't seem to be representative of your actual situation.  The only thing I see that's the tiniest bit off is this line:</p>\n\n<pre><code>my @val = $tied_hash{key1};\n</code></pre>\n\n<p>in which you're assigning a scalar (your stored arrayref) to an array.  Perl handles this fine, assembling an array with the scalar as sole content, but if your actual use case involves something more complex (maybe something with sub prototypes involved), conceivably something might be going wrong there.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1447697971, "last_edit_date": 1447697971, "creation_date": 1447692760, "answer_id": 33740547, "question_id": 33738849, "link": "https://stackoverflow.com/questions/33738849/strange-behavior-of-a-tied-hash-in-perl-when-asking-for-an-arrayref/33740547#33740547", "title": "Strange behavior of a tied hash in perl, when asking for an arrayref", "body": "<p>Minimal demonstration:</p>\n\n<pre><code>use JSON::XS  qw( encode_json );\nuse Tie::Hash qw( );\n\nour @ISA = 'Tie::StdHash';\n\n{\n   tie my %tied, __PACKAGE__;\n   $tied{data} = { a =&gt; 1 };\n   encode_json($tied{data});  # Exception: hash- or arrayref expected ...\n}\n</code></pre>\n\n<p>JSON is a front-end for JSON::PP (default) or JSON::XS (if found). This is a problem with JSON::XS.</p>\n\n<p>A lot of XS code doesn't handle magical variables (which is what <code>$tied{EXPR}</code> returns), and while JSON::XS has handled magical values since version 1.2, it doesn't for the value directly passed to <code>encode_json</code>. </p>\n\n<p>This is an existing bug in JSON::XS that can be worked around as follows:</p>\n\n<pre><code>encode_json(my $non_magical = $tied{data})\n</code></pre>\n\n<p>Bug <a href=\"https://rt.cpan.org/Ticket/Display.html?id=109026\" rel=\"nofollow\">reported</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9998168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5d839097ac318743f951bfd808f5350?s=128&d=identicon&r=PG&f=1", "display_name": "user634037", "link": "https://stackoverflow.com/users/9998168/user634037"}, "is_accepted": false, "score": 0, "last_activity_date": 1530081217, "last_edit_date": 1530081217, "creation_date": 1530080915, "answer_id": 51055937, "question_id": 33738849, "link": "https://stackoverflow.com/questions/33738849/strange-behavior-of-a-tied-hash-in-perl-when-asking-for-an-arrayref/51055937#51055937", "title": "Strange behavior of a tied hash in perl, when asking for an arrayref", "body": "<p>Ether got it right. JSON library uses JSON:XS by default (which creates this issue). All I had to do is uninstall JSON::XS and install JSON::PP </p>\n\n<ol>\n<li>sudo cpan</li>\n<li>install cpan App::cpanminus</li>\n<li>exit</li>\n<li>sudo cpanm --uninstall JSON::XS</li>\n<li>sudo cpan</li>\n<li>install JSON::PP</li>\n<li>exit</li>\n</ol>\n\n<p>Hope this helps someone.</p>\n"}], "owner": {"reputation": 140, "user_id": 912082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f2e66c6dbccb4d84311a8f929db7dc?s=128&d=identicon&r=PG", "display_name": "kanly", "link": "https://stackoverflow.com/users/912082/kanly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 0, "accepted_answer_id": 33740547, "answer_count": 3, "score": 5, "last_activity_date": 1530081217, "creation_date": 1447687583, "last_edit_date": 1447688928, "question_id": 33738849, "link": "https://stackoverflow.com/questions/33738849/strange-behavior-of-a-tied-hash-in-perl-when-asking-for-an-arrayref", "title": "Strange behavior of a tied hash in perl, when asking for an arrayref", "body": "<p>I was trying to tie an hash (or hashref) in order of tracking variable usages.</p>\n\n<p>Everything is working for simple cases, but when I tried to use my module on some real code I had this error:</p>\n\n<pre><code>hash- or arrayref expected (not a simple scalar, use allow_nonref to allow this)\n</code></pre>\n\n<p>I've replicated the error using the following code:</p>\n\n<pre><code>use Tie::Hash::Usages;\nuse JSON;\n\nmy @arr = (\n    {\n        key1 =&gt; \"ac\",\n        key2 =&gt; 12,\n        key3 =&gt; 12\n    },        \n);\nmy %tied_hash;\n\n\ntie %tied_hash, 'Tie::Hash::Usages';\n\n$tied_hash{key1} = \\@arr;\n\nmy @val = $tied_hash{key1};\nprint encode_json(\\@val).\"\\n\\n\"; #this works\n\nprint encode_json($tied_hash{key1}); #this doesn't\n</code></pre>\n\n<p>The same code works with a plain hash.</p>\n\n<p>I'd need this to work also in the second case, the code base is huge and I don't want to change it or live with the doubt that something somewhere will not work in some particular case.</p>\n\n<h3>Usages.pm (simplified)</h3>\n\n<pre><code>package Tie::Hash::Usages;\nuse strict;\nuse warnings;\n\nuse Tie::Hash;\n\nuse vars qw(@ISA);\n\n@ISA = qw(Tie::StdHash);\n\nsub TIEHASH {\n\n    my ($class, $tracker, $filename) = @_;\n    my %hash;\n\n    bless \\%hash, $class;\n\n}\n\nsub STORE {\n    my ($self, $key, $val) = @_;\n    $self-&gt;{$key} = $val;\n}\n\nsub DELETE {\n    my ($self, $key) = @_;\n    delete $self-&gt;{$key};\n\n}\n\nsub FETCH {\n    my ($self, $key) = @_;\n    return $self-&gt;{$key};\n}\n\nsub DESTROY {\n    my $self = shift;\n}\n1;\n</code></pre>\n\n<p>perl version: v5.18.2</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447691803, "post_id": 33738748, "comment_id": 55248777, "body": "<code>substr($_, index($_, &quot;as &quot;))</code> will return the last character of <code>$_</code> if it doesn&#39;t contain <code>as </code>. Is that really what you want?"}], "answers": [{"comments": [{"owner": {"reputation": 369, "user_id": 4159455, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0130c122db7e88b4207f83dfe94ba3a1?s=128&d=identicon&r=PG&f=1", "display_name": "David Mordigal", "link": "https://stackoverflow.com/users/4159455/david-mordigal"}, "edited": false, "score": 1, "creation_date": 1447687594, "post_id": 33738828, "comment_id": 55246002, "body": "Cool, thanks. I actually figured out it was an issue with the newline in the original input file; it must have been made on a different OS. Thanks though!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1447688625, "post_id": 33738828, "comment_id": 55246730, "body": "If you&#39;re going to be editing many files with other line endings than the current platform, check out <a href=\"https://metacpan.org/pod/File::Edit::Portable\" rel=\"nofollow noreferrer\">metacpan.org/pod/File::Edit::Portable</a>"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1447689060, "post_id": 33738828, "comment_id": 55247037, "body": "@klashxx Your answer does not provide any solution, it is addressing only a simple syntax simplification. So I can understand the downvote (but it was not me who downvoted). Posting this in a comment would have been fine."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447700408, "post_id": 33738828, "comment_id": 55253620, "body": "@ThisSuitIsBlackNot, not if <code>$index == -1</code> -- you really want to chomp first."}], "tags": [], "owner": {"reputation": 12672, "user_id": 1200821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Cm117.jpg?s=128&g=1", "display_name": "Juan Diego Godoy Robles", "link": "https://stackoverflow.com/users/1200821/juan-diego-godoy-robles"}, "is_accepted": false, "score": 3, "last_activity_date": 1447690280, "last_edit_date": 1447690280, "creation_date": 1447687526, "answer_id": 33738828, "question_id": 33738748, "link": "https://stackoverflow.com/questions/33738748/perl-automatically-adds-newline-to-output-file/33738828#33738828", "title": "Perl automatically adds newline to output file", "body": "<p>The <em>cannonical</em> procedure:</p>\n\n<pre><code>while(&lt;STDIN&gt;) {\n    chomp;\n    # ...\n    my $var = substr($_, index($_, \"as \"));\n    print(\"Var is: \" . $var); # no newline\n    print OUT $var . \",\"; # adds newline before the comma\n    # ...\n}\n</code></pre>\n\n<blockquote>\n  <p>In most operating systems, lines in files are terminated by newlines.\n  Just what is used as a newline may vary from OS to OS. Unix\n  traditionally uses \\012 , one type of DOSish I/O uses \\015\\012 , Mac\n  OS uses \\015 , and z/OS uses \\025 .</p>\n  \n  <p>Perl uses \\n to represent the \"logical\" newline, where what is logical\n  may depend on the platform in use. In MacPerl, \\n always means \\015 .\n  On EBCDIC platforms, \\n could be \\025 or \\045 . In DOSish perls, \\n\n  usually means \\012 , but when accessing a file in \"text\" mode, perl\n  uses the :crlf layer that translates it to (or from) \\015\\012 ,\n  depending on whether you're reading or writing. Unix does the same\n  thing on ttys in canonical mode. \\015\\012 is commonly referred to as\n  CRLF.</p>\n  \n  <p>To trim trailing newlines from text lines use chomp(). With default\n  settings that function looks for a trailing \\n character and thus\n  trims in a <strong>portable way</strong>.</p>\n</blockquote>\n\n<p>In this case you're hitting a cross-platform barrier, you're reading documents written on an <code>os</code>, from a different and not compatible  platform.</p>\n\n<p>For an isolated execution you should covert your file line endings to match the host.</p>\n\n<p>To address the issue permanently, you can try: <a href=\"https://metacpan.org/pod/File::Edit::Portable\" rel=\"nofollow\">https://metacpan.org/pod/File::Edit::Portable</a> . <strong>Thanks @stevieb</strong></p>\n"}], "owner": {"reputation": 369, "user_id": 4159455, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0130c122db7e88b4207f83dfe94ba3a1?s=128&d=identicon&r=PG&f=1", "display_name": "David Mordigal", "link": "https://stackoverflow.com/users/4159455/david-mordigal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447690280, "creation_date": 1447687259, "question_id": 33738748, "link": "https://stackoverflow.com/questions/33738748/perl-automatically-adds-newline-to-output-file", "title": "Perl automatically adds newline to output file", "body": "<p>I am using Perl to write to a file. It keeps adding a newline to the output file in the same spot even after I use <code>chomp</code>. I cannot figure out why.</p>\n\n<p>Sample Code (reading from an input file, processing the line and then writing that line out to the output file):</p>\n\n<pre><code>open(OUT, \"&gt; out.txt\");\n# ...\nwhile(&lt;STDIN&gt;) {\n    # ...\n    my $var = substr($_, index($_, \"as \"));\n    chomp($var);\n    print(\"Var is: \" . $var); # no newline\n    print OUT $var . \",\"; # adds newline before the comma\n    # ...\n}\n# ...\nclose(OUT);\n</code></pre>\n\n<p>Any ideas as to what might be causing this or how to fix it? Thanks.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1447672758, "post_id": 33733845, "comment_id": 55236616, "body": "Its working fine . Thankyou so much :)  I am trying to understand how it is working . I am not getting this line  $func-&gt;() for @k2 . Rest I understood . Do you mind elaborating ?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 2, "creation_date": 1447672979, "post_id": 33733845, "comment_id": 55236739, "body": "@Grace90 it is a <a href=\"http://perldoc.perl.org/perlsyn.html#Statement-Modifiers\" rel=\"nofollow noreferrer\"><code>foreach modifier</code></a>; you could also write it like <code>for (@k2) { $func-&gt;() }</code>. <code>$func</code> is anonymous function which is provided as second argument and operates on <code>$_</code>, thus changing/substituting all elements of <code>@k2</code> array."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 15, "last_activity_date": 1447671937, "creation_date": 1447671937, "answer_id": 33733845, "question_id": 33733720, "link": "https://stackoverflow.com/questions/33733720/how-to-make-a-particular-change-in-all-the-keys-of-a-hash/33733845#33733845", "title": "How to make a particular change in all the keys of a hash?", "body": "<p>You have to delete old keys from the hash and insert new ones,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub rename_keys {\n\n  my ($hash, $func) = @_;\n\n  my @k1 = my @k2 = keys %$hash;\n  $func-&gt;() for @k2;\n  @$hash{@k2} = delete @$hash{@k1};\n}\n\nmy %hash = (\n 'IRQ_VSAFE_LPM_ASC_0' =&gt; '140',\n 'IRQ_VSAFE_LPM_ASC_1' =&gt; '141',\n);\nrename_keys(\\%hash, sub { s/ASC_/ASC_1/ });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119277, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "is_accepted": false, "score": 2, "last_activity_date": 1447679520, "creation_date": 1447679520, "answer_id": 33736258, "question_id": 33733720, "link": "https://stackoverflow.com/questions/33733720/how-to-make-a-particular-change-in-all-the-keys-of-a-hash/33736258#33736258", "title": "How to make a particular change in all the keys of a hash?", "body": "<p>The previous answer addressed a way to do what you want. However, it also makes sense to explain why what you tried to do didn't work.</p>\n\n<p>The problem is that the syntax used for working with hashes in Perl can mislead you with its simplicity compared to the actual way the hash works underneath.</p>\n\n<p>What you see in Perl code is simply two pieces of information: a hash key and a corresponding hash value: <code>$myHash{$key} = $value;</code> or even more misleading <code>%myHash = ($key =&gt; $value);</code></p>\n\n<p>However, the way the hashes work, this isn't merely storing the key and a value as a pair, as the code above may lead you into thinking. Instead, a hash is a complicated data structure, in which the key serves as an input into the addressing which is done via a formula (hash function) and an algorithm (to deal with collistions) - the details are well covered on <a href=\"https://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow\">Wikipedia article</a>. </p>\n\n<p>As such, changing a hash key as if it was merely a value isn't enough, because what is stored in the hash isn't just a value - it's a whole data structure with addressing based on that value. Therefore when you change a hash key, it would ALSO change the location of the value in the data structure, and doing that isn't possible without removing the old entry and adding a brand new entry under a new key, which will delete and re-insert the value in the correct place.</p>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 2, "last_activity_date": 1447684483, "creation_date": 1447684483, "answer_id": 33737852, "question_id": 33733720, "link": "https://stackoverflow.com/questions/33733720/how-to-make-a-particular-change-in-all-the-keys-of-a-hash/33737852#33737852", "title": "How to make a particular change in all the keys of a hash?", "body": "<p>A simple way to do this may be to use <code>pairmap</code> from recent <code>List::Util</code>.</p>\n\n<pre><code>use 5.014;  # so we can use the /r flag to s///\nuse List::Util qw( pairmap );\n\nmy %new = pairmap { ($a =~ s/ASC_/ASC_1/r) =&gt; $b } %oldhash;\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 33733845, "answer_count": 3, "score": 3, "last_activity_date": 1447778445, "creation_date": 1447671524, "last_edit_date": 1447778445, "question_id": 33733720, "link": "https://stackoverflow.com/questions/33733720/how-to-make-a-particular-change-in-all-the-keys-of-a-hash", "title": "How to make a particular change in all the keys of a hash?", "body": "<p>I have a hash which is like this:</p>\n\n<pre><code>   'IRQ_VSAFE_LPM_ASC_0' =&gt; '140',\n   'IRQ_VSAFE_LPM_ASC_1' =&gt; '141'.......and so on\n</code></pre>\n\n<p>I want to replace ASC_ by ASC_1 in all keys in the hash. I tried this:</p>\n\n<pre><code>foreach $_(keys $hash)   \n{ \ns/ASC_/ASC_1/g; \n}\n</code></pre>\n\n<p>but it's not working.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "edited": false, "score": 0, "creation_date": 1447670357, "post_id": 33733250, "comment_id": 55235337, "body": "Is file1 a variable? Then it should be $file1. Otherwise if it is a literal name, &quot;file1&quot;."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1447670403, "post_id": 33733250, "comment_id": 55235362, "body": "There is no standard error message (that I&#39;ve ever heard of) that goes &quot;perl command failed&quot;."}, {"owner": {"reputation": 41, "user_id": 2381088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa11227bbd4c63a18ef4a46ba0c6f64?s=128&d=identicon&r=PG", "display_name": "Vamsi", "link": "https://stackoverflow.com/users/2381088/vamsi"}, "edited": false, "score": 0, "creation_date": 1447670908, "post_id": 33733250, "comment_id": 55235623, "body": "Apologies for the mistake, its if(-e $file1) Could you please let me know a certain version of perl uses &quot;-e&quot; option"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1447671259, "post_id": 33733250, "comment_id": 55235799, "body": "Show more of the code. Isn&#39;t the error message part of it?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1447672444, "post_id": 33733250, "comment_id": 55236454, "body": "It is not valid perl =&gt; <a href=\"https://eval.in/469464\" rel=\"nofollow noreferrer\">eval.in/469464</a>"}, {"owner": {"reputation": 2342, "user_id": 145119, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2e8c9bda08fde339f0dc2110d9ddd5c9?s=128&d=identicon&r=PG", "display_name": "Mithaldu", "link": "https://stackoverflow.com/users/145119/mithaldu"}, "edited": false, "score": 0, "creation_date": 1447685589, "post_id": 33733250, "comment_id": 55244703, "body": "You&#39;re not showing us enough to know what you&#39;re doing. Are you running it as a one-liner? Try taking a screenshot of how you run it and upload it to imgur.com, then link it here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447694860, "post_id": 33733250, "comment_id": 55250550, "body": "Re &quot;I knew that this checks whether file1 is present or not&quot;, No, not quite. <code>-e $file1</code> can also return false if you don&#39;t have enough permission to determine if the file exists or not, and in one or two more situations."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1447674209, "last_edit_date": 1447674209, "creation_date": 1447673607, "answer_id": 33734376, "question_id": 33733250, "link": "https://stackoverflow.com/questions/33733250/perl-command-failing-if-i-use-e-option-to-check-whether-the-file-exists-or-not/33734376#33734376", "title": "Perl command failing if I use -e option to check whether the file exists or not", "body": "<p>You're using a version of Perl from 2004. You should seriously consider upgrading.</p>\n\n<p>The file test operators like <code>-e</code> have been part of Perl for a very long time. They are certainly supported by Perl 5.8.3.</p>\n\n<p>You say that your error is \"perl command failed\". That is not an error that is generated by Perl, so I suspect there is something else going on here that you're not telling us about (presumably because you think it isn't important).</p>\n\n<p>If I had to guess why your <code>-e</code> test is failing, I'd say that it's because <code>$file1</code> doesn't contain any information about the directory where the file can be found, and therefore Perl is looking in the wrong place. Perhaps you can get more information with code like this:</p>\n\n<pre><code>use Cwd;\n\nif (-e $file1) {\n  ...\n} else {\n  die \"Can't find file: \" . cwd() . '/' . $file1;\n}\n</code></pre>\n\n<p>This will show you where Perl is looking for the file.</p>\n"}], "owner": {"reputation": 41, "user_id": 2381088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa11227bbd4c63a18ef4a46ba0c6f64?s=128&d=identicon&r=PG", "display_name": "Vamsi", "link": "https://stackoverflow.com/users/2381088/vamsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1447674209, "creation_date": 1447670130, "last_edit_date": 1447670951, "question_id": 33733250, "link": "https://stackoverflow.com/questions/33733250/perl-command-failing-if-i-use-e-option-to-check-whether-the-file-exists-or-not", "title": "Perl command failing if I use -e option to check whether the file exists or not", "body": "<p>I have perl version v5.8.3 installed on my windows machine.\nWhile running a perl script having the below code, failing.</p>\n\n<pre><code>if(-e $file1)\n</code></pre>\n\n<p>I knew that this checks whether <code>file1</code> is present or not.\nThe error just shown \"perl command failed\". Nothing else.\nCould you please help me on this</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1591, "user_id": 5397699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fy8CM.png?s=128&g=1", "display_name": "decltype_auto", "link": "https://stackoverflow.com/users/5397699/decltype-auto"}, "edited": false, "score": 3, "creation_date": 1447667535, "post_id": 33732377, "comment_id": 55233656, "body": "Welcome to SO! No, it&#39;s not up to the reader to &quot;refer&quot; to an image of code. It&#39;s your task to provide a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> in your question."}, {"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 3, "creation_date": 1447667573, "post_id": 33732377, "comment_id": 55233683, "body": "Welcome to SO. Please do not add code as an image attachment. It is not good for the question (if I want to test your code I must type it in). Please put code into the question body <i>as text</i>. You can use the edit link to put it into the question. If you indent the code by four spaces, Stack Overflow should format it nicely for you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1447667619, "post_id": 33732377, "comment_id": 55233720, "body": "The thing about code is - it needs to be runnable. A screenshot isn&#39;t runnable. Paste your code into the question. Also - offsite links tend to go dead. So we don&#39;t like those here."}, {"owner": {"reputation": 11, "user_id": 5566949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oH9Ph.jpg?s=128&g=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/5566949/ram"}, "edited": false, "score": 0, "creation_date": 1447667646, "post_id": 33732377, "comment_id": 55233734, "body": "i want the output should constant - dont want to get jumbled at every instance."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447667678, "post_id": 33732377, "comment_id": 55233756, "body": "So some sample output would also be relevant to your question. Insert that into the question too."}, {"owner": {"reputation": 1591, "user_id": 5397699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fy8CM.png?s=128&g=1", "display_name": "decltype_auto", "link": "https://stackoverflow.com/users/5397699/decltype-auto"}, "edited": false, "score": 0, "creation_date": 1447668042, "post_id": 33732377, "comment_id": 55233973, "body": "Now we&#39;ve the output, but still not the code which produced it - simply consider that &quot;attached&quot; screen-shot of the code as non-existent, because it will be considered that way by the people you ask."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447668844, "post_id": 33732377, "comment_id": 55234457, "body": "I have OCRed your code into the question. Please can you verify it. (And please - just post it directly next time)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1447670225, "post_id": 33732377, "comment_id": 55235266, "body": "Why do people think that sharing code in an image is a useful thing to do?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447679261, "post_id": 33732377, "comment_id": 55240577, "body": "Because they&#39;re hung up on graphical highlighting and IDEs that show you code blocks and nesting and stuff."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1447669200, "last_edit_date": 1447669200, "creation_date": 1447668346, "answer_id": 33732714, "question_id": 33732377, "link": "https://stackoverflow.com/questions/33732377/finding-the-highest-frequency-of-unique-words-in-a-string-using-perl/33732714#33732714", "title": "Finding the highest frequency of unique words in a string using perl", "body": "<p>Right, the problem here is - you are trying to sort two values that have no relative ordering. </p>\n\n<p>Your result is therefore based on the return order from <code>keys</code> which is <em>by definition</em> random (ish). The two are equivalent as far as <code>sort</code> is concerned, so it's irrelevant which way they come out. </p>\n\n<p>If you run <code>keys %freq</code> several times, you'll get different key-orders. And because sometimes <code>kk</code> will come before <code>mm</code> as a result - and because as far as <code>sort</code> is concerned, they are identical because they have the same frequency - that's why you get what you do. </p>\n\n<p>So what you need is a secondary sort order, such that this is consistent. Like - for example - sort alphabetically <em>if</em> the frequency is the same.</p>\n\n<p>Usefully - we can use the fact that the <code>&lt;=&gt;</code> combined with the <code>||</code> operator lets you chain conditionals. Because if you do;</p>\n\n<pre><code> $condition1 || $condition2;\n</code></pre>\n\n<p>Condition 1 is returned if \"true\" - and condition 2 if it's false. <code>&lt;=&gt;</code> returns <code>1</code>, <code>0</code> or <code>-1</code>. Only <code>0</code> is false here, so you can do:</p>\n\n<pre><code> $a &lt;=&gt; $b || $a cmp $b\n</code></pre>\n\n<p>Or in your case:</p>\n\n<pre><code>$freq{$b} &lt;=&gt; $freq{$a} || $a cmp $b\n</code></pre>\n\n<p>Like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @words = qw ( mm mm mm mm kk kk kk kkkk kk To pp pp pp pp pp pp nn nn ); \nmy %freq;\n$freq{$_}++ for @words; \nprint Dumper \\%freq; \n\nforeach my $word ( sort { $freq{$b} &lt;=&gt; $freq{$a} \n                       ||        $a cmp $b        } keys %freq ) { \n    print \"$word =&gt; $freq{$word}\\n\";\n}\n</code></pre>\n\n<p>This will sort on frequency first, and <em>if</em> there are two with the same frequency - will sort alphanumerically. So <code>kk =&gt; 4</code> will <em>always</em> be ordered before <code>mm =&gt; 4</code>. </p>\n\n<p>You should also note in your code:</p>\n\n<ul>\n<li><p>You're not declaring <code>%freq</code> - you should. You should also switch on <code>use strict;</code> and <code>use warnings;</code> which would have told you about this. </p></li>\n<li><p><code>use sort 'stable';</code> doesn't seem to do anything. Which isn't really a surprise, because <code>sort</code> is working perfectly. </p></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 5566949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oH9Ph.jpg?s=128&g=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/5566949/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 33732714, "answer_count": 1, "score": -4, "last_activity_date": 1466171226, "creation_date": 1447667220, "last_edit_date": 1466171226, "question_id": 33732377, "link": "https://stackoverflow.com/questions/33732377/finding-the-highest-frequency-of-unique-words-in-a-string-using-perl", "title": "Finding the highest frequency of unique words in a string using perl", "body": "<p>I am writing the script to get and print the highest frequency of unique words in paragraph.</p>\n\n<p>For code - refer the attachment.</p>\n\n<p><img src=\"https://i.stack.imgur.com/tOElc.jpg\" alt=\"\"></p>\n\n<pre><code>my $freq; \nmy $word; \nmy $textdata = &lt;&lt;\"END_MSG\"; \nmm mm mm mm kk kk kk kkkk kk To pp pp pp pp pp pp. \nEND_MSG\n\nforeach $word ( split ( ' ', lc $textdata) \n{\n    $freq{$word}++;\n    #print $freq{$word};\n    #print \"..\";\n}\n\nuse sort 'stable';\nmy @listing = ( sort { $freq{$b} &lt;=&gt; $freq{$a} } keys %freq)[0..5];\nforeach my $word ( @listing ) \n{\n    print $freq{$word}.\" $word\\n\";\n};\n</code></pre>\n\n<p>Output 1:</p>\n\n<pre><code>5 pp\n4 mm\n4 kk\n1 pp.\n1 to\n1 kkkk\n</code></pre>\n\n<p>Output 2:</p>\n\n<pre><code>5 pp\n4 kk\n4 mm\n1 pp.\n1 to\n1 kkkk\n</code></pre>\n\n<p>The words <code>mm</code>, <code>kk</code> frequency are 4 - but when I am running each time the order varies. </p>\n\n<p>I want the output to remain the same. </p>\n\n<p>How can I sort based such that this is the case? </p>\n\n<p>with regards,\nRam.</p>\n"}, {"tags": ["perl", "scalar"], "comments": [{"owner": {"reputation": 103376, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1447657421, "post_id": 33729872, "comment_id": 55228918, "body": "I know <code>\\t</code> is a TAB, what is <code>\\l</code> supposed to escape?"}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1447658666, "post_id": 33729986, "comment_id": 55229370, "body": "Re:<code>I find it odd that it functions in string interpolation instead of just in REs.</code> <a href=\"http://perldoc.perl.org/functions/lcfirst.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/lcfirst.html</a> <code>=&gt; This is the internal function implementing the \\l escape in double-quoted strings.</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447681196, "post_id": 33729986, "comment_id": 55241790, "body": "<code>\\l</code> <i>doesn&#39;t</i> function in regular expressions \u2014 <i>only</i> in double-quoted strings. If you&#39;re thinking of substitutions <code>s&#47;&#47;&#47;</code> then the left-hand side is processed as a double-quoted string first, including interpolating variables and taking account of escapes like <code>\\l</code>, <code>\\Q</code> etc. and then compiled as a regex, by which time <code>\\l</code> has disappeared. The right hand side \u2014 the replacement text \u2014 is just a double-quoted string anyway"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447687228, "post_id": 33729986, "comment_id": 55245777, "body": "@ikegami: Because the pattern has first been processed as a double-quoted string, as I said. In fact, if it <i>did</i> have an effect in patterns then you would see <code>(?^u:\\lA)</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447687594, "post_id": 33729986, "comment_id": 55246001, "body": "@ikegami: If the only difference is that <code>\\t</code> is carried through then it&#39;s a slim one"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447687925, "post_id": 33729986, "comment_id": 55246227, "body": "The parsing process is described in <a href=\"http://perldoc.perl.org/perlop.html#Gory-details-of-parsing-quoted-constructs\" rel=\"nofollow noreferrer\">Gory details of parsing quoted constructs</a> which says, <b><i>Processing of \\Q , \\U , \\u , \\L , \\l , \\F , \\E , and interpolation happens (almost) as with qq// constructs</i></b>"}, {"owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447708656, "post_id": 33729986, "comment_id": 55257998, "body": "@ikegami, compare perl -E &quot;say &#39;a&#39; =~ qr&#39;\\lA&#39;; say &#39;\\lA&#39; =~ qr&#39;\\lA&#39;&quot;. I think that clearly demonstrates that \\l does not function (that way) in regex literals. :)"}, {"owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "edited": false, "score": 1, "creation_date": 1447708839, "post_id": 33729986, "comment_id": 55258091, "body": "\u2026 mind you, <code>perl -E &quot;say qr&#39;\\lA&#39;&quot;</code> gives a bad stringification.  I&#39;m of half a mind to perlbug it \u2026"}], "tags": [], "owner": {"reputation": 16707, "user_id": 341065, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e57fe4b0f7381288a8e1e4c6cd77a8e?s=128&d=identicon&r=PG", "display_name": "wilx", "link": "https://stackoverflow.com/users/341065/wilx"}, "is_accepted": false, "score": 4, "last_activity_date": 1447657411, "creation_date": 1447657411, "answer_id": 33729986, "question_id": 33729872, "link": "https://stackoverflow.com/questions/33729872/why-t-is-counted-as-character-and-l-is-not-counted-as-character-when-both/33729986#33729986", "title": "why &quot;\\t&quot; is counted as character and &quot;\\l&quot; is not counted as character.When both are special variables?", "body": "<p>See this simple test: <code>perl -wle '$var=\"\\lA\"; print length $var; print $var;'</code></p>\n\n<p>The secret is that <a href=\"http://perldoc.perl.org/perlrebackslash.html#All-the-sequences-and-escapes\" rel=\"nofollow\"><code>\\l</code></a> is an escape sequence that produces lower case of the next character.</p>\n\n<p>TBH, I find it odd that it functions in string interpolation instead of just in REs.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you change your code from <code>\"\\l\"</code> to <code>'\\l'</code> then <em>two</em> characters are inserted as expected.</p>\n"}], "owner": {"reputation": 19, "user_id": 5462585, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9d8f07d52caf0f18dff0424f941bd95?s=128&d=identicon&r=PG&f=1", "display_name": "yedukondalu", "link": "https://stackoverflow.com/users/5462585/yedukondalu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447708604, "creation_date": 1447656801, "last_edit_date": 1447677430, "question_id": 33729872, "link": "https://stackoverflow.com/questions/33729872/why-t-is-counted-as-character-and-l-is-not-counted-as-character-when-both", "title": "why &quot;\\t&quot; is counted as character and &quot;\\l&quot; is not counted as character.When both are special variables?", "body": "<pre><code>#!usr/bin/perl\n\nuse warnings;\nuse strict;\n\n$\\=\"\\n\";\nmy $var='WELCOME TO PERL';\n$var='HI ' . $var;\nprint \"$var\";\nprint length $var;\n\n$var=\"\\t\" . $var;\nprint $var;\nprint length $var;\n\n$var=\"\\l\" . $var;\nprint $var;\nprint length $var;\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>HI WELCOME TO PERL\n18\n    HI WELCOME TO PERL\n19\n    HI WELCOME TO PERL\n19\n</code></pre>\n\n<p>Here when I concatenated <code>\\t</code> to the string count is incremented by one but when I concatenated <code>\\l</code> the count is not incremented. What is the difference between them.</p>\n\n<p>Actually what I need is to place the <code>\\L</code>  at starting of the string. So I need not to use it in <code>print</code>. </p>\n"}, {"tags": ["bash", "perl", "unicode"], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": true, "score": 3, "last_activity_date": 1447665636, "creation_date": 1447665636, "answer_id": 33731913, "question_id": 33728250, "link": "https://stackoverflow.com/questions/33728250/inconsistent-results-parsing-unicode-strings-in-perl-unpack/33731913#33731913", "title": "Inconsistent results parsing unicode strings in perl unpack", "body": "<p>The problem is that Perl doesn't decode commandline arguments as UTF-8 by default. Passing the switch -CA makes it do that:</p>\n\n<pre><code>$ echo 'use utf8; @a=unpack(\"U*\",$ARGV[0]); print \"@a\\n\";' | perl -CA - f\u0268\u0301ka\u0300\n102 616 769 107 97 768\n</code></pre>\n\n<p>You'll probably want -CAS (args + STD* file handles) or even -CASD (that plus every file you open)</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1427008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 33731913, "answer_count": 1, "score": 2, "last_activity_date": 1447665636, "creation_date": 1447645993, "last_edit_date": 1447649849, "question_id": 33728250, "link": "https://stackoverflow.com/questions/33728250/inconsistent-results-parsing-unicode-strings-in-perl-unpack", "title": "Inconsistent results parsing unicode strings in perl unpack", "body": "<p>I am preparing a script to do a pairwise comparison of characters written in a foreign script, and I would like to extract individual characters from target words for comparison. </p>\n\n<p>When characters with address > 256 are hard-coded into the script, <code>unpack</code> correctly determines the address: e.g., the sequence of U+0268 (=616 decimal) (<code>LATIN SMALL LETTER I WITH STROKE</code>) followed by the modifier U+0301 (=769 decimal) (<code>COMBINING ACUTE ACCENT</code>) is correctly parsed (first MWE). </p>\n\n<p>From the command line or an external text file, however, the parsing is done bytewise. So instead of 616 I get (201,168), and instead of 769 I get (204,129). In the two byte case it's generally X&#8594;(d1,d2) where X=64&#215;(d1&#x2212;194)+d2. (second MWE).</p>\n\n<pre><code>$ perl -e 'use utf8; @a= unpack(\"U*\",\"f\u0268\u0301ka\u0300\"); print \"@a\\n\";'\n102 616 769 107 97 768\n</code></pre>\n\n<p>(&#102;&#616;&#769;&#107;&#97;&#768;)<br></p>\n\n<pre><code>$ echo 'use utf8; @a=unpack(\"U*\",$ARGV[0]); print \"@a\\n\";' | perl - f\u0268\u0301ka\u0300\n102 201 168 204 129 107 97 204 128\n</code></pre>\n\n<p>(&#102;&#201;&#168;&#204;&#129;&#107;&#97;&#204;&#128;)</p>\n\n<p>Is there something I can do to get the second MWE to work correctly? Post-processing so that (201,168) &#8594; (616) seems too crude. The script is being run from the bash shell.</p>\n\n<pre><code>$ echo $BASH_VERSION\n4.3.30(1)-release\n\nThis is perl 5, version 20, subversion 2 (v5.20.2) built for x86_64-linux-gnu-thread-multi\n(with 39 registered patches, see perl -V for more detail)\n</code></pre>\n"}, {"tags": ["arrays", "perl", "twitter"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 5212837, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/91ac54d89782ef83c0132416665619f8?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/5212837/noah"}, "edited": false, "score": 0, "creation_date": 1447634482, "post_id": 33726880, "comment_id": 55223046, "body": "Thanks, but &quot;print scalar @{ $IDs-&gt;{ids} };&quot; gives me &quot;1&quot; as result. Weird."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 305, "user_id": 5212837, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/91ac54d89782ef83c0132416665619f8?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/5212837/noah"}, "edited": false, "score": 0, "creation_date": 1447634950, "post_id": 33726880, "comment_id": 55223128, "body": "@NoahSong: I&#39;m getting 89. It returns 1, but prints 89."}, {"owner": {"reputation": 305, "user_id": 5212837, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/91ac54d89782ef83c0132416665619f8?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/5212837/noah"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447635339, "post_id": 33726880, "comment_id": 55223209, "body": "@choroba Oh thanks! It seems I just reached the rate limit.."}], "tags": [], "owner": {"reputation": 418, "user_id": 3995634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b331e88a2aaef1a7b29a7eb12dedde?s=128&d=identicon&r=PG&f=1", "display_name": "ghost28147", "link": "https://stackoverflow.com/users/3995634/ghost28147"}, "is_accepted": true, "score": 4, "last_activity_date": 1447634201, "creation_date": 1447634201, "answer_id": 33726880, "question_id": 33726628, "link": "https://stackoverflow.com/questions/33726628/how-to-count-the-length-of-array-within-an-object/33726880#33726880", "title": "How to count the length of array within an object?", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/scalar.html\" rel=\"nofollow\"><code>scalar</code></a> builtin function:</p>\n\n<pre><code>print scalar @{ $IDs-&gt;{ids} };\n</code></pre>\n\n<p>It forces it's argument to be interpreted in scalar context. And as you know array in scalar context is evaluated to it's length.</p>\n"}], "owner": {"reputation": 305, "user_id": 5212837, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/91ac54d89782ef83c0132416665619f8?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/5212837/noah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "closed_date": 1447659482, "accepted_answer_id": 33726880, "answer_count": 1, "score": 0, "last_activity_date": 1447634201, "creation_date": 1447632064, "question_id": 33726628, "link": "https://stackoverflow.com/questions/33726628/how-to-count-the-length-of-array-within-an-object", "closed_reason": "Duplicate", "title": "How to count the length of array within an object?", "body": "<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Net::Twitter;\nuse JSON;\nuse LWP::Simple;\nuse XML::Bare;\nuse Data::Dumper;\n\n# keys for twitter\n$consumer_key = \"key\";\n$consumer_secret = \"key\"; \n$token = \"key-key\";\n$token_secret = \"key\";\n\n# As of 13-Aug-2010, Twitter requires OAuth for authenticated requests\nmy $nt = Net::Twitter-&gt;new(\n    traits   =&gt; [qw/API::RESTv1_1/],\n    # traits   =&gt; [qw/API::Search/],\n    consumer_key        =&gt; $consumer_key,\n    consumer_secret     =&gt; $consumer_secret,\n    access_token        =&gt; $token,\n    access_token_secret =&gt; $token_secret,   \n);\n\n$UserID = 46562311;\n\n\nmy $IDs = $nt-&gt;friends_ids({user_id =&gt; $UserID});\nprint Dumper $IDs-&gt;{ids}; \n</code></pre>\n\n<p>The output is:</p>\n\n<p>$VAR1 = [\n          1243478918,\n          472407213,\n          1152523333,\n          18080969,\n          36843988,\n          24467012,\n          322990625,\n          15492359,\n          2244340904,\n          22938914,\n          151180133,\n          58545637,\n          62513246,\n          28412286,\n          5746452,\n          17104751,\n          1636590253,\n          25073877,\n          8161232,\n          2384071,\n          13,\n          93957809,\n          22330739,\n          44196397,\n          132961448,\n          754500,\n          94384796,\n          59604041,\n          386854967,\n          15485441,\n          190617492,\n          226237599,\n          114485232,\n          190486752,\n          18645153,\n          326350862,\n          546915948,\n          1927794380,\n          244360712,\n          254674228,\n          43593,\n          17242168,\n          17268874,\n          117539435,\n          116737145,\n          326642243,\n          1010165784,\n          19583340,\n          7936522,\n          166739404,\n          50374439,\n          593893034,\n          1244526223,\n          783214,\n          382267114,\n          299743215,\n          16129880,\n          20536157,\n          17006157,\n          2249234689,\n          26761757,\n          17919972,\n          2244994945,\n          1526228120,\n          11348282,\n          14159148,\n          50393960,\n          1339835893,\n          409685881,\n          2469260288,\n          1012494116,\n          270816968,\n          813286,\n          2546660556,\n          518542127,\n          794611698,\n          108962082,\n          1626691956,\n          734314441,\n          20351217,\n          1692371666,\n          774980724,\n          865699670,\n          1958038938,\n          826539409,\n          805891104,\n          14749606,\n          391858548,\n          26693596\n        ];</p>\n\n<p>How do I count the length of this array? I used \"length $IDs->{ids}\" but it only gave me 21 which is obviously wrong.</p>\n"}, {"tags": ["perl", "grammar"], "comments": [{"owner": {"reputation": 9, "user_id": 5517157, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271293076229815/picture?type=large", "display_name": "Shinmi Benjamin", "link": "https://stackoverflow.com/users/5517157/shinmi-benjamin"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1447632045, "post_id": 33726485, "comment_id": 55222470, "body": "Oh sorry, you are right i made a mistake."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1447641156, "creation_date": 1447641156, "answer_id": 33727664, "question_id": 33726485, "link": "https://stackoverflow.com/questions/33726485/perl-parserecdescent-dont-detect-more-text-after/33727664#33727664", "title": "Perl Parse::RecDescent dont detect more text after &#39;;&#39;", "body": "<p>You print out the input. So of course it prints the output. Your parser doesn't even produce anything worthwhile, you apparently want it to produce what it parses, but you provided no code to do that.</p>\n\n<pre><code>my $parser = Parse::RecDescent-&gt;new(&lt;&lt;'__EOI__');\n\n    {\n       my %valid_types = map { $_ =&gt; 1 } qw( int string float );\n    }\n\n    start    : &lt;skip:''&gt; var_decl\n    type     : WS IDENT { $valid_types{$item[2]} } { join '', @item[1,2] }\n    var_decl : WS type WS IDENT WS ';'             { join '', @item[1..6] }\n\n    WS       : /\\s*/\n    IDENT    : /[a-zA-Z_][a-zA-Z0-9]+/\n__EOI__\n\nwhile (my $line = &lt;DATA&gt;) {\n   if (defined( my $output = $parser-&gt;start($line) )) {\n      print \"$output\\n\";\n   }\n}\n</code></pre>\n\n<p>A less generic</p>\n\n<pre><code>my $parser = Parse::RecDescent-&gt;new(&lt;&lt;'__EOI__');\n\n    {\n       my %valid_types = map { $_ =&gt; 1 } qw( int string float );\n    }\n\n    start    : var_decl &lt;skip:''&gt; /.*/ { length($item[2]) }\n    type     : IDENT { $valid_types{$item[1]} }\n    var_decl : type IDENT ';'\n\n    IDENT    : /[a-zA-Z_][a-zA-Z0-9]+/\n__EOI__\n\nwhile (my $line = &lt;DATA&gt;) {\n   if (defined( my $extra = $parser-&gt;var($line) )) {\n      print substr($line, 0, -$extra), \"\\n\";\n   }\n}\n</code></pre>\n\n<p>Neither solution have been tested.</p>\n"}], "owner": {"reputation": 9, "user_id": 5517157, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271293076229815/picture?type=large", "display_name": "Shinmi Benjamin", "link": "https://stackoverflow.com/users/5517157/shinmi-benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447641156, "creation_date": 1447630869, "last_edit_date": 1447631979, "question_id": 33726485, "link": "https://stackoverflow.com/questions/33726485/perl-parserecdescent-dont-detect-more-text-after", "title": "Perl Parse::RecDescent dont detect more text after &#39;;&#39;", "body": "<p>Well like the title says, I don't want to detect more text after my ';'.\nUsing Parse::RecDescent I have this:</p>\n\n<pre><code>$parser = new Parse::RecDescent (q{\n\n    id:   /[a-zA-Z_][a-zA-Z0-9]+/\n    data:   \"int\"|\"string\"|\"float\"\n    var:data id ';'\n});\n\n\n\nwhile(my $line = &lt;DATA&gt;)\n        {\n          if ($parser-&gt;var($line))\n          {\n            print \"Its a var:\\t$line\\n\";\n          }\n        }\n</code></pre>\n\n<p>In my txt file I have: </p>\n\n<blockquote>\n  <p>int x;gdgh</p>\n</blockquote>\n\n<p>and Perl print that as \"Its a var\"</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1447626220, "post_id": 33725298, "comment_id": 55220893, "body": "You can avoid the Shell in <code>system</code> and <code>exec</code> using the syntax <code>system PROGRAM LIST</code>, see documentation for <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1447630307, "creation_date": 1447630307, "answer_id": 33726408, "question_id": 33725298, "link": "https://stackoverflow.com/questions/33725298/perl-disable-shell-access/33726408#33726408", "title": "Perl disable shell access", "body": "<p>There are limited options to do this, keep in mind that these are core routines and completely disabling them may have some unexpected consequences. You do have a few options.</p>\n\n<p><strong>Override Locally</strong></p>\n\n<p>You can override system and exec locally by using the <code>subs</code> pragma, this will only effect the package into which you have imported the sub routine:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse subs 'system';\nsub system { die('Do not use system calls!!'); }\n# .. more code here, note this will runn\nmy $out = system('ls -lah'); # I will die at this point, but not before\nprint $out;\n</code></pre>\n\n<p><strong>Override Globally</strong></p>\n\n<p>To override globally, in the current perl process, you need to import your function into the CORE::GLOBAL pseudo-namespace at compile time:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nBEGIN {\n    *CORE::GLOBAL::system = sub {\n      die('Do not use system calls.');\n    };\n\n    *CORE::GLOBAL::exec = sub {\n      die('Do not use exec.');\n    };\n\n    *CORE::GLOBAL::readpipe = sub {\n      die('Do not use back ticks.');\n    };\n}\n\n#...\nmy $out = system('ls -lah'); # I will die at this point, but not before\nprint $out;\n</code></pre>\n\n<p><strong>Prevent anything form running if in source</strong></p>\n\n<p>If you want to prevent any code running before getting to a system call you can include the following, note this is fairly loose in it's matching, I've written it to be easy to modify or update:</p>\n\n<pre><code>package Acme::Noshell;\n\nopen 0 or print \"Can't execute '$0'\\n\" and exit;\nmy $source = join \"\", &lt;0&gt;;\n\ndie(\"Found back ticks in '$0'\") if($source =~ m/^.*[^#].*\\`/g);\ndie(\"Found 'exec' in '$0'\") if($source =~ / exec\\W/g);\ndie(\"Found 'system' in '$0'\") if($source =~ / system\\W/g);\n\n1;\n</code></pre>\n\n<p>Which can be used as follows:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Acme::Noshell;\n\nprint \"I wont print because of the call below\";\nmy $out = system('ls -lah');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 1, "creation_date": 1447645203, "post_id": 33726636, "comment_id": 55225540, "body": "Is there a way to upgrade use of <code>system</code> in non-list form to an error?"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 4, "last_activity_date": 1447632084, "creation_date": 1447632084, "answer_id": 33726636, "question_id": 33725298, "link": "https://stackoverflow.com/questions/33725298/perl-disable-shell-access/33726636#33726636", "title": "Perl disable shell access", "body": "<p>I write about this extensively in <a href=\"http://www.masteringperl.org\" rel=\"nofollow\">Mastering Perl</a>. The short answer is to use <code>system</code> in it's list form. </p>\n\n<pre><code>system '/path/to/command', @args;\n</code></pre>\n\n<p>This doesn't interpret any special characters in <code>@args</code>.</p>\n\n<p>At the same time, you should enable taint checking to help catch bad data before you pass it to the system. See the <a href=\"http://perldoc.perl.org/persec.html\" rel=\"nofollow\">perlsec</a> documentation for details. </p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 33726636, "answer_count": 2, "score": 3, "last_activity_date": 1447632084, "creation_date": 1447623071, "question_id": 33725298, "link": "https://stackoverflow.com/questions/33725298/perl-disable-shell-access", "title": "Perl disable shell access", "body": "<p>Certain builtins like <code>system</code> and <code>exec</code> (as well as backticks) will use the shell (I think <code>sh</code> by default) if passed a single argument containing shell metacharacters. If I want to write a portable program that avoids making any assumptions about the underlying shell, is there a pragma or some other option I can use to either disable shell access or trigger a fatal error immediately?</p>\n"}, {"tags": ["perl", "api", "twitter", "terminal", "cpan"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447623139, "post_id": 33725110, "comment_id": 55219970, "body": "Have you tried upgrading Net::Twitter?"}, {"owner": {"reputation": 305, "user_id": 5212837, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/91ac54d89782ef83c0132416665619f8?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/5212837/noah"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447623442, "post_id": 33725110, "comment_id": 55220055, "body": "I tried (&quot;cpan Net::Twitter&quot; says the module is up to date.), however the error is still there."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447623547, "post_id": 33725110, "comment_id": 55220086, "body": "What&#39;s on line 3 of Net/Twitter.pm?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447625109, "post_id": 33725110, "comment_id": 55220586, "body": "You really don&#39;t want to embed your secret keys on a public forum - That&#39;s like posting your password."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1447627702, "post_id": 33725110, "comment_id": 55221299, "body": "If your class has taught you to write Perl programs without <code>use strict</code> and <code>use warnings &#39;all&#39;</code> then I suggest you cancel it immediately"}, {"owner": {"reputation": 305, "user_id": 5212837, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/91ac54d89782ef83c0132416665619f8?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/5212837/noah"}, "edited": false, "score": 0, "creation_date": 1447630415, "post_id": 33725110, "comment_id": 55222047, "body": "Can anyone tell me how to downgrade Module::Runtime? It seems this would fix the problem but I couldn&#39;t find how..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1447631795, "post_id": 33725110, "comment_id": 55222408, "body": "@NoahSong: Editing your question won&#39;t remove your security keys from Stack Overflow&#39;s history \u2014 I and many others can still read them \u2014 and they&#39;ll now always be somewhere on the internet. If you are particularly anxious to avoid people misusing your account then you should delete that key and apply for a new one"}], "answers": [{"tags": [], "owner": {"reputation": 305, "user_id": 5212837, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/91ac54d89782ef83c0132416665619f8?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/5212837/noah"}, "is_accepted": true, "score": 1, "last_activity_date": 1447639769, "creation_date": 1447639769, "answer_id": 33727510, "question_id": 33725110, "link": "https://stackoverflow.com/questions/33725110/perl-invalid-version-format-error/33727510#33727510", "title": "Perl invalid version format error", "body": "<p>After some Google search I highly believe downgrading the Module::Runtime would solve this issue. But I could't find how.</p>\n\n<p>Eventually I solved this issue by delete the Runtime module file in perl folder and reinstalled the Net::Twitter module, which also reinstalled the Runtime that Net::Twitter depends on.</p>\n"}], "owner": {"reputation": 305, "user_id": 5212837, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/91ac54d89782ef83c0132416665619f8?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/5212837/noah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 0, "accepted_answer_id": 33727510, "answer_count": 1, "score": 0, "last_activity_date": 1447639769, "creation_date": 1447621941, "last_edit_date": 1592644375, "question_id": 33725110, "link": "https://stackoverflow.com/questions/33725110/perl-invalid-version-format-error", "title": "Perl invalid version format error", "body": "<p>I am trying to finish a homework for my class. After I installed a <a href=\"http://metacpan.org/module/API::Twitter\" rel=\"nofollow noreferrer\"><code>API::Twitter</code></a> module using CPAN, the <a href=\"http://metacpan.org/module/Net::Twitter\" rel=\"nofollow noreferrer\"><code>Net::Twitter</code></a> module seems to be affected and can no longer be used.</p>\n<p>I tried to run this code in my Mac terminal:</p>\n<h3>song_hanlun_hw8.pl</h3>\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse Net::Twitter;\nuse JSON;\nuse LWP::Simple;\nuse XML::Bare;\nuse Data::Dumper;\n\n# keys for twitter\n$consumer_key    = &quot;key&quot;;\n$consumer_secret = &quot;key&quot;;\n$token           = &quot;key-key&quot;;\n$token_secret    = &quot;key&quot;;\n\n# keys for sentiment analysis\n$apikey = &quot;key&quot;;\n\n# As of 13-Aug-2010, Twitter requires OAuth for authenticated requests\nmy $nt = Net::Twitter-&gt;new(\n    traits =&gt; [qw/API::RESTv1_1/],\n\n    # traits              =&gt; [qw/API::Search/],\n    consumer_key        =&gt; $consumer_key,\n    consumer_secret     =&gt; $consumer_secret,\n    access_token        =&gt; $token,\n    access_token_secret =&gt; $token_secret,\n);\n\n#enter a term you want to search for\n$search_term = &quot;Halloween&quot;;\n$count       = 100;\n\nmy $r = $nt-&gt;search( { q =&gt; $search_term, count =&gt; $count } );\n\n# print Dumper $r;\nfor my $status ( @{ $r-&gt;{statuses} } ) {\n    push @tweets, $status-&gt;{text};\n}\n\n$nextMaxId = $r-&gt;{search_metadata}-&gt;{next_results};\n$nextMaxId =~ s/\\?max_id=//g;\n$nextMaxId =~ s/&amp;q=Halloween&amp;count=100&amp;include_entities=1//g;\n\n# print $nextMaxId;\n\nmy $r2 = $nt-&gt;search( { q =&gt; $search_term, count =&gt; $count, max_id =&gt; $nextMaxId } );\nfor my $status ( @{ $r2-&gt;{statuses} } ) {\n    push @tweets, $status-&gt;{text};\n}\n\nforeach $tweet ( @tweets ) {\n\n    # $tweet = $tweets[1];\n    $return    = get &quot;http://gateway-a.watsonplatform.net/calls/text/TextGetTextSentiment?apikey=$apikey&amp;text=$tweet&amp;outputMode=xml&quot;;\n    $bare      = new XML::Bare( text =&gt; $return );\n    $root      = $bare-&gt;parse();\n    $sentiment = $root-&gt;{results}-&gt;{docSentiment}-&gt;{score}-&gt;{value};\n    push @sentiments, $sentiment;\n\n    # print &quot;$sentiment&quot;;\n}\n\n$m100to75 = 0;\n$m75to50  = 0;\n$m50to25  = 0;\n$m25to0   = 0;\n$p0to25   = 0;\n$p25to50  = 0;\n$p50to75  = 0;\n$p75to100 = 0;\n\nforeach $sent ( @sentiments ) {\n\n    # smaller than zero. four ranges.\n    if ( $sent &gt;= -1 &amp;&amp; $sent &lt; -0.75 ) {\n        $m100to75++;\n    }\n\n    if ( $sent &gt;= -0.75 &amp;&amp; $sent &lt; -0.5 ) {\n        $m75to50++;\n    }\n\n    if ( $sent &gt;= -0.5 &amp;&amp; $sent &lt; -0.25 ) {\n        $m50to25++;\n    }\n\n    if ( $sent &gt;= -0.25 &amp;&amp; $sent &lt; 0 ) {\n        $m25to0++;\n    }\n\n    #bigger than zero. four ranges.\n    if ( $sent &gt;= 0 &amp;&amp; $sent &lt; 0.25 ) {\n        $p0to25++;\n    }\n\n    if ( $sent &gt;= 0.25 &amp;&amp; $sent &lt; 0.5 ) {\n        $p25to50++;\n    }\n\n    if ( $sent &gt;= 0.5 &amp;&amp; $sent &lt; 0.75 ) {\n        $p50to75++;\n    }\n\n    if ( $sent &gt;= 0.75 &amp;&amp; $sent &lt; 1 ) {\n        $p75to100++;\n    }\n\n}\n\n# print &quot;$m100to75\\n$m75to50\\n$m50to25\\n$m25to0\\n$p0to25\\n$p25to50\\n$p50to75\\n$p75to100\\n&quot;;\n\nprint &quot;tweets sentiment score summary histogram:\\n&quot;;\n\nprint &quot;-1.00 to -0.75: &quot;;\nfor ( $i = 0 ; $i &lt; $m100to75 ; $i++ ) {\n    print &quot;*&quot;;\n}\nprint &quot;\\n&quot;;\n\nprint &quot;-0.75 to -0.50: &quot;;\nfor ( $i = 0 ; $i &lt; $m75to50 ; $i++ ) {\n    print &quot;*&quot;;\n}\nprint &quot;\\n&quot;;\n\nprint &quot;-0.50 to -0.25: &quot;;\nfor ( $i = 0 ; $i &lt; $m50to25 ; $i++ ) {\n    print &quot;*&quot;;\n}\nprint &quot;\\n&quot;;\n\nprint &quot;-0.25 to -0.00: &quot;;\nfor ( $i = 0 ; $i &lt; $m25to0 ; $i++ ) {\n    print &quot;*&quot;;\n}\nprint &quot;\\n&quot;;\n\nprint &quot;+0.00 to +0.25: &quot;;\nfor ( $i = 0 ; $i &lt; $p0to25 ; $i++ ) {\n    print &quot;*&quot;;\n}\nprint &quot;\\n&quot;;\n\nprint &quot;+0.25 to +0.50: &quot;;\nfor ( $i = 0 ; $i &lt; $p25to50 ; $i++ ) {\n    print &quot;*&quot;;\n}\nprint &quot;\\n&quot;;\n\nprint &quot;+0.50 to +0.75: &quot;;\nfor ( $i = 0 ; $i &lt; $p50to75 ; $i++ ) {\n    print &quot;*&quot;;\n}\nprint &quot;\\n&quot;;\n\nprint &quot;+0.75 to +1.00: &quot;;\nfor ( $i = 0 ; $i &lt; $p75to100 ; $i++ ) {\n    print &quot;*&quot;;\n}\nprint &quot;\\n&quot;;\n</code></pre>\n<p>But the terminal returns</p>\n<pre class=\"lang-none prettyprint-override\"><code>Invalid version format (version required) at /Library/Perl/5.18/Module/Runtime.pm line 386.\nBEGIN failed--compilation aborted at /Library/Perl/5.18/Net/Twitter.pm line 3.\nCompilation failed in require at song_hanlun_hw8.pl line 3.\nBEGIN failed--compilation aborted at song_hanlun_hw8.pl line 3.\n</code></pre>\n<p>Could someone tell me how to fix this?</p>\n"}, {"tags": ["perl", "padre"], "comments": [{"owner": {"reputation": 546, "user_id": 2394635, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/660d42642570cc40748522ee2c953ecd?s=128&d=identicon&r=PG", "display_name": "Smeterlink", "link": "https://stackoverflow.com/users/2394635/smeterlink"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1447687865, "post_id": 33724690, "comment_id": 55246182, "body": "ppm is only for ActivePerl. cpan for Strawberry Perl doesn&#39;t install libssl-dev libraries."}], "answers": [{"tags": [], "owner": {"reputation": 546, "user_id": 2394635, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/660d42642570cc40748522ee2c953ecd?s=128&d=identicon&r=PG", "display_name": "Smeterlink", "link": "https://stackoverflow.com/users/2394635/smeterlink"}, "is_accepted": false, "score": 1, "last_activity_date": 1447965958, "creation_date": 1447965958, "answer_id": 33814041, "question_id": 33724690, "link": "https://stackoverflow.com/questions/33724690/how-to-install-libssl-dev-for-strawberry-perl-on-windows/33814041#33814041", "title": "How to install libssl-dev for Strawberry Perl on Windows", "body": "<p>The solution is explained here: <a href=\"http://www.perlmonks.org/?node_id=1147987\" rel=\"nofollow\">PerlMonks: How to install libssl-dev for Strawberry Perl on Windows</a></p>\n"}], "owner": {"reputation": 546, "user_id": 2394635, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/660d42642570cc40748522ee2c953ecd?s=128&d=identicon&r=PG", "display_name": "Smeterlink", "link": "https://stackoverflow.com/users/2394635/smeterlink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447965958, "creation_date": 1447619447, "question_id": 33724690, "link": "https://stackoverflow.com/questions/33724690/how-to-install-libssl-dev-for-strawberry-perl-on-windows", "title": "How to install libssl-dev for Strawberry Perl on Windows", "body": "<p>I need to install <code>Crypt::OpenSSL::PBKDF2</code>, however it requires libssl-dev, which I don't know how to install on Windows 7. I'm running Strawberry Perl because ActivePerl doesn't have PBKDF2 available.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1447616170, "post_id": 33723935, "comment_id": 55217542, "body": "This might be better done in something like <a href=\"https://metacpan.org/pod/Regexp::Grammars\" rel=\"nofollow noreferrer\">Regexp::Grammars</a>."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447629797, "post_id": 33724200, "comment_id": 55221878, "body": "They don&#39;t call it branch reset anymore?"}, {"owner": {"reputation": 6043, "user_id": 5290909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34788cb69a6f3007f88e3a36a590ca?s=128&d=identicon&r=PG", "display_name": "Mariano", "link": "https://stackoverflow.com/users/5290909/mariano"}, "edited": false, "score": 0, "creation_date": 1447632289, "post_id": 33724200, "comment_id": 55222529, "body": "@sln Perl calls it &quot;Alternative capture group numbering&quot;, <a href=\"http://www.pcre.org/pcre.txt\" rel=\"nofollow noreferrer\">PCRE</a> calls it &quot;Duplicate subpattern numbers&quot; and also refers to it as &quot;branch reset&quot;. Most tutorials use &quot;branch reset&quot;... I guess you can choose the one you like most :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 6043, "user_id": 5290909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34788cb69a6f3007f88e3a36a590ca?s=128&d=identicon&r=PG", "display_name": "Mariano", "link": "https://stackoverflow.com/users/5290909/mariano"}, "edited": false, "score": 1, "creation_date": 1447633288, "post_id": 33724200, "comment_id": 55222780, "body": "@Mariano - Strange. From the Perl <i>5.20 perlre</i> docs <code>(?|pattern)  This is the &quot;branch reset&quot; pattern, which has the special property that the capture groups are numbered from the same starting point in each alternation branch.</code>"}, {"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "reply_to_user": {"reputation": 6043, "user_id": 5290909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34788cb69a6f3007f88e3a36a590ca?s=128&d=identicon&r=PG", "display_name": "Mariano", "link": "https://stackoverflow.com/users/5290909/mariano"}, "edited": false, "score": 0, "creation_date": 1447641054, "post_id": 33724200, "comment_id": 55224579, "body": "@Mariano:  &quot;Alternative capture group numbering&quot; is merely the title of that section in the Perl documentation.  The same goes for &quot;Duplicate Subpattern Numbers&quot; in the PCRE docs.  The construct used to achieve it is called &quot;Branch Reset Group&quot; in both flavors; I think that name is the one most likely to be understood."}, {"owner": {"reputation": 177, "user_id": 4949848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/944408852246592/picture?type=large", "display_name": "Qasim Ahmed", "link": "https://stackoverflow.com/users/4949848/qasim-ahmed"}, "edited": false, "score": 0, "creation_date": 1447688141, "post_id": 33724200, "comment_id": 55246398, "body": "This sounds like exactly what I need but its not working depite my attemps. Also I am  unfamiliar with using curly braces to do the regex. Can you use the traditional notation s///?"}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 5, "last_activity_date": 1447616847, "creation_date": 1447616847, "answer_id": 33724200, "question_id": 33723935, "link": "https://stackoverflow.com/questions/33723935/regex-loop-or/33724200#33724200", "title": "Regex + loop + OR", "body": "<p>You're looking for <a href=\"http://perldoc.perl.org/perlretut.html#Alternative-capture-group-numbering\">Alternative capture group numbering</a>:</p>\n\n<pre><code>$recipes =~ s{\n    (?| \n        ( [^\\.\\/] ) ($dimentions)\n        |\n        ( \\(? ) ($wholeNumberDecimal)\n        |\n        ( \\(? ) ($wholeNumber)\n        |\n        ( \\(? ) ($wholeNumberFraction)\n    )\n    (\\s)\n    ($unit)\n}{\n    transformer($1,$2,$3,$4)\n}eixg;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177, "user_id": 4949848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/944408852246592/picture?type=large", "display_name": "Qasim Ahmed", "link": "https://stackoverflow.com/users/4949848/qasim-ahmed"}, "edited": false, "score": 0, "creation_date": 1447687930, "post_id": 33726755, "comment_id": 55246235, "body": "Having 16 capture groups is a little too much don&#39;t you think? Plus all those if statements. Isn&#39;t there a way to only have 4 capture groups. Because essentially only one case will be true at a time and each case only needs 4 capture groups."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 177, "user_id": 4949848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/944408852246592/picture?type=large", "display_name": "Qasim Ahmed", "link": "https://stackoverflow.com/users/4949848/qasim-ahmed"}, "edited": false, "score": 0, "creation_date": 1447689999, "post_id": 33726755, "comment_id": 55247690, "body": "@QasimAhmed - Sure, 16 is too much. But, I&#39;m not making a judgement either way. In reality, <code>\\s</code> and <code>$unit</code> don&#39;t need capturing, they&#39;re constants. <code>[^,.]</code> doesn&#39;t need capturing, nor does <code>\\(?</code> a subset. That leaves 4 groups in 4 alternations (i.e,, 4 distinctions). Not really a job for <i>branch reset</i> unless you want to just play with regex,"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 1, "last_activity_date": 1447721366, "last_edit_date": 1447721366, "creation_date": 1447633056, "answer_id": 33726755, "question_id": 33723935, "link": "https://stackoverflow.com/questions/33723935/regex-loop-or/33726755#33726755", "title": "Regex + loop + OR", "body": "<p><code>From my understatement there will be a $1, $2, $3, $4. If I pass all of those variables to the method then how will the method know which variable is the new match and which ones might have been matched before and are simply being remember</code>  </p>\n\n<p>I believe these variable's are modified on a successful match.<br>\nGiven the <em>sub</em> form <code>s///</code>, there is only one way the Right Hand Side is<br>\naccessed. That is on a successful match.<br>\nSo, it is not the case of it being matched before, the match var's are<br>\nalways current in this case.  </p>\n\n<p>Below is your regex formatted. I suggest getting software that can do this<br>\nfor you. I used <a href=\"http://www.regexformat.com\" rel=\"nofollow\">RegexFormat 7</a>.  </p>\n\n<pre><code>   ( [^\\.\\/] )                   # (1)\n   ( $dimentions )               # (2)\n   ( \\s )                        # (3)\n   ( $unit )                     # (4)\n|  \n   ( \\(? )                       # (5)\n   ( $wholeNumberDecimal )       # (6)\n   ( \\s )                        # (7)\n   ( $unit )                     # (8)\n|  \n   ( \\(? )                       # (9)\n   ( $wholeNumber )              # (10)\n   ( \\s )                        # (11)\n   ( $unit )                     # (12)\n|   \n   ( \\(? )                       # (13)\n   ( $wholeNumberFraction )      # (14)\n   ( \\s )                        # (15)\n   ( $unit )                     # (16)\n</code></pre>\n\n<p>As you can see it contains 16 capture groups.<br>\nSo, groups 1-4 only cover your first alternative sections.   </p>\n\n<p>Regex have to be designed to get the <em>outcome</em> you anticipate.<br>\nIf you only care about which section of 4 alternatives matched,<br>\nthen you can use the capture variable as a flag as well as getting data.<br>\nIn Perl, its common to use  </p>\n\n<pre><code>if ( defined( $1 ) ) {\n   ## ..\n}\nelsif ( defined ( $2 ) {\n   ## ...\n}  \netc ...  \n</code></pre>\n\n<p>After some factoring it could be done like below.<br>\nAnd, if those variables contain literals you should wrap them in a<br>\nquotemeta construct like <code>\\Q  $variable \\E</code></p>\n\n<p>Note also that if the variables contain <em>constant</em> data (literals or regex)<br>\nthey should be pre-compiled at the beginning of your program<br>\nlike with a quote regex operator <code>my $regex = qr~...~;</code>  </p>\n\n<p>Then just put it into your normal call like this<br>\n<code>$recipes =~ s/$regex/transformer($1,$2,$3,$4)/eixg;</code>   </p>\n\n<p>Note that I believe Perl might be able to scope its capture vars<br>\nsomehow, but I'm a little rusty so can't remember.   </p>\n\n<p>If you need to pass in the vars, just use something like  </p>\n\n<pre><code>sub transformer {\n   my ($var1,$var2,$var3,$var4) = @_;\n   ...\n} \n</code></pre>\n\n<p>Below uses the fact that you've designed capture groups as flags<br>\nas well.   </p>\n\n<pre><code>sub transformer\n{\n    my ($v1,$v2,$v3,$v4) =  @_;\n\n    if ( defined( $v1 ) ) {\n        return ...;\n    }\n    elsif ( defined( $v2 ) ) {\n        return ...;\n    }\n    elsif ( defined( $v3 ) ) {\n        return ...;\n    }\n    elsif ( defined( $v4 ) ) {\n        return ...;\n    }\n}\n\n\n$recipes =~ s~  \n\n     (?:\n          [^./] \n          ( $dimentions )              # (1)\n       |  \n          \\(? \n          (?:\n               ( $wholeNumberDecimal )      # (2)\n            |  ( $wholeNumber )             # (3)\n            |  ( $wholeNumberFraction )     # (4)\n          )\n     )\n     \\s \n     $unit\n\n~transformer($1,$2,$3,$4)~eixg;\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4949848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/944408852246592/picture?type=large", "display_name": "Qasim Ahmed", "link": "https://stackoverflow.com/users/4949848/qasim-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 33724200, "answer_count": 2, "score": 1, "last_activity_date": 1447721366, "creation_date": 1447615449, "last_edit_date": 1447688930, "question_id": 33723935, "link": "https://stackoverflow.com/questions/33723935/regex-loop-or", "title": "Regex + loop + OR", "body": "<p>I have this kind of regex:</p>\n\n<pre><code>$recipes =~ s/\n\n                ([^\\.\\/]) ($dimentions) (\\s) ($unit)\n                |(\\(?) ($wholeNumberDecimal) (\\s) ($unit)   \n                |(\\(?) ($wholeNumber)       (\\s) ($unit)    \n                |(\\(?) ($wholeNumberFraction) (\\s) ($unit)\n                /transformer($1,$2,$3,$4) /eixg;    \n</code></pre>\n\n<p>What I would like it to do is every time it matches against one of those 4 cases it calls a method.</p>\n\n<p>From my understatement there will be a <code>$1</code>, <code>$2</code>, <code>$3</code>, <code>$4</code>. If I pass all of those variables to the method then how will the method know which variable is the new match and which ones might have been matched before and are simply being remembered?</p>\n\n<p>Is there a way of having just one variable <code>$1</code> that gets matched to any of those cases, and simply send that one to the method anytime?</p>\n\n<p>Or do I even have the right approach? I am trying to match these different cases from a recipe book and with each match call a method that transforms that into the metric system equivalent.</p>\n\n<p>Example: 5 Tbsp -> 80 ml, or 8 x 8 x 2 inches ->20 x 20 x 5 cm</p>\n\n<p>Based on posted answers I have changed my regex to:</p>\n\n<pre><code>$recepies =~ s/\n                    (?|\n                    ([^\\.\\/]) ($dimentions) \n                    |\n                    (\\(?) ($wholeNumberDecimal)     #ex: 1.5\n                    |\n                    (\\(?) ($wholeNumber)            #ex: 1\n                    |\n                    (\\(?) ($wholeNumberFraction) \n                    )\n                    (\\s) ($unit)\n\n                    /transformer($1,$2,$3,$4) /eixg;    #the replacement\n</code></pre>\n\n<p>It seems to be working!</p>\n"}, {"tags": ["perl", "fork"], "answers": [{"comments": [{"owner": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "edited": false, "score": 0, "creation_date": 1447620326, "post_id": 33723967, "comment_id": 55219048, "body": "So , it seems in my case the children become &quot;orphan processes&quot; (not zombies) and are adopted by init. If so , what would create a zombie ? (I tried NOT ignoring the signal by children but this still seems ok). .. I read some info but still can&#39;t clearly define when exactly I get a zombie vs orphan (in the context of intercepting SIGINT in parent and child)"}, {"owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "reply_to_user": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "edited": false, "score": 3, "creation_date": 1447622874, "post_id": 33723967, "comment_id": 55219886, "body": "A &quot;zombie&quot; is a process that has exited, but its parent has not yet called <code>wait</code> to get its exit status.  Whenever the parent calls <code>wait</code> to get the exit or termination status, the zombie will be cleaned up."}], "tags": [], "owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "is_accepted": false, "score": 2, "last_activity_date": 1447615603, "creation_date": 1447615603, "answer_id": 33723967, "question_id": 33723878, "link": "https://stackoverflow.com/questions/33723878/why-children-dont-become-zombies-in-perl/33723967#33723967", "title": "Why children don&#39;t become zombies in perl", "body": "<p>This has nothing specific to do with perl.</p>\n\n<p>When a process exits, any children of the process are \"reparented\" to init -- their ppid is reset to 1, which is the pid of the init process that starts when the machine boots.</p>\n\n<p>The init process, after it has initiialized the machine, goes into a loop waiting for (and reaping) children.  So any child that is reparented to init will never leave a zombie -- init will immediately clean it up.</p>\n"}], "owner": {"reputation": 1320, "user_id": 1779743, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08e0dfef48bf20447e7838ff8c7e8ec1?s=128&d=identicon&r=PG", "display_name": "Katrinna L", "link": "https://stackoverflow.com/users/1779743/katrinna-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1447615603, "creation_date": 1447615191, "last_edit_date": 1495542220, "question_id": 33723878, "link": "https://stackoverflow.com/questions/33723878/why-children-dont-become-zombies-in-perl", "title": "Why children don&#39;t become zombies in perl", "body": "<p>I have a perl script with multiple child processes generated with fork. The parent handles SIGINT and child processes ignore SIGINT ($SIG{INT} = 'IGNORE').</p>\n\n<pre><code>$SIG{'INT'} = sub {\n  print \"Caught Ctrl+C by $$\\n\";\n  # while($result != -1){\n      # $result = wait();\n  #}\n    die \"Stopping...\";\n}; \n</code></pre>\n\n<p>a) If include the commented lines the script waits for the children to complete and then exits.</p>\n\n<p>b) But if I comment the \"wait\" lines I assume it works like this\n    - the script exits and the parent process is terminated\n    - the children continue running in the background and display some message as expected before exiting.</p>\n\n<p>I understand the a) case but how does the b) case work, please explain why doesn't this generate zombie processes ? </p>\n\n<p>This question extends/is related to <a href=\"https://stackoverflow.com/questions/33518868/wait-for-children-to-complete-if-parent-intercepts-sigint\">Wait for children to complete if parent intercepts SIGINT</a></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 12289, "user_id": 675568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cfe53579fb7b2afd58949be94cf97e?s=128&d=identicon&r=PG", "display_name": "Tom Zych", "link": "https://stackoverflow.com/users/675568/tom-zych"}, "edited": false, "score": 0, "creation_date": 1447610131, "post_id": 33722948, "comment_id": 55215498, "body": "It looks like line noise, of <i>course</i> it&#39;s written in Perl :)"}, {"owner": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 0, "creation_date": 1447610549, "post_id": 33722948, "comment_id": 55215650, "body": "It evaluates the matched result from <code>m&#47;(?{print&quot;If a problem can&#39;t be solved with *regex*, it&#39;s a bad problem.&quot;})&#47;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1447615475, "post_id": 33722948, "comment_id": 55217289, "body": "Its not a regex thing, its a <i>string</i> thing. Perl interpolates (the string) to be <code>(?{print&quot;If a problem can&#39;t be solved with *regex*, it&#39;s a bad problem.&quot;})</code>, which is a Perl code construct inside regex&#39;s, which prints the string you see. Code constructs are a good place to increment counters when <i>inline</i> regex. <code>(?:a(?{ $coutofAs++ }))+</code> There are backtracking issues to consider using these constructs."}], "answers": [{"tags": [], "owner": {"reputation": 195828, "user_id": 112968, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zHTaT.png?s=128&g=1", "display_name": "knittl", "link": "https://stackoverflow.com/users/112968/knittl"}, "is_accepted": true, "score": 1, "last_activity_date": 1447610600, "creation_date": 1447610600, "answer_id": 33723052, "question_id": 33722948, "link": "https://stackoverflow.com/questions/33722948/how-does-writing-a-string-using-only-a-regex-work/33723052#33723052", "title": "How does writing a string using only a regex work", "body": "<p>The code uses an Eval-group inside the regex to execute arbitrary code. You have to use <code>use re 'eval'</code> to enable the behavior.</p>\n\n<p>Eval-groups look like <code>(?{...})</code> with the part inside the curly braces being evaluated.</p>\n\n<p>The rest of the regex is OR'ing and XOR'ing characters. For instance <code>'['^'+']'</code> is equivalent to <code>'p'</code>. <code>.</code> simply concatenates all those characters.</p>\n\n<p>You can paste the part after the <code>=~</code> matching operator into your perl shell and see the final regex that is being matched/executed.</p>\n"}], "owner": {"reputation": 604, "user_id": 1264345, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a815668d20d49da314fed5cfe32c04e6?s=128&d=identicon&r=PG", "display_name": "wardva", "link": "https://stackoverflow.com/users/1264345/wardva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 33723052, "answer_count": 1, "score": 0, "last_activity_date": 1447610600, "creation_date": 1447609983, "question_id": 33722948, "link": "https://stackoverflow.com/questions/33722948/how-does-writing-a-string-using-only-a-regex-work", "title": "How does writing a string using only a regex work", "body": "<p>On a recreative coding website (<a href=\"https://dmoj.ca/user/quantum\" rel=\"nofollow\">https://dmoj.ca/user/quantum</a>) I came across a piece of code which prints out the following string: </p>\n\n<blockquote>\n  <p>If a problem can't be solved with *regex*, it's a bad problem.</p>\n</blockquote>\n\n<p>I was suprised seeing the code because it seems that it only uses a regular expression to accomplish this:</p>\n\n<pre><code>''=~('('.'?'.'{'.('['^'+').('['^')').('`'|')').('`'|'.').('['^'/').'\"'.('`'^')')\n.('`'|'&amp;').('{'^'[').('`'|'!').('{'^'[').('['^'+').('['^')').('`'|'/').('`'|'\"')\n.('`'|',').('`'|'%').('`'|'-').('{'^'[').('`'|'#').('`'|'!').('`'|'.').\"'\".('['^\n'/').('{'^'[').('`'|'\"').('`'|'%').('{'^'[').('['^'(').('`'|'/').('`'|',').('['^\n'-').('`'|'%').('`'|'$').('{'^'[').('['^',').('`'|')').('['^'/').('`'|'(').('{'^\n'[').'*'.('['^')').('`'|'%').('`'|\"'\").('`'|'%').('['^'#').'*'.','.('{'^'[').('`'\n|')').('['^'/').\"'\".('['^'(').('{'^'[').('`'|'!').('{'^'[').('`'|'\"').('`'|'!').\n('`'|'$').('{'^'[').('['^'+').('['^')').('`'|'/').('`'|'\"').('`'|',').('`'|'%').\n('`'|'-').'.'.'\"'.'}'.')');\n</code></pre>\n\n<p><em>(all credits for this piece of art go to the original author from the website I mentioned above: Quantum)</em></p>\n\n<p>I really want to know how this works exactly but I couldn't find anything on Google, can someone explain this to me? Oh, and it's written in Perl.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1447604544, "post_id": 33721927, "comment_id": 55213551, "body": "In case anyone is interested, the application is bignum arithmetic, using the chunking to do &quot;native&quot; arithmetic where possible."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1447605014, "post_id": 33721927, "comment_id": 55213705, "body": "in that case, have you considered storing your numbers backwards? :)"}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1447605284, "post_id": 33721927, "comment_id": 55213797, "body": "@hobbs Yes, that was my latest thought -- just represent everything backwards internally. Until I realized that I&#39;d have to re-reverse on every operation&#39;s arguments (inner loop) to feed them to &quot;native&quot; arithmetic. Sort of defeating the purpose."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1447611948, "post_id": 33721927, "comment_id": 55216100, "body": "I found a slight improvement: the parens around <code>(a8)</code> are superfluous. (Parens were left over from <code>(a8)*</code>)."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1447612949, "post_id": 33721927, "comment_id": 55216412, "body": "Alternative improvement: the parens can be left in and <code>x</code> changed to <code>.</code> instead, for a space improvement."}, {"owner": {"reputation": 14928, "user_id": 360695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2c44123afa326f8088914089161248e?s=128&d=identicon&r=PG", "display_name": "Dummy00001", "link": "https://stackoverflow.com/users/360695/dummy00001"}, "edited": false, "score": 1, "creation_date": 1447692981, "post_id": 33721927, "comment_id": 55249518, "body": "@JeffY, since you care for performance, and task is solvable with the <code>unpack</code>... IME there is nothing faster than <code>pack</code>/<code>unpack</code> at processing raw data in Perl (except a custom XS). Yes, it looks ugly, but that can be solved by moving the code into a function. ( Benchmark: <a href=\"http://pastebin.com/eByQ4z3S\" rel=\"nofollow noreferrer\">pastebin.com/eByQ4z3S</a> )"}], "answers": [{"tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": true, "score": 0, "last_activity_date": 1448980618, "creation_date": 1448980618, "answer_id": 34022957, "question_id": 33721927, "link": "https://stackoverflow.com/questions/33721927/how-to-chunk-text-from-the-back-in-perl/34022957#34022957", "title": "How to chunk text &quot;from the back&quot; in perl.", "body": "<p>Best by test:</p>\n\n<pre><code>use integer;\nmy $la = length($a);\nmy $r = $la % 8;\nmy @a = unpack(($r?\"a$r\":\"\").\"(a8)\".($la/8), $a);\n</code></pre>\n\n<p>There seems no cleaner way to do this efficiently.</p>\n\n<p>Explanation:</p>\n\n<p><code>use integer;</code> is so that <code>($la/8)</code> is truncated to integer. <code>int($la/8)</code> would do the same thing.</p>\n\n<p><code>$r</code> is the \"remainder\", the amount of remaining string after \"dividing\" it into chunks of 8.</p>\n\n<p>If the string is evenly divisible by 8 (<code>$r==0</code>) there must be no \"remainder\" part included in <code>unpack</code>'s template, otherwise <code>\"a$r\"</code>: <code>($r?\"a$r\":\"\")</code></p>\n\n<p>The \"quotient\", or chunking, part of <code>unpack</code>'s template is: <code>\"(a8)\".($la/8)</code></p>\n\n<p>The last line can be replaced with the following for cleaner-looking code, at the cost of a couple more variables:</p>\n\n<pre><code>my $q = $la / 8;\nmy $tr = $r ? \"a$r\" : \"\";\nmy @a = unpack \"$tr(a8)$q\", $a;\n</code></pre>\n"}], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 34022957, "answer_count": 1, "score": 0, "last_activity_date": 1448980618, "creation_date": 1447604405, "last_edit_date": 1495542616, "question_id": 33721927, "link": "https://stackoverflow.com/questions/33721927/how-to-chunk-text-from-the-back-in-perl", "title": "How to chunk text &quot;from the back&quot; in perl.", "body": "<p>I'm writing code to divide up (big) text strings \"from the back\" in perl (i.e. end-to-start or right-to-left) into equal-size chunks (with remainder at the front).</p>\n\n<p>It's working, but this seems to be a case where perl's \"it's easy/fast to do (conceptually) easy things\" paradigm is breaking down.</p>\n\n<p>The most elegant way I found is adapted from here:\n<a href=\"https://stackoverflow.com/questions/27761543/how-do-i-display-large-numbers-with-commas-html\">How do I display large numbers with commas? HTML</a></p>\n\n<pre><code>my @a = split /(?=(?:.{8})+$)/,$a;\n</code></pre>\n\n<p>But this is very slow as the strings get very large, probably due to all the necessary backtracking. Is there maybe a more efficient way using the same idea (or any regexp)?</p>\n\n<p>I rejected the idea of \"reverse input, process forward, reverse output\" out-of-hand out of similar inefficiency concerns. But I'd welcome correction on those concerns if anyone knows anything about that.</p>\n\n<p>I did do a brute-force \"iteration of substr's\" implementation, which was fine but inelegant.</p>\n\n<p>Only slightly less elegant but also slightly faster is an implementation using <code>unpack</code> I've currently got running, as adapted from here: <a href=\"https://stackoverflow.com/questions/8265653/split-a-string-into-equal-length-chunk-in-perl\">Split a String into Equal Length Chunk in Perl</a></p>\n\n<pre><code>use integer;\nmy $la = length($a);\nmy $r = $la % 8;\nmy @a = unpack(($r?\"a$r\":\"\").\"(a8)\"x($la/8), $a);\n</code></pre>\n\n<p>Pretty ugly. Even the seeming simplification <code>\"(a8)*\"</code> (instead of the <code>x</code>) fails because for some reason perl gives an extra <code>\"\"</code> at the end in cases where length is less than 8, say 5, and the unpack template is <code>\"a5(a8)*\"</code>. (Anybody have an explanation for that \"feature\"? :-S)</p>\n\n<p>Any better ideas for simplification without introducing inefficiency? Thanks.</p>\n"}, {"tags": ["bash", "perl", "escaping", "echo", "zsh"], "comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1447604586, "post_id": 33721799, "comment_id": 55213570, "body": "Please provide an example of how you intend a program to use <code>variable</code>. What you appear to be trying to do now is just plain wrong; embedded quotes are part of the value, not syntactic quotes to protect special characters."}, {"owner": {"reputation": 4870, "user_id": 1846562, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/81f14461ebeb63f7ad27524c141c0412?s=128&d=identicon&r=PG", "display_name": "mpyw", "link": "https://stackoverflow.com/users/1846562/mpyw"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1447604896, "post_id": 33721799, "comment_id": 55213671, "body": "AppleScript example: <code>osascript -e &quot;log $variable&quot;</code>; Any characters can be correctly displayed in my environment."}], "answers": [{"comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1447607027, "post_id": 33722291, "comment_id": 55214314, "body": "This is not actually a good solution; if <code>variable</code> contains the kind of quotes you are using to wrap it, your dynamically constructed program will not be correct. The <i>right</i> answer is to pass <code>$variable</code> as an argument: <code>osascript -e &quot;...&quot; &quot;$variable&quot;</code>, but I don&#39;t know AppleScript well enough to provide a valid example."}], "tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 1, "last_activity_date": 1447606729, "creation_date": 1447606729, "answer_id": 33722291, "question_id": 33721799, "link": "https://stackoverflow.com/questions/33721799/most-compatible-way-of-escaping-embedded-strings-for-other-commands/33722291#33722291", "title": "Most compatible way of escaping embedded strings for other commands", "body": "<p>The quotes are part of the AppleScript syntax, so should be kept separate from the actual data.</p>\n\n<pre><code>osascript -e \"log \\\"$variable\\\"\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>osascript -e \"log '$variable'\"\n</code></pre>\n"}], "owner": {"reputation": 4870, "user_id": 1846562, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/81f14461ebeb63f7ad27524c141c0412?s=128&d=identicon&r=PG", "display_name": "mpyw", "link": "https://stackoverflow.com/users/1846562/mpyw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "accepted_answer_id": 33722291, "answer_count": 1, "score": 0, "last_activity_date": 1447607924, "creation_date": 1447603698, "last_edit_date": 1447607924, "question_id": 33721799, "link": "https://stackoverflow.com/questions/33721799/most-compatible-way-of-escaping-embedded-strings-for-other-commands", "title": "Most compatible way of escaping embedded strings for other commands", "body": "<p>I'm currently using the following solutions. </p>\n\n<h1>For literals <code>'string'</code></h1>\n\n<pre><code>variable=\"'\"$(echo -E \"$variable\" | perl -pe \"s/'/'\\\"'\\\"'/g;\")\"'\"\n</code></pre>\n\n<h1>For literals <code>\"string\"</code></h1>\n\n<pre><code>variable='\"'$(echo -E \"$variable\" | perl -pe 's/(?=[\\\\\"])/\\\\/g;')'\"'\n</code></pre>\n\n<ul>\n<li>I believe Perl is available in almost all environments.</li>\n<li>I'm afraid <code>echo -E</code> is NOT available in some environments...</li>\n</ul>\n\n<p>Do you know better ones?</p>\n\n<blockquote>\n  <p>I know we can execute with temporary environment variables.</p>\n\n<pre><code>NAME=VALUE command\n</code></pre>\n  \n  <p>However, some programs do not provide any ways for accessing them.</p>\n</blockquote>\n\n<h3>AppleScript example</h3>\n\n<p><a href=\"https://i.stack.imgur.com/WgPm6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WgPm6.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<h1>EDIT</h1>\n\n<p>I found that AppleScript can handle argument with <code>on run argv ~ end run</code> syntax.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vfpej.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vfpej.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1447586087, "post_id": 33718967, "comment_id": 55208170, "body": "This is a bad idea. First off, your Perl program is running in a subshell, and changes will be discarded when the program exits. Second, your shell is subject to changes from a lot of processes and will retain values that might be incorrect later on. And also, why would it be easier to &quot;fish for&quot; values in the shell than in a file?"}, {"owner": {"reputation": 59, "user_id": 5405540, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TTokB9qeY9M/AAAAAAAAAAI/AAAAAAAAAO0/LVXO5Mvtufg/photo.jpg?sz=128", "display_name": "Mohima Chaudhuri", "link": "https://stackoverflow.com/users/5405540/mohima-chaudhuri"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1447600168, "post_id": 33718967, "comment_id": 55212162, "body": "PYTHONPATH=:/usr/local/lib/python-lib:/usr/local/lib/python-&zwnj;&#8203;lib/ptml: /usr/local/lib/python-lib/rbs:/usr/local/lib/python-lib/vssp&zwnj;&#8203;y RBUILDS=/vol.nas/u00/builds RIDE_HOME=/vol.nas/rpas_qc/mohima/MOCKS/RPAS/tools RIDE_OPTIONS= -d64 RPAS_HOME=/vol.nas/rpas_qc/mohima/MOCKS/RPAS/rpas RPAS_JAVA_CLASSPATH=/vol.nas/rpas_qc/mohima/MOCKS/RPAS/rpas/&zwnj;&#8203;lib/oracleRpasUtils.&zwnj;&#8203;jarThis is part of my input file: @\u0421\u0443\u0445\u043e\u043927"}, {"owner": {"reputation": 59, "user_id": 5405540, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TTokB9qeY9M/AAAAAAAAAAI/AAAAAAAAAO0/LVXO5Mvtufg/photo.jpg?sz=128", "display_name": "Mohima Chaudhuri", "link": "https://stackoverflow.com/users/5405540/mohima-chaudhuri"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447601344, "post_id": 33718967, "comment_id": 55212546, "body": "@TLP, the first time the env variables are set manually. And then the variables are stored in a file(output of env command). Everytime we logon again we need to look at this file and then set the same values for our variables. Instead of this, I am trying to read this file into a hash(env var is the key with the corresponding values) and then run &#39;print export ...&#39;commands inside my perl script."}, {"owner": {"reputation": 59, "user_id": 5405540, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TTokB9qeY9M/AAAAAAAAAAI/AAAAAAAAAO0/LVXO5Mvtufg/photo.jpg?sz=128", "display_name": "Mohima Chaudhuri", "link": "https://stackoverflow.com/users/5405540/mohima-chaudhuri"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447601359, "post_id": 33718967, "comment_id": 55212550, "body": "@TLP When I run eval <code>perlscript</code>, I can see that my env variables are set correctly, but that is only when I specify the env var name inside my perl script; so this works: print &quot;export RIDE_HOME=$hash{RIDE_HOME}\\n&quot;; but this does not :*foreach  $i(keys %hash){ print &quot;export $i=$hash{$i}\\n&quot;;* }"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1447603101, "post_id": 33718967, "comment_id": 55213095, "body": "@MohimaChaudhuri I guess you are getting spaces in some of keys or may in some of values also like <code>RIDE_OPTIONS= -d64 </code>. So consider trimming them  i.e <code>$val=~s&#47;^\\s*|\\s*$&#47;&#47;g</code>."}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1447605172, "last_edit_date": 1447605172, "creation_date": 1447604805, "answer_id": 33721990, "question_id": 33718967, "link": "https://stackoverflow.com/questions/33718967/set-unix-env-variables-using-a-perl-script/33721990#33721990", "title": "Set Unix env variables using a perl script", "body": "<p>The fact that you're trying to do this in the first place is indicative of a larger problem, and this is almost certainly not the best way to go about solving it. However, since we don't have enough information to get to the actual root cause, it's impossible to suggest a better solution. We can at least suggest a <em>shorter</em> solution, though:</p>\n\n<pre><code>eval `perl -lne 'print \"export $_\"' /vol.nas/rpas_qc/mohima/MOCKS/env_15`\n</code></pre>\n\n<p>You've already got your input in <code>key=value</code> format---there's no need to split on <code>=</code> and then reconstitute the lines without any further processing. </p>\n\n<p>Now, if you've got duplicate variable names and you're trying to make them unique, a hash would be the appropriate data structure to use. However, it makes no difference in this case, because the shell will do exactly the same thing Perl will do (overwrite existing values with later assignments).</p>\n"}], "owner": {"reputation": 59, "user_id": 5405540, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TTokB9qeY9M/AAAAAAAAAAI/AAAAAAAAAO0/LVXO5Mvtufg/photo.jpg?sz=128", "display_name": "Mohima Chaudhuri", "link": "https://stackoverflow.com/users/5405540/mohima-chaudhuri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447605172, "creation_date": 1447585501, "question_id": 33718967, "link": "https://stackoverflow.com/questions/33718967/set-unix-env-variables-using-a-perl-script", "title": "Set Unix env variables using a perl script", "body": "<p>I am trying to load Unix env variables for the current session using a perl script.\nThe env variables are defined manually once and then they are stored in files-output of the env command.\nReason I am trying this is because there are a number of variables that need to be set and it is difficult to fish for the variables everytime in the text files and set them.</p>\n\n<p>This is part of my env file:</p>\n\n<pre><code>    PYTHONPATH=:/usr/local/lib/python-lib:/usr/local/lib/python-lib/ptml: /usr/local/lib/python-lib/rbs:/usr/local/lib/python-lib/vsspy\nRBUILDS=/vol.nas/u00/builds\nRIDE_HOME=/vol.nas/rpas_qc/mohima/MOCKS/RPAS/tools\nRIDE_OPTIONS= -d64\nRPAS_HOME=/vol.nas/rpas_qc/mohima/MOCKS/RPAS/rpas\nRPAS_JAVA_CLASSPATH=/vol.nas/rpas_qc/mohima/MOCKS/RPAS/rpas/lib/oracleRpasUtils.jar\n</code></pre>\n\n<p>My perl script goes like this:</p>\n\n<pre><code>    open FILE, \"/vol.nas/rpas_qc/mohima/MOCKS/env_15\" or die;\nmy %hash;\nwhile (&lt;FILE&gt;)\n{\n   chomp;\n    ($key, $val) = split /=/;\n   $hash{$key} = $val;\n}\n#foreach  $i(keys %hash){\n print \"export RIDE_HOME=$hash{RIDE_HOME}\\n\";\n\n print \"export RPAS_JAVA_CLASSPATH=$hash{RPAS_JAVA_CLASSPATH}\\n\";\n</code></pre>\n\n<p>If I run this from my shell:</p>\n\n<pre><code>eval 'perl text2hash.pl': (name of the script is text2hash.pl)\n</code></pre>\n\n<p>This seems to work fine. I can echo my env variables and see the values.</p>\n\n<p>However what I wanted, is to export all the env variables without specifying them. So in my perl script , if I have:</p>\n\n<pre><code>open FILE, \"/vol.nas/rpas_qc/mohima/MOCKS/env_15\" or die;\nmy %hash;\nwhile (&lt;FILE&gt;)\n{\n   chomp;\n    ($key, $val) = split /=/;\n   $hash{$key} = $val;\n}\n*foreach  $i(keys %hash){\nprint \"export $i=$hash{$i}\\n\";*\n}\n</code></pre>\n\n<p>And then if I run the same eval command as before, I am getting an error message:</p>\n\n<pre><code>-ksh: eval[1]: export: 53553: is not an identifier\n</code></pre>\n\n<p>So basically, if I specify the key name for the hash inside the print command, then the eval seems to work, but if I try to loop through the hash to export the key values the eval gives an error.</p>\n\n<p>Can anyone please help on this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447584532, "post_id": 33718787, "comment_id": 55207777, "body": "<code>$dummyfile</code> is your file name, not the lines in the file. The lines are read from the file handle <code>IFILE</code> like this: <code>my $line = &lt;IFILE&gt;</code>. Though it is better to use 3 argument open and a lexical filehandle: <code>open my $fh, &quot;&lt;&quot;, $dummyfile or die &quot;Cannot open $dummyfile: $!&quot;;</code>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447585022, "post_id": 33718787, "comment_id": 55207891, "body": "Curiously, your program can be reduced to a rather small one-liner: <code>perl -lanwe &#39;push @a, $F[3] END { print &quot;@a&quot; }&#39; dummy.pepmasses</code>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447585536, "post_id": 33718787, "comment_id": 55208024, "body": "@TLP Why would you collect an array in memory when you could simply write each value as soon as you read it?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1447585634, "post_id": 33718787, "comment_id": 55208049, "body": "@tripleee That is a good question. I just emulated the code functionality, but it is better written <code>perl -lanwe &#39; print $F[3] &#39; dummy.pepmasses</code>."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447600221, "post_id": 33719010, "comment_id": 55212179, "body": "Good answer, but if the OP wants the third column, it&#39;s <code>$F[2]</code>, yes? I saw your comment on the original code, but then you carried over the OP&#39;s mistake into your one-liner solution."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447606359, "post_id": 33719010, "comment_id": 55214123, "body": "@MattJacob I assumed the mistake was on the other &quot;side&quot;, that he meant fourth column. But yes, third column is <code>$F[2]</code>."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 4, "last_activity_date": 1447585841, "creation_date": 1447585841, "answer_id": 33719010, "question_id": 33718787, "link": "https://stackoverflow.com/questions/33718787/push-big-file-correct-and-improvement/33719010#33719010", "title": "Push, big file. Correct and improvement", "body": "<p>I'll just go through your code and comment</p>\n\n<pre><code>open (IFILE, $dummyfile) or die \"unable to open file $dummyfile\\n \";\n</code></pre>\n\n<p>You should use 3-argument open with explicit mode, and a lexical file handle. Also, you should not include newline in the <code>die</code> message unless you want to suppress line number. You should also include the error, <code>$!</code>.</p>\n\n<pre><code>open my $fh, \"&lt;\", $dummyfile or die \"Unable to open $dummyfile: $!\";\n\nwhile (my $line = $dummyfile){\n    #read each line in file\n</code></pre>\n\n<p>No, this just copies the file name. To read from the file handle, do this:</p>\n\n<pre><code>while (my $line = &lt;IFILE&gt;) {\n</code></pre>\n\n<p>Or <code>&lt;$fh&gt;</code> if you use a lexical file handle.</p>\n\n<pre><code>    chomp $line;\n    my $mz_value = (split/\\s+/,$line)[3]; #pick column 3rd at every line \n</code></pre>\n\n<p>This is actually the 4th column, since indexes start at zero <code>0</code>.</p>\n\n<pre><code>    $mz_value = join \"\\n\"; # add \"\\n\" for data\n</code></pre>\n\n<p><code>join</code> does not work that way. It is <code>join EXPR, LIST</code> to join a list of values into a string. You want the concatenation operator <code>.</code>:</p>\n\n<pre><code>$mz_value = $mz_value . \"\\n\";\n</code></pre>\n\n<p>Or more appropriately:</p>\n\n<pre><code>$mz_value .= \"\\n\";\n</code></pre>\n\n<p>But why do it that way? It is simpler to just add the newline when you print.</p>\n\n<pre><code>print \"@mzco\";\n</code></pre>\n\n<p>You can do this:</p>\n\n<pre><code>print \"$_\\n\" for @mzco;\n</code></pre>\n\n<p>Or if you are feeling daring:</p>\n\n<pre><code>use feature 'say';\nsay for @mzco;\n</code></pre>\n\n<p>And just to show you the power of Perl, this program can be reduced to a one-liner, using a lot of built-in features:</p>\n\n<pre><code>perl -lane ' print $F[3] ' dummy.pepmasses\n</code></pre>\n\n<ul>\n<li><code>-l</code> chomp lines, add newline (by default) to print</li>\n<li><code>-n</code> put <code>while (&lt;&gt;)</code> loop around code: read input file or stdin</li>\n<li><code>-a</code> autosplit each line into <code>@F</code>.</li>\n</ul>\n\n<p>The program as a file would look like this:</p>\n\n<pre><code>$\\ = $/;     # set output record separator to input record separator\nwhile (&lt;&gt;) {\n    chomp;\n    my @F = split;\n    print $F[3];\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5484529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeed9c1311fa9cff362116482b73a64?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Yan", "link": "https://stackoverflow.com/users/5484529/andrew-yan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1447585841, "creation_date": 1447584018, "last_edit_date": 1447584544, "question_id": 33718787, "link": "https://stackoverflow.com/questions/33718787/push-big-file-correct-and-improvement", "title": "Push, big file. Correct and improvement", "body": "<p><code>dummy.pepmasses</code></p>\n\n<pre><code>YCL049C                   1     511.2465  0 0 MFSK\nYCL049C                   2    4422.3098  0 0 YLVTASSLFVA\nYCL049C                   3    1131.5600  0 0 DFYQVSFVK\nYCL049C                   4    1911.0213  0 0 SIAPAIVNSSVIFHDVSR\nYCL049C                   5     774.4059  0 0 GVAMGNVK\nYCL049C                   6     261.1437  0 0 SR\n</code></pre>\n\n\n\n<pre><code>my $dummyfile = \"dummy.pepmasses\"; #filename defined here\nmy @mzco = ();\n\nopen (IFILE, $dummyfile) or die \"unable to open file $dummyfile\\n \";\nwhile (my $line = $dummyfile){\n    #read each line in file\n    chomp $line;\n    my $mz_value = (split/\\s+/,$line)[3]; #pick column 3rd at every line \n    $mz_value = join \"\\n\"; # add \"\\n\" for data\n    push (@mzco,$mz_value);  #add them all in one array @mzco\n}\nprint \"@mzco\";\nclose IFILE;\n</code></pre>\n\n<p>There should be better way to express this one. How can it be ?\nI want to pick up the third column and push it into an array. Are there better methods?</p>\n"}, {"tags": ["perl", "hash", "taint"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1447582939, "post_id": 33718328, "comment_id": 55207399, "body": "I agree with you. Modifying the hash value in place (or, in this case, leaving it unchanged) seems to be equivalent to deleting it and reinserting. Can you say where you have seen this practice?"}, {"owner": {"reputation": 3252, "user_id": 771480, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f759fe160ddd3aa8acf55def94c2d872?s=128&d=identicon&r=PG", "display_name": "Nemo", "link": "https://stackoverflow.com/users/771480/nemo"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447583247, "post_id": 33718328, "comment_id": 55207491, "body": "@Borodin I saw it <a href=\"https://metacpan.org/source/JSWARTZ/Mason-2.24/lib/Mason/Compilation.pm#L105\" rel=\"nofollow noreferrer\">metacpan.org/source/JSWARTZ/Mason-2.24/lib/Mason/&hellip;</a>"}, {"owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "edited": false, "score": 1, "creation_date": 1447600777, "post_id": 33718328, "comment_id": 55212366, "body": "It can make a difference in case of tie()s, but I see none here.  Dunno.  I&#39;d never think of doing this."}], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 3, "last_activity_date": 1598206173, "last_edit_date": 1598206173, "creation_date": 1454886168, "answer_id": 35260262, "question_id": 33718328, "link": "https://stackoverflow.com/questions/33718328/untainting-a-blessed-hash-member-with-or-without-the-delete/35260262#35260262", "title": "Untainting a blessed hash member with or without the delete", "body": "<p>With a normal hash deleting the value and reinserting will give the same result as modifying it in place.</p>\n<p>The <a href=\"https://github.com/jonswar/perl-mason/commit/74c8dc990d92497f43c15e09c1ae11d92ef237a7\" rel=\"nofollow noreferrer\">commit</a> does not give any information about why he deletes it just that he copies the functionality from Mason 1. But if you look at the source of <a href=\"https://metacpan.org/source/DROLSKY/HTML-Mason-1.56/lib/HTML/Mason/Lexer.pm\" rel=\"nofollow noreferrer\">HTML::Mason::Lexer</a>, you will find this comment:</p>\n<blockquote>\n<p>We need to untaint the component or else the regexes will fail\nto a Perl bug.  The delete is important because we need to\ncreate an entirely new scalar, not just modify the existing one.</p>\n</blockquote>\n<pre><code>($current-&gt;{comp_source}) = (delete $current-&gt;{comp_source}) =~ /(.*)/s if taint_is_on;\n</code></pre>\n<p>So the reason of doing it this way is to have a new scalar, although he does not do that for the other place where he is untainting: <a href=\"https://metacpan.org/source/JSWARTZ/Mason-2.24/lib/Mason/Interp.pm\" rel=\"nofollow noreferrer\">Mason::Interp</a>, so my guess is an earlier Perl bug, when untainting.</p>\n<p>So the difference is that with <code>delete</code> will give you a new scalar, although this will seldom have a practical application. (Delete and insert is also a slower operation of course.)</p>\n<pre><code>use strict;\nmy $hash-&gt;{test} = 'test';\nprint \\($hash-&gt;{test}),&quot;\\n&quot;;\n( $hash-&gt;{test} ) = ( ( $hash-&gt;{test} ) =~ /(.*)/s );\nprint \\($hash-&gt;{test}),&quot;\\n&quot;;\n( $hash-&gt;{test} ) = ( ( delete $hash-&gt;{test} ) =~ /(.*)/s );\nprint \\($hash-&gt;{test}),&quot;\\n&quot;;\n</code></pre>\n<p>gives</p>\n<pre><code>SCALAR(0x7f84d10047e8)\nSCALAR(0x7f84d10047e8)\nSCALAR(0x7f84d1029230)\n</code></pre>\n"}], "owner": {"reputation": 3252, "user_id": 771480, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f759fe160ddd3aa8acf55def94c2d872?s=128&d=identicon&r=PG", "display_name": "Nemo", "link": "https://stackoverflow.com/users/771480/nemo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 2, "accepted_answer_id": 35260262, "answer_count": 1, "score": 12, "last_activity_date": 1598206173, "creation_date": 1447580839, "last_edit_date": 1447582744, "question_id": 33718328, "link": "https://stackoverflow.com/questions/33718328/untainting-a-blessed-hash-member-with-or-without-the-delete", "title": "Untainting a blessed hash member with or without the delete", "body": "<p>I saw this line of code in some sources</p>\n\n<pre><code>( $self-&gt;{arg} ) = ( ( delete $self-&gt;{arg} ) =~ /(.*)/s ) if ${^TAINT}; \n</code></pre>\n\n<p>I understand the untainting. I also known <a href=\"http://perldoc.perl.org/functions/delete.html\" rel=\"noreferrer\">delete</a></p>\n\n<p>My question is, in what circumstances is it necessary or preferred to use the <code>delete</code>,  and isn't it enough to use the simpler</p>\n\n<pre><code>( $self-&gt;{arg} ) = ( ( $self-&gt;{arg} ) =~ /(.*)/s ) if ${^TAINT};\n</code></pre>\n\n<p>For example</p>\n\n<pre><code>#!/usr/bin/env perl -T\n\nuse 5.014;\nuse warnings;\n\npackage Some {\n    use Moose;\n    has 'arg' =&gt; (is =&gt; 'rw', isa =&gt; 'Str');\n    sub doit {\n        my $self = shift;\n        #( $self-&gt;{arg} ) = ( ( delete $self-&gt;{arg} ) =~ /(.*)/s ) if ${^TAINT};\n        ( $self-&gt;{arg} ) = ( ( $self-&gt;{arg} ) =~ /(.*)/s ) if ${^TAINT};\n    }\n};\n\nmy $some = Some-&gt;new( arg =&gt; 'some text' );\n$some-&gt;doit();\nsay $some-&gt;arg;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1447575743, "post_id": 33717720, "comment_id": 55205901, "body": "Please show your efforts first to solve your problem?"}, {"owner": {"reputation": 246, "user_id": 1692937, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a0780c4a05fa186b3f00a8ebc8ab9985?s=128&d=identicon&r=PG", "display_name": "alex.jordan", "link": "https://stackoverflow.com/users/1692937/alex-jordan"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447576654, "post_id": 33717720, "comment_id": 55206104, "body": "@AruneshSingh I&#39;ve been trying things like <code>perl -pi -e &#39;s&#47;(^\\S.{39})(.*\\n)^\\s{40}(.*\\n)&#47;$1$2$1$3&#47;g&#39; data.txt</code> but all that I try has no effect."}, {"owner": {"reputation": 246, "user_id": 1692937, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a0780c4a05fa186b3f00a8ebc8ab9985?s=128&d=identicon&r=PG", "display_name": "alex.jordan", "link": "https://stackoverflow.com/users/1692937/alex-jordan"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447576763, "post_id": 33717720, "comment_id": 55206125, "body": "If it&#39;s too much to work this out, what is the general topic in the world of regexp that I need to read up on, to handle multiple lines better?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447602585, "post_id": 33717720, "comment_id": 55212912, "body": "@alex.jordan It&#39;s not that it&#39;s too much work to help. It&#39;s that debugging questions (&quot;why doesn&#39;t this work?&quot;) need to include a specific problem and reproducible code. I think you&#39;ll find that people are very willing to help when your question contains those two things."}], "answers": [{"comments": [{"owner": {"reputation": 246, "user_id": 1692937, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a0780c4a05fa186b3f00a8ebc8ab9985?s=128&d=identicon&r=PG", "display_name": "alex.jordan", "link": "https://stackoverflow.com/users/1692937/alex-jordan"}, "edited": false, "score": 0, "creation_date": 1447577832, "post_id": 33717920, "comment_id": 55206299, "body": "Thanks, and also for the wisdom about regex. Looks like I don&#39;t have <code>Data::Dump</code>, but I&#39;ll try add it/find it in the morning."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 246, "user_id": 1692937, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a0780c4a05fa186b3f00a8ebc8ab9985?s=128&d=identicon&r=PG", "display_name": "alex.jordan", "link": "https://stackoverflow.com/users/1692937/alex-jordan"}, "edited": false, "score": 0, "creation_date": 1447578338, "post_id": 33717920, "comment_id": 55206375, "body": "@alex.jordan: It is a successor to <a href=\"http://metacpan.org/module/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a> written by <i>Gisle Aas</i>, the author of the excellent <a href=\"http://metacpan.org/module/LWP\" rel=\"nofollow noreferrer\">LWP</a> suite. I find it far preferable to its predecessor but it&#39;s not a core module so you will need to install it. I&#39;ve used it only to expose the data that my code has extracted, so you can <code>use Data::Dumper</code> and <code>print Dumper [ $curr_user, $data ]</code>, or just <code>print qq{&quot;$curr_user&quot;, &quot;$data&quot;\\n}</code> instead, but in your final program you will just go ahead and use those values instead of printing them"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1447577450, "creation_date": 1447577450, "answer_id": 33717920, "question_id": 33717720, "link": "https://stackoverflow.com/questions/33717720/copy-identification-data-to-next-lines-using-perl-regex/33717920#33717920", "title": "Copy identification data to next line(s) using perl regex", "body": "<p>It can be tempting to turn to regular expressions as the <em>magic bullet</em> that will solve all problems that \"normal\" programming cannot. However, they are not all-powerful and should be used carefully and in concert with Perl's standard syntax to provide solutions to situations for which they are well-suited. Understanding which situations those are comes with practice, but I don't believe that this is one of them</p>\n\n<p>It is simple to parse each line of data in a standard <code>while</code> loop. To get a user ID to use for those lines that don't provide one, you can simply declare a variable outside the loop that keeps track of the <em>last</em> non-blank user ID that has been encountered, and use that for those lines that start with blanks</p>\n\n<p>This program demonstrates the idea. I prefer <a href=\"http://perldoc.perl.org/functions/unpack.html\" rel=\"nofollow\"><code>unpack</code></a> for processing fixed-width fields, but you can do this with <code>substr</code> or a regex pattern if you prefer</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Data::Dump;\n\nmy $curr_user;\n\nwhile ( &lt;DATA&gt; ) {\n    my ($user, $data) = unpack 'A40 A*';\n    $curr_user = $user if $user;\n\n    dd [ $curr_user, $data ];\n}\n\n__DATA__\nUserID#1                                data from interaction 1\n                                        data from interaction 2\n                                        data from interaction 3\nUserID#2                                data from interaction 1\n                                        data from interaction 2\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\"UserID#1\", \"data from interaction 1\"]\n[\"UserID#1\", \"data from interaction 2\"]\n[\"UserID#1\", \"data from interaction 3\"]\n[\"UserID#2\", \"data from interaction 1\"]\n[\"UserID#2\", \"data from interaction 2\"]\n</code></pre>\n"}], "owner": {"reputation": 246, "user_id": 1692937, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a0780c4a05fa186b3f00a8ebc8ab9985?s=128&d=identicon&r=PG", "display_name": "alex.jordan", "link": "https://stackoverflow.com/users/1692937/alex-jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 33717920, "answer_count": 1, "score": -2, "last_activity_date": 1447803513, "creation_date": 1447575380, "last_edit_date": 1447803513, "question_id": 33717720, "link": "https://stackoverflow.com/questions/33717720/copy-identification-data-to-next-lines-using-perl-regex", "title": "Copy identification data to next line(s) using perl regex", "body": "<p>I have many large data files in text format where rows are like:</p>\n\n<pre><code>UserID#1                                data from interaction 1\n                                        data from interaction 2\n                                        data from interaction 3\nUserID#2                                data from interaction 1\n                                        data from interaction 2\n</code></pre>\n\n<p>and so on. Each user ID may have from 1 or more rows associated to it. The data always starts on character 41. It's hard for me to process this data algorithmically without first getting it to look like:</p>\n\n<pre><code>UserID#1                                data from interaction 1\nUserID#1                                data from interaction 2\nUserID#1                                data from interaction 3\nUserID#2                                data from interaction 1\nUserID#2                                data from interaction 2\n</code></pre>\n\n<p>Is there some nice perl regex I could execute to just make this happen? I've been reading about capture groups, but I just can't get this to work. I want to capture the first 40 characters of a line that doesn't begin with white space, and then use that to replace the subsequent lines' first 40 characters until reaching a line that also does not begin with white space. And then repeat.</p>\n\n<hr>\n\n<p>Update: Ultimately, one of the regex expressions I was trying worked. But I learned regex in vim, and I see now that which characters need escaping, and how to reference capture groups, is not the same in vim as it is with perl.</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1447572194, "post_id": 33717281, "comment_id": 55205193, "body": "The error message thrown by Perl very specifically identifies the problem."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 2, "creation_date": 1447579408, "post_id": 33717281, "comment_id": 55206608, "body": "(1) What error message(s) do you get? You should be able to find them in your web server&#39;s error log. (2) Interpolating values from the web form directly into your SQL string is a HUGE security hole. Use SQL placeholders instead. See <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">bobby-tables.com</a> for more details about both the problem and how to fix it."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1447580655, "post_id": 33717281, "comment_id": 55206868, "body": "<b>Danger</b>: Your code is vulnerable to SQL injection. Use placeholders in your prepared statements."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1447580773, "post_id": 33717281, "comment_id": 55206901, "body": "@Quentin: That has been covered in the comment from <i>Dave Sherohman</i>, and in my solution"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1447580465, "last_edit_date": 1447580465, "creation_date": 1447579788, "answer_id": 33718188, "question_id": 33717281, "link": "https://stackoverflow.com/questions/33717281/unable-to-insert-into-mysql-using-perl/33718188#33718188", "title": "Unable to insert into MySQL using Perl", "body": "<p>There is no DBI method <code>fetchrow</code>. In this instance it looks like you mean <code>fetchrow_array</code></p>\n\n<p>In addition, please take note of these points</p>\n\n<ul>\n<li><p>On Windows systems, a shebang line is ignored except that any command switches specified there will be honoured. The path to the perl compiler / interpreter must be defined elsewhere</p></li>\n<li><p>You <em>must always</em></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n</code></pre>\n\n<p>at the top of every Perl program you write, and declare every variable as close as possible to its first point of use</p></li>\n<li><p>You should use <em>placeholders</em> instead of interpolating parameters into SQL strings. Like this, for example</p>\n\n<pre><code>my $qh = $dbh-&gt;prepare( 'INSERT INTO student (name, age) VALUES (?, ?)' );\n$qh-&gt;execute($name, $age);\n</code></pre></li>\n<li><p>It is wrong to call <code>finish</code>. <a href=\"https://metacpan.org/pod/DBI#finish\" rel=\"nofollow\">The documentation</a> has this</p>\n\n<blockquote>\n  <p>Adding calls to \"finish\" after [a] loop that fetches all rows is a common\n  mistake, don't do it, it can mask genuine problems like uncaught fetch\n  errors.</p>\n</blockquote></li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 5563683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3624d6e083f31f3182dc472a9cd57b?s=128&d=identicon&r=PG&f=1", "display_name": "NeonBlue", "link": "https://stackoverflow.com/users/5563683/neonblue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447580465, "creation_date": 1447570990, "last_edit_date": 1447580296, "question_id": 33717281, "link": "https://stackoverflow.com/questions/33717281/unable-to-insert-into-mysql-using-perl", "title": "Unable to insert into MySQL using Perl", "body": "<p>I'm new to Perl and I have been trying this simple program to insert values into a database. I have two files, an HTML file that sends the form values to the Perl file. But I'm not able to perform any insertion or retrieval; I always get an empty page as the output.</p>\n\n<p>HTML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\"\n\"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;8th program&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form action=\"http://localhost:81/cgi-bin/8.pl\" method=\"post\"&gt;\n            NAME:&lt;input type=\"text\" name=\"name\"&gt;&lt;br&gt;\n            AGE:&lt;input type=\"text\" name=\"age\"&gt;&lt;br&gt;\n            &lt;input type=\"submit\" value=\"submit\"&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n\n<p>Perl file:</p>\n\n<pre><code>#!\"C:\\xampp\\perl\\bin\\perl.exe\"\n\nprint \"Content-Type:text/html\\n\\n\";\n\nuse CGI ':standard';\nuse DBI;\n\nprint \"&lt;html&gt;&lt;head&gt;&lt;title&gt;insert&lt;/title&gt;&lt;/head&gt;\";\n\n$dbh  = DBI-&gt;connect( \"DBI:mysql:test\", \"root\", \" \" );\n\n$name = param( \"name\" );\n$age  = param( \"age\" );\n\n$qh   = $dbh-&gt;prepare( \"insert into student values('$name','$age')\" );\n$qh-&gt;execute();\n\n$qh = $dbh-&gt;prepare( \"select * from student\" );\n$qh-&gt;execute();\n\nprint \"&lt;table border size=1&gt;\n       &lt;tr&gt;\n       &lt;th&gt;Name&lt;/th&gt;\n       &lt;th&gt;Age&lt;/th&gt;\n       &lt;/tr&gt;\";\n\nwhile ( ( $name, $age ) = $qh-&gt;fetchrow() ) {\n    print \"&lt;tr&gt;&lt;td&gt;$name&lt;/td&gt;\n &lt;td&gt;$age&lt;/td&gt;&lt;/tr&gt;\";\n}\n\nprint \"&lt;/table&gt;\";\n\n$qh-&gt;finish();\n\n$dbh-&gt;disconnect();\n\nprint \"&lt;/html&gt;\";\n</code></pre>\n\n<p>Please help me with this.</p>\n"}, {"tags": ["macos", "perl", "gmp", "osx-elcapitan"], "comments": [{"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1447681014, "post_id": 33717268, "comment_id": 55241666, "body": "Most likely, /usr/local isn&#39;t in the default list of places the compiler looks for stuff in. Use the <code>look</code> function at the cpan prompt to get a shell with the unpacked module, and see if the documentation says anything about giving switches to <code>Makefile.PL</code> to tell it where it can find gmp."}, {"owner": {"reputation": 386, "user_id": 1492265, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8adba195a6df0d5499b9f0992acf4c8c?s=128&d=identicon&r=PG", "display_name": "Jordan Reed", "link": "https://stackoverflow.com/users/1492265/jordan-reed"}, "reply_to_user": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1447980218, "post_id": 33717268, "comment_id": 55399891, "body": "Okay - I was able to add &#39;debug&#39; &#39;true&#39; for the line that&#39;s failing in Makefile.PL - but still not fixing it for me."}, {"owner": {"reputation": 386, "user_id": 1492265, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8adba195a6df0d5499b9f0992acf4c8c?s=128&d=identicon&r=PG", "display_name": "Jordan Reed", "link": "https://stackoverflow.com/users/1492265/jordan-reed"}, "reply_to_user": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1447980229, "post_id": 33717268, "comment_id": 55399897, "body": "Nothing in the INSTALL or README about how to deal with this."}], "answers": [{"comments": [{"owner": {"reputation": 2870, "user_id": 992988, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cde0858a920d303eab7e8d8cb5a30194?s=128&d=identicon&r=PG", "display_name": "vektor", "link": "https://stackoverflow.com/users/992988/vektor"}, "edited": false, "score": 1, "creation_date": 1517981390, "post_id": 48656506, "comment_id": 84310893, "body": "This seems irrelevant as the original question is about mac OS."}], "tags": [], "owner": {"reputation": 1, "user_id": 9325589, "user_type": "registered", "profile_image": "https://graph.facebook.com/1773111569377442/picture?type=large", "display_name": "Novri Yandhi", "link": "https://stackoverflow.com/users/9325589/novri-yandhi"}, "is_accepted": false, "score": -1, "last_activity_date": 1517980841, "creation_date": 1517980841, "answer_id": 48656506, "question_id": 33717268, "link": "https://stackoverflow.com/questions/33717268/install-perl-mathgmp-on-osx/48656506#48656506", "title": "Install Perl Math::GMP on OSX", "body": "<p>On Centos :</p>\n\n<p>Just install this : yum install gmp* -y</p>\n\n<p>Good Luck :)</p>\n"}], "owner": {"reputation": 386, "user_id": 1492265, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8adba195a6df0d5499b9f0992acf4c8c?s=128&d=identicon&r=PG", "display_name": "Jordan Reed", "link": "https://stackoverflow.com/users/1492265/jordan-reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1000, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1517980841, "creation_date": 1447570866, "last_edit_date": 1447980160, "question_id": 33717268, "link": "https://stackoverflow.com/questions/33717268/install-perl-mathgmp-on-osx", "title": "Install Perl Math::GMP on OSX", "body": "<p>I am attempting to install the Perl package Math::GMP on OS X El Capitan.</p>\n\n<p>I had one computer where this worked without issue - but a second computer is running into the following problem:</p>\n\n<p>The Perl module Math::GMP requires the C library for GMP, so I have done a <code>brew install gmp</code></p>\n\n<p>This installed GMP including the following file:</p>\n\n<pre><code>/usr/local/include/gmp.h\n</code></pre>\n\n<p>But the package install still fails claiming I don't have gmp installed:</p>\n\n<pre><code>$ sudo perl -MCPAN -e shell\ncpan[1]&gt; install Math::GMP\nReading '/Users/chaosadmin/.cpan/Metadata'\nDatabase was generated on Sat, 14 Nov 2015 09:17:02 GMT\nRunning install for module 'Math::GMP'\nChecksum for /Users/me/.cpan/sources/authors/id/S/SH/SHLOMIF/Math-GMP-2.11.tar.gz ok\nScanning cache /Users/me/.cpan/build for sizes\n............................................................................DONE\n'YAML' not installed, will not store persistent state\nConfiguring S/SH/SHLOMIF/Math-GMP-2.11.tar.gz with Makefile.PL\nCan't link/include C library 'gmp.h', 'gmp', aborting.\nNo 'Makefile' created  SHLOMIF/Math-GMP-2.11.tar.gz\n  /usr/bin/perl Makefile.PL -- NOT OK\nFailed during this command:\n SHLOMIF/Math-GMP-2.11.tar.gz                 : writemakefile NO -- No 'Makefile' created\n</code></pre>\n\n<p>The obvious line is:\n<code>Can't link/include C library 'gmp.h', 'gmp', aborting.</code></p>\n\n<p>But I definitely have \"gmp.h\" installed in <code>/usr/local/include/gmp.h</code>\nI'm unsure why it's failing to install on this OS X El Capitan machine (it worked fine on my other one).</p>\n\n<p>In the CPAN shell I used:</p>\n\n<pre><code>look Math::GMP\n</code></pre>\n\n<p>And updated the Makefile.PL to debug:</p>\n\n<pre><code>check_lib_or_exit(\n    header =&gt; 'gmp.h',\n    lib =&gt; 'gmp',\n    debug =&gt; 'true'\n);\n</code></pre>\n\n<p>Which displayed the following error when running <code>perl Makefile.PL</code></p>\n\n<pre><code># /usr/bin/cc -arch i386 -arch x86_64 -g -pipe -fno-common -DPERL_DARWIN -fno-strict-aliasing -fstack-protector -arch i386 -arch x86_64 -fstack-protector assertlibD4RJzZEa.c -o assertlibwGFzIVsM\nassertlibD4RJzZEa.c:1:10: fatal error: 'gmp.h' file not found\n</code></pre>\n\n<h1>include </h1>\n"}, {"tags": ["oracle", "apache", "perl", "cgi", "dbd"], "answers": [{"comments": [{"owner": {"reputation": 1717, "user_id": 1158142, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/15OA1.jpg?s=128&g=1", "display_name": "ipohfly", "link": "https://stackoverflow.com/users/1158142/ipohfly"}, "edited": false, "score": 0, "creation_date": 1447646728, "post_id": 33721665, "comment_id": 55225878, "body": "thanks. it seems the issue is after adding the <code>oracle.conf</code> into the ldd path i will need to execute the <code>ldconfig</code> command to refresh it. your hints to run <code>ldd</code> provides the insight, thanks."}], "tags": [], "owner": {"reputation": 26, "user_id": 4458185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91257141a1eb80d0729174fb32573ba3?s=128&d=identicon&r=PG&f=1", "display_name": "tprocter", "link": "https://stackoverflow.com/users/4458185/tprocter"}, "is_accepted": true, "score": 0, "last_activity_date": 1447602950, "creation_date": 1447602950, "answer_id": 33721665, "question_id": 33716336, "link": "https://stackoverflow.com/questions/33716336/error-querying-oracle-database-from-cgi-perl-script/33721665#33721665", "title": "Error querying Oracle database from CGI Perl script", "body": "<p>You've covered the basics already which is good: make sure the libraries exist, make sure your program has read/execute permissions, and setting environment variables for ORACLE_HOME and LD_LIBRARY_PATH.</p>\n\n<p>You many need to check the dependencies recursively.</p>\n\n<pre><code>ldd /u02/system/perl/usr/local/lib64/perl5/auto/DBD/Oracle/Oracle.so\n</code></pre>\n\n<p>should show you any dependencies of the .so that can't be loaded. DBD::Oracle is also version sensitive to the Oracle client. If the version or location of the Oracle client has changed (or when all else fails), you may need to recompile DBD::Oracle.</p>\n"}], "owner": {"reputation": 1717, "user_id": 1158142, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/15OA1.jpg?s=128&g=1", "display_name": "ipohfly", "link": "https://stackoverflow.com/users/1158142/ipohfly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 33721665, "answer_count": 1, "score": 0, "last_activity_date": 1447602950, "creation_date": 1447560872, "question_id": 33716336, "link": "https://stackoverflow.com/questions/33716336/error-querying-oracle-database-from-cgi-perl-script", "title": "Error querying Oracle database from CGI Perl script", "body": "<p>I have a CGI Perl script that will run a select statement from a Oracle Database to get records. This scripts runs on Apache with cgi-bin linked. It was running fine.</p>\n\n<p>Due to failover we moved the hard disk to the backup server with similar setups. When we run the script however, the following error is shown:</p>\n\n<pre><code>install_driver(Oracle) failed: Can't load '/u02/system/perl/usr/local/lib64/perl5/auto/DBD/Oracle/Oracle.so' for module DBD::Oracle: libclntsh.so.11.1: cannot open shared object file: No such file or directory at /u02/system/perl/usr/lib64/perl5/DynaLoader.pm line 200.\n</code></pre>\n\n<p>I had checked my <code>ORACLE_HOME</code> and <code>LD_LIBRARY_PATH</code> variables and they both pointing to the correct oracle client. Also try <code>locate libclntsh.so.11.1</code> and managed to find the file in the correct directory, with permission granted.</p>\n\n<p>Also added a <code>oracle.conf</code> file that has the path to oracle lib directory in <code>/etc/ld.so.conf.d</code> </p>\n\n<p>All these and still it's showing the same error. Am running out of ideas....</p>\n\n<p>Any pointers or suggestion are appreciated. Thank you.</p>\n"}, {"tags": ["arrays", "regex", "string", "perl"], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 4816093, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/SVtg6.png?s=128&g=1", "display_name": "cachemoi", "link": "https://stackoverflow.com/users/4816093/cachemoi"}, "edited": false, "score": 0, "creation_date": 1447539515, "post_id": 33713796, "comment_id": 55199023, "body": "Thanks! I thought there would be an easier way of doing this."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1447537775, "creation_date": 1447537775, "answer_id": 33713796, "question_id": 33713575, "link": "https://stackoverflow.com/questions/33713575/how-to-search-for-overlapping-matches-for-a-regex-pattern-within-a-string/33713796#33713796", "title": "How to search for overlapping matches for a regex pattern within a string", "body": "<p>I don't believe it's possible to create a single regex pattern that will match all such substrings, because you're asking for <em>both</em> a greedy and a non-greedy match at the same time, and everything else in-between</p>\n\n<p>I suggest you store all possible start and end positions of these substrings and use a double loop to combine all start positions with all end positions</p>\n\n<p>This program demonstrates</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $line = 'MZEFSRGGRMEAZFE*MQZEFFMAEZF*';\n\nmy @orf;\n\n{\n    my (@s, @e);\n    push @s, $-[0] while $line =~/M/g;\n    push @e, $+[0] while $line =~/\\*/g;\n\n    for my $s ( @s ) {\n        for my $e ( @e ) {\n            push @orf, substr $line, $s, $e-$s if $e &gt; $s;\n        }\n    }\n}\n\nsay for @orf;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>MZEFSRGGRMEAZFE*\nMZEFSRGGRMEAZFE*MQZEFFMAEZF*\nMEAZFE*\nMEAZFE*MQZEFFMAEZF*\nMQZEFFMAEZF*\nMAEZF*\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1447571570, "post_id": 33714528, "comment_id": 55205088, "body": "That should really be <code>local our @match;</code>, or it will fail if placed in a subroutine that&#39;s called more than once."}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 4, "last_activity_date": 1447616663, "last_edit_date": 1447616663, "creation_date": 1447543145, "answer_id": 33714528, "question_id": 33713575, "link": "https://stackoverflow.com/questions/33713575/how-to-search-for-overlapping-matches-for-a-regex-pattern-within-a-string/33714528#33714528", "title": "How to search for overlapping matches for a regex pattern within a string", "body": "<p>Can use <a href=\"http://perldoc.perl.org/perlretut.html#A-bit-of-magic%3a-executing-Perl-code-in-a-regular-expression\" rel=\"nofollow\"><code>code within re</code></a> and <a href=\"http://perldoc.perl.org/perlretut.html#Backtracking-control-verbs\" rel=\"nofollow\"><code>Backtracking control verbs</code></a> for a little magic:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $line = \"MZEFSRGGRMEAZFE*MQZEFFMAEZF*\";\n\nlocal our @match;\n\n$line =~ m/(M.*\\*)(?{ push @match, $1 })(*FAIL)/;\n\nuse Data::Dump;\n\ndd @match;\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>(\n  \"MZEFSRGGRMEAZFE*MQZEFFMAEZF*\",\n  \"MZEFSRGGRMEAZFE*\",\n  \"MEAZFE*MQZEFFMAEZF*\",\n  \"MEAZFE*\",\n  \"MQZEFFMAEZF*\",\n  \"MAEZF*\",\n)\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 4816093, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/SVtg6.png?s=128&g=1", "display_name": "cachemoi", "link": "https://stackoverflow.com/users/4816093/cachemoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "accepted_answer_id": 33714528, "answer_count": 2, "score": 4, "last_activity_date": 1447616663, "creation_date": 1447536441, "last_edit_date": 1447536910, "question_id": 33713575, "link": "https://stackoverflow.com/questions/33713575/how-to-search-for-overlapping-matches-for-a-regex-pattern-within-a-string", "title": "How to search for overlapping matches for a regex pattern within a string", "body": "<p>I have this string</p>\n\n<pre><code>my $line = \"MZEFSRGGRMEAZFE*MQZEFFMAEZF*\"\n</code></pre>\n\n<p>and I want to find every substring starting with <code>M</code> and ending with <code>*</code> and add it to an array. This means that the above string would give me 6 elements in my array. </p>\n\n<p>I have this code</p>\n\n<pre><code>foreach ( $line =~ m/M.*?\\*/g ) {\n    push @ORF, $_;\n}\n</code></pre>\n\n<p>but it only gives me two elements in my array since it ignores overlapping strings.</p>\n\n<p>Is there any way to get all matches? I tried googling but could not find an answer.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1447536676, "post_id": 33713567, "comment_id": 55198139, "body": "Use a lookahead in order not to consume the second <code>!</code>: <code>($text =~ &#47;!(.)(?=!)&#47;g);</code>. However, your code outputs <code>a</code> and <code>c</code>, not only <code>a</code>."}, {"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 0, "creation_date": 1447536795, "post_id": 33713567, "comment_id": 55198160, "body": "Why not just do <code>my @matches = split &quot;!&quot;, &quot;!a!b!c!&quot;;</code>"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 0, "creation_date": 1447537091, "post_id": 33713567, "comment_id": 55198238, "body": "@hwnd this was just an abstract problem in trying to better understand captures, but your approach is useful as well thanks"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1447537102, "post_id": 33713567, "comment_id": 55198240, "body": "@stribizhev thank you!"}, {"owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "edited": false, "score": 1, "creation_date": 1447545168, "post_id": 33713567, "comment_id": 55200451, "body": "I would expect it to output &quot;a\\nc\\n&quot;.  And testing here, that&#39;s what I get.  Is that really the code you&#39;re running, and are you really not getting the &quot;c&quot;?  If so: What version of perl are you using, and how are you running this code?"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "edited": false, "score": 0, "creation_date": 1447608201, "post_id": 33713567, "comment_id": 55214773, "body": "@TheSidhekin you&#39;re right, it does output &quot;a\\nc\\n&quot;. I&#39;ve edited the OP"}], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1447537728, "last_edit_date": 1447537728, "creation_date": 1447537369, "answer_id": 33713730, "question_id": 33713567, "link": "https://stackoverflow.com/questions/33713567/perl-regex-capture-into-array/33713730#33713730", "title": "Perl Regex Capture Into Array", "body": "<p>You need to use a look-ahead in order not to consume the second <code>!</code> and keep it for the next regex engine iteration:</p>\n\n<pre><code>/!(.)(?=!)/g\n</code></pre>\n\n<p>First, <code>!</code> is matched, then any symbol but a newline that is right before a <code>!</code> that is not consumed, the regex engine index stays right before it. So, the next match can start with this <code>!</code>.</p>\n\n<p>Updated code:</p>\n\n<pre><code>my $text = \"!a!b!c!\";\nmy @captures = ($text =~ /!(.)(?=!)/g);\nprint \"$_\\n\" foreach @captures;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a\nb\nc\n</code></pre>\n\n<p>Splitting with <code>!</code> can turn out a more effecient alternative in the currently posted scenario:</p>\n\n<pre><code>my $text = \"!a!b!c!\";\nmy @matches = grep /\\S/, split \"!\", $text;\nprint \"$_\\n\" foreach @matches;\n</code></pre>\n\n<p>Note that <code>grep /\\S/</code> will remove empty or whitespace-only elements from the array obtained with <code>split</code>.</p>\n"}], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 33713730, "answer_count": 1, "score": 1, "last_activity_date": 1447608116, "creation_date": 1447536409, "last_edit_date": 1447608116, "question_id": 33713567, "link": "https://stackoverflow.com/questions/33713567/perl-regex-capture-into-array", "title": "Perl Regex Capture Into Array", "body": "<p>Why does this code:</p>\n\n<pre><code>my $text = \"!a!b!c!\";\nmy @captures = ($text =~ /!(.)!/g);\nprint \"$_\\n\" foreach @captures;\n</code></pre>\n\n<p>output only</p>\n\n<pre><code>a\nc\n</code></pre>\n\n<p>?</p>\n\n<p>Expected output:</p>\n\n<pre><code>a\nb\nc\n</code></pre>\n\n<p>How can I capture all of them?</p>\n"}, {"tags": ["linux", "perl", "encryption"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1447535692, "post_id": 33713006, "comment_id": 55197863, "body": "The conventional way that Linux command-line utilities deal with this issue is to allow a field of just two hyphens <code>--</code> to indicate that there are no more options in the command. I can&#39;t see any reference to this in the documentation for <code>encfsctl</code>, but have you tried <code>encfsctl encode --extpass=&quot;cat cryptkey&quot; -- &#47;rootdir&#47; -123</code>? If it is a Perl program then this will certainly work"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1447536084, "post_id": 33713006, "comment_id": 55197974, "body": "Another workaround is to prepend a directory to the filename, most trivially as <code>.&#47;-123</code>"}, {"owner": {"reputation": 51, "user_id": 5109001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06c5b8d2557230830611a3d32bbc0f2?s=128&d=identicon&r=PG&f=1", "display_name": "piece", "link": "https://stackoverflow.com/users/5109001/piece"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447536163, "post_id": 33713006, "comment_id": 55197996, "body": "thank you @Borodin, this works. i&#39;d mark that as my answer, but it seems i can&#39;t mark comments as answers."}], "owner": {"reputation": 51, "user_id": 5109001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06c5b8d2557230830611a3d32bbc0f2?s=128&d=identicon&r=PG&f=1", "display_name": "piece", "link": "https://stackoverflow.com/users/5109001/piece"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1447536180, "answer_count": 0, "score": 1, "last_activity_date": 1447532981, "creation_date": 1447532981, "question_id": 33713006, "link": "https://stackoverflow.com/questions/33713006/encoding-filenames-with-encfsctl-which-begin-with-a", "closed_reason": "Duplicate", "title": "Encoding filenames with encfsctl which begin with a &quot;-&quot;", "body": "<p>I got a problem with encfsctl encoding a filename starting with a \"-\" via commandline.\nApparently encfsctl considers the filename as an option.</p>\n\n<p>Example</p>\n\n<pre><code>encfsctl encode --extpass=\"cat cryptkey\" /rootdir/ \"-123\"\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>encode: invalid option -- '1'\n16:49:51 (encfsctl.cpp:250) getopt error: 63\nencode: invalid option -- '2'\n16:49:51 (encfsctl.cpp:250) getopt error: 63\nencode: invalid option -- '3'\n16:49:51 (encfsctl.cpp:250) getopt error: 63\n</code></pre>\n\n<p>After this encfsctl waits for input and does not terminate.\nOn the bash I could enter now \"-123\" to get the encoded output.\nHowever I need to call the command from a more complex perl script.</p>\n\n<p>Anyone got an idea how to fix that?</p>\n"}, {"tags": ["python", "perl", "encryption", "cryptography", "blowfish"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447525224, "post_id": 33710997, "comment_id": 55194761, "body": "I&#39;m sorry you didn&#39;t like my edit, but remember that the primary purpose of your question and any solutions you may be offered is to help other people with a similar problem, which means the subject line should help to guide those people towards this page."}, {"owner": {"reputation": 35, "user_id": 5540257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a26e8fe52c02bfbd16aef7e5071a87?s=128&d=identicon&r=PG&f=1", "display_name": "G&#246;ran Str&#246;m", "link": "https://stackoverflow.com/users/5540257/g%c3%b6ran-str%c3%b6m"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447546367, "post_id": 33710997, "comment_id": 55200725, "body": "Oops! I am new here and did not know other persons could edit your posts, so i thought i had done something and tried to rollback. Now that i know, you are most welcome to re-edit if you like ;)"}], "answers": [{"tags": [], "owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "is_accepted": true, "score": 2, "last_activity_date": 1447522304, "creation_date": 1447522304, "answer_id": 33711251, "question_id": 33710997, "link": "https://stackoverflow.com/questions/33710997/using-python-pycrypto-with-perl-cryptcbc/33711251#33711251", "title": "Using Python PyCrypto with Perl Crypt::CBC", "body": "<p><code>Crypt::CBC</code> claims OpenSSL compatibility. This means that it performs an OpenSSL specific <code>BytesToKey</code> password-based key derivation function (PBKDF). During this derivation the IV is calculated as well. So the key you've provided for <code>Crypt::CBC</code> is actually treated as a password.</p>\n\n<p>You have to lookup an implementation of <a href=\"https://www.openssl.org/docs/manmaster/crypto/EVP_BytesToKey.html\" rel=\"nofollow\"><code>EVP_BytesToKey</code></a> and integrate that into your program. You can start with this code <a href=\"https://gist.github.com/gsakkis/4546068\" rel=\"nofollow\">from GitHub</a>:</p>\n\n<pre><code>def bytes_to_key(data, salt=\"12345678\"):\n    # Simplified version of M2Crypto.m2.bytes_to_key(). Based on:\n    # https://github.com/ajmirsky/M2Crypto/blob/master/M2Crypto/EVP.py#L105\n    # http://stackoverflow.com/questions/8008253/c-sharp-version-of-openssl-evp-bytestokey-method\n    assert len(salt) == 8, len(salt)\n    data += salt\n    key = md5(data).digest()\n    key += md5(key + data).digest()\n    return key\n</code></pre>\n\n<p>Then take the first bytes for the key, and the next 8 bytes for the IV. But note the following statement for Crypt:CBC:</p>\n\n<blockquote>\n  <p>If -keysize is not specified, then Crypt::CBC will use the maximum length Blowfish key size of 56 bytes (448 bits).</p>\n</blockquote>\n\n<p>So you may need a few more <code>key += md5(key + data).digest()</code> calls as the md5 output is only 128 bits.</p>\n"}], "owner": {"reputation": 35, "user_id": 5540257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a26e8fe52c02bfbd16aef7e5071a87?s=128&d=identicon&r=PG&f=1", "display_name": "G&#246;ran Str&#246;m", "link": "https://stackoverflow.com/users/5540257/g%c3%b6ran-str%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 33711251, "answer_count": 1, "score": 1, "last_activity_date": 1447556456, "creation_date": 1447520675, "last_edit_date": 1447556456, "question_id": 33710997, "link": "https://stackoverflow.com/questions/33710997/using-python-pycrypto-with-perl-cryptcbc", "title": "Using Python PyCrypto with Perl Crypt::CBC", "body": "<p>On one side I have a texts encrypted/decrypted with Perl's <a href=\"http://metacpan.org/module/Crypt::CBC\" rel=\"nofollow\"><code>Crypt::CBC</code></a> </p>\n\n<pre><code>my $key = 'key to the gates'; \nmy $cipher = Crypt::CBC-&gt;new(\n    -key    =&gt; $key,\n    -cipher =&gt; 'Blowfish',\n    -salt   =&gt; '12341234'  \n);\n</code></pre>\n\n<p>On the other side I have Python's <a href=\"https://www.dlitz.net/software/pycrypto/api/current/\" rel=\"nofollow\">PyCrypto</a> that I need to decode the data from Perl, but also send text that the Perl cipher can read given the encryption.</p>\n\n<p>I have the key from the Perl program, and encrypt_hex:ed passphrases from Perl sent to the Python system.</p>\n\n<p>But Python seems to absolutely want to have the IV to do its job</p>\n\n<pre><code>cipher = Blowfish.new( self.key, Blowfish.MODE_CBC, self.iv )\n        return hexlify(cipher.encrypt(raw))\n</code></pre>\n\n<p>However, the <code>Crypt::CBC</code> documnetation seems to indicate that the IV is there already</p>\n\n<blockquote>\n  <p>\"salt\" -- Combine the passphrase with an 8-byte random value to\n            generate both the block cipher key and the IV from the\n            provided passphrase. The salt will be appended to the\n            beginning of the data stream allowing decryption to\n            regenerate both the key and IV given the correct\n            passphrase.</p>\n</blockquote>\n\n<p>Is there any way to extract the IV from the key/passphrase via PyCrypto? Or does IV have to be sent separately in some way?</p>\n\n<p>This might be a naive question but I don't work with this every day.</p>\n\n<p>I know I can get the IV from the Perl side, but I really want to extract it on Python side if possible.</p>\n"}, {"tags": ["regex", "perl", "sqlmap"], "comments": [{"owner": {"reputation": 2501, "user_id": 1658536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d8ea98672a3b3e77403700124e66d3?s=128&d=identicon&r=PG", "display_name": "ahmad", "link": "https://stackoverflow.com/users/1658536/ahmad"}, "edited": false, "score": 1, "creation_date": 1447514198, "post_id": 33709830, "comment_id": 55191164, "body": "looks like there&#39;s a newline, try running $u through chomp"}, {"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "reply_to_user": {"reputation": 2501, "user_id": 1658536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d8ea98672a3b3e77403700124e66d3?s=128&d=identicon&r=PG", "display_name": "ahmad", "link": "https://stackoverflow.com/users/1658536/ahmad"}, "edited": false, "score": 0, "creation_date": 1447514342, "post_id": 33709830, "comment_id": 55191218, "body": "You are correct. A question if you don&#39;t mind: every time we run batch commands via PERL we get a command with a newline? Thank you so much for the answer."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1447514414, "post_id": 33709830, "comment_id": 55191236, "body": "No, only if the command outputs the newline."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1447515648, "post_id": 33709830, "comment_id": 55191675, "body": "<code>~&#47;Desktop&#47;results.txt</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "edited": false, "score": 0, "creation_date": 1447514548, "post_id": 33709885, "comment_id": 55191277, "body": "What is the difference between using a function or calling a batch to do it for us? I&#39;m looking for a technical point of view since i know the difference between the two in practice."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "edited": false, "score": 4, "creation_date": 1447514595, "post_id": 33709885, "comment_id": 55191290, "body": "@BrunoFrancisco: The function is usually faster, the code is cleaner, and you don&#39;t run into issues with newlines in unexpected places."}, {"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "edited": false, "score": 0, "creation_date": 1447514783, "post_id": 33709885, "comment_id": 55191366, "body": "Thank you for your time sir."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 7, "last_activity_date": 1447516692, "last_edit_date": 1447516692, "creation_date": 1447514289, "answer_id": 33709885, "question_id": 33709830, "link": "https://stackoverflow.com/questions/33709830/using-a-variable-to-fetch-the-username-and-it-breaks-in-two/33709885#33709885", "title": "Using a variable to fetch the username and it breaks in two", "body": "<p>Perl has a function to get the username, no need to call an external command:</p>\n\n<pre><code>my $u = getpwuid $&lt;;\n</code></pre>\n\n<p>Note that nothing guarantees the user's home will be in <code>/home/$u</code> (cf. the root's home: <code>/root</code>). <a href=\"http://p3rl.org/File::HomeDir\" rel=\"nofollow\">File::HomeDir</a> can help you. Or, use <code>~/</code> for the shell command.</p>\n"}], "owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447526009, "creation_date": 1447513941, "last_edit_date": 1447526009, "question_id": 33709830, "link": "https://stackoverflow.com/questions/33709830/using-a-variable-to-fetch-the-username-and-it-breaks-in-two", "title": "Using a variable to fetch the username and it breaks in two", "body": "<p>I'm writing a program which will use <a href=\"http://sqlmap.org/\" rel=\"nofollow\"><code>sqlmap</code></a> to do a simple scan and then use regex patterns to look for <em>critical</em> errors in my database.</p>\n\n<p>The problem is that I am storing the output of <code>sqlmap</code> in a text file. If I put that file in the root directory it's fine, but if I try to store it under the logged-in user's home directory then I get this error</p>\n\n<blockquote>\n<pre><code>sh1: cannot creat /home/user\nsh2: /Desktop/results.txt not found\n</code></pre>\n</blockquote>\n\n<p>Here is the code that is causing this error</p>\n\n<pre><code>$u = `id -u -n`;\nmy $com = `sqlmap -m $ARGV[0] &gt;&gt; /home/$u/Desktop/results.txt --batch`;\n</code></pre>\n\n<p>I don't understand why the variable <code>$u</code> is breaking the path <code>/home/$u/Desktop/results.txt</code> into two separate strings.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1447512395, "post_id": 33708694, "comment_id": 55190657, "body": "Thank you for your suggestion."}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1447515548, "post_id": 33708694, "comment_id": 55191637, "body": "is there a way output from foreach directory can write to individual file instead of append mode or can I write to single file for each directory execution ?. I&#39;ll be replacing the values written on that file on next time run. hence , I am not using the append mode. thank you"}, {"owner": {"reputation": 8276, "user_id": 3501958, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/weWwl.png?s=128&g=1", "display_name": "hata", "link": "https://stackoverflow.com/users/3501958/hata"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1447516202, "post_id": 33708694, "comment_id": 55191879, "body": "@organic &#39;&gt;&gt;&#39; is for example. You can do some process you want in the for-each (<code># processing here...</code>). Updated my answer."}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1447516798, "post_id": 33708694, "comment_id": 55192079, "body": "thanks. now, it spawn the process. however it seems it waiting  for children process to complete as it is writing to a single file. also,  it waits for few seconds and writes to file  as like single process. Not sure if I am missing anything. I&#39;ve removed that wait_for_children already."}, {"owner": {"reputation": 8276, "user_id": 3501958, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/weWwl.png?s=128&g=1", "display_name": "hata", "link": "https://stackoverflow.com/users/3501958/hata"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1447517671, "post_id": 33708694, "comment_id": 55192346, "body": "@organic Your perl is compiled as multi-thread? If so, there may remain some bottle neck of performance with OS or hardware (file access is rather heavy job), I don&#39;t know any more..."}, {"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1447518886, "post_id": 33708694, "comment_id": 55192734, "body": "Thank you for your suggestion so far. I&#39;ll debug the issue"}], "tags": [], "owner": {"reputation": 8276, "user_id": 3501958, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/weWwl.png?s=128&g=1", "display_name": "hata", "link": "https://stackoverflow.com/users/3501958/hata"}, "is_accepted": false, "score": 2, "last_activity_date": 1447516274, "last_edit_date": 1447516274, "creation_date": 1447506231, "answer_id": 33708694, "question_id": 33708220, "link": "https://stackoverflow.com/questions/33708220/how-to-spawn-process-multiple-directories-in-perl/33708694#33708694", "title": "How to spawn process multiple directories in perl", "body": "<p>You can use <a href=\"http://search.cpan.org/~yanick/Parallel-ForkManager/\" rel=\"nofollow\">Parallel::ForkManager</a> for such purpose.</p>\n\n<pre><code># spawn 8 processes at a time\nmy $parallelForkManager = new Parallel::ForkManager(8);\nforeach my $dir (@dirs) {\n    $parallelForkManager-&gt;start and next;\n\n    # processing here...\n\n    $parallelForkManager-&gt;finish;\n}\n$parallelForkManager-&gt;wait_all_children;\n</code></pre>\n\n<p>If you want to access to a single file from multiple processes, you may need exclusive access control over it.</p>\n\n<pre><code>open (FILE, '&gt;&gt;', $path);\nflock(FILE, LOCK_EX);\nprint FILE $data;\nclose FILE;\n</code></pre>\n\n<p>However, it seems that <code>flock</code> varies on different operating systems. Please look for other information sources about <code>flock</code> issue.</p>\n\n<hr>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>If you want to handle a file per directory open and write it in the for-each:</p>\n\n<pre><code>foreach my $dir (@dirs) {\n    $parallelForkManager-&gt;start and next;\n\n    # processing here...\n\n    open (FILE, '&gt;', \"$dir/$filename\");\n    print FILE $data;\n    close FILE;\n\n    $parallelForkManager-&gt;finish;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1447648142, "post_id": 33712307, "comment_id": 55226240, "body": "Thanks Sobrque for your hint."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1447528638, "creation_date": 1447528638, "answer_id": 33712307, "question_id": 33708220, "link": "https://stackoverflow.com/questions/33708220/how-to-spawn-process-multiple-directories-in-perl/33712307#33712307", "title": "How to spawn process multiple directories in perl", "body": "<p>You have an answer for how to do it, but I'll suggest it's not actually going to help much. Parallelism helps when you've got multiple CPUs and are able to use them parallel.</p>\n\n<p>However for directory traversal, you don't really gain very much by doing so - either it's already cached (and so there's no need) or it isn't and all you do is thrash your disks. </p>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1447528638, "creation_date": 1447502756, "question_id": 33708220, "link": "https://stackoverflow.com/questions/33708220/how-to-spawn-process-multiple-directories-in-perl", "title": "How to spawn process multiple directories in perl", "body": "<p>I have a set of directories parsing it in foreach and writing the each directories processing output to same file. I am trying to use this fork process method. however, it doesn't work properly and it writes one by one foreach directory process. </p>\n\n<p>Please suggest how to spawn the process individual directories either write into same file or different files. </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nmy $totalcount  = \"/tmp/count\";\nmy @dirs = qw(List of Dirs);\nopen(FL, \"&gt;\", \"$totalcount\");\n\nforeach my $dir (@dirs) {\n    my $pid;\n    next if $pid = fork;    \n    die \"fork failed: $!\" unless defined $pid;\n    processing here...\n    print FL \"$count\";\n    exit;\n}\n\n1 while (wait() != -1);\n</code></pre>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 2481751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S1uin.jpg?s=128&g=1", "display_name": "odc", "link": "https://stackoverflow.com/users/2481751/odc"}, "is_accepted": true, "score": 0, "last_activity_date": 1449963799, "creation_date": 1449963799, "answer_id": 34246325, "question_id": 33708099, "link": "https://stackoverflow.com/questions/33708099/how-can-i-register-a-rendering-plugin-for-mojolicious/34246325#34246325", "title": "How can I register a rendering plugin for Mojolicious?", "body": "<p>Take a look at the <code>render</code> sub implementation in <a href=\"https://metacpan.org/source/SRI/Mojolicious-6.36/lib/Mojolicious/Renderer.pm#L85\" rel=\"nofollow\">Mojolicious::Renderer</a>. You will see that the accepted data types are fixed. There is no way to add more with just a plugin.</p>\n\n<p>Now look at <a href=\"https://metacpan.org/pod/Mojolicious::Plugin::XML::Loy\" rel=\"nofollow\">Mojolicious::Plugin::XML::Loy</a>. He had to create a <code>render_xml</code> helper. Good enough!</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 1, "accepted_answer_id": 34246325, "answer_count": 1, "score": 1, "last_activity_date": 1449963799, "creation_date": 1447501914, "question_id": 33708099, "link": "https://stackoverflow.com/questions/33708099/how-can-i-register-a-rendering-plugin-for-mojolicious", "title": "How can I register a rendering plugin for Mojolicious?", "body": "<p>I am having a hard time making a rendering plugin for Mojolicious work.\nMy plugin looks like this (for now):</p>\n\n<pre><code>package Mojolicious::Plugin::Renderer::XML;\nuse Mojo::Base 'Mojolicious::Plugin';\n\nsub register {\n    my ($self, $app, $conf) = @_;\n    $app-&gt;renderer-&gt;add_handler('xml' =&gt; sub {\n                    ${$_[2]} = 'say something';\n                    return 1;\n                } );\n}\n1;\n</code></pre>\n\n<p>and in the application I have:</p>\n\n<pre><code>plugin 'Renderer::XML';\n</code></pre>\n\n<p>and later</p>\n\n<pre><code>get '/x/xml' =&gt; sub {\n    my $c = shift;\n    $c-&gt;render( xml =&gt; 'bar' );\n};\n</code></pre>\n\n<p>I can see that the plugin gets registered (dumping the list of <code>renderer-&gt;handlers</code>, but it looks like the sub never even gets called (I inserted debugging output to check). I tried doing the same from inside the app as described <a href=\"http://mojolicio.us/perldoc/Mojolicious/Guides/Rendering#Adding-a-handler-to-generate-binary-data\" rel=\"nofollow\">here</a>, but no results.</p>\n\n<p>Does anyone have a better clue than me?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447498755, "post_id": 33707390, "comment_id": 55187154, "body": "Working on Linux, <i>may be</i> on Windows extension matters try  <code>$zipName = &quot;dummy.zip&quot;</code> and check if it works."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447499039, "post_id": 33707390, "comment_id": 55187219, "body": "M working on windows, tried using &quot;.zip&quot; in name, no help. Also please see i am passing *.txt as argument , and i have abc.txt, xyz.txt files present on the location. Is that correct?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447499857, "post_id": 33707390, "comment_id": 55187386, "body": "Are you passsing it in double quotes as <code>*</code> is special character, or once change your <code>map { glob} @ARGV</code> to only <code>glob &quot;*.txt&quot;</code> and verify."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1447503670, "post_id": 33707390, "comment_id": 55188273, "body": "tried both passing argument in double quotes and glob &quot;*.txt&quot;. None helped. Anything else we can do?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447521279, "post_id": 33707390, "comment_id": 55193531, "body": "I don&#39;t see a <code>chdir</code> in your code. Is your working directory the same as where the files live? In other words, have you added a <code>print &quot;$memberName\\n&quot;;</code> to the beginning of your <code>for</code> loop to verify that you&#39;re actually iterating over something?"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1449553484, "post_id": 33707390, "comment_id": 56045010, "body": "I tried another peice of code, this also not giving any error but just not generating output."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1447497300, "post_id": 33707448, "comment_id": 55186773, "body": "I need these files to  be zipped on Windows remote server."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1447498364, "post_id": 33707448, "comment_id": 55187062, "body": "Can any one suggest what could be the issue here."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447521330, "post_id": 33707448, "comment_id": 55193549, "body": "I don&#39;t see how this is relevant."}], "tags": [], "owner": {"reputation": 88, "user_id": 4025741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5e05d0b5662ef8b5d1f8a36faae4ff?s=128&d=identicon&r=PG&f=1", "display_name": "scalloty", "link": "https://stackoverflow.com/users/4025741/scalloty"}, "is_accepted": false, "score": -1, "last_activity_date": 1447497087, "creation_date": 1447497087, "answer_id": 33707448, "question_id": 33707390, "link": "https://stackoverflow.com/questions/33707390/to-create-zip-of-files-on-remote-server-in-perl/33707448#33707448", "title": "to create zip of files on remote server in perl", "body": "<p>The site(ARGS) method is designed for that. You can send a shell command and make it runs on remote server. <a href=\"http://perldoc.perl.org/Net/FTP.html#METHODS\" rel=\"nofollow\">http://perldoc.perl.org/Net/FTP.html#METHODS</a></p>\n"}], "owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447497087, "creation_date": 1447496578, "last_edit_date": 1447496808, "question_id": 33707390, "link": "https://stackoverflow.com/questions/33707390/to-create-zip-of-files-on-remote-server-in-perl", "title": "to create zip of files on remote server in perl", "body": "<p>I am very new to perl and trying to create a zip file. The files, the script both are in same directory and the zip also needs to be there only. Below is the code am trying and it is exiting without any error but without any zip file also. I am passing \"*.txt\" as the command line argument. Kindly suggest.</p>\n\n<pre><code>use strict;\nuse Archive::Zip qw(:ERROR_CODES :CONSTANTS);\n\ndie \"usage: $0 zip.pl\\n\"\n  if (scalar(@ARGV) &lt; 1);\n\nmy $zipName = \"dummy\";\nmy $zip     = Archive::Zip-&gt;new();\n\nforeach my $memberName (map { glob} @ARGV ) {\n    if (-d $memberName) {\n        warn \"Can't add tree $memberName\\n\"\n          if $zip-&gt;addTree($memberName, $memberName) != AZ_OK;\n    } else {\n        $zip-&gt;addFile($memberName)\n          or warn \"Can't add file $memberName\\n\";\n    }\n}\n\nmy $status = $zip-&gt;writeToFileNamed($zipName);\nexit $status;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 4, "last_activity_date": 1447562969, "last_edit_date": 1447562969, "creation_date": 1447474560, "answer_id": 33705051, "question_id": 33704767, "link": "https://stackoverflow.com/questions/33704767/renaming-files-with-perl/33705051#33705051", "title": "Renaming files with perl", "body": "<p>Try this. you forgot to add the path of directory while  renaming.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $dirnam = \"/Users/.../SoundFiles\";\n\nopendir(DIR, $dirnam) or die \"Cannot open directory: $!\";\nmy @files = readdir(DIR);\n\nforeach my $oldfile (@files) \n{\n    unless($oldfile  eq \".\" || $oldfile eq \"..\" )\n    {           \n\n        my $newfile = lc($oldfile);\n\n        rename \"$dirnam/$oldfile\", \"$dirnam/$newfile\" or die \"Cannot rename file: $!\";\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5444, "favorite_count": 1, "accepted_answer_id": 33705051, "answer_count": 1, "score": 1, "last_activity_date": 1610371235, "creation_date": 1447471357, "last_edit_date": 1447475230, "question_id": 33704767, "link": "https://stackoverflow.com/questions/33704767/renaming-files-with-perl", "title": "Renaming files with perl", "body": "<p>I'm very new to perl, and I want to rename a group of files so that they are lowercase instead of uppercase (so from SBC005.wav -> sbc005.wav).</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $dirnam = \"/Users/.../SoundFiles\";\n\nopendir(DIR, $dirnam) or die \"Cannot open directory: $!\";\nmy @files = readdir(DIR);\n\nforeach my $oldfile (@files) {\n    my $newfile = lc($oldfile);\n    #print $newfile;\n    #print $oldfile;\n    rename $oldfile, $newfile or die \"Cannot rename file: $!\";\n    }\n\nclosedir(DIR);\n</code></pre>\n\n<p>I checked that the variables are working right with the commented out print statements, but when I run the program I get a message that says \"Cannot rename file: Invalid argument at rename.pl line 13.\" I'm not sure what I'm doing wrong here.</p>\n\n<p>Thank you so much!</p>\n\n<p>edit: <p>\nThank you so much to the answer below! I found that this code using <code>glob</code> works too, but the code below works better because it does not have to be in the same directory as the sound files (as the <code>glob</code> code does)</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @files = glob(\"*.wav\");\n\nforeach my $oldfile (@files) {\n    my $newfile = lc($oldfile);\n    #print $newfile;\n    #print $oldfile;\n    rename $oldfile, $newfile or die \"Cannot rename file: $!\";\n    }\n\nexit 0;\n</code></pre>\n"}, {"tags": ["windows", "perl", "perl-module", "xs", "perl5.18"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1447466523, "post_id": 33704035, "comment_id": 55180905, "body": "I get the same error.  SvUPGRADE does not return a value and can&#39;t be used how it&#39;s being used."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1447466715, "creation_date": 1447466715, "answer_id": 33704389, "question_id": 33704035, "link": "https://stackoverflow.com/questions/33704035/cant-install-perl-module-crypttea/33704389#33704389", "title": "Can`t install perl module Crypt::TEA", "body": "<p>The problem is <a href=\"https://metacpan.org/source/AMS/Crypt-TEA-1.25/TEA.xs#L58\" rel=\"noreferrer\">this line</a>:</p>\n\n<pre><code>    if (SvREADONLY(output) || !SvUPGRADE(output, SVt_PV))\n        croak(\"cannot use output as lvalue\");\n</code></pre>\n\n<p>SvUPGRADE() is a macro with two void operations, it does not return a value.  It will croak if it fails.  Change it to this:</p>\n\n<pre><code>    if (!SvREADONLY(output)) \n        SvUPGRADE(output, SVt_PV);\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 4108542, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Qflfs.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/4108542/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 33704389, "answer_count": 1, "score": 2, "last_activity_date": 1447466715, "creation_date": 1447463023, "last_edit_date": 1447466101, "question_id": 33704035, "link": "https://stackoverflow.com/questions/33704035/cant-install-perl-module-crypttea", "title": "Can`t install perl module Crypt::TEA", "body": "<p>When I try to install Crypt::TEA module to perl 5.18 on Windows 7, displayed error:</p>\n\n<blockquote>\n  <p>TEA.xs: In function 'XS_Crypt__TEA_crypt':\n      TEA.xs:58:9: error: invalid use of void expression</p>\n</blockquote>\n"}, {"tags": ["perl", "module", "namespaces", "package", "swig"], "answers": [{"tags": [], "owner": {"reputation": 598, "user_id": 1826241, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2aaac949383a1f98d77696b8e80b9fe4?s=128&d=identicon&r=PG", "display_name": "dlukes", "link": "https://stackoverflow.com/users/1826241/dlukes"}, "is_accepted": true, "score": 0, "last_activity_date": 1449443723, "last_edit_date": 1449443723, "creation_date": 1449443341, "answer_id": 34124006, "question_id": 33703533, "link": "https://stackoverflow.com/questions/33703533/perl-5-namespace-issues-when-useing-swig-generated-module-in-declared-package/34124006#34124006", "title": "Perl 5: namespace issues when `use`ing SWIG-generated module in declared package", "body": "<p>So, it turns out that this is <strong>expected behavior</strong>, as explained pretty succinctly in <a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow\"><code>perldoc perlmod</code></a> (emphasis mine):</p>\n\n<blockquote>\n  <p>Packages may themselves contain package separators, as in $OUTER::INNER::var . This implies nothing about the order of name lookups, however. <strong>There are no relative packages</strong>: all symbols are either local to the current package, or must be fully qualified from the outer package name down. For instance, there is nowhere within package OUTER that $INNER::var refers to $OUTER::INNER::var. INNER refers to a totally separate global package.</p>\n</blockquote>\n\n<p>Now, the symbols exported by the <code>Ufal::MorphoDiTa</code> module all live inside various <em>subnamespaces</em> (e.g. the <code>load</code> subroutine in the <code>Morpho::</code> namespace), so they must always be fully qualified (they are not local to the package into which they're imported). What is potentially confusing is that a <code>main::</code> prefix is implicit for symbol lookup, so without a package declaration (i.e. in a regular script), everything works fine, because calling <code>Morpho::load</code> is a shortcut for <code>main::Morpho::load</code> (and the module was indeed loaded inside <code>main::</code>).</p>\n\n<p>But when the module is imported into package <code>Qux::</code>, <code>Morpho::load</code> must be referred to as <code>Qux::Morpho::load</code> because, to paraphrase the perldoc, \"there is nowhere within package <code>Qux</code> that <code>Morpho::load</code> refers to <code>Qux::Morpho::load</code>. <code>Morpho</code> refers to a totally separate global package [<code>main::Morpho</code>]\" -- which does not exist, because <code>Morpho::load</code> was loaded inside <code>Qux::</code>, not inside <code>main::</code>.</p>\n\n<p>This explains all of the apparent quirks cited above. A tip of the hat to the good folks over at the <a href=\"http://ufal.mff.cuni.cz/morphodita\" rel=\"nofollow\">MorphoDiTa project</a> for <a href=\"https://github.com/ufal/morphodita/issues/3\" rel=\"nofollow\">their help and responsiveness</a> in solving this conundrum!</p>\n"}], "owner": {"reputation": 598, "user_id": 1826241, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2aaac949383a1f98d77696b8e80b9fe4?s=128&d=identicon&r=PG", "display_name": "dlukes", "link": "https://stackoverflow.com/users/1826241/dlukes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "accepted_answer_id": 34124006, "answer_count": 1, "score": 2, "last_activity_date": 1449443723, "creation_date": 1447458731, "last_edit_date": 1448658700, "question_id": 33703533, "link": "https://stackoverflow.com/questions/33703533/perl-5-namespace-issues-when-useing-swig-generated-module-in-declared-package", "title": "Perl 5: namespace issues when `use`ing SWIG-generated module in declared package", "body": "<p>I'm having namespace issues with a Perl module. When I <code>use</code> it in a regular script file, all public symbols are imported into the (implicit) <code>main::</code> package as expected. But when I try to <code>use</code> it in a source file with a package declaration of its own (i.e. typically another module), weird stuff starts to happen.</p>\n\n<p>The module in question can be found on CPAN as <a href=\"http://search.cpan.org/~straka/Ufal-MorphoDiTa-v1.3.0.1/lib/Ufal/MorphoDiTa.pod\" rel=\"nofollow\"><code>Ufal::MorphoDiTa</code></a>. It is a set of bindings to a C++ library, auto-generated using <a href=\"http://www.swig.org/\" rel=\"nofollow\">SWIG</a>. No need to have the lib itself installed to reproduce the test cases below.</p>\n\n<p>First then, a regular script file with no package declaration:</p>\n\n<pre><code># script.pl\nuse Ufal::MorphoDiTa qw(:all);\nuse Data::Dumper;\n\n# a closer look at symbols inside the main:: package\nmy %morph_in_main = %main::{ grep { /morph/i } keys %main:: };\nprint \"main:: namespace:\\n\", Dumper \\%morph_in_main;\n\n# Morpho:: is exported by Ufal::MorphoDiTa\nMorpho::load('foo');\n</code></pre>\n\n<p>As expected, the symbols from <code>Ufal::MorphoDiTa</code> are imported into <code>main::</code> and the <code>Morpho::load</code> subroutine gets called (with no visible output, but that's fine):</p>\n\n<pre><code>$ perl script.pl\nmain:: namespace:\n$VAR1 = {\n          'Morpho::' =&gt; *{'Ufal::MorphoDiTa::Morpho::'},\n          '_&lt;morphodita/morphodita_perl.cpp' =&gt; *{'::_&lt;morphodita/morphodita_perl.cpp'},\n          '_&lt;/usr/local/Cellar/perl/5.22.0/lib/site_perl/5.22.0/darwin-thread-multi-2level/auto/Ufal/MorphoDiTa/MorphoDiTa.bundle' =&gt; *{'::_&lt;/usr/local/Cellar/perl/5.22.0/lib/site_perl/5.22.0/darwin-thread-multi-2level/auto/Ufal/MorphoDiTa/MorphoDiTa.bundle'}\n        };\n</code></pre>\n\n<p>Let's add a package declaration now:</p>\n\n<pre><code># Qux.pm\npackage Qux;\nuse Ufal::MorphoDiTa qw(:all);\nuse Data::Dumper;\n\n# a closer look at symbols inside the main:: package    \nmy %morph_in_main = %main::{ grep { /morph/i } keys %main:: };\nprint \"main:: namespace:\\n\", Dumper \\%morph_in_main;\n\n# a closer look at symbols inside the Qux:: package    \nmy %morph_in_qux = %Qux::{ grep { /morph/i } keys %Qux:: };\nprint \"Qux:: namespace:\\n\", Dumper \\%morph_in_qux;\n\n# Morpho:: is exported by Ufal::MorphoDiTa\nMorpho::load('foo');\n</code></pre>\n\n<p>As you can see below, in this case, some of the imported symbols wind up in the <code>main::</code> package and some in the declared <code>Qux::</code> package (perhaps this is intended behavior?):</p>\n\n<pre><code>$ perl Qux.pm\nmain:: namespace:\n$VAR1 = {\n          '_&lt;morphodita/morphodita_perl.cpp' =&gt; *{'::_&lt;morphodita/morphodita_perl.cpp'},\n          'Morpho::' =&gt; *{'::Morpho::'},\n          '_&lt;/usr/local/Cellar/perl/5.22.0/lib/site_perl/5.22.0/darwin-thread-multi-2level/auto/Ufal/MorphoDiTa/MorphoDiTa.bundle' =&gt; *{'::_&lt;/usr/local/Cellar/perl/5.22.0/lib/site_perl/5.22.0/darwin-thread-multi-2level/auto/Ufal/MorphoDiTa/MorphoDiTa.bundle'}\n        };\nQux:: namespace:\n$VAR1 = {\n          'Morpho::' =&gt; *{'Ufal::MorphoDiTa::Morpho::'}\n        };\nUndefined subroutine &amp;Morpho::load called at Qux.pm line 11.\n</code></pre>\n\n<p>At any rate, as indicated by the last line of the output, <strong>Perl suddenly can't find the subroutine anymore</strong>. Notice all we really did was add the package declaration before all <code>use</code> statements.</p>\n\n<p>Now the cherry on top -- if we <code>use Ufal::MorphoDiTa</code> <strong>before</strong> declaring <code>package Qux</code>, everything starts working again:</p>\n\n<pre><code># Qux.pm\nuse Ufal::MorphoDiTa qw(:all);    \npackage Qux;\nuse Data::Dumper;\n# etc.\n</code></pre>\n\n<p>The output of running the module with <code>perl Qux.pm</code> is the same as in the first case, i.e. the sub <code>Morpho::load</code> is found, <strong>in spite of</strong> not being prefixed with the <code>main::</code> namespace into which it was loaded. Contrast this with the behavior of a standard module like <code>Data::Dumper</code> -- when <em>that</em> is loaded before the package declaration, the sub <code>Dumper</code> has to be referred to as <code>main::Dumper</code> when in package <code>Qux::</code>.</p>\n\n<p>I'd appreciate any pointers as to what's happening here... It's not that I can't work around it, but the issue is bugging me -- I'm not sure whether it's a quirk of Perl, a bug on the SWIG side of things (I don't have enough Perl-Fu to make sense of the auto-generated bindings module, which has package declarations all over the place), or whether (another plausible alternative) my own ignorance is at fault here. Thanks for any input! :)</p>\n"}, {"tags": ["linux", "perl", "unix", "stack-overflow", "netcat"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 4130419, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fbac99f283526193031efe0e40f78919?s=128&d=identicon&r=PG&f=1", "display_name": "Noahnder", "link": "https://stackoverflow.com/users/4130419/noahnder"}, "edited": false, "score": 0, "creation_date": 1447455645, "post_id": 33702982, "comment_id": 55178449, "body": "Thank you for the explanation and quick response!"}], "tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 3, "last_activity_date": 1447454820, "creation_date": 1447454820, "answer_id": 33702982, "question_id": 33702899, "link": "https://stackoverflow.com/questions/33702899/use-netcat-and-write-to-stdin-for-remote-shell/33702982#33702982", "title": "Use netcat and write to stdin for remote shell", "body": "<p><code>netcat</code>'s stdin is connected to the pipe, not your terminal, so it's not sending anything you type. You can do:</p>\n\n<pre><code>{ perl -e 'print \"\\xaa\\xaa\\...\"'; cat; } | nc -q0 machineAtUni 1234\n</code></pre>\n\n<p>so that when the perl script finishes, <code>cat</code> will read from the terminal and write to the pipe.</p>\n"}], "owner": {"reputation": 305, "user_id": 4130419, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fbac99f283526193031efe0e40f78919?s=128&d=identicon&r=PG&f=1", "display_name": "Noahnder", "link": "https://stackoverflow.com/users/4130419/noahnder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1278, "favorite_count": 0, "accepted_answer_id": 33702982, "answer_count": 1, "score": 1, "last_activity_date": 1447454820, "creation_date": 1447454256, "last_edit_date": 1447454628, "question_id": 33702899, "link": "https://stackoverflow.com/questions/33702899/use-netcat-and-write-to-stdin-for-remote-shell", "title": "Use netcat and write to stdin for remote shell", "body": "<p>I am exploiting a buffer overflow vulnerability (for university) on a running server and I am able to redirect the process to exec a shell. \nMy exploit looks like this: </p>\n\n<pre><code>perl -e 'print \"\\xaa\\xaa\\...\"' | nc -q0 machineAtUni 1234\n</code></pre>\n\n<p>So the server reads from the socket, eip will be overwritten and a shell executed. The problem is that I see some message from the shell but I can't insert anything. I think that the shell itself reads from stdin till EOF but how can I achieve that I can send commands to it (that the connection stays open and I am able to write to stdin)?</p>\n"}, {"tags": ["windows", "perl", "file-io"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1447449937, "post_id": 33701655, "comment_id": 55176080, "body": "By the way, you should always use <code>use strict; use warnings qw( all );</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447450220, "post_id": 33701655, "comment_id": 55176211, "body": "Also, you&#39;re opening two filehandles to the same file in truncate mode. One of them will lose. ;-)"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447450391, "post_id": 33701655, "comment_id": 55176300, "body": "Thanks gents.  I&#39;m using strict and warnings but not warnings (all).  Fixed that.  I&#39;m not sure what happened but it seems to be working now.  Possibly the file was marked busy for another reason?  I don&#39;t think I had it open in another.  Thank you."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447451002, "post_id": 33701655, "comment_id": 55176560, "body": "You should also check <code>unlink</code> for failure to make sure the deletion actually happened. But don&#39;t <code>die</code> with <code>$!</code>, because you closed <code>STDERR</code> a few lines prior!"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447451196, "post_id": 33701655, "comment_id": 55176645, "body": "Good point Matt, I will add that.  Thank you very much for the advice!"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447452030, "post_id": 33701655, "comment_id": 55177070, "body": "I was just able to reproduce the problem again.  When I close STDERR and ERRFILE a few lines up in my script I am fine.  But when that processing is done immediately before I try to do my delete then it fails.  I wonder if I need to put a pause in because my script it stepping on itself.  Almost like the unlink cannot happen because the close has not yet completed....hmmmmm"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1447452645, "post_id": 33701655, "comment_id": 55177335, "body": "Re &quot;I&#39;m using strict&quot;, There&#39;s no way the code you posted would run with strict."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447610204, "post_id": 33701655, "comment_id": 55215520, "body": "Ikegami please see below."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447450461, "post_id": 33702011, "comment_id": 55176335, "body": "ikegami, the foreach is working fine.  I&#39;m populating the array with filenames and then checking to see if they are empty."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 1, "creation_date": 1447450633, "post_id": 33702011, "comment_id": 55176408, "body": "I didn&#39;t change the loop; I changed <code>$errFile</code>. You list the contents of <code>C:\\LMITS</code>, but you delete files in <code>.</code>."}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447451041, "post_id": 33702011, "comment_id": 55176573, "body": "Ahhhhh good catch.  My script is running out of C;\\LMITS so it just works.  But your right Im being inconsistent.  And I could have a problem when I move the script to the production server and put it in CRON/scheduled task.  Thank you so much for finding that!"}, {"owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "edited": false, "score": 0, "creation_date": 1447610260, "post_id": 33702011, "comment_id": 55215541, "body": "Ikegami, I have it working but Im getting weird results when I move the STDERR and ERRFILE close down any.  I&#39;m good to go but will researching why just so I know for next time."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1447449868, "creation_date": 1447449868, "answer_id": 33702011, "question_id": 33701655, "link": "https://stackoverflow.com/questions/33701655/redirect-of-stderr-not-closing/33702011#33702011", "title": "Redirect of STDERR not closing", "body": "<p><code>readdir</code> returns file names, not paths.</p>\n\n<pre><code>foreach  (@errFiles) {\n    my $errFile = 'c:\\\\LMITS\\\\' . $_;\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1447610131, "creation_date": 1447610131, "answer_id": 33722975, "question_id": 33701655, "link": "https://stackoverflow.com/questions/33701655/redirect-of-stderr-not-closing/33722975#33722975", "title": "Redirect of STDERR not closing", "body": "<p>This code works but if I move the commands to close SDTERR and ERRFILE down in the script any a blank ERRFILE will not be deleted.  I'm ok for now but I will keep researching for the sake of just knowing.</p>\n\n<pre><code>use CQPerlExt;\nuse POSIX qw(strftime);\nuse Strict;\n\nmy $checkForBlanks;\nmy $dbConfig;\nmy $dbConfigRecord;\nmy $entitydef;\nmy $errFile;\nmy @errFiles;\nmy $errFileSize;\nmy $fileDate;\nmy @fieldNames;\nmy $fieldName;\nmy $lastSync;\nmy $outFile;\nmy $queryDef;\nmy $queryResults;\nmy $recordCount = 0;\nmy $recordType;\nmy $session;\nmy $scriptStartTime;\nmy $swCR;\nmy $swData;\nmy $swID;\n\n# ##############################################\n# ##### Process administrative items and \n# ##### establish a ClearQuest session\n# ##############################################\n\n$scriptStartTime = strftime(\"%Y-%m-%d %I:%M:%S %p\", localtime());\n$fileDate = strftime(\"%Y%m%d_%I%M%S%p\", localtime());\n\n#Create and open the output and error files\n$outFile = \"MSTU_Unclass_Export\".\"_\".$fileDate.\".txt\"; \nopen (OUTFILE, \"&gt;\", $outFile) or die $!;\n$errFile = $outFile . \"-error\";\nopen (ERRFILE, '&gt;', $errFile) or die $!;\n\n#Redirect STDERR from the console to the error log\nopen (STDERR, '&gt;', $errFile) or die $!;\n\n$session = CQSession::Build();\nCQSession::UserLogon($session, \"uname\", \"pw\", \"db\", \"schema\");  \n\n$dbConfigRecord = $session-&gt;GetEntity(\"DB_CONFIG\", \"33554467\");\n$lastSync = $dbConfigRecord-&gt;GetFieldStringValue(\"LastSyncDate\");\n\n# ##############################################\n# ##### Query the database for all SWCRs\n# ##### updated after lastSyncDate\n# ##############################################\n\n$queryDef = $session-&gt;BuildQuery(\"SWCR\");\n$queryDef-&gt;BuildField(\"dbid\");\n\n@lastSyncDate = ($lastSync);\n$operator = $queryDef-&gt;BuildFilterOperator($CQPerlExt::CQ_BOOL_OP_AND);\n$operator-&gt;BuildFilter (\"history.action_timestamp\", $CQPerlExt::CQ_COMP_OP_GTE,\\@lastSyncDate); \n\n$queryResults = $session-&gt;BuildResultSet($queryDef);\n$queryResults-&gt;Execute();\n\n# ##############################################\n# ##### Build a text file with SWCR data associated\n# ##### with the dbids returned above\n# ##############################################\n\n#Get all of the fieldnames you want to export\n$recordType = 'SWCR';\n$entitydef = $session-&gt;GetEntityDef($recordType);\n@fieldNames = @{$entitydef-&gt;GetFieldDefNames()};\n\n#Remove any fields you don't want\n@fieldNames = grep ! /dbid|history|RecordID|CCObjects|MergeSWCRs|AssociatedIntegrationSet|Level1TestResults|\n                     Level2TestResults|Level3TestResults|Level4TestResults|Reviews|WithdrawCR|\n                     AssociatedWithdrawnCR|Attachments|AssociatedPRs|OriginatingSolution|AssociatedSWRsFull|\n                     AssociatedSWRsDelta|ClonedFrom|ClonedTo|AssociatedComment|ExternalLinks|ratl_mastership/x, @fieldNames;\n\nwhile ($queryResults-&gt;MoveNext() == $CQPerlExt::CQ_SUCCESS) {\n        $swCR = $session-&gt;GetEntityByDbId(\"SWCR\", $queryResults-&gt;GetColumnValue(1));\n\n        #Gather data        \n        $swID = $swCR-&gt;GetFieldValue(\"RecordID\")-&gt;GetValue();\n        $swData = \"&lt;RecordID&gt;\" . $swID . \"&lt;/RecordID&gt;\";\n            foreach $fieldName (@fieldNames)\n                {\n                $checkForBlanks = $swCR-&gt;GetFieldStringValue($fieldName);\n                if ($checkForBlanks ne \"\"){\n                $swData = $swData . \"&lt;\" . $fieldName . \"&gt;\" . $swCR-&gt;GetFieldStringValue($fieldName) . \"&lt;/\" . $fieldName . \"&gt;\";\n                                          }\n                            }\n\n        #Build file with records seperated by custom line delimiter\n        print OUTFILE $swData . \"~~lineDelimiter~~\\n\";\n        #Keep track of the amount of records being exported\n        $recordCount++;\n                                 }\n\nclose(STDERR);\nclose(ERRFILE);\nclose(OUTFILE);\n\n# ##############################################\n# ##### Process administrative items and \n# ##### close ClearQuest session\n# ##############################################\n\n#Remove extra carriage return at bottom of export file because this will throw an error when an import is performed\ntruncate($outFile, (-s $outFile) - 2);\n\n#Add amount of records exported to the export log\nopen (EXPLOG, \"&gt;&gt;\", 'Export_Log.txt') or die $!; \nprint EXPLOG \"$scriptStartTime: $recordCount record(s) written to $outFile for export.\\n\";\nclose (EXPLOG);\n\n#Set the LastSyncDate field to the time the export script started\n$dbConfigRecord = $session-&gt;GetEntity(\"DB_CONFIG\", \"33554467\");\n$session-&gt;EditEntity($dbConfigRecord, \"Modify\");\n$dbConfigRecord-&gt;SetFieldValue(\"LastSyncDate\",$scriptStartTime);\n$dbConfigRecord-&gt;Validate();\n$dbConfigRecord-&gt;Commit();\n\n#Remove blank error files\nopendir(DIR, 'c:\\LMITS');\n@errFiles = grep /error/, readdir DIR;\nclosedir DIR;\n\n    foreach $errFile (@errFiles) {\n        $errFileSize = -s $errFile;\n        if ($errFileSize == 0) {\n        unlink $errFile;\n                       }\n                     }\n\nCQSession::Unbuild($session);\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 1, "accepted_answer_id": 33702011, "answer_count": 2, "score": 1, "last_activity_date": 1447610131, "creation_date": 1447448356, "last_edit_date": 1447449759, "question_id": 33701655, "link": "https://stackoverflow.com/questions/33701655/redirect-of-stderr-not-closing", "title": "Redirect of STDERR not closing", "body": "<p>I am redirecting STDERR to an error file but am unable to unlink the error file if it is empty.  I believe that I am not releasing STDERR which is rendering the error file busy and cannot be deleted.  What do you think?  Thank you!</p>\n\n<pre><code>$errFile = $outFile . \"-error\";\nopen (ERRFILE, '&gt;', $errFile) or die $!;\n\n#Redirect STDERR from the console to the error log\nopen (STDERR, '&gt;', $errFile) or die $!;\n\n# Do stuff....\n\nclose(STDERR);\nclose(ERRFILE);\n\n#Remove blank error files\nopendir(DIR, 'c:\\LMITS');\n@errFiles = grep /error/, readdir DIR;\nclosedir DIR;\n\nforeach $errFile (@errFiles) {\n    $errFileSize = -s $errFile;\n    if ($errFileSize == 0) {\n        unlink $errFile;\n    }\n}\n</code></pre>\n"}, {"tags": ["regex", "bash", "perl", "shell"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1447431600, "post_id": 33697035, "comment_id": 55165997, "body": "<code>somehost</code> and <code>someport</code> must not be defined then."}, {"owner": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1447432346, "post_id": 33697035, "comment_id": 55166553, "body": "@HunterMcMillen I see what you are saying now. <code>$somehost</code> and <code>$someport</code> are not shell variables. I&#39;m looking for a literal text replacement. I&#39;m editing the question"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1447441002, "post_id": 33697035, "comment_id": 55171603, "body": "Figuring out escapes in a one-liner inside a shell script is like trying to train ants to juggle. Just do the whole thing in Perl using <a href=\"https://metacpan.org/pod/Net::SSH\" rel=\"nofollow noreferrer\"><code>Net::SSH</code></a>. Or failing that, put the code from the one-liner inside a file, and run it like <code>ssh host &quot;perl -pi code.pl &#47;x&#47;somedir&#47;config&#47;app.properties</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "edited": false, "score": 0, "creation_date": 1447432017, "post_id": 33697265, "comment_id": 55166318, "body": "still no luck. You forgot <code>{</code> and <code>}</code> in your answer. I added them but I get same result"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "edited": false, "score": 2, "creation_date": 1447432106, "post_id": 33697265, "comment_id": 55166379, "body": "@nilesh Are you trying to replace the literal text <code>${somehost}</code>, or the value of the bash variable <code>$somehost</code>?"}, {"owner": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447432253, "post_id": 33697265, "comment_id": 55166475, "body": "@ThisSuitIsBlackNot you got it. I&#39;m trying to replace literal text. <code>$somehost</code> and <code>$someport</code> are not shell variables"}, {"owner": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "edited": false, "score": 0, "creation_date": 1447432300, "post_id": 33697265, "comment_id": 55166515, "body": "@anubhava sorry for the confusion, <code>$somehost</code> and <code>$someport</code> are not shell variables. I&#39;m looking for a literal text replacement"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1447432483, "post_id": 33697265, "comment_id": 55166637, "body": "<code>${somehost} != $somehost</code> as a literal text value."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "edited": false, "score": 0, "creation_date": 1447432713, "post_id": 33697265, "comment_id": 55166823, "body": "@nilesh: Also notice use of <code>&#39;EOF&#39;</code> at start to avoid expansion of <code>$</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447435619, "post_id": 33697265, "comment_id": 55168667, "body": "<code>perl -pei &#39;foo&#39;</code> is equivalent to <code>perl -pe &#39;i&#39; foo</code> (i.e. run the code <code>i</code> on file <code>foo</code>), you need <code>perl -i -pe &#39;foo&#39;</code>. Also, you have to escape the <code>$</code> in the regex so it doesn&#39;t mean end-of-line: <code>perl -i -pe &#39;s#\\${somehost}:\\${someport}#10.20.30.40:8443#g&#39;</code>"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447435846, "post_id": 33697265, "comment_id": 55168825, "body": "Thanks so much @ThisSuitIsBlackNot, yes of course <code>$</code> needs to be escaped. I just edited."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 0, "last_activity_date": 1447435817, "last_edit_date": 1447435817, "creation_date": 1447431670, "answer_id": 33697265, "question_id": 33697035, "link": "https://stackoverflow.com/questions/33697035/perl-inline-replace-in-shell-script-not-working-as-expected/33697265#33697265", "title": "Perl inline replace in shell script not working as expected", "body": "<p>Try this <code>ssh</code> command with here-doc and avoid all escaping:</p>\n\n<pre><code>ssh -t -t host&lt;&lt;'EOF'\ncd /x/somedirectory &amp;&amp;\n    perl -i -pe 's#\\${somehost}:\\${someport}#10.20.30.40:8443#g' config/app.properties\nexit\nEOF\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447444124, "post_id": 33698423, "comment_id": 55173191, "body": "Note: Only works if you remove the line break or if you add <code>\\\\ </code> before the line break."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1447435385, "creation_date": 1447435385, "answer_id": 33698423, "question_id": 33697035, "link": "https://stackoverflow.com/questions/33697035/perl-inline-replace-in-shell-script-not-working-as-expected/33698423#33698423", "title": "Perl inline replace in shell script not working as expected", "body": "<p>The shell on the remote machine will perform another level of escaping. To receive the sequence <code>\\$</code> on the remote machine you have to send the sequence <code>\\\\\\$</code>:</p>\n\n<pre><code>ssh host \"cd /x/somedirectory &amp;&amp; perl -pi -e \n    's#\\\\\\${somehost}:\\\\\\${someport}#10.20.30.40:8443#g' config/app.properties\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "edited": false, "score": 0, "creation_date": 1447444614, "post_id": 33698541, "comment_id": 55173436, "body": "Both versions I posted work. Aside from doing this every day, I have tested them. Did you miscopy something (e.g. used <code>&quot;</code> instead of <code>&#39;</code>)? Or maybe you&#39;re not using bash (on both machines) as tagged?"}, {"owner": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "edited": false, "score": 0, "creation_date": 1447445339, "post_id": 33698541, "comment_id": 55173817, "body": "I tried this <code>ssh host &quot;perl -pi -e &#39;\\&#39;&#39;s#\\${somehost}:\\${someport}#10.20.30.40:8443#g&#39;\\&#39;&#39; &#47;x&#47;web&#47;STAGE2MS034&#47;paymentapiplatformserv&#47;config&#47;app.propert&zwnj;&#8203;ies&quot;</code>. I get <code>bash: -c: line 0: unexpected EOF while looking for matching </code>&#39;&#39;`"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "edited": false, "score": 1, "creation_date": 1447445444, "post_id": 33698541, "comment_id": 55173880, "body": "That&#39;s doesn&#39;t match either of my solutions. You used <code>&quot;</code>, so you need to use the escape mechanism for <code>&quot;</code>, but you used the escape mechanism for <code>&#39;</code>. Either use the appropriate escape mechanism (second solution), or use <code>&#39;</code> instead of <code>&quot;</code> (first solution)."}, {"owner": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "edited": false, "score": 0, "creation_date": 1447445771, "post_id": 33698541, "comment_id": 55174057, "body": "Ahh..thanks that works. One day I&#39;ll get better at bash"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "edited": false, "score": 0, "creation_date": 1447445858, "post_id": 33698541, "comment_id": 55174111, "body": "Just add each layer of escaping one at a time as i showed. // <code>&#39;abc&#39;\\&#39;&#39;def&#39;</code> is <code>&#39;abc&#39;</code> (<code>abc</code>), <code>\\&#39;</code> (<code>&#39;</code>), and <code>&#39;def&#39;</code> (<code>def</code>) one after the other, resulting in <code>abc&#39;def</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1447443417, "last_edit_date": 1447443417, "creation_date": 1447435769, "answer_id": 33698541, "question_id": 33697035, "link": "https://stackoverflow.com/questions/33697035/perl-inline-replace-in-shell-script-not-working-as-expected/33698541#33698541", "title": "Perl inline replace in shell script not working as expected", "body": "<p>To create a single-quoted shell literal from a string, escape <code>'</code> by replacing them with <code>'\\''</code>.</p>\n\n<p>To create a double-quoted shell literal from a string, escape <code>\\</code>, <code>\"</code> and <code>$</code> by prefixing them with <code>\\</code>.</p>\n\n<hr>\n\n<p>The Perl command you want is</p>\n\n<pre><code>s#\\${somehost}:\\${someport}#10.20.30.40:8443#g\n</code></pre>\n\n<p>So the remote shell command you want is </p>\n\n<pre><code>perl -pi -e 's#\\${somehost}:\\${someport}#10.20.30.40:8443#g' config/app.properties\n</code></pre>\n\n<p>So the local shell command you want is</p>\n\n<pre><code>ssh host 'perl -pi -e '\\''s#\\${somehost}:\\${someport}#10.20.30.40:8443#g'\\'' config/app.properties'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>ssh host \"perl -pi -e 's#\\\\\\${somehost}:\\\\\\${someport}#10.20.30.40:8443#g' config/app.properties\"\n</code></pre>\n\n<p>[Removed <code>cd /x/somedirectory &amp;&amp;</code> to keep things simple. Just add it back in.]</p>\n"}, {"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 2, "last_activity_date": 1447441763, "creation_date": 1447441763, "answer_id": 33700115, "question_id": 33697035, "link": "https://stackoverflow.com/questions/33697035/perl-inline-replace-in-shell-script-not-working-as-expected/33700115#33700115", "title": "Perl inline replace in shell script not working as expected", "body": "<p>So, you can write Perl...</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Net::OpenSSH;\nmy $ssh = Net::OpenSSH-&gt;new($host);\nmy $old = quotemeta(\"${somehost}:${someport}\");\n$ssh-&gt;system('cd', $some_directory, \\\\'&amp;&amp;',\n             'perl', '-pi', '-e',\n             \"s|$old|10.20.30.40:8443|g\",\n             'config/app.properties');\n</code></pre>\n"}], "owner": {"reputation": 13299, "user_id": 503804, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/o5zWb.png?s=128&g=1", "display_name": "nilesh", "link": "https://stackoverflow.com/users/503804/nilesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 1, "accepted_answer_id": 33698541, "answer_count": 4, "score": 1, "last_activity_date": 1447443417, "creation_date": 1447430966, "last_edit_date": 1447432393, "question_id": 33697035, "link": "https://stackoverflow.com/questions/33697035/perl-inline-replace-in-shell-script-not-working-as-expected", "title": "Perl inline replace in shell script not working as expected", "body": "<p>I have a perl inline replace command in a shell script that isn't working for some reason. With below command, its replacing all \":\" with replacement string in the perl command. </p>\n\n<p>When I manually ssh to the box and running the perl command works as expected.</p>\n\n<pre><code>ssh host \"cd /x/somedirectory &amp;&amp; perl -pi -e 's#\\${somehost}:\\${someport}#10.20.30.40:8443#g' config/app.properties\"\n</code></pre>\n\n<h2>Edit1</h2>\n\n<p>Please note that <code>$somehost</code> and <code>$someport</code> are NOT shell variables. I'm looking for a literal text replacement. </p>\n\n<p>What am I doing wrong? I tried using different delimiters, escaping <code>{</code> and <code>}</code> etc but still no luck.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "is_accepted": false, "score": 1, "last_activity_date": 1447430400, "creation_date": 1447430400, "answer_id": 33696850, "question_id": 33696667, "link": "https://stackoverflow.com/questions/33696667/perl-regex-alternation/33696850#33696850", "title": "Perl regex alternation", "body": "<p>Try with:</p>\n\n<pre><code>(my $data) = $str1 =~ /Data (\\S+ [GM]B)/ or die \"$str1\\n\";\n</code></pre>\n\n<p>It will match <strong>G</strong>B or <strong>M</strong>B</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 9, "last_activity_date": 1447430418, "creation_date": 1447430418, "answer_id": 33696856, "question_id": 33696667, "link": "https://stackoverflow.com/questions/33696667/perl-regex-alternation/33696856#33696856", "title": "Perl regex alternation", "body": "<p>The alternation operator doesn't operate on words, it means</p>\n\n<pre><code>(\\S+ GB) or (MB)\n</code></pre>\n\n<p>Add non-capturing parentheses:</p>\n\n<pre><code>/Data (\\S+ (?:GB|MB))/\n</code></pre>\n\n<p>which you can further simplify with a character class:</p>\n\n<pre><code>/Data (\\S+ [GM]B)/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "is_accepted": true, "score": 6, "last_activity_date": 1447430454, "creation_date": 1447430454, "answer_id": 33696869, "question_id": 33696667, "link": "https://stackoverflow.com/questions/33696667/perl-regex-alternation/33696869#33696869", "title": "Perl regex alternation", "body": "<p>You defined your capture group as <code>(\\S+ GB|MB)</code> which matches <code>\\S+ GB</code> <strong>or</strong> <code>MB</code> (i.e. <code>|</code> is applied to whole capture group).</p>\n\n<p>You want either:</p>\n\n<ol>\n<li><code>/Data (\\S+ GB|\\S+ MB)/</code></li>\n<li><code>/Data (\\S+ (GB|MB))/</code>, or even better <code>/Data (\\S+ (?:GB|MB))/</code>, utilizing non-capture group.</li>\n</ol>\n"}], "owner": {"reputation": 453, "user_id": 828647, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c58778c8b91409fd2408ddd92144f340?s=128&d=identicon&r=PG", "display_name": "user828647", "link": "https://stackoverflow.com/users/828647/user828647"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "accepted_answer_id": 33696869, "answer_count": 3, "score": 5, "last_activity_date": 1447431443, "creation_date": 1447429930, "last_edit_date": 1447431443, "question_id": 33696667, "link": "https://stackoverflow.com/questions/33696667/perl-regex-alternation", "title": "Perl regex alternation", "body": "<p>I have the following strings:</p>\n\n<pre><code>Data 250 MB\nData 1.5 GB\nData 10 GB\n</code></pre>\n\n<p>I need to capture only the values <code>250 MB, 1.5 GB, 10 GB</code>. So I wrote the expression</p>\n\n<p><code>(my $data) = $str1 =~ /Data (\\S+ GB|MB)/ or die \"$str1\\n\";</code></p>\n\n<p>This works for the data in GB, but for MB, I get the result <code>Data 250 MB</code>. Can anyone please explain why?</p>\n"}, {"tags": ["regex", "perl", "powershell"], "answers": [{"comments": [{"owner": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "edited": false, "score": 0, "creation_date": 1447427219, "post_id": 33695735, "comment_id": 55162947, "body": "This is correct; you have to define a parameter for the script block and use that to receive each match."}, {"owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "reply_to_user": {"reputation": 39264, "user_id": 3905079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54d4c111c4564b116ff1efca8c56788?s=128&d=identicon&r=PG", "display_name": "briantist", "link": "https://stackoverflow.com/users/3905079/briantist"}, "edited": false, "score": 0, "creation_date": 1447427479, "post_id": 33695735, "comment_id": 55163128, "body": "I got the syntax from <a href=\"http://stackoverflow.com/a/19850707/1366368\">Powershell how to create a delegate</a>."}, {"owner": {"reputation": 59244, "user_id": 574168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910c18a04cbfb618b04e8041bb20de43?s=128&d=identicon&r=PG", "display_name": "mjolinor", "link": "https://stackoverflow.com/users/574168/mjolinor"}, "edited": false, "score": 0, "creation_date": 1447427597, "post_id": 33695735, "comment_id": 55163208, "body": "You don&#39;t have to define the parameter.  You can use $args -&gt; [regex]::replace(&#39;$(ab) $(cd)&#39;,    &quot;\\$&#40;([^)]+)&#41;&quot;,    { $definedVars[$args[0].Groups[1].Value] } )"}, {"owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "edited": false, "score": 0, "creation_date": 1447427613, "post_id": 33695735, "comment_id": 55163219, "body": "It would have been nice if the native <code>-replace</code> had a evaluation syntax."}, {"owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "reply_to_user": {"reputation": 59244, "user_id": 574168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910c18a04cbfb618b04e8041bb20de43?s=128&d=identicon&r=PG", "display_name": "mjolinor", "link": "https://stackoverflow.com/users/574168/mjolinor"}, "edited": false, "score": 0, "creation_date": 1447427864, "post_id": 33695735, "comment_id": 55163378, "body": "@mjolinor, I had tried <code>$args</code> before and couldn&#39;t get it working.  Thanks for the reminder."}], "tags": [], "owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "is_accepted": false, "score": 2, "last_activity_date": 1447428203, "last_edit_date": 1447428203, "creation_date": 1447427136, "answer_id": 33695735, "question_id": 33695424, "link": "https://stackoverflow.com/questions/33695424/how-to-replace-with-evaluated-code-in-powershell/33695735#33695735", "title": "How to replace with evaluated code in powershell?", "body": "<p>Looks like it is just a syntax problem.  I have to specify the parameter and use that.  <code>$_</code> is not defined as a special default parameter.  So it would be like this:</p>\n\n<pre class=\"lang-powershell prettyprint-override\"><code>$definedVars = @{ ab = 'hello'; cd = 'there' }\n[regex]::replace('$(ab) $(cd)',\n   \"\\$\\(([^)]+)\\)\",\n   { param($m); $definedVars[$m.Groups[1].Value] } )\n</code></pre>\n\n<h1>Edit</h1>\n\n<p>As mjolinor pointed out, instead of defining the params, I could use <code>$args</code> array instead, like this:</p>\n\n<pre class=\"lang-powershell prettyprint-override\"><code>$definedVars = @{ ab = 'hello'; cd = 'there' }\n[regex]::replace('$(ab) $(cd)',\n   \"\\$\\(([^)]+)\\)\",\n   { $definedVars[$args[0].Groups[1].Value] } )\n</code></pre>\n\n<p>This is slightly better if I'm only referencing that parameter once, but if the delegate gets more complex, IMO it would still be better to use <code>param</code> to specify the parameters.</p>\n"}], "owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1447428203, "creation_date": 1447426225, "question_id": 33695424, "link": "https://stackoverflow.com/questions/33695424/how-to-replace-with-evaluated-code-in-powershell", "title": "How to replace with evaluated code in powershell?", "body": "<p>I'm having some difficulty finding a \"native\" powershell -replace call that would replace a match with something based on the match.  E.g. in perl it would be like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my %definedVars = ( ab =&gt; \"hello\", cd =&gt; \"there\" );\nmy $str = q\"$(ab) $(cd)\";\n$str =~ s/\\$\\(([^)]+)\\)/$definedVars{$1}/ge;\nprint \"$str\\n\";\n</code></pre>\n\n<p>I was thinking that in powershell, it'd be something like this:</p>\n\n<pre class=\"lang-powershell prettyprint-override\"><code>$definedVars = @{ ab = 'hello'; cd = 'there' }\n'$(ab) $(cd)' -replace \"\\$\\(([^)]+)\\)\", { $definedVars[$1] }\n</code></pre>\n\n<p>I've looked around and I think that the <code>-replace</code> switch doesn't have an deferred evaluator, so I'd have to use the .NET <code>replace</code> function, but I'm not entirely sure how that works.  I'm thinking it would be something like this:</p>\n\n<pre class=\"lang-powershell prettyprint-override\"><code>$definedVars = @{ ab = 'hello'; cd = 'there' }\n[regex]::replace('$(ab) $(cd)',\n   \"\\$\\(([^)]+)\\)\",\n   { $definedVars[$_.Groups[1].Value] } )\n</code></pre>\n\n<p>Documentation is sparse, so if you could also state where you got your info from, that would be great.</p>\n"}, {"tags": ["regex", "perl", "text"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1447427090, "last_edit_date": 1447427090, "creation_date": 1447426308, "answer_id": 33695443, "question_id": 33695234, "link": "https://stackoverflow.com/questions/33695234/printing-both-the-matched-line-and-lines-%c2%b11-upon-regex-match-1-liner/33695443#33695443", "title": "Printing both the matched line and lines &#177;1 upon regex match (1-liner)", "body": "<p>You can read the next line from the file directly using <code>scalar &lt;&gt;</code>:</p>\n\n<pre><code>perl -lane 'print, print scalar &lt;&gt;\n                if $F[3] &gt; 100000 &amp;&amp; $F[2] =~ /^C$/\n                &amp;&amp; print $last;\n            $last = $_' input\n</code></pre>\n\n<p>Or use a sliding window for overlapping matches:</p>\n\n<pre><code>perl -ane 'BEGIN { @b = map [], 1 .. 3 }\n           sub out {\n               shift @b;\n               if ($b[1][3] &gt; 100_000 &amp;&amp; $b[1][2] =~ /^C$/) {\n                   print for map $_-&gt;[-1], @b;\n               }\n            }\n            push @b, [@F, $_];\n            out()\n            }{ out()  # Process the last line\n           ' input\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1447432536, "creation_date": 1447432536, "answer_id": 33697555, "question_id": 33695234, "link": "https://stackoverflow.com/questions/33695234/printing-both-the-matched-line-and-lines-%c2%b11-upon-regex-match-1-liner/33697555#33697555", "title": "Printing both the matched line and lines &#177;1 upon regex match (1-liner)", "body": "<p>You can also use <code>seek</code> and <code>tell</code> and rewind back one line for overlapping matches:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen my $fh ,'&lt;', 'input' or die \"unable to open file: $!\\n\";\nmy $last=\"\";\nwhile(&lt;$fh&gt;){\n        my @b=split;\n        if(($b[3] &gt; 100000) &amp;&amp; ($b[2] =~ /^C$/)){\n          print $last if $last;\n          print;\n          my $t=tell $fh;\n          print scalar &lt;$fh&gt;,\"\\n\";\n          seek $fh,$t,0; #rewind          \n        }\n        $last=$_;\n}\nclose($fh);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1447441128, "last_edit_date": 1447441128, "creation_date": 1447440528, "answer_id": 33699816, "question_id": 33695234, "link": "https://stackoverflow.com/questions/33695234/printing-both-the-matched-line-and-lines-%c2%b11-upon-regex-match-1-liner/33699816#33699816", "title": "Printing both the matched line and lines &#177;1 upon regex match (1-liner)", "body": "<p>The following handles overlapping matches. <code>$N</code> is the number of lines to printe before and after the matching lines.</p>\n\n<pre><code>perl -lane'\n   BEGIN { $N = 1 }\n   if ($F[3] &gt; 100000 &amp;&amp; $F[2] =~ /^C$/) { print for splice(@buf), $_; $next=$N }\n   elsif ($next) { --$next; print }\n   else { push @buf, $_; splice @buf, 0, -$N }\n'\n</code></pre>\n\n<p>Since we know <code>$N = 1</code>, we can simplify the above into the following:</p>\n\n<pre><code>perl -lane'\n   if ($F[3] &gt; 100000 &amp;&amp; $F[2] =~ /^C$/) { print for splice(@buf), $_; $next=1 }\n   elsif ($next) { $next=0; print }\n   else { @buf = $_ }\n'\n</code></pre>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 33695443, "answer_count": 3, "score": 2, "last_activity_date": 1447441128, "creation_date": 1447425660, "question_id": 33695234, "link": "https://stackoverflow.com/questions/33695234/printing-both-the-matched-line-and-lines-%c2%b11-upon-regex-match-1-liner", "title": "Printing both the matched line and lines &#177;1 upon regex match (1-liner)", "body": "<p>How can I print a matched line as well as a line before and after it? I've currently got:</p>\n\n<pre><code>perl -lane 'print if $F[3] &gt; 100000 &amp;&amp; $F[2] =~ /^C$/ &amp;&amp; print $last; $last = $_'\n</code></pre>\n\n<p>Which is capable of printing both the matched line and a line <em>before</em> it - but I am not sure how to include the line <em>after</em>. </p>\n"}, {"tags": ["python", "perl", "cgi-bin"], "comments": [{"owner": {"reputation": 538878, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1447420556, "post_id": 33693519, "comment_id": 55158538, "body": "Why would you expect a Python server to be able to run Perl scripts?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 7, "creation_date": 1447423444, "post_id": 33693519, "comment_id": 55160302, "body": "Why do you think that you need Apache to run CGI programs?"}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 2, "creation_date": 1447428487, "post_id": 33693519, "comment_id": 55163815, "body": "Why do you want to run CGI scripts in 2015 when you can have e.g. <a href=\"http://plackperl.org/\" rel=\"nofollow noreferrer\">plack</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 5, "last_activity_date": 1447420625, "creation_date": 1447420625, "answer_id": 33693617, "question_id": 33693519, "link": "https://stackoverflow.com/questions/33693519/why-cant-we-run-perl-cgi-scripts-using-python-server-i-e-simplehttpserver/33693617#33693617", "title": "why can&#39;t we run perl cgi-scripts using python server i.e simpleHTTPServer?", "body": "<p>You don't need apache, but you need a server implementing the <a href=\"http://www.w3.org/CGI/\">CGI specification</a>. Most trivial servers don't because that's not the use case they are developed for. But it should be possible to use the python implementation <a href=\"https://docs.python.org/2/library/cgihttpserver.html\">CGIHTTPServer</a>.</p>\n"}], "owner": {"reputation": 304, "user_id": 4325761, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh6.googleusercontent.com/-fo6762HBaas/AAAAAAAAAAI/AAAAAAAAAkw/vP6q0M83YRM/photo.jpg?sz=128", "display_name": "Karan Nadagoudar", "link": "https://stackoverflow.com/users/4325761/karan-nadagoudar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447420625, "creation_date": 1447420321, "question_id": 33693519, "link": "https://stackoverflow.com/questions/33693519/why-cant-we-run-perl-cgi-scripts-using-python-server-i-e-simplehttpserver", "title": "why can&#39;t we run perl cgi-scripts using python server i.e simpleHTTPServer?", "body": "<p>why do we need apache web server to run cgi scripts? Can it be done using python simpleHTTPServer</p>\n"}, {"tags": ["windows", "perl", "batch-file", "openssl", "command"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447429514, "post_id": 33692930, "comment_id": 55164516, "body": "Tip: <code>-M&quot;Digest::SHA1 qw(sha1_base64)&quot;</code> can be shortened to <code>-MDigest::SHA1=sha1_base64</code>"}], "answers": [{"tags": [], "owner": {"reputation": 42491, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "is_accepted": true, "score": 4, "last_activity_date": 1447418743, "creation_date": 1447418743, "answer_id": 33693068, "question_id": 33692930, "link": "https://stackoverflow.com/questions/33692930/how-to-calculate-sha1-base64-encoded-in-windows-batch/33693068#33693068", "title": "How to calculate sha1 base64 encoded in windows batch?", "body": "<ul>\n<li>There's no <code>-n</code> parameter of <code>echo</code> so <code>-n</code> AND single quotes are part of the output.</li>\n<li>The intermediate files and variables aren't needed, use piping.</li>\n</ul>\n\n<p>The entire code:</p>\n\n<pre><code>openssl dgst -sha1 -binary \"C:\\test.mxf\" | openssl enc -base64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1447421418, "last_edit_date": 1447421418, "creation_date": 1447420833, "answer_id": 33693683, "question_id": 33692930, "link": "https://stackoverflow.com/questions/33692930/how-to-calculate-sha1-base64-encoded-in-windows-batch/33693683#33693683", "title": "How to calculate sha1 base64 encoded in windows batch?", "body": "<p>If you create a <code>Digest::SHA1</code> object, you can use the <code>add</code> method to calculate the hash incrementally</p>\n\n<p>There is also no need to explicitly open files passed as command-line parameters. They are opened automatically using the built-in file handle <code>ARGV</code>, and can be read with the empoty diamond operator <code>&lt;&gt;</code></p>\n\n<pre><code>perl -Mopen=IN,:raw -MDigest::SHA1 -e\"$d=Digest::SHA1-&gt;new; $d-&gt;add($_) while &lt;&gt;; print $d-&gt;b64digest, qq{=\\n}\" 5GB.bin\n</code></pre>\n\n<p>This command line was quite happy to generate the SHA1 hash of a 5GB file, but if you are unlucky enough to have a very big file that contains no linefeeds then you will have to set a read block size with something like</p>\n\n<pre><code>local $/ = \\(1024*1024)\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4498096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a34f565140780883a008f66fefb1194c?s=128&d=identicon&r=PG&f=1", "display_name": "schmiddl", "link": "https://stackoverflow.com/users/4498096/schmiddl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1147, "favorite_count": 0, "accepted_answer_id": 33693068, "answer_count": 2, "score": 1, "last_activity_date": 1484530362, "creation_date": 1447418233, "last_edit_date": 1484530362, "question_id": 33692930, "link": "https://stackoverflow.com/questions/33692930/how-to-calculate-sha1-base64-encoded-in-windows-batch", "title": "How to calculate sha1 base64 encoded in windows batch?", "body": "<p>I am trying to get a base64 encoded sha1 hash in a windows batch file.\nThe first thing I tried was with perl:</p>\n\n<pre><code>perl -M\"Digest::SHA1 qw(sha1_base64)\" -e \"open(F,shift) or die; binmode F; print sha1_base64(&lt;F&gt;), qq(=\\n)\" \"test.mxf\"\n</code></pre>\n\n<p>This works great, but only for small files. With big files it says \"Out of memory\".</p>\n\n<p>Then I downloaded an openssl version for windows and tried this:</p>\n\n<pre><code>\"C:\\openssl.exe\" dgst -sha1 -binary -out \"hash_sha1.txt\" \"C:\\test.mxf\"\nset /p hash_sha1=&lt;\"hash_sha1.txt\"\ndel \"hash_sha1.txt\"\necho !hash_sha1!\n\necho -n '!hash_sha1!' | \"C:\\openssl.exe\" enc -base64\n</code></pre>\n\n<p>But the output of the openssl method is different from the Perl output and I know that the Perl method produces the correct output. What do I have to change?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1447402997, "post_id": 33688112, "comment_id": 55148987, "body": "<code>my @AoA = map [$g-&gt;strongly_connected_component_by_index($_)], 0..2;</code> <a href=\"http://perldoc.perl.org/perldsc.html#Declaration-of-an-ARRAY-OF-ARRAYS\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldsc.html#Declaration-of-an-ARRAY-OF-ARR&zwnj;&#8203;AYS</a>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1447404151, "post_id": 33688112, "comment_id": 55149547, "body": "You don&#39;t want dynamic variable names, that is a bad idea. It does not work with <code>use strict</code>, for one thing, and that is really bad. When you want dynamic names, you most often want a hash: <code>$hash{&#39;name&#39;} = &#39;Fred&#39;</code>. But in your case, an array of arrays would be simpler. <code>$AoA[$index] = [ $g-&gt; .... ($index) ]</code>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1447420873, "post_id": 33688112, "comment_id": 55158721, "body": "I&#39;m with @TLP, and here&#39;s an excellent 3-part story as to why you want to use a hash instead: <a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow noreferrer\">perl.plover.com/varvarname.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1447430137, "last_edit_date": 1447430137, "creation_date": 1447422511, "answer_id": 33694218, "question_id": 33688112, "link": "https://stackoverflow.com/questions/33688112/loops-in-arrays/33694218#33694218", "title": "Loops in arrays", "body": "<p>For the love of all things good, use a hash instead. In this case, you'd build an array-of-arrays:</p>\n\n<pre><code>my @components_by_index;\nfor (0..2) {\n    $components_by_index[$_] = [ $g-&gt;strongly_connected_component_by_index($_) ];\n}\n\nprint \"$components_by_index[0][0]\\n\";\n</code></pre>\n\n<p>Mark Jason Dominus wrote a fabulous three-part story on not using variable values as variable names: <a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow\">http://perl.plover.com/varvarname.html</a></p>\n"}], "owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1447430137, "creation_date": 1447401741, "last_edit_date": 1447404241, "question_id": 33688112, "link": "https://stackoverflow.com/questions/33688112/loops-in-arrays", "title": "Loops in arrays", "body": "<p>Hi\uff0c I has a question in <code>Graph::Directed</code> using perl. I want to change the array name according to different index. How can I done this by only one loop to change the array name with the change of index. Below is the example that I want to show. </p>\n\n<pre><code>@v  = $g-&gt; strongly_connected_component_by_index(0);\n@v1 = $g-&gt; strongly_connected_component_by_index(1);\n@v2 = $g-&gt; strongly_connected_component_by_index(2);\n</code></pre>\n\n<p>Your respond are highly appreciated. Thank you.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3, "user_id": 5557716, "user_type": "registered", "profile_image": "https://graph.facebook.com/972237479515359/picture?type=large", "display_name": "Nagaraj Baddi", "link": "https://stackoverflow.com/users/5557716/nagaraj-baddi"}, "edited": false, "score": 0, "creation_date": 1447397266, "post_id": 33687259, "comment_id": 55146662, "body": "@the beginning I have a . and I want see only a_b_c"}, {"owner": {"reputation": 3, "user_id": 5557716, "user_type": "registered", "profile_image": "https://graph.facebook.com/972237479515359/picture?type=large", "display_name": "Nagaraj Baddi", "link": "https://stackoverflow.com/users/5557716/nagaraj-baddi"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447397943, "post_id": 33687259, "comment_id": 55146918, "body": "$key = substr($_ ,0, index($_, &#39;(&#39;));"}, {"owner": {"reputation": 3, "user_id": 5557716, "user_type": "registered", "profile_image": "https://graph.facebook.com/972237479515359/picture?type=large", "display_name": "Nagaraj Baddi", "link": "https://stackoverflow.com/users/5557716/nagaraj-baddi"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447397990, "post_id": 33687259, "comment_id": 55146932, "body": "but I am getting the beginning dot also which I don&#39;t want"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1447398614, "post_id": 33687259, "comment_id": 55147171, "body": "Beginning dot? I don&#39;t even see a period/full stop in your example."}, {"owner": {"reputation": 3, "user_id": 5557716, "user_type": "registered", "profile_image": "https://graph.facebook.com/972237479515359/picture?type=large", "display_name": "Nagaraj Baddi", "link": "https://stackoverflow.com/users/5557716/nagaraj-baddi"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447399132, "post_id": 33687259, "comment_id": 55147379, "body": "sorry that&#39;s by mistake the string is like .a_b_c(x_y_z), with      $key = substr($_ ,0, index($_, &#39;(&#39;));  I am getting .a_b_c but I want only a_b_c"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447399526, "post_id": 33687259, "comment_id": 55147536, "body": "Then start <code>substr</code> at 1 instead of 0."}, {"owner": {"reputation": 3, "user_id": 5557716, "user_type": "registered", "profile_image": "https://graph.facebook.com/972237479515359/picture?type=large", "display_name": "Nagaraj Baddi", "link": "https://stackoverflow.com/users/5557716/nagaraj-baddi"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447399677, "post_id": 33687259, "comment_id": 55147600, "body": "ya I tried but its printing even the bracket that I    .a_b_c("}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1447400289, "post_id": 33687259, "comment_id": 55147836, "body": "That&#39;s because the third parameter is the length, not the index of the character to stop at. You probably want: <code>print $1 if &#47;^\\.([^(]+)&#47;;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447402630, "post_id": 33687259, "comment_id": 55148800, "body": "<code>my ($result) = m&#47;(\\w+)&#47;;</code>"}, {"owner": {"reputation": 3, "user_id": 5557716, "user_type": "registered", "profile_image": "https://graph.facebook.com/972237479515359/picture?type=large", "display_name": "Nagaraj Baddi", "link": "https://stackoverflow.com/users/5557716/nagaraj-baddi"}, "edited": false, "score": 0, "creation_date": 1447405233, "post_id": 33687259, "comment_id": 55150137, "body": "Thanks Jacob ,Sobrique and choroba its working:)"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1447404478, "creation_date": 1447404478, "answer_id": 33688813, "question_id": 33687259, "link": "https://stackoverflow.com/questions/33687259/how-to-print-part-of-string-which-is-of-kind-mentioned-below/33688813#33688813", "title": "How to print part of string which is of kind mentioned below", "body": "<pre><code>my $s = '.a_b_c(x_y_z)';\nprint substr $s =~ s/\\(.*\\)//r, 1;\n</code></pre>\n\n<p>The substitution removes the parenthesised part, <code>substr</code> removes the dot.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1447407404, "creation_date": 1447407404, "answer_id": 33689655, "question_id": 33687259, "link": "https://stackoverflow.com/questions/33687259/how-to-print-part-of-string-which-is-of-kind-mentioned-below/33689655#33689655", "title": "How to print part of string which is of kind mentioned below", "body": "<p>It is probably best to use a regex pattern for this</p>\n\n<pre><code>use v5.10;\n\nmy $s = '.a_b_c(x_y_z)';\n\nmy ($ss) = $s =~ /(\\w+)/;\n\nsay $ss;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>a_b_c\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5557716, "user_type": "registered", "profile_image": "https://graph.facebook.com/972237479515359/picture?type=large", "display_name": "Nagaraj Baddi", "link": "https://stackoverflow.com/users/5557716/nagaraj-baddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1448238119, "accepted_answer_id": 33689655, "answer_count": 2, "score": -8, "last_activity_date": 1447407404, "creation_date": 1447397190, "last_edit_date": 1447406132, "question_id": 33687259, "link": "https://stackoverflow.com/questions/33687259/how-to-print-part-of-string-which-is-of-kind-mentioned-below", "closed_reason": "Needs details or clarity", "title": "How to print part of string which is of kind mentioned below", "body": "<p><code>.a_b_c(x_y_z)</code>, this is my string so the question is how to get only <code>a_b_c</code></p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["xml", "perl", "xpath", "xml-libxml"], "comments": [{"owner": {"reputation": 25081, "user_id": 4804629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vGzEm.jpg?s=128&g=1", "display_name": "splash58", "link": "https://stackoverflow.com/users/4804629/splash58"}, "edited": false, "score": 0, "creation_date": 1447400282, "post_id": 33686856, "comment_id": 55147834, "body": "as a variant <code>&#47;*[translate(name(),&#39;alinvoice&#39;,&#39;ALINVOICES&#39;)=&#39;ALLINVOICES&#39;]</code>&zwnj;&#8203;..."}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 0, "creation_date": 1447410638, "post_id": 33686856, "comment_id": 55153116, "body": "Does the solution have to support mixed case? In case it doesn&#39;t, use <code>(&#47;ALLINVOICES&#47;INVOICES&#47;INVOICE|&#47;allinvoices&#47;invoices&#47;invoice&zwnj;&#8203;)</code> as your XPath expression."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447430232, "post_id": 33692410, "comment_id": 55164998, "body": "Note: Clobbers CDATA sections and comments."}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447430796, "post_id": 33692410, "comment_id": 55165400, "body": "@ikegami: Right. Thanks for pointing out this issue,willupdate the answer accordingly."}], "tags": [], "owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "is_accepted": false, "score": 0, "last_activity_date": 1447432608, "last_edit_date": 1447432608, "creation_date": 1447416392, "answer_id": 33692410, "question_id": 33686856, "link": "https://stackoverflow.com/questions/33686856/how-to-find-nodes-case-insensitive-using-xmllibxml/33692410#33692410", "title": "How to find nodes case-insensitive using XML::LibXML", "body": "<p>A string preprocessing stage to normalize element names into lowercase might help you:</p>\n\n<pre><code>my $xmlstring = '';\n{\n    local $/;\n    $xmlstring = &lt;DATA&gt;;\n}\n\n#\n# Turns all element names into lowercase.\n# Works as well with uppercase ( replace lc with uc )\n#\n# !!! The usual caveats wrt processing semistructured data with regexen apply (ie. don't try more complex transformations purely by changing the regex pattern )\n#\n$xmlstring =~ s#(&lt;[/]?[^/&gt;[:space:]]+)#lc($1)#eg; # all element names\n\nmy $dom = XML::LibXML-&gt;new-&gt;parse_string( $xmlstring);\n# ...\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>The presented solution handles comments and cdata sections incorrectly (as pointed out by @ikegami). In order be safe according to <a href=\"http://www.w3.org/TR/REC-xml/#NT-Name\" rel=\"nofollow\">the specs</a>, the first character of an element name must belong to the following character class:</p>\n\n<pre><code>  [:_a-zA-Z\\x{c0}-\\x{d6}\\x{d8}-\\x{f6}\\x{f8}-\\x{ff}\\x{0370}-\\x{037d}\\x{037f}-\\x{1fff}\\x{200c}\\x{200d}\\x{2070}-\\x{218f}\\x{2c00}-\\x{2fef}\\x{3001}-\\x{d7ff}\\x{f900}-\\x{fdcf}\\x{fdf0}-\\x{fffd}\\N{U+10000}-\\n{U+EFFFF}]\n</code></pre>\n\n<p>This monster would be inserted between <code>[/]?</code> and <code>[^/&gt;[:space:]]*</code> (observe the changed repetition modifier) in the regex pattern of the code section above.</p>\n"}, {"tags": [], "owner": {"reputation": 137664, "user_id": 252228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ea75023c3c487f36257090d420b7c50?s=128&d=identicon&r=PG", "display_name": "Martin Honnen", "link": "https://stackoverflow.com/users/252228/martin-honnen"}, "is_accepted": false, "score": 0, "last_activity_date": 1447423394, "creation_date": 1447423394, "answer_id": 33694506, "question_id": 33686856, "link": "https://stackoverflow.com/questions/33686856/how-to-find-nodes-case-insensitive-using-xmllibxml/33694506#33694506", "title": "How to find nodes case-insensitive using XML::LibXML", "body": "<p>XML and XPath are always case-sensitive, so you would need to write code that converts the strings to upper or lower case to compare them. I think <code>LibXML::XPathContext</code> allows you to register additional functions so you could write a function in Perl that you call from XPath with the node and the name you want to compare and return true or false as needed:</p>\n\n<pre><code>$xpc-&gt;registerFunction('tn', sub { my ($node,$name) = @_; if (lc($node-&gt;item(0)-&gt;localName) eq $name) { return XML::LibXML::Boolean-&gt;True; } else { return XML::LibXML::Boolean-&gt;False;} });\n\nmy @invoices = $xpath-&gt;findnodes('/*[tn(., \"allinvoices\")]/*[tn(., \"invoices\")]/*[tn(., \"invoice\")]');\n</code></pre>\n\n<p>That is however only slightly shorter than using <code>translate</code> in XPath, as already suggested in a comment, when writing (lots of) long XPath expressions.</p>\n"}], "owner": {"reputation": 517, "user_id": 151606, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a481144856d949e3e291783679358f92?s=128&d=identicon&r=PG", "display_name": "est", "link": "https://stackoverflow.com/users/151606/est"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 556, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1447432608, "creation_date": 1447394737, "question_id": 33686856, "link": "https://stackoverflow.com/questions/33686856/how-to-find-nodes-case-insensitive-using-xmllibxml", "title": "How to find nodes case-insensitive using XML::LibXML", "body": "<p>I need to find nodes in an XML file which needs to be case-insensitive. The following code works but only if none of the element is in lower case:</p>\n\n<pre><code>my $dom = XML::LibXML-&gt;new-&gt;parse_fh(*DATA);\nmy $xpc = XML::LibXML-&gt;XPathContext-&gt;new( $dom-&gt;documentElement );\nmy @invoices = $xpc-&gt;findnodes( \"/ALLINVOICES/INVOICES/INVOICE\" );\n\n__DATA__\n&lt;ALLINVOICES&gt;\n  &lt;INVOICES&gt;\n    &lt;INVOICE number=\"12345\"&gt;\n       &lt;CUSTOMER&gt;Mr Fubar&lt;/CUSTOMER&gt;\n    &lt;/INVOICE&gt;\n  &lt;/INVOICES&gt;\n&lt;/ALLINVOICES&gt;\n</code></pre>\n\n<p>How do I fix it so that it also accepts <code>&lt;allinvoices&gt;&lt;invoices&gt;&lt;invoice&gt;</code> ?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1447370242, "post_id": 33683216, "comment_id": 55139453, "body": "<code>((\\r\\n)|\\n|\\r){2}</code> is wrong since it can match a single newline <code>\\r\\n</code>, change it to <code>(?:\\n\\n|\\r\\n?\\r\\n?)</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1447370801, "post_id": 33683216, "comment_id": 55139661, "body": "How about <code>s&#47;^.*?\\R{2,}&#47;&#47;s</code>"}, {"owner": {"reputation": 11551, "user_id": 12148, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7f34dc90c281d1722994a02124756df5?s=128&d=identicon&r=PG", "display_name": "David Waters", "link": "https://stackoverflow.com/users/12148/david-waters"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447371146, "post_id": 33683216, "comment_id": 55139770, "body": "@Borodin is you put that in as an answer I would give you internet points! (It Worked thanks heaps!)"}], "answers": [{"comments": [{"owner": {"reputation": 11551, "user_id": 12148, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7f34dc90c281d1722994a02124756df5?s=128&d=identicon&r=PG", "display_name": "David Waters", "link": "https://stackoverflow.com/users/12148/david-waters"}, "edited": false, "score": 0, "creation_date": 1447371501, "post_id": 33683433, "comment_id": 55139882, "body": "Thank you very much, here are some internet points! But it looks like you already have quite a few :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11551, "user_id": 12148, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7f34dc90c281d1722994a02124756df5?s=128&d=identicon&r=PG", "display_name": "David Waters", "link": "https://stackoverflow.com/users/12148/david-waters"}, "edited": false, "score": 0, "creation_date": 1447371914, "post_id": 33683433, "comment_id": 55140015, "body": "@DavidWaters: I&#39;m pleased to have helped you. Ignore the numbers, I&#39;m just a regular guy who happens to know some stuff about programming!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1447371254, "creation_date": 1447371254, "answer_id": 33683433, "question_id": 33683216, "link": "https://stackoverflow.com/questions/33683216/perl-regex-matching-from-start-of-file-to-pattern/33683433#33683433", "title": "Perl Regex: Matching From Start of File to Pattern", "body": "<blockquote>\n  <p>m multiline to allow . to match \\r\\n</p>\n</blockquote>\n\n<p>The <code>/m</code> modifier affects only the <code>^</code> and <code>$</code> characters. You need <code>/s</code> which allows <code>.</code> to match LF</p>\n\n<blockquote>\n  <p>((\\r\\n)|\\n|\\r){2} => two new lines</p>\n</blockquote>\n\n<p>There is a metacharacter that does this already - <code>\\R</code></p>\n\n<p>I suggest that something like</p>\n\n<pre><code>$decoded =~ s/^.*?\\R{2,}//s\n</code></pre>\n\n<p>will do what you want</p>\n"}], "owner": {"reputation": 11551, "user_id": 12148, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7f34dc90c281d1722994a02124756df5?s=128&d=identicon&r=PG", "display_name": "David Waters", "link": "https://stackoverflow.com/users/12148/david-waters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 0, "accepted_answer_id": 33683433, "answer_count": 1, "score": 0, "last_activity_date": 1447371254, "creation_date": 1447370106, "last_edit_date": 1447370554, "question_id": 33683216, "link": "https://stackoverflow.com/questions/33683216/perl-regex-matching-from-start-of-file-to-pattern", "title": "Perl Regex: Matching From Start of File to Pattern", "body": "<p>I have an XML file containing a number of HTTP responses including the HTTP headers, I am wanting to write the individual responses out to file with just the content not the header. I am struggling to remove the HTTP headers at the start of the file with out messing with the rest</p>\n\n<pre><code>#!/usr/bin/perl\nuse XML::Simple;\nuse MIME::Base64;\nuse URI::Escape;\n\n#CheckArgs\n....\nmy $input = $ARGV[0];\n\n# Parse XML\nmy $xml = new XML::Simple;\nmy $data = $xml-&gt;XMLin(\"$input\");\n\n# Iterate through the file\nfor (my $i=0; $i &lt; @{$data-&gt;{item}}; $i++){ \n    my $status = $data-&gt;{item}[$1]-&gt;{status};\n    my $path = $data-&gt;{item}[$i]-&gt;{path};\n    if ($status != \"200\") {\n        print \"Skipping $path due to status of $status\\n\";\n        next;\n    }\n    print \"$status $path\\n\";\n    my $filename = uri_escape($path);\n    # The Content is Base64 Encoded\n    my $encoded = $data-&gt;{item}[$i]-&gt;{response}-&gt;{content};\n    my $decoded = decode_base64($encoded);\n\n    # Remove HTTP headers\n    $decoded =~ s/^(.*?)((\\r\\n)|\\n|\\r){2}//gm; \n    open(IMGFILE, \"&gt; $filename\") or die(\"Can't open $filename: \".$@);\n    binmode IMGFILE;\n    print IMGFILE $decoded;\n    close IMGFILE;\n}\n</code></pre>\n\n<p><code>$decoded</code> looks like this before before the search and replace</p>\n\n<pre><code>HTTP/1.1 200 OK\nServer: nginx\nDate: Thu, 12 Nov 2025 20:79:99 GMT\nContent-Type: application/pdf\nContent-Length: 88151\nLast-Modified: Mon, 14 Sep 2025 20:79:99 GMT\nConnection: keep-alive\nETag: \"123123-123546\"\nExpires: Thu, 19 Nov 2025 20:79:99 GMT\nCache-Control: max-age=123456\nAccept-Ranges: bytes\n\n\n%PDF-1.6\n%\u00e2\u00e3\u00cf\u00d3\n54 0 obj\n&lt;&lt; \n/Linearized 1 \n/O 56 \n/H [ 720 305 ] \n/L 45164 \n/E 7644 \n/N 10 \n/T 43966 \n&gt;&gt; \nendobj\n[Lots more binary and text]\n</code></pre>\n\n<p>So I am trying to match from the start of the file to the first instance of two new lines with the following line:</p>\n\n<pre><code>$decoded =~ s/^(.*?)((\\r\\n)|\\n|\\r){2}//m;\n# s =&gt; Search Replace\n# ^ =&gt; Start of file\n# (.*?) =&gt; Non-greedy match anything including \\r and \\n\n# ((\\r\\n)|\\n|\\r){2} =&gt; two new lines \n# // =&gt; Replace with empty string\n# m multiline to allow . to match \\r\\n\n</code></pre>\n\n<p>After an amount of playing with the regex I am failing to get result I want, from the example above I would want my new file starting with the characters <code>%PDF-1.6</code> those characters and everything after them should be unaltered. Please note the PDF file is just an example, there a lot of other file types I want this to work with.</p>\n\n<h1>EDIT 1</h1>\n\n<pre><code>$decoded =~ s/^(.*?)((\\r\\n)|\\n|\\r){2}//m; \n# matches \\r\\n due to or. So Try\n$decoded =~ s/^(.*?)((\\r\\n)|([^\\r]\\n)|(\\r[^\\n])){2}//m;\n</code></pre>\n"}, {"tags": ["python", "bash", "perl", "awk", "duplicates"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1447411720, "post_id": 33682692, "comment_id": 55153719, "body": "Are there always no more than 2 consecutive occurrences of a given $2? What if the same $2 had different $1s - ignore the $1s or handle it differently? Why are <code>400102-25,,90002111,5</code> and <code>400102-25,7:05,90002106,6</code> in the output (and others)? Clean it up to be accurate or explain why some blocks of output follow different rules than others if it is already correct."}, {"owner": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1447422897, "post_id": 33682692, "comment_id": 55159982, "body": "@EdMorton There may be more than 2 consecutive occurrences of a given $2. $1 will always be identical for a sub-cycle of $5 (e.g. 1 to 6, or 1 to 7). What is important here is to make sure that first and last occurrence of a sub-cycle of $5 is always kept, while all repetitions of $2 are being removed.  A-ray is providing the correct code below. However, it&#39;ll not remove &gt;2 consecutive occurrences of a given $2 (which is consistent with my stated problem anyway - my bad)."}, {"owner": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1447425096, "post_id": 33682692, "comment_id": 55161467, "body": "I have edited the input and output files according to the above."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "edited": false, "score": 0, "creation_date": 1447425511, "post_id": 33684530, "comment_id": 55161778, "body": "Thanks for the suggestion. However, this solution does not accommodate the requirement that the <i>first</i> and <i>last</i> occurrence of each $5 cycle should be kept."}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "reply_to_user": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "edited": false, "score": 0, "creation_date": 1447428741, "post_id": 33684530, "comment_id": 55163973, "body": "Oh, I misunderstood that part.  However, the logic is destructive (not reversible) since you may never know what was removed from for example in this line <code>6004-10,,90006033,7</code>  13.30 or 13.40"}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 1, "last_activity_date": 1447378813, "last_edit_date": 1447378813, "creation_date": 1447378341, "answer_id": 33684530, "question_id": 33682692, "link": "https://stackoverflow.com/questions/33682692/remove-duplicates-but-keep-first-and-last-record-of-sequence/33684530#33684530", "title": "Remove duplicates but keep first and last record of sequence", "body": "<p><code>awk</code> to the rescue</p>\n\n<pre><code>$ awk 'BEGIN{FS=OFS=\",\"} \n            {if(a[$1]==$2) $2=\"\"; \n             else a[$1]=$2}1' file       \n\n400102-25,6:50,90005002,1\n400102-25,,90005004,2\n400102-25,7:00,90002109,3\n400102-25,,90002107,4\n400102-25,7:05,90002111,5\n400102-25,,90002106,6\n600004-10,13:05,90006017,1\n600004-10,,90006022,2\n600004-10,13:20,90006030,3\n600004-10,,90006015,4\n600004-10,13:30,90006034,5\n600004-10,13:40,90006033,6\n600004-10,,90006002,7\n</code></pre>\n\n<p>Note that your sample output sometime removes the first instance of the duplicates not the second.  This will leave the first and remove the duplicates.</p>\n"}, {"tags": [], "owner": {"reputation": 707, "user_id": 5413164, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/97914965b4454c77a6c2891a9a4435cc?s=128&d=identicon&r=PG&f=1", "display_name": "weiweishuo", "link": "https://stackoverflow.com/users/5413164/weiweishuo"}, "is_accepted": false, "score": 0, "last_activity_date": 1447385405, "last_edit_date": 1447385405, "creation_date": 1447379878, "answer_id": 33684744, "question_id": 33682692, "link": "https://stackoverflow.com/questions/33682692/remove-duplicates-but-keep-first-and-last-record-of-sequence/33684744#33684744", "title": "Remove duplicates but keep first and last record of sequence", "body": "<p>For lua-shell, write like this:</p>\n\n<pre><code>wws$ `cat demo/7.lua\nvim:open(\"demo/7.txt\")\nlnum_of_b=new()     --line count of block\nlineid = 0\nfunction collect()\n    last_id = -1\n    bid = 0     --block id\n    for i = 0, vim.lmax do\n        vim:Gn(i)\n        :$\n        if(vim:atoi() -1 ~= last_id) \n            bid = bid + 1\n            lnum_of_b[bid] = 0;\n        lnum_of_b[bid] = lnum_of_b[bid] + 1 \n        last_id = vim:atoi()\n    end\nend\nfunction do_block(lnum)\n    prev_time = \"\"\n    for i = 1, lnum do\n        vim:Gn( lineid )\n        :f,wvf,y:\n        if( vim:clipboard() == prev_time)\n            if i == lnum then vim:k()   end\n            :^f,wvf,hx: \n        else prev_time = vim:clipboard();\n        lineid = lineid + 1\n    end\nend\n\ncollect()\nfor i = 1, #blocks do   do_block( lnum_of_b[i] )    end\n\nvim:print()\n</code></pre>\n\n<p>here is the a demo on my machine:</p>\n\n<pre><code>wws$ source demo/7.lua\n400102-25,6:50,90005002,1\n400102-25,,90005004,2\n400102-25,7:00,90002109,3\n400102-25,,90002107,4\n400102-25,,90002111,5\n400102-25,7:05,90002106,6\n600004-10,13:05,90006017,1\n600004-10,,90006022,2\n600004-10,13:20,90006030,3\n600004-10,,90006015,4\n600004-10,13:30,90006034,5\n600004-10,,90006033,6\n600004-10,13:40,90006002,7\n</code></pre>\n\n<p>I think i didn't mistake your meaning: you want the last line of a block to be keeped and turn to delelte the repeated line beyond it. Yes?\nthe script above is not the best, because luashell is far from complete, but it can fulfil the aim in awkward measure.\nAnd this is just his philosophy: you can always accomplish the goals.</p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "edited": false, "score": 0, "creation_date": 1447427573, "post_id": 33684860, "comment_id": 55163194, "body": "This is actually the correct code to my originally stated problem. My bad I omitted to include examples where $2 is being repeated &gt;2 times consecutively. Please note that I&#39;ve edited the original input and output to reflect this. Is there a way to modify the code to take this into account as well?"}], "tags": [], "owner": {"reputation": 1406, "user_id": 3958549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jx4XS.jpg?s=128&g=1", "display_name": "bian", "link": "https://stackoverflow.com/users/3958549/bian"}, "is_accepted": false, "score": 1, "last_activity_date": 1447430091, "last_edit_date": 1447430091, "creation_date": 1447380774, "answer_id": 33684860, "question_id": 33682692, "link": "https://stackoverflow.com/questions/33682692/remove-duplicates-but-keep-first-and-last-record-of-sequence/33684860#33684860", "title": "Remove duplicates but keep first and last record of sequence", "body": "<p><strong>Update</strong>:</p>\n\n<pre><code>awk 'BEGIN{FS=OFS=\",\"}\nfunction w(k){\n    for(i in a){\n        s=split(a[i],t)\n        delete a[i]\n    }\n    for(i=1;i&lt;=s;i+=4){\n        if((k || $1!=t[1])&amp;&amp; i+3!=s){\n            t[i+1]=\"\"\n        }else{\n            t[i+5]=\"\"\n        }\n        print t[i],t[i+1],t[i+2],t[i+3]\n    }\n}\n{if($1$2 in a){a[$1$2]=a[$1$2]\",\"$0}else{w();a[$1$2]=$0}}\nEND{w(1)}' file\n\n400102-25,6:50,90005002,1\n400102-25,,90005004,2\n400102-25,7:00,90002109,3\n400102-25,,90002107,4\n400102-25,,90002111,5\n400102-25,7:05,90002106,6\n6004-10,13:05,90006017,1\n6004-10,,90006022,2\n6004-10,13:20,90006030,3\n6004-10,,90006015,4\n6004-10,,90006019,5\n6004-10,13:30,90006034,6\n6004-10,,90006033,7\n6004-10,13:40,90006002,8\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "edited": false, "score": 0, "creation_date": 1447427703, "post_id": 33685581, "comment_id": 55163285, "body": "I cannot have your script to work on MacOS (which does have perl, perl5.16, perl5.18 in the /usr/bin directory). I get this error message <code>Name &quot;main::DATA&quot; used only once: possible typo at script.pl line 7. readline() on unopened filehandle DATA at script.pl line 7.</code>"}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "reply_to_user": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "edited": false, "score": 1, "creation_date": 1447437402, "post_id": 33685581, "comment_id": 55169726, "body": "DATA is the <b>DATA</b> file included at the bottom of the script. DATA is often used in demonstration programs (like mine above) rather than an actual file. If you had included it with the script, as above, the program would have run OK. In your situation, if your input was in <code>dat.txt</code>, your command line would look like: <code>perl script.pl dat.txt</code> and the <code>while</code> loop would have been <code>while (&lt;&gt;)</code> without the DATA as above. Seeing from your <i>updated</i> data example, my assumption that the groups were in ascending order is false. The program would need s few changes using perhaps <code>Tie::IxHash</code>"}, {"owner": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "edited": false, "score": 0, "creation_date": 1447451851, "post_id": 33685581, "comment_id": 55176975, "body": "Thank you for this instruction (and the script, of course), now it works very well. Except for the sorting it does, as you point out, which means that the output has a different sorting compared to the input (after my data updates)."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "reply_to_user": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "edited": false, "score": 1, "creation_date": 1447452377, "post_id": 33685581, "comment_id": 55177207, "body": "@Eocene See my updated section - it will retain the order of the input file."}, {"owner": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "edited": false, "score": 0, "creation_date": 1447453324, "post_id": 33685581, "comment_id": 55177611, "body": "Yes I see it now! It does the job flawlessly. Thank you!"}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 2, "last_activity_date": 1447452231, "last_edit_date": 1447452231, "creation_date": 1447386358, "answer_id": 33685581, "question_id": 33682692, "link": "https://stackoverflow.com/questions/33682692/remove-duplicates-but-keep-first-and-last-record-of-sequence/33685581#33685581", "title": "Remove duplicates but keep first and last record of sequence", "body": "<p>This solution makes several assumptions. That the first field is the same for the sequence of numbers from 1 to ... , that the first field is the same width (number of characters) for every sequence and that the first field is in sorted order. It does not use the last field to determine the group of records but determines that by the first field instead.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %data;\n\nwhile (&lt;DATA&gt;) {\n    my ($key, @tmp) = split /,/;\n    push @{ $data{$key} }, \\@tmp;\n}\n\nfor my $key (sort keys %data) {\n    my $aref = $data{$key};\n    my $end = $aref-&gt;[-1][0];\n\n    for my $rec (reverse @$aref[1 .. $#$aref - 1]) {\n        if ($rec-&gt;[0] eq $end) {\n            $rec-&gt;[0] = ''; \n        }\n        else {\n            last;   \n        }\n    }\n    my $beg = $aref-&gt;[0][0];\n\n    for my $rec (@$aref[1 .. $#$aref - 1]) {\n        if ($rec-&gt;[0] eq $beg) {\n            $rec-&gt;[0] = ''; \n        }\n        else {\n            $beg = $rec-&gt;[0];\n        }\n    }\n    for my $line (@$aref) {\n        print join \",\", $key, @$line;   \n    }\n}\n\n\n__DATA__\n400102-25,6:50,90005002,1\n400102-25,6:50,90005004,2\n400102-25,7:00,90002109,3\n400102-25,7:00,90002107,4\n400102-25,7:05,90002111,5\n400102-25,7:05,90002106,6\n600004-10,13:05,90006017,1\n600004-10,13:05,90006022,2\n600004-10,13:20,90006030,3\n600004-10,13:20,90006015,4\n600004-10,13:30,90006034,5\n600004-10,13:40,90006033,6\n600004-10,13:40,90006002,7\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>400102-25,6:50,90005002,1\n400102-25,,90005004,2\n400102-25,7:00,90002109,3\n400102-25,,90002107,4\n400102-25,,90002111,5\n400102-25,7:05,90002106,6\n600004-10,13:05,90006017,1\n600004-10,,90006022,2\n600004-10,13:20,90006030,3\n600004-10,,90006015,4\n600004-10,13:30,90006034,5\n600004-10,,90006033,6\n600004-10,13:40,90006002,7\n</code></pre>\n\n<h2><strong>Update</strong></h2>\n\n<p>To adjust to your new data requirements, I took out the hash and used an array instead, (to retain the original order of the input file). Note the command you would use to run the program would be something like:</p>\n\n<pre><code>perl test.pl dat3.txt\n</code></pre>\n\n<p>where <code>test.pl</code> is your program name and <code>dat3.txt</code> is the input file to process.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @data = [split /,/, &lt;&gt;];\nmy $i = $data[0][3];\n\nwhile (&lt;&gt;) {\n    my @temp = split /,/;\n    if ($temp[3] == ++$i) {\n        push @data, \\@temp; \n    }\n    else {\n        process(@data);\n        @data = \\@temp;\n        $i = $data[0][3];   \n    }\n}\n\nprocess(@data);\n\nsub process {\n    my @data = @_;\n\n    my $end = $data[-1][1];\n    for my $rec (reverse @data[1 .. $#data - 1]) {\n        if ($rec-&gt;[1] eq $end) {\n            $rec-&gt;[1] = ''; \n        }\n        else {\n            last;   \n        }\n    }\n    my $beg = $data[0][1];\n\n    for my $rec (@data[1 .. $#data - 1]) {\n        if ($rec-&gt;[1] eq $beg) {\n            $rec-&gt;[1] = ''; \n        }\n        else {\n            $beg = $rec-&gt;[1];\n        }\n    }\n    print map join(\",\", @$_), @data;\n}\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>400102-25,6:50,90005002,1\n400102-25,,90005004,2\n400102-25,7:00,90002109,3\n400102-25,,90002107,4\n400102-25,,90002111,5\n400102-25,7:05,90002106,6\n6004-10,13:05,90006017,1\n6004-10,,90006022,2\n6004-10,13:20,90006030,3\n6004-10,,90006015,4\n6004-10,,90006019,5\n6004-10,13:30,90006034,6\n6004-10,,90006033,7\n6004-10,13:40,90006002,8\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7503, "user_id": 3874768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/nmQTg.jpg?s=128&g=1", "display_name": "repzero", "link": "https://stackoverflow.com/users/3874768/repzero"}, "is_accepted": false, "score": 0, "last_activity_date": 1447386871, "creation_date": 1447386871, "answer_id": 33685666, "question_id": 33682692, "link": "https://stackoverflow.com/questions/33682692/remove-duplicates-but-keep-first-and-last-record-of-sequence/33685666#33685666", "title": "Remove duplicates but keep first and last record of sequence", "body": "<p><strong>Some import points</strong></p>\n\n<pre><code>awk '{FS=OFS=\",\"} { if(!seen[$1 $2]++) \n</code></pre>\n\n<p>..\nreplace <code>FS=OFS=\",\"</code> with <code>BEGIN{FS=OFS=\",\"}</code>  or possible declarations can be made outside your awk statement </p>\n\n<p>remove <code>++</code> from your array <code>seen[$1 $2]++</code>.. this <code>++</code> gaves the variable a counter value</p>\n\n<p>A short one liner below might work perhaps</p>\n\n<pre><code>awk -v FS=',' -v OFS=',' '{if(($1 in a) &amp;&amp; (a[$1]==$2)){$2=\"\";print}else{print;a[$1]=$2;}}'\n</code></pre>\n\n<p>output</p>\n\n<pre><code>400102-25,6:50,90005002,1\n400102-25,,90005004,2\n400102-25,7:00,90002109,3\n400102-25,,90002107,4\n400102-25,7:05,90002111,5\n400102-25,,90002106,6\n600004-10,13:05,90006017,1\n600004-10,,90006022,2\n600004-10,13:20,90006030,3\n600004-10,,90006015,4\n600004-10,13:30,90006034,5\n600004-10,13:40,90006033,6\n600004-10,,90006002,7\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5407895, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b5114b25b93f7fc3f212fb36a3e0d600?s=128&d=identicon&r=PG&f=1", "display_name": "Eocene", "link": "https://stackoverflow.com/users/5407895/eocene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 33685581, "answer_count": 5, "score": 2, "last_activity_date": 1447452231, "creation_date": 1447367547, "last_edit_date": 1447424999, "question_id": 33682692, "link": "https://stackoverflow.com/questions/33682692/remove-duplicates-but-keep-first-and-last-record-of-sequence", "title": "Remove duplicates but keep first and last record of sequence", "body": "<p>If input file is:</p>\n\n<pre><code>400102-25,6:50,90005002,1\n400102-25,6:50,90005004,2\n400102-25,7:00,90002109,3\n400102-25,7:00,90002107,4\n400102-25,7:05,90002111,5\n400102-25,7:05,90002106,6\n6004-10,13:05,90006017,1\n6004-10,13:05,90006022,2\n6004-10,13:20,90006030,3\n6004-10,13:20,90006015,4\n6004-10,13:20,90006019,5    \n6004-10,13:30,90006034,6\n6004-10,13:40,90006033,7\n6004-10,13:40,90006002,8\n</code></pre>\n\n<p>is there a way to obtain this output:</p>\n\n<pre><code>400102-25,6:50,90005002,1\n400102-25,,90005004,2\n400102-25,7:00,90002109,3\n400102-25,,90002107,4\n400102-25,,90002111,5\n400102-25,7:05,90002106,6\n6004-10,13:05,90006017,1\n6004-10,,90006022,2\n6004-10,13:20,90006030,3\n6004-10,,90006015,4\n6004-10,,90006019,5\n6004-10,13:30,90006034,6\n6004-10,,90006033,7\n6004-10,13:40,90006002,8\n</code></pre>\n\n<p>I want to remove the duplicates of field 2 (comma separated) and replace by comma, but keep the first and last record of each sequence as determined by column 4.</p>\n\n<p>I think the result can be partly obtained by</p>\n\n<pre><code> awk '{FS=OFS=\",\"} { if(!seen[$1 $2]++) print $0 ; else print $1,\",\"$3, $4 } END{print}' input\n</code></pre>\n\n<p>but this is not solving everything. Any suggestions?</p>\n"}, {"tags": ["perl", "iis", "iis-7.5", "mod-perl"], "comments": [{"owner": {"reputation": 7759, "user_id": 3245057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6281c2234db530ddfb8c4e7c531714ea?s=128&d=identicon&r=PG", "display_name": "pepo", "link": "https://stackoverflow.com/users/3245057/pepo"}, "edited": false, "score": 0, "creation_date": 1447525362, "post_id": 33681605, "comment_id": 55194796, "body": "Did you enable CGI on IIS?"}, {"owner": {"reputation": 2088, "user_id": 2760533, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/BkL9r.jpg?s=128&g=1", "display_name": "napi15", "link": "https://stackoverflow.com/users/2760533/napi15"}, "reply_to_user": {"reputation": 7759, "user_id": 3245057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6281c2234db530ddfb8c4e7c531714ea?s=128&d=identicon&r=PG", "display_name": "pepo", "link": "https://stackoverflow.com/users/3245057/pepo"}, "edited": false, "score": 0, "creation_date": 1447712474, "post_id": 33681605, "comment_id": 55259884, "body": "@pepo yes :( I did , I also tried to point the CGI to both .exe and the .dll ...nothing changed"}, {"owner": {"reputation": 7759, "user_id": 3245057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6281c2234db530ddfb8c4e7c531714ea?s=128&d=identicon&r=PG", "display_name": "pepo", "link": "https://stackoverflow.com/users/3245057/pepo"}, "edited": false, "score": 0, "creation_date": 1447752423, "post_id": 33681605, "comment_id": 55274117, "body": "does your perl script work in command line? I have only worked with activestate perl and I did not have any problems with it. You could try that maybe but it should not matter what perl you are using."}, {"owner": {"reputation": 2088, "user_id": 2760533, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/BkL9r.jpg?s=128&g=1", "display_name": "napi15", "link": "https://stackoverflow.com/users/2760533/napi15"}, "reply_to_user": {"reputation": 7759, "user_id": 3245057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6281c2234db530ddfb8c4e7c531714ea?s=128&d=identicon&r=PG", "display_name": "pepo", "link": "https://stackoverflow.com/users/3245057/pepo"}, "edited": false, "score": 0, "creation_date": 1447781302, "post_id": 33681605, "comment_id": 55294249, "body": "@pepo I created a little hellow world perl script and it seems to work perfectly when I run it ....but thanks for your advice I will check ...or it&#39;s also possible that the script I am trying to make work isn&#39;t properly written"}], "owner": {"reputation": 2088, "user_id": 2760533, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/BkL9r.jpg?s=128&g=1", "display_name": "napi15", "link": "https://stackoverflow.com/users/2760533/napi15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 706, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1447363247, "creation_date": 1447363247, "question_id": 33681605, "link": "https://stackoverflow.com/questions/33681605/perl-iis7-5-502-error-bad-gateway", "title": "Perl IIS7.5 502 error Bad gateway", "body": "<p>I'm trying to run perl files using IIS 7.5 </p>\n\n<p>I followed this tutorial <a href=\"http://www.howtogeek.com/50479/how-to-install-perl-on-iis-7-for-windows-server-2008/\" rel=\"nofollow\">http://www.howtogeek.com/50479/how-to-install-perl-on-iis-7-for-windows-server-2008/</a>   and I even installed the perl handler I can notice the perl package manager on each .pl file I also added Strawberry perl inside the handler Mapping <code>C:\\Strawberry\\perl\\bin\\perl.exe \"%s\" %s</code></p>\n\n<p>and request path <code>*pl</code></p>\n\n<p>But whever I run that using the webbbroswer I keep receiving the 502 Bad gateway error </p>\n\n<p>did the same for the cgi </p>\n\n<p>WHat I'm missing?</p>\n\n<p>Any help is much appreicated </p>\n"}, {"tags": ["perl", "io"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1447366955, "creation_date": 1447366955, "answer_id": 33682564, "question_id": 33681596, "link": "https://stackoverflow.com/questions/33681596/redirecting-stderr-to-file-locks-that-file/33682564#33682564", "title": "Redirecting STDERR to file locks that file", "body": "<p>I got it.  I made STDERR local per below:</p>\n\n<p>local *STDERR;\nopen (STDERR, '>', $errFile) or die $!; </p>\n\n<p>It's now local to the routine and releases the output file so I can unlink it later. </p>\n"}], "owner": {"reputation": 69, "user_id": 5468512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b33ba522e4b75ce1f633b255cbd3234?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5468512/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1447366955, "creation_date": 1447363230, "last_edit_date": 1447364867, "question_id": 33681596, "link": "https://stackoverflow.com/questions/33681596/redirecting-stderr-to-file-locks-that-file", "title": "Redirecting STDERR to file locks that file", "body": "<p>PERL Wizards, I am trying to redirect STDERR to an error file that I have opened for use if my program misbehaves.  The problem I am having is that the lines below which contain \"#Help Here\" somehow prevent my program from deleting empty error files.  Almost like this ties them up and prevents delete/unlink. Do you see anyway I can adjust my code to ensure that I can delete error files of 0 size?\nThank you!</p>\n\n<pre><code>foreach $inputFile (@inputFiles) {\n\n    #Open input and error files for reading and writing data\n    open (INFILE, '&lt;', $inputFile) or die $!;\n    $errFile = $inputFile . \"-error\";\n    open (ERRFILE, '&gt;', $errFile) or die $!;\n    #Redirect STDERR from the console to the error log\n    close (STDERR);  #Help here\n    open (STDERR, '&gt;', $errFile) or die $!;  #Help here\n\n    #Override default line delimiter of /n with custom delimiter\n    local $/ = '~~lineDelimiter~~';\n        while ($inFileLine = &lt;INFILE&gt;)  { \n\n        #Create an array of fieldnames from the line being processed    \n        @fieldNames = $inFileLine =~ m(&lt;\\/(.*?)&gt;)g;\n        #Create an array of data values from the line being processed\n        @fieldValues =  $inFileLine =~ m(&gt;([^&lt;]+)&lt;)g;\n\n        #Populate a variable with the dbid for the line being processed\n        @filter = @fieldValues[0];\n        $queryDef = $session-&gt;BuildQuery(\"SWCR\");\n        $queryDef-&gt;BuildField(\"dbid\");\n        $queryFilter = $queryDef-&gt;BuildFilterOperator($CQPerlExt::CQ_BOOL_OP_AND);\n        $queryFilter-&gt;BuildFilter(\"RecordID\",$CQPerlExt::CQ_COMP_OP_EQ, \\@filter);\n        $queryResults = $session-&gt;BuildResultSet($queryDef);\n        $queryResults-&gt;Execute();\n        while ($queryResults-&gt;MoveNext() == $CQPerlExt::CQ_SUCCESS) {\n            $dbid = $queryResults-&gt;GetColumnValue(1);\n                                            }\n\n        #Insert data for all fields after the SWCR (elements&gt;=1)    \n        $entity = $session-&gt;GetEntityByDbId(\"SWCR\",$dbid);\n        $entity-&gt;EditEntity(\"AdminModify\");\n        $entity-&gt;SetFieldValue($fieldNames[$_],$fieldValues[$_]) for (1 .. $#fieldNames);\n        $entity-&gt;SetFieldValue(\"AdminModifyReason\",\"Data from file: $inputFile was imported into this record per the MSTU/LMITS sync process.\");\n        #Evaluate for validation errors\n        $trappedErrorValidate = $entity-&gt;Validate();\n            if ($trappedErrorValidate ne \"\") {\n                print ERRFILE \"The following record has not been imported due to the error code specified below:\\n\\n\";\n                #Remove the leading newline character of the record so it prints more clearly\n                $inFileLine =~ s/^\\n//;\n                print ERRFILE \"$inFileLine\\n\";\n                print ERRFILE \"\\nError Code:$trappedErrorValidate\\n\";\n                print ERRFILE \"*********************************************************************************\\n\";\n                    $entity-&gt;Revert();\n                                  } else {\n                                           $trappedErrorCommit =$entity-&gt;Commit();\n                                    if ($trappedErrorCommit ne \"\") {\n                                        print ERRFILE \"The following record has not been imported due to the error code specified below:\\n\\n\";\n                                        #Remove the leading newline character of the record so it prints more clearly\n                                        $inFileLine =~ s/^\\n//;\n                                        print ERRFILE \"$inFileLine\\n\";\n                                        print ERRFILE \"\\nError Code:$trappedErrorCommit\\n\";\n                                        print ERRFILE \"*********************************************************************************\\n\";\n                                                                                           } else {\n                                                          $recordCount++; \n                                                                                                              }\n                                      }\n                              }     \n\n\n    close (INFILE);\n    close (ERRFILE);\n\n    #Add amount of records imported to the import log\n    open (IMPLOG, \"&gt;&gt;\", 'Import_Log.txt') or die $!; \n    print IMPLOG \"$scriptStartTime: $recordCount record(s) imported into LMITS from $inputFile.\\n\";\n    #Reset record count for each input file to use the counter\n    $recordCount = 0;\n    close (IMPLOG);\n\n                                   }\n\n# ##############################################\n# ##### Process administrative items and \n# ##### Close ClearQuest session \n# ##############################################\n\n#Mark each input file processed\nforeach $inputFile (@inputFiles) {\n    rename ($inputFile, $inputFile . \"-processed\");\n                 }\n\n#Remove blank error files\nopendir(DIR, 'c:\\LMITS');\n@errFiles = grep /error/, readdir DIR;\nclosedir DIR;\n\n    foreach $errFile (@errFiles) {\n        $errFileSize = -s $errFile;\n        if ($errFileSize == 0) {    #Help Here\n        unlink $errFile;                #Help Here\n                       }\n                     }\n</code></pre>\n"}, {"tags": ["linux", "perl", "qsub"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447368109, "post_id": 33680136, "comment_id": 55138576, "body": "Without knowing what <code>update_blastdb.pl</code> does, it&#39;s going to be impossible to answer. Smells like a version problem - are you sure <code>.&#47;blastn_build.sh</code> is getting passed to qsub properly? It&#39;s a relative path, so you potentially have path traversal."}, {"owner": {"reputation": 3, "user_id": 5556197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d16d2808c45ae218c7c7724f6880c4?s=128&d=identicon&r=PG&f=1", "display_name": "sk8bro", "link": "https://stackoverflow.com/users/5556197/sk8bro"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1447425995, "post_id": 33680136, "comment_id": 55162100, "body": "@Sobrique -- I just tried changing qscript to reference the full path: &quot;/home/10019438/blastdb/2015_11_11/blastn_build.sh&quot; but the error persists."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1447427167, "post_id": 33680136, "comment_id": 55162912, "body": "What happens if you run <code>.&#47;update_blastdb.pl &lt; &#47;dev&#47;null</code> from the command line?  Do you get the error?"}, {"owner": {"reputation": 3, "user_id": 5556197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d16d2808c45ae218c7c7724f6880c4?s=128&d=identicon&r=PG&f=1", "display_name": "sk8bro", "link": "https://stackoverflow.com/users/5556197/sk8bro"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1447430315, "post_id": 33680136, "comment_id": 55165068, "body": "@Jonathan Leffler -- that gives this error:                                                                                                           stty: standard input: Inappropriate ioctl for device"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1447432945, "post_id": 33680136, "comment_id": 55166996, "body": "It appears, then, that <code>update_blastdb.pl</code> is really not designed to be run except from the terminal \u2014 for reasons that are beyond my knowledge.  It does things differently depending on how it is invoked.  The <code>qsub</code> system probably runs it without a terminal connection, which is why the <code>&lt; &#47;dev&#47;null</code> test was interesting. &#39;Tis curious that it was <code>stty</code> that reported the error \u2014 I&#39;m left wondering what it&#39;s up to, but I&#39;m not curious enough to download find out. It isn&#39;t clear why the Perl is failing to connect when run from <code>qsub</code> and not from the terminal; the network shouldn&#39;t be affected."}, {"owner": {"reputation": 3, "user_id": 5556197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d16d2808c45ae218c7c7724f6880c4?s=128&d=identicon&r=PG&f=1", "display_name": "sk8bro", "link": "https://stackoverflow.com/users/5556197/sk8bro"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1447436398, "post_id": 33680136, "comment_id": 55169133, "body": "@Jonathan Leffler. Fair enough. Thanks so much for your insights. This was my first time needing to use qsub, though I&#39;ve used bsub and sbatch, and it just really seemed that my setup was correct. So, if it is an issue with update_blastdb.pl rather than a more fundamental problem, then I think I can live with that."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1447485412, "post_id": 33680136, "comment_id": 55184228, "body": "Sounds to me like the <code>--showall</code> option enables functionality which requires a network connection, which apparently isn&#39;t available in the environment where <code>qsub</code> runs it."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5556197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d16d2808c45ae218c7c7724f6880c4?s=128&d=identicon&r=PG&f=1", "display_name": "sk8bro", "link": "https://stackoverflow.com/users/5556197/sk8bro"}, "edited": false, "score": 0, "creation_date": 1448363548, "post_id": 33709221, "comment_id": 55547261, "body": "You were totally correct. Many thanks to everyone who helped me troubleshoot. Things are rolling much smoother now."}], "tags": [], "owner": {"reputation": 137, "user_id": 3679380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYUD4.jpg?s=128&g=1", "display_name": "mickvav", "link": "https://stackoverflow.com/users/3679380/mickvav"}, "is_accepted": true, "score": 0, "last_activity_date": 1447509694, "creation_date": 1447509694, "answer_id": 33709221, "question_id": 33680136, "link": "https://stackoverflow.com/questions/33680136/qsub-how-to-pass-argument-to-perl-script-called-within-a-shell-script/33709221#33709221", "title": "qsub: how to pass argument to perl script called within a shell script", "body": "<p>Looks like you are actually working in some cluster environment (or what else is qsub?). In such place your qsubed script actually runs on different node, which can have no internet connection, can execute your script starting from different directory, or can have many other misconfigures from tour original host...</p>\n"}], "owner": {"reputation": 3, "user_id": 5556197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d16d2808c45ae218c7c7724f6880c4?s=128&d=identicon&r=PG&f=1", "display_name": "sk8bro", "link": "https://stackoverflow.com/users/5556197/sk8bro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 33709221, "answer_count": 1, "score": 0, "last_activity_date": 1447600627, "creation_date": 1447357976, "last_edit_date": 1447600627, "question_id": 33680136, "link": "https://stackoverflow.com/questions/33680136/qsub-how-to-pass-argument-to-perl-script-called-within-a-shell-script", "title": "qsub: how to pass argument to perl script called within a shell script", "body": "<p>Here is what is in the cwd: </p>\n\n<blockquote>\n  <p>blastn_build.sh  qscript</p>\n</blockquote>\n\n<p>They are both currently set to executable (but not binary)</p>\n\n<p>Here are the contents of blastn_build.sh:</p>\n\n<pre><code>#!/bin/bash\nupdate_blastdb.pl --showall\n</code></pre>\n\n<p>Here are the contents of qscript:</p>\n\n<pre><code>qsub -S /bin/bash -V -b n -N nt_wgs_build -pe smp 8 -j y  -o ./nt_wgs_build.sge -l h=n10 -cwd -sync y \"./blastn_build.sh\"\n</code></pre>\n\n<p>update_blastdb.pl is in my PATH and begins with #!/usr/bin/perl</p>\n\n<hr>\n\n<p>Now the problem:</p>\n\n<p>Running ./blastn_build.sh works as expected. \nRunning ./qscript does not... here is the error message:</p>\n\n<blockquote>\n  <p>Failed to connect to ftp.ncbi.nlm.nih.gov: Invalid argument</p>\n</blockquote>\n\n<p>If I remove the --showall argument from ./blastn_build.sh then BOTH ./blastn_build.sh AND ./qscript work as expected. The issue seems to be in how to correctly pass the --showall option to update_blastdb.pl through qsub. </p>\n\n<p>Any help understand and fixing would be much appreciated!</p>\n\n<p>update_blastdb.pl (blast-2.2.31 <a href=\"http://www.ncbi.nlm.nih.gov/books/NBK52640/\" rel=\"nofollow\">http://www.ncbi.nlm.nih.gov/books/NBK52640/</a>)\nwget <a href=\"ftp://ftp.ncbi.nlm.nih.gov/blast/executables/LATEST/ncbi-blast-2.2.31+-x64-linux.tar.gz\" rel=\"nofollow\">ftp://ftp.ncbi.nlm.nih.gov/blast/executables/LATEST/ncbi-blast-2.2.31+-x64-linux.tar.gz</a></p>\n\n<pre><code>#!/usr/bin/perl\n# $Id: update_blastdb.pl 446090 2014-09-11 12:12:27Z ivanov $\n===========================================================================\n#\n# Author:  Christiam Camacho\n#\n# File Description:\n#   Script to download the pre-formatted BLAST databases from the NCBI ftp\n#   server.\n#\n#        \n\nuse strict;\nuse warnings;\nuse Net::FTP;\nuse Getopt::Long;\nuse Pod::Usage;\nuse File::stat;\nuse Digest::MD5;\nuse Archive::Tar;\nuse List::MoreUtils qw(uniq);\n\nuse constant NCBI_FTP =&gt; \"ftp.ncbi.nlm.nih.gov\";\nuse constant BLAST_DB_DIR =&gt; \"/blast/db\";\nuse constant USER =&gt; \"anonymous\";\nuse constant PASSWORD =&gt; \"anonymous\";\nuse constant DEBUG =&gt; 0;\nuse constant MAX_DOWNLOAD_ATTEMPTS =&gt; 3;\nuse constant EXIT_FAILURE =&gt; 2;\n\n# Process command line options\nmy $opt_verbose = 1;\nmy $opt_quiet = 0;\nmy $opt_force_download = 0;\nmy $opt_help = 0;\nmy $opt_passive = 0;\nmy $opt_timeout = 120;\nmy $opt_showall = 0;\nmy $opt_show_version = 0;\nmy $opt_decompress = 0;\nmy $result = GetOptions(\"verbose+\"      =&gt;  \\$opt_verbose,\n                    \"quiet\"         =&gt;  \\$opt_quiet,\n                    \"force\"         =&gt;  \\$opt_force_download,\n                    \"passive\"       =&gt;  \\$opt_passive,\n                    \"timeout=i\"     =&gt;  \\$opt_timeout,\n                    \"showall\"       =&gt;  \\$opt_showall,\n                    \"version\"       =&gt;  \\$opt_show_version,\n                    \"decompress\"    =&gt;  \\$opt_decompress,\n                    \"help\"          =&gt;  \\$opt_help);\n$opt_verbose = 0 if $opt_quiet;\ndie \"Failed to parse command line options\\n\" unless $result;\npod2usage({-exitval =&gt; 0, -verbose =&gt; 2}) if $opt_help;\npod2usage({-exitval =&gt; 0, -verbose =&gt; 2}) unless (scalar @ARGV or\n                                              $opt_showall or\n                                              $opt_show_version);\n#rest of code continues...\n</code></pre>\n\n<p>perl v 5.10.1</p>\n"}, {"tags": ["perl", "unix", "sed", "terminal"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447358618, "post_id": 33680029, "comment_id": 55133653, "body": "See <a href=\"http://stackoverflow.com/q/13093709/176646\">How to use shell variables in perl command call in a bash shell script?</a>"}, {"owner": {"reputation": 761, "user_id": 545032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802d5cb73491de6edffa7a80dc2df814?s=128&d=identicon&r=PG", "display_name": "Alejo JM", "link": "https://stackoverflow.com/users/545032/alejo-jm"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447361700, "post_id": 33680029, "comment_id": 55135356, "body": "no the error for perl is: File name too long"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447361862, "post_id": 33680029, "comment_id": 55135439, "body": "You said the error for Perl was <code>Bareword found where operator expected at -e line 1, near &quot;bowels&quot;</code>. Regardless, it would be better to read the JavaScript file using Perl instead of trying to store it in a Bash variable."}, {"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1447370721, "post_id": 33680029, "comment_id": 55139641, "body": "When you use <code>&#47;.*&#47;${SRC_FILE}&#47;g</code> in either the sed or the perl case \u2014 does the string SRC_FILE (which is the contents of javascript.minify.js) contain <i>any</i> slashes <code>&#47;</code>? I expect it does, and when <code>${SRC_FILE}</code> gets replaced with its content, now your regex contains too many slashes, and becomes invalid."}, {"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1447440987, "post_id": 33680029, "comment_id": 55171595, "body": "<i>&quot;the only way for this, is using base64&quot;</i> \u2014 that&#39;s certainly not the <i>only</i> way. You want to insert the contents of a file at a certain location in another file (?); regex seems a poor choice to do that - you&#39;re not matching and replacing a string, this is not a pattern problem. <code>sed</code> can do much more than <code>s&#47;this&#47;that&#47;</code>\u2014 it could <code>sed &#39;19a Some New Text&#39;</code> to append text at line 19. <code>sed</code> is not limited to commands on the command line; it can have a whole script file, including branching. <code>awk</code> is another good possibility, and <code>perl</code> just doing file processing <i>without</i> using regex. <code>man sed</code>"}, {"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1447441151, "post_id": 33680029, "comment_id": 55171684, "body": "See <a href=\"http://stackoverflow.com/a/16715488/17300\">this answer</a> on <a href=\"http://stackoverflow.com/questions/16715373/sed-insert-file-content-after-specific-pattern-match\" title=\"sed insert file content after specific pattern match\">stackoverflow.com/questions/16715373/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1447442666, "last_edit_date": 1447442666, "creation_date": 1447441365, "answer_id": 33700027, "question_id": 33680029, "link": "https://stackoverflow.com/questions/33680029/replace-in-java-file-using-sed-or-perl-a-minify-javascript-source/33700027#33700027", "title": "replace in java file using sed or perl a minify javascript source", "body": "<p>Sed can directly read the contents of a file into another file using the <code>r</code> command, without requiring an intermediate shell variable which introduces a nightmare of quoting and escaping problems.</p>\n\n<p>This goes to line 19 and reads file <em>javascript.minify.js</em> at that point:</p>\n\n<pre><code>sed '19 r javascript.minify.js' ./Original.java &gt; ./Replace.java\n</code></pre>\n\n<p>This adds the contents of the .js file after line 19 in Original.java while your original replaces the content of line 19. To achieve the same effect you can delete line 19 after you've added the file contents:</p>\n\n<pre><code>sed -e'19 r javascript.minify.js' -e'19 d'  ./Original.java &gt; ./Replace.java\n</code></pre>\n"}], "owner": {"reputation": 761, "user_id": 545032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802d5cb73491de6edffa7a80dc2df814?s=128&d=identicon&r=PG", "display_name": "Alejo JM", "link": "https://stackoverflow.com/users/545032/alejo-jm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1447442666, "creation_date": 1447357624, "last_edit_date": 1447382923, "question_id": 33680029, "link": "https://stackoverflow.com/questions/33680029/replace-in-java-file-using-sed-or-perl-a-minify-javascript-source", "title": "replace in java file using sed or perl a minify javascript source", "body": "<p>i have a minified javascript file using <a href=\"http://requirejs.org/docs/optimization.html\" rel=\"nofollow\">r.js</a>, i need\nto put the entire content of the file in another java file \naround the line 19, so i try this commands (Mac):</p>\n\n<pre><code>SRC_FILE=`cat ./javascript.minify.js`\nsed \"19s/.*/${SRC_FILE}/g\" ./Original.java &gt; ./Replace.java\n</code></pre>\n\n<p>the result of this command:</p>\n\n<pre><code>bad flag in substitute command: 'o'\n</code></pre>\n\n<p>so i try with perl:</p>\n\n<pre><code>SRC_FILE=`cat ./javascript.minify.js`\ncat Original.java | perl -p -e \"s/.*/'${SRC_FILE}'/g if $.==19\" &gt; ./Replace.java\n</code></pre>\n\n<p>the result of this command:</p>\n\n<pre><code>Bareword found where operator expected at -e line 1, near \"bowels\"\nsyntax error at -e line 1, near \"bowels \"\nCan't find string terminator '\"' anywhere before EOF at -e line 1.\n</code></pre>\n\n<p>how i can tell sed or perl that the replace is a string?</p>\n\n<p><strong>FIXED</strong><br>\nthe only way for this, is using base64:</p>\n\n<pre><code>SRC_FILE=`cat ./javascript.minify.js | base64`\nsed \"19s/.*/${SRC_FILE}/g\" ./Original.java &gt; ./Replace.java\n</code></pre>\n\n<p>thanks for your comments and everything</p>\n"}, {"tags": ["perl", "grep"], "answers": [{"comments": [{"owner": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "edited": false, "score": 0, "creation_date": 1447357244, "post_id": 33679359, "comment_id": 55132906, "body": "` #!/usr/bin/env perl use strict; use warnings; use File::Find; use File::Find::Rule;  my $dir = &quot;/home/user/etc&quot;; my @files = File::Find::Rule-&gt;file-&gt;grep(qr/localhost/)-&gt;start($dir);  print (&quot;$_\\n&quot;) for @files;  ` $ perl ruletest.pl print (...) interpreted as function at ruletest.pl line 13. File::Find::Rule=HASH(0xe57420)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "edited": false, "score": 0, "creation_date": 1447357317, "post_id": 33679359, "comment_id": 55132935, "body": "@kamal, That&#39;s not what I posted. You introduced two changes, both of them wrong."}, {"owner": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "edited": false, "score": 0, "creation_date": 1447357723, "post_id": 33679359, "comment_id": 55133162, "body": "so start($dir) cannot be used ? use have to use in($dir) ? i wanted to see if start($dir) will work, as i need to traverse directories. Not sure what is the other wrong change i did"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "edited": false, "score": 0, "creation_date": 1447360013, "post_id": 33679359, "comment_id": 55134394, "body": "Of course <code>start($dir)</code> can be used, but it doesn&#39;t do the same thing as <code>in($dir)</code>. Specifically, it doesn&#39;t return a list of files. Read the docs."}, {"owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "edited": false, "score": 0, "creation_date": 1447360308, "post_id": 33679359, "comment_id": 55134560, "body": "@ikegami Your point 2 is counter to what you did in code. I think you meant to reverse those two lines."}, {"owner": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "edited": false, "score": 0, "creation_date": 1447785977, "post_id": 33679359, "comment_id": 55296980, "body": "is there a way for grep() to include variables ? like i have:  my @keys = keys % { $hash_map };  print &quot;$_&quot; for @keys; now $_ gives me strings like ABC, DEF, but i want to grep for ABC_* and DEF_*"}, {"owner": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "edited": false, "score": 0, "creation_date": 1447787467, "post_id": 33679359, "comment_id": 55297839, "body": "@ikegami  something like File::Find::Rule-&gt;file-&gt;grep(qr/\\@keys&#91;\\$count&#93;/)-&gt;i&zwnj;&#8203;n($dir);"}, {"owner": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "edited": false, "score": 0, "creation_date": 1447956110, "post_id": 33679359, "comment_id": 55387644, "body": "@ikegami Is there a regex to match ABC and ABC_DEF_* other strings being XYZ and XYZ_ERT_* since using the above regex i am getting ALL String not even related to the %$hash_map"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1447960696, "post_id": 33679359, "comment_id": 55390490, "body": "If you have a question to ask, ask a Question."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1447361532, "last_edit_date": 1447361532, "creation_date": 1447355448, "answer_id": 33679359, "question_id": 33679149, "link": "https://stackoverflow.com/questions/33679149/how-to-implement-filefindrule-with-grep-specifiers/33679359#33679359", "title": "how to implement File::Find::Rule with grep( @specifiers )", "body": "<ol>\n<li><p>I don't think you mean to limit the search to files whose name starts with <code>\\</code> and contains <code>.</code>. Remove</p>\n\n<pre><code>-&gt;name('\\*.*')\n</code></pre></li>\n<li><p>You want all results returned at once, so change</p>\n\n<pre><code>-&gt;start($dir)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>-&gt;in($dir)\n</code></pre></li>\n<li><p>Your attempt at printing the elements of <code>@files</code> doesn't make any sense. Change</p>\n\n<pre><code>my $ref_array_1 =  \\@files;\nprint \"$ref_array_1\\n\";\n</code></pre>\n\n<p>to</p>\n\n<pre><code>print(\"$_\\n\") for @files;\n</code></pre></li>\n</ol>\n\n<p>All together,</p>\n\n<pre><code>my $dir = \"/home/user/etc\";\n\nmy @files = File::Find::Rule-&gt;file-&gt;grep(qr/localhost/)-&gt;in($dir);\nprint(\"$_\\n\") for @files;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $dir = \"/home/user/etc\";\n\nprint(\"$_\\n\")\n   for File::Find::Rule-&gt;file-&gt;grep(qr/localhost/)-&gt;in($dir);\n</code></pre>\n"}], "owner": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 33679359, "answer_count": 1, "score": 1, "last_activity_date": 1447361532, "creation_date": 1447354599, "last_edit_date": 1447354820, "question_id": 33679149, "link": "https://stackoverflow.com/questions/33679149/how-to-implement-filefindrule-with-grep-specifiers", "title": "how to implement File::Find::Rule with grep( @specifiers )", "body": "<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse File::Find;\nuse File::Find::Rule;\n\nmy $dir = \"/home/user/etc\";\nmy @files = File::Find::Rule-&gt;file-&gt;name('\\*.*')-&gt;grep(qr/localhost/)-&gt;start($dir);\n\nmy $ref_array_1 =  \\@files;\nprint \"$ref_array_1\\n\";\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>$ perl ruletest.pl\nARRAY(0x96aa60)\n</code></pre>\n\n<p>Expected result:</p>\n\n<p>The list of files that contain the string \"localhost\"</p>\n\n<p>Now in order to verify the result with \"ack\" :</p>\n\n<pre><code>ack -l localhost /home/user/etc\n\n/home/user/etc/host\n/home/user/etc/server\n</code></pre>\n"}, {"tags": ["perl", "date"], "comments": [{"owner": {"reputation": 18754, "user_id": 342740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lHbcW.gif?s=128&g=1", "display_name": "Prix", "link": "https://stackoverflow.com/users/342740/prix"}, "edited": false, "score": 0, "creation_date": 1447346691, "post_id": 33676711, "comment_id": 55126463, "body": "Search is your friend, don&#39;t be afraid of using it! Duplicates of <a href=\"http://stackoverflow.com/questions/7958231/looking-for-perl-5-12-code-that-generates-yesterdays-date-in-ddmmyy-format\">Code that generates yesterday&#39;s date in DDMMYY format?</a>, <a href=\"http://stackoverflow.com/a/3508717/342740\"><b>How do I get yesterday&#39;s date using localtime?</b></a>"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 3, "creation_date": 1447346697, "post_id": 33676711, "comment_id": 55126465, "body": "The month goes from 0 to 11 in <code>timelocal()</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 18754, "user_id": 342740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lHbcW.gif?s=128&g=1", "display_name": "Prix", "link": "https://stackoverflow.com/users/342740/prix"}, "edited": false, "score": 1, "creation_date": 1447346882, "post_id": 33676711, "comment_id": 55126600, "body": "@Prix That doesn&#39;t answer the OP&#39;s question about why <code>localtime</code> returns 10 for November instead of 11, so I don&#39;t think it&#39;s a good dupe target. (There probably is another question about this, though.)"}, {"owner": {"reputation": 18754, "user_id": 342740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lHbcW.gif?s=128&g=1", "display_name": "Prix", "link": "https://stackoverflow.com/users/342740/prix"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1447346922, "post_id": 33676711, "comment_id": 55126634, "body": "@ThisSuitIsBlackNot his title is &quot;How to read yesterday&#39;s date in Perl&quot; not &quot;why it doesn&#39;t give me the right result&quot; but thanks for the concern."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 18754, "user_id": 342740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lHbcW.gif?s=128&g=1", "display_name": "Prix", "link": "https://stackoverflow.com/users/342740/prix"}, "edited": false, "score": 1, "creation_date": 1447347233, "post_id": 33676711, "comment_id": 55126855, "body": "@Prix Read the body of the question, it&#39;s not a dupe of the questions you linked. People write bad titles all the time, but just because one person&#39;s question is titled &quot;Perl problem&quot; doesn&#39;t make it a duplicate of a question titled &quot;problem with PERL.&quot;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 18754, "user_id": 342740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lHbcW.gif?s=128&g=1", "display_name": "Prix", "link": "https://stackoverflow.com/users/342740/prix"}, "edited": false, "score": 2, "creation_date": 1447347637, "post_id": 33676711, "comment_id": 55127115, "body": "@Prix <a href=\"http://stackoverflow.com/q/25300858/176646\">Perl Incorrect day generated by localtime</a> is an actual duplicate, although this question is better written, so I&#39;m voting to close the other one as a dupe of this one."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1447357829, "post_id": 33676711, "comment_id": 55133216, "body": "For a better way to do this, see <a href=\"http://perldoc.perl.org/perlfaq4.html#How-do-I-find-yesterday%27s-date?\" rel=\"nofollow noreferrer\">How do I find yesterday&#39;s date?</a> in <code>perldoc perlfaq4</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1447414813, "post_id": 33676711, "comment_id": 55155376, "body": "If you have a problem like this, it puzzles me why you wouldn&#39;t just go to the documentation for <a href=\"http://perldoc.perl.org/functions/localtime.html\" rel=\"nofollow noreferrer\"><code>localtime()</code></a>. That would have given you the answer right away."}], "answers": [{"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1447353180, "post_id": 33676857, "comment_id": 55130515, "body": "Just subtracting one day from the date will not work on the first of a month."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 7, "last_activity_date": 1447347789, "last_edit_date": 1447347789, "creation_date": 1447346900, "answer_id": 33676857, "question_id": 33676711, "link": "https://stackoverflow.com/questions/33676711/why-does-perls-localtime-seem-to-output-the-wrong-month/33676857#33676857", "title": "Why does perl&#39;s localtime seem to output the wrong month?", "body": "<p>The <a href=\"http://perldoc.perl.org/functions/localtime.html\" rel=\"nofollow\">documentation for <code>localtime</code></a> says this</p>\n\n<blockquote>\n  <p>$mday is the day of the month and $mon the month in the range 0..11, with 0 indicating January and 11 indicating December.</p>\n</blockquote>\n\n<p>So to get a month number with 1 for January you need <code>$mon+1</code>, or you can just add one to <code>$mday</code> at the same time as you add 1900 to <code>$year</code></p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Time::Local;\n\nmy ($y, $m, $d) = (localtime)[5,4,3];\n\nmy $yesterday = timelocal(0, 0, 0, $d-1, $m, $y);\n($y, $m, $d) = (localtime($yesterday))[5,4,3];\n$y += 1900;\n++$m;\n\nprint \"Yesterday's Day: $d, Month: $m, Year: $y\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>Yesterday's Day: 11, Month: 11, Year: 2015\n</code></pre>\n\n<p>A better way is to use the core library <a href=\"http://metacpan.org/module/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Time::Piece;\nuse Time::Seconds 'ONE_DAY';\n\nmy $yesterday = localtime() - ONE_DAY;\n\nprintf \"Yesterday's Day: %d, Month: %d, Year: %d\\n\",\n    $yesterday-&gt;mday,\n    $yesterday-&gt;mon,\n    $yesterday-&gt;year;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>Yesterday's Day: 11, Month: 11, Year: 2015\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 4, "last_activity_date": 1447349478, "last_edit_date": 1447349478, "creation_date": 1447348818, "answer_id": 33677442, "question_id": 33676711, "link": "https://stackoverflow.com/questions/33676711/why-does-perls-localtime-seem-to-output-the-wrong-month/33677442#33677442", "title": "Why does perl&#39;s localtime seem to output the wrong month?", "body": "<p><code>localtime</code> and friends work on a 6- (or 9-) element list that just expands the individual fields of a POSIX <code>struct tm</code> structure. In that structure, the <code>tm_mon</code> field is the 5th element, and represents the month in the range 0 to 11. I believe the intention here may be to allow you to use it as an index in an array of strings containing the names of the months in your locale.</p>\n\n<p>The only sensible way to take a time element list and format it for human consumption involves going through the <code>strftime</code> function, which takes some format you wish to render. For example:</p>\n\n<pre><code>use POSIX qw( strftime );\n\nprint strftime( \"Yesterday's Day: %d Month: %m, Year: %Y\\n\", localtime $epoch );\n</code></pre>\n\n<p>If you don't yet have a Unix epoch value, you can obtain one from <code>mktime()</code> or <code>timelocal()</code></p>\n\n<pre><code>use POSIX qw( strftime mktime );\n\nmy ( $mday, $mon, $year ) = ... # as before\n\nprint strftime( \"Yesterday's Day: %d Month: %m, Year: %Y\\n\",\n   localtime mktime 0, 0, 0, $mday, $mon, $year );\n</code></pre>\n\n<p>It is important to send the values via this <code>mktime</code>-<code>localtime</code> roundtrip, because that is the way they become normalised - e.g. because of having subtracted 1 from the first day of the month; <code>mktime()</code>'s job here is to renormalise that to the final day of the previous month (and having to roll the year back if it was January, etc...)</p>\n"}], "owner": {"reputation": 1213, "user_id": 3263864, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/41c98358d847c68ff3b45bffc099d98f?s=128&d=identicon&r=PG&f=1", "display_name": "DeepDeadpool", "link": "https://stackoverflow.com/users/3263864/deepdeadpool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1394, "favorite_count": 0, "accepted_answer_id": 33676857, "answer_count": 2, "score": 2, "last_activity_date": 1447349478, "creation_date": 1447346542, "last_edit_date": 1447346946, "question_id": 33676711, "link": "https://stackoverflow.com/questions/33676711/why-does-perls-localtime-seem-to-output-the-wrong-month", "title": "Why does perl&#39;s localtime seem to output the wrong month?", "body": "<p>I've seen other answers, but they're not working for me for some reason.</p>\n\n<p>I'm trying to get yesterday's date in a Perl script using the following code.</p>\n\n<p>For future reference, today's date is November 12, 2015</p>\n\n<pre><code>my (undef, undef, undef, $mday,$mon,$year) = localtime();\nmy $prev_day = timelocal(0, 0, 0, $mday-1, $mon, $year);\n(undef, undef, undef, $mday,$mon,$year) = localtime($prev_day);\n$year += 1900;\n\nprint \"Yesterday's Day: $mday, Month: $mon, Year: $year\\n\";\n</code></pre>\n\n<p>Except my output looks like this</p>\n\n<pre><code>Yesterday's Day: 11, Month: 10, Year: 2015.\n</code></pre>\n\n<p>I should be reading yesterday's date as <code>Day: 11, Month: 11, Year: 2015</code>. Why is the month being subtracted?</p>\n\n<p>Edit: This is different than the suggested answer because I'm wondering why local time seems to be writing the wrong month.</p>\n"}, {"tags": ["perl", "text"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1447346485, "last_edit_date": 1447346485, "creation_date": 1447346104, "answer_id": 33676579, "question_id": 33676508, "link": "https://stackoverflow.com/questions/33676508/print-line-if-multiple-matches/33676579#33676579", "title": "Print line if multiple matches", "body": "<p>You need to use the <a href=\"http://perldoc.perl.org/perlop.html#Binding-Operators\" rel=\"nofollow\"><em>binding operator</em></a> <code>=~</code>, not <code>==</code> which is a numeric equality test, to test a string against a regex pattern</p>\n\n<p>And you need to <em>anchor</em> the start and end of the pattern if you want to specify its entire contents. Read about it in <a href=\"http://perldoc.perl.org/perlre.html#Regular-Expressions\" rel=\"nofollow\"><em>Metacharacters</em></a></p>\n\n<pre><code>$F[0]==/I/\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>$F[0] =~ /^I$/\n</code></pre>\n\n<p>or, better, just use a string equality test</p>\n\n<pre><code>$F[0] eq 'I'\n</code></pre>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 33676579, "answer_count": 1, "score": 1, "last_activity_date": 1447346485, "creation_date": 1447345898, "question_id": 33676508, "link": "https://stackoverflow.com/questions/33676508/print-line-if-multiple-matches", "title": "Print line if multiple matches", "body": "<p>I'm very new to Perl and trying to get this to work. I wish to print 3 specific columns when the contents of column 1 == >0 and column 2 contains \"I\" (the roman numeral for 1). The following returns all lines containing >0 but NOT containing \"I\".</p>\n\n<pre><code>perl -lane 'print \"$F[0]\\t$F[1]\\t$F[5]\" if $F[1] &gt; 0 &amp;&amp; $F[0]==/I/' input &gt; output\n</code></pre>\n\n<p>What have I done wrong? I'm also struggling to get it to match the pattern exactly i.e. I do not want it to pull out \"II\" or \"VIII\" for example. </p>\n"}, {"tags": ["perl", "tail"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1447340080, "post_id": 33673843, "comment_id": 55121459, "body": "Looking at the Docs, I wonder if you&#39;ve played around with the <code>resetafter</code> attribute?"}, {"owner": {"reputation": 218, "user_id": 1779548, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2984a59a371763f690830739727ab740?s=128&d=identicon&r=PG", "display_name": "Elvis", "link": "https://stackoverflow.com/users/1779548/elvis"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1447341310, "post_id": 33673843, "comment_id": 55122441, "body": "resetafter =&gt; 10 seconds."}], "answers": [{"comments": [{"owner": {"reputation": 218, "user_id": 1779548, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2984a59a371763f690830739727ab740?s=128&d=identicon&r=PG", "display_name": "Elvis", "link": "https://stackoverflow.com/users/1779548/elvis"}, "edited": false, "score": 0, "creation_date": 1447341148, "post_id": 33674510, "comment_id": 55122317, "body": "I&#39;ve tried resolving the absolute path and tail the file directly instead of using the symbolic link.  my($log) = abs_path(&#39;/home/user/log&#39;);  which does not seem to work either."}, {"owner": {"reputation": 218, "user_id": 1779548, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2984a59a371763f690830739727ab740?s=128&d=identicon&r=PG", "display_name": "Elvis", "link": "https://stackoverflow.com/users/1779548/elvis"}, "edited": false, "score": 0, "creation_date": 1447342247, "post_id": 33674510, "comment_id": 55123161, "body": "Is that different than using Cwd to get resolve the symbolic link?"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1447340573, "creation_date": 1447340573, "answer_id": 33674510, "question_id": 33673843, "link": "https://stackoverflow.com/questions/33673843/perl-filetail-with-a-symbolic-link/33674510#33674510", "title": "Perl File::Tail with a symbolic link", "body": "<p>From the File::Tail <a href=\"https://metacpan.org/pod/File::Tail#name_changes\" rel=\"nofollow\">documentation</a>: </p>\n\n<blockquote>\n  <p>name_changes</p>\n  \n  <p>Some logging systems change the name of the file they are writing to, sometimes to include a date, sometimes a sequence number,\n  sometimes other, even more bizarre changes.</p>\n  \n  <p>Instead of trying to implement various clever detection methods, File::Tail will call the code reference defined in name_changes. The\n  code reference should return the string which is the new name of the\n  file to try opening.</p>\n  \n  <p>Note that if the file does not exist, File::Tail will report a fatal error (unless ignore_nonexistant has also been specified).</p>\n</blockquote>\n\n<p>So your code reference should return the name of the <em>new</em> file, which according to your question has a datestring in it. Perhaps something like this would work:</p>\n\n<pre><code>use Path::Tiny;  # file system agnostic path utilty\nuse Time::Piece; # data utilties\n\nmy $symlink = sub {\n   my $time = localtime; # a Time::Piece object\n   return path(\n      '/home/user/log',\n      join('', $time-&gt;year, $time-&gt;mon, $time-&gt;mday), \n   )-&gt;canonpath;\n};\n</code></pre>\n\n<p>For today this sub would return: <code>/home/user/log20151112</code></p>\n"}, {"tags": [], "owner": {"reputation": 218, "user_id": 1779548, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2984a59a371763f690830739727ab740?s=128&d=identicon&r=PG", "display_name": "Elvis", "link": "https://stackoverflow.com/users/1779548/elvis"}, "is_accepted": true, "score": 0, "last_activity_date": 1447355396, "creation_date": 1447355396, "answer_id": 33679339, "question_id": 33673843, "link": "https://stackoverflow.com/questions/33673843/perl-filetail-with-a-symbolic-link/33679339#33679339", "title": "Perl File::Tail with a symbolic link", "body": "<p>I was missing a return from the sub</p>\n\n<pre><code>my $symlink = sub {\nmy($log) = '/home/user/log'; \nreturn $log;\n};\n</code></pre>\n\n<p>Works perfectly now!</p>\n"}], "owner": {"reputation": 218, "user_id": 1779548, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2984a59a371763f690830739727ab740?s=128&d=identicon&r=PG", "display_name": "Elvis", "link": "https://stackoverflow.com/users/1779548/elvis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 33679339, "answer_count": 2, "score": 1, "last_activity_date": 1447355396, "creation_date": 1447338779, "last_edit_date": 1447339870, "question_id": 33673843, "link": "https://stackoverflow.com/questions/33673843/perl-filetail-with-a-symbolic-link", "title": "Perl File::Tail with a symbolic link", "body": "<p>BACKGROUND</p>\n\n<p>I am using <a href=\"https://metacpan.org/pod/File::Tail\" rel=\"nofollow\">File::Tail</a> to tail a log file symbolic link.  The symbolic link gets updated after midnight to include a new date stamp, which unfortunately my script does not tail the new file after the symbolic link is updated.   Otherwise, my script works as intended.  </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse utf8;\nuse Data::Dumper;\nuse charnames':full';\nuse Cwd 'abs_path';\nuse File::Tail;\n\nmy $symlink = sub {\nmy($log) = '/home/user/log'; \n};\n\nmy $file=File::Tail-&gt;new(\n        name=&gt;&amp;$symlink,\n        ignore_nonexistant=&gt;1,\n        tail=&gt;0,\n        interval=&gt;0,\n        maxinterval=&gt;1,\n        name_changes=&gt;\\&amp;$symlink\n        ) || warn $!;\nprint Dumper $file;\n\nwhile (defined($_=$file-&gt;read)) {\n# do a bunch of stuff;\n}\n</code></pre>\n\n<p>QUESTION</p>\n\n<p>How do I get perl to follow the updated symbolic link?</p>\n"}, {"tags": ["regex", "perl", "sed", "ftp", "lftp"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1447338207, "post_id": 33672636, "comment_id": 55120004, "body": "This would be much more simple to write and clearer to read if you were to use one of Perl&#39;s many FTP modules. <a href=\"http://metacpan.org/module/Net::FTP\" rel=\"nofollow noreferrer\">Net::FTP</a> has been distributed as a core module since Perl v5.7.3. I&#39;m also wondering why you don&#39;t download the files to where you want them in the first place?"}, {"owner": {"reputation": 146, "user_id": 2503801, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0d61ba76fec5ee0062ad1288d0fe5e11?s=128&d=identicon&r=PG&f=1", "display_name": "r1pster", "link": "https://stackoverflow.com/users/2503801/r1pster"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1447338424, "post_id": 33672636, "comment_id": 55120166, "body": "Thank you. I did not think of this but it looks interesting."}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 1585682, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/807f9e1a1aeea0d1dbb339f65fdaa753?s=128&d=identicon&r=PG&f=1", "display_name": "YMI", "link": "https://stackoverflow.com/users/1585682/ymi"}, "is_accepted": false, "score": 0, "last_activity_date": 1447336364, "last_edit_date": 1447336364, "creation_date": 1447336015, "answer_id": 33672912, "question_id": 33672636, "link": "https://stackoverflow.com/questions/33672636/sed-regex-in-perl-script/33672912#33672912", "title": "Sed Regex in Perl Script", "body": "<p>The problem might be all the escaping (backslashes before characters). You can try printing the resulting string to check what does the sed command looks like on the server.<br>\nI tried messing with it a little and another backslash before the '1' (<code>\\\"\\\\1\\\"</code>) will probably solve your problem.</p>\n\n<p>I would not use sed. Assuming you're using bash (the syntax is a bit different for other shells):  </p>\n\n<pre><code>for file in `renlist $remoteDir`; do\n    mv \"$file\" outgoing/archive/\ndone\n</code></pre>\n\n<p>This will just iterate through your files and move them.</p>\n"}, {"tags": [], "owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "is_accepted": true, "score": 1, "last_activity_date": 1447336573, "creation_date": 1447336573, "answer_id": 33673103, "question_id": 33672636, "link": "https://stackoverflow.com/questions/33672636/sed-regex-in-perl-script/33673103#33673103", "title": "Sed Regex in Perl Script", "body": "<p>Escaping of the <code>\\</code> character should do the trick:</p>\n\n<pre><code>print $LFTP &lt;&lt;\"END\";\n          mirror $remoteFiles $datadir\n          renlist $remoteDir | \"sed 's#\\\\(.*\\\\)#mv \\\"\\\\1\\\" \\\"outgoing/archive\\/\\\"#'\"\n</code></pre>\n\n<p>Escaping the <code>\\</code> admits for perl's string literal syntax, resulting in the backslashes that escape sed's special chars.</p>\n"}], "owner": {"reputation": 146, "user_id": 2503801, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0d61ba76fec5ee0062ad1288d0fe5e11?s=128&d=identicon&r=PG&f=1", "display_name": "r1pster", "link": "https://stackoverflow.com/users/2503801/r1pster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 33673103, "answer_count": 2, "score": 0, "last_activity_date": 1447336573, "creation_date": 1447335182, "last_edit_date": 1447335882, "question_id": 33672636, "link": "https://stackoverflow.com/questions/33672636/sed-regex-in-perl-script", "title": "Sed Regex in Perl Script", "body": "<p>Using PERL, I'm trying to login to an FTP server, download all files from a specific directory and then move all these files to another directory on the server.</p>\n\n<p>This is my code so far:</p>\n\n<pre><code>open( my $LFTP,'|-', \"lftp -u $ftpuser,$ftppwd -e open $ftpserver\" ) or die \"Cannot open lftp: $!\";\nprint $LFTP &lt;&lt;\"END\";\n              mirror $remoteFiles $datadir\n              renlist $remoteDir | \"sed 's#\\(.*\\)#mv \\\"\\1\\\" \\\"outgoing/archive\\/\\\"#'\" &gt; list &amp;&amp; source list &amp;&amp; !rm list\nEND\nclose($LFTP) or die; # die unless lftp exit code is 0\n</code></pre>\n\n<p>The files download correctly but they won't move. I believe the problem is with the sed command.</p>\n\n<p>The temp file created called \"list\" looks like that:</p>\n\n<pre><code>dir1/di2/file1.csv\ndir1/di2/file2.csv \ndir1/di2/file3.csv\ndir1/di2/file4.csv\n</code></pre>\n\n<p>While it should be looking like that:</p>\n\n<pre><code>mv \"dir1/di2/file1.csv\" \"outgoing/archive/\"\nmv \"dir1/di2/file2.csv\" \"outgoing/archive/\"\nmv \"dir1/di2/file3.csv\" \"outgoing/archive/\"\nmv \"dir1/di2/file4.csv\" \"outgoing/archive/\"\n</code></pre>\n\n<p>It seems like the sed regex is not working correctly. However, if I type the exact same command directly on the LFTP terminal, it works fine.</p>\n\n<p>Could you please tell me what is wrong with my regex and why it won't work when executed from within a perl script?</p>\n\n<p>Thank you in advance for your help....</p>\n"}]