[{"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1544051998, "post_id": 53642097, "comment_id": 94143902, "body": "&quot;<i>It will fail with the following error</i>&quot; - no, it won&#39;t. It runs fine."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1544065824, "post_id": 53642281, "comment_id": 94147090, "body": "you could demonstrate how to just use the hash reference instead of copying the referred-to hash"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1544066745, "post_id": 53642281, "comment_id": 94147281, "body": "Yeah, but you wouldn&#39;t want to make a copy of the hash like that. <code>my $e_abs = $e_all{&quot;ex_abs&quot;};</code> is a much better solution."}, {"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1544084824, "post_id": 53642281, "comment_id": 94152876, "body": "Thanks for the answer. Is there a better/cleaner/more-good-looking way of: <code>%e_abs= %{$e_all{&quot;ex_abs&quot;}} if(defined($e_all{&quot;ex_abs&quot;}));</code>?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1544086202, "post_id": 53642281, "comment_id": 94153611, "body": "@TTaJTa4: <code>%e_abs= %{ $e_all{&quot;ex_abs&quot;} || {} };</code> maybe?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1544052330, "last_edit_date": 1544052330, "creation_date": 1544051943, "answer_id": 53642281, "question_id": 53642097, "link": "https://stackoverflow.com/questions/53642097/getting-the-inner-hash-in-perl/53642281#53642281", "title": "Getting the inner hash in Perl", "body": "<p><code>$e_all{ex_abs}</code> contains a hash <em>reference</em>, to assign it to a hash, you first need to <em>dereference</em> it:</p>\n\n<pre><code>my %e_abs = %{ $e_all{\"ex_abs\"} };\nmy %e = %{ $e_all{\"ex\"} };\n</code></pre>\n\n<p>Or, in more recent Perl versions,</p>\n\n<pre><code>my %e_abs = $e_all{\"ex_abs\"}-&gt;%*;\nmy %e = $e_all{\"ex\"}-&gt;%*;\n</code></pre>\n\n<p>It outputs</p>\n\n<pre><code>$VAR1 = {\n          'ABC' =&gt; 5\n        };\n</code></pre>\n\n<p>It won't fail with \"Can't use an undefined value...\" unless <code>$e_all{ex_abs}</code> is undefined.</p>\n\n<p>Note that with <a href=\"http://p3rl.org/warnings\" rel=\"nofollow noreferrer\">warnings</a> on, Perl also tells me</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Reference found where even-sized list expected at 1.pl line 10.\nReference found where even-sized list expected at 1.pl line 11.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1544067024, "creation_date": 1544067024, "answer_id": 53644216, "question_id": 53642097, "link": "https://stackoverflow.com/questions/53642097/getting-the-inner-hash-in-perl/53644216#53644216", "title": "Getting the inner hash in Perl", "body": "<p>Always use <code>use strict; use warnings qw( all );</code>; it would have identified the problem.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Reference found where even-sized list expected at a.pl line 6.\nReference found where even-sized list expected at a.pl line 7.\n</code></pre>\n\n<p>Hash values can only be scalars, so you should be using the following:</p>\n\n<pre><code>my $e_abs = $e_all{ex_abs};\nmy $e     = $e_all{ex};\n\nprint Dumper($e_abs);\n</code></pre>\n\n<p>Alternatively, you could allocate a hash and copy the keys and values from the old hash into the new one, but that's needlessly expensive. This would be done as follows:</p>\n\n<pre><code>my %e_abs = %{ $e_all{ex_abs} };\n</code></pre>\n"}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1544067024, "creation_date": 1544050870, "question_id": 53642097, "link": "https://stackoverflow.com/questions/53642097/getting-the-inner-hash-in-perl", "title": "Getting the inner hash in Perl", "body": "<p>After spending a lot of time on debugging and understanding the reason for the code behavior, I decided to ask for help. It should be something very basic, but I can't seem to understand the reason why it works (actually does not work) like this. A piece of the code:</p>\n\n<pre><code>use Data::Dumper;\n\nmy (%p_all,%e_all);\nget_e(\\%e_all);\n\nmy %e_abs = $e_all{\"ex_abs\"};\nmy %e = $e_all{\"ex\"};\n\nprint Dumper(\\%e_abs);\n\nsub get_e{\n   my ($ex_href) = @_;\n   my $counter = 5;\n   my $exec1 = \"ABC\";\n   my $exec2 = \"xyz\";\n   $ex_href-&gt;{\"ex_abs\"}{$exec1} += $counter;\n   $ex_href-&gt;{\"ex\"}{$exec2} += $counter;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {                                                        \n      'HASH(0x9e2a20)' =&gt; undef    \n};     \n</code></pre>\n\n<p>If Ill try to do:</p>\n\n<pre><code>my %e_abs = %{$e_all{\"ex_abs\"}};\n</code></pre>\n\n<p>It will fail with the following error:</p>\n\n<pre><code>can't use an undefined value as a HASH reference\n</code></pre>\n\n<p>How can I solve this issue?</p>\n"}, {"tags": ["angular", "perl", "http"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1544025695, "post_id": 53635877, "comment_id": 94132126, "body": "With CGI you need to run a web server like Apache. What you&#39;re trying to do is call a file in the file system. There is nothing to handle the HTTP protocol. If all you want to do is return some JSON, take a look at the PSGI-based web frameworks. Those will bring their own web server to handle the TCP connection and the HTTP that sits on top of it. I&#39;ll write you an answer with one of them."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1544027331, "creation_date": 1544027331, "answer_id": 53636678, "question_id": 53635877, "link": "https://stackoverflow.com/questions/53635877/how-to-pass-json-data-from-perl-script-to-angular-controller-locally/53636678#53636678", "title": "How to pass JSON data from perl script to angular controller locally", "body": "<p>The way you are trying to run your CGI script is wrong. CGI is the protocol between a web server and an application on the server. It always requires some kind of web server. You're trying to send an HTTP request to the file that contains the Perl program in your file system. That points to a fundamental misunderstanding of how web works.</p>\n\n<p>My suggestion is to move away from CGI for this purpose, and run a small, stand-alone web application that brings its own <em>web server</em>. It will open a port and allow you to send web requests to it. It's portable, scale-able and much simpler to maintain.</p>\n\n<p>If all you care about is getting this to work easily, either of the web frameworks <a href=\"https://metacpan.org/pod/Dancer2\" rel=\"nofollow noreferrer\">Dancer2</a> or <a href=\"https://mojolicious.io/\" rel=\"nofollow noreferrer\">Mojolicious</a> are perfectly suitable for your purpose. This answer will focus on Dancer2 because I am more familiar with it.</p>\n\n<p>Start by installing Dancer2 from CPAN. You seem to be on Windows, so that's probably the <code>cpanm</code> client that came with Strawberry Perl, or <code>ppm</code> on your ActivePerl.</p>\n\n<p>Create a file called <em>app.pl</em> (the name does not really matter) somewhere in your file system. Paste in the following code.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Dancer2;\nuse Web::Scraper;\n\nset serializer =&gt; 'JSON';\n\nget '/:name' =&gt; sub {\n    my ($self) = @_;\n\n    return find_movie(route_parameters-&gt;get('name'));\n};\n\n# This is your data model/source. Could also put this in\n# an extra package and make it have a nice interface. That way\n# you can easily wrap caching around it, or switch to a database.\nsub find_movie {\n    my $name = shift;\n\n#    my $scraper = Web::Scraper-&gt;new;\n#    my $movie = $scraper-&gt;scrape();\n\n    # this would be a data structure\n#    return $movie;\n    return { foo =&gt; $name };\n}\n\nDancer2-&gt;psgi_app;\n</code></pre>\n\n<p>Now open a terminal (<code>cmd</code>) where you put that file, and run</p>\n\n<pre><code>$ plackup app.pl\nHTTP::Server::PSGI: Accepting connections at http://0:5000/\n</code></pre>\n\n<p>You can now make requests to this. Use the URL <code>http://localhost:5000/red</code> as an example.</p>\n\n<p>You don't have to worry about the JSON stuff either, the <code>set serializer</code> bit will take care of sending the correct content type back for you and convert the Perl data structure to JSON automatically.</p>\n\n<p>It's now also trivial to use something like <a href=\"https://metacpan.org/pod/Dancer2::Plugin::Cache::CHI\" rel=\"nofollow noreferrer\">Dancer2::Plugin::Cache::CHI</a> to cache results from your web scrape search.</p>\n\n<hr>\n\n<p>If you want more information about PSGI and why CGI is not the right tool for what you're doing, here are some links:</p>\n\n<ul>\n<li>Dave Cross wrote about it recently: <a href=\"https://perlhacks.com/2018/11/please-dont-use-cgi-pm/\" rel=\"nofollow noreferrer\">https://perlhacks.com/2018/11/please-dont-use-cgi-pm/</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=jKOqtRMT85s\" rel=\"nofollow noreferrer\"><em>CGI.pm must die</em> talk</a> by Perl release manager Sawyer X</li>\n</ul>\n"}], "owner": {"reputation": 13, "user_id": 10750267, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y7nHrWajW6w/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gTrad_GgbTeG2JtmElgs5utt_Evg/mo/photo.jpg?sz=128", "display_name": "Kelly Agnew", "link": "https://stackoverflow.com/users/10750267/kelly-agnew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 53636678, "answer_count": 1, "score": 1, "last_activity_date": 1544029322, "creation_date": 1544024617, "question_id": 53635877, "link": "https://stackoverflow.com/questions/53635877/how-to-pass-json-data-from-perl-script-to-angular-controller-locally", "title": "How to pass JSON data from perl script to angular controller locally", "body": "<p><strong>Tl;dr</strong> I want to be able to use something <em>like</em> angular's http service, but all locally from my machine, so that I don't have to have a server running for it to work. My current error message is</p>\n\n<pre><code>Access to XMLHttpRequest at 'file:C:/myfilepaths/cgi-bin/movieSearch.pl?movie=Red' from origin 'null' has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: http, data, chrome, chrome-extension, https.\n</code></pre>\n\n<p>Is there an easy way to do this all locally?</p>\n\n<p><strong>The full story with code:</strong>\nI am currently trying to build a web app that will ask the user to enter a movie, the angular controller takes this query and passes it to a perl script which will scrape imdb to return possible movie matches to the user's entry. I've done similar things to this before and have working code:\nThe frontend:</p>\n\n<pre><code>&lt;div ng-app=\"myApp\" ng-controller=\"Ctrl1\"&gt;\n\n    &lt;p&gt; Input movies : &lt;/p&gt;\n    &lt;form ng-submit=\"loadMovie1()\"&gt;\n    Movie 1 : &lt;input type=\"text\" ng-model=\"movie1\"&gt;\n    &lt;input type=\"submit\" id=\"submit\" value=\"Submit\" /&gt;\n    &lt;/form&gt;\n\n    &lt;p&gt;list={{list}}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I am using Angular's http service:</p>\n\n<pre><code>$scope.loadMovie1 = function() {\n        if($scope.movie1){\n        //Take input and call the perl script to scrape imdb                \n        var movieList = [];\n        $http.get(\"../cgi-bin/movieSearch.pl\",{params: {movie: $scope.movie1}})\n        .then(function(response) {\n            movieList = response.data.record; \n            console.log(movieList);\n            //pass to next function\n            }, function (error){\n            console.log(error);\n            });\n\n        }   \n    };\n</code></pre>\n\n<p>And finally, I use a perl web scraping library called Web::Scraper. The scraping works fine and for brevity I won't include the entire perl script. Sufficed to say that I get the data from imdb and format it into a JSON object using this piece of perl:</p>\n\n<pre><code>package rec;\nsub new {\n    my $class = shift;\n    my $self = {\n    text =&gt; shift, #Fields returned by the query\n    link =&gt; shift,\n    };\n    my $self2 = {\n    record =&gt; $self #Every SQL Data row will be anchored by 'record' as the root node\n    };\n    bless $self2, $class;\n    return $self2;\n}\nsub TO_JSON { return { %{ shift() } }; }\n\npackage main;\nmy $json_str = JSON-&gt;new-&gt;utf8;\n$json_str-&gt;convert_blessed(1);\nmy $temp;\nmy $e;\nmy $JSON;\nmy $master_json;\nmy $final_data = {};\n#-----------------------------------------------\n# Begin JSON Wizardry\n#-----------------------------------------------\nforeach my $row (\\@returnMatrix)\n{\n$temp = encode_json(\\@$row); # Pull a single row in comma separated format\n$e = new rec(split(',',substr($temp, 1, -1))); # Pass the row to the rec class constructor\nmy $key = (keys %$e)[0]; # Get the key of that row (Will be \"record\" for every row)\n$final_data-&gt;{$key} ||= []; # Push key onto final_data\npush @{$final_data-&gt;{$key}}, $e-&gt;{$key};\n}\n\n$JSON = $json_str-&gt;encode($final_data); # Encode the full JSON object\n\nprint \"$JSON\\n\"; #return the json object to the controller.\n</code></pre>\n\n<p>Now this all works great. But sadly, to my dismay, this won't work for me because I am not running a server, so angular's http service returns an error:</p>\n\n<pre><code>Access to XMLHttpRequest at 'file:C:/myfilepaths/cgi-bin/movieSearch.pl?movie=Red' from origin 'null' has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: http, data, chrome, chrome-extension, https.\n</code></pre>\n\n<p>I was hoping to not have to install or run a server all the time to make this work... I would like to run this all locally from my computer as its just a little side project. Is this possible to do in some other way? I'm open to suggestions.</p>\n\n<p>Thanks very much\nK</p>\n"}, {"tags": ["json", "perl", "parsing"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1544024540, "post_id": 53635786, "comment_id": 94131389, "body": "&quot;Not only does this seem to be even more garbled and it doesn&#39;t process some of the elements properly&quot; \u2014 It looks fine to me. What did you expect? Perl doesn&#39;t have a native boolean type, so you get <code>JSON::PP::Boolean</code> objects instead \u2026 and object property order is not guaranteed in JSON nor is hash key property order guaranteed in Perl."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1544024605, "post_id": 53635786, "comment_id": 94131428, "body": "&quot;I can&#39;t seem to access elements of either that Dumper output or the raw_json variable&quot; \u2014 Well, naturally. Both of those are strings. You need to use the output of <code>decode_json()</code>"}, {"owner": {"reputation": 3, "user_id": 5529531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc71e6fbbdaa3a306648220167602a0?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Minnema", "link": "https://stackoverflow.com/users/5529531/robert-minnema"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1544024942, "post_id": 53635786, "comment_id": 94131637, "body": "Quentin okay, so how would I do that?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1544025108, "post_id": 53635786, "comment_id": 94131744, "body": "<a href=\"https://perlmaven.com/perl-hash\" rel=\"nofollow noreferrer\">perlmaven.com/perl-hash</a>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1544025114, "post_id": 53635786, "comment_id": 94131755, "body": "<a href=\"https://www.cs.mcgill.ca/~abatko/computers/programming/perl/howto/hash/\" rel=\"nofollow noreferrer\">cs.mcgill.ca/~abatko/computers/programming/perl/howto/hash</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 7, "last_activity_date": 1544026630, "creation_date": 1544026630, "answer_id": 53636469, "question_id": 53635786, "link": "https://stackoverflow.com/questions/53635786/parsing-a-json-string-in-perl/53636469#53636469", "title": "Parsing a JSON string in Perl", "body": "<p>I'm not sure what you mean, as far as I can see your JSON contains all the data you want to extract:</p>\n\n<pre><code>$ echo '{\"result\":{\"0\":{\"status\":false},\"1\":{\"status\":false},\"2\":{\"status\":false},\"3\":{\"status\":false},\"4\":{\"type\":\"unknown\",\"status\":true}},\"jsonrpc\":\"2.0\"}' | json_pp \n{\n   \"jsonrpc\" : \"2.0\",\n   \"result\" : {\n      \"0\" : {\n         \"status\" : false\n      },\n      \"4\" : {\n         \"type\" : \"unknown\",\n         \"status\" : true\n      },\n      \"1\" : {\n         \"status\" : false\n      },\n      \"3\" : {\n         \"status\" : false\n      },\n      \"2\" : {\n         \"status\" : false\n      }\n   }\n}\n</code></pre>\n\n<p>Maybe you have not understood how to access it correctly? The following code seems to work:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse JSON qw(decode_json);\n\nmy $raw_json = '{\"result\":{\"0\":{\"status\":false},\"1\":{\"status\":false},\"2\":{\"status\":false},\"3\":{\"status\":false},\"4\":{\"type\":\"unknown\",\"status\":true}},\"jsonrpc\":\"2.0\"}';\nprint \"${raw_json}\\n\";\n\nmy $object = decode_json($raw_json)\n    or die \"JSON parse error\\n\";\n\nmy $result = $object-&gt;{result};\ndie \"No result object found\\n\"\n    unless $result;\n\nforeach my $key (sort keys %{$result}) {\n    print \"${key}: \", $result-&gt;{$key}-&gt;{status} ? \"True\": \"False\", \"\\n\";\n}\n\nexit 0;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\"result\":{\"0\":{\"status\":false},\"1\":{\"status\":false},\"2\":{\"status\":false},\"3\":{\"status\":false},\"4\":{\"type\":\"unknown\",\"status\":true}},\"jsonrpc\":\"2.0\"}\n0: False\n1: False\n2: False\n3: False\n4: True\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5529531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc71e6fbbdaa3a306648220167602a0?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Minnema", "link": "https://stackoverflow.com/users/5529531/robert-minnema"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1659, "favorite_count": 0, "accepted_answer_id": 53636469, "answer_count": 1, "score": 0, "last_activity_date": 1544026630, "creation_date": 1544024257, "question_id": 53635786, "link": "https://stackoverflow.com/questions/53635786/parsing-a-json-string-in-perl", "title": "Parsing a JSON string in Perl", "body": "<p>We have a device with an API that returns JSON strings. I want to be able to access specific portions of the JSON but I can't figure out how to make the syntax work.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse CGI qw(:standard);\nuse LWP::Simple;\nuse JSON qw(decode_json);\nuse Data::Dumper;\n\nmy $json_request = 'http://&lt;device ip&gt;/API?method=Display:Input:Status:All:Get';\nmy $raw_json = get $(json_request)\nprint($raw_json) \n# Output: {\"result\":{\"0\":{\"status\":false},\"1\":{\"status\":false},\"2\":{\"status\":false},\"3\":{\"status\":false},\"4\":{\"type\":\"unknown\",\"status\":true}},\"jsonrpc\":\"2.0\"} \n</code></pre>\n\n<p>I've tried using the JSON library's decode_json function along with Data::Dumper, but here's what I get:</p>\n\n<pre><code>print(Dumper(decode_json($raw_json)));\n# Output: $VAR1 = { 'jsonrpc' =&gt; '2.0', 'result' =&gt; { '4' =&gt; { 'status' =&gt; bless( do{\\(my $o = 1)}, 'JSON::PP::Boolean' ), 'type' =&gt; 'unknown' }, '1' =&gt; { 'status' =&gt; bless( do{\\(my $o = 0)}, 'JSON::PP::Boolean' ) }, '3' =&gt; { 'status' =&gt; $VAR1-&gt;{'result'}{'1'}{'status'} }, '0' =&gt; { 'status' =&gt; $VAR1-&gt;{'result'}{'1'}{'status'} }, '2' =&gt; { 'status' =&gt; $VAR1-&gt;{'result'}{'1'}{'status'} } } }; \n</code></pre>\n\n<p>Not only does this seem to be even more garbled and it doesn't process some of the elements properly, I can't seem to access elements of either that Dumper output or the raw_json variable. I'm admittedly new to Perl but I've tried all of the syntax I can think of and I can't figure it out.</p>\n\n<p>I would like to be able to just have a table with rows 0 through 4 that just says \"true\" or \"false\" depending on the entry for that particular JSON element. E.G. for the JSON result here,</p>\n\n<pre><code>0: False\n1: False\n2: False\n3: False\n4: True\n</code></pre>\n"}, {"tags": ["powershell", "perl", "strawberry-perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1544065954, "post_id": 53636718, "comment_id": 94147126, "body": "<code>$| = 1;</code> will do the same."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1544165380, "post_id": 53636718, "comment_id": 94186795, "body": "@ikegami you are of course correct, but I prefer to write modern, readable code and not fodder for the Perl haters out there."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1544171359, "post_id": 53636718, "comment_id": 94189264, "body": "The equivalent would be <code>select-&gt;autoflush(1);</code> (but this ends up calling <code>select</code> three times and <code>$|</code> twice)."}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 1, "last_activity_date": 1544027495, "creation_date": 1544027495, "answer_id": 53636718, "question_id": 53634764, "link": "https://stackoverflow.com/questions/53634764/powershell-not-capturing-perls-standard-output/53636718#53636718", "title": "Powershell not capturing perl&#39;s standard output", "body": "<p>STDERR is usually set up for auto-flush, STDOUT is not. Your code expects to receive every output line as it is written.</p>\n\n<p>Try adding the following 2 lines to your Perl script after <code>use warnings;</code></p>\n\n<pre><code>use IO::Handle;\nSTDOUT-&gt;autoflush(1);\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 9913733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/djpBQ.png?s=128&g=1", "display_name": "eciii", "link": "https://stackoverflow.com/users/9913733/eciii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 53636718, "answer_count": 1, "score": 1, "last_activity_date": 1544027495, "creation_date": 1544020857, "question_id": 53634764, "link": "https://stackoverflow.com/questions/53634764/powershell-not-capturing-perls-standard-output", "title": "Powershell not capturing perl&#39;s standard output", "body": "<p>I have the following simple script in powershell (say under <code>C:\\Users\\myusername\\Desktop\\tests\\test.ps1</code>)</p>\n\n<pre><code>$counter = 0\nwhile (1) {\n    $counter++\n    if ($counter % 2) {\n        [Console]::Error.WriteLine(\"($counter) This is an error\")\n    } else {\n        echo \"($counter) Some output\"\n    }\n    sleep 1\n}\n</code></pre>\n\n<p>I want to programmatically invoke this script and capture its standard output and standard error into a file (say <code>C:\\Users\\myusername\\Desktop\\test.log</code>). For that I wrote the following powershell script:</p>\n\n<pre><code>$psi = New-object System.Diagnostics.ProcessStartInfo\n$psi.CreateNoWindow = $true\n$psi.UseShellExecute = $false\n$psi.RedirectStandardOutput = $true\n$psi.RedirectStandardError = $true\n$psi.FileName = 'C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\powershell.exe'\n$psi.Arguments = @('C:\\Users\\myusername\\Desktop\\tests\\test.ps1')\n\n$process = New-Object System.Diagnostics.Process\n$process.StartInfo = $psi\n\n$logAction = {\n    $time = Get-Date -Format o\n    Add-Content 'C:\\Users\\myusername\\Desktop\\test.log' \"($time)[$($Event.MessageData)]: $($Event.SourceArgs.Data)\"\n}\n\nRegister-ObjectEvent -InputObject $process -EventName ErrorDataReceived -Action $logAction -MessageData \"STDERR\" &gt;$null\nRegister-ObjectEvent -InputObject $process -EventName OutputDataReceived -Action $logAction -MessageData \"STDOUT\" &gt;$null\n\n$process.Start() &gt;$null\n$process.BeginErrorReadLine() &gt;$null\n$process.BeginOutputReadLine() &gt;$null\n\n$process.Id\n</code></pre>\n\n<p>The content of the <code>test.log</code> file is as expected:</p>\n\n<pre><code>(2018-12-05T15:00:45.7615056+01:00)[STDERR]: (1) This is an error\n(2018-12-05T15:00:47.0119743+01:00)[STDOUT]: (2) Some output\n(2018-12-05T15:00:47.9497710+01:00)[STDERR]: (3) This is an error\n(2018-12-05T15:00:49.8253980+01:00)[STDOUT]: (4) Some output\n(2018-12-05T15:00:49.8253980+01:00)[STDERR]: (5) This is an error\n(2018-12-05T15:00:51.2008546+01:00)[STDOUT]: (6) Some output\n(2018-12-05T15:00:51.8260768+01:00)[STDERR]: (7) This is an error\n(2018-12-05T15:01:03.6269252+01:00)[STDERR]:\n(2018-12-05T15:01:03.6269252+01:00)[STDOUT]:\n</code></pre>\n\n<p>But now comes the interesting part. I have the following perl script (say under <code>C:\\Users\\myusername\\Desktop\\tests\\test.pl</code>) which I run in Windows using <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry Perl</a>, and which pretty much resembles the first powershell script in my question:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $counter = 0;\n\nwhile (1) {\n    $counter++;\n\n    if ($counter % 2) {\n        print STDERR \"($counter) This is an error!\\n\";\n    } else {\n        print STDOUT \"($counter) Some message\\n\";\n    }\n\n    sleep 1;\n}\n</code></pre>\n\n<p>I also want to programmatically invoke this script and capture its standard output and standard error into a file. For that I change the second script in my question by updating the <code>$psi.FileName</code> and <code>$psi.Arguments</code> values to:</p>\n\n<pre><code>$psi.FileName = 'C:\\Strawberry\\perl\\bin\\perl.exe'\n$psi.Arguments = @('C:\\Users\\myusername\\Desktop\\tests\\test.pl')\n</code></pre>\n\n<p>But now the content of the <code>test.log</code> file is not what I expected</p>\n\n<pre><code>(2018-12-05T14:14:53.9176561+01:00)[STDERR]: (1) This is an error!\n(2018-12-05T14:14:55.7926306+01:00)[STDERR]: (3) This is an error!\n(2018-12-05T14:14:57.9801317+01:00)[STDERR]: (5) This is an error!\n(2018-12-05T14:15:22.2301618+01:00)[STDOUT]:\n(2018-12-05T14:15:22.2301618+01:00)[STDERR]:\n</code></pre>\n\n<p>As you can see the standard output is not getting captured. I have absolutely no idea why is this happening and how can I solve it. Why is it not working for perl but it does for powershell? How can I get it to work with perl?</p>\n\n<p>My powershell version is 5.1.17134.407 on a Windows 10 Pro.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1, "user_id": 6533897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a565ec79c314e9f77755e3c79ba8d6?s=128&d=identicon&r=PG&f=1", "display_name": "javed", "link": "https://stackoverflow.com/users/6533897/javed"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1544018675, "post_id": 53634076, "comment_id": 94127497, "body": "<a href=\"https://metacpan.org/pod/DateTime::Format::CLDR#cldr_format\" rel=\"nofollow noreferrer\">metacpan.org/pod/DateTime::Format::CLDR#cldr_format</a>"}, {"owner": {"reputation": 1, "user_id": 6533897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a565ec79c314e9f77755e3c79ba8d6?s=128&d=identicon&r=PG&f=1", "display_name": "javed", "link": "https://stackoverflow.com/users/6533897/javed"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1544019608, "post_id": 53634076, "comment_id": 94128086, "body": "tried not working"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1544021174, "post_id": 53634076, "comment_id": 94129218, "body": "What locale are you working with? On my system if I put in <code>de-DE</code> or <code>en-US</code> or <code>en-UK</code> it comes out as <i>Jan</i>, <i>Feb</i> and so on. Anyway putting a <code>ucfirst</code> around the <code>$f-&gt;format_cldr</code> call should suffice."}, {"owner": {"reputation": 1, "user_id": 6533897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a565ec79c314e9f77755e3c79ba8d6?s=128&d=identicon&r=PG&f=1", "display_name": "javed", "link": "https://stackoverflow.com/users/6533897/javed"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1544021353, "post_id": 53634076, "comment_id": 94129348, "body": "I am using for Norwegian"}, {"owner": {"reputation": 1, "user_id": 6533897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a565ec79c314e9f77755e3c79ba8d6?s=128&d=identicon&r=PG&f=1", "display_name": "javed", "link": "https://stackoverflow.com/users/6533897/javed"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1544021486, "post_id": 53634076, "comment_id": 94129438, "body": "you mean: ucfirst($d-&gt;format_cldr(&quot;LLL&quot;)) ?"}, {"owner": {"reputation": 1, "user_id": 6533897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a565ec79c314e9f77755e3c79ba8d6?s=128&d=identicon&r=PG&f=1", "display_name": "javed", "link": "https://stackoverflow.com/users/6533897/javed"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1544021554, "post_id": 53634076, "comment_id": 94129480, "body": "yes, it is working, thanks a lot. Issue is solved."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1544021557, "post_id": 53634076, "comment_id": 94129481, "body": "Yeah. You take the return value and <code>ucfirst</code> it. That&#39;ll return a new value."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1544021651, "post_id": 53634076, "comment_id": 94129553, "body": "Next time, please try to clean your code up to be a self-contained example. Something along the lines of <code>use DateTime; my $d = DateTime-&gt;now; $d-&gt;set_locale(&#39;nb-NO&#39;); say $d-&gt;format_cldr(&quot;LLL&quot;);</code> would have been much easier to read for us, thus making it easier to help. Also see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you are not sure what I mean."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1544021538, "creation_date": 1544021538, "answer_id": 53634974, "question_id": 53634076, "link": "https://stackoverflow.com/questions/53634076/how-to-print-name-of-month-with-first-letter-capital-using-format-cldrlll/53634974#53634974", "title": "how to print name of month with first letter capital using format_cldr(&quot;LLL&quot;)", "body": "<p>You said you tried <code>ucfirst</code> but you didn't show us how.</p>\n\n<p>This will work:</p>\n\n<pre><code> @$climate[$i-1]-&gt;{month_name} = ucfirst $d-&gt;format_cldr(\"LLL\");\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6533897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a565ec79c314e9f77755e3c79ba8d6?s=128&d=identicon&r=PG&f=1", "display_name": "javed", "link": "https://stackoverflow.com/users/6533897/javed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 53634974, "answer_count": 1, "score": -1, "last_activity_date": 1544021538, "creation_date": 1544018462, "last_edit_date": 1544019533, "question_id": 53634076, "link": "https://stackoverflow.com/questions/53634076/how-to-print-name-of-month-with-first-letter-capital-using-format-cldrlll", "title": "how to print name of month with first letter capital using format_cldr(&quot;LLL&quot;)", "body": "<p>I am using format_cldr(\"LLL\") which gives me jan, feb, mar, ... But I need first letter capital: Jan, Feb, Mar, ...</p>\n\n<p>I tried using ucfirst(), but no success.</p>\n\n<p>here is my piece of code:</p>\n\n<pre><code>while ($i &lt; 13) {\n  my $d = DateTime-&gt;new(year=&gt;1111, month =&gt; $i, day=&gt;1);\n  $d-&gt;set_locale($self-&gt;context-&gt;locale);\n  @$climate[$i-1]-&gt;{month_name} = $d-&gt;format_cldr(\"LLL\");\n  $i = $i + 1;\n}\n</code></pre>\n\n<p>Need help, thanks in advance</p>\n"}, {"tags": ["perl", "command-line-interface", "fixed-width"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1544011789, "last_edit_date": 1592644375, "creation_date": 1544008952, "answer_id": 53631172, "question_id": 53630784, "link": "https://stackoverflow.com/questions/53630784/how-do-i-read-fixed-width-records-in-perl-using-the-0-option/53631172#53631172", "title": "How do I read fixed-width records in Perl using the -0 option?", "body": "<p>There's no command-line switch.</p>\n<p>From <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"noreferrer\">perlrun</a>,</p>\n<blockquote>\n<p><strong>-0[octal/hexadecimal]</strong></p>\n<p>specifies the input record separator (<code>$/</code>) as an octal or hexadecimal number. If there are no digits, the null character is the separator. Other switches may precede or follow the digits. For example, if you have a version of find which can print filenames terminated by the null character, you can say this:</p>\n<pre><code>find . -name '*.orig' -print0 | perl -n0e unlink\n</code></pre>\n<p>The special value 00 will cause Perl to slurp files in paragraph mode. Any value 0400 or above will cause Perl to slurp files whole, but by convention the value 0777 is the one normally used for this purpose.</p>\n<p>You can also specify the separator character using hexadecimal notation: <strong>-0x<em>HHH...</em></strong>, where the <em><code>H</code></em> are valid hexadecimal digits. Unlike the octal form, this one may be used to specify any Unicode character, even those beyond 0xFF. So if you really want a record separator of 0777, specify it as <strong>-0x1FF</strong>. (This means that you cannot use the <strong>-x</strong> option with a directory name that consists of hexadecimal digits, or else Perl will think you have specified a hex number to <strong>-0</strong>.)</p>\n</blockquote>\n<p>You may, of course, use the following:</p>\n<pre><code>perl -ne'BEGIN { $/ = \\10 } ...'\n</code></pre>\n<p>or</p>\n<pre><code>perl -e'$/ = \\10; while (&lt;&gt;) { ... }'\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 2960236, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/fciFP.png?s=128&g=1", "display_name": "wu-lee", "link": "https://stackoverflow.com/users/2960236/wu-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 53631172, "answer_count": 1, "score": 5, "last_activity_date": 1544011789, "creation_date": 1544007758, "last_edit_date": 1544008706, "question_id": 53630784, "link": "https://stackoverflow.com/questions/53630784/how-do-i-read-fixed-width-records-in-perl-using-the-0-option", "title": "How do I read fixed-width records in Perl using the -0 option?", "body": "<p>So I know you can write Perl one-liners which read records with the non-default record separator with options like</p>\n\n<pre><code>perl -064 -ne '#... delimited by @'\n</code></pre>\n\n<p>Or the entire file in one line:</p>\n\n<pre><code>perl -0777 -ne '#... file at once'\n</code></pre>\n\n<p>I also know if you programatically set the record separator <code>$\\</code> to a reference to a number you can read fixed-width records.</p>\n\n<pre><code>perl -ne '$/ = \\10; #... 10 chars at a time'\n</code></pre>\n\n<p>But what I can't find is any recipe for reading fixed width records using the <code>-0</code> option.  Is this possible?</p>\n"}, {"tags": ["regex", "bash", "perl", "capture-group"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1544006905, "post_id": 53630410, "comment_id": 94120474, "body": "Are you asking for <code>my @captures = $string =~ &#47;...&#47;;</code>?"}, {"owner": {"reputation": 29, "user_id": 10539516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd634eb9b9a7c246d7a21b8ad528cd48?s=128&d=identicon&r=PG&f=1", "display_name": "Djxinator", "link": "https://stackoverflow.com/users/10539516/djxinator"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1544008348, "post_id": 53630410, "comment_id": 94121306, "body": "I assume that will put all of my matches into an array. Can I then count the number of matches in capture group 1 <code>$1</code> for example? If so, how do I accomplish this?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1544008550, "post_id": 53630410, "comment_id": 94121418, "body": "huh? There is exactly one in string in <code>$1</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1544008664, "post_id": 53630410, "comment_id": 94121492, "body": "I see you used <code>&#47;g</code>. Don&#39;t do that. Match against each line."}, {"owner": {"reputation": 29, "user_id": 10539516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd634eb9b9a7c246d7a21b8ad528cd48?s=128&d=identicon&r=PG&f=1", "display_name": "Djxinator", "link": "https://stackoverflow.com/users/10539516/djxinator"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1544010138, "post_id": 53630410, "comment_id": 94122419, "body": "I just want to know how to count the number of matches in a capture group...$1 is a capture group, which contains the &quot;JobID&quot; columns contents."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1544010540, "post_id": 53630410, "comment_id": 94122667, "body": "Again, that makes no sense. There are no matches in <code>$1</code>. <code>$1</code> contains the string captured by the match. If you match against <code>41735         Backup  Done      0     Policy_name_here    daily hostname001 MediaSvr1       8100</code>, <code>$1</code> will contain <code>41735</code>."}, {"owner": {"reputation": 29, "user_id": 10539516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd634eb9b9a7c246d7a21b8ad528cd48?s=128&d=identicon&r=PG&f=1", "display_name": "Djxinator", "link": "https://stackoverflow.com/users/10539516/djxinator"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1544015331, "post_id": 53630410, "comment_id": 94125520, "body": "I&#39;m matching against the entire output. In Powershell the regex matches each line and fills the capture group with an array of matches. So in my Powershell script, the equivalent of <code>$1</code> contains <code>41735, 41734, 41733...</code> etc. I&#39;m not Perl savvy I&#39;m afraid."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1544013011, "last_edit_date": 1544013011, "creation_date": 1544011109, "answer_id": 53631816, "question_id": 53630410, "link": "https://stackoverflow.com/questions/53630410/how-to-count-the-number-of-matches-in-a-regex-capture-group-perl/53631816#53631816", "title": "How to count the number of matches in a regex capture group - Perl", "body": "<pre><code>&lt;&gt;;  # Skip header\n\nmy $successes = 0;\nwhile (&lt;&gt;) {\n   chomp;\n   my @row = /.../\n      or do {\n         die(\"Line $. doesn't match pattern\\n\");\n         next;\n      };\n\n   ++$successes if $row[3] eq '0';\n}\n</code></pre>\n\n<p>You could also name the columns.</p>\n\n<pre><code>&lt;&gt;;  # Skip header\n\nmy $successes = 0;\nwhile (&lt;&gt;) {\n   chomp;\n   my %row;\n   @row{qw( JobID Type State Status ... )}  = /.../\n      or do {\n         die(\"Line $. doesn't match pattern\\n\");\n         next;\n      };\n\n   ++$successes if $row{Status} eq '0';\n}\n</code></pre>\n\n<p>Finally, if you want to store the data in a data structure for later analysis, that's possible too.</p>\n\n<pre><code>&lt;&gt;;  # Skip header\n\nmy @rows;\nwhile (&lt;&gt;) {\n   chomp;\n   my %row;\n   @row{qw( JobID Type State Status ... )}  = /.../\n      or do {\n         die(\"Line $. doesn't match pattern\\n\");\n         next;\n      };\n\n   push @rows, \\%row;\n}\n\nmy $successes = grep { $_-&gt;{Status} eq '0' } @rows;\n</code></pre>\n\n<p>Finally, that regex pattern is ...awful. I'd go with something like this:</p>\n\n<pre><code>sub trim(_) { $_[0] =~ s/^\\s++|\\s++\\z//rg }\n\nmy $pattern;\nmy @headers;\n{\n   my $header_line = &lt;&gt;;\n   chomp($header_line);\n   $header_line =~ s/\\bDest Media Svr\\b/Dest_Media_Svr/;\n   $header_line =~ s/\\bActive PID\\b/Active_PID/;\n   $pattern = join '', map { \"A\".length($_) } $header_line =~ /\\s*\\S+/g;\n   @headers = map trim, unpack $pattern, $header_line;\n}\n\nmy @rows;\nwhile (&lt;&gt;) {\n   chomp;\n   my %row; @row{@headers} = map trim, unpack $pattern, $_;\n   push @rows, \\%row;\n}\n\nmy $successes = grep { $_-&gt;{Status} eq '0' } @rows;\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 10539516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd634eb9b9a7c246d7a21b8ad528cd48?s=128&d=identicon&r=PG&f=1", "display_name": "Djxinator", "link": "https://stackoverflow.com/users/10539516/djxinator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544013011, "creation_date": 1544006444, "question_id": 53630410, "link": "https://stackoverflow.com/questions/53630410/how-to-count-the-number-of-matches-in-a-regex-capture-group-perl", "title": "How to count the number of matches in a regex capture group - Perl", "body": "<p>I need a way to count the number of matches in a regex capture group using either Perl or Bash. I can do this in Powershell but not in either of these languages. You guys have helped me get my Regex working, but every example I see just prints the capture groups. Printing the match results doesn't help me, I need to count the number of matches in each group.</p>\n\n<p>Here is example data for regexing (this is the output of a command, so is not static data, nor is it from a file)</p>\n\n<pre><code>   JobID           Type State Status               Policy Schedule     Client Dest Media Svr Active PID\n   41735         Backup  Done      0     Policy_name_here    daily hostname001 MediaSvr1       8100\n   41734         Backup  Done      0     Policy_name_here    daily hostname002 MediaSvr1       7803\n   41733         Backup  Done      0     Policy_name_here    daily hostname004 MediaSvr1       7785\n   41732         Backup  Done      0     Policy_name_here    daily hostname005 MediaSvr1       27697\n   41731         Backup  Done      0     Folicy_name_here    daily hostname006 MediaSvr1       27523\n   41730         Backup  Done      0     Policy_name_here    daily hostname007 MediaSvr1       27834\n   41729         Backup  Done      0     Policy_name_here        - hostname008 MediaSvr1       27681\n   41728         Backup  Done      0     Policy_name_here        - hostname009 MediaSvr1       27496\n   41727 Catalog Backup  Done      0              catalog     full hostname010 MediaSvr1       27347\n   41712 Catalog Backup  Done      0              catalog        - hostname004                 30564 \n</code></pre>\n\n<p>I cant use named capture groups as I am using Perl 5.8.5</p>\n\n<p>my regex</p>\n\n<p><code>/(\\d+)?\\s+((\\b[^\\d\\W]+\\b)|(\\b[^\\d\\W]+\\b\\s+\\b[^\\d\\W]+\\b))?\\s+((Done)|(Active)|(\\w+\\w+\\-\\w\\-+))?\\s+(\\d+)?\\s+((\\w+)|(\\w+\\_\\w+)|(\\w+\\_\\w+\\_\\w+))?\\s+((b[^\\d\\W]+\\b\\-\\b[^\\d\\W]+\\b)|(\\-)|(\\b[^\\d\\W]+\\b))?\\s+((\\w+\\.\\w+\\.\\w+)|(\\w+))?\\s+((\\w+\\.\\w+\\.\\w+)|(\\w+))?\\s+(\\d+)?/g</code></p>\n\n<p>Each capture group corresponds to a column and I need to pull the results of the capture group into a variable, so I can count using some kind of <code>where {$var -eq '0'}.count</code> code. Assuming <code>Status -eq '0'</code> denotes a successful backup, I need to count the number of successful backups in the Status capture group.</p>\n\n<p>Final output is something like</p>\n\n<p><code>Statistic.SUCCESSFUL: 20</code></p>\n\n<p>I've accomplished this already using Powershell, but Perl is completely different and Bash seems limited. If anyone knows how to accomplish the aforementioned in either of these Languages I'd appreciate some help.</p>\n\n<p>Kind Regards,</p>\n\n<p>DJ</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10743819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802061d47d0c7a335da81318a26329a8?s=128&d=identicon&r=PG", "display_name": "ewfwf", "link": "https://stackoverflow.com/users/10743819/ewfwf"}, "edited": false, "score": 0, "creation_date": 1544003382, "post_id": 53628522, "comment_id": 94118303, "body": "my $forkmanager = new Parallel::ForkManager-&gt;new(&quot;100000&quot;);  this is ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 10743819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802061d47d0c7a335da81318a26329a8?s=128&d=identicon&r=PG", "display_name": "ewfwf", "link": "https://stackoverflow.com/users/10743819/ewfwf"}, "edited": false, "score": 0, "creation_date": 1544003488, "post_id": 53628522, "comment_id": 94118371, "body": "<code>new Parallel::ForkManager-&gt;new(&quot;100000&quot;)</code> is a bad way of writing <code>Parallel::ForkManager-&gt;new-&gt;new(&quot;100000&quot;)</code>, which is wrong for the reasons I mentioned."}, {"owner": {"reputation": 1, "user_id": 10743819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802061d47d0c7a335da81318a26329a8?s=128&d=identicon&r=PG", "display_name": "ewfwf", "link": "https://stackoverflow.com/users/10743819/ewfwf"}, "edited": false, "score": 0, "creation_date": 1544004743, "post_id": 53628522, "comment_id": 94119170, "body": "same problem bro ! pls add me skype : lost.love.20 i have 3 days of trying and i didnt found soulotion !"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 10743819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802061d47d0c7a335da81318a26329a8?s=128&d=identicon&r=PG", "display_name": "ewfwf", "link": "https://stackoverflow.com/users/10743819/ewfwf"}, "edited": false, "score": 0, "creation_date": 1544006951, "post_id": 53628522, "comment_id": 94120496, "body": "The solution is to use <code>Parallel::ForkManager-&gt;new(&quot;100000&quot;)</code> instead of <code>new Parallel::ForkManager-&gt;new(&quot;100000&quot;)</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1544003248, "last_edit_date": 1544003248, "creation_date": 1544000421, "answer_id": 53628522, "question_id": 53628468, "link": "https://stackoverflow.com/questions/53628468/use-of-uninitialized-value-args0-in-pattern-match-m-at-root-perl5-lib-pe/53628522#53628522", "title": "Use of uninitialized value $args[0] in pattern match (m//) at /root/perl5/lib/perl5/Parallel/ForkManager.pm line 73", "body": "<p>Instead of passing a number to the P::FM constructor, you did something equivalent to one of the following:</p>\n\n<pre><code>my $pm = Parallel::ForkManager-&gt;new();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $pm = Parallel::ForkManager-&gt;new(undef);\n</code></pre>\n\n<p>The entire point of P::FM is to limit the number of concurrent processes working on a problem, so you need to specify the limit!</p>\n"}], "owner": {"reputation": 1, "user_id": 10743819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802061d47d0c7a335da81318a26329a8?s=128&d=identicon&r=PG", "display_name": "ewfwf", "link": "https://stackoverflow.com/users/10743819/ewfwf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544003311, "creation_date": 1544000213, "last_edit_date": 1544003311, "question_id": 53628468, "link": "https://stackoverflow.com/questions/53628468/use-of-uninitialized-value-args0-in-pattern-match-m-at-root-perl5-lib-pe", "title": "Use of uninitialized value $args[0] in pattern match (m//) at /root/perl5/lib/perl5/Parallel/ForkManager.pm line 73", "body": "<p>i have problem when i run perl script,</p>\n\n<pre><code>Use of uninitialized value $args[0] in pattern match (m//) at /root/perl5/lib/perl5/Parallel/ForkManager.pm line 73. \nMissing required arguments: max_proc\n</code></pre>\n\n<p>any solution?</p>\n"}, {"tags": ["perl", "sh", "bareword"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1543999337, "post_id": 53628000, "comment_id": 94116169, "body": "Hi @melpomene, thank you for your comment. Actually the my entire command is <code>&#47;usr&#47;bin&#47;perl -pe &#39;s&#47;RBIRef&#47;${REF&#47;&#47;$&#47;\\\\$}&#47;;s&#47;MsgIdtf&#47;$MSGIF&#47;;s&#47;FlDigVal&#47;$ENV{D&zwnj;&#8203;IGN}&#47;;s&#47;filename&#47;$FN&zwnj;&#8203;AME&#47;&#39; Header.xml &gt; $DDIRP&#47;$FNAME.xml</code>, using single quoutes gives me another error <code>Backslash found where operator expected at -e line 1, near &quot;$&#47;\\&quot;         (Missing operator before \\?) syntax error at -e line 1, near &quot;$&#47;\\&quot; Missing right curly or square bracket at -e line 1, at end of line syntax error at -e line 1, at EOF Execution of -e aborted due to compilation errors. </code>. I guess this due to escaping <code>$</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1543999638, "post_id": 53628000, "comment_id": 94116307, "body": "@MihaiDumitru What is <code>${REF&#47;&#47;$&#47;\\\\$}</code> supposed to do? If you&#39;re just trying to escape <code>$</code> for use in perl code, don&#39;t: Pass in <code>REF</code>, <code>MSGIF</code>, <code>DIGN</code>, <code>FNAME</code> via the environment and let perl fetch the values. Then there&#39;s no need to escape anything."}, {"owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1543999921, "post_id": 53628000, "comment_id": 94116438, "body": "$REF is another variable which contains $ in it. I was using <code>${REF&#47;&#47;$&#47;\\\\$}</code> to pass <code>$</code>, so using single quotes breaks this replacement."}, {"owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1544022988, "post_id": 53628000, "comment_id": 94130428, "body": "Thank you for your time and answer."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1543998330, "creation_date": 1543998330, "answer_id": 53628000, "question_id": 53627904, "link": "https://stackoverflow.com/questions/53627904/perl-bareword-found-where-operator-expected-at/53628000#53628000", "title": "Perl: Bareword found where operator expected at", "body": "<p>The problem is not with reserved words but <code>/</code>.</p>\n\n<p>If <code>DIGN</code> contains <code>+q4T/h/B8Saf0im3LtBevNvMPsd1PRG5Tz+Iq/uwjXA=</code>, your command passes the following code to perl:</p>\n\n<pre><code>s/FlDigVal/+q4T/h/B8Saf0im3LtBevNvMPsd1PRG5Tz+Iq/uwjXA=/\n</code></pre>\n\n<p>Here <code>s/FlDigVal/+q4T/</code> parses as a substitution command, but the rest is garbage.</p>\n\n<p>The solution is to not let the shell interpolate variables into code. Instead you can pass strings via the environment:</p>\n\n<pre><code>DIGN=\"$DIGN\" perl -pe 's/FlDigVal/$ENV{DIGN}/' Header.xml\n</code></pre>\n\n<p>(If <code>DIGN</code> is already exported, you don't need the <code>DIGN=\"$DIGN\"</code> part.)</p>\n\n<p>Here we use single quotes (no shell interpolation) and let perl grab a value from the environment.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1543998729, "post_id": 53628014, "comment_id": 94115880, "body": "Hi again @choroba, can you, please, give an example how to use LibXML to do this replacement? Thank you in advance."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1543999038, "post_id": 53628014, "comment_id": 94116023, "body": "@MihaiDumitru: Without seeing a sample of the input XML, I can&#39;t but guess."}, {"owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1543999699, "post_id": 53628014, "comment_id": 94116339, "body": "What if there are more than one variable to be exported and replaced? Is there a way to escape $ if it is present in another variable? I do not know if escaping $ works with single quotes."}, {"owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1544023014, "post_id": 53628014, "comment_id": 94130445, "body": "Thank you for your time and answer."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1543998368, "creation_date": 1543998368, "answer_id": 53628014, "question_id": 53627904, "link": "https://stackoverflow.com/questions/53627904/perl-bareword-found-where-operator-expected-at/53628014#53628014", "title": "Perl: Bareword found where operator expected at", "body": "<p>Don't use shell variables, which are just non-hygienic macros. Export the variable to Perl's environment:</p>\n\n<pre><code>DIGN=$DIGN perl -pe 's/FlDigVal/$ENV{DIGN}/'\n</code></pre>\n\n<p>Note the single quotes: we don't want the shell to change the Perl commands.</p>\n\n<p>or pass the value as an argument:</p>\n\n<pre><code>perl -pe 'BEGIN { $replace = shift } s/FlDigVal/$replace/' \"$DIGN\" Header.xml\n</code></pre>\n\n<p>Nevertheless, you seem to be editing an XML document with regular expressions. It's a painful way, there are libraries like <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a> that handle XML correctly. E.g. what would happen if DIGN contained <code>&amp;</code> or <code>&lt;</code>?</p>\n"}], "owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1032, "favorite_count": 1, "closed_date": 1544000203, "accepted_answer_id": 53628014, "answer_count": 2, "score": 1, "last_activity_date": 1543998838, "creation_date": 1543997969, "last_edit_date": 1543998838, "question_id": 53627904, "link": "https://stackoverflow.com/questions/53627904/perl-bareword-found-where-operator-expected-at", "closed_reason": "Duplicate", "title": "Perl: Bareword found where operator expected at", "body": "<p>I am trying to use perl to replace a string like so:</p>\n\n<pre><code>perl -pe \"s/FlDigVal/$DIGN/\" Header.xml &gt; $DDIRP/$FNAME.xml\n</code></pre>\n\n<p>If <code>DIGN=+q4T/h/B8Saf0im3LtBevNvMPsd1PRG5Tz+Iq/uwjXA=</code> i get the following syntax error:</p>\n\n<pre><code>Having no space between pattern and following word is deprecated at -e line 1.\nBareword found where operator expected at -e line 1, near \"s/FlDigVal/+q4T/h\"\nHaving no space between pattern and following word is deprecated at -e line 1.\nsyntax error at -e line 1, near \"s/FlDigVal/+q4T/h\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>I guess this is related to <code>/h</code>being in variable DIGN. Is there a way to escape those reserved words?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 6, "creation_date": 1543971940, "post_id": 53623598, "comment_id": 94107663, "body": "Trailing newlines are probably screwing things up. You&#39;re not <code>chomp</code>ing your input."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1543972025, "post_id": 53623598, "comment_id": 94107681, "body": "Also, from <code>chmod</code>: &quot;<i>chmod LIST --&gt; ... The first element of             the list must be the numeric mode ...</i>&quot;, which it isn&#39;t.  So it&#39;s not right right there.  Why do you use <code>chmod</code>?"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 1, "creation_date": 1543972088, "post_id": 53623598, "comment_id": 94107694, "body": "You should know to <code>use strict; use warnings;</code> by now. Also you are missing a <code>;</code>at the end of the first line of code."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1543977552, "post_id": 53624183, "comment_id": 94108992, "body": "Re &quot;<i>You also need to add an exists statement on the &quot;chmod&quot; command otherwise it will throw an error if the file isn&#39;t present.</i>&quot;, No, it will simply return false and set <code>$!</code> to <code>ENOENT</code> (unless you add <code>use autodie;</code>). This is <i>exactly</i> what <code>-e</code> does if the file doesn&#39;t exist, so the check you added is entire superfluous."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1543977694, "post_id": 53624183, "comment_id": 94109027, "body": "What would make sense is <code>chmod(0755, $file) or print $fh_dst &quot;$file\\n&quot;;</code>."}], "tags": [], "owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "is_accepted": false, "score": 0, "last_activity_date": 1543977985, "last_edit_date": 1543977985, "creation_date": 1543976072, "answer_id": 53624183, "question_id": 53623598, "link": "https://stackoverflow.com/questions/53623598/checking-if-file-or-directory-exists-with-e-flag-perl/53624183#53624183", "title": "Checking if file or directory exists with -e flag [perl]", "body": "<p>@Shawn is right its the chomp and corrects the chmod, testing it against a file called DUET.pl (protein modelling script). Essentially \"DUET.pl\\n\" does not exist. You also need to add an exists statement on the \"chmod\" command otherwise it will throw an error if the file isn't present.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $input = '/Users/michaelg/Desktop/test.txt';\nmy $test_output = '/Users/michaelg/Desktop/out.txt';\n\n    open(my $fh_dst, '&gt;&gt;', $test_output) or die \"$!\";\n    open(my $fh_src, '&lt;', $input) or die \"$!\";\n    while (my $file = &lt;$fh_src&gt;) {\n        chomp $file;\n        chmod (0755, $file) if -e $file;\n        print $fh_dst $file . \"\\n\", unless -e $file;\n    }\n    close ($fh_src);\n    close ($fh_dst);\n__DATA__\n</code></pre>\n\n<p><strong>The file test.txt contents are a path to file DUET.pl. DUET.pl exists in the said location</strong><br>\n/Users/michaelg/Desktop/DUET.pl </p>\n\n<p><strong>With chomp, output file,</strong></p>\n\n<p>(blank)</p>\n\n<p><strong>Without chomp, i.e. # chomp $file, output file (plus error),</strong> \n/Users/michaelg/Desktop/DUET.pl</p>\n\n<p>Furthermore, with chomp (shell),</p>\n\n<pre><code>ls -l /Users/michaelg/Desktop/DUET.pl\n-rwxr-xr-x@ 1 michaelg  staff  xxx  4 Dec xx:xx DUET.pl\nWithout chomp,\n-rwx------@ 1 michaelg  staff  xxx  4 Dec xx:xx DUET.pl\n</code></pre>\n\n<p>Note xx:xx timestamp removed</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1544004370, "last_edit_date": 1544004370, "creation_date": 1543978201, "answer_id": 53624446, "question_id": 53623598, "link": "https://stackoverflow.com/questions/53623598/checking-if-file-or-directory-exists-with-e-flag-perl/53624446#53624446", "title": "Checking if file or directory exists with -e flag [perl]", "body": "<p><code>chomp</code> is needed to remove the line feed that terminates the line you've read from the file. Essentially you were checking if <code>file\u240a</code> exists, and it doesn't. I think you meant to call <code>chomp</code>, but you called <code>chmod</code> instead. Fixed:</p>\n\n<pre><code>open(my $in_fh, '&lt;', $in_qfn)\n    or die(\"Can't open \\\"$in_qfn\\\": $!\\n\");\n\nopen(my $err_fh, '&gt;&gt;', $err_qfn)\n    or die(\"Can't append to \\\"$err_qfn\\\": $!\\n\");\n\nwhile (my $qfn = &lt;$in_fh&gt;) {\n    chomp($qfn);\n    print($err_fh \"$qfn\\n\");\n}\n</code></pre>\n"}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1544004370, "creation_date": 1543971015, "question_id": 53623598, "link": "https://stackoverflow.com/questions/53623598/checking-if-file-or-directory-exists-with-e-flag-perl", "title": "Checking if file or directory exists with -e flag [perl]", "body": "<p>It is probably a silly mistake, but I can't seem to understand why it does it. I wrote the following script which iterates over the lines of one file and inserts them into the other file only if the line (which is actually a path), is not a valid path.</p>\n\n<pre><code>open(my $fh_dst, '&gt;&gt;', $dst) or die\nopen(my $fh_src, '&lt;', $src) or die;\nwhile (my $file = &lt;$fh_src&gt;) {\n    chmod($file);\n    print $fh_dst $file unless(-e $file);\n}\nclose ($fh_src);\nclose ($fh_dst);\n</code></pre>\n\n<p>It does insert the paths into the other file, but for some reason, if I go to the Linux command line and do <code>ls -la</code> on one of the paths, it shows me that the directory or the file exists. I made sure that <code>-e</code> works also for directories, so it is not it. What could be the problem?</p>\n"}, {"tags": ["html", "perl", "module"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543969495, "post_id": 53622635, "comment_id": 94107141, "body": "It doesn&#39;t appear to understand the <code>time</code> tag.  I can&#39;t <code>look_down</code> for it either, not even using <code>_tag  =&gt; &#39;time&#39;</code>.  Don&#39;t know why (I may or may not be able to look more later)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1544125861, "post_id": 53622635, "comment_id": 94175574, "body": "Try un-setting the <a href=\"https://metacpan.org/pod/HTML::TreeBuilder#ignore_unknown\" rel=\"nofollow noreferrer\"><code>ignore_unknown</code> attribute</a>. Presumably by <code>$root-&gt;ignore_unknown(0)</code> before any parsing (but it didn&#39;t do anything for me, on v5.16).  Note that with that any tag-like thingy is going to be included in the parse tree."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1544125662, "post_id": 53623688, "comment_id": 94175472, "body": "Ah, that explains it.  As the thread mentions, un-setting the attribute <code>ignore_unknown</code>, which by default instructs the parser to ignore unknown (unsupported) tags, should fix that (while it will then include in the parse tree any tag-like construct). However, I couldn&#39;t get this to work as adding <code>$root-&gt;ignore_unknown(0);</code> didn&#39;t change things in my tests (on v5.16)."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1544206652, "post_id": 53623688, "comment_id": 94207309, "body": "@zdim I suspect that HTML::Parser ignores the tags itself before they even get to HTML::TreeBuilder&#39;s event handling. Or possibly is doing something else with them, as unlike Mojo::DOM it seems to modify the input to be a &quot;proper HTML page&quot;. But it&#39;s difficult to verify since HTML::Parser is XS code and rather opaque to use on its own."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 2, "last_activity_date": 1543971755, "creation_date": 1543971755, "answer_id": 53623688, "question_id": 53622635, "link": "https://stackoverflow.com/questions/53622635/htmlelement-not-finding-all-elements/53623688#53623688", "title": "HTML::ELEMENT not finding all elements", "body": "<p>HTML::TreeBuilder <a href=\"https://rt.cpan.org/Ticket/Display.html?id=84526\" rel=\"nofollow noreferrer\">does not support HTML5 tags</a>. Consider <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a> as an alternative that keeps up with the living HTML standard. I can't show how your whole code would look with Mojo::DOM since you've only shown a piece, but the Mojo::DOM equivalent of look_down is <code>find</code> (returns a Mojo::Collection arrayref) or <code>at</code> (returns the first element found or undef), both taking a <a href=\"https://metacpan.org/pod/Mojo::DOM::CSS\" rel=\"nofollow noreferrer\">CSS selector</a>.</p>\n"}], "owner": {"reputation": 327, "user_id": 3078982, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vKL84.png?s=128&g=1", "display_name": "iolympian", "link": "https://stackoverflow.com/users/3078982/iolympian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "accepted_answer_id": 53623688, "answer_count": 1, "score": 1, "last_activity_date": 1543976282, "creation_date": 1543963852, "last_edit_date": 1543976282, "question_id": 53622635, "link": "https://stackoverflow.com/questions/53622635/htmlelement-not-finding-all-elements", "title": "HTML::ELEMENT not finding all elements", "body": "<p>I have this snippet of html:</p>\n\n<pre><code>&lt;li class=\"result-row\" data=\"2\"&gt;\n&lt;a href=\"https://localhost/1.html\" class=\"result-image gallery empty\"&gt;&lt;/a&gt;\n\n&lt;p class=\"result-info\"&gt;\n    &lt;span class=\"icon icon-star\" role=\"button\"&gt;\n        &lt;span class=\"screen-reader-text\"&gt;favorite this post&lt;/span&gt;\n    &lt;/span&gt;\n\n    &lt;time class=\"result-date\" datetime=\"2018-12-04 09:21\" title=\"Tue 04 Dec 09:21:50 AM\"&gt;Dec  4&lt;/time&gt;\n\n&lt;a href=\"https://localhost/1.html\" data=\"2\" class=\"result-title hdrlnk\"&gt;Link Text&lt;/a&gt;\n</code></pre>\n\n<p>and this perl code (not production, so no quality comments are necessary)</p>\n\n<pre><code>my $root = $tree-&gt;elementify();\nmy @rows = $root-&gt;look_down('class', 'result-row');\n\nmy $item = $rows[0];\nsay $item-&gt;dump;\nmy $date = $item-&gt;look_down('class', 'result-date');\nsay $date;\nmy $title = $item-&gt;look_down('class', 'result-title hdrlnk');\n</code></pre>\n\n<p>All outputs are as I expected except <code>$date</code> isn't defined.  </p>\n\n<p>When I look at the <code>$item-&gt;dump</code>, it looks like the time element doesn't show up in the output.  Here's a snippet of the output from <code>$item-&gt;dump</code> where I would expect to see a <code>&lt;time...&gt;</code> element. All it shows is the text from the time element.</p>\n\n<pre><code>&lt;li class=\"result-row\" data=\"2\"&gt; @0.1.9.3.2.0\n&lt;a class=\"result-image gallery empty\" href=\"https://localhost/1.html\"&gt; @0.1.9.3.2.0.0\n&lt;p class=\"result-info\"&gt; @0.1.9.3.2.0.1\n&lt;span class=\"icon icon-star\" role=\"button\"&gt; @0.1.9.3.2.0.1.0\n\" \"\n&lt;span class=\"screen-reader-text\"&gt; @0.1.9.3.2.0.1.0.1\n\"favorite this post\"\n\" \"\n\" Dec 4 \"\n&lt;a class=\"result-title hdrlnk\" data=\"2\" href=\"https://localhost/1.html\"&gt; @0.1.9.3.2.0.1\n.2\n\"Link Text...\"\n\" \"\n...\n</code></pre>\n\n<p>I've not used <a href=\"https://metacpan.org/pod/HTML::Element\" rel=\"nofollow noreferrer\">HTML::Element</a> before. I rtfmed and didn't see any tag exclusions and I did a search of the package code for tags white/black lists (which wouldn't make sense, but neither does leaving out the time tag).</p>\n\n<p>Does anyone know why the time element is not showing up in the dump and any search for it turns up nothing?</p>\n\n<p>As an fyi, the rest of the code searches and finds elements without issue, it just appears to be the time tag that's missing.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7068425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd66af0aeeb9475513d4a0ecc2ab1abf?s=128&d=identicon&r=PG&f=1", "display_name": "Sasi", "link": "https://stackoverflow.com/users/7068425/sasi"}, "edited": false, "score": 0, "creation_date": 1543946840, "post_id": 53618318, "comment_id": 94098310, "body": "Thank you. It works. But I also wants to match the word after  if it begins with &quot;sub&quot;  CLEANUP_SUB =&gt; sub xyz ------&gt; it should print xyz in this case"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 5, "user_id": 7068425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd66af0aeeb9475513d4a0ecc2ab1abf?s=128&d=identicon&r=PG&f=1", "display_name": "Sasi", "link": "https://stackoverflow.com/users/7068425/sasi"}, "edited": false, "score": 0, "creation_date": 1543947214, "post_id": 53618318, "comment_id": 94098487, "body": "@Sasi: If you have further requirements, then you should ask a new question."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1543943910, "creation_date": 1543943910, "answer_id": 53618318, "question_id": 53618200, "link": "https://stackoverflow.com/questions/53618200/perl-regex-to-print-all-the-occurences-of-the-matched-pattern-from-the-occurence/53618318#53618318", "title": "perl regex to print all the occurences of the matched pattern from the occurence of word &quot;xxx&quot; till the occurence of word &quot;yyy&quot;", "body": "<p>Use the flip-flop operator (<code>..</code>).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nwhile (&lt;&gt;) {\n  if (/sub TC1/ .. /endcase/) {\n    /CLEANUP_SUB\\s*=&gt;([^),;]+)/ and say $1;\n  }\n}\n</code></pre>\n\n<p>Or (as a one-liner):</p>\n\n<pre><code>$ perl -nE '/sub TC1/ .. /endcase/ and /CLEANUP_SUB\\s*=&gt;([^),;]+)/ and say $1' file\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7068425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd66af0aeeb9475513d4a0ecc2ab1abf?s=128&d=identicon&r=PG&f=1", "display_name": "Sasi", "link": "https://stackoverflow.com/users/7068425/sasi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 53618318, "answer_count": 1, "score": 0, "last_activity_date": 1543943910, "creation_date": 1543943447, "question_id": 53618200, "link": "https://stackoverflow.com/questions/53618200/perl-regex-to-print-all-the-occurences-of-the-matched-pattern-from-the-occurence", "title": "perl regex to print all the occurences of the matched pattern from the occurence of word &quot;xxx&quot; till the occurence of word &quot;yyy&quot;", "body": "<p>file has</p>\n\n<pre><code>sub TC1\n{\n\ncheck(CLEANUP_SUB=&gt;\\&amp;cleanup1);\ncheck(CLEANUP_SUB=&gt;\\&amp;cleanup2);\ncheck(CLEANUP_SUB=&gt;\\&amp;cleanup3);\nendcase\n}\n\nsub TC2\n{\ncheck(CLEANUP_SUB=&gt;\\&amp;cleanup4);\ncheck(CLEANUP_SUB=&gt;\\&amp;cleanup5);\ncheck(CLEANUP_SUB=&gt;\\&amp;cleanup6);\nendcase();\n}\n</code></pre>\n\n<h2>Expected output</h2>\n\n<pre><code>\\&amp;cleanup1\n\\&amp;cleanup2\n\\&amp;cleanup3\n</code></pre>\n\n<p>I want all the pattern after /sub TC1/ till first occurrence of /endcase/</p>\n\n<pre><code>perl -0777 -ne 'if(/sub\\sTC1/){while(/CLEANUP_SUB\\s*=&gt;([^),;]+)/g){print \"$&amp;\\n\";}}' file\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>\\&amp;cleanup1\n\\&amp;cleanup2\n\\&amp;cleanup3\n\\&amp;cleanup4\n\\&amp;cleanup5\n\\&amp;cleanup6\n</code></pre>\n"}, {"tags": ["perl", "cpanel"], "comments": [{"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 1, "creation_date": 1543940384, "post_id": 53616552, "comment_id": 94095027, "body": "This doesn&#39;t look like a Per question, it is more related to system. Either you have to execute your script as root user, or you need to switch to run a system command from within your Perl code that switches to root and runs the install..."}, {"owner": {"reputation": 1217, "user_id": 10430642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p5jzL.jpg?s=128&g=1", "display_name": "Dimitrius Lachi", "link": "https://stackoverflow.com/users/10430642/dimitrius-lachi"}, "reply_to_user": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1543941532, "post_id": 53616552, "comment_id": 94095694, "body": "But my plugin will execute the command... i see a example in perl to execute bash command with <code>system(command, arg1, arg2</code> but i have to test a only sudo command"}], "answers": [{"tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 2, "last_activity_date": 1543958655, "creation_date": 1543958655, "answer_id": 53621615, "question_id": 53616552, "link": "https://stackoverflow.com/questions/53616552/execute-a-command-as-root-in-cpanel-plugin-build-with-perl/53621615#53621615", "title": "Execute a command as root in Cpanel plugin build with Perl", "body": "<p>So basically you need to run a system command as <code>root</code> user from within a Perl script. </p>\n\n<p>You can use the <a href=\"https://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a> built-in function with a <code>sudo</code> inside it. This will fork a new process where the command will be executed while the parent process waits, and then return the exit status of that command.</p>\n\n<p>For example, this basic command switches to <code>root</code> and prints the current user :</p>\n\n<pre><code>perl -e 'system(\"sudo su -c whoami\")'\n</code></pre>\n\n<p>Obiously, it outputs this on the standard output :</p>\n\n<pre><code>root\n</code></pre>\n\n<p>Notes : </p>\n\n<ul>\n<li><p>for this to work, you need you application user to be able to switch to <code>root</code>(without the need of typing a password) ; some could consider that a security breach (some attacker that would have taken over your application would be able to cause fatal damage to your system)</p></li>\n<li><p>the actual command to switch to the <code>root</code> user might vary depending on your OS ; the one I used in the example you is for RedHat</p></li>\n<li><p>I searched the CPAN for modules that provide the \"switch to root\" functionality and the only one I found is <a href=\"https://metacpan.org/pod/Sudo\" rel=\"nofollow noreferrer\">Sudo</a> ; I didn't try it, but it that was not updated since 2013 and has few issues pendings since 3 to 9 years</p></li>\n</ul>\n"}], "owner": {"reputation": 1217, "user_id": 10430642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p5jzL.jpg?s=128&g=1", "display_name": "Dimitrius Lachi", "link": "https://stackoverflow.com/users/10430642/dimitrius-lachi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 53621615, "answer_count": 1, "score": 0, "last_activity_date": 1544331019, "creation_date": 1543938159, "last_edit_date": 1544331019, "question_id": 53616552, "link": "https://stackoverflow.com/questions/53616552/execute-a-command-as-root-in-cpanel-plugin-build-with-perl", "title": "Execute a command as root in Cpanel plugin build with Perl", "body": "<p>I am new to Perl.  I'm building a plugin for Cpanel to install SSL certificates when the user clicks an option.</p>\n\n<p>I have to execute a command as root inside the Perl code.  How can I do this?</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1543939177, "post_id": 53616433, "comment_id": 94094341, "body": "Which version of LWP::UserAgent is this?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1543939706, "post_id": 53616433, "comment_id": 94094672, "body": "If you want to answer your own question, post an answer. Don&#39;t edit your question."}, {"owner": {"reputation": 2853, "user_id": 503246, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e7f1f7f952c8ab01a47c186cbae92fbb?s=128&d=identicon&r=PG", "display_name": "TekiusFanatikus", "link": "https://stackoverflow.com/users/503246/tekiusfanatikus"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1543939848, "post_id": 53616433, "comment_id": 94094757, "body": "@melpomene well, the answer came from hobbs (misunderstanding of the post method) and wanted to paste the piece of code that I actually used."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1543939877, "post_id": 53616433, "comment_id": 94094772, "body": "@TekiusFanatikus I&#39;d say that counts as an answer."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1543942533, "post_id": 53616433, "comment_id": 94096206, "body": "Also see <a href=\"https://corion.net/curl2lwp.psgi\" rel=\"nofollow noreferrer\">corion.net/curl2lwp.psgi</a> on how to convert from Curl to LWP"}], "answers": [{"comments": [{"owner": {"reputation": 2853, "user_id": 503246, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e7f1f7f952c8ab01a47c186cbae92fbb?s=128&d=identicon&r=PG", "display_name": "TekiusFanatikus", "link": "https://stackoverflow.com/users/503246/tekiusfanatikus"}, "edited": false, "score": 0, "creation_date": 1543939448, "post_id": 53616635, "comment_id": 94094501, "body": "use Path::Tiny; gives Can&#39;t locate Path/Tiny.pm in @INC. The same with use File::Slurp; I ended up using a basic file read and I&#39;m now getting an HTTP 200."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 2853, "user_id": 503246, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e7f1f7f952c8ab01a47c186cbae92fbb?s=128&d=identicon&r=PG", "display_name": "TekiusFanatikus", "link": "https://stackoverflow.com/users/503246/tekiusfanatikus"}, "edited": false, "score": 0, "creation_date": 1543939510, "post_id": 53616635, "comment_id": 94094542, "body": "@TekiusFanatikus Well, yes. You&#39;re going to have to install Path::Tiny, just like LWP::UserAgent (neither module comes with perl)."}, {"owner": {"reputation": 2853, "user_id": 503246, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e7f1f7f952c8ab01a47c186cbae92fbb?s=128&d=identicon&r=PG", "display_name": "TekiusFanatikus", "link": "https://stackoverflow.com/users/503246/tekiusfanatikus"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1543939649, "post_id": 53616635, "comment_id": 94094639, "body": "@melpomene I just went with a basic file read (see edit). Not my server in this case and I&#39;m unsure if I have sufficient permissions to install it."}, {"owner": {"reputation": 2853, "user_id": 503246, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e7f1f7f952c8ab01a47c186cbae92fbb?s=128&d=identicon&r=PG", "display_name": "TekiusFanatikus", "link": "https://stackoverflow.com/users/503246/tekiusfanatikus"}, "edited": false, "score": 0, "creation_date": 1543939674, "post_id": 53616635, "comment_id": 94094650, "body": "@hobbs thanks for pointing me in the right direction, that is, to read the file in and posting that instead."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 3, "last_activity_date": 1543939105, "last_edit_date": 1543939105, "creation_date": 1543938422, "answer_id": 53616635, "question_id": 53616433, "link": "https://stackoverflow.com/questions/53616433/converting-curl-post-to-perl-post/53616635#53616635", "title": "Converting cURL POST to Perl POST", "body": "<p><code>Content =&gt; [file =&gt; $file]</code> doesn't do what you think it does. You're just sending garbage to the server, which is why it says \"Bad Request\" even when you tell it that the body is JSON (which is the correct choice).</p>\n\n<p>I would recommend adding <code>use Path::Tiny;</code> and using</p>\n\n<pre><code>$ua-&gt;post($event_url,\n    Content_Type =&gt; 'application/json',\n    Content =&gt; path($file)-&gt;slurp_utf8,\n);\n</code></pre>\n\n<p>which will actually read and send the contents of <code>$file</code>.</p>\n"}], "owner": {"reputation": 2853, "user_id": 503246, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e7f1f7f952c8ab01a47c186cbae92fbb?s=128&d=identicon&r=PG", "display_name": "TekiusFanatikus", "link": "https://stackoverflow.com/users/503246/tekiusfanatikus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 971, "favorite_count": 0, "accepted_answer_id": 53616635, "answer_count": 1, "score": -1, "last_activity_date": 1543939687, "creation_date": 1543937808, "last_edit_date": 1543939687, "question_id": 53616433, "link": "https://stackoverflow.com/questions/53616433/converting-curl-post-to-perl-post", "title": "Converting cURL POST to Perl POST", "body": "<p>I'm having issues converting a cURL request to Perl. FWIW, using v5.10.1 on IBM AIX 7.1.</p>\n\n<p>in cURL:</p>\n\n<pre><code>curl -s -u $USER:$PWD --data '@mft.json' -H 'Content-Type: application/json' -X POST $EVENT_URL\n</code></pre>\n\n<p>in Perl:</p>\n\n<pre><code>use LWP::UserAgent;\nuse Data::Dumper;\n\nmy $ua = LWP::UserAgent-&gt;new(); \n\n\nmy $user = \"aaa\";\nmy $pwd = \"bbb\";\nmy $port = 7090;\nmy $domain = \"my.site.com\";\nmy $url = \"http://\".$domain.\":\".$port;\nmy $event_url = $url.\"/mftapp/rest/v1/events\";\nmy $file = \"mft.json\";\n\n$ua-&gt;credentials($domain.\":\".$port, 'default', $user, $pwd);\n\nmy $response = $ua-&gt;post($event_url, Content_Type =&gt; 'form-data', Content =&gt; [file =&gt; $file]\n);\n\nmy $content = $response-&gt;as_string();\n\nprint ($content);\n</code></pre>\n\n<p>Depending on the value of <code>Content_Type</code>, I get different results:</p>\n\n<ul>\n<li>Content_Type = \"application/json\", Bad Request 400</li>\n<li>Content_Type = \"form-data\", Unsupported Media Type 415</li>\n<li>Content_Type = \"application/x-www-form-urlencoded\", Unsupported Media Type 415</li>\n</ul>\n\n<p>Using these methods in order to add headers breaks my code:</p>\n\n<pre><code>$ua-&gt;default_header('Content-Type' =&gt; 'application/json')\n</code></pre>\n\n<p>Can't locate object method \"default_header\" via package \"LWP::UserAgent\" at request.pl line 20.</p>\n"}, {"tags": ["perl", "multiline"], "answers": [{"tags": [], "owner": {"reputation": 386, "user_id": 6400711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83370d2a7cf7c28e08586f262badff7b?s=128&d=identicon&r=PG&f=1", "display_name": "Phx Dev", "link": "https://stackoverflow.com/users/6400711/phx-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1543935145, "creation_date": 1543935145, "answer_id": 53615574, "question_id": 53615189, "link": "https://stackoverflow.com/questions/53615189/match-and-file-line-between-two-patterns/53615574#53615574", "title": "match and file line between two patterns", "body": "<p>It works fine for me with your code (with quote on the file)</p>\n\n<pre><code>&gt; perl script.pl \n: FMD-8000-CV,\nTYPE: Alert, VER: 1, SEVERITY: Minor\nApr 17 15:57:35 bur-7430 EVENT-TIME: Fri Apr 17 15:56:28 EDT 2015\nApr 17 15:57:35 bur-7430 PLATFORM: SUN SERVER X4-4, CSN: 1421NM900G, HOSTNAME: bur-7430\nApr 17 15:57:35 bur-7430 SOURCE: software-diagnosis, REV: 0.1\nApr 17 15:57:35 bur-7430 EVENT-ID: b22c3c73-77d7-4f4e-8030-c589bf057bb9\nApr 17 15:57:35 bur-7430\n</code></pre>\n"}], "owner": {"reputation": 399, "user_id": 1502001, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/23e7523331d7ac755da4ebefacc05830?s=128&d=identicon&r=PG", "display_name": "ro ra", "link": "https://stackoverflow.com/users/1502001/ro-ra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1543935145, "creation_date": 1543933876, "question_id": 53615189, "link": "https://stackoverflow.com/questions/53615189/match-and-file-line-between-two-patterns", "title": "match and file line between two patterns", "body": "<p>I am trying to create a perl script which will capture a line(s) in between two Patterns and store it to new file.</p>\n\n<p>This is how lines in file Looks like.</p>\n\n<pre><code>Apr 17 15:57:35 bur-7430 fmd: [ID 377184 daemon.error] SUNW-MSG-ID: FMD-8000-CV,\nTYPE: Alert, VER: 1, SEVERITY: Minor\nApr 17 15:57:35 bur-7430 EVENT-TIME: Fri Apr 17 15:56:28 EDT 2015\nApr 17 15:57:35 bur-7430 PLATFORM: SUN SERVER X4-4, CSN: 1421NM900G, HOSTNAME: bur-7430\nApr 17 15:57:35 bur-7430 SOURCE: software-diagnosis, REV: 0.1\nApr 17 15:57:35 bur-7430 EVENT-ID: b22c3c73-77d7-4f4e-8030-c589bf057bb9\nApr 17 15:57:35 bur-7430 DESC: FRU '/SYS/HDD0' has been removed from the system.\nApr 17 15:57:35 bur-7430 AUTO-RESPONSE: FMD topology will be updated.\n</code></pre>\n\n<p>i am trying with following codes with no luck.</p>\n\n<pre><code>use warnings;\nmy $filename = /tmp/fname.txt;\nmy $fextract;\n{\n   open my $fh, '&lt;', $filename or die \"can not open file -filename.\\n$!\\n\";\n   local $/ = undef;\n   $fextract = &lt;$fh&gt;;\n}\n\nwhile(\n      $fextract =~ m/SUNW-MSG-ID(.*)DESC/gs\n     )\n{\nprint \"$1\\n\";\n}\n</code></pre>\n\n<p>script runs perfectly fine but it result nothing. </p>\n\n<p>can someone help?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 1, "creation_date": 1543932372, "post_id": 53614564, "comment_id": 94090099, "body": "Just to clarify: &#39;abc def ghi jkl mno pqr&#39; should become &#39;abc def ghi jklmnopqr&#39; then?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1543932730, "post_id": 53614564, "comment_id": 94090322, "body": "Please show sample input/output. It&#39;s not clear what you&#39;re trying to do."}, {"owner": {"reputation": 61, "user_id": 10744475, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FA478TOkYuI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gDCTvRg-jH2gcTo_-rTnSJJnrAEg/mo/photo.jpg?sz=128", "display_name": "Donovan Wallace", "link": "https://stackoverflow.com/users/10744475/donovan-wallace"}, "reply_to_user": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1543933867, "post_id": 53614564, "comment_id": 94091034, "body": "@Botje yea exactly"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 10744475, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FA478TOkYuI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gDCTvRg-jH2gcTo_-rTnSJJnrAEg/mo/photo.jpg?sz=128", "display_name": "Donovan Wallace", "link": "https://stackoverflow.com/users/10744475/donovan-wallace"}, "edited": false, "score": 0, "creation_date": 1543932257, "post_id": 53614639, "comment_id": 94090037, "body": "I dont want to replace any of the spaces what im looking to do is remove any space after the third space so the any space before the third can remain then any space after that i would like to remove"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 61, "user_id": 10744475, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FA478TOkYuI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gDCTvRg-jH2gcTo_-rTnSJJnrAEg/mo/photo.jpg?sz=128", "display_name": "Donovan Wallace", "link": "https://stackoverflow.com/users/10744475/donovan-wallace"}, "edited": false, "score": 0, "creation_date": 1543932355, "post_id": 53614639, "comment_id": 94090089, "body": "@DonovanWallace, yes, that&#39;s exactly what it does. Just updated my answer to make it explicit"}, {"owner": {"reputation": 7872, "user_id": 7841, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/3KsHr.png?s=128&g=1", "display_name": "Leonardo Herrera", "link": "https://stackoverflow.com/users/7841/leonardo-herrera"}, "reply_to_user": {"reputation": 61, "user_id": 10744475, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FA478TOkYuI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gDCTvRg-jH2gcTo_-rTnSJJnrAEg/mo/photo.jpg?sz=128", "display_name": "Donovan Wallace", "link": "https://stackoverflow.com/users/10744475/donovan-wallace"}, "edited": false, "score": 0, "creation_date": 1543932500, "post_id": 53614639, "comment_id": 94090191, "body": "@DonovanWallace &quot;Any space after the third&quot; is exactly the same as &quot;replace 3 or more spaces with exactly 3 spaces&quot;."}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1543933162, "post_id": 53614639, "comment_id": 94090597, "body": "@melpomene : your are right ! sorry just fixed my mistake"}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": false, "score": 3, "last_activity_date": 1543933124, "last_edit_date": 1543933124, "creation_date": 1543932104, "answer_id": 53614639, "question_id": 53614564, "link": "https://stackoverflow.com/questions/53614564/i-need-to-remove-only-the-third-space-in-my-perl-code/53614639#53614639", "title": "I need to remove only the third space in my perl code", "body": "<p>This perl on-liner will remove any space after the 3rd space. What it actually does is replace every sequence of at least 3 spaces with just 3 spaces and write the results to a new file :</p>\n\n<pre><code>perl -pe 's/\\s{3,}/   /g' /home/donovan/Documents/NWPMIK.txt &gt; /home/donovan/Documents/NWPMIK_new.txt\n</code></pre>\n\n<p>If you are looking to update the file in-place, then :</p>\n\n<pre><code>perl -pi -e 's/\\s{3,}/   /g' /home/donovan/Documents/NWPMIK.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 10744475, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FA478TOkYuI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gDCTvRg-jH2gcTo_-rTnSJJnrAEg/mo/photo.jpg?sz=128", "display_name": "Donovan Wallace", "link": "https://stackoverflow.com/users/10744475/donovan-wallace"}, "edited": false, "score": 0, "creation_date": 1543933083, "post_id": 53614761, "comment_id": 94090542, "body": "This is what im looking for"}], "tags": [], "owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "is_accepted": false, "score": 3, "last_activity_date": 1543932491, "creation_date": 1543932491, "answer_id": 53614761, "question_id": 53614564, "link": "https://stackoverflow.com/questions/53614564/i-need-to-remove-only-the-third-space-in-my-perl-code/53614761#53614761", "title": "I need to remove only the third space in my perl code", "body": "<p>You can use perl's auto-splitting feature for this:</p>\n\n<pre><code>perl -lane 'push @F, join(\"\", splice(@F,3)); print join \" \", @F'\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>% echo  'abc def ghi jkl mno pqr' | perl -lane 'push @F, join(\"\", splice(@F,3)); print join \" \", @F'\nabc def ghi jklmnopqr\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 10744475, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FA478TOkYuI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gDCTvRg-jH2gcTo_-rTnSJJnrAEg/mo/photo.jpg?sz=128", "display_name": "Donovan Wallace", "link": "https://stackoverflow.com/users/10744475/donovan-wallace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1543933124, "creation_date": 1543931815, "last_edit_date": 1543932614, "question_id": 53614564, "link": "https://stackoverflow.com/questions/53614564/i-need-to-remove-only-the-third-space-in-my-perl-code", "title": "I need to remove only the third space in my perl code", "body": "<p>I have a file with multiple spaces and i am replacing the spaces with only a single space using :</p>\n\n<pre><code>system \"sed -i -e 's/[[:space:]]\\\\+/ /g' /home/donovan/Documents/NWPMIK.txt\";\n</code></pre>\n\n<p>How can i now go and remove any spaces after the third space?</p>\n"}, {"tags": ["linux", "bash", "perl", "search", "replace"], "comments": [{"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 1, "creation_date": 1543928489, "post_id": 53613568, "comment_id": 94087825, "body": "you should write a perl script and pass in an array of strings to search and replace."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1543928534, "post_id": 53613568, "comment_id": 94087852, "body": "You should use a proper library to handle XML files."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1543928658, "post_id": 53613568, "comment_id": 94087923, "body": "Also, by using double quotes, you&#39;re building the Perl code from the shell variable. If the variable contains a slash, the code will break. Using Perl variables would work better, as they&#39;re real variables, not just expanding macros."}, {"owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1543935778, "post_id": 53613568, "comment_id": 94092175, "body": "What library? @choroba"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1543964648, "post_id": 53613568, "comment_id": 94105877, "body": "I&#39;m a fan of <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a>, but <a href=\"http://p3rl.org/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a> isn&#39;t bad either."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1543930055, "post_id": 53613624, "comment_id": 94088723, "body": "Thank you, it is working. Do you know how to escape $ sign if the variable $FNAME contains this character in it?"}, {"owner": {"reputation": 16493, "user_id": 6770384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXCNG.png?s=128&g=1", "display_name": "Socowi", "link": "https://stackoverflow.com/users/6770384/socowi"}, "reply_to_user": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1543930253, "post_id": 53613624, "comment_id": 94088821, "body": "@MihaiDumitru Yes, in <code>bash</code> write <code>${FNAME&#47;&#47;$&#47;\\\\$}</code> instead of <code>$FNAME</code>. Also see <a href=\"https://stackoverflow.com/a/16951928/6770384\">stackoverflow.com/a/16951928/6770384</a> for a more general quoting mechanism."}, {"owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "edited": false, "score": 0, "creation_date": 1543930821, "post_id": 53613624, "comment_id": 94089135, "body": "Thank you, you are a life saver!"}], "tags": [], "owner": {"reputation": 16493, "user_id": 6770384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXCNG.png?s=128&g=1", "display_name": "Socowi", "link": "https://stackoverflow.com/users/6770384/socowi"}, "is_accepted": true, "score": 1, "last_activity_date": 1543928584, "creation_date": 1543928584, "answer_id": 53613624, "question_id": 53613568, "link": "https://stackoverflow.com/questions/53613568/perl-search-and-replace/53613624#53613624", "title": "Perl search and replace", "body": "<p>Pass all substitutions as one argument after <code>-e</code>. Delimit them by a semicolon <code>;</code>.</p>\n\n<pre><code>perl -pe \"s/filename/$FNAME/;s/RBRef/$REF/;...\" infile &gt; outfile\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 8913279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204e8e0205c11295923997eaecb38d08?s=128&d=identicon&r=PG&f=1", "display_name": "Myh", "link": "https://stackoverflow.com/users/8913279/myh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 53613624, "answer_count": 1, "score": 2, "last_activity_date": 1543928584, "creation_date": 1543928390, "question_id": 53613568, "link": "https://stackoverflow.com/questions/53613568/perl-search-and-replace", "title": "Perl search and replace", "body": "<p>I am trying to search for some strings in a file and replace them using perl:</p>\n\n<pre><code>perl -pe \"s/filename/$FNAME/\" Header.xml &gt; $HDIR/$FNAME.xml\n</code></pre>\n\n<p>How can I search and replace multiple string, since adding another commands just overwrites the output file:</p>\n\n<pre><code>perl -pe \"s/RBRef/$REF/\" HeaderRBRS.xml &gt; $HDIR/$FNAME.xml\nperl -pe \"s/MessageIdentifier/$MessageIdentifier/\" HeaderRBRS.xml &gt; $HDIR/$FNAME.xml\nperl -pe \"s/FileDigestValue/$digestNr/\" HeaderRBRS.xml &gt; $HDIR/$FNAME.xml\nperl -pe \"s/filename/$FNAME/\" HeaderRBRS.xml &gt; $HDIR/$FNAME.xml\n</code></pre>\n\n<p>In the last case only <code>perl -pe \"s/filename/$FNAME/\" HeaderRBRS.xml &gt; $HDIR/$FNAME.xml</code> will be executed every time.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1543923773, "post_id": 53612121, "comment_id": 94085180, "body": "See also <a href=\"https://metacpan.org/pod/Config::Properties#METHODS\" rel=\"nofollow noreferrer\"><code>setFromTree</code></a>. It seems it could be used to add array values"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1543923867, "post_id": 53612121, "comment_id": 94085233, "body": "Does it need to be a properties file? Seems to me that it would be easier to just save the data structure as JSON or YAML."}, {"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1543925207, "post_id": 53612121, "comment_id": 94085996, "body": "@DaveCross Good suggestion, How can I do it with JSON?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1543925467, "post_id": 53612121, "comment_id": 94086128, "body": "@TTaJTa4: Use the <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON</a> module&#39;s <code>encode</code> and <code>decode</code> methods."}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1543923564, "creation_date": 1543923425, "last_edit_date": 1543923564, "question_id": 53612121, "link": "https://stackoverflow.com/questions/53612121/reading-and-writing-array-from-and-to-an-file", "title": "Reading and writing array from and to an file", "body": "<p>I wrote the following functions in Perl:</p>\n\n<pre><code>sub save\n{\n   my($dir,$name,%hash) = @_;\n\n   my $prop = Config::Properties-&gt;new();\n   my $file = $dir.\"/.\".$name;\n\n   open my $fh, \"&gt;\", $file or return 0;\n\n    foreach my $p (keys(%hash))\n    {\n       $properties-&gt;setProperty($p =&gt; $hash{$p});\n    }\n\n   $properties-&gt;store($fh);\n   close ($fh);\n   return 1;\n}\n\nsub read\n{\n    my ($dir,$name) = @_;\n\n    my ($user, $start_time, $workdir, $rules_file);\n    my $file = $dir.\"/.\".$name;\n\n    open my $fh, \"&lt;\", $file or return 0;\n\n    my $prop = Config::Properties-&gt;new();\n    $properties-&gt;load($fh);\n    my %hash = $properties-&gt;properties;\n\n    close ($fh);\n    return %hash;\n}\n</code></pre>\n\n<p>In order to save the configuration hash to a file and then read it. But if one of the hash values is an array, it will display just the address of that array. What change should I do to my code in order to make it support arrays read and write?</p>\n"}, {"tags": ["xml", "perl", "xml-parsing", "libxml2", "xml-libxml"], "comments": [{"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 0, "creation_date": 1543921354, "post_id": 53611403, "comment_id": 94083847, "body": "If you know it&#39;s only one node, then just take the first element of <code>@node</code>?"}, {"owner": {"reputation": 31, "user_id": 1677804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34d568368b3869e48b5b166e2cee0391?s=128&d=identicon&r=PG", "display_name": "user1677804", "link": "https://stackoverflow.com/users/1677804/user1677804"}, "reply_to_user": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 0, "creation_date": 1543921679, "post_id": 53611403, "comment_id": 94084032, "body": "@tinita wouldn&#39;t that unnecessarily use a list? Could I just find the first occurrence of <code>import</code> in some way?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 1677804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34d568368b3869e48b5b166e2cee0391?s=128&d=identicon&r=PG", "display_name": "user1677804", "link": "https://stackoverflow.com/users/1677804/user1677804"}, "edited": false, "score": 0, "creation_date": 1543922403, "post_id": 53611714, "comment_id": 94084416, "body": "Okay, so this was basically typecasting node as a scalar? Sorry, new to perl. Thank you though, worked as needed."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 31, "user_id": 1677804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34d568368b3869e48b5b166e2cee0391?s=128&d=identicon&r=PG", "display_name": "user1677804", "link": "https://stackoverflow.com/users/1677804/user1677804"}, "edited": false, "score": 1, "creation_date": 1543931502, "post_id": 53611714, "comment_id": 94089543, "body": "It&#39;s assigning a list result from &#39;findnodes&#39; to a list on the left hand side. But the list on LHS is one element long, so any other assigments would be discarded. You could write: <code>my ( $first_match, @rest_of_matches) = ...</code> and that&#39;ll perhaps make it clearer what&#39;s going on - we&#39;re just discarding <code>@rest_of_matches</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1543922071, "creation_date": 1543922071, "answer_id": 53611714, "question_id": 53611403, "link": "https://stackoverflow.com/questions/53611403/xmlfind-particular-node-in-xml-using-libxml/53611714#53611714", "title": "XML:Find particular node in XML using LibXML", "body": "<p>XML doesn't guarantee uniqueness, so any sort of search will return a list of results. This list might be of length 0 or 1, just like with <code>grep</code>.</p>\n\n<p>But the easy answer is to just grab the first result:</p>\n\n<pre><code>my ($node) = $dom -&gt; findnodes('//import');\n</code></pre>\n\n<p>failing that - specify in your xpath:</p>\n\n<pre><code>my ( $node ) = $dom -&gt; findnodes ( '(//import)[1]' ); \n</code></pre>\n\n<p>I'm afraid I don't know if that latter will in fact bail out when 'enough' nodes have been selected though. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1543980532, "creation_date": 1543980532, "answer_id": 53624746, "question_id": 53611403, "link": "https://stackoverflow.com/questions/53611403/xmlfind-particular-node-in-xml-using-libxml/53624746#53624746", "title": "XML:Find particular node in XML using LibXML", "body": "<p><code>getChildrenByTagName</code> is a method of Element nodes, not Document nodes.</p>\n\n<pre><code>my $doc = XML::LibXML-&gt;load_xml(location =&gt; $name);\nmy $root_ele = $doc-&gt;documentElement();\nmy ($import_ele) = $root_ele-&gt;getChildrenByTagName('import');\n</code></pre>\n\n<p>You could also use an XPath, though the equivalent XPath would be <code>import</code> (searches children), not <code>//import</code> (searches descendants).</p>\n\n<pre><code>my $doc = XML::LibXML-&gt;load_xml(location =&gt; $name);\nmy ($import_ele) = $doc-&gt;findnodes('import');\n</code></pre>\n\n<p>This returns all the <code>import</code> nodes and keeps the first. But can tell the search to stop looking after finding the first as follows:</p>\n\n<pre><code>my $doc = XML::LibXML-&gt;load_xml(location =&gt; $name);\nmy ($import_ele) = $doc-&gt;findnodes('import[1]');  # Short for 'import[position()=1]'\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 1677804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34d568368b3869e48b5b166e2cee0391?s=128&d=identicon&r=PG", "display_name": "user1677804", "link": "https://stackoverflow.com/users/1677804/user1677804"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 53611714, "answer_count": 2, "score": 0, "last_activity_date": 1543980532, "creation_date": 1543921092, "question_id": 53611403, "link": "https://stackoverflow.com/questions/53611403/xmlfind-particular-node-in-xml-using-libxml", "title": "XML:Find particular node in XML using LibXML", "body": "<p>I have an XML file which has only one node called import. I want to find the href attribute of import. I tried using findnodes(), but that returns a list I would have to search further, so I was hoping there was a way to find a particular node which has only one occurence.\nI tried getChildrenByTagName but that gives the error </p>\n\n<pre><code>Can't locate object method \"getChildrenByTagName\" via package \"XML::LibXML::Document\"\n</code></pre>\n\n<p>I also tried grep which gives a similar error</p>\n\n<pre><code>Can't locate object method \"grep\" via package \"XML::LibXML::Document\"\n</code></pre>\n\n<p>My XML file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;resource name=\"data\" type=\"application/dictionary+xml\"&gt;\n&lt;schema&gt;\n    &lt;import href=\"tobefound.xml\"/&gt;\n&lt;/schema&gt;\n&lt;/resource&gt;\n</code></pre>\n\n<p>My code so far is </p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse XML::LibXML;\n\nmy $name = $ARGV[1];\nmy $dom = XML::LibXML-&gt;load_xml(location =&gt; $name);\nmy @node= $dom-&gt;findnodes('//import');\nprint \"List: @node\\n\";\n</code></pre>\n\n<p>Please let me know if there is a way to find only one particular node without needing to traverse the whole dom and without having to store it as a list. Thank you.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1543913405, "post_id": 53608641, "comment_id": 94079057, "body": "Yes but <code>multi</code> is a hash, and it should be in a special format. Otherwise it would being easy"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "reply_to_user": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1543915341, "post_id": 53608641, "comment_id": 94080138, "body": "Then don&#39;t build up <code>multi</code> as a hash in the first place but keep it as an array. I&#39;ve updated my answer to also cover the case of <code>multi</code> being a hash."}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": false, "score": 1, "last_activity_date": 1543915395, "last_edit_date": 1543915395, "creation_date": 1543912348, "answer_id": 53608641, "question_id": 53608539, "link": "https://stackoverflow.com/questions/53608539/adding-an-array-into-a-json-struct-in-perl/53608641#53608641", "title": "Adding an array into a JSON struct in Perl", "body": "<p>To add an array, you just add the reference to the array into your data structure:</p>\n\n<pre><code>$json_struct-&gt;{multi} = \\@multi;\n</code></pre>\n\n<p>In the case that <code>%multi</code> is a hash, you can use:</p>\n\n<pre><code>my @multi = map { +{ key =&gt; $_, value =&gt; $multi{ $_ } } } sort keys %multi;\n$json_struct-&gt;{multi} = \\@multi;\n</code></pre>\n\n<h3>See Also</h3>\n\n<p><a href=\"https://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlreftut.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1543913339, "post_id": 53608657, "comment_id": 94079017, "body": "Thank you for the answer. does <code>$payload</code> works as a hash? for some reason it fails"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1543915433, "post_id": 53608657, "comment_id": 94080196, "body": "&quot;For some reason&quot; is not helpful. Please tell us the exact error message you get."}], "tags": [], "owner": {"reputation": 666, "user_id": 2243865, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/32c60daf8fbec71c63b1e78e8ed38bc1?s=128&d=identicon&r=PG", "display_name": "user3243135", "link": "https://stackoverflow.com/users/2243865/user3243135"}, "is_accepted": false, "score": 0, "last_activity_date": 1543912378, "creation_date": 1543912378, "answer_id": 53608657, "question_id": 53608539, "link": "https://stackoverflow.com/questions/53608539/adding-an-array-into-a-json-struct-in-perl/53608657#53608657", "title": "Adding an array into a JSON struct in Perl", "body": "<pre><code>#!/usr/bin/env perl\nuse v5.10.1;\nuse warnings FATAL =&gt; \"all\";\nuse autodie;\nuse Data::Dumper;\n\nmy $payload = {\n    'multi' =&gt; {\n        'key2' =&gt; '123',\n        'key1' =&gt; 'abc',\n        'key3' =&gt; 'xwz'\n    }\n};\n\nmy $json_struct = {\n    name =&gt; \"foo\",\n    time =&gt; \"2018-12-03\",\n};\n\nfor my $key (keys %$payload) {\n    my @as_array = map { \n        { \n            key =&gt; $_, \n            value =&gt; $payload-&gt;{$key}{$_} \n        } \n    } keys %{$payload-&gt;{$key}};\n    $json_struct-&gt;{$key} = \\@as_array;\n}\n\nsay Dumper $json_struct;\n\n# $VAR1 = {\n#     'name' =&gt; 'foo',\n#     'time' =&gt; '2018-12-03',\n#     'multi' =&gt; [\n#         {\n#             'value' =&gt; 'abc',\n#             'key' =&gt; 'key1'\n#         },\n#         {\n#             'value' =&gt; '123',\n#             'key' =&gt; 'key2'\n#         },\n#         {\n#             'key' =&gt; 'key3',\n#             'value' =&gt; 'xwz'\n#         }\n#     ]\n# };\n</code></pre>\n"}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1543915395, "creation_date": 1543911915, "question_id": 53608539, "link": "https://stackoverflow.com/questions/53608539/adding-an-array-into-a-json-struct-in-perl", "title": "Adding an array into a JSON struct in Perl", "body": "<p>I have a hash which looks as following (In Perl):</p>\n\n<pre><code>'multi' =&gt; {\n           'key2' =&gt; '123',\n           'key1' =&gt; 'abc',\n           'key3' =&gt; 'xwz'\n         }\n</code></pre>\n\n<p>Also I have the following structure:</p>\n\n<pre><code>my $json_struct = {\n    name =&gt; $name,\n    time =&gt; $time,\n};\n</code></pre>\n\n<p>I would like to insert <code>multi</code> into the <code>$json_struct</code> as a array with keys and values. \nI use the <code>$json_struct</code> in order to convert it to a JSON file, so the JSON output should look as following:</p>\n\n<pre><code>{\n    \"name\" : \"some_name\",\n    \"time\" : \"time\",\n    \"multi\" : [ \n    {\n        \"key\" : \"key1\",\n        \"value\" : \"abc\"\n    }, \n    {\n        \"key\" : \"key2\",\n        \"value\" : \"123\"\n    },\n    {\n        \"key\" : \"key3\",\n        \"value\" : \"xwz\"\n    }\n],\n}\n</code></pre>\n\n<p>How can I do it? What is the cleanest way possible (without importing additional modules).</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 1, "creation_date": 1543885638, "post_id": 53604186, "comment_id": 94070800, "body": "Hint : you probably need to <code>chomp</code> the input that you get from STDIN before you process it. This will remove the trailing new line that comes with from the standard input. Try adding <code>chomp $input;</code> after <code>$input=&lt;STDIN&gt;;</code>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543885784, "post_id": 53604186, "comment_id": 94070844, "body": "You can also write <code>chomp($input=&lt;STDIN&gt;);</code>. You should really use strict and warnings."}, {"owner": {"reputation": 3, "user_id": 10741522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9204c4ac76bf996a0cb77be78d38a49f?s=128&d=identicon&r=PG&f=1", "display_name": "Rean", "link": "https://stackoverflow.com/users/10741522/rean"}, "edited": false, "score": 0, "creation_date": 1543887219, "post_id": 53604186, "comment_id": 94071216, "body": "Its like a i u e o"}, {"owner": {"reputation": 3, "user_id": 10741522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9204c4ac76bf996a0cb77be78d38a49f?s=128&d=identicon&r=PG&f=1", "display_name": "Rean", "link": "https://stackoverflow.com/users/10741522/rean"}, "edited": false, "score": 0, "creation_date": 1543887508, "post_id": 53604186, "comment_id": 94071289, "body": "The input is only for selecting menu"}, {"owner": {"reputation": 3, "user_id": 10741522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9204c4ac76bf996a0cb77be78d38a49f?s=128&d=identicon&r=PG&f=1", "display_name": "Rean", "link": "https://stackoverflow.com/users/10741522/rean"}, "edited": false, "score": 0, "creation_date": 1543887529, "post_id": 53604186, "comment_id": 94071295, "body": "The text is from file.txt"}, {"owner": {"reputation": 3, "user_id": 10741522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9204c4ac76bf996a0cb77be78d38a49f?s=128&d=identicon&r=PG&f=1", "display_name": "Rean", "link": "https://stackoverflow.com/users/10741522/rean"}, "edited": false, "score": 0, "creation_date": 1543887587, "post_id": 53604186, "comment_id": 94071306, "body": "I will change my question then, how i can coloring specific character from my text file"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10741522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9204c4ac76bf996a0cb77be78d38a49f?s=128&d=identicon&r=PG&f=1", "display_name": "Rean", "link": "https://stackoverflow.com/users/10741522/rean"}, "edited": false, "score": 0, "creation_date": 1543895127, "post_id": 53604805, "comment_id": 94072937, "body": "I&#39;ll try this later . . ."}, {"owner": {"reputation": 3, "user_id": 10741522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9204c4ac76bf996a0cb77be78d38a49f?s=128&d=identicon&r=PG&f=1", "display_name": "Rean", "link": "https://stackoverflow.com/users/10741522/rean"}, "edited": false, "score": 0, "creation_date": 1543903437, "post_id": 53604805, "comment_id": 94075032, "body": "where to put this code s/([aeiou])/\\Q$color\\E$1\\Q$reset\\E/g; print;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3, "user_id": 10741522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9204c4ac76bf996a0cb77be78d38a49f?s=128&d=identicon&r=PG&f=1", "display_name": "Rean", "link": "https://stackoverflow.com/users/10741522/rean"}, "edited": false, "score": 0, "creation_date": 1543903928, "post_id": 53604805, "comment_id": 94075161, "body": "Anywhere you want to modify <code>$_</code> then print it. Note there was a bug in my code that I&#39;ve fixed (Those <code>\\Q..\\E</code> shouldn&#39;t be there. You need those when interpolating into the <i>pattern</i> portion of the substitution operator.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1543903962, "last_edit_date": 1543903962, "creation_date": 1543889967, "answer_id": 53604805, "question_id": 53604186, "link": "https://stackoverflow.com/questions/53604186/need-for-coloring-only-on-vowel-character-with-perl-on-linux/53604805#53604805", "title": "Need for coloring only on vowel character with perl on linux", "body": "<p>ALWAYS use <code>use strict; use warnings qw( all );</code>!!! It would have identified your problem: <code>==</code> is for comparing numbers, while strings are compared using <code>eq</code>.</p>\n\n<pre><code>my @chars = split //;\nfor my $char (@chars) {\n    if ($char eq 'a') {\n       print $color;\n       print $char;\n       print $reset;\n    } else {\n       print $char;\n    }\n}\n</code></pre>\n\n<p>You could also use the following:</p>\n\n<pre><code>s/a/${color}a$reset/g;\nprint;\n</code></pre>\n\n<p>This latter version is easier to extend.</p>\n\n<pre><code>s/([aeiou])/$color$1$reset/g;\nprint;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10741522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9204c4ac76bf996a0cb77be78d38a49f?s=128&d=identicon&r=PG&f=1", "display_name": "Rean", "link": "https://stackoverflow.com/users/10741522/rean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 53604805, "answer_count": 1, "score": -1, "last_activity_date": 1543903962, "creation_date": 1543885171, "last_edit_date": 1543890414, "question_id": 53604186, "link": "https://stackoverflow.com/questions/53604186/need-for-coloring-only-on-vowel-character-with-perl-on-linux", "title": "Need for coloring only on vowel character with perl on linux", "body": "<p>im trying coloring only on vowel character, but i only can change the whole text color with this code, how to coloring only on vowel character?</p>\n\n<p>im trying using <code>if ($char=='a')</code> on <code>for $char(@chars)</code> but it doesn't change anything</p>\n\n<pre><code>#!/usr/bin/perl\nuse Term::ANSIColor;\n$color;\n$reset=color(\"reset\");\ndo{\nopen MYFILE, \"/home/yusuf/program/file.txt\" or die \"could not open . . .\";\nwhile(&lt;MYFILE&gt;){\n    @chars=split //;\n    for $char(@chars){\n        print $color;\n        print \"$char\";\n        print $reset;\n    }\n}\nclose MYFILE;\nprint \"\\n=====Program mewarnai semua huruf vocal=====\\n\";\nprint \"1. Red\\n\";\nprint \"2. Blue\\n\";\nprint \"3. Green\\n\";\nprint \"4. Magenta\\n\";\nprint \"5. White\\n\";\nprint \"6. Black\\n\";\nprint \"Input No: \"; $input=&lt;STDIN&gt;;\nif ( $input==1 ){\n    $color=color(\"red\");\n}\nelsif( $input==2 ){\n    $color=color(\"blue\");\n}\nelsif( $input==3 ){\n    $color=color(\"green\");\n}\nelsif( $input==4 ){\n    $color=color(\"magenta\");\n}\nelsif( $input==5 ){\n    $color=color(\"white\");\n}\nelsif( $input==6 ){\n    $color=color(\"black\");\n}\n}while($input!=7);\n</code></pre>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1543876729, "post_id": 53602845, "comment_id": 94068504, "body": "&quot;no color change and the syntax above is printed exactly like that to the screen&quot; \u2014 Try looking at the output in a web browser instead of a text editor or the console."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1543876792, "post_id": 53602845, "comment_id": 94068526, "body": "&quot;an assignment where I must use an HTML font tag&quot; \u2014 You need to find a better course. This approach was obsoleted by CSS 1 over two decades ago."}], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1543876850, "post_id": 53603004, "comment_id": 94068549, "body": "While true, this doesn&#39;t answer the question (which is about getting the HTML to be parsed as HTML instead of displayed as plain text, not about interpolating variables)."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1543877085, "post_id": 53603004, "comment_id": 94068623, "body": "@Quentin That&#39;s unclear; the example code presented clearly does not interpolate the variable correctly, which may be at least part of the issue."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1543876585, "creation_date": 1543876585, "answer_id": 53603004, "question_id": 53602845, "link": "https://stackoverflow.com/questions/53602845/how-can-i-use-simple-html-output-in-a-perl-script/53603004#53603004", "title": "How can I use simple HTML output in a perl script?", "body": "<p>Variables in Perl are always indicated by sigils. In this case you are dealing with scalars (single value container), and the sigil for a scalar variable is <code>$</code>. This sigil is also what allows it to be interpolated (replaced with its value) in a double-quoted string like you have. See <a href=\"https://perldoc.pl/perldata\" rel=\"nofollow noreferrer\">perldata</a> for more info.</p>\n\n<p>As a side note, interpolating variables directly into HTML can be dangerous because they can contain HTML tags. If you want to avoid the possibility of the input adding tags of its own, pass the input through an HTML-escaper like <a href=\"https://metacpan.org/pod/HTML::Entities\" rel=\"nofollow noreferrer\">encode_entities from HTML::Entities</a> or <a href=\"https://metacpan.org/pod/Mojo::Util#xml_escape\" rel=\"nofollow noreferrer\">xml_escape from Mojo::Util</a> first. The usual way to construct HTML like this is with templates, and templating modules often provide such functionality built in.</p>\n"}], "owner": {"reputation": 1, "user_id": 10741233, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cp1e1AdTj9Y/AAAAAAAAAAI/AAAAAAAAJKU/JzIEwm9TA_M/photo.jpg?sz=128", "display_name": "Kaavya S", "link": "https://stackoverflow.com/users/10741233/kaavya-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543887395, "creation_date": 1543875688, "last_edit_date": 1543887395, "question_id": 53602845, "link": "https://stackoverflow.com/questions/53602845/how-can-i-use-simple-html-output-in-a-perl-script", "title": "How can I use simple HTML output in a perl script?", "body": "<p>I am working on an assignment where I must use an HTML font tag to change the font color of an perl output statement. I've followed the direction in the assignment, and this is what the code looks like:</p>\n\n<pre><code>print $FILE2 \"&lt;font color = 'red'&gt; var1 &lt;/font&gt;\";\n</code></pre>\n\n<p>$FILE2 is the filehandle for the file I am writing to. Var1, Var1 is a test variables.\nHowever, there is no color change and the syntax above is printed exactly like that to the screen. I'm not really sure what I am doing, wrong, can somebody please help me?\nI have not included any headers other than strict and warnings.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1543879677, "post_id": 53602730, "comment_id": 94069382, "body": "So I got an answer for you. Is this the final form of the question ? And are those ABC -- DEF&#39;s anything that should be considered ?"}, {"owner": {"reputation": 29, "user_id": 9401649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8d040e8fe1938549263b0dfca95af?s=128&d=identicon&r=PG&f=1", "display_name": "Beherit", "link": "https://stackoverflow.com/users/9401649/beherit"}, "edited": false, "score": 0, "creation_date": 1543880223, "post_id": 53602730, "comment_id": 94069533, "body": "No, *ABC and *DEF not to be considered, and actually there are other texts and numbers before those floating numbers. e.g. 1 *8435:3 1.11e-05  2 *8435:5 2.22e-05  ...  ..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1543880742, "post_id": 53602730, "comment_id": 94069680, "body": "What about integers ?"}, {"owner": {"reputation": 29, "user_id": 9401649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8d040e8fe1938549263b0dfca95af?s=128&d=identicon&r=PG&f=1", "display_name": "Beherit", "link": "https://stackoverflow.com/users/9401649/beherit"}, "edited": false, "score": 0, "creation_date": 1543881010, "post_id": 53602730, "comment_id": 94069753, "body": "@sln The whole floating number needs to be scaled, for example: 1.11e-05 to be replaced by 2.22e-05. Other texts or numbers in the line is not handled, keep original."}], "answers": [{"comments": [{"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 1, "creation_date": 1543876552, "post_id": 53602840, "comment_id": 94068444, "body": "Nice... That&#39;s why we love Perl"}, {"owner": {"reputation": 29, "user_id": 9401649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8d040e8fe1938549263b0dfca95af?s=128&d=identicon&r=PG&f=1", "display_name": "Beherit", "link": "https://stackoverflow.com/users/9401649/beherit"}, "edited": false, "score": 0, "creation_date": 1543876682, "post_id": 53602840, "comment_id": 94068494, "body": "Sorry I missed something before those floating numbers."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 29, "user_id": 9401649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8d040e8fe1938549263b0dfca95af?s=128&d=identicon&r=PG&f=1", "display_name": "Beherit", "link": "https://stackoverflow.com/users/9401649/beherit"}, "edited": false, "score": 1, "creation_date": 1543876938, "post_id": 53602840, "comment_id": 94068575, "body": "@Beherit: Rather than invalidating the answer to the original question, you can ask a new question."}, {"owner": {"reputation": 29, "user_id": 9401649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8d040e8fe1938549263b0dfca95af?s=128&d=identicon&r=PG&f=1", "display_name": "Beherit", "link": "https://stackoverflow.com/users/9401649/beherit"}, "edited": false, "score": 0, "creation_date": 1543877278, "post_id": 53602840, "comment_id": 94068690, "body": "Thanks @choroba, I will do it."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1543875661, "creation_date": 1543875661, "answer_id": 53602840, "question_id": 53602730, "link": "https://stackoverflow.com/questions/53602730/how-to-get-floating-number-between-lines-and-replace-it-with-calculated-value-in/53602840#53602840", "title": "How to get floating number between lines and replace it with calculated value in Perl?", "body": "<p>Use the flip-flop operator.</p>\n\n<pre><code>perl -lpe '$_ *= 2 if /\\*ABC/ .. /\\*DEF/ and ! /\\*/' filename\n</code></pre>\n\n<ul>\n<li><code>-p</code> reads the input <em>line by line</em>, prints each line after processing</li>\n<li><code>-l</code> removes newlines from input, adds them to output</li>\n<li><code>! /\\*/</code> excludes the <code>*ABC</code> and <code>*DEF</code> lines</li>\n</ul>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1543883270, "post_id": 53603849, "comment_id": 94070284, "body": "Doing this between specific lines is the same procedure as this answer, except the regex requires a <code>\\G</code> construct. Let me know if you need this."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1543882864, "last_edit_date": 1543882864, "creation_date": 1543882241, "answer_id": 53603849, "question_id": 53602730, "link": "https://stackoverflow.com/questions/53602730/how-to-get-floating-number-between-lines-and-replace-it-with-calculated-value-in/53603849#53603849", "title": "How to get floating number between lines and replace it with calculated value in Perl?", "body": "<p>In Perl you can do a callback in a replace format using the form <code>s///e</code><br>\nwhere <em>e</em> is the eval operator.  </p>\n\n<p>So, you just put the sub name in the replacement side passing the number capture group.  </p>\n\n<p>As far as the printf format I leave that up to you.  </p>\n\n<p>Perl sample  </p>\n\n<pre><code>use strict;\nuse warnings;\n\n$/ = undef;\nmy $data = &lt;DATA&gt;;\n\n\nsub Conv\n{\n    my ($num) = @_;\n    return sprintf( \"%g\", 2 * $num );\n}\n\n$data =~ s/(?&lt;![\\d.])([+-]?(?:\\d+(?:\\.\\d*)|\\.\\d+)(?:[eE][+-]?\\d+)?)/Conv($1)/eg;\n\n\nprint $data;\n\n__DATA__\n\n*ABC\n\n315 *15:313 1.111e-05\n\n3232 *41:135 2.222e-06\n\n*DEF\n\n...\n\n...\n\n*ABC\n\n52 *3:1313 3.333e-05\n\n42 *13:753 4.444e-06\n\n*DEF\n\n...\n\n...\n</code></pre>\n\n<p>Output  </p>\n\n<pre><code>*ABC\n\n315 *15:313 2.222e-005\n\n3232 *41:135 4.444e-006\n\n*DEF\n\n...\n\n...\n\n*ABC\n\n52 *3:1313 6.666e-005\n\n42 *13:753 8.888e-006\n\n*DEF\n\n...\n\n...\n</code></pre>\n\n<p>Here is blow-up of the regex incase you need to modify it.  </p>\n\n<pre><code> (?&lt;! [\\d.] )\n (                             # (1 start)\n      [+-]? \n      (?:\n           \\d+ \n           (?: \\. \\d* )\n        |  \\. \\d+ \n      )\n      (?: [eE] [+-]? \\d+ )?\n )                             # (1 end)\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9401649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae8d040e8fe1938549263b0dfca95af?s=128&d=identicon&r=PG&f=1", "display_name": "Beherit", "link": "https://stackoverflow.com/users/9401649/beherit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1543882864, "creation_date": 1543875132, "last_edit_date": 1543882628, "question_id": 53602730, "link": "https://stackoverflow.com/questions/53602730/how-to-get-floating-number-between-lines-and-replace-it-with-calculated-value-in", "title": "How to get floating number between lines and replace it with calculated value in Perl?", "body": "<p>I have a text file which I want to extract floating number in lines and do calculation to make it a different value then replace original number.</p>\n\n<p>e.g. Original file:</p>\n\n<pre><code>    *ABC\n    1.111e-05\n    2.222e-06\n    *DEF\n    ...\n    ...\n    *ABC\n    3.333e-05\n    4.444e-06\n    *DEF\n    ...\n    ...\n</code></pre>\n\n<p>Replaced file (with all decimal number multiplied by 2 and save as new one):</p>\n\n<pre><code>    *ABC\n    2.222e-05\n    4.444e-06\n    *DEF\n    ...\n    ...\n    *ABC\n    6.666e-05\n    8.888e-06\n    *DEF\n    ...\n    ...\n</code></pre>\n\n<p>How do I do this in Perl?\nI tried to use</p>\n\n<pre><code>$_ =~ /(\\*ABC)*(\\*DEF)/;\n</code></pre>\n\n<p>to get lines between *ABC and *DEF but it failed...</p>\n"}, {"tags": ["perl", "email", "mime-mail"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1543866614, "post_id": 53600809, "comment_id": 94064165, "body": "Maybe try <a href=\"http://www.bigfastblog.com/embed-base64-encoded-images-inline-in-html\" rel=\"nofollow noreferrer\">embedding</a> the images?"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1543867853, "post_id": 53600809, "comment_id": 94064710, "body": "According to <a href=\"https://stackoverflow.com/questions/4018709/how-to-create-an-email-with-embedded-images-that-is-compatible-with-the-most-mai\" title=\"how to create an email with embedded images that is compatible with the most mai\">stackoverflow.com/questions/4018709/&hellip;</a> you could try  <code>&lt;123.png@mymail&gt;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 747, "user_id": 590222, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fba5be60a41679337637cdfba23bb4b1?s=128&d=identicon&r=PG", "display_name": "justrajdeep", "link": "https://stackoverflow.com/users/590222/justrajdeep"}, "edited": false, "score": 0, "creation_date": 1543870826, "post_id": 53601285, "comment_id": 94066109, "body": "Thanks ... i could have never figured it out from the documentation"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 4, "last_activity_date": 1543868510, "creation_date": 1543868510, "answer_id": 53601285, "question_id": 53600809, "link": "https://stackoverflow.com/questions/53600809/how-to-inline-images-with-perl-emailmime/53601285#53601285", "title": "How to inline images with Perl Email::Mime?", "body": "<p>There are two problems with your code.</p>\n\n<p>First, it should be a <code>Content-Id: &lt;123.png&gt;</code> MIME header but your code instead produces a <code>content-id=&lt;123.png&gt;</code> parameter for the <code>Content-Type</code> header. To fix this don't add the <code>Content-Id</code> to the <code>attributes</code> but instead as <code>header_str</code>:</p>\n\n<pre><code>...\nEmail::MIME-&gt;create(\n    header_str =&gt; [\n        \"Content-ID\" =&gt; \"123.png\",\n    ],\n    attributes =&gt; {\n        content_type =&gt; \"image/png\",\n...\n</code></pre>\n\n<p>Second, the code creates a <code>multipart/mixed</code> content type for the mail. But the image and the HTML are related, so it should be a <code>multipart/related</code> content-type:</p>\n\n<pre><code>...\nmy $email = Email::MIME-&gt;create(\n    header_str =&gt; [\n        To =&gt; 'abc@xyz.com',\n        Subject =&gt; \"Test Email\",\n    ],\n    attributes =&gt; {\n        content_type =&gt; 'multipart/related'\n    },\n    parts      =&gt; [@parts],\n);\n...\n</code></pre>\n"}], "owner": {"reputation": 747, "user_id": 590222, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fba5be60a41679337637cdfba23bb4b1?s=128&d=identicon&r=PG", "display_name": "justrajdeep", "link": "https://stackoverflow.com/users/590222/justrajdeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 53601285, "answer_count": 1, "score": 0, "last_activity_date": 1543868510, "creation_date": 1543866341, "question_id": 53600809, "link": "https://stackoverflow.com/questions/53600809/how-to-inline-images-with-perl-emailmime", "title": "How to inline images with Perl Email::Mime?", "body": "<p>I am trying to send HTML email with inline images. I will have to use native unix things and <code>Email::Mime</code> since those are the only things I found installed in the box i am stuck with. I am creating a <code>Email::Mime</code> message and sending it to <code>sendmail</code>. I am using <code>cid</code> for in-lining the image but for some reason I keep getting the image as an attachment. </p>\n\n<p>Can someone help me, code snippet is below.</p>\n\n<pre><code>sub send_mail(){\n\nuse MIME::QuotedPrint;\nuse HTML::Entities;\nuse IO::All;\nuse Email::MIME;\n\n$boundary = \"====\" . time() . \"====\";\n\n$text = \"HTML mail demo\\n\\n\"\n      . \"This is the message text\\n\"\n      . \"Voil\u00e0 du texte qui sera encod\u00e9\\n\";\n\n$plain = encode_qp $text;\n\n$html = encode_entities($text);\n$html =~ s/\\n\\n/\\n\\n&lt;p&gt;/g;\n$html =~ s/\\n/&lt;br&gt;\\n/g;\n$html = \"&lt;p&gt;&lt;strong&gt;\" . $html . \"&lt;/strong&gt;&lt;/p&gt;\";\n$html .= '&lt;p&gt;&lt;img src=\"cid:123.png\" class = \"mail\" alt=\"img-mail\" /&gt;&lt;/p&gt;';\n\n# multipart message\n    my @parts = (\n        Email::MIME-&gt;create(\n            attributes =&gt; {\n                content_type =&gt; \"text/html\",\n                encoding     =&gt; \"quoted-printable\",\n                charset      =&gt; \"US-ASCII\",\n            },\n            body_str =&gt; \"&lt;html&gt; $html &lt;/html&gt;\",\n        ),\n        Email::MIME-&gt;create(\n            attributes =&gt; {\n                content_type =&gt; \"image/png\",\n                name =&gt; \"pie.png\",\n                disposition  =&gt; \"Inline\",\n                charset      =&gt; \"US-ASCII\",\n                encoding     =&gt; \"base64\",\n                filename =&gt; \"pie.png\",\n                \"Content-ID\" =&gt; \"&lt;123.png&gt;\",\n                path =&gt; \"/local_vol1_nobackup/user/ramondal/gfxip_gfx10p2_main_tree03/src/verif/ge/tb\",\n            },\n            body =&gt; io(\"pie.png\")-&gt;binary-&gt;all,\n        ),\n    );\n\n     my $email = Email::MIME-&gt;create(\n         header_str =&gt; [\n             To =&gt; 'abc@xyz.com',\n             Subject =&gt; \"Test Email\",\n         ],\n         parts      =&gt; [@parts],\n     );\n\n\n    # die $email-&gt;as_string;\n\n    open(MAIL, \"|/usr/sbin/sendmail -t\") or die $!;\n\n    print MAIL $email-&gt;as_string;\n\n    close (MAIL);\n\n    }\n</code></pre>\n"}, {"tags": ["perl", "split"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1543860940, "creation_date": 1543860940, "answer_id": 53599527, "question_id": 53599286, "link": "https://stackoverflow.com/questions/53599286/adding-a-string-while-using-the-split-function-perl/53599527#53599527", "title": "Adding a string while using the split function [Perl]", "body": "<p>You can use substitution with the <code>/r</code> modifier (\"return\"):</p>\n\n<pre><code>$arg{multi} = { split /[,=]/, $string =~ s/(^|,)/$1custom./gr };\n</code></pre>\n\n<p>The <code>/r</code> was introduced in Perl 5.14.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1543860981, "creation_date": 1543860981, "answer_id": 53599537, "question_id": 53599286, "link": "https://stackoverflow.com/questions/53599286/adding-a-string-while-using-the-split-function-perl/53599537#53599537", "title": "Adding a string while using the split function [Perl]", "body": "<p>There's no clean and elegant way to pick out every odd element from a list on the fly, as far as I can tell. One way to do it in one statement</p>\n\n<pre><code>use feature 'state';\n\n$arg{multi} = \n    map { state $cnt; (++$cnt % 2 != 0) ? qq(custom.$_) : $_ } \n    split /[=,]/, $arg{multi};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 3, "last_activity_date": 1543862085, "creation_date": 1543862085, "answer_id": 53599787, "question_id": 53599286, "link": "https://stackoverflow.com/questions/53599286/adding-a-string-while-using-the-split-function-perl/53599787#53599787", "title": "Adding a string while using the split function [Perl]", "body": "<p>You can use the <code>pairmap</code> function from <a href=\"https://perldoc.pl/List::Util\" rel=\"nofollow noreferrer\">List::Util</a>:</p>\n\n<pre><code>use List::Util 1.29 'pairmap';\n$arg{multi} = { pairmap { (\"custom.$a\" =&gt; $b) } split /[=,]/, $arg{multi} };\n</code></pre>\n\n<p>Or since you are creating the hash here, you can simply move the values to the new keys afterward.</p>\n\n<pre><code>$arg{multi} = { split /[=,]/, $arg{multi} };\n$arg{multi}{\"custom.$_\"} = delete $arg{multi}{$_} for keys %{$arg{multi}};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1543866138, "creation_date": 1543866138, "answer_id": 53600755, "question_id": 53599286, "link": "https://stackoverflow.com/questions/53599286/adding-a-string-while-using-the-split-function-perl/53600755#53600755", "title": "Adding a string while using the split function [Perl]", "body": "<p>Splitting on <code>=</code> and splitting on <code>,</code> have two different purposes, and now that you going to muck about with one side of the <code>=</code> splits, you should consider separating them. This doesn't need to make the operation too inconcise.</p>\n\n<pre><code>$arg{\"multi\"} = { map { ($k,$v)=split/=/; \"custom.$k\" =&gt; $v } split /,/, $str };\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$arg{\"multi\"} = { map { split /=/,\"custom.$_\"} split /,/,$str }; \n</code></pre>\n"}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1543898248, "creation_date": 1543859967, "last_edit_date": 1543898248, "question_id": 53599286, "link": "https://stackoverflow.com/questions/53599286/adding-a-string-while-using-the-split-function-perl", "title": "Adding a string while using the split function [Perl]", "body": "<p>I would like to handle a string in Perl. On my previous thread (<a href=\"https://stackoverflow.com/questions/53593791/cleanest-way-to-parse-argument-with-getoptlong\">link</a>) I asked on how to parse options. Consider the following string: <code>key1=abc,key2=123,key3=xwz</code>. On the previous thread, I got a suggestion to parse by doing:</p>\n\n<pre><code>$arg{\"multi\"} = { split /[=,]/, $arg{\"multi\"}};\n</code></pre>\n\n<p>So I get the following output:</p>\n\n<pre><code>$VAR1 = {\n          'multi' =&gt; {\n                       'key2' =&gt; '123',\n                       'key1' =&gt; 'abc',\n                       'key3' =&gt; 'xwz'\n                     }\n        };\n</code></pre>\n\n<p>I would like to insert \"custom\" before the key, so the output will be:</p>\n\n<pre><code>$VAR1 = {\n          'multi' =&gt; {\n                       'custom.key2' =&gt; '123',\n                       'custom.key1' =&gt; 'abc',\n                       'custom.key3' =&gt; 'xwz'\n                     }\n        };\n</code></pre>\n\n<p>I can do it by iterating over the keys of the hash, but if it possible, I would like to do it in the same command as <code>$arg{\"multi\"} = { split /[=,]/, $arg{\"multi\"}};</code>.</p>\n\n<p>I tried putting <code>custom</code> before <code>split</code> and the <code>$arg{\"multi\"}</code>, but it didn't work as expected. How to solve this issue?</p>\n\n<p><strong>EDIT:</strong> Is there a way to do so, without importing any new features and modules? If we need to change <code>$arg{\"multi\"} = { split /[=,]/, $arg{\"multi\"}};</code>, to something else, it is also considered as a solution.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1543859378, "post_id": 53598974, "comment_id": 94060692, "body": "Thanks for the answer. If the hash is empty, it will still work as expected? ($json_struct will contain only name and time?)"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1543859460, "post_id": 53598974, "comment_id": 94060730, "body": "Yes, no iterations of the <code>foreach</code> loop would run and the empty hash slice would be a no-op."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1543858994, "last_edit_date": 1543858994, "creation_date": 1543858692, "answer_id": 53598974, "question_id": 53598930, "link": "https://stackoverflow.com/questions/53598930/working-with-structures-and-hashes-in-perl/53598974#53598974", "title": "Working with structures and hashes in Perl", "body": "<p><code>$json_struct</code> is a hash reference, but <code>@{ $json_struct }</code> performs <em>array</em> dereferencing on <code>$json_struct</code>, so that is not going to work.</p>\n\n<p>There is no <code>push</code> operator for hashes; you just insert new data by assigning values to new keys. For your structure, you would just want to say</p>\n\n<pre><code>foreach my $key (keys %hash) {\n    $json_struct-&gt;{$key} = $hash{$key};\n}\n</code></pre>\n\n<p>Now you <em>can</em> also use the <code>@{...}</code> operator to specify a <a href=\"https://metacpan.org/pod/perldata#Slices\" rel=\"nofollow noreferrer\"><em>hash slice</em></a>, which may be what you were thinking of. Hash slices can be used to operate on several keys of a hash simultaneously. The syntax that will work for you for that operation is</p>\n\n<pre><code>@{$json_struct}{keys %hash} = values %hash;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 1, "last_activity_date": 1543858779, "creation_date": 1543858779, "answer_id": 53598992, "question_id": 53598930, "link": "https://stackoverflow.com/questions/53598930/working-with-structures-and-hashes-in-perl/53598992#53598992", "title": "Working with structures and hashes in Perl", "body": "<p>The easiest way to join hashes is like this:</p>\n\n<pre><code>my $foo = {\n    name =&gt; $name,\n    time =&gt; $time,\n};\n\nmy $bar = {\n         'key2' =&gt; '123',\n         'key1' =&gt; 'abc',\n         'key3' =&gt; 'xwz'\n    };\n\nmy $combined = {\n    %{$foo},\n    %{$bar},\n};\n</code></pre>\n"}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 53598974, "answer_count": 2, "score": 0, "last_activity_date": 1543858994, "creation_date": 1543858485, "question_id": 53598930, "link": "https://stackoverflow.com/questions/53598930/working-with-structures-and-hashes-in-perl", "title": "Working with structures and hashes in Perl", "body": "<p>Consider the following structure in Perl: (let's call it declaration <code>A</code>)</p>\n\n<pre><code>my $json_struct = {\n    name =&gt; $name,\n    time =&gt; $time,\n};\n</code></pre>\n\n<p>I have a hash <code>%hash</code> which contains custom fields (I don't know how many). It looks something like this:</p>\n\n<pre><code>$VAR1 = {\n         'key2' =&gt; '123',\n         'key1' =&gt; 'abc',\n         'key3' =&gt; 'xwz'\n    };\n</code></pre>\n\n<p>I would like to loop through the hash keys and insert those keys into the structure, so I thought that I can do something like this:</p>\n\n<pre><code>foreach my $key (keys %hash) {\n  push @{ $json_struct }, { $key =&gt; $hash{$key} };\n}\n</code></pre>\n\n<p>I'm not sure that it is working as expected. Also, is there a cleaner way to do so? Maybe I can combine it in one or two lines while declaring <code>A</code>.? </p>\n\n<p>Expected output: (order does not matter)</p>\n\n<pre><code>$VAR1 = {\n         'name' =&gt; $name,\n         'time' =&gt; $time,\n         'key2' =&gt; '123',\n         'key1' =&gt; 'abc',\n         'key3' =&gt; 'xwz'\n    };\n</code></pre>\n"}, {"tags": ["perl", "counting", "word"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1543858625, "post_id": 53598713, "comment_id": 94060342, "body": "Well, that looks like pretty awful code. None of the variables are declared. Is <code>strict</code> mode not enabled? Using bareword filehandles and 2-arg open has been obsolete since 2000 with the release of perl 5.6. <code>DATA</code> is also a special handle and you probably shouldn&#39;t touch it. Ignoring errors from <code>open</code> is a bad idea."}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1543859893, "post_id": 53598713, "comment_id": 94060930, "body": "What to you call &quot;columns 1-3&quot; ? Please update your question with an example of file content and the expected output"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1543914425, "creation_date": 1543914425, "answer_id": 53609206, "question_id": 53598713, "link": "https://stackoverflow.com/questions/53598713/how-to-count-words-in-specific-columns-for-multiple-files/53609206#53609206", "title": "How to count words in specific columns for multiple files?", "body": "<p>No need to mess around opening filehandles. The <code>&lt;&gt;</code> operator will give you all of the lines from the files passed on the command line. So your code can look something like this:</p>\n\n<pre><code>#/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy $count;\n\nwhile (&lt;&gt;) {\n  $_ = truncate_to_three_cols($_);\n\n  # Increment count if the record contains \"500\"\n  # Note: \\b marks a word boundary. This means we only\n  # match \"500\" on its own. Not 1500 or 5000, etc.\n  $count++ if /\\b500\\b/;\n}\n\nsay \"I got $count 500s\";\n</code></pre>\n\n<p>The hard part is writing the <code>truncate_to_three_cols()</code> function. We can't really help here as you give us no hint about the format of your input file. So, this is just an example, assuming you have a tab-separated file.</p>\n\n<pre><code>sub truncate_to_three_cols {\n  my ($row) = @_;\n\n  # Split on tabs\n  # Take the first three columns\n  # Join with tabs\n  return join \"\\t\", (split /\\t/, $line)[0 .. 2];\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3204113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad64e37a9281ec03f35becc28d128eeb?s=128&d=identicon&r=PG&f=1", "display_name": "user3204113", "link": "https://stackoverflow.com/users/3204113/user3204113"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1543914631, "creation_date": 1543857583, "last_edit_date": 1543914631, "question_id": 53598713, "link": "https://stackoverflow.com/questions/53598713/how-to-count-words-in-specific-columns-for-multiple-files", "title": "How to count words in specific columns for multiple files?", "body": "<p>I'm new to Perl and must change an existing Perl script. I need to be able to count all the '500' in columns 1-3 in an entire file before moving on to the next command for that file, and then the next file.  I can have multiple input files. I'm guessing the start would be something like this:</p>\n\n<pre><code>@files = &lt;*INPUTFILENAMES&gt;;\n\nforeach $file (@files) {\n\n   open (DATA,$file);\n\n   then do the counts here}\n</code></pre>\n"}, {"tags": ["perl", "visual-studio-2017", "opendds"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1543857813, "post_id": 53598555, "comment_id": 94059967, "body": "What output do you get from <code>configure --verbose</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1543858942, "post_id": 53598947, "comment_id": 94060477, "body": "Wouldn&#39;t that set <code>$opts{compiler}</code>, not <code>$opts{compiler_version}</code>?"}], "tags": [], "owner": {"reputation": 836, "user_id": 2993440, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/566310225/picture?type=large", "display_name": "shawn1874", "link": "https://stackoverflow.com/users/2993440/shawn1874"}, "is_accepted": false, "score": 0, "last_activity_date": 1543858589, "creation_date": 1543858589, "answer_id": 53598947, "question_id": 53598555, "link": "https://stackoverflow.com/questions/53598555/how-can-i-configure-the-opendds-3-13-with-vs2017-community/53598947#53598947", "title": "How can I configure the OpenDDS 3.13 with VS2017 community?", "body": "<p>Evidently, the configure script cannot always detect the compiler version automatically.  I'm not good at reading perl scripts because I don't know perl well, but I found an option to help the script.</p>\n\n<p>First determine the exact version of the C++ compiler by running this line:</p>\n\n<pre><code>cl /?\n</code></pre>\n\n<p>Now using the output of that, add the --compiler option to the command line.</p>\n\n<pre><code>configure --compiler=19.16.27024.1 --java\n</code></pre>\n\n<p>The instructions within the INSTALL file and README were not clear on that point.  I ran configure --help to look at the command line options and that is how I learned that the script will try to autodetect the compiler.  My guess is that the script is looking for a specific C++ compiler version or it is using a regex that isn't working well.</p>\n"}, {"tags": [], "owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1543934467, "creation_date": 1543934467, "answer_id": 53615379, "question_id": 53598555, "link": "https://stackoverflow.com/questions/53598555/how-can-i-configure-the-opendds-3-13-with-vs2017-community/53615379#53615379", "title": "How can I configure the OpenDDS 3.13 with VS2017 community?", "body": "<p>This is a small issue in the configure script of OpenDDS 3.13 which is caused by a change in the compiler version which was not known at release time. When you would pull github master (see <a href=\"https://github.com/objectcomputing/OpenDDS\" rel=\"nofollow noreferrer\">https://github.com/objectcomputing/OpenDDS</a>) this should work again, or wait until OpenDDS 3.14.</p>\n"}], "owner": {"reputation": 836, "user_id": 2993440, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/566310225/picture?type=large", "display_name": "shawn1874", "link": "https://stackoverflow.com/users/2993440/shawn1874"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 413, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1543995383, "creation_date": 1543857008, "last_edit_date": 1543995383, "question_id": 53598555, "link": "https://stackoverflow.com/questions/53598555/how-can-i-configure-the-opendds-3-13-with-vs2017-community", "title": "How can I configure the OpenDDS 3.13 with VS2017 community?", "body": "<p>I'm using Visual Studio 2017.  Below is the output from a Visual Studio Developer command prompt indicating the C++ version.</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\ProgramsNotInstalled\\OpenDDS-3.13&gt;cl /?\nMicrosoft (R) C/C++ Optimizing Compiler Version 19.16.27024.1 for x86\n</code></pre>\n\n<p>Following that, I see the following output when running the configure --java command.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>**********************************************************************\n** Visual Studio 2017 Developer Command Prompt v15.9.3\n** Copyright (c) 2017 Microsoft Corporation\n**********************************************************************\n\nC:\\ProgramsNotInstalled\\OpenDDS-3.13&gt;configure\nERROR: Could not detect Visual C++ version, try running this script from the Visual Studio Command Prompt.\nStopped at configure line 421.\n\nC:\\ProgramsNotInstalled\\OpenDDS-3.13&gt;configure --java\nERROR: Could not detect Visual C++ version, try running this script from the Visual Studio Command Prompt.\nStopped at configure line 421.\n\nC:\\ProgramsNotInstalled\\OpenDDS-3.13&gt;\n</code></pre>\n\n<p>I saw a similar question posed for DDS 3.12 on stack overflow but that answer has to do with language.  That is clearly not the problem in my case, and I am running the configure script from the correct type of command prompt.  This question is not a duplicate.\n<a href=\"https://stackoverflow.com/questions/47035888/how-to-install-opendds-3-12-on-windows-system\">How to install OpenDDS 3.12 on windows system</a></p>\n"}, {"tags": ["arrays", "regex", "perl"], "comments": [{"owner": {"reputation": 21613, "user_id": 580346, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ba17945a06aac247b06548d5afe341e8?s=128&d=identicon&r=PG", "display_name": "mrzasa", "link": "https://stackoverflow.com/users/580346/mrzasa"}, "edited": false, "score": 0, "creation_date": 1543851526, "post_id": 53596979, "comment_id": 94056594, "body": "Do you want to split it into 2-digit substrings?"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 3, "creation_date": 1543851622, "post_id": 53596979, "comment_id": 94056652, "body": "Instead of splitting, match what you want to keep: <code>$string = [ $string =~ &#47;(\\d\\d)&#47;g ]</code>"}, {"owner": {"reputation": 28753, "user_id": 1138192, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4ed67a4983ab0568593e133930430941?s=128&d=identicon&r=PG", "display_name": "Always Sunny", "link": "https://stackoverflow.com/users/1138192/always-sunny"}, "edited": false, "score": 0, "creation_date": 1543851772, "post_id": 53596979, "comment_id": 94056764, "body": "how about this? <code>([^-].)</code>"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1543851815, "post_id": 53596979, "comment_id": 94056788, "body": "What is the rule for splitting?"}], "answers": [{"tags": [], "owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1543853621, "last_edit_date": 1543853621, "creation_date": 1543852088, "answer_id": 53597208, "question_id": 53596979, "link": "https://stackoverflow.com/questions/53596979/how-to-split-a-string-into-arrays-using-perl/53597208#53597208", "title": "how to split a string into arrays using perl?", "body": "<p>Rather than splitting, you can capture all 2 digit numbers with this perl code,</p>\n\n<pre><code>$str =  \"123456-9876\";\nmy @matches = $str =~ /\\d{2}/g;\n\nprint \"@matches\\n\";\n</code></pre>\n\n<p>Prints,</p>\n\n<pre><code>12 34 56 98 76\n</code></pre>\n\n<p><strong>Another solution,</strong> that just groups two digits no matter whatever, wherever non-digits are present in the string, without mutating the original string</p>\n\n<pre><code>$string =  \"1dd23-dsd--456-9-876\";\nwhile($string =~ /(\\d).*?(\\d)/g) {\n        print \"$1$2 \";\n}\n</code></pre>\n\n<p>Prints,</p>\n\n<pre><code>12 34 56 98 76\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1543852630, "last_edit_date": 1543852630, "creation_date": 1543852127, "answer_id": 53597215, "question_id": 53596979, "link": "https://stackoverflow.com/questions/53596979/how-to-split-a-string-into-arrays-using-perl/53597215#53597215", "title": "how to split a string into arrays using perl?", "body": "<p>Extract pairs of digits: (e.g. <code>\"1234-5678\"</code> &rArr; <code>[12,34,56,78]</code>)</p>\n\n<pre><code>$string = [ $string =~ /\\d\\d/g ];\n</code></pre>\n\n<p>Extract pairs of digits, even if separated by non-digits: (e.g. <code>\"1234-567-8\"</code> &rArr; <code>[12,34,56,78]</code>)</p>\n\n<pre><code>$string = [ $string =~ s/\\D//rg =~ /../sg ];\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 4887299, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b20a0bc6843b0009d7e6160672e43b36?s=128&d=identicon&r=PG&f=1", "display_name": "anamika email", "link": "https://stackoverflow.com/users/4887299/anamika-email"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1543853621, "creation_date": 1543851384, "question_id": 53596979, "link": "https://stackoverflow.com/questions/53596979/how-to-split-a-string-into-arrays-using-perl", "title": "how to split a string into arrays using perl?", "body": "<p>There is a string as:</p>\n\n<pre><code>$string= 123456-9876;\n</code></pre>\n\n<p>Need to split it in array as follows:</p>\n\n<pre><code>$string = [12,34,56,98,76]\n</code></pre>\n\n<p>trying to split it as split('-',$string) is not serving the purpose.\nHow could i do that in perl?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1543840105, "post_id": 53593857, "comment_id": 94050144, "body": "<code>$1</code> refers to Group 1, but your regex has no capturing groups, use <code>&#47;(Activity:[\\w-]+)&#47;</code>. There is also <code>$&amp;</code>  placeholder if you do not want to use capturing groups (use <code>print &quot;$&amp;\\n&quot;</code>)."}, {"owner": {"reputation": 1720, "user_id": 8903393, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HwMCG.png?s=128&g=1", "display_name": "Amrendra Kumar", "link": "https://stackoverflow.com/users/8903393/amrendra-kumar"}, "edited": false, "score": 1, "creation_date": 1543840929, "post_id": 53593857, "comment_id": 94050595, "body": "Use this hope it will help: <code>(Activity:[\\w-]+)</code>"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1543841377, "post_id": 53593857, "comment_id": 94050801, "body": "There is no such variable <code>$var</code> in your code. So the error message cannot come from the code you posted. Please <a href=\"https://stackoverflow.com/posts/53593857/edit\">edit</a> your post and post the real code and the real error message."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1543843538, "creation_date": 1543843538, "answer_id": 53594848, "question_id": 53593857, "link": "https://stackoverflow.com/questions/53593857/how-to-print-mached-regex-in-perl/53594848#53594848", "title": "how to print mached regex in perl", "body": "<p>You need to add capture groups to your regex. E.g. brackets around what you want to capture.</p>\n\n<pre><code>        if($row =~ /Activity:([\\w-]+)/){\n           print \"$1\\n\";\n        }\n</code></pre>\n\n<p>Will print:</p>\n\n<pre><code>B2012-0002 \n</code></pre>\n\n<p>Incidentally - if all your doing is capturing, you might want to not bother assigning <code>$row</code>. Decide if this makes your code clearer:</p>\n\n<pre><code>while ( &lt;INPUT&gt; ) {\n  if ( m/Activity:([\\w-]+)/){\n    print \"$1\\n\";\n  }\n}\n</code></pre>\n\n<p>Or perhaps even:</p>\n\n<pre><code>m/Activity:([\\w-]+)/ &amp;&amp; print $1,\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 10690484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2f3b349f09d335afad326d1355f86a?s=128&d=identicon&r=PG&f=1", "display_name": "Nutiu Radu", "link": "https://stackoverflow.com/users/10690484/nutiu-radu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 53594848, "answer_count": 1, "score": 1, "last_activity_date": 1543843538, "creation_date": 1543840046, "question_id": 53593857, "link": "https://stackoverflow.com/questions/53593857/how-to-print-mached-regex-in-perl", "title": "how to print mached regex in perl", "body": "<p>i have some line like this: </p>\n\n<pre><code>Activity:B2012-0002            Type:BLDG            Sub Type:SFD_OTHE           Status:ISSUED\n</code></pre>\n\n<p>and i want to print only:</p>\n\n<pre><code>Activity:B2012-0002\n</code></pre>\n\n<p>for that i use next code:</p>\n\n<pre><code>my $text_file = \"homework.txt\";\n\nopen(INPUT, '&lt;',$text_file) or die $!;\n        while(my $row = &lt;INPUT&gt;){\n            chomp($row);\n            if($row =~ /Activity:[\\w-]+/){\n               print \"$1\\n\";\n            }\n        }\n</code></pre>\n\n<p>but this code return next error:</p>\n\n<pre><code>Use of uninitialized value $var in print at test.pl line 13, &lt;INPUT&gt; line 1.\n</code></pre>\n\n<p>i need a little help,\nthx:)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1543841546, "post_id": 53593791, "comment_id": 94050879, "body": "Would <code>--multi key1=abc --multi key2=123 --multi key3=xwz</code> be acceptable? Also, <code>--multi {key1=abc,key2=...}</code> should also work and (depending on the vagaries of your shell) give you the complete value. If not, quote the value according to your shell: <code>--multi &quot;{key1=abc,key2=...}&quot;</code>. Learning how to quote values in your shell has nothing to do with Perl."}, {"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1543843180, "post_id": 53593791, "comment_id": 94051804, "body": "@ikegami yes, sorry. though it was clear. @Corion we would like to implement with one flag because it does really look &quot;pretty&quot; with multi same flags. Also, I would like to implement without forcing user to use quotes <code>&quot;</code>."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1543845005, "post_id": 53593791, "comment_id": 94052728, "body": "@TTaJTa4 - you don&#39;t need quotes. You can also use backslashes, or single quotes, depending on the kind of shell you use. But quoting curly brackets appropriately is a matter of your shell and not of Perl. So, maybe tell us what shell you use."}, {"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1543845906, "post_id": 53593791, "comment_id": 94053223, "body": "@Corion I think I will go with the quotes. If the command line is <code>--multi &quot;key1=abc,key2=123,key3=xwz&quot;</code> how can I parse the input as I wanted (inserting into <code>arg</code> hash)."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1543846065, "post_id": 53593791, "comment_id": 94053308, "body": "If you have a string separated with <code>=</code> and <code>,</code> and you want to keep the order, you cannot use a hash. If you don&#39;t care about the order use <code>$arg{ multi } = { split &#47;[=,]&#47;, $args{ multi }};</code>"}, {"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1543846177, "post_id": 53593791, "comment_id": 94053370, "body": "@Corion I don&#39;t care about the order. Great solution. Is it possible to validate <code>5</code>?"}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1543847274, "post_id": 53593791, "comment_id": 94053957, "body": "Yes, after assigning to the hash(ref), check that <code>scalar keys %{ $args{ multi }} &lt; 5</code>"}], "answers": [{"comments": [{"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1543857830, "post_id": 53597260, "comment_id": 94059975, "body": "How can I add string before every key, something like <code>custom.key1,custom.key2</code>."}, {"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "reply_to_user": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1543861497, "post_id": 53597260, "comment_id": 94061662, "body": "<a href=\"https://stackoverflow.com/questions/53599286/adding-a-string-while-using-the-split-function-perl\" title=\"adding a string while using the split function perl\">stackoverflow.com/questions/53599286/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": true, "score": 3, "last_activity_date": 1543852332, "creation_date": 1543852332, "answer_id": 53597260, "question_id": 53593791, "link": "https://stackoverflow.com/questions/53593791/cleanest-way-to-parse-argument-with-getoptlong/53597260#53597260", "title": "Cleanest way to parse argument with Getopt::Long", "body": "<p>The following program reads the comma-separated sub-options from the <code>--multi</code> option on the command line.</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse Getopt::Long 'GetOptionsFromArray';\n\nmy @args = ('--multi', '{key1=abc,key2=123,key3=xwz}', 'some', 'other');\n\nmy %arg;\nGetOptionsFromArray(\n    \\@args,\n            \"multi=s\" =&gt; \\$arg{\"multi\"},\n);\n\nif( $arg{multi} and $arg{multi} =~ /^\\{(.*)\\}$/) {\n    # split up into hash:\n    $arg{ multi } = { split /[{},=]/, $1 };\n};\n\nprint Dumper \\%arg;\n\n__END__\n\n$VAR1 = {\n          'multi' =&gt; {\n                       'key2' =&gt; '123',\n                       'key1' =&gt; 'abc',\n                       'key3' =&gt; 'xwz'\n                     }\n        };\n</code></pre>\n\n<p>The program uses <code>GetOptionsFromArray</code> for easy testability. In the real program, you will likely use <code>GetOptions(...)</code>, which is identical to <code>GetOptionsFromArray(\\@ARGV, ...)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1548990500, "last_edit_date": 1548990500, "creation_date": 1543862972, "answer_id": 53600014, "question_id": 53593791, "link": "https://stackoverflow.com/questions/53593791/cleanest-way-to-parse-argument-with-getoptlong/53600014#53600014", "title": "Cleanest way to parse argument with Getopt::Long", "body": "<p>One way is to assign options of <code>key=value</code> format to a hash, what  <a href=\"http://perldoc.perl.org/Getopt/Long.html#Options-with-hash-values\" rel=\"nofollow noreferrer\">GetOpt::Long allows</a>. Even better, as this functionality merely needs a hash reference, it turns out that you can have it assign to a hashref that is a value inside a deeper data structure. You can make direct use of that  </p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Getopt::Long;\nuse Data::Dump qw(dd);\n\nmy %args;\n$args{multi} = {}; \n\nGetOptions( 'multi=s' =&gt; $args{multi} ) or die \"Bad options: $!\";\n\ndd \\%args;\n</code></pre>\n\n<p>With multiple invocations of that option the key-value pairs are added</p>\n\n<pre><code>script.pl --multi k1=v1 --multi k2=v2\n</code></pre>\n\n<p>and the above program prints</p>\n\n<pre>\n{ multi => { k1 => \"v1\", k2 => \"v2\" } }\n</pre>\n\n<p>I use <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\">Data::Dump</a> to print complex data. Change to core <code>Data::Dumper</code> if that's a problem.</p>\n\n<p>While <code>Getopt::Long</code> has a way to limit the number of arguments that an option takes that apparently applies only for array destinations. So you'd have to count keys to check.</p>\n\n<p>Another way is to <a href=\"http://perldoc.perl.org/Getopt/Long.html#User-defined-subroutines-to-handle-options\" rel=\"nofollow noreferrer\">process the input string in a subroutine</a>, where you can do practically anything you want. Adding that to the above script, to add yet another key with its hashref to <code>%args</code></p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Getopt::Long;\nuse Data::Dump qw(dd);\n\nmy %args;\n$args{multi} = {};\n\nGetOptions(\n    'multi=s' =&gt; $args{multi},\n    'other=s' =&gt; sub { $args{other} = { split /[=,]/, $_[1] }  }\n) or die \"Bad options: $!\";\n\ndd \\%args;\n</code></pre>\n\n<p>When called as</p>\n\n<pre><code>script.pl --multi k1=v1 --multi k2=v2  --other mk1=mv1,mk2=mv2\n</code></pre>\n\n<p>This prints</p>\n\n<pre>\n{\n  other => { mk1 => \"mv1\", mk2 => \"mv2\" },\n  multi => { k1 => \"v1\", k2 => \"v2\" },\n}\n</pre>\n"}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 53597260, "answer_count": 2, "score": 2, "last_activity_date": 1548990500, "creation_date": 1543839774, "last_edit_date": 1543850846, "question_id": 53593791, "link": "https://stackoverflow.com/questions/53593791/cleanest-way-to-parse-argument-with-getoptlong", "title": "Cleanest way to parse argument with Getopt::Long", "body": "<p>I use GetOpt to parse command-line arguments. I would like to add a new option \"multi\" which should get a string which looks as following: <code>key1=abc,key2=123,key3=xwz</code>.\nI don't know how many custom keys user want to give but he can give minimax <code>5</code> keys. Also, I would like to put it in a hash with keys.\nI'm looking for a good and clean way to implement it.</p>\n\n<p>For starters, I thought of using <code>--multi {key1=abc,key2=123,key3=xwz}</code> but for some reason, it gets only\nthe first key <code>key1=abc</code>. Also I tried: <code>--multi {key1=abc},{key2=123},{key3=xwz}</code> but it feels kind of messy. I want to give the user the possibility to add arguments with <code>-</code> like <code>key1=./some_script.pl --help</code>. Part of the code:</p>\n\n<pre><code>my %arg;\nGetOptions(\n            \"multi=s\" =&gt; \\$arg{\"multi\"},\n}\n</code></pre>\n\n<p>Then I would like to somehow put those keys in the hash so it will be easy to use them. So I thought of using: <code>$arg{\"multi\"}{\"key3\"}</code> in order to get the value of <code>key3</code>.\nHow should I approach this feature? What is the cleanest way to do so?</p>\n\n<p>To summarize it:</p>\n\n<ol>\n<li>What is the best way to ask the user to give keys in order to get a similar situation to <code>key1=abc,key2=123,key3=xwz</code>, without using a file (giving options, not in a file way)? Meaning - how would you like, as a user of the script, to give those fields?</li>\n<li>How to validate that user gave less than 5 keys?</li>\n<li>How should I parse those keys and what is the best way to insert those keys into the hash map in the <code>multi</code> key.</li>\n</ol>\n\n<p>Expected output: I would like to have a hash which looks like this: <code>$arg{\"multi\"}{\"key3\"}</code> and returns <code>xwz</code>.</p>\n"}, {"tags": ["perl", "hex"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1543835655, "post_id": 53587375, "comment_id": 94047835, "body": "I think you meant the third line to be <code>print hex(4660), &quot;\\n&quot;;</code> instead of <code>print hex(4460), &quot;\\n&quot;;</code>. Then the output would have been <code>4660</code>, <code>18016</code>, <code>18016</code>"}, {"owner": {"reputation": 353, "user_id": 2200948, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e8fead9c1c01d55a2c38dffe85d98e18?s=128&d=identicon&r=PG", "display_name": "DXZ", "link": "https://stackoverflow.com/users/2200948/dxz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1543893640, "post_id": 53587375, "comment_id": 94072618, "body": "Sorry about the typo. Now it is all clear."}], "answers": [{"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 1, "last_activity_date": 1543812273, "creation_date": 1543812273, "answer_id": 53587600, "question_id": 53587375, "link": "https://stackoverflow.com/questions/53587375/what-does-hex-or-oct-in-perl-do-when-you-pass-in-a-hexadecimal-or-octal-lite/53587600#53587600", "title": "What does &#39;hex&#39; or &#39;oct&#39; in Perl do when you pass in a hexadecimal or octal literal (instead of its string expression)?", "body": "<p>Consider:</p>\n\n<pre><code>$ perl -E \"say 0x1234\"\n4660\n$ perl -E \"say 0x4660\"\n18016\n</code></pre>\n\n<p>4660 in base 10 is the same number as 1234 in base 16. 18016 in base 10 is the same number as 4660 in base 16.</p>\n\n<p>So your first line converts the base-16 number in the string <code>\"0x1234\"</code> to a number.</p>\n\n<p>Your second line turns the number 0x1234/4660 into the string <code>\"4660\"</code> and converts that base-16 number.</p>\n\n<p>Your third one uses <code>4460</code> instead of <code>4660</code>, which I suspect is a typo.</p>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1543812639, "creation_date": 1543812639, "answer_id": 53587648, "question_id": 53587375, "link": "https://stackoverflow.com/questions/53587375/what-does-hex-or-oct-in-perl-do-when-you-pass-in-a-hexadecimal-or-octal-lite/53587648#53587648", "title": "What does &#39;hex&#39; or &#39;oct&#39; in Perl do when you pass in a hexadecimal or octal literal (instead of its string expression)?", "body": "<p>hex and oct take strings as operands.  If you give them a number, the number is first converted to a string.  print() does exactly the same thing.  If you say:</p>\n\n<pre><code>print 0x1234\n</code></pre>\n\n<p>it takes the number (4660), converts it to a string (\"4660\") and prints it.</p>\n\n<p>Similarly, with:</p>\n\n<pre><code>hex(0x1234)\n</code></pre>\n\n<p><code>hex</code> takes the number (4660), converts it to a string (\"4660\"), then interprets that as hexidecimal and returns that number (0x4660 = 18016).  When you print that, you get \"18016\".</p>\n"}], "owner": {"reputation": 353, "user_id": 2200948, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e8fead9c1c01d55a2c38dffe85d98e18?s=128&d=identicon&r=PG", "display_name": "DXZ", "link": "https://stackoverflow.com/users/2200948/dxz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 53587648, "answer_count": 2, "score": -1, "last_activity_date": 1543894112, "creation_date": 1543810354, "last_edit_date": 1543894112, "question_id": 53587375, "link": "https://stackoverflow.com/questions/53587375/what-does-hex-or-oct-in-perl-do-when-you-pass-in-a-hexadecimal-or-octal-lite", "title": "What does &#39;hex&#39; or &#39;oct&#39; in Perl do when you pass in a hexadecimal or octal literal (instead of its string expression)?", "body": "<p>For example, running</p>\n\n<pre><code>print hex(\"0x1234\"), \"\\n\";  # line1: Equivalent to hex(\"1234\") or hex(1234)\nprint hex(0x1234), \"\\n\";    # line2: What does this line do?\nprint hex(4660), \"\\n\";      # line3: Equivalent to hex('4660') or hex('0x4660')\n</code></pre>\n\n<p>The code above would produce:</p>\n\n<pre><code>4660\n18016\n18016\n</code></pre>\n\n<p>So line2 is equivalent to line3. I was putting 4460 in line3 instead of 4660 to cause myself confusion. Thanks to all the replies that corrected my original mistake.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1543786440, "post_id": 53584816, "comment_id": 94033091, "body": "<code>(@name, @grade) = split(&quot;\\t&quot;, $row);</code> is wrong, you can&#39;t assign to two arrays at the same time - the first one takes all the elements of the RHS."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543792595, "post_id": 53584816, "comment_id": 94034519, "body": "Please show some of that data file"}, {"owner": {"reputation": 63, "user_id": 6144910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67ae9a20fade4d3d3e6cf93fd93c535c?s=128&d=identicon&r=PG&f=1", "display_name": "GR2096", "link": "https://stackoverflow.com/users/6144910/gr2096"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543797521, "post_id": 53584816, "comment_id": 94035513, "body": "@zdim data file looks this but in seperate lines. In one line there is only one name and points: John 5  Smith 8 Mae 4 Walker 9"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1543798363, "post_id": 53584816, "comment_id": 94035664, "body": "Then the code with arrays makes no sense (on top of being wrong as @choroba noted) since the split returns exactly two strings, right for <code>($name, $points)</code> scalars.  The data should be specifed in the question and I&#39;d suggest that you edit it and add that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543799072, "post_id": 53584816, "comment_id": 94035794, "body": "Re: &quot;<i>I need to remove duplicate names and count the average of points.</i>&quot; -- do you mean to find average points for all entries for a duplicated name and produce one entry for that name with those points?"}, {"owner": {"reputation": 63, "user_id": 6144910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67ae9a20fade4d3d3e6cf93fd93c535c?s=128&d=identicon&r=PG&f=1", "display_name": "GR2096", "link": "https://stackoverflow.com/users/6144910/gr2096"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543800138, "post_id": 53584816, "comment_id": 94035990, "body": "@zdim Yes. I need to count the average points for every person. But the person can be written in file several times. So I just need to count average of points and produce only one entry for that name with points"}, {"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543828498, "post_id": 53584816, "comment_id": 94044213, "body": "@zdim&#39;s &quot; $people{$name} += $pts;&quot; would be my call here too for obtaining the average. Its a very cool trick. I sit on exam boards and logical errors in this code would be fun :-)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1544468324, "post_id": 53584816, "comment_id": 94278324, "body": "@MichaelG. Yes, I can imagine all sorts of things :) This can be useful to hammer out basics -- it is elementary but it contains some picky low-level counting and logic."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543800880, "post_id": 53586325, "comment_id": 94036132, "body": "@GR2096  Edited, as I forgot to include data after <code>__DATA__</code> and the printout of results"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1544468856, "last_edit_date": 1544468856, "creation_date": 1543800488, "answer_id": 53586325, "question_id": 53584816, "link": "https://stackoverflow.com/questions/53584816/how-to-remove-duplicates-from-struct-array-in-perl/53586325#53586325", "title": "How to remove duplicates from struct array in Perl?", "body": "<p>To have an array entry for each person you need to create a new object for each, inside the loop. Once you've read the data you'd have to post-process that to establish duplicates and remove all but one entry. </p>\n\n<p>That is inefficient, with extra calls to constructor and destructor, and deletions from an array.</p>\n\n<p>Thus I'd suggest to read data into a hash instead, in which way you can also process duplicates as you go. Then populate an array with <code>struct</code> objects for further work.</p>\n\n<pre><code>use warnings;\nuse strict;   \nuse feature 'say';\n\nuse Class::Struct; \n\nstruct Person =&gt; { name =&gt; '$', points =&gt; '$' };\n\nmy @people; \n\nPREPARE_DATA: {    \n    my (%people, %cnt);\n\n    while (&lt;DATA&gt;) {\n        my ($name, $pts) = split;\n        if (exists $people{$name}) {\n            $people{$name} += $pts;\n            ++$cnt{$name};\n        }   \n        else { \n            $people{$name} = $pts;\n        }   \n    }\n\n    foreach my $name (keys %cnt) { \n        $people{$name} /= $cnt{$name}+1;\n    }    \n\n    # Now populate an array with objects\n    foreach my $name (sort keys %people) {    \n        push @people, Person-&gt;new(name =&gt; $name, points =&gt; $people{$name});\n    }\n};\n\nfor my $p (@people) {\n    say $p-&gt;name, ' --&gt; ', $p-&gt;points;\n}\n\n__DATA__\nJoe 12\nJohn 20\nJoe 24\nJohn 40\nJoe 36\nMatt 15\n</code></pre>\n\n<p>I put all processing in a block (which I named <code>PREPARE_DATA</code>) to limit the scope of the ancillary variables used; after the block only the desired <code>@people</code> exists.</p>\n\n<p>The data is supplied using the <code>__DATA__</code> section, so that all data used here is readily seen.</p>\n\n<p>The test for existence, whereby the count of only dupes is kept, is not necessary. One can add points and increase the count for each person, and later divide all by their counts. Checking only dupes is a little more efficient and, more importantly, lends itself more readily to checking other kinds of properties.</p>\n"}], "owner": {"reputation": 63, "user_id": 6144910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67ae9a20fade4d3d3e6cf93fd93c535c?s=128&d=identicon&r=PG&f=1", "display_name": "GR2096", "link": "https://stackoverflow.com/users/6144910/gr2096"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 53586325, "answer_count": 1, "score": 2, "last_activity_date": 1544468856, "creation_date": 1543786294, "question_id": 53584816, "link": "https://stackoverflow.com/questions/53584816/how-to-remove-duplicates-from-struct-array-in-perl", "title": "How to remove duplicates from struct array in Perl?", "body": "<p>I have data in text file. It's only name and points. I need to remove duplicate names and count the average of points. I created a struct and read the file into struct array. Now how can I manipulate data in array? How can I take persons, who is in file more than one time, points and calculate average? Perl is new language for me and I don't know syntax well. My code:</p>\n\n<pre><code>use Class::Struct; \nuse warnings;\nuse strict;   \n\nstruct Person =&gt; {\n    name =&gt; '$',\n    points =&gt; '$'};\n\n\nmy $filename = 'data.txt';\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n    or die \"Could not open file\\n\";\n\nmy @resultArray;\nmy @name;\nmy @name2;\nmy @grade2;\nmy @grade;\nmy @nameArray;\nmy @gradeArray;\n\nmy $person = Person-&gt;new();\n\n\nwhile (my $row = &lt;$fh&gt;) {\n    chomp $row;\n    (@name, @grade) = split(\"\\t\", $row);\n    push(@nameArray, @name);\n    #($person-&gt;name, $person-&gt;points) = split(\"\\t\", $row);  \n    #push(@nameArray, @name);\n\n}\nforeach(@nameArray) {\nmy @seperated = split(' ', $_);\n$person-&gt;name($seperated[0]);\n$person-&gt;points($seperated[1]);\n}\n\nprint($person-&gt;points);\n</code></pre>\n"}, {"tags": ["regex", "perl", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1543792979, "post_id": 53584613, "comment_id": 94034606, "body": "Good, but the space after the first term (legitimate since it is actually introduced in your sample line), may confuse one when looking at the output.  Perhaps remove it altogether?"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543793377, "post_id": 53584613, "comment_id": 94034685, "body": "@zdim : thanks for checking ! Indeed that&#39;s confusing and doesn&#39;t match the OP. Edited my answer accordingly."}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 3, "last_activity_date": 1543793326, "last_edit_date": 1543793326, "creation_date": 1543784748, "answer_id": 53584613, "question_id": 53584538, "link": "https://stackoverflow.com/questions/53584538/distinguishing-and-substituting-decimals-in-perl/53584613#53584613", "title": "Distinguishing and substituting decimals in Perl", "body": "<p>This :</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $comma_file = \"Species_1:0,12, Species_2:0,23, Species_3:2,53\";\n$comma_file =~ s/(\\d+),(\\d+)/$1.$2/g;\nprint $comma_file, \"\\n\";\n</code></pre>\n\n<p>Yields :</p>\n\n<pre><code>Species_1:0.12, Species_2:0.23, Species_3:2.53\n</code></pre>\n\n<p>The regex searches for commas having at least one digit on both sides and replaces them with a dot.</p>\n\n<p>Your code doesn\u2019t work because you first check for commas surrounded by digits, and, if ok, you then replace ALL commas with dots</p>\n"}, {"comments": [{"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1543796134, "post_id": 53585811, "comment_id": 94035287, "body": "Nice solution, a bit more complicated to understand but sure faster"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1543796402, "post_id": 53585811, "comment_id": 94035336, "body": "@GMB Agreed, yours is far easier to recommend to someone unaccustomed to regex.  It is also probably easier to modify in general if requirements are refined/changed since it captures the whole thing. (For example, you can just prepend <code>:</code> in the first capture in the matching part, to further restrict what need be changed.)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1543796251, "last_edit_date": 1543796251, "creation_date": 1543795053, "answer_id": 53585811, "question_id": 53584538, "link": "https://stackoverflow.com/questions/53584538/distinguishing-and-substituting-decimals-in-perl/53585811#53585811", "title": "Distinguishing and substituting decimals in Perl", "body": "<p>From the shown data it appears that a comma to be replaced must always have a number on each side, and that every such occurrence  need be replaced. There is a fine <a href=\"https://stackoverflow.com/a/53584613/4653379\">answer by GMB</a>.</p>\n\n<p>Another way for this kind of a problem is to use <a href=\"https://perldoc.perl.org/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">lookarounds</a></p>\n\n<pre><code>$comma_file =~ s/(?&lt;=[0-9]),(?=[0-9])/./g;\n</code></pre>\n\n<p>which should be more efficient, as there is no copying into <code>$1</code> and <code>$2</code> and no quantifiers.</p>\n\n<p>My benchmark</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Benchmark qw(cmpthese);\n\nmy $str = q(Species_1:0,12, Species_2:0,23, Species_3:2,53);\n\nsub subs {\n    my ($str) = @_; \n    $str =~ s/(\\d+),(\\d+)/$1.$2/g;\n    return $str;\n}\n\nsub look {\n    my ($str) = @_; \n    $str =~ s/(?&lt;=\\d),(?=\\d)/./g;\n    return $str;\n}\n\ndie \"Output not equal\" if subs($str) ne look($str);\n\ncmpthese(-3, {\n    subs =&gt; sub { my $res = subs($str) },\n    look =&gt; sub { my $res = look($str) },\n});\n</code></pre>\n\n<p>with output</p>\n\n<pre>\n         Rate subs look\nsubs 256126/s   -- -46%\nlook 472677/s  85%   --\n</pre>\n\n<p>This is only one, particular, string but the efficiency advantage should only increase with the length of the string, while longer patterns (numbers here) should reduce that a little.</p>\n"}], "owner": {"reputation": 89, "user_id": 8826834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7TkaH.jpg?s=128&g=1", "display_name": "Aletia", "link": "https://stackoverflow.com/users/8826834/aletia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 53584613, "answer_count": 2, "score": 1, "last_activity_date": 1543832540, "creation_date": 1543784205, "last_edit_date": 1543832540, "question_id": 53584538, "link": "https://stackoverflow.com/questions/53584538/distinguishing-and-substituting-decimals-in-perl", "title": "Distinguishing and substituting decimals in Perl", "body": "<p>I want to substitute decimals from commas to fullstops in a file and I wanted to try to do this in perl. \nAn example of my dataset looks something like this:</p>\n\n<pre><code>Species_1:0,12, Species_2:0,23, Species_3:2,53\n</code></pre>\n\n<p>I want to substitute the decimals but not all commas such that:</p>\n\n<pre><code>Species_1:0.12, Species_2:0.23, Species_3:2.53\n</code></pre>\n\n<p>I was thinking it might work using the substitution function like such: </p>\n\n<pre><code>$comma_file= \"Species_1:0,12 , Species_2:0,23, Species_3:2,53\"\n\n    $comma = \"(:\\d+/,\\d)\";\n#match a colon, any digits after the colon, the wanted comma and digits preceding it\n       if ($comma_file =~ m/$comma/g) {\n           $comma_file =~ tr/,/./;\n        }\nprint \"$comma_file\\n\"; \n</code></pre>\n\n<p>However, when I tried this, what happened was that all my commas changed into fullstops, not just the ones I was targetting. Is it an issue with the regex or am I just not doing the match substitution correctly?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1543767726, "creation_date": 1543767726, "answer_id": 53582209, "question_id": 53582147, "link": "https://stackoverflow.com/questions/53582147/combining-regex-in-order-to-get-version-of-path/53582209#53582209", "title": "Combining regex in order to get version of path", "body": "<p>If the version number always comes after <code>/python/</code>, you can just do:</p>\n\n<pre><code>if ($path =~ m{^/bin/.*/python/([^/]+)}) {\n    $version = $1;\n}\n</code></pre>\n\n<p>This will grab the path segment (a series of non-/ characters) after <code>/python/</code>.</p>\n\n<p>You can be a bit more fancy and try to validate that the version consists of dotted numbers:</p>\n\n<pre><code>if ($path =~ m{^ /bin/ .* /python/ ( [0-9]+ (?: \\. [0-9]+ )* ) / }x) {\n    $version = $1;\n}\n</code></pre>\n\n<p>(This is the point where things get messy enough to break out the <code>x</code> flag to allow whitespace in the regex.)</p>\n"}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543767726, "creation_date": 1543767312, "question_id": 53582147, "link": "https://stackoverflow.com/questions/53582147/combining-regex-in-order-to-get-version-of-path", "title": "Combining regex in order to get version of path", "body": "<p>I would like to implement a Perl regex which checks if the path is in the right format and if so it takes the version. It will be easier to explain with an example. Consider the following path:</p>\n\n<pre><code>/bin/src/python/2.7.5/lib/re.py\n</code></pre>\n\n<p>I would like to check if this path is starting with <code>/bin</code> and has <code>python</code> in it. So I use <code>^/bin/.*/python/</code>. But I would like to also get the version <code>2.7.5</code> by somehow inserting it into <code>$1</code>.</p>\n\n<p>It should be something as following:</p>\n\n<pre><code>if ($path =~ \"^/bin/.*/python/\") {\n    $version = $1;\n}\n</code></pre>\n"}, {"tags": ["ruby", "macos", "perl", "heroku", "terminal"], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1543862379, "post_id": 53582217, "comment_id": 94062094, "body": "Both <code>cpan</code> and <code>cpanm</code> (at least up to date versions of them) will install to the local::lib by default if executed without write access to the Perl&#39;s sitelib, this can be used to install local::lib itself. Additionally <code>cpanm -l ~&#47;perl5 local::lib</code> will do this regardless of permissions, and a standalone <code>cpanm</code> script can be downloaded from <a href=\"https://cpanmin.us\" rel=\"nofollow noreferrer\">cpanmin.us</a>."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543865592, "post_id": 53582217, "comment_id": 94063634, "body": "I don&#39;t think I added that feature to <code>cpan</code>, but maybe it&#39;s there. It can certainly use it once it&#39;s installed."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 3, "last_activity_date": 1543768062, "last_edit_date": 1543768062, "creation_date": 1543767755, "answer_id": 53582217, "question_id": 53581452, "link": "https://stackoverflow.com/questions/53581452/heroku-autocomplete-causing-cant-locate-local-lib-pm-error/53582217#53582217", "title": "Heroku Autocomplete causing \u201cCan&#39;t locate local/lib.pm\u201d Error", "body": "<p>It looks like it's trying to use the <a href=\"https://metacpan.org/pod/local::lib\" rel=\"nofollow noreferrer\">local::lib</a> Perl module. That creates a Perl library directory in your local directory so you don't have to install modules as root.</p>\n\n<p>I don't know why that tool didn't do that for you (and you should tell those maintainers about that). You can install it yourself though:</p>\n\n<ul>\n<li><a href=\"https://cpan.metacpan.org/authors/id/H/HA/HAARG/local-lib-2.000024.tar.gz\" rel=\"nofollow noreferrer\">Download the latest local::lib</a></li>\n<li>Untar the file and change into that directory</li>\n<li>run <code>perl Makefile.PL --bootstrap &amp;&amp; make install</code></li>\n</ul>\n\n<p>I wish this was a bit easier so you could just use a quick <code>cpan</code> command to do it. There's also quite a bit <a href=\"https://stackoverflow.com/search?q=local%3A%3Alib+%5Bperl%5D\">about local::lib on StackOverflow</a>.</p>\n\n<p>Other advice has been to remove an offending line from <em>.bash_profile</em>, but something else in the tool might expect whatever that sets up.</p>\n"}], "owner": {"reputation": 454, "user_id": 7350753, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TqdKq.png?s=128&g=1", "display_name": "Franklin Antony", "link": "https://stackoverflow.com/users/7350753/franklin-antony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543857982, "creation_date": 1543762833, "last_edit_date": 1592644375, "question_id": 53581452, "link": "https://stackoverflow.com/questions/53581452/heroku-autocomplete-causing-cant-locate-local-lib-pm-error", "title": "Heroku Autocomplete causing \u201cCan&#39;t locate local/lib.pm\u201d Error", "body": "<p>I tried <code>brew update</code> and after the <strong>Heroku autocomplete</strong> installation I started getting the following error. How can I solve this issue?</p>\n<blockquote>\n<p>Can't locate local/lib.pm in @INC (you may need to install the\nlocal::lib module) (@INC contains: /Users/franklin/perl5/lib/perl5\n/usr/local/Cellar/perl/5.28.0/lib/perl5/site_perl/5.28.0/darwin-thread-multi-2level\n/usr/local/Cellar/perl/5.28.0/lib/perl5/site_perl/5.28.0\n/usr/local/Cellar/perl/5.28.0/lib/perl5/5.28.0/darwin-thread-multi-2level\n/usr/local/Cellar/perl/5.28.0/lib/perl5/5.28.0\n/usr/local/lib/perl5/site_perl/5.28.0/darwin-thread-multi-2level\n/usr/local/lib/perl5/site_perl/5.28.0).</p>\n<p>BEGIN failed--compilation aborted.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/5lSvO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5lSvO.png\" alt=\"\u201cCan't locate local/lib.pm\u201d Error\" /></a></p>\n"}, {"tags": ["perl", "testing", "xs", "editline"], "comments": [{"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 2, "creation_date": 1543753958, "post_id": 53578985, "comment_id": 94023920, "body": "I think this <i>might</i> be possible by actually reopening STDIN to the DATA file handle (<code>open(STDIN, &#39;&lt;&amp;&#39;, \\*DATA)</code>) but I can&#39;t test r/n. That should have effects on the POSIX level, not just on the PerlIO level. This might still fail if the Term::EditLine module has more complex interactions with the terminal than just reading from STDIN. In that case, testing your software as a separate process with something like Expect could be the easiest approach."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1543766286, "post_id": 53578985, "comment_id": 94027295, "body": "Try adding the <code>DATA</code> handle as input handle to the constructor: <code>my $el = Term::EditLine-&gt;new(&#39;progname&#39;, \\*DATA, \\*STDOUT, \\*STDERR)</code>"}], "owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1543742926, "creation_date": 1543742926, "question_id": 53578985, "link": "https://stackoverflow.com/questions/53578985/faking-standard-input-for-an-xs-function", "title": "Faking standard input for an XS function", "body": "<p>I'm trying to test a function that reads from standard input by redirecting the standard input to read from a file, more or less as <a href=\"https://stackoverflow.com/questions/17432518/perl-testing-an-input-reader\">advised here</a></p>\n\n<p>Here's the script:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Term::EditLine qw(CC_EOF);\n\nuse v5.14;\n\nmy $el = Term::EditLine-&gt;new('progname');\n$el-&gt;set_prompt ('# ');\n\n$el-&gt;add_fun ('bye','desc',sub { say \"\\nbye\"; return CC_EOF; });\n$el-&gt;parse('bind','-e');\n$el-&gt;parse('bind','exit','bye');\n\n*STDIN = *DATA;\n\nwhile (defined($_ = $el-&gt;gets())) {\n  say $_;\n}\n\n__DATA__;\ngoo\ngar\nexit\n</code></pre>\n\n<p>It's using <a href=\"https://metacpan.org/pod/Term::EditLine\" rel=\"nofollow noreferrer\"><code>Term::Editline</code></a> which you would have to install first. In this case, instead of reading from the (faked) standard input, it drops me into the prompt. The input is designed so that the last one of them, <code>exit</code>, would signal exiting (as indicated in the command above). However, it simply does not take its input from the redirected handle. It might be the case that <code>gets</code> is actually a function defined in an XS, but it might be something completely different. Any help will be appreciated.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1543759750, "creation_date": 1543759750, "answer_id": 53581042, "question_id": 53571190, "link": "https://stackoverflow.com/questions/53571190/convert-files-from-numerically-sorted-to-alphabetically-sorted/53581042#53581042", "title": "Convert files from numerically sorted to alphabetically sorted", "body": "<p>Here is an approach to get the files numerically sorted into an array <code>@sorted_files</code>:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy @files = qw[ file(1).jpg file(2).jpg file(10).jpg];\nmy @sorted_files = map { $_-&gt;[1] } sort { $a-&gt;[0] &lt;=&gt; $b-&gt;[0] } map {\n    my ($search_key) = $_ =~ /\\((.*)\\).jpg/;\n    [$search_key, $_]\n} @files;\n\nsay for @sorted_files;\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>file(1).jpg\nfile(2).jpg\nfile(10).jpg\n</code></pre>\n\n<p>Now you can apply your routine to convert them further.</p>\n"}], "owner": {"reputation": 976, "user_id": 1461635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/soQst.png?s=128&g=1", "display_name": "Nimrod Shai", "link": "https://stackoverflow.com/users/1461635/nimrod-shai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1543759750, "creation_date": 1543670474, "last_edit_date": 1543754987, "question_id": 53571190, "link": "https://stackoverflow.com/questions/53571190/convert-files-from-numerically-sorted-to-alphabetically-sorted", "title": "Convert files from numerically sorted to alphabetically sorted", "body": "<p>I've got files sorted like the following, but they are not sorted by date.</p>\n\n<pre><code>1(1).jpg \n1(2).jpg \n1(3).jpg \n1(4).jpg \n. \n. \n.\n</code></pre>\n\n<p>I want to sort them to be </p>\n\n<p>After i'm doing the following:</p>\n\n<pre><code>perl -e '$prefix=\"aaaa\";map{rename \"$_\",$prefix++.\".$1\" if /.*\\.(.*)/} &lt;*&gt;'\n</code></pre>\n\n<p>I get the following:</p>\n\n<pre><code>file 1 (1).jpg -&gt; aaaa.jpg\nfile 1 (10).jpg -&gt; aaab.jpg\nfile 1 (100).jpg -&gt; aaac.jpg\nfile 1 (101).jpg -&gt; aaad.jpg\n</code></pre>\n\n<p>I want it to be like:</p>\n\n<pre><code>1(1).jpg -&gt; aaaa.jpg\n1(2).jpg -&gt; aaab.jpg\n1(3).jpg -&gt; aaac.jpg\n1(4).jpg -&gt; aaad.jpg\n</code></pre>\n\n<p>I guess this is because it considers the numeric sorting and not the alphabetical sorting.</p>\n\n<p>Can anyone help me with that?</p>\n"}, {"tags": ["powershell", "perl", "web-services", "soap"], "comments": [{"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543624197, "post_id": 53566677, "comment_id": 93999074, "body": "Here is the source of the above PS script  <a href=\"https://communities.bmc.com/thread/92279\" rel=\"nofollow noreferrer\">communities.bmc.com/thread/92279</a>  but i want to modify and enhance this script for my own use.  so i want to understand which functions to use. and how? in perl &#39; SOAP::lite module is the best one use &#39;  is what is got from research."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543626985, "post_id": 53566677, "comment_id": 93999532, "body": "I don&#39;t know what research you got that from, but <a href=\"https://metacpan.org/pod/XML::Compile::SOAP\" rel=\"nofollow noreferrer\">XML::Compile::SOAP</a> is vastly recommended over the horrible SOAP::Lite, and much better supported by the author."}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543627113, "post_id": 53566677, "comment_id": 93999556, "body": "@Grinnz Thanks a lot., But I want to know the equivalent function of  -----[xml]$ret = Invoke-WebRequest $url -Method post -ContentType &#39;text/xml&#39; -Body $soap -Headers $headers--------- this in perl, I will  go through the module you mentioned \ud83d\udc4d"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543726394, "post_id": 53571188, "comment_id": 94018980, "body": "Let me try to write the above code in perl and try to execute. And seek ur help if I still don&#39;t get it.. again thanks for the help.!!"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543753742, "post_id": 53571188, "comment_id": 94023873, "body": "Hi @GMB, i have the wsdl url : <a href=\"http://hostname:9080/imws/services/ImpactManager?wsdl\" rel=\"nofollow noreferrer\">hostname:9080/imws/services/ImpactManager?wsdl</a> if i enter this in the browser i am able to see the tree structure of definitions in xml format., but now how do i download this as file ? how do i know if there is dependency on xsd files ? how to download them too?"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543754310, "post_id": 53571188, "comment_id": 94024000, "body": "<a href=\"https://metacpan.org/pod/XML::Compile::WSDL11\" rel=\"nofollow noreferrer\">metacpan.org/pod/XML::Compile::WSDL11</a>  i found the functions you mentioned here"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543756362, "post_id": 53571188, "comment_id": 94024542, "body": "@kaushikkm : just copy the content you see in the browser and paste it in a local file. For XSD you have to look at the content and search for &#171; xsd &#187; tags pointing at external resources"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543759924, "post_id": 53571188, "comment_id": 94025454, "body": "okey i can copy and past it into a file.what extention should i save it with  ?"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543760027, "post_id": 53571188, "comment_id": 94025476, "body": "i can also see the xsd source which it is pointing to. so i should copy paste the content of those 4 xsd into 4 different files and load it with 4 different commands like <code>$wsdl-&gt;importDefinitions($xsd_file);</code> ? what should be the extention of xsd files ?"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543760225, "post_id": 53571188, "comment_id": 94025505, "body": "Yes that\u2019s what you need to do. Extension does not matter, but usually &#171; .xsd &#187; is the standard"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543762170, "post_id": 53571188, "comment_id": 94026075, "body": "<code>$wsdl-&gt;compileCalls( address =&gt; $self-&gt;url);</code> $wsdl - is an object we created; compileCalls is a method; address is a key word ? $self-&gt;url - indicate what ? in this url should be replaced with my wsdl url ? $self is a variable ?  i am a complete beginner to use modules in perl and unable to find the same syntax you mentioned in the doc.. so all these questions .. please bare with me.. Thanks for your patience!"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543762636, "post_id": 53571188, "comment_id": 94026195, "body": "Sorry ! That\u2019s just a string that contains the URL of the remote service, I updated my answer"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543763136, "post_id": 53571188, "comment_id": 94026353, "body": "so in my case: <code>$url=http:&#47;&#47;hostname:9080&#47;imws&#47;services&#47;ImpactManager?wsdl;</code> <code>$wsdl-&gt;compileCalls( address =&gt; $url);</code> should work! am i ryt ? this is the url which gives me all definitions when i put it in the browser."}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543764902, "post_id": 53571188, "comment_id": 94026903, "body": "You want to remove the &#171; ?wsdl &#187; at the end of the url. Basically this should be the same URL that you are using in your original script"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543768468, "post_id": 53571188, "comment_id": 94027945, "body": "Ok I will modify the URL and try to execute.. actually it was throwing an error(might be because I had removed &quot;wsdl&quot;). Will update u Tomo same time around. Please stay tuned!"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543768610, "post_id": 53571188, "comment_id": 94027984, "body": "Also I&#39;m using dwim perl. I think I need to download the modules. The error was something related to module, something like &quot;unable to locate /perl/lib/compile&quot;. I will clearly update the error too.. by tomo. Again lots of thanks!!"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543853495, "post_id": 53571188, "comment_id": 94057732, "body": "i changed the URL to original format and tried to execute: looks like i need to download the module ? Please help on this:  <b>Can&#39;t locate XML/Compile/SOAP.pm in @INC (@INC contains: E:/myfolder/Dwimperl /perl/site/lib E:/myfolder/Dwimperl/perl/vendor/lib E:/myfolder/Dwimperl/p erl/lib .) at scom2ts_dev.pl line 4. BEGIN failed--compilation aborted at scom2ts_dev.pl line 4. Press any key to continue . . .</b>  I am getting this error -"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1543862740, "post_id": 53571188, "comment_id": 94062268, "body": "Well, yes you need to install all these modules. Basically every module that you <code>use</code> must be installed on your system. Suggest you to first install <code>App::Cpanminus</code>, then you can run commands <code>cpanm XML::Compile::SOAP11</code> and <code>cpanm XML::Compile::WSDL11</code>"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1544048227, "post_id": 53571188, "comment_id": 94142648, "body": "Hi @GMB, As per the below link [<a href=\"https://perlmaven.com/how-to-install-a-perl-module-from-cpan]\" rel=\"nofollow noreferrer\">perlmaven.com/how-to-install-a-perl-module-from-cpan]</a> as client is already configured in dwimperl version for windows, i tried to run <code>cpan XML::Compile::SOAP11</code> but i was unable to install the module. i tried to download the module from the link [<a href=\"https://metacpan.org/pod/XML::Compile::SOAP]\" rel=\"nofollow noreferrer\">metacpan.org/pod/XML::Compile::SOAP]</a> and copy pasted the contents under /lib to the E:\\myfolder\\Dwimperl\\perl\\vendor\\lib. but still im getting the error :"}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1544048362, "post_id": 53571188, "comment_id": 94142694, "body": "Can&#39;t locate Log/Report.pm in @INC (@INC contains: E:/myfolder/Dwimperl/perl/ site/lib E:/myfolder/Dwimperl/perl/vendor/lib E:/myfolder/Dwimperl/perl/li b .) at E:/myfolder/Dwimperl/perl/vendor/lib/XML/Compile/SOAP.pm line 17. BEGIN failed--compilation aborted at E:/myfolder/Dwimperl/perl/vendor/lib/XML /Compile/SOAP.pm line 17. Compilation failed in require at (eval 2) line 2. propagated at E:/myfolder/Dwimperl/perl/lib/base.pm line 94. BEGIN failed--compilation aborted at E:/myfolder/Dwimperl/perl/vendor/lib/XML /Compile/SOAP11.pm line 13."}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1544048374, "post_id": 53571188, "comment_id": 94142697, "body": "Compilation failed in require at scom2ts_dev.pl line 4. BEGIN failed--compilation aborted at scom2ts_dev.pl line 4. Press any key to continue . . ."}, {"owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "edited": false, "score": 0, "creation_date": 1557679127, "post_id": 53571188, "comment_id": 98837269, "body": "Hi @GMB  can you please check this post ? i was able to follow above and now facing issue in parsing the response.  <a href=\"https://stackoverflow.com/questions/56099644/how-to-parse-the-output-of-soap-response-which-is-in-hash-format-of-data-see-be/56100215#56100215\" title=\"how to parse the output of soap response which is in hash format of data see be\">stackoverflow.com/questions/56099644/&hellip;</a>"}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 2, "last_activity_date": 1543762559, "last_edit_date": 1543762559, "creation_date": 1543670437, "answer_id": 53571188, "question_id": 53566677, "link": "https://stackoverflow.com/questions/53566677/soap-client-using-perl-wsdl-url-is-available/53571188#53571188", "title": "SOAP client using perl - WSDL URL is available", "body": "<p>As commented by @Grinnz : please don\u2019t use SOAP::Lite, it\u2019s ugly. The de facto standard to run SOAP operations over HTTP in Perl is <a href=\"https://metacpan.org/pod/XML::Compile::SOAP\" rel=\"nofollow noreferrer\">XML::Compile::SOAP</a>, which is quite complete, well maintained and thoroughly documented. However it can be a little complicated to get your head around it, due to the inherent complexity of the SOAP protocol. The following explanation should get you started.</p>\n\n<p>Before all you have to load the modules :</p>\n\n<pre><code>use XML::Compile::SOAP11;\nuse XML::Compile::WSDL11;\n</code></pre>\n\n<p>Then the first step is to create a WSDL object and load the WSDL file :</p>\n\n<pre><code>my $wsdl = XML::Compile::WSDL11-&gt;new;\n$wsdl-&gt;addWSDL($wsdl_file);\n</code></pre>\n\n<p>If your WSDL file depends on some XSD files, then you have to load them first, before the WSDL, by calling :</p>\n\n<pre><code>$wsdl-&gt;importDefinitions($xsd_file);\n</code></pre>\n\n<p>Please note that for security reasons, XML::Compile will never try to load online resources ; you have to download them manually and then load them from disk.</p>\n\n<p>The second step is to compile the object. This will actually create persistent code references in the object, that you can invoke repeatedly afterwards to perform operations. You pass the url of the target service as an argument to the compiler. For example, the following call compiles all available operations :</p>\n\n<pre><code>$wsdl-&gt;compileCalls( address =&gt; $url);\n</code></pre>\n\n<p>At compile time, you also have the possibility of passing your own HTTP transport object instead of relying on XML::Compile defaults. This is useful when you want fine-grained control on the transport layer (like setting a HTTP proxy, ...). For example with LWP::UserAgent :</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new( show_progress =&gt; 1 );\n$wsdl-&gt;compileCalls( address =&gt; $self-&gt;url, user_agent =&gt; $ua );\n</code></pre>\n\n<p>Now you are ready to invoke the webservice. You pass the name of the operation and a data structure, as follows :</p>\n\n<pre><code>my ( $answer, $trace ) = $wsdl-&gt;call( $ope, $data );\n</code></pre>\n\n<p>If anything goes wrong, the call dies. On success, it returns a Perl data structure that represents the parsed response. That\u2019s it !</p>\n\n<p>XML::Compile provides a lot of useful introspection and debugging methods. For example, after compilation, you can print the list all available operations with :</p>\n\n<pre><code>$wsdl-&gt;printIndex;\n</code></pre>\n\n<p>To display the details of the input data structure of a given operation : </p>\n\n<pre><code>$wsdl-&gt;explain( $ope, PERL =&gt; \"INPUT\", recurse =&gt; 1 );\n</code></pre>\n\n<p>After an operation was executed, the trace object can be used to obtain many internal details about how things happened, for example :</p>\n\n<pre><code>$trace-&gt;printRequest;\n$trace-&gt;printResponse;\n$trace-&gt;printTimings;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 9243414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oWNf7OUNlXQ/AAAAAAAAAAI/AAAAAAAAA2Q/kEUZBmttwTE/photo.jpg?sz=128", "display_name": "kaushik km", "link": "https://stackoverflow.com/users/9243414/kaushik-km"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "accepted_answer_id": 53571188, "answer_count": 1, "score": 2, "last_activity_date": 1543762559, "creation_date": 1543624091, "last_edit_date": 1543624926, "question_id": 53566677, "link": "https://stackoverflow.com/questions/53566677/soap-client-using-perl-wsdl-url-is-available", "title": "SOAP client using perl - WSDL URL is available", "body": "<p>I have a powershell script which will make a soap call, and perform the following operations:\n1.Connects to the server hosting the WSDL (called cell in application terminology)\n2.Creates an event(alert) in it.\n3.Disconnects from the server hosting the WSDL(called cell in application terminology)\nI want to create perl version of this script.. which does the same exact operations,Please help me with functions and examples. or if possible by rewriting the below script in perl.\nThank you so much in advance:</p>\n\n<p>the PS script is as below:</p>\n\n<p>===============================================================================</p>\n\n<pre><code>$severity = \"MAJOR\"\n\n$msg = \"Test event from Powershell\"\n$cellname = \"mycell\"\n\n$url = \"http://iiwshostname:9080/imws/services/ImpactManager/\"\n$headers = @{ \"SOAPAction\" = \"Connect\"}\n$soap = [xml]@\"\n&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:imap=\"http://blueprint.bmc.com/ImapiElems\"&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;imap:Connect&gt;\n         &lt;imap:userName&gt;admin&lt;/imap:userName&gt;\n         &lt;imap:password&gt;admin&lt;/imap:password&gt;\n         &lt;imap:imname&gt;$cellname&lt;/imap:imname&gt;\n         &lt;imap:bufferType&gt;BMCII_BUFFER_MODE_DEFAULT&lt;/imap:bufferType&gt;\n      &lt;/imap:Connect&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n\"@\n[xml]$ret = Invoke-WebRequest $url -Method post -ContentType 'text/xml' -Body $soap -Headers $headers\n$connectionId = $ret.GetElementsByTagName(\"imap:connectionId\").'#text'\n\n$headers = @{ \"SOAPAction\" = \"SendEvent\"}\n$soap = [xml]@\"\n&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:imap=\"http://blueprint.bmc.com/ImapiElems\" xmlns:bas=\"http://blueprint.bmc.com/BasicTypes\" xmlns:even=\"http://blueprint.bmc.com/Event\"&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;imap:SendEvent&gt;\n         &lt;imap:connection&gt;$connectionId&lt;/imap:connection&gt;\n         &lt;imap:message&gt;    \n            &lt;bas:NameValue_element&gt;    \n               &lt;bas:name&gt;msg&lt;/bas:name&gt;    \n               &lt;bas:value&gt;    \n                  &lt;bas:string_value&gt;$msg&lt;/bas:string_value&gt;    \n               &lt;/bas:value&gt;    \n               &lt;bas:value_type&gt;STRING&lt;/bas:value_type&gt;    \n            &lt;/bas:NameValue_element&gt;    \n            &lt;bas:NameValue_element&gt;    \n               &lt;bas:name&gt;severity&lt;/bas:name&gt;    \n               &lt;bas:value&gt;    \n                  &lt;bas:string_alue&gt;$severity&lt;/bas:string_value&gt;    \n               &lt;/bas:value&gt;   \n               &lt;bas:value_type&gt;STRING&lt;/bas:value_type&gt;    \n            &lt;/bas:NameValue_element&gt;              \n            &lt;even:subject&gt;&lt;/even:subject&gt;    \n         &lt;/imap:message&gt;    \n         &lt;imap:timeout&gt;60&lt;/imap:timeout&gt;    \n         &lt;imap:messageClass&gt;EVENT&lt;/imap:messageClass&gt;    \n         &lt;imap:messageType&gt;MSG_TYPE_NEW_EVENT&lt;/imap:messageType&gt;    \n      &lt;/imap:SendEvent&gt;    \n   &lt;/soapenv:Body&gt;    \n&lt;/soapenv:Envelope&gt;    \n\"@    \n[xml]$ret = Invoke-WebRequest $url -Method post -ContentType 'text/xml' -Body $soap -Headers $headers    \n\n$mc_ueid = $ret.GetElementsByTagName(\"imap:response\").'#text'    \n\n$headers = @{ \"SOAPAction\" = \"Disconnect\"}    \n$soap = [xml]@\"    \n&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soapenvelope/\" xmlns:imap=\"http://blueprint.bmc.com/ImapiElems\"&gt;\n       &lt;soapenv:Header/&gt;\n       &lt;soapenv:Body&gt;\n          &lt;imap:Disconnect&gt;\n             &lt;imap:connection&gt;$connectionId&lt;/imap:connection&gt;\n             &lt;imap:deleteBuffer&gt;No&lt;/imap:deleteBuffer&gt;    \n      &lt;/imap:Disconnect&gt;    \n   &lt;/soapenv:Body&gt;    \n&lt;/soapenv:Envelope&gt;    \n\"@    \n$ret = Invoke-WebRequest $url -Method post -ContentType 'text/xml' -Body $soap -Headers $headers    \n\nwrite-host $mc_ueid\n</code></pre>\n\n<p>===============================================================================</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "edited": false, "score": 0, "creation_date": 1543610369, "post_id": 53564268, "comment_id": 93995028, "body": "How do you proceed to insert into the database table ? Please share a code snippet so we can analyse and suggest"}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 0, "last_activity_date": 1543614305, "creation_date": 1543614305, "answer_id": 53565323, "question_id": 53564268, "link": "https://stackoverflow.com/questions/53564268/how-to-get-the-record-number-returned-for-a-mysql-insert-command-in-perl/53565323#53565323", "title": "How to get the record number returned for a MySQL insert command in Perl", "body": "<p>If there are no indexes, there is no record number.  Well, there will be a hidden primary key, but no access to it.</p>\n\n<p>Normally you would have an explicit primary key, and if it is set to auto increment, it will be available via the statement handle.  See <a href=\"https://stackoverflow.com/questions/1906896/how-can-i-fetch-the-last-row-i-inserted-using-dbi\">How can I fetch the last row I inserted using DBI?</a></p>\n"}], "owner": {"reputation": 601, "user_id": 1419500, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/e1e29dcd06504cfdf8a0e2427a8cff73?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/1419500/daniel-kaplan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1543616407, "accepted_answer_id": 53565323, "answer_count": 1, "score": -3, "last_activity_date": 1543614305, "creation_date": 1543608697, "question_id": 53564268, "link": "https://stackoverflow.com/questions/53564268/how-to-get-the-record-number-returned-for-a-mysql-insert-command-in-perl", "closed_reason": "Needs more focus", "title": "How to get the record number returned for a MySQL insert command in Perl", "body": "<p>I am inserting into a MySQL table from Perl.  But sometimes I would like to get the record number for that insert to use later.</p>\n\n<p>Is there a way to get that return from MySQL?</p>\n\n<p>p.s. This table has zero indexes.  </p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "lwp", "cpanm"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1543607928, "post_id": 53563834, "comment_id": 93993973, "body": "Have you seen <a href=\"https://stackoverflow.com/questions/29636778/perl-windows-cpanm-proxy-issue\" title=\"perl windows cpanm proxy issue\">stackoverflow.com/questions/29636778/&hellip;</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 3161801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a09024467b62b1eaa2f97ae57e2364?s=128&d=identicon&r=PG&f=1", "display_name": "ffejrekaburb", "link": "https://stackoverflow.com/users/3161801/ffejrekaburb"}, "edited": false, "score": 0, "creation_date": 1543615350, "post_id": 53564701, "comment_id": 93996846, "body": "Thanks, I have those set in one configuration that appears to be working but getting the wires crossed with cpan/cpanm. The references seem to have different combinations for capitalizations making this challenging. It&#39;d be nice to have an authoritative answer (which is why I referenced the source code) as to what environment variables CPAN and/or CPANM interface with."}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 518, "user_id": 3161801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a09024467b62b1eaa2f97ae57e2364?s=128&d=identicon&r=PG&f=1", "display_name": "ffejrekaburb", "link": "https://stackoverflow.com/users/3161801/ffejrekaburb"}, "edited": false, "score": 1, "creation_date": 1543633287, "post_id": 53564701, "comment_id": 94000374, "body": "@ffejrekaburb : I added more context to the answer. I noticed that you are mixing lower/upper cases in env vars, you probably should avoid that"}, {"owner": {"reputation": 518, "user_id": 3161801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a09024467b62b1eaa2f97ae57e2364?s=128&d=identicon&r=PG&f=1", "display_name": "ffejrekaburb", "link": "https://stackoverflow.com/users/3161801/ffejrekaburb"}, "edited": false, "score": 0, "creation_date": 1543866963, "post_id": 53564701, "comment_id": 94064334, "body": "Thank you, this is getting clearer. The ambiguity seems to be http_proxy for curl <a href=\"https://curl.haxx.se/libcurl/c/libcurl-env.html\" rel=\"nofollow noreferrer\">curl.haxx.se/libcurl/c/libcurl-env.html</a> must be lowercase but accepts HTTPS_PROXY. As we transition to HTTPS it looks like things should simplify as we will only need HTTPS_PROXY. I&#39;m thinking some cpan installation programs may use curl?"}, {"owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "reply_to_user": {"reputation": 518, "user_id": 3161801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a09024467b62b1eaa2f97ae57e2364?s=128&d=identicon&r=PG&f=1", "display_name": "ffejrekaburb", "link": "https://stackoverflow.com/users/3161801/ffejrekaburb"}, "edited": false, "score": 0, "creation_date": 1543867963, "post_id": 53564701, "comment_id": 94064769, "body": "@ffejrekaburb yes I think CPAN uses curl as an alternative to LWP. HTTPS_PROXY should hence be the common setting that all CPAN clients do support. Let me update my answer with this information."}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": true, "score": 2, "last_activity_date": 1543868675, "last_edit_date": 1543868675, "creation_date": 1543610907, "answer_id": 53564701, "question_id": 53563834, "link": "https://stackoverflow.com/questions/53563834/how-can-cpanm-retrieve-settings-for-a-proxy-that-requires-username-and-password/53564701#53564701", "title": "How can cpanm retrieve settings for a proxy that requires username and password", "body": "<p>As far as I can see, cpanm (actually <a href=\"https://metacpan.org/pod/App::Cpanminus\" rel=\"nofollow noreferrer\">App::Cpanminus</a> relies on HTTP::Tiny to run HTTP requests.</p>\n\n<p>From <a href=\"https://metacpan.org/pod/HTTP::Tiny#PROXY-SUPPORT\" rel=\"nofollow noreferrer\">the docs of HTTP::Tiny</a> :</p>\n\n<blockquote>\n  <p>HTTP::Tiny can proxy both http and https requests. Only Basic proxy authorization is supported and it must be provided as part of the proxy URL: <a href=\"http://user:pass@proxy.example.com/\" rel=\"nofollow noreferrer\">http://user:pass@proxy.example.com/</a>.</p>\n  \n  <p>HTTP::Tiny supports the following proxy environment variables: http_proxy or HTTP_PROXY, https_proxy or HTTPS_PROXY, all_proxy or ALL_PROXY</p>\n</blockquote>\n\n<p>Hence you should try and specify the proxy username and password as part of the url, like :</p>\n\n<pre><code>$ export HTTP_PROXY=http://&lt;user&gt;:&lt;password&gt;@&lt;url&gt;:&lt;port&gt;\n$ export HTTPS_PROXY=http://&lt;user&gt;:&lt;password&gt;@&lt;url&gt;:&lt;port&gt;\n</code></pre>\n\n<p>Also, as per documentation, the HTTP_PROXY setting is accepted by LWP::UserAgent (the primary HTTP client used by the cpan command line utility), while HTTPS_PROXY is supported by curl (fallback of cpan when LWP fails). See <a href=\"https://metacpan.org/pod/LWP::UserAgent#PROXY-ATTRIBUTES\" rel=\"nofollow noreferrer\">the LWP::UserAgent docs</a> and <a href=\"https://curl.haxx.se/libcurl/c/libcurl-env.html\" rel=\"nofollow noreferrer\">the curl docs</a>.</p>\n\n<p>Hence HTTP_PROXY/HTTPS_PROXY should be the common environment variables that are supported by all CPAN clients.</p>\n"}], "owner": {"reputation": 518, "user_id": 3161801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a09024467b62b1eaa2f97ae57e2364?s=128&d=identicon&r=PG&f=1", "display_name": "ffejrekaburb", "link": "https://stackoverflow.com/users/3161801/ffejrekaburb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 939, "favorite_count": 0, "accepted_answer_id": 53564701, "answer_count": 1, "score": 2, "last_activity_date": 1544128622, "creation_date": 1543606620, "last_edit_date": 1544128622, "question_id": 53563834, "link": "https://stackoverflow.com/questions/53563834/how-can-cpanm-retrieve-settings-for-a-proxy-that-requires-username-and-password", "title": "How can cpanm retrieve settings for a proxy that requires username and password", "body": "<p>I'm working with CPANM to interact with a proxy that requires username and password. I specified the settings when running \"o conf init /proxy/ under cpan\". My perception is the variables used in a unix environment for specifying proxies are not standard throughout the environment.  Other unix utilities are working correctly through the proxy after setting environment variables to the correct values.</p>\n\n<p>My questions are the following:</p>\n\n<ol>\n<li><p>How does CPANM interfaces with any environment variables? What would they be?</p></li>\n<li><p>Is there a relevant area of the code we can look to help remove ambiguity, I'm thinking there is an LWP interface inside of CPANM?\n<a href=\"https://github.com/miyagawa/cpanminus/blob/devel/App-cpanminus/cpanm\" rel=\"nofollow noreferrer\">https://github.com/miyagawa/cpanminus/blob/devel/App-cpanminus/cpanm</a></p></li>\n</ol>\n\n<pre class=\"lang-none prettyprint-override\"><code>####:/mnt/c/Projects$ sudo cpanm install Catalyst::Helper -v\ncpanm (App::cpanminus) 1.7040 on perl 5.022001 built for x86_64-linux-gnu-thread-multi\nWork directory is /home/####/.cpanm/work/1543605706.124\nYou have make /usr/bin/make\nYou have LWP 6.36\nYou have /bin/tar: tar (GNU tar) 1.28\nCopyright (C) 2014 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nWritten by John Gilmore and Jay Fenlason.\nSearching install () on cpanmetadb ...\n\n########:/mnt/c/Projects$ env | grep HTTP_proxy\nHTTP_proxy=http://####:###\n</code></pre>\n"}, {"tags": ["perl", "documentation"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1543601033, "post_id": 53562617, "comment_id": 93991000, "body": "What about <code>=head2 I&lt;foo&gt;</code>?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543601809, "post_id": 53562617, "comment_id": 93991306, "body": "Note that your second example doesn&#39;t work because POD is a paragraph-based format. Newlines are collapsed, double-newlines separate paragraphs and directives."}], "answers": [{"comments": [{"owner": {"reputation": 1266, "user_id": 1303577, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e96b0196e8e968b1a2d8f6ddfda87ab1?s=128&d=identicon&r=PG", "display_name": "Rusty Lemur", "link": "https://stackoverflow.com/users/1303577/rusty-lemur"}, "edited": false, "score": 0, "creation_date": 1543601324, "post_id": 53562663, "comment_id": 93991108, "body": "Thanks!  I&#39;ll accept this answer as soon as the time limit allows me to.  I happened to find the same solution by looking at perldoc&#39;s own POD :)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1543601095, "creation_date": 1543601095, "answer_id": 53562663, "question_id": 53562617, "link": "https://stackoverflow.com/questions/53562617/perldoc-pod-dont-add-extra-line-in-paragraph/53562663#53562663", "title": "perldoc/POD - don&#39;t add extra line in paragraph", "body": "<p>Use items for the arguments:</p>\n\n<pre><code>=head1 REQUIRED ARGUMENTS\n\n=over 4\n\n=item I&lt;argument1&gt;\n\nDescription of the first argument.\n\n=item I&lt;argument2&gt;\n\nDescription of the second argument.\n\n=back\n\n=cut\n</code></pre>\n"}], "owner": {"reputation": 1266, "user_id": 1303577, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e96b0196e8e968b1a2d8f6ddfda87ab1?s=128&d=identicon&r=PG", "display_name": "Rusty Lemur", "link": "https://stackoverflow.com/users/1303577/rusty-lemur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 53562663, "answer_count": 1, "score": 0, "last_activity_date": 1543601095, "creation_date": 1543600866, "question_id": 53562617, "link": "https://stackoverflow.com/questions/53562617/perldoc-pod-dont-add-extra-line-in-paragraph", "title": "perldoc/POD - don&#39;t add extra line in paragraph", "body": "<p>I'm trying to write some POD documentation and use perldoc to display it.  My goal is to get the format to look like this:</p>\n\n<pre><code>REQUIRED ARGUMENTS\n    argument1\n        Description of the first argument. \n\n    argmuent2\n        Description of the second argument.            \n</code></pre>\n\n<p>Where \"REQUIRED ARGUMENTS\" is a bold header and \"argument1\" and \"argument2\" are italicized.</p>\n\n<p>But I am not able to figure out how to get that specific indentation.  </p>\n\n<p>I've tried this:</p>\n\n<pre><code>=head1 REQUIRED ARGUMENTS\n\nI&lt;argument1&gt;\nDescription of the first argument.\n\nI&lt;argument2&gt;\nDescription of the second argument.\n</code></pre>\n\n<p>which produces the following (the bold header and the italics are correctly displayed, but the run-on of the descriptions is not desired):</p>\n\n<pre><code>REQUIRED ARGUMENTS\n    argument1 Description of the first argument.\n\n    argument2 Description of the second argument.\n</code></pre>\n\n<p>And I've tried:</p>\n\n<pre><code>=head1 REQUIRED ARGUMENTS\n\nI&lt;argument1&gt;\n\nDescription of the first argument.\n\nI&lt;argument2&gt;\n\nDescription of the second argument.\n</code></pre>\n\n<p>Which produces the following (again the bold and italics are good, but now there is an extra line between the argument and the description):</p>\n\n<pre><code>REQUIRED ARGUMENTS\n    argument1\n\n    Description of the first argument.\n\n    argument2\n\n    Description of the second argument.\n</code></pre>\n\n<p>And amongst other things which have also not succeeded, I've tried this:</p>\n\n<pre><code>=head1 REQUIRED ARGUMENTS\n\nI&lt;argument1&gt;\n\n=over 4\n\nDescription of the first argument.\n\n=back\n</code></pre>\n\n<p>With the following result:</p>\n\n<pre><code>REQUIRED ARGUMENTS\n    argument1\n\n        Description of the first argument.\n</code></pre>\n"}, {"tags": ["perl", "ssh", "plink", "hp-nonstop", "tandem"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4190118, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-3lqSEGt56_g/AAAAAAAAAAI/AAAAAAAACyU/lutfP2zkUwU/photo.jpg?sz=128", "display_name": "Ezak", "link": "https://stackoverflow.com/users/4190118/ezak"}, "edited": false, "score": 1, "creation_date": 1543856338, "post_id": 53594418, "comment_id": 94059277, "body": "Hey, thank you for your answer. But no the ssh-process on our machines are configured to connect with guardian. You really get a tacl prompt and you have to logon with the logon command with putty input. So thats why we have to use the TACL command in de putty settings, without it we get a connection error because we can&#39;t (and won&#39;t) connect with oss. Best regards"}], "tags": [], "owner": {"reputation": 11, "user_id": 2835919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271e35dcf4c0022c1b813f64d62be2ac?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Woudstra", "link": "https://stackoverflow.com/users/2835919/andy-woudstra"}, "is_accepted": false, "score": 1, "last_activity_date": 1543842809, "last_edit_date": 1543842809, "creation_date": 1543842121, "answer_id": 53594418, "question_id": 53561031, "link": "https://stackoverflow.com/questions/53561031/ssh-scripting-for-hp-nonstop-guardian-with-safeguard/53594418#53594418", "title": "SSH Scripting for HP Nonstop Guardian with SAFEGUARD", "body": "<p>Can you explain exactly what it is you did with telnet sessions before you had to switch to SSH? \nOff-hand I think you are probably ending up in OSS (the UNIX personality of NonStop) because puTTY (and probably plink) emulate an XTerm. NonStop SSH automatically puts you into OSS if the terminal type specified during SSH negotiations isn't \"TN6530-8\" (The NonStop Guardian terminal emulator).</p>\n\n<p>I just tried plink (Windows 10 CMD prompt) and got this, which is expected:</p>\n\n<p>C:\\Users\\andy\\Downloads>plink -ssh -pw xxxxxxx andyw@nnn.nn.nnn.nn gtacl -c 'status *,user'</p>\n\n<p>Using keyboard-interactive authentication.</p>\n\n<p>Last Logon:  03 DEC 2018, 05:37</p>\n\n<p>Last Unsuccessful Attempt: 03 DEC 2018, 05:31  Total Failures: 20</p>\n\n<p>Process Pri PFR %WT Userid  Program file               Hometerm</p>\n\n<p>$Z4YN    B  0,119   146     001   8,1   $SYSTEM.SYS07.TACL         $ZTN0.#PTB2NV5</p>\n\n<p>$SSLS       0,504   148     001   8,1   $SYSTEM.SSLPRXY.SSLPRXY    $ZPTY.#ZWN0517</p>\n\n<p>$SSFS       0,749   148     001   8,1   $SYSTEM.SSLPRXY.SSLFTPS    $ZPTY.#ZWN0517</p>\n\n<p>$Z2TJ       2,74    149     005   8,1   $SYSTEM.SYS07.TACL         $ZPTY.#ZWN0882</p>\n\n<p>$Z5MZ       2,75    149     001   8,1   $SYSTEM.SYS07.TACL         $ZPTY.#ZWN0886</p>\n\n<p>$Z5NR       2,254   149     004   8,1   $SYSTEM.SYS07.TACL         $ZHOME</p>\n\n<pre><code>        2,1019  148     001   8,1   $SYSTEM.SYS07.OSH          $ZPTY.#ZWN0886\n\n     X  2,1098  148     004   8,1   /bin/ksh                   $ZPTY.#ZWN0886\n</code></pre>\n\n<p>$Z5NQ    X  2,1139  149     001   8,1   /bin/gtacl                 $ZHOME</p>\n\n<p>$Z4YN       3,9     146     001   8,1   $SYSTEM.SYS07.TACL         $ZTN0.#PTB2NV5</p>\n\n<p>$Z5MZ    B  3,42    149     001   8,1   $SYSTEM.SYS07.TACL         $ZPTY.#ZWN0886</p>\n\n<p>$Z2TJ    B  3,201   149     001   8,1   $SYSTEM.SYS07.TACL         $ZPTY.#ZWN0882</p>\n\n<p>$SSLS    B  3,1014  148     001   8,1   $SYSTEM.SSLPRXY.SSLPRXY    $ZPTY.#ZWN0517</p>\n\n<p>$SSFS    B  3,1018  148     001   8,1   $SYSTEM.SSLPRXY.SSLFTPS    $ZPTY.#ZWN0517</p>\n\n<p>$CAIL       3,1045  145     011   8,1   $SYSTEM.SYS07.TELSERV      $ZTN0.#PTB2P0J</p>\n\n<p>C:\\Users\\andy\\Downloads></p>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 4190118, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-3lqSEGt56_g/AAAAAAAAAAI/AAAAAAAACyU/lutfP2zkUwU/photo.jpg?sz=128", "display_name": "Ezak", "link": "https://stackoverflow.com/users/4190118/ezak"}, "edited": false, "score": 0, "creation_date": 1545377938, "post_id": 53860958, "comment_id": 94608453, "body": "Hey, you dont have the SSH server with the safeguarduser. You logoin on the tacl shell with the user d.trum and a password. Thats not possible with the safeguard user. The logon with the safeguarduser comes after the ssh logon, so you have to use the logon command after connect"}, {"owner": {"reputation": 350, "user_id": 1345361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02f1a5f048bbf9906bcd06c0e33a723a?s=128&d=identicon&r=PG", "display_name": "Andy Simpson", "link": "https://stackoverflow.com/users/1345361/andy-simpson"}, "reply_to_user": {"reputation": 107, "user_id": 4190118, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-3lqSEGt56_g/AAAAAAAAAAI/AAAAAAAACyU/lutfP2zkUwU/photo.jpg?sz=128", "display_name": "Ezak", "link": "https://stackoverflow.com/users/4190118/ezak"}, "edited": false, "score": 0, "creation_date": 1545544800, "post_id": 53860958, "comment_id": 94648186, "body": "@Ezak, I&#39;m not sure what you are saying here, other than that my situation is different to yours. My user &quot;d.trump&quot; is a Safeguard user. The SSH product on NonStop uses Safeguard users as its users, so the SSH logon will be the Safeguard logon - the product makes the underlying USER_AUTHENTICATE (or similar) calls.   Maybe show the equivalent from the log and audit on your NonStop so that you can see what the NonStop thinks is going on."}], "tags": [], "owner": {"reputation": 350, "user_id": 1345361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02f1a5f048bbf9906bcd06c0e33a723a?s=128&d=identicon&r=PG", "display_name": "Andy Simpson", "link": "https://stackoverflow.com/users/1345361/andy-simpson"}, "is_accepted": false, "score": 0, "last_activity_date": 1545265492, "creation_date": 1545265492, "answer_id": 53860958, "question_id": 53561031, "link": "https://stackoverflow.com/questions/53561031/ssh-scripting-for-hp-nonstop-guardian-with-safeguard/53860958#53860958", "title": "SSH Scripting for HP Nonstop Guardian with SAFEGUARD", "body": "<p>I don't see the Perl code asking for TACL.</p>\n\n<p>With a completely fresh install of Putty and no configuration of it, I can connect using plink:</p>\n\n<pre><code>PS C:\\Program Files\\PuTTY&gt; plink d.trump@10.0.0.173 tacl\nUsing keyboard-interactive authentication.\nPassword:\nUsing keyboard-interactive authentication.\nLast Logon:  20 DEC 2018, 01:05\nLast Unsuccessful Attempt: 06 DEC 2018, 03:40  Total Failures: 33\nLast Logon Failures: 0\nTACL (T9205H01 - 24AUG2018), Operating System L06, Release L18.08.01\n\n&lt;usual TACL startup output omitted&gt;\n\n(Invoking $DT.WHOUSE.TACLCSTM)\nCurrent volume is $DT.WHOUSE\n$DT WHOUSE 1&gt;\n</code></pre>\n\n<p>In the SSH audit file on the NonStop, I see:</p>\n\n<pre><code>$SSH00|20Dec18 01:05:29.67|50|10.0.3.40:56431:10.0.0.173: accepted connection from client\n$SSH00|20Dec18 01:05:29.68|50|10.0.3.40:56431:10.0.0.173: client version string: SSH-2.0-PuTTY_Release_0.70\n$SSH00|20Dec18 01:05:30.75|50|10.0.3.40:56431:10.0.0.173: key-exchange done and server authentication by client successful.\n$SSH00|20Dec18 01:05:30.75|40|10.0.3.40:56431:10.0.0.173: SSH session established. \n$SSH00|20Dec18 01:05:31.44|20|10.0.3.40:56431:10.0.0.173: gssapi-with-mic authentication failed: GSSAPI not available\n$SSH00|20Dec18 01:05:36.81|40|10.0.3.40:56431:10.0.0.173: keyboard-interactive dialog successful for user 'd.trump', keyboard-interactive authentication successful\n$SSH00|20Dec18 01:05:37.50|50|10.0.3.40:56431:10.0.0.173: channel exec request, launching /bin/sh -c param -c tacl \n$SSH00|20Dec18 01:05:37.63|50|10.0.3.40:56431:10.0.0.173: spawned program /bin/sh successfully (pid 520093761) \n$SSH00|20Dec18 01:05:37.67|50|10.0.3.40:56431:10.0.0.173: spawned program /bin/sh terminated with exit code 127\n$SSH00|20Dec18 01:05:38.02|40|10.0.3.40:56431:10.0.0.173: SSH session terminated \n$SSH00|20Dec18 01:06:04.79|50|10.0.3.40:56440:10.0.0.173: accepted connection from client\n$SSH00|20Dec18 01:06:04.80|50|10.0.3.40:56440:10.0.0.173: client version string: SSH-2.0-PuTTY_Release_0.70\n$SSH00|20Dec18 01:06:05.87|50|10.0.3.40:56440:10.0.0.173: key-exchange done and server authentication by client successful.\n$SSH00|20Dec18 01:06:05.87|40|10.0.3.40:56440:10.0.0.173: SSH session established. \n$SSH00|20Dec18 01:06:06.55|20|10.0.3.40:56440:10.0.0.173: gssapi-with-mic authentication failed: GSSAPI not available\n$SSH00|20Dec18 01:06:10.92|40|10.0.3.40:56440:10.0.0.173: keyboard-interactive dialog successful for user 'd.trump', keyboard-interactive authentication successful\n$SSH00|20Dec18 01:06:11.61|50|10.0.3.40:56440:10.0.0.173: channel request for subsystem tacl, launching \\XXX.$SYSTEM.SYS03.TACL with process name '\\XXX.$Z4ML' \n$SSH00|20Dec18 01:06:11.67|50|10.0.3.40:56440:10.0.0.173: launched program \\XXX.$SYSTEM.SYS03.TACL successfully (\\XXX.$Z4ML:3750193)\n</code></pre>\n\n<p>In the SSH log file I see:</p>\n\n<pre><code>$SSH00|20Dec18 01:06:06|10.0.3.40:56440:10.0.0.173: d.trump@10.0.3.40 authentication failed (method gssapi-with-mic): GSSAPI not available.\n$SSH00|20Dec18 01:06:10|10.0.3.40:56440:10.0.0.173: d.trump@10.0.3.40 authentication granted (method keyboard-interactive): keyboard-interactive dialog successful. System user: d.trump \n$SSH00|20Dec18 01:06:11|10.0.3.40:56440:10.0.0.173: d.trump@10.0.3.40 subsystem tacl granted (process: \\XXX.$Z4ML) \n</code></pre>\n\n<p>Try to look in the SSH log file and compare what happens when things work with what happens when things don't work. Remember that you can pass this on to TNSC if you are really stuck.</p>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 4190118, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-3lqSEGt56_g/AAAAAAAAAAI/AAAAAAAACyU/lutfP2zkUwU/photo.jpg?sz=128", "display_name": "Ezak", "link": "https://stackoverflow.com/users/4190118/ezak"}, "edited": false, "score": 0, "creation_date": 1545935020, "post_id": 53928846, "comment_id": 94736989, "body": "so ls -l is again the oss side of the hp nonstop, so thats another situation."}, {"owner": {"reputation": 107, "user_id": 4190118, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-3lqSEGt56_g/AAAAAAAAAAI/AAAAAAAACyU/lutfP2zkUwU/photo.jpg?sz=128", "display_name": "Ezak", "link": "https://stackoverflow.com/users/4190118/ezak"}, "edited": false, "score": 0, "creation_date": 1545935070, "post_id": 53928846, "comment_id": 94737007, "body": "i&#39;m in holiday at the moment. Next year i look if i have rights to read the audit log"}], "tags": [], "owner": {"reputation": 350, "user_id": 1345361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02f1a5f048bbf9906bcd06c0e33a723a?s=128&d=identicon&r=PG", "display_name": "Andy Simpson", "link": "https://stackoverflow.com/users/1345361/andy-simpson"}, "is_accepted": false, "score": 0, "last_activity_date": 1545809354, "creation_date": 1545809354, "answer_id": 53928846, "question_id": 53561031, "link": "https://stackoverflow.com/questions/53561031/ssh-scripting-for-hp-nonstop-guardian-with-safeguard/53928846#53928846", "title": "SSH Scripting for HP Nonstop Guardian with SAFEGUARD", "body": "<p>Having finally wrangled a Perl install to do what I want, I think that I understand what you are saying (I see the same output-wise), but it doesn't look as though anything is broken. If I add a command after logging on, it works.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use Net::SSH::Perl;\nuse Term::ReadKey;\nmy $host = \"x.x.x.x\";\nmy $user = \"group.user\";\nmy $pass = \"secretsanta\";\nmy $ssh = Net::SSH::Perl-&gt;new($host, options =&gt; [\n\"Cipher +aes256-ctr\", \"MACs +hmac-sha2-256\", \"HostKeyAlgorithms +ssh-dss\"], debug =&gt; 1);\n$ssh-&gt;login($user, $pass);\n\nprint \"Enter a command to execute: [ls -l] \";\nchomp(my $cmd = &lt;STDIN&gt;);\n\nmy($out, $err) = $ssh-&gt;cmd($cmd || \"ls -l\");\nprint $out;\n</code></pre>\n\n<p>log:</p>\n\n<pre><code>dev-as: Requesting service shell on channel 0.\nEnter a command to execute: [ls -l] ls -la\ndev-as: channel 1: new [client-session]\ndev-as: Requesting channel_open for channel 1.\ndev-as: Entering interactive session.\ndev-as: Requesting service exec on channel 1.\ndev-as: channel 1: open confirm rwindow 1048576 rmax 57344\ndev-as: input_channel_request: rtype exit-status reply 0\ndev-as: channel 1: rcvd eof\ndev-as: channel 1: output open -&gt; drain\ndev-as: channel 1: obuf empty\ndev-as: channel 1: output drain -&gt; closed\ndev-as: channel 1: close_write\ndev-as: channel 1: rcvd close\ndev-as: channel 1: input open -&gt; closed\ndev-as: channel 1: close_read\ndev-as: channel 1: send close\ndev-as: channel 1: full closed\ntotal 388615\n-rw-rw-rw-    1 GROUP.USER            COMF      810000 Nov 21 23:07 test1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 4190118, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-3lqSEGt56_g/AAAAAAAAAAI/AAAAAAAACyU/lutfP2zkUwU/photo.jpg?sz=128", "display_name": "Ezak", "link": "https://stackoverflow.com/users/4190118/ezak"}, "edited": false, "score": 0, "creation_date": 1582889677, "post_id": 60359041, "comment_id": 106941154, "body": "The command working on windows powershell for me. We now try to use pythons paramiko to connect, but i dont know how to use the t flag in a library"}], "tags": [], "owner": {"reputation": 115, "user_id": 12591632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e85fff223a25dcc630e248d0379ccb56?s=128&d=identicon&r=PG&f=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/12591632/leon"}, "is_accepted": false, "score": 0, "last_activity_date": 1582431820, "last_edit_date": 1582431820, "creation_date": 1582429913, "answer_id": 60359041, "question_id": 53561031, "link": "https://stackoverflow.com/questions/53561031/ssh-scripting-for-hp-nonstop-guardian-with-safeguard/60359041#60359041", "title": "SSH Scripting for HP Nonstop Guardian with SAFEGUARD", "body": "<p>I worked myself on a solution for this and did use the \"ssh\" command directly from the command line in Powershell and also in Ubuntu.</p>\n\n<pre><code>ssh -t -o HostKeyAlgorithms=+ssh-dss safeguarduser@XXXX tacl\n</code></pre>\n\n<p>Actually it covers all the things in your script, but adds the <code>-t</code> option which is standing for creating a PTY allocation request. This seems to be needed for some legacy systems. Please adjust your perl-script to consider this flag aswell and let us know if it's working. </p>\n"}], "owner": {"reputation": 107, "user_id": 4190118, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-3lqSEGt56_g/AAAAAAAAAAI/AAAAAAAACyU/lutfP2zkUwU/photo.jpg?sz=128", "display_name": "Ezak", "link": "https://stackoverflow.com/users/4190118/ezak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1582431820, "creation_date": 1543593985, "question_id": 53561031, "link": "https://stackoverflow.com/questions/53561031/ssh-scripting-for-hp-nonstop-guardian-with-safeguard", "title": "SSH Scripting for HP Nonstop Guardian with SAFEGUARD", "body": "<p>we have some perl scripts to do things on guardian os on a hp nonstop machine with telnet.\nNow we have to shut down telnet and have to use the ssh (comforte) connection with a safeguarduser.</p>\n\n<p>We try to connect with the following perl code and anything seems to work but the shell does not keep open.</p>\n\n<pre><code>use Net::SSH::Perl;\nuse Term::ReadKey;\nmy $host = \"XX.XXX.XXX.XXX\";\nmy $user = \"safeguarduser\";\nmy $pass = \"\";\nmy $ssh = Net::SSH::Perl-&gt;new($host, options =&gt; [\n\"Cipher +aes256-ctr\", \"MACs +hmac-sha2-256\", \"HostKeyAlgorithms +ssh-dss\"], debug =&gt; 1);\n$ssh-&gt;login($user, $pass);\n</code></pre>\n\n<p>The debug log says:</p>\n\n<pre><code>p-066280682253: Reading configuration data C:\\Users\\User\\.ssh\\config\np-066280682253: Reading configuration data C:\\WINDOWS\\ssh_config\np-066280682253: Connecting to XX.XXX.XXX.XXX, port 22.\np-066280682253: Remote version string: SSH-2.0-1.37g sshlib: TXXXXH0X_14MAY2018_comForte_SSH2_0105a:\\TXXXX.$SSH01\np-066280682253: Remote protocol version 2.0, remote software version 1.37g sshlib: TXXXXH0X_14MAY2018_comForte_SSH2_0105a:\\TXXXX.$SSH01\np-066280682253: Net::SSH::Perl Version 2.14, protocol version 2.0.\np-066280682253: No compat match: 1.37g sshlib: TXXXXH0X_14MAY2018_comForte_SSH2_0105a:\\TXXXX.$SSH01.\np-066280682253: Connection established.\np-066280682253: Sent key-exchange init (KEXINIT), waiting for response.\np-066280682253: Using diffie-hellman-group-exchange-sha256 for key exchange\np-066280682253: Host key algorithm: ssh-dss\np-066280682253: Algorithms, c-&gt;s: aes256-ctr hmac-sha2-512 none\np-066280682253: Algorithms, s-&gt;c: aes256-ctr hmac-sha2-512 none\np-066280682253: Entering Diffie-Hellman Group Exchange.\np-066280682253: SSH2_MSG_KEX_DH_GEX_REQUEST(2048&lt;4096&lt;8192) sent\np-066280682253: Sent DH Group Exchange request, waiting for reply.\np-066280682253: Received 2048 bit DH Group Exchange reply.\np-066280682253: Generating new Diffie-Hellman keys.\np-066280682253: Entering Diffie-Hellman key exchange.\np-066280682253: Sent DH public key, waiting for reply.\np-066280682253: Received host key, type 'ssh-dss'.\np-066280682253: Host 'XX.XXX.XXX.XXX' is known and matches the host key.\np-066280682253: Verifying server signature.\np-066280682253: Send NEWKEYS.\np-066280682253: Waiting for NEWKEYS message.\np-066280682253: Enabling encryption/MAC/compression.\np-066280682253: Sending request for user-authentication service.\np-066280682253: Service accepted: ssh-userauth.\np-066280682253: Trying empty user-authentication request.\np-066280682253: Login completed, opening dummy shell channel.\np-066280682253: channel 0: new [client-session]\np-066280682253: Requesting channel_open for channel 0.\np-066280682253: channel 0: open confirm rwindow 1048576 rmax 57344\np-066280682253: Got channel open confirmation, requesting shell.\np-066280682253: Requesting service shell on channel 0.\n</code></pre>\n\n<p>We can connect and work with Putty. The exec Command in the putty settings is \"tacl\". With plink it only works when we use the putty session-name. With param and -c tacl we get the same error as with the perl script, there is no shell.</p>\n\n<p>(Info: The client is a Windows PC)</p>\n\n<p>Hope somebody can help us, we have already tried a lot.</p>\n\n<p>Thank you and Best regards</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1543592316, "post_id": 53560058, "comment_id": 93986749, "body": "Why do you want to avoid the <code>while</code> loop?"}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1543592903, "post_id": 53560058, "comment_id": 93987082, "body": "Just wondered many times about this, for such a common pattern there &quot;ought to be&quot; a more straightforward solution with s/// alone. There is nothing wrong with <code>1 while s&#47;&#47;&#47;</code> as far as I know. (As a beginner, before I realized that s/// has a return value, I remember spending time trying with <code>&#47;g</code> or <code>while(1){my$old=$_;s&#47;some&#47;thing&#47;g;last if $_ eq $old}</code>)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1543593314, "post_id": 53560058, "comment_id": 93987325, "body": "The <code>while</code> solution is more than one pattern match. That&#39;s the whole point of it. You are running multiple distinct substitutions. Not everything can be shoved into a single pattern, and most things shouldn&#39;t."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1543628950, "post_id": 53560058, "comment_id": 93999839, "body": "Re &quot;<i>for such a common pattern there</i>&quot;, It&#39;s not. You&#39;re doing something wrong if you&#39;re calling s/// repeatedly."}], "answers": [{"comments": [{"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1543593032, "post_id": 53560626, "comment_id": 93987157, "body": "Ok, a good answer for removing duplicates (except you don&#39;t need <code>&amp;&amp;$_</code>), but my question wasn&#39;t really about removing duplicates, that was just a suitable example to illustrate."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 6, "creation_date": 1543593247, "post_id": 53560626, "comment_id": 93987296, "body": "@KjetilS. then you should be more clear with your question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 3, "creation_date": 1543639017, "post_id": 53560626, "comment_id": 94001073, "body": "@Kjetil S., Re &quot;<i>just a suitable example to illustrate.</i>&quot;, As you can see, it wasn&#39;t a suitable example. I can&#39;t think of a single one. Can you? If not, the implication of simbabque stands: There are better ways."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 6, "last_activity_date": 1543593251, "last_edit_date": 1543593251, "creation_date": 1543592535, "answer_id": 53560626, "question_id": 53560058, "link": "https://stackoverflow.com/questions/53560058/want-perl-regexp-substitution-to-start-over-and-avoid-1-while-trick/53560626#53560626", "title": "Want perl regexp substitution to start over and avoid `1 while` trick", "body": "<p>A non-regular expression solution could be built using <code>split</code>, <code>grep</code> and <code>join</code> with a lookup hash. It's probably not much more readable though.</p>\n\n<pre><code>my $s = 'aabbbcbbac';\nmy %seen;\n$s = join '', grep { !$seen{$_}++ } split //, $s;\nprint $s, \"\\n\";\n</code></pre>\n\n<p>This outputs</p>\n\n<pre><code>abc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 8, "last_activity_date": 1543628653, "last_edit_date": 1543628653, "creation_date": 1543603755, "answer_id": 53563234, "question_id": 53560058, "link": "https://stackoverflow.com/questions/53560058/want-perl-regexp-substitution-to-start-over-and-avoid-1-while-trick/53563234#53563234", "title": "Want perl regexp substitution to start over and avoid `1 while` trick", "body": "<p>This could be done with a variable-length look-behind, which isn't allowed. But a variable-length look-behind is equivalent to a variable-length look-ahead on the reverse of the input, so we have this trick available:</p>\n\n<p><code>reverse</code> the string, delete chars using a look-ahead, and <code>reverse</code> again</p>\n\n<pre><code>$t = reverse $s;\n$t =~ s/(.)(?=.*\\1)//sg;\n$s = reverse $t;\n</code></pre>\n\n<p>If you have Perl 5.14 or better and can use the <code>/r</code> modifier on substitutions, you get</p>\n\n<pre><code>$s = reverse( reverse($s) =~ s/(.)(?=.*\\1)//grs );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1543736066, "creation_date": 1543736066, "answer_id": 53578309, "question_id": 53560058, "link": "https://stackoverflow.com/questions/53560058/want-perl-regexp-substitution-to-start-over-and-avoid-1-while-trick/53578309#53578309", "title": "Want perl regexp substitution to start over and avoid `1 while` trick", "body": "<p>No, there is no way to get a s/// to match more than twice at any one position in the original string, because a non-zero width match will advance to the next position and two zero-width matches at the same position are not allowed to avoid endless loops.</p>\n"}], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1543736066, "creation_date": 1543590469, "last_edit_date": 1543673375, "question_id": 53560058, "link": "https://stackoverflow.com/questions/53560058/want-perl-regexp-substitution-to-start-over-and-avoid-1-while-trick", "title": "Want perl regexp substitution to start over and avoid `1 while` trick", "body": "<p>Example: I want to remove duplicate chars in <code>$s</code> like this:</p>\n\n<pre><code>my $s = 'aabbbcbbac';\n1 while $s =~ s/((.).*)\\2/$1/;\nprint $s, \"\\n\";                     #prints abc\n</code></pre>\n\n<p>Is there a simple and short way to avoid the <code>1 while</code> trick and remove duplicates with just one <code>s///g</code>? Getting it to \"start over\" somehow? by using <code>\\G</code> or some sort of look-behind|-ahead? Just adding <code>/g</code> is not the solution here.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 1, "creation_date": 1543587882, "post_id": 53559203, "comment_id": 93984161, "body": "The ?: is called a ternary or conditional operator.see docs: <a href=\"http://perldoc.perl.org/perlop.html#Conditional-Operator\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Conditional-Operator</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1543588575, "post_id": 53559203, "comment_id": 93984504, "body": "Use <code>?:</code> to return a value (since it&#39;s an operator). If you have <code>?:</code> in void context, just use <code>if</code>/<code>else</code> instead; it&#39;s clearer."}, {"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1543592678, "post_id": 53559203, "comment_id": 93986960, "body": "Thanks, I&#39;m already inside a if/else statement where this code is used. I prefer to avoid nested if/else statements, because of the } else { .. followed by } else { syntax."}], "answers": [{"comments": [{"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1543590058, "post_id": 53559340, "comment_id": 93985421, "body": "Thanks. When I&#39;m less under the guilotene of a deadline I will look into Deparse, David Cross has suggested this in a different context."}, {"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1544314486, "post_id": 53559340, "comment_id": 94233053, "body": "Many thanks indeed. Now I&#39;ve some time to look at this it is the neatest solution. In the jaws of a deadline I just didn&#39;t spot it. Deparse is very cool."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1543587727, "creation_date": 1543587727, "answer_id": 53559340, "question_id": 53559203, "link": "https://stackoverflow.com/questions/53559203/variable-assignment-within-a-if-statement/53559340#53559340", "title": "Variable assignment within a &quot;? :&quot; if statement", "body": "<p>You need at least one more set of parentheses around <code>$flag = 1</code> -- <code>:</code> has higher precedence than <code>=</code></p>\n\n<pre><code>$ perl -MO=Deparse,-p -e '$a ? $b=1 : $c=2'\n(($a ? ($b = 1) : $c) = 2);\n\n$ perl -MO=Deparse,-p -e '$a ? $b=1 : ($c=2)'\n(($a ? ($b = 1) : ($c = 2));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1543589923, "post_id": 53559795, "comment_id": 93985318, "body": "Thank you :-). This is a direct cut and paste solution and yes you are defintely a bit cleverer than me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1543629299, "post_id": 53559795, "comment_id": 93999899, "body": "That&#39;s horrible!!! It&#39;s very difficult to read/debug/maintain because you interspaced the parts that belong together (ABCABC instead of ABBCC)."}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 3, "last_activity_date": 1543589406, "creation_date": 1543589406, "answer_id": 53559795, "question_id": 53559203, "link": "https://stackoverflow.com/questions/53559203/variable-assignment-within-a-if-statement/53559795#53559795", "title": "Variable assignment within a &quot;? :&quot; if statement", "body": "<p>You can be a bit clever with the <code>?:</code> operator</p>\n\n<pre><code>($homologue_gap =~ m/-/ ? $homologue : $flag) = ($homologue_gap =~ m/-/ ? $homologue_gap : 1);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1543667351, "post_id": 53567116, "comment_id": 94006057, "body": "Thanks, I now understand. Again the statement is within an If else statement and I wish to avoid too much nesting."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 1, "creation_date": 1543667580, "post_id": 53567116, "comment_id": 94006121, "body": "@Micheal G., That makes no sense sense; it&#39;s equally nested no matter which approach you take. And I repeat, I suspect you have some badly organized code to being with, and reorganizing the whole instead of just looking at this one line is what&#39;s going to make it more readable."}, {"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1543667868, "post_id": 53567116, "comment_id": 94006205, "body": "Right, but its a big &quot;pipeline&quot; and else else else becomes difficult to read, particularly when debugging and beta-testing over a lot of data. If its a single &quot;if else&quot;, I like to keep it distinct and helps me keep my head &quot;above&quot; the flow of data."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 1, "creation_date": 1543667902, "post_id": 53567116, "comment_id": 94006215, "body": "A big pipeline of <code>?:</code> is many times worse. It&#39;s widely accepted that <code>?:</code> is only clear for the most trivial of cases. Since you bring up debugging, stepping through <code>?:</code> might not even be possible, and tracing the path through it difficult and error-prone."}, {"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1543668386, "post_id": 53567116, "comment_id": 94006345, "body": "I appreciate your point ?: can be overdone. In context its a single ?: within a &quot;if else&quot; loop, but a critical part of the code.  Most of the script is controlling data within a multidimensional hash. Context: this part of the script is the evolutionary homology of amino acid &quot;indels&quot; and the conditions when &quot;a homologue&quot; can be declared and this is subject to interpretation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 1, "creation_date": 1543668606, "post_id": 53567116, "comment_id": 94006398, "body": "When I mentioned the context of the statement, I didn&#39;t mean the purpose of the program; I meant the actual code surrounding it. (&quot;<i>the parts of something written or spoken that immediately precede and follow a word or passage and clarify its meaning.</i>&quot;)"}, {"owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1543881408, "post_id": 53567116, "comment_id": 94069845, "body": "Point accepted, but you know if I was happy being regular I&#39;d code in Python ;-)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "edited": false, "score": 0, "creation_date": 1543881569, "post_id": 53567116, "comment_id": 94069871, "body": "@MichaelG. ??? &quot;Being regular&quot; wasn&#39;t a reason I gave. Readability, debuggability, maintainability, lack of fragility were."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1543629281, "creation_date": 1543629281, "answer_id": 53567116, "question_id": 53559203, "link": "https://stackoverflow.com/questions/53559203/variable-assignment-within-a-if-statement/53567116#53567116", "title": "Variable assignment within a &quot;? :&quot; if statement", "body": "<p>You have a precedence issue.</p>\n\n<pre><code>$homologue_gap =~ m/-/ ? $homologue = $homologue_gap : $flag = 1;\n</code></pre>\n\n<p>means</p>\n\n<pre><code>( $homologue_gap =~ m/-/ ? ( $homologue = $homologue_gap ) : $flag ) = 1;\n</code></pre>\n\n<p>but you want</p>\n\n<pre><code>$homologue_gap =~ m/-/ ? ( $homologue = $homologue_gap ) : ( $flag  = 1 );\n</code></pre>\n\n<p>This is not an appropriate use of the conditional operator. If you're not using the value it returns, it's much better (clearer) to use an <code>if</code> statement.</p>\n\n<pre><code>if ($homologue_gap =~ m/-/) { $homologue = $homologue_gap } else { $flag = 1 }\n</code></pre>\n\n<p>That said, this kind of pattern is quite rarely used. I suspect that something even clearer could be devised if we had access to the surrounding code.</p>\n"}], "owner": {"reputation": 590, "user_id": 10637327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UhloK.jpg?s=128&g=1", "display_name": "M__", "link": "https://stackoverflow.com/users/10637327/m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 53559340, "answer_count": 3, "score": 2, "last_activity_date": 1543629281, "creation_date": 1543587242, "question_id": 53559203, "link": "https://stackoverflow.com/questions/53559203/variable-assignment-within-a-if-statement", "title": "Variable assignment within a &quot;? :&quot; if statement", "body": "<p>I'm wanting to reassign \"$homologue\" within a ? : statement and avoid using a flag to achieve this, i.e. do it directly. The output is \"1\" rather than AGFTVASTGHAVFEW--SAC. Help appreciated. </p>\n\n<pre><code>#!/usr/local/bin/perl\nuse warnings;\nuse strict;\nuse feature qw(say switch);\nmy $homologue;\nmy $homologue_gap = \"AGFTVASTGHAVFEW--SAC\";\nmy $flag = 0;\n\n$homologue_gap =~ m/-/ ? $homologue = $homologue_gap : $flag = 1; \nsay $homologue;\n__DATA__\n**Output** \n1\n**Output sought** \nAGFTVASTGHAVFEW--SAC\n</code></pre>\n\n<p>Background, I'm extracting homologous oligo-peptides within an alignment, and accounting for any indels that may be present (the \"-\" character).</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 2071, "user_id": 7478530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGr5i.png?s=128&g=1", "display_name": "Dragonthoughts", "link": "https://stackoverflow.com/users/7478530/dragonthoughts"}, "edited": false, "score": 0, "creation_date": 1543585845, "post_id": 53558781, "comment_id": 93983081, "body": "Please reformat your answer so that it is readable."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543601319, "post_id": 53558781, "comment_id": 93991107, "body": "Previously asked: <a href=\"https://stackoverflow.com/questions/53553939/perl-put-the-value-of-array-in-a-array\" title=\"perl put the value of array in a array\">stackoverflow.com/questions/53553939/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8567, "user_id": 188691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b008c9884164fc36f772c8aa2a87bd4?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/188691/tim"}, "is_accepted": false, "score": 1, "last_activity_date": 1543608454, "creation_date": 1543608454, "answer_id": 53564230, "question_id": 53558781, "link": "https://stackoverflow.com/questions/53558781/perl-put-array-in-a-arry/53564230#53564230", "title": "perl - put array in a arry", "body": "<p>OK, I think what you're aiming to do here is taking the lines one at a time, update the line, and then put it into an array. This array should contain all the reformatted lines so than you can access them later.</p>\n\n<p>First, the array which you're wanting to contain all the modified lines is <code>@splited_line</code>. This is why you're trying to print the first line at the end of your program:</p>\n\n<pre><code>print \"$splited_line[0]\\n\";\n</code></pre>\n\n<p>One of your problems here is that you're declaring the array <code>@splited_line</code> inside the loop using <code>my</code>. This means that its value is local to the loop, and you can't access it from outside the loop, such as the end of your program. (<a href=\"https://stackoverflow.com/questions/19100106/local-and-global-variables-in-perl\">Here's something</a> to explain variable scope, if you need it.)</p>\n\n<p>So I'm going to add a new line to declare the scope of <code>@splited_line</code> outside that loop. This means that the loop can add items to the array, and you can see those items from outside the loop.</p>\n\n<p>Next, I've changed the loop so that when it constructs the modified line, it adds that to the end of that array. Each time you go round the loop, you're processing the next line of input, and adding a line to <code>@splited_line</code>. I've used <code>push</code> to add the new line to the end of the array:</p>\n\n<pre><code>push @splited_line, $temp_splited_line;\n</code></pre>\n\n<p>You've not told us anything about your input file <code>file.log</code>, so I've made one up which looks like this:</p>\n\n<pre><code>Thu Nov 29 d 2018 f g h i j k l 12.345\nFri Nov 30 d 2018 f g h i j k l 23.456\n</code></pre>\n\n<p>And that's pretty much it. Here's the code only very slightly adjusted:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\nuse Data::Dumper;\n#use DBD::mysql;\nuse POSIX;\n\nuse strict; use warnings;\n\n#\"titi.log\" or die $!;\n\nopen(FILE,\"&lt;file.log\");\n\nprint \"file loaded \\n\";\n\nmy @lines=&lt;FILE&gt;;\n\n#tout les valeurs du fichier se trouve dans le tableau lines\n\nclose(FILE);\n\nmy @temp_arr;\nmy @splited_line;\n\n\nforeach my $line(@lines)\n{\n    @temp_arr=split('\\s',$line);\n    #converti en nombre\n    $temp_arr[12] =~ s/[^\\d.]//g;\n    #converti en entier\n    $temp_arr[12] = floor($temp_arr[12]);\n\n    #enl\u00e8ve les simple cote\n    $temp_arr[10] =~ s/^'|'$//g;\n\n    if ($temp_arr[12] &gt; 5)\n    {\n        if ($temp_arr[1] eq \"Jan\") { $temp_arr[1] = \"01\" }\n        if ($temp_arr[1] eq \"Feb\") { $temp_arr[1] = \"02\" }\n        if ($temp_arr[1] eq \"Mar\") { $temp_arr[1] = \"03\" }\n        if ($temp_arr[1] eq \"Apr\") { $temp_arr[1] = \"04\" }\n        if ($temp_arr[1] eq \"May\") { $temp_arr[1] = \"05\" }\n        if ($temp_arr[1] eq \"Jun\") { $temp_arr[1] = \"06\" }\n        if ($temp_arr[1] eq \"Jul\") { $temp_arr[1] = \"07\" }\n        if ($temp_arr[1] eq \"Aug\") { $temp_arr[1] = \"08\" }\n        if ($temp_arr[1] eq \"Sep\") { $temp_arr[1] = \"09\" }\n        if ($temp_arr[1] eq \"Oct\") { $temp_arr[1] = \"10\" }\n        if ($temp_arr[1] eq \"Nov\") { $temp_arr[1] = \"11\" }\n        if ($temp_arr[1] eq \"Dec\") { $temp_arr[1] = \"12\" }\n\n        my $temp_splited_line = \"$temp_arr[4]-$temp_arr[1]-$temp_arr[2] $temp_arr[3] $temp_arr[10] $temp_arr[12]\";\n        push @splited_line, $temp_splited_line;\n\n        #my @temp_array = split(' ', $line)\n\n#       $temp_arr[3] $temp_arr[10] $temp_arr[12];\n\n        #2017-07-13 21:34:30 SG_PICK_BOL 5.428\n        #$slow_trans_line = \"$word5-$word2-$word3 $word4 $word11 $word13\";\n        #print \"$slow_trans_line\\n\";\n    }\n}\n\nprint \"$splited_line[0]\\n\";\nprint \"$splited_line[1]\\n\";\n</code></pre>\n\n<p>You'll see that I've added another line to print the second processed line:</p>\n\n<pre><code>print \"$splited_line[1]\\n\";\n</code></pre>\n\n<p>When I run the program, the output looks like this:</p>\n\n<pre><code>file loaded \n2018-11-29 d k 12\n2018-11-30 d k 23\n</code></pre>\n\n<p>There's still quite a few things which could be changed, but this should get you back on track.</p>\n"}], "owner": {"reputation": 41, "user_id": 10618878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PB2EVaHIz2w/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDmDQx8aVaavkod80pjCGVNltSsgg/mo/photo.jpg?sz=128", "display_name": "jack94", "link": "https://stackoverflow.com/users/10618878/jack94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543608454, "creation_date": 1543585568, "last_edit_date": 1543586654, "question_id": 53558781, "link": "https://stackoverflow.com/questions/53558781/perl-put-array-in-a-arry", "title": "perl - put array in a arry", "body": "<p>I want put a variable in a array and take this array by a variable <code>$splited_line[0]</code> </p>\n\n<p>My script is:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\nuse Data::Dumper;\nuse DBD::mysql;\nuse POSIX;\n\n#use strict; use warnings;\n\n#\"titi.log\" or die $!;\n\nopen(FILE,\"&lt;file.log\");\n\nprint \"file loaded \\n\";\n\nmy @lines=&lt;FILE&gt;;\n\n#tout les valeurs du fichier se trouve dans le tableau lines\n\nclose(FILE);\n\nmy @temp_arr;\n\n\nforeach my $line(@lines)\n{\n    @temp_arr=split('\\s',$line);\n    #converti en nombre\n    $temp_arr[12] =~ s/[^\\d.]//g;\n    #converti en entier\n    $temp_arr[12] = floor($temp_arr[12]);\n\n    #enl\u00e8ve les simple cote\n    $temp_arr[10] =~ s/^'|'$//g;\n\n    if ($temp_arr[12] &gt; 5)\n    {\n        if ($temp_arr[1] eq \"Jan\")\n        {\n            $temp_arr[1] = \"01\"\n        }\n        if ($temp_arr[1] eq \"Feb\")\n        {\n            $temp_arr[1] = \"02\"\n        }\n        if ($temp_arr[1] eq \"Mar\")\n        {\n            $temp_arr[1] = \"03\"\n        }\n        if ($temp_arr[1] eq \"Apr\")\n        {\n            $temp_arr[1] = \"04\"\n        }\n        if ($temp_arr[1] eq \"May\")\n        {\n            $temp_arr[1] = \"05\"\n        }\n        if ($temp_arr[1] eq \"Jun\")\n        {\n            $temp_arr[1] = \"06\"\n        }\n        if ($temp_arr[1] eq \"Jul\")\n        {\n            $temp_arr[1] = \"07\"\n        }\n        if ($temp_arr[1] eq \"Aug\")\n        {\n            $temp_arr[1] = \"08\"\n        }\n        if ($temp_arr[1] eq \"Sep\")\n        {\n            $temp_arr[1] = \"09\"\n        }\n        if ($temp_arr[1] eq \"Oct\")\n        {\n            $temp_arr[1] = \"10\"\n        }\n        if ($temp_arr[1] eq \"Nov\")\n        {\n            $temp_arr[1] = \"11\"\n        }\n        if ($temp_arr[1] eq \"Dec\")\n        {\n            $temp_arr[1] = \"12\"\n        }\n\n        $temp_splited_line = \"$temp_arr[4]-$temp_arr[1]-$temp_arr[2] $temp_arr[3] $temp_arr[10] $temp_arr[12]\";\n        my @splited_line = $temp_splited_line;\n\n        #my @temp_array = split(' ', $line)\n\n        $temp_arr[3] $temp_arr[10] $temp_arr[12];\n\n        #2017-07-13 21:34:30 SG_PICK_BOL 5.428\n        #$slow_trans_line = \"$word5-$word2-$word3 $word4 $word11 $word13\";\n        #print \"$slow_trans_line\\n\";\n    }\n}\n\nprint \"$splited_line[0]\\n\";\n</code></pre>\n\n<p>I want a line not a word in the output value print \"$splited_line[0]\\n\";.</p>\n"}, {"tags": ["bash", "perl", "awk", "grep"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1543579460, "post_id": 53557061, "comment_id": 93979684, "body": "could you please mention clear expected output along with method of getting it and let us know then?"}, {"owner": {"reputation": 17, "user_id": 9106494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4ec5892837869b52094eb40c1987ff?s=128&d=identicon&r=PG&f=1", "display_name": "RCV", "link": "https://stackoverflow.com/users/9106494/rcv"}, "reply_to_user": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1543579765, "post_id": 53557061, "comment_id": 93979847, "body": "From the Awk command i get all the lines between start pattern1...end pattern1,But i have 1000 of such prints, so i need the bunch of the lines of start pattern1 to end pattern1 of thos which get matched with the matching pattern  Ex:     my file has like the below linesstart pattern1 line1 Matching pattern can be here line2 Matching Pattern can be here line3 line4 ... end pattern1 . start pattern1 line1 line2 start pattern1  start pattern1 line1 Matching pattern can be here line2 start pattern1"}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 5, "creation_date": 1543579863, "post_id": 53557061, "comment_id": 93979896, "body": "If you&#39;re trying to do this from within a perl script then there is no need to involve awk or grep. Just use built-in perl functionality."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1543580329, "post_id": 53557061, "comment_id": 93980131, "body": "@RamCharan, comments are NOT meant for explanation of question, please update your question with proper details and let us know then."}, {"owner": {"reputation": 17, "user_id": 9106494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4ec5892837869b52094eb40c1987ff?s=128&d=identicon&r=PG&f=1", "display_name": "RCV", "link": "https://stackoverflow.com/users/9106494/rcv"}, "reply_to_user": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1543580505, "post_id": 53557061, "comment_id": 93980216, "body": "@RavinderSingh  sorry for that i have updated this with expected details. Thanks for bringing up that."}, {"owner": {"reputation": 17, "user_id": 9106494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4ec5892837869b52094eb40c1987ff?s=128&d=identicon&r=PG&f=1", "display_name": "RCV", "link": "https://stackoverflow.com/users/9106494/rcv"}, "reply_to_user": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1543580565, "post_id": 53557061, "comment_id": 93980243, "body": "@Tom Fenech can you help me how to call the builr in function]"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1543581132, "post_id": 53557061, "comment_id": 93980568, "body": "The answer to the question you asked is that <code>q()</code> doesn&#39;t interpolate variables, but this whole code is terrible and should be thrown away."}, {"owner": {"reputation": 17, "user_id": 9106494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4ec5892837869b52094eb40c1987ff?s=128&d=identicon&r=PG&f=1", "display_name": "RCV", "link": "https://stackoverflow.com/users/9106494/rcv"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1543581496, "post_id": 53557061, "comment_id": 93980769, "body": "but from those grepping it makes my work easier and reduces a lot of time @melpomene"}, {"owner": {"reputation": 4745, "user_id": 4289380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c4c5f526ed9027b3ee1d0f0ddad3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Corentin Limier", "link": "https://stackoverflow.com/users/4289380/corentin-limier"}, "edited": false, "score": 1, "creation_date": 1543582878, "post_id": 53557061, "comment_id": 93981523, "body": "@RamCharan if you need to update a perl script, you need to learn perl. Calling system() from any language just because you don&#39;t know the syntax is bad practice."}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 5, "creation_date": 1543585650, "post_id": 53557061, "comment_id": 93982945, "body": "awk | grep is an anti-pattern.  Invoking awk inside perl is an anti-pattern.  Invoking awk piped to grep inside perl is anti-matter and may lead to the destruction of the known universe."}, {"owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 0, "creation_date": 1543588031, "post_id": 53557061, "comment_id": 93984240, "body": "It&#39;s amazing how often some version of this question pops up. I think I&#39;ve near-answered it a few times, lol. Search the site, man. :) <a href=\"https://stackoverflow.com/questions/34976613/search-for-text-between-two-patterns-with-multiple-lines-in-between\">Here</a>&#39;s the first hit I found.  Check the manuals for <a href=\"https://www.gnu.org/software/sed/manual/sed.html\" rel=\"nofollow noreferrer\"><code>sed</code></a> &amp; <a href=\"https://www.gnu.org/software/gawk/manual/html_node/index.html#SEC_Contents\" rel=\"nofollow noreferrer\"><code>awk</code></a> and definitely for <a href=\"https://perldoc.perl.org/index-tutorials.html\" rel=\"nofollow noreferrer\"><code>perl</code></a>."}, {"owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 0, "creation_date": 1543588123, "post_id": 53557061, "comment_id": 93984273, "body": "&quot;Invoking awk piped to grep inside perl is anti-matter and may lead to the destruction of the known universe.&quot; - <a href=\"https://stackoverflow.com/users/140750/william-pursell\">William Pursell</a>, you are my new favorite person. :)"}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1543594635, "post_id": 53557061, "comment_id": 93988049, "body": "&quot;Invoking awk piped to grep inside perl...&quot; - <b>William Pursell</b>, and wrap all into a Python script for good measure."}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "reply_to_user": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 0, "creation_date": 1543604869, "post_id": 53557061, "comment_id": 93992686, "body": "@PaulHodges Wow!  That&#39;s high praise.  Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 9106494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4ec5892837869b52094eb40c1987ff?s=128&d=identicon&r=PG&f=1", "display_name": "RCV", "link": "https://stackoverflow.com/users/9106494/rcv"}, "edited": false, "score": 0, "creation_date": 1545290250, "post_id": 53558339, "comment_id": 94575477, "body": "Thanks Kjetil for the info that was so helpful, and also 1 more query is instead of passing input file from command line can we program that in the above code ??"}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "reply_to_user": {"reputation": 17, "user_id": 9106494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4ec5892837869b52094eb40c1987ff?s=128&d=identicon&r=PG&f=1", "display_name": "RCV", "link": "https://stackoverflow.com/users/9106494/rcv"}, "edited": false, "score": 0, "creation_date": 1545949557, "post_id": 53558339, "comment_id": 94741652, "body": "@RCV \u2192 Yes, just add <code>open my $fh, &quot;filename.txt&quot; or die;</code> as the first line. And then replace <code>&lt;&gt;</code> with <code>&lt;$fh&gt;</code>. (<i>fh</i> is short for filehandle)"}], "tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1543585217, "last_edit_date": 1543585217, "creation_date": 1543583839, "answer_id": 53558339, "question_id": 53557061, "link": "https://stackoverflow.com/questions/53557061/with-awk-and-grep-i-need-to-print-some-lines/53558339#53558339", "title": "With Awk and Grep i need to print some lines", "body": "<p>No need to summon awk from within perl since perl is much more powerful than awk.</p>\n\n<p>It's not clear to me whether you want <em>every</em> line between <code>start pattern1</code> and <code>end pattern1</code> if there is at least one match inside, or <em>just</em> the matching lines.</p>\n\n<p>If every line between start and end if match:</p>\n\n<pre><code>my @blocks = join(\"\",&lt;&gt;)=~/start pattern1\\s*(.*?)end pattern1/gsi;\nprint grep /matching pattern/i, @blocks;\n</code></pre>\n\n<p>If every line INCLUDING start|end pattern1:</p>\n\n<pre><code>my @blocks = join(\"\",&lt;&gt;)=~/(start pattern1.*?end pattern1\\s*)/gsi;\n</code></pre>\n\n<p>If just lines with /matching pattern/ between start and end:</p>\n\n<pre><code>print grep { /start pattern1/i../end pattern1/i and /matching pattern/i } &lt;&gt;;\n</code></pre>\n\n<p>Put that inside a file program.pl and run:</p>\n\n<pre><code>perl program.pl inputfile &gt; outputfile\n</code></pre>\n\n<p>Some explanation might be needed: <code>join(\"\",&lt;&gt;)</code> returns the whole inputfile as one multi-line string. The <code>/gsi</code> modifiers means: <code>g</code> matches globally so that the <code>@block</code> array will contain what is matched by the parentheses, one array element for each match (without <code>g</code> the <code>@block</code> array would just get the first block of lines), <code>s</code> means that <code>.</code> also matches newline characters which it otherwise wouldn't and <code>i</code> matches by ignoring case (sees no difference between a-z and A-Z letters). The question mark in <code>.*?</code> means no-greedy matching of every character, that is, match until the <em>next</em> <code>end pattern1</code> and not the last. The <code>&lt;&gt;</code> returns the lines of <code>inputfile</code> (args after <code>perl program.pl</code>) as an array of strings. The <code>..</code> is the flip-flop operator which is true after the left side becomes true and false after the right side becomes true and stays false until the left side is true again and so on.</p>\n"}], "owner": {"reputation": 17, "user_id": 9106494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4ec5892837869b52094eb40c1987ff?s=128&d=identicon&r=PG&f=1", "display_name": "RCV", "link": "https://stackoverflow.com/users/9106494/rcv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543585217, "creation_date": 1543578888, "last_edit_date": 1543580396, "question_id": 53557061, "link": "https://stackoverflow.com/questions/53557061/with-awk-and-grep-i-need-to-print-some-lines", "title": "With Awk and Grep i need to print some lines", "body": "<p>I am fresher in writing perl scripts,so i am asking this as question or support on this, below is the code</p>\n\n<pre><code>start pattern1\n\nline1\nMatching pattern can be here\nline2\nMatching Pattern can be here\nline3\nline4\n...\nend pattern1\n.\nstart pattern1\nline1\nline2\nstart pattern1\n\nstart pattern1\nline1\nMatching pattern can be here\nline2\nstart pattern1\n</code></pre>\n\n<p>so from perl i need to grep the lines between start pattern1 ... end pattern1,\nfor this i am using awk command to grep</p>\n\n<pre><code> $cmd = q(awk '/start pattern1/,end pattern1 /' x.file );\n $n1 = system($cmd);\n</code></pre>\n\n<p>For this output works fine,Below is the output,</p>\n\n<pre><code>start pattern1\nline1\n**Matching pattern can be here**\nline2\n**Matching Pattern can be here**\n...\nend pattern1\n</code></pre>\n\n<p>But in the files i have 1000 of lines like this, so i need to grep those lines which have Matching pattern. i.e i need to grep only those starting pattern lines to ending pattern lines has matching pattern</p>\n\n<p>For this i tried </p>\n\n<pre><code> $cmd = q(awk '/start pattern1/,end pattern1 /' x.file | grep  '$n2\\|line4');\n $n1 = system($cmd);\n</code></pre>\n\n<p>But when i use the above command i don't see any output\nHere $n2 contains some pattern which is grepped from another file.</p>\n\n<p>if i use direct matched patternin place of $n2 it works fine, why cant i use $n2 here?</p>\n\n<p>Note:i am using this in perl script</p>\n\n<p>From the Awk command i get all the lines between start pattern1...end pattern1,But i have 1000 of such prints, so i need the bunch of the lines of start pattern1 to end pattern1 of thos which get matched with the matching pattern</p>\n\n<p>The expected output when i do is,</p>\n\n<pre><code>start pattern1\nline1\nMatching pattern can be here\nline2\nMatching Pattern can be here\nline3\nline4\n...\nend pattern1 \n\n start pattern1\n    line1\n    Matching pattern can be here\n    line2\n    start pattern1\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1543567642, "post_id": 53553939, "comment_id": 93973490, "body": "<code>$split_line</code> is not an array, it&#39;s a scalar. Do you mean <code>@split_line</code>?"}, {"owner": {"reputation": 39, "user_id": 10613978, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3kUM4vn45gg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBwM0tjbu2M1V57-18ABRiYnOELsQ/mo/photo.jpg?sz=128", "display_name": "dfg ert", "link": "https://stackoverflow.com/users/10613978/dfg-ert"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1543567897, "post_id": 53553939, "comment_id": 93973597, "body": "yes, i mean @split_line"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1543568916, "post_id": 53553939, "comment_id": 93974087, "body": "<code>my @splited_line = @temp_arr[0 .. 12];</code> Note the <a href=\"http://p3rl.org/my\" rel=\"nofollow noreferrer\">my</a>: Please turn on <a href=\"http://p3rl.org/strict\" rel=\"nofollow noreferrer\">strict</a> and <a href=\"http://p3rl.org/warnings\" rel=\"nofollow noreferrer\">warnings</a>."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1543569304, "post_id": 53553939, "comment_id": 93974283, "body": "Your split pattern seems to be incorrect. <code>my @temp_array = split(&#39; &#39;, $line)</code> or <code>= split(&#47;\\s+&#47;, $line)</code>"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1543569466, "post_id": 53553939, "comment_id": 93974366, "body": "If you need to re-order temp_array fields then use an array slice, e.g. <code>my @interesting_array = @temp_array[3,4,5,10,11]</code>, i.e. <code>@interesting_array</code> gets fields 4, 5, 6, 11 and 12 from <code>$line</code>"}, {"owner": {"reputation": 39, "user_id": 10613978, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3kUM4vn45gg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBwM0tjbu2M1V57-18ABRiYnOELsQ/mo/photo.jpg?sz=128", "display_name": "dfg ert", "link": "https://stackoverflow.com/users/10613978/dfg-ert"}, "edited": false, "score": 0, "creation_date": 1543571131, "post_id": 53553939, "comment_id": 93975288, "body": "i put that @splited_line = @temp_arr[0,1,2,3,4,5,6,7,8,9,10,11,12]; but output with print &quot;$splited_line[0,1,3,5]&quot;; and result is $splited_line[5], i don&#39;t know why because i want display word 0,1,3,5"}, {"owner": {"reputation": 39, "user_id": 10613978, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3kUM4vn45gg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBwM0tjbu2M1V57-18ABRiYnOELsQ/mo/photo.jpg?sz=128", "display_name": "dfg ert", "link": "https://stackoverflow.com/users/10613978/dfg-ert"}, "edited": false, "score": 0, "creation_date": 1543575316, "post_id": 53553939, "comment_id": 93977531, "body": "i put that \t\t\tmy @splited_line = &quot;$temp_arr[4]-$temp_arr[1]-$temp_arr[2] $temp_arr[3] $temp_arr[10] $temp_arr[12]&quot;; push(@splited_line);                                                      print &quot;$splited_line[0]&quot;;    #but not work"}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1543601200, "post_id": 53556538, "comment_id": 93991060, "body": "One more nitpick; don&#39;t <code>use POSIX;</code> because it will load hundreds of symbols into your package, either <code>use POSIX ();</code> or import the specific things you need from it."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1543577814, "last_edit_date": 1543577814, "creation_date": 1543576879, "answer_id": 53556538, "question_id": 53553939, "link": "https://stackoverflow.com/questions/53553939/perl-put-the-value-of-array-in-a-array/53556538#53556538", "title": "perl - put the value of array in a array", "body": "<p>Your code looks rather strange.</p>\n\n<pre><code>#!/usr/bin/perl use DBI; use Data::Dumper; use DBD::mysql; use POSIX;\n</code></pre>\n\n<p>That doesn't look like it should all be on the same line.</p>\n\n<pre><code>#use strict; use warnings;\n</code></pre>\n\n<p>Commenting those out is a very bad idea!</p>\n\n<pre><code>foreach my $line(@lines) {\n\n    @temp_arr=split('\\s',$line);\n\n    push(@temp_arr);\n</code></pre>\n\n<p>I'm not sure what you think you're doing here? <code>push()</code> takes (at least) two arguments - an array (which you have) and some items to add to the array (which you've omitted). Without a second argument, <code>push()</code> does nothing.</p>\n\n<pre><code>    #print \"$temp_arr[0] $temp_arr[1] $temp_arr[2] $temp_arr[3] $temp_arr[4] $temp_arr[5] $temp_arr[6] $temp_arr[7] $temp_arr[8] $temp_arr[9] $temp_arr[10] $temp_arr[11] $temp_arr[12]\\n\";\n</code></pre>\n\n<p>This seems like a very long way to write <code>print \"@temp_arr\\n\"</code> :-)</p>\n\n<pre><code>    @splited_line = \"$temp_arr[0] $temp_arr[1] $temp_arr[2] $temp_arr[3] $temp_arr[4] $temp_arr[5] $temp_arr[6] $temp_arr[7] $temp_arr[8] $temp_arr[9] $temp_arr[10] $temp_arr[11] $temp_arr[12]\\n\";\n</code></pre>\n\n<p>Ok, so this is where you're going wrong. You are putting all of the elements of <code>@temp_arr</code> into a string and then assigning that (single) string to <code>@splited_line</code>. This leaves <code>@splited_line</code> with one element - containing your string. What you probably want is just <code>@splited_line = @temp_arr</code>.</p>\n\n<pre><code>    push(@splited_line);\n</code></pre>\n\n<p>Another pointless <code>push()</code>. Why are you adding those to your code?</p>\n\n<pre><code>    print $splited_line[2];\n</code></pre>\n\n<p>As <code>@splited_line</code> only contains one element, <code>$splited_line[2]</code> is going to contain <code>undef</code>.</p>\n\n<pre><code>}\n</code></pre>\n\n<p>I think you want something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\n# strict and warnings before all other code\nuse strict;\nuse warnings;\n\nuse DBI;\nuse Data::Dumper;\n# You don't usually need to load DBD modules\nuse DBD::mysql;\nuse POSIX;\n\n# 3-arg open() and lexical filehandle\n# Check return from open().\nopen(my fh, '&lt;', 'titi.log') or die \"Cannot open file: $!\\n\";\nprint \"file loaded \\n\";\n\n# Do you really need to read the whole file in here?\nmy @lines = &lt;$fh&gt;; #tout les valeurs du fichier se trouve dans le tableau lines \nclose($fh);\n\n# No need to quote this values.\nprint $lines[0];\nprint $lines[83000];\n\nforeach (@lines) {\n    # By default, split() splits $_ on whitespace\n    my @temp_arr = split;\n\n    print \"@temp_arr\\n\";\n\n    my @splited_line = @temp_arr;\n\n    print $splited_line[2]; \n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10613978, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3kUM4vn45gg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBwM0tjbu2M1V57-18ABRiYnOELsQ/mo/photo.jpg?sz=128", "display_name": "dfg ert", "link": "https://stackoverflow.com/users/10613978/dfg-ert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 53556538, "answer_count": 1, "score": 1, "last_activity_date": 1543578830, "creation_date": 1543566927, "last_edit_date": 1543578830, "question_id": 53553939, "link": "https://stackoverflow.com/questions/53553939/perl-put-the-value-of-array-in-a-array", "title": "perl - put the value of array in a array", "body": "<p>I want to put a the value of \n<code>$temp_arr[0] $temp_arr[1] $temp_arr[2] $temp_arr[3] $temp_arr[4] $temp_arr[5] $temp_arr[6] $temp_arr[7] $temp_arr[8] $temp_arr[9] $temp_arr[10] $temp_arr[11] $temp_arr[12]</code>  in splited_line array, but I don't know how.</p>\n\n<p>my script is :</p>\n\n<pre><code>#!/usr/bin/perl use DBI; use Data::Dumper; use DBD::mysql; use POSIX;\n#use strict; use warnings;\n\n#\"/mnt/toto/titi.log\" or die $!;\n\nopen(FILE,\"&lt;titi.log\"); print \"file loaded \\n\"; my @lines=&lt;FILE&gt;; #tout les valeurs du fichier se trouve dans le tableau lines close(FILE);\n#my @all_words; my @temp_arr;\n#my @splited_line;\n\nprint \"$lines[0]\"; print \"$lines[83000]\";\n\nforeach my $line(@lines) {\n\n@temp_arr=split('\\s',$line);\n\npush(@temp_arr);\n\nprint \"$temp_arr[0] $temp_arr[1] $temp_arr[2] $temp_arr[3] $temp_arr[4] $temp_arr[5] $temp_arr[6] $temp_arr[7] $temp_arr[8] $temp_arr[9] $temp_arr[10] $temp_arr[11] $temp_arr[12]\\n\";\n\n@splited_line = \"$temp_arr[0] $temp_arr[1] $temp_arr[2] $temp_arr[3] $temp_arr[4] $temp_arr[5] $temp_arr[6] $temp_arr[7] $temp_arr[8] $temp_arr[9] $temp_arr[10] $temp_arr[11] $temp_arr[12]\\n\"; #this line don't work\n\nprint $splited_line[2]; \n\n}\n</code></pre>\n\n<p>I want a result as $splited_line[2], thanks for any information.</p>\n\n<p>update</p>\n\n<p>I do this :</p>\n\n<pre><code>foreach my $line(@lines) {\n\n@temp_arr=split('\\s',$line);\n\npush(@temp_arr);\n\n#print \"$temp_arr[0] $temp_arr[1] $temp_arr[2] $temp_arr[3] $temp_arr[4] $temp_arr[5] $temp_arr[6] $temp_arr[7] $temp_arr[8] $temp_arr[9] $temp_arr[10] $temp_arr[11] $temp_arr[12]\\n\";\n\n@splited_line = \"$temp_arr[0] $temp_arr[1] $temp_arr[2] $temp_arr[3] $temp_arr[4] $temp_arr[5] $temp_arr[6] $temp_arr[7] $temp_arr[8] $temp_arr[9] $temp_arr[10] $temp_arr[11] $temp_arr[12]\\n\";\n\n\npush(@splited_line);\n\nprint $splited_line[2];\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Use of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\nUse of uninitialized value in print at test7.pl line 35.\n</code></pre>\n\n<p>I don't know why </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 91433, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 0, "creation_date": 1543564900, "post_id": 53552820, "comment_id": 93972436, "body": "You might generate your branches / values by taking the separate groups: <code>^((\\d+)\\.(\\d+))((?:\\.\\d+\\.\\d+)*(\\.(\\d+)\\.(\\d+)))*$</code> <a href=\"https://regex101.com/r/F6fHSD/1/\" rel=\"nofollow noreferrer\">Demo</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "edited": false, "score": 0, "creation_date": 1543565084, "post_id": 53553185, "comment_id": 93972516, "body": "the answer is somewhat unrelated to the question. It was about regex. Sure it is possible doing it by manually using splits and a bunch of joins and splices. But just a split is far not enough."}], "tags": [], "owner": {"reputation": 11, "user_id": 10726439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nsxy.png?s=128&g=1", "display_name": "Orange", "link": "https://stackoverflow.com/users/10726439/orange"}, "is_accepted": false, "score": 1, "last_activity_date": 1543565176, "last_edit_date": 1592644375, "creation_date": 1543563450, "answer_id": 53553185, "question_id": 53552820, "link": "https://stackoverflow.com/questions/53552820/subdivide-version-number-with-regular-expressions/53553185#53553185", "title": "subdivide version number with regular expressions", "body": "<h1>you can split the string use dot</h1>\n<h1>and join it\u3002</h1>\n<pre><code>my @v=split /\\./,$versionstr;\n\nreturn if (scalar @array) &lt;4;\n</code></pre>\n<h1>more...</h1>\n"}, {"comments": [{"owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "edited": false, "score": 0, "creation_date": 1543570872, "post_id": 53553250, "comment_id": 93975170, "body": "great that is that i was looking for"}, {"owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "edited": false, "score": 0, "creation_date": 1543571294, "post_id": 53553250, "comment_id": 93975384, "body": "One little thing (but i would also be happy with the current solution): i resharpen the negative test cases"}], "tags": [], "owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1543574541, "last_edit_date": 1543574541, "creation_date": 1543563723, "answer_id": 53553250, "question_id": 53552820, "link": "https://stackoverflow.com/questions/53552820/subdivide-version-number-with-regular-expressions/53553250#53553250", "title": "subdivide version number with regular expressions", "body": "<p>You need a little change in the way you have grouped your captures. You need to take out the dot out of baseBranch group (of course) and need to change your branch base group to this regex,</p>\n\n<pre><code>(?&lt;baseBranch&gt;\\d+(?:\\.\\d+)+)\n</code></pre>\n\n<p>which basically captures the first digit and then recursively expects data of form <code>\\.\\d+</code> one or more.</p>\n\n<p>Your over all regex after modification becomes,</p>\n\n<pre><code>^(?&lt;curBranch&gt;(?:(?&lt;baseBranch&gt;\\d+(?:\\.\\d+)+)\\.)?\\d+\\.)(?&lt;curRevision&gt;\\d+)$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/W68FE7/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>Let me know if this is what you needed. And if yes, then let me know if you want me to add explanation to this regex further.</p>\n\n<p><strong>Edit: For sharpened negative test cases</strong></p>\n\n<p>You can use this regex for matching your new cases, which will match only if baseBranch group is having even number (including 0 like 2, 4, 6 and so on) of dot separated numbers.</p>\n\n<pre><code>^(?&lt;curBranch&gt;(?:(?&lt;baseBranch&gt;\\d+\\.\\d+(?:(?:\\.\\d+){2})*)\\.)?\\d+\\.)(?&lt;curRevision&gt;\\d+)$\n</code></pre>\n\n<p>This regex will match if the whole input is having even number of dot separated numbers. Hence these will match,</p>\n\n<pre><code>1.36.1.5\n1.31\n1.14.2.21.1.16.1.13\n1.31.34.2.4.4.5.6\n</code></pre>\n\n<p>But these does not match as these are odd number of numbers</p>\n\n<pre><code>1.31.34\n1.31.34.2.4\n1.31.34.2.4.4.5\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/W68FE7/2\" rel=\"nofollow noreferrer\">Demo for updated and better regex</a></p>\n"}], "owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 53553250, "answer_count": 2, "score": 0, "last_activity_date": 1543947639, "creation_date": 1543561660, "last_edit_date": 1543571240, "question_id": 53552820, "link": "https://stackoverflow.com/questions/53552820/subdivide-version-number-with-regular-expressions", "title": "subdivide version number with regular expressions", "body": "<p>I have a regular expression that almost fits my needs:</p>\n\n<p>I want to split some version numbers into different parts.\nThe expected outcome is:</p>\n\n<pre><code>                      baseBranch           curBranch           curRevision\n1.36.1.5                1.36                 1.36.1.             5\n1.31                    &lt;empty&gt;              1.                  31\n1.14.2.21.1.16.1.13     1.14.2.21.1.16       1.14.2.21.1.16.1.   13\n1.31.34                 &lt;no match (illegal number - always have to be pairs)&gt;\n1.31.34.2.4             &lt;no match (illegal number - always have to be pairs)&gt;\n1.31.34.2.4.4.5         &lt;no match (illegal number - always have to be pairs)&gt;\n</code></pre>\n\n<p>the expression</p>\n\n<pre><code>/^(?&lt;curBranch&gt;(?&lt;baseBranch&gt;(?:\\d+\\.\\d+\\.)*?)?\\d+\\.)(?&lt;curRevision&gt;\\d+)$/\n</code></pre>\n\n<p>The expression almost does what it should but i could not get rid of the last dot at the baseBranch field (the dot at the curBranch is intended)</p>\n\n<p>currently the output looks as follows</p>\n\n<pre><code>                      baseBranch           curBranch           curRevision\n1.36.1.5                1.36.                1.36.1.             5\n1.31                    &lt;empty&gt;              1.                  31\n1.14.2.21.1.16.1.13     1.14.2.21.1.16.      1.14.2.21.1.16.1.   13\n1.31.34                 &lt;no match (illegal number - always have to be pairs)&gt;\n1.31.34.2.4             &lt;no match (illegal number - always have to be pairs)&gt;\n1.31.34.2.4.4.5         &lt;no match (illegal number - always have to be pairs)&gt;\n</code></pre>\n\n<p>A link for online for testing:\n<a href=\"https://regex101.com/r/0aU07q/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/0aU07q/3</a></p>\n\n<p>Note:<br>\nthe negative cases are nice to have - they should not appear in the data</p>\n"}, {"tags": ["arrays", "json", "perl", "csv"], "comments": [{"owner": {"reputation": 13, "user_id": 10725887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee76b222098d3e23506070d2c2933a42?s=128&d=identicon&r=PG&f=1", "display_name": "Sultan", "link": "https://stackoverflow.com/users/10725887/sultan"}, "edited": false, "score": 0, "creation_date": 1543552063, "post_id": 53551242, "comment_id": 93968359, "body": "im pretty new to shell scripting and have absolute zero knowledge in PERL, kindly help me out or guide me in the right direction to achieve this."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543558076, "post_id": 53551242, "comment_id": 93969918, "body": "How did you put all this together with &quot;zero knowledge&quot; of Perl? This is pretty good, and your attempt is right on."}, {"owner": {"reputation": 13, "user_id": 10725887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee76b222098d3e23506070d2c2933a42?s=128&d=identicon&r=PG&f=1", "display_name": "Sultan", "link": "https://stackoverflow.com/users/10725887/sultan"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543562179, "post_id": 53551242, "comment_id": 93971376, "body": "tweaking code from the web."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543562341, "post_id": 53551242, "comment_id": 93971452, "body": "Well, a good job :).  You were right on (to seek an array because of that 2), and as you can see in my answer only that precedence foiled it. I hope that further comments are of some use as well"}, {"owner": {"reputation": 13, "user_id": 10725887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee76b222098d3e23506070d2c2933a42?s=128&d=identicon&r=PG&f=1", "display_name": "Sultan", "link": "https://stackoverflow.com/users/10725887/sultan"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1543598676, "post_id": 53551242, "comment_id": 93989938, "body": "Thanks! I actually spent close to a week trying to make it work. :)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10725887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee76b222098d3e23506070d2c2933a42?s=128&d=identicon&r=PG&f=1", "display_name": "Sultan", "link": "https://stackoverflow.com/users/10725887/sultan"}, "edited": false, "score": 0, "creation_date": 1543594530, "post_id": 53552153, "comment_id": 93987999, "body": "Thanks a ton! I implemented ur suggestion. And it works! However I&#39;m getting this error while &quot;&quot; appears inside the substitute-codes element: Can&#39;t use string (&quot;&quot;) as an ARRAY ref while &quot;strict refs&quot;. went through a lot of material, but none seem to address the issue from this perspective."}, {"owner": {"reputation": 13, "user_id": 10725887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee76b222098d3e23506070d2c2933a42?s=128&d=identicon&r=PG&f=1", "display_name": "Sultan", "link": "https://stackoverflow.com/users/10725887/sultan"}, "edited": false, "score": 0, "creation_date": 1543597382, "post_id": 53552153, "comment_id": 93989359, "body": "if( $_-&gt;{&quot;substitute-codes&quot;} eq &quot;&quot;) { my $sub_cd = &#39;&quot;&#39; . $_-&gt;{&quot;substitute-codes&quot;} . &#39;&quot;&#39; ;} else { my $sub_cd = &#39;&quot;&#39; . join(&#39;,&#39;, @{$_-&gt;{&#39;substitute-codes&#39;}}) . &#39;&quot;&#39; ;} I tried this, but am getting: Global symbol &quot;$sub_cd&quot; requires explicit package name"}, {"owner": {"reputation": 13, "user_id": 10725887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee76b222098d3e23506070d2c2933a42?s=128&d=identicon&r=PG&f=1", "display_name": "Sultan", "link": "https://stackoverflow.com/users/10725887/sultan"}, "edited": false, "score": 0, "creation_date": 1543600111, "post_id": 53552153, "comment_id": 93990577, "body": "I used shell script to pre process the file used in perl script. I used line 1 : perl -pi -w -e &#39;s/&quot;substitute-codes&quot;:&quot;&quot;/&quot;substitute-codes&quot;:[&quot;0&quot;]/g;&#39; output_array.json line 2 :perl -pi -w -e &#39;s/&quot;primary-codes&quot;:&quot;&quot;/&quot;primary-codes&quot;:[&quot;0&quot;]/g;&#39; output_array.json This fixed the issue.. Yay!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 13, "user_id": 10725887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee76b222098d3e23506070d2c2933a42?s=128&d=identicon&r=PG&f=1", "display_name": "Sultan", "link": "https://stackoverflow.com/users/10725887/sultan"}, "edited": false, "score": 0, "creation_date": 1543606534, "post_id": 53552153, "comment_id": 93993333, "body": "@Sultan Great :).  The error you quote means that <code>$_-&gt;{&#39;primary-codes&#39;}</code> does not return an arrayref at all, which is what <code>@{ }</code> needs. So the <code>&quot;substitute-codes&quot;</code> in JSON may not be an array? Then you&#39;d indeed be best served by a bit of code to decide that (instead of cramming it inline). The builtin <a href=\"http://perldoc.perl.org/functions/ref.html\" rel=\"nofollow noreferrer\">ref</a> can tell, for instance: <code>my $r = ref $_-&gt;{&#39;primary-codes&#39;}; if (not $r) { #just a string, not reference at all, no need for @{} } elsif ($r eq &#39;ARRAYREF&#39;) { # ok, do the @{...} } else { # oups, unexpected? }</code>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1543951663, "last_edit_date": 1543951663, "creation_date": 1543558011, "answer_id": 53552153, "question_id": 53551242, "link": "https://stackoverflow.com/questions/53551242/error-while-converting-json-array-to-csv-using-perl/53552153#53552153", "title": "error while converting json array to csv using perl", "body": "<p>The one detail that subverted your honest attempt is the precedence.  In</p>\n\n<pre><code>my $prim_cd = '\"' . join \",\", @{ $perl-&gt;[0]{\"primary-codes\"} } . '\"';\n</code></pre>\n\n<p>the list <code>@{ $perl-&gt;[0]...}</code> is first concatenated (<code>.</code>) with <code>\"</code>, and as the <code>.</code> operator imposes scalar context the number of elements in the list is used, yielding <code>2\"</code>. Only then does <code>join</code> do its thing, \"joining\" the given list (which is a single element, <code>2\"</code>)</p>\n\n<p>Just add parenthesis</p>\n\n<pre><code>for (@$perl){\n    my $nk_id   = '\"' . $_-&gt;{\"id\"} . '\"';\n    my $prim_cd = '\"' . join(',', @{$_-&gt;{'primary-codes'}}) . '\"';\n    my $sub_cd  = '\"' . join(',', @{$_-&gt;{'substitute-codes'}}) . '\"'; \n    my $fk_id   = '\"' . $_-&gt;{\"fk-id\"} . '\"'; \n    say $fh \"$nk_id,$prim_cd,$sub_cd,$fk_id\";\n}\n</code></pre>\n\n<p>A few notes.</p>\n\n<ul>\n<li><p>You forgot <code>use feature qw(say);</code> without which <code>say</code> won't work. </p></li>\n<li><p>What is shown has no use of <code>use utf8;</code>, which is about the source file itself</p></li>\n<li><p>What is shown doesn't need <code>use lib</code>; that specifies paths to be searched for modules. (It won't help in finding files, if that was the idea.).  However, once we are at it ...</p></li>\n<li><p>I avoid using <code>.</code> as it can create problems ranging from confusion to direct errors. For one, do you mean the current working directory, or the directory of the script? They aren't the same. Assuming that you use it for the script's directory (which it isn't), replace it with</p>\n\n<pre><code>use FindBin qw($RealBin);\nuse lib $RealBin;\n</code></pre></li>\n<li><p>To slurp a file you can also do</p>\n\n<pre><code>my $json = do {\n    local $/;\n    open my $fh, '&lt;', 'output_array.json' or die $!;\n    &lt;$fh&gt;;\n};\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 13, "user_id": 10725887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee76b222098d3e23506070d2c2933a42?s=128&d=identicon&r=PG&f=1", "display_name": "Sultan", "link": "https://stackoverflow.com/users/10725887/sultan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 53552153, "answer_count": 1, "score": 1, "last_activity_date": 1543951663, "creation_date": 1543551985, "question_id": 53551242, "link": "https://stackoverflow.com/questions/53551242/error-while-converting-json-array-to-csv-using-perl", "title": "error while converting json array to csv using perl", "body": "<p>im using a perl script to convert from JSON to csv. the sampple json is like this,</p>\n\n<pre><code>[{\"id\":100,\n\"primary-codes\":[\"E0181V00\",\"E0226V00\"],\n\"substitute-codes\":[\"E0181D00\",\"E0226100\"],\n\"fk-id\":2294}]\n</code></pre>\n\n<p>and the perl code i used to convert this to csv is,</p>\n\n<pre><code>#!/usr/bin/perl\nuse utf8;\nuse warnings;\nuse strict;\nuse lib '.';\nuse JSON::PP qw(decode_json);\n\nmy $json;\n{\nlocal $/;\nopen my $fh, '&lt;', 'output_array.json' or die $!;\n$json = &lt;$fh&gt;;\n}\n\nmy $perl = decode_json $json;\nmy $filename = 'sample.csv';\nopen(my $fh, '&gt;&gt;:encoding(UTF-8)', $filename) or die \"Could not open file '$filename' $!\";\nsay $fh 'nk_id,prim_cd,sub_cd,fk_id';\n\nfor (@$perl){\nmy $nk_id = '\"' . $_-&gt;{\"id\"} . '\"';\nmy $prim_cd= '\"' . $_-&gt;{\"primary-codes\"} . '\"';                \nmy $sub_cd= '\"' . $_-&gt;{\"substitute-codes\"} . '\"'; \nmy $fk_id= '\"' . $_-&gt;{\"fk-id\"} . '\"';                                  \n\nsay $fh \"$nk_id,\" . \"$prim_cd,\" . \"$sub_cd,\" . \"$fk_id\";\n}\nclose $fh;\n</code></pre>\n\n<p>The output i get is like this,</p>\n\n<pre><code>nk_id,prim_cd,sub_cd,fk_id\n100,ARRAY(0x201549f8),ARRAY(0x20154a88),2294\n</code></pre>\n\n<p>but i want it to be,</p>\n\n<pre><code>100,\"E0181V00,E0226V00\",\"E0181D00,E0226100\",2294\n</code></pre>\n\n<p>i tried using ,</p>\n\n<pre><code>my $prim_cd = '\"' . join \",\", @{ $perl-&gt;[0]{\"primary-codes\"} } . '\"'; \n</code></pre>\n\n<p>But it just returns the count and not the elements.</p>\n\n<p>Please help me out with this issue.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1543542955, "post_id": 53550092, "comment_id": 93966697, "body": "If the subroutine was in a module it would be simple: <code>perl -MModule::Name -e&#39;Module::Name::send_help(3162025)&#39;</code>. Scripts are not designed to be used like this however."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1543543362, "post_id": 53550092, "comment_id": 93966764, "body": "Another problem with trying to use this script like a module is that the <code>send_help</code> subroutine uses a globally-scoped variable <code>$net</code> which is set up by the later code. Just compiling the script then trying to use the subroutine wouldn&#39;t work because this variable would be undefined, and it doesn&#39;t seem like you want to run the script."}], "owner": {"reputation": 11, "user_id": 10725498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f03caebe047f421f5ae5e2f26ec5a3f2?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/10725498/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1543546668, "creation_date": 1543542470, "last_edit_date": 1543546668, "question_id": 53550092, "link": "https://stackoverflow.com/questions/53550092/how-can-i-run-a-perl-subroutine-from-cli-input", "title": "How can I run a perl subroutine from cli input?", "body": "<p>I have a program I run called arsed (<a href=\"https://github.com/KD8EYF/TRBO-NET\" rel=\"nofollow noreferrer\">https://github.com/KD8EYF/TRBO-NET</a>). In the main program there is a routine like so:</p>\n\n<pre><code>sub send_help($)\n{\n    my($id) = @_;\n\n    $net-&gt;{'tms'}-&gt;queue_msg($id, 'ARS-E Commands: APRS, email, NOAA, Ping SMS, Who');\n}\n</code></pre>\n\n<p>Is there a way I can run this from the cli and inject the missing data ($id) somehow??</p>\n\n<p>ie: /usr/local/bin/arsed -e 'send_help(3162025)' kinda thing...</p>\n\n<p>Thanks!!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1543529837, "post_id": 53548409, "comment_id": 93963424, "body": "Welcome to SO! Just out of curiosity: why can&#39;t you remove the semicolon manually?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1543529934, "post_id": 53548409, "comment_id": 93963461, "body": "I&#39;m confused. You appear to be asking how to modify the code, but you state you don&#39;t want to modify the code."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1543531487, "post_id": 53548409, "comment_id": 93964031, "body": "The <a href=\"https://perldoc.pl/perlop#Multiplicative-Operators\" rel=\"nofollow noreferrer\">x operator</a> does not repeat code. It repeats a value or the contents of a string. Use a loop such as for/foreach to repeat code."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 3, "creation_date": 1543534170, "post_id": 53548409, "comment_id": 93964800, "body": "I suspect you have an <a href=\"https://meta.stackexchange.com/q/66377/167210\">XY problem</a>. What is your actual goal? Why is removing the semicolon (as long as you&#39;re changing the source anyway) not the solution to that problem?"}, {"owner": {"reputation": 51, "user_id": 10725014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7f026eb7e87de4d9cefe65b6dec94f?s=128&d=identicon&r=PG&f=1", "display_name": "Winter Is Overflowing", "link": "https://stackoverflow.com/users/10725014/winter-is-overflowing"}, "edited": false, "score": 0, "creation_date": 1543594400, "post_id": 53548409, "comment_id": 93987917, "body": "Check the edit for the problem"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1543541445, "post_id": 53548639, "comment_id": 93966420, "body": "<code>print &quot;foo&quot; x 5;</code> would also do that, and would do it more efficiently. The OP knows this, so the question isn&#39;t simply about printing <code>foo</code> 5 times."}, {"owner": {"reputation": 51, "user_id": 10725014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7f026eb7e87de4d9cefe65b6dec94f?s=128&d=identicon&r=PG&f=1", "display_name": "Winter Is Overflowing", "link": "https://stackoverflow.com/users/10725014/winter-is-overflowing"}, "edited": false, "score": 0, "creation_date": 1543594603, "post_id": 53548639, "comment_id": 93988031, "body": "Yeah, the problem is I can&#39;t change print &quot;foo&quot;; I can add for( 1..5) after it but that leaves me in the same spot where I&#39;d have to somehow escape the semi-colon in the middle: print &quot;foo&quot;; for(1..5);"}], "tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": false, "score": 3, "last_activity_date": 1543531140, "creation_date": 1543531140, "answer_id": 53548639, "question_id": 53548409, "link": "https://stackoverflow.com/questions/53548409/escaping-semi-colon-syntax-in-perl/53548639#53548639", "title": "Escaping semi-colon syntax in Perl", "body": "<p>Seems like you just want to print <code>\"foo\"</code> 5 times ? </p>\n\n<p>If yes, then :</p>\n\n<pre><code>use strict;\nuse warnings;\nprint \"foo\" for (1..5);\n</code></pre>\n\n<p>Yields :</p>\n\n<pre><code>foofoofoofoofoo\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 2, "creation_date": 1543534110, "post_id": 53549094, "comment_id": 93964788, "body": "Yes, you can do that kind of thing using a source filter -- but I can&#39;t imagine it being a good idea."}, {"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1543534765, "post_id": 53549094, "comment_id": 93964941, "body": "You are right. I could not imagine the question being a real world problem. Just wanted to show the possibility."}], "tags": [], "owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "is_accepted": false, "score": 1, "last_activity_date": 1543534066, "creation_date": 1543534066, "answer_id": 53549094, "question_id": 53548409, "link": "https://stackoverflow.com/questions/53548409/escaping-semi-colon-syntax-in-perl/53549094#53549094", "title": "Escaping semi-colon syntax in Perl", "body": "<p>Here is an example using a source filter.\nIn fact it alters the code before executing it so you don't have to do it yourself.</p>\n\n<pre><code>echo package FiveTimes; use Filter::Simple sub{s/;/x5;/g};1; &gt; FiveTimes.pm\n\nperl -MFiveTimes -e\"print qq/foo/;\"\nfoofoofoofoofoo\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543537710, "post_id": 53549560, "comment_id": 93965637, "body": "Can we avoid making up horrible code that solves a problem we don&#39;t understand yet? :)"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1543537565, "creation_date": 1543537565, "answer_id": 53549560, "question_id": 53548409, "link": "https://stackoverflow.com/questions/53548409/escaping-semi-colon-syntax-in-perl/53549560#53549560", "title": "Escaping semi-colon syntax in Perl", "body": "<pre><code> print \"foo\"; BEGIN{tie *STDOUT,'FiveTimer';sub FiveTimer::TIEHANDLE{bless{},'FiveTimer'}sub FiveTimer::PRINT{CORE::print STDERR $_[1] x 5}}\n</code></pre>\n\n<p>or more readably</p>\n\n<pre><code> print \"foo\"; BEGIN{ tie *STDOUT,'FiveTimer' }\n sub FiveTimer::TIEHANDLE{bless{},'FiveTimer'}\n sub FiveTimer::PRINT{CORE::print STDERR $_[1] x 5}}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10725014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7f026eb7e87de4d9cefe65b6dec94f?s=128&d=identicon&r=PG&f=1", "display_name": "Winter Is Overflowing", "link": "https://stackoverflow.com/users/10725014/winter-is-overflowing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1543621744, "creation_date": 1543529671, "last_edit_date": 1543621744, "question_id": 53548409, "link": "https://stackoverflow.com/questions/53548409/escaping-semi-colon-syntax-in-perl", "title": "Escaping semi-colon syntax in Perl", "body": "<p>How can I escape a semi-colon (that's syntax ) in perl by only adding characters after it?</p>\n\n<p>Say I have a line of code: </p>\n\n<pre><code>print \"foo\";\n</code></pre>\n\n<p>I want to add the following code after it so it can repeat 5 times:</p>\n\n<pre><code>print \"foo\"; x 5;\n</code></pre>\n\n<p>Is there anyway I can escape/ignore the semicolon (without altering the original piece of code) so it can be interpreted as:</p>\n\n<pre><code>print \"foo\" x 5;\n</code></pre>\n\n<hr>\n\n<p>Edit: This seems like too much of a hassle, better off to just nest the line in a for loop.</p>\n"}, {"tags": ["arrays", "perl", "hash", "switch-statement"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543529805, "post_id": 53548320, "comment_id": 93963415, "body": "How are you determining that it doesn&#39;t work? What&#39;s the point of the hashes, you don&#39;t seem to be using them?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543529897, "post_id": 53548320, "comment_id": 93963448, "body": "You should (1) use strict and warnings, as you are currently using a bunch of global variables which will make your code complex and confusing, and you have unquoted strings. (2) avoid switch/case as it is experimental and due to its use of smartmatch will do confusing things depending on the cases, just use an if/elsif statement or <a href=\"https://metacpan.org/pod/Switch::Plain\" rel=\"nofollow noreferrer\">Switch::Plain</a> if you really want switch/case syntax."}, {"owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1544098631, "post_id": 53548320, "comment_id": 94160548, "body": "@zdim - You noticed right. I thought you just select the answer you deem as right and that would assign the vote. It seems I need to vote as well. Just did it :)"}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1543623608, "post_id": 53548432, "comment_id": 93998965, "body": "Thank you so much guys. Both of your suggestions worked. I didn\u2019t know I could just use $hash{$city}. This solved my problem. I don\u2019t know however if it possible to assign two values to one key. For eg %hash = ( NYC =&gt; \u201cNY\u201d,\u201dNAM\u201d, Washington =&gt; \u201cVirginia\u201d,\u201dNAM\u201d, London =&gt; \u201cUK\u201d,\u201dEMEA\u201d) and then be able to display the zones NAM,EMEA as another column."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1543630290, "post_id": 53548432, "comment_id": 94000014, "body": "@user3423407 Glad that it helped :).  A value for a key in the hash must be a <i>scalar</i>.  That means a single-valued thingy (or expression that works out to that), so it can&#39;t be a list. But  you can put there a reference since a reference <i>is</i> a scalar.  For example <code>%h = (NYC =&gt; [&#39;NY&#39;, &#39;NAM&#39;], ...)</code> where <code>[ ... ]</code> is an arrayref, like what I used in the second line above.  Then you can extract values as: <code>@{$h{NYC}}</code> to get the list of both, or <code>$h{NYC}-&gt;[0]</code> for first (<code>NY</code>) and <code>-&gt;[1]</code> for the second.  Or you can use a hashref, like in the third line above."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1543630506, "post_id": 53548432, "comment_id": 94000045, "body": "@user3423407 That is a way to build complex data structures, see <a href=\"https://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>.  Another principal way to use complex data is with classes, which of course offer far more than mere data organization."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1543865539, "post_id": 53548432, "comment_id": 94063614, "body": "@user3423407 Please let me know if what I dumped above in a comment is opaque or unclear!"}, {"owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1543981935, "post_id": 53548432, "comment_id": 94109921, "body": "Thank you so much for the advice. I have been playing around with this and it seems to work like a charm. Thanks a ton for taking the time to explain also introducing to perl data structures. I would love to learn more about parsing logs with perl, not sure if you can point me to some good documentation"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1543990110, "post_id": 53548432, "comment_id": 94112152, "body": "@user3423407 Great, very glad to hear that it helps :).  Perl is great for that kind of work. It has superb string processing support, regex is fully integrated into the language, and there&#39;s a lot of very useful modules. There are docs but that may add up to more than you need. Perhaps select good a tutorial on the language, and use docs as reference?  [cont&#39;d...]"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1543990293, "post_id": 53548432, "comment_id": 94112220, "body": "@user3423407    The book &quot;Learning Perl&quot; used to be phenomenal, you work through it in a week and get useful working knowledge. I am not familiar with new editions, but my guess is that it may not be as readable but is far more complete. Should still be an excellent (jump-) starting point.  There is another very good book, &quot;Modern Perl,&quot; by &quot;chromatic&quot; -- which is (also) legitimately available on internet: <a href=\"http://modernperlbooks.com/books/modern_perl_2016/\" rel=\"nofollow noreferrer\">Modern Perl 4e</a>. I&#39;ve never read the thing but I did look here and there and it was all spot on, to the point, and well written."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1543990628, "post_id": 53548432, "comment_id": 94112335, "body": "@user3423407 And then there are all kinds of internet tutorials, but be careful. A good-looking resource is <a href=\"https://learn.perl.org/\" rel=\"nofollow noreferrer\">learn.perl.org</a>.  All documentation is at <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">perldoc.perl.org</a>; Note links on the left: see first <i>Overview</i> and <i>Tutorials</i>.  I hope this helps, let me know if questions come up :)"}, {"owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544098576, "post_id": 53548432, "comment_id": 94160515, "body": "Thank you so much for all the guidance here. Your advice on using arrays and selecting specific index elements has made my script work like a charm."}, {"owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544466124, "post_id": 53548432, "comment_id": 94277345, "body": "I have been testing out this piece of code, and for the most part of it works fine. However I have noticed, that sometimes the value in the key value pair is mixed up. Am not able to figure out why  For eg if key value is %h = (NYC =&gt; &quot;NY&quot;, London=&gt;&quot;UK&quot;...) the value when I pull the city $hash{$city}, it sometimes retrieves UK for NYC key. It is happening for different values, this is just an example. Please note my hash contains around 2000+ key-value pairs(all unique keys). .Any reason why"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544467966, "post_id": 53548432, "comment_id": 94278142, "body": "@user3423407  That&#39;d be a direct error somewhere in code; you can be certain that a hash with <code>$h{NYC}</code> will always return <code>NY</code> ... if that&#39;s what was assigned to it (and wasn&#39;t overwritten with another value).  Perhaps when you ask for it the <code>$city</code> in fact contains <code>London</code>? Or the code (mistakenly) assigns <code>UK</code> to <code>$h{NYC}</code> at some point?  Print values at well-chosen points in the code, to see what&#39;s actually going on (debug)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544468048, "post_id": 53548432, "comment_id": 94278180, "body": "@user3423407 It is often useful to bluntly dump the whole data structure for review. One tool that does this is the core <a href=\"https://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\">Data::Dumper</a>.  There are yet others; I use <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\">Data::Dump</a> since its default is more concise (and its only purpose is to show data, while <code>Data::Dumper</code> really does quite a bit more), which you&#39;d need to install."}, {"owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544557949, "post_id": 53548432, "comment_id": 94316465, "body": "Thanks for the help. It seems this Dumper module is not installed, I got a compilation error. However I tried debugging as follow  foreach (@array) {                         print &quot;\\n$_\\n&quot;;                 ($name,$age,$city,$hash{$city}) = split(&quot;,&quot;,$_);                         print &quot;\\n&quot;;                         print &quot;$name\\n&quot;;                         print &quot;$age\\n&quot;;                         print &quot;$city\\n&quot;;                         print &quot;$hash{$city}\\n&quot;                         print &quot;\\n&quot;; }  It perfectly prints the correct value for the $hash{city} in $_"}, {"owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544557964, "post_id": 53548432, "comment_id": 94316473, "body": "Continuing pervious comment   But when it starts printing for  print &quot;$hash{$city} it seems to carry forward the previous value of the key.  For eg output is   Joe,30,NYC,NY        &lt;==$_ output  Joe 30 NYC NY   Mary,32,Washington,Virginia &lt;==$_ output  Mary 32 Washington NY                   &lt;==somehow it continues to use the value of the previously mapped key."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544558700, "post_id": 53548432, "comment_id": 94316811, "body": "@user3423407 I can&#39;t say much w/o seeing the code ... one guess: Do you use one hash, declared outside of that loop? If you were to have <code>my %h; foreach (...) { my %h ... }</code> then the <code>%h</code> inside the loop would &quot;mask&quot; (&quot;shadow&quot;) the one outside, which could make it so that you see strange values when printing.  I can&#39;t guess what other things would make it appear that it doesn&#39;t update keys.  Could data itself be wrong? (Line for &quot;Mary&quot; could have &quot;NY&quot; or so)  I&#39;m guessing here, w/o any code :)   Buy you can be sure that the hash variable in Perl can&#39;t misbehave like that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544559016, "post_id": 53548432, "comment_id": 94316954, "body": "@user3423407 Another way how bad data can mess it up: an incomplete/malformed data line can make your <code>split</code> in fact return other than expected (say, 3 fields instead of 4). So then code would assign to some variables but not to others, resulting in wrong assignments to hash elements.  Always check data!!  For starters, check whether all expected variables have indeed been assigned. Make certain you <i>always</i> have <code>use warnings;</code> at the top of the script!  For one, that will warn when using undefined values, and of many bad hash operations. Otherwise ... it quietly falls back to its defaults."}, {"owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544559673, "post_id": 53548432, "comment_id": 94317276, "body": "how to post the code? the comments have a limited number of characters"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544561313, "post_id": 53548432, "comment_id": 94318010, "body": "@user3423407 If you believe that you have more than a simple-minded error and you&#39;ve tried and you can&#39;t find it, that&#39;d be for another question.  Comments are indeed bad for any code other than a short snippet, and morphing the question with follow-up work isn&#39;t a good idea. But don&#39;t haste (if you are indeed posting another question) -- make sure it&#39;s good, with all that it needs, and proof-read for typos etc.  A good question makes it far easier for people to give you good answers."}, {"owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544562904, "post_id": 53548432, "comment_id": 94318712, "body": "Thanks. I created   <a href=\"https://stackoverflow.com/questions/53732423/hash-key-value-not-being-retrieved-correctly\" title=\"hash key value not being retrieved correctly\">stackoverflow.com/questions/53732423/&hellip;</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "edited": false, "score": 0, "creation_date": 1544563129, "post_id": 53548432, "comment_id": 94318805, "body": "@user3423407 Yeah, saw that, thank you for the note.  That question needs improvement, I&#39;ll comment there..."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1543991556, "last_edit_date": 1543991556, "creation_date": 1543529774, "answer_id": 53548432, "question_id": 53548320, "link": "https://stackoverflow.com/questions/53548320/push-value-of-key-value-pair-of-hash-into-array/53548432#53548432", "title": "Push value of key-value pair of hash into array", "body": "<p>First off, what you put on the array is a single string with all that's inside double quotes. This may well be what you meant to do but I'd like to go through this a step at a time.</p>\n\n<p>The <code>push</code> takes a list so you can just list all variables to add, in which case no quoting is needed at all. To add \"State\" and \"Country\" just pull values out of your hashes for the key <code>$city</code></p>\n\n<pre><code>push @array, $name, $age, $city, $hash{$city}, $hash2{$city};\n</code></pre>\n\n<p>But if this array is meant to acquire further records, how does one distinguish them?  One way is to add an array reference each time, so</p>\n\n<pre><code>push @array, [ $name, $age, $city, $hash{$city}, $hash2{$city} ];\n</code></pre>\n\n<p>where braces <code>[ ]</code> build an anonymous array and return a a reference to it, which itself can be an array element since it is a scalar.  Retrieval of individual items isn't great since you must index into this, like <code>$array[$index]-&gt;[0]</code> for name (or shorthand <code>$array[$index][0]</code>). But if you most often need all of them then it's perfect: <code>my @data = @{ $array[$index] };</code></p>\n\n<p>Another way would be to add a hash reference instead, using <code>{ }</code>, for example such as</p>\n\n<pre><code>push @array, { name =&gt; $name, age =&gt; $age, city =&gt; $city, \n      state =&gt; $hash{$city}, country =&gt; $hash2{$city} };\n</code></pre>\n\n<p>where you can then retrieve values as <code>$array[$index]-&gt;{name}</code> (etc). This is clearly well suited for working with individual components.</p>\n\n<p>Another way is to indeed add a string for each record; then add hash values under quotes</p>\n\n<pre><code>push @array, \"$name,$age,$city,$hash{$city},$hash2{$city}\";\n</code></pre>\n\n<p>since hash values can be evaluated inside a double-quoted string.</p>\n\n<p>At any rate, there is no need to switch on <code>$city</code> -- that's precisely what a hash is for, to associate a value with a key so that the value can then be directly retrieved for the key.</p>\n\n<hr>\n\n<p>I'd like to add, how about naming those hashes in a more informative manner?  </p>\n\n<p>For example</p>\n\n<pre><code>my %state   = (NYC =&gt; 'NY', Washington =&gt; 'Virginia');            # ...\nmy %country = (NYC =&gt; 'US', Washington =&gt; 'US', London =&gt; 'UK');  # ...\n</code></pre>\n\n<p>and then you have the far clearer</p>\n\n<pre><code>push @records, \"$name,$age,$city,$state{$city},$country{$city}\";\n</code></pre>\n\n<p>I also changed the array name.</p>\n\n<p>A side note on naming.   I've used a convention where a hash name is singular (\"state\", not \"states\") with a rationale that it refers to a single and named item, <code>$state{$city}</code> (state-for-city); with well chosen variable names it's obvious what this stands for. But this isn't a \"rule\" of any kind and plural is used just as as well (\"states\" instead of \"state\").</p>\n"}], "owner": {"reputation": 321, "user_id": 3423407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221b87180f5144208fd90608dcc5c34?s=128&d=identicon&r=PG&f=1", "display_name": "user3423407", "link": "https://stackoverflow.com/users/3423407/user3423407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 0, "accepted_answer_id": 53548432, "answer_count": 1, "score": 1, "last_activity_date": 1543991556, "creation_date": 1543529170, "question_id": 53548320, "link": "https://stackoverflow.com/questions/53548320/push-value-of-key-value-pair-of-hash-into-array", "title": "Push value of key-value pair of hash into array", "body": "<p>I have an array which assign values from a csv file which consists of 3 columns</p>\n\n<p>CSV file:</p>\n\n<pre><code>Name,Age,City\nJoe,30,NYC\nMary,32,Washington\n.\n.\n.\nn number of lines\n</code></pre>\n\n<p>so i pass this to my perl script and assign these variables</p>\n\n<pre><code>($name,$age,$city) = split(\",\",$_,3);\npush @array, \"$name,$age,$city\";\n</code></pre>\n\n<p>However I have a key value pair in 2 hashes, which I want to push into this array.</p>\n\n<p>this is the hash</p>\n\n<pre><code>%hash  = ('NYC' =&gt; NYC, 'Washington' =&gt; Virginia, and so on)\n%hash2 = ('NYC' =&gt; US, 'Washington' =&gt; US, 'London' =&gt; UK, and so on)\n</code></pre>\n\n<p>I want to add 2 more columns, State and Country to my array, such that it ends up looking like</p>\n\n<pre><code>Name,Age,City,State,Country\nJoe,30,NYC,NY,US\nMary,32,Washington,Virginia,US\n.\n.\n.\nn number of lines\n</code></pre>\n\n<p>I tried with switch statement</p>\n\n<pre><code> switch($city){\n            case \"NYC\"         {$state = \"NY\"; $country = \"US\";\n                       push @array, \"$name,$age,$city,$state,$country\";\n                               }\n               }\n</code></pre>\n\n<p>But it didnt work.</p>\n\n<p>Any help appreciated</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 316, "user_id": 8698943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-Efrhjd9nPfo/AAAAAAAAAAI/AAAAAAAAC4U/yu0OPM1WagI/photo.jpg?sz=128", "display_name": "vedant gala", "link": "https://stackoverflow.com/users/8698943/vedant-gala"}, "edited": false, "score": 0, "creation_date": 1543513317, "post_id": 53544713, "comment_id": 93956024, "body": "I have found this particular regex online, although I don&#39;t understand it and nor do I know how to use a regex -&gt;      /.+?(?=abc)/"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 2, "creation_date": 1543515853, "post_id": 53544713, "comment_id": 93957283, "body": "I suggest you write as much of the script as you can first and include it in your question."}], "answers": [{"tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": false, "score": 1, "last_activity_date": 1609452754, "last_edit_date": 1609452754, "creation_date": 1543519086, "answer_id": 53546090, "question_id": 53544713, "link": "https://stackoverflow.com/questions/53544713/print-the-entire-string-until-a-substring-match-occurs-using-perl/53546090#53546090", "title": "Print the entire string until a substring match occurs using Perl", "body": "<p>A quick (and maybe dirty) answer based on the few information you provided:</p>\n<pre><code>use strict;\nuse warnings;\n\nmy $str = &quot;abc_def0_ghi4_jkl_mno_pqr_123456.log some_extra_messages and random garbage&quot;;\n\nmy ($name) = ( $str =~ /^(\\w+)_\\d+\\.log/);\nprint $name, &quot;\\n&quot;;\n</code></pre>\n<p>This assumes that the name is located at the beginning of the script and contains only word characters (letters, numbers, underscore). It will capture everything until it reaches a sequence of numbers preceded by an underscore and followed by <code>.log</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 898, "user_id": 160272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/813f535246722b7bf02aacc9ce818de8?s=128&d=identicon&r=PG", "display_name": "showaltb", "link": "https://stackoverflow.com/users/160272/showaltb"}, "is_accepted": false, "score": 0, "last_activity_date": 1543699720, "creation_date": 1543699720, "answer_id": 53575221, "question_id": 53544713, "link": "https://stackoverflow.com/questions/53544713/print-the-entire-string-until-a-substring-match-occurs-using-perl/53575221#53575221", "title": "Print the entire string until a substring match occurs using Perl", "body": "<p>It <em>looks</em> like you want to output everything up to, but not including, the underscore before the log file name. Is that correct? You need to be very specific about how the data is structured; otherwise, we are having to guess.</p>\n\n<p>Here's a short script that takes your example input and produces your example output:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = 'abc_def0_ghi4_jkl_mno_pqr_123456.log some_extra_messages and random garbage';\n\ns/_[^_]+\\.log.*// for $str;\n\nprint $str, \"\\n\";\n</code></pre>\n\n<p>The <code>s/_[^_]+\\.log.*//</code> substitution matches:</p>\n\n<ul>\n<li>an underscore</li>\n<li>followed by one or more non-underscores</li>\n<li>followed by the characters <code>.log</code></li>\n<li>followed by any additional characters to the end of line</li>\n</ul>\n\n<p>The matched text is replaced with an empty string (deleted), and the remaining text is printed.</p>\n"}], "owner": {"reputation": 316, "user_id": 8698943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-Efrhjd9nPfo/AAAAAAAAAAI/AAAAAAAAC4U/yu0OPM1WagI/photo.jpg?sz=128", "display_name": "vedant gala", "link": "https://stackoverflow.com/users/8698943/vedant-gala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1609452754, "creation_date": 1543513185, "question_id": 53544713, "link": "https://stackoverflow.com/questions/53544713/print-the-entire-string-until-a-substring-match-occurs-using-perl", "title": "Print the entire string until a substring match occurs using Perl", "body": "<p>I am looking for a quick fix for this, as I don't really specialise in perl/regex.</p>\n\n<p>I have a string as follows ; </p>\n\n<blockquote>\n  <p>abc_def0_ghi4_jkl_mno_pqr_123456.log some_extra_messages and random garbage</p>\n</blockquote>\n\n<p>and I want a small perl script (not one-liner command) that will search for the .log file name, as well as remove the numbers at the end of the file. So that the output looks like</p>\n\n<blockquote>\n  <p>abc_def0_ghi4_jkl_mno_pqr</p>\n</blockquote>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["perl", "if-statement", "hash"], "comments": [{"owner": {"reputation": 1876, "user_id": 4437190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0f4404b6fc8995cd6fea10b5c8b09c?s=128&d=identicon&r=PG", "display_name": "rajashekar", "link": "https://stackoverflow.com/users/4437190/rajashekar"}, "edited": false, "score": 1, "creation_date": 1543493484, "post_id": 53538229, "comment_id": 93944665, "body": "perl does sequential execution. try perl scripts with <code>use strict; use warnings;</code> so the interpreter can warn you."}, {"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 1, "creation_date": 1543588621, "post_id": 53538229, "comment_id": 93984526, "body": "Instead of <code>if($permit-&gt;{activity})</code> I think you mean <code>if($permit{activity})</code> without <code>-&gt;</code> since the hash here seems to be <code>%permit</code> and not a reference to a hash. To avoid confusion you should probably not use the same name for the two different variables <code>%permit</code> and <code>$permit</code> ."}], "answers": [{"comments": [{"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1543539502, "post_id": 53538538, "comment_id": 93966016, "body": "Also, using <code>use strict; use warnings;</code> (as suggested by raul varga in a comment to the OP), the script would have errored out with <code>Global symbol &quot;$permit&quot; requires explicit package name (did you forget to declare &quot;my $permit&quot;?) at...</code>, indicating that you&#39;re in fact using variable <code>$permit</code> and not <code>%permit</code>."}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1543539894, "post_id": 53538538, "comment_id": 93966098, "body": "Sorry, the comment i referred to was by Rajashekar Reddy M. raul varga was the OP."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1543568373, "post_id": 53538538, "comment_id": 93973799, "body": "@Silvar: But both <code>%permit</code> and <code>$permit</code> were already declared."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1543492663, "creation_date": 1543492663, "answer_id": 53538538, "question_id": 53538229, "link": "https://stackoverflow.com/questions/53538229/how-if-statement-works-in-perl-with-a-hash-argument/53538538#53538538", "title": "How if statement works in Perl with a hash argument?", "body": "<p>You have two variables here - <code>%permit</code> which is a hash containing key/value pairs and <code>$permit</code> which is a scalar and doesn't contain anything.</p>\n\n<p>To look up a value in the hash, you should use the syntax <code>$permit{activity}</code> (notice there is no arrow there). The syntax <code>$permit-&gt;{activity}</code> (with the arrow) attempts to use the scalar <code>$permit</code> as a hash <strong>reference</strong> and will return nothing - as <code>$permit</code> does not contain a hash reference.</p>\n\n<p>You will never get into your <code>if</code> branch as your code is looking at the wrong variable.</p>\n\n<p>This is why it's generally a very bad idea to have two variables of different types with the same name (<code>%permit</code> vs <code>$permit</code>).</p>\n"}], "owner": {"reputation": 125, "user_id": 10690484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2f3b349f09d335afad326d1355f86a?s=128&d=identicon&r=PG&f=1", "display_name": "Nutiu Radu", "link": "https://stackoverflow.com/users/10690484/nutiu-radu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 53538538, "answer_count": 1, "score": 0, "last_activity_date": 1543511404, "creation_date": 1543491626, "last_edit_date": 1543511404, "question_id": 53538229, "link": "https://stackoverflow.com/questions/53538229/how-if-statement-works-in-perl-with-a-hash-argument", "title": "How if statement works in Perl with a hash argument?", "body": "<p>i have this variable:</p>\n\n<pre><code>my %permit = (\n        \"activity\" =&gt; '',\n        \"type\" =&gt; '',\n        \"sub_type\" =&gt; '',\n        \"status\" =&gt; '',e\n        );\n\n    my $permit;\n</code></pre>\n\n<p>and before i have tihis if:</p>\n\n<pre><code>if($permit-&gt;{activity}){\n     print \"inside if\\n\";\n}\n</code></pre>\n\n<p>the question is: when the if statement is execute?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "edited": false, "score": 0, "creation_date": 1543589467, "post_id": 53535458, "comment_id": 93985021, "body": "or this: <code>1 while $string=~s,((.).*)\\2,$1,;</code>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 6, "last_activity_date": 1543507288, "last_edit_date": 1543507288, "creation_date": 1543483019, "answer_id": 53535458, "question_id": 53535026, "link": "https://stackoverflow.com/questions/53535026/remove-duplicates-characters-from-string-in-perl-using-substitution/53535458#53535458", "title": "remove duplicates characters from string in perl using substitution", "body": "<pre><code>my %uniq;\n$string = join '', grep !$uniq{$_}++, split //, $string;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use List::Util ();\n$string = join '', List::Util::uniqstr( split //, $string );\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10709540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58278d8b700addd2cef91a165d1f8687?s=128&d=identicon&r=PG&f=1", "display_name": "vishal", "link": "https://stackoverflow.com/users/10709540/vishal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "closed_date": 1543523112, "answer_count": 1, "score": 0, "last_activity_date": 1543509547, "creation_date": 1543481481, "last_edit_date": 1543509547, "question_id": 53535026, "link": "https://stackoverflow.com/questions/53535026/remove-duplicates-characters-from-string-in-perl-using-substitution", "closed_reason": "Duplicate", "title": "remove duplicates characters from string in perl using substitution", "body": "<p>How to remove duplicates characters from string in perl? i tried it using /d but result not match as required. </p>\n\n<p>I already tried: </p>\n\n<pre><code>$string=\"vvvviiiiiipppppppiiiiinnnnn\";\n$string=~tr/a-z/a-z/s;\nprint $string;  \n</code></pre>\n\n<p>output: vipin, but I want: vipn</p>\n"}, {"tags": ["perl", "batch-processing"], "comments": [{"owner": {"reputation": 1876, "user_id": 4437190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0f4404b6fc8995cd6fea10b5c8b09c?s=128&d=identicon&r=PG", "display_name": "rajashekar", "link": "https://stackoverflow.com/users/4437190/rajashekar"}, "edited": false, "score": 0, "creation_date": 1543481106, "post_id": 53534797, "comment_id": 93937426, "body": "Please give examples of how your input, output looks like. and your current scripts output"}, {"owner": {"reputation": 13, "user_id": 10719340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4cf795196ce430647297ebed9336b22?s=128&d=identicon&r=PG&f=1", "display_name": "kata", "link": "https://stackoverflow.com/users/10719340/kata"}, "reply_to_user": {"reputation": 1876, "user_id": 4437190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0f4404b6fc8995cd6fea10b5c8b09c?s=128&d=identicon&r=PG", "display_name": "rajashekar", "link": "https://stackoverflow.com/users/4437190/rajashekar"}, "edited": false, "score": 0, "creation_date": 1543481714, "post_id": 53534797, "comment_id": 93937748, "body": "Hi @RajashekarReddyM i&#39;ve added the input output example in the question. hope thats what u meant?"}, {"owner": {"reputation": 1876, "user_id": 4437190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0f4404b6fc8995cd6fea10b5c8b09c?s=128&d=identicon&r=PG", "display_name": "rajashekar", "link": "https://stackoverflow.com/users/4437190/rajashekar"}, "edited": false, "score": 0, "creation_date": 1543482059, "post_id": 53534797, "comment_id": 93937918, "body": "So you have a file some_date_time.txt , do you want a html file with the content of the text file wrapped in &lt;div&gt; html tags? Or do you want the file names? What is you ideal output?"}, {"owner": {"reputation": 13, "user_id": 10719340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4cf795196ce430647297ebed9336b22?s=128&d=identicon&r=PG&f=1", "display_name": "kata", "link": "https://stackoverflow.com/users/10719340/kata"}, "reply_to_user": {"reputation": 1876, "user_id": 4437190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0f4404b6fc8995cd6fea10b5c8b09c?s=128&d=identicon&r=PG", "display_name": "rajashekar", "link": "https://stackoverflow.com/users/4437190/rajashekar"}, "edited": false, "score": 0, "creation_date": 1543483128, "post_id": 53534797, "comment_id": 93938589, "body": "correct. i want the file name to be wrapped in &lt;div class=&quot;head&quot;&gt; and the content of the file wrapped in another &lt;div class=&quot;poem&quot;&gt;. I thought i could do this dirty by find and replace later, because in simple txt to html conversion i get p class tags for each line of text. but this solution would be much better, i agree."}], "answers": [{"tags": [], "owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "is_accepted": false, "score": 0, "last_activity_date": 1543484122, "creation_date": 1543484122, "answer_id": 53535836, "question_id": 53534797, "link": "https://stackoverflow.com/questions/53534797/write-filename-as-first-line-in-a-txt-file-text-around-it-osx-perl/53535836#53535836", "title": "write filename as first line in a txt file + text around it / osx perl", "body": "<p>I'm sure there is a more elegant way of doing it, but something like this will work</p>\n\n<pre><code>#!/usr/bin/perl\n\nundef $/;\n\nfor (@ARGV){\n        open($fh,$_);\n        $content=&lt;$fh&gt;;\n        close($fh);\n        open($fh,\"&gt;$_\");\n        print $fh \"&lt;div class=\\\"head\\\"&gt;$_&lt;/head&gt;\\n$content\";\n        close($fh)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 10719340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4cf795196ce430647297ebed9336b22?s=128&d=identicon&r=PG&f=1", "display_name": "kata", "link": "https://stackoverflow.com/users/10719340/kata"}, "edited": false, "score": 0, "creation_date": 1543485744, "post_id": 53535957, "comment_id": 93940212, "body": "Great thanks!! But in this format it gave an error so i found that the bug was a missing <code>.</code> after find. So, the correct code then is: <code>perl -i -pe &#39;BEGIN{undef $&#47;;} s&#47;^&#47;&lt;div class=head&gt; $ARGV &lt;\\&#47;div&gt;\\n&lt;div class=poem&gt;\\n&#47;; s&#47;$&#47;\\n&lt;\\&#47;div&gt;&#47;&#39; </code>find . -name &#39;*.txt&#39;` `"}], "tags": [], "owner": {"reputation": 1876, "user_id": 4437190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0f4404b6fc8995cd6fea10b5c8b09c?s=128&d=identicon&r=PG", "display_name": "rajashekar", "link": "https://stackoverflow.com/users/4437190/rajashekar"}, "is_accepted": true, "score": 0, "last_activity_date": 1543492034, "last_edit_date": 1543492034, "creation_date": 1543484527, "answer_id": 53535957, "question_id": 53534797, "link": "https://stackoverflow.com/questions/53534797/write-filename-as-first-line-in-a-txt-file-text-around-it-osx-perl/53535957#53535957", "title": "write filename as first line in a txt file + text around it / osx perl", "body": "<pre><code>perl -i -pe 'BEGIN{undef $/;} s/^/&lt;div class=head&gt; $ARGV &lt;\\/div&gt;\\n&lt;div class=poem&gt;\\n/; s/$/\\n&lt;\\/div&gt;/' `find . -name '*.txt'`\n</code></pre>\n\n<p>This should work. But if you are new to perl, I suggest you try working with scripts rather than one-liners.</p>\n\n<p>The -i flag will edit the file inplace. so if you want a html file, remove -i and redirect to another .html file.</p>\n"}], "owner": {"reputation": 13, "user_id": 10719340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4cf795196ce430647297ebed9336b22?s=128&d=identicon&r=PG&f=1", "display_name": "kata", "link": "https://stackoverflow.com/users/10719340/kata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 53535957, "answer_count": 2, "score": 1, "last_activity_date": 1543492034, "creation_date": 1543480599, "last_edit_date": 1543481649, "question_id": 53534797, "link": "https://stackoverflow.com/questions/53534797/write-filename-as-first-line-in-a-txt-file-text-around-it-osx-perl", "title": "write filename as first line in a txt file + text around it / osx perl", "body": "<p>I'm complete newby to perl and I hope you can help me with this line of code.\nThe issue is related to this one <a href=\"https://stackoverflow.com/questions/31337086/osx-perl-to-batch-write-filename-as-first-line-in-txt-file-in-utf-16le\">here</a>, but it doesn't quite answer my question. I tried looking for it, but I just get more confused.</p>\n\n<p>I have a txt input (batch) that I want to have a filename printed in the first line, but wrapped in a specific text. I am converting these files later into html and so I would like the .name to have <code>\"&lt;div class=\"head\"&gt;\"</code> printed before and <code>\"&lt;/div&gt;\"</code> afterwards.</p>\n\n<p>Here is the code I have and it works to print the name:</p>\n\n<pre><code>perl -i -pe 'BEGIN{undef $/;} s/^/$ARGV\\n/' `find . -name '*.txt'`\n</code></pre>\n\n<p>I run this by first navigating to the directory where all the files are. \nexample of filename: 2016-05-20_18.32.08.txt\nthe files are plane text poetry and in the output i get: \n./2016-05-20_18.32.08.txt\nin the first line.</p>\n\n<p>I tried something like this:</p>\n\n<pre><code>perl -i -pe 'BEGIN{undef $/;} s/^/$ARGV\\n/' `find . -name \u2018\u201c&lt;div class=\"head\u201d&gt;\u201d\u2019*.txt\u2019\u201d&lt;/div&gt;\u201d\u2019\n</code></pre>\n\n<p>but of course it doesn't work. it just give me a <code>&gt;</code>\nI need to add the arguments in this part <code>s/^/$ARGV\\n/'</code> but i already have troubles defining it.</p>\n\n<p>Can you help pls?</p>\n\n<p>In addition, the filename prints with ./ in the beginning, is there a simple way to exclude that?</p>\n"}, {"tags": ["perl", "multipartform-data", "mojolicious"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543520204, "post_id": 53534683, "comment_id": 93959247, "body": "You are missing some sigils on $data_request and $formdata. What is $formdata-&gt;{filename}? Is the first form a file upload?"}, {"owner": {"reputation": 105, "user_id": 7326996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b302bba5dcbb506d735e747ceaa90143?s=128&d=identicon&r=PG&f=1", "display_name": "Daniella", "link": "https://stackoverflow.com/users/7326996/daniella"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543580410, "post_id": 53534683, "comment_id": 93980166, "body": "True, I edited the question now. Yes, I guess $formdata-&gt;{filename} contains binary file data which was sent by the client."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1543600808, "post_id": 53534683, "comment_id": 93990886, "body": "That&#39;s unlikely; form parameters in $self-&gt;req-&gt;params would not contain file uploads in a multipart form, you&#39;d have to get the file upload from <code>$c-&gt;param(&#39;file&#39;)</code> or <code>$c-&gt;req-&gt;upload(&#39;file&#39;)</code> or <code>$c-&gt;req-&gt;uploads</code>. This would be a Mojo::Upload object, which has an <code>-&gt;asset</code> method returning the asset you can pass as <code>file</code>."}], "owner": {"reputation": 105, "user_id": 7326996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b302bba5dcbb506d735e747ceaa90143?s=128&d=identicon&r=PG&f=1", "display_name": "Daniella", "link": "https://stackoverflow.com/users/7326996/daniella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1543580249, "creation_date": 1543480140, "last_edit_date": 1543580249, "question_id": 53534683, "link": "https://stackoverflow.com/questions/53534683/pass-multipart-form-data-between-two-perl-projects-using-mojo", "title": "Pass multipart/form-data between two perl projects using Mojo", "body": "<p>So I need to pass multipart form data between two projects. First project code (I get form data and do some actions there):  </p>\n\n<pre><code>    my $formdata = $self-&gt;req-&gt;params-&gt;to_hash;\n\n    //some actions with $formdata here\n    $data_request-&gt;{some_content} = {content =&gt; $formdata-&gt;{contentstr}};\n    $data_request-&gt;{filedata} = {file =&gt; $formdata-&gt;{filename}};\n    my $headers = {\n        'Content-Type' =&gt; 'multipart/form-data'\n    };\n    my $url = Mojo::URL-&gt;new($conf-&gt;{host});\n    $url-&gt;path($conf-&gt;{my_url});\n\n    my $tx = $ua-&gt;post($url =&gt; $headers =&gt; form =&gt; $data_request);\n</code></pre>\n\n<p>But for some reason I can't get the file in the second project using</p>\n\n<pre><code>$self-&gt;req-&gt;upload('filename')\n</code></pre>\n\n<p>If I upload the file in the first project it works fine. Content parameters are available in the second project, but not the file. Why can't I just pass binary data?</p>\n"}]