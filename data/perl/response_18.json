[{"tags": ["c++", "database", "perl", "optimization", "file-io"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431554640, "post_id": 30225745, "comment_id": 48555821, "body": "Consider gzipping the file to tradeoff CPU for reduced IO. Also, how many columns? Are the data changing or stable? Run a local copy of memcached? Or map the file to memory? It all depends on what exactly you are doing."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1431554643, "post_id": 30225745, "comment_id": 48555823, "body": "Consider a pipeline architecture.  One thread reads the data; when enough data is read, it wakes up the computation thread.  The computation get the data and produces results.  It sends or notifies the &quot;Writing&quot; thread of the results.  The writing thread outputs the results.  Remember these three activities are happening &quot;simultaneously&quot;.  Much like shoving stuff through a pipe."}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1431554824, "post_id": 30225745, "comment_id": 48555901, "body": "Fastest solution is to buy another 16GB of ram and run ramdisk"}, {"owner": {"reputation": 140851, "user_id": 1120273, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4cbcb185abce0204cf5ac705ba32d53a?s=128&d=identicon&r=PG", "display_name": "Dietmar K&#252;hl", "link": "https://stackoverflow.com/users/1120273/dietmar-k%c3%bchl"}, "edited": false, "score": 0, "creation_date": 1431555335, "post_id": 30225745, "comment_id": 48556137, "body": "I&#39;m confused! 1GB used to be big but definitely isn&#39;t anymore. Taking 10 minutes to read 1GB of data is definitely too slow. On a 10GB ethernet card you get more than your file worth every second and although it may not be trivial program keep up with this rate. You may need to reconsider your data structure. Of course, you could build your data structure in shared memory and have one process cling to the data while others are simply reading it. Reasonably simple to do with C++. I have no idea how to do it with perl (perl isn&#39;t my primary language)."}, {"owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "edited": false, "score": 2, "creation_date": 1431556509, "post_id": 30225745, "comment_id": 48556578, "body": "Try profiling your code during the extract phase.  It will help you identify what is taking so long.  Devel::NYTProf is the gold standard in perl profilers these days."}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "edited": false, "score": 3, "creation_date": 1431563137, "post_id": 30225745, "comment_id": 48558437, "body": "This sounds like a good candidate to import your data to a database such as MySQL, this will allow you to have data laoded into memmory, properly indexed is setup correctly, and accessible from multiple processess/languages."}, {"owner": {"reputation": 1463, "user_id": 3169872, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/56860a51bd310b5d8569602a75455749?s=128&d=identicon&r=PG&f=1", "display_name": "DoctorMoisha", "link": "https://stackoverflow.com/users/3169872/doctormoisha"}, "edited": false, "score": 0, "creation_date": 1431580666, "post_id": 30225745, "comment_id": 48562768, "body": "Is database faster? Because it seems to me, that reading from database is similar to reading from file."}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "edited": false, "score": 0, "creation_date": 1431585789, "post_id": 30225745, "comment_id": 48564816, "body": "It&#39;s possible to use SysV shared memory to transport data between processes. Have a look at the module IPC::Shareable on CPAN. Also, think about the file format. Parsing it probably takes much more time than just getting the data into your process from the outside (and databases definitely have that problem too). And as already said, do profile so you <i>know</i> where the time is spent, and thus what part to optimize."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1431598360, "post_id": 30225745, "comment_id": 48571411, "body": "What kind of data is stored in your large file? If it is mostly numbers, and you have a DirectX 11 capable video card even if you are not on a windows machine, you should be able to use HLSL Compute Shaders to store and process the data after the file is read. I am not sure if GLSL has something similar but they could. You would need a fairly new video card with at least 1-2GB of Video Ram. It is faster to compute data there then across the bus and you have less chances for cache misses. This depends on a proper batch class for sending the data over to the graphics card for computation..."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1431598658, "post_id": 30225745, "comment_id": 48571558, "body": "(continued...) Once the computations are done you can pass the information back in batches to your local application and either store them into structures or write them to a file/s. Both HLSL &amp; GLSL work very efficient with 4x4 matrices using floats or doubles due to the architecture of the GPU and onboard video ram."}], "answers": [{"tags": [], "owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "is_accepted": false, "score": 1, "last_activity_date": 1431596695, "last_edit_date": 1495541659, "creation_date": 1431596695, "answer_id": 30234103, "question_id": 30225745, "link": "https://stackoverflow.com/questions/30225745/how-to-avoid-reloading-big-data-on-program-start/30234103#30234103", "title": "How to avoid reloading big data on program start", "body": "<p>On my current system Perl copies the whole 1GB file in memory in 2 seconds. So I believe your problem is not reading the file but parsing it.</p>\n\n<p>So the straightforward solution I can think of is to <em>preparse it</em> by, for instance, converting your data into actual <em>code source</em>. I mean, you can prepare your data and <em>hardcode it</em> in your script directly (using another file of course).</p>\n\n<p>However, if <em>reading</em> is an actual problem (which I doubt) you can use database that store the data in the memory (<a href=\"https://stackoverflow.com/questions/4343225/mysql-how-to-keep-entire-myisam-table-in-memory\">example</a>). It will be faster anyway just because your database reads the data once upon starting and you don't restart your database as often as your program.</p>\n"}, {"tags": [], "owner": {"reputation": 7948, "user_id": 4899330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857a19fa016a8fc6c0a3250f03f108a9?s=128&d=identicon&r=PG&f=1", "display_name": "doqtor", "link": "https://stackoverflow.com/users/4899330/doqtor"}, "is_accepted": false, "score": 1, "last_activity_date": 1431597952, "creation_date": 1431597952, "answer_id": 30234530, "question_id": 30225745, "link": "https://stackoverflow.com/questions/30225745/how-to-avoid-reloading-big-data-on-program-start/30234530#30234530", "title": "How to avoid reloading big data on program start", "body": "<p>The idea for solving this type of problems can be as follows:</p>\n\n<p>Go for 3 programs:</p>\n\n<ul>\n<li>Reader</li>\n<li>Analyzer</li>\n<li>Writer</li>\n</ul>\n\n<p>and exchange data between them using shared memory.</p>\n\n<p>For that big file I guess you have considerable amount of data of one object type which you can store in circular buffer in shared memory (I recommend using boost::interprocess).</p>\n\n<p>Reader will continuously read data from the input file and store it in shared memory.\nIn the meantime, once is enough data read for doing calculations, the Analyzer will start processing it and store results into another circular buffer shared memory file.\nOnce there are some calculations in the second shared memory the Writer will read them and store them into final output file.</p>\n\n<p>You need to make sure all the processes are synchronized properly so that they do their job simultanouesly and you don't lose the data (the data is not being overwritten before is processed or saved into final file).</p>\n"}, {"tags": [], "owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "is_accepted": false, "score": 1, "last_activity_date": 1431601203, "creation_date": 1431601203, "answer_id": 30235652, "question_id": 30225745, "link": "https://stackoverflow.com/questions/30225745/how-to-avoid-reloading-big-data-on-program-start/30235652#30235652", "title": "How to avoid reloading big data on program start", "body": "<p>I like the answer doqtor gives, but to prevent data from being overwritten, a nice helper class to enable and disable critical sections of code within a thread will do the trick.</p>\n\n<pre><code>// Note: I think sealed may be specific to Visual Studio Compiler.\n//       CRITICAL_SECTION is defined in Windows.h - If on another OS, \n//       look for similar structure.\nclass BlockThread sealed {\nprivate:\n    CRITICAL_SECTION* m_pCriticalSection;\n\npublic:\n    explicit BlockThread( CRITICAL_SECTION&amp; criticalSection );\n    ~BlockThread();\n\nprivate:\n    BlockThread( const BlockThread&amp; c );\n    BlockThread&amp; operator=( const BlockThread&amp; c ); // Not Implement\n};\n\nBlockThread::BlockThread( CRITICAL_SECTION&amp; criticalSection ) {\n    m_pCriticalSection = &amp;criticalSection;\n}\n\nBlockThread::~BlockThread() {\n    LeaveCriticalSection( m_pCriticalSection\n}\n</code></pre>\n\n<p>A class such as this would allow you to block specific threads if you are within the bounds of a critical section where shared memory is being used \nand another thread currently has access to it. This will cause this thread \nof code to be locked until the current thread is done its work and this\nclass goes out of scope.</p>\n\n<p>To use this class with in another class is fairly simple: in the class that you\nwant to block a thread within its .cpp file you need to create a static variable of this type and call the API's function to initialize it. Then\nyou can use the BlockThread class to lock this thread.</p>\n\n<p>SomeClass.cpp</p>\n\n<pre><code>#include \"SomeClass.h\"\n#include \"BlockThread.h\" \n\nstatic CRITICAL_SECTION s_criticalSection;\n\nSomeClass::SomeClass {\n    // Do This First\n    InitializeCriticalSection( &amp;s_criticalSection );\n\n    // Class Stuff Here      \n}\n\nSomeClass::~SomeClass() {\n    // Class Stuff Here\n\n    // Do This Last\n    DeleteCriticalSection( &amp;s_criticalSection );\n}\n\n// To Use The BlockThread\nSomeClass::anyFunction() {\n    // When Your Condition Is Met &amp; You Know This Is Critical\n    // Call This Before The Critical Computation Code.\n    BlockThread blockThread( s_criticalSection );\n} \n</code></pre>\n\n<p>And that is about it, once this object goes out of scope the static member\nis cleaned up within the objects destructor and when this object goes out\nof scope so does the BlockThread class and its Destructor cleans it up there.\nAnd now this shared memory can be used. You would usually want to use this class if you are traversing over containers to either add, insert, or find and access elements when this data is a shared type.</p>\n\n<p>As for the 3 different threads running in memory on the same data set a good concept is to have 3 or 4 buffers each about 4MB in size and have them work in a rotating order. Buff1 gets data then Buff2 gets data, while Buff2 is getting data Buff 1 is either parsing the data it or passing it off to be stored for computation, then Buff1 waits until Buff3 or 4 is done, pending on how many buffers you have. Then this process starts again. This is the same principle that is used with Sound Buffers when reading in sound files for doing an Audio Stream, or sending batches of triangles to a graphics card. Another words it is a Batch type process. </p>\n"}], "owner": {"reputation": 1463, "user_id": 3169872, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/56860a51bd310b5d8569602a75455749?s=128&d=identicon&r=PG&f=1", "display_name": "DoctorMoisha", "link": "https://stackoverflow.com/users/3169872/doctormoisha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1431601203, "creation_date": 1431553678, "last_edit_date": 1431580465, "question_id": 30225745, "link": "https://stackoverflow.com/questions/30225745/how-to-avoid-reloading-big-data-on-program-start", "title": "How to avoid reloading big data on program start", "body": "<p>My question is all about tips and tricks. I'm currently working on project, where I have one very big(~1Gb) file with data. First, I need to <strong>extract</strong> data. This extraction takes 10 mins. Then I do <strong>calculations</strong>. Next calculation depends on previous. Let's call them calculation1, calculation2 and so on. Assuming, that I've done extraction part right, I currently face two problems:</p>\n\n<ol>\n<li>Every time I launch program it works 10 mins least. I cannot avoid it, so I have to plan debugging.</li>\n<li>For every next calculation it takes more time.</li>\n</ol>\n\n<p>Thinking of first problem, I assumed, that some sort of database may help, if database is faster, than reading file, which I doubt.</p>\n\n<p>Second problem might be overcomed if I split my big program in smaller programs, each of which will do: <em>read file-do stuff-write file</em>. So next stage always can read file from previous, for debug. But it introduces many wasted code for file I/O.</p>\n\n<p>I think that both these problems could be solved by some strategy like: write, and test extract module, than launch it and let it extract all data into RAM. Than write calculation1, and launch it to somehow <strong>grab data directly</strong> from RAM of extract module. And so on with every next calculation. So my questions are:</p>\n\n<ol>\n<li>Are there tips and tricks to minimize loads from files?</li>\n<li>Are there ways to share RAM and objects between programs?</li>\n</ol>\n\n<p>By the way I write this task on Perl because I need it quick, but I'll  rewrite it on C++ or C# later, so any language-specific or language-agnostic answers welcome.</p>\n\n<p>Thank you!</p>\n\n<p>[EDIT]</p>\n\n<p>File of data does not change it is like big immutable source of knowledge. And it is not exactly 1Gb and it does not take 10 minutes to read it. I just wanted to say, that file is big and time to read it is considerable. On my machine 1 Gb read+parse file into right objects takes about minute. Which is still pretty bad.</p>\n\n<p>[/EDIT]</p>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1431552580, "post_id": 30225256, "comment_id": 48554925, "body": "Re. &quot;Another constraint is that the perl module I use shouldn&#39;t need installation.&quot; There are no core modules for manipulating Excel spreadsheets, so you&#39;ll have to install one unless you&#39;re using ActivePerl, for example. Can you please expand on why you don&#39;t want to install modules? You don&#39;t need admin rights to install them, if that&#39;s your reason."}, {"owner": {"reputation": 67, "user_id": 2014969, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/f1a933dfda6923b65b7197a7adc96465?s=128&d=identicon&r=PG", "display_name": "user2014969", "link": "https://stackoverflow.com/users/2014969/user2014969"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431554019, "post_id": 30225256, "comment_id": 48555535, "body": "Sorry, should have added that detail. I am using ActivePerl 5.18. With the systems I usually work with I&#39;ve had issues in the past with installing additional modules, so I try to avoid that. If there&#39;s no other way, I can install other modules."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1431586664, "post_id": 30225256, "comment_id": 48565239, "body": "Look at <code>get_name()</code> function of <a href=\"https://metacpan.org/source/JMCNAMARA/Spreadsheet-ParseExcel-0.59/lib/Spreadsheet/ParseExcel/Worksheet.pm\" rel=\"nofollow noreferrer\">Spreadsheet::ParseExcel::Worksheet</a>. You can get some idea from here."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1431557102, "last_edit_date": 1495541197, "creation_date": 1431556762, "answer_id": 30226387, "question_id": 30225256, "link": "https://stackoverflow.com/questions/30225256/perl-changing-excel-worksheet-name/30226387#30226387", "title": "Perl - Changing Excel Worksheet name", "body": "<p>The only way of doing this while preserving everything else in the Excel file is to use <a href=\"https://metacpan.org/pod/Win32::OLE\" rel=\"nofollow noreferrer\">Win32::OLE</a>.</p>\n\n<p>That requires having Excel installed on the computer on which the program will be run, and, of course, only works on Windows.</p>\n\n<p>If you can't do that, you will have to read the Excel file, and write out the contents to another file, changing the name of the worksheet in the process. Depending on exactly what you have in the source Excel file, this can get rather involved rather fast.</p>\n\n<p>See also \"<a href=\"https://stackoverflow.com/a/6791613/100754\">How can I merge two Excel (xls) files in Perl or batch?</a>\" and \"<a href=\"https://stackoverflow.com/a/29880018/100754\">In Perl, how can I copy a subset of columns from an XLSX work sheet to another?</a>\"</p>\n"}], "owner": {"reputation": 67, "user_id": 2014969, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/f1a933dfda6923b65b7197a7adc96465?s=128&d=identicon&r=PG", "display_name": "user2014969", "link": "https://stackoverflow.com/users/2014969/user2014969"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431557102, "creation_date": 1431551391, "last_edit_date": 1431554074, "question_id": 30225256, "link": "https://stackoverflow.com/questions/30225256/perl-changing-excel-worksheet-name", "title": "Perl - Changing Excel Worksheet name", "body": "<p>In a perl script I am writing, I am trying to find a way to open an existing excel spreadsheet, change the name of the first worksheet, and save it. It would seem like a simple task but I haven't found a simple way to do it.</p>\n\n<p>Spreadsheet::WriteExcel can easily change worksheet name, but it seems like it can't read in an existing excel file.</p>\n\n<p>Another constraint is that the perl module I use shouldn't need installation. I can work around this if there's no good option, but it would make things more complicated.</p>\n\n<p>Edit: I am using ActivePerl 5.18, so modules included in this are ideal.</p>\n"}, {"tags": ["perl", "caldav"], "comments": [{"owner": {"reputation": 11967, "user_id": 2203005, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cGmtW.png?s=128&g=1", "display_name": "hnh", "link": "https://stackoverflow.com/users/2203005/hnh"}, "edited": false, "score": 0, "creation_date": 1431567664, "post_id": 30223463, "comment_id": 48559547, "body": "Does this have to be Perl? Otherwise you can just use Cadaver to connect to the todolist collection and do a &#39;rm *&#39; ..."}, {"owner": {"reputation": 502, "user_id": 106062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2283ad5d3aa7531e014ea9994d2fc15?s=128&d=identicon&r=PG", "display_name": "Elbin", "link": "https://stackoverflow.com/users/106062/elbin"}, "reply_to_user": {"reputation": 11967, "user_id": 2203005, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cGmtW.png?s=128&g=1", "display_name": "hnh", "link": "https://stackoverflow.com/users/2203005/hnh"}, "edited": false, "score": 0, "creation_date": 1431590821, "post_id": 30223463, "comment_id": 48567294, "body": "Well if you can show me the sequence to do in Cadaver, I can wrap Perl around that :-) I had a quick look at cadaver last night, can&#39;t remember why I gave up on it."}, {"owner": {"reputation": 11967, "user_id": 2203005, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cGmtW.png?s=128&g=1", "display_name": "hnh", "link": "https://stackoverflow.com/users/2203005/hnh"}, "edited": false, "score": 0, "creation_date": 1431618161, "post_id": 30223463, "comment_id": 48584311, "body": "Cadaver is an interactive tool not suitable for wrapping. I wasn&#39;t sure whether you want to do this just once (in a bulk way) or really build into a script. @harvey&#39;s answer should do what you want. A CalDAV todo list is just a WebDAV collection. You retrieve the item URLs via a simple PROPFIND and you can delete them via a regular HTTP DELETE."}], "answers": [{"comments": [{"owner": {"reputation": 502, "user_id": 106062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2283ad5d3aa7531e014ea9994d2fc15?s=128&d=identicon&r=PG", "display_name": "Elbin", "link": "https://stackoverflow.com/users/106062/elbin"}, "edited": false, "score": 1, "creation_date": 1431688505, "post_id": 30229403, "comment_id": 48615782, "body": "Thanks - this has got me part way there. The server I&#39;m talking to uses https, so I&#39;ve created something based on HTTP::Tiny. I get a response back from the CalDAV server, but not the expected VTODO items..."}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1431578736, "creation_date": 1431578736, "answer_id": 30229403, "question_id": 30223463, "link": "https://stackoverflow.com/questions/30223463/how-do-i-get-a-list-of-all-todo-items-in-a-caldav-calendar-from-perl/30229403#30229403", "title": "How do I get a list of all todo items in a CalDAV calendar from Perl?", "body": "<p>Here's an example using raw sockets to connect and send the request manually - I found using a library like lwp, or http just gets cumbersome with the need for overriding the headers. </p>\n\n<p>Referenced the request format from <a href=\"http://sabre.io/dav/building-a-caldav-client/\" rel=\"nofollow\">http://sabre.io/dav/building-a-caldav-client/</a></p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict 'vars';\nuse warnings;\nuse Socket;\n\n# initialize host and port\nmy $host = 'www.example.com';\nmy $port =  80;\n\n# contact the server\nopen_tcp(F, $host, $port) \n  or die 'Could not connect to server';\n\n# Send request data\nwhile ( my $request = &lt;DATA&gt; ) {\n  print F $request;\n}\n\n# Get Response\nwhile ( my $response = &lt;F&gt; ) {\n  print \"Response:&gt; $response\";\n}\n\nclose(F);\n\n# TCP Helper\nsub open_tcp\n{\n  # get parameters\n  my ($FS, $dest, $port) = @_;\n\n  my $proto = getprotobyname('tcp');\n  socket($FS, PF_INET, SOCK_STREAM, $proto);\n  my $sin = sockaddr_in($port,inet_aton($dest));\n  connect($FS,$sin);\n\n  my $old_fh = select($FS); \n  $| = 1; # don't buffer output\n  select($old_fh);\n}\n\n__DATA__\nREPORT /calendars/johndoe/home/ HTTP/1.1\nDepth: 1\nPrefer: return-minimal\nContent-Type: application/xml; charset=utf-8\n\n&lt;c:calendar-query xmlns:d=\"DAV:\" xmlns:c=\"urn:ietf:params:xml:ns:caldav\"&gt;\n    &lt;d:prop&gt;\n        &lt;d:getetag /&gt;\n        &lt;c:calendar-data /&gt;\n    &lt;/d:prop&gt;\n    &lt;c:filter&gt;\n        &lt;c:comp-filter name=\"VCALENDAR\"&gt;\n            &lt;c:comp-filter name=\"VTODO\" /&gt;\n        &lt;/c:comp-filter&gt;\n    &lt;/c:filter&gt;\n&lt;/c:calendar-query&gt;\n</code></pre>\n"}], "owner": {"reputation": 502, "user_id": 106062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2283ad5d3aa7531e014ea9994d2fc15?s=128&d=identicon&r=PG", "display_name": "Elbin", "link": "https://stackoverflow.com/users/106062/elbin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 776, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1431578736, "creation_date": 1431544585, "question_id": 30223463, "link": "https://stackoverflow.com/questions/30223463/how-do-i-get-a-list-of-all-todo-items-in-a-caldav-calendar-from-perl", "title": "How do I get a list of all todo items in a CalDAV calendar from Perl?", "body": "<p>I've got a CalDAV calendar, and want to pull out all todo items from it, then delete them.</p>\n\n<p>Either the Cal::DAV or HTTP::DAV module is possibly the way to go, but it's not at all clear how to do what I want, without learning a lot about CalDAV, which I'm hoping to avoid :-)</p>\n"}, {"tags": ["perl", "audio", "metadata"], "comments": [{"owner": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "edited": false, "score": 1, "creation_date": 1431542901, "post_id": 30222888, "comment_id": 48549690, "body": "Have you taken a look at the MP3::Info module?  <a href=\"https://metacpan.org/pod/MP3::Info\" rel=\"nofollow noreferrer\">metacpan.org/pod/MP3::Info</a>"}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "reply_to_user": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "edited": false, "score": 0, "creation_date": 1431543022, "post_id": 30222888, "comment_id": 48549756, "body": "@TrentonTrama I&#39;m afraid it works only for mp3, not for other audio formats. To be more precise, I need only mp3 and flac."}, {"owner": {"reputation": 4462, "user_id": 1018580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757fafb944d47f80a2336d097dcef7c5?s=128&d=identicon&r=PG", "display_name": "Trenton Trama", "link": "https://stackoverflow.com/users/1018580/trenton-trama"}, "edited": false, "score": 1, "creation_date": 1431543276, "post_id": 30222888, "comment_id": 48549932, "body": "If you only need those two formats,  you can use a combination of MP3::Info and Audio::FLAC::Decoder or Audio::FLAC::Header.   Decoder has a <code>time_total</code> function that returns the total number of seconds.   Header returns a hash that contains the time segments of the file."}], "answers": [{"comments": [{"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1431642263, "post_id": 30235424, "comment_id": 48597684, "body": "is it possible to use some universal method instead of including different modules with different methods?"}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "reply_to_user": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1431644345, "post_id": 30235424, "comment_id": 48598284, "body": "You could use a library such as libavcodec - the engine behind ffmpeg. This knows about different files types, but the core engine is in c. <a href=\"http://search.cpan.org/~randomman/Video-FFmpeg-0.47/lib/Video/FFmpeg.pm\" rel=\"nofollow noreferrer\">Video::FFmpeg</a> may do what you want."}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1432145040, "post_id": 30235424, "comment_id": 48806223, "body": "I will answer as soon as I overcome errors in installing FFmpeg modules."}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 1, "creation_date": 1433188931, "post_id": 30235424, "comment_id": 49234318, "body": "In my case i used this answer: <a href=\"https://stackoverflow.com/questions/6239350/how-to-extract-duration-time-from-ffmpeg-output\" title=\"how to extract duration time from ffmpeg output\">stackoverflow.com/questions/6239350/&hellip;</a> with <code>my $duration = `ffmpeg -i \\&quot;$track\\&quot; 2&gt;&amp;1 | grep Duration | awk &#39;{print \\$2;}&#39; | tr -d ,`;</code>"}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": true, "score": 1, "last_activity_date": 1431600573, "creation_date": 1431600573, "answer_id": 30235424, "question_id": 30222888, "link": "https://stackoverflow.com/questions/30222888/perl-audio-file-duration/30235424#30235424", "title": "Perl Audio file duration", "body": "<p>Ideally you want to determine the file type based on the file content instead of the extension, <code>File::Type</code> comes in handy for this. MP3::Info and Audio::Flac::Header are well written perl modules.</p>\n\n<pre><code>use File::Type;\nuse MP3::Info;\nuse Audio::FLAC::Header;\n\nmy $duration = -1;\nmy $ft = File::Type-&gt;new()-&gt;checktype_filename($track);\n\n$duration = Audio::FLAC::Header\n              -&gt;new($track)\n              -&gt;tags()\n              -&gt;{trackTotalLengthSeconds} \n              if($ft eq 'audio/flac');\n\n$duration = MP3::Info\n              -&gt;get_mp3info($track)\n              -&gt;{SECS} \n              if($ft eq 'audio/mpeg3');\n</code></pre>\n"}], "owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "accepted_answer_id": 30235424, "answer_count": 1, "score": 3, "last_activity_date": 1431600573, "creation_date": 1431542623, "last_edit_date": 1431542818, "question_id": 30222888, "link": "https://stackoverflow.com/questions/30222888/perl-audio-file-duration", "title": "Perl Audio file duration", "body": "<p>I am writing an audio playlist generator. However, I want it to output not only name and numeration in a strict row but also <strong>duration of an audio file</strong>. Is it any way I can do so without such hacks like:</p>\n\n<pre><code>print \"#: $number\\tDuration: \";\nsystem(\"mp3info -p \\\"%m:%s\\\" \\\"$track\\\"\");\nprint \"\\tNAME: $name\";\n</code></pre>\n\n<p>If it is any important, my perl version is <code>v5.16.3</code>.</p>\n"}, {"tags": ["postgresql", "perl", "plpgsql"], "answers": [{"comments": [{"owner": {"reputation": 488, "user_id": 4227811, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/qkoVH.jpg?s=128&g=1", "display_name": "Vivian Maya", "link": "https://stackoverflow.com/users/4227811/vivian-maya"}, "edited": false, "score": 0, "creation_date": 1431536922, "post_id": 30221162, "comment_id": 48546244, "body": "Thanks for your attention, do I have PrintError =&gt; 1 ? where do I have it ? Where am I supposed to add PrintError =&gt; 0, could you specify bit more ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 488, "user_id": 4227811, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/qkoVH.jpg?s=128&g=1", "display_name": "Vivian Maya", "link": "https://stackoverflow.com/users/4227811/vivian-maya"}, "edited": false, "score": 0, "creation_date": 1431537014, "post_id": 30221162, "comment_id": 48546315, "body": "It&#39;s one of the <code>connect</code>&#39;s options. That&#39;s the default."}, {"owner": {"reputation": 488, "user_id": 4227811, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/qkoVH.jpg?s=128&g=1", "display_name": "Vivian Maya", "link": "https://stackoverflow.com/users/4227811/vivian-maya"}, "edited": false, "score": 0, "creation_date": 1431537148, "post_id": 30221162, "comment_id": 48546381, "body": "allrigth but how should I add to PrintError =&gt; 0 ? where am I supposed to that ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 488, "user_id": 4227811, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/qkoVH.jpg?s=128&g=1", "display_name": "Vivian Maya", "link": "https://stackoverflow.com/users/4227811/vivian-maya"}, "edited": false, "score": 1, "creation_date": 1431537181, "post_id": 30221162, "comment_id": 48546397, "body": "Add it to <code>connect</code>&#39;s options."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1431537820, "last_edit_date": 1431537820, "creation_date": 1431536729, "answer_id": 30221162, "question_id": 30221100, "link": "https://stackoverflow.com/questions/30221100/perl-postgresql-queries-executes-twice/30221162#30221162", "title": "Perl PostgreSQL queries executes twice", "body": "<p>You have <code>PrintError =&gt; 1</code>, which prints an error message on error.</p>\n\n<p>You have <code>RaiseError =&gt; 1</code>, which throws an exception consisting of an error message. Uncaught exceptions are printed as they end the program.</p>\n\n<p>Add <code>PrintError =&gt; 0</code> to the options passed to <code>DBI-&gt;connect</code>.</p>\n"}], "owner": {"reputation": 488, "user_id": 4227811, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/qkoVH.jpg?s=128&g=1", "display_name": "Vivian Maya", "link": "https://stackoverflow.com/users/4227811/vivian-maya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 1, "accepted_answer_id": 30221162, "answer_count": 1, "score": 2, "last_activity_date": 1483999261, "creation_date": 1431536525, "last_edit_date": 1483999261, "question_id": 30221100, "link": "https://stackoverflow.com/questions/30221100/perl-postgresql-queries-executes-twice", "title": "Perl PostgreSQL queries executes twice", "body": "<p>I was trying to understand why it is happening but I could not find it. SQL Queries executes twice.</p>\n\n<p>piece of my script: </p>\n\n<pre><code>my $driver = \"Pg\"; # Driver Name\nmy $database = $ARGV[0]; # First argument will be database name\nmy $dsn = \"DBI:$driver:dbname=$database;host=127.0.0.1;port=5432\";\nmy $userid = $ARGV[1]; # second argument will be username\nmy $password = $ARGV[2]; # third argument will be passwd\nmy $dbh = DBI-&gt;connect($dsn,$userid,$password,  {RaiseError =&gt; 1 }) or die $DBI::errstr;\n\nsub f_createUser {\n    if (scalar @_ != 3 ) {\n        return;\n    }\n    my $query = $dbh-&gt;prepare(qq{ SELECT createUserWithPassword(?,?) });\n    #my $result = $dbh-&gt;do($query) &lt; 0 ? say \"$DBI::errstr\" : \"# &gt;&gt;&gt; Query worked successfully\";\n    $query-&gt;execute($_[1],$_[2]);\n}\n\n&amp;f_createUser(@revelantArray);\n</code></pre>\n\n<p>When I execute script, I got:</p>\n\n<blockquote>\n  <p>DBD::Pg::st execute failed: ERROR:  role \"tesstt\" already exists\n  CONTEXT:  SQL statement \"CREATE USER tesstt WITH PASSWORD '123'\"\n  PL/pgSQL function createuserwithpassword(character varying,character\n  varying) line 3 at EXECUTE statement at homework2.pl line 39, \n  line 1. DBD::Pg::st execute failed: ERROR:  role \"tesstt\" already\n  exists CONTEXT:  SQL statement \"CREATE USER tesstt WITH PASSWORD\n  '123'\" PL/pgSQL function createuserwithpassword(character\n  varying,character varying) line 3 at EXECUTE statement at homework2.pl\n  line 39,  line 1.</p>\n</blockquote>\n\n<p>Why is this happening ? What am I missing ?</p>\n\n<p>Thanks in advance...</p>\n"}, {"tags": ["regex", "perl", "sorting", "csv"], "answers": [{"tags": [], "owner": {"reputation": 1748, "user_id": 4532614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f230595feac883e1643f5ba43084e895?s=128&d=identicon&r=PG&f=1", "display_name": "TobyLL", "link": "https://stackoverflow.com/users/4532614/tobyll"}, "is_accepted": false, "score": 0, "last_activity_date": 1431586285, "last_edit_date": 1431586285, "creation_date": 1431535320, "answer_id": 30220719, "question_id": 30220611, "link": "https://stackoverflow.com/questions/30220611/perl-sorting-files-having-date-value-in-filename/30220719#30220719", "title": "Perl - Sorting Files having date value in filename", "body": "<p>If your dates were in <code>YYYYMMDDHH24MISS</code> format, then a simple alphanumeric sort would suffice.  A substitution like the following on the filename will put them into this format:</p>\n\n<pre><code>$filename =~ s/(\\d{2})(\\d{2})(\\d{4})(\\d{6})/$3$2$1$4/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4819944, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4LBB0RGZvCM/AAAAAAAAAAI/AAAAAAAAAHs/pARqUnhdPIU/photo.jpg?sz=128", "display_name": "manoj kumar", "link": "https://stackoverflow.com/users/4819944/manoj-kumar"}, "edited": false, "score": 0, "creation_date": 1431537172, "post_id": 30220835, "comment_id": 48546395, "body": "Hi Thanks for the reply. Unfortunately TIme::Piece module is not working .. Could you please suggest a way where we can extract the date part and then sort using or subroutine or something?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1431542467, "post_id": 30220835, "comment_id": 48549430, "body": "Time::Piece has been a standard part of a Perl installation since Perl 5.10.0 (in December 2007). If it&#39;s &quot;not working&quot; for you, it might be time to upgrade to a more up to date version."}, {"owner": {"reputation": 11, "user_id": 4819944, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4LBB0RGZvCM/AAAAAAAAAAI/AAAAAAAAAHs/pARqUnhdPIU/photo.jpg?sz=128", "display_name": "manoj kumar", "link": "https://stackoverflow.com/users/4819944/manoj-kumar"}, "edited": false, "score": 0, "creation_date": 1431592068, "post_id": 30220835, "comment_id": 48567831, "body": "Hi..Yes, the Time Piece Installation is not there. And the server which has those files is not under our control . We only have limited access."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1431535667, "creation_date": 1431535667, "answer_id": 30220835, "question_id": 30220611, "link": "https://stackoverflow.com/questions/30220611/perl-sorting-files-having-date-value-in-filename/30220835#30220835", "title": "Perl - Sorting Files having date value in filename", "body": "<p>You can use the <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> module to parse the digits in the file name in conjunction with <code>nsort_by</code> from <a href=\"https://metacpan.org/pod/List::UtilsBy\" rel=\"nofollow\"><code>List::UtilsBy</code></a> to order your file names</p>\n\n<p>It would look like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\nuse List::UtilsBy 'nsort_by';\n\nmy @names = &lt;DATA&gt;;\nchomp @names;\n\nmy @sorted = nsort_by { Time::Piece-&gt;strptime(/(\\d+)/, '%d%m%Y%H%M%S')-&gt;epoch } @names;\n\nsay for @sorted;\n\n__DATA__\nDEV_TEST_24032015121022.csv\nDEV_TEST_04052015074942.csv\nDEV_TEST_12052015074942.csv\nDEV_TEST_05052015115948.csv\nDEV_TEST_12022015115948.csv\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>DEV_TEST_12022015115948.csv\nDEV_TEST_24032015121022.csv\nDEV_TEST_04052015074942.csv\nDEV_TEST_05052015115948.csv\nDEV_TEST_12052015074942.csv\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1431539584, "last_edit_date": 1431539584, "creation_date": 1431537159, "answer_id": 30221279, "question_id": 30220611, "link": "https://stackoverflow.com/questions/30220611/perl-sorting-files-having-date-value-in-filename/30221279#30221279", "title": "Perl - Sorting Files having date value in filename", "body": "<p>It's easy to rearrange the dates so they can be sorted lexically.</p>\n\n<p>Sort just by date-time:</p>\n\n<pre><code>my @sorted =\n   map /\\0(.*)/s,\n   sort\n   map {\n      my ($d,$m,$y,$t) = /(\\d{2})(\\d{2})(\\d{4})(\\d{6})/;\n      \"$y$m$d$t\\0$_\"\n   }\n   @unsorted;\n</code></pre>\n\n<p>Sort by whatever comes before the date-time, then by date-time:</p>\n\n<pre><code>my @sorted =\n   map /\\0(.*)/s,\n   sort\n   map {\n      ( my $fixed = $_ ) =~ s/(\\d{2})(\\d{2})(\\d{4})(?=\\d{6})/$3$2$1/;\n      $fixed . \"\\0\" . $_\n   }\n   @unsorted;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4819944, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4LBB0RGZvCM/AAAAAAAAAAI/AAAAAAAAAHs/pARqUnhdPIU/photo.jpg?sz=128", "display_name": "manoj kumar", "link": "https://stackoverflow.com/users/4819944/manoj-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 30221279, "answer_count": 3, "score": -1, "last_activity_date": 1431586415, "creation_date": 1431534997, "last_edit_date": 1431586415, "question_id": 30220611, "link": "https://stackoverflow.com/questions/30220611/perl-sorting-files-having-date-value-in-filename", "title": "Perl - Sorting Files having date value in filename", "body": "<p>I have a list of files in the directory for which I want to perform sort and get the latest file. I don't want to do it using latest modification time or created time. I want to sort based on the file name.</p>\n\n<p>The File name will be in the format <strong>DEV_TEST_DDMMYYYYHH24MISS.csv</strong></p>\n\n<p>I need to write a perl script which will read the files from the directory and perform sorting based on the file name.</p>\n\n<p>EX. File names:</p>\n\n<pre><code>DEV_TEST_24032015121022.csv \nDEV_TEST_04052015074942.csv \nDEV_TEST_12052015074942.csv \nDEV_TEST_05052015115948.csv\nDEV_TEST_12022015115948.csv\n</code></pre>\n\n<p>The script should return <code>DEV_TEST_12052015074942.csv</code> as the latest file.</p>\n\n<p>Can someone suggest a better approach?</p>\n\n<p>It is enough if someone can provide sorting logic.</p>\n"}, {"tags": ["perl", "pack"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431543915, "post_id": 30220297, "comment_id": 48550339, "body": "Note: <code>foreach (@b) { print &quot;$_\\n&quot; };</code> is better written as <code>print &quot;$_\\n&quot; for @b</code>."}], "answers": [{"comments": [{"owner": {"reputation": 64, "user_id": 2984638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b09a30c931f7ad5eeaa5a3fe5d2becb?s=128&d=identicon&r=PG", "display_name": "perlboy", "link": "https://stackoverflow.com/users/2984638/perlboy"}, "edited": false, "score": 0, "creation_date": 1431536696, "post_id": 30220622, "comment_id": 48546124, "body": "Thank you Borodin. Pilot error on my part. I assumed pack converted its LIST argument based on TEMPLATE. Now I can do what I really want which is the equivalent of $pad = &#39;abcdefgh&#39;; $pad = unpack &#39;H*&#39;, $pad; and avoid using that inefficient s// expression."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 64, "user_id": 2984638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b09a30c931f7ad5eeaa5a3fe5d2becb?s=128&d=identicon&r=PG", "display_name": "perlboy", "link": "https://stackoverflow.com/users/2984638/perlboy"}, "edited": false, "score": 0, "creation_date": 1431537107, "post_id": 30220622, "comment_id": 48546353, "body": "@perlboy: Each template will generally use up one of the items in the list, so <code>pack &#39;(H*)*&#39;, &#39;414243&#39;, &#39;444546&#39;</code> gives you <code>ABCDEF</code> and <code>pack &#39;(H2)*&#39;, &#39;414243&#39;, &#39;444546&#39;</code> gives <code>AD</code>"}, {"owner": {"reputation": 64, "user_id": 2984638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b09a30c931f7ad5eeaa5a3fe5d2becb?s=128&d=identicon&r=PG", "display_name": "perlboy", "link": "https://stackoverflow.com/users/2984638/perlboy"}, "edited": false, "score": 0, "creation_date": 1431545339, "post_id": 30220622, "comment_id": 48551148, "body": "yup, I get it now, thanks. Where $pad is an ASCII string I can do $pad = unpack &#39;H*&#39;, $pad; $msg ^= $pad; $msg = pack &#39;H*&#39;, $msg; to get readable ASCII. Works great and is faster than regex."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1431535019, "creation_date": 1431535019, "answer_id": 30220622, "question_id": 30220297, "link": "https://stackoverflow.com/questions/30220297/why-am-i-getting-unexpected-results-with-packh-with-perl-5-12-4-and-5/30220622#30220622", "title": "Why am I getting unexpected results with pack(&#39;H*&#39;, ...) with perl 5.12.4 and 5.20.2?", "body": "<p>What result do you actually want?</p>\n\n<p>The <code>H</code> template for <code>pack</code> expects a hex string and returns a string consisting of the characters at those hex code points. So <code>pack 'H*', '414243'</code> will give you <code>ABC</code></p>\n\n<p>At a guess you want the reverse of that, so use <code>unpack</code> like this</p>\n\n<pre><code>my @a = qw(a b c d e f g h);\nsay unpack 'H*', join '', @a;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>6162636465666768\n</code></pre>\n"}], "owner": {"reputation": 64, "user_id": 2984638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b09a30c931f7ad5eeaa5a3fe5d2becb?s=128&d=identicon&r=PG", "display_name": "perlboy", "link": "https://stackoverflow.com/users/2984638/perlboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 30220622, "answer_count": 1, "score": 0, "last_activity_date": 1431543863, "creation_date": 1431533945, "last_edit_date": 1431543863, "question_id": 30220297, "link": "https://stackoverflow.com/questions/30220297/why-am-i-getting-unexpected-results-with-packh-with-perl-5-12-4-and-5", "title": "Why am I getting unexpected results with pack(&#39;H*&#39;, ...) with perl 5.12.4 and 5.20.2?", "body": "<p>I'm XORing, <code>($a ^= $b)</code>, strings and must express them as hex numbers. I can do this with <code>sprintf</code> but I prefer using <code>pack('H*', ...)</code>, if possible. I've packaged test code that expresses the problem with embedded comments. Can anyone explain why the <code>pack('H*', ...)</code> statement is failing? Thanks and regards.</p>\n\n<pre><code>use strict;\n\nmy @a = qw(a b c d e f g h);\nprint \"@a\\n\";\nmy @b = map ord, @a;\nforeach (@b) { print \"$_\\n\" };\nprint scalar(@b), \"\\n\";\nmy $pad = pack('H*', @b);   # why doesn't this work????\nprint \"\\$pad after pack('H*', \\@b) = $pad \\t\\t # garbage :-(\\n\";\nprint length($pad), \"\\n\";\n$pad = pack('C*', @b);\nprint \"\\$pad after pack('C*', \\@b) = $pad \\t # correct\\n\";\n\n$pad =~ s/(.)/sprintf(\"%x\",ord($1))/eg;\nprint \"\\$pad after sprintf() = $pad\\t # correct :-)\\n\";\n\nexit(0);\n</code></pre>\n\n<p>Thanks again.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "is_accepted": true, "score": 14, "last_activity_date": 1431530413, "last_edit_date": 1431530413, "creation_date": 1431525220, "answer_id": 30216969, "question_id": 30216794, "link": "https://stackoverflow.com/questions/30216794/how-can-i-use-s-as-a-substitution-delimiter-in-perl/30216969#30216969", "title": "How can I use &quot;s&quot; as a substitution delimiter in Perl?", "body": "<p>You can use any non-whitespace character as the delimiter, but you can't use the delimiter inside <em>PATTERN</em> or <em>REPLACEMENT</em> without escaping it. This is totally valid:</p>\n\n<pre><code>my $x = 's';\n$x =~ s s\\ss\\s\\ss;\nprint $x; # prints \"ss\"\n</code></pre>\n\n<p>Note that a space is required after the first <code>s</code> or else it will be interpreted as <code>ss</code> identifier.</p>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 30216969, "answer_count": 1, "score": 8, "last_activity_date": 1431542569, "creation_date": 1431524773, "last_edit_date": 1431542569, "question_id": 30216794, "link": "https://stackoverflow.com/questions/30216794/how-can-i-use-s-as-a-substitution-delimiter-in-perl", "title": "How can I use &quot;s&quot; as a substitution delimiter in Perl?", "body": "<p>I was playing with Perl and thought that </p>\n\n<pre><code>sssssss\n</code></pre>\n\n<p>Would have been the same as</p>\n\n<pre><code>s/s/ss/\n</code></pre>\n\n<p>It seems only certain delimiters can be used. What are they?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 1, "creation_date": 1431524770, "post_id": 30216537, "comment_id": 48537342, "body": "So this flip-flop operator stores the evaluation result of each iteration internally, so it can make decision based on previous iteration?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 2, "creation_date": 1431524837, "post_id": 30216537, "comment_id": 48537389, "body": "Yes, the count of how many times the LHS has matched in succession is stored in the instance of the flip-flop op. It uses that to dtermine which check it should perform."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1431524163, "creation_date": 1431524163, "answer_id": 30216537, "question_id": 30216193, "link": "https://stackoverflow.com/questions/30216193/how-to-understand-range-in-statement-modifier-in-perl/30216537#30216537", "title": "How to understand range in statement modifier in Perl?", "body": "<p>When used in scalar context, it's called the flip-flop operator.</p>\n\n<hr>\n\n<p>When its operands are constants, they are compared to <code>$.</code>, so</p>\n\n<pre><code>print if 10 .. 20;\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>print if $. == 10 .. $. == 20;\n</code></pre>\n\n<p>The flip-flop will return true starting with line 10, until line 20.</p>\n\n<pre><code>$ perl -E'say for \"a\"..\"z\"' |\n   perl -ne'print if 10 .. 20;'\nj\nk\nl\nm\nn\no\np\nq\nr\ns\nt\n</code></pre>\n\n<hr>\n\n<p>The rest of the time, the operands are evaluated as-is, so</p>\n\n<pre><code>print if /pat1/ .. /pat2/;\n</code></pre>\n\n<p>will return true starting with a line (<code>$_</code>) matching <code>pat1</code>, until a line (<code>$_</code>) matching <code>pat2</code>.</p>\n\n<pre><code>$ perl -E'say for \"z\", \"xpat1x\", \"x\", \"xpat2x\", \"z\", \"ypat1y\", \"y\", \"ypat2y\", \"z\"' |\n   perl -ne'print if /pat1/ .. /pat2/;'\nxpat1x\nx\nxpat2x\nypat1y\ny\nypat2y\n</code></pre>\n"}], "owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 30216537, "answer_count": 1, "score": 2, "last_activity_date": 1431524163, "creation_date": 1431523404, "last_edit_date": 1431523705, "question_id": 30216193, "link": "https://stackoverflow.com/questions/30216193/how-to-understand-range-in-statement-modifier-in-perl", "title": "How to understand range in statement modifier in Perl?", "body": "<p>Perl supports range in statement modifier as below, how does the interpreter handle it together with <code>$.</code>? I am wondering the rule interpreter handles it since this is not a simple boolean expression.</p>\n\n<pre><code>while (&lt;&gt;)\n{\n  print if 10 .. 20;\n  print if /pat1/ .. /pat2/;\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4981, "user_id": 3831557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZgBDJ.jpg?s=128&g=1", "display_name": "Rajen Raiyarela", "link": "https://stackoverflow.com/users/3831557/rajen-raiyarela"}, "edited": false, "score": 1, "creation_date": 1431523151, "post_id": 30216030, "comment_id": 48535910, "body": "have you tried anything?"}, {"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1431523296, "post_id": 30216030, "comment_id": 48536037, "body": "We need a bit more context.  For example, does anything follow that text?  Are spaces and newline characters valid characters?  Etc.  Right now this question is not specific enough."}, {"owner": {"reputation": 3, "user_id": 4895886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c0d123770fd6af7d005c8c37c324e08?s=128&d=identicon&r=PG&f=1", "display_name": "W17", "link": "https://stackoverflow.com/users/4895886/w17"}, "edited": false, "score": 0, "creation_date": 1431523380, "post_id": 30216030, "comment_id": 48536106, "body": "I want everything and anything that comes after the &#39;base64&#39; string"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431524570, "post_id": 30216030, "comment_id": 48537160, "body": "What is wrong with the code you tried?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1431525130, "last_edit_date": 1431525130, "creation_date": 1431524723, "answer_id": 30216764, "question_id": 30216030, "link": "https://stackoverflow.com/questions/30216030/perl-regex-get-all-text-after-string/30216764#30216764", "title": "perl - regex - get all text after string", "body": "<p>You want the body of a MIME message. The body is separated from the header by a blank line. So, just check for two line breaks in a row.</p>\n\n<pre><code>my ($body) = $mime_message =~ /\\n\\r?\\n(.*)/s;\n</code></pre>\n\n<p>That handles the standard CRLF line break used by MIME, but it also handles just LF too.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1431525547, "last_edit_date": 1431525547, "creation_date": 1431524867, "answer_id": 30216827, "question_id": 30216030, "link": "https://stackoverflow.com/questions/30216030/perl-regex-get-all-text-after-string/30216827#30216827", "title": "perl - regex - get all text after string", "body": "<p>If you have the whole of the file in variable <code>$textblock</code> then you can extract everything after the first occurrence of <code>base64</code> by removing the <code>?</code> non-greedy modifier from <code>(.*?)</code> and adding the <code>/s</code> modifier to your sample code.</p>\n\n<p>The difference is that <code>.</code> normally matches anything <em>except</em> the newline character at the end of the string, so <code>(.*)</code> will stop at the end of the line containing <code>base64</code>. Adding <code>/s</code> changes it to match any character at all</p>\n\n<pre><code>my $text_i_want;\n$text_i_want = $1 if $textblock =~ /base64(.*)/s;\n</code></pre>\n\n<p>will give you what you want, but note that it includes any space characters and the newline after <code>base64</code></p>\n\n<p>As an alternative, you can split the string into two at the first occurrence of <code>base64</code> and select the second part, like this</p>\n\n<pre><code>my $text_i_want = (split /base64/, $textblock, 2)[1];\n</code></pre>\n\n<p>which gives the same result</p>\n"}], "owner": {"reputation": 3, "user_id": 4895886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c0d123770fd6af7d005c8c37c324e08?s=128&d=identicon&r=PG&f=1", "display_name": "W17", "link": "https://stackoverflow.com/users/4895886/w17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1388, "favorite_count": 0, "accepted_answer_id": 30216827, "answer_count": 2, "score": -1, "last_activity_date": 1431525547, "creation_date": 1431523061, "last_edit_date": 1431523800, "question_id": 30216030, "link": "https://stackoverflow.com/questions/30216030/perl-regex-get-all-text-after-string", "title": "perl - regex - get all text after string", "body": "<p>Using Perl Regex how do I get the <strong>IWantThisText</strong> text block that comes after '<strong>base64</strong>' from the following:</p>\n\n<pre><code>Content-Type: text/html; charset=\"KOI8-R\"  \nContent-Disposition: inline  \nContent-Transfer-Encoding: base64  \n\nIWantThisTextIWantThisTextIWantThisTextIWantThisTextIWantThisTextIWantThisTex\ntIWantThisTextIWantThisTextIWantThisTextIWantThisTextIWantThisTextIWantThisTe\nxtIWantThisTextIWantThisTextIWantThisTextIWantThisTextIWantThisTextIWantThisT\nextIWantThisTextIWantThisTextIWantThisTextIWantThisTextIWantThisTextIWantThis\nTextIWantThisTextIWantThisTextIWantThisTextIWantThisTextIWantThisTextIWantThi\nsTextIWantThi\n</code></pre>\n\n<p>EDIT:<br>\nWhat I have so far:  </p>\n\n<pre><code>my ($textIWant) = $textblock =~ m/base64(.*?)/;\n</code></pre>\n"}, {"tags": ["perl", "web-services", "soap", "soaplite"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431541718, "post_id": 30214664, "comment_id": 48549021, "body": "Hrm, I think I&#39;m right in saying that munging XML with an XML parser would be a bad idea, because SOAP isn&#39;t suppose to be done that way?"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1431559495, "post_id": 30214664, "comment_id": 48557414, "body": "<a href=\"http://stackoverflow.com/questions/7070553/soapdatabuilder-remove-xsinil-true-when-no-value-provided\" title=\"soapdatabuilder remove xsinil true when no value provided\">stackoverflow.com/questions/7070553/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 4759693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fd4850a16727c7a8905b946984c37cc?s=128&d=identicon&r=PG&f=1", "display_name": "monsocla", "link": "https://stackoverflow.com/users/4759693/monsocla"}, "is_accepted": true, "score": 1, "last_activity_date": 1453472472, "creation_date": 1453472472, "answer_id": 34948905, "question_id": 30214664, "link": "https://stackoverflow.com/questions/30214664/how-to-remove-the-xsinil-true-from-perl-soaplite-service-call/34948905#34948905", "title": "How to remove the xsi:nil=&quot;true&quot; from Perl SOAP::Lite service call?", "body": "<p>I found the answer. Seems as if it\u2019s a limitation of the SOAP:Lite library (but is easily modifiable).\n<a href=\"http://www.perlmonks.org/?node_id=931103\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=931103</a></p>\n"}], "owner": {"reputation": 61, "user_id": 4759693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fd4850a16727c7a8905b946984c37cc?s=128&d=identicon&r=PG&f=1", "display_name": "monsocla", "link": "https://stackoverflow.com/users/4759693/monsocla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "accepted_answer_id": 34948905, "answer_count": 1, "score": 2, "last_activity_date": 1453472472, "creation_date": 1431519817, "last_edit_date": 1431520204, "question_id": 30214664, "link": "https://stackoverflow.com/questions/30214664/how-to-remove-the-xsinil-true-from-perl-soaplite-service-call", "title": "How to remove the xsi:nil=&quot;true&quot; from Perl SOAP::Lite service call?", "body": "<p>Here's the code using <a href=\"https://metacpan.org/pod/SOAP::Lite\" rel=\"nofollow\"><code>SOAP::Lite</code></a></p>\n\n<pre><code>my $lookup = SOAP::Lite-&gt;service('http://hostname.com/path/SpringVerifierWebServicePort?wsdl')\n    -&gt; proxy(\"$theURL\") ;\n$response = $lookup-&gt;verifySpring();\n</code></pre>\n\n<p>When it executes it produces this request</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope soap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;soap:Body&gt;\n&lt;verifySpring xmlns=\"http://webservice.springverifier.toolslang.fedins.com\" xsi:nil=\"true\" /&gt;\n&lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>Is there a way to remove the xsi:nil=\"true\" on the  tag?</p>\n"}, {"tags": ["regex", "bash", "perl", "shell"], "comments": [{"owner": {"reputation": 4890, "user_id": 3751845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b51d8d32d17d1d0a4200f68e5941517?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/3751845/nan"}, "edited": false, "score": 0, "creation_date": 1431519835, "post_id": 30214560, "comment_id": 48533353, "body": "Did you try double quotes around the regexp? Single quotes do not expand the variable."}, {"owner": {"reputation": 181, "user_id": 4850449, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d88063fff9b5912f7c04e8cd331a2472?s=128&d=identicon&r=PG&f=1", "display_name": "user923487", "link": "https://stackoverflow.com/users/4850449/user923487"}, "reply_to_user": {"reputation": 4890, "user_id": 3751845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b51d8d32d17d1d0a4200f68e5941517?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/3751845/nan"}, "edited": false, "score": 0, "creation_date": 1431519949, "post_id": 30214560, "comment_id": 48533433, "body": "That was it! Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 1032, "user_id": 179708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02af7dc25eda167297e5051690d5da2?s=128&d=identicon&r=PG", "display_name": "Thomas Rawyler", "link": "https://stackoverflow.com/users/179708/thomas-rawyler"}, "edited": false, "score": 0, "creation_date": 1518081831, "post_id": 30214761, "comment_id": 84360706, "body": "The perl part should be: <code>perl -pe &quot;s|(some).*(text)|${1}$i\\2|&quot;</code>"}], "tags": [], "owner": {"reputation": 4890, "user_id": 3751845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b51d8d32d17d1d0a4200f68e5941517?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/3751845/nan"}, "is_accepted": true, "score": 6, "last_activity_date": 1556833951, "last_edit_date": 1556833951, "creation_date": 1431520066, "answer_id": 30214761, "question_id": 30214560, "link": "https://stackoverflow.com/questions/30214560/how-to-insert-a-bash-variable-into-a-perl-regex-replacement/30214761#30214761", "title": "How to insert a BASH variable into a PERL regex replacement?", "body": "<p>Just replace the single quotes around the regexp with double quotes.</p>\n\n<pre><code>#!/bin/bash\n\narray=(1 2 3 4 5 6)\n\nfor i in \"${array[@]}\"; do\n    echo \"some text\" | perl -pe \"s|(some).*(text)|\\1$i\\2|\"\ndone\n</code></pre>\n\n<p>Single quotes do not expand the variable.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1431520079, "creation_date": 1431520079, "answer_id": 30214769, "question_id": 30214560, "link": "https://stackoverflow.com/questions/30214560/how-to-insert-a-bash-variable-into-a-perl-regex-replacement/30214769#30214769", "title": "How to insert a BASH variable into a PERL regex replacement?", "body": "<p>There's a couple of approaches you could take. The problem is, the string you're passing to perl is single quoted, which means it won't be interpolated. That's normally good news, but in this case you're passing through <code>$i</code> literally, and there's no perl variable with that name.</p>\n\n<p>One approach is to <code>export</code> it an then read it in via the <code>%ENV</code> hash:</p>\n\n<pre><code>export VALUE=3;\nperl -e 'print $ENV{'VALUE'},\"\\n\";' \n</code></pre>\n\n<p>Otherwise, you 'just' need to interpolate the string first:</p>\n\n<pre><code> VALUE=3\n perl -e \"print $VALUE;\"\n</code></pre>\n\n<p>Although in your example - I'd be suggesting don't bother using shell at all, and rewrite: </p>\n\n<pre><code>#!/usr/bin/perl\n\nmy @array = qw (1 2 3 4 5 6);\n\nforeach my $element ( @array ) { \n    my $text =  \"some text\";\n    $text =~ s|(some).*(text)|$1$element$2|;\n    print $text,\"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6196166, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yrn5cnDVYiI/AAAAAAAAAAI/AAAAAAAAACs/AZswRb60eMk/photo.jpg?sz=128", "display_name": "zhuisui", "link": "https://stackoverflow.com/users/6196166/zhuisui"}, "is_accepted": false, "score": 0, "last_activity_date": 1504272156, "creation_date": 1504272156, "answer_id": 46001227, "question_id": 30214560, "link": "https://stackoverflow.com/questions/30214560/how-to-insert-a-bash-variable-into-a-perl-regex-replacement/46001227#46001227", "title": "How to insert a BASH variable into a PERL regex replacement?", "body": "<p>Actually, there is another problem existing.\nIf you run code below, you won't get expected result.</p>\n\n<pre><code>#!/bin/bash\n\narray=(1 2 3 4 5 6)\n\nfor i in \"${array[@]}\"; do\n    echo \"some text\" | perl -pe \"s|(some).*(text)|\\1$i\\2|\"\ndone\n</code></pre>\n\n<p>It is caused that after bash variable is expanded, perl code becomes <code>perl -pe \"s|(some).*(text)|\\11\\2|\"</code>, then you got <code>\\11</code> not <code>\\1</code> so match value is wrong.</p>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 755672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0f798613775d91d56da3290b87c221?s=128&d=identicon&r=PG", "display_name": "paraba", "link": "https://stackoverflow.com/users/755672/paraba"}, "is_accepted": false, "score": 2, "last_activity_date": 1505920369, "creation_date": 1505920369, "answer_id": 46325792, "question_id": 30214560, "link": "https://stackoverflow.com/questions/30214560/how-to-insert-a-bash-variable-into-a-perl-regex-replacement/46325792#46325792", "title": "How to insert a BASH variable into a PERL regex replacement?", "body": "<p>There is a bit dirty trick that actually works in most cases: just end the string in the single quotes, insert the bash variable, and restart the single-quoted string. It's important not to insert any spaces between those three parts, as in the following sample:</p>\n\n<pre><code>#! /bin/bash\n\narray=(1 2 3 4 5 6)\n\nfor i in \"${array[@]}\"; do\n    # doesn't work\n    echo \"some text\" | perl -pe 's|(some).*(text)|${1}'$i'${2}|'\ndone\n</code></pre>\n\n<p>Note that I had to replace \\1 with ${1}, otherwise perl would interpret it as \\11, \\12, etc.</p>\n"}], "owner": {"reputation": 181, "user_id": 4850449, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d88063fff9b5912f7c04e8cd331a2472?s=128&d=identicon&r=PG&f=1", "display_name": "user923487", "link": "https://stackoverflow.com/users/4850449/user923487"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3740, "favorite_count": 1, "accepted_answer_id": 30214761, "answer_count": 4, "score": 5, "last_activity_date": 1556833951, "creation_date": 1431519545, "question_id": 30214560, "link": "https://stackoverflow.com/questions/30214560/how-to-insert-a-bash-variable-into-a-perl-regex-replacement", "title": "How to insert a BASH variable into a PERL regex replacement?", "body": "<p>I want to replace the middle of some text with a string from an array.</p>\n\n<pre><code>#!/bin/bash\n\narray=(1 2 3 4 5 6)\n\nfor i in \"${array[@]}\"; do\n    # doesn't work\n    echo \"some text\" | perl -pe 's|(some).*(text)|\\1$i\\2|'\ndone\n</code></pre>\n\n<p>I am using perl regex instead of sed for its easier non-greedy matching support. What's the correct syntax for getting the value of $i in there?</p>\n"}, {"tags": ["perl", "yaml"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1431517867, "post_id": 30213878, "comment_id": 48531936, "body": "Can you post the <b>real</b> output you expect?"}], "answers": [{"comments": [{"owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "edited": false, "score": 0, "creation_date": 1431519536, "post_id": 30214497, "comment_id": 48533139, "body": "Yes please improve the code if possible. With the hashref I get the correct yaml format, but now <code>print Dumper \\%cfg;</code> gives <code>&#39;HASH(0x821474c)&#39; =&gt; undef</code> which was correct before."}, {"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "reply_to_user": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "edited": false, "score": 2, "creation_date": 1431520374, "post_id": 30214497, "comment_id": 48533756, "body": "I added some extra details."}], "tags": [], "owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "is_accepted": true, "score": 4, "last_activity_date": 1432398218, "last_edit_date": 1432398218, "creation_date": 1431519342, "answer_id": 30214497, "question_id": 30213878, "link": "https://stackoverflow.com/questions/30213878/yamlsyck-generates-list-instead-of-hash/30214497#30214497", "title": "YAML::Syck generates list instead of hash", "body": "<h2>Answer</h2>\n\n<p><code>YAML::Syck</code> (as <code>YAML</code>) <a href=\"https://metacpan.org/pod/distribution/YAML/lib/YAML.pod#Dump-list-of-Perl-data-structures\" rel=\"nofollow\">expects</a> <code>hashref</code>, not <code>hash</code>:</p>\n\n<pre><code>print F YAML::Syck::Dump(\\%c);\n</code></pre>\n\n<p>Also <code>LoadFile</code> returns <code>hashref</code>, not <code>hash</code>:</p>\n\n<pre><code>my $cfg = YAML::Syck::LoadFile($config);    \nprint Dumper $cfg;\n</code></pre>\n\n<h2>Other improvements</h2>\n\n<p>First of all, you don't really need <code>our</code> here. Your <code>%c</code> means pretty much the same as <code>%main::c</code>. <code>our</code> creates the alias for the <em>package</em> variable. And this is not what you want. You should just use regular scoped variables via <code>my</code>, e. g. <code>my %c</code>.</p>\n\n<p>Using <code>open</code> with filehandle is not considered a good practice anymore, use scalar instead:</p>\n\n<pre><code>open(my $fh, '&gt;', $config);\n</code></pre>\n\n<p>Also you can use <code>$fh-&gt;print</code> instead of <code>print $fh</code>. If you still prefer to use <code>print $fh</code>, you should use <code>print {$fh}</code> instead (according to <a href=\"https://metacpan.org/pod/distribution/Perl-Critic/lib/Perl/Critic/Policy/InputOutput/RequireBracedFileHandleWithPrint.pm\" rel=\"nofollow\">Conway</a>).</p>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 30214497, "answer_count": 1, "score": 2, "last_activity_date": 1432398218, "creation_date": 1431517561, "last_edit_date": 1431521637, "question_id": 30213878, "link": "https://stackoverflow.com/questions/30213878/yamlsyck-generates-list-instead-of-hash", "title": "YAML::Syck generates list instead of hash", "body": "<p>If I run the below script, then the two hashes are the same, but when I look at how the yaml file looks I see this very weird format</p>\n\n<pre><code>--- nicPri\n--- ixgbe1\n--- nicPub\n--- ixgbe2\n--- slaves\n--- \n47: 10.10.47.47\n48: 10.10.10.48\n--- ipPri\n--- 10.10.10.46\n</code></pre>\n\n<p>which doesn't look like a normal yaml file. I would have expected something like this</p>\n\n<pre><code>---\nusers:\n  abc: abc\n  ssd: www\n01102:\n  members:\n    - abc\n    - ssd\n---\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>Can anyone see why I this this weird yaml format?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse YAML::Syck;\nuse warnings;\nuse Data::Dumper;\n\nour %c = (\n    slaves =&gt; {\n        \"47\" =&gt; \"10.10.47.47\",\n        \"48\" =&gt; \"10.10.10.48\",\n    },\n    ipPri         =&gt; \"10.10.10.46\",\n    nicPub        =&gt; \"ixgbe2\",\n    nicPri        =&gt; \"ixgbe1\",\n);\n\nour $config = \"/tmp/config.yaml\";\n\n# create new yaml file\nsystem(\"rm -f $config\");\nopen F, '&gt;', $config;\nprint F YAML::Syck::Dump(%c);\nclose F;\nmy %cfg = YAML::Syck::LoadFile($config);\n\nprint Dumper \\%cfg;\nprint Dumper \\%c;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1431515946, "post_id": 30213055, "comment_id": 48530504, "body": "<code>&lt;</code> is the read mode, not the write mode, as your <code>die</code> message implies. Also, you do not need to store the output in a temp file, you can just store it in a variable: <code>chomp(my @socket_data = qx($command))</code>. And in that line of thinking, you can also skip the loop: <code>= grep &#47;[0-9]:$port&#47;, qx($command)</code>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1431516845, "post_id": 30213055, "comment_id": 48531169, "body": "Also, your script could be reduced to a bash script, using <code>ss ... | grep ...</code>"}, {"owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "edited": false, "score": 0, "creation_date": 1431517845, "post_id": 30213055, "comment_id": 48531912, "body": "I know I can shorten the script quite a bit but it&#39;s for learning purposes. I have also tried the &quot;grep&quot; method too but I cannot get it to grep with enough accuracy."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1431519421, "post_id": 30213055, "comment_id": 48533053, "body": "@MajesticPixel There is no difference in accuracy between grep and foreach in that case. If you use the same regex, the result should be the same. Otherwise, you did something else wrong."}, {"owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "edited": false, "score": 0, "creation_date": 1431520425, "post_id": 30213055, "comment_id": 48533793, "body": "I see. I did not know that regular expressions could be used in conjunction with &quot;grep&quot;. Thank you for the information."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "edited": false, "score": 0, "creation_date": 1431517724, "post_id": 30213274, "comment_id": 48531816, "body": "Worked like a charm. Can&#39;t believe I missed that. Thank you very much."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1431515890, "creation_date": 1431515890, "answer_id": 30213274, "question_id": 30213055, "link": "https://stackoverflow.com/questions/30213055/perl-why-is-my-regular-expression-not-yielding-any-results/30213274#30213274", "title": "Perl - Why is my regular expression not yielding any results?", "body": "<p>You forgot to remove the newline from the user input.</p>\n\n<pre><code>chomp $port;\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4892296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZvGc.png?s=128&g=1", "display_name": "Majestic Pixel", "link": "https://stackoverflow.com/users/4892296/majestic-pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1431520657, "accepted_answer_id": 30213274, "answer_count": 1, "score": 0, "last_activity_date": 1431515890, "creation_date": 1431515332, "last_edit_date": 1431515782, "question_id": 30213055, "link": "https://stackoverflow.com/questions/30213055/perl-why-is-my-regular-expression-not-yielding-any-results", "closed_reason": "Duplicate", "title": "Perl - Why is my regular expression not yielding any results?", "body": "<p>I have a small program that takes user input and is supposed to filter out specific lines from a text file which contains the specified \"port\". The text file looks like this:</p>\n\n<pre><code>State      Recv-Q Send-Q        Local Address:Port          Peer Address:Port \nLISTEN     0      128                       *:22                       *:*     \nLISTEN     0      128               127.0.0.1:631                      *:*     \nLISTEN     0      100               127.0.0.1:25                       *:*   \n</code></pre>\n\n<p>The script that I wrote simply prompts for user input and is supposed to filter out data using a regular expression combined with the input variable. Using the website <em>www.rubular.com</em> I can get my expression to work as intended but in the actual code I do not get any listed data.</p>\n\n<p>Following is my Perl script:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $port_query = 1;\nmy $command = \"ss -p -l -n -t -u -4\";\nmy $port = 0;\nmy $output_file = \"system_output.txt\";\n\nwhile ($port_query == 1) {    \n    print \"Please choose the port number (Numerical value):\\n\";\n    $port = &lt;&gt;;\n    if ($port =~ /^[0-9]{1,5}+$/) {\n        $port_query = 0;\n    }\n    else {\n        print \"Argument not allowed.\\n\";    \n    }     \n}\n\nsystem (\"touch $output_file\"); #Creates the output file.\nsystem (\"$command &gt; $output_file\"); #Executing system commands\n\nopen(INPUT, \"&lt;\", \"$output_file\") or die (\"Unable to write to file.\");\nchomp(my @socket_data = &lt;INPUT&gt;);\nclose (INPUT);\n\nforeach my $line(@socket_data) {\n    if ($line =~ /\\S+?([0-9]|0*):($port)/) {\n        print \"$line\\n\";\n    }\n}\n</code></pre>\n\n<p>The script should print one line, namely:</p>\n\n<pre><code>LISTEN     0      128                       *:22                       *:* \n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1431513187, "post_id": 30212221, "comment_id": 48528611, "body": "Check <a href=\"http://perldoc.perl.org/perlvar.html#%40-\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html#%40-</a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1431514043, "post_id": 30212221, "comment_id": 48529176, "body": "When your titles start with &quot;Explain&quot;, &quot;Decode&quot; etc they give the appearance of orders rather than thoughtful questions. The rapidity with which you ask questions which demonstrate no understanding make your questions look more than a bit shady. Like, maybe, you are asking them during a test."}, {"owner": {"reputation": 217, "user_id": 4841100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b602c55fb63609364ca2cd8fd32f714?s=128&d=identicon&r=PG&f=1", "display_name": "bansal", "link": "https://stackoverflow.com/users/4841100/bansal"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431514299, "post_id": 30212221, "comment_id": 48529368, "body": "hey @Sinan&#220;n&#252;r i dont understand why is it sounding like an order to u ...and let me assure you i m not in the middle of test ..this is a code from perldoc.perl.org."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431517541, "post_id": 30212221, "comment_id": 48531684, "body": "That&#39;s how you order people around in English: &quot;Do this&quot;, &quot;do that&quot;, &quot;do the other thing&quot; etc ... I am going to edit your question this time so you can emulate the style in your future posts."}, {"owner": {"reputation": 217, "user_id": 4841100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b602c55fb63609364ca2cd8fd32f714?s=128&d=identicon&r=PG&f=1", "display_name": "bansal", "link": "https://stackoverflow.com/users/4841100/bansal"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1431577204, "post_id": 30212221, "comment_id": 48561788, "body": "thanx a ton @\u0421\u0443\u0445\u043e\u043927"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1431524450, "last_edit_date": 1431524450, "creation_date": 1431518058, "answer_id": 30214053, "question_id": 30212221, "link": "https://stackoverflow.com/questions/30212221/what-are-the-roles-of-exp-exp-and-exp-in-this-perl-example-which/30214053#30214053", "title": "What are the roles of ${$exp}, $-[$exp], and $+[$exp] in this Perl example which extracts the locations where a regular expression matches?", "body": "<p>In Perl, <code>$#ary</code> is the index of the last element of the array <code>@ary</code>. Therefore, <code>$#-</code> is the index of the last element of the array <a href=\"https://metacpan.org/pod/perlvar#LAST_MATCH_START\" rel=\"nofollow\"><code>@-</code></a>:</p>\n\n<blockquote>\n  <p><code>$-[0]</code> is the offset of the start of the last successful match. <code>$-[n]</code> is the offset of the start of the substring matched by n-th subpattern, or undef if the subpattern did not match.</p>\n</blockquote>\n\n<p>Therefore, <code>1 .. $#-</code> is a range of indices into <code>@-</code>.</p>\n\n<p><code>${$exp}</code> is a symbolic dereference. If <code>$exp</code> is one, you get the text of <code>$1</code>. I would not use this in real code. Instead, use <code>@+</code> to extract the substring.</p>\n\n<p>Also, while you know this example is going to match, in real life, <strong><em>never</em></strong> use the digit variables without ensuring the previous match succeeded.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $x = \"Mmm...donut, thought Homer\";\n\nif ( $x =~ /^(Mmm|Yech) [.]{3} (donut|peas)/x ) {\n    for my $i (1 .. $#-) {\n        my ($s, $e) = ($-[$i], $+[$i]);\n        printf(\n            \"Match %d: '%s' at position [%d,%d)\\n\",\n            $i, substr($x, $s, $e - $s), $s, $e\n        );\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>Match 1: 'Mmm' at position [0,3)\nMatch 2: 'donut' at position [6,11)</pre>\n\n<p>Note that:</p>\n\n<blockquote>\n  <p><code>$+[1]</code> is the offset past where <code>$1</code> ends, <code>$+[2]</code> the offset past where <code>$2</code> ends, and so on. You can use <code>$#+</code> to determine how many subgroups were in the last successful match.</p>\n</blockquote>\n\n<p>Hence, the abuse of the half-closed interval notation above.</p>\n"}], "owner": {"reputation": 217, "user_id": 4841100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b602c55fb63609364ca2cd8fd32f714?s=128&d=identicon&r=PG&f=1", "display_name": "bansal", "link": "https://stackoverflow.com/users/4841100/bansal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1431526797, "creation_date": 1431513050, "last_edit_date": 1431524485, "question_id": 30212221, "link": "https://stackoverflow.com/questions/30212221/what-are-the-roles-of-exp-exp-and-exp-in-this-perl-example-which", "title": "What are the roles of ${$exp}, $-[$exp], and $+[$exp] in this Perl example which extracts the locations where a regular expression matches?", "body": "<p>What is the meaning of <code>$#- and $-[$exp]</code></p>\n\n<pre><code>$x = \"Mmm...donut, thought Homer\";\n\n$x =~ /^(Mmm|Yech)\\.\\.\\.(donut|peas)/; # matches\n\nforeach $exp (1..$#-)\n{\n    print \"Match $exp: '${$exp}' at position ($-[$exp],$+[$exp])\\n\";\n}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre>Match 1: 'Mmm' at position (0,3)\nMatch 2: 'donut' at position (6,11)</pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "edited": false, "score": 0, "creation_date": 1431513653, "post_id": 30212057, "comment_id": 48528906, "body": "Would you mind putting in the other statements that go before the loop in order to setup ALL_FILE?"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "edited": false, "score": 0, "creation_date": 1431513291, "post_id": 30212231, "comment_id": 48528673, "body": "Yes, this works. Amazing, thanks a lot. Could you guide me what is the function of <code>?:</code> ?"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "edited": false, "score": 0, "creation_date": 1431520097, "post_id": 30212231, "comment_id": 48533551, "body": "@EslamSaad <code>?:</code> means non capturing group.It will be a part of match but will not be stored in an <code>$1,$2,$3</code> etc ."}, {"owner": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "edited": false, "score": 0, "creation_date": 1432040601, "post_id": 30212231, "comment_id": 48747249, "body": "what if I need each line to be stored as <code>$1,$2,$3</code>?"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "edited": false, "score": 0, "creation_date": 1432043848, "post_id": 30212231, "comment_id": 48749955, "body": "@EslamSaad if the no of lines is a variable that is difficult to achieve.You can ask a new question nonetheless"}, {"owner": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "edited": false, "score": 0, "creation_date": 1432103248, "post_id": 30212231, "comment_id": 48776982, "body": "OK. Thanks a lot for your help."}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 1, "last_activity_date": 1431513092, "creation_date": 1431513092, "answer_id": 30212231, "question_id": 30212057, "link": "https://stackoverflow.com/questions/30212057/perl-regex-manylines-store-text-between-start-and-end-in-an-array/30212231#30212231", "title": "Perl: RegEx: ManyLines: Store text between start and end in an array", "body": "<pre><code>(Statistics\\s+Of\\s+Layers)((?:\\n|.)*)(Summary)\n</code></pre>\n\n<p>Try this.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/mT0iE7/7\" rel=\"nofollow\">https://regex101.com/r/mT0iE7/7</a></p>\n"}], "owner": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "accepted_answer_id": 30212231, "answer_count": 1, "score": 1, "last_activity_date": 1431513436, "creation_date": 1431512606, "last_edit_date": 1431513436, "question_id": 30212057, "link": "https://stackoverflow.com/questions/30212057/perl-regex-manylines-store-text-between-start-and-end-in-an-array", "title": "Perl: RegEx: ManyLines: Store text between start and end in an array", "body": "<p>I'm developing a Perl script and one of the script functions is to detect many lines of data between two terminals and store them in an array.</p>\n\n<pre><code>my @statistics_of_layers_var;\nfor( &lt;ALL_FILE&gt; ) {\n   @statistics_of_layers_var = ($slurp =~ /(Statistics\\s+Of\\s+Layers)(\\n|.)*(Summary)/gm );\n   print @statistics_of_layers_var;\n</code></pre>\n\n<p>The given data should be</p>\n\n<pre><code>Statistics Of Layers\nLine#1\nLine#2\nLine#3\nSummary\n</code></pre>\n\n<p>In this piece of code, code successfully prints <strong>Statistics Of Layers</strong> and <strong>Summary</strong> but it fails to print all data between those two terminals.</p>\n\n<p>How could I fix this issue?</p>\n"}, {"tags": ["perl", "winapi", "operator-precedence"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1431512032, "post_id": 30211089, "comment_id": 48527905, "body": "The downvote on this question is clearly wrong. This is a valid question about somewhat confusing subroutine and operator precedence."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1431512137, "post_id": 30211089, "comment_id": 48527965, "body": "It is interesting that you call <code>MB_ICONQUESTION</code> a constant, but then experiment with subroutines. The title of your question should indicate subroutines, not constants."}, {"owner": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1431512416, "post_id": 30211089, "comment_id": 48528123, "body": "@TLP: my monk colleague pointed me that <code>MB_ICONQUESTION</code> was actually a sub (as constants are usually subs in perl) so we tried the later test. i will change the title"}, {"owner": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1431512534, "post_id": 30211089, "comment_id": 48528187, "body": "also, i am familiar with true C <code>MB_xx</code> defines from win32 api"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431513557, "post_id": 30211089, "comment_id": 48528844, "body": "Looking at it - the <code>Win32</code> module doesn&#39;t use a constant, it defines it via <code>sub</code>. Which is - deep down - why this problem exists in the first place."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431513928, "post_id": 30211089, "comment_id": 48529097, "body": "(And as a random comment - there&#39;s been several really interesting questions recently. I like good questions, so thank you)."}, {"owner": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "edited": false, "score": 1, "creation_date": 1431521157, "post_id": 30211089, "comment_id": 48534352, "body": "Thanks for pointing me the <code>Deparse</code> package to help for understanding how perl is reading my code!"}], "answers": [{"comments": [{"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 5, "creation_date": 1431512459, "post_id": 30211295, "comment_id": 48528142, "body": "Ultimately a bug in the module providing the &quot;constant&quot;, that it forgot to give the &#39;()&#39; prototype which exists to solve exactly this problem."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1431513014, "post_id": 30211295, "comment_id": 48528516, "body": "Or just <code>use constant</code> which I think handles it properly too."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1431515591, "post_id": 30211295, "comment_id": 48530251, "body": "@LeoNerd Prototypes are more often the problem than the solution. They exist to give the possibility to make subroutines act like built-ins, not for argument checking."}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 3, "creation_date": 1431611150, "post_id": 30211295, "comment_id": 48579376, "body": "@TLP I&#39;m well aware of that. The () prototype is one of the rare few that <i>does</i> make sense to use in modern code. Specifically, it tells the /parser/ &quot;this function never takes an argument&quot;, so that  <code>CONSTANT+ 1</code>  would be parsed as  <code>CONSTANT() + 1</code> instead of, in its absence, <code>CONSTANT(+1)</code>. This question is the exact circumstance that prototype is for."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 9, "last_activity_date": 1431511864, "last_edit_date": 1495541160, "creation_date": 1431510676, "answer_id": 30211295, "question_id": 30211089, "link": "https://stackoverflow.com/questions/30211089/4-sub-not-equals-to-sub-4/30211295#30211295", "title": "(4 + sub) not equals to (sub + 4)?", "body": "<p><code>B::Deparse</code> to the rescue:</p>\n\n<pre><code>C:&gt;perl -MO=Deparse -MWin32 -e\"Win32::MsgBox world, MB_ICONQUETION+4, hello\"\nuse Win32;\nWin32::MsgBox('world', MB_ICONQUESTION(4, 'hello'));\n-e syntax OK\n\nC:&gt;perl -MO=Deparse -MWin32 -e\"Win32::MsgBox world, 4+MB_ICONQESTION, hello\"\nuse Win32;\nWin32::MsgBox('world', 4 + MB_ICONQUESTION(), 'hello');\n-e syntax OK\n</code></pre>\n\n<p>The <code>MB_ICONQUESTION</code> call in the first case is considered a function call with the arguments <code>+4, 'hello'</code>. In the second case, it is considered as a function call with no arguments, and having 4 added to it. It is not a constant, it seems, but a function. </p>\n\n<p>In the source code we get this verified:</p>\n\n<pre><code>sub MB_ICONQUESTION                     { 0x00000020 }\n</code></pre>\n\n<p>It is a function that returns <code>32</code> (<code>00100000</code> in binary, indicating a bit being set). Also as <a href=\"https://stackoverflow.com/users/2566198/sobrique\">Sobrique</a> points out, this is a flag variable, so you should not use addition, but the bitwise logical and/or operators.</p>\n\n<p>In your case, it just accepts any arguments and ignores them. This is a bit confusing if you are expecting a constant.</p>\n\n<p>In your experiment case, the statement</p>\n\n<pre><code>print $/,'results:', join ' ,', T(1), T+1, 1+T\n</code></pre>\n\n<p>Is interpreted</p>\n\n<pre><code>print $/,'results:', join ' ,', T(1), T(+1, (1+T))\n</code></pre>\n\n<p>Because execution from right to left goes</p>\n\n<pre><code>1+T = 43\nT +1, 43 = 42\nT(1) = 42\n</code></pre>\n\n<p>Because plus <code>+</code> has higher <a href=\"http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity\" rel=\"nofollow noreferrer\">precedence</a> than comma <code>,</code>, and unary <code>+</code> even higher.</p>\n\n<p>To disambiguate, you need to do use parentheses to clarify precedence:</p>\n\n<pre><code>print $/,'results:', join ' ,', T(1), T()+1, 1+T\n#                                      ^^-- parentheses\n</code></pre>\n\n<p>As a general rule, one should always use parentheses with subroutine calls. In <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\"><code>perldoc perlsub</code></a> there are 4 calling notations:</p>\n\n<pre><code>NAME(LIST);    # &amp; is optional with parentheses.\nNAME LIST;     # Parentheses optional if predeclared/imported.\n&amp;NAME(LIST);   # Circumvent prototypes.\n&amp;NAME;         # Makes current @_ visible to called subroutine.\n</code></pre>\n\n<p>Of which <em>in my opinion</em>, only the first one is transparent, and the other ones a bit obscure.</p>\n"}, {"comments": [{"owner": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "edited": false, "score": 0, "creation_date": 1431520518, "post_id": 30211343, "comment_id": 48533857, "body": "Thanks for the tip to use binary <code>OR</code> instead of the addition, btw, I did not think about using explicit parenthesis because at first I did not know that the API constant was not actually a constant but a sub... I am kinda a Perl newcomer :o)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "edited": false, "score": 0, "creation_date": 1431520838, "post_id": 30211343, "comment_id": 48534102, "body": "Everyone starts a language at the beginning. You put together an excellent question there, which is much appreciated - interesting and with enough depth to reproduce and investigate."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1431513443, "last_edit_date": 1431513443, "creation_date": 1431510817, "answer_id": 30211343, "question_id": 30211089, "link": "https://stackoverflow.com/questions/30211089/4-sub-not-equals-to-sub-4/30211343#30211343", "title": "(4 + sub) not equals to (sub + 4)?", "body": "<p>This is all to do with how you're invoking <code>T</code> and how perl is interpreting the results. </p>\n\n<p>If we deparse your example we get:</p>\n\n<pre><code>BEGIN { $^W = 1; }\nsub T {\n    use strict;\n    print $/, 'called T(#' . join(',', @_) . '#)';\n    42;\n}\nuse strict;\nprint $/, 'results:', join(' ,', T(1), T(1, 1 + T()));\n</code></pre>\n\n<p>This is clearly not what you've got in mind, but does explain why you get the result you do.</p>\n\n<p>I would suggest in your <em>original</em> example - rather that <code>+</code> you may wish to consider using <code>|</code> as it looks very much like <code>MB_ICONQUESTION</code> is intended to be a flag.</p>\n\n<p>So:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Win32 qw( MB_ICONQUESTION );\n\nprint MB_ICONQUESTION;\n\nWin32::MsgBox( \"world\", 4 | MB_ICONQUESTION , \"hello\" );\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Win32 qw( MB_ICONQUESTION );\n\nprint MB_ICONQUESTION;\n\nWin32::MsgBox( \"world\", MB_ICONQUESTION | 4 , \"hello\" );\n</code></pre>\n\n<p>Produce the same result. </p>\n\n<p>This is because of precence when invoking subroutines without brackets - you can do:</p>\n\n<pre><code>print \"one\", \"two\";\n</code></pre>\n\n<p>And both are treated as arguments to <code>print</code>. Perl <em>assumes</em> that arguments after a <code>sub</code> are to be passed to it. </p>\n\n<p><code>+4</code> is enumerated as an argument, and passed to <code>T</code>.</p>\n\n<pre><code>sub test { print @_,\"\\n\";};\n\ntest 1;\ntest +1; \n</code></pre>\n\n<p>If we deparse this, we see perl treats it as:</p>\n\n<pre><code>test 1;\ntest 1;\n</code></pre>\n\n<p>So ultimately - there is a bug in Win32 that you have found, that would be fixable by:</p>\n\n<pre><code>sub MB_ICONQUESTION() {0x00000020}\n\nWin32::MsgBox \"world\", 4 + MB_ICONQUESTION, \"hello\";\nWin32::MsgBox \"world\", MB_ICONQUESTION + 4, \"hello\";\n</code></pre>\n\n<p>Or perhaps:</p>\n\n<pre><code>use constant MB_ICONQUESTION =&gt; 0x00000020;\n</code></pre>\n\n<p>Or as noted - the workaround in your code - don't use <code>+</code> and instead use <code>|</code> which is going to have the same result for bit flag operations, but because of operator precedence is never going to be passed into the subroutine. (Or of course, always specify the parenthesis for your constants)</p>\n"}], "owner": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 1, "accepted_answer_id": 30211295, "answer_count": 2, "score": 6, "last_activity_date": 1431527492, "creation_date": 1431510120, "last_edit_date": 1431527492, "question_id": 30211089, "link": "https://stackoverflow.com/questions/30211089/4-sub-not-equals-to-sub-4", "title": "(4 + sub) not equals to (sub + 4)?", "body": "<p><strong>(edit) TL;DR</strong>: my problem was that I though the Win32 API defines were true integer <em>constants</em> (as in the platform SDK headers) while the Win32 Perl wrapper defines them as <em>subs</em>. Thus caused the one-liner parsing misunderstood.</p>\n\n<hr>\n\n<p>While testing in a one-liner a call to <code>Win32::MsgBox</code>, I am puzzled by the following : giving that the possible arguments for <code>MsgBox</code> are the message, a sum of flags to chose the kind of buttons (value 0..5) and message box icon \"constants\" (<code>MB_ICONSTOP</code>, ...) and the title</p>\n\n<p>calling <code>perl -MWin32 -e\"Win32::MsgBox world, 4+MB_ICONQUESTION, hello\"</code> gives the expected result</p>\n\n<p><img src=\"https://i.stack.imgur.com/U4jlH.png\" alt=\"OK\"></p>\n\n<p>while the looking similar code <code>perl -MWin32 -e\"Win32::MsgBox world, MB_ICONQUESTION+4, hello\"</code> is wrong</p>\n\n<p><img src=\"https://i.stack.imgur.com/kgDcG.png\" alt=\"NOK\"></p>\n\n<p>I first though that it comes from my lack of parenthesis, but adding some <code>perl -MWin32 -e\"Win32::MsgBox (world, MB_ICONQUESTION+4, hello)\"</code> gives exactly the same wrong result.</p>\n\n<p>I tried with a colleague to dig deeper and display the parameters that are passed to a function call (as the <code>MB_xxx</code> constants are actually subs) with the following code</p>\n\n<pre><code>&gt;perl -Mstrict -w -e\"sub T{print $/,'called T(#'.join(',',@_).'#)'; 42 }; print $/,'results:', join ' ,', T(1), T+1, 1+T\"\n</code></pre>\n\n<p>that outputs</p>\n\n<pre><code>called T(#1#)\ncalled T(##)\ncalled T(#1,43#)\nresults:42 ,42\n</code></pre>\n\n<p>but I can't understand why in the list passed to <code>join()</code> the args <code>T+1, 1+T</code> are parsed as <code>T(1, 43)</code>...</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1431509047, "post_id": 30210084, "comment_id": 48525837, "body": "<a href=\"https://www.cs.tut.fi/~jkorpela/perl/regexp.html\" rel=\"nofollow noreferrer\">Regular expressions in Perl</a>"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1431509393, "post_id": 30210084, "comment_id": 48526100, "body": "First you should read some basic tutorials about <code>Perl regular expressions</code> and then if you didn&#39;t understand something ask here."}, {"owner": {"reputation": 217, "user_id": 4841100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b602c55fb63609364ca2cd8fd32f714?s=128&d=identicon&r=PG&f=1", "display_name": "bansal", "link": "https://stackoverflow.com/users/4841100/bansal"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1431511196, "post_id": 30210084, "comment_id": 48527346, "body": "@serenesat i did but still have a doubt ,that&#39;s why i ask here"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1431512575, "post_id": 30210084, "comment_id": 48528213, "body": "You should right that doubt in your question."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1431512871, "post_id": 30210084, "comment_id": 48528420, "body": "Anyway some people have already explained. So if you understand then you can accept any answer and close this as solved and do the same for previous questions you have posted."}], "answers": [{"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 1, "last_activity_date": 1431507734, "creation_date": 1431507734, "answer_id": 30210186, "question_id": 30210084, "link": "https://stackoverflow.com/questions/30210084/explain-the-code-below-dealing-with-regular-expressions-in-perl/30210186#30210186", "title": "Explain the code below dealing with regular expressions in perl", "body": "<p>In the first case you are capturing <code>(a|b)</code> so <code>a</code> gets captured.<code>(a|b)+</code> will match <code>aba</code> but only <code>a</code> will be stored as regex remembers only the last one when continuous groups are there.So split is at groups of <code>ab</code> in any order .In the second case you dont capture <code>(a|b)</code> .So you get the correct split result.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1431512758, "creation_date": 1431512758, "answer_id": 30212127, "question_id": 30210084, "link": "https://stackoverflow.com/questions/30210084/explain-the-code-below-dealing-with-regular-expressions-in-perl/30212127#30212127", "title": "Explain the code below dealing with regular expressions in perl", "body": "<p>The string <code>12aba34ba5</code> is being split on occurrences of multiple <code>a</code> or <code>b</code> characters, giving the result <code>12</code>, <code>34</code>, <code>5</code></p>\n\n<p>However, you also have a <em>capture</em> in the split regex, which inserts the captured string into the <code>split</code> list</p>\n\n<p>If you write <code>'aba' =~ /(a|b)+/</code> then there are three occurrences of the pattern <code>(a|b)</code>, but only the <em>last</em> one can be saved in <code>$1</code>, and this is the value that <code>split</code> inserts</p>\n\n<p>So you are picking up the last value of <code>aba</code> (<code>a</code>) and the last value of <code>ba</code> (another <code>a</code>) and inserting them into the list, giving <code>12</code>, <code>a</code>, <code>34</code>, <code>a</code>, <code>5</code></p>\n\n<p>If you wanted the letters separated from the numbers, you could write</p>\n\n<pre><code>@num = split /((?:a|b)+)/, $x;\n</code></pre>\n\n<p>or, equivalently and more neatly</p>\n\n<pre><code>@num = split /([ab]+)/, $x;\n</code></pre>\n\n<p>giving <code>12</code>, <code>aba</code>, <code>34</code>, <code>ba</code>, <code>5</code></p>\n"}], "owner": {"reputation": 217, "user_id": 4841100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b602c55fb63609364ca2cd8fd32f714?s=128&d=identicon&r=PG&f=1", "display_name": "bansal", "link": "https://stackoverflow.com/users/4841100/bansal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1431525881, "answer_count": 2, "score": -1, "last_activity_date": 1431512758, "creation_date": 1431507438, "last_edit_date": 1431508992, "question_id": 30210084, "link": "https://stackoverflow.com/questions/30210084/explain-the-code-below-dealing-with-regular-expressions-in-perl", "closed_reason": "Needs details or clarity", "title": "Explain the code below dealing with regular expressions in perl", "body": "<p>Explain the below code:</p>\n\n<pre><code>$x = '12aba34ba5';\n\n@num = split /(a|b)+/, $x;   \ngives   # @num = ('12','a','34','a','5')\n\n@num = split /(?:a|b)+/, $x;\ngives # @num = ('12','34','5')\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 1778, "user_id": 2740367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7OsG.png?s=128&g=1", "display_name": "leu", "link": "https://stackoverflow.com/users/2740367/leu"}, "is_accepted": true, "score": 4, "last_activity_date": 1431505628, "creation_date": 1431505628, "answer_id": 30209515, "question_id": 30209258, "link": "https://stackoverflow.com/questions/30209258/excelwriterxlsx-howto-freeze-first-line/30209515#30209515", "title": "Excel::Writer::XLSX - howto freeze first line", "body": "<p>Answering my own question as victim of a wrong translation: The task is to <em>freeze</em> the first line of the Excel-sheet, not to <em>fix</em> it. (The question title already mentioned this :-(</p>\n\n<p>The solution is as simple as follows. Add</p>\n\n<pre><code>$worksheet-&gt;freeze_panes(1);\n</code></pre>\n\n<p>right after creation of the worksheet.</p>\n"}], "owner": {"reputation": 1778, "user_id": 2740367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7OsG.png?s=128&g=1", "display_name": "leu", "link": "https://stackoverflow.com/users/2740367/leu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 0, "accepted_answer_id": 30209515, "answer_count": 1, "score": 2, "last_activity_date": 1431505628, "creation_date": 1431504861, "question_id": 30209258, "link": "https://stackoverflow.com/questions/30209258/excelwriterxlsx-howto-freeze-first-line", "title": "Excel::Writer::XLSX - howto freeze first line", "body": "<p>I'm using the perl module Excel::Writer::XLSX. The following code snippet creates a header line in the result file.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Excel::Writer::XLSX;\n\nmy $workbook  = Excel::Writer::XLSX-&gt;new(\"myExcel.xlsx\");\nmy $worksheet = $workbook-&gt;add_worksheet(\"Sheet1\");\nmy $ccnt = 0;\nforeach my $entry (('Head1','Head2','Head3')) {\n    $worksheet-&gt;write(0,$ccnt++,$entry);\n}\n$workbook-&gt;close();\n</code></pre>\n\n<p>Now, I'd like to fix that first line to keep it visible while downscrolling.\nAlthough there is a bunch of good documentation on CPAN, I didn't find how to manage this.</p>\n"}, {"tags": ["perl", "perl-module", "data-dumper"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 3125224, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7c5233c11c4abede410f774bf8fbc1a?s=128&d=identicon&r=PG&f=1", "display_name": "alakamale", "link": "https://stackoverflow.com/users/3125224/alakamale"}, "edited": false, "score": 0, "creation_date": 1431509454, "post_id": 30208531, "comment_id": 48526144, "body": "is Dumper means that to dump the Perl code where we want to use it."}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "reply_to_user": {"reputation": 25, "user_id": 3125224, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7c5233c11c4abede410f774bf8fbc1a?s=128&d=identicon&r=PG&f=1", "display_name": "alakamale", "link": "https://stackoverflow.com/users/3125224/alakamale"}, "edited": false, "score": 0, "creation_date": 1431520145, "post_id": 30208531, "comment_id": 48533586, "body": "You could say that &quot;Dumper&quot; means &quot;a routine to dump perl code of a list of objects into text&quot;, yes."}], "tags": [], "owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "is_accepted": false, "score": 0, "last_activity_date": 1431506581, "last_edit_date": 1431506581, "creation_date": 1431502711, "answer_id": 30208531, "question_id": 30208463, "link": "https://stackoverflow.com/questions/30208463/datadumper-perl-module/30208531#30208531", "title": "Data::Dumper Perl module", "body": "<p>The specific statement <code>use Data::Dumper qw(Dumper)</code> means \"include the Dumper list of features from the Data::Dumper module in the namespace of this script.\"</p>\n\n<p>The documentation for Data::Dumper says:</p>\n\n<p>\"Given a list of scalars or reference variables, writes out their contents in perl syntax.\"</p>\n\n<p>This is useful, because then you can load them back into another script at another time and rely on Perl itself to parse the text correctly into the perl structures you had before.</p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1461493226, "last_edit_date": 1461493226, "creation_date": 1431504010, "answer_id": 30208975, "question_id": 30208463, "link": "https://stackoverflow.com/questions/30208463/datadumper-perl-module/30208975#30208975", "title": "Data::Dumper Perl module", "body": "<p>In simple words, <a href=\"http://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow\">Data::Dumper</a> takes a Perl data structure and turns it into a string containing Perl code that, when <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow\">eval()</a>ed (that is, run as code), returns an equivalent data structure. This is useful for many reasons, but a very simple use is to print out a data-structure to see if it matches what you think it is.</p>\n\n<p>Example:</p>\n\n<pre><code>use Data::Dumper qw(Dumper); # Import the Dumper() subroutine\nmy %hash = ( a =&gt; 1, b =&gt; 2, c =&gt; 3 );\nprint Dumper(\\%hash);  # Note the \\ backslash; Dumper() takes references as arguments\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre><code>$VAR1 = {\n          'c' =&gt; 3,\n          'a' =&gt; 1,\n          'b' =&gt; 2\n        };\n</code></pre>\n\n<p>It is taken from <em><a href=\"http://www.perlmonks.org/?node_id=596909\" rel=\"nofollow\">Re: Data::Dumper in reference to Hashes</a></em>.</p>\n"}, {"tags": [], "owner": {"reputation": 222, "user_id": 4893881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dt6GQ.jpg?s=128&g=1", "display_name": "Xtof", "link": "https://stackoverflow.com/users/4893881/xtof"}, "is_accepted": false, "score": 0, "last_activity_date": 1431505692, "last_edit_date": 1431505692, "creation_date": 1431504783, "answer_id": 30209228, "question_id": 30208463, "link": "https://stackoverflow.com/questions/30208463/datadumper-perl-module/30209228#30209228", "title": "Data::Dumper Perl module", "body": "<p>Dumper method takes a list of scalar or reference ... reference can be from different type hashref, arrayref</p>\n\n<p>It is a nice way for debugging complex structure</p>\n\n<p><strong>SCALAR (not really useful indeed)</strong></p>\n\n<pre><code>[~]=&gt; perl -e 'use Data::Dumper; $a=1; print Dumper($a);'\n$VAR1 = 1;\n</code></pre>\n\n<p><strong>ARRAYREF</strong></p>\n\n<pre><code>[~]=&gt; perl -e 'use Data::Dumper; @a=(1,2,3,4); print Dumper(\\@a);'\n$VAR1 = [\n          1,\n          2,\n          3,\n          4\n        ];\n</code></pre>\n\n<p><strong>HASHREF</strong></p>\n\n<pre><code>[~]=&gt; perl -e 'use Data::Dumper; %a=(a=&gt;1,b=&gt;2,c=&gt;3); print Dumper(\\%a);'\n$VAR1 = {\n          'a' =&gt; 1,\n          'c' =&gt; 3,\n          'b' =&gt; 2\n        };\n</code></pre>\n\n<p><strong>COMPLEX HASHREF</strong></p>\n\n<pre><code>[~]=&gt; perl -e 'use Data::Dumper; %a=(a=&gt;1,b=&gt; [\"apple\",\"banana\",\"pear\"],c=&gt; {z=&gt;99,y=&gt;98}); print Dumper(\\%a);'\n$VAR1 = {\n          'c' =&gt; {\n                   'z' =&gt; 99,\n                   'y' =&gt; 98\n                 },\n          'b' =&gt; [\n                   'apple',\n                   'banana',\n                   'pear'\n                 ],\n          'a' =&gt; 1\n        };\n</code></pre>\n\n<p><strong>ARRAYREF and HASHREF</strong></p>\n\n<pre><code>[~]=&gt; perl -e 'use Data::Dumper; @a=(\"zidane\", \"platini\", \"kopa\"); %b=(a=&gt;1,b=&gt;2,c=&gt;3); print Dumper(\\@a, \\%b);'\n$VAR1 = [\n          'zidane',\n          'platini',\n          'kopa'\n        ];\n$VAR2 = {\n          'a' =&gt; 1,\n          'c' =&gt; 3,\n          'b' =&gt; 2\n        };\n</code></pre>\n\n<p><strong>ARRAYREF with cycle</strong></p>\n\n<pre><code>[~]=&gt; perl -e 'use Data::Dumper; %a=(x=&gt;1, y=&gt;\\%a);  print Dumper(\\%a);'\n$VAR1 = {\n          'x' =&gt; 1,\n          'y' =&gt; $VAR1\n        };\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 3125224, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7c5233c11c4abede410f774bf8fbc1a?s=128&d=identicon&r=PG&f=1", "display_name": "alakamale", "link": "https://stackoverflow.com/users/3125224/alakamale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2428, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1461493226, "creation_date": 1431502443, "last_edit_date": 1461493086, "question_id": 30208463, "link": "https://stackoverflow.com/questions/30208463/datadumper-perl-module", "title": "Data::Dumper Perl module", "body": "<p>What does the following statement actually mean?</p>\n\n<pre><code>use Data::Dumper qw(Dumper)\n</code></pre>\n\n<p>Is <code>Data::Dumper</code> only used for printing contents of a hash?</p>\n\n<p>Could you please explain in brief?</p>\n"}, {"tags": ["sql", "perl", "oop", "dbi"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1431496731, "post_id": 30206754, "comment_id": 48518329, "body": "<a href=\"http://perlmaven.com/simple-database-access-using-perl-dbi-and-sql\" rel=\"nofollow noreferrer\">perlmaven.com/simple-database-access-using-perl-dbi-and-sql</a>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1431497006, "post_id": 30206754, "comment_id": 48518443, "body": "Use Perl DBI unless you&#39;ve got a solid reason not to do so. If you have a solid reason, you should have said that in the question in the first place, so you can&#39;t have a solid reason not to use DBI, so that is what you should use.  It&#39;s not clear how you can avoid using files if the SQL statement is in a file.  Information like &#39;table created&#39; is trickier."}, {"owner": {"reputation": 33, "user_id": 4886231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rGzgw.jpg?s=128&g=1", "display_name": "Nagendra NR", "link": "https://stackoverflow.com/users/4886231/nagendra-nr"}, "edited": false, "score": 0, "creation_date": 1431497131, "post_id": 30206754, "comment_id": 48518515, "body": "Could this solve your problem ?    <a href=\"http://stackoverflow.com/questions/4217306/execute-sql-file-in-perl\" title=\"execute sql file in perl\">stackoverflow.com/questions/4217306/execute-sql-file-in-perl</a>"}, {"owner": {"reputation": 11, "user_id": 2957628, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002102467353/picture?type=large", "display_name": "Amarnath", "link": "https://stackoverflow.com/users/2957628/amarnath"}, "edited": false, "score": 0, "creation_date": 1431497272, "post_id": 30206754, "comment_id": 48518575, "body": "No That wont works to me..."}, {"owner": {"reputation": 11, "user_id": 2957628, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002102467353/picture?type=large", "display_name": "Amarnath", "link": "https://stackoverflow.com/users/2957628/amarnath"}, "edited": false, "score": 0, "creation_date": 1431497368, "post_id": 30206754, "comment_id": 48518630, "body": "Actually I want to load the file which contains SQL statements and should perform operation atleast update,delete,create with database,"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1431497595, "post_id": 30206754, "comment_id": 48518735, "body": "What won&#39;t work for you?  DBI, or the suggested question?  If you can&#39;t use DBI, you&#39;re largely on your own \u2014 that is <i>the</i> Perl way of executing SQL (to the extent there&#39;s ever one way of doing things in Perl).  Have fun with an alternative, but you&#39;re going to need to research it.  Amongst other things, you&#39;ll need to identify the DBMS you&#39;re using \u2014 DBI has the merit of working with many different DBMS via its DBD::YourDBMSHere drivers."}, {"owner": {"reputation": 11, "user_id": 2957628, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002102467353/picture?type=large", "display_name": "Amarnath", "link": "https://stackoverflow.com/users/2957628/amarnath"}, "edited": false, "score": 0, "creation_date": 1431497763, "post_id": 30206754, "comment_id": 48518811, "body": "Yes I tried DBI module and also sugggested link also wont work to me.."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1431498070, "post_id": 30206754, "comment_id": 48518927, "body": "You tried DBI \u2026 and did you have the correct DBD module installed?  In what way did it fail?  It feels like you&#39;re being deliberately obtuse and declining to provide any useful information in the question.  Please update the question with information such as which DBMS you&#39;re using, and why you think DBI won&#39;t work, and why you think the alternative question (which leads to multiple other related questions) won&#39;t work for you, or can&#39;t be modified until they do work for you.  You can&#39;t expect an answer that you can simply copy&#39;n&#39;paste."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2957628, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002102467353/picture?type=large", "display_name": "Amarnath", "link": "https://stackoverflow.com/users/2957628/amarnath"}, "edited": false, "score": 0, "creation_date": 1431501695, "post_id": 30207117, "comment_id": 48521010, "body": "Cant locate SQL/Splitstatement.pm Uncaught exception from user code:         Can&#39;t locate SQL/SplitStatement.pm in @INC (@INC contains: C:/Dwimperl/p erl/site/lib C:/Dwimperl/perl/vendor/lib C:/Dwimperl/perl/lib .) at testsql.pl l ine 15."}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "reply_to_user": {"reputation": 11, "user_id": 2957628, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002102467353/picture?type=large", "display_name": "Amarnath", "link": "https://stackoverflow.com/users/2957628/amarnath"}, "edited": false, "score": 0, "creation_date": 1431511076, "post_id": 30207117, "comment_id": 48527258, "body": "You will need to install the module, from the command line run &#39;cpan SQL::SplitStatement&#39;"}, {"owner": {"reputation": 11, "user_id": 2957628, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002102467353/picture?type=large", "display_name": "Amarnath", "link": "https://stackoverflow.com/users/2957628/amarnath"}, "edited": false, "score": 0, "creation_date": 1431512585, "post_id": 30207117, "comment_id": 48528224, "body": "Thanks a lot for helping"}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": true, "score": 3, "last_activity_date": 1445826157, "last_edit_date": 1445826157, "creation_date": 1431498122, "answer_id": 30207117, "question_id": 30206754, "link": "https://stackoverflow.com/questions/30206754/how-to-load-the-sql-file-from-perl-script-and-execute-the-sql-commands-in-the-p/30207117#30207117", "title": "How to load the .sql file from perl script and execute the sql commands in the perl script", "body": "<p>If I read your problem correctly, your biggest challenge is breaking apart the file into separate sql statements, <a href=\"http://search.cpan.org/~emazep/SQL-SplitStatement-1.00020/lib/SQL/SplitStatement.pm\" rel=\"nofollow\">SQL::SplitStatement</a> is usefull but beware it's not bullet proof.</p>\n\n<p>Here's an example of how you could accomplish this;</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse diagnostics;\n\nuse DBI;\nuse File::Slurp;\nuse SQL::SplitStatement;\n\nmy $sql_blob = read_file( 'test1.sql' ) ;\nmy @sql_list = SQL::SplitStatement-&gt;new()-&gt;split($sql_blob);\n\nmy $dbh = DBI-&gt;connect( \"dbi:mysql:my_database:localhost:3306\", \"username\", \"password\" );\nforeach my $sql (@sql_list) {\n  print 'Executing ', $sql;\n  $dbh-&gt;do($sql) or print \"Can't do \", $dbh-&gt;errstr;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "edited": false, "score": 0, "creation_date": 1431498800, "post_id": 30207187, "comment_id": 48519278, "body": "This is a little scary, looking at the source code it <a href=\"https://github.com/Corion/DBIx--RunSQL/blob/master/lib/DBIx/RunSQL.pm#L412\" rel=\"nofollow noreferrer\">blindly splits</a> on &#39;;\\n&#39;  - I would avoid anything that doesn&#39;t use a proper tokenizer."}, {"owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "reply_to_user": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "edited": false, "score": 0, "creation_date": 1431499581, "post_id": 30207187, "comment_id": 48519669, "body": "To date, it suited my needs. In any case, the module author says about <code>split_sql</code> subroutine: &quot;It is documented because it is not a very smart subroutine and you might want to override or replace it&quot;"}], "tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 1, "last_activity_date": 1431498419, "creation_date": 1431498419, "answer_id": 30207187, "question_id": 30206754, "link": "https://stackoverflow.com/questions/30206754/how-to-load-the-sql-file-from-perl-script-and-execute-the-sql-commands-in-the-p/30207187#30207187", "title": "How to load the .sql file from perl script and execute the sql commands in the perl script", "body": "<p>The CPAN module <a href=\"https://metacpan.org/pod/DBIx::RunSQL\" rel=\"nofollow\">DBIx::RunSQL</a> maybe helpful:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DBIx::RunSQL;\n\nmy $test_dbh = DBIx::RunSQL-&gt;create(\n    dsn     =&gt; 'dbi:SQLite:dbname=:memory:',\n    sql     =&gt; 'test1.sql',\n    force   =&gt; 1,\n    verbose =&gt; 1,\n);\n</code></pre>\n\n<p>Change the DBI dsn as your needs (also add <code>user</code> and <code>password</code> params)</p>\n"}], "owner": {"reputation": 11, "user_id": 2957628, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002102467353/picture?type=large", "display_name": "Amarnath", "link": "https://stackoverflow.com/users/2957628/amarnath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2359, "favorite_count": 0, "closed_date": 1431504594, "accepted_answer_id": 30207117, "answer_count": 2, "score": 0, "last_activity_date": 1445826157, "creation_date": 1431496609, "last_edit_date": 1431496989, "question_id": 30206754, "link": "https://stackoverflow.com/questions/30206754/how-to-load-the-sql-file-from-perl-script-and-execute-the-sql-commands-in-the-p", "closed_reason": "Needs details or clarity", "title": "How to load the .sql file from perl script and execute the sql commands in the perl script", "body": "<p>I has to load SQL file within the perl script and execute the SQL commands and show output in perl file only.</p>\n\n<p>Scenario:\ntest1.sql file contains SQL command in this format</p>\n\n<pre><code>CREATE TABLE Persons\n(\nPersonID int,\nLastName varchar(255),\nFirstName varchar(255),\nAddress varchar(255),\nCity varchar(255)\n);\n</code></pre>\n\n<p>Now I want to load the test1.sql without using files and Execute this SQL \nand also shows output in the Perl script like table created </p>\n"}, {"tags": ["regex", "perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "edited": false, "score": 0, "creation_date": 1431495494, "post_id": 30206446, "comment_id": 48517791, "body": "so.. then i guess it&#39;s like: <code>perl ^.*\\&#47;$ file.txt</code>? is that right?"}, {"owner": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "edited": false, "score": 0, "creation_date": 1431495547, "post_id": 30206446, "comment_id": 48517808, "body": "<code>perl m ^.*\\&#47;$ file.txt</code> like that? it takes a while to generate that file, so I don&#39;t want to make a mistake and screw it up."}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "edited": false, "score": 0, "creation_date": 1431495660, "post_id": 30206446, "comment_id": 48517847, "body": "@S.Matthew_English `perl -i -e &#39;s/^.*\\/$//gsm&#39; something like this"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 1, "last_activity_date": 1431495237, "creation_date": 1431495237, "answer_id": 30206446, "question_id": 30206329, "link": "https://stackoverflow.com/questions/30206329/eliminate-all-indices-of-a-file-that-dont-conform-to-a-certain-format/30206446#30206446", "title": "eliminate all indices of a file that don&#39;t conform to a certain format", "body": "<pre><code>^.*\\/$\n</code></pre>\n\n<p>Replace by empty string.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/oF9hR9/17\" rel=\"nofollow\">https://regex101.com/r/oF9hR9/17</a></p>\n"}, {"tags": [], "owner": {"reputation": 84959, "user_id": 390913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/87a2a7e9ea54bcd1a6c8f09f8c2e8f3b?s=128&d=identicon&r=PG", "display_name": "perreal", "link": "https://stackoverflow.com/users/390913/perreal"}, "is_accepted": false, "score": 0, "last_activity_date": 1431495969, "last_edit_date": 1431495969, "creation_date": 1431495749, "answer_id": 30206560, "question_id": 30206329, "link": "https://stackoverflow.com/questions/30206329/eliminate-all-indices-of-a-file-that-dont-conform-to-a-certain-format/30206560#30206560", "title": "eliminate all indices of a file that don&#39;t conform to a certain format", "body": "<p>Delete (<code>d</code>) lines not matching the pattern in-place (<code>-i</code>):</p>\n\n<pre><code>sed -i '\\#\\.\\./input/test_input/7002/blah/blah/blah[0-9]*\\.xml#d' input\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "edited": false, "score": 0, "creation_date": 1431496275, "post_id": 30206564, "comment_id": 48518122, "body": "so <code>sed</code> will just print them out and then I need to pipe them to a new file, is that it?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "edited": false, "score": 0, "creation_date": 1431496427, "post_id": 30206564, "comment_id": 48518190, "body": "to save the output to new file use output redirection operator <code>sed -n &#39;&#47;\\.xml$&#47;p&#39; file &gt; newfile</code> , to do an inline-edit add <code>-i</code> parameter."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 1, "last_activity_date": 1431496656, "last_edit_date": 1431496656, "creation_date": 1431495756, "answer_id": 30206564, "question_id": 30206329, "link": "https://stackoverflow.com/questions/30206329/eliminate-all-indices-of-a-file-that-dont-conform-to-a-certain-format/30206564#30206564", "title": "eliminate all indices of a file that don&#39;t conform to a certain format", "body": "<p>Just delete the lines which ends with <code>/</code>.</p>\n\n<pre><code>sed '/\\/$/d' file\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p>Print only the lines which ends with <code>.xml</code>.</p>\n\n<pre><code>sed -n '/\\.xml$/p' file\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p>Delete the lines which don't ends with <code>.xml</code>.</p>\n\n<pre><code>sed '/\\.xml$/!d' file\n</code></pre>\n"}], "owner": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 30206564, "answer_count": 3, "score": 2, "last_activity_date": 1431539105, "creation_date": 1431494632, "question_id": 30206329, "link": "https://stackoverflow.com/questions/30206329/eliminate-all-indices-of-a-file-that-dont-conform-to-a-certain-format", "title": "eliminate all indices of a file that don&#39;t conform to a certain format", "body": "<p>I have a file of the form:</p>\n\n<pre><code>../input/test_input/7002/blah/blah/blah0.xml\n../input/test_input/7002/blah/blah/blah1.xml\n../input/test_input/7002/blah/blah/blah2.xml\n../input/test_input/7002/blah/blah/blah3.xml\n</code></pre>\n\n<p>and so on, but every once in a while there will be a non-conformist, for instance a symlink that got picked up when I generated the file, i.e.:</p>\n\n<pre><code>../input/test_input/7002/blah/blah/blah4.xml\n../input/test_input/\n</code></pre>\n\n<p>and I want to remove all of those imposters, i.e. <code>../input/test_input/</code> from the file since they're messing up my program. </p>\n\n<p>How can I do that?</p>\n\n<p>I just want to remove every index that doesn't conform to the format:</p>\n\n<pre><code> ../input/test_input/7002/blah/blah/blahX.xml\n</code></pre>\n\n<p>since there are non-conformists of differing flavours, i.e. some look like this: <code>../input/test_input/</code>, and some like this: <code>../input/test_input/7002/</code> and so on. </p>\n\n<p>So, I don't know exactly what I don't want. But I know what I do want. </p>\n"}, {"tags": ["perl", "sed"], "answers": [{"comments": [{"owner": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "edited": false, "score": 0, "creation_date": 1431494197, "post_id": 30206040, "comment_id": 48517329, "body": "some of the indices in that file are the names of the symlinks, which is now messing up my program. is there a way to quickly remove anything that doesn&#39;t conform to the format <code>..&#47;input&#47;test_input&#47;7002&#47;blah&#47;blah&#47;blah.xml</code>"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 2, "last_activity_date": 1431493202, "creation_date": 1431493202, "answer_id": 30206040, "question_id": 30206028, "link": "https://stackoverflow.com/questions/30206028/remove-a-string-and-prepend-a-string-to-every-index-of-a-large-file/30206040#30206040", "title": "remove a string and prepend a string to every index of a large file", "body": "<p>You could use sed.</p>\n\n<pre><code>sed 's~^\\./~../input/test_input/~' file\n</code></pre>\n\n<p>You could also use the same expression in perl along with <code>-pe</code> parameter.</p>\n\n<p><a href=\"http://ideone.com/LZ65sE\" rel=\"nofollow\">IDEONE</a></p>\n"}], "owner": {"reputation": 2595, "user_id": 3787253, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/U9bkB.jpg?s=128&g=1", "display_name": "smatthewenglish", "link": "https://stackoverflow.com/users/3787253/smatthewenglish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 30206040, "answer_count": 1, "score": 0, "last_activity_date": 1431494272, "creation_date": 1431493126, "last_edit_date": 1431494272, "question_id": 30206028, "link": "https://stackoverflow.com/questions/30206028/remove-a-string-and-prepend-a-string-to-every-index-of-a-large-file", "title": "remove a string and prepend a string to every index of a large file", "body": "<p>I have a large file with many many indices of the form:</p>\n\n<pre><code>./7002/blah/blah/blah.xml\n</code></pre>\n\n<p>I want to modify them all such that I remove the initial <code>./</code>, i.e.</p>\n\n<pre><code>7002/blah/blah/blah.xml\n</code></pre>\n\n<p>Then I want to prepend the string <code>../input/test_input/</code>, so the final result would look like: </p>\n\n<pre><code>../input/test_input/7002/blah/blah/blah.xml\n</code></pre>\n\n<p>for each index. </p>\n\n<p>How can I achieve this with one command?</p>\n\n<p>Is it best to use <code>sed</code> for this task?</p>\n\n<p>Although there are questions and answers about both these operations I've not seen any about synthesizing both operations with one command.</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Additionally, since some of the indices in the file I am trying to process are the names of the symlinks, is there a way to quickly remove anything that doesn't conform to the format: <code>../input/test_input/7002/blah/blah/blah.xml</code> </p>\n"}, {"tags": ["perl", "file", "recursion", "directory", "copy"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1431492134, "post_id": 30205813, "comment_id": 48516614, "body": "What does &quot;it doesn&#39;t work&quot; mean?  What does it do wrong?"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 1, "creation_date": 1431492521, "post_id": 30205813, "comment_id": 48516724, "body": "Where does <code>@name </code> come from?"}, {"owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1431494786, "post_id": 30205813, "comment_id": 48517554, "body": "files are not copied to the destination folder"}], "owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "closed_date": 1431521248, "answer_count": 0, "score": 0, "last_activity_date": 1431493018, "creation_date": 1431491991, "last_edit_date": 1431493018, "question_id": 30205813, "link": "https://stackoverflow.com/questions/30205813/perl-copy-files-from-several-sub-directory-paths-to-one-directory-path", "closed_reason": "Duplicate", "title": "Perl Copy files from several sub-directory paths to one directory path", "body": "<p>How can I copy .txt files from several sub-directory paths to one directory path and retain the same name for each .txt file in the destination directory path. </p>\n\n<p>Here's my code. And it doesn't work for me. </p>\n\n<pre><code>#!/usr/bin/perl\nuse File::Copy;\n\nmy @a = glob(\"/aim/original/*/*.txt\"); #source \n\nprint \"@a\\n\";\nmy $newfile = \"/aim/duplicate/\"; #destination directory\nforeach (@a)\n  {\n   copy (\"$_\", $newfile) or die \"Cannot copy files $!\";\n  }\n</code></pre>\n\n<p>I also tried this code but it wasn't working as well </p>\n\n<pre><code>perl -MFile::Copy=copy -e'copy($_, \"/aim/duplicate/\") for &lt;/aim/original/*/*.txt&gt;'  \n</code></pre>\n"}, {"tags": ["perl", "awk", "filtering"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1431487479, "post_id": 30204955, "comment_id": 48515334, "body": "Have you tried anything?"}, {"owner": {"reputation": 599, "user_id": 4744375, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b09e1fd1e06148773ad25f880bd0335e?s=128&d=identicon&r=PG&f=1", "display_name": "yoohoo", "link": "https://stackoverflow.com/users/4744375/yoohoo"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1431487844, "post_id": 30204955, "comment_id": 48515435, "body": "i am an oracle developer. i tried using oracle but oracle loading tool is not powerful enough to have complex filter. a friend of mine told me that this could be done in unix using awk, perl etc but i dont know those languages."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431508906, "post_id": 30204955, "comment_id": 48525721, "body": "Then I am afraid you are asking in the wrong place. Stack Overflow is about helping you - as a programmer - figure out problems and solve them. It is not about writing code for you."}], "answers": [{"comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1431489581, "post_id": 30205150, "comment_id": 48515899, "body": "<code>print if $F[3] =~ &#47;\\A(?:0002|0000|)\\z&#47;</code> is likely to be faster than your <code>grep</code>, possibly enough to matter for 45 million records."}, {"owner": {"reputation": 67328, "user_id": 970195, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34597f9d2e0d17b890f0ef968bd61e6b?s=128&d=identicon&r=PG", "display_name": "jaypal singh", "link": "https://stackoverflow.com/users/970195/jaypal-singh"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1431797633, "post_id": 30205150, "comment_id": 48655888, "body": "Thanks @hobbs for an alternate solution. I wasn&#39;t sure if regex would have been any quicker. But I&#39;ll include your comment in the answer. Appreciate it."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1431809570, "post_id": 30205150, "comment_id": 48659502, "body": "I benchmarked it, and it is faster. The overhead of the regex engine is outweighed by the fact that the <code>grep</code> has to call <code>eq</code> three times on every row, and do more stack manipulation \u2014 checking the regex is a single op per line :)"}, {"owner": {"reputation": 67328, "user_id": 970195, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34597f9d2e0d17b890f0ef968bd61e6b?s=128&d=identicon&r=PG", "display_name": "jaypal singh", "link": "https://stackoverflow.com/users/970195/jaypal-singh"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1431820515, "post_id": 30205150, "comment_id": 48661964, "body": "@hobbs Aah, that make sense. Thanks again! :)"}], "tags": [], "owner": {"reputation": 67328, "user_id": 970195, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34597f9d2e0d17b890f0ef968bd61e6b?s=128&d=identicon&r=PG", "display_name": "jaypal singh", "link": "https://stackoverflow.com/users/970195/jaypal-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1431797760, "last_edit_date": 1495541659, "creation_date": 1431487820, "answer_id": 30205150, "question_id": 30204955, "link": "https://stackoverflow.com/questions/30204955/filtering-data-in-a-flat-file-with-millions-of-records/30205150#30205150", "title": "filtering data in a flat file with millions of records", "body": "<p>Using <code>awk</code>:</p>\n\n<pre><code>$ awk -F'|' '$4==\"0000\"||$4==\"0002\"||$4==\"\"' file\nabc|234|test|0000|test2|1\nabc|2343|test1|0002|test2|1\nabc|2348|test6||test2|1\n</code></pre>\n\n<p>Change <code>$4</code> to <code>$45</code> for your actual input file.</p>\n\n<p>Using <code>perl</code>:</p>\n\n<pre><code>$ perl -F'\\|' -lane 'print if grep $F[3] eq $_, (\"0002\", \"0000\", \"\")' file\nabc|234|test|0000|test2|1\nabc|2343|test1|0002|test2|1\nabc|2348|test6||test2|1\n</code></pre>\n\n<p>Change <code>$F[3]</code> to <code>$F[44]</code> for your actual input file.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>As <a href=\"https://stackoverflow.com/questions/30204955/filtering-data-in-a-flat-file-with-millions-of-records/30205150#comment48515899_30205150\">hobbs</a> mentioned in the comment below, you can try the following if existing solution aren't quick enough: </p>\n\n<p><code>perl -F'\\|' -lane 'print if $F[3] =~ /\\A(?:0002|0000|)\\z/' file</code></p>\n"}, {"comments": [{"owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1431536365, "post_id": 30206437, "comment_id": 48545928, "body": "@EdMorton On a large random generated file this <code>awk -F&#39;|&#39; &#39;$1~&#47;(000[02])&#47;&#39;</code> gave  <code>37.3s</code> and this <code>awk -F&#39;|&#39; &#39;$1~&#47;(000(0|2))&#47;&#39;</code> gave <code>35.8s</code>.  So not much difference, but agree that  <code>[02]</code> is more readable."}], "tags": [], "owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "is_accepted": false, "score": 1, "last_activity_date": 1431495182, "creation_date": 1431495182, "answer_id": 30206437, "question_id": 30204955, "link": "https://stackoverflow.com/questions/30204955/filtering-data-in-a-flat-file-with-millions-of-records/30206437#30206437", "title": "filtering data in a flat file with millions of records", "body": "<p>Here is all in one test</p>\n\n<pre><code>awk -F'|' '$4~/^(000(0|2)|)$/' file\nabc|234|test|0000|test2|1\nabc|2343|test1|0002|test2|1\nabc|2348|test6||test2|1\n</code></pre>\n"}], "owner": {"reputation": 599, "user_id": 4744375, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b09e1fd1e06148773ad25f880bd0335e?s=128&d=identicon&r=PG&f=1", "display_name": "yoohoo", "link": "https://stackoverflow.com/users/4744375/yoohoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1431797760, "creation_date": 1431486342, "last_edit_date": 1431486432, "question_id": 30204955, "link": "https://stackoverflow.com/questions/30204955/filtering-data-in-a-flat-file-with-millions-of-records", "title": "filtering data in a flat file with millions of records", "body": "<p>I have a gzipped file <code>tradedata.txt.gz</code> which contains millions of records. this file has about 50 fields separated by <code>|</code>. The 45th field can contain values such as <code>0000</code>, <code>0002</code>, <code>0003</code>, <code>0004</code> and blank value(null).  I want to filter the file and get those rows with value 0000,0002 and blank values only.  I want to do this in the fastest way using <code>awk</code>, <code>perl</code>, or any other language.</p>\n\n<p>For example, the data looks like this (I am only displaying few fields for illustration purposes).</p>\n\n<pre><code>abc|234|test|0000|test2|1\nabc|2343|test1|0002|test2|1\nabc|2345|test3|0004|test2|1\nabc|2346|test4|0004|test2|1\nabc|2347|test5|0003|test2|1\nabc|2348|test6||test2|1\nabc|234|test|0003|test2|1\n</code></pre>\n\n<p>The results after filtering the data should be:</p>\n\n<pre><code>abc|234|test|0000|test2|1\nabc|2343|test1|0002|test2|1\nabc|2348|test6||test2|1\n</code></pre>\n\n<p>As you can see, I am only pulling records with value 0000,0002 and blank.\nCan someone help with this request using awk, perl or anything other language that does it the fastest way?</p>\n"}, {"tags": ["arrays", "perl", "hashref"], "comments": [{"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1435250602, "post_id": 30204400, "comment_id": 50133451, "body": "My guess is you&#39;re using Net::Twitter, but it would be helpful if you made that clear in your question."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1431483050, "creation_date": 1431483050, "answer_id": 30204468, "question_id": 30204400, "link": "https://stackoverflow.com/questions/30204400/iterating-through-a-hashref-arrayref/30204468#30204468", "title": "Iterating through a hashref arrayref", "body": "<p>First of all, always use <code>use strict; use warnings;</code>. It'll catch your errors earlier and more visibly.</p>\n\n<p>On to the question. You didn't specify what you wanted to iterate over. You named the variable \"statuses\", but there's nothing resembling a status in the variable's output. Presumably, you want to output the ids. For that, use</p>\n\n<pre><code>print \"@{ $VAR1-&gt;{ids} }\\n\";\n</code></pre>\n\n<p>If <code>$VAR1</code> is a reference to <code>%HoA</code>, the the code is actually</p>\n\n<pre><code>print \"@{ $HoA{ids} }\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1435251290, "creation_date": 1435251290, "answer_id": 31056325, "question_id": 30204400, "link": "https://stackoverflow.com/questions/30204400/iterating-through-a-hashref-arrayref/31056325#31056325", "title": "Iterating through a hashref arrayref", "body": "<p>You say</p>\n\n<blockquote>\n  <p>When I use Data::Dumper it returns</p>\n</blockquote>\n\n<p>but you don't say <em>how</em> you are using <code>Data::Dumper</code> or what it is that you're dumping</p>\n\n<p>The code you show isn't doing anything with the return value of <code>followers_ids</code>. This line assigns a value to <code>$statuses</code></p>\n\n<pre><code>my $statuses = $nt-&gt;followers_ids({ screen_name =&gt; 'arty00l' });\n</code></pre>\n\n<p>which is immediately discarded and overwritten by this loop, which uses the same variable</p>\n\n<pre><code>for $statuses ( keys %HoA ) {\n    print \"$statuses: @{ $HoA{$statuses} }\\n\";\n}\n</code></pre>\n\n<p>and as you don't say what <code>%HoA</code> is we can't help you further until you supply more information</p>\n\n<p>According to the <a href=\"https://metacpan.org/pod/Net::Twitter\" rel=\"nofollow\">module documentation</a>, the <code>followers_ids</code> method</p>\n\n<blockquote>\n  <p>Returns a reference to an array of numeric IDs for every user following the specified user</p>\n</blockquote>\n\n<p>That means all you have to do to display its contents is to write</p>\n\n<pre><code>my $statuses = $nt-&gt;followers_ids({ screen_name =&gt; 'arty00l' });\nprint \"$_\\n\" for @$statuses;\n</code></pre>\n\n<p>but that will just give you a list of IDs</p>\n\n<p>If you elaborate on what you are trying to do then I am sure we can help you better</p>\n"}], "owner": {"reputation": 9, "user_id": 4893755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c254c127a52cb0c94aea56efefe0c36f?s=128&d=identicon&r=PG&f=1", "display_name": "Rich Media", "link": "https://stackoverflow.com/users/4893755/rich-media"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1435251290, "creation_date": 1431482608, "last_edit_date": 1435250600, "question_id": 30204400, "link": "https://stackoverflow.com/questions/30204400/iterating-through-a-hashref-arrayref", "title": "Iterating through a hashref arrayref", "body": "<p>I have a nested data structure that I would like to iterate through but my code doesn't seem to be working. No error is displayed. The only way I can access the values is through <code>Data::Dumper</code></p>\n\n<pre><code>my $statuses = $nt-&gt;followers_ids({ screen_name =&gt; 'arty00l' });\n\nfor $statuses ( keys %HoA ) {\n    print \"$statuses: @{ $HoA{$statuses} }\\n\";\n}\n</code></pre>\n\n<p>When I use <code>Data::Dumper</code> it returns:</p>\n\n<pre><code>$VAR1 = {\n      'next_cursor_str' =&gt; '0'\n      'previous_cursor_str' =&gt;\n      'next_cursor' =&gt; 0,\n      'ids' =&gt; [\n                 98986124,\n                 2325887071,\n                 2973383805,\n                 445207709,\n                 316396146,\n                 445684239,\n                 1265153311,\n                 1571662172,\n                 2837484211,\n                 2881634626,\n                 3199312306,\n                 2474691877,\n                 118090760,\n                 2311971607,\n                 2298622765,\n                 993360248,\n                 539085432,\n                 52893302,\n                 2268568237,\n                 20957562,\n                 839072018,\n                 112728024,\n                 140079968,\n                 33923443,\n                 1450282772,\n                 891377682,\n                 274127782,\n                 284372072,\n                 772748041,\n                 440211079,\n                 30327403,\n                 2524695894,\n                 354150373,\n                 2292575056,\n                 68891742,\n                 2750381484,\n                 316181803,\n                 518111226,\n                 239159047,\n                 284729726,\n                 334984455,\n                 147508104,\n                 159389938,\n                 2740303325,\n                 212023751,\n                 395112717,\n                 26411861,\n                 172639836,\n                 2288625106,\n                 24906328,\n                 358116535,\n                 1493819347,\n                 2502142927,\n                 30223189,\n                 259649352,\n                 1375294206,\n                 71677965,\n                 159632801,\n                 24352067,\n                 2412589867,\n                 1258256690,\n                 130765107,\n                 1391278070,\n                 503718605,\n                 1710629294,\n                 859406618,\n                 362707700,\n                 233370937,\n                 1707976981,\n                 1612009542,\n                 407474584,\n                 2343960014,\n                 237479477,\n                 53574764,\n                 947969479,\n                 276289027,\n                 579430568,\n                 2474917902,\n                 1541546262,\n                 2241494730,\n                 339179937,\n                 77080603,\n                 824308147,\n                 2434583982,\n                 2433258235,\n                 1541460948,\n                 492471146,\n                 2356642530,\n                 2327984822,\n                 19464956,\n                 11245502,\n                 14469397,\n                 167661601,\n                 154072320,\n                 167781199,\n                 552094012,\n                 130158658,\n                 1613786857,\n                 336603208,\n                 32135630,\n                 415425580,\n                 350058703,\n                 65996058,\n                 12874852,\n                 280884837,\n                 106834295,\n                 17393362,\n                 236185268,\n                 62970600,\n                 311476854,\n                 2289008047,\n                 18566247,\n                 121598314,\n                 1002657601,\n                 460224943,\n                 376635771,\n                 1365484814,\n                 2256281789,\n                 26632199,\n                 2255441468,\n                 465013083,\n                 1571678467,\n                 357547927,\n                 259989366,\n                 1500479640,\n                 19276719,\n                 138261007,\n                 1030773654,\n                 70493313,\n                 1406767260,\n                 1052462281,\n                 72996112,\n                 806695453,\n                 13027572,\n                 555957901,\n                 15481158,\n                 576112079,\n                 920396502,\n                 127750483,\n                 38542781,\n                 42609957,\n                 786004562,\n                 18289572,\n                 412065028,\n                 618501933,\n                 157882740,\n                 952753260,\n                 66465341,\n                 620076440,\n                 23841368,\n                 79809731,\n                 82091271,\n                 311539323,\n                 948095714,\n                 17191125,\n                 804631266,\n                 942721417,\n                 20525016,\n                 403509765,\n                 380994873,\n                 962970726,\n                 182120373,\n                 24739893,\n                 924945650,\n                 36129150,\n                 35599004,\n                 18068152,\n                 189730793,\n                 382350502,\n                 14910806,\n                 84141876,\n                 15931491,\n                 390450302,\n                 850374512,\n                 889168250,\n                 444940567,\n                 58422750,\n                 206862729,\n                 592305280,\n                 225529356,\n                 339779020,\n                 15957929,\n                 587465971,\n                 18627463,\n                 17485416,\n                 715927987,\n                 18104730,\n                 866372191,\n                 564024328,\n                 54039049,\n                 30588766,\n                 124058421,\n                 201760549,\n                 221005474,\n                 82243231,\n                 60500502,\n                 564774340,\n                 564769748,\n                 579311942,\n                 608952513,\n                 509637742,\n                 606863740,\n                 594839703,\n                 151615289,\n                 216747794,\n                 176608284,\n                 635013126,\n                 249857095,\n                 321985491,\n                 18805118,\n                 112757114,\n                 111065326,\n                 111234967\n               ],\n      'previous_cursor' =&gt; 0\n    };\n</code></pre>\n\n<p>What should the code look like after this line?</p>\n\n<pre><code>my $statuses = $nt-&gt;followers_ids({ screen_name =&gt; 'arty00l'})\n</code></pre>\n"}, {"tags": ["perl", "postgresql"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1431479330, "creation_date": 1431479330, "answer_id": 30203963, "question_id": 30203473, "link": "https://stackoverflow.com/questions/30203473/how-to-use-postgres-dbd-placeholders-for-db-object-names/30203963#30203963", "title": "How to use postgres dbd placeholders for DB Object names", "body": "<p>If</p>\n\n<pre><code>SELECT * FROM Foo WHERE field = ?\n</code></pre>\n\n<p>means </p>\n\n<pre><code>SELECT * FROM Foo WHERE field = 'val'\n</code></pre>\n\n<p>then</p>\n\n<pre><code>SELECT * FROM ?\n</code></pre>\n\n<p>means</p>\n\n<pre><code>SELECT * FROM 'Table'\n</code></pre>\n\n<p>and that's obviously wrong. Placeholders can only be used in an expression. Fix:</p>\n\n<pre><code>my $sthD = $dbh-&gt;prepare(\"\n   SELECT COUNT(*)\n    FROM \".$dbh-&gt;quote_identifier($table).\"\n   WHERE status = 'Draft'\n\");\n$sthD-&gt;execute();\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4893515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c32b508ce92b3741882e245dfff3db1b?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/4893515/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1431491879, "creation_date": 1431475758, "last_edit_date": 1431491879, "question_id": 30203473, "link": "https://stackoverflow.com/questions/30203473/how-to-use-postgres-dbd-placeholders-for-db-object-names", "title": "How to use postgres dbd placeholders for DB Object names", "body": "<p>(or How to iterate thru information schema Using perl DBI (DBD::PG) and placeholders?)</p>\n\n<p>Windows 7, ActiveState Perl 5.20.2, PostgreSQL 9.4.1 .</p>\n\n<p>Cases A, B and C below were successful when using a placeholder for a COLUMN VALUE. In order</p>\n\n<ul>\n<li><p>no placeholder used</p></li>\n<li><p>passed a literal</p></li>\n<li><p>passed a variable (populated with same literal)</p></li>\n</ul>\n\n<p>It would be great to raise it up a level to DB Objects.. (tables, views etc)</p>\n\n<p>Here's the output with the error for Case D:</p>\n\n<pre><code>Z:\\CTAM\\data_threat_mapping\\DB Stats\\perl scripts&gt;test_placeholder.pl\n\nA Row Count: 1\nB Row Count: 1\nC Row Count: 1\n\nDBD::Pg::st execute failed: ERROR:  syntax error at or near \"$1\"\n\nLINE 1: SELECT COUNT(*) FROM $1 WHERE status = 'Draft';\n                             ^ at Z:\\CTAM\\data_threat_mapping\\DB     Stats\\perl \nscripts\\test_placeholder.pl line 34.\n</code></pre>\n\n<p>Much obliged for any direction!</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse diagnostics;\nuse DBI;\n\nmy $num_rows = 0;\n\n# connect\nmy $dbh = DBI-&gt;connect(\"DBI:Pg:dbname=CTAM;host=localhost\",\n                       \"postgres\", \"xxxxx\",\n                       { 'RaiseError' =&gt; 1, pg_server_prepare =&gt; 1 });\n\n#---------------------\n# A - success\nmy $sthA = $dbh-&gt;prepare(\n    \"SELECT COUNT(*) FROM cwe_compound_element WHERE status = 'Draft';\"\n);\n$sthA-&gt;execute(); # no placeholders\n\n#---------------------\n# B -  success\nmy $sthB = $dbh-&gt;prepare (\n    \"SELECT COUNT(*) FROM cwe_compound_element WHERE status = ?;\"\n);\n$sthB-&gt;execute('Draft'); # pass 'Draft' to placeholder\n\n#---------------------\n# C -  success\nmy $status_value = 'Draft';\nmy $sthC = $dbh-&gt;prepare(\n    \"SELECT COUNT(*) FROM cwe_compound_element WHERE status = ?;\"\n);\n$sthC-&gt;execute($status_value); # pass variable (column value) to placeholder\n\n#---------------------\n# D - failure\nmy $sthD = $dbh-&gt;prepare(\n    \"SELECT COUNT(*) FROM ? WHERE status = 'Draft';\"\n);\n$sthD-&gt;execute('cwe_compound_element'); # pass tablename to placeholder\n</code></pre>\n\n<p>I've tried single/double/sans quotes (q, qq)...</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 1148326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29f6b4b6bb1319c6d791b00bb659bc00?s=128&d=identicon&r=PG", "display_name": "Jerry Stark", "link": "https://stackoverflow.com/users/1148326/jerry-stark"}, "edited": false, "score": 0, "creation_date": 1431545363, "post_id": 30201966, "comment_id": 48551166, "body": "Thank you!!  I works.  I that makes all this so much clearer with a good example."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1431468167, "last_edit_date": 1431468167, "creation_date": 1431467042, "answer_id": 30201966, "question_id": 30201565, "link": "https://stackoverflow.com/questions/30201565/using-perl-stat-function-on-windows/30201966#30201966", "title": "Using Perl stat function on Windows", "body": "<p>Sounds like you're asking how to get the size and the last-modified time of a file.</p>\n\n<p>Using <a href=\"http://perldoc.perl.org/functions/stat.html\" rel=\"nofollow\"><code>stat</code></a>:</p>\n\n<pre><code>use POSIX qw( strftime );\n\nmy $qfn = 'c:\\\\users\\\\me\\\\directory\\\\file';\n\nmy ($size, $mtime) = (stat($qfn))[7, 9]\n   or die(\"Can't stat \\\"$qfn\\\": $!\\n\");\n\nprintf(\"File %s: size=%s modified=%s\\n\",\n   $qfn,\n   $size,\n   strftime(\"%Y-%m-%d %H:%M:%S\", localtime($mtime)),\n);\n</code></pre>\n\n<p>Using <a href=\"http://search.cpan.org/perldoc?File::stat\" rel=\"nofollow\">File::stat</a>, which replaces <code>stat</code> with a function with a friendlier interface:</p>\n\n<pre><code>use File::stat qw( stat );\nuse POSIX      qw( strftime );\n\nmy $qfn = 'c:\\\\users\\\\me\\\\directory\\\\file';\n\nmy $stat = stat($qfn)\n   or die(\"Can't stat \\\"$qfn\\\": $!\\n\");\n\nprintf(\"File %s: size=%s modified=%s\\n\",\n   $qfn,\n   $stat-&gt;size,\n   strftime(\"%Y-%m-%d %H:%M:%S\", localtime($stat-&gt;mtime)),\n);\n</code></pre>\n\n<p>Both modules mentioned come with Perl. No need to install them.</p>\n"}], "owner": {"reputation": 19, "user_id": 1148326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29f6b4b6bb1319c6d791b00bb659bc00?s=128&d=identicon&r=PG", "display_name": "Jerry Stark", "link": "https://stackoverflow.com/users/1148326/jerry-stark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1583, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1431483807, "creation_date": 1431465356, "last_edit_date": 1431483807, "question_id": 30201565, "link": "https://stackoverflow.com/questions/30201565/using-perl-stat-function-on-windows", "title": "Using Perl stat function on Windows", "body": "<p>I am trying to use Perl on windows. I am think I am having a problem either with syntax or with access to CPAN information. What information I can find gives snippets on how to use the functions and when I try to use the examples I get errors. </p>\n\n<p>I do not know how to get to CPAN. I tried to install it and it failed twice on <code>GCC</code> and <code>dmake</code>. I do not know if that would help or not. I used <a href=\"http://www.cpan.org/modules/INSTALL.html\" rel=\"nofollow\">http://www.cpan.org/modules/INSTALL.html</a>  <code>cpan App::cpanminus</code></p>\n\n<p>I have a filename with the path ex: \n<code>c:\\users\\me\\directory\\\\*.*</code> This file contains a list of path+filename records for which I need the time and size of the file.  When I read a record I can verify that the path+filename is correct.</p>\n\n<p>I have had some help doing this in a batch file. I was using <code>%~t1</code> and <code>%~z1</code> as shown here:</p>\n\n<p>pass the full path to the batch file then use </p>\n\n<pre><code>if \"%~t1\" == \"\" (\n    echo \"                      AN ERROR OCURRED  FOR THIS FILE/n\"  \n) else (   \n    echo fpath =%~1 \n    echo time = %~t1   \n    echo size = %~z1   \n)\n</code></pre>\n\n<p>When I tried to bring this over to Perl I can not get it to work. I have run out of hints and ideas to try. </p>\n\n<p>I have tried to use a similar <code>IF ( \"%~t1\" == \"\" ) {}</code> but I get <code>(missing operator before t1?)</code>. </p>\n\n<p>I tried to use my <code>$str1 = %~t1</code> and got <code>\"str1\" not allowed while \"strict subs\" in use.</code></p>\n\n<p>I tried to use <code>$info-&gt;$ctime</code> and got   <code>requires explicit package name.</code></p>\n\n<p>I tried <code>my $modtime = (stat($dirHandle))[9] with print \"mod time = $mod_time \\n\";</code> and got no such class mod_time and syntax error.</p>\n\n<p>I tried using the following I got from a perl programing documentation file for perl 5.20.1 </p>\n\n<pre><code>($dev,$ino,$mode,$nlink,$uid,$gid,$rdev,$size,\n     $atime,$mtime,$ctime,$blksize,$blocks)\n         = stat($filename);\n</code></pre>\n\n<p>I could not see how that would work and it did not. I got a lot of    requires explicit package name </p>\n\n<p>I tried this from the same reference</p>\n\n<pre><code>use File::stat;\n$sb = stat($filename);\nprintf \"File is %s, size is %s, perm %04o, mtime %s\\n\",\n       $filename, $sb-&gt;size, $sb-&gt;mode &amp; 07777,\n       scalar localtime $sb-&gt;mtime;\n</code></pre>\n\n<p>I can not remember all the errors</p>\n\n<p>Every time I see File::stat or  Path::Class::File I do not know how to get any of these.</p>\n\n<p>The perl monks are a little over my head as far as getting answers. I get lost in all the what ifs.</p>\n\n<p>Thanks for any help you can give me. </p>\n"}, {"tags": ["perl", "filehandle"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 5, "creation_date": 1431465558, "post_id": 30201395, "comment_id": 48508764, "body": "<code>&lt;&gt;</code> is the <code>readline</code> operator, not a file handle. It will read from files specified on the command line if there are any, otherwise it reads from standard input. It sounds like the other job is passing data through a pipe. Your file handle is <code>STDIN</code> and you can pass it by reference as <code>buildObjects(\\*STDIN)</code>. But I don&#39;t see why your subroutine can&#39;t just read using <code>&lt;&gt;</code> as your original code does. Surely you&#39;re not expecting input from multiple different sources?"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 3, "creation_date": 1431473881, "post_id": 30201697, "comment_id": 48511830, "body": "<code>perldoc perlvar</code>: &quot;Note that currently ARGV only has its magical effect within the <code>&lt;&gt;</code> operator; elsewhere it is just a plain filehandle corresponding to the last file opened by <code>&lt;&gt;</code>. <b><i>In particular, passing <code>\\*ARGV</code> as a parameter to a function that expects a filehandle may not cause your function to automatically read the contents of all the files in <code>@ARGV</code></i></b>.&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431474479, "post_id": 30201697, "comment_id": 48511958, "body": "Said function does use the <code>&lt;&gt;</code> operator, though, so the warning isn&#39;t applicable here."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431474803, "post_id": 30201697, "comment_id": 48512042, "body": "I agree, but this is a good caution for the OP to keep in mind. I did vote your answer up."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1431479867, "last_edit_date": 1431479867, "creation_date": 1431465920, "answer_id": 30201697, "question_id": 30201395, "link": "https://stackoverflow.com/questions/30201395/in-perl-if-possible-how-do-i-pass-a-generic-diamond-filehandle-to-a-subro/30201697#30201697", "title": "In Perl, if possible, how do I pass a generic diamond (&lt;&gt;) filehandle to a subroutine?", "body": "<p><code>&lt;&gt;</code> is short for <code>&lt;ARGV&gt;</code>, so</p>\n\n<pre><code>buildObjects(\\*ARGV);\n</code></pre>\n\n<hr>\n\n<p>Tip: <code>ARGV</code> is a magical file handle. Function that expect an underlying  system file handle won't be able to work with it. That's not the case for you, though.</p>\n"}], "owner": {"reputation": 387, "user_id": 1463788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a87bd7788b25685b65135313865f5356?s=128&d=identicon&r=PG", "display_name": "ND Geek", "link": "https://stackoverflow.com/users/1463788/nd-geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 30201697, "answer_count": 1, "score": 0, "last_activity_date": 1431479867, "creation_date": 1431464760, "last_edit_date": 1431474162, "question_id": 30201395, "link": "https://stackoverflow.com/questions/30201395/in-perl-if-possible-how-do-i-pass-a-generic-diamond-filehandle-to-a-subro", "title": "In Perl, if possible, how do I pass a generic diamond (&lt;&gt;) filehandle to a subroutine?", "body": "<p>I have a script that reads input serially on the fly as another job outputs it, and is expected to modify and return it.  To do more complex modifications, I'd like to be able to capture this input and pass it to a subroutine, which would then return an object to my base script, where I could modify the object as needed, and then write it back out.  Right now, my code looks something like this:</p>\n\n<pre><code>while (my $line = &lt;&gt;) {\n    # Do stuff here to build object\n    # When end of record, call writeObject\n    # Start new object unless eof\n}\n\nsub writeObject {\n    # Iterate over object and print to STDOUT\n}\n</code></pre>\n\n<p>I'd like to take the first while loop and convert it into a subroutine that I can then put, along with <code>writeObject</code>, into a small module that I can reuse.  What I think I need to do is somehow pass <code>&lt;&gt;</code> to this new subroutine, <code>buildObject</code>.  I'd then build new scripts that import <code>buildObject</code> and <code>writeObject</code>, and implement a <code>modifyObject</code> routine that will change from script to script.  The other two pieces should be completely reusable, as those parts of the process never change.  Optimally, the new routine would look something like this:</p>\n\n<pre><code>sub buildObjects {\n    my ($input) = @_;\n    my @objects = ();\n    while (&lt;$input&gt;) {\n        # Build object, push to @objects when done\n    }\n    return \\@objects;\n}\n</code></pre>\n\n<p>A script using this would look something like this:</p>\n\n<pre><code>my $obj = buildObjects(&lt;&gt;);\n\nforeach my $object (@$obj) {\n    $object = modifyObject($object);\n    writeObject($object);\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 306, "user_id": 3508350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1e8b4d87030697e2b69d6bdcf6c681c0?s=128&d=identicon&r=PG", "display_name": "Joe Sewell", "link": "https://stackoverflow.com/users/3508350/joe-sewell"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1431525860, "post_id": 30200203, "comment_id": 48538234, "body": "In this case, actually, it will be a list passed in from <code>gmake</code>, not an environment variable."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431466462, "post_id": 30200444, "comment_id": 48509224, "body": "Portable solution 1: <code>use Config qw( %Config ); return first { -f } map &quot;$_&#47;$file&quot;, split quotemeta($Config{path_sep}), $ENV{PATH};</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1431466475, "post_id": 30200444, "comment_id": 48509228, "body": "Portable solution 2: <code>use Env qw( @PATH ); return first { -f } map &quot;$_&#47;$file&quot;, @PATH;</code>"}, {"owner": {"reputation": 306, "user_id": 3508350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1e8b4d87030697e2b69d6bdcf6c681c0?s=128&d=identicon&r=PG", "display_name": "Joe Sewell", "link": "https://stackoverflow.com/users/3508350/joe-sewell"}, "edited": false, "score": 0, "creation_date": 1431525793, "post_id": 30200444, "comment_id": 48538183, "body": "That <b>is</b> easy, had I known about <code>List::Util</code> and understood <code>map</code> better. (I wish there were a list &amp; documentation on all the available modules. Or perhaps I should say I wish I knew how to find them.)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1431461165, "creation_date": 1431461165, "answer_id": 30200444, "question_id": 30200203, "link": "https://stackoverflow.com/questions/30200203/how-do-i-open-a-file-in-perl-using-a-search-path-e-g-path/30200444#30200444", "title": "How do I open a file in Perl using a search path (e.g. $PATH)?", "body": "<p>What's so uneasy in it?</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nuse List::Util qw{ first };\n\nsub find_in_path {\n    my $file = shift;\n    return first { -f } map \"$_/$file\", split /:/, $ENV{PATH}\n}\n\nprint find_in_path('grep'), \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 306, "user_id": 3508350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1e8b4d87030697e2b69d6bdcf6c681c0?s=128&d=identicon&r=PG", "display_name": "Joe Sewell", "link": "https://stackoverflow.com/users/3508350/joe-sewell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 30200444, "answer_count": 1, "score": 0, "last_activity_date": 1431461165, "creation_date": 1431460276, "question_id": 30200203, "link": "https://stackoverflow.com/questions/30200203/how-do-i-open-a-file-in-perl-using-a-search-path-e-g-path", "title": "How do I open a file in Perl using a search path (e.g. $PATH)?", "body": "<p>I have a situation in which I am reading filenames from a file in Perl. These filenames <strong>never</strong> have a directory associated with them, only a file name (e.g. \"foo.bar\"). I need to search the equivalent of <code>gmake</code>'s VPATH (or a shell's PATH) for that file.</p>\n\n<p>I figure I can split the PATH at the colons, concatenate each segment to the file, and see if it exists. Is there an easier way to do this, though?</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431462538, "post_id": 30199631, "comment_id": 48507212, "body": "When the timeout occurs, you could send the thread a &quot;thread signal&quot;. If you want to exit cleanly, you&#39;d have a handler catch that signal and <code>die</code>. (This only works if the operation consists of Perl code, since &quot;thread signals&quot; are only checked between Perl instructions.) That&#39;s the easy part. The hard part is waiting for a thread to finish or a timer to end."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1431465918, "post_id": 30199631, "comment_id": 48508958, "body": "Does it have to be a thread? Because the combination of <code>alarm()</code> and <code>fork()</code> would do this quite easily."}, {"owner": {"reputation": 13, "user_id": 4892901, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-45zGWpZ7RY4/AAAAAAAAAAI/AAAAAAAAAAA/O6zpRr-SJ7E/photo.jpg?sz=128", "display_name": "Ganesh Sonthi", "link": "https://stackoverflow.com/users/4892901/ganesh-sonthi"}, "edited": false, "score": 0, "creation_date": 1431467065, "post_id": 30199631, "comment_id": 48509487, "body": "Thanks ikegami, i will check that and let you know"}, {"owner": {"reputation": 13, "user_id": 4892901, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-45zGWpZ7RY4/AAAAAAAAAAI/AAAAAAAAAAA/O6zpRr-SJ7E/photo.jpg?sz=128", "display_name": "Ganesh Sonthi", "link": "https://stackoverflow.com/users/4892901/ganesh-sonthi"}, "edited": false, "score": 0, "creation_date": 1431467097, "post_id": 30199631, "comment_id": 48509499, "body": "Thanks Sobrique, it is not necessarily to be a thread, so can you please give some more inputs"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4892901, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-45zGWpZ7RY4/AAAAAAAAAAI/AAAAAAAAAAA/O6zpRr-SJ7E/photo.jpg?sz=128", "display_name": "Ganesh Sonthi", "link": "https://stackoverflow.com/users/4892901/ganesh-sonthi"}, "edited": false, "score": 0, "creation_date": 1431518078, "post_id": 30210413, "comment_id": 48532082, "body": "thanks Sobrique, one doubt is if $output_from_proc finishes before ALRM / timeout - then how it will exit"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 13, "user_id": 4892901, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-45zGWpZ7RY4/AAAAAAAAAAI/AAAAAAAAAAA/O6zpRr-SJ7E/photo.jpg?sz=128", "display_name": "Ganesh Sonthi", "link": "https://stackoverflow.com/users/4892901/ganesh-sonthi"}, "edited": false, "score": 0, "creation_date": 1431518271, "post_id": 30210413, "comment_id": 48532239, "body": "When it does this, the <code>$output_from_proc</code> filehandle will close,  and you&#39;ll  get an EOF when reading it. Or you can test via <code>waitpid</code> to see if it has exited - it&#39;ll stay as a zombie until it&#39;s reaped"}, {"owner": {"reputation": 13, "user_id": 4892901, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-45zGWpZ7RY4/AAAAAAAAAAI/AAAAAAAAAAA/O6zpRr-SJ7E/photo.jpg?sz=128", "display_name": "Ganesh Sonthi", "link": "https://stackoverflow.com/users/4892901/ganesh-sonthi"}, "edited": false, "score": 1, "creation_date": 1431983474, "post_id": 30210413, "comment_id": 48721033, "body": "Sorry for the delayed reply/ Thanks a lot Sobrique. it worked fine."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1431508418, "creation_date": 1431508418, "answer_id": 30210413, "question_id": 30199631, "link": "https://stackoverflow.com/questions/30199631/ending-thread-either-on-completion-or-after-specified-time-whichever-occurs-firs/30210413#30210413", "title": "Ending thread either on completion or after specified time whichever occurs first in Perl", "body": "<p>Following on from the comments, my suggestion would be don't thread at all. This <em>looks</em> like a simple system command that you're running, and you want to kill after a timeout. </p>\n\n<p>So I would approach it like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nalarm 3; \nmy $pid = open ( my $output_from_proc, \"-|\", \"tail -f /var/log/messages\" ); \n$SIG{'ALRM'} = sub { \n    print \"Killing $pid because of timeout\\n\"; \n    kill 15, $pid \n    undef $SIG{'ALRM'}; #irrelevant unless you reuse alarm\n};\nprint &lt;$output_from_proc&gt;; \nwaitpid ( $pid, 0 ); \n</code></pre>\n\n<p><code>open</code> opens as an executable, and performs it's own fork - and returns <code>STDOUT</code> via <code>$output_from_proc</code>. You set an 'ALRM' signal handler. <code>alarm</code> requests the kernel to send you a <code>SIGALRM</code> after the designated time (it's perfectly precise, but more than adequate for a timeout). </p>\n\n<p>And when your <code>ALRM</code> signal comes, the process is killed. This should work within a thread if you really want, but I'd try to avoid it. </p>\n"}], "owner": {"reputation": 13, "user_id": 4892901, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-45zGWpZ7RY4/AAAAAAAAAAI/AAAAAAAAAAA/O6zpRr-SJ7E/photo.jpg?sz=128", "display_name": "Ganesh Sonthi", "link": "https://stackoverflow.com/users/4892901/ganesh-sonthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 30210413, "answer_count": 1, "score": 1, "last_activity_date": 1431508418, "creation_date": 1431458243, "question_id": 30199631, "link": "https://stackoverflow.com/questions/30199631/ending-thread-either-on-completion-or-after-specified-time-whichever-occurs-firs", "title": "Ending thread either on completion or after specified time whichever occurs first in Perl", "body": "<p>I got some issue with Perl Threading and need your help.</p>\n\n<p>I want run some task [adb execute some command] in perl. My requirement is to exit from loop / thread once the execute command completes or kill that execute task itself after specified time [say 3 hrs]. For this i am trying to have use:threads</p>\n\n<p>Task 1 - Will execute some thing - may take less or more time\nTask 2 - Timer for 3hrs</p>\n\n<p>So it is working partially. i mean exiting from the loop once ADB task finishes but not the other way.</p>\n\n<pre><code>&lt;pre&gt;\nuse threads;\n    my $thr = threads-&gt;create(\\&amp;sub1);   # Spawn the thread\n    $thr-&gt;detach();   # Now we officially don't care any more\n    my $thr = threads-&gt;create(\\&amp;sub2);   # Spawn the thread\n    $thr-&gt;join();   \n    #sleep_string(10);        # Let thread run for awhile\n    sub sub1 {\n       sleep(10800); \n    }        \n    sub sub2 {\n       Execute ADB task\n    }        \n&lt;/pre&gt;\n</code></pre>\n"}, {"tags": ["perl", "parsing", "csv"], "comments": [{"owner": {"reputation": 47879, "user_id": 1426193, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9437fbfe2673d979ed5589c390aa2e8e?s=128&d=identicon&r=PG", "display_name": "Jistanidiot", "link": "https://stackoverflow.com/users/1426193/jistanidiot"}, "edited": false, "score": 0, "creation_date": 1431453656, "post_id": 30197785, "comment_id": 48501940, "body": "You might want to try a different module like Text::xSV.  However given that your data indicates that you don&#39;t really have a CSV file, probably nothing will work.  In order to have a proper CSV file, there should be quotation marks around the fields that contain the comma.  Fix your datasource and Parse::CSV will work just fine."}], "answers": [{"comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1431454022, "post_id": 30198246, "comment_id": 48502146, "body": "Well my CSV files are 3-10Gb large. I am looking for an efficient way to parse them"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1431454112, "post_id": 30198246, "comment_id": 48502214, "body": "@Bijan <code>split</code> is efficient, especially in the 3-argument form I&#39;ve shown above. Did you run a benchmark that makes you think otherwise?"}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1431454253, "post_id": 30198246, "comment_id": 48502301, "body": "No benchmark has been run. With my current method (See <a href=\"http://codereview.stackexchange.com/questions/90441/parsing-large-csv-in-perl\">Here</a>) I am running out of memory even though I have 32Gb so I am looking for a more efficient method."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1431454867, "post_id": 30198246, "comment_id": 48502682, "body": "@Bijan Ah, so this was an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY question</a>. Your memory issue has more to do with the fact that you&#39;re keeping multiple copies of large XML documents in memory at a time than with how you parse the CSV. You have one copied stored in <code>$line</code>, one copy in <code>$report</code>, and one copy in <code>$xp</code>. Next time, post the real issue you&#39;re having; you&#39;ll get better help that way."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 1, "last_activity_date": 1431454914, "last_edit_date": 1431454914, "creation_date": 1431453616, "answer_id": 30198246, "question_id": 30197785, "link": "https://stackoverflow.com/questions/30197785/using-parsecsv-to-limit-splits/30198246#30198246", "title": "Using Parse::CSV to limit splits", "body": "<p>If you're really wed to <code>Parse::CSV</code>, you can do this using a <a href=\"https://metacpan.org/pod/Parse::CSV#Writing-Filters\" rel=\"nofollow\">filter</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Parse::CSV;\n\nmy $parser = Parse::CSV-&gt;new(\n    file   =&gt; 'input.csv',\n    filter =&gt; sub { return [ shift @$_, join(',', @$_) ] }\n);\n\nwhile ( my $row = $parser-&gt;fetch ) {\n    say join(\"\\t\", @$row);\n}\n\ndie $parser-&gt;errstr if $parser-&gt;errstr;\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>1234    text1,text2\n5678    text3\n90      text4,text5\n</code></pre>\n\n<p>Note that performance will be poor because <code>Parse::CSV</code> is splitting the columns for you, but then you immediately join them back together again.</p>\n\n<hr>\n\n<p>However, since it appears that you're not working with a true CSV (columns containing the delimiter aren't quoted or escaped in any way), why not just use <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> with a third argument to specify the maximum number of fields?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nopen my $fh, '&lt;', 'input.csv' or die $!;\n\nwhile (&lt;$fh&gt;) {\n    chomp;\n\n    my @fields = split(',', $_, 2);\n    say join(\"\\t\", @fields);\n}\n\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 30198246, "answer_count": 1, "score": 0, "last_activity_date": 1431454914, "creation_date": 1431452005, "last_edit_date": 1592644375, "question_id": 30197785, "link": "https://stackoverflow.com/questions/30197785/using-parsecsv-to-limit-splits", "title": "Using Parse::CSV to limit splits", "body": "<p>I am trying to use <a href=\"https://metacpan.org/pod/Parse::CSV\" rel=\"nofollow noreferrer\">Parse::CSV</a> to parse through a simple CSV file with a header and 2 columns. The second column may contain commas but I want to ignore them. Is there anyway to limit how many times it splits on commas? Here is what I have so far</p>\n<pre><code>#!/usr/bin/perl\nuse Parse::CSV;\n\nmy $csv = Parse::CSV-&gt;new(file =&gt; 'file.csv');\n\nwhile (my $row = $csv-&gt;fetch) {\n    print $row-&gt;[0] . &quot;\\t&quot; . $row-&gt;[1] . &quot;\\n&quot;;\n}\n</code></pre>\n<p>Here is an example of what my data looks like:</p>\n<blockquote>\n<p>1234,text1,text2</p>\n<p>5678,text3</p>\n<p>90,text4,text5</p>\n</blockquote>\n<p>This would return</p>\n<pre><code>1234    text1,text2\n5678    text3\n90      text4,text5\n</code></pre>\n"}, {"tags": ["perl", "trim"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1431450119, "post_id": 30196974, "comment_id": 48499638, "body": "<code>s&#47;[\\x00-\\x1F]&#47;&#47;g</code> removes all character below 0x20, but that&#39;s not what Java&#39;s String.trim does"}, {"owner": {"reputation": 69, "user_id": 1197073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f392db62e253407a1b963b9dfdb8ce5a?s=128&d=identicon&r=PG", "display_name": "Birdy", "link": "https://stackoverflow.com/users/1197073/birdy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431947114, "post_id": 30196974, "comment_id": 48698761, "body": "Ok, i forgot to write that it removes only the leading and trailing characters in the range of \\x00-\\x1F, right? Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1431461637, "post_id": 30197179, "comment_id": 48506697, "body": "<code>$string =~ s&#47;^\\s+|\\s+$&#47;&#47;g;</code> You forgot the third slash to close the substitute."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1431462402, "last_edit_date": 1431462402, "creation_date": 1431449959, "answer_id": 30197179, "question_id": 30196974, "link": "https://stackoverflow.com/questions/30196974/java-like-trim-function-for-perl/30197179#30197179", "title": "Java like trim function for perl", "body": "<p>The traditional ASCII way was to use</p>\n\n<pre><code>$string =~ s/^\\s+|\\s+$//g;\n</code></pre>\n\n<p>(i.e. remove whitespace (<code>\\s</code>) from the beginning (<code>^</code>) and end (<code>$</code>) of the string.</p>\n\n<p><a href=\"http://www.fileformat.info/info/unicode/char/1f/index.htm\" rel=\"nofollow\">U+001f</a> is not whitespace, it's a Control. You can use Unicode properties in regular expressions with <code>\\p</code>:</p>\n\n<pre><code>my $drop = qr/[\\p{Space}\\p{Cc}]+/;\n$whitespace =~ s/^$drop|$drop$//g;\n</code></pre>\n\n<p>Or, more verbose:</p>\n\n<pre><code>$drop = qr/[\\p{White_Space}\\p{Cntrl}]+/;\n</code></pre>\n\n<p>You should probably change the name of the variable.</p>\n"}], "owner": {"reputation": 69, "user_id": 1197073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f392db62e253407a1b963b9dfdb8ce5a?s=128&d=identicon&r=PG", "display_name": "Birdy", "link": "https://stackoverflow.com/users/1197073/birdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 30197179, "answer_count": 1, "score": 0, "last_activity_date": 1431946975, "creation_date": 1431449360, "last_edit_date": 1431946975, "question_id": 30196974, "link": "https://stackoverflow.com/questions/30196974/java-like-trim-function-for-perl", "title": "Java like trim function for perl", "body": "<p>Is there an <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#trim()\" rel=\"nofollow\">Java like</a> trim function for Perl.</p>\n\n<p>I am looking for function in Perl that removes all the leading and trailing characters below 0x20, like in Java.</p>\n\n<p>After calling the function on the following string.</p>\n\n<pre><code>my $string = \"\\N{U+0020}\\N{U+001f}\\N{U+001e}\\N{U+001d}\\N{U+001c}\\N{U+001b}\\N{U+001a}\\N{U+0019}\\N{U+0018}\\N{U+0017}\\N{U+0016}\\N{U+0015}\\N{U+0014}\\N{U+0013}\\N{U+0012}\\N{U+0011}Hello Moto\\N{U+0010}\\N{U+000f}\\N{U+000e}\\N{U+000d}\\N{U+000c}\\N{U+000b}\\N{U+000a}\\N{U+0009}\\N{U+0008}\\N{U+0007}\\N{U+0006}\\N{U+0005}\\N{U+0004}\\N{U+0003}\\N{U+0002}\\N{U+0001}\\N{U+0000}\";\n</code></pre>\n\n<p>Only \"Hello Moto\" should be left.</p>\n\n<p>The trim from <a href=\"https://metacpan.org/pod/String::Util#trim-string\" rel=\"nofollow\">String::Util</a> only removes the first whitespace (\\N{U+0020}).</p>\n"}, {"tags": ["perl", "copy", "directory-structure"], "comments": [{"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 2, "creation_date": 1431449350, "post_id": 30196894, "comment_id": 48499139, "body": "Is there a question here?"}, {"owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "reply_to_user": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1431449825, "post_id": 30196894, "comment_id": 48499438, "body": "@EricRenouf hi I have just edited the question."}, {"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1431450591, "post_id": 30196894, "comment_id": 48499968, "body": "you need to write a recursive traversal procedure. Else it won&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1431451352, "creation_date": 1431451352, "answer_id": 30197591, "question_id": 30196894, "link": "https://stackoverflow.com/questions/30196894/how-to-access-files-in-subdirectories/30197591#30197591", "title": "How to access files in subdirectories?", "body": "<p>This is simple in a one-line Perl program</p>\n\n<pre><code>perl -MFile::Copy=copy -e'copy($_, \"/d/work/abcd\") for &lt;/d/work/abc/*/*.txt&gt;'\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431521197, "creation_date": 1431449072, "last_edit_date": 1431521197, "question_id": 30196894, "link": "https://stackoverflow.com/questions/30196894/how-to-access-files-in-subdirectories", "title": "How to access files in subdirectories?", "body": "<p>I have several subdirectories beneath in a main directory, and each subdirectory contains one or two text files. I need to copy these text files to another directory. </p>\n\n<p>Here's how I coded. But it doesn't seem to work. What can I do? And is there a direct way of doing this?    </p>\n\n<pre><code>#!/usr/bin/perl\nuse File::Copy;\nmy $directorypath;\nopendir (DIR, '/d/work/abc') or die \"cannot open path $!\";\nmy @maindirectory = readdir (DIR);\nclosedir (DIR);\n\nforeach my $subdirectorypath (@maindirectory)\n{\n    $subdirectorypath = join '', '/d/work/abc', $directorypath;\n    chdir '$directorypath';\n    my @textfile = glob \"*.txt\";\n    foreach (@textfile)\n    {\n     $copiedfile = \"/d/work/abcd/$_.txt.\"; #destination path \n     copy($_, $copiedfile) or die \"File cannot be copied.\";   \n    }\n}\n</code></pre>\n"}, {"tags": ["multithreading", "perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1431447727, "last_edit_date": 1431447727, "creation_date": 1431444002, "answer_id": 30195129, "question_id": 30194725, "link": "https://stackoverflow.com/questions/30194725/perl-doesnt-exit-without-pressing-enter/30195129#30195129", "title": "perl: doesnt exit without pressing &quot;enter&quot;", "body": "<p>Mixing signals and threads is a bit of a challenge, simply because <code>$thread-&gt;kill</code> doesn't actually use real signals (since signals are sent to processes, not threads). Which is just as well, because if it did, <code>SIGKILL</code> can break things. </p>\n\n<p>Even when talking about 'normal' signals - you will have slightly unexpected behaviour, because of perl's handling of them See: <a href=\"http://perldoc.perl.org/perlipc.html#Deferred-Signals-%28Safe-Signals%29\" rel=\"nofollow\"><code>perlipc</code></a> . It's not impossible to use, but you need to be aware of the caveats involved. </p>\n\n<p>But the root of the problem is - that the signal is handled safely, which means perl waits until a suitable moment to process it. It will not do this during a 'read' operation, so the signal processing will get deferred.</p>\n\n<p>I think likely what is happening here is your <code>ReadKey</code> is not a nonblocking operation like you think it is. With reference to the <a href=\"http://search.cpan.org/dist/TermReadKey/ReadKey.pm\" rel=\"nofollow\"><code>Term::ReadKey</code></a> manpage </p>\n\n<blockquote>\n  <p>ReadKey MODE [, Filehandle]\n  Takes an integer argument, which can currently be one of the following values:</p>\n</blockquote>\n\n<pre><code> 0    Perform a normal read using getc\n-1   Perform a non-blocked read\n&gt;0   Perform a timed read\n</code></pre>\n\n<p>So what it does instead is - starts reading from <code>STDIN</code>, and blocks (ignoring signals) until you press enter. At which point it runs your signal handler. </p>\n\n<p>Given what you're trying to do here - I would suggest you don't want to use signals at all, and instead - just use a shared variable. </p>\n\n<p>Something like this:</p>\n\n<pre><code>use threads;\nuse threads::shared;\nuse Term::ReadKey;\n\nmy $done : shared; \n\nsub input_worker {\n    while ( not $done ) {\n        if ( defined( my $char = ReadKey( -1, *STDIN ) ) ) {\n            print \"$char\";\n        }\n    }\n    return;\n} ## end sub input_worker\n\nmy $in_thr = threads-&gt;create( \\&amp;input_worker );\nsleep 10;\n$done++;\nmy $rc = $in_thr-&gt;join();\nprint \"$rc\\n\";\n</code></pre>\n\n<p>Will terminate after the timeout, and because it's doing nonblocking reads, it'll bail out on time, without input.  You should note though - this thread is going to be 'spinning' looping rapidly waiting to see if input has been pressed - so it's not very CPU efficient. (a small delay in the cycle helps immensely there, say 0.1s). </p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 30195129, "answer_count": 1, "score": 1, "last_activity_date": 1431447727, "creation_date": 1431443017, "last_edit_date": 1431443361, "question_id": 30194725, "link": "https://stackoverflow.com/questions/30194725/perl-doesnt-exit-without-pressing-enter", "title": "perl: doesnt exit without pressing &quot;enter&quot;", "body": "<pre><code>use threads;\nuse threads::shared;\nuse Term::ReadKey;\n\nsub input_worker {\n\n    local $SIG{'KILL'} = sub { threads-&gt;exit(0); return;};\n\n    while (1) {\n        if (defined(my $char = ReadKey 0, *STDIN)) {\n            print \"$char\";\n        }\n    }\n\n    return;\n} ## end sub input_worker\n\nmy $in_thr = threads-&gt;create(\\&amp;input_worker);\nsleep 5;\nmy $rc = $in_thr-&gt;kill('KILL')-&gt;join();\nprint \"$rc\\n\";\n</code></pre>\n\n<p>This program wont exit by itself and just hangs. \nIt will only exit after pressing \"enter\"</p>\n\n<p>How can i make it so that it will exit by itself after 'kill' is signaled</p>\n\n<p>P.S. I dont want to use detach();</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1431444039, "post_id": 30194556, "comment_id": 48495277, "body": "<code>perl -Mstrict -we &#39;my %x=(),$x=bless(\\%x),$y=&#39;bar&#39;;print &quot;$x::$y\\n&quot;;&#39;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1431445042, "post_id": 30194556, "comment_id": 48496043, "body": "Could quite easily be a bug fixed in the intervening 6 years between the releases :).  But well done for such a concise MCVE!"}], "answers": [{"comments": [{"owner": {"reputation": 1264, "user_id": 329658, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/029c4a3ddc77bc1c569ba7b3aec6695c?s=128&d=identicon&r=PG", "display_name": "Cricri", "link": "https://stackoverflow.com/users/329658/cricri"}, "edited": false, "score": 0, "creation_date": 1431457305, "post_id": 30196363, "comment_id": 48504176, "body": "It does help me a lot to understand where the problem is coming from, if it&#39;s the perl interpreter, or issues in the code. And in this case, it&#39;s a combination of both."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1431447378, "creation_date": 1431447378, "answer_id": 30196363, "question_id": 30194556, "link": "https://stackoverflow.com/questions/30194556/perl-string-interpolation-when-using-the-package-delimiter/30196363#30196363", "title": "perl string interpolation when using the package delimiter", "body": "<p>So, my very quick test confirms the issue - using </p>\n\n<pre><code>perl -Mstrict -we 'my %x=(),$x=bless(\\%x),$y=\"bar\";print \"$x::$y\\n\";'\n</code></pre>\n\n<p>(With your version, I get a bareword warning for 'bar'). </p>\n\n<p>The error I get in 5.8.8 is \"use of uninitialized value in concatenation\".</p>\n\n<p>The difference seems to be that when I run with <code>perl -MO=Deparse</code> I get:</p>\n\n<pre><code>my ( %x ) = ();\nmy $x = bless ( \\%x );\nmy $y = 'bar';\nprint \"$x::$y\\n\";\n</code></pre>\n\n<p>If I run on 5.20.2 though, I get:</p>\n\n<pre><code>my ( %x ) = ();\nmy $x = bless ( \\%x );\nmy $y = 'bar';\nprint \"${x}::$y\\n\";\n</code></pre>\n\n<p>So yes, there has been a change in how the same code is parsed. But I'm not entirely sure how that helps you, apart from perhaps enlightening you as to what's going on? </p>\n"}, {"comments": [{"owner": {"reputation": 1264, "user_id": 329658, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/029c4a3ddc77bc1c569ba7b3aec6695c?s=128&d=identicon&r=PG", "display_name": "Cricri", "link": "https://stackoverflow.com/users/329658/cricri"}, "edited": false, "score": 0, "creation_date": 1431458639, "post_id": 30196722, "comment_id": 48504911, "body": "Indeed, it looks like there was a bug in the code which was being silenced due tot <code>&quot;$x::$x&quot;</code> parsing as <code>$x:: . $x</code>, i.e. <code>&quot;$package::$class&quot;</code> would look for <code>$package::</code> instead of <code>$package</code> and end up replacing it with `` in the string since it&#39;s undefined."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 1264, "user_id": 329658, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/029c4a3ddc77bc1c569ba7b3aec6695c?s=128&d=identicon&r=PG", "display_name": "Cricri", "link": "https://stackoverflow.com/users/329658/cricri"}, "edited": false, "score": 0, "creation_date": 1431459629, "post_id": 30196722, "comment_id": 48505517, "body": "Rewrite that as <code>${package}::$class</code> to get it work in any version of perl."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1431454421, "last_edit_date": 1431454421, "creation_date": 1431448530, "answer_id": 30196722, "question_id": 30194556, "link": "https://stackoverflow.com/questions/30194556/perl-string-interpolation-when-using-the-package-delimiter/30196722#30196722", "title": "perl string interpolation when using the package delimiter", "body": "<p>Shorter demonstration:</p>\n\n<pre><code>($x::, $x) = (1,2);  print \"$x::$x\"\n\n$ perl5.16.3 -e '($x::, $x) = (1,2);  print \"$x::$x\"'\n12\n\n$ perl5.18.1 -e '($x::, $x) = (1,2);  print \"$x::$x\"'\n2::2\n</code></pre>\n\n<p>Getting warmer.</p>\n\n<pre><code>$ perl5.16.3 -MO=Concise =e 'print \"$x::$x\"'\n8  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 1 -e:1) v:{ -&gt;3\n7     &lt;@&gt; print vK -&gt;8\n3        &lt;0&gt; pushmark s -&gt;4\n-        &lt;1&gt; ex-stringify sK/1 -&gt;7\n-           &lt;0&gt; ex-pushmark s -&gt;4\n6           &lt;2&gt; concat[t3] sK/2 -&gt;7\n-              &lt;1&gt; ex-rv2sv sK/1 -&gt;5\n4                 &lt;#&gt; gvsv[*x::] s -&gt;5          &lt;-     $x::\n-              &lt;1&gt; ex-rv2sv sK/1 -&gt;6\n5                 &lt;#&gt; gvsv[*x] s -&gt;6            &lt;-     $x\n-e syntax OK\n\n$ perl5.18.1 -MO=Concise -e 'print \"$x::$x\"'\na  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 1 -e:1) v:{ -&gt;3\n9     &lt;@&gt; print vK -&gt;a\n3        &lt;0&gt; pushmark s -&gt;4\n-        &lt;1&gt; ex-stringify sK/1 -&gt;9\n-           &lt;0&gt; ex-pushmark s -&gt;4\n8           &lt;2&gt; concat[t4] sKS/2 -&gt;9\n6              &lt;2&gt; concat[t2] sK/2 -&gt;7\n-                 &lt;1&gt; ex-rv2sv sK/1 -&gt;5\n4                    &lt;#&gt; gvsv[*x] s -&gt;5         &lt;-     $x\n5                 &lt;$&gt; const[PV \"::\"] s -&gt;6      &lt;-     \"::\"\n-              &lt;1&gt; ex-rv2sv sK/1 -&gt;8\n7                 &lt;#&gt; gvsv[*x] s -&gt;8            &lt;-     $x\n-e syntax OK\n</code></pre>\n\n<p>TL;DR. v5.16 parses <code>\"$x::$x\"</code> as <code>$x:: . $x</code>. v5.18 as <code>$x . \"::\" . $x</code>. I don't see any obvious reference to this change in the <a href=\"http://metacpan.org/pod/perl5180delta\" rel=\"nofollow\">delta docs</a>, but I'll keep looking.</p>\n"}], "owner": {"reputation": 1264, "user_id": 329658, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/029c4a3ddc77bc1c569ba7b3aec6695c?s=128&d=identicon&r=PG", "display_name": "Cricri", "link": "https://stackoverflow.com/users/329658/cricri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "accepted_answer_id": 30196722, "answer_count": 2, "score": 7, "last_activity_date": 1431454421, "creation_date": 1431442609, "question_id": 30194556, "link": "https://stackoverflow.com/questions/30194556/perl-string-interpolation-when-using-the-package-delimiter", "title": "perl string interpolation when using the package delimiter", "body": "<p>Am fighting some legacy perl looking like the following:</p>\n\n<pre><code>sub UNIVERSAL::has_sub_class {\n    my ($package,$class) = @_;\n    my $all = all_packages();\n    print \"$package - $class\", \"\\n\";\n    print \"$package::$class\", \"\\n\";\n    return exists $all-&gt;{\"$package::$class\"};\n}\n</code></pre>\n\n<p>On two different systems, two different PERL installations / versions, this code behaves differently, i.e. the <code>\"$package::$class\"</code> construct is properly resolved to the correct package name on one system, but not on the other.</p>\n\n<p>The following different <code>print</code> outputs can be seen when running <code>has_sub_class</code> on the two different systems:</p>\n\n<pre><code># print output on system 1 (perl v5.8.6):\nwebmars::parameter=HASH(0xee93d0) - webmars::parameter::date\nwebmars::parameter::date\n\n# print output on system 2 (perl v5.18.1):\nwebmars::parameter=HASH(0x251c500) - webmars::parameter::date\nwebmars::parameter=HASH(0x251c500)::webmars::parameter::date\n</code></pre>\n\n<p>Has there been any string interpolation changes in between perl v5.8.6 and perl v5.18.1 that you know might cause this behaviour ? Or should I look somewhere else ? I've really tried google-ing around and reading through the perl change notes, but could not find anything of interest.</p>\n\n<p>With my limited knowledge of perl, I've tried getting the smallest piece of code that could reproduce the problem I am having. I have come up with the following which I hope is relevant:</p>\n\n<pre><code># system 1 (perl v5.8.6):\n$ perl -e 'my %x=(),$x=bless(\\%x),$y='bar';print \"$x::$y\\n\";'\nbar\n\n# system 2 (perl v5.18.1):\n$ perl -e 'my %x=(),$x=bless(\\%x),$y='bar';print \"$x::$y\\n\";'\nmain=HASH(0xec0ce0)::bar\n</code></pre>\n\n<p>The outputs are different ! Any ideas ?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 3, "creation_date": 1431441595, "post_id": 30193807, "comment_id": 48493264, "body": "This might help: <a href=\"http://www.perl.com/pub/2002/10/01/hashes.html\" rel=\"nofollow noreferrer\">perl.com/pub/2002/10/01/hashes.html</a>"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 7, "creation_date": 1431441914, "post_id": 30193807, "comment_id": 48493537, "body": "<code>(&quot;a&quot;,1,&quot;b&quot;, 2)</code> is actually a list, not an array: <a href=\"http://stackoverflow.com/questions/6023821/perl-array-vs-list\">stackoverflow.com/questions/6023821/perl-array-vs-list</a>"}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1431442000, "post_id": 30193807, "comment_id": 48493604, "body": "@huntermcmillen Thanks for pointing out but I don&#39;t think thats the primary concerns here"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 1, "creation_date": 1431442254, "post_id": 30193807, "comment_id": 48493805, "body": "It certainly makes sense for the assignment operator to do the hashing when the operand on the left is a hash. I can imagine another possibility: that a copy of the list would be stored as-is and the hashing would be delayed until the first lookup. That seems very unlikely. But a good answer to this would be somebody pointing directly at the assignment operator&#39;s implementation in the perl source code and saying &quot;look, here&#39;s the part where it hashes all the keys&quot;. It would probably be near the part that generates the <code>Odd number of elements in hash assignment</code> error message."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 5, "creation_date": 1431442278, "post_id": 30193807, "comment_id": 48493825, "body": "What <i>is</i> the primary concern?  Your question is an esoteric one about language implementation and doesn&#39;t seem to be related to any real-world issue of using Perl."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 2, "creation_date": 1431442731, "post_id": 30193807, "comment_id": 48494216, "body": "@dan1111 It isn&#39;t completely impractical to want to understand exactly how much work the interpreter is doing at a particular step in your program."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1431443034, "post_id": 30193807, "comment_id": 48494486, "body": "@dan1111 I believe it is an acceptable behaviour to try to gather an understanding of how things work? And by that it would also help doing some optimization based on interpreter (in the real world)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 3, "creation_date": 1431443640, "post_id": 30193807, "comment_id": 48494944, "body": "About the question in general: when we say hashes are <b>unordered</b> we don&#39;t mean you can&#39;t put some ordered data into a hash. We mean that you can&#39;t expect to get the original order (or any sensible order) back when you retrieve entries from the hash. After <code>%h1=(a=&gt;1,b=&gt;2);%h2=(b=&gt;2,a=&gt;1);</code> there is no way to tell the hashes apart. (Note: this doesn&#39;t mean they&#39;re guaranteed to yield the keys in the same order if you do <code>keys %h1</code> and <code>keys %h2</code>  - it means they <i>might</i> be the same or <i>might not</i>. There are no guarantees at all.)"}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1431444166, "post_id": 30193807, "comment_id": 48495365, "body": "@wumpusqwumbley I guess that won&#39;t guarantee O(1) access time as well?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1431448215, "post_id": 30193807, "comment_id": 48498357, "body": "Esoteric questions like this, I&#39;m all for. It&#39;s an interesting thing to ask and answer. Maybe not particularly necessary to know, but still something that&#39;s useful and interesting."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1431461921, "post_id": 30193807, "comment_id": 48506895, "body": "@WumpusQ.Wumbley: If fact, Perl randomly changes the order every time the program is run. This is to prevent a hash-dos-attack &lt;<a href=\"http://f5.com/glossary/hash-dos-attack\" rel=\"nofollow noreferrer\">f5.com/glossary/hash-dos-attack</a>&gt;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 0, "creation_date": 1431510237, "post_id": 30193807, "comment_id": 48526653, "body": "@texasbruce, of course that is a fine reason to want to know.  But the question would be strengthened by giving the reason, even if it is &quot;I am just curious how it is implemented.&quot;  Otherwise, we are left wondering whether you are really asking about the implementation or just fundamentally misunderstand something and think this is important for writing your code."}], "answers": [{"comments": [{"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1431450806, "post_id": 30194449, "comment_id": 48500103, "body": "So how does the hash get stored in memory? Is it like a hash table with O(1) access time? Or just an array with O(n) access time?"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 2, "creation_date": 1431451008, "post_id": 30194449, "comment_id": 48500223, "body": "@texasbruce it&#39;s a hash table, thus the hashing. And the name. Specifically it&#39;s a single-hashing table with linked list buckets, and table growth if any bucket gets too big. I suspect there&#39;s an answer here that explains the structure in more detail but I can&#39;t easily find it as I&#39;m on my phone right now."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 7, "last_activity_date": 1431442297, "creation_date": 1431442297, "answer_id": 30194449, "question_id": 30193807, "link": "https://stackoverflow.com/questions/30193807/when-does-perl-hash-the-hashes/30194449#30194449", "title": "When does Perl &quot;hash&quot; the hashes?", "body": "<p>Whenever a string is used as a hash key, the hash of that string is computed. If the key is a constant (e.g. <code>\"a\"</code> in <code>$hash{\"a\"}</code>) then its hash is computed at compile time and stored in the optree; otherwise it's computed at runtime as needed. This applies the same way to assignment and retrieval; the hash key is used to find the right hash element to store a value into or retrieve a value from.</p>\n"}], "owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 30194449, "answer_count": 1, "score": 0, "last_activity_date": 1431442297, "creation_date": 1431440711, "last_edit_date": 1431441692, "question_id": 30193807, "link": "https://stackoverflow.com/questions/30193807/when-does-perl-hash-the-hashes", "title": "When does Perl &quot;hash&quot; the hashes?", "body": "<p>According to the perl doc page:</p>\n\n<p><a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\">perldata</a></p>\n\n<p><strong>Hashes are unordered collections of scalar values indexed by their associated string key.</strong></p>\n\n<p>I would have thought perl hashes are <strong>ordered</strong> since they are usually constructed using array:</p>\n\n<pre><code>my %h = (\"a\",1,\"b\", 2);\n</code></pre>\n\n<p>If Perl hashes are unordered, they need to be \"hash\"-ed to allow access. Question is when does Perl hash the hashes?</p>\n\n<p>If we do:</p>\n\n<pre><code>my %h = (\"1\",1); #1\nprint $h{\"1\"};     #2\n</code></pre>\n\n<p>I am assuming this line #1 is doing the hashing internally.</p>\n\n<p>If a hash is constructed from array:</p>\n\n<pre><code>#@a = (\"1\", 1);\nmy %h = @a;\n</code></pre>\n\n<p>I am assuming the assignment to %h is doing the hashing.</p>\n\n<p>Please confirm if my assumption is correct and I don't seem to find the details anywhere on the internet.</p>\n"}, {"tags": ["perl", "web-services", "wsdl", "soaplite"], "answers": [{"tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 1, "last_activity_date": 1431474932, "creation_date": 1431474932, "answer_id": 30203371, "question_id": 30193500, "link": "https://stackoverflow.com/questions/30193500/perl-soaplite-service-generated-stub-method-within-method/30203371#30203371", "title": "Perl SOAP::LITE service generated stub method within method", "body": "<p>'' is an actual value (empty string), use <code>verifySpring();</code> and not <code>verifySpring('');</code>\nExample</p>\n\n<pre><code>#!/usr/bin/perl --\nuse strict;\nuse warnings;\nuse SOAP::Lite;\nmy $soap = SOAP::Lite\n    -&gt; uri('http://127.0.0.1/MyModule')\n    -&gt; proxy('http://127.0.0.1:1203')\n;;;;;;;;;\n$soap-&gt;readable(1);\n$soap-&gt;transport-&gt;add_handler(\"request_send\",  sub { print $_[0]-&gt;as_string,\"\\n\"; return } );\neval { $soap-&gt;verifySpring(''); 1 } or print \"$@\\n\";\neval { $soap-&gt;verifySpring();   1 } or print \"$@\\n\";\n__END__\nPOST http://127.0.0.1:1203 HTTP/1.1\nAccept: text/xml\nAccept: multipart/*\nAccept: application/soap\nUser-Agent: SOAP::Lite/Perl/1.11\nContent-Length: 522\nContent-Type: text/xml; charset=utf-8\nSOAPAction: \"http://127.0.0.1/MyModule#verifySpring\"\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope \n    soap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" \n    xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" \n    xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" \n    xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;soap:Body&gt;\n    &lt;verifySpring xmlns=\"http://127.0.0.1/MyModule\"&gt;\n      &lt;c-gensym3 xsi:type=\"xsd:string\" /&gt;\n          &lt;/verifySpring&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n\n500 Can't connect to 127.0.0.1:1203 at - line 11.\n\nPOST http://127.0.0.1:1203 HTTP/1.1\nAccept: text/xml\nAccept: multipart/*\nAccept: application/soap\nUser-Agent: SOAP::Lite/Perl/1.11\nContent-Length: 475\nContent-Type: text/xml; charset=utf-8\nSOAPAction: \"http://127.0.0.1/MyModule#verifySpring\"\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope \n    soap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" \n    xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" \n    xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" \n    xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;soap:Body&gt;\n    &lt;verifySpring xmlns=\"http://127.0.0.1/MyModule\" xsi:nil=\"true\" /&gt;\n      &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n\n500 Can't connect to 127.0.0.1:1203 at - line 12.\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3688098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570433fb92d40ce48ff3a3f0e9b0cb3?s=128&d=identicon&r=PG&f=1", "display_name": "jdveencamp", "link": "https://stackoverflow.com/users/3688098/jdveencamp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1431520885, "creation_date": 1431440030, "last_edit_date": 1431520885, "question_id": 30193500, "link": "https://stackoverflow.com/questions/30193500/perl-soaplite-service-generated-stub-method-within-method", "title": "Perl SOAP::LITE service generated stub method within method", "body": "<p>I have a SOAP::Lite client using the service method to grab a wsdl.  This needs to call a webservice with a single operation and method with no parameters.  It's resulting in a nested method call that the provider tells me is wrong.  And I'm not very knowledgeable about SOAP::Lite or webservices.  Advice appreciated!</p>\n\n<pre><code>my $lookup = SOAP::Lite-&gt;service('http://hostname.com/path/SpringVerifierWebServicePort?wsdl')\n    -&gt; proxy(\"$theURL\") ;\n$response = $lookup-&gt;verifySpring('');\n</code></pre>\n\n<p>And that is generating this stub on the call.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;soap:Envelope soap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:ns1=\"http://schemas.xmlsoap.org/soap/http\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:tns=\"http://webservice.springverifier.toolslang.fedins.com\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;    &lt;soap:Body&gt;\n      &lt;tns:verifySpring&gt;\n         &lt;verifySpring xsi:nil=\"true\" xsi:type=\"tns:verifySpring\" /&gt;\n      &lt;/tns:verifySpring&gt;    &lt;/soap:Body&gt;&lt;/soap:Envelope&gt;\n\nSOAP::Transport::HTTP::Client::send_receive: HTTP::Response=HASH(0x167bee8)\nSOAP::Transport::HTTP::Client::send_receive: HTTP/1.1 500 Internal Server Error\n</code></pre>\n\n<p>The provider of that webservice tells me the 500 error is due to the nested verifySpring on the call. Do I need to call this differently than I am, or is the WSDL invalid and screwing up SOAP::Lite?   I don't know enough about SOAP and webservices to say if the problem is the WSDL, or if I need to call this differently in SOAP::LITE.  Could anyone give me some direction please?</p>\n\n<p>The provider WSDL is this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt; \n&lt;wsdl:definitions xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:tns=\"http://webservice.springverifier.toolslang.fedins.com\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:ns1=\"http://schemas.xmlsoap.org/soap/http\" name=\"SpringVerifierWebServiceService\" targetNamespace=\"http://webservice.springverifier.toolslang.fedins.com\"&gt;\n  &lt;wsdl:types&gt;\n    &lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:tns=\"http://webservice.springverifier.toolslang.fedins.com\" targetNamespace=\"http://webservice.springverifier.toolslang.fedins.com\" version=\"1.0\"&gt;\n      &lt;xs:element name=\"verifySpring\" type=\"tns:verifySpring\" /&gt; \n      &lt;xs:element name=\"verifySpringResponse\" type=\"tns:verifySpringResponse\" /&gt; \n      &lt;xs:complexType name=\"verifySpring\"&gt;\n        &lt;xs:sequence /&gt; \n      &lt;/xs:complexType&gt;\n      &lt;xs:complexType name=\"verifySpringResponse\"&gt;\n        &lt;xs:sequence&gt;\n          &lt;xs:element minOccurs=\"0\" name=\"return\" type=\"tns:environmentInfo\" /&gt; \n        &lt;/xs:sequence&gt;\n      &lt;/xs:complexType&gt;\n      &lt;xs:complexType name=\"environmentInfo\"&gt;\n        &lt;xs:sequence&gt;\n          &lt;xs:element minOccurs=\"0\" name=\"dbRegion\" type=\"xs:string\" /&gt; \n          &lt;xs:element minOccurs=\"0\" name=\"jndi\" type=\"xs:string\" /&gt; \n          &lt;xs:element minOccurs=\"0\" name=\"springProfile\" type=\"xs:string\" /&gt; \n          &lt;xs:element minOccurs=\"0\" name=\"systemDate\" type=\"xs:string\" /&gt; \n        &lt;/xs:sequence&gt;\n      &lt;/xs:complexType&gt;\n    &lt;/xs:schema&gt;\n  &lt;/wsdl:types&gt;\n  &lt;wsdl:message name=\"verifySpringResponse\"&gt;\n    &lt;wsdl:part element=\"tns:verifySpringResponse\" name=\"parameters\" /&gt; \n  &lt;/wsdl:message&gt;\n  &lt;wsdl:message name=\"verifySpring\"&gt;\n    &lt;wsdl:part element=\"tns:verifySpring\" name=\"parameters\" /&gt; \n  &lt;/wsdl:message&gt;\n  &lt;wsdl:portType name=\"SpringVerifierWebService\"&gt;\n    &lt;wsdl:operation name=\"verifySpring\"&gt;\n      &lt;wsdl:input message=\"tns:verifySpring\" name=\"verifySpring\" /&gt; \n      &lt;wsdl:output message=\"tns:verifySpringResponse\" name=\"verifySpringResponse\" /&gt; \n    &lt;/wsdl:operation&gt;\n  &lt;/wsdl:portType&gt;\n  &lt;wsdl:binding name=\"SpringVerifierWebServiceServiceSoapBinding\" type=\"tns:SpringVerifierWebService\"&gt;\n    &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\" /&gt; \n    &lt;wsdl:operation name=\"verifySpring\"&gt;\n      &lt;soap:operation soapAction=\"\" style=\"document\" /&gt; \n      &lt;wsdl:input name=\"verifySpring\"&gt;\n        &lt;soap:body use=\"literal\" /&gt; \n      &lt;/wsdl:input&gt;\n      &lt;wsdl:output name=\"verifySpringResponse\"&gt;\n        &lt;soap:body use=\"literal\" /&gt; \n      &lt;/wsdl:output&gt;\n    &lt;/wsdl:operation&gt;\n  &lt;/wsdl:binding&gt;\n  &lt;wsdl:service name=\"SpringVerifierWebServiceService\"&gt;\n    &lt;wsdl:port binding=\"tns:SpringVerifierWebServiceServiceSoapBinding\" name=\"SpringVerifierWebServicePort\"&gt;\n      &lt;soap:address location=\"http://dev1.spring.service.fedins.com/fedservice/toolslang/springverifier/webservice/services/SpringVerifierWebServicePort\" /&gt; \n    &lt;/wsdl:port&gt;\n  &lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1431437180, "post_id": 30191569, "comment_id": 48489549, "body": "Why are you building this hash, when you could just read directly from the XML object you&#39;re parsing?"}, {"owner": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431442175, "post_id": 30191569, "comment_id": 48493742, "body": "@Sobrique - Extremely sorry for bringing up with this question. You are absolutely right. I modified my code as per your suggestion. Thank you again for helping me."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1431436354, "creation_date": 1431436354, "answer_id": 30191984, "question_id": 30191569, "link": "https://stackoverflow.com/questions/30191569/reading-specific-values-in-hash-of-hashes-perl/30191984#30191984", "title": "Reading specific values in hash of hashes - Perl", "body": "<p>Just iterate over the <code>keys</code> of the hash. Use the <code>$hash{key}{inner_key}</code> syntax to get into the nested hash.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy %error = ( 'Applying Template Changes' =&gt; {\n                  'PluginsLogFileErrors_2' =&gt; 'No Errors',\n                  'PluginsStatus' =&gt; 'Error',\n                  'PluginsLogFileName_1' =&gt; 'Applying_Template_Changes_2015-05-12_02-57-40AM.log',\n                   # ...\n                  'PluginsLogFileLink_0' =&gt; '/tmp/xpath/2015-05-11_08-14-28PM.log',\n                  'PluginsLogFileErrors_0' =&gt; 'ERROR: Failed to query taxonomy attribute AllProductFamilyAndDomains.apps.ad.common.exception.ADException: Failed to query taxonomy attribute AllProductFamilyAndDomains.... 104 lines more',\n              },\n);\nfor my $step (keys %error) {\n    print \"Plugin name is = $step\\n\";\n    for my $detail (sort keys %{ $error{$step} }) {\n        print \"$detail = $error{$step}{$detail}\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1431436564, "creation_date": 1431436564, "answer_id": 30192067, "question_id": 30191569, "link": "https://stackoverflow.com/questions/30191569/reading-specific-values-in-hash-of-hashes-perl/30192067#30192067", "title": "Reading specific values in hash of hashes - Perl", "body": "<p>You have built a hash that is less than ideal for your purposes. You should create a <code>LogFile</code> hash element that has an array as its value. After that the process is trivial</p>\n\n<pre><code>{\n  \"Applying Main Configuration\" =&gt; {\n    LogFile =&gt; [\n      {\n        Errors =&gt; \"ERROR: Failed to query taxonomy attribute AllProductFamilyAndDomains.apps.ad.common.exception.ADException: Failed to query taxonomy attribute AllProductFamilyAndDomains.... 104 lines more\",\n        Link   =&gt; \"/tmp/xpath/2015-05-11_08-14-28PM.log\",\n        Name   =&gt; \"Applying_Main_Configuration_2015-05-12_01-11-21AM.log\",\n      },\n    ],\n    patchLogName =&gt; \"2015-05-11_08-14-28PM.log\",\n    Status =&gt; \"Error\",\n  },\n  \"Applying Template Changes\" =&gt; {\n    LogFile =&gt; [\n      {\n        Errors =&gt; \"No Errors\",\n        Link   =&gt; \"/tmp/xpath/2015-05-11_08-14-28PM.log\",\n        Name   =&gt; \"2015-05-11_08-14-28PM.log\",\n      },\n      {\n        Errors =&gt; \"ERROR: FAPSDKEX-00024 : Error in undeploying  template.Cause : Unknown.Action : refer to log file for more details.\",\n        Link   =&gt; \"configlogs/Applying_Template_Changes_2015-05-12_02-57-40AM.log\",\n        Name   =&gt; \"Applying_Template_Changes_2015-05-12_02-57-40AM.log\",\n      },\n      {\n        Errors =&gt; \"No Errors\",\n        Link   =&gt; \"configlogs/ApplyingTemplates.log\",\n        Name   =&gt; \"ApplyingTemplates.log\",\n      },\n    ],\n    patchLogName =&gt; \"2015-05-11_08-14-28PM.log\",\n    Status =&gt; \"Error\",\n  },\n  \"Configuring Keystore Service\" =&gt; {\n    LogFile =&gt; [\n      {\n        Errors =&gt; \"No Errors\",\n        Link   =&gt; \"/tmp/xpath/2015-05-11_08-14-28PM.log\",\n        Name   =&gt; \"2015-05-11_08-14-28PM.log\",\n      },\n      {\n        Errors =&gt; \"ERROR: Failed to query taxonomy attribute AllProductFamilyAndDomains.\",\n        Link   =&gt; \"configlogs/Configuring_Keystore_Service_2015-05-11_11-11-37PM.log\",\n        Name   =&gt; \"Configuring_Keystore_Service_2015-05-11_11-11-37PM.log\",\n      },\n    ],\n    patchLogName =&gt; \"2015-05-11_08-14-28PM.log\",\n    Status =&gt; \"Error\",\n  },\n}\n</code></pre>\n"}], "owner": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1431436564, "creation_date": 1431435394, "question_id": 30191569, "link": "https://stackoverflow.com/questions/30191569/reading-specific-values-in-hash-of-hashes-perl", "title": "Reading specific values in hash of hashes - Perl", "body": "<p>I have an hash of hash map as below. Please note that the hash map is very huge which contains PluginsStatus as Success or Error. When PluginsStatus for a key is Success then I need not process anything (I have handled this scenario) but if its Error I need to to display in the order  - <code>PluginsStatus</code>, <code>PluginspatchLogName</code>, <code>PluginsLogFileName_0</code>, <code>PluginsLogFileLink_0</code>, <code>PluginsLogFileErrors_0</code> and so on. </p>\n\n<p>Please note, I do not know exactly how many keys (in hash of a hash) i.e.  <code>PluginsLogFileName</code>, <code>PluginsLogFileLink</code>, <code>PluginsLogFileErrors</code> exists i.e. it is dynamic.</p>\n\n<pre><code> $VAR1 = {          'Applying Template Changes' =&gt; {\n                            'PluginsLogFileErrors_2' =&gt; 'No Errors',\n                            'PluginsStatus' =&gt; 'Error',\n                            'PluginsLogFileName_1' =&gt; 'Applying_Template_Changes_2015-05-12_02-57-40AM.log',\n                            'PluginsLogFileName_2' =&gt; 'ApplyingTemplates.log',\n                            'PluginsLogFileErrors_1' =&gt; 'ERROR: FAPSDKEX-00024 : Error in undeploying  template.Cause : Unknown.Action : refer to log file for more details.',\n                            'PluginspatchLogName' =&gt; '2015-05-11_08-14-28PM.log',\n                            'PluginsLogFileLink_0' =&gt; '/tmp/xpath/2015-05-11_08-14-28PM.log',\n                            'PluginsLogFileName_0' =&gt; '2015-05-11_08-14-28PM.log',\n                            'PluginsLogFileErrors_0' =&gt; 'No Errors',\n                            'PluginsLogFileLink_2' =&gt; 'configlogs/ApplyingTemplates.log',\n                            'PluginsLogFileLink_1' =&gt; 'configlogs/Applying_Template_Changes_2015-05-12_02-57-40AM.log'\n                           },\n                'Configuring Keystore Service' =&gt; {\n                            'PluginsStatus' =&gt; 'Error',\n                            'PluginsLogFileName_1' =&gt; 'Configuring_Keystore_Service_2015-05-11_11-11-37PM.log',\n                            'PluginsLogFileErrors_1' =&gt; 'ERROR: Failed to query taxonomy attribute AllProductFamilyAndDomains.',\n                            'PluginspatchLogName' =&gt; '2015-05-11_08-14-28PM.log',\n                            'PluginsLogFileLink_0' =&gt; '/tmp/xpath/2015-05-11_08-14-28PM.log',\n                            'PluginsLogFileName_0' =&gt; '2015-05-11_08-14-28PM.log',\n                            'PluginsLogFileErrors_0' =&gt; 'No Errors',\n                            'PluginsLogFileLink_1' =&gt; 'configlogs/Configuring_Keystore_Service_2015-05-11_11-11-37PM.log'\n                           },\n                'Applying Main Configuration' =&gt; {\n                           'PluginsStatus' =&gt; 'Error',\n                           'PluginspatchLogName' =&gt; '2015-05-11_08-14-28PM.log',\n                           'PluginsLogFileName_0' =&gt; 'Applying_Main_Configuration_2015-05-12_01-11-21AM.log',\n                           'PluginsLogFileLink_0' =&gt; '/tmp/xpath/2015-05-11_08-14-28PM.log',\n                           'PluginsLogFileErrors_0' =&gt; 'ERROR: Failed to query taxonomy attribute AllProductFamilyAndDomains.apps.ad.common.exception.ADException: Failed to query taxonomy attribute AllProductFamilyAndDomains.... 104 lines more'\n                           }\n        };\n</code></pre>\n\n<p>Below is an output snippet I am looking for:</p>\n\n<pre><code>Plugin name is = Applying Template Changes\nPluginsStatus = Error\nPluginspatchLogName = 2015-05-11_08-14-28PM.log\nPluginsLogFileName_0 = 2015-05-11_08-14-28PM.log\nPluginsLogFileLink_0 = /tmp/xpath/2015-05-11_08-14-28PM.log\nPluginsLogFileErrors_0 = No Errors\nPluginsLogFileName_1 = Applying_Template_Changes_2015-05-12_02-57-40AM.log\nPluginsLogFileLink_1 = configlogs/Applying_Template_Changes_2015-05-12_02-       57-40AM.log\nPluginsLogFileErrors_1 = ERROR: FAPSDKEX-00024 : Error in undeploying  template.Cause : Unknown.Action : refer to log file for more details.,\nPluginsLogFileName_2 = ApplyingTemplates.log\nPluginsLogFileLink_2 = configlogs/ApplyingTemplates.log\nPluginsLogFileErrors_2 = No Errors`\n</code></pre>\n\n<p>Please let me know if someone could help me here ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1431431296, "post_id": 30189941, "comment_id": 48484911, "body": "Did you specify any command line options when you ran the program?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431431681, "post_id": 30189941, "comment_id": 48485187, "body": "It&#39;s not clear what the problem is. What parameters did you pass to the script? What values do you get (<code>use Data::Dumper; print(Dumper(\\%opts));</code>? What values do you expect?"}, {"owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 1, "creation_date": 1431431788, "post_id": 30189941, "comment_id": 48485266, "body": "It may be helpful read the <code>getopts</code> documentation at <a href=\"http://perldoc.perl.org/Getopt/Std.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/Getopt/Std.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "is_accepted": false, "score": 1, "last_activity_date": 1431434993, "creation_date": 1431434993, "answer_id": 30191411, "question_id": 30189941, "link": "https://stackoverflow.com/questions/30189941/getopts-in-perl-return-null-values-as-i-think/30191411#30191411", "title": "getOpts in perl return null values , as I think", "body": "<p>Use this test program</p>\n\n<pre><code>use Getopt::Std;\n\ngetopts('e:dhm:l:w:', \\%opts);\n\nuse Data::Dumper;\n\nprint Dumper(\\%opts);\n</code></pre>\n\n<p>\"Data::Dumper\" and it's function \"Dumper()\" display data from things like hashes in a readable form</p>\n\n<p>example of what happens when you run this test program</p>\n\n<pre><code>$ perl g.pl -e asdf -dm\n$VAR1 = {\n          'e' =&gt; 'asdf',\n          'm' =&gt; undef,\n          'd' =&gt; 1\n        };\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4026721, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Abdullah Algarni", "link": "https://stackoverflow.com/users/4026721/abdullah-algarni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1431434993, "creation_date": 1431431208, "question_id": 30189941, "link": "https://stackoverflow.com/questions/30189941/getopts-in-perl-return-null-values-as-i-think", "title": "getOpts in perl return null values , as I think", "body": "<p>first of all , I have no experience with perl language \nI am working in a code that has been published from <a href=\"http://www.eecs.harvard.edu/sos/software/index.html\" rel=\"nofollow\">http://www.eecs.harvard.edu/sos/software/index.html</a>\n( at the bottom of the page there are two files , the perl file findAccessPatterns.pl and the package is nfsparse.pm</p>\n\n<p>the code has been used in 2003 for analysis an access log file.</p>\n\n<p>I am trying to run the code but this line seems to return empty values.</p>\n\n<pre><code>getopts('e:dhm:l:w:', \\%opts);\n</code></pre>\n\n<p>could please any one help me to run this code , please please</p>\n"}, {"tags": ["perl", "rhel"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1431426008, "post_id": 30187878, "comment_id": 48481128, "body": "Don&#39;t do that. Version specific stuff is for version specific stuff."}, {"owner": {"reputation": 1, "user_id": 4890820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rDjYWj3vwpo/AAAAAAAAAAI/AAAAAAAAAGY/zuWIapxkIMY/photo.jpg?sz=128", "display_name": "Manas Marwah", "link": "https://stackoverflow.com/users/4890820/manas-marwah"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431426264, "post_id": 30187878, "comment_id": 48481302, "body": "Is that means directories from previous version won&#39;t support in new version?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1431429675, "post_id": 30187878, "comment_id": 48483721, "body": "Perl installs modules in two sets of directories, the arch directory and the non-arch directory. The arch directory contain build- and version-specific installations. It&#39;s not safe to share these. (An arch directory will be of the form <code>version</code> or <code>version&#47;archname</code>, e.g. <code>5.20.1&#47;x86_64-linux-thread-multi</code>.) While it&#39;s possible to share non-arch directories, it&#39;s not really a good either because the modules in that directory might have dependencies installed in arch directories. So while I don&#39;t know what your problem is, you&#39;re doing something you shouldn&#39;t be doing anyway."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431431023, "post_id": 30187878, "comment_id": 48484720, "body": "Wait, are you trying to change the system Perl? Don&#39;t do that! Install the new Perl in a new directory using <code>-Dprefix</code>."}, {"owner": {"reputation": 1, "user_id": 4890820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rDjYWj3vwpo/AAAAAAAAAAI/AAAAAAAAAGY/zuWIapxkIMY/photo.jpg?sz=128", "display_name": "Manas Marwah", "link": "https://stackoverflow.com/users/4890820/manas-marwah"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431487381, "post_id": 30187878, "comment_id": 48515310, "body": "@ikegami: I understand the concept of arch and non-arch directories. My intention is to use custom (wrote by myself) perl modules to be used in perl 5.10.1 without changing there directory. In current installed perl 5.8.8 my modules are installed in &quot;/usr/lib/perl5/site_perl/5.8.8&quot; and after upgrading Perl to 5.10.1 the new INC variable doesn&#39;t include this path. So this is the reason behind my post. Note: There are other option available to update INC variable on runtime but I wants to do it on build time. Do you see any problem in this ?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431489652, "post_id": 30187878, "comment_id": 48515913, "body": "Typically when you upgrade Perl, you re-install all of the modules for the new version, for the reasons ikegami mentioned above. Just re-install your modules for your new Perl version."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431524466, "post_id": 30187878, "comment_id": 48537062, "body": "Re &quot;I understand the concept of arch and non-arch directories&quot;, Then you know why you shouldn&#39;t be adding Perl 5.8&#39;s arch dir (<code>&#47;usr&#47;lib&#47;perl5&#47;site_perl&#47;5.8.8</code>) to Perl 5.10&#39;s <code>@INC</code>."}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "is_accepted": false, "score": 0, "last_activity_date": 1431523169, "creation_date": 1431523169, "answer_id": 30216080, "question_id": 30187878, "link": "https://stackoverflow.com/questions/30187878/issue-regarding-perl-inc-path-upgrade-at-build-time/30216080#30216080", "title": "Issue regarding Perl @INC path upgrade at build time", "body": "<p>I prefere to have several perl installations in one directorie, not upgrade:</p>\n\n<pre><code>./Configure -des -Dprefix=/usr/local/perls/perl-5.09\n./Configure -des -Dprefix=/usr/local/perls/perl-5.10\n./Configure -des -Dprefix=/usr/local/perls/perl-5.x\n</code></pre>\n\n<p>They all have their own bin and modules directories.\nthen easy you may create a symlink for needed perl and all path will be correct.</p>\n"}], "owner": {"reputation": 1, "user_id": 4890820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rDjYWj3vwpo/AAAAAAAAAAI/AAAAAAAAAGY/zuWIapxkIMY/photo.jpg?sz=128", "display_name": "Manas Marwah", "link": "https://stackoverflow.com/users/4890820/manas-marwah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431523169, "creation_date": 1431425774, "question_id": 30187878, "link": "https://stackoverflow.com/questions/30187878/issue-regarding-perl-inc-path-upgrade-at-build-time", "title": "Issue regarding Perl @INC path upgrade at build time", "body": "<p>I am trying to migrate from Perl 5.8.8 to Perl 5.10.1. (Basically RHEL 5 to RHEL 6.6 ) \nAs per the install documentation provided by perl, at the time of configuring perl we can use \"-Dotherlibdirs\" to add additional directories in INC path variable.\nAt the time of building Perl 5.10.1, I am using this option to includes directories used in Perl 5.8.8.</p>\n\n<p>For example</p>\n\n<pre><code>Actual Perl 5.10.1 INC list:\n/usr/local/lib64/perl5\n/usr/local/share/perl5\n/usr/lib64/perl5/vendor_perl\n/usr/share/perl5/vendor_perl\n/usr/lib64/perl5\n/usr/share/perl5\n.\n\nExpected Perl 5.10.1 INC list:\n/usr/local/lib64/perl5\n/usr/local/share/perl5\n/usr/lib64/perl5/vendor_perl\n/usr/share/perl5/vendor_perl\n/usr/lib64/perl5\n/usr/share/perl5\n**/usr/lib/perl5/site_perl/5.8.8**  \n.\n</code></pre>\n\n<p>So the configuration option will be</p>\n\n<p>-Dotherlibdirs=\"/usr/lib/perl5/site_perl/5.8.8\".</p>\n\n<p>Having this option in configuration, build completes successfully but, after installing the RPM (created after build) and checking the output of \"perl -V\", added path is not visible in INC variable but \"-Dotherlibdirs=\"/usr/lib/perl5/site_perl/5.8.8\"\" is visible in the configuration part of the output.</p>\n\n<p>If anybody can help me out here !</p>\n"}, {"tags": ["regex", "perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431424768, "post_id": 30186967, "comment_id": 48480273, "body": "I&#39;m not clear what you&#39;re after. Your second example is the same &quot;way round&quot; as the first, because you&#39;re selecting a subset of the hash keys. The only difference is that it looks more concise because you&#39;ve hidden the loop in a <code>grep</code> call"}, {"owner": {"reputation": 3175, "user_id": 1839214, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9582fa8724860dc6b2a7138e4cf8fa4c?s=128&d=identicon&r=PG", "display_name": "mavili", "link": "https://stackoverflow.com/users/1839214/mavili"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431424868, "post_id": 30186967, "comment_id": 48480349, "body": "please see my edit for the second example"}], "answers": [{"comments": [{"owner": {"reputation": 3175, "user_id": 1839214, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9582fa8724860dc6b2a7138e4cf8fa4c?s=128&d=identicon&r=PG", "display_name": "mavili", "link": "https://stackoverflow.com/users/1839214/mavili"}, "edited": false, "score": 1, "creation_date": 1431424631, "post_id": 30187253, "comment_id": 48480181, "body": "I don&#39;t think map will be any faster than for or foreach. In fact, a quick Google search shows that it might even be slower!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431425249, "post_id": 30187253, "comment_id": 48480632, "body": "It is also a misuse of <code>map</code> because you are ignoring the return value. <code>map</code> is meant to translate one list to another by applying a function to each element"}, {"owner": {"reputation": 150, "user_id": 4886540, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYQYz2QVmQ0/AAAAAAAAAAI/AAAAAAAAALY/CZfH3E7FKmI/photo.jpg?sz=128", "display_name": "nobody0day", "link": "https://stackoverflow.com/users/4886540/nobody0day"}, "edited": false, "score": 0, "creation_date": 1431425821, "post_id": 30187253, "comment_id": 48480987, "body": "There is no difference between map and foreach. There internal implementation is the same. map is perl&#39;s anther way of doing the same thing."}, {"owner": {"reputation": 150, "user_id": 4886540, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYQYz2QVmQ0/AAAAAAAAAAI/AAAAAAAAALY/CZfH3E7FKmI/photo.jpg?sz=128", "display_name": "nobody0day", "link": "https://stackoverflow.com/users/4886540/nobody0day"}, "edited": false, "score": 0, "creation_date": 1431426092, "post_id": 30187253, "comment_id": 48481183, "body": "It&#39;s just a demo code snippet. It may return list of matched item."}], "tags": [], "owner": {"reputation": 150, "user_id": 4886540, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bYQYz2QVmQ0/AAAAAAAAAAI/AAAAAAAAALY/CZfH3E7FKmI/photo.jpg?sz=128", "display_name": "nobody0day", "link": "https://stackoverflow.com/users/4886540/nobody0day"}, "is_accepted": false, "score": -1, "last_activity_date": 1431424147, "creation_date": 1431424147, "answer_id": 30187253, "question_id": 30186967, "link": "https://stackoverflow.com/questions/30186967/get-perl-hash-keys-part-of-a-string-regex-without-a-loop/30187253#30187253", "title": "get Perl hash keys part of a string/regex without a loop?", "body": "<pre><code>map {print \"$_ \\n\" if $str =~ m/^$_/;} keys(%h);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1431424760, "creation_date": 1431424760, "answer_id": 30187503, "question_id": 30186967, "link": "https://stackoverflow.com/questions/30186967/get-perl-hash-keys-part-of-a-string-regex-without-a-loop/30187503#30187503", "title": "get Perl hash keys part of a string/regex without a loop?", "body": "<p>Short answer - no, not really. You can't find the substring that matches without checking each substring. A <code>for</code> or a <code>map</code> isn't gaining you <em>efficiency</em> they're looping implicitly behind the scenes anyway. </p>\n\n<p>However you <em>might</em> gain some efficiency by compiling your regular expressions in advance - see <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow\">http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators</a> - given they're static. </p>\n"}, {"comments": [{"owner": {"reputation": 3175, "user_id": 1839214, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9582fa8724860dc6b2a7138e4cf8fa4c?s=128&d=identicon&r=PG", "display_name": "mavili", "link": "https://stackoverflow.com/users/1839214/mavili"}, "edited": false, "score": 0, "creation_date": 1431427031, "post_id": 30187842, "comment_id": 48481830, "body": "the second part is good, thanks! Yes, I&#39;m only looking for a single match."}, {"owner": {"reputation": 3175, "user_id": 1839214, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9582fa8724860dc6b2a7138e4cf8fa4c?s=128&d=identicon&r=PG", "display_name": "mavili", "link": "https://stackoverflow.com/users/1839214/mavili"}, "edited": false, "score": 0, "creation_date": 1431427067, "post_id": 30187842, "comment_id": 48481857, "body": "however, can I ask why the sort?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3175, "user_id": 1839214, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9582fa8724860dc6b2a7138e4cf8fa4c?s=128&d=identicon&r=PG", "display_name": "mavili", "link": "https://stackoverflow.com/users/1839214/mavili"}, "edited": false, "score": 0, "creation_date": 1431427780, "post_id": 30187842, "comment_id": 48482387, "body": "@mavili: The sort is so that matches of longer keys are found first, so <code>abc</code> would be caught before <code>ab</code>"}, {"owner": {"reputation": 3175, "user_id": 1839214, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9582fa8724860dc6b2a7138e4cf8fa4c?s=128&d=identicon&r=PG", "display_name": "mavili", "link": "https://stackoverflow.com/users/1839214/mavili"}, "edited": false, "score": 0, "creation_date": 1431427822, "post_id": 30187842, "comment_id": 48482416, "body": "actually, the for loop is at least twice quicker than the joining of keys and matching the regex! I&#39;m surprised but timing it with only a couple of keys gives me 5.698e-05ms and 2.193e-05ms for your answer and the for loop, respectively. I wonder if the benefit would be if there was a huge number of keys?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3175, "user_id": 1839214, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9582fa8724860dc6b2a7138e4cf8fa4c?s=128&d=identicon&r=PG", "display_name": "mavili", "link": "https://stackoverflow.com/users/1839214/mavili"}, "edited": false, "score": 1, "creation_date": 1431428022, "post_id": 30187842, "comment_id": 48482558, "body": "@mavili: You should test only the regex match statement. The construction and compilation of the pattern on the preceding two lines need be done only once. And yes, you are likely to get bigger advantages with larger hashes because the regex engine constructs a trie to perform the comparison"}, {"owner": {"reputation": 3175, "user_id": 1839214, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9582fa8724860dc6b2a7138e4cf8fa4c?s=128&d=identicon&r=PG", "display_name": "mavili", "link": "https://stackoverflow.com/users/1839214/mavili"}, "edited": false, "score": 0, "creation_date": 1431428209, "post_id": 30187842, "comment_id": 48482690, "body": "yup, right I can already see the advantage with only around 20 elements."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3175, "user_id": 1839214, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9582fa8724860dc6b2a7138e4cf8fa4c?s=128&d=identicon&r=PG", "display_name": "mavili", "link": "https://stackoverflow.com/users/1839214/mavili"}, "edited": false, "score": 0, "creation_date": 1431429875, "post_id": 30187842, "comment_id": 48483873, "body": "@mavili: Good. I hope you&#39;ve noticed that I added an additional compilation phase with the statement <code>$re = qr&#47;$re&#47;</code>?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1431429810, "last_edit_date": 1431429810, "creation_date": 1431425674, "answer_id": 30187842, "question_id": 30186967, "link": "https://stackoverflow.com/questions/30186967/get-perl-hash-keys-part-of-a-string-regex-without-a-loop/30187842#30187842", "title": "get Perl hash keys part of a string/regex without a loop?", "body": "<p>Well you can hide the loop inside a call to <code>grep</code>, as in your second example</p>\n\n<pre><code>my %h = ( ab =&gt; 1, cd =&gt; 2 );\nmy $str = 'abc123';\n\nprint \"$_\\n\" for grep { $str =~ /^$_/ } keys %h;\n</code></pre>\n\n<p>but there is likely to be little or no speed advantage</p>\n\n<p>If you wanted to find only <em>one</em> of the hash keys then you could build a regex from them, like this</p>\n\n<pre><code>my $re = join '|', sort { length($b) &lt;=&gt; length($a) } keys %h;\n$re = qr/$re/;\n</code></pre>\n\n<p>and then find the first matching hash key like this</p>\n\n<pre><code>print \"$1\\n\" if $str =~ /^($re)/;\n</code></pre>\n"}], "owner": {"reputation": 3175, "user_id": 1839214, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9582fa8724860dc6b2a7138e4cf8fa4c?s=128&d=identicon&r=PG", "display_name": "mavili", "link": "https://stackoverflow.com/users/1839214/mavili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 30187842, "answer_count": 3, "score": 1, "last_activity_date": 1431429810, "creation_date": 1431423365, "last_edit_date": 1431424852, "question_id": 30186967, "link": "https://stackoverflow.com/questions/30186967/get-perl-hash-keys-part-of-a-string-regex-without-a-loop", "title": "get Perl hash keys part of a string/regex without a loop?", "body": "<p>I'm not even sure how to phrase the question in a single line, here is what I need:</p>\n\n<p>I need to get an element of a hash key that is \"subset\" of a given string. So if my hash is</p>\n\n<pre><code>%h = ( 'ab' =&gt; 1, 'cd' =&gt; 2);\n</code></pre>\n\n<p>and the string is <code>abc123</code>, I would get <code>ab</code> from the hash.</p>\n\n<p>I know I could do</p>\n\n<pre><code>$str = 'abc123';\nforeach (keys %h) {\n    print \"$_ \\n\" if $str =~ m/^$_/;\n}\n</code></pre>\n\n<p>But I'm asking if there's a more efficient way, like the way it would work if I was matching the other way around like so </p>\n\n<pre><code>%h = ('abc123' =&gt; 1, 'def456' =&gt; 2);\nprint \"$_ \\n\" for grep /^ab/, keys %h\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5185, "user_id": 3195726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/846abf9c1c56a735eadf46af3f16d98c?s=128&d=identicon&r=PG", "display_name": "Michal Gasek", "link": "https://stackoverflow.com/users/3195726/michal-gasek"}, "edited": false, "score": 2, "creation_date": 1431429362, "post_id": 30186596, "comment_id": 48483497, "body": "I believe you should improve your question and add input and expected output if you would like to get more specific answer to your question. I also suggest showing some efforts what you have done so far yourself."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 4611108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/816574786167c242d0f7b57e4f7b2cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom365", "link": "https://stackoverflow.com/users/4611108/tom365"}, "edited": false, "score": 0, "creation_date": 1431425069, "post_id": 30187108, "comment_id": 48480516, "body": "thanks for this, however, i would like the script to find the latitude and longitude values. ie. preceeds with one or two digits before the comma. how do you add this to hte search statement?"}], "tags": [], "owner": {"reputation": 5185, "user_id": 3195726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/846abf9c1c56a735eadf46af3f16d98c?s=128&d=identicon&r=PG", "display_name": "Michal Gasek", "link": "https://stackoverflow.com/users/3195726/michal-gasek"}, "is_accepted": false, "score": 0, "last_activity_date": 1431423783, "creation_date": 1431423783, "answer_id": 30187108, "question_id": 30186596, "link": "https://stackoverflow.com/questions/30186596/how-to-replace-to-in-large-text-file/30187108#30187108", "title": "how to replace , to . in large text file", "body": "<p>You don't need a \"program\" for that, you do things like this with one liners really. If you want to replace <strong>ALL</strong> <code>,</code> (commas) in file with <code>.</code> (dots) in entire file (your question doesn't go into specifics of original file format) then below does the trick:</p>\n\n<p><code>perl -pi.bak -e 's/,/\\./g;' your_file.txt</code></p>\n\n<p>It will also backup your file before running replace to <code>your_file.txt.bak</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 4882154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/977930685580655/picture?type=large", "display_name": "Gowtham Ganesh", "link": "https://stackoverflow.com/users/4882154/gowtham-ganesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1431501535, "last_edit_date": 1431501535, "creation_date": 1431428993, "answer_id": 30189096, "question_id": 30186596, "link": "https://stackoverflow.com/questions/30186596/how-to-replace-to-in-large-text-file/30189096#30189096", "title": "how to replace , to . in large text file", "body": "<p><strong>Quick and dirty way is to replace ALL commas by dots</strong> ( if that will serve your requirement)</p>\n\n<pre><code>while (&lt;$fh&gt;) {\n   $_ =~ s/,/\\./g \n}\n</code></pre>\n\n<p>However, if there are other fields which might be affected, <strong>better solution would be to replace only the desired columns</strong>. </p>\n\n<p>Assuming the two fields that you're interested are the first and second column of the tab-delimited file, ideally the two fields should be matched and then replaced with \"dot\".</p>\n\n<pre><code>while (&lt;$fh&gt;) {\n    if ($_ =~ /(\\d+,\\d+)\\|(\\d+,\\d+)\\|(.*)$/) {\n      my ($a, $b, $c) = ($1, $2, $3);\n      $a=~s/,/\\./g;\n      $b=~s/,/\\./g;\n      $_= $a.\"|\".$b.\"|\".$c;\n    }\n}\n</code></pre>\n\n<p>Here, \n$a and $b will match the \"latitude and longitude\" columns.</p>\n"}], "owner": {"reputation": 7, "user_id": 4611108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/816574786167c242d0f7b57e4f7b2cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Tom365", "link": "https://stackoverflow.com/users/4611108/tom365"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1431501535, "creation_date": 1431422253, "question_id": 30186596, "link": "https://stackoverflow.com/questions/30186596/how-to-replace-to-in-large-text-file", "title": "how to replace , to . in large text file", "body": "<p>I wish to use perl and write a program that looks for latitude and longitude values in a large tab delimited text file (100000 rows), and replaces the , used in the lat long values to a . . the file has multiple columns. </p>\n\n<p>ie. I want to change it to.</p>\n\n<p>51,2356 to 51.2356</p>\n\n<p>can someone show me how this is done?</p>\n\n<p>many thanks,</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1431419190, "creation_date": 1431419190, "answer_id": 30185525, "question_id": 30185358, "link": "https://stackoverflow.com/questions/30185358/how-to-open-a-file-from-a-perl-module/30185525#30185525", "title": "How to open a file from a perl module", "body": "<p>The trick here is to use the module <code>FindBin</code> which allows you to work 'relative to my location' in a module.</p>\n\n<p>In your <code>.pm</code> add:</p>\n\n<pre><code>use FindBin;\nmy $home_path = $FindBin::RealBin; \nmy $json_path = $home_path.\"/../conf/conf.json\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "is_accepted": false, "score": 0, "last_activity_date": 1431419199, "creation_date": 1431419199, "answer_id": 30185528, "question_id": 30185358, "link": "https://stackoverflow.com/questions/30185358/how-to-open-a-file-from-a-perl-module/30185528#30185528", "title": "How to open a file from a perl module", "body": "<p>You can use</p>\n\n<pre><code>use File::Basename;\nmy $dirname = dirname(__FILE__);\n</code></pre>\n\n<p>in order to get the path of the current script (i.e., conf.pm) and then add <code>../conf/conf.json</code> to it</p>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1431419199, "creation_date": 1431418661, "question_id": 30185358, "link": "https://stackoverflow.com/questions/30185358/how-to-open-a-file-from-a-perl-module", "title": "How to open a file from a perl module", "body": "<p>I have a module called Conf.pm and it opens a file called conf.json.\nconf.json relative path from conf.pm is \".../conf/conf.json\";</p>\n\n<p>But when I include Conf.pm in scripts that are in other folders the relative path changes and Conf.pm does not find conf.json.</p>\n\n<p>How can I open conf.json from Conf.pm.</p>\n"}, {"tags": ["regex", "xml", "perl", "parsing", "xmlreader"], "answers": [{"comments": [{"owner": {"reputation": 2443, "user_id": 2704113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7be3baa32cbde4e69f0573ad344059e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sreedhar GS", "link": "https://stackoverflow.com/users/2704113/sreedhar-gs"}, "edited": false, "score": 0, "creation_date": 1431420518, "post_id": 30185441, "comment_id": 48477096, "body": "Thanks a lot for your answer. Infact we have lot of xml files generated by the many subprojects (independent files). Finally i need to consolidate to one xml file with only one declaration and while consolidating i need to remove the declaration in each xml files that generated as part of project build."}, {"owner": {"reputation": 2443, "user_id": 2704113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7be3baa32cbde4e69f0573ad344059e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sreedhar GS", "link": "https://stackoverflow.com/users/2704113/sreedhar-gs"}, "edited": false, "score": 0, "creation_date": 1431420668, "post_id": 30185441, "comment_id": 48477189, "body": "By using XML:Twig now i have valid xml and my logic works for well-formed xml file. Now please suggest me whether i go with my logic for removing declaration or you have better way to do so?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2443, "user_id": 2704113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7be3baa32cbde4e69f0573ad344059e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sreedhar GS", "link": "https://stackoverflow.com/users/2704113/sreedhar-gs"}, "edited": false, "score": 0, "creation_date": 1431420947, "post_id": 30185441, "comment_id": 48477395, "body": "I do have a better way, yes. I shall edit with a way of merging two XML files. The trick is - <code>$twig -&gt; root</code> gives you the <code>XML</code> root element, which you can <code>cut</code> and <code>paste</code>."}, {"owner": {"reputation": 2443, "user_id": 2704113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7be3baa32cbde4e69f0573ad344059e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sreedhar GS", "link": "https://stackoverflow.com/users/2704113/sreedhar-gs"}, "edited": false, "score": 0, "creation_date": 1431421704, "post_id": 30185441, "comment_id": 48477893, "body": "Thanks a lot, it&#39;s really a great solution...:)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1431421728, "last_edit_date": 1431421728, "creation_date": 1431418897, "answer_id": 30185441, "question_id": 30185098, "link": "https://stackoverflow.com/questions/30185098/generic-solution-for-removing-xml-declararation-using-perl/30185441#30185441", "title": "Generic solution for removing xml declararation using perl", "body": "<p>OK, so the problem here is - you're trying to parse XML line based, and that DOESN'T WORK. You should avoid doing it, because it makes brittle code, which will one day break - as you've noted - thanks to perfectly valid changes to the source XML. Both your documents are semantically identical, so the fact your code handles one and not the other is an example of exactly why doing XML this way is a bad idea. </p>\n\n<p>More importantly though - why are you trying to remove the XML declaration from your XML? What are you trying to accomplish?</p>\n\n<p>Generically reformatting XML can be done like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new(\n    pretty_print  =&gt; 'indented',\n);\n$twig-&gt;parsefile('your_xml_file');\n$twig-&gt;print;\n</code></pre>\n\n<p>This will parse your XML and reformat it in <em>one</em> of the valid ways XML may be formatted. However I would strongly urge you not to just discard your XML declaration, and instead carry on with something like <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a> to process it. (Open a new question with what you're trying to accomplish, and I'll happily give you a solution that doesn't trip up with different valid formats of XML). </p>\n\n<p>When it comes to merging XML documents, <code>XML::Twig</code> can do this too - and still check and validate your XML as it goes.</p>\n\n<p>So you might do something like (extending from the above):</p>\n\n<pre><code>foreach my $file ( @file_list ) {\n  my $child = XML::Twig -&gt; new (); \n  $child -&gt; parsefile ( $xml_file );\n\n  my $child_doc = $child -&gt; root -&gt; cut;\n  $child_doc -&gt; paste ( $twig -&gt; root );\n}\n\n$twig -&gt; print;\n</code></pre>\n\n<p>Exactly what you'd need to do, depends a little on your desired output structure - you'd need 'wrap' in the root element anyway. Open a new question with some sample input and desired output, and I'll happily take a crack at it. </p>\n\n<p>As an example - if you feed the above your sample input twice, you get:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;document&gt;&lt;document&gt; This is a document root\n&lt;child&gt;----&lt;/child&gt;&lt;/document&gt; This is a document root\n&lt;child&gt;----&lt;/child&gt;&lt;/document&gt;\n</code></pre>\n\n<p>Which I know isn't likely to be what you want, but hopefully illustrates a parser based way of XML restructuring. </p>\n"}], "owner": {"reputation": 2443, "user_id": 2704113, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7be3baa32cbde4e69f0573ad344059e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sreedhar GS", "link": "https://stackoverflow.com/users/2704113/sreedhar-gs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 30185441, "answer_count": 1, "score": 0, "last_activity_date": 1431421728, "creation_date": 1431417844, "question_id": 30185098, "link": "https://stackoverflow.com/questions/30185098/generic-solution-for-removing-xml-declararation-using-perl", "title": "Generic solution for removing xml declararation using perl", "body": "<p>Hi i want remove the declaration in my xml file and problem is declaration is sometimes embed with the root element.</p>\n\n<p>XML looks as follows</p>\n\n<p>Case1:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;document&gt; This is a document root\n&lt;child&gt;----&lt;/child&gt;\n&lt;/document&gt;`\n</code></pre>\n\n<p>Case 2:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; \n&lt;document&gt; This is a document root\n&lt;child&gt;----&lt;/child&gt;\n&lt;/document&gt;`\n</code></pre>\n\n<p>Function should also work for the case when  root node is in next line.</p>\n\n<p>My function works only for case 2..</p>\n\n<pre><code>sub getXMLData {\n  my ($xml) = @_;\n  my @data = ();\n  open(FILE,\"&lt;$xml\");\n  while(&lt;FILE&gt;) {\n    chomp;\n    if(/\\&lt;\\?xml\\sversion/) {next;}\n    push(@data, $_);    \n  }\n  close(FILE);\n  return join(\"\\n\",@data);\n</code></pre>\n\n<p>}</p>\n\n<p>*** Please note that encoding is not constant always.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1431414313, "post_id": 30183937, "comment_id": 48473501, "body": "What are the <code>&lt;&gt;</code> and the extra space doing in the regex? And you&#39;ll have to escape the apostrophes."}], "answers": [{"comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 32098, "user_id": 646887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YJ0Ye.jpg?s=128&g=1", "display_name": "Klas Lindb&#228;ck", "link": "https://stackoverflow.com/users/646887/klas-lindb%c3%a4ck"}, "edited": false, "score": 0, "creation_date": 1431414951, "post_id": 30184035, "comment_id": 48473824, "body": "@Klas why you escape the <code>l</code>?"}, {"owner": {"reputation": 32098, "user_id": 646887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YJ0Ye.jpg?s=128&g=1", "display_name": "Klas Lindb&#228;ck", "link": "https://stackoverflow.com/users/646887/klas-lindb%c3%a4ck"}, "edited": false, "score": 0, "creation_date": 1431415271, "post_id": 30184035, "comment_id": 48473986, "body": "I was removing the b, didn&#39;t see the backslash. Bad edit (my fault)."}, {"owner": {"reputation": 19, "user_id": 2641435, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1361139d00a10dded97063d96f9271f2?s=128&d=identicon&r=PG", "display_name": "user2641435", "link": "https://stackoverflow.com/users/2641435/user2641435"}, "edited": false, "score": 0, "creation_date": 1431679144, "post_id": 30184035, "comment_id": 48609967, "body": "Thank you Avinash and Klas - It worked successfully !!"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1431415000, "last_edit_date": 1431415000, "creation_date": 1431414432, "answer_id": 30184035, "question_id": 30183937, "link": "https://stackoverflow.com/questions/30183937/perl-statement-to-change-a-value-in-file-not-working-fine/30184035#30184035", "title": "Perl statement to change a value in file not working fine", "body": "<p>You don't need to include <code>&lt;</code>, <code>&gt;</code> symbols.</p>\n\n<pre><code>perl -i -pe \"s/\\blabel for ='answerone'/suspense/g\" file\n</code></pre>\n\n<p>I think it would be,</p>\n\n<pre><code>perl -i -pe \"s/\\\\blabel for ='answerone'/suspense/g\" file\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>perl -i -pe 's/\\blabel for ='\"'answerone'/suspense/g\" file\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 2641435, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1361139d00a10dded97063d96f9271f2?s=128&d=identicon&r=PG", "display_name": "user2641435", "link": "https://stackoverflow.com/users/2641435/user2641435"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1431415000, "creation_date": 1431414122, "last_edit_date": 1431414207, "question_id": 30183937, "link": "https://stackoverflow.com/questions/30183937/perl-statement-to-change-a-value-in-file-not-working-fine", "title": "Perl statement to change a value in file not working fine", "body": "<p>I need to change statement 1 to statement 2 in a perl but its not working,.</p>\n\n<pre><code>statement 1 = label for ='answerone'\nstatement 2 = suspense\n</code></pre>\n\n<p>Using below statement but it do not works  :</p>\n\n<pre><code>perl -pi -e 's/&lt;label for ='answerone'&gt; /suspense/' /home/apanikar/public_html/tests/sub1/chp1/l1/q2.php\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 15, "user_id": 3894099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/87e073a118613843d1bd5463a5e7b1ae?s=128&d=identicon&r=PG&f=1", "display_name": "user142847", "link": "https://stackoverflow.com/users/3894099/user142847"}, "edited": false, "score": 0, "creation_date": 1431433554, "post_id": 30183629, "comment_id": 48486602, "body": "Is there any otherway to create a pdf file to display the report in table format. or is there is any chance of converting excel file to pdf to display the report in table format. Please help me in fixing the issue."}], "answers": [{"tags": [], "owner": {"reputation": 74, "user_id": 1023294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5APW1.jpg?s=128&g=1", "display_name": "boobie_goodness", "link": "https://stackoverflow.com/users/1023294/boobie-goodness"}, "is_accepted": false, "score": 0, "last_activity_date": 1431524966, "creation_date": 1431524966, "answer_id": 30216873, "question_id": 30183629, "link": "https://stackoverflow.com/questions/30183629/creating-a-table-in-pdf-file-using-pdfreport-and-pdfreporttable/30216873#30216873", "title": "Creating a table in pdf file using PDF::Report and PDF::Report::Table", "body": "<p>well, when I run your code I get</p>\n\n<pre><code>  commandPrompt &gt; ./makepdf.pl \n\n    Useless use of greediness modifier '?' in regex; marked by &lt;-- HERE in m/(\\S{20}? &lt;-- HERE )(?=\\S)/ at /usr/local/share/perl/5.20.2/PDF/Table.pm line 386.\n    !!! Warning: !!! Incorrect Table Geometry! Setting bottom margin to end of sheet!\n     at /usr/local/share/perl/5.20.2/PDF/Report/Table.pm line 94.\n    !!! Warning: !!! Incorrect Table Geometry! Setting bottom margin to end of sheet!\n     at /usr/local/share/perl/5.20.2/PDF/Report/Table.pm line 94.\n</code></pre>\n\n<p>I would think that</p>\n\n<blockquote>\n  <p>Setting bottom margin to end of sheet!</p>\n</blockquote>\n\n<p>and</p>\n\n<pre><code>!!! Warning: !!! Incorrect Table Geometry!\n</code></pre>\n\n<p>would have something to do with it. </p>\n"}], "owner": {"reputation": 15, "user_id": 3894099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/87e073a118613843d1bd5463a5e7b1ae?s=128&d=identicon&r=PG&f=1", "display_name": "user142847", "link": "https://stackoverflow.com/users/3894099/user142847"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431524966, "creation_date": 1431413039, "last_edit_date": 1431414637, "question_id": 30183629, "link": "https://stackoverflow.com/questions/30183629/creating-a-table-in-pdf-file-using-pdfreport-and-pdfreporttable", "title": "Creating a table in pdf file using PDF::Report and PDF::Report::Table", "body": "<p>In one of my application having a requirement to download a PDF file with report details in form of table.</p>\n\n<p>For creating a PDF file and writing a table in it, using cpan module available in perl. PDF::Report and PDF::Report::Table.</p>\n\n<p>Please find below the code sample:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse PDF::Report;\nuse PDF::Report::Table;\n\nmy $pdf   = PDF::Report-&gt;new( PageSize =&gt; 'A4', PageOrientation =&gt; 'Portrait' );\nmy $table = PDF::Report::Table-&gt;new( $pdf );\n\nmy $data = [\n['A1' , 'B1' , 'C1'],\n['A2' , 'B2' , 'C2'],\n['A3' , 'B3' , 'C3'],\n['A4' , 'B4' , 'C4'],\n['A5' , 'B5' , 'C5'],\n['A6' , 'B6' , 'C6'],\n['A7' , 'B7' , 'C7'],\n['A8' , 'B8' , 'C8'],\n['A9' , 'B9' , 'C9'],\n['A10' , 'B10' , 'C10'],\n['A11' , 'B11' , 'C11'],\n['A12' , 'B12' , 'C12'],\n['A13' , 'B13' , 'C13'],\n['A14' , 'B14' , 'C14'],\n['A15' , 'B15' , 'C15'],\n['A16' , 'B16' , 'C16'],\n['A17' , 'B17' , 'C17'],\n['A18' , 'B18' , 'C18'],\n['A19' , 'B19' , 'C19'],\n['A20' , 'B20' , 'C20'],\n['A21' , 'B21' , 'C21'],\n['A22' , 'B22' , 'C22'],\n['A23' , 'B23' , 'C23'],\n['A24' , 'B24' , 'C24'],\n['A25' , 'B25' , 'C25'],\n['A26' , 'B26' , 'C26'],\n['A27' , 'B27' , 'C27'],\n['A28' , 'B28' , 'C28'],\n['A29' , 'B29' , 'C29'],\n['A30' , 'B30' , 'C30'],\n['A31' , 'B31' , 'C31'],\n['A32' , 'B32' , 'C32'],\n['A33' , 'B33' , 'C33'],\n['A34' , 'B34' , 'C34'],\n['A35' , 'B35' , 'C35'],\n['A36' , 'B36' , 'C36'],\n['A37' , 'B37' , 'C37'],\n['A38' , 'B38' , 'C38'],\n['A39' , 'B39' , 'C39'],\n['A40' , 'B40' , 'C40'],\n['A41' , 'B41' , 'C41'],\n];\n\n$pdf-&gt;openpage;\n$pdf-&gt;setAddTextPos( 50, 50  );\n$table-&gt;addTable( $data, 400 );   # 400 is table width\n\n$pdf-&gt;saveAs( 'table.pdf' );\n</code></pre>\n\n<p>Result: pdf generated with 2 pages.\nat continuity of page missing a row data.\nNote: i'm facing issue to attach a span shot of result. </p>\n\n<p>Issues is: missing a row data. missing a row with data [A37, B37, C37].</p>\n\n<p>Please help me in fixing this issues.\nThanks in advance for all your help.</p>\n"}, {"tags": ["linux", "perl", "module"], "answers": [{"tags": [], "owner": {"reputation": 753, "user_id": 3436341, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/4ec14d5c7ed144e815ae376dd2d9c4d4?s=128&d=identicon&r=PG&f=1", "display_name": "vdudouyt", "link": "https://stackoverflow.com/users/3436341/vdudouyt"}, "is_accepted": true, "score": 2, "last_activity_date": 1431410626, "creation_date": 1431410626, "answer_id": 30182979, "question_id": 30182103, "link": "https://stackoverflow.com/questions/30182103/it-is-possible-to-load-list-perl-modules-depending-on-conditional-statements/30182979#30182979", "title": "It is possible to load list perl modules depending on conditional statements?", "body": "<p>You're free to use 'require' which is only evaluated when the control reaches it in runtime - unlike for 'use's which are getting extracted in BEGIN { }.</p>\n"}], "owner": {"reputation": 142, "user_id": 2155231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NpIdz.png?s=128&g=1", "display_name": "Demonic_Dog", "link": "https://stackoverflow.com/users/2155231/demonic-dog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "closed_date": 1431433234, "accepted_answer_id": 30182979, "answer_count": 1, "score": 1, "last_activity_date": 1431418827, "creation_date": 1431406626, "last_edit_date": 1431418827, "question_id": 30182103, "link": "https://stackoverflow.com/questions/30182103/it-is-possible-to-load-list-perl-modules-depending-on-conditional-statements", "closed_reason": "Duplicate", "title": "It is possible to load list perl modules depending on conditional statements?", "body": "<p>(Correct me if I ask the question in the wrong way).</p>\n\n<p>I am making a standard/generic way to simplify all the scripts/app I am making in linux using perl.</p>\n\n<p>I already found the solution to make standard sub routines and calling them from a file that does most of the standard jobs I want to have (variable declarations/checkers/etc).</p>\n\n<p>Now the last problem I have now is how to call different set of modules(tk, dbi, etc..) which I only need by calling them from a file. Not just that. I made flags which will activate contents from my standard/generic sub routines, now I also want that conditions to be applied when activating only list of modules based on that flag.</p>\n\n<p>Meaning based on the flag that I declared, only those list of modules that needs to be activated will be activated.</p>\n\n<p>How to do that? :)</p>\n\n<hr>\n\n<p>Additional details.</p>\n\n<p>Not modules made using .pm, but Perl modules like:</p>\n\n<pre class=\"lang-pl prettyprint-override\"><code>use Net::Domain qw(hostname hostfqdn hostdomain);\nuse Time::Local;\nuse Time::Piece;\nuse Switch;\nuse Exporter;\n#use strict;\n\nuse File::Basename;\nuse Data::Dumper qw(Dumper);\n\nuse Time::Local;                                      \nuse Time::Piece;\nuse Time::Seconds();                                     \n\nuse Tk;\nuse Tk::BrowseEntry;\nuse Tk::Balloon;                                 \nuse Tk::widgets qw(Checkbutton BrowseEntry);          \nuse Tk::NoteBook;                                     \nuse Tk::Pane;   \nuse Tk::Photo;      \n</code></pre>\n"}, {"tags": ["perl", "text", "hash", "merge", "key"], "answers": [{"tags": [], "owner": {"reputation": 1119, "user_id": 145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a99c5026c0ac0c48f3e89d91f9b1ff?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/145511/glenn"}, "is_accepted": false, "score": 1, "last_activity_date": 1431406613, "creation_date": 1431406613, "answer_id": 30182099, "question_id": 30181695, "link": "https://stackoverflow.com/questions/30181695/perl-merging-columns-in-two-text-files/30182099#30182099", "title": "Perl merging columns in two text files", "body": "<p>One problem is with scoping.  In your first loop, you have a <code>my</code> in front of <code>$column1</code> which makes it local to the loop and will not be in scope when you next the loop.  So the <code>%columns1</code> (which is outside of the loop) does not have any values set (which is what I suspect you want to set).  For the assignment, it would seem to be easier to have <code>$columns1{$recorded} = $original;</code> which assigns the value to the key for the hash.</p>\n\n<p>In the second loop you need to declare <code>%columns2</code> outside of the loop and possibly use the above assignment.  </p>\n\n<p>For the third loop, in the print you just need add <code>$columns2{$_}</code> in front part of the string to be printed to get the original ID to be printed before the recorded ID.  </p>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 4882154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/977930685580655/picture?type=large", "display_name": "Gowtham Ganesh", "link": "https://stackoverflow.com/users/4882154/gowtham-ganesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1431415683, "creation_date": 1431415683, "answer_id": 30184417, "question_id": 30181695, "link": "https://stackoverflow.com/questions/30181695/perl-merging-columns-in-two-text-files/30184417#30184417", "title": "Perl merging columns in two text files", "body": "<ul>\n<li><strong>Scope:</strong></li>\n</ul>\n\n<p>The problem is with scope of the hash variables you have defined. The <strong>scope of the variable is limited to the loop inside which the variable has been defined</strong>.</p>\n\n<p>In your code, since %columns1 and %columns2 are used outside the while loops. Hence, they should be defined outside the loops.</p>\n\n<ul>\n<li><strong>Compilation error : braces not closed properly</strong></li>\n</ul>\n\n<p>Also, in the \"if exists\" part, the open-and-closed braces symmetry is affected.</p>\n\n<p>Here is your code with the required corrections made:   </p>\n\n<pre><code>use warnings;\nuse strict;\nuse diagnostics;\nuse vars qw( @fields1 $recoded $original $IDF @fields2);\nmy (%columns1, %columns2);\n\nopen (FILE1, \"&lt;file1.txt\") || die \"$!\\n Couldn't open CFC_recoded.txt\\n\";\nwhile ($_ = &lt;FILE1&gt;)\n{\n    chomp;\n    @fields1=split /\\s+/, $_;\n\n    my $recoded = $fields1[0];\n    my $original = $fields1[3];\n    %columns1 = (\n    $recoded =&gt; $original\n    );\n}\n\nopen (FILE2, \"&lt;file2.txt\") || die \"$!\\n Couldnt open CFC_F.xlsx \\n\";\nfor ($_ = &lt;FILE2&gt;)\n{\n    chomp;\n    @fields2=split /\\s+/, $_;\n    my $IDF= $fields2[0];\n    my $F=$fields2[1];\n    %columns2 = (\n    $F =&gt; $IDF\n    );\n}\n\nclose FILE1;\nclose FILE2;\n\n\nopen (FILE3, \"&gt;output.txt\") ||die \"output problem\\n\";\n\n    for (keys %columns1) {\n        print FILE3 \"$_ $columns1{$_} \\n\" if exists $columns2{$_};\n\n    }\n\nclose FILE3;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4889783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32c48974bc7b7bbd08371b587f57d7c?s=128&d=identicon&r=PG&f=1", "display_name": "e2121", "link": "https://stackoverflow.com/users/4889783/e2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1431418955, "creation_date": 1431404184, "last_edit_date": 1431418955, "question_id": 30181695, "link": "https://stackoverflow.com/questions/30181695/perl-merging-columns-in-two-text-files", "title": "Perl merging columns in two text files", "body": "<p>I am a beginner with Perl and I want to merge the content of two text files.\nI have read some similar questions and answers on this forum, but I still cannot resolve my issues\nThe first file has the original ID and the recoded ID of each individual (in the first and fourth columns)\nThe second file has the recoded ID and some information on some of the individuals (in the first and second columns).\nI want to create an output file with the original, recoded and information of these individuals. \nThis is the perl script I have created so far, which is not working.\nIf anyone could help it would be very much appreciated. </p>\n\n<pre><code>use warnings;\nuse strict;\nuse diagnostics;\nuse vars qw( @fields1 $recoded $original $IDF @fields2); \nmy %columns1;\n\nopen (FILE1, \"&lt;file1.txt\") || die \"$!\\n Couldn't open file1.txt\\n\";\nwhile ($_ = &lt;FILE1&gt;)\n{\n    chomp;\n    @fields1=split /\\s+/, $_;\n\n    my $recoded = $fields1[0];\n    my $original = $fields1[3];\n    my %columns1 = (\n    $recoded =&gt; $original\n    );\n};\n\nopen (FILE2, \"&lt;file2.txt\") || die \"$!\\n Couldnt open file2.txt \\n\";\nfor ($_ = &lt;FILE2&gt;)\n{\n    chomp;\n    @fields2=split /\\s+/, $_;\n    my $IDF= $fields2[0];\n    my $F=$fields2[1];\n    my %columns2 = (\n    $F =&gt; $IDF\n    );  \n};\n\nclose FILE1;\nclose FILE2;\n\n\nopen (FILE3, \"&gt;output.txt\") ||die \"output problem\\n\";\n\n    for (keys %columns1) {\n        if (exists ($columns2{$_}){\n        print FILE3 \"$_     $columns1{$_}\\n\" \n        };\n    }\n\nclose FILE3;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "edited": false, "score": 0, "creation_date": 1431396588, "post_id": 30180555, "comment_id": 48467049, "body": "I&#39;m sure there is a question in here somewhere, just having trouble seeing what it is?"}, {"owner": {"reputation": 1, "user_id": 4889510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a51d5747008f717100b22860f163e0?s=128&d=identicon&r=PG&f=1", "display_name": "Tirumalesh", "link": "https://stackoverflow.com/users/4889510/tirumalesh"}, "reply_to_user": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "edited": false, "score": 0, "creation_date": 1431396792, "post_id": 30180555, "comment_id": 48467108, "body": "unable to retrieve the content of the page. Is there a way we can get it without using user agent"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4889510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a51d5747008f717100b22860f163e0?s=128&d=identicon&r=PG&f=1", "display_name": "Tirumalesh", "link": "https://stackoverflow.com/users/4889510/tirumalesh"}, "edited": false, "score": 0, "creation_date": 1431408757, "post_id": 30180721, "comment_id": 48470718, "body": "It worked for me if an user agent is mentioned in my script  <code>$url = LWP::UserAgent-&gt;new; $url-&gt;timeout(300); $url-&gt;agent(&#39;Mozilla&#47;5.0 (Windows NT 6.1; WOW64; rv:37.0) Gecko&#47;20100101 Firefox&#47;37.0&#39;);</code>  I want to know how can we do this using LWP::Simple"}, {"owner": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "reply_to_user": {"reputation": 1, "user_id": 4889510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a51d5747008f717100b22860f163e0?s=128&d=identicon&r=PG&f=1", "display_name": "Tirumalesh", "link": "https://stackoverflow.com/users/4889510/tirumalesh"}, "edited": false, "score": 0, "creation_date": 1431409898, "post_id": 30180721, "comment_id": 48471145, "body": "The page you are requesting returns a 403 error.  LWP::Simple only returns content if the page load is successful, a return code between 200 and 299."}, {"owner": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "reply_to_user": {"reputation": 1, "user_id": 4889510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a51d5747008f717100b22860f163e0?s=128&d=identicon&r=PG&f=1", "display_name": "Tirumalesh", "link": "https://stackoverflow.com/users/4889510/tirumalesh"}, "edited": false, "score": 0, "creation_date": 1431417256, "post_id": 30180721, "comment_id": 48475053, "body": "I have updated the answer again as LWP::Simple makes the internally used LWP::UserAgent instance available as an optionally included variable."}], "tags": [], "owner": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "is_accepted": false, "score": 3, "last_activity_date": 1431417110, "last_edit_date": 1431417110, "creation_date": 1431397584, "answer_id": 30180721, "question_id": 30180555, "link": "https://stackoverflow.com/questions/30180555/unable-to-get-the-web-content-using-lwpsimple-but-able-to-get-content-from-lwp/30180721#30180721", "title": "Unable to get the web content using LWP::Simple but able to get content from LWP::UserAgent", "body": "<p>When I try to access <code>http://www.viki.com</code> using <code>LWP::UserAgent</code> I get the following response:</p>\n\n<pre><code>&lt;html&gt;&lt;body&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;\nRequest forbidden by administrative rules.\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>The <code>get</code> subroutine in <code>LWP::Simple</code> is implemented as follows (at least in version 6.13).</p>\n\n<pre><code>sub get ($)\n{\n    my $response = $ua-&gt;get(shift);\n    return $response-&gt;decoded_content if $response-&gt;is_success;\n    return undef;\n}\n</code></pre>\n\n<p>As you can see, the <code>get</code> method will only return the content if the response is a success, otherwise it will return <code>undef</code>.  </p>\n\n<p>The response from <code>LWP::UserAgent</code> is a 403 error, in other words not a success.  Therefore, <code>LWP::Simple</code> will return <code>undef</code> for the same URL.</p>\n\n<p>It appears that the website (<code>http://www.viki.com</code>) is checking the user agent string and only returning content to \"valid\" user agents.  <code>LWP::Simple</code> is hard-coded to use <code>LWP::Simple/$VERSION</code> as the user agent.</p>\n\n<p>If you really must use <code>LWP::Simple</code> then you could force the user agent like this:</p>\n\n<pre><code>use LWP::Simple qw/ get $ua /;\n\n$ua-&gt;agent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:37.0) Gecko/20100101 Firefox/37.0');\n\nprint get('http://www.viki.com');\n</code></pre>\n\n<p><code>LWP::Simple</code> exposes the <code>LWP::UserAgent</code> instance that it uses internally as the optionally included <code>$ua</code> variable.  It is still necessary to configure the user agent on this instance to get this particular page to load.</p>\n"}], "owner": {"reputation": 1, "user_id": 4889510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a51d5747008f717100b22860f163e0?s=128&d=identicon&r=PG&f=1", "display_name": "Tirumalesh", "link": "https://stackoverflow.com/users/4889510/tirumalesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431417110, "creation_date": 1431396404, "last_edit_date": 1431398284, "question_id": 30180555, "link": "https://stackoverflow.com/questions/30180555/unable-to-get-the-web-content-using-lwpsimple-but-able-to-get-content-from-lwp", "title": "Unable to get the web content using LWP::Simple but able to get content from LWP::UserAgent", "body": "<p>I am trying to run below code to parse the contents of html page for the below URL</p>\n\n<pre><code>#!/usr/bin/perl\nuse LWP::Simple;\nuse HTML::TreeBuilder;\n$response = get(\"http://www.viki.com/\");\nprint $response;\n</code></pre>\n\n<p>Nothing gets printed. This is working if emulated from a browser.</p>\n"}, {"tags": ["perl", "caching", "server", "internal-server-error"], "answers": [{"comments": [{"owner": {"reputation": 821, "user_id": 1231599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f179f8c729e804a302dab09abc4c4e21?s=128&d=identicon&r=PG", "display_name": "Fenwick", "link": "https://stackoverflow.com/users/1231599/fenwick"}, "edited": false, "score": 0, "creation_date": 1431410190, "post_id": 30182571, "comment_id": 48471282, "body": "I think the nasty caching habit is the case. The guy who previously worked on this did not have <code>use CGI</code> in the code, but it stilled worked. When I added something else which was definitely bug-free, the code broke. I figured I should <code>use CGI</code>, and it worked again. Then I removed CGI to see if this is the issue, but the code still worked until I deleted everything and reupload the initial code. So missing the CGI is the problem. That was a very strange caching behavior."}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": true, "score": 1, "last_activity_date": 1431409021, "creation_date": 1431409021, "answer_id": 30182571, "question_id": 30180531, "link": "https://stackoverflow.com/questions/30180531/internal-server-error-after-editing-but-reuploading-the-originals-does-not-fix/30182571#30182571", "title": "Internal server error after editing, but reuploading the originals does not fix", "body": "<p>Are you using mod perl? It has a nasty habit of caching broken code, restart the server to flush this out. Alternatively try renaming the script for testing purposes.</p>\n\n<p>Are you using apache? Server scrip errors will generally be logged to /var/log/httpd/error_log - ask the admin for this if you wont have access. Or get them to log error_log for your site to somewhere you can see/view.</p>\n\n<p>Additional techniques you may be able to use</p>\n\n<p>If not already, <code>use warnings; use diagnostics; use CGI::Carp qw(fatalsToBrowser);</code></p>\n\n<p>Run from another page as a command line script, this is a hack to get an error message out from a closed environment.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse CGI;\n\nmy $cgi = CGI-&gt;new();\nprint $cgi-&gt;header();\nprint `myscript.cgi 'param1=hello&amp;param2=world'`;\n</code></pre>\n\n<p>Check system settings and version against your environment</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nprint \"Content-type: text/html\\n\\n\";\nprint \"&lt;pre&gt;\\n\";\n\nforeach $key (sort keys(%ENV)) {\n  print \"$key = $ENV{$key}&lt;p&gt;\";\n}\nprint \"&lt;/pre&gt;\\n\";\n</code></pre>\n\n<p>Outside of that you really need to get higher level access to the system, or reproduce the enviromnent in a vm you contirol.</p>\n"}], "owner": {"reputation": 821, "user_id": 1231599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f179f8c729e804a302dab09abc4c4e21?s=128&d=identicon&r=PG", "display_name": "Fenwick", "link": "https://stackoverflow.com/users/1231599/fenwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 30182571, "answer_count": 1, "score": 0, "last_activity_date": 1431409021, "creation_date": 1431396266, "question_id": 30180531, "link": "https://stackoverflow.com/questions/30180531/internal-server-error-after-editing-but-reuploading-the-originals-does-not-fix", "title": "Internal server error after editing, but reuploading the originals does not fix", "body": "<p>I'm helping someone remotely with a website. The major issue is that I cannot get hands on to debug the actual site. I made sure the code is bug free on my end, but bug is inevitable.</p>\n\n<p>So currently the site is experiencing internal server error after updating some server script(in Perl). We reuploaded the originals and made sure the originals work, but the error persists.</p>\n\n<p>I have never seen any situation like this. What else could be the issue here? Is there any sort of server cache?</p>\n"}, {"tags": ["perl", "session", "cgi"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431388816, "post_id": 30179078, "comment_id": 48464924, "body": "Which session storage driver are you using?"}], "answers": [{"comments": [{"owner": {"reputation": 406, "user_id": 1879794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hOga3.jpg?s=128&g=1", "display_name": "MrCleanX", "link": "https://stackoverflow.com/users/1879794/mrcleanx"}, "edited": false, "score": 0, "creation_date": 1431464919, "post_id": 30186488, "comment_id": 48508435, "body": "Yep! userid was not being passed from the &quot;Home&quot; script. The &quot;if...&quot; needed a new session created. Thanks @optional."}], "tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": true, "score": 1, "last_activity_date": 1431421978, "creation_date": 1431421978, "answer_id": 30186488, "question_id": 30179078, "link": "https://stackoverflow.com/questions/30179078/perl-cgisession-migrating-user-sessions-to-new-server-without-them-knowing/30186488#30186488", "title": "Perl CGI::Session - Migrating user sessions to new server, without them knowing it", "body": "<blockquote>\n  <p>Here is the code I put in the \"Home\" script on the current server..</p>\n</blockquote>\n\n<p>That part doesn't seem to transmit userid, it also doesn't use <a href=\"https://metacpan.org/pod/CGI#Obtaining-the-scripts-url\" rel=\"nofollow\">url</a><code>(qw/ -full 1 -rewrite 1 /)</code> to retrieve the url value for back=</p>\n\n<p>You also might want to <a href=\"https://metacpan.org/pod/Crypt::CBC\" rel=\"nofollow\">Crypt::CBC</a> userid (and even back) using rjindel like <a href=\"https://metacpan.org/pod/Session::Storage::Secure\" rel=\"nofollow\">Session::Storage::Secure</a> does for cookies (UTSL)</p>\n\n<blockquote>\n  <p>And here is the code in a script on the new server... No cookie. No session file. Nothing.</p>\n</blockquote>\n\n<p>The way I read your program, it should have at least throw an error because <a href=\"https://metacpan.org/pod/CGI::Session#load\" rel=\"nofollow\">load</a> won't create a session, its called load() its not called new. <a href=\"https://metacpan.org/pod/CGI::Session#new\" rel=\"nofollow\">new</a> will create a session.</p>\n"}], "owner": {"reputation": 406, "user_id": 1879794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hOga3.jpg?s=128&g=1", "display_name": "MrCleanX", "link": "https://stackoverflow.com/users/1879794/mrcleanx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 30186488, "answer_count": 1, "score": 1, "last_activity_date": 1431421978, "creation_date": 1431385671, "question_id": 30179078, "link": "https://stackoverflow.com/questions/30179078/perl-cgisession-migrating-user-sessions-to-new-server-without-them-knowing", "title": "Perl CGI::Session - Migrating user sessions to new server, without them knowing it", "body": "<p>I need to move our perl apps to a new server, but I don't want everyone to have to re-authenticate when the move is made. I'd like to have our \"Home\" script redirect over to the new server, pre-plant a cookie, with a corresponding session file in /tmp, for each user before I make the DNS change.</p>\n\n<p>Thought it would be simple but it's turning out not to be. That or I'm just missing something right in front of my face.</p>\n\n<p>Here is the code I put in the \"Home\" script on the current server..</p>\n\n<pre><code>my $has_session = $cgi-&gt;param(\"session\") || \"\";\nif ($has_session eq \"\") {\n    my $url = \"http://111.222.333.444/cgi-bin/SetNewSession.cgi?back=http://\" . \"$ENV{SERVER_NAME}\" .\"$ENV{SCRIPT_NAME}\";\n    print \"Location: $url\\n\\n\";\n}\n</code></pre>\n\n<p>And here is the code in a script on the new server...</p>\n\n<pre><code>use strict;\nuse warnings;\nuse CGI;\nuse CGI::Session;\nuse CGI::Carp qw/fatalsToBrowser warningsToBrowser/;\n\nmy $cgi = new CGI;\n\nmy $userid = $cgi-&gt;param(\"userid\");\nmy $redir_back = $cgi-&gt;param(\"back\");\nmy $session = CGI::Session-&gt;load() or die $!;\nmy $session_userid = $session-&gt;param(\"userid\");\n\nif (! defined $session_userid) {\n\n    $session-&gt;expire(\"9y\");\n    $session-&gt;param(\"userid\",$userid);\n    $session-&gt;flush();\n}\n\nmy $url = $redir_back . \"?session=1\";\nprint $session-&gt;header(-location=&gt;$url);\nexit;\n</code></pre>\n\n<p>No cookie. No session file. Nothing.</p>\n\n<p>P.S. Please, no flak for the 9y expiration. Management is \"above\" having to login. :)</p>\n"}, {"tags": ["perl", "time"], "comments": [{"owner": {"reputation": 64716, "user_id": 157957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBRE7.jpg?s=128&g=1", "display_name": "IMSoP", "link": "https://stackoverflow.com/users/157957/imsop"}, "edited": false, "score": 3, "creation_date": 1431384313, "post_id": 30178795, "comment_id": 48463639, "body": "Try thinking of your problem in reverse: if the current time, expressed in 24-hour format, is after 06:00 and before 21:00, then the condition is false. So you need only one piece of information: the current hour, in 24-hour format."}, {"owner": {"reputation": 1144, "user_id": 1266457, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b70473b4e9b5264dc12c675db1adef64?s=128&d=identicon&r=PG", "display_name": "ash", "link": "https://stackoverflow.com/users/1266457/ash"}, "reply_to_user": {"reputation": 64716, "user_id": 157957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBRE7.jpg?s=128&g=1", "display_name": "IMSoP", "link": "https://stackoverflow.com/users/157957/imsop"}, "edited": false, "score": 0, "creation_date": 1431384596, "post_id": 30178795, "comment_id": 48463741, "body": "@IMSoP of course - that makes a lot more sense. Thank you IMSoP."}], "answers": [{"comments": [{"owner": {"reputation": 1144, "user_id": 1266457, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b70473b4e9b5264dc12c675db1adef64?s=128&d=identicon&r=PG", "display_name": "ash", "link": "https://stackoverflow.com/users/1266457/ash"}, "edited": false, "score": 0, "creation_date": 1431385368, "post_id": 30178971, "comment_id": 48463974, "body": "Thanks @Borodin - much better than what I had planned with epoch... (you know you&#39;ve been looking at the code too long when you are overcomplicating it!) Thank you again. +1"}, {"owner": {"reputation": 126, "user_id": 4524846, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NNW-Wr7lEdU/AAAAAAAAAAI/AAAAAAAAAAA/SPweKYLoyrY/photo.jpg?sz=128", "display_name": "Scott Pritchett", "link": "https://stackoverflow.com/users/4524846/scott-pritchett"}, "edited": false, "score": 0, "creation_date": 1520431796, "post_id": 30178971, "comment_id": 85312266, "body": "What if the current hour is say 14 and the range is 9 till 13?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1431385062, "creation_date": 1431385062, "answer_id": 30178971, "question_id": 30178795, "link": "https://stackoverflow.com/questions/30178795/perl-check-if-the-current-time-between-9pm-and-6am/30178971#30178971", "title": "Perl - Check if the current time between 9PM and 6AM", "body": "<p>This is all that is necessary</p>\n\n<pre><code>my $hour = (localtime)[2];\nif ( $hour &gt;= 21 or $hour &lt; 6 ) { ... }\n</code></pre>\n"}], "owner": {"reputation": 1144, "user_id": 1266457, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b70473b4e9b5264dc12c675db1adef64?s=128&d=identicon&r=PG", "display_name": "ash", "link": "https://stackoverflow.com/users/1266457/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2155, "favorite_count": 1, "accepted_answer_id": 30178971, "answer_count": 1, "score": 0, "last_activity_date": 1520433879, "creation_date": 1431383946, "last_edit_date": 1431384375, "question_id": 30178795, "link": "https://stackoverflow.com/questions/30178795/perl-check-if-the-current-time-between-9pm-and-6am", "title": "Perl - Check if the current time between 9PM and 6AM", "body": "<p>I'm looking for the best way to determine whether the current time is between 9PM and 6AM, and perform the relevant action, depending on the boolean.</p>\n\n<p>I'm not entirely sure on the best way of doing this though... I'm thinking I could maybe use epoch time (Time::Local) to get the time as it was at 9PM last night, and the time that it will be at 6AM the following day - but is this the best way of doing it or is there a better way?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "perl", "environment-variables"], "answers": [{"comments": [{"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1431384347, "post_id": 30178599, "comment_id": 48463649, "body": "This answer does not address the key &quot;local scope&quot; part of the question."}, {"owner": {"reputation": 5086, "user_id": 781864, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d52395e895c20f5150917f60c5dad044?s=128&d=identicon&r=PG", "display_name": "Amir", "link": "https://stackoverflow.com/users/781864/amir"}, "edited": false, "score": 0, "creation_date": 1431384921, "post_id": 30178599, "comment_id": 48463837, "body": "I know about os.environ. The question is how I can change it in local scope."}], "tags": [], "owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "is_accepted": false, "score": -2, "last_activity_date": 1431382942, "creation_date": 1431382942, "answer_id": 30178599, "question_id": 30178225, "link": "https://stackoverflow.com/questions/30178225/python-override-environment-variable-in-local-scope/30178599#30178599", "title": "python override environment variable in local scope", "body": "<p>The current environment is available as a mapping through the os module of the standard library.  You can set items in this mapping (dictionary) at the beginning of your program.</p>\n\n<p>From the os module docs:</p>\n\n<p>os.environ</p>\n\n<p>A mapping object representing the string environment. For example, environ['HOME'] is the pathname of your home directory (on some platforms), and is equivalent to getenv(\"HOME\") in C.</p>\n"}, {"comments": [{"owner": {"reputation": 5086, "user_id": 781864, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d52395e895c20f5150917f60c5dad044?s=128&d=identicon&r=PG", "display_name": "Amir", "link": "https://stackoverflow.com/users/781864/amir"}, "edited": false, "score": 0, "creation_date": 1431384870, "post_id": 30178749, "comment_id": 48463820, "body": "So can I do that without having a new class?"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "reply_to_user": {"reputation": 5086, "user_id": 781864, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d52395e895c20f5150917f60c5dad044?s=128&d=identicon&r=PG", "display_name": "Amir", "link": "https://stackoverflow.com/users/781864/amir"}, "edited": false, "score": 0, "creation_date": 1431386493, "post_id": 30178749, "comment_id": 48464270, "body": "Of course you can, by manually doing what you suggested: save the current path, alter it, restore it. The <code>with</code> statement is a clean pythonic way of achieving the same thing, with a number of benefits. Mine is one solution, maybe not the only one."}], "tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": true, "score": 1, "last_activity_date": 1431384073, "last_edit_date": 1431384073, "creation_date": 1431383722, "answer_id": 30178749, "question_id": 30178225, "link": "https://stackoverflow.com/questions/30178225/python-override-environment-variable-in-local-scope/30178749#30178749", "title": "python override environment variable in local scope", "body": "<p>using python's <code>with</code> statement:</p>\n\n<pre><code>from sys import argv\nimport os\n\nclass MyPath(object):\n    def __init__(self, newpath):\n        self.newpath = newpath\n\n    def __enter__(self):\n        self.path = os.environ['PATH']\n        os.environ['PATH'] = self.newpath\n        return self.newpath\n\n    def __exit__(self, type, value, traceback):\n        os.environ['PATH'] = self.path\n\nif __name__ == \"__main__\":\n    if len(argv) &lt; 2:\n        print \"usage: %s path\" % (argv[0],)\n        exit(1)\n    print os.environ['PATH']\n\n    with MyPath(argv[1]) as newpath:\n        print newpath\n        print os.environ['PATH']\n\n    print os.environ['PATH']\n</code></pre>\n\n<p><code>python path.py whatever</code></p>\n\n<p>produces:</p>\n\n<p><code>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games\nwhatever\nwhatever\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games</code></p>\n"}], "owner": {"reputation": 5086, "user_id": 781864, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d52395e895c20f5150917f60c5dad044?s=128&d=identicon&r=PG", "display_name": "Amir", "link": "https://stackoverflow.com/users/781864/amir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 735, "favorite_count": 0, "accepted_answer_id": 30178749, "answer_count": 2, "score": 0, "last_activity_date": 1431384073, "creation_date": 1431380998, "last_edit_date": 1431382082, "question_id": 30178225, "link": "https://stackoverflow.com/questions/30178225/python-override-environment-variable-in-local-scope", "title": "python override environment variable in local scope", "body": "<p>How can I override the environment variable in a local scope? I know how to do it in perl, but not python.</p>\n\n<p>In perl:</p>\n\n<pre><code>if (1)\n{\n    local $ENV{PATH} = \"/usr/bin:/bin:/usr/sbin:/sbin\";\n    print \"$ENV{PATH}\\n\";\n}\nprint \"$ENV{PATH}\\n\";\n</code></pre>\n\n<p>the output would be:</p>\n\n<pre><code>/usr/bin:/bin:/usr/sbin:/sbin\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin\n</code></pre>\n\n<p>Any idea how to do the same in python?</p>\n\n<p>Well, one way to do that is to save the environment variable before the scope starts and retrieve it when it ends. But I wonder if there is a nicer way to do that.</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "edited": false, "score": 1, "creation_date": 1431373505, "post_id": 30176319, "comment_id": 48458671, "body": "You may be interested in <a href=\"http://search.cpan.org/dist/XML-Twig/tools/xml_split/xml_split\" rel=\"nofollow noreferrer\">search.cpan.org/dist/XML-Twig/tools/xml_split/xml_split</a>"}, {"owner": {"reputation": 2479, "user_id": 3178426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/786493b0364f7e8106e9695cdad88f9d?s=128&d=identicon&r=PG&f=1", "display_name": "zzevannn", "link": "https://stackoverflow.com/users/3178426/zzevannn"}, "edited": false, "score": 0, "creation_date": 1431374064, "post_id": 30176319, "comment_id": 48458967, "body": "This may also be interesting to you as far as a starting point goes: <a href=\"http://stackoverflow.com/questions/17988756/how-to-select-lines-between-two-marker-patterns-which-may-occur-multiple-times-w\" title=\"how to select lines between two marker patterns which may occur multiple times w\">stackoverflow.com/questions/17988756/&hellip;</a>  - you&#39;ll have to add some variables for which file to print to but shouldn&#39;t be too much modification."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431375417, "post_id": 30176319, "comment_id": 48459670, "body": "Is that really what you have, or do you have an XML file like you claim?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431377447, "post_id": 30176319, "comment_id": 48460718, "body": "Following on from previous question - <a href=\"http://stackoverflow.com/questions/30171183/read-xml-file-in-perl\" title=\"read xml file in perl\">stackoverflow.com/questions/30171183/read-xml-file-in-perl</a> - it&#39;s probably a real XML file."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431389479, "post_id": 30176319, "comment_id": 48465093, "body": "The data you show isn&#39;t a well-formed XML document because it has multiple <code>&lt;installer&gt;</code> elements at the root level. A valid XML document may have only one root element. Is this really what your data looks like?"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1431377772, "post_id": 30176618, "comment_id": 48460894, "body": "I would disagree - I think line based parsing of XML isn&#39;t good news."}, {"owner": {"reputation": 235, "user_id": 2612611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hr3Hz.gif?s=128&g=1", "display_name": "Registered User", "link": "https://stackoverflow.com/users/2612611/registered-user"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431380367, "post_id": 30176618, "comment_id": 48462187, "body": "Hi Sobrique, Unless the OP can provide more data, it worked in my test case, but you have a valid point."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1431418284, "post_id": 30176618, "comment_id": 48475655, "body": "Granted. I shan&#39;t downvote a working solution, but I remain very twitchy every time there&#39;s a line/regex based XML parser :)"}], "tags": [], "owner": {"reputation": 235, "user_id": 2612611, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hr3Hz.gif?s=128&g=1", "display_name": "Registered User", "link": "https://stackoverflow.com/users/2612611/registered-user"}, "is_accepted": false, "score": 0, "last_activity_date": 1431375977, "last_edit_date": 1431375977, "creation_date": 1431374486, "answer_id": 30176618, "question_id": 30176319, "link": "https://stackoverflow.com/questions/30176319/split-an-xml-file-into-2-halves-in-perl/30176618#30176618", "title": "Split an xml file into 2 halves in perl", "body": "<p>Unix-like systems come with split. I'd recommend trying that.</p>\n\n<pre><code>% cat test.xml\n&lt;installer&gt;\n&lt;Plugins&gt;\n.\n.\n.\n&lt;/Plugins&gt;\n&lt;/installer&gt;\n&lt;installer&gt;\n&lt;Plugins&gt;\n.\n.\n.\n&lt;/Plugins&gt;\n&lt;/installer&gt;\n</code></pre>\n\n<p>split -l 7 test.xml test</p>\n\n<pre><code>% cat testaa\n&lt;installer&gt;\n&lt;Plugins&gt;\n.\n.\n.\n&lt;/Plugins&gt;\n&lt;/installer&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "edited": false, "score": 0, "creation_date": 1431416628, "post_id": 30177485, "comment_id": 48474706, "body": "You have been great help to me @Sobrique. Thank you so much"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1431378034, "last_edit_date": 1495535049, "creation_date": 1431377724, "answer_id": 30177485, "question_id": 30176319, "link": "https://stackoverflow.com/questions/30176319/split-an-xml-file-into-2-halves-in-perl/30177485#30177485", "title": "Split an xml file into 2 halves in perl", "body": "<p>Please please don't use a regular expression or line based approach to splitting XML. That way lies brittle code and broken XML, and that's just bad news for all concerned. </p>\n\n<p>Using the XML you posted in your previous question as a reference point:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/30171183/read-xml-file-in-perl\">Read XML file in perl</a></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\nuse Data::Dumper;\n\nmy $file_extn = 1;\n\nsub split_installer {\n   my ( $twig, $installer ) = @_;\n   open ( my $output, \"&gt;\", \"Test\".$file_extn++.\".xml\" ) or warn !;\n   print {$ouput} $installer -&gt; sprint();\n   close ( $output ); \n}\n\nmy $twig = XML::Twig -&gt; new ( twig_handlers =&gt; { 'installer' =&gt; \\&amp;split_installer } ) -&gt; parsefile ( 'your_file.xml );\n</code></pre>\n\n<p>A lot of this is accomplished by the utility <a href=\"http://search.cpan.org/dist/XML-Twig/tools/xml_split/xml_split\" rel=\"nofollow noreferrer\"><code>xml_split</code></a>.</p>\n"}], "owner": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 30177485, "answer_count": 2, "score": -1, "last_activity_date": 1431378034, "creation_date": 1431373353, "question_id": 30176319, "link": "https://stackoverflow.com/questions/30176319/split-an-xml-file-into-2-halves-in-perl", "title": "Split an xml file into 2 halves in perl", "body": "<p>I have an XML File in below format:</p>\n\n<pre><code>&lt;installer&gt;\n&lt;Plugins&gt;\n.\n.\n.\n&lt;/Plugins&gt;\n&lt;/installer&gt;\n&lt;installer&gt;\n&lt;Plugins&gt;\n.\n.\n.\n&lt;/Plugins&gt;\n&lt;/installer&gt; \n</code></pre>\n\n<p>So, as you can see there are 2 parts here i.e. 2 installer blocks.\nI want to segregate and redirect the first installers part to Test1.xml file and second installers part to Test2.xml.</p>\n\n<p>I know to achieve the same using a for loop. But, please provide me any solution using sed/awk for faster processing.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 3677772, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d868854f560712689bea453257ec404d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita", "link": "https://stackoverflow.com/users/3677772/nikita"}, "edited": false, "score": 0, "creation_date": 1431407635, "post_id": 30177069, "comment_id": 48470240, "body": "Absolutely what I needed. I tried to catch redundant space characters with \\h s but now realized that this is almost useless."}], "tags": [], "owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1431376153, "creation_date": 1431376153, "answer_id": 30177069, "question_id": 30175204, "link": "https://stackoverflow.com/questions/30175204/regex-for-specific-file-structure/30177069#30177069", "title": "Regex for specific file structure", "body": "<p>You actually might want to use a non-greedy group, since you don't want to match your seperator.</p>\n\n<pre><code>(?\u00ecsx: (?:\n       (.*?)          # Non greedy\n       (?:\\r?\\n){2,}  # also matches \\r\\n\\n but that might not be of concern\n       |\\r?\\n)        # one empty line.\n       (.*)           # second group\n)\n</code></pre>\n\n<p>I don't know what you wanted to achieve with the <code>\\h</code>s. If you want to ensure that there is something in the lines (right now, the <code>.</code> also could all match <code>\\n</code> or spaces) you could try something like <code>(?:[^\\n]+\\n)*?</code> for the groups.</p>\n\n<p>Also, for brevities sake, I avoided the explicit <code>?</code> you used. There might be a difference in results. If you match nothing under a star, you'll get the empty string, if you don't match at all, the value of the group-variable is <code>undefined</code>. Here is a short example to show the difference:</p>\n\n<pre><code>\"aa\" =~ /(c)?(d*)aa/\n</code></pre>\n\n<p>Here <code>$1</code> is <code>undefined</code>, while <code>$2</code> is the empty string. This minor difference might yield some annoying warnings or unexpected results if someone tested with <code>defined</code> for the contents of a group.</p>\n"}], "owner": {"reputation": 75, "user_id": 3677772, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d868854f560712689bea453257ec404d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita", "link": "https://stackoverflow.com/users/3677772/nikita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 30177069, "answer_count": 1, "score": 0, "last_activity_date": 1431376153, "creation_date": 1431369629, "question_id": 30175204, "link": "https://stackoverflow.com/questions/30175204/regex-for-specific-file-structure", "title": "Regex for specific file structure", "body": "<p>I need to parse file with next simple structure:</p>\n\n<pre><code>some string 1\nsome string 2\nsome string 3\n\nsome string x\nsome string y\nsome string z\n...\n</code></pre>\n\n<p>File consist of 2 parts separated by \"\\n\\n\" or \"\\r\\n\\r\\n\". This separator present in my example after \"some string 3\". Each part is optional, that is if first part omitted than there will be 1(but with my regex I need 2 empty lines) empty line(\\n|\\r\\n) before second part. And if second part is omitted than there will be any number of empty lines after first part(include no empty lines at all).</p>\n\n<p>I'm trying to achieve desired result with regex like this:</p>\n\n<pre><code>(?isx: \\h* (.+)? \\h* (?:(?:\\n|\\r\\n){2,} \\h* (.+))? \\s*)\n</code></pre>\n\n<p>But with no success because first \"(.+)?\" very greedy and if I making 2nd part non-optional it violates my requirements that both part must be optional. I know that I can use split /(?:\\n|\\r\\n)/, $str in this case but this file in future could have more complex structure so I can't use split. </p>\n\n<p>Can someone help me with this?</p>\n"}, {"tags": ["perl", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 28, "user_id": 3502180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1b0d3c026d05fb3da79e458cf66f5d4?s=128&d=identicon&r=PG&f=1", "display_name": "Rarw", "link": "https://stackoverflow.com/users/3502180/rarw"}, "edited": false, "score": 0, "creation_date": 1431369416, "post_id": 30175030, "comment_id": 48456331, "body": "Im fairly new to perl (started programming perl yesterday). Could you explain how I could set the proxy for https, and check the versions of the modules?"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1431370777, "last_edit_date": 1431370777, "creation_date": 1431368950, "answer_id": 30175030, "question_id": 30174379, "link": "https://stackoverflow.com/questions/30174379/using-a-proxy-with-wwwmechanize/30175030#30175030", "title": "Using a proxy with WWW::Mechanize", "body": "<pre><code>$m-&gt;proxy('http', $httpl . '' . $lines[$i]);\nprint \"Connecting to proxy \" . $lines[$i];\n$m-&gt;get(\"https://api.ipify.org?format=json\");\n</code></pre>\n\n<p>You set only a proxy for http but make a https request. You need to set the proxy for https too like this:</p>\n\n<pre><code>$m-&gt;proxy('https', ... put your https proxy here ...);\n</code></pre>\n\n<p>Or to use the same proxy for multiple protocols:</p>\n\n<pre><code>$m-&gt;proxy(['http','https'], ... );\n</code></pre>\n\n<p>Also, make sure that you use at least version 6.06 of LWP::UserAgent and LWP::Protocol::https for proper support of proxies with https, i.e.</p>\n\n<pre><code>use LWP::UserAgent;\nprint LWP::UserAgent-&gt;VERSION,\"\\n\";\n\nuse LWP::Protocol::https;\nprint LWP::Protocol::https-&gt;VERSION,\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 28, "user_id": 3502180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1b0d3c026d05fb3da79e458cf66f5d4?s=128&d=identicon&r=PG&f=1", "display_name": "Rarw", "link": "https://stackoverflow.com/users/3502180/rarw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "accepted_answer_id": 30175030, "answer_count": 1, "score": 0, "last_activity_date": 1431370777, "creation_date": 1431366741, "question_id": 30174379, "link": "https://stackoverflow.com/questions/30174379/using-a-proxy-with-wwwmechanize", "title": "Using a proxy with WWW::Mechanize", "body": "<p>Im trying to perform tests on my servers upload function using several proxies. By the time I get my ip through api.ipify.org. The console outputs my true ip, not the proxies ip. </p>\n\n<pre><code>use strict; use warnings;\n    use WWW::Mechanize;\n    my $file = \"proxies.txt\";\n    open (FH, \"&lt; $file\") or die \"Can't open $file for read: $!\";\n    my @lines = &lt;FH&gt;;\n    close FH or die \"Cannot close $file: $!\";\n    print \"Loaded proxy list\";\n    my $m = WWW::Mechanize-&gt;new(\n        autocheck =&gt; 1,\n        agent_alias =&gt; 'Mozilla',\n        cookie_jar =&gt; {},\n        ssl_opts =&gt; {verify_hostname =&gt; 0},\n        quiet =&gt; 0,\n    );\n    my $httpl = \"http://\";\n    $m-&gt;no_proxy('localhost');\n    my $ua = LWP::UserAgent-&gt;new;\n    for(my $i=0; $i &lt; 47; $i++)\n    {\n    $m-&gt;proxy('http', $httpl . '' . $lines[$i]);\n    print \"Connecting to proxy \" . $lines[$i];\n    $m-&gt;get(\"https://api.ipify.org?format=json\");\n    print $m-&gt;content;\n    for(my $j = 0; $j &lt;= 10; $j++){\n    $m-&gt;get(\"http://example.com\");\n    system(\"node genran.js\");\n    $m-&gt;post('http://example.com/upload.php',\n        Content_Type =&gt; \"form-data\",\n        Content =&gt; [\n            'password' =&gt; '',\n            'public' =&gt; 'yes',\n            'uploadContent' =&gt; [ 'spam.txt', 'Love pecons', 'Content_$\n            file =&gt; [ 'x86.png', 'image_name', 'Content-Type' =&gt; 'ima$\n        ]\n    );\n\n    print $m-&gt;content;\n    }}\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-parsing", "perl-module", "perl-data-structures"], "comments": [{"owner": {"reputation": 467, "user_id": 2165531, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/e1f94568d39650d2a9293d44896366ad?s=128&d=identicon&r=PG", "display_name": "Logunath", "link": "https://stackoverflow.com/users/2165531/logunath"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1431361207, "post_id": 30172457, "comment_id": 48451494, "body": "Sorry, its typo error. modified my question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431361395, "post_id": 30172457, "comment_id": 48451613, "body": "You will need to show the code that you want help with"}, {"owner": {"reputation": 467, "user_id": 2165531, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/e1f94568d39650d2a9293d44896366ad?s=128&d=identicon&r=PG", "display_name": "Logunath", "link": "https://stackoverflow.com/users/2165531/logunath"}, "edited": false, "score": 0, "creation_date": 1431362541, "post_id": 30172457, "comment_id": 48452313, "body": "I&#39;m trying,   my $tax_amount = $order_tag-&gt;getValue(&#39;TaxAmount&#39;);, where $order_tag is $xml-&gt;tag(&#39;&#39;Order&#39;&#39;); but still i&#39;m getting value as &#39;1.2&#39;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431362802, "post_id": 30172457, "comment_id": 48452487, "body": "Please show your code <i>in context</i>. You haven&#39;t explained what modules you&#39;re using, amongst many other things"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1431364705, "post_id": 30172457, "comment_id": 48453658, "body": "I&#39;m not sure that code actually works: <code>Can&#39;t locate object method &quot;tag&quot; via package &quot;XML::DOM::Element&quot; </code>. Please can you update it with a working example?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431367584, "post_id": 30172457, "comment_id": 48455270, "body": "Please show the code that  shows a <code>TaxAmount</code> of 1.2 instead of 7.2. The lines you have posted don&#39;t run at all"}], "answers": [{"comments": [{"owner": {"reputation": 467, "user_id": 2165531, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/e1f94568d39650d2a9293d44896366ad?s=128&d=identicon&r=PG", "display_name": "Logunath", "link": "https://stackoverflow.com/users/2165531/logunath"}, "edited": false, "score": 0, "creation_date": 1431408735, "post_id": 30173406, "comment_id": 48470709, "body": "I can&#39;t change/include any other new CPAN modules in our code as our client follows a strict code review. Could you please help me with XML::DOM parser?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 467, "user_id": 2165531, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/e1f94568d39650d2a9293d44896366ad?s=128&d=identicon&r=PG", "display_name": "Logunath", "link": "https://stackoverflow.com/users/2165531/logunath"}, "edited": false, "score": 0, "creation_date": 1431509100, "post_id": 30173406, "comment_id": 48525874, "body": "No - you haven&#39;t supplied enough information in your question to do that. The code you supplied doesn&#39;t even run."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1431363342, "creation_date": 1431363342, "answer_id": 30173406, "question_id": 30172457, "link": "https://stackoverflow.com/questions/30172457/getvalue-from-an-xml-having-same-attributes-using-perl-xmldom-parser/30173406#30173406", "title": "getValue from an XML having same attributes using Perl XMLDOM parser", "body": "<p>Can't say for specific about the module you're using, but this will do the trick:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; new (  ) -&gt; parse ( 'your_xml_file' );\nprint $twig -&gt; root -&gt; get_xpath ( \"./TaxAmount\",0 ) -&gt; text;\n</code></pre>\n\n<p>Note that in this example, your \"root\" node is <code>Order</code> so looking for <code>Order</code> beneath that is probably what's tripping you up. </p>\n"}], "owner": {"reputation": 467, "user_id": 2165531, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/e1f94568d39650d2a9293d44896366ad?s=128&d=identicon&r=PG", "display_name": "Logunath", "link": "https://stackoverflow.com/users/2165531/logunath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1431365833, "creation_date": 1431360297, "last_edit_date": 1431365833, "question_id": 30172457, "link": "https://stackoverflow.com/questions/30172457/getvalue-from-an-xml-having-same-attributes-using-perl-xmldom-parser", "title": "getValue from an XML having same attributes using Perl XMLDOM parser", "body": "<p>I am trying to get the value of 'TaxAmount' from the below XML which contains same tag name at different places.  </p>\n\n<p>From the below XML, I want to get the value of 'TaxAmount' as '7.2' under tag 'Order', but I'm always getting the 'TaxAmount' as '1.2' under tag 'OrderItem' in 'OrderItemList'.</p>\n\n<p>Could any one help me on getting the value of 'TaxAmount' as '7.2'?</p>\n\n<p>I tried many things from other similar questions, but not succeeded in any.</p>\n\n<pre><code>&lt;Order&gt;\n  &lt;CustomerID /&gt;\n  &lt;IsCustomerCompany&gt;false&lt;/IsCustomerCompany&gt;\n  &lt;OrderTimezone /&gt;\n  &lt;OrderDescription /&gt;\n  &lt;OrderItemList&gt;\n    &lt;OrderItem&gt;\n      &lt;OrderItemID&gt;1234&lt;/OrderItemID&gt;\n      &lt;ItemCode /&gt;     \n      &lt;TaxAmount&gt;6.0&lt;/TaxAmount&gt;\n    &lt;/OrderItem&gt;\n    &lt;OrderItem&gt;\n      &lt;OrderItemID&gt;1245&lt;/OrderItemID&gt;\n      &lt;ItemCode /&gt;\n      &lt;TaxAmount&gt;1.2&lt;/TaxAmount&gt;\n    &lt;/OrderItem&gt;\n  &lt;/OrderItemList&gt;\n  &lt;Currency&gt;USD&lt;/Currency&gt;\n  &lt;Amount&gt;120&lt;/Amount&gt;\n  &lt;TaxAmount&gt;7.2&lt;/TaxAmount&gt;\n&lt;/Order&gt;\n</code></pre>\n\n<p>The piece of code I'm using is,</p>\n\n<pre><code>use XML::DOM;\n\n$xml = XML::DOM::Parser-&gt;new-&gt;parse( $self-&gt;fullresponse )-&gt;getDocumentElement;\nmy $order_tag = $xml-&gt;tag('Order');\nmy $tax_amount =  $order_tag-&gt;getValue('TaxAmount');\n</code></pre>\n\n<p>Any help is appreciated. </p>\n"}, {"tags": ["perl", "vim", "tags"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1431394333, "post_id": 30172160, "comment_id": 48466400, "body": "Can you post a short example of the &quot;non-working&quot; syntax?"}, {"owner": {"reputation": 1994, "user_id": 381077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9beb1fa4cc5d5c9e57ca076a14f4a42?s=128&d=identicon&r=PG", "display_name": "OpenSorceress", "link": "https://stackoverflow.com/users/381077/opensorceress"}, "edited": false, "score": 0, "creation_date": 1431394718, "post_id": 30172160, "comment_id": 48466501, "body": "Is that really supposed to be <code>::</code>? Or just a typo, and you meant <code>:</code>? Please add a code sample."}, {"owner": {"reputation": 1994, "user_id": 381077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9beb1fa4cc5d5c9e57ca076a14f4a42?s=128&d=identicon&r=PG", "display_name": "OpenSorceress", "link": "https://stackoverflow.com/users/381077/opensorceress"}, "edited": false, "score": 0, "creation_date": 1431395887, "post_id": 30172160, "comment_id": 48466829, "body": "(And since I can&#39;t comment on my own upvote to explain why I +1&#39;d squeaky) +1 on SqueakyOctopus offering potential solutions / workarounds while I presume waiting for the OP to post a code example."}, {"owner": {"reputation": 427, "user_id": 1778970, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0925efe281bc997618554adfcf4315ec?s=128&d=identicon&r=PG", "display_name": "windrg00", "link": "https://stackoverflow.com/users/1778970/windrg00"}, "reply_to_user": {"reputation": 1994, "user_id": 381077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9beb1fa4cc5d5c9e57ca076a14f4a42?s=128&d=identicon&r=PG", "display_name": "OpenSorceress", "link": "https://stackoverflow.com/users/381077/opensorceress"}, "edited": false, "score": 0, "creation_date": 1432207941, "post_id": 30172160, "comment_id": 48834836, "body": "@satyrwilder  it is definitely ::"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4885395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U88lo.png?s=128&g=1", "display_name": "SqueakyOctopus", "link": "https://stackoverflow.com/users/4885395/squeakyoctopus"}, "is_accepted": false, "score": 1, "last_activity_date": 1431395581, "last_edit_date": 1431395581, "creation_date": 1431392385, "answer_id": 30180025, "question_id": 30172160, "link": "https://stackoverflow.com/questions/30172160/how-to-tag-jump-in-objective-perl-in-vim/30180025#30180025", "title": "How to tag-jump in Objective Perl in Vim?", "body": "<p>Update:  Since I don't have a code sample that demonstrates the failure, I'm trying to find things that are helpful.  As I stated below, basic Vim isn't going to have that functionality for custom marking, but plugins to Vim will get you further.  Fritz Mehner's perl-support.vim plugin has been around for years and is quite good:</p>\n\n<p><a href=\"http://www.vim.org/scripts/script.php?script_id=556\" rel=\"nofollow\">http://www.vim.org/scripts/script.php?script_id=556</a></p>\n\n<p>There is a new plugin by Valloric found here that has a lot of language support (but this is one that I haven't personally tried):</p>\n\n<p><a href=\"https://valloric.github.io/YouCompleteMe/\" rel=\"nofollow\">https://valloric.github.io/YouCompleteMe/</a></p>\n\n<hr>\n\n<p>Original post:</p>\n\n<p>Hmm, usually when I am coding something more complicated in Perl than a command line script or a handful of lines in a file, I use emacs as my editor, not vim, because emacs has hooks to a debugger and quite frankly has better support for complicated syntax.  There's a native perl support in emacs, but the better one is in cperl-mode in emacs.  That's going to have a lot of bells and whistles in it and it's really what you want.</p>\n\n<p>I do use Vim often as a basic editor, but I think that coding in Objective Perl gets you to that place where it's not going to be as robust as you'd like.  </p>\n\n<p>To get to cperl-mode you can add the following lines in your .emacs file:</p>\n\n<p>;;; cperl-mode is preferred to perl-mode<br>\n;;; \"Brevity is the soul of wit\" <br>\n    (defalias 'perl-mode 'cperl-mode)</p>\n\n<p>You can see more about it here at the EmacsWiki:</p>\n\n<p><a href=\"http://www.emacswiki.org/emacs/CPerlMode\" rel=\"nofollow\">http://www.emacswiki.org/emacs/CPerlMode</a></p>\n\n<p>(What I'm trying to say here is that getting support in Vim for :: and -> syntax is going to likely require custom marking and that isn't in Vim basic.  Instead, there are some packages like Fritz Mehner's perl-support.vim that might be helpful, but really, Vim isn't the best editor at the point where you jump to complicated syntax with classes (packages). You have to add a plugin or you have to find another solution.) </p>\n"}], "owner": {"reputation": 427, "user_id": 1778970, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0925efe281bc997618554adfcf4315ec?s=128&d=identicon&r=PG", "display_name": "windrg00", "link": "https://stackoverflow.com/users/1778970/windrg00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431957817, "creation_date": 1431359424, "last_edit_date": 1431957817, "question_id": 30172160, "link": "https://stackoverflow.com/questions/30172160/how-to-tag-jump-in-objective-perl-in-vim", "title": "How to tag-jump in Objective Perl in Vim?", "body": "<p>Nowadays I'm working with <a href=\"https://metacpan.org/pod/ObjectivePerl\" rel=\"nofollow\">Objective Perl</a> using <code>::</code> with <code>-&gt;</code> as well.</p>\n\n<p>However, Vim doesn't recognise a tag which is pre/appended with <code>::</code>.</p>\n\n<p>Is there a way to solve this?</p>\n\n<p>ex) I can jump when it is Foo->foo() but can't do once BAR::bar().</p>\n"}, {"tags": ["perl", "automation", "rsh"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4729502, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xoQ3MjOyvWg/AAAAAAAAAAI/AAAAAAAAAFg/JMjw7vSOTEU/photo.jpg?sz=128", "display_name": "Akshit Jain", "link": "https://stackoverflow.com/users/4729502/akshit-jain"}, "edited": false, "score": 0, "creation_date": 1431361870, "post_id": 30172907, "comment_id": 48451911, "body": "No, what i was looking for is something like: on Host-1: ....x... ....y.... ....z....  then go to host 2 and execute some commands: ...123... ...342... ...r45... ... ls -l ... etc... etc...  then again go back to host-1 and run some more commands"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 4729502, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xoQ3MjOyvWg/AAAAAAAAAAI/AAAAAAAAAFg/JMjw7vSOTEU/photo.jpg?sz=128", "display_name": "Akshit Jain", "link": "https://stackoverflow.com/users/4729502/akshit-jain"}, "edited": false, "score": 0, "creation_date": 1431361951, "post_id": 30172907, "comment_id": 48451961, "body": "I have no idea what that means. You run my program on host-1 and it shows you the results of running <code>ls -l</code> on host-2. I thought that&#39;s what you asked for."}, {"owner": {"reputation": 1, "user_id": 4729502, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xoQ3MjOyvWg/AAAAAAAAAAI/AAAAAAAAAFg/JMjw7vSOTEU/photo.jpg?sz=128", "display_name": "Akshit Jain", "link": "https://stackoverflow.com/users/4729502/akshit-jain"}, "edited": false, "score": 0, "creation_date": 1431362024, "post_id": 30172907, "comment_id": 48451998, "body": "Please have a look at my updated comment to your answer...  I will try your code as well"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 4729502, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xoQ3MjOyvWg/AAAAAAAAAAI/AAAAAAAAAFg/JMjw7vSOTEU/photo.jpg?sz=128", "display_name": "Akshit Jain", "link": "https://stackoverflow.com/users/4729502/akshit-jain"}, "edited": false, "score": 2, "creation_date": 1431362144, "post_id": 30172907, "comment_id": 48452069, "body": "I&#39;m pretty sure that my example gives you enough of an example that you can build on it to do what you want. Use <code>qx(command)</code> to run stuff locally. Use <code>qx(ssh host command)</code> to run stuff remotely."}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1431362540, "post_id": 30172907, "comment_id": 48452312, "body": "Pay attention to what @DaveCross has told you. Although, When I find my self running a lot of shell commands, I think of shell scripts. Especially in this case, because you didn&#39;t mention any post-processing of the resulting output."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1431361699, "creation_date": 1431361699, "answer_id": 30172907, "question_id": 30172118, "link": "https://stackoverflow.com/questions/30172118/how-to-logon-to-different-host-machine-and-run-some-tool-over-there-and-get-the/30172907#30172907", "title": "how to logon to different host machine and run some tool over there and get the data back to the original host using scripting", "body": "<p>Do you mean something like this?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @results = qx(ssh host-2 ls -l);\n\nprint @results;\n</code></pre>\n\n<p>Or are you looking for something more complicated?</p>\n"}, {"tags": [], "owner": {"reputation": 3436, "user_id": 267263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5784e9655a5f2ec5f18205f5cdd3de97?s=128&d=identicon&r=PG", "display_name": "Bill Agee", "link": "https://stackoverflow.com/users/267263/bill-agee"}, "is_accepted": false, "score": 0, "last_activity_date": 1431378128, "creation_date": 1431378128, "answer_id": 30177597, "question_id": 30172118, "link": "https://stackoverflow.com/questions/30172118/how-to-logon-to-different-host-machine-and-run-some-tool-over-there-and-get-the/30177597#30177597", "title": "how to logon to different host machine and run some tool over there and get the data back to the original host using scripting", "body": "<p>I'd take a look at Rex:</p>\n\n<p><a href=\"http://www.rexify.org/\" rel=\"nofollow\">http://www.rexify.org/</a></p>\n\n<p>But if Python is an option, you might also like Fabric:</p>\n\n<p><a href=\"http://www.fabfile.org/\" rel=\"nofollow\">http://www.fabfile.org/</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4729502, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xoQ3MjOyvWg/AAAAAAAAAAI/AAAAAAAAAFg/JMjw7vSOTEU/photo.jpg?sz=128", "display_name": "Akshit Jain", "link": "https://stackoverflow.com/users/4729502/akshit-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1431378128, "creation_date": 1431359295, "question_id": 30172118, "link": "https://stackoverflow.com/questions/30172118/how-to-logon-to-different-host-machine-and-run-some-tool-over-there-and-get-the", "title": "how to logon to different host machine and run some tool over there and get the data back to the original host using scripting", "body": "<p>Problem statement:\nconsider the present scenario, i am running some commands/code on host-1, and i need to open a tool on host-2 where i may perform some operations on data obtained on host-1.</p>\n\n<p>what i was doing till now was opening two different shells, one for host 1 and another for host 2, then i after running codes on host-1 would switch manually to the other shell prompt, where i would deal with the commands on tool. and would finally move back to the original shell.</p>\n\n<p>An example would be executing a basic linux command on host-2 and capturing it response.\nEx:\ndo a <strong>ls -l</strong> on host-2 while we are on host-1 and get the results in some variable that could be kept for further processing.</p>\n\n<p>Is there a way to automate this thing?? I mean a way in which i can logon to host-2 on the fly and execute those tool commands and get back to host-1 ?</p>\n\n<p>I prefer writing a perl script for this.</p>\n"}, {"tags": ["perl", "mechanize", "www-mechanize", "two-factor-authentication"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431358189, "post_id": 30171661, "comment_id": 48449468, "body": "I would recommend <a href=\"https://developers.google.com/identity/protocols/OAuth2\" rel=\"nofollow noreferrer\">authenticating with OAuth 2.0</a> and using the Maps API if you want to interact with Google Maps programmatically."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431361400, "post_id": 30171661, "comment_id": 48451618, "body": "@ThisSuitIsBlackNot: does the maps api support location history?  from many questions a google search turns up, I suspect it does not"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1431361584, "post_id": 30171661, "comment_id": 48451732, "body": "using the same www mech object for later calls should preserve your cookie.  or store it in a file: <code>WWW::Mechanize-&gt;new( cookie_jar =&gt; HTTP::Cookies-&gt;new( file =&gt; &quot;somefilename.dat&quot;, autosave =&gt; 1 ) )</code>.  It won&#39;t last forever, though."}, {"owner": {"reputation": 12873, "user_id": 1127699, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8030281cad7e827a3357927fd3748444?s=128&d=identicon&r=PG", "display_name": "Terence Eden", "link": "https://stackoverflow.com/users/1127699/terence-eden"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431418938, "post_id": 30171661, "comment_id": 48476052, "body": "@ThisSuitIsBlackNot the Maps API does <i>not</i> include location history. Hence needing to use this workaround."}], "owner": {"reputation": 12873, "user_id": 1127699, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8030281cad7e827a3357927fd3748444?s=128&d=identicon&r=PG", "display_name": "Terence Eden", "link": "https://stackoverflow.com/users/1127699/terence-eden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1431447720, "creation_date": 1431357915, "last_edit_date": 1431447720, "question_id": 30171661, "link": "https://stackoverflow.com/questions/30171661/using-mechanize-with-googles-2fa", "title": "Using Mechanize with Google&#39;s 2FA", "body": "<p>I'm trying to retrieve data from a (Google) web service using Mechanize.</p>\n\n<p>If a user does <em>not</em> have 2FA (Two Factor Authentication) this code works:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $email = 'xxxxx';\nmy $pass = 'xxxxx';\n\nuse WWW::Mechanize;\n\nmy $time1 = (time - 24 * 60 * 60) * 1000;\nmy $time2 = (time + 24 * 60 * 60) * 1000;\n\nmy $mech = WWW::Mechanize-&gt;new();\n$mech-&gt;get(\"https://maps.google.com/locationhistory/b/0/kml?startTime=$time1&amp;endTime=$time2\");\n$mech-&gt;submit_form(fields =&gt; { 'Email' =&gt; $email, 'Passwd' =&gt; $pass, }, );\n$mech-&gt;content =~ m!.*&lt;gx:coord&gt;(.*?)&lt;/gx:coord&gt;!s;\nmy $coord = $1;\nmy($lng, $lat) = ($coord =~ /^([-+]?[\\d\\.]+)[ ,]+([-+]?[\\d\\.]+)/);\n</code></pre>\n\n<p>If a user has 2FA switched on, after submitting the password the page asks for a 2FA code.  I have a token which generates the code - but I'm not sure how I would submit it.</p>\n\n<p>(NB I've tried using <a href=\"https://support.google.com/accounts/answer/185833?hl=en\" rel=\"nofollow\">App Specific Passwords</a> - but they don't work for this sort of access.)</p>\n\n<ol>\n<li>How can I submit the 2FA code on the second page?</li>\n<li>Is there any way I can store the cookie so I don't have to use the 2FA token each time?</li>\n</ol>\n"}, {"tags": ["perl", "vim", "ide"], "comments": [{"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 1, "creation_date": 1431362041, "post_id": 30171335, "comment_id": 48452005, "body": "According to the github page: This is the aggregation of all the various Perl-related syntax and helper files for Perl 5 and Perl 6."}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 1, "creation_date": 1431362180, "post_id": 30171335, "comment_id": 48452092, "body": "By searching the web, I also found perl-support.vim which appears to integrate perl critic, perl tidy, profiling, and a bunch of other stuff."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1431364947, "post_id": 30171335, "comment_id": 48453792, "body": "Thanks for the responses but there is anything that vim-perl can do that I can&#39;t do with regular vim commands in the rc file?"}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1431365919, "post_id": 30171335, "comment_id": 48454361, "body": "extended syntax highlighting via plugins for specific modules? I don&#39;t think I use either, I just got curious and read some docs and browsed some source code."}], "answers": [{"tags": [], "owner": {"reputation": 153428, "user_id": 813602, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e1844cebf36374d83a83c0e69003cd42?s=128&d=identicon&r=PG", "display_name": "Ingo Karkat", "link": "https://stackoverflow.com/users/813602/ingo-karkat"}, "is_accepted": true, "score": 1, "last_activity_date": 1433952060, "creation_date": 1433952060, "answer_id": 30761528, "question_id": 30171335, "link": "https://stackoverflow.com/questions/30171335/what-does-vim-perl-plugin-do-that-syntax-on-doesnt/30761528#30761528", "title": "What does vim-perl plugin do that &quot;syntax on&quot; doesn&#39;t?", "body": "<p>At least parts of vim-perl are incorporated in the factory-default configuration of Vim; cp. <code>$VIMRUNTIME/ftplugin/perl.vim</code> and <code>$VIMRUNTIME/syntax/perl.vim</code>. By installing (and regularly upgrading) the plugin, you'll get:</p>\n\n<ul>\n<li>a newer version of the scripts, with potential enhancements and bug fixes</li>\n<li>some additional functionality (f.e. there's a <code>syntax/mason.vim</code> that's not yet in Vim itself)</li>\n</ul>\n\n<p>If you regularly edit non-trivial Perl scripts, or use latest language features, installing vim-perl is worth contemplating. If you're just a casual programmer, I would wait until a real need arises.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 30761528, "answer_count": 1, "score": 0, "last_activity_date": 1433952060, "creation_date": 1431357017, "question_id": 30171335, "link": "https://stackoverflow.com/questions/30171335/what-does-vim-perl-plugin-do-that-syntax-on-doesnt", "title": "What does vim-perl plugin do that &quot;syntax on&quot; doesn&#39;t?", "body": "<p>I'm trying to get vim set up as an IDE for Perl. I'm using generic, text-based vim, not gvim.</p>\n\n<p>I installed the \"vim-perl\" addon at <a href=\"https://github.com/vim-perl/vim-perl\" rel=\"nofollow\">https://github.com/vim-perl/vim-perl</a> using the vim addon manager per the suggestion of someone else. At least I think it's installed but I don't notice any difference in how the file is processed.</p>\n\n<p>First I installed the vim-addon-manager with Debian's package manager. Then I put the following code in my .vimrc file and reloaded it:</p>\n\n<pre><code>\" put this line first in ~/.vimrc\nset nocompatible | filetype indent plugin on | syn on\n\nfun! SetupVAM()\n  let c = get(g:, 'vim_addon_manager', {}) \n  let g:vim_addon_manager = c \n  let c.plugin_root_dir = expand('$HOME', 1) . '/.vim/vim-addons'\n\n  \" Force your ~/.vim/after directory to be last in &amp;rtp always:\n  \" let g:vim_addon_manager.rtp_list_hook = 'vam#ForceUsersAfterDirectoriesToBeLast'\n\n  \" most used options you may want to use:\n  \" let c.log_to_buf = 1\n  \" let c.auto_install = 0\n let &amp;rtp.=(empty(&amp;rtp)?'':',').c.plugin_root_dir.'/vim-addon-manager'\n  if !isdirectory(c.plugin_root_dir.'/vim-addon-manager/autoload')\n    execute '!git clone --depth=1 git://github.com/MarcWeber/vim-addon-manager '\n        \\       shellescape(c.plugin_root_dir.'/vim-addon-manager', 1)\n  endif\n\n  \" This provides the VAMActivate command, you could be passing plugin names, too\n  call vam#ActivateAddons([], {}) \nendfun\nall SetupVAM()\n\n\" ACTIVATING PLUGINS\n\n\" OPTION 1, use VAMActivate\nVAMActivate github:vim-perl/vim-perl \n\n\" OPTION 2: use call vam#ActivateAddons\n\"call vam#ActivateAddons([vim-perl], {})\n use &lt;c-x&gt;&lt;c-p&gt; to complete plugin names\n\n\" OPTION 3: Create a file ~/.vim-srcipts putting a PLUGIN_NAME into each line\n\" See lazy loading plugins section in README.md for details\n\" call vam#Scripts('~/.vim-scripts', {'tag_regex': '.*'})\n</code></pre>\n\n<p>So what exactly is the vim-perl addon supposed to do for me? I can't find any good documenation anywhere.</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1431356894, "post_id": 30171183, "comment_id": 48448542, "body": "Please <i>don&#39;t use</i> <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow noreferrer\"><code>XML::Simple</code></a>. It can be very difficult to get the result you require and it it based on an inherently faulty design. Its own documentation says <i>&quot;The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces. In particular, <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow noreferrer\"><code>XML::LibXML</code></a> is highly recommended&quot;</i>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431357083, "post_id": 30171183, "comment_id": 48448693, "body": "Your XML data isn&#39;t well-formed so nothing can process it. Please show the real data"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431357126, "post_id": 30171183, "comment_id": 48448719, "body": "And also - please include what you want out specifically."}], "answers": [{"comments": [{"owner": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "edited": false, "score": 0, "creation_date": 1431370086, "post_id": 30171611, "comment_id": 48456736, "body": "Thank you, this worked for me. This is really helpful. Could you please help me in handling the duplicate PluginsLogFiles element using separate hash keys (May be like PluginLogFileName1, PluginsLogFileErrors1 and PluginLogFileName2, PluginsLogFileErrors2) ?? But, need to note that few Plugin have multiple PluginsLogFiles sub elements and some have only one sub element. So its not hard coded. If you could help me here, it will be much appreciated."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "edited": false, "score": 1, "creation_date": 1431376417, "post_id": 30171611, "comment_id": 48460190, "body": "Have a look at <code>children</code> in the <code>XML::Twig</code> documentation. This lets you iterate nodes matching a criterial - such as <code>$plugin -&gt; children(&#39;PluginsLogFiles&#39;);</code>. Something like <code>foreach my $logfile ( $plugin -&gt; children(&#39;PluginsLogFiles&#39;) {</code> - and then you could extract and add the elements you wanted, either by pushing them onto an array, or adding a new hash key."}, {"owner": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "edited": false, "score": 0, "creation_date": 1431415141, "post_id": 30171611, "comment_id": 48473910, "body": "This is exactly what I wanted. Thank you so much @Sobrique.. It was a much needed help."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1431357757, "creation_date": 1431357757, "answer_id": 30171611, "question_id": 30171183, "link": "https://stackoverflow.com/questions/30171183/read-xml-file-in-perl/30171611#30171611", "title": "Read XML file in perl", "body": "<p>Don't use <a href=\"http://search.cpan.org/~grantm/XML-Simple-2.20/lib/XML/Simple.pm\" rel=\"nofollow\"><code>XML::Simple</code></a>. It lies - it's <em>for</em> simple XML. Even it's own page says: <em>\"The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces\"</em></p>\n\n<p>Also note - the XML you posted is malformed. By deleting a couple of lines off the end, I've created this example, but you should make sure you post valid XML to any XML problems.</p>\n\n<p>So with that in mind - I like <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a> personally.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\nuse Data::Dumper;\n\nmy @desired = qw ( PluginsStatus PluginspatchLogName  );\n\nmy %plugin_data; \n\nsub process_plugin {\n    my ( $twig, $plugin ) = @_;\n    my $name = $plugin -&gt; first_child_text('PluginsName');\n    foreach my $tag ( @desired ) { \n       if ( $plugin -&gt; first_child_text($tag) ) {\n          $plugin_data{$name}{$tag} = $plugin -&gt; first_child_text($tag);\n       }\n    }\n    my $logfile = $plugin -&gt; first_child ('PluginsLogFiles') -&gt; first_child_text('PluginsLogFileName');\n    $plugin_data{$name}{'PluginLogFileName'} = $logfile;\n    my $errors =  $plugin -&gt; first_child ('PluginsLogFiles') -&gt; first_child_text('PluginsLogFileErrors'); \n    $plugin_data{$name}{'PluginsLogFileErrors'} = $errors; \n}\n\nmy $twig = XML::Twig -&gt; new ( twig_handlers =&gt; { 'Plugins' =&gt; \\&amp;process_plugin } ) -&gt; parse ( \\*DATA );\nprint Dumper \\%plugin_data;\n\n\n__DATA__\n&lt;installer&gt;\n    &lt;Plugins&gt;\n      &lt;PluginsRunningSeq&gt;1&lt;/PluginsRunningSeq&gt;\n      &lt;PluginspatchLogName&gt;abc_patch.log&lt;/PluginspatchLogName&gt;\n      &lt;PluginsName&gt;ConfigValue&lt;/PluginsName&gt;\n      &lt;PluginsAttemptNo&gt;1&lt;/PluginsAttemptNo&gt;\n      &lt;PluginsStatus&gt;Success&lt;/PluginsStatus&gt;\n      &lt;PluginsStartTime&gt;2015-05-10 20:02:46.651 +0000&lt;/PluginsStartTime&gt;\n      &lt;PluginsEndTime&gt;2015-05-10 20:03:14.002 +0000&lt;/PluginsEndTime&gt;\n      &lt;PluginsDuration&gt;0 min, 27 sec, 351 millis&lt;/PluginsDuration&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.log&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsErrors&gt;No Errors&lt;/PluginsErrors&gt;\n    &lt;/Plugins&gt;\n    &lt;Plugins&gt;\n      &lt;PluginsRunningSeq&gt;2&lt;/PluginsRunningSeq&gt;\n      &lt;PluginspatchLogName&gt;abc_patch_patch.log&lt;/PluginspatchLogName&gt;\n      &lt;PluginsName&gt;Patching Manager&lt;/PluginsName&gt;\n      &lt;PluginsAttemptNo&gt;1&lt;/PluginsAttemptNo&gt;\n      &lt;PluginsStatus&gt;Success&lt;/PluginsStatus&gt;\n      &lt;PluginsStartTime&gt;2015-05-10 20:03:14.002 +0000&lt;/PluginsStartTime&gt;\n      &lt;PluginsEndTime&gt;2015-05-10 20:03:16.573 +0000&lt;/PluginsEndTime&gt;\n      &lt;PluginsDuration&gt;0 min, 2 sec, 571 millis&lt;/PluginsDuration&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.lo&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.log&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.log&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsErrors&gt;No Errors&lt;/PluginsErrors&gt;\n    &lt;/Plugins&gt;\n    &lt;Plugins&gt;\n      &lt;PluginsRunningSeq&gt;3&lt;/PluginsRunningSeq&gt;\n      &lt;PluginspatchLogName&gt;abc_patch.log&lt;/PluginspatchLogName&gt;\n      &lt;PluginsName&gt;Download Patching&lt;/PluginsName&gt;\n      &lt;PluginsAttemptNo&gt;1&lt;/PluginsAttemptNo&gt;\n      &lt;PluginsStatus&gt;Success&lt;/PluginsStatus&gt;\n      &lt;PluginsStartTime&gt;2015-05-10 20:03:18.863 +0000&lt;/PluginsStartTime&gt;\n      &lt;PluginsEndTime&gt;2015-05-10 20:03:29.983 +0000&lt;/PluginsEndTime&gt;\n      &lt;PluginsDuration&gt;0 min, 11 sec, 120 millis&lt;/PluginsDuration&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.log&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.log&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsErrors&gt;No Errors&lt;/PluginsErrors&gt;\n    &lt;/Plugins&gt;\n\n  &lt;/installer&gt;\n</code></pre>\n\n<p>Which will print:</p>\n\n<pre><code>$VAR1 = {\n          'Patching Manager' =&gt; {\n                                'PluginsLogFileErrors' =&gt; 'No Errors',\n                                'PluginsStatus' =&gt; 'Success',\n                                'PluginspatchLogName' =&gt; 'abc_patch_patch.log',\n                                'PluginLogFileName' =&gt; 'abc.log'\n                              },\n          'Download Patching' =&gt; {\n                                 'PluginspatchLogName' =&gt; 'abc_patch.log',\n                                 'PluginLogFileName' =&gt; 'abc.log',\n                                 'PluginsLogFileErrors' =&gt; 'No Errors',\n                                 'PluginsStatus' =&gt; 'Success'\n                               },\n          'ConfigValue' =&gt; {\n                           'PluginLogFileName' =&gt; 'abc.log',\n                           'PluginspatchLogName' =&gt; 'abc_patch.log',\n                           'PluginsStatus' =&gt; 'Success',\n                           'PluginsLogFileErrors' =&gt; 'No Errors'\n                         }\n        };\n</code></pre>\n\n<p>Note though - it doesn't handle the duplicate <code>PluginsLogFiles</code> elements with any grace - it looks at just the first. You can do multiple easily enough, but then you need to figure out if that'll be a separate hash key (because you can't have dupes) or you're going to insert an array into the hash. </p>\n"}, {"comments": [{"owner": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "edited": false, "score": 0, "creation_date": 1431366470, "post_id": 30172471, "comment_id": 48454648, "body": "Got below error: Can&#39;t locate auto/XML/LibXML/load_xml.al in @INC (@INC contains: /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.8.8 /usr/lib/perl5/site_perl /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.8 /usr/lib/perl5/vendor_perl /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/5.8.8 .) at readXML.pl line 8  Module use XML::LibXML; is not present"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "edited": false, "score": 0, "creation_date": 1431367274, "post_id": 30172471, "comment_id": 48455082, "body": "@ArunShankar: You haven&#39;t installed <code>XML::LibXML</code> properly. I would guess you&#39;ve just copied it into place? You need to build it"}, {"owner": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "edited": false, "score": 0, "creation_date": 1431367855, "post_id": 30172471, "comment_id": 48455433, "body": "thank you for your quick response. The tool that am developing needs to be run irrespective of the machine. So, I cannot install a new library. Moreover I do not have privileges as well.. Please let me know if there is anything you can suggest"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1431360337, "creation_date": 1431360337, "answer_id": 30172471, "question_id": 30171183, "link": "https://stackoverflow.com/questions/30171183/read-xml-file-in-perl/30172471#30172471", "title": "Read XML file in perl", "body": "<p>I suggest that you make use of <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a> or <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\"><code>XML::Twig</code></a> rather than the awkward <code>XML::Simple</code>.</p>\n\n<p>This solution uses <code>XML::LibXML</code>, and uses <code>Data::Dump</code> to reveal the resulting hash</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse XML::LibXML;\nuse Data::Dump;\n\nmy $xml = XML::LibXML-&gt;load_xml(location =&gt; 'plugins.xml');\n\nmy %plugins;\n\nfor my $plugin ( $xml-&gt;findnodes('/root/installer/Plugins') ) {\n\n  my $name = $plugin-&gt;findvalue('PluginsName');\n\n  for my $info ( $plugin-&gt;findnodes('*') ) {\n\n    my @elements = $info-&gt;findnodes('*');\n    @elements = ($info) unless @elements;\n\n    $plugins{$name}{$_-&gt;localname} = $_-&gt;textContent for @elements;\n  }\n}\n\nuse Data::Dump;\ndd \\%plugins;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>{\n  \"\" =&gt; {\n    installerEndTime   =&gt; \"2015-05-10 21:37:47.428 +0000\",\n    installerStartTime =&gt; \"2015-05-10 20:02:46.651 +0000\",\n  },\n  \"ConfigValue\" =&gt; {\n    PluginsAttemptNo     =&gt; 1,\n    PluginsDuration      =&gt; \"0 min, 27 sec, 351 millis\",\n    PluginsEndTime       =&gt; \"2015-05-10 20:03:14.002 +0000\",\n    PluginsErrors        =&gt; \"No Errors\",\n    PluginsLogFileErrors =&gt; \"No Errors\",\n    PluginsLogFileLink   =&gt; \"/tmp/abc.log\",\n    PluginsLogFileName   =&gt; \"abc.log\",\n    PluginsName          =&gt; \"ConfigValue\",\n    PluginspatchLogName  =&gt; \"abc_patch.log\",\n    PluginsRunningSeq    =&gt; 1,\n    PluginsStartTime     =&gt; \"2015-05-10 20:02:46.651 +0000\",\n    PluginsStatus        =&gt; \"Success\",\n  },\n  \"Download Patching\" =&gt; {\n    PluginsAttemptNo     =&gt; 1,\n    PluginsDuration      =&gt; \"0 min, 11 sec, 120 millis\",\n    PluginsEndTime       =&gt; \"2015-05-10 20:03:29.983 +0000\",\n    PluginsErrors        =&gt; \"No Errors\",\n    PluginsLogFileErrors =&gt; \"No Errors\",\n    PluginsLogFileLink   =&gt; \"/tmp/abc.log\",\n    PluginsLogFileName   =&gt; \"abc.log\",\n    PluginsName          =&gt; \"Download Patching\",\n    PluginspatchLogName  =&gt; \"abc_patch.log\",\n    PluginsRunningSeq    =&gt; 3,\n    PluginsStartTime     =&gt; \"2015-05-10 20:03:18.863 +0000\",\n    PluginsStatus        =&gt; \"Success\",\n  },\n  \"Patching Manager\" =&gt; {\n    PluginsAttemptNo     =&gt; 1,\n    PluginsDuration      =&gt; \"0 min, 2 sec, 571 millis\",\n    PluginsEndTime       =&gt; \"2015-05-10 20:03:16.573 +0000\",\n    PluginsErrors        =&gt; \"No Errors\",\n    PluginsLogFileErrors =&gt; \"No Errors\",\n    PluginsLogFileLink   =&gt; \"/tmp/abc.log\",\n    PluginsLogFileName   =&gt; \"abc.log\",\n    PluginsName          =&gt; \"Patching Manager\",\n    PluginspatchLogName  =&gt; \"abc_patch_patch.log\",\n    PluginsRunningSeq    =&gt; 2,\n    PluginsStartTime     =&gt; \"2015-05-10 20:03:14.002 +0000\",\n    PluginsStatus        =&gt; \"Success\",\n  },\n}\n</code></pre>\n"}], "owner": {"reputation": 855, "user_id": 1677102, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37d7fd63cc42d1332db097ab129cbe4b?s=128&d=identicon&r=PG", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/1677102/arun-shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 0, "accepted_answer_id": 30171611, "answer_count": 2, "score": 1, "last_activity_date": 1431360337, "creation_date": 1431356630, "last_edit_date": 1431359768, "question_id": 30171183, "link": "https://stackoverflow.com/questions/30171183/read-xml-file-in-perl", "title": "Read XML file in perl", "body": "<p>I have an xml file as below. In perl, I am trying to use <code>use XML::Simple; utility</code> where <code>PluginsName</code> should be the hash key and the rest of Plugin details should be values. </p>\n\n<p>So, I want to fetch the below values : <code>PluginsName</code>, <code>PluginsStatus</code>, <code>PluginspatchLogName</code>, <code>PluginsLogFileName</code> and <code>PluginsLogFileErrors</code> which is in tag <code>PluginsLogFiles</code>. </p>\n\n<p>Basically I want all information for a given <code>PluginsName</code></p>\n\n<pre><code>&lt;installer&gt;\n  &lt;Plugins&gt;\n      &lt;PluginsRunningSeq&gt;1&lt;/PluginsRunningSeq&gt;\n      &lt;PluginspatchLogName&gt;abc_patch.log&lt;/PluginspatchLogName&gt;\n      &lt;PluginsName&gt;ConfigValue&lt;/PluginsName&gt;\n      &lt;PluginsAttemptNo&gt;1&lt;/PluginsAttemptNo&gt;\n      &lt;PluginsStatus&gt;Success&lt;/PluginsStatus&gt;\n      &lt;PluginsStartTime&gt;2015-05-10 20:02:46.651 +0000&lt;/PluginsStartTime&gt;\n      &lt;PluginsEndTime&gt;2015-05-10 20:03:14.002 +0000&lt;/PluginsEndTime&gt;\n      &lt;PluginsDuration&gt;0 min, 27 sec, 351 millis&lt;/PluginsDuration&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.log&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsErrors&gt;No Errors&lt;/PluginsErrors&gt;\n    &lt;/Plugins&gt;\n    &lt;Plugins&gt;\n      &lt;PluginsRunningSeq&gt;2&lt;/PluginsRunningSeq&gt;\n      &lt;PluginspatchLogName&gt;abc_patch_patch.log&lt;/PluginspatchLogName&gt;\n      &lt;PluginsName&gt;Patching Manager&lt;/PluginsName&gt;\n      &lt;PluginsAttemptNo&gt;1&lt;/PluginsAttemptNo&gt;\n      &lt;PluginsStatus&gt;Success&lt;/PluginsStatus&gt;\n      &lt;PluginsStartTime&gt;2015-05-10 20:03:14.002 +0000&lt;/PluginsStartTime&gt;\n      &lt;PluginsEndTime&gt;2015-05-10 20:03:16.573 +0000&lt;/PluginsEndTime&gt;\n      &lt;PluginsDuration&gt;0 min, 2 sec, 571 millis&lt;/PluginsDuration&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.lo&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.log&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.log&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsErrors&gt;No Errors&lt;/PluginsErrors&gt;\n    &lt;/Plugins&gt;\n    &lt;Plugins&gt;\n      &lt;PluginsRunningSeq&gt;3&lt;/PluginsRunningSeq&gt;\n      &lt;PluginspatchLogName&gt;abc_patch.log&lt;/PluginspatchLogName&gt;\n      &lt;PluginsName&gt;Download Patching&lt;/PluginsName&gt;\n      &lt;PluginsAttemptNo&gt;1&lt;/PluginsAttemptNo&gt;\n      &lt;PluginsStatus&gt;Success&lt;/PluginsStatus&gt;\n      &lt;PluginsStartTime&gt;2015-05-10 20:03:18.863 +0000&lt;/PluginsStartTime&gt;\n      &lt;PluginsEndTime&gt;2015-05-10 20:03:29.983 +0000&lt;/PluginsEndTime&gt;\n      &lt;PluginsDuration&gt;0 min, 11 sec, 120 millis&lt;/PluginsDuration&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.log&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsLogFiles&gt;\n        &lt;PluginsLogFileName&gt;abc.log&lt;/PluginsLogFileName&gt;\n        &lt;PluginsLogFileLink&gt;/tmp/abc.log&lt;/PluginsLogFileLink&gt;\n        &lt;PluginsLogFileErrors&gt;No Errors&lt;/PluginsLogFileErrors&gt;\n      &lt;/PluginsLogFiles&gt;\n      &lt;PluginsErrors&gt;No Errors&lt;/PluginsErrors&gt;\n    &lt;/Plugins&gt;\n    &lt;Plugins&gt;\n    &lt;installerStartTime&gt;2015-05-10 20:02:46.651 +0000&lt;/installerStartTime&gt;\n    &lt;installerEndTime&gt;2015-05-10 21:37:47.428 +0000&lt;/installerEndTime&gt;\n  &lt;/installer&gt;\n</code></pre>\n\n<p></p>\n\n<p>I was able to create an hash map based on PluginsName using the below code. But, I am unable to proceed further</p>\n\n<p><code>my $pluginDetails = XMLin('/tmp/Installer.xml', KeyAttr =&gt; {Plugins =&gt; 'PluginsName'});</code></p>\n\n<p>Could someone please help?</p>\n"}, {"tags": ["arrays", "perl", "data-structures", "perl-data-structures"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1431356895, "post_id": 30171123, "comment_id": 48448544, "body": "Ah, I see what you&#39;re saying. As I said in my answer to your other question, &quot;Note that this implementation accepts a single array reference of points, where a point is a reference to a two-element array, instead of separate array references of x- and y-coordinates.&quot; You&#39;re trying to pass a reference to a single-element array to <code>x_intercepts</code>; it expects a reference to an array of points, e.g. <code>my $points = [ [0, 0], [1, 2], [-1, -1] ]; x_intercepts($points);</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1431358508, "post_id": 30171123, "comment_id": 48449696, "body": "Pass an array reference of points. If you want to find the x-intercept of the line segment from (-1, -1) to (1, 1), you would call <code>my $intercept = x_intercepts( [ [-1, -1], [1, 1] ] );</code> The result will also be an array reference of points, in this case <code>[ [0, 0] ]</code>, representing a single intercept at the origin."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1431359426, "post_id": 30171123, "comment_id": 48450346, "body": "That&#39;s exactly what it does. If you pass <code>[ [-1, -1], [1, 1], [3, -1] ]</code> to represent the two contiguous line segments from (-1, -1) to (1, 1) and (1, 1) to (3, -1), you&#39;ll get two intercepts: <code>[ [0, 0], [2, 0] ]</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1431360560, "post_id": 30171123, "comment_id": 48451108, "body": "If you want to pass an arrayref of x-coordinates and an arrayref of y-coordinates, you&#39;ll have to change the code accordingly. As for the &quot;data type&quot; that is being passed to the function, please re-read my comments above; I&#39;ve given several examples already."}], "answers": [{"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431537004, "post_id": 30176841, "comment_id": 48546309, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/77741/discussion-between-g-cito-and-masi\">continue this discussion in chat</a>."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 1, "creation_date": 1431615958, "post_id": 30176841, "comment_id": 48582871, "body": "<code>foreach my $i ( 0..$#y ) { push @input_list, [ $x[$i], $y[$i] ] ;</code> steps through both arrays element by element until the end of the <code>@y</code> array (since each is a list of  linked <code>x,y</code> points both arrays must by definition be the same length) and  then pushes the elements - <i>as a pair</i> - onto <code>@input_list</code> inside an anonymous array (<i>viz.</i> the <code>[]</code> constructor surrounding them). There may be another way to do this but this is simple and readable."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431616326, "post_id": 30176841, "comment_id": 48583143, "body": "Thanks for accepting my answer but it is difficult to tell to what part of the question it responds exactly. You may have noticed your question is starting to get down votes since it is very long and introduces new questions (along with error output not strictly  related to the original question), and other material that should be in comments.  The question also has too many comments which we should remove - at least once the body of the original post is improved."}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431640039, "post_id": 30176841, "comment_id": 48596743, "body": "I removed the comments and managed to reduce the case only here <a href=\"http://stackoverflow.com/q/30247937/54964\">stackoverflow.com/q/30247937/54964</a> Something basic, I am doing wrong."}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": true, "score": 1, "last_activity_date": 1431375323, "last_edit_date": 1495540691, "creation_date": 1431375323, "answer_id": 30176841, "question_id": 30171123, "link": "https://stackoverflow.com/questions/30171123/how-to-use-an-array-reference-to-pairs-of-elements/30176841#30176841", "title": "How to use an array reference to pairs of elements", "body": "<p>If I am understanding the problem here, @ThisSuitIsBlackNot++ has written a function (<code>x_intercepts</code> which is available in the thread: <a href=\"https://stackoverflow.com/q/30023740/2019415\">Function to extract intersections of crossing lines on axes</a>) that expects its argument to be a reference to a list of array references. The <code>x_intercepts</code> subroutine in turn uses a function from <code>Math::Geometry::Planar</code> which expects the points of a line segment to be passed as series of array references/anonymous arrays that contain the <code>x,y</code> values for each point.  </p>\n\n<p>Again - it is not <em>entirely</em> clear - but it seems <em>your data</em> is in two different arrays: one containing all the x values and one with the corresponding y values. Is this the case?  If this is not correct please leave a comment and I will remove this answer.</p>\n\n<p>If that is the source of your problem then you can \"munge\" or transform your data before you pass it to <code>x_intercepts</code> or - as @ThisSuitIsBlackNot suggests - you can rewrite the function. Here is an example of munging your existing data into an \"<code>@input_list</code>\" to pass to <code>x_intercepts</code>. </p>\n\n<pre><code>my @xs = qw/-1 1 3/;\nmy @ys = qw/-1 1 -1 /;\n\nmy @input_list ;\nforeach my $i ( 0..$#ys ) {\n   push @input_list,  [ $xs[$i], $ys[$i] ]  ;\n}\n\nmy $intercept_list = x_intercepts(\\@input_list)  ;\nsay join \",\", @$_ for @$intercept_list ;\n</code></pre>\n\n<p>Adding the lines above to your script produces:</p>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>0,0\n2,0\n</code></pre>\n\n<p>You have to be very careful doing this kind of thing and using tests to make sure you are passing the correctly transformed data in an expected way is a good idea. </p>\n\n<hr>\n\n<p>I think a more general difficulty is that until you are familiar with perl it is sometimes tricky to easily see what sorts of values a subroutine is expecting, where they end up after they are passed in, and how to access them.  </p>\n\n<p>A solid grasp of perl data structures can help with that - for example I <em>think</em> what you are calling a \"double array\" or \"double element\" here is an <a href=\"http://perldoc.perl.org/perldsc.html#ARRAYS-OF-ARRAYS\" rel=\"nofollow noreferrer\">\"array of arrays\"</a>. There are ways to make it easier to see where default arguments passed to a subroutine (in <code>@_</code>) are going (notice how @ThisSuitIsBlackNot has passed them to a nicely named array reference: \"<code>($points)</code>\"). Copious re-reading of <code>perldoc</code><a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\"><code>perbsub</code></a> can help things seem more obvious.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">References</a> are key to understanding perl subroutines since to pass an array or hash to a subrouting you need to do so by references. If the argument passed <code>x_intercepts</code> is a list of two lists of anonymous arrays then when it is  assigned to <code>($points)</code>, <code>@$points-&gt;[0]</code> <code>@$points-&gt;[1]</code> will be the arrays contain those lists.</p>\n\n<p>I hope this helps and is not too basic (or incorrect). If @ThisSuitIsBlackNot finds the time to provide an answer you should accept it: some very useful examples have been provided.</p>\n"}], "owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 2, "accepted_answer_id": 30176841, "answer_count": 1, "score": 0, "last_activity_date": 1431639368, "creation_date": 1431356473, "last_edit_date": 1495542604, "question_id": 30171123, "link": "https://stackoverflow.com/questions/30171123/how-to-use-an-array-reference-to-pairs-of-elements", "title": "How to use an array reference to pairs of elements", "body": "<p>I am considering this <a href=\"https://stackoverflow.com/a/30033880/54964\">answer</a> which uses a single array reference of points, where a point is a reference to a two-element array. \nMy original code of the question (function <code>extract-crossing</code>) uses two separate arrays <code>$x</code> and <code>$y</code> <a href=\"https://stackoverflow.com/q/30023740/54964\">here</a> which I call like this:</p>\n\n<pre><code>my @x = @{ $_[0] }; my @y = @{ $_[1] };\n...\nreturn extract_crossing(\\@x, \\@y);\n</code></pre>\n\n<p>The new code below based on the <a href=\"https://stackoverflow.com/a/30033880/54964\">answer</a> takes <code>(x, y)</code> and returns a single datatype, here x intercept points:</p>\n\n<pre><code>use strict; use warnings;    \nuse Math::Geometry::Planar qw(SegmentLineIntersection);\nuse Test::Exception;\n\nsub x_intercepts {\n   my ($points) = @_;\n\n   die 'Must pass at least 2 points' unless @$points &gt;= 2;\n\n   my @intercepts;\n   my @x_axis = ( [0, 0], [1, 0] );\n\n   foreach my $i (0 .. $#$points - 1) {\n     my $intersect = SegmentLineIntersection([@$points[$i,$i+1],@x_axis]);\n     push @intercepts, $intersect if $intersect;\n   }\n\n   return \\@intercepts;\n}\n</code></pre>\n\n<p>which I try to call like this: </p>\n\n<pre><code>my @x = @{ $_[0] }; my @y = @{ $_[1] };  \n...\nmy $masi = x_intercepts(\\@x);\nreturn $masi; \n</code></pre>\n\n<p>However, the code does not make sense. \nI am confused about passing the \"double array\" to the <code>x_intercepts()</code> function. </p>\n\n<p>How can you make the example code clearer to the original setting? </p>\n"}, {"tags": ["c", "perl", "openssl", "swig", "ecdsa"], "answers": [{"comments": [{"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "edited": false, "score": 0, "creation_date": 1433872770, "post_id": 30174049, "comment_id": 49534816, "body": "Don&#39;t remove it, someone will get use of it sooner or later"}], "tags": [], "owner": {"reputation": 1778, "user_id": 209933, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/553eab5e7c739c9ece84212dd04d191c?s=128&d=identicon&r=PG", "display_name": "philosodad", "link": "https://stackoverflow.com/users/209933/philosodad"}, "is_accepted": true, "score": 2, "last_activity_date": 1431365612, "creation_date": 1431365612, "answer_id": 30174049, "question_id": 30170929, "link": "https://stackoverflow.com/questions/30170929/segmentation-fault-when-signing-a-message-using-openssl-swig-and-perl/30174049#30174049", "title": "Segmentation fault when signing a message using OpenSSL, SWIG, and Perl", "body": "<p>The answer to this question is: we were calling the arguments in the wrong order.</p>\n\n<p>Seriously. The line: </p>\n\n<p><code>$signature = key_utils::mysignMessageWithPem($pem, $message);</code></p>\n\n<p>needed to be:</p>\n\n<p><code>$signature = key_utils::mysignMessageWithPem($message, $pem);</code></p>\n\n<p>We were in fact doing something wrong. I was tempted to remove the question, but maybe the answer can serve as a cautionary tale or something.</p>\n"}], "owner": {"reputation": 1778, "user_id": 209933, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/553eab5e7c739c9ece84212dd04d191c?s=128&d=identicon&r=PG", "display_name": "philosodad", "link": "https://stackoverflow.com/users/209933/philosodad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 1, "accepted_answer_id": 30174049, "answer_count": 1, "score": 2, "last_activity_date": 1431365612, "creation_date": 1431355948, "question_id": 30170929, "link": "https://stackoverflow.com/questions/30170929/segmentation-fault-when-signing-a-message-using-openssl-swig-and-perl", "title": "Segmentation fault when signing a message using OpenSSL, SWIG, and Perl", "body": "<p>We were using SWIG to make a C cryptographic utility library available to Perl. We are able to generate keys, create digests, but the signing code causes a segmentation fault, which we believe may be in the OpenSSL code itself but it's difficult to be sure.</p>\n\n<p>This problem only comes up when running the code with SWIG, the native C code works.</p>\n\n<p>In Perl, we call this: </p>\n\n<pre><code>$signature = key_utils::mysignMessageWithPem($pem, $message);\n</code></pre>\n\n<p>Which calls this code in the .i file:</p>\n\n<pre><code>%newobject mysignMessageWithPem;                                                                                                                                                                                                                                                                                              \n\n%inline %{                                                                                                                                                                                                                                                                                                                    \n  char *mysignMessageWithPem(char *pem, char *message) {                                                                                                                                                                                                                                                                      \n    char *ret = malloc(145);                                                                                                                                                                                                                                                                                                  \n    char *err = malloc(5);                                                                                                                                                                                                                                                                                                    \n    int errorCode;                                                                                                                                                                                                                                                                                                            \n\n    memcpy(err, \"ERROR\", 5);                                                                                                                                                                                                                                                                                                  \n\n    errorCode = signMessageWithPem(pem, message, &amp;ret);                                                                                                                                                                                                                                                                       \n    char *signature = ret;                                                                                                                                                                                                                                                                                                    \n\n    if (errorCode == NOERROR) {                                                                                                                                                                                                                                                                                               \n      return signature;                                                                                                                                                                                                                                                                                                       \n    } else {                                                                                                                                                                                                                                                                                                                  \n      return err;                                                                                                                                                                                                                                                                                                             \n    }                                                                                                                                                                                                                                                                                                                         \n\n  }                                                                                                                                                                                                                                                                                                                           \n%}                     \n</code></pre>\n\n<p>Which calls this C code:</p>\n\n<pre><code>int signMessageWithPem(char *message, char *pem, char **signature) {                                                                                                                                                                                                                                                          \n\nunsigned int meslen = strlen(message);                                                                                                                                                                                                                                                                                    \nunsigned char *messagebytes = calloc(meslen, sizeof(unsigned char));                                                                                                                                                                                                                                                      \nECDSA_SIG *sig = NULL;                                                                                                                                                                                                                                                                                                    \nmemcpy(messagebytes, message, meslen);                                                                                                                                                                                                                                                                                    \n\nEC_KEY *key = NULL;                                                                                                                                                                                                                                                                                                       \nBIO *in = NULL;                                                                                                                                                                                                                                                                                                           \nunsigned char *buffer = NULL;                                                                                                                                                                                                                                                                                             \n\nchar *sha256ofMsg = calloc(SHA256_HEX_STRING, sizeof(char));                                                                                                                                                                                                                                                              \nunsigned char *outBytesOfsha256ofMsg = calloc(SHA256_STRING, sizeof(unsigned char));                                                                                                                                                                                                                                      \n\ndigestOfBytes(messagebytes, &amp;sha256ofMsg, \"sha256\", meslen);                                                                                                                                                                                                                                                              \nsha256ofMsg[64] = '\\0';                                                                                                                                                                                                                                                                                                   \ncreateDataWithHexString(sha256ofMsg, &amp;outBytesOfsha256ofMsg);                                                                                                                                                                                                                                                             \n\nin = BIO_new(BIO_s_mem());                                                                                                                                                                                                                                                                                                \nBIO_puts(in, pem);                                                                                                                                                                                                                                                                                                        \nPEM_read_bio_ECPrivateKey(in, &amp;key, NULL, NULL);                                                                                                                                                                                                                                                                          \n\nsig = ECDSA_do_sign((const unsigned char*)outBytesOfsha256ofMsg, SHA256_DIGEST_LENGTH, key);                                                                                                                                                                                                                              \nint verify = ECDSA_do_verify((const unsigned char*)outBytesOfsha256ofMsg, SHA256_DIGEST_LENGTH, sig, key);                                                                                                                                                                                                                \n\nif(verify != 1) {                                                                                                                                                                                                                                                                                                         \n    return ERROR;                                                                                                                                                                                                                                                                                                         \n}                                                                                                                                                                                                                                                                                                                         \n\nint buflen = ECDSA_size(key);                                                                                                                                                                                                                                                                                             \nbuffer = OPENSSL_malloc(buflen);                                                                                                                                                                                                                                                                                          \n\nint derSigLen = i2d_ECDSA_SIG(sig, &amp;buffer);                                                                                                                                                                                                                                                                              \n\nchar *hexData = calloc(derSigLen, sizeof(char));                                                                                                                                                                                                                                                                          \nmemcpy(hexData, buffer-derSigLen, derSigLen);                                                                                                                                                                                                                                                                             \n\nchar *hexString = calloc(derSigLen*2+1, sizeof(char));                                                                                                                                                                                                                                                                    \n\nhexString[derSigLen * 2] = '\\0';                                                                                                                                                                                                                                                                                          \ntoHexString(hexData, derSigLen, hexString);                                                                                                                                                                                                                                                                               \n\nmemcpy(*signature, hexString, derSigLen*2);                                                                                                                                                                                                                                                                               \nsignature[derSigLen * 2] = '\\0';                                                                                                                                                                                                                                                                                          \n\nEC_KEY_free(key);                                                                                                                                                                                                                                                                                                         \n\nBIO_free_all(in);                                                                                                                                                                                                                                                                                                         \nfree(sha256ofMsg);                                                                                                                                                                                                                                                                                                        \nfree(outBytesOfsha256ofMsg);                                                                                                                                                                                                                                                                                              \nfree(hexData);                                                                                                                                                                                                                                                                                                            \nfree(hexString);                                                                                                                                                                                                                                                                                                          \n\nreturn NOERROR;\n}                  \n</code></pre>\n\n<p>And returns <code>Segmentation Fault</code>. The most informative error we have gotten is <code>perl crashed with SIGSEGV in EC_KEY_get_key_method_data()</code></p>\n\n<p>The full code is here: <a href=\"https://github.com/aleitner/bitpay-perl/tree/stack-overflow-question\" rel=\"nofollow\">https://github.com/aleitner/bitpay-perl/tree/stack-overflow-question</a></p>\n\n<p>Is this a bug with SSL, or are we doing this wrong?</p>\n"}, {"tags": ["perl", "terminal"], "answers": [{"tags": [], "owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "is_accepted": false, "score": 0, "last_activity_date": 1431352661, "creation_date": 1431352661, "answer_id": 30169638, "question_id": 30169496, "link": "https://stackoverflow.com/questions/30169496/how-to-run-a-perl-file-in-a-terminal-pipeline/30169638#30169638", "title": "How to run a perl file in a terminal pipeline", "body": "<p>You're trying to read the text as if it were an argument, when in fact with a pipeline the information from <code>input.txt</code> will be something you read from <code>stdin</code>.  With a pipeline <code>stdout</code> from the left process is connected to <code>stdin</code> of the right process.</p>\n"}, {"comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 2, "creation_date": 1431353726, "post_id": 30169880, "comment_id": 48446079, "body": "You might add that it&#39;s better style to use <code>&lt;&gt;</code> rather than <code>&lt;STDIN&gt;</code>: with <code>&lt;&gt;</code> the user of the script can always optionally pass in as arguments the names of files to take the input from, which is a common and useful convention for Unix utilities to follow."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1431354889, "post_id": 30169880, "comment_id": 48446931, "body": "<code>\\n</code> will match (unless you use -l with -n or -p)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431358089, "post_id": 30169880, "comment_id": 48449378, "body": "OK, amended. Wasn&#39;t sure which scenarios it had problems with."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1431358075, "last_edit_date": 1495535216, "creation_date": 1431353368, "answer_id": 30169880, "question_id": 30169496, "link": "https://stackoverflow.com/questions/30169496/how-to-run-a-perl-file-in-a-terminal-pipeline/30169880#30169880", "title": "How to run a perl file in a terminal pipeline", "body": "<p><code>@ARGV</code> doesn't do what you think it does. It's literally the arguments passed to perl. </p>\n\n<p>E.g. :</p>\n\n<pre><code>myscript.pl some arg\n</code></pre>\n\n<p><code>@ARGV</code> will host <code>'some', 'arg'</code>. </p>\n\n<p>What you want is the <code>STDIN</code> file handle. </p>\n\n<p>e.g.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nwhile ( &lt;STDIN&gt; ) {\n    s/something/somethingelse/g; \n    print;\n}\n</code></pre>\n\n<p>Now what this is doing is reading <code>STDIN</code> line by line. Your pattern includes <code>\\n</code>.  Do you actually need it? It looks like you're 'just' using it as a line anchor, and so you could use:</p>\n\n<pre><code>s/\\.\\)$/'\\.'\\)/g;\n</code></pre>\n\n<p><code>$</code> is the regex for \"end of line\" - see <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perlre</code></a> for more. </p>\n\n<p>However, as noted in the comments by <a href=\"https://stackoverflow.com/users/17945/reinierpost\">reinierpost</a> - there's another thing that's probably useful to know - perl has the \"diamond operator\" <code>&lt;&gt;</code> which does two things:</p>\n\n<ul>\n<li>If filenames are specified to the script, opens them and reads from them. </li>\n<li>If no arguments specified, reads <code>STDIN</code>. </li>\n</ul>\n\n<p>So you could do:</p>\n\n<pre><code>while ( &lt;&gt; ) {\n    s/something/somethingelse/g; \n    print;\n}\n</code></pre>\n\n<p>And then your script can either be invoked by:</p>\n\n<pre><code>cat input.txt | ./yourscript.pl\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>./yourscript.pl input.txt\n</code></pre>\n\n<p>And you'll have the same result. </p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431354778, "post_id": 30170076, "comment_id": 48446857, "body": "Wouldn&#39;t you need a <code>g</code> on the end of the pattern?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1431354965, "post_id": 30170076, "comment_id": 48446986, "body": "no, since the OP wants to match at the end of the line, g is not needed or wanted"}, {"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 0, "creation_date": 1431356279, "post_id": 30170076, "comment_id": 48448033, "body": "btw, <code>for(&lt;&gt;)</code> loads the <i>whole</i> file in memory, while <code>while(&lt;&gt;)</code> doesn&#39;t."}], "tags": [], "owner": {"reputation": 876, "user_id": 1577347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5wJu.png?s=128&g=1", "display_name": "Chris Smeele", "link": "https://stackoverflow.com/users/1577347/chris-smeele"}, "is_accepted": false, "score": 0, "last_activity_date": 1431357452, "last_edit_date": 1431357452, "creation_date": 1431353817, "answer_id": 30170076, "question_id": 30169496, "link": "https://stackoverflow.com/questions/30169496/how-to-run-a-perl-file-in-a-terminal-pipeline/30170076#30170076", "title": "How to run a perl file in a terminal pipeline", "body": "<p>As others have mentioned, <code>@ARGV</code> contains arguments to your script, and you'll want to use <code>STDIN</code> instead.</p>\n\n<p>The shortest solution seems to be:</p>\n\n<pre><code>#/usr/bin/env perl\n\nuse strict;\n\nwhile(&lt;&gt;) {\n    print s/\\.\\)$/'.')/r;\n}\n</code></pre>\n\n<p>Note that you could also achieve the results of your example using a one-liner as follows:</p>\n\n<pre><code>cat input.txt | perl -pe 's/your/substitution/'\n</code></pre>\n"}], "owner": {"reputation": 898, "user_id": 1296891, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Utjd4.jpg?s=128&g=1", "display_name": "Fibo Kowalsky", "link": "https://stackoverflow.com/users/1296891/fibo-kowalsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1431358075, "creation_date": 1431352322, "question_id": 30169496, "link": "https://stackoverflow.com/questions/30169496/how-to-run-a-perl-file-in-a-terminal-pipeline", "title": "How to run a perl file in a terminal pipeline", "body": "<p>Probably a very simple question:\nI have a perl file <code>sed.perl</code> that takes as an input a string, makes some substitutions there and prints it on the standard output.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse diagnostics;\nuse feature 'say';\n#use Cwd;\n\nmy ($text) = @ARGV; \n\n$text =~ s/\\.\\)\\n/'\\.'\\)\\n/;\n\nprint $text;\n</code></pre>\n\n<p>I want to feed the script with a string output from a terminal pipeline. Let's say in this way:</p>\n\n<pre><code>cat input.txt | perl sed.perl\n</code></pre>\n\n<p>but this doesn't work: <code>Use of uninitialized value $text in substitution (s///) at</code></p>\n\n<p>Using a score symbol doesn't works either:</p>\n\n<pre><code>cat input.txt | perl sed.perl -\n</code></pre>\n"}, {"tags": ["java", "linux", "bash", "perl", "shell"], "comments": [{"owner": {"reputation": 208, "user_id": 4867727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ43v.jpg?s=128&g=1", "display_name": "GiantTree", "link": "https://stackoverflow.com/users/4867727/gianttree"}, "edited": false, "score": 0, "creation_date": 1431351889, "post_id": 30169164, "comment_id": 48444699, "body": "The error you are getting comes from that shell script. Are you sure you are running it in the correct working directory and have you made sure that all files are executable?"}, {"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1431351916, "post_id": 30169164, "comment_id": 48444718, "body": "What does your decode.sh look like?  Probably you do not have <code>.&#47;</code> in front of the scripts you&#39;re trying to run and it cannot find them in the path anywhere"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4887422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5d4c8f9dd4cfc3901d12f89daf65bf?s=128&d=identicon&r=PG&f=1", "display_name": "Thinking", "link": "https://stackoverflow.com/users/4887422/thinking"}, "edited": false, "score": 0, "creation_date": 1431352687, "post_id": 30169349, "comment_id": 48445292, "body": "Thank you for the quick reply. However if for any reason I am unable to change the path to the absolute path on decode.sh, isn&#39;t there a way I can run decode.sh script from java?"}, {"owner": {"reputation": 12309, "user_id": 423991, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PTnBq.jpg?s=128&g=1", "display_name": "K Erlandsson", "link": "https://stackoverflow.com/users/423991/k-erlandsson"}, "reply_to_user": {"reputation": 11, "user_id": 4887422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5d4c8f9dd4cfc3901d12f89daf65bf?s=128&d=identicon&r=PG&f=1", "display_name": "Thinking", "link": "https://stackoverflow.com/users/4887422/thinking"}, "edited": false, "score": 0, "creation_date": 1431353206, "post_id": 30169349, "comment_id": 48445685, "body": "I know too little about the third party library you are using to execute the commands. Possibly you can provide an environment with a better PATH to it, or make it set CWD properly. However, the very best way is to make the shell scripts better and you will avoid future similar problems when using them."}], "tags": [], "owner": {"reputation": 12309, "user_id": 423991, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PTnBq.jpg?s=128&g=1", "display_name": "K Erlandsson", "link": "https://stackoverflow.com/users/423991/k-erlandsson"}, "is_accepted": false, "score": 1, "last_activity_date": 1431353026, "last_edit_date": 1495535049, "creation_date": 1431351924, "answer_id": 30169349, "question_id": 30169164, "link": "https://stackoverflow.com/questions/30169164/execute-a-shell-script-shell-script-which-uses-perl-and-other-shell-scripts-in/30169349#30169349", "title": "Execute a shell script (shell script which uses perl and other shell scripts) in Linux from java", "body": "<p>The error comes from your <code>decode.sh</code> script. It cannot find the <code>shadow.pl</code> and <code>fram.sh</code> scripts that it executes. Probably because the CWD or path is not set to the script dir when you run the script.</p>\n\n<p>The most robust way to solve it is to change your <code>decode.sh</code> script to use absolute paths to the <code>shadow.pl</code> and <code>fram.sh</code> scripts. That way you can execute <code>decode.sh</code> from any directory.</p>\n\n<p>If you use bash, check out <a href=\"https://stackoverflow.com/questions/59895/can-a-bash-script-tell-what-directory-its-stored-in\">this</a> question for a neat way to resolve the absolute directory to the scripts to avoid hard coding the path.</p>\n"}, {"tags": [], "owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1431353394, "last_edit_date": 1495535049, "creation_date": 1431353394, "answer_id": 30169888, "question_id": 30169164, "link": "https://stackoverflow.com/questions/30169164/execute-a-shell-script-shell-script-which-uses-perl-and-other-shell-scripts-in/30169888#30169888", "title": "Execute a shell script (shell script which uses perl and other shell scripts) in Linux from java", "body": "<p>Let decode.sh find out the directory it is in (see <a href=\"https://stackoverflow.com/questions/59895/can-a-bash-script-tell-what-directory-its-stored-in\">bash solution</a>) and use the path for calling the others. </p>\n"}], "owner": {"reputation": 11, "user_id": 4887422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5d4c8f9dd4cfc3901d12f89daf65bf?s=128&d=identicon&r=PG&f=1", "display_name": "Thinking", "link": "https://stackoverflow.com/users/4887422/thinking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1431353394, "creation_date": 1431351432, "last_edit_date": 1431352057, "question_id": 30169164, "link": "https://stackoverflow.com/questions/30169164/execute-a-shell-script-shell-script-which-uses-perl-and-other-shell-scripts-in", "title": "Execute a shell script (shell script which uses perl and other shell scripts) in Linux from java", "body": "<p>I am trying to execute a shell script (that makes use of a perl script and other shell scripts) from java program, however I am not successful, here is what I tried:</p>\n\n<p>On the Linux server, in a folder test1/testJava the following scripts are available:</p>\n\n<ol>\n<li>decode24.sh (the main script I call from java program, this script makes use of the other scripts listed below)</li>\n<li>fram.sh</li>\n<li>shadow.pl</li>\n<li>light.sh</li>\n</ol>\n\n<p>Here is what I try from java:</p>\n\n<pre><code>try {\n        ConnBean cb = new ConnBean(\"xx.yyy.zz.p\", \"user\",\"passme\");\n        ssh = SSHExec.getInstance(cb);\n        CustomTask ct1 = new ExecShellScript(\"/test1/testJava\", \"./decode24.sh\", \"arg1\");\n        ssh.connect();\n        net.neoremind.sshxcute.core.Result res = ssh.exec(ct1);\n }catch......\n</code></pre>\n\n<p>Result after execution:</p>\n\n<p>error message:</p>\n\n<pre><code>./decode.sh[17]: shadow.pl: not found [No such file or directory]\n./decode.sh[21]: fram.sh: not found [No such file or directory]\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 4, "creation_date": 1431350555, "post_id": 30168825, "comment_id": 48443740, "body": "what is the regex u used?"}, {"owner": {"reputation": 7, "user_id": 4886764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67717ce9f632a543c0bf7ccf7e20e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "paulmc", "link": "https://stackoverflow.com/users/4886764/paulmc"}, "reply_to_user": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 0, "creation_date": 1431350660, "post_id": 30168825, "comment_id": 48443812, "body": "[\\d.]+ is what I used"}, {"owner": {"reputation": 1767, "user_id": 2550045, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bc15cfec5bb61848f51987ac7b4d825f?s=128&d=identicon&r=PG", "display_name": "Srb1313711", "link": "https://stackoverflow.com/users/2550045/srb1313711"}, "edited": false, "score": 0, "creation_date": 1431350836, "post_id": 30168825, "comment_id": 48443948, "body": "What are &quot;the things I want&quot; what are you looking for in the text? If your just rewriting everything you don&#39;t need regex"}, {"owner": {"reputation": 5460, "user_id": 4564272, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RujrA.jpg?s=128&g=1", "display_name": "Der Kommissar", "link": "https://stackoverflow.com/users/4564272/der-kommissar"}, "edited": false, "score": 1, "creation_date": 1431353336, "post_id": 30168825, "comment_id": 48445788, "body": "There is no code here; therefore, it is not a Stack Overflow question."}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 1, "creation_date": 1431353835, "post_id": 30168825, "comment_id": 48446160, "body": "Please edit your question to show your code."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1431350618, "creation_date": 1431350618, "answer_id": 30168873, "question_id": 30168825, "link": "https://stackoverflow.com/questions/30168825/regular-expression-get-the-rest-of-the-text-aswell/30168873#30168873", "title": "Regular expression, get the rest of the text aswell", "body": "<p>Without the regex you were using, it's impossible to say.</p>\n\n<p>I would hazard a guess though, that what you need to do is stick <code>.*$</code> on the end of the capture group, in order to grab the rest of the text on the line. </p>\n"}, {"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 0, "last_activity_date": 1431350725, "creation_date": 1431350725, "answer_id": 30168915, "question_id": 30168825, "link": "https://stackoverflow.com/questions/30168825/regular-expression-get-the-rest-of-the-text-aswell/30168915#30168915", "title": "Regular expression, get the rest of the text aswell", "body": "<pre><code>^[\\s\\S]*$\n</code></pre>\n\n<p>should do it for you.</p>\n"}], "owner": {"reputation": 7, "user_id": 4886764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67717ce9f632a543c0bf7ccf7e20e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "paulmc", "link": "https://stackoverflow.com/users/4886764/paulmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1431352162, "creation_date": 1431350491, "last_edit_date": 1431352162, "question_id": 30168825, "link": "https://stackoverflow.com/questions/30168825/regular-expression-get-the-rest-of-the-text-aswell", "title": "Regular expression, get the rest of the text aswell", "body": "<p>I have a text file, a regular expression that looks in that file and gets the things I want. I also write this new information into a new file, however not everything is written to the new file! The file that my regex reads from looks like this:</p>\n\n<blockquote>\n  <p>\"This is my text, it contains of 53 or so words file. That is a very\n  good number. However 80 is a better number. Hopefully I can write more\n  words soon enough. Hopefully very very soon \"</p>\n</blockquote>\n\n<p>What is written to the new text file is:</p>\n\n<blockquote>\n  <p>\"This is my text, it contains of 53 or so words file. That is a very\n  good number. However 80 is a better number. Hopefully I can write more\n  words\"</p>\n</blockquote>\n\n<p>I want everything to be written. Any ideas?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "edited": false, "score": 0, "creation_date": 1431348471, "post_id": 30167802, "comment_id": 48442298, "body": "Note that there is a Unix command <code>join</code> that you can use to do this.  <a href=\"http://stackoverflow.com/questions/6393333/use-unix-join-command-to-merge-two-files\" title=\"use unix join command to merge two files\">stackoverflow.com/questions/6393333/&hellip;</a>  Happy perl-ing, though!"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1431350187, "post_id": 30167980, "comment_id": 48443488, "body": "Would normally use <code>++</code> by default, rather than <code>=1</code> simply because it works in the same way for boolean tests, but makes a count otherwise."}, {"owner": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431353884, "post_id": 30167980, "comment_id": 48446199, "body": "@Sobrique, great tip about <code>++</code>!"}], "tags": [], "owner": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "is_accepted": true, "score": 3, "last_activity_date": 1431354430, "last_edit_date": 1495542598, "creation_date": 1431348221, "answer_id": 30167980, "question_id": 30167802, "link": "https://stackoverflow.com/questions/30167802/perl-matching-two-columns-from-different-tables/30167980#30167980", "title": "perl matching two columns from different tables", "body": "<p>You need to use <code>$hash{$keyfield} = 1</code> to create an association instead of <code>push</code>. </p>\n\n<p>Per <a href=\"https://stackoverflow.com/questions/30167802/perl-matching-two-columns-from-different-tables/30167980#comment48443488_30167980\">tip from @Sobrique</a>, you can also use <code>$hash{$keyfield}++</code> which will let you determine later whether key exists and also give you a number of occurrences.</p>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 30167980, "answer_count": 1, "score": 2, "last_activity_date": 1431354430, "creation_date": 1431347694, "last_edit_date": 1431349077, "question_id": 30167802, "link": "https://stackoverflow.com/questions/30167802/perl-matching-two-columns-from-different-tables", "title": "perl matching two columns from different tables", "body": "<p>I have a table like this with 3 columns, called table1</p>\n\n<pre><code>1       2       A\n2       3       B\n4       5       D\n</code></pre>\n\n<p>I have another table with one column, called table2, looking like this</p>\n\n<pre><code>A\nB\nE\nF\n</code></pre>\n\n<p>If there is a match between table2 and third column of table1, I want to print the matching line as it is to a new table called output, which in this case should look like this</p>\n\n<pre><code>1    2    A\n2    3    B\n</code></pre>\n\n<p>I'm writing in Perl and think I should do this using hash. So I tried the following</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen(my $table1,'&lt;',\"table1.txt\");\nopen(my $table2,'&lt;',\"table2.txt\");\nopen(my $output,'+&gt;',\"output.txt\");\n\nmy %hash = ();\n\nwhile (&lt;$table2&gt;){\n    chomp;\n    my $keyfield = $_;\n    push @{$hash{keyfield}};\n}\nseek $table1,0,0;\nwhile (&lt;$table1&gt;){\n     chomp;\n     my @cols = split(/\\t/);\n     my $keyfield = $cols[2];\n     if (exists($hash{$keyfield})) {\n        print $output $_, \"\\n\";\n }\n }\n</code></pre>\n\n<p>This approach worked before, however now I had to modify it slightly. I get the warning: useless use of push with no values at line13 (which is the line where my push is). And my output is empty. \nWhat am I doing wrong?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1431344161, "post_id": 30166579, "comment_id": 48439533, "body": "Use <code>[\\d.]+</code> to match digits and decimal points."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "reply_to_user": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1431344350, "post_id": 30166579, "comment_id": 48439637, "body": "@Barmar: that also matches a single period (or any sequence of them). Some examples, please? It&#39;s easier when all of your floats have leading digits (<code>0.1</code>), for example, and/or you need the period in <code>100.</code>"}], "answers": [{"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 0, "last_activity_date": 1431344284, "creation_date": 1431344284, "answer_id": 30166678, "question_id": 30166579, "link": "https://stackoverflow.com/questions/30166579/match-digits-and-still-display-the-text/30166678#30166678", "title": "Match digits and still display the text", "body": "<p>I'd use that one:</p>\n\n<pre><code>[-+]?\\d+\\.?\\d*\n</code></pre>\n\n<p>It takes into account that a number maybe negative. If is not your case, remove the <code>[-+]?</code></p>\n"}], "owner": {"reputation": 7, "user_id": 4886764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67717ce9f632a543c0bf7ccf7e20e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "paulmc", "link": "https://stackoverflow.com/users/4886764/paulmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1431346919, "answer_count": 1, "score": -2, "last_activity_date": 1431344284, "creation_date": 1431344000, "last_edit_date": 1431344023, "question_id": 30166579, "link": "https://stackoverflow.com/questions/30166579/match-digits-and-still-display-the-text", "closed_reason": "Duplicate", "title": "Match digits and still display the text", "body": "<p>I have a textfile with results and attendances from various football games. I want to find each number and replace them with a phrase, as well as display the whole textfile.</p>\n\n<p><code>if($_ =~ s/\\d{1,}/TEST/)</code> is my current regex, but it does not find floatnumbers. Any ideas?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 259, "user_id": 1151593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b7642b654852a9715d4ceeda47d12f8?s=128&d=identicon&r=PG", "display_name": "Mystic Odin", "link": "https://stackoverflow.com/users/1151593/mystic-odin"}, "edited": false, "score": 0, "creation_date": 1431336463, "post_id": 30163791, "comment_id": 48434548, "body": "matching expression is: 1. <code>^[^&#39;]*(&#39;)</code> 2. <code>(&#39;)[^&#39;]*$</code> 3.<code>;$</code> but I&#39;m not familiar with Perl syntax to help further, I imagine for # 1 &amp; # 2 this will cause the whole match to be removed, maybe you can find something that removes only the matched group 1, for # 3 it will work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431338437, "post_id": 30163791, "comment_id": 48435824, "body": "Single-character identifiers make your code much more difficult to follow"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431338499, "post_id": 30163791, "comment_id": 48435869, "body": "That is annoying Sublie Text formater for Perl. Any other you could recommend please?"}], "answers": [{"comments": [{"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431336812, "post_id": 30163918, "comment_id": 48434779, "body": "It seems that last <code>;</code> is not removed properly."}, {"owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431338826, "post_id": 30163918, "comment_id": 48436102, "body": "You can use <code>(?&lt;!\\\\)&#39;</code> for matching <code>&#39;</code> which are not <code>\\&#39;</code> and replace with <code>\\&#39;</code> .."}], "tags": [], "owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "is_accepted": false, "score": 3, "last_activity_date": 1431337447, "last_edit_date": 1431337447, "creation_date": 1431336274, "answer_id": 30163918, "question_id": 30163791, "link": "https://stackoverflow.com/questions/30163791/perl-parsing-javascript-file-regex-to-catch-quotes-only-at-the-beginning-and-en/30163918#30163918", "title": "Perl parsing JavaScript file regex, to catch quotes only at the beginning and end of the returned string", "body": "<p>You can use the following to match:</p>\n\n<pre><code>^'|';?$|;$\n</code></pre>\n\n<p>And replace with <code>''</code> (empty string)</p>\n\n<p>See <a href=\"https://regex101.com/r/tA9dT2/2\" rel=\"nofollow\">DEMO</a></p>\n"}, {"comments": [{"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431338520, "post_id": 30163936, "comment_id": 48435885, "body": "..and if I would want to replace later in string <code>&#39;</code> with <code>\\&#39;</code> in case it&#39;s not already <code>\\&#39;</code>. This one doesn&#39;t work for me: <code>s&#47;&#39;&#47;\\&#39;&#47;g</code>?"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431338634, "post_id": 30163936, "comment_id": 48435974, "body": "No. This one works <code>s&#47;\\&#39;&#47;\\\\&#39;&#47;g</code> but it replaces those at the beginning and at the end."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431338738, "post_id": 30163936, "comment_id": 48436043, "body": "<code>a = &#39;This is the test&#39;s string&#39;;</code>. Now on the output I need the final regex that would replace all unescaped <code>&#39;</code> with <code>\\&#39;</code> but not at the beginning or end.."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 1, "creation_date": 1431338964, "post_id": 30163936, "comment_id": 48436192, "body": "This is totally awesome! :) Thanks, pal!"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1431339220, "post_id": 30163936, "comment_id": 48436389, "body": "One remark: already escaped quotes will also get escaped: <a href=\"https://regex101.com/r/yW3oJ9/1\" rel=\"nofollow noreferrer\">regex101.com/r/yW3oJ9/1</a>."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1431340193, "post_id": 30163936, "comment_id": 48437041, "body": "@stribizhev cool!! ..but they are pre-processed already and there should be no such cases but better safe than sorry! :)"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431340566, "post_id": 30163936, "comment_id": 48437291, "body": "@vks awesome fix, really! :D"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432575614, "post_id": 30163936, "comment_id": 48968842, "body": "Do you know how to make this one <code>s&#47;^[^&#39;]*&#39;(*SKIP)(*F)|&#39;[^&#39;]*$(*SKIP)(*F)|(?&lt;!\\\\)&#39;&#47;\\\\&#39;&#47;gim</code> work on older versions of Perl, like 5.8? It fails on version &lt; 5.10. I think <code>(SKIP)</code> part or <code>(*F)</code> makes it fail."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432575727, "post_id": 30163936, "comment_id": 48968890, "body": "Returned error in Perl 5.8.8 is <code>Quantifier follows nothing in regex; marked by &lt;-- HERE in m&#47;^[^&#39;]&#39;( &lt;-- HERE SKIP)(F)|&#39;[^&#39;]$(SKIP)(F)|(?&lt;!\\)&#39;&#47;</code>"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432575995, "post_id": 30163936, "comment_id": 48969011, "body": "Could you please try, cause I&#39;m not fluent with Regex on this level? There are just few groups."}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432576419, "post_id": 30163936, "comment_id": 48969227, "body": "@IliaRostovtsev i would suggest you put up a new question...as this is complex and would need advanced features of perl :)"}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432576515, "post_id": 30163936, "comment_id": 48969283, "body": "ok! php :) It was Perl really.. But it&#39;s irrelevant I think.. I will do, in case I don&#39;t figure this out! Thanks, pal!"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1432576604, "post_id": 30163936, "comment_id": 48969339, "body": "@IliaRostovtsev ahh sry....... actually it would require conditional replace....m a python guy...so i know in python...some perl guy can definitly do it.......do put up a question in case you dont find a solution :)"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 2, "last_activity_date": 1431336319, "last_edit_date": 1592644375, "creation_date": 1431336319, "answer_id": 30163936, "question_id": 30163791, "link": "https://stackoverflow.com/questions/30163791/perl-parsing-javascript-file-regex-to-catch-quotes-only-at-the-beginning-and-en/30163936#30163936", "title": "Perl parsing JavaScript file regex, to catch quotes only at the beginning and end of the returned string", "body": "<blockquote>\n<p>Remove only first ' in string</p>\n<p>Remove only last ' in string</p>\n</blockquote>\n<pre><code>^[^']*\\K'|'(?=[^']*$)\n</code></pre>\n<p>Try this .See demo.</p>\n<p><a href=\"https://regex101.com/r/oF9hR9/8\" rel=\"nofollow noreferrer\">https://regex101.com/r/oF9hR9/8</a></p>\n<blockquote>\n<p>Remove ont last ; in string if exists</p>\n</blockquote>\n<pre><code>;(?=[^;]*$)\n</code></pre>\n<p>Try this.See demo.</p>\n<p><a href=\"https://regex101.com/r/oF9hR9/9\" rel=\"nofollow noreferrer\">https://regex101.com/r/oF9hR9/9</a></p>\n<p>All three in one</p>\n<pre><code>^[^']*\\K'|'(?=[^']*$)|;(?=[^;]*$)\n</code></pre>\n<p><a href=\"https://regex101.com/r/oF9hR9/10\" rel=\"nofollow noreferrer\">See Here</a></p>\n"}, {"comments": [{"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431336641, "post_id": 30163948, "comment_id": 48434665, "body": "Thanks, I knew about those anchors. I just wasn&#39;t sure how to combine it all in one."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431336650, "post_id": 30163948, "comment_id": 48434673, "body": "Ilya, you can just use <a href=\"http://www.regular-expressions.info/alternation.html\" rel=\"nofollow noreferrer\">alternation operator</a> with 2 parts. Also, look-arounds (as used in another answer are resource-consuming. My suggestion does not use look-arounds."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431336798, "post_id": 30163948, "comment_id": 48434766, "body": "Well, I tested it and it seems that last <code>;</code> is not removed properly. \u0421\u043f\u0430\u0441\u0438\u0431\u043e!"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431336946, "post_id": 30163948, "comment_id": 48434882, "body": "I&#39;ve updated the code. Now, it will remove the <code>;</code> even if there is no <code>&#39;</code>."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431337202, "post_id": 30163948, "comment_id": 48435036, "body": "Yes, true. Because <i>Boolean</i> values in JavaScript  are now wrapped in <code>&#39;</code>. That is cool! It seems to work the same way as <i>vks</i>&#39;s example: <code>^[^&#39;]*\\K&#39;|&#39;(?=[^&#39;]*$)|;(?=[^;]*$)</code>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 1, "creation_date": 1431337323, "post_id": 30163948, "comment_id": 48435120, "body": "Yes, it is true. There is one thing about <code>\\K</code>: if you plan to migrate to another engine in future, it might stop working. My suggestion is more universal. See <a href=\"http://stackoverflow.com/questions/13542950/support-of-k-in-regex\">\\K regex support</a> for more details."}, {"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431337534, "post_id": 30163948, "comment_id": 48435248, "body": "<code>\\K</code> thing seems a bit difficult for me to understand at the moment! <i>vks</i>&#39;s answer seems more universal though! I just need to work more on regex in general! Thank you again!"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 0, "creation_date": 1431337627, "post_id": 30163948, "comment_id": 48435311, "body": "@karthikmanchala: Yeah, I tested, a tiny bit (like ~10 steps)."}, {"owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 0, "creation_date": 1431337825, "post_id": 30163948, "comment_id": 48435432, "body": "@stribizhev .. a tiny bit.. yes.. but i don think we can specify number of steps here.. because steps proportional to length of string.. take big string.. and tiny bit will be ~100 steps.. :)"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 0, "creation_date": 1431338171, "post_id": 30163948, "comment_id": 48435634, "body": "@karthikmanchala: Anyway, it seems to me vks&#39; solution is better than ours :)"}, {"owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 0, "creation_date": 1431338492, "post_id": 30163948, "comment_id": 48435861, "body": "@stribizhev .. no ours is better.. check it again.. :D"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1431339113, "post_id": 30163948, "comment_id": 48436309, "body": "I agree that <code>^[^&#39;]*\\K&#39;|&#39;(?=[^&#39;]*$)|;(?=[^;]*$)</code> will not always remove <i>final</i> <code>&#39;</code>:  <a href=\"https://regex101.com/r/fU9qK4/1\" rel=\"nofollow noreferrer\">regex101.com/r/fU9qK4/1</a>"}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 2, "last_activity_date": 1431336919, "last_edit_date": 1431336919, "creation_date": 1431336347, "answer_id": 30163948, "question_id": 30163791, "link": "https://stackoverflow.com/questions/30163791/perl-parsing-javascript-file-regex-to-catch-quotes-only-at-the-beginning-and-en/30163948#30163948", "title": "Perl parsing JavaScript file regex, to catch quotes only at the beginning and end of the returned string", "body": "<p>You can use this code:</p>\n\n<pre><code>#!/usr/bin/perl\n$str = \"'string; 'inside' another;\"; \n$str =~ s/^'|'?;?$//g;\nprint $str;\n</code></pre>\n\n<p><a href=\"https://ideone.com/9gQkcZ\" rel=\"nofollow\">IDEONE demo</a></p>\n\n<p>The main idea is to use anchors: <code>^</code> beginning of string, <code>$</code> end of string and <code>;?</code> matches the \";\" symbol at the end only if it is present (<code>?</code> quantifier is making the pattern preceding it optional).<br /><strong>EDIT</strong>: Also, <code>;</code> will get removed even if there is no preceding <code>'</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431339259, "post_id": 30164946, "comment_id": 48436421, "body": "Thanks and yes, I guess, but at the moment I&#39;m doing Perl with my previous knowledge of other programming languages - interesting thing, that it works! :) I find your formatting easier to read! How can I format Perl in Sublime Text 3 like this?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "edited": false, "score": 0, "creation_date": 1431339362, "post_id": 30164946, "comment_id": 48436503, "body": "@IliaRostovtsev: The main advantage is the meaningful variable names, the reduced nesting of blocks, and the additional whitespace. But the indentation can be achieved with <code>perltidy</code> which should have been included as part of your Perl installation"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1431339104, "creation_date": 1431339104, "answer_id": 30164946, "question_id": 30163791, "link": "https://stackoverflow.com/questions/30163791/perl-parsing-javascript-file-regex-to-catch-quotes-only-at-the-beginning-and-en/30164946#30164946", "title": "Perl parsing JavaScript file regex, to catch quotes only at the beginning and end of the returned string", "body": "<p>I suggest that your original code should look more like this. It is much more idiomatic Perl and I think more straightforward to follow</p>\n\n<pre><code>sub __settings {\n    my ($_s) = @_;\n    my $file = \"$config_directory/authentic-theme/settings.js\";\n    return unless -r $file;\n\n    open my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n    my @file = &lt;$fh&gt;;\n    chomp @file;\n\n    for ( @file ) {\n        next if m{//};\n        if ( my @matches = $_ =~ /(?:$_s\\s*=\\s*(.*))/g ) {\n            my $matches = join \"\\n\", @matches;\n            $matches =~ tr/';//d;\n            return $matches;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 12043, "user_id": 1455661, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/9276faba7b29d03d1e8b8ed43ee24b51?s=128&d=identicon&r=PG", "display_name": "Ilia Rostovtsev", "link": "https://stackoverflow.com/users/1455661/ilia-rostovtsev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 30163936, "answer_count": 4, "score": 4, "last_activity_date": 1431339104, "creation_date": 1431335887, "question_id": 30163791, "link": "https://stackoverflow.com/questions/30163791/perl-parsing-javascript-file-regex-to-catch-quotes-only-at-the-beginning-and-en", "title": "Perl parsing JavaScript file regex, to catch quotes only at the beginning and end of the returned string", "body": "<p>I'm just starting to learn Perl. I need to parse JavaScript file. I came up with the following subroutine, to do it:</p>\n\n<pre><code>sub __settings {\n    my ($_s) = @_;\n    my $f = $config_directory . \"/authentic-theme/settings.js\";\n    if ( -r $f ) {\n        for (\n            split(\n                '\\n',\n                $s = do {\n                    local $/ = undef;\n                    open my $fh, \"&lt;\", $f;\n                    &lt;$fh&gt;;\n                    }\n            )\n            )\n        {\n            if ( index( $_, '//' ) == -1\n                &amp;&amp; ( my @m = $_ =~ /(?:$_s\\s*=\\s*(.*))/g ) )\n            {\n                my $m = join( '\\n', @m );\n                $m =~ s/[\\'\\;]//g;\n                return $m;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I have the following regex, that removes <code>'</code> and <code>;</code> from the string:</p>\n\n<p><code>s/[\\'\\;]//g;</code></p>\n\n<p>It works alright <em>but</em> if there is a mentioned chars (<code>'</code> and <code>;</code>) in string - then they are also removed. This is undesirable and that's where I stuck as it gets a bit more complicated for me and I'm not sure how to change the <em>regex</em> above correctly to only:</p>\n\n<ol>\n<li>Remove only first <code>'</code> in string</li>\n<li>Remove only last <code>'</code> in string </li>\n<li>Remove ont last <code>;</code> in string if exists</li>\n</ol>\n\n<p>Any help, please?</p>\n"}, {"tags": ["perl", "input", "while-loop", "readfile", "chomp"], "comments": [{"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 0, "creation_date": 1431334784, "post_id": 30163269, "comment_id": 48433467, "body": "I am not sure if I understand what you mean by <i>getting stuck with the last output</i>."}, {"owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "reply_to_user": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 0, "creation_date": 1431335093, "post_id": 30163269, "comment_id": 48433674, "body": "I have more code after, for example just for test purposes a printf &quot;step one&quot; so I can continue with my real purpose of the program. When I say stuck I mean that it doesn&#39;t continue with the program I. E. I see the last part of the included output but the program is supposed to continue"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1431336090, "post_id": 30163269, "comment_id": 48434312, "body": "tunr on <code>use strict; use warnings;</code>. That may already help, e.g. $i is uninitialized in first round of while.  I would prefer <code>while(my $row = &lt;$input&gt;){</code>  Your explanation of what happens after cannot be understood really well without code. I have not yet seen a while(&lt;$input&gt;) getting stuck on a file, since they tend to end, so I am guessing the problem is not a never-ending while here, but I may be wrong."}, {"owner": {"reputation": 876, "user_id": 1577347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5wJu.png?s=128&g=1", "display_name": "Chris Smeele", "link": "https://stackoverflow.com/users/1577347/chris-smeele"}, "edited": false, "score": 0, "creation_date": 1431336166, "post_id": 30163269, "comment_id": 48434361, "body": "Does the printf call after the loop include a newline? If not it may get stuck in stdout&#39;s line buffer."}, {"owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "reply_to_user": {"reputation": 876, "user_id": 1577347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5wJu.png?s=128&g=1", "display_name": "Chris Smeele", "link": "https://stackoverflow.com/users/1577347/chris-smeele"}, "edited": false, "score": 0, "creation_date": 1431336457, "post_id": 30163269, "comment_id": 48434545, "body": "I had use strict and use warning included and I actually just changed to               while(my $row = &lt;$input&gt;){        Yes, now with the result in my hand I should have added the code after too. @ChrisS was right, a simple addition of &quot;/n&quot; made it run like I wanted it to!  Thanks a bunch"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1431336712, "post_id": 30163269, "comment_id": 48434711, "body": "then show the printf after the loop. I strongly suspect that there is something wrong there, because for me, your code works fine and <i>does</i> print a message after the while loop"}, {"owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1431336820, "post_id": 30163269, "comment_id": 48434787, "body": "@bytepusher printf &quot;Step one \\n&quot;  it was the \\n that was messing with it."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1431336909, "post_id": 30163269, "comment_id": 48434846, "body": "why don&#39;t you write an answer, maybe someone will come across this again"}, {"owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1431337256, "post_id": 30163269, "comment_id": 48435072, "body": "@bytepusher thanks for the help, I will in a minute :)"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "is_accepted": false, "score": 1, "last_activity_date": 1431338842, "creation_date": 1431338842, "answer_id": 30164839, "question_id": 30163269, "link": "https://stackoverflow.com/questions/30163269/read-from-text-file-store-in-array-succesfully-but-the-program-will-not-exit-th/30164839#30164839", "title": "Read from text file, store in array succesfully but the program will not exit the while loop", "body": "<p>The error was outside of the while loop, in the printf a /n (newline) was missing:</p>\n\n<pre><code>}\nclose($filename);\nsleep(1);\nprintf \"step one\";\n</code></pre>\n\n<p>and I changed it to:</p>\n\n<pre><code>}\nclose($filename);\nsleep(1);\nprintf \"step one \\n\";\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1431338842, "creation_date": 1431334276, "last_edit_date": 1431335932, "question_id": 30163269, "link": "https://stackoverflow.com/questions/30163269/read-from-text-file-store-in-array-succesfully-but-the-program-will-not-exit-th", "title": "Read from text file, store in array succesfully but the program will not exit the while loop", "body": "<p>So this is what should be of interest for you to be able to help me, the program is written in perl and I'm using both warnings and strict in perl but I get to the end of the text file and then I get stuck with the last output.</p>\n\n<pre><code>my $filename = 'trace-804-2.txt';\nopen(my $input, '&lt;:encoding(UTF-8)', $filename)\nor die \"Couldn't open file '$filename' $!\";\n\nwhile ( &lt;$input&gt; )\n{\n    my ($row) = $_;\n    chomp $row;\n    ( $pkt_number[$i], $pkt_arrival[$i], $pkt_length[$i] ) = ( split(':',$row, 8)) [0,3,5];\n    $pkt_number[$i] =~ s/\\D//g;\n    $pkt_length[$i] =~ s/\\D//g;\n    printf \"Packet number %d \",$pkt_number[$i];\n    printf \"Arrival time %s \",$pkt_arrival[$i];\n    printf \"Length %d \\n\",$pkt_length[$i];\n    $i++;\n    $nr_of_pkts++;\n}\n</code></pre>\n\n<p>and this is the output I get</p>\n\n<pre><code> Packet number 3 Arrival time 2662.050878565250 Length 256\n Packet number 4 Arrival time 2662.050981740750 Length 256\n Packet number 5 Arrival time 2662.051084976000 Length 256\n Packet number 6 Arrival time 2662.051188151750 Length 256\n Packet number 7 Arrival time 2662.051291327500 Length 256\n Packet number 8 Arrival time 2662.051394562750 Length 256\n Packet number 9 Arrival time 2662.051469485750 Length 256\n Packet number 10 Arrival time 2662.051497738250 Length 256\n Packet number 11 Arrival time 2662.051573317000 Length 256\n Packet number 12 Arrival time 2662.051600914000 Length 256\n Packet number 13 Arrival time 2662.051677088750 Length 256\n Packet number 15 Arrival time 2662.051704149250 Length 256\n Packet number 17 Arrival time 2662.051780920000 Length 256\n Packet number 18 Arrival time 2662.051807324750 Length 256\n Packet number 20 Arrival time 2662.051890115750 Length 256\n Packet number 21 Arrival time 2662.051910560000 Length 256\n Packet number 23 Arrival time 2662.051993887250 Length 256\n Packet number 24 Arrival time 2662.052013735750 Length 256\n Packet number 27 Arrival time 2662.052097718750 Length 256\n Packet number 29 Arrival time 2662.052116911250 Length 256\n</code></pre>\n\n<p>I know it doesn't get further since <strong>I have a simple printf after the loop</strong> to mark that the program have gone past that stage.</p>\n\n<p>And this is the content of the text file:</p>\n\n<pre><code>[   3]:d10:mp10165:2662.050878565250:LINK(1266):CAPLEN( 256)\n[   4]:d10:mp10165:2662.050981740750:LINK(1266):CAPLEN( 256)\n[   5]:d10:mp10165:2662.051084976000:LINK(1266):CAPLEN( 256)\n[   6]:d10:mp10165:2662.051188151750:LINK(1266):CAPLEN( 256)\n[   7]:d10:mp10165:2662.051291327500:LINK(1266):CAPLEN( 256)\n[   8]:d10:mp10165:2662.051394562750:LINK(1266):CAPLEN( 256)\n[   9]:d00:mp10165:2662.051469485750:LINK(1266):CAPLEN( 256)\n[  10]:d10:mp10165:2662.051497738250:LINK(1266):CAPLEN( 256)\n[  11]:d00:mp10165:2662.051573317000:LINK(1266):CAPLEN( 256)\n[  12]:d10:mp10165:2662.051600914000:LINK(1266):CAPLEN( 256)\n[  13]:d00:mp10165:2662.051677088750:LINK(1266):CAPLEN( 256)\n[  15]:d10:mp10165:2662.051704149250:LINK(1266):CAPLEN( 256)\n[  17]:d00:mp10165:2662.051780920000:LINK(1266):CAPLEN( 256)\n[  18]:d10:mp10165:2662.051807324750:LINK(1266):CAPLEN( 256)\n[  20]:d00:mp10165:2662.051890115750:LINK(1266):CAPLEN( 256)\n[  21]:d10:mp10165:2662.051910560000:LINK(1266):CAPLEN( 256)\n[  23]:d00:mp10165:2662.051993887250:LINK(1266):CAPLEN( 256)\n[  24]:d10:mp10165:2662.052013735750:LINK(1266):CAPLEN( 256)\n[  27]:d00:mp10165:2662.052097718750:LINK(1266):CAPLEN( 256)\n[  29]:d10:mp10165:2662.052116911250:LINK(1266):CAPLEN( 256)\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 2, "creation_date": 1431336847, "post_id": 30163235, "comment_id": 48434802, "body": "I think the reason why there are no answers is the last sentence. Try something, and you may get help."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1431338284, "creation_date": 1431338284, "answer_id": 30164637, "question_id": 30163235, "link": "https://stackoverflow.com/questions/30163235/perl-reading-the-contents-of-a-file-in-a-structured-manner/30164637#30164637", "title": "Perl - Reading the contents of a file in a structured manner", "body": "<p>As long as there are never any whitespace characters inside any of the fields you can just use <code>split</code></p>\n\n<p>This program uses a regex to do a very similar thing but divides the lines into six fields instead of four \u2014 keeping the port numbers separate from the addresses. It should at least get you started</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\n&lt;DATA&gt;; # Lose header line\n\nmy @data;\nwhile ( &lt;DATA&gt; ) {\n  push @data, [ /[^\\s:]+/g ];\n}\n\nuse Data::Dump;\ndd \\@data;\n\n__DATA__\nRecv-Q Send-Q             Local Address:Port               Peer Address:Port \n0      128                            *:111                           *:*     \n0      128                            *:22                            *:*     \n0      128                    127.0.0.1:631                           *:*     \n0      128                            *:53944                         *:*     \n0      100                    127.0.0.1:25                            *:*   \n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>[\n  [0, 128, \"*\", 111, \"*\", \"*\"],\n  [0, 128, \"*\", 22, \"*\", \"*\"],\n  [0, 128, \"127.0.0.1\", 631, \"*\", \"*\"],\n  [0, 128, \"*\", 53944, \"*\", \"*\"],\n  [0, 100, \"127.0.0.1\", 25, \"*\", \"*\"],\n]\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 3691006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/476c0966ea9fad748b26078c4ece7884?s=128&d=identicon&r=PG&f=1", "display_name": "user3691006", "link": "https://stackoverflow.com/users/3691006/user3691006"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "closed_date": 1431350802, "answer_count": 1, "score": -5, "last_activity_date": 1431338284, "creation_date": 1431334183, "question_id": 30163235, "link": "https://stackoverflow.com/questions/30163235/perl-reading-the-contents-of-a-file-in-a-structured-manner", "closed_reason": "Needs more focus", "title": "Perl - Reading the contents of a file in a structured manner", "body": "<p>As the title states, I would like to read the contents of an already existing file that is dynamically generated by the Perl script. This file will more or less follow the same structure as seen in the example below. The only real difference would be the amount of data that follows.</p>\n\n<pre><code>Recv-Q Send-Q             Local Address:Port               Peer Address:Port \n0      128                            *:111                           *:*     \n0      128                            *:22                            *:*     \n0      128                    127.0.0.1:631                           *:*     \n0      128                            *:53944                         *:*     \n0      100                    127.0.0.1:25                            *:*   \n</code></pre>\n\n<p>The goal with reading this file will be to use the data and further filter the contents of it. An example would be to only list data that has the <strong>Port:22</strong> and present it to the end user, but this is beyond my question here.</p>\n\n<p>What I would like to achieve is to read each header, e.g <em>Recv-Q</em>, <em>Send-Q</em>, <em>Local Address:Port</em> and <em>Peer Address:Port</em> as <strong>keys</strong> to a hash. The values thereafter will consist of the data residing under each header column. The goal is to be able to filter out certain columns using the header as a pointer to the values.</p>\n\n<p>The code strucutre that I would wish to achieve would be a <strong>hash</strong> listing all the headers, and within each header there would lie an <strong>array</strong> contain all the column data.</p>\n\n<p>I do not have any code examples of how I would go about to resolve this issue but I am very appreciative of any help on the matter. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1431333930, "post_id": 30162494, "comment_id": 48432933, "body": "So, you&#39;re asking stack overflow to debug someone else&#39;s script, but without actually supplying the script? Sorry, that&#39;s a bit out of scope for SO. If you can supply the snippet of code needed to reproduce the problem, we might be in with a chance"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4886409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43c99125cb1156a26c8b49c9613c3310?s=128&d=identicon&r=PG&f=1", "display_name": "RickyGambon", "link": "https://stackoverflow.com/users/4886409/rickygambon"}, "edited": false, "score": 0, "creation_date": 1433410231, "post_id": 30500090, "comment_id": 49344521, "body": "That was exactly the problem,  a simple script that adds &#39;chr&#39; in front of the chromosome numbers fixed everything. Thanks"}], "tags": [], "owner": {"reputation": 83, "user_id": 1501932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc5d7e4237a487d6caf06081bb3d520?s=128&d=identicon&r=PG", "display_name": "Mehsah Yhook", "link": "https://stackoverflow.com/users/1501932/mehsah-yhook"}, "is_accepted": false, "score": 2, "last_activity_date": 1432798600, "creation_date": 1432798600, "answer_id": 30500090, "question_id": 30162494, "link": "https://stackoverflow.com/questions/30162494/homer-de-novo-motif-discovery-cannot-open-hg19-fasta-files/30500090#30500090", "title": "HOMER de novo motif discovery cannot open hg19 fasta files", "body": "<p>One thing to check: if the chromosome naming in your bed file and consistent with the chrom naming in the genome your are using: for example you shouldnt have '12' for chromosome 12 in your bed file whereas in the genome of your interest it is 'chr12'</p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 1501932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc5d7e4237a487d6caf06081bb3d520?s=128&d=identicon&r=PG", "display_name": "Mehsah Yhook", "link": "https://stackoverflow.com/users/1501932/mehsah-yhook"}, "is_accepted": false, "score": 0, "last_activity_date": 1433531133, "creation_date": 1433531133, "answer_id": 30673985, "question_id": 30162494, "link": "https://stackoverflow.com/questions/30162494/homer-de-novo-motif-discovery-cannot-open-hg19-fasta-files/30673985#30673985", "title": "HOMER de novo motif discovery cannot open hg19 fasta files", "body": "<p>For \"chr\" problem, the simple awk command your friend. Simple awk '{print \"chr\"$0}' your.bed > your_new.bed will do the job.\nhkoohy</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 8596469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be8e12d02334990a89bcdb6f7f9cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "Fleur Peters", "link": "https://stackoverflow.com/users/8596469/fleur-peters"}, "is_accepted": false, "score": 0, "last_activity_date": 1616520874, "creation_date": 1616520874, "answer_id": 66768361, "question_id": 30162494, "link": "https://stackoverflow.com/questions/30162494/homer-de-novo-motif-discovery-cannot-open-hg19-fasta-files/66768361#66768361", "title": "HOMER de novo motif discovery cannot open hg19 fasta files", "body": "<p>I was running into this problem as well and also my BED file seemed fine. However, the trick that solved it was changing my .bed file to a .pos file by the following code:</p>\n<pre><code>bed2pos.pl file.bed &gt; file.pos\n</code></pre>\n<p>I hope this helps you guys :)</p>\n<p>Best, Fleur</p>\n"}], "owner": {"reputation": 5, "user_id": 4886409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43c99125cb1156a26c8b49c9613c3310?s=128&d=identicon&r=PG&f=1", "display_name": "RickyGambon", "link": "https://stackoverflow.com/users/4886409/rickygambon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1500, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1616520874, "creation_date": 1431331585, "question_id": 30162494, "link": "https://stackoverflow.com/questions/30162494/homer-de-novo-motif-discovery-cannot-open-hg19-fasta-files", "title": "HOMER de novo motif discovery cannot open hg19 fasta files", "body": "<p>I have some chip seq data in BAM format\nAt some point I wanted to do a de <em>novo motif discovery</em>\nusing HOMERs findMotifsGenome.pl script</p>\n\n<p>The problem seems to be that this app cannot open the refrence genome fasta files, even though they were installed by the app itself!</p>\n\n<p>Has anyone encountered this problem?</p>\n\n<h1>The linux command used:</h1>\n\n<p>$perl /home/chipseq_project/homer/bin/findMotifsGenome.pl /home/chipseq_project/homer/findpeak_output/peaks.txt hg19 /home/chipseq_project/homer/motif_output/ -size given</p>\n\n<h1>the stdout text:</h1>\n\n<pre><code>    Position file = /home/chipseq_project/homer/findpeak_output/peaks.txt\n    Genome = hg19\n    Output Directory = /home/chipseq_project/homer/motif_output/\n    Using actual sizes of regions (-size given)\n    Fragment size set to given\n    Found mset for \"human\", will check against vertebrates motifs\n    Peak/BED file conversion summary:\n            BED/Header formatted lines: 0\n            peakfile formatted lines: 7662\n\n    Peak File Statistics:\n            Total Peaks: 7662\n            Redundant Peak IDs: 0\n            Peaks lacking information: 0 (need at least 5 columns per peak)\n            Peaks with misformatted coordinates: 0 (should be integer)\n            Peaks with misformatted strand: 0 (should be either +/- or 0/1)\n\n    Peak file looks good!\n\n    Background fragment size set to 81 (avg size of targets)\n    Background files for 81 bp fragments found.\n\n    Extracting sequences from directory: /home/chipseq_project/homer/.//data/genomes/hg19//\n    !!Could not open file for 1 (.fa or .fa.masked)\n    !!Could not open file for 10 (.fa or .fa.masked)\n    !!Could not open file for 11 (.fa or .fa.masked)\n    !!Could not open file for 12 (.fa or .fa.masked)\n    !!Could not open file for 13 (.fa or .fa.masked)\n    !!Could not open file for 14 (.fa or .fa.masked)\n    !!Could not open file for 15 (.fa or .fa.masked)\n    !!Could not open file for 16 (.fa or .fa.masked)\n    !!Could not open file for 17 (.fa or .fa.masked)\n    !!Could not open file for 18 (.fa or .fa.masked)\n    !!Could not open file for 19 (.fa or .fa.masked)\n    !!Could not open file for 2 (.fa or .fa.masked)\n    !!Could not open file for 20 (.fa or .fa.masked)\n    !!Could not open file for 21 (.fa or .fa.masked)\n    !!Could not open file for 22 (.fa or .fa.masked)\n    !!Could not open file for 3 (.fa or .fa.masked)\n    !!Could not open file for 4 (.fa or .fa.masked)\n    !!Could not open file for 5 (.fa or .fa.masked)\n    !!Could not open file for 6 (.fa or .fa.masked)\n    !!Could not open file for 7 (.fa or .fa.masked)\n    !!Could not open file for 8 (.fa or .fa.masked)\n    !!Could not open file for 9 (.fa or .fa.masked)\n    !!Could not open file for X (.fa or .fa.masked)\n    !!Could not open file for Y (.fa or .fa.masked)\n\n    Not removing redundant sequences\n\n\n    Sequences processed:\n            0 total\n\n    Frequency Bins: 0.2 0.25 0.3 0.35 0.4 0.45 0.5 0.6 0.7 0.8\n    Freq    Bin     Count\n\n    Total sequences set to 50000\n\n    Choosing background that matches in CpG/GC Content...\n</code></pre>\n\n<p>Illegal division by zero at /home/chipseq_project/homer/bin/assignGeneWeights.pl line 63.\n        Assembling sequence file...\n        Normalizing lower order oligos using homer2</p>\n\n<pre><code>    Reading input files...\n    0 total sequences read\n    Autonormalization: 1-mers (4 total)\n            A       inf%    inf%    -nan\n            C       inf%    inf%    -nan\n            G       inf%    inf%    -nan\n            T       inf%    inf%    -nan\n    Autonormalization: 2-mers (16 total)\n            AA      inf%    inf%    -nan\n            CA      inf%    inf%    -nan\n            GA      inf%    inf%    -nan\n            TA      inf%    inf%    -nan\n            AC      inf%    inf%    -nan\n            CC      inf%    inf%    -nan\n            GC      inf%    inf%    -nan\n            TC      inf%    inf%    -nan\n            AG      inf%    inf%    -nan\n            CG      inf%    inf%    -nan\n            GG      inf%    inf%    -nan\n            TG      inf%    inf%    -nan\n            AT      inf%    inf%    -nan\n            CT      inf%    inf%    -nan\n            GT      inf%    inf%    -nan\n            TT      inf%    inf%    -nan\n    Autonormalization: 3-mers (64 total)\n    Normalization weights can be found in file: /home/chipseq_project/homer/motif_output//seq.autonorm.tsv\n    Converging on autonormalization solution:\n    ...............................................................................\n    Final normalization:    Autonormalization: 1-mers (4 total)\n            A       inf%    inf%    -nan\n            C       inf%    inf%    -nan\n            G       inf%    inf%    -nan\n            T       inf%    inf%    -nan\n    Autonormalization: 2-mers (16 total)\n            AA      inf%    inf%    -nan\n            CA      inf%    inf%    -nan\n            GA      inf%    inf%    -nan\n            TA      inf%    inf%    -nan\n            AC      inf%    inf%    -nan\n            CC      inf%    inf%    -nan\n            GC      inf%    inf%    -nan\n            TC      inf%    inf%    -nan\n            AG      inf%    inf%    -nan\n            CG      inf%    inf%    -nan\n            GG      inf%    inf%    -nan\n            TG      inf%    inf%    -nan\n            AT      inf%    inf%    -nan\n            CT      inf%    inf%    -nan\n            GT      inf%    inf%    -nan\n            TT      inf%    inf%    -nan\n    Autonormalization: 3-mers (64 total)\n    Finished preparing sequence/group files\n\n    ----------------------------------------------------------\n    Known motif enrichment\n\n    Reading input files...\n    0 total sequences read\n    264 motifs loaded\n    Cache length = 11180\n    Using binomial scoring\n    Checking enrichment of 264 motif(s)\n    |0%                                    50%                                  100%|\n</code></pre>\n\n<p>Illegal division by zero at /home/chipseq_project/homer/bin/findKnownMotifs.pl line 142.\n        ----------------------------------------------------------\n        De novo motif finding (HOMER)</p>\n\n<pre><code>    Scanning input files...\n</code></pre>\n\n<p>!!! Something is wrong... are you sure you chose the right length for motif finding?\n!!! i.e. also check your sequence file!!!</p>\n\n<pre><code>    Scanning input files...\n</code></pre>\n\n<p>!!! Something is wrong... are you sure you chose the right length for motif finding?\n!!! i.e. also check your sequence file!!!</p>\n\n<pre><code>    -blen automatically set to 2\n    Scanning input files...\n</code></pre>\n\n<p>!!! Something is wrong... are you sure you chose the right length for motif finding?\n!!! i.e. also check your sequence file!!!\nUse of uninitialized value in numeric gt (>) at /home/chipseq_project/homer/bin/compareMotifs.pl line 1289.\n        !!! Filtered out all motifs!!!\n        Job finished - if results look good, please send beer to ..</p>\n\n<pre><code>    Cleaning up tmp files...\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 1, "creation_date": 1431354310, "post_id": 30165790, "comment_id": 48446503, "body": "You probably mean <code>unless(wantarray)</code>. ;)  Anyway +1. :) It works nicely, and I can even call the <code>caller(1)</code> to get more informations. However, I will wait a bit with the accept - i&#39;m looking for a solution (if possible) using the <code>DB</code> package (especially the @DB::args and the <code>sub</code> call. It is much easier to force the <code>perl -d:SomeMyTracer</code> as edit all scripts."}, {"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "reply_to_user": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1433887098, "post_id": 30165790, "comment_id": 49542884, "body": "@kobame, you are right, he means &#39;unless&#39;, I edited it for completeness."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 3, "last_activity_date": 1433887067, "last_edit_date": 1433887067, "creation_date": 1431341517, "answer_id": 30165790, "question_id": 30160722, "link": "https://stackoverflow.com/questions/30160722/perl-print-out-all-subs-arguments-at-every-call-at-runtime/30165790#30165790", "title": "Perl print out all subs arguments at every call at runtime", "body": "<p>I don't know if it counts as \"easier\" in any sane meaning of the word, but you <em>can</em> walk the symbol table and wrap all functions in code that prints their arguments and return values. Here's an example of how it might be done:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse 5.14.2;\nuse warnings;\n\npackage Foo;\n\nsub first {\n    my ( $m, $n ) = @_;\n\n    return $m+$n;\n}\n\nsub second {\n    my ( $m, $n ) = @_;\n\n    return $m*$n;\n}\n\npackage main;\n\nno warnings 'redefine';\n\nfor my $k (keys %{$::{'Foo::'}}) {\n    my $orig = *{$::{'Foo::'}{$k}}{CODE};\n    $::{'Foo::'}{$k} = sub {\n        say \"Args: @_\";\n        unless (wantarray) {\n            my $r = $orig-&gt;(@_);\n            say \"Scalar return: $r\";\n            return $r;\n        }\n        else {\n            my @r = $orig-&gt;(@_);\n            say \"List return: @r\";\n            return @r\n        }\n    }\n}\n\nsay Foo::first(2,3);\nsay Foo::second(4,6);\n</code></pre>\n"}], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 30165790, "answer_count": 1, "score": 3, "last_activity_date": 1433887067, "creation_date": 1431324930, "last_edit_date": 1431368843, "question_id": 30160722, "link": "https://stackoverflow.com/questions/30160722/perl-print-out-all-subs-arguments-at-every-call-at-runtime", "title": "Perl print out all subs arguments at every call at runtime", "body": "<p>I'm looking for way to debug print each subroutine call from the namespace <code>Myapp::*</code> (e.g. without dumping the CPAN modules), but <strong>without the need edit every <code>.pm</code> file manually</strong> for to inserting some module or print statement.</p>\n\n<p>I just learning (better to say: trying to understand) the <code>package DB</code>, what allows me tracing the execution (using the shebang <code>#!/usr/bin/perl -d:Mytrace</code>)</p>\n\n<pre><code>package DB;\nuse 5.010;\n\nsub DB {\n    my( $package, $file, $line ) = caller;\n    my $code = \\@{\"::_&lt;$file\"};\n    print STDERR \"--&gt; $file $line $code-&gt;[$line]\";\n}\n\n#sub sub {\n#    print STDERR \"$sub\\n\";\n#    &amp;$sub;\n#}\n\n1;\n</code></pre>\n\n<p>and looking for a way how to use the <code>sub</code> call to print the actual arguments of the called <code>sub</code> from the namespace of <code>Myapp::*</code>.</p>\n\n<p>Or is here some easier (common) method to</p>\n\n<ul>\n<li>combine the execution line-tracer <code>DB::DB</code></li>\n<li>with the Dump of the each subroutine call arguments (and its return values, if possible)?</li>\n</ul>\n"}, {"tags": ["sql", "oracle", "perl", "dbi", "atomicity"], "comments": [{"owner": {"reputation": 54566, "user_id": 2527905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY8e6.jpg?s=128&g=1", "display_name": "dnoeth", "link": "https://stackoverflow.com/users/2527905/dnoeth"}, "edited": false, "score": 0, "creation_date": 1431324398, "post_id": 30160097, "comment_id": 48428102, "body": "IMHO both should be the same speed if you use prepared statements, client processing is negligible. Why don&#39;t you simply run some test cases?"}, {"owner": {"reputation": 221, "user_id": 3814660, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/07e0ed5aa449c1b83718f003cf6bf709?s=128&d=identicon&r=PG&f=1", "display_name": "paxmemento", "link": "https://stackoverflow.com/users/3814660/paxmemento"}, "reply_to_user": {"reputation": 54566, "user_id": 2527905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY8e6.jpg?s=128&g=1", "display_name": "dnoeth", "link": "https://stackoverflow.com/users/2527905/dnoeth"}, "edited": false, "score": 0, "creation_date": 1431327985, "post_id": 30160097, "comment_id": 48429787, "body": "Thanks, @dnoeth. I&#39;ll run test cases. I thought to hear suggestions based on sound practice or theory. I&#39;m also using prepared statements."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431354549, "post_id": 30160097, "comment_id": 48446688, "body": "1) You seem to be suggesting that Case 1 uses a single query to insert all the records; is that the case? (Aside: your question would be easier to answer with an example of your data, your database schema, and the queries you use.) 2) You should use placeholders in <i>every</i> statement that uses variable values, whether you&#39;re running in a loop or not."}, {"owner": {"reputation": 221, "user_id": 3814660, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/07e0ed5aa449c1b83718f003cf6bf709?s=128&d=identicon&r=PG&f=1", "display_name": "paxmemento", "link": "https://stackoverflow.com/users/3814660/paxmemento"}, "edited": false, "score": 0, "creation_date": 1431358471, "post_id": 30160097, "comment_id": 48449667, "body": "Thanks @This..Not. I updated the original post with a snippet of Case 1. This was my de-facto choice. But thought of the second afterwards. Use of placeholders are unnecessary in Case 1, but would be in 2 based on the implementation procedure."}], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 3814660, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/07e0ed5aa449c1b83718f003cf6bf709?s=128&d=identicon&r=PG&f=1", "display_name": "paxmemento", "link": "https://stackoverflow.com/users/3814660/paxmemento"}, "edited": false, "score": 0, "creation_date": 1431358991, "post_id": 30168058, "comment_id": 48450056, "body": "Thanks @joe_evans. I thought of this too after implementing Case 1."}], "tags": [], "owner": {"reputation": 106, "user_id": 4878088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d490410f50eb342b7200371be5b65d6?s=128&d=identicon&r=PG", "display_name": "joe_evans", "link": "https://stackoverflow.com/users/4878088/joe-evans"}, "is_accepted": true, "score": 0, "last_activity_date": 1431348406, "creation_date": 1431348406, "answer_id": 30168058, "question_id": 30160097, "link": "https://stackoverflow.com/questions/30160097/batch-processing-versus-single-row-transactions-for-atomicity/30168058#30168058", "title": "Batch processing versus Single row transactions for atomicity", "body": "<p><em>Hi</em>\nWell if it was up to me I would do the latter method. The principle reason would be if the server/program went down in the middle of processing; you could easily restart the job. \n<em>Good luck\npj</em></p>\n"}], "owner": {"reputation": 221, "user_id": 3814660, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/07e0ed5aa449c1b83718f003cf6bf709?s=128&d=identicon&r=PG&f=1", "display_name": "paxmemento", "link": "https://stackoverflow.com/users/3814660/paxmemento"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 30168058, "answer_count": 1, "score": 2, "last_activity_date": 1431359416, "creation_date": 1431321529, "last_edit_date": 1431359416, "question_id": 30160097, "link": "https://stackoverflow.com/questions/30160097/batch-processing-versus-single-row-transactions-for-atomicity", "title": "Batch processing versus Single row transactions for atomicity", "body": "<p>I have two tables; one to hold records of reports generated, and the other to update a flag that the reports have been generated. This script will be scheduled, and the SQLs have been implemented. However, there are two implementations of the script:</p>\n\n<p>Case 1:</p>\n\n<pre><code>- Insert all the records, then\n- Update all the flags,\n- Commit if all is well\n</code></pre>\n\n<p>Case 2:</p>\n\n<pre><code>While (there are records)\n- Insert a record,\n- Update the flag\n- Commit if all is well\n</code></pre>\n\n<p>Which should be preferred and why?</p>\n\n<p>A transaction for Case 1 is for all inserts, then all update. It's all or nothing. I'm to believe this is faster, or not if the connection to the remote database keeps getting interrupted. It requires very little client side processing. But if the inserts fail midway, we'll have to rerun from the top.</p>\n\n<p>A transaction for Case 2 is one insert, update. This requires to keep track of the inserted records, and updating the specific records. I'll have to use placeholders, and while granted the database may cache the SQL, and use the query execution plan repeatedly, I suspect this would be slower than Case 1 because of the additional client side processing. However on an unreliable connection, which we can assume, this looks the better choice.</p>\n\n<p>EDIT 5/11/2015 11:31AM</p>\n\n<p>CASE 1 snippet:</p>\n\n<pre><code>my $sql = \"INSERT INTO eval_rep_track_dup\\@prod \\\n            select ert.* \\\n            from eval_rep_track ert \\\n            inner join \\\n            (\n                    select erd.evaluation_fk, erd.report_type, LTRIM(erd.assign_group_id, '/site/') course_name \\\n                    from eval_report_dup\\@prod erd \\\n                    inner join eval_report er \\\n                    on er.id = erd.id \\\n                    where erd.status='queue' \\\n                    and er.status='done' \\\n            ) cat \\\n            on ert.eval_id = cat.evaluation_fk \\\n            and ert.report_type = cat.report_type \\\n            and ert.course_name = cat.course_name\";\n    my $sth = $dbh-&gt;prepare($sql) or die \"Error with sql statement : $DBI::errstr\\n\";\n    my $noterror = $sth-&gt;execute() or die \"Error in sql statement : \" . $sth-&gt;errstr . \"\\n\";\n</code></pre>\n\n<p>...</p>\n\n<pre><code># update the status from queue to done      \n        $sql = \"UPDATE eval_report_dup\\@prod \\\n                SET status='done' \\\n                WHERE id IN \\\n                ( \\\n                        select erd.id \\\n                        from eval_report_dup\\@prod erd \\\n                        inner join eval_report er \\\n                        on er.id = erd.id \\\n                        where erd.status='queue' \\\n                        and er.status='done' \\\n                )\";\n\n        $sth = $dbh-&gt;prepare($sql);\n        $sth-&gt;execute();\n</code></pre>\n\n<p>eval_rep_track_dup has 3 <code>number</code>, 8 <code>varchar2</code> and a <code>timestamp</code> columns\neval_report_dup has 10 <code>number</code>, 8 <code>varchar2</code> and 3 <code>timestamp</code> columns</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 3, "creation_date": 1431311777, "post_id": 30158799, "comment_id": 48424832, "body": "Because the number of programs that don&#39;t need to recreationally waste CPU cycles splitting <i>every</i> line of input are legion?"}, {"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 1, "creation_date": 1431312547, "post_id": 30158799, "comment_id": 48425003, "body": "Presumably because splitting each line takes work. If you&#39;re trying to process millions of lines, that&#39;s a lot of wasted time. If they&#39;re long lines, that&#39;s a lot of wasted time and memory."}], "answers": [{"tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 2, "last_activity_date": 1431312349, "last_edit_date": 1431312349, "creation_date": 1431311831, "answer_id": 30158880, "question_id": 30158799, "link": "https://stackoverflow.com/questions/30158799/why-f-is-not-set-by-default/30158880#30158880", "title": "Why @F is not set by default?", "body": "<p>:)Because it isn't?</p>\n\n<p>Also, @F isn't exactly a  built-in variable, its created by -a</p>\n\n<pre><code>$ perl -we \" print @F \"\nName \"main::F\" used only once: possible typo at -e line 1.\n\n$ perl -wae\" print @F \"\n\n$ perl -MO=Deparse -ne print\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    print $_;\n}\n-e syntax OK\n\n$ perl -MO=Deparse -ane print\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    our(@F) = split(' ', $_, 0);\n    print $_;\n}\n-e syntax OK\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1431312730, "last_edit_date": 1431312730, "creation_date": 1431312429, "answer_id": 30158944, "question_id": 30158799, "link": "https://stackoverflow.com/questions/30158799/why-f-is-not-set-by-default/30158944#30158944", "title": "Why @F is not set by default?", "body": "<blockquote>\n  <p><em>Why all the built-in variables are set except @F has to be manually set?</em></p>\n</blockquote>\n\n<p>How can a variable have a value before it's set?</p>\n\n<p>A lot of variables reflect system calls (e.g. <code>%ENV</code> reflects <code>getenv</code>) or internal Perl variables (<code>$!</code> reflects <code>errno</code>). Accessing these variables access the reflected variable or system call &mdash; they don't actually have a value of their own, so they appear to have a value at all times.</p>\n\n<p>But <code>@F</code> doesn't reflect anything. In fact, it's not a special variable at all. Like <code>$_</code>, <code>@ISA</code>, etc, etc, etc, it doesn't have a value until you give it one.</p>\n\n<p>Now, <code>readline</code> could be changed to populate <code>@F</code> when it reads a line from a file, but what an incredible waste of resources that would be!!! You're suggesting that Perl should create a string for every word of every file just to avoid specifying one letter to activate an incredibly rarely used feature. That's oh so wrong.</p>\n"}], "owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 30158944, "answer_count": 2, "score": 1, "last_activity_date": 1431312730, "creation_date": 1431311067, "question_id": 30158799, "link": "https://stackoverflow.com/questions/30158799/why-f-is-not-set-by-default", "title": "Why @F is not set by default?", "body": "<p>When <code>-n</code> or <code>-p</code> is set, to get a field by number, one has to also pass <code>-a</code> option to use <code>@F</code>.</p>\n\n<p>Why all the built-in variables are set except @F has to be manually set? Especially when -n is on? It makes more sense to me to just set by default. Is there a specific reason?</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3720245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4abe84001cb91987d740f06fa9da7300?s=128&d=identicon&r=PG&f=1", "display_name": "vicky", "link": "https://stackoverflow.com/users/3720245/vicky"}, "edited": false, "score": 0, "creation_date": 1431312099, "post_id": 30158267, "comment_id": 48424890, "body": "Thanks that works perfectly.I tried using join but was missing comma that you placed after and before double quotes !!"}], "tags": [], "owner": {"reputation": 405, "user_id": 4860403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34928c032bed1222afd069cd23d0767f?s=128&d=identicon&r=PG&f=1", "display_name": "ilbelkyr", "link": "https://stackoverflow.com/users/4860403/ilbelkyr"}, "is_accepted": true, "score": 4, "last_activity_date": 1431305843, "creation_date": 1431305843, "answer_id": 30158267, "question_id": 30158127, "link": "https://stackoverflow.com/questions/30158127/printing-row-from-2d-array/30158267#30158267", "title": "printing row from 2D array", "body": "<p>What you want is <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow\">the <code>join</code> function</a>. Try something like:</p>\n\n<pre><code>print \"Second row: [\", join(', ', @second_row), \"]\\n\";\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3720245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4abe84001cb91987d740f06fa9da7300?s=128&d=identicon&r=PG&f=1", "display_name": "vicky", "link": "https://stackoverflow.com/users/3720245/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 30158267, "answer_count": 1, "score": 0, "last_activity_date": 1431305921, "creation_date": 1431304673, "question_id": 30158127, "link": "https://stackoverflow.com/questions/30158127/printing-row-from-2d-array", "title": "printing row from 2D array", "body": "<pre><code>#!/usr/bin/perl   \nuse strict;\nuse warnings;\nmy @array = (\n    [1,2,3,4],\n    [5,6,7,8]\n);\nmy @second_row = @{ $array[1] };\nprint \"Second row: [@second_row]\\n\";\n</code></pre>\n\n<p>getting output as : Second row: [5 6 7 8]<br>\nbut i need it as  : Second row: [5, 6, 7, 8]    </p>\n"}, {"tags": ["html", "css", "perl", "cgi"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1431280633, "post_id": 30154640, "comment_id": 48416656, "body": "<code>if(&quot;$user_id&quot; eq &quot;$c-&gt;{post_owner}&quot;)</code> would be much better without quotes. You can use <code>qq()</code>  instead of <code>&quot;&quot;</code> quoting (no need for escaping <code>\\&quot;</code>). Also you could benefit from <code>use strict;use warnings;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "is_accepted": false, "score": 3, "last_activity_date": 1431287491, "creation_date": 1431287491, "answer_id": 30155983, "question_id": 30154640, "link": "https://stackoverflow.com/questions/30154640/always-getting-the-same-image-in-while-loop/30155983#30155983", "title": "Always getting the same image in while loop", "body": "<p>Here is the problem:</p>\n\n<pre><code>id=\"popup1\"\n</code></pre>\n\n<p><code>id</code> never changes between iterations, so the first one is used (I can't see any <code>javascript</code> here, so it's a guess, I'm not quite sure how it works exactly).</p>\n\n<p>Also this code is horrifying in many ways, let me know if you want suggests for other improvements.</p>\n"}], "owner": {"reputation": 101, "user_id": 4259445, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/QT8w9.jpg?s=128&g=1", "display_name": "Muskovitz", "link": "https://stackoverflow.com/users/4259445/muskovitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1431287491, "creation_date": 1431280154, "last_edit_date": 1431284424, "question_id": 30154640, "link": "https://stackoverflow.com/questions/30154640/always-getting-the-same-image-in-while-loop", "title": "Always getting the same image in while loop", "body": "<p>I am making a post where you can put comments, and if the post seems to have a photo attached, there's a link where you can click and a CSS popup window will appear with the image as its content.</p>\n\n<p>However, when getting data from the database, I always get the same image &ndash; why is that?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>$query=\"SELECT * FROM post WHERE post_owner IN ($name1) ORDER BY post_id DESC\";\n$queryhandle=$connect-&gt;prepare($query);\n$queryhandle-&gt;execute();\nwhile(my $c=$queryhandle-&gt;fetchrow_hashref()){\n    if(\"$user_id\" eq \"$c-&gt;{post_owner}\"){\n        $magic_button=\"&lt;a href=\\\"delete.pl?p_id=$c-&gt;{post_id}\\\" target=\\\"_blank\\\"&gt;&lt;button id=\\\"button_1\\\"&gt;Remove&lt;/button&gt;&lt;/a&gt;\";\n    }else{\n        $magic_button=\"\";\n    }\n    HTML::Entities::encode($c-&gt;{post});\n    HTML::Entities::encode($c-&gt;{post_attach});\n    our $post_name=\"$c-&gt;{post_owner}\";\n    my $check_attach=length(\"$c-&gt;{post_attach}\");\n    if($check_attach==0){\n        our $img_src=\"\";\n    }else{\n        our $img_src=\"&lt;img src=\\\"$mhost/$c-&gt;{post_attach}\\\" style=\\\"border-bottom-right-radius: 2pt;border-bottom-left-radius: 2pt;border-top-right-radius: 2pt;border-top-left-radius: 2pt;\\\"/&gt;\";\n    }\nprint &lt;&lt;HTML;\n&lt;table id=\"post\"&gt;&lt;td&gt;\n&lt;a href=\"profile.pl?username=$post_name\" style=\"TEXT-DECORATION:none;color:none;\"&gt;&lt;img src=\"$mhost/$c-&gt;{post_image}\" width=\"50\" height=\"50\" id=\"image-style\"/&gt; &lt;font face=\"arial\" size=\"4\" color=\"black\"&gt;&lt;b&gt;$post_name&lt;/b&gt;&lt;/font&gt;&lt;/a&gt;&lt;br /&gt;\n&lt;p style=\"word-spacing:3px;\"&gt;\n$c-&gt;{post}&lt;br /&gt;\n&lt;div class=\"box\"&gt;\n    &lt;a class=\"button\" href=\"#popup1\"&gt;Let me Pop up&lt;/a&gt;\n&lt;/div&gt;\n\n&lt;div id=\"popup1\" class=\"overlay\"&gt;\n    &lt;div class=\"popup\"&gt;\n        &lt;h2&gt;IMAGE&lt;/h2&gt;\n        &lt;a class=\"close\" href=\"#\"&gt;\u00d7&lt;/a&gt;\n        &lt;div class=\"content\"&gt;\n            $img_src\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>Every time I click the \"Let me pop up\" link, I get the same image from the recent post or newest post that has a photo attached.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1431275151, "post_id": 30153516, "comment_id": 48414752, "body": "It sounds like what you <i>really</i> want to do is to create file paths relative to <code>&#47;skukke&#47;integration</code>. You should avoid pattern matching and use the <a href=\"https://metacpan.org/pod/File::Spec::Functions\" rel=\"nofollow noreferrer\"><code>File::Spec::Functions</code></a> module and the <code>abs2rel</code> function. But you need to explain better what it is that you need before anyone can write a solution"}], "answers": [{"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1431275977, "post_id": 30153539, "comment_id": 48415046, "body": "@Downvoter: <a href=\"https://goo.gl/YX5KQr\" rel=\"nofollow noreferrer\">goo.gl/YX5KQr</a> is for you. Downvoting working solutions is BAD."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 53, "user_id": 4884717, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fmdMMHMYXnQ/AAAAAAAAAAI/AAAAAAAAD2M/E5QlbswajBQ/photo.jpg?sz=128", "display_name": "swaroop kukke", "link": "https://stackoverflow.com/users/4884717/swaroop-kukke"}, "edited": false, "score": 0, "creation_date": 1431279506, "post_id": 30153539, "comment_id": 48416253, "body": "Glad to help. Please consider  accepting the answer."}, {"owner": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 0, "creation_date": 1431326241, "post_id": 30153539, "comment_id": 48428846, "body": "sorry for asking, what is the purpose of ?: at the beginning of the regex?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1431326884, "post_id": 30153539, "comment_id": 48429214, "body": "The <code>(?:...)</code> is a <a href=\"http://stackoverflow.com/questions/3512471/non-capturing-group\">non-capturing group</a> to make matching less resource-consuming. Anyway, we are not using that value. If you need it, add round brackets (a <a href=\"http://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">capturing group</a>) around the whole beginning part: <code>((?:\\&#47;[^\\&#47;]+){2})(.*)</code>."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1431281472, "last_edit_date": 1431281472, "creation_date": 1431273901, "answer_id": 30153539, "question_id": 30153516, "link": "https://stackoverflow.com/questions/30153516/perl-regular-expression-match-substring/30153539#30153539", "title": "perl regular expression match substring", "body": "<h1>Regex Solution</h1>\n\n<p>The regex you can use is:</p>\n\n<pre><code>(?:\\/[^\\/]+){2}(.*)\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/bT8eL9/1\" rel=\"nofollow\">demo</a></p>\n\n<p>Regex explanation:</p>\n\n<ul>\n<li><code>(?:\\/[^\\/]+){2}</code> - Match exactly 2 times <code>/</code> and everything that is not <code>/</code> 1 or more times</li>\n<li><code>(.*)</code> - Match 0 or more characters after what we matched before and put into a capturing group 1.</li>\n</ul>\n\n<p>Here is a demo on <a href=\"http://www.tutorialspoint.com/execute_perl_online.php?PID=0Bw_CjBb95KQMc1NsVmJDRGFMSlE\" rel=\"nofollow\">TutorialsPoint</a>:</p>\n\n<pre><code>$str = \"/skukke/integration/build/IO/something\";\nprint $str =~ /(?:\\/[^\\/]+){2}(.*)/;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>/build/IO/something\n</code></pre>\n\n<h1>Non-regex solution</h1>\n\n<p>You can use <a href=\"https://metacpan.org/pod/File::Spec::Functions\" rel=\"nofollow\"><code>File::Spec::Functions</code></a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse File::Spec;\n$parentPath = \"/skukke/integration\";\n$filePath = \"/skukke/integration/build/IO/something\";\nmy $relativePath = File::Spec-&gt;abs2rel ($filePath,  $parentPath);\nprint \"/\". $relativePath;\n</code></pre>\n\n<p>Outputs <code>/build/IO/something</code>.</p>\n\n<p>See <a href=\"http://ideone.com/Q8djTj\" rel=\"nofollow\">demo on Ideone</a></p>\n"}, {"tags": [], "owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "is_accepted": false, "score": 0, "last_activity_date": 1431335377, "creation_date": 1431335377, "answer_id": 30163633, "question_id": 30153516, "link": "https://stackoverflow.com/questions/30153516/perl-regular-expression-match-substring/30163633#30163633", "title": "perl regular expression match substring", "body": "<p><strong>Use This Regex:</strong><br></p>\n\n<pre><code>my $string = \"/skukke/integration/build/IO/something\";\n$string =~ s/\\/[a-zA-Z0-9]*\\/[a-zA-Z0-9]*//;\n</code></pre>\n\n<p>Hope This helps.</p>\n"}], "owner": {"reputation": 53, "user_id": 4884717, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fmdMMHMYXnQ/AAAAAAAAAAI/AAAAAAAAD2M/E5QlbswajBQ/photo.jpg?sz=128", "display_name": "swaroop kukke", "link": "https://stackoverflow.com/users/4884717/swaroop-kukke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 991, "favorite_count": 1, "accepted_answer_id": 30153539, "answer_count": 2, "score": 5, "last_activity_date": 1431335377, "creation_date": 1431273759, "last_edit_date": 1431325854, "question_id": 30153516, "link": "https://stackoverflow.com/questions/30153516/perl-regular-expression-match-substring", "title": "perl regular expression match substring", "body": "<p>I have several strings from which I want to extract a substring. Here is an example:</p>\n\n<pre><code>/skukke/integration/build/IO/something\n</code></pre>\n\n<p>I would like to extract everything after the 3rd <code>/</code> character. In this case, the output should be </p>\n\n<pre><code>/build/IO/something\n</code></pre>\n\n<p>I tried something like this </p>\n\n<pre><code>/\\/\\s*([^\\\\]*)\\s*$/\n</code></pre>\n\n<p>The result of the match is </p>\n\n<pre><code>something\n</code></pre>\n\n<p>Which is not what I want. Can anyone help? </p>\n"}, {"tags": ["python", "regex", "perl", "transform", "canonicalization"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431263680, "post_id": 30151486, "comment_id": 48410973, "body": "<code>s{ \\A( .+ [.] com) &#47; [^&#47;]+ (&#47; prod [^&#47;]+  &#47;p [.] prod) }{$1$2}six</code> ... Also, I do not know why you need <code>&#47;s</code>. Do you really want the initial segment of the URL to possibly contain newlines?"}], "answers": [{"comments": [{"owner": {"reputation": 1207, "user_id": 2745724, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fa4af16ab5391105b75f58dab26a48cf?s=128&d=identicon&r=PG", "display_name": "Mounarajan", "link": "https://stackoverflow.com/users/2745724/mounarajan"}, "edited": false, "score": 0, "creation_date": 1431262716, "post_id": 30151589, "comment_id": 48410666, "body": "what does the &quot;ur&quot; and &quot;u&quot; mean?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1207, "user_id": 2745724, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fa4af16ab5391105b75f58dab26a48cf?s=128&d=identicon&r=PG", "display_name": "Mounarajan", "link": "https://stackoverflow.com/users/2745724/mounarajan"}, "edited": false, "score": 1, "creation_date": 1431263315, "post_id": 30151589, "comment_id": 48410866, "body": "<code>u</code> stands for Unicode, <code>r</code> just means we are using &quot;raw&quot; string where `` does not need escaping. Very helpful when dealing with regular expressions."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1431261946, "creation_date": 1431261946, "answer_id": 30151589, "question_id": 30151486, "link": "https://stackoverflow.com/questions/30151486/perl-specific-transforms-in-python/30151589#30151589", "title": "Perl specific transforms in python", "body": "<p>Here is the Python code:</p>\n\n<pre><code>import re\np = re.compile(ur'(.*\\.com)\\/[^\\/]+(\\/prod[^\\_]*\\/p\\.prod).*', re.DOTALL | re.IGNORECASE)\ntest_str = u\"http://www.bergdorfgoodman.com/Ippolita-18k-Gold-Rock-Candy-Mini-Single-Square-Pendant-Necklace/prod108010011/p.prod#.U75MVqY-PtS\"\nsubst = ur\"\\1\\2\"\nresult = re.sub(p, subst, test_str)\n</code></pre>\n\n<p>In Python, you need to use <code>\\1</code> instead of <code>$1</code> in the replacement string.</p>\n\n<p>See <a href=\"https://regex101.com/r/rW7zX5/1\" rel=\"nofollow\">regex demo</a> and <a href=\"http://ideone.com/5hdtPM\" rel=\"nofollow\">code demo on IDEONE</a></p>\n\n<p>Output:</p>\n\n<pre><code>http://www.bergdorfgoodman.com/prod108010011/p.prod\n</code></pre>\n"}], "owner": {"reputation": 1207, "user_id": 2745724, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fa4af16ab5391105b75f58dab26a48cf?s=128&d=identicon&r=PG", "display_name": "Mounarajan", "link": "https://stackoverflow.com/users/2745724/mounarajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 30151589, "answer_count": 1, "score": -2, "last_activity_date": 1431265917, "creation_date": 1431261326, "last_edit_date": 1431265917, "question_id": 30151486, "link": "https://stackoverflow.com/questions/30151486/perl-specific-transforms-in-python", "title": "Perl specific transforms in python", "body": "<p>I need a Perl-specific code in Python.</p>\n\n<p>Here is the Perl code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nmy $s = 'http://www.bergdorfgoodman.com/Ippolita-18k-Gold-Rock-Candy-Mini-Single-Square-Pendant-Necklace/prod108010011/p.prod#.U75MVqY-PtS';\n\n$s =~ s/(.*\\.com)\\/[^\\/]+(\\/prod[^\\_]*\\/p\\.prod).*/$1$2/si;\n\n\nprint $s .\"\\n\";\n</code></pre>\n\n<p>I have handled the capturing part by $1 and $2, and I don't know how to do it in Python.</p>\n\n<p>Output:</p>\n\n<pre><code>http://www.bergdorfgoodman.com/prod108010011/p.prod\n</code></pre>\n"}, {"tags": ["perl", "shell", "cmusphinx", "pocketsphinx"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431255411, "post_id": 30150439, "comment_id": 48408527, "body": "What is wrong with the command that you show?"}, {"owner": {"reputation": 11, "user_id": 4530043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbe6c25f8b1f84dddd5e9078d1b77b5?s=128&d=identicon&r=PG&f=1", "display_name": "Gianna", "link": "https://stackoverflow.com/users/4530043/gianna"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431268455, "post_id": 30150439, "comment_id": 48412489, "body": "this code can not create   -hypseg fileRecTri.txt. I need this out put folder?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431271689, "post_id": 30150439, "comment_id": 48413590, "body": "It&#39;s very hard to tell what is wrong. Please can you show your Perl code, especially the part that builds the command string?"}, {"owner": {"reputation": 23634, "user_id": 432021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c16a68dfa5030f9b6df4d4ae4a337a?s=128&d=identicon&r=PG", "display_name": "Nikolay Shmyrev", "link": "https://stackoverflow.com/users/432021/nikolay-shmyrev"}, "edited": false, "score": 0, "creation_date": 1431557997, "post_id": 30150439, "comment_id": 48557021, "body": "Actually error has nothing to do with argument order. The log says &quot;Segmentation fault&quot; which means the software crashed. It might be caused by incorrect data and other factors like star position. Without additional information it is hard to help with that."}, {"owner": {"reputation": 11, "user_id": 4530043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbe6c25f8b1f84dddd5e9078d1b77b5?s=128&d=identicon&r=PG&f=1", "display_name": "Gianna", "link": "https://stackoverflow.com/users/4530043/gianna"}, "edited": false, "score": 0, "creation_date": 1431585832, "post_id": 30150439, "comment_id": 48564836, "body": "I compiled pocketsphinx in visual studio 2012 in my computer. Maybe the reason. Because my professor said that he compiled pocketsphinx in visual studio 2008 in his computer, and then it worked in there! Maybe this is the reason."}], "owner": {"reputation": 11, "user_id": 4530043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbe6c25f8b1f84dddd5e9078d1b77b5?s=128&d=identicon&r=PG&f=1", "display_name": "Gianna", "link": "https://stackoverflow.com/users/4530043/gianna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1431271400, "creation_date": 1431254568, "last_edit_date": 1431271400, "question_id": 30150439, "link": "https://stackoverflow.com/questions/30150439/order-of-arguments-when-running-cmu-sphinx-from-the-command-line", "title": "Order of arguments when running CMU Sphinx from the command line", "body": "<p>My project is about speech recognition for mobile phones. For this purpose I'm using <a href=\"http://cmusphinx.sourceforge.net/\" rel=\"nofollow\"><code>pocketsphinx_batch.exe</code></a> in the testing phase. But the following code can not create an output file</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$sphinxBinDir/pocketsphinx_batch.exe -hmm hmmFilepath -dict dictF\u0130lePath -hyp fileRecTri.txt\n</code></pre>\n\n<p>What should I do? This code doesn't create the <code>fileRecTri.txt</code> file. Please help me in this context. I've been searching for two days and couldn't find a good tutorial.</p>\n\n<p>Can you help me with some links or sample format tutorial?</p>\n\n<p>This is my log file</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> ...\n$sphinxBinDir/pocketsphinx_batch.exe -hmm $rootDir/model_parameters/turkish.cd_cont_${NUMTIEDSTATES} -dict $rootDir/test.dic -fdict $rootDir/train.filler -fsg $rootDir/tvControl.fsg -cepdir $testFeatDir -ctl $rootDir/test.fileIds -hyp $resultDir/pocketrec_tri.txt -beam $beam\nINFO: cmd_ln.c(697): Parsing command line:\nD:07.05.2015\\Codes\\BIN\\Sphinx_Version12850\\bin\\pocketsphinx_batch.exe \\\n        -hmm D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/model_parameters/turkish.cd_cont_2000 \\\n        -dict D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/test.dic \\\n        -fdict D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/train.filler \\\n        -fsg D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/tvControl.fsg \\\n        -cepdir \nD:07.05.2015/DATA/Speech/SpeechRec/16k_test/feat_Sphinx_cfg2 \\\n        -ctl D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/test.fileIds \\\n        -hyp D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/results/pocketrec_tri.txt \\\n        -beam 1.0e-65\n\nCurrent configuration:\n[NAME]          [DEFLT]         [VALUE]\n-adchdr         0               0\n-adcin          no              no\n-agc            none            none\n-agcthresh      2.0             2.000000e+000\n-allphone\n-allphone_ci    no              no\n-alpha          0.97            9.700000e-001\n-argfile\n-ascale         20.0            2.000000e+001\n-aw             1               1\n-backtrace      no              no\n-beam           1e-48           1.000000e-065\n-bestpath       yes             yes\n-bestpathlw     9.5             9.500000e+000\n-build_outdirs  yes             yes\n-cepdir                         D:07.05.2015/DATA/Speech/SpeechRec/16k_test/feat_Sphinx_cfg2\n-cepext         .mfc            .mfc\n-ceplen         13              13\n-cmn            current         current\n-cmninit        8.0             8.0\n-compallsen     no              no\n-ctl                            D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/test.fileIds\n-ctlcount       -1              -1\n-ctlincr        1               1\n-ctloffset      0               0\n-ctm\n-debug                          0\n-dict                           D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/test.dic\n-dictcase       no              no\n-dither         no              no\n-doublebw       no              no\n-ds             1               1\n-fdict                          D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/train.filler\n-feat           1s_c_d_dd       1s_c_d_dd\n-featparams\n-fillprob       1e-8            1.000000e-008\n-frate          100             100\n-fsg                            D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/tvControl.fsg\n-fsgctl\n-fsgdir\n-fsgext\n-fsgusealtpron  yes             yes\n-fsgusefiller   yes             yes\n-fwdflat        yes             yes\n-fwdflatbeam    1e-64           1.000000e-064\n-fwdflatefwid   4               4\n-fwdflatlw      8.5             8.500000e+000\n-fwdflatsfwin   25              25\n-fwdflatwbeam   7e-29           7.000000e-029\n-fwdtree        yes             yes\n-hmm                            D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/model_parameters/turkish.cd_cont_2000\n-hyp                            D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/results/pocketrec_tri.txt\n-hypseg\n-input_endian   little          little\n-jsgf\n-keyphrase\n-kws\n-kws_plp        1e-1            1.000000e-001\n-kws_threshold  1               1.000000e+000\n-latsize        5000            5000\n-lda\n-ldadim         0               0\n-lifter         0               0\n-lm\n-lmctl\n-lmname\n-lmnamectl\n-logbase        1.0001          1.000100e+000\n-logfn\n-logspec        no              no\n-lowerf         133.33334       1.333333e+002\n-lpbeam         1e-40           1.000000e-040\n-lponlybeam     7e-29           7.000000e-029\n-lw             6.5             6.500000e+000\n-maxhmmpf       30000           30000\n-maxwpf         -1              -1\n-mdef\n-mean\n-mfclogdir\n-min_endfr      0               0\n-mixw\n-mixwfloor      0.0000001       1.000000e-007\n-mllr\n-mllrctl\n-mllrdir\n-mllrext\n-mmap           yes             yes\n-nbest          0               0\n-nbestdir\n-nbestext       .hyp            .hyp\n-ncep           13              13\n-nfft           512             512\n-nfilt          40              40\n-nwpen          1.0             1.000000e+000\n-outlatbeam     1e-5            1.000000e-005\n-outlatdir\n-outlatext      .lat            .lat\n-outlatfmt      s3              s3\n-pbeam          1e-48           1.000000e-048\n-pip            1.0             1.000000e+000\n-pl_beam        1e-10           1.000000e-010\n-pl_pbeam       1e-10           1.000000e-010\n-pl_pip         1.0             1.000000e+000\n-pl_weight      3.0             3.000000e+000\n-pl_window      5               5\n-rawlogdir\n-remove_dc      no              no\n-remove_noise   yes             yes\n-remove_silence yes             yes\n-round_filters  yes             yes\n-samprate       16000           1.600000e+004\n-seed           -1              -1\n-sendump\n-senin          no              no\n-senlogdir\n-senmgau\n-silprob        0.005           5.000000e-003\n-smoothspec     no              no\n-svspec\n-tmat\n-tmatfloor      0.0001          1.000000e-004\n-topn           4               4\n-topn_beam      0               0\n-toprule\n-transform      legacy          legacy\n-unit_area      yes             yes\n-upperf         6855.4976       6.855498e+003\n-uw             1.0             1.000000e+000\n-vad_postspeech 50              50\n-vad_prespeech  10              10\n-vad_threshold  2.0             2.000000e+000\n-var\n-varfloor       0.0001          1.000000e-004\n-varnorm        no              no\n-verbose        no              no\n-warp_params\n-warp_type      inverse_linear  inverse_linear\n-wbeam          7e-29           7.000000e-029\n-wip            0.65            6.5Segmentation fault\nperl $origDir/bin/sphinxRec2HTKRec.pl -frate $FRATE $resultDir/pocketrec_tri.txt $rootDir/testWavFiles.txt $resultDir/pocketrec_tri.mlf\nDied at D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/bin/sphinxRec2HTKRec.pl line 7.\n$htkBinDir/HResults -t -I $rootDir/promptTest.mlf $rootDir/train.phone $resultDir/pocketrec_tri.mlf &gt; $resultDir/pocketresults_tri.mlf\nERROR [+6510]  LOpen: Unable to open label file D:07.05.2015/Codes/SHELL/exp/SpeechRec/sphinx03/data/hmm01/results/pocketrec_tri.mlf\nFATAL ERROR - Terminating program D:07.05.2015\\Codes\\BIN\\HTK_3.4.1\\bin\\HResults.exe\n</code></pre>\n"}, {"tags": ["linux", "perl", "return-value"], "answers": [{"tags": [], "owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "is_accepted": true, "score": 2, "last_activity_date": 1431250732, "creation_date": 1431250732, "answer_id": 30149878, "question_id": 30148095, "link": "https://stackoverflow.com/questions/30148095/incorrect-command-line-perl-error-value-in/30149878#30149878", "title": "Incorrect command-line perl error value in $?", "body": "<p>The problem is that Perl does not come back with a non-zero exit status for this condition (<code>sudo</code> passes on the exit status of the command it was given), which is a bit vexing. You can work around the problem by recognizing that the line-reading loop is never entered if the file fails to be renamed and handle it with a flag:</p>\n\n<pre><code>sudo perl -i -ne 's/foo/bar/; print; $wrk = 1; }{ $wrk or exit 1' config.txt\n</code></pre>\n\n<p>The Eskimo greeting (or butterfly) \"operator\" <code>}{</code> introduces an <code>END</code> block, in a way; what comes after it is executed when the loop reading lines from the file has ended. The way it works is described <a href=\"http://search.cpan.org/dist/perlsecret/lib/perlsecret.pod\" rel=\"nofollow\">here</a>.</p>\n\n<p>The caveat is that this will also report an error if <code>config.txt</code> is empty. A shorter if a bit hackier way is to use the special <code>$.</code> line counter variable for the same purpose:</p>\n\n<pre><code>sudo perl -i -ne 's/foo/bar/; print; }{ $. or exit 1' config.txt\n</code></pre>\n"}], "owner": {"reputation": 1906, "user_id": 2755652, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/8bDAG.jpg?s=128&g=1", "display_name": "Sujay Phadke", "link": "https://stackoverflow.com/users/2755652/sujay-phadke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 1, "accepted_answer_id": 30149878, "answer_count": 1, "score": 6, "last_activity_date": 1431250732, "creation_date": 1431236104, "question_id": 30148095, "link": "https://stackoverflow.com/questions/30148095/incorrect-command-line-perl-error-value-in", "title": "Incorrect command-line perl error value in $?", "body": "<p>I am using command-line perl to perform a inplace substitution in a file. This is the code: (note the root perm with sudo)</p>\n\n<pre><code>sudo perl -i -pe \"s/foo/bar/\" config.txt\n</code></pre>\n\n<p>If this succeeds, 'echo $?' return 0. Now I make the file un-writable even for root using chattr like this:</p>\n\n<pre><code>sudo chattr +i config.txt\n</code></pre>\n\n<p>I run the same perl command and it fails with this error:</p>\n\n<blockquote>\n  <p>Can't remove config.txt: Operation not permitted, skipping file.</p>\n</blockquote>\n\n<p>Which is fine. However, 'echo $?' still returns 0 in this case. Why is this so? Shouldn't it return a non-zero value indicating an error?</p>\n"}, {"tags": ["xml", "excel", "perl", "vba", "parsing"], "comments": [{"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "edited": false, "score": 0, "creation_date": 1431215542, "post_id": 30146123, "comment_id": 48400818, "body": "It is not clear the relation between the output and the input..."}, {"owner": {"reputation": 37, "user_id": 2939050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c9e51c3b9c72c01e9192a5521d187e?s=128&d=identicon&r=PG&f=1", "display_name": "VenkatParkunan", "link": "https://stackoverflow.com/users/2939050/venkatparkunan"}, "reply_to_user": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "edited": false, "score": 0, "creation_date": 1431216736, "post_id": 30146123, "comment_id": 48401033, "body": "Sorry, basically I wanted to extract the info between the tag &lt;CommandText&gt;dbDummy.dbo.abc456Audit &lt;/CommandText&gt; and put them into excel file for each XML file. I want some indicator for the XML file name on the excel file."}, {"owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1431220085, "post_id": 30146123, "comment_id": 48401591, "body": "So finally you need xml filename in first row and data between &lt;Commandtext&gt; in the second row to be placed in the excel file. Repeat this for all 100 xml files and place it in the same excel file ? Is this what you are looking for ?"}, {"owner": {"reputation": 37, "user_id": 2939050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c9e51c3b9c72c01e9192a5521d187e?s=128&d=identicon&r=PG&f=1", "display_name": "VenkatParkunan", "link": "https://stackoverflow.com/users/2939050/venkatparkunan"}, "edited": false, "score": 0, "creation_date": 1431220383, "post_id": 30146123, "comment_id": 48401632, "body": "Exactly, thanks for clarifying my question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431256206, "post_id": 30146123, "comment_id": 48408778, "body": "Do you need anything more than CSV output (which Excel will import) or do you want more control than that"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431256499, "post_id": 30146123, "comment_id": 48408861, "body": "I presume there are other <code>CommandType</code> values than <code>StoredProcedure</code>? You will need to show a more representative sample of the XML"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 2939050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c9e51c3b9c72c01e9192a5521d187e?s=128&d=identicon&r=PG&f=1", "display_name": "VenkatParkunan", "link": "https://stackoverflow.com/users/2939050/venkatparkunan"}, "edited": false, "score": 0, "creation_date": 1431267691, "post_id": 30148889, "comment_id": 48412261, "body": "Thanks to both of you for the perl script. When I tried, it seems like the Excel::Writer::XLSX is not installed in the ksh. I am trying to see how to install and then try this out."}], "tags": [], "owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "is_accepted": false, "score": 1, "last_activity_date": 1431247403, "last_edit_date": 1431247403, "creation_date": 1431243534, "answer_id": 30148889, "question_id": 30146123, "link": "https://stackoverflow.com/questions/30146123/extract-tag-info-from-xml-files-to-excel-file/30148889#30148889", "title": "Extract tag info from XML files to Excel file", "body": "<p>You can try the below code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Excel::Writer::XLSX;\n\nmy $dir = $ARGV[0];\n\nopendir(DIR, \"$dir\") || die \"Couldn't open the directory - $!\";\n\nmy @files = grep(/\\.xml$/,readdir(DIR));\nmy $OutFile = \"Output\". \"\\.\" . \"xlsx\";\nmy $workbook  = Excel::Writer::XLSX-&gt;new($OutFile);\nmy $worksheet = $workbook-&gt;add_worksheet('SotredProcedures');\n# Create a format for the column headings\nmy $header = $workbook-&gt;add_format();\n$header-&gt;set_bold();\n$header-&gt;set_color('red');\n# Create a Text Wrap format\nmy $format1 = $workbook-&gt;add_format();\n$format1-&gt;set_text_wrap();\n\n\n$worksheet-&gt;write(0, 0, \"Filenames\", $header);\n$worksheet-&gt;write(0, 1, \"Stored Procedures\", $header);\n$worksheet-&gt;set_column(0, 1, 12);\n$worksheet-&gt;set_column(1, 2, 100);\n\nmy $row=1;\nforeach our $filename (@files){\n    my $document = do {\n         local $/ = undef;\n         open my $fh,'&lt;',$filename or die \"Couldn't open the file $filename:$!\";\n       &lt;$fh&gt;;\n      };\n\n\n      my $checkval = \"false\";\n      while($document =~ /&lt;CommandText&gt;(.*?)&lt;\\/CommandText&gt;/isg)\n         {\n             if($1 ne \"\")\n              {\n               $checkval = \"true\";\n               $worksheet-&gt;write($row,0,$filename,$format1); \n               $worksheet-&gt;write($row,1,$1,$format1);\n               $row++;\n                  }\n              }\n         if($checkval eq \"false\")\n           {\n              print \"No &lt;CommandText&gt; Value in $filename\\n\";\n              }   \n\n        }     \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 2939050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c9e51c3b9c72c01e9192a5521d187e?s=128&d=identicon&r=PG&f=1", "display_name": "VenkatParkunan", "link": "https://stackoverflow.com/users/2939050/venkatparkunan"}, "edited": false, "score": 0, "creation_date": 1431275395, "post_id": 30149419, "comment_id": 48414833, "body": "I installed the packages, but MakeMaker is not finding Excel::Writer::XLSX and vice versa as they have installed in different places. Since I never worked on perl before, I am searching online to get this resolved so that I can try the script above. Thanks!"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 37, "user_id": 2939050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c9e51c3b9c72c01e9192a5521d187e?s=128&d=identicon&r=PG&f=1", "display_name": "VenkatParkunan", "link": "https://stackoverflow.com/users/2939050/venkatparkunan"}, "edited": false, "score": 0, "creation_date": 1431293971, "post_id": 30149419, "comment_id": 48420915, "body": "@user2939050, my solution is not using Excel::Writer::XLSX; Perl modules in general can be installed by <code>sudo cpan Excel::Writer::XLSX</code>. What is you operating system etc?"}, {"owner": {"reputation": 37, "user_id": 2939050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c9e51c3b9c72c01e9192a5521d187e?s=128&d=identicon&r=PG&f=1", "display_name": "VenkatParkunan", "link": "https://stackoverflow.com/users/2939050/venkatparkunan"}, "edited": false, "score": 0, "creation_date": 1431299016, "post_id": 30149419, "comment_id": 48422178, "body": "I could not able to install the packages right even after several try. I have Red Hat Enterprise Linux Server release 6.5 (Santiago). The above JJoao solution did not work.     was getting  suexec: Program cpan not found error"}, {"owner": {"reputation": 37, "user_id": 2939050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c9e51c3b9c72c01e9192a5521d187e?s=128&d=identicon&r=PG&f=1", "display_name": "VenkatParkunan", "link": "https://stackoverflow.com/users/2939050/venkatparkunan"}, "edited": false, "score": 0, "creation_date": 1431301299, "post_id": 30149419, "comment_id": 48422697, "body": "JJoao....Many thanks for the script. I tried running in sh, it worked and it created the tsv file within 1 sec. I was thinking all along it is a perl script. I used python to convert to csv and opened it in excel. It worked fine, I got exactly what I wanted. Thanks for your help!"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 37, "user_id": 2939050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c9e51c3b9c72c01e9192a5521d187e?s=128&d=identicon&r=PG&f=1", "display_name": "VenkatParkunan", "link": "https://stackoverflow.com/users/2939050/venkatparkunan"}, "edited": false, "score": 0, "creation_date": 1431345270, "post_id": 30149419, "comment_id": 48440222, "body": "user2939050, in order to have @Praveen solution working (be careful Praveen will not be notified about the comments you are writing under my answer) you need Perl working properly :)  -- suggestion : <code>sudo yum install perl-CPAN</code> to have cpan command (used to install perl modules); Please try also  <code>sudo yum install perl-Excel-Writer-XLSX</code>"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 37, "user_id": 2939050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c9e51c3b9c72c01e9192a5521d187e?s=128&d=identicon&r=PG&f=1", "display_name": "VenkatParkunan", "link": "https://stackoverflow.com/users/2939050/venkatparkunan"}, "edited": false, "score": 0, "creation_date": 1431345463, "post_id": 30149419, "comment_id": 48440338, "body": "<code>sudo yum install gnumeric</code> can be used to install gnumeric (excel like) spreadsheet and also <code>ssconvert</code> converter tool.  Spreadsheets normally open <code>.tsv</code> dierectly."}], "tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 0, "last_activity_date": 1431250499, "last_edit_date": 1431250499, "creation_date": 1431247410, "answer_id": 30149419, "question_id": 30146123, "link": "https://stackoverflow.com/questions/30146123/extract-tag-info-from-xml-files-to-excel-file/30149419#30149419", "title": "Extract tag info from XML files to Excel file", "body": "<p>@Praveen' Perl solution is better (more robust, and produces richer excel);</p>\n\n<p>Following a simple command to build a tab-separated-value that\nprobably will do the job:</p>\n\n<pre><code>( \n  echo -e \"file\\tSP\" ;\n  grep -PoH '(?&lt;=&lt;CommandText&gt;).*?(?=&lt;)' *.xml | tr ':' '\\t' \n) &gt; stored_proc.tsv\n</code></pre>\n\n<p>If you prefer a <code>xls</code> file:</p>\n\n<pre><code>ssconvert stored_proc.tsv stored_proc.xls\n</code></pre>\n\n<p>Finally see the result with excel, gnumeric, whatever...</p>\n\n<pre><code>gnumeric stored_proc.tsv\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 2939050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c9e51c3b9c72c01e9192a5521d187e?s=128&d=identicon&r=PG&f=1", "display_name": "VenkatParkunan", "link": "https://stackoverflow.com/users/2939050/venkatparkunan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2139, "favorite_count": 0, "closed_date": 1431251302, "answer_count": 2, "score": 2, "last_activity_date": 1431250499, "creation_date": 1431214219, "last_edit_date": 1431219539, "question_id": 30146123, "link": "https://stackoverflow.com/questions/30146123/extract-tag-info-from-xml-files-to-excel-file", "closed_reason": "Needs more focus", "title": "Extract tag info from XML files to Excel file", "body": "<p>I have close to 100 XML files containing various stored procedure names within the tag . Each file may contain more than one SP or the same repeating again. </p>\n\n<pre><code>    &lt;DataSourceName&gt;SQL300&lt;/DataSourceName&gt;\n    &lt;CommandType&gt;StoredProcedure&lt;/CommandType&gt;\n    &lt;CommandText&gt;dbDummy.dbo.abc456Audit &lt;/CommandText&gt;\n</code></pre>\n\n<p>I took over a project to migrate the SQL server data to SAS grid and all SSRS reports to SAS. I will have to map all the data. </p>\n\n<p>Is there any easy Linux/perl/VBA/Python way to do this in one step? \nI wanted something like:</p>\n\n<pre><code>File Name    Stored Procedures\nAudit93       dbDummy.dbo.abc456Audit\nAudit93       dbDummy.dbo.abc123Audit\n</code></pre>\n\n<p>I tried: grep, sed, awk, perl, VBA .</p>\n\n<p>methods described here and in other places. I could able to extract all the tag info into one flat file, but nothing close to what I was looking for above. I need some technique to extract the file name along with the tags. </p>\n\n<p>I would appreciate if someone can shed some lights on how to approach this. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "db2", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4883100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562c017b85fcae4cb85741b38365fa85?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Mike", "link": "https://stackoverflow.com/users/4883100/sam-mike"}, "edited": false, "score": 0, "creation_date": 1431267552, "post_id": 30147075, "comment_id": 48412214, "body": "Hi Kim, In fact I&#39;m using the db2 driver in dbi. So, if I create a table a temp table in perl DBI on database A, how can I extract the temp table definition to create the same temp table on database B?"}, {"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "reply_to_user": {"reputation": 11, "user_id": 4883100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562c017b85fcae4cb85741b38365fa85?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Mike", "link": "https://stackoverflow.com/users/4883100/sam-mike"}, "edited": false, "score": 0, "creation_date": 1431302895, "post_id": 30147075, "comment_id": 48423005, "body": "Just use the SQL &quot;create table as&quot; syntax and it is remade with the same data definitions. I think this should be OK for DB2:   CREATE TABLE SCHEMA.NEW_TB AS (     SELECT *     FROM SCHEMA.OLD_TB ) WITH NO DATA"}, {"owner": {"reputation": 11, "user_id": 4883100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562c017b85fcae4cb85741b38365fa85?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Mike", "link": "https://stackoverflow.com/users/4883100/sam-mike"}, "edited": false, "score": 0, "creation_date": 1431309673, "post_id": 30147075, "comment_id": 48424413, "body": "The 2 different databases are on 2 different servers. The temp table definition on Database A is not visible on database B. So, I need to use the Perl to store the definition and reuse it."}, {"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "reply_to_user": {"reputation": 11, "user_id": 4883100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562c017b85fcae4cb85741b38365fa85?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Mike", "link": "https://stackoverflow.com/users/4883100/sam-mike"}, "edited": false, "score": 0, "creation_date": 1431310185, "post_id": 30147075, "comment_id": 48424520, "body": "Perhaps export the table definition as an SQL CREATE TABLE statement. Then run this statement on Database B to make your temp table."}], "tags": [], "owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1431224765, "last_edit_date": 1495535049, "creation_date": 1431224765, "answer_id": 30147075, "question_id": 30145504, "link": "https://stackoverflow.com/questions/30145504/perl-dbi-store-the-ddl-of-a-column-in-a-variable/30147075#30147075", "title": "Perl DBI: store the ddl of a column in a variable", "body": "<p>Most database have tables about table info, or meta data. Looks like you are using DB2, so here is an example <a href=\"https://stackoverflow.com/questions/580735/description-of-columns-in-a-db2-table\">Description of columns in a DB2 table</a></p>\n\n<p>You could also copy part of a table to a temporary table.</p>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 4882154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/977930685580655/picture?type=large", "display_name": "Gowtham Ganesh", "link": "https://stackoverflow.com/users/4882154/gowtham-ganesh"}, "is_accepted": false, "score": -1, "last_activity_date": 1431241824, "creation_date": 1431241824, "answer_id": 30148660, "question_id": 30145504, "link": "https://stackoverflow.com/questions/30145504/perl-dbi-store-the-ddl-of-a-column-in-a-variable/30148660#30148660", "title": "Perl DBI: store the ddl of a column in a variable", "body": "<p>The simple method is to get the description of the table and then parsing it might yield the ddl of the desired column.</p>\n\n<p>Considering, the description of the table is stored in a file 'table.txt',</p>\n\n<pre><code>$cat table.txt\n Name                                     Null?    Type\n -------------------------------------- -------- ----------------------------\n COLUMN1                                NOT NULL DATE\n COLUMN2                                NOT NULL VARCHAR2(31)\n COLUMN3                                NOT NULL VARCHAR2(1)\n COLUMN4                                NOT NULL NUMBER\n\n\n\n#!/usr/bin/perl\nopen (FILE, 'table.txt');\nwhile (my $line = &lt;FILE&gt;)\n{\n  chomp($line);\n  $line =~ s/\\s\\s+/,/g;\n  $line =~ s/NULL /NULL,/gi;\n  my ($column,$null_field,$type) = split /,/, $line, 3;\n  print \"$column $type $null_field,\\n\";\n}\nclose (FILE);\n</code></pre>\n\n<p>P.S: The first two lines of 'table.txt' needs to be ignored as they constitute the header information.</p>\n"}], "owner": {"reputation": 11, "user_id": 4883100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/562c017b85fcae4cb85741b38365fa85?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Mike", "link": "https://stackoverflow.com/users/4883100/sam-mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1431241824, "creation_date": 1431209017, "question_id": 30145504, "link": "https://stackoverflow.com/questions/30145504/perl-dbi-store-the-ddl-of-a-column-in-a-variable", "title": "Perl DBI: store the ddl of a column in a variable", "body": "<p>In Perl DBI, can I store the ddl of a column in a variable? My objective, is to use the definition of the column to create a temp table in another database. </p>\n\n<p>Mike</p>\n"}, {"tags": ["arrays", "string", "perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1431203721, "post_id": 30143776, "comment_id": 48397983, "body": "Where is your Perl script ?"}, {"owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1431219722, "post_id": 30143776, "comment_id": 48401541, "body": "my code is quite long, and the problem I asked is just part of that long script but I can provide it to you if you wish to see it"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431340407, "post_id": 30143776, "comment_id": 48437176, "body": "Stack Overflow is a site about programmers helping programmers with their problems and collate information as a result. It helps massively if you show some willing by indicating your attempt thus far"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "edited": false, "score": 0, "creation_date": 1431219697, "post_id": 30144173, "comment_id": 48401534, "body": "my actual code is quite long and not using hash, but i can edit provide it to you."}], "tags": [], "owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "is_accepted": false, "score": 0, "last_activity_date": 1431199918, "creation_date": 1431199918, "answer_id": 30144173, "question_id": 30143776, "link": "https://stackoverflow.com/questions/30143776/combining-identical-arrays-using-perl/30144173#30144173", "title": "Combining identical arrays using Perl", "body": "<p>The <em>idea</em> is to store your data in a <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\">hash</a>, using <em>xinst</em> name as key and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">arrayref</a> of other values as a value.</p>\n\n<p>If you want unique values in the array, you should use another hash instead, using actual values as hash keys and <code>1</code> or <code>undef</code> as hash values (since they don't matter in this particular case).</p>\n\n<p>If you want help with the actual code, you should provide the actual code, not just a problem.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "edited": false, "score": 0, "creation_date": 1431221353, "post_id": 30145784, "comment_id": 48401799, "body": "This one only prints the last two of the list. But thanks for the idea, I have to take a more look on hashes since I am new to this hashes"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1431211308, "creation_date": 1431211308, "answer_id": 30145784, "question_id": 30143776, "link": "https://stackoverflow.com/questions/30143776/combining-identical-arrays-using-perl/30145784#30145784", "title": "Combining identical arrays using Perl", "body": "<p>The trick is to use a hash. Hashes can only hold unique scalars as keys, which you can take advantage of: </p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen my $in, '&lt;', 'in.txt' or die $!;\n\nmy %data;\nwhile(&lt;$in&gt;){\n    chomp;\n    my @split = split(/\\s+/);\n    $data{$split[0]} = $_;\n}\n\nprint \"$data{$_}\\n\" foreach sort keys %data;\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1433794864, "creation_date": 1431197440, "last_edit_date": 1433794864, "question_id": 30143776, "link": "https://stackoverflow.com/questions/30143776/combining-identical-arrays-using-perl", "title": "Combining identical arrays using Perl", "body": "<p>I have an input file that has these following data:</p>\n\n<p><b>input.txt</b></p>\n\n<pre><code>xinstA portA out ctl vcc vss box_cell\nxinstB in portB ctl vcc vss box_cell\nxinstA in out portA%1 vcc vss box_cell\nxinstB porB%1 out ctl vcc vss box_cell\nxinstA in out mc1_ctl vcc vss box_cell\n...\n... may have xinstC, xinstD and so forth\n...\n</code></pre>\n\n<p>My desired output would be like this:</p>\n\n<pre><code>xinstA portA out portA%1 mc1_ctl vcc vss box_cell\nxinstB portB%1 portB ctl vcc vss box_cell\n...\n... can have xinstC, xinstD and so forth.\n...\n</code></pre>\n\n<p>I want to merge lines with the same prefix <code>xinst</code> names.\nHow to implement this using Perl? </p>\n"}, {"tags": ["perl", "syntax"], "comments": [{"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1431192989, "post_id": 30142856, "comment_id": 48394687, "body": "You&#39;re showing us a subroutine that should be called with 4 values (<code>GetSampRate (net,sta,loc,chan)</code>). Whether it works correctly or not will depend on the part of the script that sets the variables being passed to it. Find the lines that call <code>GetSampRate</code> and see where whatever is passed is being defined. We can&#39;t help based on what you show us."}, {"owner": {"reputation": 342, "user_id": 1332577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9cc94701d2c1845873e9439f8397643?s=128&d=identicon&r=PG", "display_name": "user1332577", "link": "https://stackoverflow.com/users/1332577/user1332577"}, "reply_to_user": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1431193523, "post_id": 30142856, "comment_id": 48394866, "body": "There&#39;s only 1 line that calls this: my $samprate = GetSampRate ($tnet,$tsta,$loc,$chan). All of these variables are being defined. The error message states: Samplerate for XX CHRYS 00 BH1 is:  Cannot determine sample rate for channel XX.CHRYS.00.BH1."}, {"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1431194141, "post_id": 30142856, "comment_id": 48395028, "body": "That error message is not printed by the code you show so, again, we can&#39;t help based on this code. You need to see how those 4 variables are set. Basically, you need to show us a full, reproducible example, showing both your input data and the entire program. We can do nothing with just a subroutine (especially since it isn&#39;t even the source of the error message)."}, {"owner": {"reputation": 342, "user_id": 1332577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9cc94701d2c1845873e9439f8397643?s=128&d=identicon&r=PG", "display_name": "user1332577", "link": "https://stackoverflow.com/users/1332577/user1332577"}, "reply_to_user": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1431198004, "post_id": 30142856, "comment_id": 48396246, "body": "$tnet and $tsta are set when the code is called and also stripped off the directory structure to ensure what&#39;s being called on the command line actually exists.  ./code.pl $tnet $tsta $targetdir. $loc and $chan are stripped off the directory structure. The code is really long, so I thought I wouldn&#39;t include it. I can show the basic setup and will edit the question."}], "answers": [{"comments": [{"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1431194378, "post_id": 30143163, "comment_id": 48395100, "body": "What is another global variable? <code>@lines</code> and <code>$srcname</code> are both declared in the sub. What am I missing?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1431195556, "post_id": 30143163, "comment_id": 48395501, "body": "@terdon: I was referring to <code>@metafilecache</code>. which is neither declared nor defined in the code that you show. You can pass arrays to subroutines by reference with only the tiniest overhead, and that is what you should do here"}, {"owner": {"reputation": 342, "user_id": 1332577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9cc94701d2c1845873e9439f8397643?s=128&d=identicon&r=PG", "display_name": "user1332577", "link": "https://stackoverflow.com/users/1332577/user1332577"}, "edited": false, "score": 0, "creation_date": 1431199635, "post_id": 30143163, "comment_id": 48396762, "body": "@Borodin, yes the file metatdata.txt file is stored in the /$stadir directory, that much I do know. I know I have the file in the correct location. Here $stadir would be CHRYS. The file is separated by tabs, but do you know what it puts in the elements 5-7? This is what I&#39;m not certain about. Given the subroutine I believe the first four are $tnet, $tsta, $loc, $chan. But I couldn&#39;t figure out what&#39;s between the first 4 elements up to the samplerate. Or for that matter how the sample rate is supposed to be defined in the file."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1431193536, "creation_date": 1431193536, "answer_id": 30143163, "question_id": 30142856, "link": "https://stackoverflow.com/questions/30142856/perl-line-delimiter-file-formatting-syntax/30143163#30143163", "title": "Perl line/delimiter file formatting syntax", "body": "<p>The code you have shown is very clunky.</p>\n\n<ul>\n<li><p>As far this scope is concerned, the file is called <code>$stadir/metadata.txt</code> and I can't help with <code>$stadir</code> as it's either undefined or a global value that is set elsewhere \u2014 not a great design idea</p></li>\n<li><p>After that, <code>@metafilecache = &lt;MF&gt;</code> loads the entire file into the array <code>@metafilecache</code>, leaving a trailing newline character at the end of each element</p></li>\n<li><p>Then <code>my @lines = grep { /^$srcname/ } @metafilecache</code> duplicates to <code>@lines</code> all lines beginning with the string held in <code>$srcname</code>. This is another global variable that shouldn't be used</p></li>\n<li><p>The following <code>for</code> loop splits the line on tab (<code>\"\\t\"</code> or <code>\"\\x09\"</code>) separators and sets <code>$rate</code> to the eighth value (<code>$fields[7]</code>). <code>$samprate</code> is updated at each iteration if the latest value of <code>$rate</code> is greater than the current stored maximum</p></li>\n</ul>\n\n<p>I hope that helps</p>\n"}], "owner": {"reputation": 342, "user_id": 1332577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9cc94701d2c1845873e9439f8397643?s=128&d=identicon&r=PG", "display_name": "user1332577", "link": "https://stackoverflow.com/users/1332577/user1332577"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431198890, "creation_date": 1431191707, "last_edit_date": 1431198890, "question_id": 30142856, "link": "https://stackoverflow.com/questions/30142856/perl-line-delimiter-file-formatting-syntax", "title": "Perl line/delimiter file formatting syntax", "body": "<p>I'm trying to figure out how to use a code that's written in perl, but am not very familiar with perl syntax. I was wondering if someone could tell me what the format of the file @metafilecache is? The code is failing to read the samplerate within the file, but I'm not sure how I have it formatted incorrectly. Here's the excerpt of the code I think is appropriate:</p>\n\n<pre><code>my $tnet = $ARGV[0];\nmy $tsta = $ARGV[1];\nmy $stadir = $ARGV[2]; \n\nif ( ! -d \"$targetdir\" ) {\n  mkdir \"$targetdir\" || die \"Cannot create $targetdir: $?\\n\";\n}\n\ndie \"Cannot find PDF bin base dir: $pdfbinbase\\n\" if ( ! -d \"$pdfbinbase\" );\n\nmy %targetdays = ();\nmy %targetchan = ();\n\n# Collect target files in the $pdfbinbase dir, limited by $changlob\n  foreach my $nsldir (glob(\"$pdfbinbase/{CHRYS}/$tnet.$tsta.*\")) {\n   next if ( ! -d \"$nsldir\" ); # Limit to directories\n\n   # Extract location ID from directory name\n   my ($net,$sta,$loc) = $nsldir =~ /\\/(\\w+)\\.(\\w+)\\.([\\w-]+)$/;\n\n   if ( $net ne $tnet ) {\n     print \"Target network ($tnet) != network ($net)\\n\";\n     next;\n   }\n   if ( $sta ne $tsta ) {\n     print \"Target station ($tsta) != station ($sta)\\n\";\n     next;\n   }\n\n   foreach my $chandir (glob(\"$nsldir/$changlob\")) {\n     next if ( ! -d \"$chandir\" ); # Limit to directories\n\n   # Extract channel code from directory name\n     my ($chan) = $chandir =~ /.*\\/([\\w\\d]+)$/;\n\n     foreach my $yeardir (glob(\"$chandir/Y*\")) {\n       next if ( ! -d \"$yeardir\" ); # Limit to directories\n\n       # Extract year from directory name\n       my ($year) = $yeardir =~ /^.*\\/Y(\\d{4,4})$/;\n\n       foreach my $daybin (glob(\"$yeardir/D*.bin\")) {\n         next if ( ! -f \"$daybin\" ); # Limit to regular files\n\n         my ($day) = $daybin =~ /^.*\\/D(\\d{3,3})\\.bin$/;\n\n         $targetdays{\"$loc.$chan.$year.$day\"} = $daybin;\n         $targetchan{\"$loc.$chan\"} = 1;\n       }\n     }\n   }\n }\n     if ( $verbose &gt; 1 ) {\n        print \"Target days from PDF bin files:\\n\";\n        my $count = 0;\n        foreach my $tday (sort keys %targetdays) {\n          print \"Target day: $tday =&gt; $targetdays{$tday}\\n\";\n          $count++;\n        }\n      print \"Targets: $count\\n\";\n     }\n\n # Remove targets that have already been calculated by checking\n # results files against targets.\n foreach my $tchan ( keys %targetchan ) {\n   my ($loc,$chan) = split (/\\./, $tchan);\n   # Generate target file name\n   my $targetfile = undef;\n   if ( $loc ne \"--\" ) { $targetfile = \"$targetdir/$prefix-$loc.$chan\"; }\n     else { $targetfile = \"$targetdir/$prefix-$chan\"; }\n\n     print \"\\nChecking target file for previous results: $targetfile\\n\"  \n     if        ( $verbose );\n\n   next if ( ! -f \"$targetfile\" );\n\n     # Open result file and remove any targets that are included\n     open IN, \"$targetfile\" || next;\n     foreach my $line (&lt;IN&gt;) {\n       next if ( $line =~ /^YEAR\\.DAY/ );\n         my ($year,$day) = $line =~ /^(\\d+).(\\d+)/;\n\n         # Delete this target\n         delete $targetdays{\"$loc.$chan.$year.$day\"};\n       }\n   close IN;\n  }\n\n  if ( $verbose &gt; 1 ) {\n    print \"Remaining target days:\\n\";\n    my $count = 0;\n    foreach my $tday (sort keys %targetdays) {\n      print \"Target day: $tday =&gt; $targetdays{$tday}\\n\";\n      $count++;\n    }\n    print \"Remaining Targets: $count\\n\";\n  }\n my %targetfiles = ();\n\n # Calculate and store PDF mode for each target day\n TARGET: foreach my $tday (sort keys %targetdays) {\n my ($loc,$chan,$year,$day) = split (/\\./, $tday);\n\n my %power = ();\n my %count = ();\n my @period = ();\n\n # Determine sampling rate\n my $samprate = GetSampRate ($tnet,$tsta,$loc,$chan);\n print \"Samplerate for $tnet $tsta $loc $chan is: $samprate\\n\" if (     \n $verbose );\n if ( ! defined $samprate ) {\n   if ( ($tsta eq \"ECSD\") || ($tsta eq \"SFJ\") || ($tsta eq \"CASEE\") ||     \n     ($tsta eq \"JSC\") ){\n     next;\n   }\n   else {\n     print \"Cannot determine sample rate for channel \n     $tnet.$tsta.$loc.$chan\\n\";\n     next;\n   }\n }\n</code></pre>\n\n<p>This is the subroutine GetSampRate:</p>\n\n<pre><code>sub GetSampRate {    # GetSampRate (net,sta,loc,chan)\n\n  my $net  = shift;\n  my $sta  = shift;\n  my $loc  = shift;\n  my $chan = shift;\n\n  my $samprate = undef;\n\n  # Generate source name: Net_Sta_Loc_Chan\n  my $srcname = \"${net}_${sta}_\";\n  $srcname   .= ($loc eq \"--\") ? \"_\" : \"${loc}_\";\n  $srcname   .= \"$chan\";\n\n  if ( $#metafilecache &lt; 0 ) {\n\n    my $metafile = \"$stadir/metadata.txt\";\n\n    if ( ! -f \"$metafile\" ) {\n      print \"GetSampRate(): Cannot find metadata file: $metafile\\n\";\n      return undef;\n    }\n\n    # Open metadata file\n    if ( ! (open MF, \"&lt;$metafile\") ) {\n      print \"GetSampRate(): Cannot open: $metafile\\n\";\n      return undef;\n    }\n\n    # Read all lines in the metafilecache\n    @metafilecache = &lt;MF&gt;;\n\n    close MF;\n  }\n\n  # Read all lines starting with srcname into @lines\n  my @lines = grep { /^$srcname/ } @metafilecache;\n\n  # Find maximum of sample rates for this channel\n  foreach my $line ( @lines ) {\n    my @fields = split(/\\t/, $line);\n    my $rate   = $fields[7];\n\n    $samprate = $rate if (!defined $samprate || $rate &gt; $samprate);\n  }\n\n  return $samprate;\n}\n</code></pre>\n"}, {"tags": ["perl", "oop"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431188190, "post_id": 30141959, "comment_id": 48393032, "body": "It sounds like you just want the rest of <code>Moose</code>. <code>Class::Accessor</code> was never meant to provide a comprehensive object-oriented framework \u2014 just, as its name suggests, accessor methods for object attributes"}, {"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431193440, "post_id": 30141959, "comment_id": 48394833, "body": "@Borodin, I would like to accept your answer, but first you should review it, since It is misleading (see my edit to the question)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431194983, "post_id": 30141959, "comment_id": 48395298, "body": "I don&#39;t see that my solution is misleading. All that is required for a Perl class is that the code be in its own package and there be a <code>new</code> or equivalent class constructor method. You have written a class."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431195118, "post_id": 30141959, "comment_id": 48395347, "body": "If you want to insist that, somehow, this Perl class mustn&#39;t be used as such, then you must explain what non-standard behaviour you want from <code>package Foo</code>. It will help if you explain what your <code>package Foo</code> statement is for, if not to define a class"}, {"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431195414, "post_id": 30141959, "comment_id": 48395452, "body": "I thought that a class requires a bless or an inheritance, and that the name <code>new</code> is purely conventional. If you tell me this is wrong then your answer is correct. Also I will definitely use <code>Moose</code> as you suggest."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431196162, "post_id": 30141959, "comment_id": 48395685, "body": "Anywhere that you call, say, <code>AaBb-&gt;method(0, 42)</code> it is directly equivalent to <code>AaBb::method(&#39;AaBb&#39;, 0, 42)</code>. Defining <code>@ISA</code> is only to implement the object-oriented <i>inheritance</i> design pattern"}, {"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431196288, "post_id": 30141959, "comment_id": 48395719, "body": "@Borodin, thanks, this is the kind of answer I was searching for! I was not aware of this fact. Then I&#39;ve got an acceptance for you. I&#39;m just sorry I took so much time from you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431198240, "post_id": 30141959, "comment_id": 48396327, "body": "I have no problem with the time that I&#39;ve spent. What worries me most is that what you claim you wanted to read is so very far from your original question, and from the solution that I posted"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431256033, "post_id": 30141959, "comment_id": 48408719, "body": "I may have been unclear. An object (any scalar variable that holds a reference) must be <i>blessed</i> into a class (a package) so that Perl knows where to pick up the method subroutines. However a class method call like <code>AaBb-&gt;method</code> above needs nothing as it specified the class directly. <code>@ISA</code> is only required when the initial class doesn&#39;t have a method of the required name, and its contents are used to search other classes"}], "answers": [{"comments": [{"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1431187521, "post_id": 30142108, "comment_id": 48392818, "body": "Can you explain it better? How is it nasty? Also, I know about <code>bless</code>, but the point is taking advantage of the features of <code>Class::Accessor</code> as opposed to writing all accessors myself. <code>Accessor</code>, however, has exactly this problem: it doesn&#39;t allow you to do the expected things."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1431187982, "post_id": 30142108, "comment_id": 48392974, "body": "You can take a class and extend it to make a new class - that&#39;s what you&#39;d nomally do if the class in question doesn&#39;t do what you need. Applying a hack to override the constructor is subverting the expectations of the class maintainer, and the road to brittle code, which is why you can&#39;t do it easily."}, {"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1431188172, "post_id": 30142108, "comment_id": 48393027, "body": "this is not a real override. It&#39;s like declaring a function, accidentally named <code>new</code> into a different package. That function returns an instance, and never messes with it again."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1431191021, "post_id": 30142108, "comment_id": 48393968, "body": "@Dacav: It&#39;s bad practice to alter the behaviour of a publicly-available module because your modification is then different from everyone else&#39;s. If someone wrote a program that required a given module for another purpose as well as yours then, if you apply changes for your own code, then that other purpose is likely to misbehave. You also have to incorporate any patches into your custom version while keeping the bespoke functionality"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431191651, "post_id": 30142108, "comment_id": 48394164, "body": "@Sobrique: I think you underplay the option of writing a custom module. If a complex requirement is fulfilled by a CPAN module except for an incompatible detail, then I would probably choose to  monkey-patch the current version after a <code>use External::Module 12.34</code> and to involve the module&#39;s author so that my requirement could be incorporated into a later publication"}, {"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1431192013, "post_id": 30142108, "comment_id": 48394263, "body": "...did I mention I&#39;m writing the module? I&#39;m not changing the behavior of someone else&#39;s module. I&#39;m writing a proxy to the constructor of a class without even extending it... :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1431198818, "post_id": 30142108, "comment_id": 48396502, "body": "@Dacav: If that is really all you are doing, then, within your subclass, all you need to write is <code>__SUPER__-&gt;new(@_)</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1431188009, "last_edit_date": 1431188009, "creation_date": 1431187290, "answer_id": 30142108, "question_id": 30141959, "link": "https://stackoverflow.com/questions/30141959/override-constructor-in-perl-classaccessor/30142108#30142108", "title": "Override constructor in Perl Class::Accessor", "body": "<p>Well, it's a little bit nasty to tamper with a module like that - if it's not doing what you want, then normally you'd just write a new one. </p>\n\n<p>You can take a class and extend it to make a new class - that's what you'd normally do if the class in question doesn't do what you need. Applying a hack to override the constructor is subverting the expectations of the class maintainer, and the road to brittle code, which is why you can't do it easily.</p>\n\n<p>That said - normally as part of a constructor you'll call <code>bless</code> to instantiate the object into a class. By convention, this is done into the current class, using the <code>new</code> method. But there's no real reason you can't:</p>\n\n<pre><code>my $self = {};\nbless ( $self, 'Foo' ); \n</code></pre>\n\n<p>Just bear in mind that if your constructor doesn't do things this object is expecting to have happened, then you might break things. </p>\n"}, {"comments": [{"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1431192218, "post_id": 30142633, "comment_id": 48394362, "body": "<code>Foo</code> is nowhere a subclass of <code>FooHack</code>. It&#39;s not even a class."}, {"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1431192611, "post_id": 30142633, "comment_id": 48394532, "body": "Now I can however understand why this could be a problem: if a third party is trying to extend <code>Foo</code> as it was a class, bad things could happen."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1431194787, "post_id": 30142633, "comment_id": 48395250, "body": "@Dacav: It&#39;s sounding like you haven&#39;t explained your problem properly. What you have written <i>is</i> a Perl class as it has its own package name and a <code>new</code> constructor"}, {"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 0, "creation_date": 1431195055, "post_id": 30142633, "comment_id": 48395325, "body": "I&#39;m declaring <code>FooHack</code> as a class, but in <code>Foo</code> I&#39;m not using a <code>use parent</code> statement nor blessing anything. I think <code>Foo</code> is not a class, but maybe I&#39;m missing something. I&#39;m quite new to Perl."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1431190465, "creation_date": 1431190465, "answer_id": 30142633, "question_id": 30141959, "link": "https://stackoverflow.com/questions/30141959/override-constructor-in-perl-classaccessor/30142633#30142633", "title": "Override constructor in Perl Class::Accessor", "body": "<p><strong><em>TL;DR</em></strong> <a href=\"https://metacpan.org/pod/Moose\" rel=\"nofollow\"><code>use Moose</code></a> instead of <a href=\"https://metacpan.org/pod/Class::Accessor\" rel=\"nofollow\"><code>use Class::Accessor</code></a> will help a lot, and you shouldn't have to change your <code>has</code> definitions</p>\n\n<p>As I wrote in my comment, you are asking <a href=\"https://metacpan.org/pod/Class::Accessor\" rel=\"nofollow\"><code>Class::Accessor</code></a> \u2014 a module that easily creates accessor methods \u2014 to provide the full quorum of object-oriented features</p>\n\n<p>I also think your thoughts about object-oriented inheritance are confused. I don't see anything wrong in what you have written, but having <code>Foo</code> as a <em>subclass</em> of <code>FooHack</code> is wrong thinking, and confused me as well as probably many others</p>\n\n<p>There should  be a <code>Foo</code> base class and potentially multiple subclasses, like <code>FooHack</code>, <code>FooPlus</code>, <code>FooOnHorseback</code> etc.</p>\n"}], "owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 30142633, "answer_count": 2, "score": 1, "last_activity_date": 1431196978, "creation_date": 1431186383, "last_edit_date": 1431196978, "question_id": 30141959, "link": "https://stackoverflow.com/questions/30141959/override-constructor-in-perl-classaccessor", "title": "Override constructor in Perl Class::Accessor", "body": "<h2>Premise</h2>\n\n<p>The question is difficult to understand, due to a misunderstanding of the OO logic in perl by me, the OP. The comments can be useful to understand it.</p>\n\n<h2>Original question</h2>\n\n<p>The <code>Class::Accessor</code> module is extremely convenient for me, but I can't find any documentation about how to write a constructor such that I can, for instance, derive the values for a field out of some computation.</p>\n\n<p>The closest thing I can think of, with the given documentation, is passing trough a \"sort of\" override:</p>\n\n<pre><code>package FooHack;\n\n...\nuse Class::Accessor 'antlers';\nhas something =&gt; ( is =&gt; 'ro' );\n\n# Methods here...\n\npackage Foo; # Foo is a plain module, not a class.\n\nsub new { \n    my $macguffin = &amp;crunch_chop_summon;\n    FooHack-&gt;new({something =&gt; $macguffin });\n}\n</code></pre>\n\n<p>This kinda works, except <code>my $f = Foo-&gt;new(); say ref $f</code> will yield <code>FooHack</code> instead of <code>Foo</code>.</p>\n\n<p>So my questions are:</p>\n\n<ul>\n<li>Is my idea good enough or do you see some possible issues with it? Or maybe some improvements?</li>\n<li>Is there a better way of doing the same thing?</li>\n</ul>\n\n<h2>Edit:</h2>\n\n<p>This is <em>NOT</em> an actual override. <code>Foo</code> is nowhere a class. It's just a plain module declaring a <code>sub new</code>. Plus, the module <code>FooHack</code> is not an external module. It is defined within the very same file.</p>\n\n<p>The module <code>Foo</code> pretends to be a class in that it follows the convention of having a <code>sub new</code>, while <code>new</code> is actually just a function which calls the real constructor, <code>FooHack-&gt;new</code> and passes some initialization value for it.</p>\n"}, {"tags": ["algorithm", "perl", "scheduling", "timing", "disk"], "comments": [{"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1431360222, "post_id": 30140123, "comment_id": 48450893, "body": "Um, If you start on 1.1 and need to get to 1.5, you have to spin past 4, not 3."}], "answers": [{"tags": [], "owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "is_accepted": true, "score": 0, "last_activity_date": 1431361013, "creation_date": 1431361013, "answer_id": 30172695, "question_id": 30140123, "link": "https://stackoverflow.com/questions/30140123/hard-disk-scheduling-simulator-algorithm-track-to-track-timing-perl/30172695#30172695", "title": "Hard Disk scheduling simulator algorithm (track to track timing) Perl", "body": "<p>write a class <code>HardDiskSim::Abstract</code>, 3 subs <code>seek_time()</code>, <code>spin_time()</code>, and <code>read_time()</code></p>\n\n<p>Write a subclass of AbstractDisk for each different set of values/logic for the three methods.</p>\n\n<p>Fir example:</p>\n\n<pre><code> package HardDiskSim::Simple;\n use base qw(HardDiskSim::Abstract);\n\n our $SECTORS_PER_TRACK = 5;\n our $SEEK_TTIM_PER_TRACK = 1;\n sub read_time { return 1 }\n sub seek_time { \n   my $block = @_;\n   my $tracks_to_seek = int($block / $SECTORS_PER_TRACK);\n   return $tracks_to_seek * $SEEK_TTIM_PER_TRACK;\n }\n\n sub spin_time {\n    # compute head position at end of seek using seek time and RPM of disk\n    # compute number of sectors to spin past using computed head position\n    # return number_of_sectors_to_spin_past * time_per_sector\n } \n</code></pre>\n\n<p>I had the fun of writing this kind of code in Fortran, for a class, back in 1985.</p>\n"}], "owner": {"reputation": 13, "user_id": 4879842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/534d3e3d7f80bb0cfae9078a495582d0?s=128&d=identicon&r=PG&f=1", "display_name": "Sigmund", "link": "https://stackoverflow.com/users/4879842/sigmund"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 30172695, "answer_count": 1, "score": 1, "last_activity_date": 1431361013, "creation_date": 1431175772, "question_id": 30140123, "link": "https://stackoverflow.com/questions/30140123/hard-disk-scheduling-simulator-algorithm-track-to-track-timing-perl", "title": "Hard Disk scheduling simulator algorithm (track to track timing) Perl", "body": "<p>I am trying to get to grips with perl.  I am trying to write a few scripts as a scheduling simulator.  FCFS, SSTF and Scan and Look</p>\n\n<p>I have one array with a list of block requests and another to act as the buffer.  First I will copy over the first request, then I need to work out the time it takes to get from the first to the second block.</p>\n\n<p>the buffer reads in blocks at 1 per ms, seek, search and access time are all 1ms to make the calculations a bit easier, the simulator always starts on block 1 track 1.</p>\n\n<p><a href=\"http://postimg.org/image/d9osb8tkj/\" rel=\"nofollow\">http://postimg.org/image/d9osb8tkj/</a></p>\n\n<p>so if the first block is 5, the search time will be 3ms to traverse to the start of the 5th block, the seek time will be zero as its on the same track and the access time to read the block will always be 1ms.  This means that the time for this request will be 4ms so the simulator will read in the next 4 requests into the buffer.  In first come first served this will just be the order that the requests are served.</p>\n\n<p>So if the next request to serve is 12 the arm is on the end of the 5th block so will take 2ms to get to the right track then 1ms to get to the start of the 12th block and another 1ms to access it.</p>\n\n<p>I was just wondering if anyone could give me some idea how I could express this as an algorithm.  Just some pointers would be much appreciated.  </p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431166867, "post_id": 30138394, "comment_id": 48386381, "body": "What have you tried so far? This looks like rather a brute force comparison however you do it - it looks like you&#39;ll be needing to compare each list with each preceeding list - <code>List::Util</code> may help."}, {"owner": {"reputation": 353, "user_id": 1495523, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/31fa7c3825dda3c7b543b165bd0ad1a4?s=128&d=identicon&r=PG", "display_name": "user1495523", "link": "https://stackoverflow.com/users/1495523/user1495523"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431167594, "post_id": 30138394, "comment_id": 48386599, "body": "Yes, so far I have only a brute force method. I ma splitting the arrays into elements and comparing. This is just taking too long. Let me look at List:Util"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431167992, "post_id": 30138394, "comment_id": 48386733, "body": "<code>List::Util</code> may not help in every case - it&#39;s some useful list manipulation utilities, but it doesn&#39;t give a free pass - it still has to do the same amount of work (although it might be using an algorithm that&#39;s more efficient). I was thinking of checking whether there&#39;s an intersection, but you don&#39;t actually care how many elements intersect, just if any of them do."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431179247, "post_id": 30138394, "comment_id": 48390049, "body": "After trying a few data sets with 50,000 keys, it seems to me this is a bit too much for Perl. You may want to consider specialized solutions, or use a database."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431181874, "post_id": 30138394, "comment_id": 48390928, "body": "Memory overhead or algorithmic complexity?"}, {"owner": {"reputation": 365, "user_id": 3057742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c8024d01f8b1bbb2203ed6536d4e9ab?s=128&d=identicon&r=PG&f=1", "display_name": "Prem", "link": "https://stackoverflow.com/users/3057742/prem"}, "edited": false, "score": 0, "creation_date": 1431197003, "post_id": 30138394, "comment_id": 48395930, "body": "It has nothing related to hashes (eg input hash has A1, A2, A3, A4 then why should output hash have only A1, A2 ? It may have B1, B2) . <b>In short, the question, without hashes, is : &quot;Given many arrays, how to combine the arrays with common numbers, to get fewer arrays ?&quot;</b>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1431201579, "post_id": 30138394, "comment_id": 48397341, "body": "@Sobrique I got rid of <code>Graph</code>&#39;s memory overhead, but anything above 20,000 elements seemed to be interminable."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1431167914, "creation_date": 1431167914, "answer_id": 30138913, "question_id": 30138394, "link": "https://stackoverflow.com/questions/30138394/perl-merge-hash-of-array/30138913#30138913", "title": "Perl merge hash of array", "body": "<p>OK, pretty fundamentally - this isn't an easy one, because you do need to check each element against each other to see if they're present. The best I can come up with is saving some effort by merging lists as you go, and using an index to track dupes. </p>\n\n<p>I would approach it like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\n\nmy %HoA = (\n    A1 =&gt; [ \"1\",  \"2\",  \"3\",  \"4\" ],\n    A2 =&gt; [ \"5\",  \"6\",  \"7\",  \"8\" ],\n    A3 =&gt; [ \"1\",  \"9\",  \"10\", \"11\" ],\n    A4 =&gt; [ \"12\", \"13\", \"14\", \"10\" ],\n);\n\nprint Dumper \\%HoA;\n\nmy %found;\n\nsub merge_and_delete {\n    my ( $first_key, $second_key ) = @_;\n    print \"Merging $first_key with $second_key\\n\";\n\n    #use hash to remove dupes.\n    my %elements;\n    foreach my $element ( @{ $HoA{$first_key} }, @{ $HoA{$second_key} } )\n    {\n        $elements{$element}++;\n        #update index - don't want to point it to an array we're deleting\n        $found{$element} = $first_key;\n    }\n    #sorting for neatness - you might want to do a numeric sort instead, \n    #as by default %HoA contains text elements. \n    $HoA{$first_key} = [ sort keys %elements ];\n    delete $HoA{$second_key};\n\n}\n\nforeach my $key ( sort keys %HoA ) {\n    print \"$key\\n\";\n    foreach my $element ( sort @{ $HoA{$key} } ) {\n        if ( $found{$element} ) {\n            #this element is present in another list, we merge.\n            print \"$element found in $found{$element}\\n\";\n            merge_and_delete( $found{$element}, $key );\n            last;\n        }\n        else {\n            #add this unique match to our index\n            print \"$element -&gt; $key\\n\";\n            $found{$element} = $key;\n        }\n    }\n}\n\nprint Dumper \\%HoA;\n</code></pre>\n\n<p>You iterate each of the element on <code>%HoA</code>, and make an index table <code>%found</code>. This index table you use to detect if an element has already been seen, and then trigger a <code>merge</code> - and then rebuilt the index. You may need to watch for memory consumption on a large data set though, because your index can grow to be nearly as large as your original data set (if enough unique elements are present). </p>\n\n<p>But because we stop processing on the first match, we don't need to check <em>every</em> key any more, and because we discard the merged array and update the index, we don't need to do an all-to-all comparison any more. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1431187378, "last_edit_date": 1431187378, "creation_date": 1431174053, "answer_id": 30139836, "question_id": 30138394, "link": "https://stackoverflow.com/questions/30138394/perl-merge-hash-of-array/30139836#30139836", "title": "Perl merge hash of array", "body": "<p>This is essentially a graph problem where you want to determine the sets of unconnected components</p>\n\n<p>This solution uses the <a href=\"https://metacpan.org/pod/Graph::Undirected::Components\" rel=\"nofollow\"><code>Graph::Undirected::Components</code></a> module, whose sole purpose is to do exactly that. Hopefully it will be fast enough for your extended data set, but it is far easier for you to determine that than for me</p>\n\n<p>The program creates a graph, and adds edges (connections) from every key in the data to each element of its value. Then, calling <code>connected_components</code> returns all the distinct sets of nodes \u2014 both keys and values \u2014 that are connected to one another</p>\n\n<p>The final <code>for</code> loop filters the keys from the values once more using <code>part</code> from <a href=\"https://metacpan.org/pod/List::MoreUtils\" rel=\"nofollow\"><code>List::MoreUtils</code></a>, based on whether the node value appears as a key in the original hash data. (You will have to adjust this if any of the key values can also appear in the values.) Then the first of the keys together with the sorted value items are used to create a new element in the <code>%result</code> hash</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Graph::Undirected::Components;\nuse List::Util 'minstr';\nuse List::MoreUtils 'part';\n\nmy %data = (\n  A1 =&gt; [  1,  2,  3,  4 ],\n  A2 =&gt; [  5,  6,  7,  8 ],\n  A3 =&gt; [  1,  9, 10, 11 ],\n  A4 =&gt; [ 12, 13, 14, 10 ],\n);\n\nmy $graph =  Graph::Undirected::Components-&gt;new;\n\nwhile ( my ($k, $v) = each %data ) {\n  $graph-&gt;add_edge($k, $_) for @$v;\n}\n\nmy %result;\nfor my $component ( $graph-&gt;connected_components ) {\n  my @keys_vals = part { $data{$_} ? 0 : 1 } @$component;\n  my $key       = minstr @{ $keys_vals[0] };\n  my @values    = sort { $a &lt;=&gt; $b } @{ $keys_vals[1] };\n  $result{$key} = \\@values;\n}\n\nuse Data::Dump;\ndd \\%result;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>{ A1 =&gt; [1 .. 4, 9 .. 14], A2 =&gt; [5 .. 8] }\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 1495523, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/31fa7c3825dda3c7b543b165bd0ad1a4?s=128&d=identicon&r=PG", "display_name": "user1495523", "link": "https://stackoverflow.com/users/1495523/user1495523"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "accepted_answer_id": 30138913, "answer_count": 2, "score": 0, "last_activity_date": 1431187378, "creation_date": 1431164599, "question_id": 30138394, "link": "https://stackoverflow.com/questions/30138394/perl-merge-hash-of-array", "title": "Perl merge hash of array", "body": "<p>I have hash of array of numbers,<br>\nI would like to merge the hash elements with common numbers.  </p>\n\n<p>eg. \nInput Hash</p>\n\n<pre><code>%HoA = (\nA1 =&gt; [ \"1\", \"2\", \"3\", \"4\" ],\nA2 =&gt; [ \"5\", \"6\", \"7\", \"8\" ],\nA3 =&gt; [ \"1\", \"9\", \"10\", \"11\" ],\nA4 =&gt; [ \"12\", \"13\", \"14\", \"10\" ],\n);\n</code></pre>\n\n<p>Output Hash</p>\n\n<pre><code>%HoA_output = (\nA1 =&gt; [ \"1\", \"2\", \"3\", \"4\", \"9\", \"10\", \"11\", \"12\", \"13\", \"14\" ],\nA2 =&gt; [ \"5\", \"6\", \"7\", \"8\" ],\n);\n</code></pre>\n\n<p>I need a solution that could quickly evaluate a hash that has nearly 50k keys with 8 numbers in each array. </p>\n\n<p>regards</p>\n"}, {"tags": ["perl", "email-attachments"], "answers": [{"comments": [{"owner": {"reputation": 1193, "user_id": 190955, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/95ec74c941e5a819f61c02e1d7a2b0a7?s=128&d=identicon&r=PG", "display_name": "TonyG", "link": "https://stackoverflow.com/users/190955/tonyg"}, "edited": false, "score": 2, "creation_date": 1431121163, "post_id": 30133225, "comment_id": 48376453, "body": "UGH! It should be quoted printable for strings longer than 1000 characters. I think this is it! Checking the code. Thanks!"}, {"owner": {"reputation": 1193, "user_id": 190955, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/95ec74c941e5a819f61c02e1d7a2b0a7?s=128&d=identicon&r=PG", "display_name": "TonyG", "link": "https://stackoverflow.com/users/190955/tonyg"}, "edited": false, "score": 1, "creation_date": 1431122579, "post_id": 30133225, "comment_id": 48377003, "body": "Yeah, the code from 2004 was updated in 2006 but the client never got that version which does enforce quoted-printable for HTML. This question has been answered!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1431120942, "creation_date": 1431120942, "answer_id": 30133225, "question_id": 30132933, "link": "https://stackoverflow.com/questions/30132933/perl-mimelite-is-breaking-up-html-body/30133225#30133225", "title": "Perl MIME::Lite is breaking up HTML body", "body": "<p>I believe <a href=\"https://metacpan.org/source/RJBS/MIME-Lite-3.030/lib/MIME/Lite.pm#L639\" rel=\"nofollow\">this</a> might have something to do with what's going on:</p>\n\n<pre><code>#------------------------------\n#\n# encode_8bit STRING\n#\n# Encode the given string using 8BIT.\n# This breaks long lines into shorter ones.\n\nsub encode_8bit {\n    my $str = shift;\n    $str =~ s/^(.{990})/$1\\n/mg;\n    $str;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1193, "user_id": 190955, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/95ec74c941e5a819f61c02e1d7a2b0a7?s=128&d=identicon&r=PG", "display_name": "TonyG", "link": "https://stackoverflow.com/users/190955/tonyg"}, "edited": false, "score": 0, "creation_date": 1431122987, "post_id": 30133530, "comment_id": 48377164, "body": "This is all correct, I&#39;ve also found that documentation, confirmed the issue, and accepted the first answer. But your edits to my code and your resulting response lost a significant point, that the source data did not have a CR. So perhaps you can edit your response here to reflect this for posterity. But this has been answered and we can wrap it up. Thanks."}, {"owner": {"reputation": 1193, "user_id": 190955, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/95ec74c941e5a819f61c02e1d7a2b0a7?s=128&d=identicon&r=PG", "display_name": "TonyG", "link": "https://stackoverflow.com/users/190955/tonyg"}, "edited": false, "score": 0, "creation_date": 1431123312, "post_id": 30133530, "comment_id": 48377286, "body": "If the source data has no CR, why do you keep editing a CR into my source data? That changes the nature of the report."}, {"owner": {"reputation": 1193, "user_id": 190955, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/95ec74c941e5a819f61c02e1d7a2b0a7?s=128&d=identicon&r=PG", "display_name": "TonyG", "link": "https://stackoverflow.com/users/190955/tonyg"}, "edited": false, "score": 0, "creation_date": 1431123613, "post_id": 30133530, "comment_id": 48377394, "body": "Fair enough but the source had neither CR nor LF. The SMTP log and recipient email showed a &quot;line break&quot;. I didn&#39;t look to see the ASCII value of the character that was inserted. You are correct that CR wasn&#39;t being inserted, it was an LF, but the LF was not in the source. I&#39;m hoping we can leave this as-is rather than going back with major edits to change (my assumption of) CR to LF or a more generic EOL. Thanks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1606940765, "last_edit_date": 1606940765, "creation_date": 1431122666, "answer_id": 30133530, "question_id": 30132933, "link": "https://stackoverflow.com/questions/30132933/perl-mimelite-is-breaking-up-html-body/30133530#30133530", "title": "Perl MIME::Lite is breaking up HTML body", "body": "<p>SMTP servers have line length restrictions which can allow as few as 1000 octets. As such, MIME::Lite gives the following instructions for selecting the content transfer encoding:</p>\n<pre><code>Use encoding:     | If your message contains:\n------------------------------------------------------------\n7bit              | Only 7-bit text, all lines &lt;1000 characters\n8bit              | 8-bit text, all lines &lt;1000 characters\nquoted-printable  | 8-bit text or long lines (more reliable than &quot;8bit&quot;)\nbase64            | Largely non-textual data: a GIF, a tar file, etc.\n</code></pre>\n<p>The heuristics defaulted to using 8bit, so MIME::Lite was adding line breaks to do the best it could with an unsuitable input. The solution is to tell MIIME::Lite to use the <code>quoted-printable</code> (or <code>base64</code>) encoding.</p>\n<pre><code>$mime_msg-&gt;attach(\n    Type     =&gt; 'text/html',\n    Encoding =&gt; 'quoted-printable',\n    Data     =&gt; $bodyWithNoCR)\nor die &quot;$!\\n&quot;;\n</code></pre>\n<hr />\n<p><em>[In the comments the OP cleared up that they meant &quot;line break&quot; when they said &quot;CR&quot;. However, the OP still mentions CR, so I'm leaving this passage here.]</em></p>\n<p>As for the Carriage Returns, I wasn't getting any even before adding <code>Encoding =&gt; 'quoted-printable'</code>. I suspect that your <code>$bodyWithCR</code> had no Carriage Returns, and that the bug was in your means of inspecting it. Specifically, I think you printed <code>$bodyWithCR</code> to a handle without doing <code>binmode</code> on it first.</p>\n"}], "owner": {"reputation": 1193, "user_id": 190955, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/95ec74c941e5a819f61c02e1d7a2b0a7?s=128&d=identicon&r=PG", "display_name": "TonyG", "link": "https://stackoverflow.com/users/190955/tonyg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1202, "favorite_count": 1, "accepted_answer_id": 30133225, "answer_count": 2, "score": 2, "last_activity_date": 1606940765, "creation_date": 1431119562, "last_edit_date": 1431123797, "question_id": 30132933, "link": "https://stackoverflow.com/questions/30132933/perl-mimelite-is-breaking-up-html-body", "title": "Perl MIME::Lite is breaking up HTML body", "body": "<p>Back around 2004 I wrote a Perl emailer with MIME::Lite which has been working ever since then. Only now is the client trying to send HTML with it. The following code (trimmed down to the significant parts) properly sets all values. The HTML body is attached as text/html. Prior to the attachment the data clearly has no CR (CRLF, or LF). But after attaching it the HTML <em>does</em> have an embedded CR. This seems to be added after 1000 characters.</p>\n\n<p>Unfortunately it's landing in the middle of a tag, thus breaking the tag which is rendering as a tag in the recipients email, rather than rendering entirely as formatted text: <code>&lt;BR&gt;</code> is displays as <code>&lt; BR&gt;</code>. And it's not breaking on the specific tag. I can change the tags and it always breaks around the same character position. I've read through the MIME::Lite code (with my very rusty Perl skills), but I don't see where it would be doing this split operation.</p>\n\n<pre><code>use MIME::Lite; # v3.030\n\nmy $bodyWithNoCR = \"&lt;html&gt;\" . (\"x\" x 1020) . \"&lt;/html&gt;\";\n\nmy $mime_msg = MIME::Lite-&gt;new(\n    From =&gt; 'x@x.com',\n    To   =&gt; 'x@x.com',\n    Subject =&gt; 'Subject',\n    Type    =&gt;'multipart/mixed')\nor die \"$!\\n\";\n\n$mime_msg-&gt;attach(\n    Type =&gt; 'text/html',\n    Data =&gt; $bodyWithNoCR)\nor die \"$!\\n\";\n\nmy $bodyWithCR = $mime_msg-&gt;as_string;\n</code></pre>\n\n<p>It's not just <code>as_string</code> which shows this, the Net::SMTP dump shows the HTML split across lines, and this is reflected in the recipient's email client.</p>\n\n<p>I know MIME::Lite is considered buggy. But my question is if this specific issue is recognized (preferably with a reference to a tracker ID). A response of \"yes, I've seen that\" is helpful but (respectfully) isn't enough to confirm for a fact that this is a known issue in old code. If I can find a tracker item for this issue then I'll know if I can look for a patch or if I need to suggest to the user that this specific code can't be used for this specific purpose.</p>\n\n<p>Can anyone suggest alternative code for the <code>attach()</code> that might cause it to avoid whatever it is that's breaking up the block?</p>\n\n<p>As to using other tools (an expected response), I rewrote this all with PHPMailer many years later for other clients, but the API is different and it would be a hassle for the client to retool to use that. I could also replace MIME::Lite with something else (as recommended by the maintainers) but on the old Linux box a requirement for a dependency chain might preclude loading anything more current. That said, alternative approaches with MIME::Lite are welcome.</p>\n\n<p>Without a better solution at this time, the only workaround being considered (but not liked at all) is to build the HTML with embedded spaces from columns 980-1020, 1980-2020, etc, so that even if a CR is embedded, the whitespace isn't visible in the recipient's mail client. (Yeah, yuck!)</p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 37458, "user_id": 2734189, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bdd4c02158892b034c80f00eff30e6d5?s=128&d=identicon&r=PG&f=1", "display_name": "Don&#39;t Panic", "link": "https://stackoverflow.com/users/2734189/dont-panic"}, "edited": false, "score": 1, "creation_date": 1431117775, "post_id": 30132527, "comment_id": 48375044, "body": "I don&#39;t think it is really a URL in this context."}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1431117835, "post_id": 30132527, "comment_id": 48375069, "body": "That looks like it is just executing it in the shell. Cant use <a href=\"http://php.net/manual/en/reserved.variables.argv.php\" rel=\"nofollow noreferrer\">php.net/manual/en/reserved.variables.argv.php</a>?"}, {"owner": {"reputation": 66169, "user_id": 4248328, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c79397906b2ce54ceae05c89fd5f024d?s=128&d=identicon&r=PG&f=1", "display_name": "Serving Quarantine period", "link": "https://stackoverflow.com/users/4248328/serving-quarantine-period"}, "edited": false, "score": 0, "creation_date": 1431117934, "post_id": 30132527, "comment_id": 48375124, "body": "remove question mark and add <code>&#47;</code> again and try?"}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "reply_to_user": {"reputation": 66169, "user_id": 4248328, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c79397906b2ce54ceae05c89fd5f024d?s=128&d=identicon&r=PG&f=1", "display_name": "Serving Quarantine period", "link": "https://stackoverflow.com/users/4248328/serving-quarantine-period"}, "edited": false, "score": 1, "creation_date": 1431118048, "post_id": 30132527, "comment_id": 48375177, "body": "@anantkumarsingh how&#39;s that going to resolve the issue?"}, {"owner": {"reputation": 37458, "user_id": 2734189, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bdd4c02158892b034c80f00eff30e6d5?s=128&d=identicon&r=PG&f=1", "display_name": "Don&#39;t Panic", "link": "https://stackoverflow.com/users/2734189/dont-panic"}, "edited": false, "score": 0, "creation_date": 1431118550, "post_id": 30132527, "comment_id": 48375402, "body": "<a href=\"http://stackoverflow.com/a/17724485/2734189\">This answer</a> has kind of an interesting way to handle this. But it looks like you will need to change the PHP script one way or another to be able to handle calling it this way."}], "answers": [{"comments": [{"owner": {"reputation": 2368, "user_id": 2187142, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/75825c95e583c52419aa2c583c097789?s=128&d=identicon&r=PG", "display_name": "bart2puck", "link": "https://stackoverflow.com/users/2187142/bart2puck"}, "edited": false, "score": 0, "creation_date": 1431121077, "post_id": 30132575, "comment_id": 48376423, "body": "ok, thank you.  Now what if that &quot;1&quot; is a variable....my $phpOutput = <code>&#47;usr&#47;bin&#47;php &#47;bart&#47;bart.php $someVar</code>;        would this work?"}, {"owner": {"reputation": 21720, "user_id": 1520841, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PXzxR.jpg?s=128&g=1", "display_name": "Joel Hinz", "link": "https://stackoverflow.com/users/1520841/joel-hinz"}, "reply_to_user": {"reputation": 2368, "user_id": 2187142, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/75825c95e583c52419aa2c583c097789?s=128&d=identicon&r=PG", "display_name": "bart2puck", "link": "https://stackoverflow.com/users/2187142/bart2puck"}, "edited": false, "score": 0, "creation_date": 1431209791, "post_id": 30132575, "comment_id": 48399571, "body": "Sure, I see no reason it shouldn&#39;t."}], "tags": [], "owner": {"reputation": 21720, "user_id": 1520841, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PXzxR.jpg?s=128&g=1", "display_name": "Joel Hinz", "link": "https://stackoverflow.com/users/1520841/joel-hinz"}, "is_accepted": true, "score": 5, "last_activity_date": 1431117890, "creation_date": 1431117890, "answer_id": 30132575, "question_id": 30132527, "link": "https://stackoverflow.com/questions/30132527/executing-php-script-in-perl-with-get-variables-in-url/30132575#30132575", "title": "Executing php script in perl with GET variables in url", "body": "<p>The <code>?x=y</code> syntax is for web servers, whereas the CLI expects arguments separated by space after the filename. The way you've written it, PHP thinks that <code>?data=1</code> is part of the filename.</p>\n\n<p>You could do </p>\n\n<pre><code>my $phpOutput = `/usr/bin/php /bart/bart.php 1`;\n</code></pre>\n\n<p>and use the <code>$argv</code> array to retrieve the argument <code>1</code> from within the PHP script. Since it's the first argument, it would be <code>$argv[1]</code> (the 0th index is the script name).</p>\n"}], "owner": {"reputation": 2368, "user_id": 2187142, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/75825c95e583c52419aa2c583c097789?s=128&d=identicon&r=PG", "display_name": "bart2puck", "link": "https://stackoverflow.com/users/2187142/bart2puck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 30132575, "answer_count": 1, "score": 1, "last_activity_date": 1431117890, "creation_date": 1431117648, "question_id": 30132527, "link": "https://stackoverflow.com/questions/30132527/executing-php-script-in-perl-with-get-variables-in-url", "title": "Executing php script in perl with GET variables in url", "body": "<p>I have a perl script that executes a php script:</p>\n\n<pre><code>my $phpOutput = `/usr/bin/php /bart/bart.php`;\n</code></pre>\n\n<p>this works perfectly fine.  now i want to add some variables to the url.</p>\n\n<pre><code>my $phpOutput = `/usr/bin/php /bart/bart.php?data=1`;\n</code></pre>\n\n<p>this fails.</p>\n\n<pre><code>Could not open input file: /bart/bart.php?data=1\n</code></pre>\n\n<p>any ideas why?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1431116549, "post_id": 30132198, "comment_id": 48374460, "body": "You can open a file and <code>print</code> (or <code>say</code>) to the file.  Or you can use <code>system</code> (but that is ugly and non-Perlish).  Or, at a pinch, you can use <code>qx&#47;&#47;</code> or the back-ticks, also ugly and not very Perlish.  But it is Perl: TMTOWTDI."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1431118354, "post_id": 30132294, "comment_id": 48375323, "body": "<code>$jsondata-&gt;{&quot;Name&quot;}</code> cannot be anything other than a scalar value, so <code>for</code> is superfluous. It is also usually neater to omit the quotes around a literal hash key when that key contains only <i>word</i> characters (alphanumeric or underscore). So I would prefer <code>say $fh $jsondata-&gt;{Name}</code>"}], "tags": [], "owner": {"reputation": 4304, "user_id": 176623, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/rGK4D.jpg?s=128&g=1", "display_name": "Mauritz Hansen", "link": "https://stackoverflow.com/users/176623/mauritz-hansen"}, "is_accepted": false, "score": 2, "last_activity_date": 1431192728, "last_edit_date": 1431192728, "creation_date": 1431116631, "answer_id": 30132294, "question_id": 30132198, "link": "https://stackoverflow.com/questions/30132198/how-to-echo-to-a-file-in-perl-instead-of-bash/30132294#30132294", "title": "How to echo to a file in perl instead of bash", "body": "<p>You have to open a filehandle:</p>\n\n<pre><code>open my $fh, '&gt;', '/path/to/file' or die \"Unable to open file: $!\";\n</code></pre>\n\n<p>and then write to it:</p>\n\n<pre><code>say $fh $_ for $jsondata-&gt;{\"Name\"};\n</code></pre>\n\n<p>or (see Borodin's comment to this answer):</p>\n\n<pre><code>say $fh $jsondata-&gt;{Name};\n</code></pre>\n"}], "owner": {"reputation": 565, "user_id": 4671121, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eyiN7.png?s=128&g=1", "display_name": "OB7", "link": "https://stackoverflow.com/users/4671121/ob7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 0, "closed_date": 1431116605, "answer_count": 1, "score": -1, "last_activity_date": 1431192728, "creation_date": 1431116229, "last_edit_date": 1431116650, "question_id": 30132198, "link": "https://stackoverflow.com/questions/30132198/how-to-echo-to-a-file-in-perl-instead-of-bash", "closed_reason": "Duplicate", "title": "How to echo to a file in perl instead of bash", "body": "<p>In bash, I'm use to echoing something to a file like this:<br></p>\n\n<pre><code>echo \"$contents\" &gt;file.txt\n</code></pre>\n\n<p><br>\nIn perl, I have the say command doing this:<br></p>\n\n<pre><code>say for $jsondata-&gt;{\"Name\"};\n</code></pre>\n\n<p>I want to save that output to a file.<br>\nI tried</p>\n\n<pre><code>say for $jsondata-&gt;{\"Name\"} &gt;tempfile;\n</code></pre>\n\n<p>but its not working.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 1, "creation_date": 1431112641, "post_id": 30131255, "comment_id": 48372555, "body": "Perhaps you have a typo here: <code>open (FH, &quot;&#47;home&#47;smenk&#47;.filfolde&#47;$file&quot;)</code>. <code>.filfolde</code> should be <code>.filfolder</code>, no?"}, {"owner": {"reputation": 13, "user_id": 4880227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27558518e209f34323edd76c872e1720?s=128&d=identicon&r=PG&f=1", "display_name": "smenk", "link": "https://stackoverflow.com/users/4880227/smenk"}, "reply_to_user": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 0, "creation_date": 1431113364, "post_id": 30131255, "comment_id": 48372935, "body": "Fixed that one thanks, still getting empty files tho"}, {"owner": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 0, "creation_date": 1431113463, "post_id": 30131255, "comment_id": 48373006, "body": "Is there something you plan on doing with the file content? I wonder why a simple system command to move all the text files from one directory to another wouldn&#39;t suffice..."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1431113466, "post_id": 30131255, "comment_id": 48373008, "body": "You are mixing so many different things all together here. If you are going to use, for example, <code>Path::Class::dir</code>, you don&#39;t need <code>opendir</code>/<code>readdir</code>."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 3, "creation_date": 1431113479, "post_id": 30131255, "comment_id": 48373016, "body": "Well you&#39;re never writing anything to <code>$fhn</code>, so it&#39;s creating files with no contents."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1431113512, "post_id": 30131255, "comment_id": 48373031, "body": "and <code>$fh</code> is opening a directory as though it was a file, which can&#39;t do anything useful. The only reason it doesn&#39;t cause problems is because you never use that one either."}, {"owner": {"reputation": 13, "user_id": 4880227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27558518e209f34323edd76c872e1720?s=128&d=identicon&r=PG&f=1", "display_name": "smenk", "link": "https://stackoverflow.com/users/4880227/smenk"}, "edited": false, "score": 0, "creation_date": 1431114611, "post_id": 30131255, "comment_id": 48373559, "body": "Ryan - Indeed it is, at this point I want to get data from the files in the folder, go thro the function which basically lists the top 10 used words in the file, then print them out in a new file, in a new folder. And you&#39;re right about $fhn and $fh - They did earlier get files but as they gave no error Ieft them there for the time beeing. Thanks so far, cleaning up the code some."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431120732, "post_id": 30131255, "comment_id": 48376290, "body": "On Stackoverflow, you thank by voting answers up, and checking the one that helped you the most."}, {"owner": {"reputation": 13, "user_id": 4880227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27558518e209f34323edd76c872e1720?s=128&d=identicon&r=PG&f=1", "display_name": "smenk", "link": "https://stackoverflow.com/users/4880227/smenk"}, "edited": false, "score": 0, "creation_date": 1431158735, "post_id": 30131255, "comment_id": 48384289, "body": "Alright, I did check it but don&#39;t have enough reputation to vote it up"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4880227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27558518e209f34323edd76c872e1720?s=128&d=identicon&r=PG&f=1", "display_name": "smenk", "link": "https://stackoverflow.com/users/4880227/smenk"}, "edited": false, "score": 0, "creation_date": 1431119571, "post_id": 30131642, "comment_id": 48375822, "body": "Thanks, I did use this as skeleton and implemented my own code (after some cleaning) and it&#39;s now working exactly as I want it to!"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1560516617, "post_id": 30131642, "comment_id": 99773023, "body": "dead links to <b>dir</b> and <b>file</b>"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1431113969, "creation_date": 1431113969, "answer_id": 30131642, "question_id": 30131255, "link": "https://stackoverflow.com/questions/30131255/read-multiple-files-from-folder-in-perl/30131642#30131642", "title": "Read multiple files from folder in perl", "body": "<p>Here is the simplest skeleton for the reading part using <a href=\"https://metacpan.org/pod/Path::Class\" rel=\"nofollow\">Path::Class</a> (see also <a href=\"https://metacpan.org/pod/Path::Class::dir\" rel=\"nofollow\">dir</a> and <a href=\"https://metacpan.org/pod/Path::Class::file\" rel=\"nofollow\">file</a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Path::Class;\n\nmy $src = dir(\"/home/smenk/.filfolder\");\n\nmy @txt_files = grep /[.] txt\\z/x, $src-&gt;children;\n\nfor my $txt_file ( @txt_files ) {\n    my $in = $txt_file-&gt;openr;\n    while (my $line = &lt;$in&gt;) {\n        print \"OUT: $line\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 1, "last_activity_date": 1431117944, "creation_date": 1431117944, "answer_id": 30132585, "question_id": 30131255, "link": "https://stackoverflow.com/questions/30131255/read-multiple-files-from-folder-in-perl/30132585#30132585", "title": "Read multiple files from folder in perl", "body": "<p>You can also use another great module <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow\">Path::Tiny</a>, for dir/file operations and the <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a> for the date/time functions - like:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Path::Tiny;\nuse Time::Piece;\n\nmy @txtfiles  = path(\"/home/smenk/.filfolder\")-&gt;children(qr/\\.txt\\z/);\n\nmy $outdir = path(\"home/smenk/.result\");\n$outdir-&gt;mkpath;    #create the dir...\nmy $t = localtime;\nmy $outfile = $outdir-&gt;child($t-&gt;strftime(\"%Y%m%d-%H%M%S.txt\"));\n$outfile-&gt;touch;\n\nmy @outdata;\nfor my $infile (@txtfiles) {\n    my @lines = $infile-&gt;lines({chomp =&gt; 1});\n\n    #do something with lines and create the output @data\n    push @outdata, scalar @lines;\n}\n\n$outfile-&gt;append({truncate =&gt; 1}, map { \"$_\\n\" } @outdata); #or spew;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4880227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27558518e209f34323edd76c872e1720?s=128&d=identicon&r=PG&f=1", "display_name": "smenk", "link": "https://stackoverflow.com/users/4880227/smenk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1931, "favorite_count": 0, "accepted_answer_id": 30131642, "answer_count": 2, "score": 1, "last_activity_date": 1431119616, "creation_date": 1431112460, "last_edit_date": 1431119616, "question_id": 30131255, "link": "https://stackoverflow.com/questions/30131255/read-multiple-files-from-folder-in-perl", "title": "Read multiple files from folder in perl", "body": "<p>I'm pretty new on perl and in need for some help, basically what I want is a program that reads all .txt files from a folder, doing the script and throw the output in a new folder with a new name. Everything works when I'm working with one file at the time, specifying the name of the file.. But I can't get it to work with all of the files in the folder. This is how far I've gotten.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse Path::Class;\nuse autodie;\n\nuse File::Find;\n\nmy @now       = localtime();\nmy $timeStamp = sprintf(\n  \"%04d%02d%02d-%02d:%02d:%02d\",\n  $now[5] + 1900,\n  $now[4] + 1,\n  $now[3], $now[2], $now[1], $now[0]);    #A function that translates time\n\nmy %wordcount;\n\nmy $dir = \"/home/smenk/.filfolder\";\nopendir(DIR, $dir) || die \"Kan inte \u00f6ppna $dir: $!\";\nmy @files = grep { /txt/ } readdir(DIR);\nclosedir DIR;\n\nmy $new_dir  = dir(\"/home/smenk/.result\");       # Reads in the folder for save\nmy $new_file = $new_dir-&gt;file(\"$timeStamp.log\"); # Reads in the new file timestamp variable\n\nopen my $fh,  '&lt;', $dir      or die \"Kunde inte \u00f6ppna '$dir' $!\";\nopen my $fhn, '&gt;', $new_file or die \"test '$new_file'\";\n\nforeach my $file (@files) {\n  open(FH, \"/home/smenk/.filfolder/$file\") || die \"Unable to open $file - $!\\n\";\n  while (&lt;FH&gt;) {\n\n  }\n  close(FH);\n}\n\nwhile (my $line = &lt;$fh&gt;) {\n  foreach my $str (split /\\s+/, $line) {\n    $wordcount{$str}++;\n  }\n}\n\nmy @listing = (sort { $wordcount{$b} &lt;=&gt; $wordcount{$a} } keys %wordcount)[0 .. 9];\n\nforeach my $str (@listing) {\n  my $output = $wordcount{$str} . \" $str\\n\";\n  print $fhn $output;\n}\n</code></pre>\n"}, {"tags": ["xml", "perl", "csv", "xpath"], "answers": [{"comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1431105666, "post_id": 30129144, "comment_id": 48368849, "body": "Would it be more efficient to put <code>write_file()</code> after that if statement? My errors usually come from the XML handling, not the file writing"}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "reply_to_user": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 1, "creation_date": 1431105982, "post_id": 30129144, "comment_id": 48369015, "body": "It only depends on whether or not you want to to call <code>write_file</code> when there is error in the XML processing. If you want to do this, the declaration of <code>$ext</code> would be need to put before <code>eval</code> with perhaps initialized to empty string."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1431106141, "post_id": 30129144, "comment_id": 48369110, "body": "You&#39;re right. I removed the <code>$@</code> from the print because it prints 40000+ characters for the error and the error message is not important to me. Thanks!"}], "tags": [], "owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "is_accepted": true, "score": 4, "last_activity_date": 1431106817, "last_edit_date": 1431106817, "creation_date": 1431104464, "answer_id": 30129144, "question_id": 30128894, "link": "https://stackoverflow.com/questions/30128894/ignore-unclosed-token-in-perl/30129144#30129144", "title": "Ignore &#39;Unclosed Token&#39; in Perl", "body": "<p>You can try enclose the troubling codes inside <code>eval</code>. For example:</p>\n\n<pre><code>eval {\n  my $xp = XML::XPath-&gt;new(xml =&gt; $report);\n  my $ext = $xp-&gt;getNodeText('/report/customer') . \"-\" . $time . \".xml\"; #Generate filename with customer name and time\n  write_file($ext, $report);\n};\nif ( $@ ) {\n  printf \"ERROR: $@\";\n}\n</code></pre>\n\n<p>The following code:</p>\n\n<pre><code>$count++; if($count == 1) {next;} #Ignore headers\n$line =~ /(\\d+),\"(.*?)\"$/; #Load time into $1, XML file into $2\nmy $time = $1;\nmy $report = $2;\n</code></pre>\n\n<p>can be shortened to:</p>\n\n<pre><code>next if ++$count == 1; #Ignore headers\nmy ($time, $report) = ($line =~ /(\\d+),\"(.*)\"$/); # time, XML file\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "accepted_answer_id": 30129144, "answer_count": 1, "score": 5, "last_activity_date": 1431106817, "creation_date": 1431103555, "question_id": 30128894, "link": "https://stackoverflow.com/questions/30128894/ignore-unclosed-token-in-perl", "title": "Ignore &#39;Unclosed Token&#39; in Perl", "body": "<p>I have a 2Gb CSV file where column 1 contains the time in epoch and the second column contains a 10000+ line XML file (as a single line). </p>\n\n<p>I want to iterate through every line of this CSV and save the second column XML to a file of its own. I also use XPath to get the customers name from the XML file so I can name the file to <code>[CustomerName]-[time from Column 1].xml</code>. However some of the XML files are not valid XML and I am getting an error that says <code>Unclosed Token on Line ...</code>. Is there a way to ignore that message and just have it skip the file? The following is my Perl code:</p>\n\n<pre><code>my $file = '../FILENAME.csv';\nopen my $info, $file or die \"Could not open $file: $!\";\nmy $count = 0;\n$| = 1;\n\nwhile( my $line = &lt;$info&gt;)  {\n    $count++; if($count == 1) {next;} #Ignore headers\n    $line =~ /(\\d+),\"(.*?)\"$/; #Load time into $1, XML file into $2\n    my $time = $1;\n    my $report = $2;\n    $report =~ s/\"\"/\"/g; #Replace \"\" with \"\n    my $xp = XML::XPath-&gt;new(xml =&gt; $report);\n    my $ext = $xp-&gt;getNodeText('/report/customer') . \"-\" . $time . \".xml\"; #Generate filename with customer name and time\n    write_file($ext, $report);\n}\nclose $info;\n</code></pre>\n\n<p>I am also open to suggestions to make this more efficient.</p>\n"}, {"tags": ["regex", "perl", "replace", "find"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1431095436, "post_id": 30126252, "comment_id": 48362157, "body": "You can use <a href=\"https://metacpan.org/pod/HTML::Entities\" rel=\"nofollow noreferrer\"><code>HTML::Entities</code></a> to encode HTML entities in text. That way you don&#39;t have to come up with your own regex, realize you missed an entity, go back through with a second regex, and so on."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431098843, "post_id": 30126252, "comment_id": 48364680, "body": "You didn&#39;t specify whether this was XML or HTML. I assumed XML, but the idea is similar for both. Fix as needed."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1431098908, "post_id": 30126252, "comment_id": 48364736, "body": "Mpost people use <code>&amp;amp;</code> instead of <code>&amp;#38;</code>. While perfectly valid, I&#39;ve never even seen <code>&amp;#38;</code>."}, {"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 2, "creation_date": 1431099488, "post_id": 30126252, "comment_id": 48365146, "body": "Once mixed, <i>real</i> ampersand and <i>special</i> ampersand are not actaully theoretically distinguishable. You should escape them earlier."}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 1, "creation_date": 1431110351, "post_id": 30126252, "comment_id": 48371388, "body": "You are asking the wrong question.  You should do all your entity encoding in one pass.  A string should either be entity encoded or not.  Having a mixture is just asking for trouble."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4879331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecff0cb5029272c342097b37490e37c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Karr", "link": "https://stackoverflow.com/users/4879331/alex-karr"}, "edited": false, "score": 0, "creation_date": 1431096365, "post_id": 30126480, "comment_id": 48362884, "body": "If I wanted to modify that to include any ampersand not followed by #__;          where the __ are any number digit, how would I do that? Just as a precaution, in case there are any legitimate &quot;&amp;#&quot; combinations in my data"}, {"owner": {"reputation": 620, "user_id": 1769681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sKW6P.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/1769681/martin"}, "edited": false, "score": 1, "creation_date": 1431096601, "post_id": 30126480, "comment_id": 48363081, "body": "$mystring =~ s/&amp;(?!#\\d{1,3};)/&amp;#38;/g; would narrow the regexp a little bit further"}, {"owner": {"reputation": 45, "user_id": 4879331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecff0cb5029272c342097b37490e37c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Karr", "link": "https://stackoverflow.com/users/4879331/alex-karr"}, "edited": false, "score": 0, "creation_date": 1431096845, "post_id": 30126480, "comment_id": 48363284, "body": "Thank you very much, that is just what I was looking for! Much appreciated"}], "tags": [], "owner": {"reputation": 6909, "user_id": 4454454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6UgUs.jpg?s=128&g=1", "display_name": "MaxZoom", "link": "https://stackoverflow.com/users/4454454/maxzoom"}, "is_accepted": true, "score": 3, "last_activity_date": 1431114792, "last_edit_date": 1431114792, "creation_date": 1431095895, "answer_id": 30126480, "question_id": 30126252, "link": "https://stackoverflow.com/questions/30126252/perl-regex-to-find-and-replace-ampersands-that-arent-part-of-a-character-enti/30126480#30126480", "title": "Perl - Regex to find and replace ampersands that aren&#39;t part of a character entity", "body": "<pre><code>&amp;(?!#\\d+;)\n</code></pre>\n\n<p>This expression matches any ampersand character that is not followed by hash character with digits.</p>\n\n<p>Here is <a href=\"https://regex101.com/r/eQ7uJ9/2\" rel=\"nofollow\">DEMO</a> with more explanation.</p>\n"}, {"comments": [{"owner": {"reputation": 6909, "user_id": 4454454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6UgUs.jpg?s=128&g=1", "display_name": "MaxZoom", "link": "https://stackoverflow.com/users/4454454/maxzoom"}, "edited": false, "score": 0, "creation_date": 1431116231, "post_id": 30127445, "comment_id": 48374304, "body": "Nice review post. I wonder how  to match all tag names in your expression with elements in list  <code>quot, amp, lt, gt, nbsp, cent, pound, curren, euro</code> etc"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6909, "user_id": 4454454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6UgUs.jpg?s=128&g=1", "display_name": "MaxZoom", "link": "https://stackoverflow.com/users/4454454/maxzoom"}, "edited": false, "score": 0, "creation_date": 1431117432, "post_id": 30127445, "comment_id": 48374894, "body": "@Max Zoom, In general, it&#39;s far better to separate checking if an identifier is known from the actual parsing. In this case, since we&#39;re trying to fix a bad document, it could help. For XML: <code>my  $name_pat = join &#39;|&#39;, qw( amp lt gt quot apos ); my $name = qr&#47;$pat&#47;;</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1431101154, "last_edit_date": 1431101154, "creation_date": 1431098735, "answer_id": 30127445, "question_id": 30126252, "link": "https://stackoverflow.com/questions/30126252/perl-regex-to-find-and-replace-ampersands-that-arent-part-of-a-character-enti/30127445#30127445", "title": "Perl - Regex to find and replace ampersands that aren&#39;t part of a character entity", "body": "<p>The syntax of XML character references is defined as</p>\n\n<pre><code>Reference     ::= EntityRef | CharRef\nEntityRef     ::= '&amp;' Name ';'\nCharRef       ::= '&amp;#' [0-9]+ ';'\n                | '&amp;#x' [0-9a-fA-F]+ ';'\nName          ::= NameStartChar (NameChar)*\nNameStartChar ::= \":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\nNameChar      ::= NameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n</code></pre>\n\n<p>So, the following will escape the <code>&amp;</code> if it's not part of a valid reference.</p>\n\n<pre><code>my $name_start_char_class = ':A-Z_a-z\\x{00C0}-\\x{00D6}\\x{00D8}-\\x{00F6}\\x{00F8}-\\x{02FF}\\x{0370}-\\x{037D}\\x{037F}-\\x{1FFF}\\x{200C}-\\x{200D}\\x{2070}-\\x{218F}\\x{2C00}-\\x{2FEF}\\x{3001}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFFD}\\x{10000}-\\x{EFFFF}';\nmy $name_start_char       = qr/[$name_start_char_class]/;\nmy $name_char             = qr/[${name_start_char_class}\\-.0-9\\x{00B7}\\x{0300}-\\x{036F}\\x{203F}-\\x{2040}]/;\nmy $name                  = qr/$name_start_char$name_char*/;\n\ns/&amp;(?!(?:$name|#(?:[0-9]+|x[0-9a-fA-F]+));)/&amp;#38;/g\n</code></pre>\n\n<p>Note that this assumes that your XML string contains no CDATA sections.</p>\n"}], "owner": {"reputation": 45, "user_id": 4879331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecff0cb5029272c342097b37490e37c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Karr", "link": "https://stackoverflow.com/users/4879331/alex-karr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1843, "favorite_count": 0, "accepted_answer_id": 30126480, "answer_count": 2, "score": 3, "last_activity_date": 1431114792, "creation_date": 1431095220, "last_edit_date": 1431097531, "question_id": 30126252, "link": "https://stackoverflow.com/questions/30126252/perl-regex-to-find-and-replace-ampersands-that-arent-part-of-a-character-enti", "title": "Perl - Regex to find and replace ampersands that aren&#39;t part of a character entity", "body": "<p>So I am currently using the code:</p>\n\n<pre><code>$mystring =~ s/&amp;/&amp;#38;/g;   \n</code></pre>\n\n<p>To find and replace all ampersands (<code>&amp;</code>) in my string variable, and replace them with the XML entity reference for ampersands (<code>&amp;#38;</code>). The problem is, I want to only replace ampersands that are NOT already part of an XML entity reference.</p>\n\n<p>For example, say I did a find and replace before that to make all \"<code>&gt;</code>\" to be \"<code>&amp;#62;</code>\".</p>\n\n<p>That has an ampersand, but I don't want the first bit of code to replace that, since it is followed by <code>#62;</code>. </p>\n\n<p>It may not be enough to exclude \"<code>&amp;#</code>\", as there is a slight chance that may be legitimately in the data. So can I in regex exclude where the ampersand is followed by \"<code>#__;</code>\"? </p>\n\n<p>Alternatively, the specific three examples I want to exclude are \"<code>&amp;#44;</code>\" (comma), \"<code>&amp;#62;</code>\" (<code>&gt;</code>), and \"<code>&amp;#60;</code>\" (<code>&lt;</code>). Those are the only other find and replaces I will be doing, so if there is a way to exclude those specifically, that would work too.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["linux", "perl", "unix", "client-server"], "comments": [{"owner": {"reputation": 5640, "user_id": 1938826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gTGEx.jpg?s=128&g=1", "display_name": "an earwig", "link": "https://stackoverflow.com/users/1938826/an-earwig"}, "edited": false, "score": 1, "creation_date": 1431095501, "post_id": 30126238, "comment_id": 48362216, "body": "Is it going to be a web server, or something else. A lot of the time in socket programming you can thread the server to accept multiple clients."}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "reply_to_user": {"reputation": 5640, "user_id": 1938826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gTGEx.jpg?s=128&g=1", "display_name": "an earwig", "link": "https://stackoverflow.com/users/1938826/an-earwig"}, "edited": false, "score": 0, "creation_date": 1431101768, "post_id": 30126238, "comment_id": 48366576, "body": "It is not web server in nature. From client machine some requests will go to server and as per content in request server will run some functions on server machine and return output of those functions to client as response."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1431108421, "post_id": 30126238, "comment_id": 48370341, "body": "Net::Server provides some frameworks"}], "answers": [{"comments": [{"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1431101943, "post_id": 30126887, "comment_id": 48366695, "body": "Thanks for your answer. I am thinking about using fork approach based on your answer. For each client connection i can simply do forking on server. My client will simply send some argument to server say foo and server will run some script or some command corresponding to foo on server machine and return response generated by script back to client. Is fork bad for this use case?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1431104022, "post_id": 30126887, "comment_id": 48368003, "body": "No, fork will be fine. The place fork falls apart is if the connected clients need to communicate with each other - then you start having to do all sort of faff to get them to synchronise and communicate."}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1431106914, "post_id": 30126887, "comment_id": 48369536, "body": "Oh then i am good with fork since clients in my case will never ever have to communicate with each other. Thanks a lot for your help."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1431109468, "post_id": 30126887, "comment_id": 48370893, "body": "<a href=\"http://perldoc.perl.org/perlipc.html#Internet-TCP-Clients-and-Servers\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlipc.html#Internet-TCP-Clients-and-Serve&zwnj;&#8203;rs</a> provides a complete example of a forking tcp socket server (and client)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1431339254, "last_edit_date": 1431339254, "creation_date": 1431097043, "answer_id": 30126887, "question_id": 30126238, "link": "https://stackoverflow.com/questions/30126238/best-approach-to-start-client-server-programming-in-perl/30126887#30126887", "title": "Best approach to start client server programming in perl?", "body": "<p>OK, so - the problem with handling multiple concurrent clients is that you need to handle the asychronous incoming data. Normally - reading from a socket (or filehandle) is a blocking operation, which means one client will 'shut out' the others. </p>\n\n<p>There's two major approaches to handling this - one is to read in a nonblocking fashion from your file descriptors, using something like <a href=\"http://perldoc.perl.org/IO/Select.html\" rel=\"nofollow\"><code>IO::Select</code></a> and <code>can_read</code> - then you test which of your sockets has pending IO, process it and repeat. </p>\n\n<p>From the docs:</p>\n\n<pre><code>use IO::Select;\nuse IO::Socket;\n$lsn = IO::Socket::INET-&gt;new( Listen =&gt; 1, LocalPort =&gt; 8080 );\n$sel = IO::Select-&gt;new($lsn);\nwhile ( @ready = $sel-&gt;can_read ) {\n    foreach $fh (@ready) {\n        if ( $fh == $lsn ) {\n\n            # Create a new socket\n            $new = $lsn-&gt;accept;\n            $sel-&gt;add($new);\n        }\n        else {\n            # Process socket\n            # Maybe we have finished with the socket\n            $sel-&gt;remove($fh);\n            $fh-&gt;close;\n        }\n    }\n}\n</code></pre>\n\n<p>Or you can multiprocess using <code>threads</code> or <code>forks</code> - when you do this, you 'split' your process, and run separate instances, each responsible for a single client. </p>\n\n<p>Which of these approaches you take depends very much on what you're trying to accomplish. <code>fork</code> is especially good for fast efficient start up, because it's implemented natively on POSIX operating systems. However it's not as friendly for doing interprocess communication (IPC) so if your clients need to communicate... personally, I wouldn't.</p>\n\n<p>As noted in the comments - some basic forking code can be found in <a href=\"http://perldoc.perl.org/perlipc.html#Internet-TCP-Clients-and-Servers\" rel=\"nofollow\"><code>perlipc</code></a> </p>\n\n<p>Threading is similar to forking - it's not recommended by the perl documentation, because it's <em>not</em> lightweight. But it does make the process of communicating between your threads quite a bit easier. I would suggest if you do this, you look at <code>threads</code>, <code>threads::shared</code> and <code>Thread::Queue</code>. </p>\n\n<p>Using a non blocking read approach means you can potentially do all this without having to fork or thread at all, but it only really works if you're doing 'little' things each iteration - each incoming client will stall whilst you process the next, which can mean more latency. (This may not matter though). </p>\n\n<p>Perlmonks has some more examples of different client types: <a href=\"http://www.perlmonks.org/?node_id=436988\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=436988</a></p>\n"}], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 2, "accepted_answer_id": 30126887, "answer_count": 1, "score": 1, "last_activity_date": 1432471950, "creation_date": 1431095193, "last_edit_date": 1432471950, "question_id": 30126238, "link": "https://stackoverflow.com/questions/30126238/best-approach-to-start-client-server-programming-in-perl", "title": "Best approach to start client server programming in perl?", "body": "<p>I need to write a client server application in perl. Many clients will send requests and will be handled via server. </p>\n\n<p>What is best approach to develop such client server application. I searched web and found LWP and IO::Socket as possible contenders.  </p>\n\n<p>What is best approach to handle multiple clients? Is this to fork seperate process or use threads to handle many clients.</p>\n\n<p>This is my first time with client-server programming on perl so confused.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 1517, "user_id": 275984, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/620339c024f25dbc2597a9d33c6eef54?s=128&d=identicon&r=PG", "display_name": "b0fh", "link": "https://stackoverflow.com/users/275984/b0fh"}, "edited": false, "score": 1, "creation_date": 1431086751, "post_id": 30146633, "comment_id": 48401563, "body": "When using plain CGIs, the OS (through the #! line) is responsible for picking the interpreter. What&#39;s on the first line of your script ? and what is the output of <code>which perl</code> on the CLI ?"}, {"owner": {"reputation": 364, "user_id": 997244, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LTMsU.jpg?s=128&g=1", "display_name": "cjoy", "link": "https://stackoverflow.com/users/997244/cjoy"}, "reply_to_user": {"reputation": 1517, "user_id": 275984, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/620339c024f25dbc2597a9d33c6eef54?s=128&d=identicon&r=PG", "display_name": "b0fh", "link": "https://stackoverflow.com/users/275984/b0fh"}, "edited": false, "score": 0, "creation_date": 1431099046, "post_id": 30146633, "comment_id": 48401564, "body": "Yes - the shebang is to blame in that case. It points to /usr/bin/perl, which is the undesired version that shipped with the distro. Does mod_perl allow for overwriting this instruction?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1431346647, "post_id": 30146633, "comment_id": 48441095, "body": "Why are you trying to use an older version of Perl than the one that comes with your operating system? People usually have the opposite problem :-)"}, {"owner": {"reputation": 364, "user_id": 997244, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LTMsU.jpg?s=128&g=1", "display_name": "cjoy", "link": "https://stackoverflow.com/users/997244/cjoy"}, "edited": false, "score": 1, "creation_date": 1431360405, "post_id": 30146633, "comment_id": 48451020, "body": "slightly ot, but to satisfy your curiosity: I inherited an old and ugly perl webservice and some of the code is now deprecated causing warnings/errors using modern perl. Thus, I need to use 5.10 until the offending parts of the code have been refactored."}], "answers": [{"tags": [], "owner": {"reputation": 1517, "user_id": 275984, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/620339c024f25dbc2597a9d33c6eef54?s=128&d=identicon&r=PG", "display_name": "b0fh", "link": "https://stackoverflow.com/users/275984/b0fh"}, "is_accepted": true, "score": 2, "last_activity_date": 1431103424, "creation_date": 1431103424, "answer_id": 30146634, "question_id": 30146633, "link": "https://stackoverflow.com/questions/30146633/how-to-specify-perl-version-for-apache2-mod-cgi/30146634#30146634", "title": "How to specify Perl version for apache2 mod_cgi?", "body": "<p>When using plain CGIs, the OS (through the #! line) is responsible for picking the interpreter. As we have established, the shebang was pointing to the wrong version of the interpreter.</p>\n\n<p>The easiest way is to edit it. If you need the same script to work with two different perl versions depending on the call context, you can use something like <code>#!/usr/bin/env perl</code> in the shebang to have it respect the environment, then change the <code>PATH</code> variable for apache.</p>\n\n<p>If you cannot edit the shebang, there is the option of going through <code>mod_perl</code> (make sure you compile it against the desired version) if you don't mind using this specific version for the whole webserver.</p>\n\n<p>Another way would be to run the webserver within some kind of container (chroot, lxc, docker, or just using mount namespaces) so that your <code>/usr/bin/perl</code> points to some other version of the interpreter.</p>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1243296000, "open_beta_date": 1241049600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon@2.png", "twitter_account": "ServerFault", "favicon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon.png", "audience": "system and network administrators", "site_url": "https://serverfault.com", "api_site_parameter": "serverfault", "logo_url": "https://cdn.sstatic.net/Sites/serverfault/Img/logo.png", "name": "Server Fault", "site_type": "main_site"}, "on_date": 1431219878, "question_id": 690590}, "owner": {"reputation": 364, "user_id": 997244, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LTMsU.jpg?s=128&g=1", "display_name": "cjoy", "link": "https://stackoverflow.com/users/997244/cjoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 0, "accepted_answer_id": 30146634, "answer_count": 1, "score": 3, "last_activity_date": 1431219878, "creation_date": 1431086120, "question_id": 30146633, "link": "https://stackoverflow.com/questions/30146633/how-to-specify-perl-version-for-apache2-mod-cgi", "title": "How to specify Perl version for apache2 mod_cgi?", "body": "<p>I have installed additional versions of Perl on a Fedora 21 system.\nOn the PATH, my custom Perl (5.10.0) has priority over the distro's default Perl (5.18.4)</p>\n\n<pre><code>user$ perl -v\n&gt; This is perl, v5.10.0 built for x86_64-linux\n\nroot# perl -v\n&gt; This is perl, v5.10.0 built for x86_64-linux\n</code></pre>\n\n<p>However, when printing the Perl version in a script served by Apache, it appears to be using the \"wrong\" version:</p>\n\n<pre><code>5.018004\n</code></pre>\n\n<p>How can you direct Apache to use a specific version of Perl?</p>\n"}, {"tags": ["perl", "function"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1431346286, "post_id": 30121307, "comment_id": 48440857, "body": "Perhaps you could try reading <a href=\"http://perldoc.perl.org/functions/localtime.html\" rel=\"nofollow noreferrer\">the documentation for the localtime function</a>."}], "answers": [{"comments": [{"owner": {"reputation": 681, "user_id": 3775105, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/f4qLt.jpg?s=128&g=1", "display_name": "Rajalakshmi", "link": "https://stackoverflow.com/users/3775105/rajalakshmi"}, "edited": false, "score": 0, "creation_date": 1431080827, "post_id": 30121439, "comment_id": 48352693, "body": "if we give only <code>print localtime</code> what time it is return?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 681, "user_id": 3775105, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/f4qLt.jpg?s=128&g=1", "display_name": "Rajalakshmi", "link": "https://stackoverflow.com/users/3775105/rajalakshmi"}, "edited": false, "score": 0, "creation_date": 1431080944, "post_id": 30121439, "comment_id": 48352770, "body": "@Rajalakshmi it doesn&#39;t return a time; because you are calling it where a list is expected, it returns a list of sec, min, hour, and so on and you print them all joined together.  don&#39;t do that."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1431080967, "post_id": 30121439, "comment_id": 48352781, "body": "It returns list of date parts =&gt; <code>print join &quot; &quot;, localtime;</code>"}, {"owner": {"reputation": 681, "user_id": 3775105, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/f4qLt.jpg?s=128&g=1", "display_name": "Rajalakshmi", "link": "https://stackoverflow.com/users/3775105/rajalakshmi"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1431081187, "post_id": 30121439, "comment_id": 48352923, "body": "@\u0421\u0443\u0445\u043e\u043927 I know that if we give only local time its give current date and time but in print its not do like this"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1431081313, "post_id": 30121439, "comment_id": 48353010, "body": "<code>print</code> is doing things in a list context. You are basically doing: <code>my @stuff = localtime(); print @stuff</code>. E.g. printing the resultant array. That&#39;s so you can <code>print function(),$variable,&quot;\\n&quot;;</code> - you&#39;re passing it a list when you do that."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1431080446, "creation_date": 1431080446, "answer_id": 30121439, "question_id": 30121307, "link": "https://stackoverflow.com/questions/30121307/what-will-be-output-if-i-print-local-time-return-values/30121439#30121439", "title": "What will be output if I print local time return values?", "body": "<p>Perl in general, and <code>localtime</code> specifically is magic - it knows in what context it's being used. </p>\n\n<p>So you can use things like <code>wantarray()</code> within a sub to detect whether the caller is expecting multiple results. </p>\n\n<p><a href=\"http://perldoc.perl.org/functions/localtime.html\" rel=\"nofollow\"><code>localtime</code></a> is much the same.</p>\n\n<p>If you 'use' it in a LIST context, it returns a list of values: </p>\n\n<pre><code>my ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) =\n                                            localtime(time);\n</code></pre>\n\n<p>You are effectively doing this by 'just' printing it. </p>\n\n<p>E.g.</p>\n\n<pre><code>print scalar localtime,\"\\n\";\nprint join ( \" \", localtime );\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>Fri May  8 11:20:15 2015\n15 20 11 8 4 115 5 127 1\n</code></pre>\n"}], "owner": {"reputation": 681, "user_id": 3775105, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/f4qLt.jpg?s=128&g=1", "display_name": "Rajalakshmi", "link": "https://stackoverflow.com/users/3775105/rajalakshmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "closed_date": 1431080468, "accepted_answer_id": 30121439, "answer_count": 1, "score": -1, "last_activity_date": 1431080581, "creation_date": 1431079989, "last_edit_date": 1431080581, "question_id": 30121307, "link": "https://stackoverflow.com/questions/30121307/what-will-be-output-if-i-print-local-time-return-values", "closed_reason": "Duplicate", "title": "What will be output if I print local time return values?", "body": "<p>I printed the localtime return values without storing that into one variable, it is display some digits I don't know what is that, but if we use that return value in localtime and store that into scalar variable it is displaying some date format.</p>\n\n<p>for example </p>\n\n<pre><code>print localtime,\"\\n\";\n</code></pre>\n\n<p>its print output </p>\n\n<pre><code>713156411531250\n</code></pre>\n\n<p>then I give that output to arguments of localtime like </p>\n\n<pre><code>$time=localtime(713156411531250);\nprint \"$time\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Sat Jan 14 16:37:30 22600997\n</code></pre>\n"}, {"tags": ["perl", "actionscript", "flash"], "answers": [{"comments": [{"owner": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "edited": false, "score": 0, "creation_date": 1431416057, "post_id": 30173971, "comment_id": 48474419, "body": "hi, I have tried that before but it didn&#39;t seem to be working,"}], "tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": 2, "last_activity_date": 1431365240, "creation_date": 1431365240, "answer_id": 30173971, "question_id": 30120949, "link": "https://stackoverflow.com/questions/30120949/perl-swfbuilder-fade-in-image/30173971#30173971", "title": "Perl SWF::Builder fade in image", "body": "<p>I think it is missing the call to terminate the script once it's complete.  What happens if you do the following?</p>\n\n<pre><code>    my $onEnterFrameScript = \"\n    this.frameIndex += 1;\n    if ((this._alpha &lt; 100) &amp;&amp; (this.frameIndex &lt; this.fadeOutFrameIndex)) {\n        this._alpha += this.apf;\n    } else if (this.frameIndex &gt; this.fadeOutFrameIndex) {\n        this._alpha -= this.apf;\n        if (this._alpha &lt;= 0){\n            this._visible=false;\n            delete this.onEnterFrame;\n        }\n    }\n\";\n</code></pre>\n\n<p>Notice the call the \"delete this.onEnterFrame\"</p>\n"}], "owner": {"reputation": 795, "user_id": 2651994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c186dfe9e6d9dba2747de09636779e?s=128&d=identicon&r=PG", "display_name": "lightbringer", "link": "https://stackoverflow.com/users/2651994/lightbringer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1431365240, "creation_date": 1431078969, "last_edit_date": 1431353296, "question_id": 30120949, "link": "https://stackoverflow.com/questions/30120949/perl-swfbuilder-fade-in-image", "title": "Perl SWF::Builder fade in image", "body": "<p>I'm working on a script to create swf files with images fade in/out.</p>\n\n<p>This is my code so far:</p>\n\n<pre><code>my %CONFIG = (\n    'scriptURI' =&gt; \"data.js\",\n    'imageFolder' =&gt; \"images/\",\n    'outputFileName' =&gt; 'testImg.swf',\n    'delay' =&gt; 3,                       # delay between images\n    'fps'   =&gt; 10,\n    'fadeFrame' =&gt; 10                   # 1 second fade in/out\n);\n\nsub addImgToMovie {\n    my $img = shift;\n    my $frameNo = shift;\n    my $movie = shift;\n    my $movieClip = $movie -&gt; new_mc();\n    my $jpeg = $movieClip -&gt; new_jpeg($img);\n    $jpeg -&gt; place(Frame =&gt; 1);\n\n    my $mc_i = $movieClip -&gt; place(Frame =&gt; $frameNo);  \n\n    my $onloadScript = sprintf(\"\n        this._alpha = %d;\n        this.apf = %f;\n        this.frameIndex = %d;\n        this.fadeOutFrameIndex = %d;\n        \", 0, 100 / $CONFIG{'fadeFrame'}, 1, $CONFIG{'delay'} * $CONFIG{'fps'} - $CONFIG{'fadeFrame'});\n    $mc_i -&gt; onClipEvent('Load') -&gt; compile($onloadScript);\n\n    my $onEnterFrameScript = \"\n        this.frameIndex += 1;\n        if ((this._alpha &lt; 100) &amp;&amp; (this.frameIndex &lt; this.fadeOutFrameIndex)) {\n            this._alpha += this.apf;\n        } else if (this.frameIndex &gt; this.fadeOutFrameIndex) {\n            this._alpha -= this.apf;\n        }\n    \";\n    $mc_i -&gt; onClipEvent('EnterFrame') -&gt; compile($onEnterFrameScript);\n    return $movie;\n}\n\nmy $movie = SWF::Builder -&gt; new(\n    FrameRate =&gt; $CONFIG{'fps'},\n    FrameSize =&gt; [0, 0, 180, 163],\n    BackgroundColor =&gt; 'ffffff'\n);\n\nmy $img = $CONFIG{'imageFolder'} . \"adimage1.jpg\";\n$movie = addImgToMovie($img, 1, $movie);\n$movie -&gt; save($CONFIG{'outputFileName'});\n</code></pre>\n\n<p>The script output a SWF file but it only fade in and fade out the image once, then I have a blank image.</p>\n\n<p>I sort of debugged the file and figure out the frameIndex keeps increasing over and over, so I suspect onEnterFrame keeps playing, therefore the movieclip never stops.</p>\n\n<p>Could anyone help me on how to resolve this issue. I'd like the movieclip to stop after the image fully fades out.</p>\n"}]