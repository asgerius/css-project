[{"tags": ["perl", "psgi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444848141, "post_id": 33133040, "comment_id": 54077838, "body": "I highly recommend <a href=\"http://metacpan.org/module/Mojo::Server::PSGI\" rel=\"nofollow noreferrer\">Mojo::Server::PSGI</a>"}, {"owner": {"reputation": 583, "user_id": 700771, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cba8a2d29ebbe8ca776a82ab4958ab58?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/700771/rob"}, "edited": false, "score": 0, "creation_date": 1444852920, "post_id": 33133040, "comment_id": 54080614, "body": "I&#39;m having a problem with software crashing, and would like to know about similar software that doesn&#39;t crash. What&#39;s wrong with asking about alternative libraries?"}, {"owner": {"reputation": 583, "user_id": 700771, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cba8a2d29ebbe8ca776a82ab4958ab58?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/700771/rob"}, "edited": false, "score": 0, "creation_date": 1444856330, "post_id": 33133040, "comment_id": 54082534, "body": "I&#39;ve edited it to remove the explicit request for library recommendations."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1444863238, "post_id": 33133040, "comment_id": 54085558, "body": "Then edit the title as well."}, {"owner": {"reputation": 583, "user_id": 700771, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cba8a2d29ebbe8ca776a82ab4958ab58?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/700771/rob"}, "reply_to_user": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1445081509, "post_id": 33133040, "comment_id": 54178067, "body": "@LynnCrumbling I&#39;ve edited the question and title. Can it be removed from hold, please."}], "owner": {"reputation": 583, "user_id": 700771, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cba8a2d29ebbe8ca776a82ab4958ab58?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/700771/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1445083710, "creation_date": 1444847721, "last_edit_date": 1444945779, "question_id": 33133040, "link": "https://stackoverflow.com/questions/33133040/perl-web-service-on-windows-crashes-when-running-system-commands-in-parallel", "title": "Perl web service on Windows crashes when running system commands in parallel", "body": "<p>I am modernising a Perl-based system for a client.  This system runs on Windows (Strawberry Perl), connects to a database, and calls some scripts, which in turn run other programs.</p>\n\n<p>My first thought is to write a PSGI application and trigger the application using curl.  My initial experiments seem to be working, although only using the Twiggy server. (Thrall leaks memory badly, and forking servers like Starman don't work on Windows.)</p>\n\n<p>I'd like to improve the system further by running the other external commands in parallel. I've tried using AnyEvent or Parallel::ForkManager. It works for standalone scripts, but when running inside of Twiggy, Perl crashes.</p>\n\n<p>My question is: how can I execute external commands in parallel so that Twiggy (or an alternative server, if this is an issue with Twiggy) so that it doesn't crash?</p>\n"}, {"tags": ["perl", "catalyst"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5446060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N2wIaaa96iI/AAAAAAAAAAI/AAAAAAAAAAA/WoFZfmG5GcM/photo.jpg?sz=128", "display_name": "ozarfreo", "link": "https://stackoverflow.com/users/5446060/ozarfreo"}, "edited": false, "score": 0, "creation_date": 1444981605, "post_id": 33137247, "comment_id": 54138669, "body": "Indeed, I am myself not sure it&#39;s a good idea, I just wanted to know whether it&#39;s easy to do it... The idea is that I&#39;d like to have a website with a &quot;basic&quot; set of features to which users can add more if they want to, and I&#39;d like to keep the folders separate to make this more apparent. I can do that for the &quot;root&quot; folder by having a view that searches in &quot;root&quot; and also in &quot;root_user&quot; (say). And something similar can be done for /lib by having users put everything in /lib/user_added, but then one loses a bit in that &quot;:Local&quot; URLs would be less useful. -- Many thanks for the answer."}, {"owner": {"reputation": 8942, "user_id": 14750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1259cb9901b6d9caf5aeda812927d111?s=128&d=identicon&r=PG", "display_name": "RET", "link": "https://stackoverflow.com/users/14750/ret"}, "reply_to_user": {"reputation": 1, "user_id": 5446060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N2wIaaa96iI/AAAAAAAAAAI/AAAAAAAAAAA/WoFZfmG5GcM/photo.jpg?sz=128", "display_name": "ozarfreo", "link": "https://stackoverflow.com/users/5446060/ozarfreo"}, "edited": false, "score": 0, "creation_date": 1444991104, "post_id": 33137247, "comment_id": 54144081, "body": "You could allow user controllers in a subdirectory under /Controller. Actions can be chained so that URIs fit to the existing name spaces."}], "tags": [], "owner": {"reputation": 8942, "user_id": 14750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1259cb9901b6d9caf5aeda812927d111?s=128&d=identicon&r=PG", "display_name": "RET", "link": "https://stackoverflow.com/users/14750/ret"}, "is_accepted": false, "score": 0, "last_activity_date": 1444864529, "creation_date": 1444864529, "answer_id": 33137247, "question_id": 33130955, "link": "https://stackoverflow.com/questions/33130955/automatically-loading-controllers-in-a-different-library-directory-in-catalyst/33137247#33137247", "title": "Automatically loading controllers in a different library directory in Catalyst", "body": "<p>I'm not aware of any obvious way this can be done without messing with very deep internals of Catalyst. Before embarking on such heavy wizardry, I'd recommend having a good think about <em>why</em> you're trying to do this.</p>\n\n<p>If Controllers belong to myapp, they should live in <code>lib/myapp/Controller</code>. If you have generalised code that is being shared by multiple apps, that should live in <code>lib/shared/</code> (or something like that, and you may need a <code>use lib \"$HOME/lib/shared\"</code> in your main program as well).</p>\n\n<p>Then where you need that shared code in myapp, you create a stub controller, eg:</p>\n\n<pre><code>package MyApp::Controller::Foo;\nuse Moose;\nextends 'Shared::Controller::Foo';\n# or, if you prefer,\n# use base 'Shared::Controller::Foo';\n1;\n</code></pre>\n\n<p>... and <code>MyApp::Controller::Foo</code> will support whatever methods/actions are in <code>Shared::Controller::Foo</code>.</p>\n\n<p>I appreciate there are limits to the scalability of that solution, but if you're hitting them, I think you need to re-evaluate the architecture of your app.</p>\n"}], "owner": {"reputation": 1, "user_id": 5446060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N2wIaaa96iI/AAAAAAAAAAI/AAAAAAAAAAA/WoFZfmG5GcM/photo.jpg?sz=128", "display_name": "ozarfreo", "link": "https://stackoverflow.com/users/5446060/ozarfreo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454472284, "creation_date": 1444840657, "last_edit_date": 1454472284, "question_id": 33130955, "link": "https://stackoverflow.com/questions/33130955/automatically-loading-controllers-in-a-different-library-directory-in-catalyst", "title": "Automatically loading controllers in a different library directory in Catalyst", "body": "<p>Using <a href=\"http://www.catalystframework.org/\" rel=\"nofollow\">the Catalyst framework</a>, is it possible to have another directory be automatically searched for controllers and models? Things in <code>lib/myapp/Controller/*</code> are automatically loaded, and I'd like the same to happen to things in <code>lib2/myapp/Controller/*</code>.</p>\n"}, {"tags": ["perl", "coldfusion", "xml-rpc"], "comments": [{"owner": {"reputation": 10532, "user_id": 1845869, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/idvMf.png?s=128&g=1", "display_name": "James A Mohler", "link": "https://stackoverflow.com/users/1845869/james-a-mohler"}, "edited": false, "score": 0, "creation_date": 1444839537, "post_id": 33130391, "comment_id": 54072870, "body": "The article dates from Aug 30 2008. I wonder if SOAP, REST, or plain AJAX would be a better approach"}, {"owner": {"reputation": 1537, "user_id": 814299, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/n5R6w.jpg?s=128&g=1", "display_name": "jessieloo", "link": "https://stackoverflow.com/users/814299/jessieloo"}, "reply_to_user": {"reputation": 10532, "user_id": 1845869, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/idvMf.png?s=128&g=1", "display_name": "James A Mohler", "link": "https://stackoverflow.com/users/1845869/james-a-mohler"}, "edited": false, "score": 0, "creation_date": 1444841749, "post_id": 33130391, "comment_id": 54074131, "body": "The APIs are all XML-RPC methods so I don&#39;t have a choice, correct?"}], "answers": [{"tags": [], "owner": {"reputation": 1537, "user_id": 814299, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/n5R6w.jpg?s=128&g=1", "display_name": "jessieloo", "link": "https://stackoverflow.com/users/814299/jessieloo"}, "is_accepted": true, "score": 2, "last_activity_date": 1444930540, "creation_date": 1444930540, "answer_id": 33155006, "question_id": 33130391, "link": "https://stackoverflow.com/questions/33130391/xml-rpc-with-coldfusion-how-to-pass-in-parameters/33155006#33155006", "title": "xml-rpc with coldfusion - how to pass in parameters?", "body": "<p>I figured it out and now it seems so obvious...  You have to use a struct to hold the parameters and pass that into the array after the method string.</p>\n\n<pre><code>&lt;cfset arr = arraynew(1)&gt;\n&lt;cfset arrayappend(arr,\"service.show\")&gt;\n&lt;cfset paramObj = structnew()&gt;\n&lt;cfset paramObj['vip'] = myVIP&gt;\n&lt;cfset paramObj['ip'] = myIP&gt;\n&lt;cfset paramObj['port'] = myPort&gt;\n&lt;cfset paramObj['show'] = \"status/state\"&gt;\n&lt;cfset arrayappend(arr,paramObj)&gt;\n</code></pre>\n\n<p>I found the <a href=\"http://jquery-xml-rpc.readthedocs.org/en/latest/api.html\" rel=\"nofollow\">jquery xml-rpc</a> documentation helpful to understanding how the xml should actually be formatted.</p>\n\n<p>Note: the notation of </p>\n\n<pre><code>&lt;cfset paramObj['ip'] = myIP&gt;\n</code></pre>\n\n<p>vs </p>\n\n<pre><code>&lt;cfset paramObj.ip = myIP&gt;\n</code></pre>\n\n<p>is important since the latter will result in all uppercase for the parameter name in xmlrpc.cfc. (thanks to <a href=\"http://www.bennadel.com/blog/1641-learning-coldfusion-9-implicit-struct-and-array-usage.htm\" rel=\"nofollow\">comment by Dave Merrill on this post</a>)</p>\n"}], "owner": {"reputation": 1537, "user_id": 814299, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/n5R6w.jpg?s=128&g=1", "display_name": "jessieloo", "link": "https://stackoverflow.com/users/814299/jessieloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 33155006, "answer_count": 1, "score": 3, "last_activity_date": 1444930540, "creation_date": 1444839021, "last_edit_date": 1444842662, "question_id": 33130391, "link": "https://stackoverflow.com/questions/33130391/xml-rpc-with-coldfusion-how-to-pass-in-parameters", "title": "xml-rpc with coldfusion - how to pass in parameters?", "body": "<p>I'm trying to make an xml-rpc call from a coldfusion server.  I found this <a href=\"http://www.codersrevolution.com/blog/XMLRPC-Alive-yes-but-still-kicking\" rel=\"nofollow noreferrer\">xml-rpc cfc</a> (Thanks, Brad Wood!) that formats the xml for the cfhttp call but I'm struggling with interpretting how to pass in any parameters besides the call name.</p>\n\n<p>Here's the api documention using perl</p>\n\n<p><a href=\"https://i.stack.imgur.com/6jWfw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6jWfw.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This is my coldfusion code</p>\n\n<pre><code>&lt;cfobject component=\"xmlrpc\" name=\"c\"&gt;\n&lt;cfset arr = arraynew(1)&gt;\n&lt;cfset arrayappend(arr,\"service.show\")&gt;\n&lt;cfset arrayappend(arr,myVIP)&gt;\n&lt;cfset arrayappend(arr,myIP)&gt;\n&lt;cfset arrayappend(arr,myPort)&gt;\n&lt;cfset myxml =  c.CFML2XMLRPC(arr,\"call\")&gt;\n&lt;cfhttp url=\"#apiUrl#\" method=\"POST\"&gt;\n&lt;cfhttpparam name=\"request_body\" value=\"#myxml#\" type=\"XML\"&gt;\n&lt;/cfhttp&gt;\n</code></pre>\n\n<p>The error message that I keep getting is:</p>\n\n<blockquote>\n  <p>Can't use string (<em>myVIP...</em>) as a HASH ref while \"strict refs\" in\n  use at <em>/home/...</em></p>\n</blockquote>\n\n<p><strong>So what I don't understand is how to translate the notation I see in perl of <em>{parameter1=>'value1',parameter2=>'value2'}</em> to the array that I'm passing into CFML2XMLRPC.</strong></p>\n"}, {"tags": ["html", "perl", "character-encoding"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444840743, "post_id": 33127314, "comment_id": 54073543, "body": "You should <code>use warnings</code> in preference to <code>-w</code> on the shebang line"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1444834223, "post_id": 33127634, "comment_id": 54069227, "body": "What does that have to do with decoding HTTP responses?"}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1444834286, "post_id": 33127634, "comment_id": 54069280, "body": "Does this mean, that <b>every</b> charset-name that I will find in <b>any</b> html-document is also a valid encoding-name that I can use within the module <code>Encode</code>? If this is so, why is this important fact not mentioned in the documentation of this module?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1444834356, "post_id": 33127634, "comment_id": 54069328, "body": "@HubertSch&#246;lnast: No, but most of them are."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1444835197, "post_id": 33127634, "comment_id": 54069914, "body": "@Hubert Sch&#246;lnast, Aside from being rather obvious that it can&#39;t support all encodings since there&#39;s no official list of encodings*, it is mentioned in the documentation. Specifically, it&#39;s mentioned on the third line and there&#39;s a whole section on the topic (&quot;Listing available encodings&quot;). // * This begs the question, what do you mean when you say you have a valid encoding name!?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1444831699, "creation_date": 1444831699, "answer_id": 33127634, "question_id": 33127314, "link": "https://stackoverflow.com/questions/33127314/which-perl-encoding-for-which-html-character-set/33127634#33127634", "title": "Which Perl encoding for which HTML character set?", "body": "<p>See <a href=\"http://p3rl.org/Encode::Supported\" rel=\"nofollow\">Encode::Supported</a>. Basically, most of the encodings should <em>just work</em>&trade;.</p>\n\n<pre><code>binmode STDIN, ':encoding(Shift_JIS)';\nbinmode STDIN, ':encoding(windows-1252)';\n</code></pre>\n\n<p>Both work without errors.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1444835279, "last_edit_date": 1444835279, "creation_date": 1444833971, "answer_id": 33128564, "question_id": 33127314, "link": "https://stackoverflow.com/questions/33127314/which-perl-encoding-for-which-html-character-set/33128564#33128564", "title": "Which Perl encoding for which HTML character set?", "body": "<p>For HTML documents, all you need is</p>\n\n<pre><code>my $content = $response-&gt;decoded_content();\n</code></pre>\n\n<p>It will use both the value of the <em>charset</em> attribute in the HTTP header and the META element as needed.</p>\n\n<blockquote>\n  <p><em>But I fail to find the correct encodings for some charsets that exist out there in the wild.</em></p>\n</blockquote>\n\n<p>Encode doesn't <a href=\"http://search.cpan.org/~dankogai/Encode-2.78/Encode.pm#Listing_available_encodings\" rel=\"nofollow\">support</a> all encodings that have ever existed, but I'm surprised you encountered an HTML page it couldn't decode. It could simply be a case of creating an alias, but you haven't provided any details for us to help you.</p>\n"}], "owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 33128564, "answer_count": 2, "score": 1, "last_activity_date": 1444841413, "creation_date": 1444830934, "last_edit_date": 1444841413, "question_id": 33127314, "link": "https://stackoverflow.com/questions/33127314/which-perl-encoding-for-which-html-character-set", "title": "Which Perl encoding for which HTML character set?", "body": "<p>I am writing a Perl script that fetches various HTML documents from many different web sites and tries to extract data from them. I have a problem with decoding those documents.</p>\n\n<p>I know how to read the <code>charset</code> from a meta tag if there is one, and how to read this information from the HTTP header if available.</p>\n\n<p>The results can be:</p>\n\n<ul>\n<li>UTF-8</li>\n<li>ISO-8859-1</li>\n<li>Shift_JIS</li>\n<li>Windows-1252</li>\n</ul>\n\n<p>and many more</p>\n\n<p>With this knowledge I want to decode the document in my Perl script</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nuse LWP::UserAgent;\nuse Encode;\nuse Encode::JP;\n\n# Maybe also use other extensions for Encode\n\nmy $ua = LWP::UserAgent-&gt;new;\nmy $response = $ua-&gt;get($url); #$url is the documents URL\n\nif ( $response-&gt;is_success ) {\n\n    my $charset = getcharset($response);\n    # getcharset is a self-written subroutine that reads the charset\n    # from a meta tag or from the HTTP header (not shown in this example)\n\n    # Now I know the documents charset and want to find its encoding:\n\n    my $encoding = 'utf-8'; # default\n\n    if ($charset eq 'utf-8') {\n        $encoding = 'utf-8'; # Here $encoding and $charset are equal\n\n    }\n    elsif ( $charset eq 'Shift_JIS' ) {\n        $encoding = 'shiftjis'; #here $encoding and $charset are not equal\n    }\n    elsif ( $charset eq 'windows-1252' ) {\n        # Here I have no idea what $encoding should be, since there is no\n        # encoding in the documentation that contains the string \"windows\"\n\n    }\n    elsif ( $charset eq 'any other character set' ) {\n        $encoding = ???\n    }\n\n    my $content = decode($encoding, $result-&gt;content);\n\n    # Extract data from $content\n}\n</code></pre>\n\n<p>But I fail to find the correct encodings for some charsets that exist out there in the wild.</p>\n"}, {"tags": ["perl", "expect.pm"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1444836930, "post_id": 33127221, "comment_id": 54071118, "body": "<code>qr&#47;foo&#47;i</code> is actually <code>(?i:foo)</code>. <code>(?i)foo</code> generally equivalent, but it relies on Expect embedding the pattern in <code>(?:...)</code> to limit the scope of the case-insensitivity."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444841064, "post_id": 33127221, "comment_id": 54073729, "body": "It will rely on $str not containing an unmatched close parenthesis. I suppose we&#39;ll have to assume it&#39;s a well-formed regex in the first place, or rely on the rest of the code to catch the error."}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 2, "last_activity_date": 1444830683, "creation_date": 1444830683, "answer_id": 33127221, "question_id": 33126180, "link": "https://stackoverflow.com/questions/33126180/using-expect-in-perl-how-to-add-options-of-ignoring-case-with-method-object-e/33127221#33127221", "title": "Using expect in Perl, how to add options of ignoring case with method $object-&gt;expect()?", "body": "<p>You can embed directives into the regex itself: </p>\n\n<pre><code>$object-&gt;expect(15, '-re', \"(?i)$str\");\n</code></pre>\n\n<p>ref: <a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow\">http://perldoc.perl.org/perlre.html#Extended-Patterns</a></p>\n"}], "owner": {"reputation": 31, "user_id": 4551897, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-q4LE0NHzTwk/AAAAAAAAAAI/AAAAAAAABKE/pdRqpgHFzpk/photo.jpg?sz=128", "display_name": "Jay Zhou", "link": "https://stackoverflow.com/users/4551897/jay-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1601814625, "creation_date": 1444828021, "last_edit_date": 1601814625, "question_id": 33126180, "link": "https://stackoverflow.com/questions/33126180/using-expect-in-perl-how-to-add-options-of-ignoring-case-with-method-object-e", "title": "Using expect in Perl, how to add options of ignoring case with method $object-&gt;expect()?", "body": "<p>This is example found in perldoc:</p>\n<pre><code>  $object-&gt;expect(15, '-re', &quot;$str&quot;);\n</code></pre>\n<p>I want to add option 'i' to the match. This won't work:</p>\n<pre><code>$object-&gt;expect(15, '-re', qr/$str/i);\n</code></pre>\n<p>Do I have to use this format:</p>\n<pre><code> $exp-&gt;expect($timeout, [ qr/$str/i, sub {}], $shell_prompt);\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1444827362, "post_id": 33125832, "comment_id": 54064110, "body": "I don&#39;t see a question anywhere in your post."}, {"owner": {"reputation": 3, "user_id": 5445050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05689d5df123bd3eb81a2d079a3f9ed4?s=128&d=identicon&r=PG&f=1", "display_name": "marcos", "link": "https://stackoverflow.com/users/5445050/marcos"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1444829222, "post_id": 33125832, "comment_id": 54065441, "body": "@Hunter, sorry..if the question was not clear enough..."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5445050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05689d5df123bd3eb81a2d079a3f9ed4?s=128&d=identicon&r=PG&f=1", "display_name": "marcos", "link": "https://stackoverflow.com/users/5445050/marcos"}, "edited": false, "score": 0, "creation_date": 1444829255, "post_id": 33126013, "comment_id": 54065462, "body": "Looks like it works fine with my requirement... testing it.."}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "reply_to_user": {"reputation": 3, "user_id": 5445050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05689d5df123bd3eb81a2d079a3f9ed4?s=128&d=identicon&r=PG&f=1", "display_name": "marcos", "link": "https://stackoverflow.com/users/5445050/marcos"}, "edited": false, "score": 0, "creation_date": 1444829538, "post_id": 33126013, "comment_id": 54065664, "body": "If my answer helped you, please consider vote 1+ \u25b2 and accepting it as the correct answer by clicking the check mark \u2714 in the middle of the vote arrows, tks !"}, {"owner": {"reputation": 3, "user_id": 5445050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05689d5df123bd3eb81a2d079a3f9ed4?s=128&d=identicon&r=PG&f=1", "display_name": "marcos", "link": "https://stackoverflow.com/users/5445050/marcos"}, "edited": false, "score": 0, "creation_date": 1444882727, "post_id": 33126013, "comment_id": 54090415, "body": "I&#39;ve marked your reply as answer and it works good when I use it in normal perl command, but somehow, the regex (the negative lookback) is not working correct in the application. So, I&#39;m checking other replies as well."}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "reply_to_user": {"reputation": 3, "user_id": 5445050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05689d5df123bd3eb81a2d079a3f9ed4?s=128&d=identicon&r=PG&f=1", "display_name": "marcos", "link": "https://stackoverflow.com/users/5445050/marcos"}, "edited": false, "score": 0, "creation_date": 1444901752, "post_id": 33126013, "comment_id": 54099619, "body": "You may want to check if the subject is actually what you think it is. GL."}], "tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": 0, "last_activity_date": 1444827617, "creation_date": 1444827617, "answer_id": 33126013, "question_id": 33125832, "link": "https://stackoverflow.com/questions/33125832/regex-substitution-using-perl-in-application/33126013#33126013", "title": "Regex substitution using perl in application", "body": "<p>You can use <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow\">negative lookahead</a> <code>(?![^\\d+].*?)</code>, i.e :</p>\n\n<pre><code>^APP.*?(?:CFC|LOG)_(.*?)_(?![^\\d+].*?)\n</code></pre>\n\n<hr>\n\n<p><strong>DEMO</strong></p>\n\n<p><a href=\"https://regex101.com/r/lE7oB7/1\" rel=\"nofollow\">https://regex101.com/r/lE7oB7/1</a></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5445050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05689d5df123bd3eb81a2d079a3f9ed4?s=128&d=identicon&r=PG&f=1", "display_name": "marcos", "link": "https://stackoverflow.com/users/5445050/marcos"}, "edited": false, "score": 0, "creation_date": 1444882777, "post_id": 33126165, "comment_id": 54090427, "body": "This is the regex (Negative lookback) that is working perfectly in the application as well as perl. I can&#39;t use the positive lookback as I can&#39;t put the &quot;/g&quot; at the end. Thanks!"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 0, "last_activity_date": 1444828910, "last_edit_date": 1444828910, "creation_date": 1444827994, "answer_id": 33126165, "question_id": 33125832, "link": "https://stackoverflow.com/questions/33125832/regex-substitution-using-perl-in-application/33126165#33126165", "title": "Regex substitution using perl in application", "body": "<p>Try either can you use negative lookahead or positive look ahead</p>\n\n<p>Negative look ahead</p>\n\n<p><code>~s/APP.+?(?:LOG|CFC)_(.+?)_(?![^\\d]).+/$1/</code>   </p>\n\n<p>Positive look ahead</p>\n\n<p><code>~s/APP.+?(?:LOG|CFC)_(.+?)_(?=\\d).+/$1/g;</code></p>\n\n<pre><code>while (&lt;DATA&gt;)\n{\n    $_ =~s/APP.+?(?:LOG|CFC)_(.+?)_(?![^\\d]).+/$1/g;\n    print $_;\n\n}\n\n__DATA__\nAPP_184_PRD_LOG_O2_2M\nAPP_184_PRD_CFC_O2_6D \nAPP_046_STG_CFC_BCK_4W_1\nAPP_050_STG_LOG_OSS_8M_2 \nAPP_050_STG_LOG_SAM_SOX_2M \nAPP_050_STG_CFC_SAM_FOR_6M_3\n</code></pre>\n\n<p>output</p>\n\n<pre><code>O2\nO2\nBCK\nOSS\nSAM_SOX\nSAM_FOR\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5445050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05689d5df123bd3eb81a2d079a3f9ed4?s=128&d=identicon&r=PG&f=1", "display_name": "marcos", "link": "https://stackoverflow.com/users/5445050/marcos"}, "edited": false, "score": 0, "creation_date": 1444883308, "post_id": 33126170, "comment_id": 54090580, "body": "thanks for reply, the regex is not flexible enough due to character restriction {3} and at the end, if I add 2 digits, it fails again."}], "tags": [], "owner": {"reputation": 2177, "user_id": 5324657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/t1fGJ.png?s=128&g=1", "display_name": "Jeremy Jones", "link": "https://stackoverflow.com/users/5324657/jeremy-jones"}, "is_accepted": false, "score": 0, "last_activity_date": 1444829205, "last_edit_date": 1444829205, "creation_date": 1444828002, "answer_id": 33126170, "question_id": 33125832, "link": "https://stackoverflow.com/questions/33125832/regex-substitution-using-perl-in-application/33126170#33126170", "title": "Regex substitution using perl in application", "body": "<p>This would do it too I think:</p>\n\n<pre><code>s/^APP_[^_]{3}_[^_]{3}_(?:LOG|CFC)_(.+)_\\d[WMD](?:_\\d+)?$/$1/;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ perl -le 'for (@ARGV) { s/^APP_[^_]{3}_[^_]{3}_(?:LOG|CFC)_(.+)_\\d[WMD](?:_\\d+)?$/$1/; print }' APP_184_PRD_LOG_O2_2M APP_184_PRD_CFC_O2_6D APP_046_STG_CFC_BCK_4W_1 APP_050_STG_LOG_OSS_8M_2 APP_050_STG_LOG_SAM_SOX_2M APP_050_STG_CFC_SAM_FOR_6M_3\nO2\nO2\nBCK\nOSS\nSAM_SOX\nSAM_FOR\n$\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5445050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05689d5df123bd3eb81a2d079a3f9ed4?s=128&d=identicon&r=PG&f=1", "display_name": "marcos", "link": "https://stackoverflow.com/users/5445050/marcos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1444829272, "accepted_answer_id": 33126165, "answer_count": 3, "score": 0, "last_activity_date": 1444830816, "creation_date": 1444827090, "last_edit_date": 1592644375, "question_id": 33125832, "link": "https://stackoverflow.com/questions/33125832/regex-substitution-using-perl-in-application", "closed_reason": "Needs details or clarity", "title": "Regex substitution using perl in application", "body": "<p>I've to do a regex substitution and I'm using perl for that; which looks similar to this</p>\n<blockquote>\n<p>$ABC=~s/APP_*.*?_LOG_(.*?)_.*/$1/</p>\n<p>print &quot;ABC=$ABC\\n&quot;;</p>\n</blockquote>\n<p>Where <code>$ABC</code> can be of below format before and after substitution:</p>\n<pre><code>APP_184_PRD_LOG_O2_2M -&gt; O2\nAPP_184_PRD_CFC_O2_6D -&gt; O2\nAPP_046_STG_CFC_BCK_4W_1 -&gt; BCK\nAPP_050_STG_LOG_OSS_8M_2 -&gt; OSS\nAPP_050_STG_LOG_SAM_SOX_2M -&gt; SAM_SOX\nAPP_050_STG_CFC_SAM_FOR_6M_3 -&gt; SAM_FOR\n\nRules:-\n1st variable is always APP\n4th variable can be LOG or CFC\nWe are concerned with variable no.5 or 6(in some cases)\nIf the 6th variable has Number+(W/D/M), then 6th &amp; 7th variable to be removed\n</code></pre>\n<p>The substitution has to be a single liner (application restriction).</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1444827769, "post_id": 33125870, "comment_id": 54064378, "body": "Part of the reason they&#39;re considered bad practice is the word <code>prototype</code>. In other programming languages, it means something else."}, {"owner": {"reputation": 14359, "user_id": 5384363, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/975cbfcd1c4997cb9e85887a5271d48f?s=128&d=identicon&r=PG&f=1", "display_name": "for_stack", "link": "https://stackoverflow.com/users/5384363/for-stack"}, "edited": false, "score": 0, "creation_date": 1444827822, "post_id": 33125870, "comment_id": 54064410, "body": "That&#39;s helpful. thanks a lot!"}, {"owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "edited": false, "score": 1, "creation_date": 1444871908, "post_id": 33125870, "comment_id": 54087755, "body": "The most important reason they&#39;re considered bad practice, is that people who don&#39;t know exactly what they are doing, are trying to use them for something that they&#39;re not.  (They&#39;re power tools; read the manual and don&#39;t use them unless you mean it.)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 10, "last_activity_date": 1444894545, "last_edit_date": 1495540327, "creation_date": 1444827199, "answer_id": 33125870, "question_id": 33125816, "link": "https://stackoverflow.com/questions/33125816/what-does-mean-in-a-perl-function-definition/33125870#33125870", "title": "What does $;$ mean in a Perl function definition?", "body": "<p>The stuff in parenthesis behind a sub declaration is called a <em>prototype</em>. They are explained in <a href=\"http://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow noreferrer\">perlsub</a>. In general, you <em>can</em> use them to have limit compile-time argument checking.</p>\n\n<p>The particular <code>($;$)</code> is used for mandatory arguments.</p>\n\n<blockquote>\n  <p>A semicolon (; ) separates mandatory arguments from optional arguments. It is redundant before @ or % , which gobble up everything else</p>\n</blockquote>\n\n<p>So here, the sub has to be called with <strong>at least one argument</strong>, but <strong>may have a second one</strong>.</p>\n\n<p>If you call it with three arguments, it will throw an error.</p>\n\n<pre><code>use constant _DR =&gt; 1;\nsub rad2rad       {@_}\nsub deg2rad ($;$) { my $d = _DR * $_[0]; $_[1] ? $d : rad2rad($d) }\n\nprint deg2rad(2, 3, 4);\n\n__END__\n\nToo many arguments for main::deg2rad at scratch.pl line 409, near \"4)\"\nExecution of scratch.pl aborted due to compilation errors.\n</code></pre>\n\n<hr>\n\n<p>Note that prototypes don't work with method calls like <code>$foo-&gt;frobnicate()</code>.</p>\n\n<p>In general, <strong>prototypes are considered bad practice in modern Perl</strong> and should only be used when you know exactly what you are doing. </p>\n\n<p>The short and to the point way <a href=\"https://stackoverflow.com/users/4544319/the-sidhekin\">The Sidhekin</a> used <a href=\"https://stackoverflow.com/questions/33125816/what-does-mean-in-a-perl-function-definition/33125870#comment54087755_33125870\">in their comment below</a> sums it up nicely:</p>\n\n<blockquote>\n  <p>The most important reason they're considered bad practice, is that\n  people who don't know exactly what they are doing, are trying to use\n  them for something that they're not.</p>\n</blockquote>\n\n<p>See <a href=\"https://stackoverflow.com/q/297034/1331451\">this question</a> and its answers for detailed explanations and discussion on that topic.</p>\n"}], "owner": {"reputation": 14359, "user_id": 5384363, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/975cbfcd1c4997cb9e85887a5271d48f?s=128&d=identicon&r=PG&f=1", "display_name": "for_stack", "link": "https://stackoverflow.com/users/5384363/for-stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "closed_date": 1445347602, "accepted_answer_id": 33125870, "answer_count": 1, "score": 4, "last_activity_date": 1444894545, "creation_date": 1444827035, "last_edit_date": 1444844831, "question_id": 33125816, "link": "https://stackoverflow.com/questions/33125816/what-does-mean-in-a-perl-function-definition", "closed_reason": "Duplicate", "title": "What does $;$ mean in a Perl function definition?", "body": "<p>I got the following code:</p>\n\n<p><code>sub deg2rad ($;$)  { my $d = _DR * $_[0]; $_[1] ? $d : rad2rad($d) }</code></p>\n\n<p>Can anyone tell me what <code>$;$</code> means?</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1444821388, "post_id": 33123836, "comment_id": 54060209, "body": "Can you expand on your constraints on using <code>XML::Simple</code>? Because this is actually very easy using an XPATH expression. (which <code>XML::Simple</code> doesn&#39;t do, but less nasty XML parsers handle just fine)"}, {"owner": {"reputation": 19, "user_id": 4052908, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a848a50f3bb4c89de36dd0ba04a9984f?s=128&d=identicon&r=PG&f=1", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4052908/bhushan-patil"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444821727, "post_id": 33123836, "comment_id": 54060412, "body": "Because later I am doing lot of coding based on that so I will store requestType into particular variable and I am not that good in programming please help on this"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444821840, "post_id": 33123836, "comment_id": 54060484, "body": "In which case - seriously - chuck out <code>XML::Simple</code> and use something else. <code>XML::Twig</code> makes this easy."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444821864, "post_id": 33123836, "comment_id": 54060502, "body": "If you only want the <code>requestType</code> of every <code>networkInfo</code> where the <code>requestType</code> is <code>1001</code>, does that mean you want to count how many <code>requestType</code> of value <code>1001</code> there are?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4052908, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a848a50f3bb4c89de36dd0ba04a9984f?s=128&d=identicon&r=PG&f=1", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4052908/bhushan-patil"}, "edited": false, "score": 0, "creation_date": 1444822678, "post_id": 33124029, "comment_id": 54061034, "body": "it is throwing this below                                                                   errorCan&#39;t use string (&quot;XML::Twig&quot;) as a HASH ref while &quot;strict refs&quot; in use at /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/X&zwnj;&#8203;ML/Parser.pm"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 19, "user_id": 4052908, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a848a50f3bb4c89de36dd0ba04a9984f?s=128&d=identicon&r=PG&f=1", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4052908/bhushan-patil"}, "edited": false, "score": 2, "creation_date": 1444823371, "post_id": 33124029, "comment_id": 54061426, "body": "That&#39;s an entirely different question, and one I can&#39;t answer without some example code. But I&#39;ll point out - 5.8.8 is a really old version of perl too. As a beginning programmer, you don&#39;t do yourself any favours by using an en of life interpreter."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1444823426, "last_edit_date": 1444823426, "creation_date": 1444821846, "answer_id": 33124029, "question_id": 33123836, "link": "https://stackoverflow.com/questions/33123836/how-do-i-take-data-from-a-deeply-nested-structure-based-on-a-value-inside-of-wha/33124029#33124029", "title": "How do I take data from a deeply nested structure based on a value inside of what I want?", "body": "<p>Look, seriously. The reason <code>XML::Simple</code> says:</p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged.</p>\n</blockquote>\n\n<p>Is because this sort of task is actually shockingly easy using an <code>xpath</code> expression. </p>\n\n<p>Guessing slightly at your source XML (give me some sample XML, and I can give you a more precise answer), if <code>requestType</code> is an attribute this would be:</p>\n\n<pre><code>use XML::Twig;\nmy $twig = XML::Twig -&gt; parsefile ('your_stuff.xml'); \nmy $netinf = $twig -&gt; get_xpath('//networkInfo[@requestType=\"1001\"]',0);\n</code></pre>\n\n<p>Or if it's a node and you want all of them:</p>\n\n<pre><code>foreach my $requestType ( $twig -&gt; get_xpath('//networkInfo/requestType') ) {\n    print $requestType -&gt; text;\n}\n</code></pre>\n\n<p>With that data structure above, we aren't talking about an XML problem, we're talking about a data structure traversal problem. And your data structure is big and complicated. </p>\n\n<p>If you want to go down that road, then the trick is - count the brackets in <code>Data::Dumper</code>, because they tell you when you're getting a hash(ref) or an array(ref).</p>\n\n<p>You can get what you want with:</p>\n\n<pre><code>foreach my $hashref (  @{$VAR1-&gt;{cdr}} ) {\n   print $hashref-&gt;{networkInfo}-&gt;{requestType},\"\\n\";\n}\n</code></pre>\n\n<p>But that is going to be a nuisance to maintain and work with, so for the sake of your future maintenance programmers - don't use <code>XML::Simple</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 3848751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21f562f44f3c28edecab9cbe5442329?s=128&d=identicon&r=PG&f=1", "display_name": "Sergun_spb", "link": "https://stackoverflow.com/users/3848751/sergun-spb"}, "is_accepted": false, "score": 1, "last_activity_date": 1444823286, "last_edit_date": 1444823286, "creation_date": 1444822673, "answer_id": 33124284, "question_id": 33123836, "link": "https://stackoverflow.com/questions/33123836/how-do-i-take-data-from-a-deeply-nested-structure-based-on-a-value-inside-of-wha/33124284#33124284", "title": "How do I take data from a deeply nested structure based on a value inside of what I want?", "body": "<p>Maybe you need count of elements?</p>\n\n<pre><code>my @elems = grep { 1001 == $_ }\n            map { $_-&gt;{networkInfo}-&gt;{requestType} }\n            @{ $VAR1-&gt;{cdr} };\nmy $count = scalar @elems;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4052908, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a848a50f3bb4c89de36dd0ba04a9984f?s=128&d=identicon&r=PG&f=1", "display_name": "Bhushan Patil", "link": "https://stackoverflow.com/users/4052908/bhushan-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1444823426, "creation_date": 1444821273, "last_edit_date": 1444821805, "question_id": 33123836, "link": "https://stackoverflow.com/questions/33123836/how-do-i-take-data-from-a-deeply-nested-structure-based-on-a-value-inside-of-wha", "title": "How do I take data from a deeply nested structure based on a value inside of what I want?", "body": "<p>I have this datastructure:</p>\n\n<pre><code>$VAR1 = {\n          'cdr' =&gt; [\n                   {\n                     'networkInfo' =&gt; {\n                                      'extPayer' =&gt; '50351851444',\n                                      'eventSource' =&gt; 'J@nus',\n                                      'sequenceNumber' =&gt; '0',\n                                      'connectionId' =&gt; '0050351851444',\n                                      'payer' =&gt; '50351851444',\n                                      'status' =&gt; '1',\n                                      'mvnoId' =&gt; '2',\n                                      'currentStatus' =&gt; '2',\n                                      'eventReferenceNumber' =&gt; '1510141545000003101',\n                                      'sessionId' =&gt; '1510143920000000011',\n                                      'errorCode' =&gt; '0',\n                                      'previousStatus' =&gt; '1',\n                                      'eventDateTime' =&gt; '20151014154533',\n                                      'requestType' =&gt; '51',\n                                      'actionDateTime' =&gt; '20151014154533',\n                                      'exponent' =&gt; '-6'\n                                    },\n                     'payerInfo' =&gt; {\n                                    'newPayerStatus' =&gt; '2',\n                                    'noOfPayerValidity' =&gt; '0',\n                                    'prevPayerStatus' =&gt; '1',\n                                    'noOfWalletsUsed' =&gt; '0',\n                                    'baseWalletBalance' =&gt; '0'\n                                  },\n                     'pricedInfo' =&gt; {\n                                     'totalUsedUnits' =&gt; '0',\n                                     'taxingOptionUsed' =&gt; '0',\n                                     'totalSalePrice' =&gt; '0',\n                                     'totalTax' =&gt; '0',\n                                     'totalCostPrice' =&gt; '0',\n                                     'chargeSummary' =&gt; {\n                                                        'dimensionSummary' =&gt; {\n                                                                              'dimensionId' =&gt; '0',\n                                                                              'componentSummary' =&gt; {\n                                                                                                    'totalSalePrice' =&gt; '0',\n                                                                                                    'totalCostPrice' =&gt; '0',\n                                                                                                    'componentId' =&gt; '0',\n                                                                                                    'totalDiscountAmount' =&gt; '0',\n                                                                                                    'bucketsUsed' =&gt; '0'\n                                                                                                  }\n                                                                            }\n                                                      },\n                                     'totalDiscountAmount' =&gt; '0',\n                                     'bucketsUsed' =&gt; '0'\n                                   }\n                   },\n                   {\n                     'networkInfo' =&gt; {\n                                      'extPayer' =&gt; '50351851444',\n                                      'eventSource' =&gt; 'J@nus',\n                                      'sequenceNumber' =&gt; '0',\n                                      'connectionId' =&gt; '0050351851444',\n                                      'payer' =&gt; '50351851444',\n                                      'status' =&gt; '1',\n                                      'mvnoId' =&gt; '2',\n                                      'currentStatus' =&gt; '2',\n                                      'eventReferenceNumber' =&gt; '1510141545000003101',\n                                      'sessionId' =&gt; '1510143920000000021',\n                                      'errorCode' =&gt; '0',\n                                      'previousStatus' =&gt; '2',\n                                      'eventDateTime' =&gt; '20151014154535',\n                                      'requestType' =&gt; '53',\n                                      'actionDateTime' =&gt; '20151014154535',\n                                      'exponent' =&gt; '-6'\n                                    },\n                     'payerInfo' =&gt; {\n                                    'newPayerStatus' =&gt; '2',\n                                    'noOfPayerValidity' =&gt; '0',\n                                    'prevPayerStatus' =&gt; '2',\n                                    'noOfWalletsUsed' =&gt; '0',\n                                    'baseWalletBalance' =&gt; '0'\n                                  },\n                     'pricedInfo' =&gt; {\n                                     'totalUsedUnits' =&gt; '0',\n                                     'taxingOptionUsed' =&gt; '0',\n                                     'totalSalePrice' =&gt; '0',\n                                     'totalTax' =&gt; '0',\n                                     'totalCostPrice' =&gt; '0',\n                                     'chargeSummary' =&gt; {\n                                                        'dimensionSummary' =&gt; {\n                                                                              'dimensionId' =&gt; '0',\n                                                                              'componentSummary' =&gt; {\n                                                                                                    'totalSalePrice' =&gt; '0',\n                                                                                                    'totalCostPrice' =&gt; '0',\n                                                                                                    'componentId' =&gt; '0',\n                                                                                                    'totalDiscountAmount' =&gt; '0',\n                                                                                                    'bucketsUsed' =&gt; '0'\n                                                                                                  }\n                                                                            }\n                                                      },\n                                     'totalDiscountAmount' =&gt; '0',\n                                     'bucketsUsed' =&gt; '0'\n                                   }\n                   },\n                   {\n                     'networkInfo' =&gt; {\n                                      'extPayer' =&gt; '50351851444',\n                                      'eventSource' =&gt; 'J@nus',\n                                      'sequenceNumber' =&gt; '0',\n                                      'connectionId' =&gt; '0',\n                                      'payer' =&gt; '50351851444',\n                                      'status' =&gt; '1',\n                                      'mvnoId' =&gt; '2',\n                                      'currentStatus' =&gt; '2',\n                                      'eventReferenceNumber' =&gt; '0',\n                                      'sessionId' =&gt; '2015101400000335940',\n                                      'errorCode' =&gt; '0',\n                                      'previousStatus' =&gt; '2',\n                                      'eventDateTime' =&gt; '20151014154540',\n                                      'requestType' =&gt; '3',\n                                      'actionDateTime' =&gt; '20151014154535',\n                                      'exponent' =&gt; '-6',\n                                      'forceDebit' =&gt; '0'\n                                    },\n                     'payerInfo' =&gt; {\n                                    'newPayerStatus' =&gt; '2',\n                                    'noOfPayerValidity' =&gt; '0',\n                                    'prevPayerStatus' =&gt; '2',\n                                    'noOfWalletsUsed' =&gt; '0',\n                                    'baseWalletBalance' =&gt; '9998000000'\n                                  },\n                     'pricedInfo' =&gt; {\n                                     'totalUsedUnits' =&gt; '0',\n                                     'taxingOptionUsed' =&gt; '0',\n                                     'totalSalePrice' =&gt; '0',\n                                     'totalTax' =&gt; '0',\n                                     'totalCostPrice' =&gt; '0',\n                                     'chargeSummary' =&gt; {\n                                                        'dimensionSummary' =&gt; {\n                                                                              'dimensionId' =&gt; '0',\n                                                                              'componentSummary' =&gt; {\n                                                                                                    'totalSalePrice' =&gt; '0',\n                                                                                                    'totalCostPrice' =&gt; '0',\n                                                                                                    'componentId' =&gt; '0',\n                                                                                                    'totalDiscountAmount' =&gt; '0',\n                                                                                                    'bucketsUsed' =&gt; '0'\n                                                                                                  }\n                                                                            }\n                                                      },\n                                     'totalDiscountAmount' =&gt; '0',\n                                     'bucketsUsed' =&gt; '0'\n                                   }\n                   },\n                   {\n                     'networkInfo' =&gt; {\n                                      'extPayer' =&gt; '50351851444',\n                                      'instanceId' =&gt; '0',\n                                      'imei' =&gt; '0',\n                                      'passwordId' =&gt; '0',\n                                      'networkUsageIdentifier' =&gt; '67060224951',\n                                      'ReleaseCause' =&gt; '01144',\n                                      'spendControlId' =&gt; '0',\n                                      'defaultPayer' =&gt; '50351851444',\n                                      'sessionId' =&gt; '1510141545000003101',\n                                      'chargingGroupNumberDiscountPercent' =&gt; '0',\n                                      'errorCode' =&gt; '0',\n                                      'calledPartyAddress' =&gt; '0050399051801',\n                                      'callingPartyAddress' =&gt; '0050351851444',\n                                      'semiAutoCollectClassId' =&gt; '0',\n                                      'destinationZoneCode' =&gt; '1021',\n                                      'requestType' =&gt; '1001',\n                                      'redirectingPartyId' =&gt; '',\n                                      'ApplicationServer' =&gt; '7060261771',\n                                      'chargingGroupDiscountPercent' =&gt; '0',\n                                      'timeZone' =&gt; '+1Q',\n                                      'chargingGroupClass' =&gt; '0',\n                                      'ccRequestType' =&gt; '3',\n                                      'defaultExtPayer' =&gt; '50351851444',\n                                      'carrierCode' =&gt; '',\n                                      'PrefixDialled' =&gt; '',\n                                      'dialingType' =&gt; '99',\n                                      'connectionType' =&gt; '0',\n                                      'mcc' =&gt; '706',\n                                      'locationInfo' =&gt; '2495100001',\n                                      'originalCalledPartyId' =&gt; '',\n                                      'specialNumberClassId' =&gt; '0',\n                                      'eventDateTime' =&gt; '20151014154535',\n                                      'bearerService' =&gt; '0',\n                                      'smscRefernceNumber' =&gt; '',\n                                      'sequenceNumber' =&gt; '0',\n                                      'redirectionInformation' =&gt; '',\n                                      'unitType' =&gt; '0',\n                                      'connectTime' =&gt; '20151014154535',\n                                      'holidayCode' =&gt; '0',\n                                      'imsi' =&gt; '51851444',\n                                      'serviceIdentifier' =&gt; '0',\n                                      'ratingZoneType' =&gt; '1',\n                                      'mscAddress' =&gt; '',\n                                      'enterpriseCall' =&gt; '0',\n                                      'isTollFree' =&gt; '0',\n                                      'specialLocationClassId' =&gt; '0',\n                                      'routingNumber' =&gt; '',\n                                      'eventType' =&gt; '0',\n                                      'payerType' =&gt; '0',\n                                      'connectionId' =&gt; '0050351851444',\n                                      'payer' =&gt; '50351851444',\n                                      'subscriberClass' =&gt; '0',\n                                      'chargingGroupId' =&gt; '0',\n                                      'callReferenceNumber' =&gt; '3031303032303031',\n                                      'mvnoId' =&gt; '2',\n                                      'originatingNetworkId' =&gt; '1021',\n                                      'callType' =&gt; '1',\n                                      'dialDigitId' =&gt; '1041',\n                                      'actionDateTime' =&gt; '20151014154535',\n                                      'callTerminationCause' =&gt; '1',\n                                      'vpnGroupId' =&gt; '0',\n                                      'mnc' =&gt; '02',\n                                      'exponent' =&gt; '-6'\n                                    },\n                     'payerInfo' =&gt; {\n                                    'newPayerStatus' =&gt; '2',\n                                    'noOfPayerValidity' =&gt; '0',\n                                    'prevPayerStatus' =&gt; '2',\n                                    'walletDetails' =&gt; {\n                                                       'walletId' =&gt; '1',\n                                                       'prevWalletBalance' =&gt; '10000000000',\n                                                       'prevExpiryDate' =&gt; '20991231',\n                                                       'expiryFlag' =&gt; '0',\n                                                       'newWalletBalance' =&gt; '9998000000',\n                                                       'newExpiryDate' =&gt; '20991231'\n                                                     },\n                                    'noOfWalletsUsed' =&gt; '1',\n                                    'baseWalletBalance' =&gt; '9998000000'\n                                  },\n                     'pricedInfo' =&gt; {\n                                     'totalUsedUnits' =&gt; '120',\n                                     'totalCostPrice' =&gt; '2000000',\n                                     'bucket' =&gt; {\n                                                 'rateId' =&gt; '1002',\n                                                 'discountPercentage' =&gt; '0',\n                                                 'startUnits' =&gt; '1',\n                                                 'exchangeRate' =&gt; '1000000',\n                                                 'taxFormulaId' =&gt; '1002',\n                                                 'componentId' =&gt; '0',\n                                                 'taxWalletId' =&gt; '1',\n                                                 'currencyRateId' =&gt; '1',\n                                                 'discountArticleId' =&gt; '1001',\n                                                 'walletId' =&gt; '1',\n                                                 'salePrice' =&gt; '2000000',\n                                                 'discountAmount' =&gt; '0',\n                                                 'TaxDetail' =&gt; {\n                                                                'Tax' =&gt; {\n                                                                         'amount' =&gt; '0',\n                                                                         'count' =&gt; '1',\n                                                                         'article' =&gt; '1009'\n                                                                       }\n                                                              },\n                                                 'usedUnits' =&gt; '120',\n                                                 'endUnits' =&gt; '120',\n                                                 'taxApplied' =&gt; '0',\n                                                 'debitedValue' =&gt; '2000000',\n                                                 'costPrice' =&gt; '2000000',\n                                                 'dimensionId' =&gt; '0',\n                                                 'serviceKey' =&gt; '0',\n                                                 'chargeArticleId' =&gt; '1',\n                                                 'tariffId' =&gt; '1026'\n                                               },\n                                     'taxingOptionUsed' =&gt; '0',\n                                     'totalTax' =&gt; '0',\n                                     'totalSalePrice' =&gt; '2000000',\n                                     'chargeSummary' =&gt; {\n                                                        'dimensionSummary' =&gt; {\n                                                                              'dimensionId' =&gt; '0',\n                                                                              'componentSummary' =&gt; {\n                                                                                                    'totalSalePrice' =&gt; '2000000',\n                                                                                                    'totalCostPrice' =&gt; '2000000',\n                                                                                                    'componentId' =&gt; '0',\n                                                                                                    'totalDiscountAmount' =&gt; '0',\n                                                                                                    'bucketsUsed' =&gt; '1'\n                                                                                                  }\n                                                                            }\n                                                      },\n                                     'bucketsUsed' =&gt; '1',\n                                     'totalDiscountAmount' =&gt; '0'\n                                   }\n                   }\n                 ]\n        };\n</code></pre>\n\n<p>I want to retrieve <code>requestType</code> from every <code>networkInfo</code> parameter. We have 3 to 4 network info parameter, I want to retrieve only <code>requestType=1001</code>. How can I achieve this? </p>\n\n<p>I am using XML::Simple and I want to stick with that only.</p>\n"}, {"tags": ["perl", "perl-module", "xml-twig", "xdp-pdf"], "answers": [{"comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1444818955, "post_id": 33123009, "comment_id": 54058758, "body": "Replaced <code>$twig-&gt;flush;</code> with <code>$twig-&gt;print</code>. That also threw output to STDOUT."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1444819009, "post_id": 33123009, "comment_id": 54058790, "body": "OK. Can you check your XML::Twig version?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1444819214, "post_id": 33123009, "comment_id": 54058902, "body": "It&#39;s <code>3.49</code> which is the latest version."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1444819248, "post_id": 33123009, "comment_id": 54058929, "body": "Ah, no I see the problem! it&#39;s how <code>parsefile_inplace</code> works. Editing answer."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1444819594, "post_id": 33123009, "comment_id": 54059136, "body": "The documentation isn&#39;t particularly clear on that one, I know. A quick rummage through the source helped me figure out what was happening."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1444819818, "post_id": 33123009, "comment_id": 54059265, "body": "Strange that your code is giving empty testdata.xdp file."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1444819974, "post_id": 33123009, "comment_id": 54059369, "body": "I don&#39;t have your source data. Could you try putting a <code>flush</code> in the handler?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1444819998, "last_edit_date": 1444819998, "creation_date": 1444818795, "answer_id": 33123009, "question_id": 33122929, "link": "https://stackoverflow.com/questions/33122929/xmltwig-inplace-editing/33123009#33123009", "title": "XML::Twig - Inplace editing", "body": "<p>The problem here is - <code>parsefile_inplace</code> works as a standalone thing. It replaces the source file immediately after the <code>parse</code> operation is complete.</p>\n\n<p>So to use it like that, you need to do your 'work' within <code>twig_handlers</code>. If you do this, it'll parse/modify/overwrite. </p>\n\n<p>E.g.:</p>\n\n<pre><code>sub insert_after_all {\n    my ( $twig, $element ) = @_;\n    my $eblg= new XML::Twig::Elt( 'testing', localtime);\n    $eblg-&gt;paste( 'last_child', $element);\n    $twig -&gt; flush;\n}\n\nmy $twig =  XML::Twig-&gt;new(pretty_print =&gt; 'indented', \n                      twig_handlers =&gt; { '_all_' =&gt; \\&amp;insert_after_all } );\n my $file = 'testdata.xdp';\n $twig-&gt;parsefile_inplace($file, '.bak');\n</code></pre>\n\n<p>Otherwise - rename the source, and <code>print {$new_fh} $twig -&gt; sprint;</code></p>\n"}], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 33123009, "answer_count": 1, "score": 3, "last_activity_date": 1444819998, "creation_date": 1444818554, "question_id": 33122929, "link": "https://stackoverflow.com/questions/33122929/xmltwig-inplace-editing", "title": "XML::Twig - Inplace editing", "body": "<p>I'm trying to append timestamp at the end of xdp file. I am using <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\">XML::Twig</a>. On running the script timestamp (<code>&lt;testing&gt;4619314911532861&lt;/testing&gt;</code>) gets added at the end but the output is coming on STDOUT instead of <code>testdata.xdp</code>. What am I missing?</p>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig=XML::Twig-&gt;new(pretty_print =&gt; 'indented');\nmy $file = 'testdata.xdp';\n$twig-&gt;parsefile_inplace($file, '.bak');\nmy $root= $twig-&gt;root;\nmy @children= $root-&gt;children;\n\nforeach my $child (@children){\n    my $eblg= new XML::Twig::Elt( 'testing', localtime);\n    $eblg-&gt;paste( 'last_child', $child);\n}\n\n$twig-&gt;flush; \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444817438, "post_id": 33122263, "comment_id": 54057697, "body": "Your naming is a bit unlucky. The name of your <i>package</i> is everything after the <code>package</code> keyword. The name of the <i>module</i> usually is the same. All parts of the package name but the right-most part are commonly referred to as <i>namespace</i> when talking about CPAN. There is a <code>Data</code> namespace that has several different modules in it, like <code>Data::Dumper</code>, <code>Data::Printer</code> and <code>Data::Dump</code>."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1444817362, "last_edit_date": 1444817362, "creation_date": 1444817052, "answer_id": 33122390, "question_id": 33122263, "link": "https://stackoverflow.com/questions/33122263/getting-wrong-argument-value-when-trying-to-call-a-subroutine-using-packagename/33122390#33122390", "title": "Getting wrong argument value when trying to call a subroutine using PackageName::ModuleName-&gt;subroutine(&quot;xyz&quot;)in perl", "body": "<p>Because of the way you're calling it via <code>-&gt;</code>.</p>\n\n<p>When you do this, perl passes extra arguments, so you can make a constructor (<code>new</code>).</p>\n\n<p>E.g.</p>\n\n<pre><code> my $thing = Package::Module -&gt; new(); \n</code></pre>\n\n<p>The first argument passed is the class, so you can use that for a <code>bless</code>. See:\n<a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"nofollow\"><code>perlootut</code></a></p>\n\n<p>E.g. </p>\n\n<pre><code>sub new { \n    my ( $class, @args ) = @_;\n    my $self = {};\n    bless ( $self, $class ); \n}\n</code></pre>\n\n<p>This also applies when you call an instantiated object:</p>\n\n<pre><code>$thing -&gt; do_something(); \n</code></pre>\n\n<p>It passes a reference to <code>$self</code> as the first argument. </p>\n\n<pre><code>sub do_something { \n    my ( $self, @args ) = @_;\n    print \"Got args of @args\\n\";\n    $self -&gt; {firstarg} = shift ( @args ); \n}\n</code></pre>\n\n<p>If you want to do that, try instead:</p>\n\n<pre><code>PackageName::ModuleName::callMe(\"test\"); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1444817185, "creation_date": 1444817185, "answer_id": 33122442, "question_id": 33122263, "link": "https://stackoverflow.com/questions/33122263/getting-wrong-argument-value-when-trying-to-call-a-subroutine-using-packagename/33122442#33122442", "title": "Getting wrong argument value when trying to call a subroutine using PackageName::ModuleName-&gt;subroutine(&quot;xyz&quot;)in perl", "body": "<p>You are calling a function as a class method with <code>Foo::Bar-&gt;frobnicate(@args)</code>. In that case, Perl will do the following things because of the arrow <code>-&gt;</code>:</p>\n\n<ul>\n<li>check what's on the left of the arrow\n\n<ul>\n<li>if it's <code>blessed</code>, find the package (e.g. <code>$q</code> is package <code>CGI</code>)</li>\n<li>if it's not blessed, assume it's a package (e.g. <code>Foo::Bar</code>)</li>\n</ul></li>\n<li>within that package namespace, find a sub with the name on the right of the arrow (e.g. <code>frobnicate</code>)</li>\n<li>call that sub and pass what's on the left of the arrow as the <strong>first argument</strong></li>\n</ul>\n\n<p>Now it looks like this:</p>\n\n<pre><code>Foo::Bar::frobnicate('Foo::Bar', @args);\n</code></pre>\n\n<p>In frobnicate, you have to deal with that:</p>\n\n<pre><code>sub frobnicate {\n  my ($class, @args) = @_;\n  # ...\n}\n</code></pre>\n\n<p>That's typically done in a <code>new</code>, which is the most likely use of a <em>class method</em>.</p>\n\n<p>If you don't want to deal with it, call the sub directly in its namespace, and not with the arrow notation.</p>\n\n<pre><code>my $rv = Foo::Bar::frobnicate(@args);\n</code></pre>\n"}], "owner": {"reputation": 201, "user_id": 3214392, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/89930c4708c47d189943f834c88f6b89?s=128&d=identicon&r=PG&f=1", "display_name": "user3214392", "link": "https://stackoverflow.com/users/3214392/user3214392"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1444817362, "creation_date": 1444816700, "question_id": 33122263, "link": "https://stackoverflow.com/questions/33122263/getting-wrong-argument-value-when-trying-to-call-a-subroutine-using-packagename", "title": "Getting wrong argument value when trying to call a subroutine using PackageName::ModuleName-&gt;subroutine(&quot;xyz&quot;)in perl", "body": "<p>When trying to call a subroutine (defined in a user defined module) in other perl file, getting wrong argument value</p>\n\n<pre><code>#moduleName.pm\n\npackage PackageName::moduleName;\nuse strict;\nuse warnings;\nuse base 'Exporter';\n\nsub callMe{\n    my($readArg)=(@_);\n    print $readArg;\n }\n\n\n#test.pl\n\nuse strict;\nuse warnings;\nuse FindBin;                 # locate this script\nuse lib 'path to parent directory';  # use the parent directory\nuse PackageName::moduleName;\n\nif( my $temp=PackageName::moduleName-&gt;callMe(\"test\")){\n    print\" True : $temp\\n\";\n}\n</code></pre>\n\n<p>The function prints value of $temp as  : PackageName::moduleName</p>\n\n<p>Not able to figure out why.</p>\n\n<p>P.S. I have to maintain same convention while calling the subroutine</p>\n"}, {"tags": ["perl", "ubuntu", "perlbrew"], "comments": [{"owner": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "edited": false, "score": 2, "creation_date": 1444813396, "post_id": 33120957, "comment_id": 54054994, "body": "Can you report the output of <code>which perl</code> and <code>sudo which perl</code>?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1444813442, "post_id": 33120957, "comment_id": 54055031, "body": "<a href=\"http://gugod.org/2010/12/a-shared-perlbrew-root-for-multiple-users/\" rel=\"nofollow noreferrer\">gugod.org/2010/12/a-shared-perlbrew-root-for-multiple-users</a>"}, {"owner": {"reputation": 129, "user_id": 2651923, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3498c6bd45a0a61d87b11006a0897f0b?s=128&d=identicon&r=PG", "display_name": "s_m", "link": "https://stackoverflow.com/users/2651923/s-m"}, "reply_to_user": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "edited": false, "score": 0, "creation_date": 1444813836, "post_id": 33120957, "comment_id": 54055307, "body": "@SebastianRedl <code>which perl</code> results <code>&#47;home&#47;xxxx&#47;perl5&#47;perlbrew&#47;perls&#47;perl-5.22.0&#47;bin&#47;perl</code> and <code>sudo which perl</code> is <code>&#47;usr&#47;bin&#47;perl</code>. How can I force to use <code>perl v5.22.0</code> for both <code>perl</code> and <code>sudo perl</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444846749, "post_id": 33120957, "comment_id": 54077050, "body": "You want: <code>sudo `which perl` -v</code>"}, {"owner": {"reputation": 83, "user_id": 3745552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9918dee92bb212a3549c1cb52adc5d85?s=128&d=identicon&r=PG&f=1", "display_name": "doomsday", "link": "https://stackoverflow.com/users/3745552/doomsday"}, "edited": false, "score": 0, "creation_date": 1444855637, "post_id": 33120957, "comment_id": 54082165, "body": "@s_m The easiest way to do that is to not rely on &#39;perl&#39; as a command-line alias for /usr/bin/perl (or anything else) and use absolute paths. So do <code>sudo &#47;home&#47;xxx&#47;......&#47;bin&#47;perl -v</code> and it won&#39;t look in root&#39;s path for which version of perl to use, it will use the version you explicitly specified, using it&#39;s absolute path."}], "owner": {"reputation": 129, "user_id": 2651923, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3498c6bd45a0a61d87b11006a0897f0b?s=128&d=identicon&r=PG", "display_name": "s_m", "link": "https://stackoverflow.com/users/2651923/s-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "closed_date": 1444813704, "answer_count": 0, "score": 1, "last_activity_date": 1444813237, "creation_date": 1444813237, "question_id": 33120957, "link": "https://stackoverflow.com/questions/33120957/why-sudo-perl-and-perl-execute-different-perl-version", "closed_reason": "Duplicate", "title": "Why &quot;sudo perl&quot; and &quot;perl&quot; execute different perl version?", "body": "<p>Ubuntu 14 came with <code>perl v5.18.2</code>, but I would like to test my program with <code>perl v5.22.0</code> which is installed through <code>perlbrew</code> and then <code>perlbrew switch perl-5.22.0</code> to use the version I want.</p>\n\n<p>After switch to <code>perl v5.22.0</code>, I have tried to test my program with <code>sudo</code> but why it is executed in default <code>perl v5.18.2</code>? </p>\n\n<blockquote>\n  <p><code>perl -v</code>: result\n  <a href=\"https://i.stack.imgur.com/OC1X8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OC1X8.png\" alt=\"enter image description here\"></a></p>\n  \n  <p><code>sudo perl -v</code> : result\n  <a href=\"https://i.stack.imgur.com/9NB8s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9NB8s.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n"}, {"tags": ["perl", "dos", "putty"], "comments": [{"owner": {"reputation": 4677, "user_id": 519348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TIdre.jpg?s=128&g=1", "display_name": "TZHX", "link": "https://stackoverflow.com/users/519348/tzhx"}, "edited": false, "score": 0, "creation_date": 1444810918, "post_id": 33120135, "comment_id": 54053449, "body": "If you set up a &quot;saved&quot; connection that does what you want, you get more options, and can specify it on the command line with <code>putty -load [connection name]</code>"}, {"owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "reply_to_user": {"reputation": 4677, "user_id": 519348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TIdre.jpg?s=128&g=1", "display_name": "TZHX", "link": "https://stackoverflow.com/users/519348/tzhx"}, "edited": false, "score": 0, "creation_date": 1444811106, "post_id": 33120135, "comment_id": 54053530, "body": "It needs to be a universal method so that I won&#39;t need to save any sessions prior to running it. That&#39;s why I&#39;m using ssh instead of load in the command."}], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "closed_date": 1444812379, "answer_count": 0, "score": 0, "last_activity_date": 1444810774, "creation_date": 1444810774, "question_id": 33120135, "link": "https://stackoverflow.com/questions/33120135/send-command-to-putty-windows", "closed_reason": "Duplicate", "title": "Send command to Putty (Windows)", "body": "<p>I need to send Putty a command after I do the following:</p>\n\n<pre><code>Putty.exe -ssh HOST@ADDRESS_1\n</code></pre>\n\n<p>Due to issues with ADDRESS_2 I can't access it directly after launching Putty. Instead I need to do the following after launching Putty:</p>\n\n<pre><code>ssh HOST@ADDRESS_2\n</code></pre>\n\n<p>Then I can get to ADDRESS_2.</p>\n\n<p>Is there a way to send a command for putty to run after it launches. I looked up and putty does have a -m switch, however I was unable to get it to work on my Windows system. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 2, "creation_date": 1444810560, "post_id": 33119604, "comment_id": 54053268, "body": "time() gives you seconds since the epoch. Do you actually get minutes since the epoch in <code>$endTime</code> or what kind of a value is that?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444845981, "post_id": 33119604, "comment_id": 54076562, "body": "<code>time</code> is the number of seconds since the unix epoch. <code>$endTime</code> is the number of minutes since/of what?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1482313579, "post_id": 33119604, "comment_id": 69719561, "body": "Do you want to round the difference to a number of minutes or do you first want to round the timestamps and then take the difference?"}], "answers": [{"tags": [], "owner": {"reputation": 1394, "user_id": 374430, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a514f98553e973af17194ca8ac368603?s=128&d=identicon&r=PG", "display_name": "FSp", "link": "https://stackoverflow.com/users/374430/fsp"}, "is_accepted": false, "score": 0, "last_activity_date": 1444809607, "creation_date": 1444809607, "answer_id": 33119794, "question_id": 33119604, "link": "https://stackoverflow.com/questions/33119604/how-to-get-timestamp-in-minutes-using-perl/33119794#33119794", "title": "How to get timestamp in minutes using Perl", "body": "<p>I see two possible solutions:</p>\n\n<ul>\n<li><p>you can multiply <code>$endTime</code> by the milliseconds in a minute (i.e. <code>$endTime = $endTime * 60000</code>) and later compare it with <code>time()</code> as you are doing</p></li>\n<li><p>you can take the integer division of <code>time()</code> by the milliseconds in a minute (i.e. <code>if (floor(time() / 60000) &lt; $endTime) ...</code>). As long as I know, you need to <code>use POSIX</code> in order to use <code>floor</code></p></li>\n</ul>\n\n<p>The first would be my favourite option.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1444814507, "post_id": 33119822, "comment_id": 54055771, "body": "But you probably want to call that variable <code>$time_min</code> :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444814758, "post_id": 33119822, "comment_id": 54055951, "body": "The OP is making some strange claims, so I would be inclined to make sure that he means what he says before blindly tagging along"}], "tags": [], "owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "is_accepted": true, "score": 3, "last_activity_date": 1482146874, "last_edit_date": 1495540418, "creation_date": 1444809662, "answer_id": 33119822, "question_id": 33119604, "link": "https://stackoverflow.com/questions/33119604/how-to-get-timestamp-in-minutes-using-perl/33119822#33119822", "title": "How to get timestamp in minutes using Perl", "body": "<p><code>time()</code> gives you the time since the epoch <a href=\"http://perldoc.perl.org/functions/time.html\" rel=\"nofollow noreferrer\">in seconds</a>.</p>\n\n<p>If you want to have minutes, you can use this:</p>\n\n<pre><code>my $time_min = int(time() / 60);\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/users/7231/dave-cross\">David Cross</a> justly emphasizes that using <code>int()</code> always rounds down. Alternatives include:</p>\n\n<ul>\n<li><code>my $time_sec = sprintf '%.0f', time() / 60;</code> (Note: uses <a href=\"https://en.wikipedia.org/wiki/Rounding#Round_half_to_even\" rel=\"nofollow noreferrer\">\"half-to-even\"</a> rounding)</li>\n<li>use <a href=\"http://search.cpan.org/~grommel/Math-Round-0.07/Round.pm\" rel=\"nofollow noreferrer\"><code>Math::Round</code></a></li>\n<li>as <a href=\"https://stackoverflow.com/users/374430/fsp\">FSp</a> suggested, use <a href=\"http://search.cpan.org/~shay/perl-5.20.3/ext/POSIX/lib/POSIX.pod\" rel=\"nofollow noreferrer\"><code>POSIX</code>'</a> <code>floor()</code> or <code>ceil()</code></li>\n</ul>\n"}], "owner": {"reputation": 325, "user_id": 4319705, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/02641c38b0ade4dc43beecea4aaf1888?s=128&d=identicon&r=PG&f=1", "display_name": "Venkatesh", "link": "https://stackoverflow.com/users/4319705/venkatesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 903, "favorite_count": 0, "accepted_answer_id": 33119822, "answer_count": 2, "score": 1, "last_activity_date": 1482146874, "creation_date": 1444808974, "question_id": 33119604, "link": "https://stackoverflow.com/questions/33119604/how-to-get-timestamp-in-minutes-using-perl", "title": "How to get timestamp in minutes using Perl", "body": "<p>I am using Perl for time comparison.</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint $fh \"End Time : $endTime \";    \nprint $fh \"Before if loop : \", time();    \n # time() gives current time timestamp    \n            if ( time() &lt; $endTime ) {    \n             print $fh \"Inside if loop : \", time();    \n             $exitValue = 11;    \n               }    \n</code></pre>\n\n<p>Currently, i am using  <code>if ( time() &lt; $endTime )</code>. Here, <code>time()</code> gives timestamp in millisecomds but i get <code>$endTime</code> as timestamp in minutes.</p>\n\n<p>I want to compare timestamp in munutes.</p>\n\n<p>How do i get timestamp in minutes?</p>\n"}, {"tags": ["java", "perl", "security", "encryption"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4027156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-S4UbVf7ADOA/AAAAAAAAAAI/AAAAAAAAAEc/AJgamQAmuR0/photo.jpg?sz=128", "display_name": "manjunatha citragar", "link": "https://stackoverflow.com/users/4027156/manjunatha-citragar"}, "edited": false, "score": 0, "creation_date": 1444813239, "post_id": 33119639, "comment_id": 54054874, "body": "But the problem is i don&#39;t have access to modify perl script."}, {"owner": {"reputation": 472, "user_id": 2473158, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7c4f0e0e3941fc17d36772cc3529009?s=128&d=identicon&r=PG&f=1", "display_name": "Marco S.", "link": "https://stackoverflow.com/users/2473158/marco-s"}, "reply_to_user": {"reputation": 41, "user_id": 4027156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-S4UbVf7ADOA/AAAAAAAAAAI/AAAAAAAAAEc/AJgamQAmuR0/photo.jpg?sz=128", "display_name": "manjunatha citragar", "link": "https://stackoverflow.com/users/4027156/manjunatha-citragar"}, "edited": false, "score": 0, "creation_date": 1444832520, "post_id": 33119639, "comment_id": 54067926, "body": "For testing the Perl md5 try this online <a href=\"https://code.hackerearth.com/c4681er?key=ab626d9b100a40b5040001360a1dcb50\" rel=\"nofollow noreferrer\">script</a>: put your input in $data and press &#39;Compile and Run&#39; button"}, {"owner": {"reputation": 41, "user_id": 4027156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-S4UbVf7ADOA/AAAAAAAAAAI/AAAAAAAAAEc/AJgamQAmuR0/photo.jpg?sz=128", "display_name": "manjunatha citragar", "link": "https://stackoverflow.com/users/4027156/manjunatha-citragar"}, "edited": false, "score": 0, "creation_date": 1444888060, "post_id": 33119639, "comment_id": 54092098, "body": "Hi Marco, do u know any java equivalent api for perl method Digest::MD5 md5($data)  i.e which returns binary output and how do i compare the output of perl md5 and java md5 output?"}, {"owner": {"reputation": 472, "user_id": 2473158, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7c4f0e0e3941fc17d36772cc3529009?s=128&d=identicon&r=PG&f=1", "display_name": "Marco S.", "link": "https://stackoverflow.com/users/2473158/marco-s"}, "reply_to_user": {"reputation": 41, "user_id": 4027156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-S4UbVf7ADOA/AAAAAAAAAAI/AAAAAAAAAEc/AJgamQAmuR0/photo.jpg?sz=128", "display_name": "manjunatha citragar", "link": "https://stackoverflow.com/users/4027156/manjunatha-citragar"}, "edited": false, "score": 0, "creation_date": 1444908002, "post_id": 33119639, "comment_id": 54103666, "body": "If this answer helps you don&#39;t forget accept it as correct"}], "tags": [], "owner": {"reputation": 472, "user_id": 2473158, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7c4f0e0e3941fc17d36772cc3529009?s=128&d=identicon&r=PG&f=1", "display_name": "Marco S.", "link": "https://stackoverflow.com/users/2473158/marco-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1444902482, "last_edit_date": 1495535228, "creation_date": 1444809110, "answer_id": 33119639, "question_id": 33118752, "link": "https://stackoverflow.com/questions/33118752/output-of-perl-digestmd5-md5data-and-java-messagedigest-getinstancemd5/33119639#33119639", "title": "Output of perl Digest::MD5 md5($data) and java MessageDigest.getInstance(&quot;MD5&quot;).digest($data) are different", "body": "<p>1) Convert the Perl md5 from <a href=\"http://blog-en.openalfa.com/how-to-work-with-binary-data-in-a-perl-script\" rel=\"nofollow noreferrer\">byte to hex</a></p>\n\n<p>2) Convert the Java md5 from byte to hex (<a href=\"https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\">examples here</a>)</p>\n\n<p>3) Compare the outputs</p>\n\n<p>This is the Java code for the MD5 and convertion in Hex:</p>\n\n<pre><code>import java.security.MessageDigest;\n\n\npublic class HelloWorld\n{\n  public static void main(String[] args)\n  {\n\n    System.out.println(\"Start\");\n\n    String res=MD5(\"35799510369\");\n\n    System.out.print(\"res:\"+res);\n\n  }\n\n public static String MD5( String source ) {\n        try {\n            MessageDigest md = MessageDigest.getInstance( \"MD5\" );\n            byte[] bytes = md.digest( source.getBytes(\"UTF-8\") );\n            return getString( bytes );\n        } catch( Exception e )  {\n            e.printStackTrace();\n            return null;\n        }\n    }//end MD5()\n\n    private static String getString( byte[] bytes ) {\n        StringBuffer sb = new StringBuffer();\n        for( int i=0; i&lt;bytes.length; i++ )\n        {\n            byte b = bytes[ i ];\n            String hex = Integer.toHexString((int) 0x00FF &amp; b);\n            if (hex.length() == 1)\n            {\n                sb.append(\"0\");\n            }\n            sb.append( hex );\n        }\n        return sb.toString();\n    }// end getString()\n</code></pre>\n\n<p>Copy and Paste the previus code in <a href=\"http://www.compilejava.net/\" rel=\"nofollow noreferrer\">this online compiler</a> and press COMPILE AND EXECUTE; next compare this output with the <a href=\"https://code.hackerearth.com/c4681er?key=ab626d9b100a40b5040001360a1dcb50\" rel=\"nofollow noreferrer\">Perl md5 online script</a> output. </p>\n\n<hr>\n\n<p>For input=35799510369</p>\n\n<ul>\n<li>Perl output:</li>\n</ul>\n\n<p>Md5 digest is .S&lt;\u00eb_\u00bbX\u00b3\u00ebE&amp;\u00e2\u00ae</p>\n\n<p>The hexadecimal representation of the digest is: 012e533c9aeb5f96bb58b3eb4526e2ae</p>\n\n<ul>\n<li>Java output:</li>\n</ul>\n\n<p>res:012e533c9aeb5f96bb58b3eb4526e2ae</p>\n\n<p>Good luck</p>\n"}], "owner": {"reputation": 41, "user_id": 4027156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-S4UbVf7ADOA/AAAAAAAAAAI/AAAAAAAAAEc/AJgamQAmuR0/photo.jpg?sz=128", "display_name": "manjunatha citragar", "link": "https://stackoverflow.com/users/4027156/manjunatha-citragar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1444902482, "creation_date": 1444806367, "question_id": 33118752, "link": "https://stackoverflow.com/questions/33118752/output-of-perl-digestmd5-md5data-and-java-messagedigest-getinstancemd5", "title": "Output of perl Digest::MD5 md5($data) and java MessageDigest.getInstance(&quot;MD5&quot;).digest($data) are different", "body": "<p>I have a perl script which uses Digest::MD5 md5($data) to obtain the 16 byte digest(which is in non readable form - binary) and this digest is used to encrypt the data.\nNow i have to reverse the above procedure in java i.e first i need to obtain 16 byte digest using MessageDigest.getInstance(\"MD5\").digest($data) and decrypt the message.</p>\n\n<blockquote>\n  <p>Now i am not sure that output digest of perl Digest::MD5 md5($data) and java digest MessageDigest.getInstance(\"MD5\").digest($data) are same or not how do i validate this scenario.</p>\n</blockquote>\n"}, {"tags": ["json", "perl", "encoding", "utf-8"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1444802209, "post_id": 33117623, "comment_id": 54048840, "body": "<a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1444806974, "post_id": 33117623, "comment_id": 54051132, "body": "Are your strings UTF-8 encoded or do they just containt Unicode characters?"}, {"owner": {"reputation": 495, "user_id": 1332321, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/483486498d35358bfec570d92f16bd15?s=128&d=identicon&r=PG", "display_name": "Davs", "link": "https://stackoverflow.com/users/1332321/davs"}, "edited": false, "score": 0, "creation_date": 1444827474, "post_id": 33117623, "comment_id": 54064178, "body": "already UTF-8 encoded"}], "answers": [{"tags": [], "owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "is_accepted": false, "score": 1, "last_activity_date": 1444806903, "creation_date": 1444806903, "answer_id": 33118934, "question_id": 33117623, "link": "https://stackoverflow.com/questions/33117623/perl-serialize-utf8-encoded-data-with-json/33118934#33118934", "title": "Perl serialize UTF8 encoded data with JSON", "body": "<p>See <a href=\"http://search.cpan.org/~mlehmann/JSON-XS-3.01/XS.pm#ENCODING/CODESET_FLAG_NOTES\" rel=\"nofollow\">perldoc for Json::XS</a>:</p>\n\n<blockquote>\n  <p><strong>utf8 flag disabled</strong></p>\n  \n  <p>When utf8 is disabled (the default), then encode/decode generate and expect Unicode strings, that is, characters with high ordinal\n  Unicode values (> 255) will be encoded as such characters, and\n  likewise such characters are decoded as-is, no changes to them will be\n  done, except \"(re-)interpreting\" them as Unicode codepoints or Unicode\n  characters, respectively (to Perl, these are the same thing in strings\n  unless you do funny/weird/dumb stuff).</p>\n  \n  <p>This is useful when you want to do the encoding yourself (e.g. when you want to have UTF-16 encoded JSON texts) or when some other\n  layer does the encoding for you (for example, when printing to a\n  terminal using a filehandle that transparently encodes to UTF-8 you\n  certainly do NOT want to UTF-8 encode your data first and have Perl\n  encode it another time). </p>\n  \n  <p><strong>utf8 flag enabled</strong></p>\n  \n  <p>If the utf8-flag is enabled, encode/decode will encode all characters using the corresponding UTF-8 multi-byte sequence, and will\n  expect your input strings to be encoded as UTF-8, that is, no\n  \"character\" of the input string must have any value > 255, as UTF-8\n  does not allow that.</p>\n  \n  <p>The utf8 flag therefore switches between two modes: disabled means you will get a Unicode string in Perl, enabled means you get an UTF-8\n  encoded octet/binary string in Perl.</p>\n</blockquote>\n"}], "owner": {"reputation": 495, "user_id": 1332321, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/483486498d35358bfec570d92f16bd15?s=128&d=identicon&r=PG", "display_name": "Davs", "link": "https://stackoverflow.com/users/1332321/davs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 605, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444806903, "creation_date": 1444802078, "question_id": 33117623, "link": "https://stackoverflow.com/questions/33117623/perl-serialize-utf8-encoded-data-with-json", "title": "Perl serialize UTF8 encoded data with JSON", "body": "<p>I am a bit confused after reading the docs of JSON::XS. My question is: how can I encode/decode data, which are already in UTF8? calling encode_json seems to double encode them. I would like to create a JSON from a hash, which contains UTF8 encoded strings as well as decode JSON into a hash while keeping data UTF8 encoded. Is it possible, or do I need to mannually Encode::decode_utf8/encode_utf8 the data myself?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1444798348, "post_id": 33116615, "comment_id": 54047545, "body": "Although your question is a bit clear from title still you should try adding the description in English."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1444807453, "post_id": 33116615, "comment_id": 54051408, "body": "Maybe you should try <code>qx&#39;df &#47;&#39;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1444797150, "creation_date": 1444797150, "answer_id": 33116689, "question_id": 33116615, "link": "https://stackoverflow.com/questions/33116615/how-to-run-the-command-df-and-add-the-space-available-in-perl/33116689#33116689", "title": "How to run the command df and add the space available in perl?", "body": "<p>Try running <code>Filesys::Df</code>.  <a href=\"http://search.cpan.org/~iguthrie/Filesys-Df-0.92/Df.pm\" rel=\"nofollow\">perldoc Filesys::Df</a></p>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 3, "last_activity_date": 1444799255, "creation_date": 1444799255, "answer_id": 33117011, "question_id": 33116615, "link": "https://stackoverflow.com/questions/33116615/how-to-run-the-command-df-and-add-the-space-available-in-perl/33117011#33117011", "title": "How to run the command df and add the space available in perl?", "body": "<p>See <a href=\"http://search.cpan.org/~iguthrie/Filesys-DfPortable-0.85/DfPortable.pm\" rel=\"nofollow\">Filesys::DfPortable</a>.</p>\n\n<blockquote>\n  <p>The module should work with all versions of Windows (95 and up), and\n  with all flavors of Unix that implement the statvfs or the statfs\n  calls. This would include Linux, *BSD, HP-UX, AIX, Solaris, Mac OS X,\n  Irix, Cygwin, etc ...</p>\n</blockquote>\n\n<p>Synopsis:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Filesys::DfPortable;\n\nmy $ref = dfportable(\"/\", 1024); # Display output in 1K blocks\nif(defined($ref)) {\n print\"Total 1k blocks: $ref-&gt;{blocks}\\n\";\n print\"Total 1k blocks free: $ref-&gt;{bfree}\\n\";\n print\"Total 1k blocks avail to me: $ref-&gt;{bavail}\\n\";\n print\"Total 1k blocks used: $ref-&gt;{bused}\\n\";\n print\"Percent full: $ref-&gt;{per}\\n\"\n} \n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5443462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d13a9ae230d4205798c3440f1d65d47b?s=128&d=identicon&r=PG&f=1", "display_name": "limberg aguirre", "link": "https://stackoverflow.com/users/5443462/limberg-aguirre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1597961573, "creation_date": 1444796707, "last_edit_date": 1597961573, "question_id": 33116615, "link": "https://stackoverflow.com/questions/33116615/how-to-run-the-command-df-and-add-the-space-available-in-perl", "title": "How to run the command df and add the space available in perl?", "body": "<p>I have a question on how to make a Perl script where I run the <code>df</code> command and add the space available field. Is there something like the Python command in Perl?</p>\n<pre><code>a = commands.getstatusoutput ( &quot;df /&quot;)\n</code></pre>\n"}, {"tags": ["perl", "encoding", "utf-8", "cp1251"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1444794176, "post_id": 33116228, "comment_id": 54046500, "body": "What exactly is your input format? Can it contain any special sequences other than backslash + octal number?"}, {"owner": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "edited": false, "score": 0, "creation_date": 1444796934, "post_id": 33116228, "comment_id": 54047145, "body": "When you <code>pack</code> you have to escape the escape. The input should be <code>&quot;\\\\320\\\\300\\\\304\\\\310\\\\323\\\\321 \\\\316\\\\320\\\\300\\\\312\\\\313&quot;</code> Also if you want the space, you need to use the octal space char (040), <code>&quot;\\\\320\\\\300\\\\304\\\\310\\\\323\\\\321\\\\040\\\\316\\\\320\\\\300\\\\312\\\\31&zwnj;&#8203;3&quot;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444799499, "post_id": 33116228, "comment_id": 54047877, "body": "You say your third example is <i>&quot;not what I need&quot;</i> but the string is identical to the first example which you say is correct except that you have removed the space. What exactly is wrong with it?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444799665, "post_id": 33116228, "comment_id": 54047941, "body": "Does this work? <code>($str = shift) =~ s&#47;\\\\([0-7]+)&#47;chr oct $1&#47;eg</code>"}, {"owner": {"reputation": 33, "user_id": 5443338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114aa0cfc64f24e896ffdd8a87061370?s=128&d=identicon&r=PG&f=1", "display_name": "Voland Kem", "link": "https://stackoverflow.com/users/5443338/voland-kem"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444807983, "post_id": 33116228, "comment_id": 54051746, "body": "@melpomene input format is string in utf-8, but this string contains of symbols from <a href=\"https://en.wikipedia.org/wiki/Windows-1251\" rel=\"nofollow noreferrer\">Windows-1251 table</a>"}, {"owner": {"reputation": 33, "user_id": 5443338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114aa0cfc64f24e896ffdd8a87061370?s=128&d=identicon&r=PG&f=1", "display_name": "Voland Kem", "link": "https://stackoverflow.com/users/5443338/voland-kem"}, "reply_to_user": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "edited": false, "score": 0, "creation_date": 1444808759, "post_id": 33116228, "comment_id": 54052250, "body": "@JRD It does not work because it&#39;s just a string, not correct symbols in cp1251. At first it must be converted to symbols."}, {"owner": {"reputation": 33, "user_id": 5443338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114aa0cfc64f24e896ffdd8a87061370?s=128&d=identicon&r=PG&f=1", "display_name": "Voland Kem", "link": "https://stackoverflow.com/users/5443338/voland-kem"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444808888, "post_id": 33116228, "comment_id": 54052336, "body": "@Borodin In the first example LEN=16, in the third LEN=48. The strings are not identical."}, {"owner": {"reputation": 33, "user_id": 5443338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114aa0cfc64f24e896ffdd8a87061370?s=128&d=identicon&r=PG&f=1", "display_name": "Voland Kem", "link": "https://stackoverflow.com/users/5443338/voland-kem"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444808938, "post_id": 33116228, "comment_id": 54052365, "body": "@Borodin I&#39;ve tried your method. The result is      SV = PVMG(0x13fa7f0) at 0x134d0f0     REFCNT = 1     FLAGS = (SMG,POK,pPOK)     IV = 0     NV = 0     PV = 0x1347970 &quot;\\320\\300\\304\\310\\323\\321 \\316\\320\\300\\312\\313&quot;\\0     CUR = 12     LEN = 16     MAGIC = 0x1358290     MG_VIRTUAL = &amp;PL_vtbl_mglob     MG_TYPE = PERL_MAGIC_regex_global(g)     MG_LEN = -1 If I try to convert it to utf-8 using Encode::from_to($str, &#39;utf-8&#39;, &#39;windows-1251&#39;);, I get     converted: ?????? ?????"}, {"owner": {"reputation": 33, "user_id": 5443338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114aa0cfc64f24e896ffdd8a87061370?s=128&d=identicon&r=PG&f=1", "display_name": "Voland Kem", "link": "https://stackoverflow.com/users/5443338/voland-kem"}, "edited": false, "score": 0, "creation_date": 1444812962, "post_id": 33116228, "comment_id": 54054695, "body": "It&#39;s ugly, but it solves the problem :D      $str = $ARGV[0];     $str = <code>perl -e &#39;print &quot;$str&quot;&#39; | iconv -f windows-1251</code>;     print &quot;converted: $str\\n&quot;;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444813859, "post_id": 33116228, "comment_id": 54055321, "body": "<b><i>&quot;input format is string in utf-8, but this string contains of symbols from Windows-1251 table&quot;</i></b> Are you saying that someone&#39;s typing using backslashes and octal digits to enter a Windows-1251-encoded string on a UTF-8 terminal?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444814171, "post_id": 33116228, "comment_id": 54055524, "body": "Note that your first example <code>Encode::from_to($str, &#39;windows-1251&#39;, &#39;utf-8&#39;)</code> is also wrong, because the result is an <i>encoded byte string</i>. It just so happens that those bytes correspond to UTF-8 encoding, which is what your output device is expecting. But if you try to do character operations on your string (for instance <code>split</code> or <code>substr</code>) then you will find that you&#39;re dealing with individual bytes instead of characters. You just need to skip the <i>reencoding</i> part, and write <code>Encode::decode(&#39;Windows-1251&#39;, $str)</code> which will leave you with a Perl character string"}, {"owner": {"reputation": 33, "user_id": 5443338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114aa0cfc64f24e896ffdd8a87061370?s=128&d=identicon&r=PG&f=1", "display_name": "Voland Kem", "link": "https://stackoverflow.com/users/5443338/voland-kem"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444817799, "post_id": 33116228, "comment_id": 54057945, "body": "@Borodin <b>&quot;Are you saying that someone&#39;s typing using backslashes and octal digits to enter a Windows-1251-encoded string on a UTF-8 terminal?&quot;</b> Yes, you can say so. Freeradius recieves these characters from Oracle, which has cyrillic usernames in cp1251. Thank you for your help :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444825614, "post_id": 33116228, "comment_id": 54062905, "body": "@VolandKem: So does the data from Oracle contain backslashes, or just CP-1251-encoded characters?"}, {"owner": {"reputation": 33, "user_id": 5443338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114aa0cfc64f24e896ffdd8a87061370?s=128&d=identicon&r=PG&f=1", "display_name": "Voland Kem", "link": "https://stackoverflow.com/users/5443338/voland-kem"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444834534, "post_id": 33116228, "comment_id": 54069459, "body": "@Borodin Yes, It contains backslashes and octal digits. One more method to convert characters to cp1251: $str = pack &quot;C*&quot;, map oct()? oct : 32, $ARGV[0] =~ / \\d{3} | \\s /gx;"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1444814431, "last_edit_date": 1444814431, "creation_date": 1444813632, "answer_id": 33121099, "question_id": 33116228, "link": "https://stackoverflow.com/questions/33116228/perl-converting-from-cp1251-to-utf8/33121099#33121099", "title": "Perl: converting from cp1251 to utf8", "body": "<p>It's not clear exactly what input you're getting or where from, or what you want your output to be, but you shouldn't be encoding your data into UTF-8 for use within the program because you want to deal with <em>characters</em> and not encoded bytes. You should just decode it from whatever external encoding is being sent to the program and work with it like that</p>\n\n<p>It sounds like the input is Windows-1251 and the output is UTF-8 (?) and I assume the backslashes are a distraction. There are no backslashes in the file or typed on the keyboard are there? So changing the base to hex for clarity, your input string is like this</p>\n\n<pre><code>\"\\xD0\\xC0\\xC4\\xC8\\xD3\\xD1\\x20\\xCE\\xD0\\xC0\\xCA\\xCB\"\n</code></pre>\n\n<p>and you want to convert it to a Perl character string, do some stuff with it, and print it to the output. If you're on a Linux machine and you want to explicitly decode it from raw input bytes, then you need to write something like this</p>\n\n<pre><code>use utf8;\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse open qw/ :std OUT :encoding(UTF-8) /;\nuse Encode qw/ decode /;\n\nmy $str = \"\\xD0\\xC0\\xC4\\xC8\\xD3\\xD1\\x20\\xCE\\xD0\\xC0\\xCA\\xCB\";\n\n$str = decode('Windows-1251', $str);\n\nsay $str;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>\u0420\u0410\u0414\u0418\u0423\u0421 \u041e\u0420\u0410\u041a\u041b\n</code></pre>\n\n<p>But that's a contrived situation. The string is actually coming from an input stream, so it's better to set the encoding of the stream and forget about manual decoding. You can use <code>binmode</code> if you're reading from STDIN, like this</p>\n\n<pre><code>binmode STDIN, 'encoding(Windows-1251)';\n</code></pre>\n\n<p>and then text input from STDIN will be converted implicitly from Windows-1251-encoded bytes to a character string. Alternatively, if you're opening a file on your own handle, you can put the encoding in the <code>open</code> call</p>\n\n<pre><code>open my $fh, '&lt;:encoding(Windows-1251)', $file or die $!;\n</code></pre>\n\n<p>and then you don't need to add a <code>binmode</code> either</p>\n\n<p>As I said, I've assumed your output is UTF-8, and in the program above the line</p>\n\n<pre><code>use open qw/ :std OUT :encoding(UTF-8) /;\n</code></pre>\n\n<p>sets all <em>output</em> file handles to have a default of UTF-8 encoding. The <code>:std</code> also sets the built-in handles STDOUT and STDERR to UTF-8. If this isn't what you want and you can't figure out how to set it up as you need it then please do ask</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 5391906, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d6vmng6XOXU/AAAAAAAAAAI/AAAAAAAAABY/XdVov0-iKFE/photo.jpg?sz=128", "display_name": "Ekaterina Klishina", "link": "https://stackoverflow.com/users/5391906/ekaterina-klishina"}, "is_accepted": false, "score": 0, "last_activity_date": 1444871464, "creation_date": 1444871464, "answer_id": 33138183, "question_id": 33116228, "link": "https://stackoverflow.com/questions/33116228/perl-converting-from-cp1251-to-utf8/33138183#33138183", "title": "Perl: converting from cp1251 to utf8", "body": "<p>think about this:</p>\n\n<pre><code>$ perl -le 'print length(\"\\320\\300\\304\\310\\323\\321 \\316\\320\\300\\312\\313\")'\n12\n\n$ perl -le 'print length($ARGV[0])' \"\\320\\300\\304\\310\\323\\321 \\316\\320\\300\\312\\313\"\n45\n</code></pre>\n\n<p>here we recieve the number of characters in given string.\npay attention that when string is <em>inside</em> perl script, perl interprets backslashed symbols according to their codes. but if backslashed symbols are outside perl script, the are just <em>shell symbols</em> and shell doesn't interpret them somehow and so you get exactly what you give.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 5443338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114aa0cfc64f24e896ffdd8a87061370?s=128&d=identicon&r=PG&f=1", "display_name": "Voland Kem", "link": "https://stackoverflow.com/users/5443338/voland-kem"}, "is_accepted": false, "score": 0, "last_activity_date": 1444888138, "creation_date": 1444888138, "answer_id": 33140803, "question_id": 33116228, "link": "https://stackoverflow.com/questions/33116228/perl-converting-from-cp1251-to-utf8/33140803#33140803", "title": "Perl: converting from cp1251 to utf8", "body": "<p>A couple of simple methods to convert backslashes and octal digits typed in utf-8 terminal to cp1251:</p>\n\n<pre><code>$str = perl -e 'print \"$ARGV[0]\"' | iconv -f windows-1251;\nprint $str;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$str = pack \"C*\", map oct()? oct : 32, $ARGV[0] =~ / \\d{3} | \\s /gx;\nprint $str;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5443338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114aa0cfc64f24e896ffdd8a87061370?s=128&d=identicon&r=PG&f=1", "display_name": "Voland Kem", "link": "https://stackoverflow.com/users/5443338/voland-kem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3868, "favorite_count": 1, "accepted_answer_id": 33121099, "answer_count": 3, "score": 3, "last_activity_date": 1444888138, "creation_date": 1444793984, "last_edit_date": 1444811538, "question_id": 33116228, "link": "https://stackoverflow.com/questions/33116228/perl-converting-from-cp1251-to-utf8", "title": "Perl: converting from cp1251 to utf8", "body": "<p>I try to convert string to utf8.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Encode qw(encode decode is_utf8);\n$str = \"\\320\\300\\304\\310\\323\\321 \\316\\320\\300\\312\\313\";\nEncode::from_to($str, 'windows-1251', 'utf-8');\nprint \"converted:\\n$str\\n\";\n</code></pre>\n\n<p>And in this case I get what I need:</p>\n\n<pre><code># ./convert.pl\nconverted:\n\u0420\u0410\u0414\u0418\u0423\u0421 \u041e\u0420\u0410\u041a\u041b\n</code></pre>\n\n<p>But if I use external variable:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Encode qw(encode decode is_utf8);\n$str = $ARGV[0];\nEncode::from_to($str, 'windows-1251', 'utf-8');\nprint \"converted:\\n$str\\n\";\n</code></pre>\n\n<p>Nothing happens.</p>\n\n<pre><code># ./convert.pl \"\\320\\300\\304\\310\\323\\321 \\316\\320\\300\\312\\313\"\n converted:\n\\320\\300\\304\\310\\323\\321 \\316\\320\\300\\312\\313\n</code></pre>\n\n<p>This is the dump of the first example:</p>\n\n<pre><code>SV = PV(0x1dceb78) at 0x1ded120\nREFCNT = 1\nFLAGS = (POK,pPOK)\nPV = 0x1de7970 \"\\320\\300\\304\\310\\323\\321 \\316\\320\\300\\312\\313\"\\0\nCUR = 12\nLEN = 16\n</code></pre>\n\n<p>And the second:</p>\n\n<pre><code>SV = PV(0x1c1db78) at 0x1c3c110\nREFCNT = 1\nFLAGS = (POK,pPOK)\nPV = 0x1c5e7e0 \"\\\\320\\\\300\\\\304\\\\310\\\\323\\\\321 \\\\316\\\\320\\\\300\\\\312\\\\313\"\\0\nCUR = 45\nLEN = 48\n</code></pre>\n\n<p>I've tried this method:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Devel::Peek;\n$str = pack 'C*', map oct, $ARGV[0] =~ /\\\\(\\d{3})/g;\nprint Dump ($str);\n\n# ./convert.pl \"\\320\\300\\304\\310\\323\\321 \\316\\320\\300\\312\\313\"\n\nSV = PV(0x1c1db78) at 0x1c3c110\nREFCNT = 1\nFLAGS = (POK,pPOK)\nPV = 0x1c5e7e0 \"\\320\\300\\304\\310\\323\\321\\316\\320\\300\\312\\313\"\\0\nCUR = 11\nLEN = 48\n</code></pre>\n\n<p>But again it's not what I need. Could you help me to get the result like in the first script?</p>\n\n<hr>\n\n<p>After using this</p>\n\n<pre><code>($str = shift) =~ s/\\\\([0-7]+)/chr oct $1/eg\n</code></pre>\n\n<p>as suggested by Borodin, I get this</p>\n\n<pre><code>SV = PVMG(0x13fa7f0) at 0x134d0f0\n  REFCNT = \n  FLAGS = (SMG,POK,pPOK)\n  IV = 0\n  NV = 0\n  PV = 0x1347970 \"\\320\\300\\304\\310\\323\\321 \\316\\320\\300\\312\\313\"\\0\n  CUR = 12\n  LEN = 16\n  MAGIC = 0x1358290 \n    MG_VIRTUAL = &amp;PL_vtbl_mglob\n    MG_TYPE = PERL_MAGIC_regex_global(g)\n    MG_LEN = -1\n</code></pre>\n"}, {"tags": ["perl", "find"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 4811361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17cfdf44215d859e7cf2d5696e26d6f?s=128&d=identicon&r=PG&f=1", "display_name": "Blackthorne", "link": "https://stackoverflow.com/users/4811361/blackthorne"}, "edited": false, "score": 0, "creation_date": 1444793909, "post_id": 33116075, "comment_id": 54046417, "body": "Thanks so much, that fixed it!  I never knew -not wasn&#39;t the standard."}], "tags": [], "owner": {"reputation": 2373, "user_id": 2218718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12e3ba20337c7021f2e115688a681652?s=128&d=identicon&r=PG", "display_name": "cuonglm", "link": "https://stackoverflow.com/users/2218718/cuonglm"}, "is_accepted": true, "score": 1, "last_activity_date": 1444792853, "creation_date": 1444792853, "answer_id": 33116075, "question_id": 33115951, "link": "https://stackoverflow.com/questions/33115951/how-to-use-the-not-switch-with-find2perl-and-filefind/33116075#33116075", "title": "How to use the -not switch with find2perl and File::Find", "body": "<p><code>-not</code> isn't standard option of <code>find</code>, you need to use <code>!</code>:</p>\n\n<pre><code>find2perl . ! \\( -path '*.svn' -prune \\) -print\n</code></pre>\n\n<p>Also note that you must quote <code>*.svn</code> to prevent the shell from performing split+glob on it.</p>\n"}], "owner": {"reputation": 143, "user_id": 4811361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17cfdf44215d859e7cf2d5696e26d6f?s=128&d=identicon&r=PG&f=1", "display_name": "Blackthorne", "link": "https://stackoverflow.com/users/4811361/blackthorne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 33116075, "answer_count": 1, "score": 2, "last_activity_date": 1445009782, "creation_date": 1444792100, "last_edit_date": 1445009782, "question_id": 33115951, "link": "https://stackoverflow.com/questions/33115951/how-to-use-the-not-switch-with-find2perl-and-filefind", "title": "How to use the -not switch with find2perl and File::Find", "body": "<p>Need some help with find2perl.  Originally I was performing the usual:</p>\n\n<pre><code>my @files = `find . | grep -v \"*.svn\"`;\n</code></pre>\n\n<p>This worked well until the source tree grew rather large, causing the above to slow down quite a bit.  So I switched to this:</p>\n\n<pre><code>my @files = `find . -not \\( -path *.svn -prune \\)`;\n</code></pre>\n\n<p>This helped a lot, but over time it too has become rather slow.</p>\n\n<p>I've read here that File::Find should/would be faster than shelling out, but I can't seem to get find2perl to create the $wanted sub-routine reference for me.  It gives me the following error:</p>\n\n<pre><code>find2perl . -not \\( -path *.svn -prune \\) -print\nUnrecognized switch: -not\n</code></pre>\n\n<p>Is there some other way I should be doing this?\nThanks for the help and suggestions.</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1444786061, "post_id": 33115060, "comment_id": 54044498, "body": "Why do you want to do this?  Maybe you want to open a subshell instead and feed commands to that?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1444786162, "post_id": 33115060, "comment_id": 54044515, "body": "If you just want text to appear in a particular terminal window, you can open its tty and send characters to it."}, {"owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1444786646, "post_id": 33115060, "comment_id": 54044618, "body": "I need to be able to run a command on a Putty window which another script launched. I can find the pid of the Putty window but don&#39;t know how to pass in something to it"}, {"owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1444786713, "post_id": 33115060, "comment_id": 54044631, "body": "So I figured if I could be able to run a command on process given a pid, I might get it to work"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1444797622, "post_id": 33115060, "comment_id": 54047306, "body": "You can use AutoHotKey in Windows to send arbitrary text to any window."}, {"owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1444810902, "post_id": 33115060, "comment_id": 54053444, "body": "I need a universal method. I need to check if it&#39;s already installed on the PCs"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "edited": false, "score": 0, "creation_date": 1444814865, "post_id": 33121089, "comment_id": 54056006, "body": "Thanks. That&#39;s a better response. I wonder if there are any IPC modules available for injecting commands to other programs."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "edited": false, "score": 2, "creation_date": 1444816251, "post_id": 33121089, "comment_id": 54056918, "body": "That&#39;s not the way it works. IPC is a consensual process."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1444813607, "creation_date": 1444813607, "answer_id": 33121089, "question_id": 33115060, "link": "https://stackoverflow.com/questions/33115060/send-commands-to-a-process-id-pid/33121089#33121089", "title": "Send commands to a Process ID (PID)", "body": "<p>Short answer is no - processes are complex things, and so injecting arbitrary stuff into them is both difficult and fundamentally at odds with decent system design. </p>\n\n<p>In some specific cases it can be done, but it's not a good idea because you simply don't know the state of the process you're interacting with.</p>\n\n<p>This is why processes have inter-process communication mechanisms - so you can do this safely and rationally. If you don't have an IPC, then you're better off assuming that it simply cannot be done, and look for a less hacky solution to your problem. </p>\n\n<p>Such as - on Unix - you can use <code>write</code> or similar.</p>\n"}], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1444813607, "creation_date": 1444785117, "last_edit_date": 1444794772, "question_id": 33115060, "link": "https://stackoverflow.com/questions/33115060/send-commands-to-a-process-id-pid", "title": "Send commands to a Process ID (PID)", "body": "<p>I have command prompt open and found its pid to be 4422.</p>\n\n<p>Knowing the pid, is it possible to send and a command to this cmd window. How would you make the following appear on the cmd prompt from a Perl script:</p>\n\n<pre><code>echo \"hello world\"\n</code></pre>\n"}, {"tags": ["javascript", "perl", "shell"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1444785034, "post_id": 33114864, "comment_id": 54044252, "body": "You have a race condition on <code>if [ -e $sem ]</code>. What if two processes both see that the file isn&#39;t there?"}, {"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1444786419, "post_id": 33114864, "comment_id": 54044572, "body": "@Karoly im sorry i didnt understand how is this. are you saying that if the process got executed at the same instance? there can only be one .sem file while process is running and at the end of the shell script it will delete this .sem file"}, {"owner": {"reputation": 688, "user_id": 1309909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da0be065aa122bb8d93ac9b6e07ed669?s=128&d=identicon&r=PG", "display_name": "Daniel Flint", "link": "https://stackoverflow.com/users/1309909/daniel-flint"}, "edited": false, "score": 0, "creation_date": 1444787077, "post_id": 33114864, "comment_id": 54044720, "body": "Reaaaaally hope you&#39;re properly sanity/taint checking your inputs, God forbid someone alters the form to submit a division of <code>; rm &#47; -rf</code>..."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1444787432, "post_id": 33114864, "comment_id": 54044785, "body": "@Dren: <a href=\"https://en.wikipedia.org/wiki/Race_condition#Example\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Race_condition#Example</a>"}, {"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "reply_to_user": {"reputation": 688, "user_id": 1309909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da0be065aa122bb8d93ac9b6e07ed669?s=128&d=identicon&r=PG", "display_name": "Daniel Flint", "link": "https://stackoverflow.com/users/1309909/daniel-flint"}, "edited": false, "score": 0, "creation_date": 1444788562, "post_id": 33114864, "comment_id": 54045074, "body": "@Daniel even if someone alters the form i dont think that will be executed. the perl script calling the shell script is passing the variable thru this statement &quot;sh survey/NGPsurvey.sh [lindex $argv 0]&quot; i believe it would just error out, and on the shell script the variable should match a text file that will concatenate its contents."}], "answers": [{"comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1444785370, "post_id": 33114966, "comment_id": 54044329, "body": "This lock only prevents access from the same page. E.g. If you open a new tab or another user connects, it&#39;s gone... The question doesn&#39;t specify whether this is OK, but since he&#39;s trying to do it in the backend, I assume it&#39;s not."}, {"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1444785972, "post_id": 33114966, "comment_id": 54044472, "body": "Unfortunately this answer didnt gave out a javascript alert when I tried and I havent figure out why but it also stopped calling the perlscript entirely."}, {"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1444787833, "post_id": 33114966, "comment_id": 54044885, "body": "@oceanexplorer Appreciate your help in this. The perl script is back running after including the missing comma, however there is still no javascript pop up message even i do the second submit on the same window browser, and i guess this will also not work if i open a different browser and submit the form there while there is still another submit being processed."}, {"owner": {"reputation": 1154, "user_id": 2414446, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/502bb0c59646130b3860804de26e8887?s=128&d=identicon&r=PG", "display_name": "oceanexplorer", "link": "https://stackoverflow.com/users/2414446/oceanexplorer"}, "reply_to_user": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1444789586, "post_id": 33114966, "comment_id": 54045293, "body": "@Dren You are quite right that this is a simple solution that really only prevents the user from submitting the job multiple times. To cover the scenarios of multiple tabs, browsers, users you would have to implement something server side that check if a job is running and if so returns a result to the browser which can they display a message to the user. You could do this using the ajax query you have currently and adapting the server code. To help with the example I gave have a look at this fiddle <a href=\"http://jsfiddle.net/q8Qdb/363/\" rel=\"nofollow noreferrer\">jsfiddle.net/q8Qdb/363</a> which mocks an ajax query lasting 3 seconds."}, {"owner": {"reputation": 1154, "user_id": 2414446, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/502bb0c59646130b3860804de26e8887?s=128&d=identicon&r=PG", "display_name": "oceanexplorer", "link": "https://stackoverflow.com/users/2414446/oceanexplorer"}, "reply_to_user": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1444790032, "post_id": 33114966, "comment_id": 54045381, "body": "@Dren I know nothing of PERL but is your backend code actually return your ajax request when the work is complete? The success function in an ajax query gets called when the request is returned with a status code of 200."}, {"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1444791644, "post_id": 33114966, "comment_id": 54045821, "body": "@oceanexplorer not sure how can i can test ajax status code for that? what i know if it completed successfully because i made the perl script create a text file of the output i need and in turn have a javascript load and display the text file contents  as  \t$(&#39;#check&#39;).hover(function(eIn){ \t\t$(&#39;#survfeedback&#39;).load(&quot;finres.txt&quot;); \t}"}, {"owner": {"reputation": 1154, "user_id": 2414446, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/502bb0c59646130b3860804de26e8887?s=128&d=identicon&r=PG", "display_name": "oceanexplorer", "link": "https://stackoverflow.com/users/2414446/oceanexplorer"}, "reply_to_user": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1444813329, "post_id": 33114966, "comment_id": 54054940, "body": "@Dren In your browser open developer tools (Often F12 key) and look at the network tab, you may need to reload the page. There you will see all request and their status codes. Also in your Ajax call you can bind to an error event should it be failing and get a message"}], "tags": [], "owner": {"reputation": 1154, "user_id": 2414446, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/502bb0c59646130b3860804de26e8887?s=128&d=identicon&r=PG", "display_name": "oceanexplorer", "link": "https://stackoverflow.com/users/2414446/oceanexplorer"}, "is_accepted": false, "score": 0, "last_activity_date": 1444786306, "last_edit_date": 1444786306, "creation_date": 1444784271, "answer_id": 33114966, "question_id": 33114864, "link": "https://stackoverflow.com/questions/33114864/javascript-alert-if-process-is-still-running/33114966#33114966", "title": "javascript alert if process is still running", "body": "<p>I'm not sure if this is what you had in mind, but why not set a variable before your ajax query is sent that says you are processing and change the variable once the processing is finished and returns to the success function of your ajax query.</p>\n\n<pre><code>var processing = false;\n\nfunction surveyFunction(){\n\n    if(processing) {\n        return alert('A survey is still being processed');\n    }\n\n    var div = document.getElementById(\"list\").value;\n\n    $.ajax({\n        type: \"POST\",\n        url: \"possurv.pl\",\n        data: 'division=' + encodeURIComponent(div),\n        beforeSend: function () {\n            processing = true;\n        },\n        success: function() {                \n            processing = false;\n        }\n    });\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1444785256, "post_id": 33115061, "comment_id": 54044305, "body": "This lock only prevents access from the same page. E.g. If you open a new tab or another user connects, it&#39;s gone... The question doesn&#39;t specify whether this is OK, but since he&#39;s trying to do it in the backend, I assume it&#39;s not."}], "tags": [], "owner": {"reputation": 61, "user_id": 5427319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hV1Gj.png?s=128&g=1", "display_name": "Far east", "link": "https://stackoverflow.com/users/5427319/far-east"}, "is_accepted": false, "score": 0, "last_activity_date": 1444785400, "last_edit_date": 1444785400, "creation_date": 1444785121, "answer_id": 33115061, "question_id": 33114864, "link": "https://stackoverflow.com/questions/33114864/javascript-alert-if-process-is-still-running/33115061#33115061", "title": "javascript alert if process is still running", "body": "<p><strong><code>jQuery Deferred</code></strong> or we called <strong><code>Promise</code></strong>:</p>\n\n<blockquote>\n  <p><strong>deferred.always()</strong><br>\n  Add handlers to be called when the Deferred object is either resolved or rejected.</p>\n</blockquote>\n\n<p>Example: <strong><a href=\"http://jsfiddle.net/zguwnvwq/\" rel=\"nofollow\">JSFIDDLE</a></strong></p>\n\n<p>Document: <strong><a href=\"https://api.jquery.com/category/deferred-object/\" rel=\"nofollow\">Deferred Object</a></strong>   and   <strong><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow\">Promise</a></strong></p>\n\n<pre><code>var lock = false;\nfunction surveyFunction() {\n    if (lock) {\n        console.debug('please wait');\n        return false;\n    }\n    lock = true;\n    var div = document.getElementById(\"list\").value;\n    return $.ajax({\n        type: \"POST\",\n        url: \"possurv.pl\",\n        data: 'division=' + encodeURIComponent(div)\n    }).always(function () {\n        console.debug('complete');\n        lock = false\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444786306, "creation_date": 1444783502, "question_id": 33114864, "link": "https://stackoverflow.com/questions/33114864/javascript-alert-if-process-is-still-running", "title": "javascript alert if process is still running", "body": "<p>I would like to know if its possible to create a javascript alert that will prompt users that there is previous form submitted and its still being processed or backend script is still running. The runtime process usually takes 2-5 mins.</p>\n\n<p>excerpt of the html code below</p>\n\n<pre><code>            &lt;form id=\"form\" method=\"POST\"&gt;\n            &lt;p id=\"survey\"&gt;\n                &lt;label for=\"list\"&gt;&lt;b&gt;Run survey to check number of NGPOS deployed&lt;/b&gt;&lt;/label&gt;\n            &lt;/p&gt;\n            &lt;p&gt;\n                &lt;label for=\"division\"&gt;Please select division:&lt;/label&gt;\n                &lt;select type=\"list\" id=\"list\" name=\"division\"&gt;\n                    &lt;option&gt;--Select One--&lt;/option&gt;\n                    &lt;option value=\"DENVER\"&gt;Denver&lt;/option&gt;\n                    &lt;option value=\"PHOENIX_SOUTHWEST\"&gt;Phoenix-Southwest&lt;/option&gt;\n                    &lt;option value=\"PORTLAND\"&gt;Portland&lt;/option&gt;\n                    &lt;option value=\"SOUTHERN_HOUSTON\"&gt;Southern-Houston&lt;/option&gt;\n                    &lt;option value=\"NORCAL\"&gt;Norcal&lt;/option&gt;\n                    &lt;option value=\"SEATTLE\"&gt;Seattle&lt;/option&gt;\n                    &lt;option value=\"VONS_SoCal\"&gt;Vons-Socal&lt;/option&gt;\n                    &lt;option value=\"EASTERN\"&gt;Eastern&lt;/option&gt;\n                &lt;/select&gt;\n            &lt;/p&gt;\n            &lt;p id=\"survey\"&gt;\n                &lt;input type=\"submit\" value=\"Run Survey\" onclick=\"surveyFunction();\"/&gt;\n            &lt;/p&gt;\n            &lt;/form&gt;\n</code></pre>\n\n<p>the javascript function is calling a perl script at the backend</p>\n\n<pre><code>function surveyFunction(){\nvar div = document.getElementById(\"list\").value;\n$.ajax({\n    type: \"POST\",\n    url: \"possurv.pl\",\n    data: 'division=' + encodeURIComponent(div),\n});\n}\n</code></pre>\n\n<p>The perl script in turn executes a shell script and I added on the shell script a .sem file to prohibit multiple instances be executed. But the users on the frontend have no way of knowing this.</p>\n\n<p>excerpt of perl script</p>\n\n<pre><code>$div = $FORM{division};\n\n$expect = `./expect.sh $div`;\n</code></pre>\n\n<p>excerpt of shell script</p>\n\n<pre><code>sem=\"${log_path}/pos_survey.sem\"\n\necho $0 \"started.\"\nif [ -e $sem ]\nthen\n  echo $0 \"still running, exiting.\"\n  exit 1\nelse\n  touch $sem\nfi\n</code></pre>\n"}, {"tags": ["regex", "perl", "awk", "grep"], "comments": [{"owner": {"reputation": 1762, "user_id": 197700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5c8cedff094a91e76eec846f30ff2db3?s=128&d=identicon&r=PG", "display_name": "Fiid", "link": "https://stackoverflow.com/users/197700/fiid"}, "edited": false, "score": 0, "creation_date": 1444781699, "post_id": 33114488, "comment_id": 54043501, "body": "Is the problem that you have a text file where the lines begin with dates in the format you specified, such as a logfile, and you want to grep out a particular range?  (Could you edit the question a little bit to be clearer?)  If that is the case, you could do worse than just grepping out &quot;[Oct 13 2015, 16:10:&quot; and dealing with the seconds you don&#39;t want.  Or you can add the necessary regex to make it more specific - something like [16|17|18|19|20]. egrep uses regexes, but you have to work a little bit to escape them to get them past the shell."}], "answers": [{"tags": [], "owner": {"reputation": 3361, "user_id": 5395288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pw0Jz.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5395288/michael"}, "is_accepted": true, "score": -1, "last_activity_date": 1444781128, "creation_date": 1444781128, "answer_id": 33114584, "question_id": 33114488, "link": "https://stackoverflow.com/questions/33114488/need-to-grep-data-between-line-oct-13-2015-161016-and-oct-13-2015-16102/33114584#33114584", "title": "Need to grep data between line [Oct 13 2015, 16:10:16] and [Oct 13 2015, 16:10:20] using grep or awk or perl", "body": "<p>Of course you don't need the regex, you could check equality, but you put regex in your tags...</p>\n\n<pre><code>perl -e '$show=0; while (&lt;STDIN&gt;) { $show = 1 if $_ =~ /^\\[Oct 13 2015, 16:10:16\\]/; print $_ if $show; $show = 0 if $_ =~ /^\\[Oct 13 2015, 16:10:20\\]/; }'  &lt; log\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 1318497, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/243a3a14a3af958f754c6e3a25eafbea?s=128&d=identicon&r=PG", "display_name": "mali184", "link": "https://stackoverflow.com/users/1318497/mali184"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1509958346, "accepted_answer_id": 33114584, "answer_count": 1, "score": -3, "last_activity_date": 1444781154, "creation_date": 1444780483, "question_id": 33114488, "link": "https://stackoverflow.com/questions/33114488/need-to-grep-data-between-line-oct-13-2015-161016-and-oct-13-2015-16102", "closed_reason": "Needs more focus", "title": "Need to grep data between line [Oct 13 2015, 16:10:16] and [Oct 13 2015, 16:10:20] using grep or awk or perl", "body": "<p>I need to grep data between line [Oct 13 2015, 16:10:16] and [Oct 13 2015, 16:10:20] using grep or awk or perl </p>\n\n<p>[Oct 13 2015, 16:10:16]\n  starting script1\n  script1 in progess</p>\n\n<hr>\n\n<hr>\n\n<p>etc</p>\n\n<p>[Oct 13 2015, 16:10:20]\n  starting script2\n  script2 in progess</p>\n\n<hr>\n\n<hr>\n\n<p>etc</p>\n"}, {"tags": ["perl", "shell", "split", "find"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 4, "creation_date": 1444778263, "post_id": 33114034, "comment_id": 54042631, "body": "Sending the entire file to the perl script is almost certainly the most effective way to do this assuming the perl script doesn&#39;t suck the entire input into memory at the start. Anything else trades much more heavily on new processes/etc. than is likely to be saved in runtime memory I would think."}, {"owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1444778831, "post_id": 33114034, "comment_id": 54042786, "body": "My perl script does send the entire file to memory."}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 5, "creation_date": 1444778992, "post_id": 33114034, "comment_id": 54042820, "body": "you&#39;re swapping a desire for memory efficiency with a dead-certain super-high use of CPU. restarting perl to process one line of data, or even 1000 lines of data at a time. And hey, <code>for file in &#47;dev&#47;*</code> ? Are  you sure?! That&#39;s mostly <code>ttys</code> etc, not text. You&#39;ll need to give us more info about the nature of your problem and why you&#39;re approaching it this way. As is, it seems err, well, non-optimal? :-) .... Good luck."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1444779214, "post_id": 33114034, "comment_id": 54042880, "body": "This is almost certainly a terrible idea. How many lines are we talking about here?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1444780842, "post_id": 33114034, "comment_id": 54043292, "body": "And you just need to process the file line-by-line?"}, {"owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "edited": false, "score": 0, "creation_date": 1444783235, "post_id": 33114034, "comment_id": 54043873, "body": "My goal is to process it taking less memory. So, I thought &#39;split&#39; would have been a good idea. Another programmer suggested line iteration, but I don&#39;t understand how to do it, where I use a while statement to count each line. On the 100th or so line, process that batch through the perl script and &gt;&gt; to the output file. So, in not sure which way is the best way."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1444785719, "post_id": 33114034, "comment_id": 54044416, "body": "Sounds like you need to fix your perl script to operate line-by-line or on ranges of lines at a time instead of loading it all into memory. Clearly it can operate in that mode or this entire idea wouldn&#39;t work."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1444790753, "post_id": 33114034, "comment_id": 54045558, "body": "This is absolutely a terrible, terrible idea."}], "answers": [{"comments": [{"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 1, "creation_date": 1444780488, "post_id": 33114395, "comment_id": 54043211, "body": "Up this one. Bash uses kernel buffer which only reads certain amount of lines into memory instead of full file using pure Perl"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1444780549, "post_id": 33114395, "comment_id": 54043229, "body": "You don&#39;t have to read the entire file into memory in Perl, either."}, {"owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "edited": false, "score": 0, "creation_date": 1444789824, "post_id": 33114395, "comment_id": 54045335, "body": "The &gt;&gt; out seems to finally  get output. The problem now is that errors state &quot;Cannot open file: ...&quot; The filepath is correct. I tried chmod 777 on the input file. Any idea why that error would occur?"}, {"owner": {"reputation": 91, "user_id": 5391906, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d6vmng6XOXU/AAAAAAAAAAI/AAAAAAAAABY/XdVov0-iKFE/photo.jpg?sz=128", "display_name": "Ekaterina Klishina", "link": "https://stackoverflow.com/users/5391906/ekaterina-klishina"}, "reply_to_user": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "edited": false, "score": 0, "creation_date": 1444811546, "post_id": 33114395, "comment_id": 54053794, "body": "@envisisoft  Did you use exactly my script (4 lines), or a modified version? For example did you use it as a single shell line of code?"}, {"owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "edited": false, "score": 0, "creation_date": 1445320265, "post_id": 33114395, "comment_id": 54262013, "body": "I used your lines, not a single line of code.  Is yours meant for bash or sh?"}], "tags": [], "owner": {"reputation": 91, "user_id": 5391906, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d6vmng6XOXU/AAAAAAAAAAI/AAAAAAAAABY/XdVov0-iKFE/photo.jpg?sz=128", "display_name": "Ekaterina Klishina", "link": "https://stackoverflow.com/users/5391906/ekaterina-klishina"}, "is_accepted": false, "score": 1, "last_activity_date": 1444779886, "creation_date": 1444779886, "answer_id": 33114395, "question_id": 33114034, "link": "https://stackoverflow.com/questions/33114034/trouble-with-line-iteration-using-while-or-for/33114395#33114395", "title": "Trouble with line iteration using while or for", "body": "<p>try this:</p>\n\n<pre><code>while read line\ndo\n  perl script.pl --script=options \"$line\" &gt;&gt; \"out\"\ndone &lt; input\n</code></pre>\n\n<p>\"out\" is a name of your output file.</p>\n"}, {"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1444790819, "post_id": 33114691, "comment_id": 54045583, "body": "Did you mean <code>..., &quot;&gt;&gt;&quot;, &quot;out&quot;)</code> ?"}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1445108459, "post_id": 33114691, "comment_id": 54186792, "body": "You should write it as <code>while ( my $line = &lt;&gt; ){...}</code>. You should also check the return value of <code>close</code> ( or add a <code>use autodie</code> and remove the <code>open</code> check )"}], "tags": [], "owner": {"reputation": 91, "user_id": 5391906, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d6vmng6XOXU/AAAAAAAAAAI/AAAAAAAAABY/XdVov0-iKFE/photo.jpg?sz=128", "display_name": "Ekaterina Klishina", "link": "https://stackoverflow.com/users/5391906/ekaterina-klishina"}, "is_accepted": false, "score": 4, "last_activity_date": 1444810592, "last_edit_date": 1444810592, "creation_date": 1444782039, "answer_id": 33114691, "question_id": 33114034, "link": "https://stackoverflow.com/questions/33114034/trouble-with-line-iteration-using-while-or-for/33114691#33114691", "title": "Trouble with line iteration using while or for", "body": "<p>also you can process your very big file line by line within perl script without loading the entire file in memory. for that you just need to enclose the text of your current perl script (that i hope doen't read the file in memory any more :) ) with while loop. for example:</p>\n\n<pre><code>my $line;\nwhile ($line = &lt;&gt;) {\n    // your script text here, refering to $line variable instead of param variable\n}\n</code></pre>\n\n<p>and in this perl script you can also write results to output file. say, if result is stored in variable $res, you can do it this way:</p>\n\n<pre><code>open (my $fh, \"&gt;&gt;\", \"out\") or die \"ERROR: $!\"; # opening a file descriptor\nmy $line;\nwhile ($line = &lt;&gt;) {\n    // your script text here, refering to $line variable instead of param variable\n    print $fh $res, \"\\n\"; # writing to file descriptor\n}\nclose $fh; # closing file descriptor\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "is_accepted": true, "score": -2, "last_activity_date": 1445320324, "last_edit_date": 1445320324, "creation_date": 1444798986, "answer_id": 33116969, "question_id": 33114034, "link": "https://stackoverflow.com/questions/33114034/trouble-with-line-iteration-using-while-or-for/33116969#33116969", "title": "Trouble with line iteration using while or for", "body": "<p>I fixed my issue with:</p>\n\n<pre><code>  split -l 100000 input /dev/shm/split/split.input.txt.\n  find /dev/shm/split/ -type f -name '*.txt.* -exec perl script.pl --script=options {} + &gt; output \n</code></pre>\n\n<p>This made my script process the files faster. </p>\n"}], "owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 33116969, "answer_count": 3, "score": 0, "last_activity_date": 1445320324, "creation_date": 1444777399, "question_id": 33114034, "link": "https://stackoverflow.com/questions/33114034/trouble-with-line-iteration-using-while-or-for", "title": "Trouble with line iteration using while or for", "body": "<p>I am trying to process each line in a file through a perl script instead of sending the entire file to the perl script, sending so much data to memory at once.</p>\n\n<p>In a shell script, I began what I thought to be line iteration as follows:</p>\n\n<pre><code>while read line\ndo\n  perl script.pl --script=options \"$line\"\ndone &lt; input\n</code></pre>\n\n<p>When I do this, how do I save the data to an output file >> output?</p>\n\n<pre><code>while read line\ndo\n  perl script.pl --script=options \"$line\"\ndone &lt; input\n&gt;&gt; output\n</code></pre>\n\n<p>If it takes less memory to split the file, then I also had trouble with the for statement</p>\n\n<pre><code>for file in /dev/*\n   do \n       split -l 1000 $file prefix\ndone &lt; input\n## Where do I save the output?\n\nfor file in /dev/out/*\n   do \n      perl script.pl --script=options \n</code></pre>\n\n<p>etc...</p>\n\n<p>Which is the most memory-efficient way to </p>\n"}, {"tags": ["linux", "perl", "https", "operating-system", "lwp-useragent"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444756663, "post_id": 33107551, "comment_id": 54031973, "body": "What version of Net::HTTP do you have? That error message doesn&#39;t even exist in the latest one."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444771014, "post_id": 33107551, "comment_id": 54039841, "body": "Given it&#39;s perl <code>5.10</code> - which is 6 years old and end of life, I&#39;d imagine it&#39;s a not too new version of Net::HTTP either."}, {"owner": {"reputation": 112, "user_id": 1926309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9370687b35da578801a908da85369423?s=128&d=identicon&r=PG", "display_name": "reegan vijay", "link": "https://stackoverflow.com/users/1926309/reegan-vijay"}, "edited": false, "score": 0, "creation_date": 1444800160, "post_id": 33107551, "comment_id": 54048100, "body": "The version of Net::HTTP is 6.03"}, {"owner": {"reputation": 112, "user_id": 1926309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9370687b35da578801a908da85369423?s=128&d=identicon&r=PG", "display_name": "reegan vijay", "link": "https://stackoverflow.com/users/1926309/reegan-vijay"}, "edited": false, "score": 0, "creation_date": 1444800417, "post_id": 33107551, "comment_id": 54048185, "body": "In both servers, I am able to send and receive the web service request in  http (80 port) using LWP::UserAgent. But In https (443 port) only i am facing the problem."}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 1926309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9370687b35da578801a908da85369423?s=128&d=identicon&r=PG", "display_name": "reegan vijay", "link": "https://stackoverflow.com/users/1926309/reegan-vijay"}, "edited": false, "score": 0, "creation_date": 1444890609, "post_id": 33124773, "comment_id": 54093082, "body": "Still it is printing the same. I do not see any difference. Status read failed:  at /usr/share/perl5/Net/HTTP/Methods.pm line 269. 500 Internal error."}], "tags": [], "owner": {"reputation": 91, "user_id": 3848751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21f562f44f3c28edecab9cbe5442329?s=128&d=identicon&r=PG&f=1", "display_name": "Sergun_spb", "link": "https://stackoverflow.com/users/3848751/sergun-spb"}, "is_accepted": false, "score": 0, "last_activity_date": 1445704043, "last_edit_date": 1445704043, "creation_date": 1444824216, "answer_id": 33124773, "question_id": 33107551, "link": "https://stackoverflow.com/questions/33107551/status-read-failed-in-lwp-useragent/33124773#33124773", "title": "Status read failed in LWP Useragent", "body": "<p>Please set <code>$ENV{HTTPS_DEBUG} = 1;</code> and write here what the script prints. </p>\n"}], "owner": {"reputation": 112, "user_id": 1926309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9370687b35da578801a908da85369423?s=128&d=identicon&r=PG", "display_name": "reegan vijay", "link": "https://stackoverflow.com/users/1926309/reegan-vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 927, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1445704043, "creation_date": 1444752535, "question_id": 33107551, "link": "https://stackoverflow.com/questions/33107551/status-read-failed-in-lwp-useragent", "title": "Status read failed in LWP Useragent", "body": "<p>Case 1:\nMy server (accessing remotely does not have internet access) having the connectivity to the remote server in 443 port. Using web service URL, I need to send the web service request and receive the response. I am able to send the request using but unable to receive the response from remote server.\ncode:\nHere is my code which i am using to send and receive the https request using the lwp agent in perl</p>\n\n<pre><code>  use Data::Dumper;\n    use LWP::UserAgent;\n    use HTTP::Status;\n    use HTTP::Response;\n    use HTTP::Request::Common;\n    $ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;\n    $LWPUserAgent = new LWP::UserAgent( 'timeout' =&gt; '20');\n    $LWPUserAgent-&gt;ssl_opts('verify_hostname' =&gt; 0) ;\n    $WEB_URL=\"https://webserviceurl.com/Request?Arg1|Arg2|Arg3|Arg4\";\n    $Response = $LWPUserAgent-&gt;get($WEB_URL);\n    print Dumper $Response ;\n</code></pre>\n\n<p>I printed the response using Data::Dumper and getting below response.</p>\n\n<pre><code> $VAR1 = bless( {\n                   '_content' =&gt; 'Status read failed:  at /usr/share/perl5/Net/HTTP/Methods.pm line 269.',\n                     '_rc' =&gt; 500,\n                     '_headers' =&gt; bless( {\n                                            'client-warning' =&gt; 'Internal response',\n                                            'client-date' =&gt; 'Tue, 13 Oct 2015 15:13:21 GMT',\n                                            'content-type' =&gt; 'text/plain'\n                                          }, 'HTTP::Headers' ),\n                     '_msg' =&gt; 'Status read failed: ',\n                     '_request' =&gt; bless( {\n                                            '_content' =&gt; '',\n                                            '_uri' =&gt; bless( do{\\(my $o = 'https://webserviceurl.com/Request?Arg1%7Arg2%7Arg3%7Arg4')}, 'URI::https' ),\n                                            '_headers' =&gt; bless( {\n                                                                   'user-agent' =&gt; 'libwww-perl/6.04'\n                                                                 }, 'HTTP::Headers' ),\n                                            '_method' =&gt; 'GET'\n                                          }, 'HTTP::Request' )\n                   }, 'HTTP::Response' );\n</code></pre>\n\n<p>I searched more about this in google and i am unable to found any idea about this.\nMy server information are :\nOS - wheezy 7.2 64bit.\nperl 5, version 14, subversion 2 (v5.14.2) built for x86_64-linux-gnu-thread-multi\nLWP::UserAgent - 6.04\nHTTP::Response,HTTP::Status,HTTP::Request::Common versions are - 6.03.\nCase 2: My server (in home and internet access) having the connectivity using my static ip of the internet connection. Using my proxy trying to run the above code with below piece of code.</p>\n\n<p>$LWPUserAgent->proxy('https', '<a href=\"http://192.168.12.10:3128\" rel=\"nofollow\">http://192.168.12.10:3128</a>')  ;</p>\n\n<pre><code>I am able to send and receive the https requests using LWP agent and working fine. \nMy server information are:\nOS - squeeze (6.0.6) 32 bit\nperl, v5.10.1 (*) built for i486-linux-gnu-thread-multi\nLWP::UserAgent - 6.13\nHTTP::Response - 5.836\nHTTP::Status - 5.817\nHTTP::Request::Common - 5.824\n\nI confused of the these things.\n1.OS problem\n2.Package versions problem\n3.whether is it a bug in wheezy \nIf any one can provide me the correct direction to resolve this it would be highly appreciated.\n</code></pre>\n"}, {"tags": ["json", "perl", "dbix-class"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1444748514, "creation_date": 1444748514, "answer_id": 33106086, "question_id": 33105980, "link": "https://stackoverflow.com/questions/33105980/perl-dbixclass-encounterd-object-json/33106086#33106086", "title": "Perl DBIx::Class encounterd Object Json", "body": "<p>It seems <code>$translation-&gt;meaning</code> returns an object. Using <code>0+</code> just returns its address (that's why the numbers are so high).</p>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 3616491, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5c057a7065d579fac3e5b60ec486c73d?s=128&d=identicon&r=PG&f=1", "display_name": "Hansanho", "link": "https://stackoverflow.com/users/3616491/hansanho"}, "edited": false, "score": 1, "creation_date": 1444751073, "post_id": 33106294, "comment_id": 54028687, "body": "I could get the right meaning_id using $translation-&gt;meaning-&gt;meaning_id"}, {"owner": {"reputation": 141, "user_id": 3616491, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5c057a7065d579fac3e5b60ec486c73d?s=128&d=identicon&r=PG&f=1", "display_name": "Hansanho", "link": "https://stackoverflow.com/users/3616491/hansanho"}, "edited": false, "score": 0, "creation_date": 1444751086, "post_id": 33106294, "comment_id": 54028696, "body": "Thanks for your help and editing my post :) have a nice day"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1444749045, "last_edit_date": 1495539888, "creation_date": 1444749045, "answer_id": 33106294, "question_id": 33105980, "link": "https://stackoverflow.com/questions/33105980/perl-dbixclass-encounterd-object-json/33106294#33106294", "title": "Perl DBIx::Class encounterd Object Json", "body": "<p>It's a bit hard without knowing your schema classes, but <a href=\"https://stackoverflow.com/a/33106086/1331451\">@choroba is right</a>. The error message says <code>$translation-&gt;meaning</code> is an instance of <code>TranslationDB::Schema::Result::Language</code>. That's <a href=\"https://metacpan.org/pod/distribution/DBIx-Class/lib/DBIx/Class/Manual/ResultClass.pod\" rel=\"nofollow noreferrer\">explained in DBIx::Class::Manual::ResultClass on CPAN</a>.</p>\n\n<p>I believe there is a relationship to a table called <code>meaning</code>, and when you call <code>$translation-&gt;meaning</code> what you get is a new result class. Instead you need to call <code>$translation-&gt;meaning_id</code>. Actually that would only happen in a <code>join</code>, but your code doesn't look like it does that.</p>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 3616491, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5c057a7065d579fac3e5b60ec486c73d?s=128&d=identicon&r=PG&f=1", "display_name": "Hansanho", "link": "https://stackoverflow.com/users/3616491/hansanho"}, "edited": false, "score": 0, "creation_date": 1444817959, "post_id": 33121281, "comment_id": 54058077, "body": "Thanks mate! Nice explanation! Helped me to understand why this happened! I didnt create this database, but if i will create one i will remeber what you mentioned!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1444818025, "last_edit_date": 1444818025, "creation_date": 1444814161, "answer_id": 33121281, "question_id": 33105980, "link": "https://stackoverflow.com/questions/33105980/perl-dbixclass-encounterd-object-json/33121281#33121281", "title": "Perl DBIx::Class encounterd Object Json", "body": "<p>It looks like there's a relationship between your translation and meaning tables. Probably, the translation table contains a foreign key to the meaning table. If you look in the Result class for your translation class then you will see that relationship defined - it will be called \"meaning\".</p>\n\n<p>As you have that relationship, then DBIC has added a <code>meaning</code> method to your class which retrieves the meaning object that is associated with your translation.</p>\n\n<p>But it appears that the foreign key column in your translation table is also called \"meaning\", so you expect calling the \"meaning\" method gives you the value of the foreign key rather than the associated object. Unfortunately it doesn't work like that. The relationship method overrides the column method.</p>\n\n<p>This is a result of bad naming practices. I recommend that you call the primary key for every table <code>id</code> and the foreign key that links to another table <code>&lt;table_name&gt;_id</code> - so the column in your translation table would be called <code>meaning_id</code>. That way you can distinguish between the value of the key (<code>$translation-&gt;meaning_id</code>) and the associated meaning object (<code>$translation-&gt;meaning</code>).</p>\n\n<p>A work-around you can use if you can't rename columns, is to use the <code>get_column</code> method - <code>$translation-&gt;get_column('meaning')</code>.</p>\n"}], "owner": {"reputation": 141, "user_id": 3616491, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5c057a7065d579fac3e5b60ec486c73d?s=128&d=identicon&r=PG&f=1", "display_name": "Hansanho", "link": "https://stackoverflow.com/users/3616491/hansanho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 33106294, "answer_count": 3, "score": 0, "last_activity_date": 1444818025, "creation_date": 1444748196, "last_edit_date": 1444748537, "question_id": 33105980, "link": "https://stackoverflow.com/questions/33105980/perl-dbixclass-encounterd-object-json", "title": "Perl DBIx::Class encounterd Object Json", "body": "<p>I'm new to Perl and DBIx::Class. </p>\n\n<p>This is how I get my <code>meaning_ids</code> from the table translation where language = 5:</p>\n\n<pre><code>my $translations = $schema -&gt; resultset('Translation')-&gt;search({ language =&gt; '5'});\n</code></pre>\n\n<p>After it I'm trying to push my data from the database into my array data:</p>\n\n<pre><code>while ( my $translation =$translations-&gt;next ) {\n   push  @{ $data }, {\n     meaning_id =&gt;  $translation-&gt; meaning \n   };\n}\n\n$self-&gt;body(encode_json $data ); \n</code></pre>\n\n<p>If I do it like this, I get the following error:</p>\n\n<blockquote>\n  <p>encountered object\n  'TranslationDB::Schema::Result::Language=HASH(0x9707158)', but neither\n  allow_blessed , convert_blessed nor allow_tags settings are enabled\n  (or TO_JSON/FREEZE method missing)</p>\n</blockquote>\n\n<p>But if I do it like that:</p>\n\n<pre><code>while ( my $translation =$translations-&gt;next ) {\n   push  @{ $data }, {\n     meaning_id =&gt; 0+ $translation-&gt; meaning \n   };\n}\n\n$self-&gt;body(encode_json $data ); \n</code></pre>\n\n<p>I don't get the error anymore, but the meaning is not the number out of the database. It's way too big (something like <code>17789000</code>, but only numbers till <code>7000</code> are valid).</p>\n\n<p>Is there an easy way to tell Perl that <code>meaning_id</code> is an INT and not a string?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1444747466, "post_id": 33105607, "comment_id": 54026239, "body": "<code>my @cols = split(&#47;[.\\t]&#47;); </code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1444747603, "post_id": 33105607, "comment_id": 54026328, "body": "Assuming your &#39;col2&#39; isn&#39;t ever going to contain a <code>.</code> of course!"}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1444748346, "post_id": 33105715, "comment_id": 54026856, "body": "If the second column might contain dots, use <code>split &#47;[\\t.]&#47;, $_, 3</code> to never split to more than 3 values."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 6, "last_activity_date": 1444747534, "creation_date": 1444747534, "answer_id": 33105715, "question_id": 33105607, "link": "https://stackoverflow.com/questions/33105607/perl-split-function-using-two-delimiters/33105715#33105715", "title": "perl split function using two delimiters", "body": "<p>You can use a <a href=\"http://perldoc.perl.org/perlrecharclass.html#Bracketed-Character-Classes\" rel=\"noreferrer\"><code>character class</code></a> to encode both possibilities: </p>\n\n<pre><code>split /[.\\t]/; \n</code></pre>\n\n<p>As @Sobrique notes above, you should ensure that <code>.</code> will not ever be in any of your column names before using it as a delimiter.</p>\n\n<p>Example:</p>\n\n<pre><code>say foreach split /[.\\t]/, \"this is some.text that has\\ttwo delimiters\";\nthis is some\ntext that has\ntwo delimiters\n</code></pre>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1966, "favorite_count": 0, "accepted_answer_id": 33105715, "answer_count": 1, "score": 1, "last_activity_date": 1444747534, "creation_date": 1444747238, "question_id": 33105607, "link": "https://stackoverflow.com/questions/33105607/perl-split-function-using-two-delimiters", "title": "perl split function using two delimiters", "body": "<p>I'm reading in a file in Perl and I want to split the values based on two delimiters. </p>\n\n<pre><code>col1        col2\nuc011nbb.2  NM_001039567\nuc004fuo.4  NM_001006120\nuc011nbc.2  NM_001006121\nuc010nwz.3  NM_001006121\n</code></pre>\n\n<p>col 1 and col2 are seperated by tabs, so I normally use this:</p>\n\n<pre><code>my @cols = split(/\\t/); \n</code></pre>\n\n<p>however, I want to split col1 also on '.'. How can I modify my split function for that?</p>\n"}, {"tags": ["xml", "perl", "hash"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1444746761, "post_id": 33105311, "comment_id": 54025729, "body": "Always check parsing result =&gt; <code>my $newconfig = XMLin(..) or die &quot;Can&#39;t parse xml&quot;;</code>"}, {"owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1444746961, "post_id": 33105311, "comment_id": 54025869, "body": "@\u0421\u0443\u0445\u043e\u043927 would you suggest this is a parsing issue as opposed to a code issue?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1444747122, "post_id": 33105311, "comment_id": 54025984, "body": "You wouldn&#39;t have code issue in case you&#39;ve checked parsing result."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444747565, "post_id": 33105311, "comment_id": 54026306, "body": "When working with XML::Simple or similar, I use something like      <code>sub force_list { !defined($_[0]) ? () : ref($_[0]) eq &#39;ARRAY&#39; ? @{ $_[0] } : $_[0] }</code>  Then, you can do      <code>my @supervisors = force_list($newconfig-&gt;{supervisors})        or ...;</code>"}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1445109093, "post_id": 33105311, "comment_id": 54187018, "body": "I am glad that you have <code>use strict;</code> in your code ( or <code>use v5.12;</code>, or something that enables strict mode for you ), this is an excellent example of why it is a good idea even in a production environment."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1445109924, "post_id": 33105311, "comment_id": 54187266, "body": "Please read <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers  my question?</i></a>"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1444747497, "last_edit_date": 1444747497, "creation_date": 1444747093, "answer_id": 33105542, "question_id": 33105311, "link": "https://stackoverflow.com/questions/33105311/cant-use-string-as-a-hash-ref/33105542#33105542", "title": "Can&#39;t use string (&quot;&quot;) as a HASH ref", "body": "<p>An empty element is parsed by <a href=\"http://p3rl.org/XML::Simple\" rel=\"nofollow\">XML::Simple</a> as a reference to an empty hash.</p>\n\n<pre><code>    if ('ARRAY' ne ref $newconfig-&gt;{supervisor}\n        || ! grep 'HASH' ne ref || keys %$_, @{ $newconfig-&gt;{supervisor} }\n    ) {\n</code></pre>\n\n<p>Also, <code>$var eq undef</code> is wrong. Use <a href=\"http://p3rl.org/defined\" rel=\"nofollow\">defined</a> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1444804392, "last_edit_date": 1444804392, "creation_date": 1444754223, "answer_id": 33108061, "question_id": 33105311, "link": "https://stackoverflow.com/questions/33105311/cant-use-string-as-a-hash-ref/33108061#33108061", "title": "Can&#39;t use string (&quot;&quot;) as a HASH ref", "body": "<p>There are two significant issues here. The first is that your test is fundamentally wrong, and the second is that you are probably trying to process malformed XML</p>\n\n<h3>The Test</h3>\n\n<p>Your condition</p>\n\n<pre><code>ref($newconfig-&gt;{'supervisor'}) ne 'ARRAY' &amp;&amp; $newconfig-&gt;{'supervisor'} eq undef\n</code></pre>\n\n<p>is wrong in all sorts of ways</p>\n\n<ul>\n<li><p>You're trying to check whether the hash element is defined by comparing it to <code>undef</code> as if it was a string. You can't do that; you have to use <code>defined</code> instead of <code>eq</code> or <code>==</code></p></li>\n<li><p>You have a <code>&amp;&amp;</code> in there which should be an <code>||</code></p></li>\n<li><p>You must test for definedness <em>first</em> before any other checks make sense</p></li>\n</ul>\n\n<p>If I were you I'd start by extracting the <code>supervisor</code> value from the hash before going any further. It makes your code more concise and simple to read</p>\n\n<pre><code>my $super = $newconfig-&gt;{'supervisor'};\n</code></pre>\n\n<p>You're trying to make sure that the <code>supervisor</code> element is <em>defined</em> and is an array reference. So if you were testing for <em>validity</em> instead of <em>invalidity</em>, and bearing in mind that you must test for definedness <em>first</em> as calling <code>ref $supervisor</code> will raise a warning if <code>$supervisor</code> isn't defined, you'd have</p>\n\n<pre><code>if ( defined $super and ref $super eq 'ARRAY' ) { ... }\n</code></pre>\n\n<p>So you want to negate that condition, and for me the simplest way would be just to use <code>unless</code> instead of <code>if</code></p>\n\n<pre><code>unless ( defined $super and ref $super eq 'ARRAY' ) { ... }\n</code></pre>\n\n<p>But I realise that some people are uncomfortable with <code>unless</code>, and remembering that <code>not ( A and B)</code> is the same as <code>not(A) or not(B)</code> you could write this</p>\n\n<pre><code>if ( not defined $super or ref($super) ne 'ARRAY' ) { ... }\n</code></pre>\n\n<h3>The value of <code>$newconfig</code></h3>\n\n<p>You show hardly any of your code, but I think it's safe to assume that</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't use string (\"\") as a HASH ref\n</code></pre>\n\n<p>refers to <code>$newconfig</code> being undefined, because you're not using anything else as a hash reference in any of the code that you show</p>\n\n<p>That means <code>XMLin</code> is probably returning a null string <code>\"\"</code>, and you should investigate why that could be</p>\n"}], "owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "accepted_answer_id": 33108061, "answer_count": 2, "score": 0, "last_activity_date": 1444804392, "creation_date": 1444746496, "last_edit_date": 1444747319, "question_id": 33105311, "link": "https://stackoverflow.com/questions/33105311/cant-use-string-as-a-hash-ref", "title": "Can&#39;t use string (&quot;&quot;) as a HASH ref", "body": "<pre><code>if(ref($newconfig-&gt;{'supervisor'}) ne 'ARRAY' &amp;&amp; $newconfig-&gt;{'supervisor'} eq undef){\n       warn \"empty set of supers.\";\n       remove_supervisors($self, $id);\n}\n</code></pre>\n\n<p><code>$newconfig</code> is imported <code>XML</code> using <code>XMLin</code> from the <code>XML:Simple</code> library (I know its horrible &amp; i should be using one of the others but its not my decision).\nThe XML typically is structured like so:</p>\n\n<pre><code>&lt;queue&gt;\n   &lt;supervisor&gt;&lt;/supervisor&gt;\n   &lt;supervisor&gt;&lt;/supervisor&gt;\n&lt;/queue&gt;\n</code></pre>\n\n<p>what i'm trying to achieve with the code included above is to execute the <code>remove_supervisors()</code> function when no supervisor stanzas are found. So an XML import of,</p>\n\n<pre><code>&lt;queue&gt;\n&lt;/queue&gt;\n</code></pre>\n\n<p>Every time i try &amp; reference the hash to check, the script fail with the error</p>\n\n<blockquote>\n  <p>Can't use string (\"\") as a HASH ref</p>\n</blockquote>\n\n<p>I've also trued <code>if(!exists $newconfig-&gt;{'supervisor'})</code> which results in the same error.</p>\n\n<p><b>How do i check if the associative index of the object exists?</b></p>\n"}, {"tags": ["perl", "system", "lsf"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1444744769, "post_id": 33104626, "comment_id": 54024158, "body": "Did this work when you tried it? What error did you get?"}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444746490, "post_id": 33104626, "comment_id": 54025522, "body": "the hash is not getting returned, only a reference to the hash."}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444746691, "post_id": 33104626, "comment_id": 54025675, "body": "I looked at the .out file and it says: <code># LSBATCH: User input perl some_other_script.pl BAcIMTIzNDU2NzgECAgIAwIAAAAKBXBlYXJzBgAAAGFwcGxlcwoFcGFzdGUE&zwnj;&#8203;AAAAZmlzaA==</code>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1444745165, "creation_date": 1444745165, "answer_id": 33104843, "question_id": 33104626, "link": "https://stackoverflow.com/questions/33104626/pass-a-hash-object-from-a-perl-script-to-through-bsub-lsf/33104843#33104843", "title": "Pass a hash object from a perl script to through bsub (LSF)", "body": "<p>This is really more a question about <a href=\"https://www-01.ibm.com/support/knowledgecenter/SSETD4_9.1.2/lsf_command_ref/bsub.1.html\" rel=\"nofollow\"><code>bsub</code></a> than <code>perl</code>. Passing arguments via Base64 encoded parameters might do the trick, but actually if your purpose is passing data into the batch processing system, it might be worth using an input file:</p>\n\n<p>If you have a look through the <code>bsub</code> manpage, you'll see: </p>\n\n<blockquote>\n  <p>-i input_file | -is input_file</p>\n</blockquote>\n\n<p>That's probably a better way of handing 'input' to your batch job. </p>\n"}], "owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444745165, "creation_date": 1444744569, "last_edit_date": 1495542148, "question_id": 33104626, "link": "https://stackoverflow.com/questions/33104626/pass-a-hash-object-from-a-perl-script-to-through-bsub-lsf", "title": "Pass a hash object from a perl script to through bsub (LSF)", "body": "<p>This is an extension to my older question: <a href=\"https://stackoverflow.com/questions/33086047/pass-a-hash-object-from-one-perl-script-to-another-using-system\">Pass a hash object from one perl script to another using system</a>. @Sobrique answered my question there. </p>\n\n<p>Now, I want to know if I can pass an hash object to another perl script in the same way as my question above but using <code>bsub</code>.</p>\n\n<p>wrapper script: script1.pl</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Storable qw ( freeze  );\nuse MIME::Base64;\n\nmy %test_hash = (\n    \"fish\"   =&gt; \"paste\",\n    \"apples\" =&gt; \"pears\"\n);\n\nmy $frozen = encode_base64 freeze( \\%test_hash );\nmy ${string} = 'sample1';\n\n# instead of just using system like this\n# system(\"perl\", \"some_other_script.pl\", $frozen);\n# I want to use something like this:\nsystem('bsub','-J',${string},'-o','${string}.out','-e','${string}.err','perl','some_other_script.pl',$frozen);\n</code></pre>\n\n<p>some_other_script.pl</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Storable qw ( thaw );\nuse Data::Dumper;\nuse MIME::Base64;\n\n# should read the imported hash correctly and print it out\nmy ($imported_scalar) = @ARGV; \nprint $imported_scalar;\nmy %param =  %{ thaw (decode_base64 $imported_scalar ) };\nprint $param{'fish'};\nprint \"\\n\";\n</code></pre>\n\n<p>How can I achieve this? Any help would be much appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 2, "creation_date": 1444743807, "post_id": 33103881, "comment_id": 54023436, "body": "Type &#39;how to read a file in perl&#39; into a search engine?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1444743814, "post_id": 33103881, "comment_id": 54023438, "body": "This is covered in the perl introduction: <a href=\"http://perldoc.perl.org/perlintro.html#Files-and-I%2fO\" rel=\"nofollow noreferrer\">perlintro</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444743789, "post_id": 33104052, "comment_id": 54023423, "body": "See also the perl doc <a href=\"http://perldoc.perl.org/perlintro.html#Files-and-I%2fO\" rel=\"nofollow noreferrer\">perlintro</a>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1444743116, "creation_date": 1444743116, "answer_id": 33104052, "question_id": 33103881, "link": "https://stackoverflow.com/questions/33103881/i-want-to-read-a-file-from-a-directory-folder/33104052#33104052", "title": "I want to read a file from a directory folder", "body": "<p>Use the diamond operator to read from an opened file handle:</p>\n\n<pre><code>open my $FH, '&lt;', '/path/to/spool.txt' or die $!;\nwhile (my $line = &lt;$FH&gt;) {\n    print \"I've read: $line\";\n}\nclose $FH;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4922446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5effe008a3d1e925363e53910e74614d?s=128&d=identicon&r=PG&f=1", "display_name": "Lundqvist", "link": "https://stackoverflow.com/users/4922446/lundqvist"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "closed_date": 1445184893, "accepted_answer_id": 33104052, "answer_count": 1, "score": -7, "last_activity_date": 1444743116, "creation_date": 1444742655, "last_edit_date": 1444743061, "question_id": 33103881, "link": "https://stackoverflow.com/questions/33103881/i-want-to-read-a-file-from-a-directory-folder", "closed_reason": "Duplicate", "title": "I want to read a file from a directory folder", "body": "<p>How can i read a file from a folder?</p>\n\n<p>ive tried </p>\n\n<pre><code>open(my $yourhandle, '&lt;', 'spool.txt') \n    or die \"Unable to open file, $!\";\nclose($yourhandle);\n</code></pre>\n\n<p>But that code only opens the file, dont read it :/</p>\n"}, {"tags": ["perl", "date", "parsing"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1444746266, "post_id": 33103620, "comment_id": 54025359, "body": "Check out <a href=\"https://metacpan.org/pod/Regexp::Common::time\" rel=\"nofollow noreferrer\">metacpan.org/pod/Regexp::Common::time</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1444743333, "post_id": 33103916, "comment_id": 54023060, "body": "That&#39;s very close to what I need, the problem is that some of the fields are simple integer values and this recognizes them as being valid timestamps."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1444743666, "post_id": 33103916, "comment_id": 54023328, "body": "Well, integers are either easy or hard. If they&#39;re numerically similar to <code>time()</code> then there&#39;s just no way to tell if it&#39;s an integer the represents the time, or an integer that doesn&#39;t. However you can probably just assume that any value <code>&lt; time() - 365 * 24 * 60 * 60</code> is just a number."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 1, "creation_date": 1444746203, "post_id": 33103916, "comment_id": 54025309, "body": "@Sobrique, the <code>Time::Piece-&gt;strptime()</code> call should be replaced with <code>localtime-&gt;strptime()</code>.  <code>Time::Piece-&gt;strptime()</code> parses dates/times in the UTC/GMT time zone."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1444828177, "post_id": 33103916, "comment_id": 54064683, "body": "@Sobrique I think you might mean <code>or</code> instead of <code>and</code> in your last if statement.  Also is there any particular reason you&#39;re using <code>and</code> instead of <code>&amp;&amp;</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444829560, "post_id": 33103916, "comment_id": 54065680, "body": "Yes, you&#39;re quite right. That should have been an <code>or</code>. And I&#39;m using the word version, because I think it clearer, rather than any specific reason here. (In general, I prefer <code>or</code> unless I need <code>||</code> because of precedence)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1444829572, "last_edit_date": 1444829572, "creation_date": 1444742758, "answer_id": 33103916, "question_id": 33103620, "link": "https://stackoverflow.com/questions/33103620/recognizing-date-strings-in-perl/33103916#33103916", "title": "Recognizing date strings in Perl", "body": "<p>Thinking about the general case - there's just an awful lot of different possible ways you can write a date. That's why most systems just don't, and use a numeric timecode internally, and format date on request. </p>\n\n<p>Not least amongst these is the implicit ambiguity of the digits - by convention US date formats are month/day, but a lot of the rest of the world use day/month. </p>\n\n<p>However, the approach I'd probably go with is - given you <em>do</em> have fields you're trying to process - use something like <code>strptime</code> to parse the date to a time stamp, validate the timestamp (e.g. is it 'sensible' given the data) and if it is, assume that was corrrect.</p>\n\n<p>E.g.:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Time::Piece;\n\nmy @formats = ( '%Y/%m/%d %H:%M:%S', '%d %b %y', );\n\nmy @example_strs = ( '14 Oct 15', '2014/08/22 17:42:33', 'bogus' );\n\n\nforeach my $example_str (@example_strs) {\n    my $timestamp; \n    foreach my $format (@formats) {\n        if ( not defined $timestamp \n             and $timestamp =\n            eval { localtime-&gt;strptime( $example_str, $format ) } )\n        {\n            print \"$example_str converted to $timestamp using $format\\n\";\n        }\n    }\n    print \"Couldn't parse $example_str\" unless $timestamp;\n}\n</code></pre>\n\n<p>You could also add some range checking on <code>$timestamp</code> to ensure the date is sane.</p>\n\n<p>e.g. </p>\n\n<pre><code>if ( $timestamp &lt; time() - 365 * 60 * 60 \n  or $timestamp &gt; time() + 84700 )  {\n   #assume it's invalid. \n}\n</code></pre>\n\n<p>This'll work for integer validation too - but if your integer values are close enough to <code>time()</code> it's impossible to tell the difference. (And statistically speaking it's likely to be keyed to time if it is in that range)</p>\n\n<p>But have a bit of a flick through <a href=\"http://man7.org/linux/man-pages/man3/strftime.3.html\" rel=\"nofollow\"><code>strftime</code></a> to see how many formatting options there are. </p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 33103916, "answer_count": 1, "score": 2, "last_activity_date": 1444829572, "creation_date": 1444741917, "last_edit_date": 1444827985, "question_id": 33103620, "link": "https://stackoverflow.com/questions/33103620/recognizing-date-strings-in-perl", "title": "Recognizing date strings in Perl", "body": "<p>I have a script that is processing a lot of data.  Some of the data fields coming in are dates or timestamps.</p>\n\n<p>When I run into a date/timestamp I need to convert it from the local time to GMT.  Obviously I don't want to attempt this conversion if the field is not a date or timestamp.  The problem is, I don't know what format the date or timestamp field will have.</p>\n\n<hr>\n\n<p><a href=\"http://perldoc.perl.org/Scalar/Util.html\" rel=\"nofollow\"><code>Scalar::Util</code></a> has a <a href=\"http://perldoc.perl.org/Scalar/Util.html#looks_like_number\" rel=\"nofollow\"><code>looks_like_number</code></a> function to determine whether a variable \"Looks like a number\".  Is there any equivalent function for recognizing dates or timestamps?</p>\n"}, {"tags": ["regex", "perl", "perl-hash"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1444748623, "post_id": 33101977, "comment_id": 54027063, "body": "You&#39;re missing an <code>=</code> sign."}], "answers": [{"comments": [{"owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "edited": false, "score": 0, "creation_date": 1444737617, "post_id": 33102092, "comment_id": 54018964, "body": "I have updated my question."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "edited": false, "score": 1, "creation_date": 1444737838, "post_id": 33102092, "comment_id": 54019121, "body": "OK. You&#39;re looking for matches in your keys - the tool for the job is <code>grep</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1444737809, "last_edit_date": 1444737809, "creation_date": 1444737433, "answer_id": 33102092, "question_id": 33101977, "link": "https://stackoverflow.com/questions/33101977/check-if-pattern-exists-in-a-keys-of-hash/33102092#33102092", "title": "Check if pattern exists in a keys of hash", "body": "<p><code>exists</code> tells you if a key exists. <code>$hash{$key}</code> gives you the value, so you can test it. </p>\n\n<p>If you're looking to test multiple values against a regex (such as they keys of a hash) then the tool for the job is <code>grep</code>;</p>\n\n<pre><code>my @matches = grep { /\\d+_\\w+/ } keys %hash_table;\nprint @matches;\n</code></pre>\n\n<p>Whilst we're at it - turn on <code>use strict;</code> and <code>use warnings;</code>. It'll help in the long run. </p>\n"}, {"comments": [{"owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "edited": false, "score": 0, "creation_date": 1444737603, "post_id": 33102103, "comment_id": 54018958, "body": "I have updated my question."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "edited": false, "score": 0, "creation_date": 1444737821, "post_id": 33102103, "comment_id": 54019110, "body": "Your pattern is the key, and in Perl above is the way to check key exists in a hash or not."}, {"owner": {"reputation": 151, "user_id": 6789640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-sd-gziWy5zY/AAAAAAAAAAI/AAAAAAAAAA4/VvBp8ca_v-E/photo.jpg?sz=128", "display_name": "Jeffrey Tackett", "link": "https://stackoverflow.com/users/6789640/jeffrey-tackett"}, "edited": false, "score": 0, "creation_date": 1494802406, "post_id": 33102103, "comment_id": 74969037, "body": "The above solution will cause vivification.  May not matter, but generally isn&#39;t a great idea when dealing with hashes."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1444737465, "creation_date": 1444737465, "answer_id": 33102103, "question_id": 33101977, "link": "https://stackoverflow.com/questions/33101977/check-if-pattern-exists-in-a-keys-of-hash/33102103#33102103", "title": "Check if pattern exists in a keys of hash", "body": "<p>You can check like this:</p>\n\n<pre><code>if (exists $hash_table{$12_someidentifier})\n{\n        print $12_someidentifier, \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 0, "closed_date": 1444752628, "accepted_answer_id": 33102092, "answer_count": 2, "score": -1, "last_activity_date": 1444737809, "creation_date": 1444737062, "last_edit_date": 1444737565, "question_id": 33101977, "link": "https://stackoverflow.com/questions/33101977/check-if-pattern-exists-in-a-keys-of-hash", "closed_reason": "Duplicate", "title": "Check if pattern exists in a keys of hash", "body": "<p>I have a hash of following pattern</p>\n\n<pre><code>my %hash_table(\n     23                =&gt; someintegertype,\n     type              =&gt; somestringtype,\n     12_someidentifier =&gt; someveryproblematictype\n);\n</code></pre>\n\n<p>How do I check if pattern that <code>12_someidentifier</code> key follows exists in the hash or not? If so, I need to know the value in the form of <code>true</code> or <code>false</code>.</p>\n\n<p>::UPDATE::\nI wanted to check if the regex or pattern such as  <code>{[\\d]_[\\w+]}</code> exists or not?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444736255, "post_id": 33101569, "comment_id": 54018033, "body": ":Looks like you&#39;re reading XML there. Are you?"}, {"owner": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444736518, "post_id": 33101569, "comment_id": 54018207, "body": "yup, to search the string and the files i used one ini file."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444737068, "post_id": 33101569, "comment_id": 54018584, "body": "Then you really shouldn&#39;t use a regex. Treat XML as XML, not plain text."}, {"owner": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444737297, "post_id": 33101569, "comment_id": 54018736, "body": "please help me with the script i am not getting what your saying"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444736203, "post_id": 33101610, "comment_id": 54018000, "body": "And whilst you&#39;re at it - don&#39;t forget to add <code>use strict;</code> and <code>use warnings;</code>."}, {"owner": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444736365, "post_id": 33101610, "comment_id": 54018097, "body": "i tried with these but still not working."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444736425, "post_id": 33101610, "comment_id": 54018143, "body": "Do you still get the same errors?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444736630, "post_id": 33101610, "comment_id": 54018296, "body": "@Arun What means &quot;not working&quot;?"}, {"owner": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444736732, "post_id": 33101610, "comment_id": 54018364, "body": "./heartbeat.pl: my:  not found ./heartbeat.pl: $/: is not an identifier     --- its showing this type of error."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444736815, "post_id": 33101610, "comment_id": 54018427, "body": "@Arun Which suggestion you choose?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444736934, "post_id": 33101610, "comment_id": 54018501, "body": "Those are exactly the errors you would get if you run this scriping a shell - either by copy-pasting, or using <code>&#47;bin&#47;sh</code> as your shell."}, {"owner": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444736961, "post_id": 33101610, "comment_id": 54018515, "body": "#!&lt;path_to_perl&gt;/perl------heartbeat.pl: line 2: my: command not found"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1444737228, "post_id": 33101610, "comment_id": 54018691, "body": "you have changed &lt;path_to_perl&gt; with the correct path?"}, {"owner": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444737547, "post_id": 33101610, "comment_id": 54018910, "body": "yes............................."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444737661, "post_id": 33101610, "comment_id": 54018998, "body": "@Arun and if you call the script with <code>perl .&#47;heartbeat.pl</code>?"}, {"owner": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444737927, "post_id": 33101610, "comment_id": 54019204, "body": "i only used  ./heartbeat.pl.....now i used perl ./heartbeat.pl and its working now without any errors...If any error i will comment here."}, {"owner": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444738037, "post_id": 33101610, "comment_id": 54019288, "body": "How to execute the script step by step ? is there any specific command ?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444738221, "post_id": 33101610, "comment_id": 54019397, "body": "@Arun Maybe tis helps: <a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldebug.html</a>"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1444738253, "post_id": 33101610, "comment_id": 54019416, "body": "The looks like you have an error in your path if you use this <code>#!&lt;path_to_perl&gt;&#47;perl</code>"}, {"owner": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "edited": false, "score": 0, "creation_date": 1444738935, "post_id": 33101610, "comment_id": 54019934, "body": "i am checking out Jens."}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 1, "last_activity_date": 1444736017, "creation_date": 1444736017, "answer_id": 33101610, "question_id": 33101569, "link": "https://stackoverflow.com/questions/33101569/i-am-getting-the-error-while-calling-the-path-from-below-script-and-the-error-sh/33101610#33101610", "title": "I am getting the error while calling the path from below script and the error shown above", "body": "<p>Call your script with <code>perl ./heartbeat.pl</code> or add <code>#!&lt;path_to_perl&gt;/perl</code> at the first line of your script</p>\n\n<p>If you not do it, the system call you program as a shell command</p>\n"}], "owner": {"reputation": 11, "user_id": 5395687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWJIB.jpg?s=128&g=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/5395687/arun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "closed_date": 1444752404, "answer_count": 1, "score": -1, "last_activity_date": 1444736189, "creation_date": 1444735865, "last_edit_date": 1444736189, "question_id": 33101569, "link": "https://stackoverflow.com/questions/33101569/i-am-getting-the-error-while-calling-the-path-from-below-script-and-the-error-sh", "closed_reason": "Duplicate", "title": "I am getting the error while calling the path from below script and the error shown above", "body": "<p>I am getting the error while calling the path from below script and the error shown above.</p>\n\n<p>./heartbeat.pl: my:  not found ./heartbeat.pl: $/: is not an identifier</p>\n\n<pre><code>my $ini_file = 'Search.ini';\nlocal $/ = undef;\nopen( FH, $ini_file );\nmy $data = &lt;FH&gt;;\nclose(FH);\n( my $search_item ) = $data =~ /&lt;String_search&gt;(.*?)&lt;\\/String_search&gt;/;\n( my $search_file ) = $data =~ /&lt;File_search&gt;(.*?)&lt;\\/File_search&gt;/;\nmy $dir = $ARGV[0];\n\n#my $dir = '/apps/scope/mst/scripts/heartbeat';\nopendir( DIR, $dir );\nmy @files = grep {/($search_file)/} readdir(DIR);\nclosedir(DIR);\nforeach (@files) {\n    open( IN, \"$dir\\\\$_\" ) || die \"$_ $!\";\n    my $file_data = &lt;IN&gt;;\n\n    #print $file_data;\n    print \"FOUND:- $dir\\\\$_\" if ( $file_data =~ /($search_item)/g );\n    close(IN);\n}\n</code></pre>\n"}, {"tags": ["perl", "curl", "mailchimp"], "comments": [{"owner": {"reputation": 35106, "user_id": 2953344, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0Be9p.jpg?s=128&g=1", "display_name": "Sabuj Hassan", "link": "https://stackoverflow.com/users/2953344/sabuj-hassan"}, "edited": false, "score": 0, "creation_date": 1444735341, "post_id": 33101179, "comment_id": 54017468, "body": "Try running <code>$curl-&gt;setopt(CURLOPT_VERBOSE, 1);</code> to get the verbose output. It may help you to debug further."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 35106, "user_id": 2953344, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0Be9p.jpg?s=128&g=1", "display_name": "Sabuj Hassan", "link": "https://stackoverflow.com/users/2953344/sabuj-hassan"}, "edited": false, "score": 0, "creation_date": 1444735644, "post_id": 33101179, "comment_id": 54017665, "body": "@SabujHassan - thanks, I&#39;ve updated my question above, to include the debug on that (auth key was taken out)"}, {"owner": {"reputation": 115, "user_id": 2607279, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/55cddd4a7f67d347d05d0152f3bbce96?s=128&d=identicon&r=PG", "display_name": "ljamison", "link": "https://stackoverflow.com/users/2607279/ljamison"}, "edited": false, "score": 1, "creation_date": 1548712398, "post_id": 33101179, "comment_id": 95632657, "body": "@AndrewNewby I just stopped by to say thank you and I love you. This saved me days worth of work manually creating a solution."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 115, "user_id": 2607279, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/55cddd4a7f67d347d05d0152f3bbce96?s=128&d=identicon&r=PG", "display_name": "ljamison", "link": "https://stackoverflow.com/users/2607279/ljamison"}, "edited": false, "score": 0, "creation_date": 1548747613, "post_id": 33101179, "comment_id": 95641973, "body": "@ljamison no worries - I&#39;m glad my pain saved someone else some =) hehe"}], "answers": [{"comments": [{"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1444749321, "post_id": 33106249, "comment_id": 54027522, "body": "thanks! That was it. I&#39;ve now got another error coming up, but will dig into that: <code>,&quot;errors&quot;:[{&quot;field&quot;:&quot;&quot;,&quot;message&quot;:&quot;Schema describes object, array found instead&quot;}]</code>."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 1, "creation_date": 1444749392, "post_id": 33106249, "comment_id": 54027568, "body": "Ah... got it .... was using [] instead of {} in the JSON variable ... seems good now (get an error about the user existing, which is fine, as it does)"}, {"owner": {"reputation": 4199, "user_id": 3716553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f5c5337553cbb60499d174bb50a765?s=128&d=identicon&r=PG", "display_name": "TooMuchPete", "link": "https://stackoverflow.com/users/3716553/toomuchpete"}, "reply_to_user": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1444753046, "post_id": 33106249, "comment_id": 54029968, "body": "That&#39;s odd -- <code>PUT</code> shouldn&#39;t return an error for an existing user, that&#39;s the whole point of it, to allow add-or-update functionality. You might want to check with their API support team on that one."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1444755274, "post_id": 33106249, "comment_id": 54031217, "body": "yeah, the error was the fact I was using [ ] instead of a hashref: { } ... so it wasn&#39;t getting the expected JSON output (as it was being encoded differently)"}], "tags": [], "owner": {"reputation": 4199, "user_id": 3716553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f5c5337553cbb60499d174bb50a765?s=128&d=identicon&r=PG", "display_name": "TooMuchPete", "link": "https://stackoverflow.com/users/3716553/toomuchpete"}, "is_accepted": true, "score": 2, "last_activity_date": 1444748903, "creation_date": 1444748903, "answer_id": 33106249, "question_id": 33101179, "link": "https://stackoverflow.com/questions/33101179/mailchimp-v3-0-api-using-perl-curl/33106249#33106249", "title": "Mailchimp v3.0 API, using Perl Curl", "body": "<p>You're attempting to connect to <code>$endpoint</code> instead of <code>$url</code>.</p>\n\n<pre><code>my $url = \"$endpoint/$listid/members/\" . Digest::MD5::md5(lc($email));\n\n$curl-&gt;setopt(CURLOPT_HEADER,1);\n$curl-&gt;setopt(CURLOPT_URL, $endpoint);\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>my $url = \"$endpoint/$listid/members/\" . Digest::MD5::md5(lc($email));\n\n$curl-&gt;setopt(CURLOPT_HEADER,1);\n$curl-&gt;setopt(CURLOPT_URL, $url);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12051409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cd8ce7ef49e05ec3ddc13b64f278ae9?s=128&d=identicon&r=PG", "display_name": "Scott Hillman", "link": "https://stackoverflow.com/users/12051409/scott-hillman"}, "is_accepted": false, "score": 0, "last_activity_date": 1568184180, "creation_date": 1568184180, "answer_id": 57883468, "question_id": 33101179, "link": "https://stackoverflow.com/questions/33101179/mailchimp-v3-0-api-using-perl-curl/57883468#57883468", "title": "Mailchimp v3.0 API, using Perl Curl", "body": "<p>I received an illegal characters response from MailChimp using the code above until I switched to the md5_base64() call.</p>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1627, "favorite_count": 0, "accepted_answer_id": 33106249, "answer_count": 2, "score": 2, "last_activity_date": 1568184180, "creation_date": 1444734785, "last_edit_date": 1444801212, "question_id": 33101179, "link": "https://stackoverflow.com/questions/33101179/mailchimp-v3-0-api-using-perl-curl", "title": "Mailchimp v3.0 API, using Perl Curl", "body": "<p>I'm trying to find a way to do a Curl request to MailChimps new <strong>API v3.0</strong>, that will subscribe a user to a given list. Here is what I have thus far:</p>\n\n<pre><code>use warnings;\nuse WWW::Curl::Easy;\nuse JSON;\n\nmy $apikey = 'xxxx';\nmy $listid = 'xxxx';\nmy $email = 'andy@test.co.uk';\nmy $endpoint = \"https://us6.api.mailchimp.com/3.0/lists\";\n\nmy $json = JSON::encode_json([\n    'email_address' =&gt; $email,\n    'status'        =&gt; 'pending',\n    'merge_fields'  =&gt; [\n        'FNAME'     =&gt; \"andy\",\n        'LNAME'     =&gt; \"newby\"\n    ]\n]);\n\nmy $curl = WWW::Curl::Easy-&gt;new;\n\nmy $url = \"$endpoint/$listid/members/\" . Digest::MD5::md5(lc($email));\n\n$curl-&gt;setopt(CURLOPT_HEADER,1);\n$curl-&gt;setopt(CURLOPT_URL, $endpoint);\n\n$curl-&gt;setopt(CURLOPT_USERPWD, 'user:' . $apikey);\n$curl-&gt;setopt(CURLOPT_HTTPHEADER, ['Content-Type: application/json']);\n$curl-&gt;setopt(CURLOPT_TIMEOUT, 10);\n$curl-&gt;setopt(CURLOPT_CUSTOMREQUEST, 'PUT');\n$curl-&gt;setopt(CURLOPT_SSL_VERIFYPEER, 0);\n$curl-&gt;setopt(CURLOPT_POSTFIELDS, $json);\n\nmy $response_body;\n$curl-&gt;setopt(CURLOPT_WRITEDATA,\\$response_body);\n\n# Starts the actual request\nmy $retcode = $curl-&gt;perform;\n\n# Looking at the results...\nif ($retcode == 0) {\n        print(\"Transfer went ok\\n\");\n        my $response_code = $curl-&gt;getinfo(CURLINFO_HTTP_CODE);\n        print \"Received response: $response_body\\n\";\n} else {\n        # Error code, type of error, error message\n        print \"An error happened: $retcode \".$curl-&gt;strerror($retcode).\" \".$curl-&gt;errbuf.\"\\n\";\n}\n</code></pre>\n\n<p>The documentation is pretty scarce, due to it being a new API. Has anyone had any success with the MailChimp v3 API, for subscribing someone in Perl? (I'm also open to suggestions for command line <code>curl</code> requests... but everything I tried with regards to that, failed with \"internal server errors\" coming back from MailChimp, which wasn't very helpful)</p>\n\n<p><strong>UPDATE:</strong> As suggested below, I enabled <code>verbose</code>, and it now spits out:</p>\n\n<blockquote>\n  <ul>\n  <li>Hostname was NOT found in DNS cache</li>\n  <li>Trying 184.86.100.251...</li>\n  <li>Connected to us6.api.mailchimp.com (184.86.100.251) port 443 (#0)</li>\n  <li>successfully set certificate verify locations:</li>\n  <li>CAfile: none   CApath: /etc/ssl/certs</li>\n  <li>SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256</li>\n  <li>Server certificate:</li>\n  <li>subject: C=US; ST=GA; L=Atlanta; O=ROCKET SCIENCE GROUP; OU=Rocket Science Group; CN=*.api.mailchimp.com</li>\n  <li>start date: 2015-09-22 14:39:14 GMT</li>\n  <li>expire date: 2016-09-22 14:39:13 GMT</li>\n  <li>subjectAltName: us6.api.mailchimp.com matched</li>\n  <li>issuer: C=NL; L=Amsterdam; O=Verizon Enterprise Solutions; OU=Cybertrust; CN=Verizon Akamai SureServer CA G14-SHA2</li>\n  <li>SSL certificate verify ok.</li>\n  <li><p>Server auth using Basic with user 'user'</p>\n  \n  <blockquote>\n    <p>PUT /3.0/lists HTTP/1.1 Authorization: Basic xxxx Host: us6.api.mailchimp.com Accept: <em>/</em> Content-Type: application/json\n    Content-Length: 108</p>\n  </blockquote></li>\n  <li><p>upload completely sent off: 108 out of 108 bytes &lt; HTTP/1.1 405 Method Not Allowed</p></li>\n  <li>Server nginx is not blacklisted &lt; Server: nginx &lt; Content-Type: application/problem+json; charset=utf-8 &lt; Content-Length: 253 &lt;\n  X-Request-Id: 5f6ab08f-69e7-4c9b-b22a-91714331d5b7 &lt; Link:\n  <a href=\"https://us6.api.mailchimp.com/schema/3.0/ProblemDetailDocument.json\" rel=\"nofollow\">https://us6.api.mailchimp.com/schema/3.0/ProblemDetailDocument.json</a>;\n  rel=\"describedBy\" &lt; Allow: GET, POST &lt; Date: Tue, 13 Oct 2015 11:24:32\n  GMT &lt; Connection: close &lt; Set-Cookie: _AVESTA_ENVIRONMENT=prod; path=/\n  &lt;</li>\n  <li>Closing connection 0 Transfer went ok Received response: HTTP/1.1 405 Method Not Allowed Server: nginx Content-Type:\n  application/problem+json; charset=utf-8 Content-Length: 253\n  X-Request-Id: 5f6ab08f-69e7-4c9b-b22a-91714331d5b7 Link:\n  <a href=\"https://us6.api.mailchimp.com/schema/3.0/ProblemDetailDocument.json\" rel=\"nofollow\">https://us6.api.mailchimp.com/schema/3.0/ProblemDetailDocument.json</a>;\n  rel=\"describedBy\" Allow: GET, POST Date: Tue, 13 Oct 2015 11:24:32 GMT\n  Connection: close Set-Cookie: _AVESTA_ENVIRONMENT=prod; path=/</li>\n  </ul>\n  \n  <p>{\"type\":\"<a href=\"http://kb.mailchimp.com/api/error-docs/405-method-not-allowed\" rel=\"nofollow\">http://kb.mailchimp.com/api/error-docs/405-method-not-allowed</a>\",\"title\":\"Method\n  Not Allowed\",\"status\":405,\"detail\":\"The requested method and resource\n  are not compatible. See the Allow header for this resource's available\n  methods.\",\"instance\":\"\"}</p>\n</blockquote>\n\n<p>I'm not really sure what to make of that though :/</p>\n\n<p><strong>Working code:</strong> Thanks to TooMuchPete, I managed to get it going. For anyone who may come across this while trying to use the MailChimp API (3.0) in Perl, below is a working sample (you just need to replace the values of the email, name, api key, and list id);</p>\n\n<pre><code>    use WWW::Curl::Easy;\n    use JSON;\n    use Digest::MD5;\n\n    my $apikey = 'xxxx-us6';\n    my $listid = 'xxxx';\n    my $email = 'andy@testr.co.uk';\n    my $endpoint = \"https://us6.api.mailchimp.com/3.0/lists\";\n\n    my $json = JSON::encode_json({\n        'email_address' =&gt; $email,\n        'status'        =&gt; 'pending',\n        'merge_fields'  =&gt; {\n            'FNAME'     =&gt; \"andy\",\n            'LNAME'     =&gt; \"newby\"\n        }\n    });\n\n    my $curl = WWW::Curl::Easy-&gt;new;\n\n    my $url = \"$endpoint/$listid/members/\" . Digest::MD5::md5(lc($email));\n\n    $curl-&gt;setopt(CURLOPT_HEADER,1);\n    $curl-&gt;setopt(CURLOPT_URL, $url);\n\n    $curl-&gt;setopt(CURLOPT_VERBOSE, 1);\n    $curl-&gt;setopt(CURLOPT_USERPWD, 'user:' . $apikey);\n    $curl-&gt;setopt(CURLOPT_HTTPHEADER, ['Content-Type: application/json']);\n    $curl-&gt;setopt(CURLOPT_TIMEOUT, 10);\n    $curl-&gt;setopt(CURLOPT_CUSTOMREQUEST, 'PUT');\n    $curl-&gt;setopt(CURLOPT_SSL_VERIFYPEER, 0);\n    $curl-&gt;setopt(CURLOPT_POSTFIELDS, $json);\n\n    # A filehandle, reference to a scalar or reference to a typeglob can be used here.\n    my $response_body;\n    $curl-&gt;setopt(CURLOPT_WRITEDATA,\\$response_body);\n\n    # Starts the actual request\n    my $retcode = $curl-&gt;perform;\n\n    # Looking at the results...\n    if ($retcode == 0) {\n            print(\"Transfer went ok\\n\");\n            my $response_code = $curl-&gt;getinfo(CURLINFO_HTTP_CODE);\n            # judge result and next action based on $response_code\n            print \"Received response: $response_body\\n\";\n    } else {\n            # Error code, type of error, error message\n            print \"An error happened: $retcode \".$curl-&gt;strerror($retcode).\" \".$curl-&gt;errbuf.\"\\n\";\n    }\n</code></pre>\n\n<p>I hope this saves someone the grief I had :) </p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1444732217, "post_id": 33100230, "comment_id": 54015532, "body": "This question looks oddly familiar. <a href=\"http://stackoverflow.com/questions/28627669/merge-csv-rows-based-on-duplicate-key-and-combine-unique-values-using-perl-text/28673012#28673012\" title=\"merge csv rows based on duplicate key and combine unique values using perl text\">stackoverflow.com/questions/28627669/&hellip;</a>"}, {"owner": {"reputation": 239, "user_id": 1465863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b218f53ce896e75ff35554646a8548d1?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1465863/jan"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444736008, "post_id": 33100230, "comment_id": 54017896, "body": "@Sobrique Agreed, almost the same.. I tried to work off of that one but that was merging fields if the id was the same and this one is removing rows if the id is unique"}], "answers": [{"comments": [{"owner": {"reputation": 239, "user_id": 1465863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b218f53ce896e75ff35554646a8548d1?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1465863/jan"}, "edited": false, "score": 0, "creation_date": 1444741901, "post_id": 33102243, "comment_id": 54022003, "body": "Thank you for your answer but I have to use the Text::CSV_XS module (it&#39;s a sizeable file with the delimiter in the data). Do you have a suggestion on how do to it with the module?"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 239, "user_id": 1465863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b218f53ce896e75ff35554646a8548d1?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1465863/jan"}, "edited": false, "score": 0, "creation_date": 1444742748, "post_id": 33102243, "comment_id": 54022579, "body": "I think the rest of your code was fine...  I was just being lazy to notionally describe how I would do it.  You can adopt the existing Text::CSV_XS exactly how you had it.  I&#39;ve modified my response for this."}, {"owner": {"reputation": 239, "user_id": 1465863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b218f53ce896e75ff35554646a8548d1?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1465863/jan"}, "edited": false, "score": 0, "creation_date": 1444814584, "post_id": 33102243, "comment_id": 54055825, "body": "Thank you for the edit but now it says &quot;Use of uninitialized value in hash element at line 27&quot;, as in: it has nothing to print.. What am I missing?"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 239, "user_id": 1465863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b218f53ce896e75ff35554646a8548d1?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1465863/jan"}, "edited": false, "score": 0, "creation_date": 1444822693, "post_id": 33102243, "comment_id": 54061043, "body": "Hi Jan.  Without seeing your data, I&#39;m guessing, but my initial guess would be that you have a line in your first file (<code>$infile</code>) that is blank or otherwise doesn&#39;t have &gt;= four columns of data, this making <code>$$elements[2]</code>.  Can you print to standard output (to debug) to see how many lines it it gets before it fields this error?  Or, just to debug, expose each of the variables on that line to see what they contain when the error is thrown (ie <code>print $elements $csv_out $outfile\\n</code>).  I think it&#39;s safe to say %count has data."}], "tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 0, "last_activity_date": 1444742828, "last_edit_date": 1444742828, "creation_date": 1444737835, "answer_id": 33102243, "question_id": 33100230, "link": "https://stackoverflow.com/questions/33100230/remove-extract-rows-based-on-unique-duplicate-id-from-a-csv-file/33102243#33102243", "title": "Remove/Extract rows based on Unique/duplicate Id from a CSV file", "body": "<p>Rather than loading a hash with the entire dataset, I think I'd go ahead and read the file twice, loading a hash with just your <code>ID</code> values.  This will definitely take longer, but as your file grows, there may be disadvantages of having all of that data in memory.</p>\n\n<p>That said, I did not use <code>Text::CSV_XS</code> but this is a <strong>notional</strong> idea of what I had in mind.</p>\n\n<pre><code>my %count;\n\nopen (my $infile, '&lt;:encoding(iso-8859-1)', $inputfile) or die;\nopen (my $outfile, '&gt;:encoding(UTF-8)', $outputfile) or die;\n\nwhile (&lt;$infile&gt;) {\n  next if $. == 1;\n  my ($id) = (split /;/, $_, 4)[2];\n  $count{$id}++;\n}\n\nseek $infile, 0, 0;\n\nwhile (&lt;$infile&gt;) {\n  my @fields = split /;/;\n  print $outfile join '|', @fields if $count{$fields[2]} &gt; 1 or $. == 1;    \n}\n\nclose $infile;\nclose $outfile;\n</code></pre>\n\n<p>The <code>$. == 1</code> at the end is so you don't lose your header row.</p>\n\n<p>-- EDIT --</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\nuse Text::CSV_XS;\n\nmy $inputfile = shift || die \"Give input and output names!\\n\";\nmy $outputfile = shift || die \"Give output name!\\n\";\n\nopen (my $infile, '&lt;:encoding(iso-8859-1)', $inputfile) or die;\nopen (my $outfile, '&gt;:encoding(UTF-8)', $outputfile) or die;\n\nmy $csv_in = Text::CSV_XS-&gt;new({binary =&gt; 1,sep_char =&gt; \";\",\n    auto_diag =&gt; 1,always_quote =&gt; 1,eol =&gt; $/}); \nmy $csv_out = Text::CSV_XS-&gt;new({binary =&gt; 1,sep_char =&gt; \"|\",\n    auto_diag =&gt; 1,always_quote =&gt; 1,eol =&gt; $/});\n\nmy ($count, %count) = (1);\n\nwhile (my $elements = $csv_in-&gt;getline($infile)){\n  $count{$$elements[2]}++;\n}\n\nseek $infile, 0, 0;\n\nwhile (my $elements = $csv_in-&gt;getline($infile)){\n  $csv_out-&gt;print($outfile, $elements)\n    if $count{$$elements[2]} &gt; 1 or $count++ == 1;\n}\n\nclose $infile;\nclose $outfile;\n</code></pre>\n"}], "owner": {"reputation": 239, "user_id": 1465863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b218f53ce896e75ff35554646a8548d1?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1465863/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444814315, "creation_date": 1444731865, "last_edit_date": 1495539888, "question_id": 33100230, "link": "https://stackoverflow.com/questions/33100230/remove-extract-rows-based-on-unique-duplicate-id-from-a-csv-file", "title": "Remove/Extract rows based on Unique/duplicate Id from a CSV file", "body": "<p>Depending on how you look at it I need to remove rows based on if the Id is unique <strong>or</strong> extract rows if the Id has duplicates (keeping all duplicates).\nAnd I'm unsure/don't have enough knowledge of Perl to accomplish this. I've found similair topics but didn't have much succes. These are the examples I'm using <a href=\"https://stackoverflow.com/a/15592178/1465863\">example 1</a>, <a href=\"https://stackoverflow.com/questions/23900461/perl-getting-unique-values-from-file-column?rq=1\">example 2</a> and <a href=\"http://docstore.mik.ua/orelly/perl/cookbook/ch04_07.htm\" rel=\"nofollow noreferrer\">example 3</a>. In a previous problem someone showed me a solution with the List::MoreUtils module, so I could merge values with a common Id. This is not the case now, this one is removing rows if the id is unique. I know I can probably do this with the List::MoreUtils module but I want to do it without. This is my dummy data (copied example data from other question since the data doesn't matter), here you can see what I'm after. Order is not important.</p>\n\n<p><strong>Before:</strong></p>\n\n<pre><code>Cat_id;Cat_name;Id;Name;Amount;Colour;Bla\n101;Fruits;50010;Grape;500;Red;1\n101;Fruits;50020;Strawberry;500;Red;1\n201;Vegetables;60010;Carrot;500;White;1\n101;Fruits;50060;Apple;1000;Red;1\n101;Fruits;50030;Banana;1000;Green;1\n101;Fruits;50060;Apple;500;Green;1\n101;Fruits;50020;Strawberry;1000;Red;1\n201;Vegetables;60010;Carrot;100;Purple;1\n101;Fruits;50020;Strawberry;200;Red;1\n</code></pre>\n\n<p><strong>After:</strong></p>\n\n<pre><code>Cat_id;Cat_name;Id;Name;Amount;Colour;Bla\n101;Fruits;50020;Strawberry;500;Red;1\n201;Vegetables;60010;Carrot;500;White;1\n101;Fruits;50060;Apple;1000;Red;1\n101;Fruits;50060;Apple;500;Green;1\n101;Fruits;50020;Strawberry;1000;Red;1\n201;Vegetables;60010;Carrot;100;Purple;1\n101;Fruits;50020;Strawberry;200;Red;1\n</code></pre>\n\n<p>You can see that the rows of Grape and Banana with id 50010 and 50030 have been removed because there only exists one entry for both.</p>\n\n<p>This is my script, I'm struggeling with the part where I select the unique values from the hash and to output them (taking the Text::CSV_XS module in account). Can someone show me how to do this?</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse Text::CSV_XS;\n\nmy $inputfile = shift || die \"Give input and output names!\\n\";\nmy $outputfile = shift || die \"Give output name!\\n\";\n\nopen (my $infile, '&lt;:encoding(iso-8859-1)', $inputfile) or die \"Sourcefile in use / not found :$!\\n\";\nopen (my $outfile, '&gt;:encoding(UTF-8)', $outputfile) or die \"Outputfile in use :$!\\n\";\n\nmy $csv_in = Text::CSV_XS-&gt;new({binary =&gt; 1,sep_char =&gt; \";\",auto_diag =&gt; 1,always_quote =&gt; 1,eol =&gt; $/}); \nmy $csv_out = Text::CSV_XS-&gt;new({binary =&gt; 1,sep_char =&gt; \"|\",auto_diag =&gt; 1,always_quote =&gt; 1,eol =&gt; $/});\n\nmy $header = $csv_in-&gt;getline($infile);\n$csv_out-&gt;print($outfile, $header);\n\nmy %data;\n\nwhile (my $elements = $csv_in-&gt;getline($infile)){\n    my @columns = @{ $elements };       \n    my $id = $columns[2];\n    push @{ $data{$id} }, \\@columns;\n}\n\nfor my $id ( sort keys %data ){                 # Sort not important\n    if @{ $data{$id} } &gt; 1                      # Here I have no idea anymore..\n        $csv_out-&gt;print($outfile, \\@columns);   #\n}\n</code></pre>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444732696, "post_id": 33100029, "comment_id": 54015831, "body": "Notepad and <code>perl -c</code>"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1444731617, "last_edit_date": 1495542760, "creation_date": 1444731617, "answer_id": 33100146, "question_id": 33100029, "link": "https://stackoverflow.com/questions/33100029/ide-for-perl-5-for-beginners-with-as-few-functions-as-possible-but-included-debu/33100146#33100146", "title": "IDE for Perl 5 for beginners with as few functions as possible but included debugger", "body": "<p>I prefer <a href=\"http://padre.perlide.org/\" rel=\"nofollow noreferrer\">Padre</a>. At work I use Eclipse with <a href=\"http://www.epic-ide.org/\" rel=\"nofollow noreferrer\">EPIC</a> plugin, which is also good.</p>\n\n<p>Check the full list at: <a href=\"http://perlide.org/poll200910/\" rel=\"nofollow noreferrer\">http://perlide.org/poll200910/</a></p>\n\n<p>Also see: <a href=\"https://stackoverflow.com/questions/12528241/best-ide-for-perl-5\">Best IDE for Perl 5</a></p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1444732020, "last_edit_date": 1444732020, "creation_date": 1444731704, "answer_id": 33100173, "question_id": 33100029, "link": "https://stackoverflow.com/questions/33100029/ide-for-perl-5-for-beginners-with-as-few-functions-as-possible-but-included-debu/33100173#33100173", "title": "IDE for Perl 5 for beginners with as few functions as possible but included debugger", "body": "<p><a href=\"http://padre.perlide.org/\" rel=\"nofollow\">Padre, the Perl IDE</a></p>\n\n<p>Good for Windows.</p>\n\n<p>See this from <code>perldoc</code> -> <a href=\"http://perldoc.perl.org/perlfaq3.html#Is-there-an-IDE-or-Windows-Perl-Editor%3F\" rel=\"nofollow\">Is there an IDE or Windows Perl Editor?</a></p>\n\n<p>And best editor for Windows is <a href=\"https://notepad-plus-plus.org/\" rel=\"nofollow\">Notepad++</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 5440172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66997742fa3b0b51fe7f9b14ebe1b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Noodles", "link": "https://stackoverflow.com/users/5440172/noodles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "closed_date": 1444786194, "answer_count": 2, "score": 0, "last_activity_date": 1444784534, "creation_date": 1444731266, "last_edit_date": 1444784534, "question_id": 33100029, "link": "https://stackoverflow.com/questions/33100029/ide-for-perl-5-for-beginners-with-as-few-functions-as-possible-but-included-debu", "closed_reason": "Opinion-based", "title": "IDE for Perl 5 for beginners with as few functions as possible but included debugger", "body": "<p>The headline may sound a little odd. But I'm indeed searching for an IDE with as few tools/features as possible, just like Blue J for Java.</p>\n\n<p>In fact I'm a slow learner, when somebody does my work. And sadly most IDEs \nsuggest so much regarding functions, their parameters) and even syntax,\nthat I'm not really able to deepen facts I've learned, especially in ways of object-oriented programming.</p>\n\n<p>In short: I need an IDE that makes me think first. I need to make mistakes and a debugger literary rubbing it into my face gleefully  .....since I will have to  code on paper during my next exams.</p>\n\n<p>*I'm using Windows 7 and need to lern Perl 5.</p>\n"}, {"tags": ["javascript", "jquery", "html", "ajax", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444730099, "post_id": 33099355, "comment_id": 54014153, "body": "We need to see the relevant part of the Perl program or its documentation to answer this without guessing."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1444730390, "post_id": 33099355, "comment_id": 54014368, "body": "I&#39;m surprised that this managed to execute the Perl, since the XHR request should be cancelled by the form submission."}], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1444730106, "post_id": 33099403, "comment_id": 54014159, "body": "You forgot to apply <code>encodeURIComponent</code> to the user input for your manual attempt."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444730109, "post_id": 33099403, "comment_id": 54014160, "body": "Who says the Perl program requires the input to be of the type <code>application&#47;x-www-form-urlencoded</code>? Could be it just checks the request body and doesn&#39;t expect a named parameter."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1444730170, "post_id": 33099403, "comment_id": 54014203, "body": "@simbabque \u2014 That would be an extremely odd edge case. Expecting the Perl to take application/x-www-form-urlencoded data is a reasonable assumption."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1444730298, "post_id": 33099403, "comment_id": 54014299, "body": "@Quentin I agree, but still, it&#39;s an assumption.  Rory kind of says that in his second sentence, which is good. Still I wanted to mention it since we cannot know without seeing the Perl code. :)"}, {"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1444731359, "post_id": 33099403, "comment_id": 54014959, "body": "@Quentin good point about <code>encodeURIComponent</code>, thanks - answer updated."}, {"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1444739790, "post_id": 33099403, "comment_id": 54020527, "body": "Thanks. Including the parameter name in the query string worked."}, {"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "edited": false, "score": 0, "creation_date": 1444739821, "post_id": 33099403, "comment_id": 54020541, "body": "No problem, glad to help."}], "tags": [], "owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "is_accepted": true, "score": 2, "last_activity_date": 1444731336, "last_edit_date": 1444731336, "creation_date": 1444729608, "answer_id": 33099403, "question_id": 33099355, "link": "https://stackoverflow.com/questions/33099355/how-do-i-pass-a-html-form-variable-to-a-perl-script-via-ajax/33099403#33099403", "title": "How do I pass a html form variable to a perl script via AJAX?", "body": "<p>You need to include the parameter name in the querystring to assign the value to. I assume this should follow the standard practice of being the name of the control. In this case you can either build the  querystring yourself:</p>\n\n<pre><code>data: 'division=' + encodeURIComponent(div),\n</code></pre>\n\n<p>Or you can send an object and let jQuery serialise it to a querystring for you:</p>\n\n<pre><code>data: { division: div },\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 33099403, "answer_count": 1, "score": 1, "last_activity_date": 1444732463, "creation_date": 1444729469, "last_edit_date": 1444731421, "question_id": 33099355, "link": "https://stackoverflow.com/questions/33099355/how-do-i-pass-a-html-form-variable-to-a-perl-script-via-ajax", "title": "How do I pass a html form variable to a perl script via AJAX?", "body": "<p>I am trying to pass the html variable from the list menu to the perl script via <code>POST</code> but what happens is that the jQuery <code>ajax()</code> was able to execute the perl without including the value got from the <code>document.getElementById</code>. Here is my HTML code:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form id=\"form\"&gt;\n    &lt;p id=\"survey\"&gt;\n        &lt;label for=\"list\"&gt;&lt;b&gt;Ran survey&lt;/b&gt;&lt;/label&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;label for=\"division\"&gt;Please select division:&lt;/label&gt;\n            &lt;select type=\"list\" id=\"list\" name=\"division\"&gt;\n                &lt;option&gt;--Select One--&lt;/option&gt;\n                &lt;option value=\"DENVER\"&gt;Denver&lt;/option&gt;\n                &lt;option value=\"PHOENIX_SOUTHWEST\"&gt;Phoenix-Southwest&lt;/option&gt;\n                &lt;option value=\"PORTLAND\"&gt;Portland&lt;/option&gt;\n                &lt;option value=\"SOUTHERN_HOUSTON\"&gt;Southern-Houston&lt;/option&gt;\n                &lt;option value=\"NORCAL\"&gt;Norcal&lt;/option&gt;\n                &lt;option value=\"SEATTLE\"&gt;Seattle&lt;/option&gt;\n                &lt;option value=\"VONS_SoCal\"&gt;Vons-Socal&lt;/option&gt;\n                &lt;option value=\"EASTERN\"&gt;Eastern&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/p&gt;\n        &lt;p id=\"survey\"&gt;\n            &lt;input type=\"submit\" value=\"Ran Survey\" onclick=\"surveyFunction();\" /&gt;\n        &lt;/p&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>function surveyFunction() {\n    var div = document.getElementById(\"list\").value;\n    $.ajax({\n        type: \"POST\",\n        url: \"possurv.pl\",\n        data: div,\n        success: function(result){\n            $('#survfeedback').html(result);\n        }\n    });\n}\n</code></pre>\n"}, {"tags": ["string", "perl"], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 3, "last_activity_date": 1444728404, "creation_date": 1444728404, "answer_id": 33098958, "question_id": 33098854, "link": "https://stackoverflow.com/questions/33098854/perl-string-eq-and-or-together-alwas-are-true/33098958#33098958", "title": "Perl string eq and or together alwas are true", "body": "<p>You have to write your conditions like this:</p>\n\n<pre><code>if($elt eq \"my_id\" or $elt eq \"total\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1444728459, "creation_date": 1444728459, "answer_id": 33098976, "question_id": 33098854, "link": "https://stackoverflow.com/questions/33098854/perl-string-eq-and-or-together-alwas-are-true/33098976#33098976", "title": "Perl string eq and or together alwas are true", "body": "<p>That <code>eq</code> doesn't apply to the left hand side of the \"or\". The precedence of the <code>eq</code> is higher, so it tests that first. </p>\n\n<p>That first expression is actually:</p>\n\n<pre><code>if ( $elt eq \"my id\"\n          or \"total\" );\n</code></pre>\n\n<p>Because \"total\" is a string, it's therefore true. You're not testing it's equivalence at all. </p>\n\n<p>You could rewrite as:</p>\n\n<pre><code>if ( $elt eq \"my id\"\n  or $elt eq \"total\" ) {\n  #.... \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1444732790, "post_id": 33100316, "comment_id": 54015891, "body": "<code>&#47;^(?:my_id|total)$&#47;</code> would probably be better, unless you want to capture a string."}, {"owner": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1444733417, "post_id": 33100316, "comment_id": 54016282, "body": "@TLP: Fixed. 15_char_pad."}], "tags": [], "owner": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "is_accepted": false, "score": 0, "last_activity_date": 1444732884, "last_edit_date": 1444732884, "creation_date": 1444732132, "answer_id": 33100316, "question_id": 33098854, "link": "https://stackoverflow.com/questions/33098854/perl-string-eq-and-or-together-alwas-are-true/33100316#33100316", "title": "Perl string eq and or together alwas are true", "body": "<blockquote>\n  <p><code>$elt eq \"my_id\" or \"total\"</code></p>\n</blockquote>\n\n<p>As others have noted, this is not doing what you intend. With parentheses, this is equivalent to <code>($elt eq \"my_id\") or \"total\"</code>. The expression is always true because even if <code>$elt</code> is not string-equal to <code>\"my_id\"</code>, the second part of the expression, <code>\"total\"</code>, is a truthy expression.</p>\n\n<p><br>\nThe perl motto is \"there is more than one way to do it.\" This certainly applies here; there are a number of ways to test whether <code>$elt</code> is string-equal to either <code>'my_id'</code> or <code>'total'</code>.</p>\n\n<pre><code>if (($elt eq 'my_id') || ($elt eq 'total')) ...\nif ($elt eq 'my_id' || $elt eq 'total') ...\n</code></pre>\n\n<p>I prefer the first of the above. My personal operator preference rule: Use parentheses except for expressions such as <code>$a+$b*$c</code>. You don't need parentheses for <code>$a+$b*$c</code> because everyone knows that multiplication and division distribute over addition and subtraction. For anything else, use parentheses. But that's just my preference. There's more than one way to do it.</p>\n\n<pre><code>if ($elt =~ /^(?:my_id|total)$/) ...\n</code></pre>\n\n<p>That's a completely different way to do it. The parentheses are important here.</p>\n\n<p>For yet another way to do it, use a post-if:</p>\n\n<pre><code>return print(\"$name $xml_tag_val\\n\") if $elt =~ /^(?:my_id|total)$/;\n</code></pre>\n\n<p>You don't need that <code>$name.\" \".$xml_tag_val.\"\\n\"</code> stuff. Learn the difference between <code>'$non_interpolated_string'</code> and <code>\"$interpolated_string\"</code>. Single quotes and double quotes are rather different beasts in perl.</p>\n"}, {"comments": [{"owner": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "edited": false, "score": 0, "creation_date": 1444733082, "post_id": 33100524, "comment_id": 54016083, "body": "There&#39;s always more than one way to do it."}, {"owner": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "edited": false, "score": 0, "creation_date": 1444733358, "post_id": 33100524, "comment_id": 54016237, "body": "Tim Toady Bicarbonate? Personally, I much prefer Tim Toady over the python mantra that says there&#39;s only one way to do it. That said, nowadays I use python a lot more than I use perl."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 4, "last_activity_date": 1444733078, "last_edit_date": 1444733078, "creation_date": 1444732709, "answer_id": 33100524, "question_id": 33098854, "link": "https://stackoverflow.com/questions/33098854/perl-string-eq-and-or-together-alwas-are-true/33100524#33100524", "title": "Perl string eq and or together alwas are true", "body": "<p>The main problem here is that <code>or</code> does not work that way. This is a common misconception about how <code>or</code> works. You <em>can</em> use an expression in <code>eq</code>, but the expression you have uses <code>or</code>, which has lower <a href=\"http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity\" rel=\"nofollow\">precedence</a> than <code>eq</code>, and therefore is not part of the string comparison. Also, an or-expression only ever returns one of its parameters, whichever is true. And with strings, everything except <code>0</code> or the empty string is true. This is the reason your statement always returns true: <code>\"total\"</code> is a true expression in Perl.</p>\n\n<p>What you have written can be clarified with parentheses:</p>\n\n<pre><code>if( ( $elt eq \"my_id\") or \"total\")\n#   ^----       -----^\n</code></pre>\n\n<p>Where you can clearly see that <code>or \"total\"</code> will make the expression always true. Note also that it would be wrong to do this:</p>\n\n<pre><code>if( $elt eq ( \"my_id\" or \"total\") )\n</code></pre>\n\n<p>Because the <code>or</code>:ed expression would always return <code>\"my_id\"</code> and never even check <code>\"total\"</code>.</p>\n\n<p>What you need to do is to do the check once for each parameter:</p>\n\n<pre><code>if( ($elt eq \"my_id\") or ($elt eq \"total\") )\n</code></pre>\n\n<p>Or if you have a list of parameters, and <code>$elt</code> contains a non-false value (i.e. <code>0</code> or empty string, or <code>undef</code>), you can use <code>grep</code>:</p>\n\n<pre><code>if (grep { $elt eq $_ } @parameters)\n</code></pre>\n\n<p>Or more correctly, use the <code>any</code> function from <code>List::MoreUtils</code>:</p>\n\n<pre><code>use List::MoreUtils qw(any);\nif ( any { $elt eq $_ } @parameters )\n</code></pre>\n"}], "owner": {"reputation": 26119, "user_id": 63898, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/88464b7b200398866f216092f01747ed?s=128&d=identicon&r=PG", "display_name": "user63898", "link": "https://stackoverflow.com/users/63898/user63898"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 33098958, "answer_count": 4, "score": 0, "last_activity_date": 1444733078, "creation_date": 1444728154, "last_edit_date": 1444730178, "question_id": 33098854, "link": "https://stackoverflow.com/questions/33098854/perl-string-eq-and-or-together-alwas-are-true", "title": "Perl string eq and or together alwas are true", "body": "<p>I'm parsing xml using <code>XML::Parser</code>; I have the tags \"my_id\" and \"total\" in my xml.<br>\nWhen I try to combine both with \"or\", it always evaluating the if as true:   </p>\n\n<pre><code>if($elt eq \"my_id\" or \"total\")\n{\n               return 1;\n               $context = $elt;\n}\n</code></pre>\n\n<p>If I break it to:</p>\n\n<pre><code> if($name eq \"my_id\")\n    {\n          print($name.\" \".$xml_tag_val.\"\\n\");\n          return 1;\n    }\n    elsif($name eq \"total\")\n    {\n           print($name.\" \".$xml_tag_val.\"\\n\");\n          return 1;\n\n    }\n</code></pre>\n\n<p>It is working just fine.\nWhat is wrong with the first if?</p>\n"}, {"tags": ["perl", "mojolicious", "lwp-useragent"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444722478, "post_id": 33096215, "comment_id": 54009488, "body": "The <a href=\"https://metacpan.org/pod/Mojo::UserAgent#max_connections\" rel=\"nofollow noreferrer\">M::UA doc says</a> it will by default keep 5 connections alive before starting to close them."}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444719943, "creation_date": 1444719943, "question_id": 33096215, "link": "https://stackoverflow.com/questions/33096215/using-the-same-connection-with-mojouseragent", "title": "Using the same connection with Mojo::UserAgent", "body": "<p>I am trying to use NTLM authentication with Mojolicious::UserAgent, porting some code I got to work ok using LWP::UserAgent. I suspect that it fails because \"this scheme authenticates connections, not requests\" and therefore the network connection must be kept alive during multiple parts of the NTLM handshake. With LWP I do</p>\n\n<pre><code> LWP::UserAgent-&gt;new(keep_alive =&gt; 1)\n</code></pre>\n\n<p>I reckon that Mojo::UserAgent is not using a single connection for subsequent requests, and therefore the handshake fails.</p>\n\n<p>Is that so? and how do I prevent it? in other words how do I guarantee that a series of Mojolicious::UserAgent GETs and POSTs is done through the exact same connection?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "edited": false, "score": 0, "creation_date": 1444712080, "post_id": 33094049, "comment_id": 54004546, "body": "that&#39;s amazing explanation. I tried it and it worked for me. and its a great learning for me"}], "tags": [], "owner": {"reputation": 1889, "user_id": 2658162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAOBQ.png?s=128&g=1", "display_name": "JRD", "link": "https://stackoverflow.com/users/2658162/jrd"}, "is_accepted": true, "score": 2, "last_activity_date": 1444710359, "last_edit_date": 1444710359, "creation_date": 1444709997, "answer_id": 33094049, "question_id": 33093851, "link": "https://stackoverflow.com/questions/33093851/how-to-match-the-string-and-remove-a-specified-strings-belongs-to-it-using-perl/33094049#33094049", "title": "How to Match the string and remove a specified strings belongs to it using Perl", "body": "<pre><code>cat sas.txt | perl -pe 'BEGIN {$abc=0} m#(current_line)\\s+(abc/123)?#; if ($1) { $abc=$2 ? 1 : 0 } if ($abc &amp;&amp; m#ins_bug#) {$_=\"\"}' &gt; out.txt\n</code></pre>\n\n<p>Keep track if we are in the \"abc/123\" section.</p>\n\n<pre><code>BEGIN {$abc=0}\n</code></pre>\n\n<p>Match the current_line section, optionally matching abc/123.</p>\n\n<pre><code>m#(current_line)\\s+(abc/123)?#;\n</code></pre>\n\n<p>If we've matched abc/123, mark it, otherwise unmark it.</p>\n\n<pre><code>if ($1) { $abc=$2 ? 1 : 0 }\n</code></pre>\n\n<p>When in the abc/123 section, if we come across an \"ins_bug\" line, skip it.</p>\n\n<pre><code>if ($abc &amp;&amp; m#ins_bug#) {$_=\"\"}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444727423, "post_id": 33094419, "comment_id": 54012392, "body": "IMO a range operator like this is better than setting a flag."}], "tags": [], "owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "is_accepted": false, "score": 4, "last_activity_date": 1445412159, "last_edit_date": 1445412159, "creation_date": 1444712184, "answer_id": 33094419, "question_id": 33093851, "link": "https://stackoverflow.com/questions/33093851/how-to-match-the-string-and-remove-a-specified-strings-belongs-to-it-using-perl/33094419#33094419", "title": "How to Match the string and remove a specified strings belongs to it using Perl", "body": "<p>Using the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\"><code>..</code></a> range operator you can remove a large chunk of code. Here's how you can use it within the framework of your script:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# use lexical file handles\nopen my $fh_in, '&lt;', 'sas.txt'\n    or die \"Could not open input file\";\nopen my $fh_out, '&gt;', 'out.txt'\n    or die \"Could not open output file\";\n\nwhile(&lt;$fh_in&gt;) {\n    # use the .. range operator (see perldoc op) to only\n    # match lines between and including the two patterns\n    if (m!current_line\\s+abc/123!..m!^\\s*$!) {\n        next if /ins_bug/;\n    }\n\n    print $fh_out $_;\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 33094049, "answer_count": 2, "score": 1, "last_activity_date": 1445412159, "creation_date": 1444708578, "last_edit_date": 1444709124, "question_id": 33093851, "link": "https://stackoverflow.com/questions/33093851/how-to-match-the-string-and-remove-a-specified-strings-belongs-to-it-using-perl", "title": "How to Match the string and remove a specified strings belongs to it using Perl", "body": "<p>I want to match \"current_line abc/123\" and remove ins_bug below it by just keeping \"size  \"  string belongs it. If Current_line is not abc/123, I want to print everything.</p>\n\n<p>Input</p>\n\n<pre><code>  current_line\n  current_line  abc/123/187/\n  ins_bug       {[sgd/hsjfk/123]}\n  size          hkjd/hkjdjl/hjkj\n\n\n current_line\n current_line  dsfd\n ins_bug       {[hds/hdf/123]}\n size          kjfgkf/hkdjf\n\n current_line\n current_line  ahd/ijk/\n ins_bug       {[sgd/hsjfk/123]}\n\n current_line\n current_line  abc/123/jhk/\n ins_bug      {[hk/hsjfk/123]}\n ins_bug      {[hkcd/1235/465]}\n size         jfkdjgfdl/hkshfhd\n ins_bug      {[hdkc/563/545]}\n size          kjfhgkfjglf/hskahfjd\n\n current_line\n current_line  hjkd\n ins_bug       {[hds/hdf/123]}\n size          djfkljlg/hkdsgj\n ins_bug       [dsf/dfdg/dfdfd]\n size          dklgfks/jdskljfldlk\n\n current_line\n current_line  abc/123/897\n ins_bug       dgds/hsgds/412\n size         jkjfd/kjdjf\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>current_line\ncurrent_line  abc/123/187/\n\nsize    hkjd/hkjdjl/hjkj\n\n\n current_line\n current_line  dsfd\n ins_bug      {[hds/hdf/123]}\n size          kjfgkf/hkdjf\n\n current_line\n current_line  ahd/ijk/\n ins_bug      {[hkj/hsjfk/123]}\n\n current_line\n current_line  abc/123/jhk/\n size          jfkdjgfdl/hkshfhd\n size          kjfhgkfjglf/hskahfjd\n\n current_line\n current_line  hjkd\n ins_bug       {[hds/hdf/123]}\n size          djfkljlg/hkdsgj\n ins_bug       [dsf/dfdg/dfdfd]\n size          dklgfks/jdskljfldlk\n\n current_line\n current_line  abc/123/jkjjkj\n size          jkjfd/kjdjf\n</code></pre>\n\n<p>I tried to write this code</p>\n\n<p>CODE:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nopen (fh, \"sas.txt\" );\nopen (OUT, \" &gt; out.txt\");\n\n$x = 0;\nmy $mat = qr/abc\\/123/;\n\nwhile ($line = &lt;fh&gt;)\n{\n    chomp ($line);\n    if ($line =~ m/current_line/)\n    {\n         print OUT \"$line \\n\";\n         $x = 1;\n    }\n    elsif ($x == 1)\n    {\n         if ($line =~ m/$mat/)\n         {\n              print OUT \" $line \\n\" unless $line =~ m/ins_bug/; \n         }\n    }\n    else\n    {\n          print OUT \" $line \\n \";\n    }\n}\nclose (fh);\n</code></pre>\n"}, {"tags": ["regex", "perl", "multiline"], "comments": [{"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 2, "creation_date": 1444704377, "post_id": 33093262, "comment_id": 54002461, "body": "Please make sure the formatting is understandable. I have no idea what line is where. Use 4-space indent."}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1444704768, "post_id": 33093262, "comment_id": 54002554, "body": "Consider not reading the file line by line and you may get better results with a regex that needs to match groups in multi-line strings... Also, I <b>cannot understand your question</b>."}, {"owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "reply_to_user": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1444704900, "post_id": 33093262, "comment_id": 54002588, "body": "@amadan Sorry i added the screenshot. i can&#39;t type the format correctly when posting."}, {"owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "reply_to_user": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1444704950, "post_id": 33093262, "comment_id": 54002599, "body": "@PedroLobito How can i read the above output at once and apply multi line RegEx??"}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1444704983, "post_id": 33093262, "comment_id": 54002603, "body": "Edit your question in a way that we can understand  and you may get proper help."}, {"owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "reply_to_user": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1444705018, "post_id": 33093262, "comment_id": 54002611, "body": "@PedroLobito i took a screen shot of the output from Notepad++ and added a link in the above message."}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1444705066, "post_id": 33093262, "comment_id": 54002623, "body": "The file seems to be tsv formatted (bad formatted)."}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 0, "creation_date": 1444713251, "post_id": 33093262, "comment_id": 54004992, "body": "Please add the output that you expect. It is hard to understand from your description how the line <code>Line2Testing - 12323232323 Hello There</code> would be processed."}], "answers": [{"tags": [], "owner": {"reputation": 6529, "user_id": 4252320, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-_DAs7Dtci9U/AAAAAAAAAAI/AAAAAAAAIf8/96ZNJAUF2Xk/photo.jpg?sz=128", "display_name": "ergonaut", "link": "https://stackoverflow.com/users/4252320/ergonaut"}, "is_accepted": false, "score": 0, "last_activity_date": 1444705648, "creation_date": 1444705648, "answer_id": 33093449, "question_id": 33093262, "link": "https://stackoverflow.com/questions/33093262/matching-multiple-lines-of-poorly-formatted-text-in-perl/33093449#33093449", "title": "Matching multiple lines of poorly formatted text in Perl", "body": "<p>It's best to use a single approach rather than switch on each line as there is no indication of when single/multi lines can happen beforehand.  Because you have fixed formats for (int) and (date), just use a multi-line regex pattern which would match something like this:  (pseudo-regex code)</p>\n\n<pre><code> \\s+    (.*)   \\s+  (.*)  (\\d+) (\\d+\\/\\d+\\/\\d+ \\d+\\:\\d+ [AP]M)$\n space text  space  name  int   date\n</code></pre>\n\n<p>Don't forget to use the /m for multiline matching.  Because single/multi line modes are virtually identical besides the \\n and extra spacing, the same pattern can be used in all cases.</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444711944, "post_id": 33094269, "comment_id": 54004500, "body": "Thanks GsusRecovery. I&#39;ll try it out later. Basically at one point i get the whole output in @output_lines and after that i need to parse according to your while loop. Not sure about &lt;&gt; in while loop. Will have to research more.."}, {"owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "reply_to_user": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444712608, "post_id": 33094269, "comment_id": 54004747, "body": "<code>while(&lt;&gt;)</code> while using the diamond operator, in this case read line from stdin. I&#39;ve modified to be clearer using <code>while(&lt;STDIN&gt;)</code>"}, {"owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "reply_to_user": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444722969, "post_id": 33094269, "comment_id": 54009755, "body": "@sureng: i&#39;ve updated the answer to match your input (input data from array <code>@output_lines</code>)"}, {"owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444755993, "post_id": 33094269, "comment_id": 54031607, "body": "Thank you so much. You are so helpful...Thanks again for your wonderful tricks."}], "tags": [], "owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "is_accepted": true, "score": 0, "last_activity_date": 1444723976, "last_edit_date": 1444723976, "creation_date": 1444711300, "answer_id": 33094269, "question_id": 33093262, "link": "https://stackoverflow.com/questions/33093262/matching-multiple-lines-of-poorly-formatted-text-in-perl/33094269#33094269", "title": "Matching multiple lines of poorly formatted text in Perl", "body": "<p><strong>UPDATE</strong>: i've changed the script to accept stdin and put it in <code>@output_lines</code> as array (to emulate the input situation of @sureng)</p>\n\n<p>I've wrapped the regex in a line accumulator that recognize the hour as a closing pattern. In this way you can parse the output line by line and yet apply the regex.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy ($accumulator,$chat,$username,$chars,$timestamp);\n\nmy @output_lines = &lt;STDIN&gt;;\n\nforeach (@output_lines)\n{\n    $accumulator .= $_;\n\n   ($chat,$username,$chars,$timestamp) = $accumulator =~ m/(?im)^\\s*(.+)\\s+(\\w+[-,\\.]\\w+)\\s+(\\d+)\\s+([0-1]?\\d\\/[0-3]?\\d\\/[1-2]\\d{3}\\s+[0-2]?\\d:[0-5]?\\d\\s?[ap]m)\\s*$/;\n    $chat =~ s/\\s+$// if $chat;  #remove trailing spaces\n\n    if ( $accumulator =~ /(?i)([0-2]?\\d:[0-5]?\\d\\s?[ap]m)/ ) {\n        print \"SECTION matched\\n\";\n        print \"-\"x80,\"\\n\";\n        print \"$accumulator\";\n        print \"-\"x80,\"\\n\";\n        print \"chat -&gt; ${chat}\\n\";\n        print \"username -&gt; ${username}\\n\";\n        print \"chars -&gt; ${chars}\\n\";\n        print \"timestamp -&gt; ${timestamp}\\n\\n\";\n        $accumulator = '';  # reset the line accumulator\n    }\n}\n</code></pre>\n\n<p>Try the solution online (with your example provided as stdin) <a href=\"http://ideone.com/bffccH\" rel=\"nofollow\">here</a>.</p>\n\n<p>In your shell, given the script above and this input file:</p>\n\n<pre><code># MultiLineInput.txt\nHello Line1 FirstName.LastName 10 3/23/2011 2:46 PM\n\nHello Line2\n\n                     Line2FirstName-LastName       8       7/17/2015 1:15 PM \nLine2Testing - 12323232323 Hello There\n\nHello Line3 Line3FirstName.LastName 8 3/21/2011 2:46 PM\n\nHello Line4\n\n                     Line4FirstName-LastName       8       9/17/2015 1:20 PM\n</code></pre>\n\n<p>You can simply call:</p>\n\n<pre><code>cat MultiLineInput.txt | StreamRegex.pl\n</code></pre>\n\n<p>If it works as expected you can substitute the <code>cat</code> command with your source.</p>\n\n<p><strong>NB</strong>: this approach is needed if you process a stream or if your file is bigger than the volatile memory of the system (and so you want to process it as a stream) but, that said, it works in any case.</p>\n"}], "owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "accepted_answer_id": 33094269, "answer_count": 2, "score": 1, "last_activity_date": 1444723976, "creation_date": 1444704222, "last_edit_date": 1444714722, "question_id": 33093262, "link": "https://stackoverflow.com/questions/33093262/matching-multiple-lines-of-poorly-formatted-text-in-perl", "title": "Matching multiple lines of poorly formatted text in Perl", "body": "<p>I have data format coming like below from an external program and need to get the first 4 fields(Text, username, number and timestamp) of each line. Please note Hello line1 is one field and second one is user name. The format is output could be single line like line1 below or three lines like line2 or two lines like line4 below. And also the format can be mixed like below(not single line always or double etc)</p>\n\n<pre><code>Hello Line1 FirstName.LastName 10 3/23/2011 2:46 PM\n\nHello Line2\n\n                         Line2FirstName-LastName       8       7/17/2015 1:15 PM \n\nLine2Testing - 12323232323 Hello There\n\nHello Line3 Line3FirstName.LastName 8 3/21/2011 2:46 PM\n\nHello Line4\n\n                         Line4FirstName-LastName       8       9/17/2015 1:20 PM\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/8JC8v.png\" rel=\"nofollow\">Screen shot of above in a editor</a></p>\n\n<p>I was able to get Multline RegEx with the help of this question: <a href=\"https://stackoverflow.com/questions/33061692/perl-multiline-regex-for-first-3-individual-items\">Perl multiline regex for first 3 individual items</a></p>\n\n<p>Thanks to @GsusRecovery!</p>\n\n<p>Since i am reading line by line output i don't think i can take advantage of the multi line RegEx by reading singe line. Is it possible to read only single line if the format is in one line or read 2 lines if it is spread out in 2 or 3 lines if it is spread out in 3 lines?</p>\n\n<p>Or is it only better to read each and every line and backtrack depending on double line or triple line format.</p>\n\n<p>Please suggest.</p>\n"}, {"tags": ["regex", "xml", "perl", "matching"], "answers": [{"tags": [], "owner": {"reputation": 343, "user_id": 3315202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4nXSa.png?s=128&g=1", "display_name": "PauAI", "link": "https://stackoverflow.com/users/3315202/pauai"}, "is_accepted": false, "score": 1, "last_activity_date": 1444713787, "last_edit_date": 1444713787, "creation_date": 1444710617, "answer_id": 33094149, "question_id": 33093178, "link": "https://stackoverflow.com/questions/33093178/perl-extract-filenames-with-regex/33094149#33094149", "title": "Perl extract filenames with regex", "body": "<p>Uh.. </p>\n\n<pre><code>$file_string = /Include=\"([^\\.\"]*)\\.[^\\.\"]*\"/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 1, "last_activity_date": 1444714582, "creation_date": 1444714582, "answer_id": 33094867, "question_id": 33093178, "link": "https://stackoverflow.com/questions/33093178/perl-extract-filenames-with-regex/33094867#33094867", "title": "Perl extract filenames with regex", "body": "<pre><code>my $string = $row =~ m/(.*)Include=\"(.*)\\.(.*)\".*/;\n\nprint $2, \"\\n\";  #where $2 is the second parenthesis\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>FileIWant\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 614, "user_id": 1671981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5b7445074686dbe35ed2bb4c393680c2?s=128&d=identicon&r=PG", "display_name": "Max Rahm", "link": "https://stackoverflow.com/users/1671981/max-rahm"}, "edited": false, "score": 0, "creation_date": 1444757379, "post_id": 33096433, "comment_id": 54032378, "body": "The legacy code unfortunately has to run on build systems that don&#39;t have a way to install extra libraries"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 614, "user_id": 1671981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5b7445074686dbe35ed2bb4c393680c2?s=128&d=identicon&r=PG", "display_name": "Max Rahm", "link": "https://stackoverflow.com/users/1671981/max-rahm"}, "edited": false, "score": 0, "creation_date": 1444758512, "post_id": 33096433, "comment_id": 54032988, "body": "That is unfortunate. All you have is a hammer, and the job here is putting in screws. I would suggest the best course of action is request the additional tools needed to do a proper job, but if you wish to increase your technical debt, then go for it."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1444720701, "creation_date": 1444720701, "answer_id": 33096433, "question_id": 33093178, "link": "https://stackoverflow.com/questions/33093178/perl-extract-filenames-with-regex/33096433#33096433", "title": "Perl extract filenames with regex", "body": "<p>Don't use regex to parse XML. It's dirty bad and wrong. Use an XML parser. <code>XML::Twig</code> is an example that I like. There are others, just stay away from <code>XML::Simple</code>, which is nasty.</p>\n\n<pre><code>my $twig = XML::Twig -&gt; parsefile ( 'your_file.xml' );\nmy $filename = $twig -&gt; findnodes('//DBGen',0)-&gt;att('Include'); \n</code></pre>\n\n<p>This will locate the first node in your XML called <code>DBGEn</code> and extract the <code>Include</code> attribute. </p>\n\n<p>It really is that simple, and it doesn't get tripped up by XML formatting - even that simple example you gave can be written several different - and perfectly valid - ways. </p>\n\n<pre><code>&lt;xml\n&gt;&lt;DBGen\nInclude=\"FileIWant.dbd\"\n/&gt;&lt;/xml&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;xml&gt;&lt;DBGen Include=\"FileIWant.dbd\"/&gt;&lt;/xml&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;xml&gt;&lt;DBGen Include=\"FileIWant.dbd\"&gt;&lt;/DBGen&gt;&lt;/xml&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;xml&gt;\n   &lt;DBGen \n       Include=\"FileIWant.dbd\" \n   /&gt;\n&lt;/xml&gt;\n</code></pre>\n\n<p>Or could have other attributes which will mean it isn't then the first word after the element tag. It really is very icky to do this, and you don't need to - parsing it is very simple, and can still be done in one liners - the above, for example:</p>\n\n<pre><code>perl -0777 -MXML::Twig -e 'print XML::Twig-&gt;parse(&lt;&gt;)-&gt;findnodes('//DBGen',0)-&gt;att('Include');'\n</code></pre>\n"}], "owner": {"reputation": 614, "user_id": 1671981, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5b7445074686dbe35ed2bb4c393680c2?s=128&d=identicon&r=PG", "display_name": "Max Rahm", "link": "https://stackoverflow.com/users/1671981/max-rahm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 33094867, "answer_count": 3, "score": -2, "last_activity_date": 1444859651, "creation_date": 1444703455, "last_edit_date": 1444859651, "question_id": 33093178, "link": "https://stackoverflow.com/questions/33093178/perl-extract-filenames-with-regex", "title": "Perl extract filenames with regex", "body": "<p>I am reading an xml file line by line and I all I care about is if the line </p>\n\n<p>looks like this:</p>\n\n<pre><code>&lt;DBGen Include=\"FileIWant.dbd\" /&gt;\n</code></pre>\n\n<p>I need to make a new string that contains:</p>\n\n<pre><code>\"FileIWant\"\n</code></pre>\n\n<p>How do you replace magic with the correct regex?</p>\n\n<pre><code> my $string = $row =~ /magic/\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1444691847, "post_id": 33091645, "comment_id": 53999309, "body": "<a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\"><code>quotemeta()</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": true, "score": 1, "last_activity_date": 1444692146, "creation_date": 1444692146, "answer_id": 33091741, "question_id": 33091645, "link": "https://stackoverflow.com/questions/33091645/perl-grep-fails-for-strings-containing-parentheses/33091741#33091741", "title": "perl grep fails for strings containing parentheses", "body": "<p>You need to escape the parenthesis <code>\\( \\)</code> or use <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">quotemeta()</a></p>\n\n<pre><code>$str= quotemeta('my name is Alpha(beta is old)');\n\n@array=(\n'my name is Alpha(beta is old)',\n'my name is beta',\n'my name is Apple(i am fruit)'\n);\n\n$match=grep(/$str/,@array);\nprint $match;\n#1\n</code></pre>\n"}], "owner": {"reputation": 957, "user_id": 986818, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8baf2119a59c2c8c47c9fcc5c962ec23?s=128&d=identicon&r=PG", "display_name": "rajeev", "link": "https://stackoverflow.com/users/986818/rajeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "closed_date": 1444691969, "accepted_answer_id": 33091741, "answer_count": 1, "score": 1, "last_activity_date": 1444694558, "creation_date": 1444691484, "last_edit_date": 1444694558, "question_id": 33091645, "link": "https://stackoverflow.com/questions/33091645/perl-grep-fails-for-strings-containing-parentheses", "closed_reason": "Duplicate", "title": "perl grep fails for strings containing parentheses", "body": "<p>i am trying to grep some string from an array, the grep always fail for string values which contain parentheses.</p>\n\n<p>so for example following fails to find a match in the array, even though it exists:</p>\n\n<pre><code>$str='my name is Alpha(beta is old)';\n\n@array=(\n'my name is Alpha(beta is old)',\n'my name is beta',\n'my name is Apple(i am fruit)'\n);\n\n$match=grep(/$str/,@array);\n</code></pre>\n\n<p>this fails for all records which have () (i.e. parentheses).</p>\n\n<p>does anyone know how to get around this problem?</p>\n\n<p>thank you.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1444678669, "post_id": 33088857, "comment_id": 53993923, "body": "Have you tried quoting the args? e.g. <code>mossnet.pl -l java -d &quot;Files&#47;*&#47;*.java&quot;</code>"}, {"owner": {"reputation": 303, "user_id": 2607565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/153e60bfa4fa06b5dae2afd758ad1565?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/2607565/david"}, "reply_to_user": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1444679431, "post_id": 33088857, "comment_id": 53994336, "body": "Yep, no luck there. I tried that, I&#39;ve tried reversing the slashes, I&#39;ve tried using the absolute path. Nothing seems to work so long as I&#39;m using wildcards.  I tried on my Mac as well, but there it&#39;s not even working when providing a direct path to a file."}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 2607565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/153e60bfa4fa06b5dae2afd758ad1565?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/2607565/david"}, "edited": false, "score": 0, "creation_date": 1444680293, "post_id": 33089157, "comment_id": 53994751, "body": "Alright, working in PowerShell now -- dir Files/*/*.java works, but the command above still returns the same result: that the file does not exist."}, {"owner": {"reputation": 303, "user_id": 2607565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/153e60bfa4fa06b5dae2afd758ad1565?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/2607565/david"}, "edited": false, "score": 0, "creation_date": 1444680361, "post_id": 33089157, "comment_id": 53994782, "body": "Worth noting: it doesn&#39;t even work with one such wildcard. Even if I specify two folders that I know exist and use only the wildcard in *.java, it still reports that the &quot;file&quot; does not exist."}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "reply_to_user": {"reputation": 303, "user_id": 2607565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/153e60bfa4fa06b5dae2afd758ad1565?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/2607565/david"}, "edited": false, "score": 0, "creation_date": 1444680688, "post_id": 33089157, "comment_id": 53994936, "body": "From your description &quot;uploads either a file or a folder&quot;, it seems it can handle one file or one folder at a time. Could you try with a folder that has some *.java files?"}, {"owner": {"reputation": 303, "user_id": 2607565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/153e60bfa4fa06b5dae2afd758ad1565?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/2607565/david"}, "edited": false, "score": 0, "creation_date": 1444681768, "post_id": 33089157, "comment_id": 53995386, "body": "That&#39;s what I&#39;m trying. Right now I&#39;m trying the simplest case: a folder with a single Java file. When I pass the entire path (Files/Java/file.java), it works. When I replace file.java with *.java, it doesn&#39;t work."}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "reply_to_user": {"reputation": 303, "user_id": 2607565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/153e60bfa4fa06b5dae2afd758ad1565?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/2607565/david"}, "edited": false, "score": 0, "creation_date": 1444681902, "post_id": 33089157, "comment_id": 53995444, "body": "I mean specifying a folder name as argument.       mossnet.pl -l java -d Files/foo2                  If you try this, does it upload all the files in folder &#39;f002&#39; ?"}, {"owner": {"reputation": 303, "user_id": 2607565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/153e60bfa4fa06b5dae2afd758ad1565?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/2607565/david"}, "edited": false, "score": 0, "creation_date": 1444682035, "post_id": 33089157, "comment_id": 53995506, "body": "Oh, good question.  No, it says that the file path is not a text file. I think when the documentation says you can upload &#39;folders&#39;, the wildcard syntax is what it&#39;s referring to -- that with wildcards you can upload everything in a folder."}], "tags": [], "owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1444679656, "creation_date": 1444679656, "answer_id": 33089157, "question_id": 33088857, "link": "https://stackoverflow.com/questions/33088857/difficulty-with-wildcards-when-running-a-perl-script/33089157#33089157", "title": "Difficulty with wildcards when running a Perl script?", "body": "<p>Multiple wild cards in the path, like </p>\n\n<pre><code>Files/*/*.java \n</code></pre>\n\n<p>may not be supported in some basic versions of Windows shell cmd.exe</p>\n\n<p>You may want to try using Power shell or some other shell like Cygwin for this functionality</p>\n\n<p>Try </p>\n\n<pre><code>dir Files/*/*.java\n</code></pre>\n\n<p>or some other command like ls or type in the shell to see if it supports this.</p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 2607565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/153e60bfa4fa06b5dae2afd758ad1565?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/2607565/david"}, "edited": false, "score": 0, "creation_date": 1444784148, "post_id": 33089756, "comment_id": 54044053, "body": "Thank you! I&#39;ll try this at some point, but it definitely sounds like it would work -- for now I&#39;m sticking to running it on a Mac, which is working for some reason."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1444682101, "last_edit_date": 1592644375, "creation_date": 1444682101, "answer_id": 33089756, "question_id": 33088857, "link": "https://stackoverflow.com/questions/33088857/difficulty-with-wildcards-when-running-a-perl-script/33089756#33089756", "title": "Difficulty with wildcards when running a Perl script?", "body": "<p>Yes, it's relevant that you're on Windows. Wildcard expansion in the Windows shell is buggy and the docs recommend (and provide a technique) to handle them yourself:</p>\n<p><a href=\"http://search.cpan.org/dist/perl-5.23.2/README.win32#Command-line_Wildcard_Expansion\" rel=\"nofollow noreferrer\">http://search.cpan.org/dist/perl-5.23.2/README.win32#Command-line_Wildcard_Expansion</a></p>\n<blockquote>\n<p>The default command shells on DOS descendant operating systems (such as they are) usually do not expand wildcard arguments supplied to programs. They consider it the application's job to handle that. This is commonly achieved by linking the application (in our case, perl) with startup code that the C runtime libraries usually provide. However, doing that results in incompatible perl versions (since the behavior of the argv expansion code differs depending on the compiler, and it is even buggy on some compilers). Besides, it may be a source of frustration if you use such a perl binary with an alternate shell that <em>does</em> expand wildcards.</p>\n<p>Instead, the following solution works rather well. The nice things about it are 1) you can start using it right away; 2) it is more powerful, because it will do the right thing with a pattern like <em>/</em>/*.c; 3) you can decide whether you do/don't want to use it; and 4) you can extend the method to add any customizations (or even entirely different kinds of wildcard expansion).</p>\n</blockquote>\n<pre><code>    # Wild.pm - emulate shell @ARGV expansion on shells that don't\n    use File::DosGlob;\n    @ARGV = map {\n                  my @g = File::DosGlob::glob($_) if /[*?]/;\n                  @g ? @g : $_;\n                } @ARGV;\n    1;\n</code></pre>\n<p>To use this, you would do something like</p>\n<pre><code>    C:\\&gt; set PERL5OPT=-MWild\n    C:\\&gt; mossnet.pl -l java -d Files/*/*.java\n</code></pre>\n<p>or</p>\n<pre><code>    C:\\&gt; perl -MWild mossnet.pl -l java -d Files/*/*.java\n</code></pre>\n<p>(or you could put the above code at the beginning of your script)</p>\n"}], "owner": {"reputation": 303, "user_id": 2607565, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/153e60bfa4fa06b5dae2afd758ad1565?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/2607565/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 33089756, "answer_count": 2, "score": 0, "last_activity_date": 1444682101, "creation_date": 1444678428, "question_id": 33088857, "link": "https://stackoverflow.com/questions/33088857/difficulty-with-wildcards-when-running-a-perl-script", "title": "Difficulty with wildcards when running a Perl script?", "body": "<p>I'm running a Perl script (<a href=\"https://theory.stanford.edu/~aiken/moss/\" rel=\"nofollow\">MOSS, Measure of Software Similarity</a>) that uploads either a file or a folder of files to a server, but I'm running into some weird behaviors.</p>\n\n<p>This is supposed to work:</p>\n\n<pre><code>mossnet.pl -l java -d Files/*/*.java\n</code></pre>\n\n<p>However, when I try that, I'm told Files/<em>/</em>.java does not exist (but it does).</p>\n\n<p>But when I instead direct it to a specific file in that directory:</p>\n\n<pre><code>mossnet.pl -l java -d Files/foo/bar.java Files/foo2/bar2.java\n</code></pre>\n\n<p>It works correctly. So, it's able to see the directory structure, but it seems to trip when it's given wildcards.</p>\n\n<p>Any suggestions?</p>\n\n<p>If relevant: I'm on a PC, Windows 7.</p>\n"}, {"tags": ["perl", "filehandle"], "comments": [{"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1444677348, "post_id": 33088227, "comment_id": 53993299, "body": "perl v5.20, maybe that is the reason. Is there anyway to fix this error?"}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1444678522, "post_id": 33088227, "comment_id": 53993854, "body": "Output is good but giving this error message."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1444678561, "post_id": 33088227, "comment_id": 53993878, "body": "Instead of reading to the end of file, you are looping as long as the concatination returns &quot;something true&quot;.  The core of your problem is that you are attempting to read (and use for concatination) lines 4, 5 &amp; 6."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444701439, "post_id": 33088874, "comment_id": 54001743, "body": "I tried same code on both version. Actually, the error is in v5.21 (also mentioned by @toolic in comment) and not in v5.16. This helped me to fix the warnings in v5.21 but I am not able to understand what is going on here in the code. Could you explain little bit more?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444703570, "post_id": 33088874, "comment_id": 54002257, "body": "What happens when there are three lines of text after the <code>__DATA__</code> token in your program and you call <code>&lt;DATA&gt;</code> six times? The first three times it returns the three lines of text, the next three times it returns <code>undef</code>. When you perform most binary operations and one of the operands is <code>undef</code>, and warnings are enabled, you get a <code>Use of uninitialized value ...</code> warning message."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1445111991, "post_id": 33088874, "comment_id": 54187869, "body": "This will fail to work if the last line contains nothing but <code>0</code> (no separator) and is an odd line."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1444679498, "last_edit_date": 1444679498, "creation_date": 1444678542, "answer_id": 33088874, "question_id": 33088227, "link": "https://stackoverflow.com/questions/33088227/why-am-i-getting-an-uninitialized-value-warning-when-reading-two-lines-at-a-time/33088874#33088874", "title": "Why am I getting an uninitialized value warning when reading two lines at a time?", "body": "<p>The readline operator <code>&lt;HANDLE&gt;</code> returns undef when reading from an exhausted filehandle (in scalar handle). So the first warning comes in the 2nd iteration of the <code>while</code> loop when you read the (missing) 4th line from <code>DATA</code>.\nThe next two warnings come from the 3rd iteration, when you call <code>&lt;DATA&gt;</code> twice on an exhausted filehandle.</p>\n\n<p>You can fix this by using an expression that will not be <code>undef</code>. Since you're using perl >=v5.16, you can use</p>\n\n<pre><code>while (my $line = (&lt;DATA&gt; // '') . (&lt;DATA&gt; // '')) { ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444698666, "post_id": 33089022, "comment_id": 54001099, "body": "No, it really is an error. Warnings can indicate errors just as much as exceptions."}], "tags": [], "owner": {"reputation": 242, "user_id": 3393404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2c235fd796f5c4dece7f1457c6401d7?s=128&d=identicon&r=PG&f=1", "display_name": "Dustin", "link": "https://stackoverflow.com/users/3393404/dustin"}, "is_accepted": false, "score": 2, "last_activity_date": 1444740001, "last_edit_date": 1444740001, "creation_date": 1444679112, "answer_id": 33089022, "question_id": 33088227, "link": "https://stackoverflow.com/questions/33088227/why-am-i-getting-an-uninitialized-value-warning-when-reading-two-lines-at-a-time/33089022#33089022", "title": "Why am I getting an uninitialized value warning when reading two lines at a time?", "body": "<p>It's not really an error, its just a warning.  You should get 2 warnings on even line number files, and 3 warnings on odd numbered files.  When it comes through the while expression the first time, it reads from  the first time fine, then when it reads the second time, the filehandle is empty, and it prints the warning.  Because it returned something the first time, it will execute the contents of the while loop.  the last time, it will evaluate the  filestream twice, get nothing and abort the loop, but warn both times it tries to concaticate the empty reads.  If you need a while loop i would do</p>\n\n<pre><code>while ( my $first_lines = &lt;DATA&gt; ) {\n    if (my $second_line = &lt;DATA&gt; ){\n         print $first_lines . $second_line;\n    }else{\n        print $first_lines\n        break;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444701060, "post_id": 33092610, "comment_id": 54001648, "body": "Didn&#39;t work, here is the error: <code>Value of &lt;HANDLE&gt; construct can be &quot;0&quot;; test with defined()</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444702358, "post_id": 33092610, "comment_id": 54001946, "body": "Hum, didn&#39;t know they added that warning. I&#39;ve added a workaround though it&#39;s not really needed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1444702387, "last_edit_date": 1444702387, "creation_date": 1444698842, "answer_id": 33092610, "question_id": 33088227, "link": "https://stackoverflow.com/questions/33088227/why-am-i-getting-an-uninitialized-value-warning-when-reading-two-lines-at-a-time/33092610#33092610", "title": "Why am I getting an uninitialized value warning when reading two lines at a time?", "body": "<p><code>readline</code> aka <code>&lt;$fh&gt;</code> returns undef to signal the end of the file (or an error). You're not checking for that. Fix:</p>\n\n<pre><code>while (1) {\n   defined( my $line1 = &lt;DATA&gt; )\n      or last;\n   defined( my $line2 = &lt;DATA&gt; )\n      or die(\"Premature end of file\\n\");\n\n   print($line1 . $line2);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "is_accepted": false, "score": 0, "last_activity_date": 1445112005, "creation_date": 1445112005, "answer_id": 33191001, "question_id": 33088227, "link": "https://stackoverflow.com/questions/33088227/why-am-i-getting-an-uninitialized-value-warning-when-reading-two-lines-at-a-time/33191001#33191001", "title": "Why am I getting an uninitialized value warning when reading two lines at a time?", "body": "<p>What you may not be aware of is that</p>\n\n<pre><code>while ( my $line = &lt;DATA&gt; ){ ... }\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>while ( defined( my $line = &lt;DATA&gt; ) ){ ... }\n</code></pre>\n\n<p>That transformation only occurs for simple constructs like that.</p>\n\n<p>If it didn't check for <code>defined</code>ness then it could skip the last line if it contained nothing but <code>0</code>.<br>\n( the other lines are guaranteed to have a line separator as well, so they would continue to work correctly. )</p>\n\n<hr>\n\n<p>A way to get it to work similarly for one or two lines at a time is:</p>\n\n<pre><code># take advantage of the built-in transformation\nwhile ( my $two_lines = &lt;DATA&gt; ) {\n  $two_lines .= &lt;DATA&gt; // '';\n\n  ... # your code here\n}\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 33088874, "answer_count": 4, "score": 0, "last_activity_date": 1445112005, "creation_date": 1444675949, "last_edit_date": 1444683281, "question_id": 33088227, "link": "https://stackoverflow.com/questions/33088227/why-am-i-getting-an-uninitialized-value-warning-when-reading-two-lines-at-a-time", "title": "Why am I getting an uninitialized value warning when reading two lines at a time?", "body": "<p>I am trying to read two lines at a time with a <code>while</code> loop but am getting this error:</p>\n\n<pre><code>line    1\nline    2\nline    3\nUse of uninitialized value in concatenation (.) or string at ....\nUse of uninitialized value in concatenation (.) or string at ....\nUse of uninitialized value in concatenation (.) or string at ....\n</code></pre>\n\n<p>Script:</p>\n\n<pre><code>#!/usr/bin/perl \nuse warnings;\nuse strict;\n\nmy $count = 1;\nwhile ( my $two_lines = &lt;DATA&gt; . &lt;DATA&gt; ) {\n    print $two_lines;\n}\n\n\n__DATA__\nline    1\nline    2\nline    3\n</code></pre>\n"}, {"tags": ["perl", "csv"], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 5199588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53d2e142e6df6e73cd33298c737cfcad?s=128&d=identicon&r=PG&f=1", "display_name": "nchimato", "link": "https://stackoverflow.com/users/5199588/nchimato"}, "edited": false, "score": 1, "creation_date": 1444672972, "post_id": 33087223, "comment_id": 53991152, "body": "Thank you so much @Borodin! I would&#39;ve never thought of that, pulling out the values then using the join statement. I still obv. have a lot to learn about Perl&#39;s capabilities. Thanks for the info on the <code>column_names</code> statement too. I had that line in my code at another point but I didn&#39;t reference <code>@$headers</code> properly so I just hashed it out.  Thank you for the info, I added it back in!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 393, "user_id": 5199588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53d2e142e6df6e73cd33298c737cfcad?s=128&d=identicon&r=PG&f=1", "display_name": "nchimato", "link": "https://stackoverflow.com/users/5199588/nchimato"}, "edited": false, "score": 0, "creation_date": 1444673120, "post_id": 33087223, "comment_id": 53991241, "body": "@nchimato: You&#39;re welcome. I have just done some testing, and <code>column_names</code> actually accepts <i>either</i> a list and an array reference, it&#39;s just not documented. So your original code should work fine"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1444673317, "last_edit_date": 1444673317, "creation_date": 1444672092, "answer_id": 33087223, "question_id": 33086932, "link": "https://stackoverflow.com/questions/33086932/is-there-a-way-to-add-columns-using-textcsv-to-create-a-new-column-like-in-r/33087223#33087223", "title": "Is there a way to add columns using Text::CSV to create a new column like in R?", "body": "<p>I thought there was an issue with your call to <code>column_names</code>, as <code>getline</code> returns an array reference whereas <code>column_names</code> expects a list. But after some experimentation it appears that <code>column_names</code> will also accept an array reference. It is just undocumented behaviour. So this is correct</p>\n\n<pre><code>$csv-&gt;column_names($csv-&gt;getline($fh))\n</code></pre>\n\n<p>I would pull out the values to be manipulated and use a simple <code>join</code> statement to build the line</p>\n\n<p>The <code>no warnings</code> is just to stop it warning me that I may be trying to put comments inside a <code>qw</code> list</p>\n\n<pre><code>while ( my $row = $csv-&gt;getline_hr ($fh) ) {\n\n    no warnings 'qw';\n\n    my ($id, $c, $nc) = @{$row}{qw/ DNA_ID #Calls #No_Calls /};\n\n    print join(\"\\t\", $id, $nc, $c + $nc), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 5199588, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53d2e142e6df6e73cd33298c737cfcad?s=128&d=identicon&r=PG&f=1", "display_name": "nchimato", "link": "https://stackoverflow.com/users/5199588/nchimato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 33087223, "answer_count": 1, "score": 0, "last_activity_date": 1444691553, "creation_date": 1444670882, "last_edit_date": 1444691553, "question_id": 33086932, "link": "https://stackoverflow.com/questions/33086932/is-there-a-way-to-add-columns-using-textcsv-to-create-a-new-column-like-in-r", "title": "Is there a way to add columns using Text::CSV to create a new column like in R?", "body": "<p>I'm pretty new to Perl programming. I'm trying to parse a file and create a new one using certain columns from the existing file, duh. Using <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a>, I have the following code so far:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Text::CSV;\n\n# binary, allow special charachters\n# auto diag = 1, report irregularities immediately\nmy $csv = Text::CSV-&gt;new ({ binary =&gt; 1, auto_diag =&gt; 1 , sep_char =&gt; ',' });\n\nmy $file = \"Genome_Studio_DNAReport_No_Header.csv\";\n\nopen(my $fh, \"&lt;:encoding(utf8)\", $file) or die \"Could not open '$file': $!\\n\";\n\n$csv -&gt; column_names($csv-&gt;getline($fh)); # use header to ref cols by name\n\nwhile (my $row = $csv-&gt;getline_hr ($fh)) {    \n    print $row-&gt;{DNA_ID} ,\"\\t\", $row-&gt;{\"#No_Calls\"}, \"\\t\", $row-&gt;{\"#Calls\"}+$row-&gt;{\"#No_Calls\"}\"\\n\"\n}\n\nclose $fh or die \"'$file': $!\";\n</code></pre>\n\n<p>That last part in the <code>print</code> statement where I am trying to add <code>$row-&gt;{\"#Calls\"}</code> and <code>$row-&gt;{\"#No_Calls\"}</code> to create a new column doesn't work obviously, but it's how I would approach it in R. I have looked for a solution to my issue but I'm afraid I'm ridiculously unfamiliar with Perl, and don't understand all of its specific nuances yet. </p>\n\n<p>Can someone help me out and explain to an R user how to make a new variable that combines the two columns I specified above? </p>\n\n<p>Thanks for your suggestions in advance!</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1444668970, "post_id": 33086310, "comment_id": 53989016, "body": "You have a <code>use local::lib</code> somewhere, and you don&#39;t need it any longer if you have everything installed normally"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 5091290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUXLE.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5091290/james"}, "edited": false, "score": 2, "creation_date": 1444684183, "post_id": 33090150, "comment_id": 53996475, "body": "Ah, yes! This is it. It was actually in <code>.bash_profile</code>. Removed it and no more error. Thanks so much!"}, {"owner": {"reputation": 454, "user_id": 7350753, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TqdKq.png?s=128&g=1", "display_name": "Franklin Antony", "link": "https://stackoverflow.com/users/7350753/franklin-antony"}, "edited": false, "score": 0, "creation_date": 1543762040, "post_id": 33090150, "comment_id": 94026033, "body": "I also had the same issue when I installed heroku autocomplete using brew."}], "tags": [], "owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "is_accepted": true, "score": 15, "last_activity_date": 1444684481, "last_edit_date": 1444684481, "creation_date": 1444683751, "answer_id": 33090150, "question_id": 33086310, "link": "https://stackoverflow.com/questions/33086310/perl-compilation-error-cant-locate-local-lib-pm/33090150#33090150", "title": "Perl Compilation Error: &quot;Can&#39;t locate local/lib.pm&quot;", "body": "<p>The <code>local::lib</code> installation instructions tell you to add a line to your <code>.bashrc</code> or <code>.bash_profile</code>.  From your error, it looks like the line</p>\n\n<pre><code>eval \"$(perl -I$HOME/perl5/lib/perl5 -Mlocal::lib)\"\n</code></pre>\n\n<p>is still present.  Look for it and remove it. </p>\n"}], "owner": {"reputation": 87, "user_id": 5091290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUXLE.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5091290/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11405, "favorite_count": 2, "accepted_answer_id": 33090150, "answer_count": 1, "score": 3, "last_activity_date": 1444684481, "creation_date": 1444668619, "last_edit_date": 1495541843, "question_id": 33086310, "link": "https://stackoverflow.com/questions/33086310/perl-compilation-error-cant-locate-local-lib-pm", "title": "Perl Compilation Error: &quot;Can&#39;t locate local/lib.pm&quot;", "body": "<p>As a Perl rookie, I have made a rookie mistake. </p>\n\n<p>I was working on a project that required an HTML parser so I thought I'd install Perl's HTML::TreeBuilder::XPath module, so I dove into cpan and perlbrew without a full understanding of how they work. I created a local library, but would like to return everything back to default. However, I get this error every time I open a terminal window (twice, for some reason):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate local/lib.pm in @INC (@INC contains: \n/Users/James/perl5/lib/perl5\n/Library/Perl/5.12/darwin-thread-multi-2level\n/Library/Perl/5.12\n/Network/Library/Perl/5.12/darwin-thread-multi-2level \n/Network/Library/Perl/5.12 \n/Library/Perl/Updates/5.12.4/darwin-thread-multi-2level \n/Library/Perl/Updates/5.12.4\n/System/Library/Perl/5.12/darwin-thread-multi-2level\n/System/Library/Perl/5.12\n/System/Library/Perl/Extras/5.12/darwin-thread-multi-2level\n/System/Library/Perl/Extras/5.12 .).\nBEGIN failed--compilation aborted.\n</code></pre>\n\n<p>I've seen the similar StackOverflow question <a href=\"https://stackoverflow.com/questions/16702642/cant-locate-local-lib-pm-in-inc-at-usr-share-perl-5-14-cpan-firsttime-pm\">here</a> but I do not have <code>apt-get</code> installed. </p>\n\n<p>How can I reset my machine so that this error no longer appears and it uses the default library? </p>\n"}, {"tags": ["perl", "hash", "system"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1444679654, "post_id": 33086047, "comment_id": 53994438, "body": "See also  <a href=\"http://stackoverflow.com/questions/31472689/passing-hash-reference-as-an-argument-to-perl-script-from-perl-script\">Passing hash reference as an argument to perl script from perl script</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1444668313, "post_id": 33086186, "comment_id": 53988666, "body": "I am sorry I don&#39;t use perl on a regular basis, but I will try to understand your answer and lookup some stuff. Thanks"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1444668674, "post_id": 33086186, "comment_id": 53988864, "body": "Then you should know - what you&#39;re trying to do is harder than you think. There&#39;s a whole chapter on inter process communication under <code>perlipc</code>"}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1444668777, "post_id": 33086186, "comment_id": 53988930, "body": "So, can I convert a hash to an array and pass it to a script? Or it works similar to what you are saying?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1444669017, "post_id": 33086186, "comment_id": 53989042, "body": "No. You can&#39;t pass <i>any</i> complex data structure on the command line. Only text (ish)."}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1444669498, "post_id": 33086186, "comment_id": 53989310, "body": "Thanks for the code! In your script that you showed above, can the $thing object be stored in a new hash?"}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1444678737, "post_id": 33086186, "comment_id": 53993957, "body": "I have another question related to this, instead of system, can I use bsub and pass a hash to another perl script? Like <code>bsub -J \\&quot;${string}\\&quot; -o \\&quot;outdir&#47;${string}.out\\&quot; -e \\&quot;outdir&#47;${string}.err\\&quot; \\&quot;perl rnaseq.pl $frozen ${string}\\&quot;</code>; where ${string} is just the name of my sample."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1444680310, "post_id": 33086186, "comment_id": 53994761, "body": "Probably better to ask that as a new question.  Probably.  But there might be better ways to do it. I assume you can specify input files for exsmplr"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 7, "last_activity_date": 1444669506, "last_edit_date": 1444669506, "creation_date": 1444668199, "answer_id": 33086186, "question_id": 33086047, "link": "https://stackoverflow.com/questions/33086047/pass-a-hash-object-from-one-perl-script-to-another-using-system/33086186#33086186", "title": "Pass a hash object from one perl script to another using system", "body": "<p>What you're looking for is something called serialisation. It's difficult to directly represent a memory structure in such a way as to pass it between processes, because of all sorts of fun things like pointers and buffers.</p>\n\n<p>So you need to turn your hash into something simple enough to hand over in a single go.</p>\n\n<p>Three key options for this in my opinion:</p>\n\n<ul>\n<li><code>Storable</code> - a perl core module that lets you <code>freeze</code> and <code>thaw</code> a data structure for this sort of purpose. </li>\n<li><code>JSON</code> - a text based representation of a hash-like structure.</li>\n<li><code>XML</code> - bit like JSON, but with slightly different strengths/weaknesses.</li>\n</ul>\n\n<p>Which you should use depends a little on how big your data structure is. </p>\n\n<p><code>Storable</code> is probably the simplest, but it's not going to be particularly portable. </p>\n\n<p>There's also <code>Data::Dumper</code> that's an option too, as it prints data structures. Generally though, I'd suggest that has all the downsides of all the above - you still need to parse it like JSON/XML but it's also not portable. </p>\n\n<p>Example using <code>Storable</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Storable qw ( freeze  );\nuse MIME::Base64;\n\nmy %test_hash = (\n    \"fish\"   =&gt; \"paste\",\n    \"apples\" =&gt; \"pears\"\n);\n\nmy $frozen = encode_base64 freeze( \\%test_hash );\n\nsystem( \"perl\", \"some_other_script.pl\", $frozen );\n</code></pre>\n\n<p>Calling:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Storable qw ( thaw );\nuse Data::Dumper;\nuse MIME::Base64;\n\nmy ($imported_scalar) = @ARGV; \nprint $imported_scalar;\nmy $thing =  thaw (decode_base64 $imported_scalar ) ;\nprint Dumper $thing;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>my %param =  %{ thaw (decode_base64 $imported_scalar ) };\nprint Dumper \\%param;\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>BAoIMTIzNDU2NzgEBAQIAwIAAAAKBXBhc3RlBAAAAGZpc2gKBXBlYXJzBgAAAGFwcGxlcw==\n$VAR1 = {\n          'apples' =&gt; 'pears',\n          'fish' =&gt; 'paste'\n        };\n</code></pre>\n\n<p>Doing the same with <code>JSON</code> - which has the advantage of being passed as plain text, and in a general purpose format. (Most languages can parse <code>JSON</code>):</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse JSON; \n\nmy %test_hash = (\n    \"fish\"   =&gt; \"paste\",\n    \"apples\" =&gt; \"pears\"\n);\nmy $json_text = encode_json ( \\%test_hash );\nprint \"Encoded: \",$json_text,\"\\n\";\n\nsystem( \"perl\", \"some_other_script.pl\", quotemeta $json_text );\n</code></pre>\n\n<p>Calling:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse JSON;\nuse Data::Dumper;\n\nmy ($imported_scalar) = @ARGV; \n$imported_scalar =~ s,\\\\,,g;\nprint \"Got: \",$imported_scalar,\"\\n\";\n\nmy $thing =  decode_json $imported_scalar ;\n\nprint Dumper $thing;\n</code></pre>\n\n<p>Need the quotemeta and the removal of slashes unfortunately, because the shell interpolates them. This is the common problem if you're trying to do this sort of thing. </p>\n"}], "owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1481, "favorite_count": 0, "accepted_answer_id": 33086186, "answer_count": 1, "score": 1, "last_activity_date": 1444669506, "creation_date": 1444667739, "last_edit_date": 1444668206, "question_id": 33086047, "link": "https://stackoverflow.com/questions/33086047/pass-a-hash-object-from-one-perl-script-to-another-using-system", "title": "Pass a hash object from one perl script to another using system", "body": "<p>I have the following perl script, that takes in a parameters' file and stores it into a hash. I want to modify &amp; pass this hash to another perl script that I am calling using the system command:</p>\n\n<p>script1.pl</p>\n\n<pre><code>#!/usr/bin/perl -w\n# usage perl script1.pl script1.params\n# script1.params file looks like this:\n# PROJECTNAME=&gt;project_dir\n# FASTALIST=&gt;samples_fastq.csv\n\nuse Data::Dumper;\n\nmy $paramfile = $ARGV[0];\n\n# open parameter file\nopen PARAM, $paramfile or die print $!;\n\n# save it in a hash\nmy %param;\nwhile(&lt;PARAM&gt;)\n{\n        chomp;\n        @r = split('=&gt;');\n        $param{$r[0]}=$r[1];\n}\n\n# define directories\n# add to parameters' hash\n$param{'INDIR'} = $param{'PROJECTNAME'}.'/input';\n$param{'OUTDIR'} = $param{'PROJECTNAME'}.'/output';\n\n.... do something ...\n# @samples is a list of sample names\nforeach (@samples)\n{\n        # for each sample, pass the hash values &amp; sample name to a separate script\n        system('perl script2.pl &lt;hash&gt; $_');\n}\n</code></pre>\n\n<p>script2.pl</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Data::Dumper;\n## usage &lt;script2.pl&gt; &lt;hash&gt; &lt;samplename&gt;\n# something like getting and printing the hash\nmy @string = $ARGV[0];\nprint @string;\n</code></pre>\n\n<p>If you can help me showing how to pass and get the hash object (something simple like printing the hash object in the second script would do), then I'd appreciate your help.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "perl", "sockets"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444667555, "post_id": 33085976, "comment_id": 53988254, "body": "Are you testing that your close/shutdown etc. is in fact working, and what does &#39;netstat -a&#39; tell you when it&#39;s misbehaving? Because this sounds like a too many open sockets problem."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1444667614, "post_id": 33085976, "comment_id": 53988291, "body": "You tell us. Check the return values and <code>$!</code> for each of your socket function calls."}, {"owner": {"reputation": 144, "user_id": 5044937, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vDx7o3xlKPo/AAAAAAAAAAI/AAAAAAAAAvA/dKq_CDG23-E/photo.jpg?sz=128", "display_name": "Warren Spencer", "link": "https://stackoverflow.com/users/5044937/warren-spencer"}, "edited": false, "score": 0, "creation_date": 1444668119, "post_id": 33085976, "comment_id": 53988567, "body": "I agree with Sobrique; I don&#39;t know if what you&#39;re doing allows for it but if it&#39;s possible I suggest refactoring your implementation to reuse sockets if possible"}, {"owner": {"reputation": 113, "user_id": 3669468, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001529134047/picture?type=large", "display_name": "petro4213", "link": "https://stackoverflow.com/users/3669468/petro4213"}, "edited": false, "score": 0, "creation_date": 1444670362, "post_id": 33085976, "comment_id": 53989775, "body": "Thanks for answering so quickly! Neither of the function calls on the socket ever flags an error. Only when creation of a new socket fails, I get      &quot;Only one usage of each socket address (protocol/network address/port) is normally permitted.&quot;  This problem occurs frequently for a few seconds; then all continues to work fine for some minutes until the problem returns (again only for a few seconds). When the problem occurs, I wait 1..3 seconds and retry creating the socket until I finally succeed."}, {"owner": {"reputation": 113, "user_id": 3669468, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001529134047/picture?type=large", "display_name": "petro4213", "link": "https://stackoverflow.com/users/3669468/petro4213"}, "edited": false, "score": 0, "creation_date": 1444670674, "post_id": 33085976, "comment_id": 53989956, "body": "David: What do you mean with &quot;why do you do this?&quot;. Do you mean re-creating the socket all the time? If so: I don&#39;t know, how to re-use it. Can you tell me?"}, {"owner": {"reputation": 113, "user_id": 3669468, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001529134047/picture?type=large", "display_name": "petro4213", "link": "https://stackoverflow.com/users/3669468/petro4213"}, "edited": false, "score": 0, "creation_date": 1444681272, "post_id": 33085976, "comment_id": 53995170, "body": "Sobrique: I&#39;m sorry, but I&#39;m on a Windows machine and the problem disappears after some seconds. I&#39;m not sure, whether I could issue a meaningful &quot;netstat -a&quot; at the right point in time. Anyway, the error message implies that there&#39;s something going on, which makes the kernel assume, that the socket is still in use. If I knew, how to re-use the socket, I think the problem would be solved."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1444739308, "post_id": 33085976, "comment_id": 54020169, "body": "Do you want to handle only &quot;one the same host&quot; situation? YES =&gt; consider switching to UDP (instead of TCP) over UNIX socket."}, {"owner": {"reputation": 113, "user_id": 3669468, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001529134047/picture?type=large", "display_name": "petro4213", "link": "https://stackoverflow.com/users/3669468/petro4213"}, "edited": false, "score": 0, "creation_date": 1445892701, "post_id": 33085976, "comment_id": 54506586, "body": "Hi Andrzej, thanks for the hint. At the moment, I don&#39;t know at all, what the implications are, if I change from TCP to UDP. I even don&#39;t know, if I have to change the way, the data transmission is done (currently I do -&gt;send() and -&gt;recv() calls and I -&gt;shutdown() and then -&gt;close() the connection to tell the server, that I&#39;m done. Without these, it simply waits for more data and I couldn&#39;t get it working)."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 3669468, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001529134047/picture?type=large", "display_name": "petro4213", "link": "https://stackoverflow.com/users/3669468/petro4213"}, "edited": false, "score": 0, "creation_date": 1445892510, "post_id": 33108574, "comment_id": 54506477, "body": "Hi - I still couldn&#39;t make it work. Changing the timeout is anyway not the best solution. Although I have the SO_REUSEADDR flag set, the connections are not re-used. I also tried on the client side (which might tell you, that I really don&#39;t know, what exactly is going on when the connection is established between client and server). I&#39;ve been reading through so many tutorials now, but they all only handle these one-shot clients. I never found any example, that showed how to implement a client, that is constantly re-connecting."}], "tags": [], "owner": {"reputation": 113, "user_id": 3669468, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001529134047/picture?type=large", "display_name": "petro4213", "link": "https://stackoverflow.com/users/3669468/petro4213"}, "is_accepted": false, "score": 0, "last_activity_date": 1444756077, "creation_date": 1444756077, "answer_id": 33108574, "question_id": 33085976, "link": "https://stackoverflow.com/questions/33085976/socket-creation-fails-after-many-successful-attempts/33108574#33108574", "title": "Socket creation fails after many successful attempts", "body": "<p>I know now, what happens: The hint from Sobrique was the essential one. I checked with \"netstat -a\" how the situation looks like, before I run my program and again, when it is running.</p>\n\n<p>It appears that each socket I create stays there for some minutes, even if it has been closed by Perl. The connection stays in the list in state TIME_WAIT. If I create and destroy the socket many thousand times in a period shorter than the waiting time, then the system runs out of ephemeral ports (which are the port number automatically assigned to the client socket when it is created; this counts up from 0xC000 = 49152 to 0xFFFF = 65535 or so). When 65535 is reached before 49152 has been cleaned up, no new socket can be created. After some time, the system cleans up some connections, thus freeing some ephemerall port numbers, and then new sockets can be created again.</p>\n\n<p>Now I found several posts that tell how to make the waiting time shorter, which would make the kernel clean up the list much quicker and my application wouldn't be fast enough anymore to overrun the system.</p>\n\n<p>However I didn't find the registry key on my system. Maybe I have to get into Admin mode - but that's another problem that should be easier to solve...</p>\n\n<p>Thanks for your help!</p>\n"}], "owner": {"reputation": 113, "user_id": 3669468, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001529134047/picture?type=large", "display_name": "petro4213", "link": "https://stackoverflow.com/users/3669468/petro4213"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 436, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444756077, "creation_date": 1444667478, "last_edit_date": 1444668777, "question_id": 33085976, "link": "https://stackoverflow.com/questions/33085976/socket-creation-fails-after-many-successful-attempts", "title": "Socket creation fails after many successful attempts", "body": "<p>I'm using a client/server connection on \"localhost\", with the Server written in Python and the client written in Perl.</p>\n\n<p>Each time the (Perl) client transmits data to the server, I currently create a new socket with the line:</p>\n\n<pre><code>my $socket = new IO::Socket::INET ( PeerHost =&gt; inet_ntoa($self-&gt;{server}),\n                                    PeerPort =&gt; $self-&gt;{port},  Proto =&gt; 'tcp' );\n</code></pre>\n\n<p>I then send data with the send method and call shutdown with option 1 (done writing). Then I receive a response with the recv method and call shutdown with option 2 (done reading). Then I call close on the socket. In Perl this reads:</p>\n\n<pre><code>$socket-&gt;send($record);\nshutdown($socket, 1);\nmy $response = \"\";\n$socket-&gt;recv($response, BUF_SIZE);\nshutdown($socket, 0);\n$socket-&gt;close();\n</code></pre>\n\n<p>As my socket is stored in a local variable, I would expect it to get garbage collected, once I leave my send function. However, the memory footprint gets larger by some kilobytes, each time I create a new socket.</p>\n\n<p>Then, after many thousands of calls, the creation of a new socket fails. If I then wait for some seconds and try again, it usually gets created OK, although the memory footprint of the process didn't change during that time.</p>\n\n<p>Can someone tell me a reason for this strange behavior or even a solution to avoid it?</p>\n\n<p>Just for completion - this is how the server socket is created in Python:</p>\n\n<pre><code>comm_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ncomm_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\ncomm_socket.bind((TCP_IP, TCP_PORT))\ncomm_socket.listen(1)\n</code></pre>\n"}, {"tags": ["regex", "linux", "perl"], "comments": [{"owner": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 1, "creation_date": 1444663648, "post_id": 33084749, "comment_id": 53985930, "body": "Shouldn&#39;t there be another <code>\\b</code> in <code>s&#47;\\b\\Q$word\\E\\s?&#47;&#47;sg;</code> so that: <code>s&#47;\\b\\Q$word\\E\\b&#47;&#47;sg;</code>"}, {"owner": {"reputation": 2518, "user_id": 1115169, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/uAKZn.jpg?s=128&g=1", "display_name": "pbu", "link": "https://stackoverflow.com/users/1115169/pbu"}, "reply_to_user": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 0, "creation_date": 1444664010, "post_id": 33084749, "comment_id": 53986178, "body": "@hjpotter92 Thats it, post that as answer. :J"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444664791, "post_id": 33084749, "comment_id": 53986674, "body": "Also: Turn on <code>strict</code> and <code>warnings</code>. Lexical 3 arg file opens are a good idea, especially when you&#39;re getting the filename off the arg list. You also don&#39;t need to explicitly assign <code>$_</code> in your while loop. If you&#39;re doing that, either use a different (meaningful) name or just don&#39;t - <code>while ( &lt;$file&gt;) </code> does exactly the same."}], "answers": [{"tags": [], "owner": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "is_accepted": true, "score": 1, "last_activity_date": 1444664243, "creation_date": 1444664243, "answer_id": 33084989, "question_id": 33084749, "link": "https://stackoverflow.com/questions/33084749/perl-removing-words-from-file1-with-file2/33084989#33084989", "title": "Perl removing words from file1 with file2", "body": "<p>Use word-boundary on both sides of your <code>$word</code>. Currently, you are only checking for it at the beginning.</p>\n\n<p>You won't need the <code>\\s?</code> condition with the <code>\\b</code> in place:</p>\n\n<pre><code>$text =~ s/\\b\\Q$word\\E\\b//sg;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1395, "user_id": 252489, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f5f3c9e216adc1a98897f99ec581853a?s=128&d=identicon&r=PG", "display_name": "Gowtham", "link": "https://stackoverflow.com/users/252489/gowtham"}, "is_accepted": false, "score": 0, "last_activity_date": 1444664267, "creation_date": 1444664267, "answer_id": 33084995, "question_id": 33084749, "link": "https://stackoverflow.com/questions/33084749/perl-removing-words-from-file1-with-file2/33084995#33084995", "title": "Perl removing words from file1 with file2", "body": "<p>Your regex is not strict enough.</p>\n\n<pre><code>$text =~ s/\\b\\Q$word\\E\\s?//sg;\n</code></pre>\n\n<p>When <code>$word</code> is <code>a</code>, the command is effectively <code>s/\\ba\\s?//sg</code>. This means, remove all occurrences of a new word starting with <code>a</code> followed by zero or more whitespace. In <code>afterwards</code>, this will successfully match the first <code>a</code>. </p>\n\n<p>You can make the match more stricter by ending word with another <code>\\b</code>. Like</p>\n\n<pre><code>$text =~ s/\\b\\Q$word\\E\\b\\s?//sg;\n</code></pre>\n"}], "owner": {"reputation": 2518, "user_id": 1115169, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/uAKZn.jpg?s=128&g=1", "display_name": "pbu", "link": "https://stackoverflow.com/users/1115169/pbu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 33084989, "answer_count": 2, "score": 2, "last_activity_date": 1444664267, "creation_date": 1444663488, "question_id": 33084749, "link": "https://stackoverflow.com/questions/33084749/perl-removing-words-from-file1-with-file2", "title": "Perl removing words from file1 with file2", "body": "<p>I am using a perl script to remove all stopwords in a text. The stop words are stored one by line. I am using Mac OSX command line and perl is installed correctly.</p>\n\n<p>This script is not working properly and has a boundary problem.</p>\n\n<pre><code>#!/usr/bin/env perl -w\n# usage: script.pl words text &gt;newfile\nuse English;\n\n# poor man's argument handler\nopen(WORDS, shift @ARGV) || die \"failed to open words file: $!\";\nopen(REPLACE, shift @ARGV) || die \"failed to open replacement file: $!\";\n\nmy @words;\n# get all words into an array\nwhile ($_=&lt;WORDS&gt;) { \n  chop; # strip eol\n  push @words, split; # break up words on line\n}\n\n# (optional)\n# sort by length (makes sure smaller words don't trump bigger ones); ie, \"then\" vs \"the\"\n@words=sort { length($b) &lt;=&gt; length($a) } @words;\n\n# slurp text file into one variable.\nundef $RS;\n$text = &lt;REPLACE&gt;;\n\n# now for each word, do a global search-and-replace; make sure only words are replaced; remove possible following space.\nforeach $word (@words) { \n     $text =~ s/\\b\\Q$word\\E\\s?//sg;\n}\n\n# output \"fixed\" text\nprint $text;\n</code></pre>\n\n<h1>sample.txt</h1>\n\n<pre><code>$ cat sample.txt\nhow about i decide to look at it afterwards what\nacross do you think is it a good idea to go out and about i \nthink id rather go up and above\n</code></pre>\n\n<h1>stopwords.txt</h1>\n\n<pre><code>I\na\nabout\nan\nare\nas\nat\nbe\nby\ncom\nfor\nfrom\nhow\nin\nis\nit\n..\n</code></pre>\n\n<h1>Output:</h1>\n\n<pre><code>$ ./remove.pl stopwords.txt sample.txt \ni decide look fterwards cross do you think good idea go out d i \nthink id rather go up d bove\n</code></pre>\n\n<p>As you can see, it replaces afterwards using a as fterwards. Think its a regex problem. Please can somebody help me to patch this quickly? Thanks for all the help :J</p>\n"}, {"tags": ["arrays", "windows", "perl", "csv", "hash"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1444659722, "post_id": 33083455, "comment_id": 53983300, "body": "Unfortunately I cannot use module.But I shall try this join tip .I will let you know Thank you"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1444660203, "post_id": 33083455, "comment_id": 53983638, "body": "It really is the easiest way of &#39;doing&#39; CSV data. Of course, given a multi-line address, that&#39;s not necessarily the right way to go in the first place. Have you considered XML output?"}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1444660470, "post_id": 33083455, "comment_id": 53983830, "body": "Actually once i am able to print the multi line address aswell in csv I thought to perform sort so that the order will be student name then DOB then address . I am struggling to print this multi line address and i have to do it without using module.I shall try printing in XML as suggested. thanks"}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1444660752, "post_id": 33083455, "comment_id": 53984036, "body": "Hi I tried outputting it to xml and i am able to manage the sort order but I am struggling with the same problem, printing arrays to csv :("}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1444662918, "post_id": 33083455, "comment_id": 53985495, "body": "Join worked for me . but it doesnot print the entire thing in one cell it prints to the next cell . thanks"}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1444663595, "post_id": 33083455, "comment_id": 53985894, "body": "modifying join to    $student -&gt; {address} = join (&quot;\\n\\t\\t &quot;, @{$student-&gt;{address}}); Worked perfectly ....."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1444660164, "last_edit_date": 1444660164, "creation_date": 1444659467, "answer_id": 33083455, "question_id": 33083309, "link": "https://stackoverflow.com/questions/33083309/how-to-send-hash-of-hash-of-array-items-to-csv/33083455#33083455", "title": "How to send hash of hash of array items to csv", "body": "<p>Use <a href=\"http://search.cpan.org/~makamaka/Text-CSV-1.33/lib/Text/CSV.pm\" rel=\"nofollow\"><code>Text::CSV</code></a> - you can either use <code>print</code> if you've got an array reference to print. (It handles quoting for you).</p>\n\n<p>Or you can use <code>column_names</code> to set the column ordering, and <code>print_hr</code> to output a hash ref in that order. </p>\n\n<p>It looks like you're not worried about <code>RollNumber</code> so you can cheat and do:</p>\n\n<pre><code>foreach my $student ( values %student_hash ) { \n\n}\n</code></pre>\n\n<p>To iterate. I'm unclear what you're trying to do with <code>address</code>. But a simple <code>join</code> would probably do the trick there. (either on linefeed or whitespace, depending on the desired output). </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Text::CSV;\n\nmy %student_hash = (\n    'RollNummber1' =&gt; {\n        'studentname' =&gt; 'Boris',\n        'address'     =&gt; [ 'Vietnam', 'local' ],\n        'DOB'         =&gt; '5june2000'\n\n    },\n    'RollNummber2' =&gt; {\n        'studentname' =&gt; 'John',\n        'address' =&gt; [ '4th/floor', 'Culverdown/Street', 'WestHam', 'UK.', ],\n        'DOB'     =&gt; '2feb2000'\n\n    },\n    'RollNummber3' =&gt; {\n        'studentname' =&gt; 'Karen',\n        'DOB'         =&gt; '5march2000'\n\n    }\n);\n\nmy $csv = Text::CSV-&gt;new( { sep_char =&gt; ',', eol =&gt; \"\\n\" } );\n$csv-&gt;column_names( 'studentname', 'DOB', 'address' );\nforeach my $student ( values %student_hash ) {\n    if ( defined $student -&gt; {address} ) { \n        $student -&gt; {address} = join (\" \", @{$student-&gt;{address}});\n    }\n\n    $csv-&gt;print_hr( \\*STDOUT, $student );\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 33083455, "answer_count": 1, "score": 0, "last_activity_date": 1444660164, "creation_date": 1444658994, "question_id": 33083309, "link": "https://stackoverflow.com/questions/33083309/how-to-send-hash-of-hash-of-array-items-to-csv", "title": "How to send hash of hash of array items to csv", "body": "<p>Hash of Hash of values were printing correctly to csv but hash of hash of array values are messing up my csv file. Please find my code below which is not working. </p>\n\n<pre><code>&lt;    use strict;\n     use warnings;\n     use Data::Dumper;\n\n     my %student_hash;\n     my $student_report = \"StudentReport.csv\";\n\n     %student_hash = (\n            'RollNummber1' =&gt; {\n                               'studentname' =&gt; 'Boris',\n                               'address' =&gt; ['Vietnam',\n                                             'local'\n                                            ],\n                               'DOB' =&gt; '5june2000'\n\n                               },\n            'RollNummber2' =&gt; {\n                               'studentname' =&gt; 'John',\n                               'address' =&gt; [ \n                                             '4th/floor',\n                                             'Culverdown/Street',\n                                             'WestHam',\n                                             'UK.',\n                                            ],\n                               'DOB' =&gt; '2feb2000'\n\n                               },\n            'RollNummber3' =&gt; {\n                               'studentname' =&gt; 'Karen',\n                               'DOB' =&gt; '5march2000'\n\n                              }\n           );\n\n          print \"StudentHash:\".Dumper(\\%student_hash);\n\n          open(my $fh, '&gt;', $student_report) or die(\"Couldn't open ile\");\n          print $fh \"DOB \\t,ADDRESS \\t,NAME \\t\\n\";\n\n          foreach my $key(keys %student_hash){\n           foreach my $secondkeys (keys %{$student_hash{$key}}){\n\n             if($secondkeys =~ /DOB || studentname/) {\n               print $fh \"$student_hash{$key}{$secondkeys} \\t,\"; } \n             if($secondkeys =~ /address/) {\n               print $fh Dumper $student_hash{$key}{$secondkeys} }; \n        }\n    print $fh \"\\n\";\n }\n close($fh);&gt;\n</code></pre>\n\n<p>If I comment out printing the array part then the code works fine.Can someone please suggest how to print the array elements into csv either in one cell or in multiple cells.Thanks</p>\n"}, {"tags": ["perl", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5436812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47987d612554e60239449e971f1b2a6f?s=128&d=identicon&r=PG&f=1", "display_name": "Whirlybird", "link": "https://stackoverflow.com/users/5436812/whirlybird"}, "edited": false, "score": 0, "creation_date": 1444658117, "post_id": 33082561, "comment_id": 53982230, "body": "Thanks for spotting the little typo! :) I now get the same as when I use $driver-&gt;find_element_by_id(&quot;card.billingAddress.houseNumber&zwnj;&#8203;OrName&quot;)-&gt;clear which is &quot;Element is not currently visible and so may not be interacted with&quot; Any ideas on why that doesn&#39;t work?"}, {"owner": {"reputation": 411831, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 21, "user_id": 5436812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47987d612554e60239449e971f1b2a6f?s=128&d=identicon&r=PG&f=1", "display_name": "Whirlybird", "link": "https://stackoverflow.com/users/5436812/whirlybird"}, "edited": false, "score": 0, "creation_date": 1444658512, "post_id": 33082561, "comment_id": 53982502, "body": "@Whirlybird could you please make sure there are no other elements with the same ID on the page?"}, {"owner": {"reputation": 21, "user_id": 5436812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47987d612554e60239449e971f1b2a6f?s=128&d=identicon&r=PG&f=1", "display_name": "Whirlybird", "link": "https://stackoverflow.com/users/5436812/whirlybird"}, "edited": false, "score": 0, "creation_date": 1444660814, "post_id": 33082561, "comment_id": 53984072, "body": "That is correct, the only thing is that the name and id properties of the input tag are both identical"}, {"owner": {"reputation": 411831, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 21, "user_id": 5436812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47987d612554e60239449e971f1b2a6f?s=128&d=identicon&r=PG&f=1", "display_name": "Whirlybird", "link": "https://stackoverflow.com/users/5436812/whirlybird"}, "edited": false, "score": 0, "creation_date": 1444660910, "post_id": 33082561, "comment_id": 53984140, "body": "@Whirlybird okay, so there is only one element with this <code>id</code>. Are you sure the element is actually visible - can you see it displayed during the test run?"}, {"owner": {"reputation": 21, "user_id": 5436812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47987d612554e60239449e971f1b2a6f?s=128&d=identicon&r=PG&f=1", "display_name": "Whirlybird", "link": "https://stackoverflow.com/users/5436812/whirlybird"}, "edited": false, "score": 0, "creation_date": 1444661814, "post_id": 33082561, "comment_id": 53984733, "body": "Unfortunately, due to limitations with my setup, I can&#39;t view the test as it happens, but I can directly replicate the test in a browser window, and can see, using inspect element in Chrome, that the computed style should render it visible : -webkit-app-region: no-drag; -webkit-appearance: none; -webkit-background-composite: source-over; -webkit-mask-repeat: repeat; -webkit-user-modify: read-only; -webkit-user-select: text;  display: inline-block; visibility: visible; -webkit-writing-mode: horizontal-tb;"}, {"owner": {"reputation": 411831, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 21, "user_id": 5436812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47987d612554e60239449e971f1b2a6f?s=128&d=identicon&r=PG&f=1", "display_name": "Whirlybird", "link": "https://stackoverflow.com/users/5436812/whirlybird"}, "edited": false, "score": 0, "creation_date": 1444666743, "post_id": 33082561, "comment_id": 53987844, "body": "@Whirlybird got it, are you using some sort of a headless setup?..also, you may try waiting for an element to become visible (could be that the element is not becoming visible right away).."}, {"owner": {"reputation": 21, "user_id": 5436812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47987d612554e60239449e971f1b2a6f?s=128&d=identicon&r=PG&f=1", "display_name": "Whirlybird", "link": "https://stackoverflow.com/users/5436812/whirlybird"}, "edited": false, "score": 0, "creation_date": 1444748030, "post_id": 33082561, "comment_id": 54026643, "body": "Yes, ssh access only to the test environment.  Local boxes &amp; network are too locked down.  I have built in a 20 second retry loop, but it still isn&#39;t there.  I am pretty certain that it is to do with the dots in the middle of the name/id values, as the same approach works fine on the pages that I own.  I was just hoping someone might of had experience testing Barclaycard Smartpay payment pages with Selenium and point me in the right direction"}], "tags": [], "owner": {"reputation": 411831, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1444656901, "creation_date": 1444656901, "answer_id": 33082561, "question_id": 33082554, "link": "https://stackoverflow.com/questions/33082554/issue-finding-elements-using-seleniumremotedriver-in-perl/33082561#33082561", "title": "Issue finding elements using Selenium::Remote::Driver in Perl", "body": "<p>You are missing the closing <code>]</code>. Replace:</p>\n\n<pre><code>'//input[@id=\"card.billingAddress.houseNumberOrName\"'\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>'//input[@id=\"card.billingAddress.houseNumberOrName\"]'\n                                               HERE ^\n</code></pre>\n\n<hr>\n\n<p>Note that you might simplify it by switching directly to the <code>find_element_by_id()</code> method.</p>\n"}], "owner": {"reputation": 21, "user_id": 5436812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47987d612554e60239449e971f1b2a6f?s=128&d=identicon&r=PG&f=1", "display_name": "Whirlybird", "link": "https://stackoverflow.com/users/5436812/whirlybird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1444657180, "creation_date": 1444656863, "last_edit_date": 1444657180, "question_id": 33082554, "link": "https://stackoverflow.com/questions/33082554/issue-finding-elements-using-seleniumremotedriver-in-perl", "title": "Issue finding elements using Selenium::Remote::Driver in Perl", "body": "<p>As part of a test scrip I have to redirect to a 3rd party hosted payment page.  However, when I try and find the input box elements it errors slightly differently depending on which call I try:</p>\n\n<pre><code>$driver-&gt;find_element_by_id(\"card.billingAddress.houseNumberOrName\")-&gt;clear \n</code></pre>\n\n<p>returns \"Element is not currently visible and so may not be interacted with\"</p>\n\n<pre><code>$driver-&gt;find_element_by_xpath('//input[@id=\"card.billingAddress.houseNumberOrName\"')-&gt;clear \n</code></pre>\n\n<p>returns \"SyntaxError: The expression is not a legal expression.\"</p>\n\n<p>The source of the section I am searching  is:</p>\n\n<pre><code>&lt;tr&gt;\n   &lt;td colspan=\"2\"&gt;&lt;div class=\"fieldSubHeader\"&gt;Billing Address&lt;/div&gt;\n   &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td&gt;&lt;div id=\"idAddress1_card\" style=\"display:inline\"&gt;Address 1&lt;/div&gt;\n       &lt;div id=\"idHouseNumberOrName_card\" style=\"display:none\"&gt;House Number/Name\n   &lt;/div&lt;/td&gt;\n   &lt;td&gt;&lt;div class=\"fieldDiv\" id=\"idDivAddress1_card\"&gt;\n       &lt;input type=\"text\" class=\"inputField\" id=\"card.billingAddress.houseNumberOrName\"   name=\"card.billingAddress.houseNumberOrName\"  value=\"\" size=\"15\" maxlength=\"40\" /&gt;\n   &lt;/div&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>Is it the . in the ID that is causing the issue?</p>\n\n<p>(I have checked the computed CSS and it is not hidden!)</p>\n\n<p>Many thanks</p>\n"}, {"tags": ["perl", "arguments", "exe"], "answers": [{"tags": [], "owner": {"reputation": 8276, "user_id": 3501958, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/weWwl.png?s=128&g=1", "display_name": "hata", "link": "https://stackoverflow.com/users/3501958/hata"}, "is_accepted": true, "score": 2, "last_activity_date": 1444725807, "last_edit_date": 1444725807, "creation_date": 1444656479, "answer_id": 33082404, "question_id": 33082317, "link": "https://stackoverflow.com/questions/33082317/run-exe-from-perl-with-several-argument-as-variables/33082404#33082404", "title": "Run exe from perl with several argument as variables", "body": "<p>You can put multiple arguments with comma-separated (just an array).</p>\n\n<pre><code>system($path, $arg1, $arg2, $arg3, ...);\n</code></pre>\n\n<p>See: <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\">perldoc</a></p>\n"}], "owner": {"reputation": 561, "user_id": 1974272, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/40fd8c37aba4fc96a6788942e4694360?s=128&d=identicon&r=PG&f=1", "display_name": "Epligam", "link": "https://stackoverflow.com/users/1974272/epligam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "accepted_answer_id": 33082404, "answer_count": 1, "score": 1, "last_activity_date": 1444725807, "creation_date": 1444656210, "last_edit_date": 1444656609, "question_id": 33082317, "link": "https://stackoverflow.com/questions/33082317/run-exe-from-perl-with-several-argument-as-variables", "title": "Run exe from perl with several argument as variables", "body": "<p>I'm trying to run an exe file in Perl on windows using the system command.</p>\n\n<p>The exe should get several arguments which are all variables. But it fails with the error \"Can't spawn\" (as well as some other errors)</p>\n\n<p>I tried several ways ( some don\u2019t make any sense )</p>\n\n<pre><code>  system ($some_exe, \u201c$PARAM1\" \u201c$PARAM2);\n  system ($some_exe.\u201c$PARAM1\".\u201c$PARAM2);\n  @args = ($some_exe, \u201c$PARAM1\" \u201c$PARAM2);      \n  system(@args)\n</code></pre>\n\n<p>So how can I do that ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444655465, "post_id": 33081929, "comment_id": 53980444, "body": "Are you trying to create XML with XML::Simple?"}, {"owner": {"reputation": 2804, "user_id": 1455182, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb54fe28625d379b27e4bbc9bf20826e?s=128&d=identicon&r=PG", "display_name": "BluGeni", "link": "https://stackoverflow.com/users/1455182/blugeni"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444655564, "post_id": 33081929, "comment_id": 53980511, "body": "@simbabque no, the output is just a Data::Dumper of my hashref"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1444655633, "post_id": 33081929, "comment_id": 53980547, "body": "I know it is. But it looks like you are constructing input for XML::Simple to turn it into XML. I&#39;m glad you are not. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444655710, "post_id": 33081929, "comment_id": 53980582, "body": "So you want <code>[ { ABC =&gt; [ { ABC1234 =&gt; { ... } }, { ABC56788 =&gt; { ... } } ], EFG =&gt; ... } ]</code> ?"}, {"owner": {"reputation": 2804, "user_id": 1455182, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb54fe28625d379b27e4bbc9bf20826e?s=128&d=identicon&r=PG", "display_name": "BluGeni", "link": "https://stackoverflow.com/users/1455182/blugeni"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444655774, "post_id": 33081929, "comment_id": 53980621, "body": "@simbabque Yes I believe that is exactly what I want."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1444656241, "post_id": 33081929, "comment_id": 53980932, "body": "This looks like an incredibly complicated structure, and thus I am suspicious that we have an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1444656283, "post_id": 33081929, "comment_id": 53980956, "body": "Yep, I agree @Sobrique. That&#39;s why I asked for the XML::Simple. It&#39;s certainly not hard to do that. I&#39;m right now struggling to make a working example that is readable."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444656388, "post_id": 33081929, "comment_id": 53981032, "body": "Yeah, likewise - I started, and then realised it was annoying difficult without the source data."}], "answers": [{"comments": [{"owner": {"reputation": 2804, "user_id": 1455182, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb54fe28625d379b27e4bbc9bf20826e?s=128&d=identicon&r=PG", "display_name": "BluGeni", "link": "https://stackoverflow.com/users/1455182/blugeni"}, "edited": false, "score": 0, "creation_date": 1444656966, "post_id": 33082443, "comment_id": 53981436, "body": "This helps a lot, small question: what does the =&gt; do in this instance?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444657151, "post_id": 33082443, "comment_id": 53981560, "body": "It&#39;s a way of indicating a relationship in a hash. E.g. <code>my %hash = ( $key1 =&gt; $value1, $key2 =&gt; $value2 );</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444657180, "post_id": 33082443, "comment_id": 53981578, "body": "There is a bit more to it than that, technically. <a href=\"https://en.wikipedia.org/wiki/Fat_comma\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Fat_comma</a>"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1444656588, "creation_date": 1444656588, "answer_id": 33082443, "question_id": 33081929, "link": "https://stackoverflow.com/questions/33081929/define-array-when-making-hash-from-arrayref/33082443#33082443", "title": "Define array when making hash from arrayref", "body": "<p>To get your <em>long keys</em> into individual array refs, you need to change the assignment of your data structure. I've added a bunch of example data.</p>\n\n<pre><code># input data\nmy $vehicles = [\n    {\n        'Z' =&gt; '12',\n        'X' =&gt; '11',\n        'Y' =&gt; '0',\n\n    },\n    {\n        'Z' =&gt; '300',\n        'X' =&gt; '2001',\n        'Y' =&gt; '100000',\n    }\n];\nmy $list = [ { ID_NUMBER =&gt; 'ABC1234' }, { ID_NUMBER =&gt; 'ABC56778' } ];\n\n# output data\nmy $endResult;\nforeach my $hash_ref (@$list) {\n    my $hash; # needs to be inside of the loop!\n    if ( substr( $hash_ref-&gt;{ID_NUMBER}, 0, 3 ) eq 'ABC' ) {\n        push @{ $hash-&gt;{'ABC'} }, {         # this becomes the array\n            $hash_ref-&gt;{ID_NUMBER} =&gt; {     # and everything below needs\n                VEHICLES =&gt; $vehicles,      # to be constructed directly\n            }\n        };\n        push @$endResult, $hash;\n    }\n}\n</code></pre>\n\n<p>This will yield the following data structure (output with <a href=\"http://p3rl.org/Data::Printer\" rel=\"nofollow\">Data::Printer</a>):</p>\n\n<pre><code>\\ [\n    [0] {\n        ABC   [\n            [0] {\n                ABC1234   {\n                    VEHICLES   [\n                        [0] {\n                            X   11,\n                            Y   0,\n                            Z   12\n                        },\n                        [1] {\n                            X   2001,\n                            Y   100000,\n                            Z   300\n                        }\n                    ]\n                }\n            }\n        ]\n    },\n    [1] {\n        ABC   [\n            [0] {\n                ABC56778   {\n                    VEHICLES   var[0]{ABC}[0]{ABC1234}{VEHICLES}\n                }\n            }\n        ]\n    }\n]\n</code></pre>\n\n<p>Please note that your choice of variable names makes this very complicated. It's hard to read and will be hell to maintain later. Always pick variable names based on what they represent. Name them something like <code>$vehicle</code>, <code>$ids</code> or <code>$stuff_we_need_to_take_care_off_later</code>, but not <code>$hash</code><sup>1)</sup>. </p>\n\n<p><sup> 1: Unless you work with a hashing algorithm and we're talking about the result. :)</sup></p>\n"}], "owner": {"reputation": 2804, "user_id": 1455182, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb54fe28625d379b27e4bbc9bf20826e?s=128&d=identicon&r=PG", "display_name": "BluGeni", "link": "https://stackoverflow.com/users/1455182/blugeni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 33082443, "answer_count": 1, "score": 0, "last_activity_date": 1444662548, "creation_date": 1444655198, "last_edit_date": 1444662548, "question_id": 33081929, "link": "https://stackoverflow.com/questions/33081929/define-array-when-making-hash-from-arrayref", "title": "Define array when making hash from arrayref", "body": "<p>I am not sure if I am using the correct terminology here but I am trying to loop through an array and create a hash of arrays and values.</p>\n\n<p>Currently my code looks like this:</p>\n\n<pre><code>my $endResult;\nmy $list = $arrayRef;  \nmy $hash;\n\nforeach my $hash_ref ( @$list ) {\n\n    if ( substr($hash_ref-&gt;{ID_NUMBER}, 0, 3) eq 'ABC' ) {\n\n        $hash-&gt;{'ABC'}{$hash_ref-&gt;{ID_NUMBER}}-&gt;{'VEHICLES'} = $arrayRef1;\n\n        push(@$endResult, $hash);\n    }\n\n... #more ID number if statementss with different id numbers \n</code></pre>\n\n<p>and I get an output like this:</p>\n\n<pre><code>[\n  {\n    ABC =&gt; {\n             ABC1234  =&gt; {\n                           VEHICLES =&gt; [\n                             { X =&gt; 11, Y =&gt; 0, Z =&gt; 12 },\n                             { X =&gt; 2001, Y =&gt; 100000, Z =&gt; 300 },\n                           ],\n                         },\n             ABC56778 =&gt; {\n                           VEHICLES =&gt; [\n                             { X =&gt; 1324, Y =&gt; 0, Z =&gt; 234 },\n                             { X =&gt; 666, Y =&gt; 7777, Z =&gt; 555 },\n                           ],\n                         },\n    ...\n</code></pre>\n\n<p>But what I want is for <code>ABC</code> to point to array of hashes (<code>ABC1234</code>, <code>ABC46778</code>) instead of how it is. Let me know if I need to clarify better but I cant figure out the right syntax to make this happen when building my hash.</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1444654641, "post_id": 33081668, "comment_id": 53979849, "body": "Don&#39;t use XML::Simple. It&#39;s much better that way!"}, {"owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444654710, "post_id": 33081668, "comment_id": 53979902, "body": "Not my choice i&#39;m afraid, developing on existing script (that does seem to be the common answer though)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1444655192, "post_id": 33081668, "comment_id": 53980248, "body": "OK. I&#39;ll hopefully shed some light on your problem, but I really would urge using a different XML parser. Most support backward compatibility with XML::Simple."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1444655832, "last_edit_date": 1592644375, "creation_date": 1444655051, "answer_id": 33081877, "question_id": 33081668, "link": "https://stackoverflow.com/questions/33081668/perl-iterate-over-xml/33081877#33081877", "title": "perl, iterate over XML", "body": "<p><a href=\"http://search.cpan.org/%7Egrantm/XML-Simple-2.20/lib/XML/Simple.pm\" rel=\"nofollow noreferrer\"><code>XML::Simple</code></a> is a nasty library that really needs to go and die. It coerces XML into perl-like data structures, but does so in a way that means you lose data in the process, and have to guess to convert it back. (It often guesses right, but not always, which is why you get all that nonsense with force array, etc.)</p>\n<p>That's why it says in the docs:</p>\n<blockquote>\n<p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces</p>\n</blockquote>\n<p>I would strongly urge you to consider another XML library instead. <a href=\"http://search.cpan.org/%7Eshlomif/XML-LibXML-2.0122/LibXML.pod\" rel=\"nofollow noreferrer\"><code>XML::LibXML</code></a> or <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a> - I like the latter:</p>\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $xml_str = '&lt;queue&gt;\n   &lt;user&gt;1&lt;/user&gt;\n   &lt;user&gt;2&lt;/user&gt;\n   &lt;user&gt;3&lt;/user&gt;\n&lt;/queue&gt;';\n\nmy $twig = XML::Twig -&gt; new -&gt; parse ( $xml_str ); \n\nforeach my $user ( $twig -&gt; root -&gt; children('user') ) {\n   print $user -&gt; text,&quot;\\n&quot;;\n}\n</code></pre>\n<p>Note too - <code>XML::Twig</code> has the <code>simplify</code> method:</p>\n<blockquote>\n<p><code>simplify (%options)</code></p>\n<p>Return a data structure suspiciously similar to XML::Simple's. Options are identical to XMLin options, see XML::Simple doc for more details (or use DATA::dumper or YAML to dump the data structure)</p>\n</blockquote>\n<p>Which can make it much easier to 'sneak in'.</p>\n<p>However given your example - all you're missing is <code>use strict;</code> <code>use warnings;</code> and the thing that would have told you about:</p>\n<blockquote>\n<p>Global symbol &quot;@users&quot; requires explicit package name</p>\n</blockquote>\n<p>E.g.:</p>\n<p>And you need to print your object - it is:</p>\n<pre><code>$VAR1 = {\n          'user' =&gt; [\n                    '1',\n                    '2'\n                  ],\n          'queue' =&gt; {}\n        };\n</code></pre>\n<p>Note how <code>XML::Simple</code> has put <code>queue</code> as a separate hash key - <code>user</code> is being treated as an array within the same parent element. (Which is just one of the gotchas of <code>XML::Simple</code>).</p>\n<p>So:</p>\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Simple;\nuse Data::Dumper;\n\nmy $xml = &quot;&lt;queue&gt;&lt;user&gt;1&lt;/user&gt;&lt;user&gt;2&lt;/user&gt;&lt;/queue&gt;&quot;;\n\nmy $xml_obj = XMLin($xml, forcearray =&gt; 1);\n\nmy $users = $xml_obj-&gt;{'user'};\n\nforeach my $v (@$users){\n        print $v;\n}\n</code></pre>\n<p>Note - also dereferences <code>$users</code> into an array.</p>\n"}, {"tags": [], "owner": {"reputation": 983, "user_id": 1830862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33446c1262d77933aa7b23696716f223?s=128&d=identicon&r=PG", "display_name": "Wald", "link": "https://stackoverflow.com/users/1830862/wald"}, "is_accepted": false, "score": 0, "last_activity_date": 1444655332, "creation_date": 1444655332, "answer_id": 33081975, "question_id": 33081668, "link": "https://stackoverflow.com/questions/33081668/perl-iterate-over-xml/33081975#33081975", "title": "perl, iterate over XML", "body": "<p>I guess you are trying to do:</p>\n\n<pre><code>use XML::Simple;\nuse Data::Dumper;\nmy $xml = \"&lt;queue&gt;&lt;user&gt;1&lt;/user&gt;&lt;user&gt;2&lt;/user&gt;&lt;/queue&gt;\";\n\nmy $xml_obj = XMLin($xml);\n\nprint Dumper($xml_obj);\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>$VAR1 = {\n          'user' =&gt; [\n                    '1',\n                    '2'\n                  ]\n        };\n</code></pre>\n\n<p>But XML::Simple is terrible + I kinda get the feeling this is a homework.</p>\n"}], "owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "accepted_answer_id": 33081877, "answer_count": 2, "score": 0, "last_activity_date": 1444655832, "creation_date": 1444654443, "question_id": 33081668, "link": "https://stackoverflow.com/questions/33081668/perl-iterate-over-xml", "title": "perl, iterate over XML", "body": "<p>I have XML,</p>\n\n<pre><code>&lt;queue&gt;\n   &lt;user&gt;1&lt;/user&gt;\n   &lt;user&gt;2&lt;/user&gt;\n   &lt;user&gt;3&lt;/user&gt;\n&lt;/queue&gt;\n</code></pre>\n\n<p>I'm trying to iterate over it so to get each value of <code>user</code></p>\n\n<pre><code>use XML::Simple;\nuse Data::Dumper;\nmy $xml = \"&lt;queue&gt;&lt;user&gt;1&lt;/user&gt;&lt;user&gt;2&lt;/user&gt;&lt;/queue&gt;\";\n\nmy $xml_obj = XMLin($xml, forcearray =&gt; 1);\n\nmy $users = $xml_obj-&gt;{'queue'};\n\nforeach my $v (@users){\n        print $v;\n}\n</code></pre>\n\n<p>I've tried forcing &amp; non-forcing the array, i've also tried just skipping the <code>queue</code> stanza, and defining <code>$users</code> as <code>$xml_obj-&gt;{'user'}</code>, however all of these either return undefined index warnings, or empty results;</p>\n"}, {"tags": ["perl", "base64", "password-encryption"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 3, "creation_date": 1444648446, "post_id": 33079656, "comment_id": 53975874, "body": "What means &quot;it do not work&quot;?"}, {"owner": {"reputation": 1, "user_id": 5436350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35f6d8ed19454e62d2f14506b7beb726?s=128&d=identicon&r=PG&f=1", "display_name": "Giancarlo Lori", "link": "https://stackoverflow.com/users/5436350/giancarlo-lori"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1444649087, "post_id": 33079656, "comment_id": 53976244, "body": "Means that when I tried the function the server raise an error.. I do not know Perl so I tried for tentative.. but probably the syntax is wrong"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1444649121, "post_id": 33079656, "comment_id": 53976258, "body": "What error does it give you? We cannot tell you what is wrong without it."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1444649317, "post_id": 33079656, "comment_id": 53976376, "body": "@GiancarloLori What is the error message?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5436350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35f6d8ed19454e62d2f14506b7beb726?s=128&d=identicon&r=PG&f=1", "display_name": "Giancarlo Lori", "link": "https://stackoverflow.com/users/5436350/giancarlo-lori"}, "edited": false, "score": 0, "creation_date": 1444649440, "post_id": 33079888, "comment_id": 53976451, "body": "Thanks. I probably yes. I&#39;ll try"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1444649016, "creation_date": 1444649016, "answer_id": 33079888, "question_id": 33079656, "link": "https://stackoverflow.com/questions/33079656/perl-how-decode-pw-sha-1-base64/33079888#33079888", "title": "Perl how decode pw SHA-1 Base64", "body": "<p><a href=\"http://search.cpan.org/~mshelor/Digest-SHA-5.95/lib/Digest/SHA.pm\" rel=\"nofollow\"><code>Digest::SHA</code></a> doesn't have an <code>encode_Base64</code> method, so it's likely that's what's wrong.</p>\n\n<p>If you refer to the documentation (for OO operations) you can:</p>\n\n<pre><code>    $digest = $sha-&gt;digest;         # compute digest\n    $digest = $sha-&gt;hexdigest;\n    $digest = $sha-&gt;b64digest;\n</code></pre>\n\n<p>I presume it's this last you want, but can't say for sure. </p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 1635333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6d7309fbe6178e4cfab1640f6faece?s=128&d=identicon&r=PG", "display_name": "karel-m", "link": "https://stackoverflow.com/users/1635333/karel-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1444652384, "creation_date": 1444652384, "answer_id": 33080978, "question_id": 33079656, "link": "https://stackoverflow.com/questions/33079656/perl-how-decode-pw-sha-1-base64/33080978#33080978", "title": "Perl how decode pw SHA-1 Base64", "body": "<p>You can try <a href=\"https://metacpan.org/pod/Crypt::Digest::SHA1\" rel=\"nofollow\">https://metacpan.org/pod/Crypt::Digest::SHA1</a></p>\n\n<pre><code>use Crypt::Digest::SHA1 'sha1_b64';\n\n$CryptedPw = sha1_b64($Pw);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5436350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35f6d8ed19454e62d2f14506b7beb726?s=128&d=identicon&r=PG&f=1", "display_name": "Giancarlo Lori", "link": "https://stackoverflow.com/users/5436350/giancarlo-lori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1444652384, "creation_date": 1444648245, "question_id": 33079656, "link": "https://stackoverflow.com/questions/33079656/perl-how-decode-pw-sha-1-base64", "title": "Perl how decode pw SHA-1 Base64", "body": "<p>I don't know Perl and I need for some help. I need to encrypt a value and represent it in Base64.. I need to modify these existing code</p>\n\n<pre><code>        my $SHAObject = Digest::SHA-&gt;new('sha1');\n        $Self-&gt;{EncodeObject}-&gt;EncodeOutput( \\$Pw );\n        $SHAObject-&gt;add($Pw);\n        $CryptedPw = $SHAObject-&gt;hexdigest();\n        $Self-&gt;{EncodeObject}-&gt;EncodeInput( \\$CryptedPw );\n</code></pre>\n\n<p>I have tried to replace hexdigest with encode_base64</p>\n\n<pre><code>        my $SHAObject = Digest::SHA-&gt;new('sha1');\n        $Self-&gt;{EncodeObject}-&gt;EncodeOutput( \\$Pw );\n        $SHAObject-&gt;add($Pw);\n        $CryptedPw = $SHAObject-&gt;encode_Base64();\n        $Self-&gt;{EncodeObject}-&gt;EncodeInput( \\$CryptedPw );\n</code></pre>\n\n<p>But it do not work..</p>\n\n<p>Someone can help me ? thank you in advance</p>\n\n<p>Giancarlo</p>\n"}, {"tags": ["bash", "perl", "ubuntu", "nginx", "sed"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1444645871, "post_id": 33078696, "comment_id": 53974416, "body": "Will the code in question be in the same place in all files, or do you need it dynamic?"}, {"owner": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1444647236, "post_id": 33078696, "comment_id": 53975176, "body": "@TLP The file in question might change in the future releases so it would be best to make it dynamic / not dependant on line numbers."}], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1444645396, "post_id": 33078750, "comment_id": 53974132, "body": "Curly brackets are in the string, at char 22, where the error occurred"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1444645528, "post_id": 33078750, "comment_id": 53974223, "body": "So they are.  OK, Square brackets then!"}, {"owner": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "edited": false, "score": 0, "creation_date": 1444645704, "post_id": 33078750, "comment_id": 53974323, "body": "Hey, thanks a lot for your input. I did try to accommodate for this by using \\ before the / to try to escape it. Would that have escaped it or am i trying to do something that doesnt apply here? I will give the square brackets a try :-)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444645831, "post_id": 33078750, "comment_id": 53974394, "body": "or range operator to  conditionally apply the pattern."}, {"owner": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "edited": false, "score": 0, "creation_date": 1444648093, "post_id": 33078750, "comment_id": 53975680, "body": "This is a wealth of information, thanks so much. I will take time to test all the variations!"}, {"owner": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "edited": false, "score": 0, "creation_date": 1444650032, "post_id": 33078750, "comment_id": 53976842, "body": "Please see the edit to my question, not sure why it will not work given those details?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444650648, "post_id": 33078750, "comment_id": 53977277, "body": "Probably won&#39;t work like that in <code>bash</code>. Can&#39;t say for sure though - gave up on <code>bash</code> 15 years ago and moved to <code>perl</code> ;)"}, {"owner": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "edited": false, "score": 0, "creation_date": 1444650838, "post_id": 33078750, "comment_id": 53977392, "body": "So this is all perl then? Please note this at the top of the answer. That being said, I envy that kind of knowledge lol, you&#39;ve made me want to learn perl even more now, thanks!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444651171, "post_id": 33078750, "comment_id": 53977614, "body": "Ah yes, sorry. Edited."}, {"owner": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "edited": false, "score": 1, "creation_date": 1444655068, "post_id": 33078750, "comment_id": 53980177, "body": "That one liner... After all of this it worked like a charm :-) All in all, perl &gt; sed/bash, I learnt something new today! Thank you!!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444655449, "post_id": 33078750, "comment_id": 53980427, "body": "Yeah, I don&#39;t like quoting perl one liners, because it really can get hard to read very quickly. It&#39;s essentially condensing the rest of the answer though, which hopefully clarifies what&#39;s actually happening."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1444651164, "last_edit_date": 1444651164, "creation_date": 1444645303, "answer_id": 33078750, "question_id": 33078696, "link": "https://stackoverflow.com/questions/33078696/using-vanilla-ubuntu-a-script-to-search-and-replace-uncomment-a-block-of-code/33078750#33078750", "title": "Using vanilla Ubuntu, a script to search and replace/uncomment a block of code?", "body": "<p>Note - you mention (and tag) <code>perl</code>. The below is from a <code>perl</code> perspective. Some of it may be applicable to conventional shell, but I can't say for sure exactly what. <code>perl</code> does support some regex things that are above and beyond the base <code>POSIX</code> spec. </p>\n\n<p>The problem with patterns like that, is that you've got delimiters in your pattern. Your initial is failing because it'll be treating this slash:</p>\n\n<pre><code>    #       fastcgi_pass unix:/var/run/php5-fpm.sock;\n</code></pre>\n\n<p>As the 'split point' in the pattern. You can handle this by escaping the delimiter, but actually a better trick is - use delimiters that don't exist elsewhere. In the above, I'd suggest you can use square brackets:</p>\n\n<pre><code>my $str = \"some fish\"; \n$str =~ s[some][more]g;\n\nprint $str;\n</code></pre>\n\n<p>Although as an alternative - you can use a <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">range operator</a> which tests as 'true' if it's within two designated delimitors:</p>\n\n<pre><code>while ( &lt;&gt; ) {\n   if ( m|\\#location.*php\\$ \\{| .. m|^\\s*#\\}| ) {\n       s/#//;\n   }\n   print ;\n}\n</code></pre>\n\n<p>E.g.:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n\nwhile ( &lt;DATA&gt; ) {\n   if ( m|\\#location.*php\\$ \\{| .. m|^\\s*#\\}| ) {\n       #note - no g modifier, so we only do the first per line\n       s/#//;\n   }\n   print ;\n}\n\n__DATA__\n# Some stuff\nwe don't care about this line\n#and this shouldn't be changed\n\n#but after this point, it should be!\n\n   #location ~ \\.php$ {\n    #       fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    #       # NOTE: You should have \"cgi.fix_pathinfo = 0;\" in php.ini\n    #\n    #       # With php5-cgi alone:\n    #       fastcgi_pass 127.0.0.1:9000;\n    #       # With php5-fpm:\n    #       fastcgi_pass unix:/var/run/php5-fpm.sock;\n    #       fastcgi_index index.php;\n    #       include fastcgi_params;\n    #}\n\n\n# and now we stop, and leave this bit alone. \n\n    more stuff; \n    here; \n    # and another comment line\n</code></pre>\n\n<p>This conditionally applies the transform if you're between two delimiters (location php and 'close squiggly brackets' in the above). </p>\n\n<p>You can one-liner-ify this:</p>\n\n<pre><code>perl -ne 'if ( m|\\#location.*php\\$ \\{| .. m|^\\s*#\\}| ) { s/#//g; } print' myfile\n</code></pre>\n\n<p>(and add <code>-i</code> if you want to edit in place). </p>\n"}, {"comments": [{"owner": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "edited": false, "score": 0, "creation_date": 1444647448, "post_id": 33079156, "comment_id": 53975317, "body": "Thanks! This is an interesting topic for me and I appreciate the extra answer and info. I agree that this is something to avoid and I usually bring it down to one line at a time but I can&#39;t really do that here because of the <code>#}</code> being repeated. Either way and in the end, it beats manually installing and configuring everything again in the future :-)"}, {"owner": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "edited": false, "score": 0, "creation_date": 1444654026, "post_id": 33079156, "comment_id": 53979430, "body": "Okay after testing this, I get the output of the file back but the code block in question is still commented. The only addition that I have made is to load the file its self: <code>open(DATA, &#39;nginx.dev&#39;) or die &quot;Can&#39;t read file &#39;filename&#39; [$!]\\n&quot;;</code>. Any idea why this doesn&#39;t work out for me?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "edited": false, "score": 0, "creation_date": 1444657897, "post_id": 33079156, "comment_id": 53982066, "body": "@IndigoIdentity Study the strings with Data::Dumper to see if there is hidden whitespace, perhaps. Or see if you have counted wrong somewhere. <code>use Data::Dumper; $Data::Dumper::Useqq = 1; print Dumper $yourvariable;</code>"}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 1, "last_activity_date": 1444646594, "creation_date": 1444646594, "answer_id": 33079156, "question_id": 33078696, "link": "https://stackoverflow.com/questions/33078696/using-vanilla-ubuntu-a-script-to-search-and-replace-uncomment-a-block-of-code/33079156#33079156", "title": "Using vanilla Ubuntu, a script to search and replace/uncomment a block of code?", "body": "<p>These long string replacements are always finicky, I think, and it is often best to try and avoid dealing with the content as much as possible. I came up with this, which simply captures the string, takes away the first <code>#</code> and reprints the line:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $search = q|#location ~ \\.php$ {\n    #       fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    #       # NOTE: You should have \"cgi.fix_pathinfo = 0;\" in php.ini\n    #\n    #       # With php5-cgi alone:\n    #       fastcgi_pass 127.0.0.1:9000;\n    #       # With php5-fpm:\n    #       fastcgi_pass unix:/var/run/php5-fpm.sock;\n    #       fastcgi_index index.php;\n    #       include fastcgi_params;\n    #}\n|;\n\nlocal $/;   # slurp the file\nwhile (&lt;DATA&gt;) {\n    s|(\\Q$search\\E)| my $x = $1; $x =~ s/^\\s*#//mg; $x; |e;\n    print;\n}    \n__DATA__\n    # stuff\n    #location ~ \\.php$ {\n    #       fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    #       # NOTE: You should have \"cgi.fix_pathinfo = 0;\" in php.ini\n    #\n    #       # With php5-cgi alone:\n    #       fastcgi_pass 127.0.0.1:9000;\n    #       # With php5-fpm:\n    #       fastcgi_pass unix:/var/run/php5-fpm.sock;\n    #       fastcgi_index index.php;\n    #       include fastcgi_params;\n    #}\n    #comment\n</code></pre>\n\n<p>Note the use of <code>\\Q ... \\E</code> to avoid the regex meta characters in the string to mess you up.</p>\n\n<p>With this method, you should technically be able also to read the search strings from a file if you would want that.</p>\n"}], "owner": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 33078750, "answer_count": 2, "score": 0, "last_activity_date": 1444654698, "creation_date": 1444645132, "last_edit_date": 1492086991, "question_id": 33078696, "link": "https://stackoverflow.com/questions/33078696/using-vanilla-ubuntu-a-script-to-search-and-replace-uncomment-a-block-of-code", "title": "Using vanilla Ubuntu, a script to search and replace/uncomment a block of code?", "body": "<p>I am trying to automate the installation in Ubuntu 14.04 of a development environment, part of this requires that I uncomment a block of code for the Nginx vHost configuration:</p>\n\n<pre><code>    #location ~ \\.php$ {\n    #       fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    #       # NOTE: You should have \"cgi.fix_pathinfo = 0;\" in php.ini\n    #\n    #       # With php5-cgi alone:\n    #       fastcgi_pass 127.0.0.1:9000;\n    #       # With php5-fpm:\n    #       fastcgi_pass unix:/var/run/php5-fpm.sock;\n    #       fastcgi_index index.php;\n    #       include fastcgi_params;\n    #}\n</code></pre>\n\n<p>I tried sed:</p>\n\n<pre><code>sed -i \"s/#location ~ \\.php$ {\n        #       fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n        #       # NOTE: You should have \\\"cgi.fix_pathinfo = 0;\\\" in php.ini\n        #\n        #       # With php5-cgi alone:\n        #       fastcgi_pass 127.0.0.1:9000;\n        #       # With php5-fpm:\n        #       fastcgi_pass unix:/var/run/php5-fpm.sock;\n        #       fastcgi_index index.php;\n        #       include fastcgi_params;\n        #}/location ~ \\.php$ {\n          fastcgi_split_path_info ^(.+\\.php)(\\/.+)$;\n          # NOTE: You should have \\\"cgi.fix_pathinfo = 0;\\\" in php.ini\n\n          # With php5-cgi alone:\n          fastcgi_pass 127.0.0.1:9000;\n          # With php5-fpm:\n          fastcgi_pass unix:\\/var\\/run\\/php5-fpm.sock;\n          fastcgi_index index.php;\n          include fastcgi_params;\n        }/g\" /etc/nginx/sites-available/nginx.dev;\n</code></pre>\n\n<p>But this returns: </p>\n\n<pre><code>sed: -e expression #1, char 22: unterminated `s' command\n</code></pre>\n\n<p>Which I assume relates to syntax errors, I tried to escape the <code>/</code> and <code>\"</code> characters but I think that this is not enough / right at all.</p>\n\n<p>I found this: <a href=\"https://unix.stackexchange.com/a/26289/138115\">https://unix.stackexchange.com/a/26289/138115</a></p>\n\n<p>Which suggested that perl might be a good solution here and as it is installed with Ubuntu I tried it:</p>\n\n<pre><code>perl -0777 -i.original -pe 's/#location ~ \\.php$ {\\n        #       fastcgi_split_path_info ^(.+\\.php)(\\/.+)$;\\n        #       # NOTE: You should have \"cgi.fix_pathinfo = 0;\" in php.ini\\n        #\\n        #       # With php5-cgi alone:\\n        #       fastcgi_pass 127.0.0.1:9000;\\n        #       # With php5-fpm:\\n        #       fastcgi_pass unix:\\/var\\/run\\/php5-fpm.sock;\\n        #       fastcgi_index index.php;\\n        #       include fastcgi_params;\\n        #}/slocation ~ \\.php$ {\\n  fastcgi_split_path_info ^(.+\\.php)(\\/.+)$;\\n  NOTE: You should have \"cgi.fix_pathinfo = 0;\" in php.ini\\n  With php5-cgi alone:\\n  fastcgi_pass 127.0.0.1:9000;\\n  With php5-fpm:\\n  fastcgi_pass unix:\\/var\\/run\\/php5-fpm.sock;\\n  fastcgi_index index.php;\\n  include fastcgi_params;\\n}/igs' /etc/nginx/sites-available/nginx.dev;\n</code></pre>\n\n<p>But this gives a whole host of syntax errors:</p>\n\n<pre><code>syntax error at -e line 1, near \"(.\"\nUnknown regexp modifier \"/v\" at -e line 1, within string\nUnknown regexp modifier \"/r\" at -e line 1, within string\nUnknown regexp modifier \"/h\" at -e line 1, within string\nUnknown regexp modifier \"/5\" at -e line 1, within string\nNot enough arguments for index at -e line 1, near \"index.\"\nsyntax error at -e line 1, near \"n}\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>I have written quite a few scripts like this before for various environments but I have tried always to avoid replacing multiple lines of text because i've never been able to get it right. Today, i've spent 3 hours and I still have no real understanding on how to make this work out. If anyone could share some input / insight into this and how it could be accomplished then it would be greatly appreciated, thanks!</p>\n\n<p><strong>Edit 1:</strong> </p>\n\n<p>Simple escape with square brackets:</p>\n\n<pre><code>#!/bin/bash\n#/etc/nginx/sites-available/test.sh\nfile=$(&lt;default.file);\nsearch=$(&lt;nginx_search.txt);\nreplace=$(&lt;nginx_replace.txt);\n$file =~ s[$search][$replace]g;\necho \"$file\" &gt; \"/etc/nginx/sites-available/test.file\";\n# Outputs notice: ./test.sh: line 6: #: command not found\n</code></pre>\n\n<p>The <code>test.file</code> is created but it contains the original values of <code>default.file</code> without the amendment.</p>\n\n<p>After testing in perl I receive:</p>\n\n<pre><code>syntax error at ./perl.perl line 6, near \"(.\"\nUnknown regexp modifier \"/v\" at ./perl.perl line 6, within string\nUnknown regexp modifier \"/r\" at ./perl.perl line 6, within string\nUnknown regexp modifier \"/h\" at ./perl.perl line 6, within string\nUnknown regexp modifier \"/5\" at ./perl.perl line 6, within string\nsyntax error at ./perl.perl line 9, near \";\n}\"\nExecution of ./perl.perl aborted due to compilation errors.\n</code></pre>\n\n<p>And line 6 reads:</p>\n\n<pre><code>#       # NOTE: You should have \"cgi.fix_pathinfo = 0;\" in php.ini\n</code></pre>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1444642799, "post_id": 33077776, "comment_id": 53972530, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3282473/problem-using-perl-to-connect-to-mysql-database-on-remote-server\">Problem using Perl to connect to MySQL database on remote server</a>"}, {"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 0, "creation_date": 1444643283, "post_id": 33077776, "comment_id": 53972816, "body": "Check which versions on the MySQL dev libraries you have, these are separate to the server, you may have old ones. See: <a href=\"http://search.cpan.org/~capttofu/DBD-mysql-4.032/lib/DBD/mysql/INSTALL.pod#PREREQUISITES\" rel=\"nofollow noreferrer\">search.cpan.org/~capttofu/DBD-mysql-4.032/lib/DBD/mysql/&hellip;</a>"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1444644999, "post_id": 33077776, "comment_id": 53973905, "body": "@serenesat I had read your link before posting the question. Host for the user is set to %, Communication via mysql workbench from the same host executing the script is possible. This is not the solution for my problem"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "reply_to_user": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 0, "creation_date": 1444645111, "post_id": 33077776, "comment_id": 53973977, "body": "@martinclayton, i will check this and report back afterwards"}], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1445948126, "post_id": 33285431, "comment_id": 54529909, "body": "Well, this link does not really work on my Perl Windows Installation, couldn&#39;t get this to work. But I guess @martinclayton and you are right on this and i will try further to compile the library"}], "tags": [], "owner": {"reputation": 79848, "user_id": 205608, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/61eE0.png?s=128&g=1", "display_name": "O. Jones", "link": "https://stackoverflow.com/users/205608/o-jones"}, "is_accepted": true, "score": 0, "last_activity_date": 1445529640, "creation_date": 1445529640, "answer_id": 33285431, "question_id": 33077776, "link": "https://stackoverflow.com/questions/33077776/perl-dbd-mysql-with-sha-256-authentication-fails/33285431#33285431", "title": "Perl DBD mysql with SHA-256 Authentication fails", "body": "<p>@martinclayton is correct. You have a very old version of your PERL MySQL DBD module. The upgrade to 4.1 happened over a decade ago.</p>\n\n<p>Read this:  <a href=\"https://dev.mysql.com/doc/refman/5.5/en/old-client.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.5/en/old-client.html</a></p>\n\n<p>You need to upgrade your DBD module. Martin's link will give you some hints how to do it.  <a href=\"http://search.cpan.org/~capttofu/DBD-mysql-4.032/lib/DBD/mysql/INSTALL.pod#PREREQUISITES\" rel=\"nofollow\">http://search.cpan.org/~capttofu/DBD-mysql-4.032/lib/DBD/mysql/INSTALL.pod#PREREQUISITES</a></p>\n"}], "owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "accepted_answer_id": 33285431, "answer_count": 1, "score": 0, "last_activity_date": 1445529640, "creation_date": 1444642478, "last_edit_date": 1445528055, "question_id": 33077776, "link": "https://stackoverflow.com/questions/33077776/perl-dbd-mysql-with-sha-256-authentication-fails", "title": "Perl DBD mysql with SHA-256 Authentication fails", "body": "<p>I am trying to set up Perl to connect to a mysql database.\ni am using Perl 5.16, as this is a requiment,\nDBI 1.622 with DBD:mysql from cpan was build.\nThe mysql database is Version 5.6.26\nThe mysql database uses SHA256 authentication, this won't be changed and there must not be set up an account with old_authentication or native.\nI can not connect to the database as it replies with \nClient authentication scheme is not supported.\nMy short test script is</p>\n\n<pre><code>use DBI;\nuse DBD::mysql;\n\n$dbh = DBI-&gt;connect('DBI:mysql:host=dbhost', 'dbtest', 'test'\n           ) || die \"Could not connect to database: $DBI::errstr\";\n</code></pre>\n\n<p>The returned error message is</p>\n\n<pre><code>DBI connect('host=dbhost,'dbtest',...) failed:  Client does not support authentication\nprotocol requested by server; consider upgrading MySQL client at dbtest.pl line 4.\n\nCould not connect to database: Client does not support authentication protocol requested\nby server; consider upgrading MySQL client at dbtest.pl line 4.\n</code></pre>\n\n<p>How can i set up a Connection to the Server?</p>\n\n<p>edit : This is not a duplicate. The User is allowed to access from any host, and we do not want to roll back to old Password, as written above</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444643166, "post_id": 33077774, "comment_id": 53972760, "body": "Should be pretty simple with <a href=\"https://metacpan.org/pod/XML::Twig#Processing-an-XML-document-chunk-by-chunk\" rel=\"nofollow noreferrer\">XML::Twig reading chunks of data</a>."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1444643471, "creation_date": 1444643471, "answer_id": 33078149, "question_id": 33077774, "link": "https://stackoverflow.com/questions/33077774/how-to-extract-content-between-text-text-tags-in-perl-from-huge-xml-file-of/33078149#33078149", "title": "How to extract content between &lt;text&gt;&lt;/text&gt; tags in Perl from huge xml file of Wikipedia (it can be any XML)?", "body": "<p>Something like this will do it:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::Twig; \n\nsub text_handler {\n    my ( $twig, $text_elt ) = @_; \n    print $text_elt -&gt; text; \n    $twig -&gt; purge; \n}\n\nmy $twig = XML::Twig -&gt; new ( twig_handlers =&gt; { 'text' =&gt; \\&amp;text_handler } ) -&gt;  parsefile ( 'your_xml');\n</code></pre>\n\n<p>Note the trick here is that <code>purge</code> which discards previously processed XML. You can probably set a purge on other elements too, if there's a lot of stuff inbetween 'text' nodes. </p>\n"}], "owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444643471, "creation_date": 1444642471, "last_edit_date": 1444643086, "question_id": 33077774, "link": "https://stackoverflow.com/questions/33077774/how-to-extract-content-between-text-text-tags-in-perl-from-huge-xml-file-of", "title": "How to extract content between &lt;text&gt;&lt;/text&gt; tags in Perl from huge xml file of Wikipedia (it can be any XML)?", "body": "<p>How to extract content between <code>&lt;text&gt;&lt;/text&gt;</code> tags in perl from Wikipedia?</p>\n\n<p>I want to process <code>utf-8</code> <strong>huge file</strong> - loading into memory not possible. File contains <code>&lt;text&gt;.*?&lt;/text&gt;</code> for each page - this is possible to be loaded into memory - and it should be load into some variable to do some further processing:</p>\n\n<pre><code>      &lt;text xml:space=\"preserve\"&gt;Some text without &amp;lt; or &amp;lt; ....\n... more text ...\n... more text ...&lt;/text&gt;\n</code></pre>\n\n<p>Consider that text not starts line and not ends line - important content is between <code>&lt;text&gt;&lt;/text&gt;</code>. I want to extract it and improve to generate some text file for nlp machine learning.</p>\n\n<p>File can be download with:</p>\n\n<pre><code>wget http://dumps.wikimedia.org/plwiki/latest/plwiki-latest-pages-articles.xml.bz2\n</code></pre>\n\n<p>File can be turn into stdin pipe with:</p>\n\n<pre><code>bzip2 -c -d plwiki-latest-pages-articles.xml.bz2 | perl something &gt; data.txt\n</code></pre>\n\n<p>I am not very good in Perl and can not write good code. Not know how to learn matched position, to do micro state machine or to do moving window. </p>\n\n<p>Any suggestion will be welcome.</p>\n"}, {"tags": ["perl", "rest", "url"], "answers": [{"comments": [{"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1444694840, "post_id": 33080514, "comment_id": 54000075, "body": "I don&#39;t think that is a good idea to promote use of <code>CGI.pm</code>."}, {"owner": {"reputation": 11047, "user_id": 1773706, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kivhU.jpg?s=128&g=1", "display_name": "Omer Dagan", "link": "https://stackoverflow.com/users/1773706/omer-dagan"}, "reply_to_user": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1444724166, "post_id": 33080514, "comment_id": 54010420, "body": "@darch Can you elaborate? Can you suggest a better solution?"}, {"owner": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1444735357, "post_id": 33080514, "comment_id": 54017478, "body": "I could, but I&#39;ll let SawyerX do it:  <a href=\"https://youtu.be/jKOqtRMT85s\" rel=\"nofollow noreferrer\">youtu.be/jKOqtRMT85s</a> .  As for alternatives, I&#39;d love to offer one -- but I just found that <code>REST::Application</code> is based on <code>CGI</code>, so the question is moot."}, {"owner": {"reputation": 11047, "user_id": 1773706, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kivhU.jpg?s=128&g=1", "display_name": "Omer Dagan", "link": "https://stackoverflow.com/users/1773706/omer-dagan"}, "reply_to_user": {"reputation": 4120, "user_id": 9719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EIDSQ.png?s=128&g=1", "display_name": "darch", "link": "https://stackoverflow.com/users/9719/darch"}, "edited": false, "score": 0, "creation_date": 1444815428, "post_id": 33080514, "comment_id": 54056379, "body": "@darch But the question specifically refers to REST::Application, so you could have just skipped it"}], "tags": [], "owner": {"reputation": 11047, "user_id": 1773706, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kivhU.jpg?s=128&g=1", "display_name": "Omer Dagan", "link": "https://stackoverflow.com/users/1773706/omer-dagan"}, "is_accepted": false, "score": -1, "last_activity_date": 1444650981, "creation_date": 1444650981, "answer_id": 33080514, "question_id": 33077511, "link": "https://stackoverflow.com/questions/33077511/using-perl-restapplication-to-parse-url-query-string/33080514#33080514", "title": "Using perl REST::Application to parse url query string", "body": "<p>Possible solution could be using <code>HTML::Entities</code> and <code>CGI</code>:</p>\n\n<p>Add relevant modules:</p>\n\n<pre><code>use CGI;\nuse HTML::Entities;\n</code></pre>\n\n<p>Add prpoer line to <code>$url_map</code>:</p>\n\n<pre><code>qr|^/query(.*)| =&gt; {\n                    GET =&gt; \\&amp;get_query,\n            }\n</code></pre>\n\n<p>And implement:</p>\n\n<pre><code>sub get_uploads {\n    $rest-&gt;header(-type =&gt; \"text/plain, charset=utf8\");\n    my $cgi = CGI-&gt;new;\n    my %params = map { $_ =&gt; HTML::Entities::encode(join(\"; \", split(\"\\0\", $cgi-&gt;Vars-&gt;{$_}))) } $cgi-&gt;param;\n    .\n    .\n    .\n}\n</code></pre>\n\n<p>At this stage <code>%params</code> will hold the query string.\nFor example, if I used the <code>url</code> in the question, <code>%params</code> would be:</p>\n\n<pre><code>$VAR1 = {\n      'param1' =&gt; 'a',\n      'param2' =&gt; 'b'\n    };\n</code></pre>\n"}], "owner": {"reputation": 11047, "user_id": 1773706, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kivhU.jpg?s=128&g=1", "display_name": "Omer Dagan", "link": "https://stackoverflow.com/users/1773706/omer-dagan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444650981, "creation_date": 1444641722, "question_id": 33077511, "link": "https://stackoverflow.com/questions/33077511/using-perl-restapplication-to-parse-url-query-string", "title": "Using perl REST::Application to parse url query string", "body": "<p>I'm using perl's <code>REST::Application</code> to generate html dynamically on my server with cgi script that looks somewhat like:</p>\n\n<pre><code>my $url_map = { \n            qr|^/?$| =&gt; {\n                    GET =&gt; \\&amp;get_help,\n            },\n            qr|^/builders/?$| =&gt; {\n                    GET =&gt; \\&amp;get_builders,\n            },\n    };\n</code></pre>\n\n<p>I would like to add support for query strings. For example, if the url would be <code>www.example.com/query?param1=a&amp;param2=b</code> I would like to be able to call a procedure with those values as parameters. However, If only one of the parameters is given, it should be supported as well.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1444641771, "post_id": 33077128, "comment_id": 53971925, "body": "Use an XML parser for parsing XML. <code>regex</code> is a poor tool for this job. Post an XML snippet and what you&#39;re trying to extract, and we can give you an example."}], "answers": [{"tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": false, "score": 1, "last_activity_date": 1444640663, "creation_date": 1444640663, "answer_id": 33077177, "question_id": 33077128, "link": "https://stackoverflow.com/questions/33077128/how-to-print-out-matached-string-with-perlre/33077177#33077177", "title": "How to print out matached string with perlre?", "body": "<pre><code>use re 'debug'\n</code></pre>\n\n<p>To debug you regex, read more about it here <a href=\"http://perldoc.perl.org/re.html#%27debug%27-mode\" rel=\"nofollow\">http://perldoc.perl.org/re.html#%27debug%27-mode</a></p>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "is_accepted": false, "score": 1, "last_activity_date": 1444642390, "creation_date": 1444642390, "answer_id": 33077733, "question_id": 33077128, "link": "https://stackoverflow.com/questions/33077128/how-to-print-out-matached-string-with-perlre/33077733#33077733", "title": "How to print out matached string with perlre?", "body": "<p>Use a CPAN module for this. May save you some headache.  </p>\n\n<p>But if you still want to use regex for the job, I'd suggest you expand the regex in a script and step through it using the debugger like mentioned above. </p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1444656426, "last_edit_date": 1444656426, "creation_date": 1444643298, "answer_id": 33078091, "question_id": 33077128, "link": "https://stackoverflow.com/questions/33077128/how-to-print-out-matached-string-with-perlre/33078091#33078091", "title": "How to print out matached string with perlre?", "body": "<p>You can turn on debugging for <code>regex</code> with <code>use re 'debug';</code>.  However that would be the wrong approach to take. Your problem here isn't your regex is wrong, it's that <code>regex</code> is fundamentally the wrong tool for <code>XML</code> parsing. (And leaving aside that - your line is just too long to be sensible to use inline like that!) </p>\n\n<p>Given your example - it looks like you're trying to extract a single value (selectedIssueKey) and insert it into a new blob of XML. </p>\n\n<p>This is done much easier by a parser, such as <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a>. I can't give you a precise example, because I would need to see your XML structure (or at least a subset without the wildcards). </p>\n\n<p>But something like this can be used for extracting a value from some XML:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::Twig; \n\nmy $twig = XML::Twig -&gt; parse ( \\*DATA );\nmy $selectedIssueKey = $twig -&gt; findnodes ( '//ac:parameter/pref', 0) -&gt; att('selectedIssueKey');\nprint $selectedIssueKey;\n</code></pre>\n\n<p>Extracts the value of an attribute 'selectedIssueKey' from:</p>\n\n<pre><code>&lt;ac:structured-macro ac:macro-id=\"test\" ac:name=\"gadget\" ac:schema-version=\"1\"&gt;\n  &lt;ac:parameter ac:name=\"preferences\"&gt;\n      &lt;pref selectedIssueKey=\"anothertest\" /&gt;\n  &lt;/ac:parameter&gt;\n  &lt;ac:parameter ac:name=\"url\"&gt;https://rcrs.rbinternational.corp/issue/rest/gadgets/1.0/g/com.pyxis.greenhopper.jira:greenhopper-card-view-gadget/gadgets/greenhopper-card-view.xml&lt;/ac:parameter&gt;\n&lt;/ac:structured-macro&gt;\n</code></pre>\n\n<p><code>XML::Twig</code> also lets you cut and paste, so you could do something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::Twig; \n\nmy $twig = XML::Twig -&gt; new ( 'pretty_print' =&gt; 'indented_a' ) -&gt;  parsefile 'sample.xml' );\nmy $selectedIssueKey = $twig -&gt; findnodes ( '//ac:parameter/pref', 0) -&gt; att('selectedIssueKey');\nprint \"Found key of: $selectedIssueKey\\n\";\n\nmy $ac_structured_macro = $twig -&gt; findnodes ( '//ac:structured-macro',0 ); \n\nmy $new_macro = $twig -&gt; root -&gt; insert_new_elt( 'last_child', 'ac:structured-macro', {  \"ac:name\" =&gt; \"jira\", \"ac:schema-version\"=&gt; \"1\" } );\n$new_macro -&gt; insert_new_elt('last_child', 'ac:parameter', { 'ac:name' =&gt; 'server' }, \"RCRS ISSUE Tracking\" );\n$new_macro -&gt; insert_new_elt('last_child', 'ac:parameter', { 'ac:name' =&gt; 'columns' }, \"key,type,assignee,status,etc\" );\n$new_macro -&gt; insert_new_elt('last_child', 'ac:parameter', { 'ac:name' =&gt; 'maximumIssues' }, \"20\" );\n$new_macro -&gt; insert_new_elt('last_child', 'ac:parameter', { 'ac:name' =&gt; 'jqlQuery' }, \"key = $selectedIssueKey\" );\n$new_macro -&gt; insert_new_elt('last_child', 'ac:parameter', { 'ac:name' =&gt; 'serverId' }, \"d64129aa-b1e8-3584-8953-2bd89c3e515c\" );\n\n\n$ac_structured_macro -&gt; delete; \n$twig -&gt; print;\n</code></pre>\n\n<p>(It's probably easier to use a whole XML snippet for this though, and just replace the bits yo uwant). </p>\n"}], "owner": {"reputation": 1553, "user_id": 455070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4466e67da4aafa694616772c4050d520?s=128&d=identicon&r=PG", "display_name": "hitty5", "link": "https://stackoverflow.com/users/455070/hitty5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 33078091, "answer_count": 3, "score": 0, "last_activity_date": 1444656426, "creation_date": 1444640524, "question_id": 33077128, "link": "https://stackoverflow.com/questions/33077128/how-to-print-out-matached-string-with-perlre", "title": "How to print out matached string with perlre?", "body": "<p>Perlre (Perl Regular Expression) is used for searching / replacing complex XML structure, e.g.</p>\n\n<pre><code>perl -0777 -pe 's/&lt;ac:structured-macro ac:macro-id=\"[a-z0-9\\-]+\" ac:name=\"gadget\" ac:schema-version=\"1\"&gt;&lt;ac:parameter ac:name=\"preferences\"&gt;.*?selectedIssueKey=([A-Z\\-0-9]+).*?(&lt;\\/ac:parameter&gt;)&lt;ac:parameter ac:name=\"url\"&gt;https:\\/\\/rcrs.rbinternational.corp\\/issue\\/rest\\/gadgets\\/1.0\\/g\\/com.pyxis.greenhopper.jira:greenhopper-card-view-gadget\\/gadgets\\/greenhopper-card-view.xml&lt;\\/ac:parameter&gt;.*?(&lt;\\/ac:structured-macro&gt;)/&lt;ac:structured-macro ac:name=\"jira\" ac:schema-version=\"1\"&gt;&lt;ac:parameter ac:name=\"server\"&gt;RCRS Issue Tracking&lt;\\/ac:parameter&gt;&lt;ac:parameter ac:name=\"columns\"&gt;key,type,assignee,status,nwu model developer,nwu model reviewer,nwu model owner,nwu head rr\\/b2\\/cro,ho validation owner,ho pi\\/micro country manager,ho responsible signee&lt;\\/ac:parameter&gt;&lt;ac:parameter ac:name=\"maximumIssues\"&gt;20&lt;\\/ac:parameter&gt;&lt;ac:parameter ac:name=\"jqlQuery\"&gt;key = \\1 &lt;\\/ac:parameter&gt;&lt;ac:parameter ac:name=\"serverId\"&gt;d64129aa-b1e8-3584-8953-2bd89c3e515c&lt;\\/ac:parameter&gt;&lt;\\/ac:structured-macro&gt;/igs' macro\n</code></pre>\n\n<p>Currently the search pattern does not match as expected. Obviously the search patterns spans more string than expected. Is there a possibility to print out each matched string for debugging purpose?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 582, "user_id": 3336667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55bcff89476fdb1048642e6b250bb068?s=128&d=identicon&r=PG&f=1", "display_name": "Rao", "link": "https://stackoverflow.com/users/3336667/rao"}, "edited": false, "score": 0, "creation_date": 1444642984, "post_id": 33076937, "comment_id": 53972660, "body": "All suggested answers was helpful and each had some interesting point in it, but as accepted answer i chosen @Disco 3&#180;s answer since it was descriptive, helpful and suggested <code>Data:Dumper</code>. Anyway, thank you all."}], "answers": [{"tags": [], "owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "is_accepted": false, "score": 0, "last_activity_date": 1444640370, "creation_date": 1444640370, "answer_id": 33077064, "question_id": 33076937, "link": "https://stackoverflow.com/questions/33076937/perl-reading-from-file-and-saving-into-an-array/33077064#33077064", "title": "Perl: Reading from file and saving into an array", "body": "<p><code>@zaid</code> is a list, into which the first part of the split is added.</p>\n\n<p><code>%KOEFICIENTY</code> is a hash, in which a reference to the rest of the split is stored as a list reference under the key of the first part.</p>\n\n<p>So if the line is <code>a b c</code>, <code>@zaid</code> will get <code>a</code> and <code>%KOEFICIENTY{'a'}</code>  will hold a reference to a list containing <code>b</code> and <code>c</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "is_accepted": true, "score": 1, "last_activity_date": 1444642424, "last_edit_date": 1444642424, "creation_date": 1444640450, "answer_id": 33077092, "question_id": 33076937, "link": "https://stackoverflow.com/questions/33076937/perl-reading-from-file-and-saving-into-an-array/33077092#33077092", "title": "Perl: Reading from file and saving into an array", "body": "<p><code>[-1]</code> indexing is just a shortcut way to say \"last element of the array\".</p>\n\n<p>KOEFICIENTY is actually a hash (you can tell this because it is using curly braces, instead of square ones, around the index), so you're putting the rest of the array @_ into a hash called KOEFICIENTY with a key of the last element of the array.</p>\n\n<p>If you include:</p>\n\n<pre><code>use Data::Dumper\n</code></pre>\n\n<p>at the top of the script and do</p>\n\n<pre><code>print Dumper(%KOEFICIENTY)\n</code></pre>\n\n<p>it will nicely format the output for you, which may help</p>\n"}, {"comments": [{"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 0, "creation_date": 1444641196, "post_id": 33077170, "comment_id": 53971581, "body": "So what are the braces? (<code>{...}</code>)"}], "tags": [], "owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "is_accepted": false, "score": 1, "last_activity_date": 1444641382, "last_edit_date": 1444641382, "creation_date": 1444640647, "answer_id": 33077170, "question_id": 33076937, "link": "https://stackoverflow.com/questions/33076937/perl-reading-from-file-and-saving-into-an-array/33077170#33077170", "title": "Perl: Reading from file and saving into an array", "body": "<p>The original coder was trying to be too clever using the negative offset.  It would have been much more obvious if the code had been written with a simple temporary variable thus:</p>\n\n<pre><code>while (&lt;KOEFICIENTYfile&gt;) {\n    @_ = (split(/\\s+/, $_));\n    my $key = shift(@_);\n    push(@ZAID, $key);\n    $KOEFICIENTY{$key} = [@_];\n}\n</code></pre>\n\n<p>The braces on <code>$KOEFICIENTY</code> show that this is a \"hash\" of key/value pairs named <code>%KOEFICIENTY</code>, and not a normal array.</p>\n\n<p>If you don't actually need to preserve the sort order of the keys you could just use <code>keys %KOEFICIENTY</code> to retrieve them instead of storing them in <code>@ZAID</code>.</p>\n"}], "owner": {"reputation": 582, "user_id": 3336667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55bcff89476fdb1048642e6b250bb068?s=128&d=identicon&r=PG&f=1", "display_name": "Rao", "link": "https://stackoverflow.com/users/3336667/rao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 33077092, "answer_count": 3, "score": 1, "last_activity_date": 1447744873, "creation_date": 1444639981, "last_edit_date": 1444640131, "question_id": 33076937, "link": "https://stackoverflow.com/questions/33076937/perl-reading-from-file-and-saving-into-an-array", "title": "Perl: Reading from file and saving into an array", "body": "<p>I had got a script in Perl and my task is to do some changes in it. This of course means to understand which part does exactly what. I am not familiar with Perl language but I tried to read through some tutorials, but still some things are confusing me. And I got stuck in following part:</p>\n\n<pre><code>while (&lt;KOEFICIENTYfile&gt;) {\n    @_=(split(/\\s+/, $_));\n    push(@ZAID,shift(@_));\n    $KOEFICIENTY{$ZAID[-1]}=[@_];\n}\n</code></pre>\n\n<p>As I understands this part then it:</p>\n\n<ol>\n<li>Reads line from filehandle <code>KOEFICIENTYfile</code></li>\n<li>Separates them by spaces (one or more)</li>\n<li>Loads first item from this separated array into array <code>ZAID</code> (and in the process, removes it from <code>@_</code>)</li>\n<li>??? Adds a rest of a separated array into array <code>KOEFICIENTY</code>? I am confused by curly brackets part and by square brackets after equals sign. </li>\n</ol>\n\n<p>I think that I understood the meaning of <code>@</code>, <code>$</code>, <code>@_</code> or negative indexing but this is beyond me. Can you please advice me on meaning of this?</p>\n"}, {"tags": ["perl", "shell", "unix", "sed", "ksh"], "comments": [{"owner": {"reputation": 1, "user_id": 5435261, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ojvEMOEPQ5w/AAAAAAAAAAI/AAAAAAAAAFg/Y5-Mp2iP82A/photo.jpg?sz=128", "display_name": "ayushman das", "link": "https://stackoverflow.com/users/5435261/ayushman-das"}, "edited": false, "score": 0, "creation_date": 1444634058, "post_id": 33075215, "comment_id": 53967770, "body": "Forgot to add there is a tab in each line inside double quotes."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5435261, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ojvEMOEPQ5w/AAAAAAAAAAI/AAAAAAAAAFg/Y5-Mp2iP82A/photo.jpg?sz=128", "display_name": "ayushman das", "link": "https://stackoverflow.com/users/5435261/ayushman-das"}, "edited": false, "score": 0, "creation_date": 1444640275, "post_id": 33075432, "comment_id": 53971024, "body": "Thanks fo the response. But the above command will replace tab before 1st double quote and after the 2nd double quote also.  I dont want that.. I want to replace any tab within two double quotas and just to add the file is already tab delimited one.  TIA. Ayush"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 1, "user_id": 5435261, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ojvEMOEPQ5w/AAAAAAAAAAI/AAAAAAAAAFg/Y5-Mp2iP82A/photo.jpg?sz=128", "display_name": "ayushman das", "link": "https://stackoverflow.com/users/5435261/ayushman-das"}, "edited": false, "score": 0, "creation_date": 1449175305, "post_id": 33075432, "comment_id": 55904721, "body": "Not sure what you mean by that as rom the output in my answer you can see that tab before first double quote i.e. <code>&quot;HAPPINESS</code> wasn&#39;t replaced."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 0, "last_activity_date": 1444641935, "last_edit_date": 1444641935, "creation_date": 1444634744, "answer_id": 33075432, "question_id": 33075215, "link": "https://stackoverflow.com/questions/33075215/find-and-replace-tab-to-spaces-for-a-particular-pattern-in-a-unix-file-which-is/33075432#33075432", "title": "Find and replace tab to spaces for a particular pattern in a unix file which is tab-delimited as field separator", "body": "<p>You can use this <code>gnu-awk</code> commandto convert tabs inside the quotes:</p>\n\n<pre><code>awk -v FPAT='\"[^\"]+\"|[^\\t]+' '{for (i=1; i&lt;=NF; i++) if ($i ~ /^\"/)\n       gsub(/\\t/, \"   \", $i)} 1' OFS='\\t' file\n</code></pre>\n\n<p><code>FPAT='\"[^\"]+\"|[^\\t]+'</code> break input to fields either in double quotes or if they're separated by a tab.</p>\n\n<p>Output with <code>cat-vt</code> of given sample:</p>\n\n<pre><code>awk -v FPAT='\"[^\"]+\"|[^\\t]+' '{for (i=1; i&lt;=NF; i++) if ($i ~ /^\"/) gsub(/\\t/, \"   \", $i)} 1' OFS='\\t' file|cat -vt\nHAPPINESS^IALEXIS^IJORDAN^I\"HAPPINESS   \"^ICASH^I024^IProducer^IABRAMUS^IQUARTERLY^IHAPPINESS^ID658^IColumbia^ID658^IColumbia^IC283^IColumbia^IRecords^IGroup^I1Q15\nHAPPINESS^IALEXIS^IJORDAN^I\"HAPPINESS   ALWAYS\"^ICASH^I024^IProducer^IABRAMUS^IQUARTERLY^IHAPPINESS^ID658^IColumbia^ID658^IColumbia^IC283^IColumbia^IRecords^IGroup^I1Q15\nHAPPINESS^IDEADMAU5/ALEXIS^IJORDAN^I\"   HAPPINESS   \"^ICASH^I024^IProducer^IABRAMUS^IQUARTERLY^IHAPPINESS^ID658^IColumbia^ID658^IColumbia^IC283^IColumbia^IRecords^IGroup^I1Q15\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5435261, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ojvEMOEPQ5w/AAAAAAAAAAI/AAAAAAAAAFg/Y5-Mp2iP82A/photo.jpg?sz=128", "display_name": "ayushman das", "link": "https://stackoverflow.com/users/5435261/ayushman-das"}, "edited": false, "score": 0, "creation_date": 1444639490, "post_id": 33075739, "comment_id": 53970563, "body": "I tried with the above code. and i got this ..   perl -pe &#39;s{&quot;\\K(.*?)(?=&quot;)}{$1 =~ tr/\\t/ /r}eg&#39; consolidated_ppb_20151001.txt21 Bareword found where operator expected at -e line 1, near &quot;tr/\\t/ /r&quot; syntax error at -e line 1, near &quot;tr/\\t/ /r&quot; Execution of -e aborted due to compilation errors.  I do not have much idea on perl.. Please help.  TIA"}, {"owner": {"reputation": 1, "user_id": 5435261, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ojvEMOEPQ5w/AAAAAAAAAAI/AAAAAAAAAFg/Y5-Mp2iP82A/photo.jpg?sz=128", "display_name": "ayushman das", "link": "https://stackoverflow.com/users/5435261/ayushman-das"}, "edited": false, "score": 0, "creation_date": 1444642762, "post_id": 33075739, "comment_id": 53972502, "body": "i did some digging and found that my perl is of older version. so i have removed /r but now i am getting &quot;Modification of a read-only value attempted at -e line 1, &lt;&gt; line 1&quot; error.  Please help."}, {"owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "reply_to_user": {"reputation": 1, "user_id": 5435261, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ojvEMOEPQ5w/AAAAAAAAAAI/AAAAAAAAAFg/Y5-Mp2iP82A/photo.jpg?sz=128", "display_name": "ayushman das", "link": "https://stackoverflow.com/users/5435261/ayushman-das"}, "edited": false, "score": 0, "creation_date": 1444683982, "post_id": 33075739, "comment_id": 53996394, "body": "The <code>r</code> modifier to <code>tr</code>, <code>s</code> etc. is there since Perl 5.14. If your Perl is older, use <code>perl -pe &#39;s{&quot;\\K(.*?)(?=&quot;)}{$x = $1; $x =~ tr&#47;\\t&#47; &#47;; $x}eg&#39; filename</code>. Making a copy is necessary because <code>$1</code> is a read-only value and <code>=~ tr&#47;\\t&#47; &#47;</code> without <code>r</code> attempts to modify the left-hand side."}], "tags": [], "owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "is_accepted": false, "score": 0, "last_activity_date": 1444636285, "last_edit_date": 1444636285, "creation_date": 1444635725, "answer_id": 33075739, "question_id": 33075215, "link": "https://stackoverflow.com/questions/33075215/find-and-replace-tab-to-spaces-for-a-particular-pattern-in-a-unix-file-which-is/33075739#33075739", "title": "Find and replace tab to spaces for a particular pattern in a unix file which is tab-delimited as field separator", "body": "<p>Consider using Perl:</p>\n\n<pre><code>perl -pe 's{\"\\K(.*?)(?=\")}{$1 =~ tr/\\t/ /r}eg' filename\n</code></pre>\n\n<p>This replaces everything matched by the regex <code>\"\\K(.*?)(?=\")</code> with the result of the expression <code>$1 =~ tr/\\t/ /r</code>. The <code>eg</code> modifiers are necessary to replace <code>g</code>lobally (in case more than one quoted string is in a line) and with replacement <code>e</code>xpressions evaluated.</p>\n\n<p>Things to note:</p>\n\n<ul>\n<li>Everything before <code>\\K</code> has to be there for something to be a match but makes it not actually part of the match.</li>\n<li><code>(?=\")</code> is a lookahead term; it matches an empty string if it is followed by <code>\"</code></li>\n<li><code>.*?</code> matches any string non-greedily, i.e. the shortest fitting match is taken rather than the longest</li>\n</ul>\n\n<p>The regex therefore matches everything between a <code>\"</code> and the next <code>\"</code> and captures it as <code>$1</code>. The expression in the replacement clause returns the value of this capture with tabs replaced by spaces, and it is shoehorned in where the original string used to be.</p>\n"}], "owner": {"reputation": 1, "user_id": 5435261, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ojvEMOEPQ5w/AAAAAAAAAAI/AAAAAAAAAFg/Y5-Mp2iP82A/photo.jpg?sz=128", "display_name": "ayushman das", "link": "https://stackoverflow.com/users/5435261/ayushman-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1444643525, "creation_date": 1444633991, "last_edit_date": 1444643525, "question_id": 33075215, "link": "https://stackoverflow.com/questions/33075215/find-and-replace-tab-to-spaces-for-a-particular-pattern-in-a-unix-file-which-is", "title": "Find and replace tab to spaces for a particular pattern in a unix file which is tab-delimited as field separator", "body": "<p>Ok. The Header might be confusing but to elaborate i have a file in unix which is already a tab delimited one and i am trying to bcp in that.But the problem is in one column where some random values has tab inside it .But its not actually random. The tab in that column are inside only double quote values. This extra tab can be just after a double quote or just before and in between a word inside double quotes.</p>\n\n<p>So i want to replace these tabs to space.</p>\n\n<p>For e.g</p>\n\n<pre><code>HAPPINESS       ALEXIS JORDAN   \"HAPPINESS      \"       CASH    024     Producer                ABRAMUS QUARTERLY       HAPPINESS       D658    Columbia        D658    Columbia        C283    Columbia Records Group  1Q15\nHAPPINESS       ALEXIS JORDAN   \"HAPPINESS      ALWAYS\" CASH    024     Producer                ABRAMUS QUARTERLY       HAPPINESS       D658    Columbia        D658    Columbia        C283    Columbia Records Group  1Q15\nHAPPINESS       DEADMAU5/ALEXIS JORDAN  \"       HAPPINESS       \"       CASH    024     Producer                ABRAMUS QUARTERLY       HAPPINESS       D658    Columbia        D658    Columbia        C283    Columbia Records Group  1Q15\n</code></pre>\n\n<p>Please find the above text for your reference. \nPlease Help. Thanks in Advance.</p>\n"}, {"tags": ["perl", "testing", "modulino"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1444632700, "post_id": 33074449, "comment_id": 53967102, "body": "You need to <code>use My::Testing;</code> in your test file.  Then call it as My::Testing::testme().  Otherwise look into perldoc Exporter,"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 3, "creation_date": 1444636089, "post_id": 33074449, "comment_id": 53968809, "body": "xxfelixxx: He does <i>not</i> need to <code>use My::Testing</code> unless he wants to read in a file named <code>My&#47;Testing.pm</code> from a Perl library directory found in <code>@INC</code>. His code is in a file named <code>testme.pl</code>, so <code>use</code> won&#39;t work with it, and he&#39;s already loaded it with <code>require</code> (well, <code>require_ok</code>), so its contents are already accessible."}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 7, "last_activity_date": 1444635876, "creation_date": 1444635876, "answer_id": 33075773, "question_id": 33074449, "link": "https://stackoverflow.com/questions/33074449/why-does-package-keyword-in-perl-modulino-break-tests/33075773#33075773", "title": "Why does &#39;package&#39; keyword in Perl modulino break tests?", "body": "<p>It fails because your <code>testme</code> sub is no longer in the default <code>main</code> namespace, it is now in the <code>My::Testing</code> namespace (package).  You now need to access it by its full name, <code>My::Testing::testme()</code>.</p>\n\n<p>Identifiers in <code>main</code> don't need their package to be specified explicitly, since it's the default, but that's why the error message refers to it as <code>main::testme</code>.</p>\n\n<p>(You could also <code>use Exporter</code> within the <code>My::Testing</code> package, export the sub, and then <code>import</code> it from your test script as a way of copying the sub into the test script's namespace.  Or you could put another <code>package My::Testing</code> command into the test script, so that it will look in the <code>My::Testing</code> namespace by default.  But referencing it as <code>My::Testing::testme()</code> is the simplest way to fix it and most clearly illustrates the reasoning behind the error message you're getting.)</p>\n"}], "owner": {"reputation": 3486, "user_id": 272387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba4d3e91f235ed21dacc1766b94e26a8?s=128&d=identicon&r=PG", "display_name": "Richlv", "link": "https://stackoverflow.com/users/272387/richlv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 33075773, "answer_count": 1, "score": 2, "last_activity_date": 1497409710, "creation_date": 1444630942, "last_edit_date": 1497409710, "question_id": 33074449, "link": "https://stackoverflow.com/questions/33074449/why-does-package-keyword-in-perl-modulino-break-tests", "title": "Why does &#39;package&#39; keyword in Perl modulino break tests?", "body": "<p>Let's say there's a simple Perl script testme.pl like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub testme {\n        return 1;\n}\n\n1;\n</code></pre>\n\n<p>And a test file testme.t like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Test::More;\nrequire_ok('testing.pl');\nok(testme());\ndone_testing();\n</code></pre>\n\n<p>Running <code>perl testme.t</code> seems to work as expected, but both <a href=\"http://www.perlmonks.org/bare/?node_id=537361\" rel=\"nofollow noreferrer\">http://www.perlmonks.org/bare/?node_id=537361</a> and <a href=\"https://stackoverflow.com/a/9134624/272387\">https://stackoverflow.com/a/9134624/272387</a> suggest to add a package line, so I modify the original script to be:</p>\n\n<pre><code>use strict;\nuse warnings;\npackage My::Testing;\n\nsub testme {\n        return 1;\n}\n\n1;\n</code></pre>\n\n<p>Now the test fails with:</p>\n\n<pre><code>Undefined subroutine &amp;main::testme called at testing.t\n</code></pre>\n\n<p>Why so?</p>\n"}, {"tags": ["perl", "object"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1444615010, "last_edit_date": 1444615010, "creation_date": 1444611075, "answer_id": 33071734, "question_id": 33071709, "link": "https://stackoverflow.com/questions/33071709/multiple-data-types-in-perl-object/33071734#33071734", "title": "Multiple data types in perl object", "body": "<pre><code>sub new {\n    my ($class, $int1, $int2) = @_;\n    my $self = bless({}, $class);\n    $self-&gt;{array} = [];\n    $self-&gt;{int1} = $int1;\n    $self-&gt;{int2} = $int2;\n    return $self;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1444612601, "last_edit_date": 1444612601, "creation_date": 1444611920, "answer_id": 33071822, "question_id": 33071709, "link": "https://stackoverflow.com/questions/33071709/multiple-data-types-in-perl-object/33071822#33071822", "title": "Multiple data types in perl object", "body": "<p>Assuming you want your integer values to be kept separately from the array, you could write</p>\n\n<pre><code>sub new {\n    my $class = shift;\n    my %self;\n    @self{qw/ array int1 int2 /} = ( [], @_ );\n    bless \\%self, $class;\n}\n</code></pre>\n\n<p>Then you can access the integer scalars as <code>$self-&gt;{int1}</code> and <code>$self-&gt;{int2}</code> and the array elements as <code>$self-&gt;{array}[0]</code>, <code>$self-&gt;{array}[1]</code> etc. But I hope you realise that you should only do that in the code for the module, and you should write accessor methods for the external software that is using the module</p>\n"}], "owner": {"reputation": 37, "user_id": 4573775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7f3a38932babdc4c959c20a2f5aedd?s=128&d=identicon&r=PG&f=1", "display_name": "stuntpenguin007", "link": "https://stackoverflow.com/users/4573775/stuntpenguin007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 33071734, "answer_count": 2, "score": 1, "last_activity_date": 1444615010, "creation_date": 1444610862, "question_id": 33071709, "link": "https://stackoverflow.com/questions/33071709/multiple-data-types-in-perl-object", "title": "Multiple data types in perl object", "body": "<p>I'm trying to make an object in perl that contains an array, and two integer scalars.</p>\n\n<p>So far I have:</p>\n\n<pre><code>new\n{\n$class = shift;\n$self = [];\n$int1 = shift;\n$int2 = shift;\n\nbless($self, $class);\n}\n</code></pre>\n\n<p>This works for accessing the array with $self->[number]</p>\n\n<p>I want to be able to access int1 and int2 though.  If I put them outside of the constructor, they will change for every instance of the object when I change them.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["regex", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444572898, "post_id": 33065969, "comment_id": 53950773, "body": "Already answered in <a href=\"http://stackoverflow.com/a/33052571/1848654\">stackoverflow.com/a/33052571/1848654</a>."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1444578719, "post_id": 33065969, "comment_id": 53952424, "body": "@melpomene Do you test it over test data from this question. It now works on 6Gb Mediawiki files where is not possible to load whole file and not allowed. I tested you answer it is good for small files. <code>-0777</code> lead to <code>Out of memory!</code>."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444578754, "post_id": 33065969, "comment_id": 53952432, "body": "BTW I will be not asking again similar question."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444584389, "post_id": 33065969, "comment_id": 53954177, "body": "Did you ignore the second part of my answer? I mean the one that doesn&#39;t use <code>-0777</code>."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444585391, "post_id": 33065969, "comment_id": 53954475, "body": "I will try it again maybe second works but I think I was checked. You can test in on this ... - <code>wget http:&#47;&#47;dumps.wikimedia.org&#47;plwiki&#47;latest&#47;plwiki-latest-pages&zwnj;&#8203;-articles.xml.bz2</code> and <code>bzip2 -c -d plwiki-latest-pages-articles.xml.bz2 | perl &#39;something&#39;</code> I will test on it."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444586517, "post_id": 33065969, "comment_id": 53954860, "body": "@melpomene I tested 2nd <code>perl -pe &#39;s!&lt;math&gt;.*?&lt;&#47;math&gt;!!s; if ($cut) { if (s!^.*?&lt;&#47;math&gt;!!) { $cut = 0 } else { $_ = &quot;&quot; } } if (!$cut &amp;&amp; s!&lt;math&gt;.*!!s) { $cut = 1 }&#39; dirt-math.txt</code> it works nice on small files. I will try on huge file."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444586584, "post_id": 33065969, "comment_id": 53954879, "body": "@melpomene I need to optimize it since it is need to remove many tags together like <code>&lt;code&gt;</code>, <code>&lt;math&gt;</code>, ... - now it is not big problem since 8 cores will allow many redundant pipes. You script can be the best in perfomace but I need to check it - code looks promising."}], "answers": [{"comments": [{"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444578977, "post_id": 33066455, "comment_id": 53952514, "body": "Black magic for me but I will test it soon."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444579285, "post_id": 33066455, "comment_id": 53952611, "body": "@Chameleon: as you can see here (<a href=\"http://www.grymoire.com/Unix/Sed.html\" rel=\"nofollow noreferrer\">grymoire.com/Unix/Sed.html</a>), sed has other features than the simple replacement."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444579886, "post_id": 33066455, "comment_id": 53952785, "body": "I only learned basic of sed - need to learn more - it hard since it is very old syntax (from times when we use assemblers and it was o.k.) but I learned many computer languages so it can be more easy for me. Thank you for advanced hint!"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444579991, "post_id": 33066455, "comment_id": 53952822, "body": "@Chameleon: that is why I used the <code>-r</code> option, to preserve your eyes."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444580102, "post_id": 33066455, "comment_id": 53952869, "body": "It looks that <code>-r</code> will allow futher progress with sed thank you."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444581312, "post_id": 33066455, "comment_id": 53953214, "body": "<code>-r</code> only allows the ERE (Extended Regular Expression) syntax instead of the BRE (Basic Regular Expression) syntax, the syntax by default for regex patterns. It&#39;s useful here to avoid escape parenthesis and to have the alternation operator <code>|</code> available."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1444614732, "last_edit_date": 1444614732, "creation_date": 1444575640, "answer_id": 33066455, "question_id": 33065969, "link": "https://stackoverflow.com/questions/33065969/how-to-cut-html-tag-with-content-from-huge-multiline-file-with-perl-sed-or-awk/33066455#33066455", "title": "How to cut html tag with content from huge multiline file with perl, sed or awk (tags in same and different lines all is mixed)?", "body": "<p>A way with sed:</p>\n\n<pre><code>sed -r ':a;/&lt;math&gt;/{:b;s!&lt;math&gt;([^&lt;]|&lt;[^/]|&lt;/[^m]|&lt;/m[^a]|&lt;/ma[^t]|&lt;/mat[^h]|&lt;/math[^&gt;])*&lt;/math&gt;!!g;ta;N;bb;}' file\n</code></pre>\n\n<p>details:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>:a;  # defines the label \"a\"\n/&lt;math&gt;/ {  # condition: if the pattern space contains \"&lt;math&gt;\"\n    :b;  # defines the label \"b\"\n    # try to replace (the ugly alternation \"emulate\" a non greedy quantifier) \n    s!&lt;math&gt;([^&lt;]|&lt;[^/]|&lt;/[^m]|&lt;/m[^a]|&lt;/ma[^t]|&lt;/mat[^h]|&lt;/math[^&gt;])*&lt;/math&gt;!!g;\n    ta; # if something is replaced go to label \"a\"\n    N;  # else append the next line to the pattern space\n    bb; # and go to label \"b\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444578942, "post_id": 33066721, "comment_id": 53952501, "body": "I will test it since it looks better at second look! I forget accumulator reset."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444579578, "post_id": 33066721, "comment_id": 53952702, "body": "I tested it is great script - not understand last condition but it works (I think it check if nothing more to replace). I will check it on huge data now - some tags can be missed in 1M or articles - maybe if bullet proof."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444580514, "post_id": 33066721, "comment_id": 53952985, "body": "@Chameleon: The <code>if</code> condition tests whether the <code>$text</code> buffer contains an unmatched <code>&lt;math&gt;</code> tag (all matched pairs have been removed by the preceding substitution. I don&#39;t understand why you tried to edit my solution to use double wuotes instead of single quotes -- it is hardly an improvement!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1444577378, "creation_date": 1444577378, "answer_id": 33066721, "question_id": 33065969, "link": "https://stackoverflow.com/questions/33065969/how-to-cut-html-tag-with-content-from-huge-multiline-file-with-perl-sed-or-awk/33066721#33066721", "title": "How to cut html tag with content from huge multiline file with perl, sed or awk (tags in same and different lines all is mixed)?", "body": "<p>Here's a Perl solution. It works by accumulating lines from the file into a buffer <code>$text</code> and then removing all <code>&lt;math&gt;...&lt;/math&gt;</code> pairs. If the resulting buffer has no opening <code>&lt;math&gt;</code> tag then it is printed and emptied. That way, text from the file will only be stored in memory until it has no unpaired <code>&lt;math&gt;</code> tags, and normally it will contain only a single line of input</p>\n\n<p>The program expects the path to the input file as a parameter on the command line. It has been tested against your sample data in this and your previous questions, and works fine</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $text;\n\nwhile ( &lt;&gt; ) {\n\n    $text .= $_;\n\n    $text =~ s/&lt;math&gt;.*?&lt;\\/math&gt;//sg;\n\n    if ( $text !~ /&lt;math&gt;/ ) {\n        print $text;\n        $text = '';\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "closed_date": 1444753076, "answer_count": 2, "score": 0, "last_activity_date": 1444614732, "creation_date": 1444572586, "last_edit_date": 1444578510, "question_id": 33065969, "link": "https://stackoverflow.com/questions/33065969/how-to-cut-html-tag-with-content-from-huge-multiline-file-with-perl-sed-or-awk", "closed_reason": "Duplicate", "title": "How to cut html tag with content from huge multiline file with perl, sed or awk (tags in same and different lines all is mixed)?", "body": "<p>I trying to clear file from <code>&lt;math&gt;.*?&lt;/math&gt;</code>. It is easy to do it in one line but how to do it with multiline? Where in one line can be more tags or less?</p>\n\n<p>I prepare some test text for Wikipedia to show problem:</p>\n\n<pre><code>: &lt;math&gt;A = \n\\begin{bmatrix}\n   a_{1,1} &amp; a_{1,2} &amp; \\dots \\\\\n   a_{2,1} &amp; a_{2,2} &amp; \\dots \\\\\n   \\vdots &amp; \\vdots &amp; \\ddots\n\\end{bmatrix}\n&lt;/math&gt; oraz &lt;math&gt;B = \n\\begin{bmatrix}\n   b_{1,1} &amp; b_{1,2} &amp; \\dots \\\\\n   b_{2,1} &amp; b_{2,2} &amp; \\dots \\\\\n   \\vdots &amp; \\vdots &amp; \\ddots\n\\end{bmatrix}\n=\n\\begin{bmatrix}\n   B_1 \\\\\n   B_2 \\\\\n   \\vdots\n\\end{bmatrix}\n&lt;/math&gt;,\n</code></pre>\n\n<p>We discuss problem on Stackoverflow and receive such good solution but not working if line contains overlapping tags like <code>&lt;/math&gt; oraz &lt;math&gt;</code> it is correct since we have pair but it not works.</p>\n\n<p>I am not expert in awk, sed, perl - only know very well regex.</p>\n\n<p>Perl suggestion (not working on this example):</p>\n\n<pre><code>cat dirt-math-2.txt | perl -wlne '\nunless(((/.*&lt;math&gt;/../&lt;\\/math&gt;/)||0) &gt; 1){s/&lt;math&gt;//;print}\n' | less\n</code></pre>\n\n<p>Awk suggestion (not working on this example):</p>\n\n<pre><code>cat dirt-math-2.txt | awk '\nsub(/&lt;math&gt;.*/, \"\") {print; cut=1}\n/&lt;\\/math&gt;/          {cut=0; next}\n!cut' | less\n</code></pre>\n\n<p>File to parse is whole Wikipedia in Polish language so it is need be parsed without loading 6Gb into memory. Thank you in advance for any suggestion. I asked some similar question before but it is not the same.</p>\n"}, {"tags": ["perl", "pack"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444572955, "post_id": 33065579, "comment_id": 53950794, "body": "Can you provide an input/output example?"}, {"owner": {"reputation": 347, "user_id": 3548351, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100002552392923/picture?type=large", "display_name": "peroksid", "link": "https://stackoverflow.com/users/3548351/peroksid"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444574162, "post_id": 33065579, "comment_id": 53951159, "body": "@melpomene, sure. I have added example."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444583148, "post_id": 33065579, "comment_id": 53953784, "body": "Is N always going to be an integer factor of 8? (One of 8, 16, 24, 32, 40, 48, 56, 64)"}, {"owner": {"reputation": 347, "user_id": 3548351, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100002552392923/picture?type=large", "display_name": "peroksid", "link": "https://stackoverflow.com/users/3548351/peroksid"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444583637, "post_id": 33065579, "comment_id": 53953942, "body": "@ikegami, yes it is."}], "answers": [{"tags": [], "owner": {"reputation": 8543, "user_id": 5008284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AvSMy.jpg?s=128&g=1", "display_name": "meuh", "link": "https://stackoverflow.com/users/5008284/meuh"}, "is_accepted": false, "score": 2, "last_activity_date": 1444577388, "creation_date": 1444577388, "answer_id": 33066723, "question_id": 33065579, "link": "https://stackoverflow.com/questions/33065579/perl-pack-int-to-arbitrary-length-byte-string/33066723#33066723", "title": "Perl: pack int to arbitrary length byte string", "body": "<p>Bearing in mind that you will always have a whole\nnumber of bytes, I ended up with</p>\n\n<pre><code>substr(pack(\"Q&gt;\",$n&lt;&lt;(64-$len)),0,($len+7)/8);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>unpack(\"Q&gt;\",$s.(0 x 8)) &gt;&gt; (64-$len);\n</code></pre>\n\n<p>as tried in this example:</p>\n\n<pre><code>#!/usr/bin/perl\n$len = 40;\n$n = 7;\n$s = substr(pack(\"Q&gt;\",$n&lt;&lt;(64-$len)),0,($len+7)/8);\nopen(PIPE,\"| hexdump -C\");\nprint PIPE $s;\nclose PIPE;\n\n$v = unpack(\"Q&gt;\",$s.(0 x 8)) &gt;&gt; (64-$len);\nprintf \"%d\\n\",$v;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1444583731, "last_edit_date": 1444583731, "creation_date": 1444582643, "answer_id": 33067646, "question_id": 33065579, "link": "https://stackoverflow.com/questions/33065579/perl-pack-int-to-arbitrary-length-byte-string/33067646#33067646", "title": "Perl: pack int to arbitrary length byte string", "body": "<p>Is N always going to be an integer factor of 8 (one of 8, 16, 24, 32, 40, 48, 56, 64)? If so, for speed, I recommend writing a packer for each size and use a dispatch table to find the right packer.</p>\n\n<pre><code>sub pack_8bit  {        pack('C',  $_[0])     }\nsub pack_16bit {        pack('S&gt;', $_[0])     }\nsub pack_24bit { substr(pack('L&gt;', $_[0]), 1) }\nsub pack_32bit {        pack('L&gt;', $_[0])     }\nsub pack_40bit { substr(pack('Q&gt;', $_[0]), 3) }\nsub pack_48bit { substr(pack('Q&gt;', $_[0]), 2) }\nsub pack_56bit { substr(pack('Q&gt;', $_[0]), 1) }\nsub pack_64bit {        pack('Q&gt;', $_[0])     }\n\n{\n   my %packers = (\n       8 =&gt; \\&amp;pack_8bit,   40 =&gt; \\&amp;pack_40bit,\n      16 =&gt; \\&amp;pack_16bit,  48 =&gt; \\&amp;pack_48bit,\n      24 =&gt; \\&amp;pack_24bit,  56 =&gt; \\&amp;pack_56bit,\n      32 =&gt; \\&amp;pack_32bit,  64 =&gt; \\&amp;pack_64bit,\n   );\n\n   sub pack_num {\n      my $packer = $packers{$_[0]}\n         or die;\n      return $packer-&gt;($_[1]);\n   }\n\n   sub get_packer {\n      my $packer = $packers{$_[0]}\n         or die;\n      return $packer;\n   }\n}\n\nmy $packed = pack_num(40, 7);\n  -or-\nmy $packer = get_packer(40);\nmy $packed = $packer-&gt;(7);\n</code></pre>\n\n<p>If you're planning on packing multiple numbers into one string (like <code>pack('L&gt;*', @nums)</code>), I'd also use a dispatch table like this, though I'm not sure what would be the fastest implementation of <code>pack_24bit</code>, <code>pack_40bit</code>, <code>pack_48bit</code> and <code>pack_56bit</code> (other than a C solution).</p>\n"}], "owner": {"reputation": 347, "user_id": 3548351, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100002552392923/picture?type=large", "display_name": "peroksid", "link": "https://stackoverflow.com/users/3548351/peroksid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 33067646, "answer_count": 2, "score": 3, "last_activity_date": 1444583731, "creation_date": 1444570392, "last_edit_date": 1444574106, "question_id": 33065579, "link": "https://stackoverflow.com/questions/33065579/perl-pack-int-to-arbitrary-length-byte-string", "title": "Perl: pack int to arbitrary length byte string", "body": "<p>I want to encode numbers in N bit containers and send them in a UDP packet. A receiver will know N, and the receiver will grab a number from exactly N bits.(N &lt;= 64)</p>\n\n<p>Somethink like this:</p>\n\n<pre><code>sub to56BIT {\n     return pack(\"??\", shift);\n}\n\nsub to24BIT {\n     return pack(\"??\", shift);\n}\n\nmy $n = 7;\nto24BIT($n);\n</code></pre>\n\n<p>On the receiver's side:</p>\n\n<pre><code>int n = Get_val24(byte_stream, offset);\n</code></pre>\n\n<p>Is there any way to do this in Perl?</p>\n\n<p>I think solution might be:</p>\n\n<pre><code>sub packIntN {\n        my $int = shift;\n        my $length = shift;\n        return pack(\"B\" . $length, substr(unpack(\"B64\", pack(\"Q&gt;\", $int)), 64 - $length));\n}\n</code></pre>\n\n<p>But maybe there is more elegant way.</p>\n\n<p>Input/Output example:\nWe have a script test.pl:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub to24BIT {\n        #???\n}\n\nmy $n = 7;\n\nprint to24BIT($n);\n</code></pre>\n\n<p>I want this:</p>\n\n<pre><code>./test.pl | hexdump -C\n00000000  00 00 07                                          |...|\n00000003\n</code></pre>\n\n<p>Another script test2.pl:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub to40BIT {\n        #???\n}\n\nmy $n = 7;\n\nprint to40BIT($n);\n</code></pre>\n\n<p>I want this:</p>\n\n<pre><code>./test.pl | hexdump -C\n00000000  00 00 00 00 07                                    |.....|\n00000005\n</code></pre>\n"}, {"tags": ["regex", "perl", "escaping", "substring", "indexof"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1444564678, "post_id": 33064682, "comment_id": 53948204, "body": "Missing <code>use strict; use warnings;</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1444564716, "post_id": 33064682, "comment_id": 53948217, "body": "Hint: You have a double backslash in your <code>rindex</code> call, but only single backslashes in your path. Why?"}, {"owner": {"reputation": 904, "user_id": 2907585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/721827536/picture?type=large", "display_name": "David Gidony", "link": "https://stackoverflow.com/users/2907585/david-gidony"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444565204, "post_id": 33064682, "comment_id": 53948346, "body": "@melpomene , the line will come by reading a text file, and that is the format im getting from the test file lines..."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1444565290, "post_id": 33064682, "comment_id": 53948377, "body": "No, it&#39;s not. Your code would have worked fine for lines coming from a text file."}], "answers": [{"comments": [{"owner": {"reputation": 904, "user_id": 2907585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/721827536/picture?type=large", "display_name": "David Gidony", "link": "https://stackoverflow.com/users/2907585/david-gidony"}, "edited": false, "score": 0, "creation_date": 1444565460, "post_id": 33064736, "comment_id": 53948430, "body": "this is a great answer, the only problem is that your code return the filename, and i need the directory structure witout the file name :)"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 904, "user_id": 2907585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/721827536/picture?type=large", "display_name": "David Gidony", "link": "https://stackoverflow.com/users/2907585/david-gidony"}, "edited": false, "score": 0, "creation_date": 1444565843, "post_id": 33064736, "comment_id": 53948535, "body": "@DavidGidony Updated."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 5, "last_activity_date": 1444565837, "last_edit_date": 1444565837, "creation_date": 1444564981, "answer_id": 33064736, "question_id": 33064682, "link": "https://stackoverflow.com/questions/33064682/perl-find-the-last-occurrence-of-the-char/33064736#33064736", "title": "Perl: find the last occurrence of the char &quot;\\&quot;", "body": "<p>The main problem is your use of invalid escapes:</p>\n\n<pre><code>use warnings;\nprint \"Root\\ToOrganization\\Service_b37189b3-8505-4395_Out_BackOffice.xml\";\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>Unrecognized escape \\T passed through at ... line 2.\nUnrecognized escape \\S passed through at ... line 2.\nRootToOrganizationService_b37189b3-8505-4395_Out_BackOffice.xml\n</code></pre>\n\n<p>So your <code>$file</code> variable doesn't contain what you think it does.</p>\n\n<p>Your <code>rindex</code> call itself is fine, but you can simply do this (assuming you are on a Windows system):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Basename;\n\nmy $path = \"Root\\\\ToOrganization\\\\Service_b37189b3-8505-4395_Out_BackOffice.xml\";\nmy $dir = dirname($path);\nprint \"dir = $dir\\n\";\n</code></pre>\n\n<p>Or (this should work on any system):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Spec::Win32;\n\nmy $path = \"Root\\\\ToOrganization\\\\Service_b37189b3-8505-4395_Out_BackOffice.xml\";\nmy $dir = (File::Spec::Win32-&gt;splitpath($path))[1];\nprint \"dir = $dir\\n\";\n</code></pre>\n\n<p>Note that if this is actually a real windows path, the code above will strip the drive letter (it's the first element of the list returned by <code>splitpath</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 352699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzOIr.jpg?s=128&g=1", "display_name": "kabanoid", "link": "https://stackoverflow.com/users/352699/kabanoid"}, "is_accepted": false, "score": 0, "last_activity_date": 1444638056, "creation_date": 1444638056, "answer_id": 33076368, "question_id": 33064682, "link": "https://stackoverflow.com/questions/33064682/perl-find-the-last-occurrence-of-the-char/33076368#33076368", "title": "Perl: find the last occurrence of the char &quot;\\&quot;", "body": "<p>double-quotes interpolate escapes \\T and \\S, so you should use single quotes <em>'</em> or <em>q//</em> to test. Anyway, reading from file (for example, with &lt;>) will work for you without any changes in reindex-related code, i.e. this works fine:</p>\n\n<pre><code>warn rindex ($_, \"\\\\\") while (&lt;&gt;);\n</code></pre>\n"}], "owner": {"reputation": 904, "user_id": 2907585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/721827536/picture?type=large", "display_name": "David Gidony", "link": "https://stackoverflow.com/users/2907585/david-gidony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 33064736, "answer_count": 2, "score": 0, "last_activity_date": 1444638056, "creation_date": 1444564530, "last_edit_date": 1444566289, "question_id": 33064682, "link": "https://stackoverflow.com/questions/33064682/perl-find-the-last-occurrence-of-the-char", "title": "Perl: find the last occurrence of the char &quot;\\&quot;", "body": "<p>I want to strip the path from a file string like this:</p>\n\n<pre><code>Root\\ToOrganization\\Service_b37189b3-8505-4395_Out_BackOffice.xml\n</code></pre>\n\n<p>I am trying to find the index of the last occurrence of \"\\\" so I can use substring up to there.</p>\n\n<p>but I can't use the char \"\\\" in the search. I am using \"\\\" instead, but its not working...</p>\n\n<p>my code i am trying : </p>\n\n<pre><code>$file = \"Root\\ToOrganization\\Service_b37189b3-8505-4395_Out_BackOffice.xml\";\n$tmp = rindex($file, \"\\\\\");\nprint $tmp;\n</code></pre>\n\n<p>the OUTPUT I'm getting:</p>\n\n<pre><code>-1\n</code></pre>\n\n<p>What can I do?</p>\n"}, {"tags": ["perl", "garbage-collection"], "comments": [{"owner": {"reputation": 2267, "user_id": 3155154, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/926d01e9172918323dcc2c53f72f1376?s=128&d=identicon&r=PG&f=1", "display_name": "Nitek", "link": "https://stackoverflow.com/users/3155154/nitek"}, "edited": false, "score": 0, "creation_date": 1444558263, "post_id": 33063793, "comment_id": 53946550, "body": "You probably shouldn&#39;t read the whole file into memory, but for a real answer you need to provide more information/the relevant parts of your code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1444578435, "post_id": 33063793, "comment_id": 53952335, "body": "You should use a proper XML parser to process XML data. If you&#39;re dealing with a very large file then <a href=\"http://metacpan.org/module/XML::Twig\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a> should be your choice, but you will have to explain the problem you are trying solve before we can help any further"}], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 5432595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d37a27cc01ee3d2357adb1ae5f23af5?s=128&d=identicon&r=PG&f=1", "display_name": "Eitan", "link": "https://stackoverflow.com/users/5432595/eitan"}, "is_accepted": false, "score": 4, "last_activity_date": 1444561040, "last_edit_date": 1495539889, "creation_date": 1444561040, "answer_id": 33064165, "question_id": 33063793, "link": "https://stackoverflow.com/questions/33063793/how-to-release-memory-in-perl/33064165#33064165", "title": "How to release memory in Perl?", "body": "<p>First - Perl doesn't \"free\" memory - it has GC for that.\nSecond of all, when you read to memory, it's better not to read all (as stated by <a href=\"https://stackoverflow.com/users/3155154/nitek\">Nitek</a>).\nI suggest you use XML::Twig or XML::XPath to read and parse the file as it handles the \"big\" data processing for you (in chunks).</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1554111621, "last_edit_date": 1554111621, "creation_date": 1444594477, "answer_id": 33069663, "question_id": 33063793, "link": "https://stackoverflow.com/questions/33063793/how-to-release-memory-in-perl/33069663#33069663", "title": "How to release memory in Perl?", "body": "<p>Perl does its own garbage collection. You don't need to worry about freeing memory - it does it automatically when you stop the program execution. </p>\n\n<p>The way you 'free' it is by stopping referencing it. So if you keep scopes as tight as possible you don't waste memory particularly. </p>\n\n<p>However XML is a bit of a special case - the problem with XML is that a) its memory footprint is about 10x the file size and b) it <em>has</em> to have matched tags, which means you can end up having to parse the whole file to ensure the tags are matched.</p>\n\n<p>It's likely that this is the problem you're having - a large XML file. To handle a large XML file, you can't really read the whole thing - which you need to to ensure it's valid. </p>\n\n<p>However, once of the parsing libraries - <code>XML::Twig</code> allows you to use handlers to parse subsets of the file as you go. You should consider doing this. Look at <code>purge</code> which will release the memory as you go: </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nsub process_some_element {\n    my ( $twig, $some_element ) = @_;\n    $some_element-&gt;print;\n    $twig-&gt;purge;\n}\n\nmy $twig =\n    XML::Twig-&gt;new(\n    twig_handlers =&gt; \n        { 'some_element' =&gt; \\&amp;process_some_element } );\n$twig-&gt;parsefile('sample.xml');\n</code></pre>\n\n<p>The important part here is the <code>purge</code> - because it discards XML seen thus far. You can also use <code>flush</code> which does much the same thing, but prints the 'seen' XML, if - for example - you want to modify and retain the document structure. </p>\n"}], "owner": {"reputation": 11, "user_id": 5433049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebfa4cb90e96e0d5f31eb4e581454d82?s=128&d=identicon&r=PG&f=1", "display_name": "Elad", "link": "https://stackoverflow.com/users/5433049/elad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554111621, "creation_date": 1444558058, "last_edit_date": 1444724193, "question_id": 33063793, "link": "https://stackoverflow.com/questions/33063793/how-to-release-memory-in-perl", "title": "How to release memory in Perl?", "body": "<p>I wrote Perl code that handle with xml files and create array from the records of this xml file. When the array is large then I got 'Out of memory' error while I over it or use 'join' on it.</p>\n\n<p>There is any way to release memory on Perl?</p>\n\n<pre><code>I get **$data** to the function:\n\nmy @records = ();\n($records_section) = $data =~ /&lt;gift-doc_body&gt;(.+)&lt;\\/gift-doc_body&gt;/ms;\n\n(@records) = $records_section =~ /&lt;gift-doc_document&gt;(.+?)&lt;\\/gift-doc_document&gt;/msg;\n\n$new_xml = join(\"\\n\", \"&lt;root&gt;\", @records, \"&lt;/root&gt;\");\n</code></pre>\n\n<p>I got the 'Out of memory' error when it doing the 'join'</p>\n"}, {"tags": ["regex", "perl", "multiline"], "comments": [{"owner": {"reputation": 6043, "user_id": 5290909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34788cb69a6f3007f88e3a36a590ca?s=128&d=identicon&r=PG", "display_name": "Mariano", "link": "https://stackoverflow.com/users/5290909/mariano"}, "edited": false, "score": 0, "creation_date": 1444540731, "post_id": 33061692, "comment_id": 53943016, "body": "What is the expected output? <code>FirstName-LastName</code> won&#39;t match <code>[a-zA-Z0-9._]+</code>. And what is allowed as &quot;items in a line&quot;?"}, {"owner": {"reputation": 15122, "user_id": 4519059, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/MBHID.png?s=128&g=1", "display_name": "shA.t", "link": "https://stackoverflow.com/users/4519059/sha-t"}, "edited": false, "score": 0, "creation_date": 1444541511, "post_id": 33061692, "comment_id": 53943158, "body": "I think you need just to add <code>-</code> in part <code>[a-zA-Z0-9._]</code> like <code>[a-zA-Z0-9._-]</code> ;)."}, {"owner": {"reputation": 6043, "user_id": 5290909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34788cb69a6f3007f88e3a36a590ca?s=128&d=identicon&r=PG", "display_name": "Mariano", "link": "https://stackoverflow.com/users/5290909/mariano"}, "edited": false, "score": 1, "creation_date": 1444542983, "post_id": 33061692, "comment_id": 53943400, "body": "<code>.*</code> might be too broad for the first item. Perhaps you should reduce it to <code>\\S+</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444582186, "post_id": 33062273, "comment_id": 53953494, "body": "Thank you very much for your inputs. In  my scenario apart from multiline there could be single line as well like below:   Hi There       FirstName.LastName    10  3/23/2011 2:46 PM   I am trying to get a RegEx which handles if the line output is Single as well as MultiLine.  Please suggest if you have any thoughts."}, {"owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "reply_to_user": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444582889, "post_id": 33062273, "comment_id": 53953704, "body": "@sureng: the regex already works for multiline and singleline input. As i write above the weak point is the <code>$username</code> part. In the single line input you provided Firstname is separated from Lastname by a dot. I&#39;ve considered (using your previous examples comma <code>&#39;,&#39;</code> and dash <code>&#39;-&#39;</code>. I&#39;ve updated the answer to consider also the dot <code>&#39;.&#39;</code>"}, {"owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "reply_to_user": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444583348, "post_id": 33062273, "comment_id": 53953852, "body": "@sureng: now the <a href=\"http://ideone.com/n01xNq\" rel=\"nofollow noreferrer\">online example</a> apply the regex on both single and multilines input."}, {"owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444583910, "post_id": 33062273, "comment_id": 53954025, "body": "@GsussRecovery Thank you so much. You are correct. i didn&#39;t consider the -. It works in both scenarios!...."}, {"owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444689586, "post_id": 33062273, "comment_id": 53998598, "body": "Interesting thing is i am getting the above output from another program. Since i am reading line by line multiple RegEx doesn&#39;t work. Is there a way to read single line or Multiline based on RegEx format. The 3 formats i gave could be in the same output."}, {"owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444705993, "post_id": 33062273, "comment_id": 54002837, "body": "I posted another question to get single line or multiline. <a href=\"http://stackoverflow.com/questions/33093262/read-single-line-or-double-line-or-triple-line-in-perl?noredirect=1#comment54002623_33093262\" title=\"read single line or double line or triple line in perl\">stackoverflow.com/questions/33093262/&hellip;</a>"}, {"owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "reply_to_user": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "edited": false, "score": 0, "creation_date": 1444712014, "post_id": 33062273, "comment_id": 54004518, "body": "@sureng: in this answer i&#39;ve used a <i>slurp</i> approach (all input in memory) but i&#39;ve forgotten to add the multiline regex modifier <code>(?m)</code> to make <code>[^$]</code> match start/end of line (instead of only start/end of the input). For processing the input as a stream (because it is a stream or because it&#39;s a very large file) you can use the answer i&#39;ll give you in the other question. Have a good day!"}], "tags": [], "owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "is_accepted": true, "score": 1, "last_activity_date": 1444711050, "last_edit_date": 1444711050, "creation_date": 1444545538, "answer_id": 33062273, "question_id": 33061692, "link": "https://stackoverflow.com/questions/33061692/perl-multiline-regex-for-first-3-individual-items/33062273#33062273", "title": "Perl multiline regex for first 3 individual items", "body": "<p>You can for sure apply regex over multiple lines. </p>\n\n<p>I've used the negated word <code>\\W+</code> between words to match space and newlines between words (actually <code>\\W</code> is equal to <code>[^a-zA-Z0-9_]</code>).\nThe chat is viewed as a repetead <code>\\w+\\W+</code> block.</p>\n\n<p>If you provide more specific input / output case i can refine the example code:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nmy $input = &lt;&lt;'__END__';\nHi There    \n\n                         FirstName-LastName       8       7/17/2015 1:15  PM \n\nTesting - 12323232323 Hello There\n__END__\n\nmy ($chat,$username,$chars,$timestamp) = $input =~ m/(?im)^\\s*((?:\\w+\\W+)+)(\\w+[-,\\.]\\w+)\\W+(\\d+)\\W+([0-1]?\\d\\/[0-3]?\\d\\/[1-2]\\d{3}\\s+[0-2]?\\d:[0-5]?\\d\\s?[ap]m)/;\n\n$chat =~ s/\\s+$//;  #remove trailing spaces\n\nprint \"chat -&gt; ${chat}\\n\";\nprint \"username -&gt; ${username}\\n\";\nprint \"chars -&gt; ${chars}\\n\";\nprint \"timestamp -&gt; ${timestamp}\\n\";\n</code></pre>\n\n<p><strong>Legenda</strong></p>\n\n<ul>\n<li><code>m/^.../</code> match regex (not substitute type) starting from start of line</li>\n<li><code>(?im)</code>: case insensitive search and multiline (^/$ match start/end of line also)</li>\n<li><code>\\s*</code> match zero or more whitespace chars (matches spaces, tabs, line breaks or form feeds)</li>\n<li><code>((?:\\w+\\W+)+)</code> (match group $chat) match one or more a pattern composed by a single word <code>\\w+</code> (letters, numbers, '_') followed by not words <code>\\W+</code>(everything that is not <code>\\w</code> including newline <code>\\n</code>). This is later filtered to remove trailing whitespaces</li>\n<li><code>(\\w+[-,\\.]\\w+)</code>: (match group $username) this is our weak point. If the username is not composed by two regex words separated by a dash <code>'-'</code> or a comma <code>','</code> (<strong>UPDATE</strong>) or a dot <code>'.'</code> the entire regex cannot work properly (i've extracted both the possibilities from your question, is not directly specified).</li>\n<li><code>(\\d+)</code>: (match group $chars) a number composed by one or more digits</li>\n<li><code>([0-1]?\\d\\/[0-3]?\\d\\/[1-2]\\d{3}\\s+[0-2]?\\d:[0-5]?\\d\\s[ap]m)</code>: (match group $timestamp) this is longer than the others split it up:\n\n<ul>\n<li><code>[0-1]?\\d\\/[0-3]?\\d\\/[1-2]\\d{3}</code> match a date composed by month (with an optional leading zero), a day (with an optional leading zero) and a year from 1000 to 2999 (a relaxed constraint :)</li>\n<li><code>[0-2]?\\d:[0-5]?\\d\\s?[ap]m</code> match the time: hour:minutes,optional space and 'pm,PM,am,AM,Am,Pm...' thanks to the case insensitive modifier above</li>\n</ul></li>\n</ul>\n\n<p>You can test it online <a href=\"http://ideone.com/n01xNq\" rel=\"nofollow\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "is_accepted": false, "score": 0, "last_activity_date": 1444568962, "creation_date": 1444568962, "answer_id": 33065328, "question_id": 33061692, "link": "https://stackoverflow.com/questions/33061692/perl-multiline-regex-for-first-3-individual-items/33065328#33065328", "title": "Perl multiline regex for first 3 individual items", "body": "<h2>Your regex says:</h2>\n\n<pre><code>^\\s*(.*)\\n*\\n*  # line starts with optional space followed by anything \n|      # or\n\\s+([a-zA-Z0-9._]+)\\s+(\\d+)\\s+(.*)$ # spaces followed by any words followed by spaces, digits, spaces,  anything at the end of the line\n</code></pre>\n\n<h2>Consider this:</h2>\n\n<pre><code>/^From|To$/\n</code></pre>\n\n<p>Alternation sticks as close to the sequences. \nAbove is really saying to find a line starting with 'Fro' followed by 'm' or 'T', followed by 'o', followed by the end of line</p>\n\n<h2>Compare to this:</h2>\n\n<pre><code>    /^(From|To)$/\n</code></pre>\n\n<p>Above will find lines that only have 'From' or 'To'</p>\n"}], "owner": {"reputation": 15, "user_id": 5432555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cba5a40fbb78a767261e63f2ddeded?s=128&d=identicon&r=PG&f=1", "display_name": "sureng", "link": "https://stackoverflow.com/users/5432555/sureng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 33062273, "answer_count": 2, "score": 0, "last_activity_date": 1444711050, "creation_date": 1444539472, "last_edit_date": 1444582610, "question_id": 33061692, "link": "https://stackoverflow.com/questions/33061692/perl-multiline-regex-for-first-3-individual-items", "title": "Perl multiline regex for first 3 individual items", "body": "<p>I am trying to read a regex format in Perl. Sometimes instead of a single line I also see the format in 3 lines.</p>\n\n<p>For the below single line format I can regex as</p>\n\n<pre><code>/^\\s*(.*)\\s+([a-zA-Z0-9._]+)\\s+(\\d+)\\s+(.*)/\n</code></pre>\n\n<p>to get the first 3 individual items in line</p>\n\n<pre><code>Hi There       FirstName.LastName    10  3/23/2011 2:46 PM\n</code></pre>\n\n<p>Below is the multi-line format I see. I am trying to use something like</p>\n\n<pre><code>/^\\s*(.*)\\n*\\n*|\\s+([a-zA-Z0-9._]+)\\s+(\\d+)\\s+(.*)$/m\n</code></pre>\n\n<p>to get individual items but don\u2019t seem to work.</p>\n\n<pre><code>Hi There    \n\n                         FirstName-LastName       8       7/17/2015 1:15 PM \n\nTesting - 12323232323 Hello There\n</code></pre>\n\n<p>Any suggestions? Is multi-line regex possible?</p>\n\n<p>NOTE: In the same output i can see either Single line or Multi line or both so output can be like below</p>\n\n<p>Hello Line1       FirstName.LastName    10  3/23/2011 2:46 PM</p>\n\n<p>Hello Line2    </p>\n\n<pre><code>                         Line2FirstName-LastName       8       7/17/2015 1:15 PM \n\nTesting - 12323232323 Hello There\n</code></pre>\n\n<p>Hello Line3       Line3FirstName.LastName    8 3/21/2011 2:46 PM</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 2, "creation_date": 1444550996, "post_id": 33061331, "comment_id": 53944849, "body": "Please show the whole <code>sub</code>. I don&#39;t think program printed junk values because of duplicate entry of <code>c1</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444578784, "post_id": 33061331, "comment_id": 53952440, "body": "Are you using a CPAN module to processv your config file?"}, {"owner": {"reputation": 1, "user_id": 5432474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58c00104ec71b7626de8663d8e7be04a?s=128&d=identicon&r=PG&f=1", "display_name": "whirlcano", "link": "https://stackoverflow.com/users/5432474/whirlcano"}, "edited": false, "score": 0, "creation_date": 1444652266, "post_id": 33061331, "comment_id": 53978280, "body": "Yes Borodin, I am using Config::IniFiles module."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5432474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58c00104ec71b7626de8663d8e7be04a?s=128&d=identicon&r=PG&f=1", "display_name": "whirlcano", "link": "https://stackoverflow.com/users/5432474/whirlcano"}, "edited": false, "score": 0, "creation_date": 1444652398, "post_id": 33067211, "comment_id": 53978357, "body": "thanks Borodin. this is exactly what I have implemented at work today and it worked :) thanks for taking time and replying."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1444580074, "creation_date": 1444580074, "answer_id": 33067211, "question_id": 33061331, "link": "https://stackoverflow.com/questions/33061331/perl-multi-dimensional-hashes/33067211#33067211", "title": "Perl multi dimensional hashes", "body": "<p>It would help enormously if you had told us which module you had used to read your config file, or if it is custom software (a bad idea as there are very many config file modules already out there) then you should show us the code. Without that information this answer has to be an (informed) guess</p>\n\n<p>I suspect that whatever you are using to read your config file handles duplicate entries by storing an <em>array</em> of all the different values for a given key. In your case, the value of <code>$cfg-&gt;{EXCLUDE_LIST}{c1}</code> would be <code>['A', 'B']</code></p>\n\n<p>You can handle this by checking whether the hash value is a <em>reference</em>, like this</p>\n\n<pre><code>while ( my ($key, $val) = each %{ $cfg-&gt;{EXCLUDE_LIST} } ) {\n\n    if ( ref $val ) {\n        print \"$key=\", join(',', @$val), \"\\n\";\n    }\n    else {\n        print \"$key=$val\\n\";\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>My Question: How do I include a validation logic in the above sub to exit the process if there are any duplicate entries.</p>\n</blockquote>\n\n<p>You can do a similar test, but <code>die</code> if the value is a reference</p>\n\n<pre><code>die qq{Multiple occurrences of \"$key\"} if ref $val;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5432474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58c00104ec71b7626de8663d8e7be04a?s=128&d=identicon&r=PG&f=1", "display_name": "whirlcano", "link": "https://stackoverflow.com/users/5432474/whirlcano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444580074, "creation_date": 1444535589, "question_id": 33061331, "link": "https://stackoverflow.com/questions/33061331/perl-multi-dimensional-hashes", "title": "Perl multi dimensional hashes", "body": "<p>I have a config file with and below is one of the section it contains:</p>\n\n<pre><code>[EXCLUDE_LIST]\nc1=A\nc2=B|C\nc3=A\nc1=B\n</code></pre>\n\n<p>I have a perl script and it contains a sub which reads the above section from config and checks whether a particular group (cX) is present in the config. Input parameters for this sub is a hash that is tied (using tie) to the config file. When I was debugging the code, I tried to display all the contents of EXCLUDE_LIST section, the program printed some junk ARRAY[memory_address] while displaying c1 value(s). this is because there is duplicate entry for c1.</p>\n\n<p>My Question: How do I include a validation logic in the above sub to exit the process if there are any duplicate entries.</p>\n\n<p>this is how the config section entries are accessed in my script:</p>\n\n<pre><code>$cfg-&gt;{EXCLUDE_LIST}-&gt;{cX}\n</code></pre>\n\n<p>TIA.</p>\n"}, {"tags": ["bash", "perl", "sh"], "comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 2, "creation_date": 1444529257, "post_id": 33060837, "comment_id": 53941340, "body": "Wrong quotes in perl call?"}, {"owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "edited": false, "score": 0, "creation_date": 1444529788, "post_id": 33060837, "comment_id": 53941400, "body": "Yeah, that defines shell variables but uses (undefined) Perl variables."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1444535289, "post_id": 33060837, "comment_id": 53942187, "body": "Your code has another problem: <code>test.sh: line 4: (*(9*4000))+42: syntax error: operand expected (error token is &quot;*(9*4000))+foo&quot;)</code>. Where does <code>$i</code> come from?"}, {"owner": {"reputation": 47, "user_id": 5432316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/51AfT.png?s=128&g=1", "display_name": "mnaghd01", "link": "https://stackoverflow.com/users/5432316/mnaghd01"}, "edited": false, "score": 0, "creation_date": 1444613942, "post_id": 33060837, "comment_id": 53962059, "body": "You are right, &#39;i&#39; shouldn&#39;t be there as well."}], "answers": [{"comments": [{"owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444533848, "post_id": 33060928, "comment_id": 53941956, "body": "@ikegami: i&#39;ve used sed in the answer (mixing it with variables shell in the standard way this is done). No mix between separate races is made so you can now recover a point :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444534276, "post_id": 33060928, "comment_id": 53942028, "body": "Same issues with generating <code>sed</code> code as with generating Perl code. By switching to <code>sed</code>, you lost the ability to use <code>\\Q</code>, so you&#39;ve actually taken a step back. But since the scope is just integers, this is all moot, and I&#39;ll remove my downvote, comment, and the edit you made because of my comment. (Feel free to switch it back to <code>sed</code> if that&#39;s really what you want)"}, {"owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444534753, "post_id": 33060928, "comment_id": 53942105, "body": "@ikegami: i generally agree with you, also thank you for make me discover <code>\\Q</code>. (cool you can edit every post :)"}], "tags": [], "owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "is_accepted": true, "score": 1, "last_activity_date": 1444534336, "last_edit_date": 1444534336, "creation_date": 1444530016, "answer_id": 33060928, "question_id": 33060837, "link": "https://stackoverflow.com/questions/33060837/replace-a-variable-content-with-another-variable-content-in-a-file-using-perl/33060928#33060928", "title": "replace a variable content with another variable content in a file using perl", "body": "<p>The shell does not interpret anything inside single quote. <code>'$ThisIsASimpleStringForTheShell'</code> so try:</p>\n\n<pre><code>perl -pi -e 's/'\"$PreviousStage\"'/'\"$CurrentStage\"'/g' file.txt\n</code></pre>\n\n<p>The double quotes prevents possible spaces to mess up your command.</p>\n\n<p>Mixing single and double quotes gives you the possibility to add regex operator to your command, preventing shell to interpret them before perl. This command substitute the contents of <code>$PreviousStage</code> with the contents of <code>$CurrentStage</code> only if the former is alone in a single line:</p>\n\n<pre><code>perl -pi -e 's/^'\"$PreviousStage\"'$/'\"$CurrentStage\"'/g' file.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1444569616, "post_id": 33061070, "comment_id": 53949643, "body": "Might as well dio the math in perl too"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1444534404, "last_edit_date": 1444534404, "creation_date": 1444531961, "answer_id": 33061070, "question_id": 33060837, "link": "https://stackoverflow.com/questions/33060837/replace-a-variable-content-with-another-variable-content-in-a-file-using-perl/33061070#33061070", "title": "replace a variable content with another variable content in a file using perl", "body": "<p>The variables only exist in your shell script; you can't directly use them in your Perl script.</p>\n\n<p>I hate attempting to generate Perl code from the shell as the previous solutions suggest. That way madness lies (though it works here since you're just dealing with integers). Instead, pass the values as arguments or some other way.</p>\n\n<pre><code>perl -i -pe'BEGIN { $S = shift; $R = shift; } s/\\Q$S/$R/g' \\\n   \"$PreviousStage\" \"$CurrentStage\" file.txt\n</code></pre>\n\n<p>or</p>\n\n<pre><code>export PreviousStage\nexport CurrentStage\nperl -i -pe's/\\Q$ENV{PreviousStage}/$ENV{CurrentStage}/g' file.txt\n</code></pre>\n\n<p>or</p>\n\n<pre><code>S=\"$PreviousStage\" R=\"$CurrentStage\" perl -i -pe's/\\Q$ENV{S}/$ENV{R}/g' file.txt\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5432316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/51AfT.png?s=128&g=1", "display_name": "mnaghd01", "link": "https://stackoverflow.com/users/5432316/mnaghd01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 33060928, "answer_count": 2, "score": 2, "last_activity_date": 1444534404, "creation_date": 1444529052, "question_id": 33060837, "link": "https://stackoverflow.com/questions/33060837/replace-a-variable-content-with-another-variable-content-in-a-file-using-perl", "title": "replace a variable content with another variable content in a file using perl", "body": "<p>I am writing a shell script to replace a variable content which is an integer with another, using perl in a shell script.</p>\n\n<pre><code>#!/bin/sh\n\nInitialFileStep=\"$1\"\nCurrentStage=$((($i*(9*4000))+$InitialFileStep))\nPreviousStage=$((($(($(($i-1))*(9*4000)))) + (InitialFileStep)))\n\nperl -pi -e 's/$PreviousStage/$CurrentStage/g' file.txt\necho \"Hey!\"\n</code></pre>\n\n<p>It seems it cannot find the variable content in the file.\nI don't know what is the problem, is it the because the variables are integers and not strings?</p>\n"}, {"tags": ["perl", "email", "centos7"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444529099, "post_id": 33059856, "comment_id": 53941317, "body": "I don&#39;t understand the problem with using <code>Mail::CheckUser</code>"}, {"owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444534012, "post_id": 33059856, "comment_id": 53941976, "body": "When I installed it with cpan Mail::CheckUser (no -f) would not install because of an error with &#39;make&#39;. I had to install it with -f, which means I installed it with errors. Now, checking 1 email, it worked. But, I&#39;m concerned about checking the millions of emails I have."}, {"owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444534040, "post_id": 33059856, "comment_id": 53941979, "body": "I also had errors installing with  yum."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1444536037, "post_id": 33059856, "comment_id": 53942296, "body": "Please show the output of <code>cpan -t Mail::CheckUser</code> so that we can help you further"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444579260, "post_id": 33059856, "comment_id": 53952603, "body": "Often, a module may have one or more tests that fail, but they aren&#39;t critical to the operation of the module. As @Borodin stated, please post the failure report(s) you&#39;re seeing."}, {"owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "edited": false, "score": 0, "creation_date": 1444604559, "post_id": 33059856, "comment_id": 53960144, "body": "Just posted the data. Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1444647825, "creation_date": 1444647825, "answer_id": 33079515, "question_id": 33059856, "link": "https://stackoverflow.com/questions/33059856/alternatives-to-perl-module-mailcheckuser/33079515#33079515", "title": "Alternatives to perl module Mail::CheckUser", "body": "<p><a href=\"https://metacpan.org/pod/Mail::CheckUser\" rel=\"nofollow\">Mail::CheckUser</a> hasn't been updated for twelve years and its CPAN testers page is <a href=\"http://matrix.cpantesters.org/?dist=Mail-CheckUser%201.21\" rel=\"nofollow\">a sea of red</a>. I would suggest that this module is best avoided.</p>\n\n<p>Most people seem to use <a href=\"https://metacpan.org/pod/Email::Valid\" rel=\"nofollow\">Email::Valid</a> for these kinds of checks. Have you looked at that?</p>\n"}], "owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444670381, "creation_date": 1444518168, "last_edit_date": 1444670381, "question_id": 33059856, "link": "https://stackoverflow.com/questions/33059856/alternatives-to-perl-module-mailcheckuser", "title": "Alternatives to perl module Mail::CheckUser", "body": "<p>I need to validate email addresses but am realizing that the only way I've been able to install Mail::CheckUser is.       </p>\n\n<pre><code> cpan -f Mail::CheckUser \n</code></pre>\n\n<p>I'm using CentOS 7. </p>\n\n<p>I cannot find another perl module that uses SMTP signals to test and report status of an email address. </p>\n\n<p>Do I have to rewrite the module or is there another way?</p>\n\n<p>Here is the output:</p>\n\n<pre><code> $ cpan -t Mail::CheckUser\n Loading internal null logger. Install Log::Log4perl for.   logging messages\n CPAN: Storable loaded ok (v2.20)\n Reading '/home/folder/.cpan/Metadata'\n  Database was generated on Sun, 26 Jul 2015.   01:17:02 GMT\nCPAN: LWP::UserAgent loaded ok (v6.13)\nCPAN: Time::HiRes loaded ok (v1.9721)\nFetching with LWP:\nhttp://cpan-du.viaverio.com//authors/01mailrc.txt.gz\nCPAN: YAML loaded ok (v1.15)\n Reading.   '/home/folder/.cpan/sources/authors/01mailrc.txt.gz'\n CPAN: Compress::Zlib loaded ok (v2.021)\n  ............................................................................DONE\n   Fetching with LWP:\n    http://cpan-du.viaverio.com//modules/02packages.details.txt.gz\n     Reading.       '/home/folder/.cpan/sources/modules      /02packages.details.txt.gz'\n  Database was generated on Sun, 11 Oct 2015.   11:53:29 GMT\n   ............................................................................DONE\nFetching with LWP:\n http://cpan-du.viaverio.com//modules/03modlist.data.gz\nReading '/home/folder/.cpan/sources/modules/03modlist.data.gz'\n DONE\n Writing /home/ehelpful/.cpan/Metadata\nCPAN: Module::CoreList loaded ok (v2.18)\n  Running test for module 'Mail::CheckUser'\n Fetching with LWP:\nhttp://cpan-du.viaverio.com//authors/id/I/IL/ILYAM/Mail-CheckUser-1.21.tar.gzCPAN: Digest::SHA loaded ok (v5.47)\n  Fetching with LWP:\n  http://cpan-du.viaverio.com//authors/id/I/IL/ILYAM/CHECKSUMS\n Checksum for /home/folder/.cpan/sources/authors/id/I/IL/ILYAM/Mail-CheckUser-1.21.tar.gz ok\n CPAN: Archive::Tar loaded ok (v1.58)\n  Mail-CheckUser-1.21/\n  Mail-CheckUser-1.21/README\nMail-CheckUser-1.21/CheckUser.pm\nMail-CheckUser-1.21/MANIFEST\nMail-CheckUser-1.21/t/\n Mail-CheckUser-1.21/t/timeout.t\n Mail-CheckUser-1.21/t/smtp.t\n Mail-CheckUser-1.21/t/wildcard.t\n Mail-CheckUser-1.21/t/syntax.t\nMail-CheckUser-1.21/t/smtp-taint.t\nMail-CheckUser-1.21/t/check.pl\n Mail-CheckUser-1.21/t/dns.t\nMail-CheckUser-1.21/Changes\n Mail-CheckUser-1.21/Makefile.PL\n   Mail-CheckUser-1.21/TODO\n Mail-CheckUser-1.21/procmail/\n  Mail-CheckUser-1.21/procmail/cufilter\n Mail-CheckUser-1.21/procmail/.procmailrc\n  CPAN: CPAN::Meta::Requirements loaded ok (v2.133)\n  CPAN: CPAN::Meta loaded ok (v2.150001)\n Configuring I/IL/ILYAM/Mail-CheckUser-1.21.tar.gz.   with Makefile.PL\n Checking if your kit is complete...\n Looks good\n Only one of PREFIX or INSTALL_BASE can be given.          Not both.\n  No 'Makefile' created  ILYAM/Mail-CheckUser-1.21.tar.gz\n    /usr/bin/perl Makefile.PL.        PREFIX=/home/folder/perl/usr -- NOT OK\n</code></pre>\n\n<p>I used another VM with CentOS 6.4 and got the same results because YAML did not install, but I verified that I have the latest version of YAML:</p>\n\n<pre><code>sudo cpan Mail::CheckUser\nCPAN: Storable loaded ok (v2.20)\nGoing to read '/root/.cpan/Metadata'\nDatabase was generated on Mon, 12 Oct 2015 16:41:02 GMT\nRunning install for module 'Mail::CheckUser'\nCPAN: YAML loaded ok (v0.70)\nRunning make for I/IL/ILYAM/Mail-CheckUser-1.21.tar.gz\nCPAN: Digest::SHA loaded ok (v5.47)\nChecksum for /root/.cpan/sources/authors/id/I/IL/ILYAM/Mail-CheckUser-    1.21.tar.gz ok\n Mail-CheckUser-1.21/\n Mail-CheckUser-1.21/README\n Mail-CheckUser-1.21/CheckUser.pm\n Mail-CheckUser-1.21/MANIFEST\n Mail-CheckUser-1.21/t/\n Mail-CheckUser-1.21/t/timeout.t\n Mail-CheckUser-1.21/t/smtp.t\n Mail-CheckUser-1.21/t/wildcard.t\n Mail-CheckUser-1.21/t/syntax.t\n Mail-CheckUser-1.21/t/smtp-taint.t\n Mail-CheckUser-1.21/t/check.pl\n Mail-CheckUser-1.21/t/dns.t \n Mail-CheckUser-1.21/Changes\n Mail-CheckUser-1.21/Makefile.PL\n Mail-CheckUser-1.21/TODO\n Mail-CheckUser-1.21/procmail/\n Mail-CheckUser-1.21/procmail/cufilter\n Mail-CheckUser-1.21/procmail/.procmailrc\n CPAN: File::Temp loaded ok (v0.22)\n\n CPAN.pm: Going to build I/IL/ILYAM/Mail-CheckUser-1.21.tar.gz\n\n Checking if your kit is complete...\n Looks good\n Writing Makefile for Mail::CheckUser\n cp CheckUser.pm blib/lib/Mail/CheckUser.pm\n cp procmail/cufilter blib/script/cufilter\n /usr/bin/perl -MExtUtils::MY -e 'MY-&gt;fixin(shift)' -- blib/script/cufilter\n Manifying blib/man1/cufilter.1\n Manifying blib/man3/Mail::CheckUser.3pm\n     ILYAM/Mail-CheckUser-1.21.tar.gz\n     /usr/bin/make -- OK\n Running make test\n PERL_DL_NONLAZY=1 /usr/bin/perl \"-MExtUtils::Command::MM\" \"-e\" \"test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\n t/dns.t ......... ok   \n t/smtp-taint.t .. No subtests run \n t/smtp.t ........ 4/4 # Failed test 4 in t/check.pl at line 20 fail #4\n  #  t/check.pl line 20 is:     ok($ok);\n  t/smtp.t ........ Failed 1/4 subtests \n  t/syntax.t ...... ok     \n  t/timeout.t ..... ok   \n  t/wildcard.t .... 1/13 # Failed test 9 in t/check.pl at line 20 fail #9\n  #  t/check.pl line 20 is:     ok($ok);\n  # Failed test 12 in t/check.pl at line 20 fail #12\n  t/wildcard.t .... Failed 2/13 subtests \n\n  Test Summary Report\n  -------------------\n  t/smtp-taint.t (Wstat: 0 Tests: 0 Failed: 0)\n    Parse errors: No plan found in TAP output\n  t/smtp.t      (Wstat: 0 Tests: 4 Failed: 1)\n    Failed test:  4\n  t/wildcard.t  (Wstat: 0 Tests: 13 Failed: 2)\n    Failed tests:  9, 12\n  Files=6, Tests=59, 146 wallclock secs ( 0.03 usr  0.03 sys +  0.34 cusr  0.08 csys =  0.48 CPU)\n  Result: FAIL\n  Failed 3/6 test programs. 3/59 subtests failed.\n  make: *** [test_dynamic] Error 255\n    ILYAM/Mail-CheckUser-1.21.tar.gz\n    /usr/bin/make test -- NOT OK\n  //hint// to see the cpan-testers results for installing this module, try:\n    reports ILYAM/Mail-CheckUser-1.21.tar.gz\n        Running make install\n    make test had returned bad status, won't install without force\n  [root@ip-ccccccc emails]# cpan -t Mail::CheckUser\n  CPAN: Storable loaded ok (v2.20)\n  Going to read '/root/.cpan/Metadata'\n    Database was generated on Mon, 12 Oct 2015 16:41:02 GMT\n  Running test for module 'Mail::CheckUser'\n  CPAN: YAML loaded ok (v0.70)\n  Running make for I/IL/ILYAM/Mail-CheckUser-1.21.tar.gz\n  CPAN: Digest::SHA loaded ok (v5.47)\n  Checksum for /root/.cpan/sources/authors/id/I/IL/ILYAM/Mail-CheckUser-1.21.tar.gz ok\n  Mail-CheckUser-1.21/\n  Mail-CheckUser-1.21/README\n  Mail-CheckUser-1.21/CheckUser.pm\n  Mail-CheckUser-1.21/MANIFEST\n  Mail-CheckUser-1.21/t/\n  Mail-CheckUser-1.21/t/timeout.t\n  Mail-CheckUser-1.21/t/smtp.t\n  Mail-CheckUser-1.21/t/wildcard.t\n  Mail-CheckUser-1.21/t/syntax.t\n  Mail-CheckUser-1.21/t/smtp-taint.t\n  Mail-CheckUser-1.21/t/check.pl\n  Mail-CheckUser-1.21/t/dns.t\n  Mail-CheckUser-1.21/Changes\n  Mail-CheckUser-1.21/Makefile.PL\n  Mail-CheckUser-1.21/TODO\n  Mail-CheckUser-1.21/procmail/\n  Mail-CheckUser-1.21/procmail/cufilter\n  Mail-CheckUser-1.21/procmail/.procmailrc\n  CPAN: File::Temp loaded ok (v0.22)\n\n    CPAN.pm: Going to build I/IL/ILYAM/Mail-CheckUser-1.21.tar.gz\n\n  Checking if your kit is complete...\n  Looks good\n  Writing Makefile for Mail::CheckUser\n  cp CheckUser.pm blib/lib/Mail/CheckUser.pm\n  cp procmail/cufilter blib/script/cufilter\n  /usr/bin/perl -MExtUtils::MY -e 'MY-&gt;fixin(shift)' -- blib/script/cufilter\n  Manifying blib/man1/cufilter.1\n  Manifying blib/man3/Mail::CheckUser.3pm\n    ILYAM/Mail-CheckUser-1.21.tar.gz\n    /usr/bin/make -- OK\n  Running make test\n  PERL_DL_NONLAZY=1 /usr/bin/perl \"-MExtUtils::Command::MM\" \"-e\"      \"test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\n  t/dns.t ......... ok   \n  t/smtp-taint.t .. No subtests run \n  t/smtp.t ........ 4/4 # Failed test 4 in t/check.pl at line 20 fail #4\n  #  t/check.pl line 20 is:     ok($ok);\n  t/smtp.t ........ Failed 1/4 subtests \n  t/syntax.t ...... ok     \n  t/timeout.t ..... ok   \n  t/wildcard.t .... 1/13 # Failed test 9 in t/check.pl at line 20 fail #9\n  #  t/check.pl line 20 is:     ok($ok);\n  # Failed test 12 in t/check.pl at line 20 fail #12\n  t/wildcard.t .... Failed 2/13 subtests \n\n  Test Summary Report\n  -------------------\n  t/smtp-taint.t (Wstat: 0 Tests: 0 Failed: 0)\n    Parse errors: No plan found in TAP output\n  t/smtp.t      (Wstat: 0 Tests: 4 Failed: 1)\n    Failed test:  4\n  t/wildcard.t  (Wstat: 0 Tests: 13 Failed: 2)\n    Failed tests:  9, 12\n  Files=6, Tests=59, 173 wallclock secs ( 0.04 usr  0.03 sys +  0.34 cusr  0.07 csys =  0.48 CPU)\n  Result: FAIL\n  Failed 3/6 test programs. 3/59 subtests failed.\n  make: *** [test_dynamic] Error 255\n    ILYAM/Mail-CheckUser-1.21.tar.gz\n    /usr/bin/make test -- NOT OK\n  //hint// to see the cpan-testers results for installing this module, try:\n    reports ILYAM/Mail-CheckUser-1.21.tar.gz\n</code></pre>\n"}, {"tags": ["mysql", "perl", "select", "dbi"], "comments": [{"owner": {"reputation": 7872, "user_id": 7841, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/3KsHr.png?s=128&g=1", "display_name": "Leonardo Herrera", "link": "https://stackoverflow.com/users/7841/leonardo-herrera"}, "edited": false, "score": 1, "creation_date": 1444512484, "post_id": 33059087, "comment_id": 53938189, "body": "Take a look here: <a href=\"http://stackoverflow.com/questions/1656748/how-can-i-fetch-a-single-count-value-from-a-database-with-dbi\" title=\"how can i fetch a single count value from a database with dbi\">stackoverflow.com/questions/1656748/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1444576302, "last_edit_date": 1444576302, "creation_date": 1444520027, "answer_id": 33060071, "question_id": 33059087, "link": "https://stackoverflow.com/questions/33059087/what-does-select-count-with-perl-dbi-return/33060071#33060071", "title": "What does &#39;SELECT COUNT(*)&#39; with Perl DBI return?", "body": "<p>You're misunderstanding how DBI works. To quote <a href=\"https://metacpan.org/pod/DBI#Outline-Usage\" rel=\"nofollow\">the documentation</a></p>\n\n<blockquote>\n  <p>The typical method call sequence for a SELECT statement is:</p>\n\n<pre><code>prepare,\n  execute, fetch, fetch, ...\n  execute, fetch, fetch, ...\n  execute, fetch, fetch, ...\n</code></pre>\n</blockquote>\n\n<p>So you have the <code>prepare</code> and the <code>execute</code> in place, but you're never actually <em>fetching</em> the data that the SQL engine has discovered. Testing the value of <code>$sth</code> will never give you any useful information as it is a reference to a DBI statement handle object, and if it is ever zero then something critical has gone wrong</p>\n\n<p>To find the number of users with the given first and last names, you would write something like this </p>\n\n<pre><code>my $sth = $dbh-&gt;prepare('SELECT COUNT(*) FROM users WHERE firstname = ? AND lastname = ?');\n\n$sth-&gt;execute($first_name, $last_name);\n\nmy ($count) = $sth-&gt;fetchrow_array;\n\nprint $count ? \"Found something!\\n\" : \"No matches!\\n\";\n</code></pre>\n\n<p>There are many varieties of the <code>fetch</code> method, and which one you choose depends on whether you are expecting one row or many rows; one column or many columns; whether you want to fetch all the rows at once or just one at a time; and whether a simple list of columns values will do or if you want the values identified by their column name in the form of a Perl hash</p>\n\n<p>In this case you have asked for just a single row containing a single column -- the count -- so <code>fetchrow_array</code> allows the result to be assigned directly to a scalar variable <code>$count</code>, and finally the output can be prepared according whether <em>this</em> value is zero</p>\n"}], "owner": {"reputation": 19, "user_id": 3281131, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e731c2ebd39c03271ae9ebc35cf17655?s=128&d=identicon&r=PG&f=1", "display_name": "Melody", "link": "https://stackoverflow.com/users/3281131/melody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3425, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444576302, "creation_date": 1444511810, "question_id": 33059087, "link": "https://stackoverflow.com/questions/33059087/what-does-select-count-with-perl-dbi-return", "title": "What does &#39;SELECT COUNT(*)&#39; with Perl DBI return?", "body": "<p>I am querying a MySQL database with Perl DBI, and my goal is just to see if my <code>SELECT</code> query finds anything (i.e., rows > 0). In other words, if the <code>SELECT</code> query finds anything at all. </p>\n\n<p><code>SELECT COUNT(*)</code> returns a number to me, like 1, 2 or 3 when I test out the query in MySQL.</p>\n\n<p>However, I am wondering if this number is returned directly to my Perl code through DBI and gets assigned to my <code>$sth</code> variable.</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"SELECT COUNT(*) FROM `USERS` WHERE FIRSTNAME = ? AND LASTNAME = ?\");\n\n$sth-&gt;execute($firstName, $lastName);\n\nif ($sth &gt; 0){                  #Check if found any matches\n    print \"Found something!\";\n\n} else { \n    print \"No matches!\";\n}\n</code></pre>\n\n<p>I guess my main question is whether the <code>SELECT COUNT(*)</code> returns a number and saves directly in my <code>$sth</code> variable, or if I need to do something else to <code>$sth</code> to figure out how many rows were found with the query.</p>\n\n<p>Much appreciated.</p>\n"}, {"tags": ["perl", "days", "julian-date"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1444513558, "creation_date": 1444513558, "answer_id": 33059278, "question_id": 33058998, "link": "https://stackoverflow.com/questions/33058998/perl-replacement-for-datecalc-to-calculate-julian-day-of-the-year/33059278#33059278", "title": "Perl - replacement for Date::Calc to calculate Julian Day of the Year?", "body": "<p>See <a href=\"http://p3rl.org/Date::Converter\" rel=\"nofollow\">Date::Converter</a>. If you can't install modules (even to your own home directory, really?), just copy the relevant code to yours.</p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 3367135, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b33ce812f8938f0b3fd1d4b342201484?s=128&d=identicon&r=PG&f=1", "display_name": "user3367135", "link": "https://stackoverflow.com/users/3367135/user3367135"}, "edited": false, "score": 1, "creation_date": 1444585024, "post_id": 33062589, "comment_id": 53954361, "body": "Yes, this worked perfectly! Thank you thank you for your assistance."}], "tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": true, "score": 1, "last_activity_date": 1444548455, "creation_date": 1444548455, "answer_id": 33062589, "question_id": 33058998, "link": "https://stackoverflow.com/questions/33058998/perl-replacement-for-datecalc-to-calculate-julian-day-of-the-year/33062589#33062589", "title": "Perl - replacement for Date::Calc to calculate Julian Day of the Year?", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Time::Local qw[timegm];\n\n# Computes the day of the year [1, 366] from the given year, month of the \n# year and day of the month.\n# https://metacpan.org/pod/Time::Local#Year-Value-Interpretation\n# 1 &lt;= $m &lt;= 12\n# 1 &lt;= $d &lt;= 31 (day must be valid for the year and month)\nsub ymd_to_doy {\n    @_ == 3 or die q/Usage: ymd_to_doy(year, month, day)/;\n    my ($y, $m, $d) = @_;\n    my $t1 = timegm(0, 0, 0, $d, $m - 1, $y);\n    my $t2 = timegm(0, 0, 0, 1, 0, $y);\n    return 1 + int(($t1 - $t2) / 86_400);\n}\n\nuse v5.10;\nsay ymd_to_doy(2015, 10, 11);\nsay ymd_to_doy(2015,  1,  1);\nsay ymd_to_doy(2015, 12, 31);\nsay ymd_to_doy(2012, 12, 31);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>284\n1\n365\n366\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 3367135, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b33ce812f8938f0b3fd1d4b342201484?s=128&d=identicon&r=PG&f=1", "display_name": "user3367135", "link": "https://stackoverflow.com/users/3367135/user3367135"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 33062589, "answer_count": 2, "score": 0, "last_activity_date": 1444548455, "creation_date": 1444511221, "last_edit_date": 1444530158, "question_id": 33058998, "link": "https://stackoverflow.com/questions/33058998/perl-replacement-for-datecalc-to-calculate-julian-day-of-the-year", "title": "Perl - replacement for Date::Calc to calculate Julian Day of the Year?", "body": "<p>I am not a Perl programmer, but I am working on a program that uses the <a href=\"http://metacpan.org/module/Date::Calc\" rel=\"nofollow\"><code>Date::Calc</code></a> module like this</p>\n\n<pre><code>use Date::Calc (\"Day_of_Year\")\nmy $jday = Day_of_Year($yr[$n], $mon[$n}, $day[$n]);\n</code></pre>\n\n<p>I've been having issues with the module and I need to replace the above calculation of Julian day of year in my code.</p>\n\n<p>Does anyone have any ideas? I don't have permissions to install modules so I need a base solution.</p>\n"}, {"tags": ["mysql", "perl", "xampp", "dbi", "dbd"], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 0, "last_activity_date": 1444507127, "creation_date": 1444507127, "answer_id": 33058390, "question_id": 33057821, "link": "https://stackoverflow.com/questions/33057821/how-can-i-check-if-a-perl-module-dbdmysql-is-properly-installed/33058390#33058390", "title": "How can I check if a Perl module (DBD::mysql) is properly installed?", "body": "<p>You could wrap the <code>connect()</code> call into an <code>eval</code> block to catch this error, however you don't have many options left if it crashes, probably just to try and produce a more user-friendly error messsage and then die anyway.</p>\n\n<p>As for why you are getting the error, try checking where <code>libmysqlclient.18.dylib</code> lives on your system. It seems like it was somewhere where it could be found during compilation of the <code>DBD::mysql</code> driver but not during your script's runtime. Assuming it hasn't been accidentially uninstalled, adding its directory to the <code>DYLD_LIBRARY_PATH</code> variable should work. I don't know what config to add the path to to make that addition permanent on OSX though.</p>\n"}], "owner": {"reputation": 19, "user_id": 3281131, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e731c2ebd39c03271ae9ebc35cf17655?s=128&d=identicon&r=PG&f=1", "display_name": "Melody", "link": "https://stackoverflow.com/users/3281131/melody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 916, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444507127, "creation_date": 1444503702, "last_edit_date": 1444504022, "question_id": 33057821, "link": "https://stackoverflow.com/questions/33057821/how-can-i-check-if-a-perl-module-dbdmysql-is-properly-installed", "title": "How can I check if a Perl module (DBD::mysql) is properly installed?", "body": "<p>I am using XAMPP on Mac OS X Yosemite, and I am trying to communicate with my MySQL database using Perl.</p>\n\n<p>This requires two things: (1) DBI and (2) the mysql driver module, DBD::mysql. </p>\n\n<p>I ran into a lot of trouble installing the DBD::mysql portion. However, after following some instructions online, it now <em>looks like</em> DBD::mysql is installed, but I am skeptical that it has correctly.</p>\n\n<p>In <strong>Terminal</strong>, when I load up <strong>cpan</strong> and then type \"install DBD::mysql\", it responds, \"DBD::mysql is up to date (4.032)\".</p>\n\n<p>From the looks of it, then, it is installed. However, I am worried that what I've installed is enough for it to say, \"Hey, I am installed!\", but not enough for it to actually be functional, which would be why I'm having errors show up when I try to connect to my database with Perl: </p>\n\n<pre><code>install_driver(mysql) failed: Can't load '/Library/Perl/5.18/darwin-thread-multi-2level/auto/DBD/mysql/mysql.bundle' for module DBD::mysql: dlopen(/Library/Perl/5.18/darwin-thread-multi-2level/auto/DBD/mysql/mysql.bundle, 1): Library not loaded: libmysqlclient.18.dylib\n\nReferenced from: /Library/Perl/5.18/darwin-thread-multi-2level/auto/DBD/mysql/mysql.bundle\n  Reason: image not found at /System/Library/Perl/5.18/darwin-thread-multi-2level/DynaLoader.pm line 194.\n at (eval 6) line 3.\nCompilation failed in require at (eval 6) line 3.\nPerhaps a required shared library or dll isn't installed where expected\n at login.pl line 9.\n</code></pre>\n\n<p>Relevant Perl code snippet:</p>\n\n<pre><code>my $dbh = DBI-&gt;connect(          \n    \"dbi:mysql:dbname=TEST\", \n    \"root\",                          \n    \"\",                          \n    { RaiseError =&gt; 1 },         \n) or die $DBI::errstr;\n</code></pre>\n\n<p>I am trying to troubleshoot whether this is a problem with my installation of DBD::mysql, or if it is my Perl code. </p>\n\n<p>How can I verify whether my installation of DBD::mysql is all good? Better yet, how can I stop getting this error?</p>\n\n<p>Thank you. </p>\n"}, {"tags": ["linux", "perl", "csv"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5309754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hvhmP.jpg?s=128&g=1", "display_name": "J.Honey", "link": "https://stackoverflow.com/users/5309754/j-honey"}, "edited": false, "score": 0, "creation_date": 1444505137, "post_id": 33057452, "comment_id": 53935968, "body": "Thanks mate!...but when running this...with the argument -zxf0 I get the following error:  tar (child) : 0 No such file or directory....even though I know the file is there.....idea&#39;s on why that argument fails?"}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 1, "user_id": 5309754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hvhmP.jpg?s=128&g=1", "display_name": "J.Honey", "link": "https://stackoverflow.com/users/5309754/j-honey"}, "edited": false, "score": 0, "creation_date": 1444506465, "post_id": 33057452, "comment_id": 53936383, "body": "Yep, sorry, the f needs to be last (or rather just before the filename $t). My fault, I&#39;ll fix it."}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 1, "last_activity_date": 1444506503, "last_edit_date": 1444506503, "creation_date": 1444501313, "answer_id": 33057452, "question_id": 33056964, "link": "https://stackoverflow.com/questions/33056964/extracting-a-specific-file-name-from-multiple-tar-gz-files-to-build-one-csv-fi/33057452#33057452", "title": "Extracting a specific file name from multiple .tar.gz files to build one .csv file", "body": "<p>You need to read <code>man tar</code>. I think you need something more like this:</p>\n\n<pre><code>for t in /tmp/jhoney/DATA.2015-10-09*;do tar -zxOf $t XX.log | \n  perl -lne '/.{0,0}2015-10-09.{0,30}/ &amp;&amp; print $&amp;';done &gt;/tmp/jhoney/DataByDate.csv\n</code></pre>\n\n<p>Also, <code>{0,0}</code> doesn't seem to make sense. And if you really meant \"append\", the redirect should maybe be <code>&gt;&gt;</code> instead of just <code>&gt;</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 5309754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hvhmP.jpg?s=128&g=1", "display_name": "J.Honey", "link": "https://stackoverflow.com/users/5309754/j-honey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444506503, "creation_date": 1444498510, "question_id": 33056964, "link": "https://stackoverflow.com/questions/33056964/extracting-a-specific-file-name-from-multiple-tar-gz-files-to-build-one-csv-fi", "title": "Extracting a specific file name from multiple .tar.gz files to build one .csv file", "body": "<p>another newbie question..please bear with me.\nI have a multiple .tar.gz files that contain the same XX.log file ( Named the same in each .tar.gz file ).\nI need to extract only that specific XX.log file from each .tar.gz file and then append them in on list file named DataByDate.csv </p>\n\n<p>I've tried multiple ways to accomplish this in one line:\nzcat /tmp/jhoney/DATA.2015-10-09* | tar --extract --file=XX.log | perl -lne '/.{0,0}2015-10-09.{0,30}/ $$ print $&amp;' >/tmp/jhoney/DataByDate.csv</p>\n\n<p>This returns the error :\ntar: XX.log: Cannot open:No such file or directory\ntar: Error is not recoverable: existing now.</p>\n\n<p>Any idea's?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1444482998, "post_id": 33054115, "comment_id": 53928930, "body": "I don&#39;t think it is possible. Why not use <code>[a-zA-Z0-9_]+(?:\\.[a-zA-Z0-9_]+)*</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1444486694, "post_id": 33054115, "comment_id": 53929966, "body": "As <a href=\"http://stackoverflow.com/a/33054508/622310\">mbethke</a> has described, this is a very ugly hacky thing to want to do. Perhaps if you explained the problem you are trying to solve we could help you better?"}, {"owner": {"reputation": 713, "user_id": 1164030, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jTP9g.png?s=128&g=1", "display_name": "gogators", "link": "https://stackoverflow.com/users/1164030/gogators"}, "edited": false, "score": 0, "creation_date": 1444486855, "post_id": 33054115, "comment_id": 53930022, "body": "One example, as stated in the question, is to make <code>Getopt::Long</code> to recognize <code>foo.bar</code> as a valid option specification."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444493600, "post_id": 33054115, "comment_id": 53932190, "body": "@KevinVW: Yes, but why do you want to do <i>that</i>? The option spec is purely local to the Perl program and doesn&#39;t need to match anything externally"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444496669, "post_id": 33054115, "comment_id": 53933202, "body": "Talk to the author; they might be willing to add <code>.</code> for you"}, {"owner": {"reputation": 713, "user_id": 1164030, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jTP9g.png?s=128&g=1", "display_name": "gogators", "link": "https://stackoverflow.com/users/1164030/gogators"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444524947, "post_id": 33054115, "comment_id": 53940650, "body": "@Borodin, the option specs are actually taken from an external source ( a remote DB). Also my interface has to match other applications that do accept <code>.</code> has a word char."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444528560, "post_id": 33054115, "comment_id": 53941256, "body": "@KevinVW: Thank you for your explanation. I don&#39;t think it&#39;s important how the parameters are named in the original database, but I can see that there may be little room for manoeuvre if a precedent has been set. How do the other similar applications process their command line? If you are always expecting something simple like <code>a.b=1 c.d=2</code> then it is a bad choice to use an extensive module like <code>Getopt::Long</code> that does far more than you need and also needs modifying to make it fit"}, {"owner": {"reputation": 713, "user_id": 1164030, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jTP9g.png?s=128&g=1", "display_name": "gogators", "link": "https://stackoverflow.com/users/1164030/gogators"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444529515, "post_id": 33054115, "comment_id": 53941366, "body": "@Borodin: I appreciate your input, but this is a complex system with a long history and many moving parts. I just wanted the answer to my original question which if possible would simplify things. Getopt:Long et al. are simple enough that I don&#39;t mind just reproducing them internally to fit my needs. In the end I made Getopt::Long configurable to use a custom <code>\\p{IsWord}</code> for parsing specs while retaining default behavior otherwise."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444531263, "post_id": 33054115, "comment_id": 53941585, "body": "@KevinVW: Likewise, I appreciate your willingness to explain your circumstances. But there are too many Stack Overflow questions that ask about making a mechanism work instead of how to achieve a purpose. It would be remiss of me to simply answer your question as it stands without establishing that you have chosen a good solution in the first place. That said, you do seem to know what you&#39;re doing, and coding a custom Unicode property is much nicer than your original proposition. I hope it works for you, but do remember to honour the GNU Public License which is almost certainly applicable"}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1444492299, "post_id": 33054507, "comment_id": 53931779, "body": "That&#39;s exactly what I was going to say until I scrolled upon your post."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1444519676, "last_edit_date": 1444519676, "creation_date": 1444483550, "answer_id": 33054507, "question_id": 33054115, "link": "https://stackoverflow.com/questions/33054115/redefining-the-word-character-class-in-perl/33054507#33054507", "title": "Redefining the Word Character Class in Perl", "body": "<p>There's no way to change the meaning of predefined character classes. However you can build your own by using <code>[\\w.]</code></p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444483690, "post_id": 33054508, "comment_id": 53929159, "body": "<i>&quot;Monkey-patch the required functions&quot;</i> As far as I know that would require the Perl interpreter to be edited and rebuilt"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444484168, "post_id": 33054508, "comment_id": 53929305, "body": "@Borodin: Sorry, I wasn&#39;t clear about that -- I meant the functions in<code>Getopt::Long</code> and the like that the OP wants to behave differently by way of the changed <code>\\w</code>."}, {"owner": {"reputation": 713, "user_id": 1164030, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jTP9g.png?s=128&g=1", "display_name": "gogators", "link": "https://stackoverflow.com/users/1164030/gogators"}, "edited": false, "score": 0, "creation_date": 1444492117, "post_id": 33054508, "comment_id": 53931712, "body": "I ended up just making local copies of the modules in the lib directory of my project and patching those. This way I can be sure my patched versions are used. There ended up only being a handful of modules needed my patch."}], "tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": true, "score": 4, "last_activity_date": 1444822215, "last_edit_date": 1444822215, "creation_date": 1444483554, "answer_id": 33054508, "question_id": 33054115, "link": "https://stackoverflow.com/questions/33054115/redefining-the-word-character-class-in-perl/33054508#33054508", "title": "Redefining the Word Character Class in Perl", "body": "<p>This is all\na) untested\nb) extremely nasty\nc) inconvenient\nso it should rather be a comment, alas I can't write any yet.</p>\n\n<p>I see only two possibilities:</p>\n\n<ul>\n<li>Write a custom locale\nThe \\w class uses <code>LC_CTYPE</code> under <code>use locale</code> to determine what characters are considered \"word characters\". The perllocale manpage mentions as a security aspect that\n\n<blockquote>\n  <p>Regular expression checks for safe file names or mail addresses using \"\\w\" may be spoofed by an \"LC_CTYPE\" locale that claims that characters such as \">\" and \"|\" are alphanumeric.</p>\n</blockquote></li>\n</ul>\n\n<p>Unfortunately there doesn't seem to be a way to do this (at least on Unixish OSes, no idea about Windows) without installing system-global configuration. <a href=\"https://askubuntu.com/questions/21316/how-can-i-customize-a-system-locale\">Askubuntu</a> has a thread about that.</p>\n\n<ul>\n<li>Monkey-patch the required functions. This opens a different can of worms if you don't know the respective versions of the modules to patch that users might have (you could some with your script though).</li>\n</ul>\n\n<p>All in all, better think twice about doing stuff like that, it's just too likely that it will break other parts of the system and in any case it makes maintenance a nightmare.</p>\n"}], "owner": {"reputation": 713, "user_id": 1164030, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jTP9g.png?s=128&g=1", "display_name": "gogators", "link": "https://stackoverflow.com/users/1164030/gogators"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 33054508, "answer_count": 2, "score": 2, "last_activity_date": 1444822215, "creation_date": 1444480980, "last_edit_date": 1444484723, "question_id": 33054115, "link": "https://stackoverflow.com/questions/33054115/redefining-the-word-character-class-in-perl", "title": "Redefining the Word Character Class in Perl", "body": "<p>I need to change the behavior of the <code>\\w</code> character class in Perl. I would like it to match <code>[a-zA-Z0-9_.]</code>. That is, I want to add <code>.</code> to the character class. Is this possible?</p>\n\n<p>I need to modify <code>\\w</code> because I want a number of modules (e.g. <a href=\"http://metacpan.org/module/Getopt::Long\" rel=\"nofollow\"><code>Getopt::Long</code></a>) to see things like \"foo.bar\" as a valid word. </p>\n"}, {"tags": ["linux", "perl", "ip", "tun"], "answers": [{"comments": [{"owner": {"reputation": 2705, "user_id": 1151171, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6g2ko.jpg?s=128&g=1", "display_name": "Jarmund", "link": "https://stackoverflow.com/users/1151171/jarmund"}, "edited": false, "score": 0, "creation_date": 1444484342, "post_id": 33053523, "comment_id": 53929348, "body": "Cheers, will test tonight if this does what I need, and reevaluate moving my entire project a layer down in the model"}, {"owner": {"reputation": 2705, "user_id": 1151171, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6g2ko.jpg?s=128&g=1", "display_name": "Jarmund", "link": "https://stackoverflow.com/users/1151171/jarmund"}, "edited": false, "score": 0, "creation_date": 1444513318, "post_id": 33053523, "comment_id": 53938365, "body": "Alright, had a go at this. I am now able to extract the src_port from the other modules (<code>NetPacket::TCP</code> and <code>NetPacket::UDP</code>). As for the code snippet, <code>$packet-&gt;{proto}</code> returns a protocol number (6 for TCP), so only a slight alteration there, however, the result from <code>unpack(&#39;n&#39;, $packet-&gt;{data});</code>is different from what I get by doing <code>$tcppacket-&gt;{&#39;src_port&#39;}</code>. Any chance the unpack function is used incorrectly? When testing on an ICMP packet, which shouldn&#39;t have a source port, that <code>unpack()</code>-line yelds 2048"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "reply_to_user": {"reputation": 2705, "user_id": 1151171, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6g2ko.jpg?s=128&g=1", "display_name": "Jarmund", "link": "https://stackoverflow.com/users/1151171/jarmund"}, "edited": false, "score": 0, "creation_date": 1444539113, "post_id": 33053523, "comment_id": 53942758, "body": "What exactly are you getting from <code>unpack()</code> and <code>$tcppacket-&gt;{src_port}</code> respectively? If you look at <code>NetPacket::TCP::decode()</code>, you&#39;ll find they do it exactly like this, just with more fields:         <code>($self-&gt;{src_port}, $self-&gt;{dest_port}, $self-&gt;{seqnum},           $self-&gt;{acknum}, $tmp, $self-&gt;{winsize}, $self-&gt;{cksum},           $self-&gt;{urg}, $self-&gt;{options}) =              unpack(&quot;nnNNnnnna*&quot;, $pkt);</code>  That you&#39;re getting a bogus value from an ICMP packet is simply because you&#39;re decoding the Type and Code fields that are in the same place as the port number in TCP/UDP."}, {"owner": {"reputation": 2705, "user_id": 1151171, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6g2ko.jpg?s=128&g=1", "display_name": "Jarmund", "link": "https://stackoverflow.com/users/1151171/jarmund"}, "edited": false, "score": 0, "creation_date": 1444554959, "post_id": 33053523, "comment_id": 53945741, "body": "Upon testing with a telnet connection, the <code>unpack()</code> method gives 45696, while <code>$packet-&gt;{src_port}</code> gives 17680. However, I&#39;m using <code>unpack()</code> on the raw data as provided by <code>Linux::TunTap</code> while stripping the first 7 bytes, and <code>$packet-&gt;{src_port}</code> is using a <code>NetPacket::TCP</code> object created from said raw data with the <code>NetPacket::TCP-&gt;decode()</code> method. Perhaps I&#39;m going about this incorrectly?"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "reply_to_user": {"reputation": 2705, "user_id": 1151171, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6g2ko.jpg?s=128&g=1", "display_name": "Jarmund", "link": "https://stackoverflow.com/users/1151171/jarmund"}, "edited": false, "score": 0, "creation_date": 1444578556, "post_id": 33053523, "comment_id": 53952377, "body": "No, that can&#39;t be correct. Why 7 bytes? An IPv4 header is between 20 and 60 bytes long, depending on the options. You could check with tcpdump or wireshark to see which port value is correct."}, {"owner": {"reputation": 2705, "user_id": 1151171, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6g2ko.jpg?s=128&g=1", "display_name": "Jarmund", "link": "https://stackoverflow.com/users/1151171/jarmund"}, "edited": false, "score": 0, "creation_date": 1444579197, "post_id": 33053523, "comment_id": 53952582, "body": "TunTap adds an additional 7 byte header that has to be removed for the raw data to be parseable by the modules. If it isn&#39;t removed, <code>decode()</code> returns garbage."}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "reply_to_user": {"reputation": 2705, "user_id": 1151171, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6g2ko.jpg?s=128&g=1", "display_name": "Jarmund", "link": "https://stackoverflow.com/users/1151171/jarmund"}, "edited": false, "score": 0, "creation_date": 1444622073, "post_id": 33053523, "comment_id": 53963781, "body": "The header is four bytes; above you had it stripped correctly. But then you&#39;re still at the start of the IP header, not the TCP/UDP one. Try and make it work with <code>NetPacket::IP</code> first before you attempt to optimize it."}], "tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": true, "score": 2, "last_activity_date": 1444476870, "creation_date": 1444476870, "answer_id": 33053523, "question_id": 33052837, "link": "https://stackoverflow.com/questions/33052837/determine-the-source-port-of-an-ipv4-packet-with-perl/33053523#33053523", "title": "Determine the source port of an IPv4 packet with perl", "body": "<p><code>NetPacket::IP</code> only deals with IP packets which have no concept of ports. Ports only come into play on the TCP/UDP (or whatever you have layered on top of IP) layer, so you need e.g. <code>NetPacket::TCP</code> to get this information. You'll probably have to look at $packet->{proto} to decide which module (TCP or UDP) you want to use for the layer4 parsing.</p>\n\n<p>If you're sure you won't need additional header fields for which the higher-level <code>NetPacket</code> modules would make sense, you could exploit the fact that the source port is in the first 16 bits of the header both for TCP and UDP, so you could say</p>\n\n<pre><code># Untested, so I'm not sure about the case returned in\n# $packet-&gt;{proto}\nif($packet-&gt;{proto} eq 'tcp' or $packet-&gt;{proto} eq 'udp') {\n    $port = unpack('n', $packet-&gt;{data});\n    ...\n}\n</code></pre>\n\n<p>Edit: BTW, using substr() instead of a regexp substitution should be faster if that's a concern.</p>\n"}], "owner": {"reputation": 2705, "user_id": 1151171, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6g2ko.jpg?s=128&g=1", "display_name": "Jarmund", "link": "https://stackoverflow.com/users/1151171/jarmund"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 33053523, "answer_count": 1, "score": 1, "last_activity_date": 1444476870, "creation_date": 1444472108, "question_id": 33052837, "link": "https://stackoverflow.com/questions/33052837/determine-the-source-port-of-an-ipv4-packet-with-perl", "title": "Determine the source port of an IPv4 packet with perl", "body": "<p>I have a perl script that reads and processes IPv4 packets from a TunTap interface. Stripped down a bit, it looks like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Common;\nuse Linux::TunTap;\nuse NetPacket::IP;\nuse IO::Socket;\n$|++;\n\n###### Predecs #####\nmy $tun;\nmy %config = Loadconfig();\n\n$tun = Linux::TunTap-&gt;new(NAME =&gt; $config{'localtun_name'})\nor die \"Couldn't connect to Interface $config{localtun_name}\\n\";\nprint \"Interface up: \" . $tun-&gt;{interface} . \"\\n\";\n\nwhile (my $rawdata = $tun-&gt;get_raw()) {\n        $rawdata =~ s/^....//; # Strip the TunTap header\n        my $packet = NetPacket::IP-&gt;decode($rawdata);\n        print \"$packet-&gt;{id} $packet-&gt;{src_ip} -&gt; $packet-&gt;{dest_ip} $packet-&gt;{proto} $packet-&gt;{len}\\n\";\n        # Do some processing here\n}\n</code></pre>\n\n<p>For routing reasons, I need to know the source port of the data. I have not found a way of doing this with <code>NetPacket::IP</code>, so is there a different way of determining this? I am currently only using <code>NetPacket::IP</code> for debugging reasons, so I am not really set on that module in particular if a different module will allow me to extract the source port in addition to sequence number, size, source IP, and destination IP.</p>\n"}, {"tags": ["regex", "perl", "awk", "sed"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444473830, "post_id": 33052571, "comment_id": 53926385, "body": "@Chameleon ... how big are your HTML files?!"}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444490190, "post_id": 33052571, "comment_id": 53931164, "body": "Whole Wikipedia in Polish - it is about 1Gb packed so I can predict that is about 100 Gb."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444490256, "post_id": 33052571, "comment_id": 53931182, "body": "@Chameleon Wow. OK, that makes sense, then. Does the second version work better?"}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444490381, "post_id": 33052571, "comment_id": 53931213, "body": "I will start test soon. I trying to clear Wikipedia text to generate some ngrams for machine learning."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444490673, "post_id": 33052571, "comment_id": 53931292, "body": "<code>$bzcat plwiki-latest-pages-articles.xml.bz2 | wc -c</code> == 6 419 865 906 bytes"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1444475085, "last_edit_date": 1444475085, "creation_date": 1444470243, "answer_id": 33052571, "question_id": 33052448, "link": "https://stackoverflow.com/questions/33052448/how-to-cut-html-tag-from-very-large-multiline-text-file-with-content-with-use-pe/33052571#33052571", "title": "How to cut html tag from very large multiline text file with content with use perl, sed or awk?", "body": "<p>This should do it:</p>\n\n<pre><code>perl -0777 -pe 's!&lt;math&gt;.*?&lt;/math&gt;!!sg' dirt-math.txt\n</code></pre>\n\n<p><code>-p</code> says we're doing a sed-like readline/printline loop, <code>-0777</code> says each \"line\" is actually the whole input file, and <code>-e</code> specifies the code to run (on each \"line\" (file)).</p>\n\n<hr>\n\n<p>If your text files are too big to fit into memory (?!), you can try this:</p>\n\n<pre><code>perl -pe 's!&lt;math&gt;.*?&lt;/math&gt;!!s; if ($cut) { if (s!^.*?&lt;/math&gt;!!) { $cut = 0 } else { $_ = \"\" } } if (!$cut &amp;&amp; s!&lt;math&gt;.*!!s) { $cut = 1 }' dirt-math.txt\n</code></pre>\n\n<p>or (slightly more readable):</p>\n\n<pre><code>perl -pe '\n    s!&lt;math&gt;.*?&lt;/math&gt;!!g;\n    if ($cut) {\n        if (s!^.*?&lt;/math&gt;!!) { $cut = 0 }\n        else { $_ = \"\" }\n    }\n    if (!$cut &amp;&amp; s!&lt;math&gt;.*!!s) { $cut = 1 }\n' dirt-math.txt\n</code></pre>\n\n<p>This is effectively a little state machine.</p>\n\n<p><code>$cut</code> records whether we're in an unclosed <code>&lt;math&gt;</code> tag (and so need to cut out input). If so, we check whether we were able to find/remove <code>&lt;/math&gt;</code>. If so, we're done cutting (we found a closing <code>&lt;/math&gt;</code> tag); otherwise we overwrite the \"current line\" with the empty string (<code>$_ = \"\"</code>; this is the actual cutting part).</p>\n\n<p>If, after this, we're not cutting (we're not using <code>else</code> to handle the case where <code>... &lt;/math&gt; not math text &lt;math&gt;</code> appears on a single line), we try to remove <code>&lt;math&gt;...</code> from the input. If so, we've just seen an opening <code>&lt;math&gt;</code> tag and need to start cutting.</p>\n"}, {"comments": [{"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444490233, "post_id": 33053373, "comment_id": 53931174, "body": "Nice idea I will check this."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444563253, "post_id": 33053373, "comment_id": 53947795, "body": "Failed on different file."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1444476952, "last_edit_date": 1444476952, "creation_date": 1444475751, "answer_id": 33053373, "question_id": 33052448, "link": "https://stackoverflow.com/questions/33052448/how-to-cut-html-tag-from-very-large-multiline-text-file-with-content-with-use-pe/33053373#33053373", "title": "How to cut html tag from very large multiline text file with content with use perl, sed or awk?", "body": "<p>This can also be done using <code>..</code> flip-flop(not range) operator without taking the whole file in memory and removing <code>&lt;math&gt;</code> from the starting point like:</p>\n\n<pre><code>perl -wlne 'unless(((/.*&lt;math&gt;/../&lt;\\/math&gt;/)||0) &gt; 1){s/&lt;math&gt;//;print}' your-file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444493911, "post_id": 33053849, "comment_id": 53932277, "body": "Do you assume that <code>: &lt;math&gt;</code> occurs always it can be also <code>+++ &lt;math&gt;</code>?"}, {"owner": {"reputation": 2189, "user_id": 1517864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21534592a6956b64bd30df031d9dd2d0?s=128&d=identicon&r=PG", "display_name": "jayant", "link": "https://stackoverflow.com/users/1517864/jayant"}, "reply_to_user": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444494296, "post_id": 33053849, "comment_id": 53932390, "body": "@Chameleon I assume that between <code>:</code> and <code>:</code> or <code>:</code> and <code>|</code> if there is math then the whole field is ignored so <code>: +++ &lt;math&gt; ... &lt;&#47;math&gt;:</code> will become <code>::</code>"}], "tags": [], "owner": {"reputation": 2189, "user_id": 1517864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21534592a6956b64bd30df031d9dd2d0?s=128&d=identicon&r=PG", "display_name": "jayant", "link": "https://stackoverflow.com/users/1517864/jayant"}, "is_accepted": false, "score": 0, "last_activity_date": 1444479238, "creation_date": 1444479238, "answer_id": 33053849, "question_id": 33052448, "link": "https://stackoverflow.com/questions/33052448/how-to-cut-html-tag-from-very-large-multiline-text-file-with-content-with-use-pe/33053849#33053849", "title": "How to cut html tag from very large multiline text file with content with use perl, sed or awk?", "body": "<p>This isn't quite the one-liner but it does what you're looking for. As always there are many ways of doing this. But here I am using '|' as the records separator and ':' as the field separator. That allows me to iterate over the fields in a record that contains math and only print the fields that don't contain <code>&lt;math&gt;&lt;/math&gt;</code>.</p>\n\n<pre><code>BEGIN {RS=\"|\";FS=\":\";ORS=\"\"}\n\n/math/ {\n    for (i=1;i&lt;=NF;i++) {\n        if ($i ~ /math/) {print \":\\n\"}\n        else {print $i}\n    }\n    print \"|\";next;\n}\n\n/^\\}/ {\n    print \"}\";\n    next;\n}\n\n{\n    print $0\"|\"\n}\n\nEND {print \"\\n\"}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444490327, "post_id": 33054136, "comment_id": 53931199, "body": "Thank you for suggestion I do not know awk so you suggestion will allow to do next step which is very hard for me."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444494017, "post_id": 33054136, "comment_id": 53932297, "body": "I will check it again since I make mistake somewhere :)"}], "tags": [], "owner": {"reputation": 3047, "user_id": 1056268, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ae79a6b24dba8be8b06d4af070ad44df?s=128&d=identicon&r=PG", "display_name": "Nik O&#39;Lai", "link": "https://stackoverflow.com/users/1056268/nik-olai"}, "is_accepted": true, "score": 1, "last_activity_date": 1444771164, "last_edit_date": 1444771164, "creation_date": 1444481124, "answer_id": 33054136, "question_id": 33052448, "link": "https://stackoverflow.com/questions/33052448/how-to-cut-html-tag-from-very-large-multiline-text-file-with-content-with-use-pe/33054136#33054136", "title": "How to cut html tag from very large multiline text file with content with use perl, sed or awk?", "body": "<p>If all data is so nicely formatted as in your example, then your solution is very close. I modified it only slightly</p>\n\n<p>in AWK:</p>\n\n<pre><code>sub(/&lt;math&gt;.*/, \"\") {print; cut=1}\n/&lt;\\/math&gt;/          {cut=0; next}\n!cut\n</code></pre>\n"}], "owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 33054136, "answer_count": 4, "score": 0, "last_activity_date": 1444771164, "creation_date": 1444469497, "question_id": 33052448, "link": "https://stackoverflow.com/questions/33052448/how-to-cut-html-tag-from-very-large-multiline-text-file-with-content-with-use-pe", "title": "How to cut html tag from very large multiline text file with content with use perl, sed or awk?", "body": "<p>I want to transform this text (remove <code>&lt;math&gt;.*?&lt;/math&gt;</code>) with sed, awk or perl:</p>\n\n<pre><code>{|\n|-\n| colspan=\"2\"|\n: &lt;math&gt;\n[\\underbrace{\\color{Red}4,2}_{4 &gt; 2},5,1,7] \\rightarrow\n[2,\\underbrace{\\color{OliveGreen}4,5}_{4 &lt; 5},1,7] \\rightarrow\n[2,4,\\underbrace{\\color{Red}5,1}_{5 &gt; 1},7] \\rightarrow\n[2,4,1,\\underbrace{\\color{OliveGreen}5,7}_{5 &lt; 7}]\n&lt;/math&gt;\n|-\n|\n: &lt;math&gt;\n[\\underbrace{\\color{OliveGreen}2,4}_{2 &lt; 4},1,5,{\\color{Blue}7}] \\rightarrow\n[2,\\underbrace{\\color{Red}4,1}_{4 &gt; 1},5,{\\color{Blue}7}] \\rightarrow\n[2,1,\\underbrace{\\color{OliveGreen}4,5}_{4 &lt; 5},{\\color{Blue}7}]\n&lt;/math&gt;\n: &lt;math&gt;\n[\\underbrace{\\color{Red}2,1}_{2 &gt; 1},4,{\\color{Blue}5},{\\color{Blue}7}] \\rightarrow\n[1,\\underbrace{\\color{OliveGreen}2,4}_{2 &lt; 4},{\\color{Blue}5},{\\color{Blue}7}]\n&lt;/math&gt;\n: &lt;math&gt;\n[\\underbrace{\\color{OliveGreen}1,2}_{1 &lt; 2},{\\color{Blue}4},{\\color{Blue}5},{\\color{Blue}7}]\n&lt;/math&gt;\n|}\n</code></pre>\n\n<p>Into such text (please forgive me if I remove too much - I should remove <code>&lt;math&gt;.*?&lt;/math&gt;</code>):</p>\n\n<pre><code>{|\n|-\n| colspan=\"2\"|\n: \n|-\n|\n: \n: \n: \n|}\n</code></pre>\n\n<p>I read about 20 page and tested 10 scripts but without good results. The best what I do is:</p>\n\n<pre><code>cat dirt-math.txt | awk '/&lt;math&gt;/{cut=1; print;}/&lt;\\/math&gt;/{cut=0}!cut'\n</code></pre>\n\n<p>Whatever it not works correctly since lefts <code>&lt;math&gt;&lt;/math&gt;</code> it is not bad but I do not know awk to improve it more.</p>\n"}, {"tags": ["perl", "centos", "amazon", "amazon-ami"], "answers": [{"tags": [], "owner": {"reputation": 776, "user_id": 3979290, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9b2d18e144170be055ee859fd2738527?s=128&d=identicon&r=PG", "display_name": "PNDA", "link": "https://stackoverflow.com/users/3979290/pnda"}, "is_accepted": true, "score": 1, "last_activity_date": 1444464614, "creation_date": 1444464614, "answer_id": 33051808, "question_id": 33051754, "link": "https://stackoverflow.com/questions/33051754/need-ami-file-wiith-centos-and-perl-modules/33051808#33051808", "title": "Need .ami file wiith CentOS and perl modules", "body": "<p>Go get a fresh copy of CentOS with perl. Run this command:</p>\n\n<p><code>yum install perl-Getopt-Long perl-List-MoreUtils perl-Parallel-ForkManager perl-Mail-CheckUser perl-Mail-CheckUser perl-Mail-CheckUser-Treat_Timeout_As_Fail perl-Mail-CheckUser-Treat_Full_As_Fail perl-Mail-CheckUser-Sender_Addr perl-Mail-CheckUser-Helo_Domain perl-Mail-CheckUser-Timeout perl-Mail-CheckUser-Debug perl-Parallel-ForkManager perl-Net-DNS perl-Data-Dumper</code></p>\n\n<p>You can also use cpan:</p>\n\n<p><code>cpan Getopt::Long List::MoreUtils Parallel::ForkManager Mail::CheckUser Mail::CheckUser Mail::CheckUser::Treat_Timeout_As_Fail Mail::CheckUser::Treat_Full_As_Fail Mail::CheckUser::Sender_Addr Mail::CheckUser::Helo_Domain Mail::CheckUser::Timeout Mail::CheckUser::Debug Parallel::ForkManager Net::DNS Data::Dumper</code></p>\n"}], "owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 33051808, "answer_count": 1, "score": 0, "last_activity_date": 1444464614, "creation_date": 1444464192, "question_id": 33051754, "link": "https://stackoverflow.com/questions/33051754/need-ami-file-wiith-centos-and-perl-modules", "title": "Need .ami file wiith CentOS and perl modules", "body": "<p>I need help putting together an Amazon ami file with the following perl modules:</p>\n\n<pre><code>Getopt::Long\nList::MoreUtils\nParallel::ForkManager\nMail::CheckUser\nMail::CheckUser\nMail::CheckUser::Treat_Timeout_As_Fail\nMail::CheckUser::Treat_Full_As_Fail\nMail::CheckUser::Sender_Addr\nMail::CheckUser::Helo_Domain\nMail::CheckUser::Timeout\nMail::CheckUser::Debug\nParallel::ForkManager\nNet::DNS\nData::Dumper\n</code></pre>\n\n<p>If you have a link to where I can find a CentOS ami file with these perl modules installed, or with the abiliy to install them, please let me know. </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["string", "perl", "mismatch"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1444456512, "post_id": 33050582, "comment_id": 53922269, "body": "Are the two inputs always the same length? If not, &quot;ABCD&quot; and &quot;ACD&quot; have a difference of 1, or something else? Even if so, do &quot;ABCDEF&quot; and &quot;ACDEFB&quot; have a difference of 2, 5, or something else?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444466799, "post_id": 33050582, "comment_id": 53924617, "body": "If you are agree something a little more <a href=\"http://search.cpan.org/dist/Text-Levenshtein/lib/Text/Levenshtein.pm\" rel=\"nofollow noreferrer\">search.cpan.org/dist/Text-Levenshtein/lib/Text/Levenshtein.p&zwnj;&#8203;m</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1444457220, "post_id": 33050805, "comment_id": 53922409, "body": "nice answer can you share use of <code>^</code> in your code and how it is works.?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1444457681, "post_id": 33050805, "comment_id": 53922496, "body": "XOR is a bitwise operator that finds difference between pairs of bits. So it becomes a question of counting the bytes with 1-bits, or the ones that don&#39;t consist entirely of zero bits."}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444485144, "post_id": 33050805, "comment_id": 53929561, "body": "Fantastic solution. I was looking concise like this one. Thanks"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444494097, "post_id": 33050805, "comment_id": 53932323, "body": "I phrased it so it&#39;ll be of use to others too"}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444671733, "post_id": 33050805, "comment_id": 53990569, "body": "@ikegami: Will there be any problem with ATCG, I am using this one just for DNA?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444676338, "post_id": 33050805, "comment_id": 53992807, "body": "The comparison will work fine for any characters. The downgrading will may help in the situation I describe. The downgrading may hurt in the situation I described. Unaccented latin letters are below U+0100."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1445332789, "post_id": 33050805, "comment_id": 54268768, "body": "@ikegami Is it possible to store the matched string to an array or other data type from your answer.? Like <code>@data = ($s1 ^ $s2) =~tr&#47;&#47;&#47;;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1445350580, "post_id": 33050805, "comment_id": 54280892, "body": "<code>push @matches, $s1 if ...;</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1444491070, "last_edit_date": 1444491070, "creation_date": 1444456506, "answer_id": 33050805, "question_id": 33050582, "link": "https://stackoverflow.com/questions/33050582/perl-count-mismatch-between-two-strings/33050805#33050805", "title": "perl count mismatch between two strings", "body": "<p>Just XOR the two strings together. Each NUL character in the result represents a position where the characters are the same in both strings.</p>\n\n<pre><code>my ($s1, $s2) = qw( ATCG ATTG );\n\nmy $count = ( $s1 ^ $s2 ) =~ tr/\\0//c;\n\nprint \"$count\\n\";   # Prints \"1\"\n</code></pre>\n\n<hr>\n\n<p>Note: If you're going to repeatedly compare a string, pass it and the one to which you are comparing it to <code>utf8::downgrade</code> to makes sure the <code>^</code> is as fast as it can be.</p>\n\n<pre><code>utf8::downgrade($s1);  # Change the internal format in which\nutf8::downgrade($s2);  #   the strings are stored to speed up $s1^$s2.\n</code></pre>\n\n<p>This is useless/wasteful if either string contains UNICODE chars above U+00FF.</p>\n"}], "owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 870, "favorite_count": 0, "accepted_answer_id": 33050805, "answer_count": 1, "score": 0, "last_activity_date": 1444491070, "creation_date": 1444454249, "last_edit_date": 1444456519, "question_id": 33050582, "link": "https://stackoverflow.com/questions/33050582/perl-count-mismatch-between-two-strings", "title": "perl count mismatch between two strings", "body": "<p>I need to just count mismatch between two strings. Let say:</p>\n\n<pre><code>my $s1 = \"ATCG\";\nmy $s2 = \"ATTG\"; \n</code></pre>\n\n<p>This should give: 1 as mismatch. No need to find position or what are the mismatches.</p>\n\n<p>I was looking for fast way to do. I thought splitting into arrays and matching in loop or using substr to match each position may be slow because need to be checked for more than billion pairs. Thanks </p>\n"}, {"tags": ["perl", "hash", "bioinformatics"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444448520, "post_id": 33049251, "comment_id": 53920740, "body": "Each question should stand on its own -- you really shouldn&#39;t rely on the contents of a previous question to fill in the detail for you. This question is really difficult to understand, but I <i>think</i> you want to extract the names of the two files corresponding to the two formats for each sample id. Is that right? Are the formats always <code>R1</code> and <code>R2</code>?"}, {"owner": {"reputation": 1858, "user_id": 4799193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87fb12a6ad909323fb42a48e78b3f28?s=128&d=identicon&r=PG&f=1", "display_name": "ramana_k", "link": "https://stackoverflow.com/users/4799193/ramana-k"}, "edited": false, "score": 0, "creation_date": 1444448579, "post_id": 33049251, "comment_id": 53920749, "body": "&quot;Now I&#39;m stuck on how to call upon the individual components of the pairs with each other.&quot; Could you clarify this requirement with an example to show what exactly you want to do?  &quot;I&#39;ve considered accessing the hash by typing in its keys as user input&quot;. I think this too needs some clarification. Sounds like you could use &quot;keys %pairs&quot; for this."}, {"owner": {"reputation": 5, "user_id": 5411393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860646e3c3381771f6cae328954494a1?s=128&d=identicon&r=PG&f=1", "display_name": "Postan92", "link": "https://stackoverflow.com/users/5411393/postan92"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444449379, "post_id": 33049251, "comment_id": 53920877, "body": "@Borodin Well for each pair there&#39;s a forward and a reverse read that&#39;s distinguished by the R1 and the R2 components respectively. So each file is formatted as sample-id_adapter-sequence_L001_R1/R2_001.fastq/  Ramana Well right now, I&#39;ve got the script so that it parses the forward and reverse reads with each other. But they&#39;ve been stuck into a single key within a hash.   So if I had a key within the hash whose sample ID was &quot;11215&quot;, then that key would have both the R1 and R2 files."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1444453244, "last_edit_date": 1444453244, "creation_date": 1444450214, "answer_id": 33050184, "question_id": 33049251, "link": "https://stackoverflow.com/questions/33049251/calling-upon-keys-within-a-hash-in-perl/33050184#33050184", "title": "Calling upon keys within a hash in perl", "body": "<p>My best guess at what you need is to pair up all the <code>.fastq</code> files in a given directory and call your <code>flash</code> utility once for each pair</p>\n\n<p>There are a number of issues with your own code, and you seem to be retaining far more information thatn you need in your <code>%pairs</code> hash (I think all you need is the filename, the sample ID, and the format) so I've written this</p>\n\n<p>I've also used a simple <code>glob</code> instead of <code>opendir</code> , <code>readdir</code>, <code>closedir</code> which seemed a better option</p>\n\n<p>I've tested this as far as I can and it seems fine</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse File::Basename qw/ basename /;\n\nmy $flash = '/usr/local/flash/flash';\n\nprint \"Please provide the directory containing\\n\";\nprint \"the fastq files from your Illumina MiSeq run: \";\nmy $fastq_file_dir = &lt;STDIN&gt;;\nchomp $fastq_file_dir;\n\nprint \"Please provide the minimum overlap between the two reads in bp: \";\nmy $min_overlap = &lt;STDIN&gt;;\nchomp $min_overlap;\n\nprint \"Please provide the maximum overlap between the two reads in bp: \";\nmy $max_overlap = &lt;STDIN&gt;;\nchomp $max_overlap;\n\nprint \"Now provide the output directory for your merged fastq reads: \";\nmy $out_dir = &lt;STDIN&gt;;\nchomp $out_dir;\n\nmy @files = glob \"$fastq_file_dir/*.fastq\";\n\nmy %pairs;\n\nfor my $fastq_file ( @files ) {\n\n    my $file = basename $fastq_file;\n    my ($sample_id, $format) = (split /_/, $file)[0,3];\n\n    $pairs{ $sample_id }{ $format } = $file;\n}\n\nprintf \"Processing %d pairs of FASTQ files\\n\\n\", scalar keys %pairs;\nchdir $fastq_file_dir;\n\nfor my $sample ( sort keys %pairs ) {\n\n    my $pair = $pairs{$sample};\n    my ($forward, $reverse) = @{$pair}{qw/ R1 R2 /};\n\n    print \"Forward: $forward\\n\";\n    print \"Reverse: $reverse\\n\";\n    print \"\\n\";\n\n    my $cmd = qq{$flash $forward $reverse -m $min_overlap -M $max_overlap -d $out_dir};\n    system $cmd;\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5411393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860646e3c3381771f6cae328954494a1?s=128&d=identicon&r=PG&f=1", "display_name": "Postan92", "link": "https://stackoverflow.com/users/5411393/postan92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 33050184, "answer_count": 1, "score": 0, "last_activity_date": 1444453244, "creation_date": 1444439909, "last_edit_date": 1495535224, "question_id": 33049251, "link": "https://stackoverflow.com/questions/33049251/calling-upon-keys-within-a-hash-in-perl", "title": "Calling upon keys within a hash in perl", "body": "<p>This is something of an extension to <a href=\"https://stackoverflow.com/q/33049251\">my very first question</a> on this site. </p>\n\n<p>Now I have the following code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n#Print Directory\n\nprint \"Please provide the directory containing the FASTQ files from your Illumina MiSeq run \\n\";\nmy $FASTQ = &lt;STDIN&gt;;\nchomp ($FASTQ);\n\nprint \"Please provide the minimum overlap between the two reads in bp\";\nmy $min = &lt;STDIN&gt;;\nchomp ($min);\n\nprint \"Please provide the maximum overlap between the two reads in bp\";\nmy $max = &lt;STDIN&gt;;\nchomp ($max);\n\nprint \"Now provide the output directory for your merged fastq reads\";\nmy $output = &lt;STDIN&gt;;\nchomp ($output);\n\n#Open Directory\n\nmy $dir = $FASTQ;\nopendir(DIR, $dir) or die \"Cannot open $dir: $!\";\nmy @reads = grep { /.fastq/ } readdir DIR;\nclosedir DIR;\n\nsub parse_fastq_filename {\n    # Strip the suffix\n    my $filename = shift;\n\n    # Parse Sample-ID_Adapter-Sequence_L001_R1_001\n    my($sample_id, $adapter_sequence, $L001, $format, $001) = split /_/, $filename;\n\n    return {\n        filename            =&gt; $filename,\n        sample_id           =&gt; $sample_id,\n        adapter_sequence    =&gt; $adapter_sequence,\n        $L001               =&gt; $L001,\n        format              =&gt; $format,\n        001                 =&gt; $001\n    };\n}\n\n\n# The pairs of files will be stored within the following hash.\nmy %pairs;\n\n# List just the *.fastq files\nfor my $filename (@reads) {\n    # Parse the filename into a hash reference\n    my $fastq = parse_fastq_filename($filename);\n\n    # Put each parsed fastq filename into its pair\n    $pairs{ $fastq-&gt;{sample_id} }{ $fastq-&gt;{format} } = $fastq;\n}\n\nfor my $sample (values %pairs) {\n    # Go through each pair in the sample\n    for my $fastq (values %$sample) {\n        print \"$fastq-&gt;{filename} has format $fastq-&gt;{format}\\n\";\n    }\n}\n\nfor my $forward (values %pairs) {\n    for my $fastq (values %$forward) {\n\n    }\n}\n\n#print the keys within the hash\nforeach (keys %pairs){\n    print \"$_ =&gt; $pairs{$_}\\n\";\n}\n\n#place the hash into an array\nmy @unique = keys %pairs;\nprint @unique;\n\n#change directory to the user-inputted directory and merge reads \nchdir $dir;\n`/usr/local/flash/flash @array[0] @array[1] -m $min -M $max -d $output`;\n</code></pre>\n\n<p>I successfully paired the forward and reverse fastq files with each other as required by the Unix command at the end. Now I'm stuck on how to call upon the individual components of the pairs with each other.</p>\n\n<p>I've considered accessing the hash by typing in its keys as user input, but those numbers are randomly generated within the script, and I don't want to force the user to input those values before running the Unix script. </p>\n\n<p>Plus, all the examples I've checked for have already provided a fixed amount of keys within the hash. Depending on how many files the user wants to merge together, the amount of keys within the hash can vary as well. </p>\n\n<p>I know I want to make a loop so that the command can be run multiple times; the program FLASH can only accept one forward and reverse fastq file at a time. As such, the forward and reverse fastq reads must be looped so that each read will be processed.</p>\n\n<p>How can I take out the specific file I want to work with after pairing them together into a hash?</p>\n"}, {"tags": ["bash", "perl", "replace", "uniqueidentifier", "col"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1444430486, "post_id": 33047967, "comment_id": 53917234, "body": "Should be straightforward in <code>awk</code>. Read File 2, creating an array where the keys are <code>Grp_Len</code> and the values are <code>ident</code>. Then read file 1, and replace <code>ident</code> with the corresponding element of the array."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1444430535, "post_id": 33047967, "comment_id": 53917250, "body": "You can also do the same thing in Perl, using a hash instead of array."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1444430571, "post_id": 33047967, "comment_id": 53917263, "body": "That&#39;s all the hints I&#39;m going to give. SO is not a free coding service, you&#39;re supposed to make an attempt to solve the problem on your own. If you can&#39;t get it working, post what you tried and we&#39;ll help you fix it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444434790, "post_id": 33047967, "comment_id": 53918274, "body": "Are the records always in the same order in both files?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1444456592, "last_edit_date": 1444456592, "creation_date": 1444455171, "answer_id": 33050682, "question_id": 33047967, "link": "https://stackoverflow.com/questions/33047967/bash-merging-tables-on-unique-id/33050682#33050682", "title": "bash merging tables on unique id", "body": "<p>This should work for you, assuming the <code>Grp</code> and <code>Len</code> values are in the same order in both files, as per my comment</p>\n\n<p>Essentially it reads a line from the first file and then reads from the second file, forming the <code>Grp_Len</code> key from each record  until it finds an entry that matches. Then it's just a matter of building the new output record</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $f1, '&lt;', 'file1.txt';\nprint scalar &lt;$f1&gt;;\nopen my $f2, '&lt;', 'file2.txt';\n&lt;$f2&gt;;\n\nwhile ( &lt;$f1&gt; ) {\n\n    my @f1 = split;\n\n    my @f2;\n    while () {\n        @f2 = split ' ', &lt;$f2&gt;;\n        last if join('_', @f2[0,1]) eq $f1[2];\n    }\n\n    print \"@f2 $f1[3]\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Grp Len ident   data\nA 20 fz2525 3k3bj52\nA 102 fz5367 3k32rf2\nA 352 fz4678 3w3bj52\nB 60 fz5732 3k3qwrg\nB 42 fz3563 3kerj52\nC 89 fz8744 3kftj55\nC 445 fz2985 fy5763b\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Here's another version which is identical except that it builds a <code>printf</code> format string from the spacing of the column headers in the first file. That results in a much neater output</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $f1, '&lt;', 'file1.txt';\nmy $head = &lt;$f1&gt;;\nprint $head;\nmy $format = create_format($head);\n\nopen my $f2, '&lt;', 'file2.txt';\n&lt;$f2&gt;;\n\nwhile ( &lt;$f1&gt; ) {\n\n    my @f1 = split;\n\n    my @f2;\n    while () {\n        @f2 = split ' ', &lt;$f2&gt;;\n        last if join('_', @f2[0,1]) eq $f1[2];\n    }\n\n    printf $format, @f2, $f1[3];\n}\n\nsub create_format {\n    my ($head) = @_;\n    my ($format, $pos);\n\n    while ( $head =~ /\\b\\S/g ) {\n        $format .= sprintf(\"%%-%ds\", $-[0] - $pos) if defined $pos;\n        $pos = $-[0];\n    }\n\n    $format . \"%s\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Grp Len ident   data\nA   20  fz2525  3k3bj52\nA   102 fz5367  3k32rf2\nA   352 fz4678  3w3bj52\nB   60  fz5732  3k3qwrg\nB   42  fz3563  3kerj52\nC   89  fz8744  3kftj55\nC   445 fz2985  fy5763b\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4644333, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ifIfr.jpg?s=128&g=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/4644333/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 33050682, "answer_count": 1, "score": -1, "last_activity_date": 1444456592, "creation_date": 1444429256, "last_edit_date": 1444430323, "question_id": 33047967, "link": "https://stackoverflow.com/questions/33047967/bash-merging-tables-on-unique-id", "title": "bash merging tables on unique id", "body": "<p>I have two similar, 'table format' text files, each several million records long. In the inputfile1, the unique identifier is a merger of values in two other columns (neither of which are unique identifiers on their own). In inputfile2, the unique identifier is two letters followed by a random four-digit number.</p>\n\n<p>How can I replace the unique identifiers in inputfile1 with the corresponding unique identifiers in the inputfile2? All of the records in the first table are present in the second, though not vis versa. Below are toy examples of the files.</p>\n\n<p>Input file 1:</p>\n\n<pre><code>Grp Len ident   data\nA   20  A_20    3k3bj52\nA   102 A_102   3k32rf2\nA   352 A_352   3w3bj52\nB   60  B_60    3k3qwrg\nB   42  B_42    3kerj52\nC   89  C_89    3kftj55\nC   445 C_445   fy5763b\n</code></pre>\n\n<p>Input file 2:</p>\n\n<pre><code>Grp Len ident\nA   20  fz2525\nA   102 fz5367\nA   352 fz4678\nA   356 fz1543\nB   60  fz5732\nB   11  fz2121\nB   42  fz3563\nC   89  fz8744\nC   245 fz2653\nC   445 fz2985\nC   536 fz8983\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>Grp Len ident   data\nA   20  fz2525  3k3bj52\nA   102 fz5367  3k32rf2\nA   352 fz4678  3w3bj52\nB   60  fz5732  3k3qwrg\nB   42  fz3563  3kerj52\nC   89  fz8744  3kftj55\nC   445 fz2985  fy5763b\n</code></pre>\n\n<p>My provisional plan is:</p>\n\n<ol>\n<li>Generate extra identifiers for input2, in the style of input1 (easy)</li>\n<li>Filter out lines from input2 that don't occur input1 (hardish)</li>\n<li>Then stick on the data from input1 (easy)</li>\n</ol>\n\n<p>I might be able to do this in R but the data is large and complex, and I was wondering if there was a way in bash or perl. Any tips in the right direction would be good.</p>\n"}, {"tags": ["arrays", "perl", "list", "slice", "scalar"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1444433021, "post_id": 33047928, "comment_id": 53917914, "body": "Both constructs can be useful. Both are documented. If the language lacked one of those two features people would probably ask what the philosophy is behind not implementing one of them."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1444439710, "post_id": 33048361, "comment_id": 53919294, "body": "As to why the evaluate to what they do: It&#39;s very useful to get the length of an array. We&#39;ll give you that in scalar context since the first or last element are already trivial to obtain (<code>$a[0]</code> and <code>$a[-1]</code> respectively). // It&#39;s not useful to get the length of a slice (it&#39;s the same as the number of indexes). In fact, a slice in scalar context doesn&#39;t make much sense, but that case needs to be handled, so lets make <code>@a[4]</code>behaves the same as <code>$a[4]</code>"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 5, "last_activity_date": 1444432621, "last_edit_date": 1444432621, "creation_date": 1444431874, "answer_id": 33048361, "question_id": 33047928, "link": "https://stackoverflow.com/questions/33047928/perl-context-in-assignments/33048361#33048361", "title": "Perl &#39;context&#39; in assignments", "body": "<p>From <a href=\"http://perldoc.perl.org/perldata.html\"><code>perldoc perldata</code></a>:</p>\n\n<blockquote>\n  <p>Assignment to a scalar evaluates the right-hand side in scalar context...</p>\n</blockquote>\n\n<p>And:</p>\n\n<blockquote>\n  <p>If you evaluate an array in scalar context, it returns the length of the array.</p>\n</blockquote>\n\n<p>And:</p>\n\n<blockquote>\n  <p>Slices in scalar context return the last item of the slice.</p>\n</blockquote>\n\n<p><code>@arr</code> is an array; <code>@arr[ @indices_arr ]</code> is an array slice.</p>\n\n<hr>\n\n<p>As for the philosophy behind this: lists and arrays are different data types in Perl, with different behaviors (don't be thrown by the <code>@</code> sigil used in slices, slices are lists, not arrays). See <a href=\"http://friedo.com/blog/2013/07/arrays-vs-lists-in-perl\">Arrays vs. Lists in Perl: What's the Difference?\n</a> for an in-depth explanation of the differences between the two.</p>\n"}], "owner": {"reputation": 890, "user_id": 1701828, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/406d17233c27f48385baf667502b81c2?s=128&d=identicon&r=PG", "display_name": "Byungjoon Lee", "link": "https://stackoverflow.com/users/1701828/byungjoon-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 33048361, "answer_count": 1, "score": 4, "last_activity_date": 1444439896, "creation_date": 1444429040, "last_edit_date": 1444439896, "question_id": 33047928, "link": "https://stackoverflow.com/questions/33047928/perl-context-in-assignments", "title": "Perl &#39;context&#39; in assignments", "body": "<p>As a newbie to Perl, I just don't understand what kind of philosophy is behind of the following result:</p>\n\n<pre><code>$cnt1 = @arr;           \n# this gives the length of the array 'arr'\n$cnt2 = @arr[ @indices_arr ];          \n# this gives the last element of the @arr[ @indices_arr ];\n</code></pre>\n\n<p>Is there someone who can explain the difference between the two?</p>\n"}, {"tags": ["perl", "soap"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1444640466, "creation_date": 1444640466, "answer_id": 33077101, "question_id": 33047737, "link": "https://stackoverflow.com/questions/33047737/perl-soaplite-server-basics/33077101#33077101", "title": "Perl SOAP::Lite server basics", "body": "<p>If you want to set mustUnderstand attribute to some entity in Header, do this:</p>\n\n<pre><code>$sheader = SOAP::Header-&gt;name('someEntity');\n$sheader-&gt;mustUnderstand(1);\n</code></pre>\n\n<p>And when calling a method:</p>\n\n<pre><code>$soap-&gt;someMethod($sheader,@request);\n</code></pre>\n\n<p>Which produces:</p>\n\n<pre><code>&lt;soap:Header&gt;\n  &lt;someEntity soap:mustUnderstand=\"1\" /&gt;\n&lt;/soap:Header&gt;\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 1222307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4593780df11bb64273008c2f8925227?s=128&d=identicon&r=PG", "display_name": "abatie", "link": "https://stackoverflow.com/users/1222307/abatie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1444640466, "creation_date": 1444427866, "question_id": 33047737, "link": "https://stackoverflow.com/questions/33047737/perl-soaplite-server-basics", "title": "Perl SOAP::Lite server basics", "body": "<p>I'm trying to write a soap server with SOAP::Lite to work with existing soap clients (specifically tr-069 dsl modems), but it's unclear how incoming xml triggers calls.  The soap lite mail list moderator is being slow about adding me to their list, so I thought I'd see if anyone here can help point me in the right direction...</p>\n\n<p>For starters, I'm getting:</p>\n\n<pre><code>&lt;faultstring&gt;Unrecognized header has mustUnderstand attribute set to 'true'&lt;/faultstring&gt;\n</code></pre>\n\n<p>which I suspect means that I haven't defined a function to handle something that it wants handled.  The handler code (based on the example in the SOAP::Server man page):</p>\n\n<pre><code>SOAP::Transport::HTTP::CGI\n    -&gt;dispatch_to('PeakACS')\n    -&gt;handle;\nBEGIN {\n    package PeakACS;\n    use vars qw(@ISA);\n    @ISA = qw(Exporter SOAP::Server::Parameters);\n    use SOAP::Lite;\n\n    my $debugging = 1;\n    my $console = 0;\n    my $prog_id = 'peakacs';\n    my $log = DebugLog-&gt;new($prog_id, $debugging, $console);\n    $log-&gt;debug_msg('info', 'handle', '%s', 'handler setup');\n\n    sub ID {\n        $log-&gt;debug_msg('info', 'id', '%s', 'got an id');\n    }\n\n    sub Header {\n        $log-&gt;debug_msg('info', 'header', '%s', 'heading');\n    }\n\n    sub Inform {\n        $log-&gt;debug_msg('info', 'inform', '%s', 'informing');\n    }\n}\n</code></pre>\n\n<p>If I understand SOAP right (which is far from a given), the  tag should translate into a call to Inform - the top of the xml request looks like:</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope\n    xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"\n    xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\"\n    xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:cwmp=\"urn:dslforum-org:cwmp-1-0\"&gt;\n    &lt;SOAP-ENV:Header&gt;\n      &lt;cwmp:ID SOAP-ENV:mustUnderstand=\"1\"&gt;1539095918&lt;/cwmp:ID&gt;\n    &lt;/SOAP-ENV:Header&gt;\n    &lt;SOAP-ENV:Body&gt;\n      &lt;cwmp:Inform&gt;\n        &lt;DeviceId&gt;\n</code></pre>\n"}, {"tags": ["perl", "rest"], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "is_accepted": false, "score": 0, "last_activity_date": 1444843855, "creation_date": 1444843855, "answer_id": 33131931, "question_id": 33047221, "link": "https://stackoverflow.com/questions/33047221/apache2rest-creating-a-resource/33131931#33131931", "title": "Apache2::REST -- Creating a resource", "body": "<p>There is a demo installation included in the Apache2::REST module. When you configure your Apache2::REST mod_perl2 handler without any Apache2RESTHandlerRootClass setting (look in cpan documentation of the module or apache config), a demo installation is automatically installed at your API access point.</p>\n\n<p>I looked in the files provided by the demo installation which gave me the hint in creating a resource.</p>\n\n<p>For example:\nFor a resource called 'test' use this url <a href=\"http://localhost/test/\" rel=\"nofollow\">http://localhost/test/</a>. The files were located in (this is Debian) \n/usr/local/share/perl/5.20.2/Apache2/REST/Handler/test.pm.</p>\n\n<p>For a resource called '/foo', I just made a copy of test.pm and called in foo.pm.</p>\n\n<p>Please see <a href=\"https://code.google.com/p/apache2rest/wiki/DemoApplication\" rel=\"nofollow\">https://code.google.com/p/apache2rest/wiki/DemoApplication</a></p>\n"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 638, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444843855, "creation_date": 1444425074, "last_edit_date": 1444425429, "question_id": 33047221, "link": "https://stackoverflow.com/questions/33047221/apache2rest-creating-a-resource", "title": "Apache2::REST -- Creating a resource", "body": "<p>I'm new to REST, I'm very new to Perl's Apache2::REST. I have 'Apache2::REST' installed and I'm reading from it's cookbook. \nI know 'REST' is working because when I go to <a href=\"http://localhost/api\" rel=\"nofollow\">http://localhost/api</a>, I'm getting the proper response:</p>\n\n<pre><code>response message=\"\" status=\"200\"&gt;\n&lt;data api_mess=\"Hello, this is MyApp REST API\"/&gt;\n&lt;/response&gt;\n</code></pre>\n\n<p>Here is the code to MyAPP::REST::API</p>\n\n<pre><code>package MyApp::REST::API;\nuse warnings;\nuse strict;\n\nuse base qw/Apache2::REST::Handler/;\n\n# Implement the GET HTTP method.\nsub GET{\n my ($self, $request, $response) = @_;\n $response-&gt;data()-&gt;{'api_mess'} = \"Hello, this is MyApp REST API\";\n return Apache2::Const::HTTP_OK;\n}\n\n# Authorize the GET method.\nsub isAuth{my ($self, $method, $req) = @_; return $method eq \"GET\";} \n1;\n</code></pre>\n\n<p>I'm ready to create a 'resource' so, I want to create a resource '/foo'.</p>\n\n<p>The cookbook said to \"Implement a Apache2::REST::Handler named MyApp::REST::API::foo\"</p>\n\n<p>I went to the perldoc documentation and I really couldn't understand it.</p>\n\n<p>Can somebody shed some light.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1444420500, "post_id": 33046083, "comment_id": 53913172, "body": "It sounds like you want to get a list of all the matching files under some top-level directory, sort them, and then keep only the first element."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1444423544, "post_id": 33046083, "comment_id": 53914666, "body": "If $subdir is very large, you could avoid searching that part of the tree second time to speed things up. Otherwise, What you have looks fine to me."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1444435908, "creation_date": 1444435908, "answer_id": 33048875, "question_id": 33046083, "link": "https://stackoverflow.com/questions/33046083/finding-matching-files-with-perl-module-filefindrule/33048875#33048875", "title": "Finding matching files with Perl module File::Find::Rule", "body": "<p>I would check the subdirectories one at a time. Here's an example. The <code>last</code> breaks out of the <code>for</code> loop as soon as soon as a subdirectory has been found that contains the required file</p>\n\n<pre><code>my @files;\n\nfor my $subdir ( 'level-1-a', 'level-1-b' ) {\n    last if @files = File::Find::Rule-&gt;file()-&gt;name($output)-&gt;in(\"/top/$subdir\");\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 2936644, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cade904587771bf764dd775c4dbfa19d?s=128&d=identicon&r=PG&f=1", "display_name": "user2936644", "link": "https://stackoverflow.com/users/2936644/user2936644"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444435908, "creation_date": 1444420178, "last_edit_date": 1444435536, "question_id": 33046083, "link": "https://stackoverflow.com/questions/33046083/finding-matching-files-with-perl-module-filefindrule", "title": "Finding matching files with Perl module File::Find::Rule", "body": "<p>I'n trying to use the <code>File::Find::Rule</code> module to find a specific file (<code>output.txt</code>) in a subdirectory, and if it is not there then search in the root directory to see if it exists.  The issue is that multiple output.txt files exist, so we should only be looking for others if the original is not found. </p>\n\n<p>Basically the directory structure looks like this</p>\n\n<pre><code>top\n    level-1-a\n        level-2-a\n            output.txt\n        level-2-b\n            output.txt\n    level-1-b\n        level-2-a\n            output.txt\n        level-2-b\n            output.txt\n</code></pre>\n\n<p>Right now I have:</p>\n\n<pre><code>    @files = File::Find::Rule-&gt;file()-&gt;name($output)-&gt;in($sub_dir);\n\n    if ( ! @files ) {\n        @files = File::Find::Rule-&gt;file()-&gt;name($output)-&gt;in($root_dir);\n    }\n</code></pre>\n\n<p>Where the behavior is, we look for output.txt in <code>\\top\\level-1-a</code> first, where it finds the matches in <code>level-2-a</code> and <code>level-2-b</code>.  If there are no matching files under <code>level-1-a</code>, we will then make the same call on <code>\\top</code> to find the matches show up in the <code>level-1-b</code> directories.  Is there a cleaner way to check with that \"if-else\" idea? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1444420520, "post_id": 33046081, "comment_id": 53913186, "body": "@toolic How to process all lines?"}, {"owner": {"reputation": 6816, "user_id": 865481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0b2if.gif?s=128&g=1", "display_name": "Salix alba", "link": "https://stackoverflow.com/users/865481/salix-alba"}, "edited": false, "score": 0, "creation_date": 1444422690, "post_id": 33046081, "comment_id": 53914252, "body": "A hacky way would be to remove all the newlines from the input. Something like <code>cat math-text.txt | tr -d &#39;\\n&#39; | perl ....</code>"}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 1, "creation_date": 1444467636, "post_id": 33046081, "comment_id": 53924821, "body": "Can not cut <code>\\n</code> but it is good idea. Maybe some magic can be used i.e. replace <code>\\n</code> to <code>(magic)</code> then clean code and revert."}], "answers": [{"comments": [{"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444422645, "post_id": 33046414, "comment_id": 53914227, "body": "I am trying to do some word2vec so I plan to use lite parser with Perl but I programming in Python so maybe evolve it to Python."}, {"owner": {"reputation": 6816, "user_id": 865481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0b2if.gif?s=128&g=1", "display_name": "Salix alba", "link": "https://stackoverflow.com/users/865481/salix-alba"}, "reply_to_user": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444425538, "post_id": 33046414, "comment_id": 53915522, "body": "If thats <a href=\"http://search.cpan.org/~phred/XML-Parser-Lite-0.721/lib/XML/Parser/Lite.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~phred/XML-Parser-Lite-0.721/lib/XML/Parser/&zwnj;&#8203;&hellip;</a> You would want to have a CurrentExpression string. In the Start routine, detect if its a math node and clear the CurrentExpression, in the Char add the text to CurrentExpression. When an End tag is encountered you can print the expression. Python has a expat parser so it should be easy to translate from perl."}, {"owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "edited": false, "score": 0, "creation_date": 1444469024, "post_id": 33046414, "comment_id": 53925171, "body": "It looks little to complex I think. I will try to find simple solution."}], "tags": [], "owner": {"reputation": 6816, "user_id": 865481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0b2if.gif?s=128&g=1", "display_name": "Salix alba", "link": "https://stackoverflow.com/users/865481/salix-alba"}, "is_accepted": false, "score": 1, "last_activity_date": 1444431326, "last_edit_date": 1444431326, "creation_date": 1444421611, "answer_id": 33046414, "question_id": 33046081, "link": "https://stackoverflow.com/questions/33046081/how-can-i-remove-math-math-multiline-sections-with-perl/33046414#33046414", "title": "How can I remove &lt;math&gt;&lt;/math&gt; multiline sections with Perl?", "body": "<p>The following is a python script which I use to extract all the mathematical formula from wikipedia dumps. Rather than using a multi-line regexp it scans for occurrences of <code>&lt;math&gt;</code> <code>&lt;/math&gt;</code> and uses the position on the line to work out where the actual position on the line is and uses a finite state machine to find the actual equations, basically with two states determined by <code>inEqn</code>. It does a few other things like find the title and name space and attributes in the maths tags.</p>\n\n<p>As dumps are in the order of 100MB using a line by line approach may well end up being more efficient than multi-line regexps.</p>\n\n<pre><code>import sys\nimport re\n\ntitleRE = re.compile('&lt;title&gt;(.*)&lt;/title&gt;')\nnsRE = re.compile('&lt;ns&gt;(.*)&lt;/ns&gt;')\nmathRE = re.compile('&amp;lt;/?math(.*?)&amp;gt;')\npageEndRE = re.compile('&lt;/page&gt;')\n\ntitle =\"\"\nattr = \"\"\nns = -1\ninEqn = 0\nfor line in sys.stdin:\n    m = titleRE.search(line)\n    if m :\n        title = m.group(1)\n        expression = \"\"\n        inEqn = 0\n    m = nsRE.search(line)\n    if m :\n        ns = m.group(1)\n    start = 0\n    pos = 0\n    m = mathRE.search(line,pos)\n    while m :\n        if m.group().startswith('&amp;lt;math'):\n            attr = m.group(1)\n            start = m.end()\n            pos = start\n            expression = \"\"\n            inEqn = 1\n        if m.group() == '&amp;lt;/math&amp;gt;' :\n            end = m.start()\n            expression = '    '.join([expression,line[start:end]])\n            print title,'\\t',attr,'\\t',expression.lstrip().replace('&amp;lt;','&lt;').replace('&amp;gt;','&gt;').replace('&amp;amp;','&amp;')\n            pos = m.end()\n            expression = \"\"\n            start = 0\n            inEqn = 0\n        m = mathRE.search(line,pos)\n    if start &gt; 0 :\n        expression = line[start:].rstrip()\n    elif inEqn :\n        expression = '    '.join([expression,line.rstrip()])\n</code></pre>\n\n<p>Another option might be to consider an xml parser. A SAX or DOM based parser would be able to find the equations. This might be worth considering if you want to do more sophisticated analysis of the wiki-text. </p>\n"}], "owner": {"reputation": 8246, "user_id": 665926, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/be0f77a1a0afde9d4c90a6a484f4734b?s=128&d=identicon&r=PG", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/665926/chameleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1444431326, "creation_date": 1444420169, "question_id": 33046081, "link": "https://stackoverflow.com/questions/33046081/how-can-i-remove-math-math-multiline-sections-with-perl", "title": "How can I remove &lt;math&gt;&lt;/math&gt; multiline sections with Perl?", "body": "<p>How can I remove  multiline sections with Perl?</p>\n\n<p>I have such wiki test code:</p>\n\n<pre><code>{|\n|-\n| colspan=\"2\"|\n: &lt;math&gt;\n[\\underbrace{\\color{Red}4,2}_{4 &gt; 2},5,1,7] \\rightarrow\n[2,\\underbrace{\\color{OliveGreen}4,5}_{4 &lt; 5},1,7] \\rightarrow\n[2,4,\\underbrace{\\color{Red}5,1}_{5 &gt; 1},7] \\rightarrow\n[2,4,1,\\underbrace{\\color{OliveGreen}5,7}_{5 &lt; 7}]\n&lt;/math&gt;\n|-\n|\n: &lt;math&gt;\n[\\underbrace{\\color{OliveGreen}2,4}_{2 &lt; 4},1,5,{\\color{Blue}7}] \\rightarrow\n[2,\\underbrace{\\color{Red}4,1}_{4 &gt; 1},5,{\\color{Blue}7}] \\rightarrow\n[2,1,\\underbrace{\\color{OliveGreen}4,5}_{4 &lt; 5},{\\color{Blue}7}]\n&lt;/math&gt;\n: &lt;math&gt;\n[\\underbrace{\\color{Red}2,1}_{2 &gt; 1},4,{\\color{Blue}5},{\\color{Blue}7}] \\rightarrow\n[1,\\underbrace{\\color{OliveGreen}2,4}_{2 &lt; 4},{\\color{Blue}5},{\\color{Blue}7}]\n&lt;/math&gt;\n: &lt;math&gt;\n[\\underbrace{\\color{OliveGreen}1,2}_{1 &lt; 2},{\\color{Blue}4},{\\color{Blue}5},{\\color{Blue}7}]\n&lt;/math&gt;\n|}\n</code></pre>\n\n<p>And I want to remove from this code all  how to do it? I have done such code:</p>\n\n<pre><code>cat math-text.txt | perl -e 'while(&lt;&gt;) { s/&lt;math&gt;.+?&lt;\\/math&gt;//gs; print $_; }'\n</code></pre>\n\n<p>It is not works but should since documentation explains that <code>.</code> will much new lines. How to do it?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1444418933, "creation_date": 1444418933, "answer_id": 33045778, "question_id": 33045750, "link": "https://stackoverflow.com/questions/33045750/ignore-space-in-string-stored-in-argument-perl/33045778#33045778", "title": "Ignore space in string stored in argument perl", "body": "<p>You can simply enclose the <code>$rpt_Dir</code> variable in single quotes: </p>\n\n<pre><code>my $cmd = \"Report.exe $app_env '$rpt_Dir' $eff_date\";\n</code></pre>\n\n<p>and it will be treated as a single arguement</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444425977, "post_id": 33046609, "comment_id": 53915707, "body": "Not quite sure I&#39;m understanding it correctly, but <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\"><code>perldoc -f system</code></a> says: &quot;On Windows, only the <code>system PROGRAM LIST</code> syntax will reliably avoid using the shell; <code>system LIST</code>, even with more than one element, will fall back to the shell if the first spawn fails.&quot;"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1444422481, "creation_date": 1444422481, "answer_id": 33046609, "question_id": 33045750, "link": "https://stackoverflow.com/questions/33045750/ignore-space-in-string-stored-in-argument-perl/33046609#33046609", "title": "Ignore space in string stored in argument perl", "body": "<p>You can pass an array of args to <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\"><code>system</code></a>. If you do this, you won't be tripped over by quote interpolation. </p>\n\n<pre><code>system  ( \"Report.exe\", $app_env, $rpt_Dir, $eff_date );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1444436988, "creation_date": 1444436988, "answer_id": 33048993, "question_id": 33045750, "link": "https://stackoverflow.com/questions/33045750/ignore-space-in-string-stored-in-argument-perl/33048993#33048993", "title": "Ignore space in string stored in argument perl", "body": "<p>On Windows, the <code>system</code> call uses <code>cmd.exe</code> to process commands, so you need double quotes around any parameters that contain spaces</p>\n\n<p>Set your <code>$cmd</code> up like this</p>\n\n<pre><code>my $cmd = qq{Report.exe $app_env \"$rpt_Dir\" $eff_date};\n</code></pre>\n\n<p>The <code>qq{...}</code> construction is identical to ordinary double quotes, but it allows you to choose your own delimiters so that you don't have to escape any embedded double quotes</p>\n\n<p>Then you can write</p>\n\n<pre><code>system($cmd);\n</code></pre>\n\n<p>It is wrong to put quotes around a solitary scalar variable</p>\n"}], "owner": {"reputation": 1540, "user_id": 4807625, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/825e21cf278fa7a7f40ff21e6cc218ab?s=128&d=identicon&r=PG&f=1", "display_name": "PTN", "link": "https://stackoverflow.com/users/4807625/ptn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 33048993, "answer_count": 3, "score": 0, "last_activity_date": 1444436988, "creation_date": 1444418824, "last_edit_date": 1444418906, "question_id": 33045750, "link": "https://stackoverflow.com/questions/33045750/ignore-space-in-string-stored-in-argument-perl", "title": "Ignore space in string stored in argument perl", "body": "<p>I'm trying to execute a <code>.VB</code> script along with some other arguments.</p>\n\n<p>I'm calling <code>system(\"$cmd\")</code>, where </p>\n\n<pre><code>my $cmd = \"Report.exe $app_env $rpt_Dir $eff_date\";\n</code></pre>\n\n<p>and</p>\n\n<pre><code>my $rpt_Dir = \"\\\\\\\\server\\\\folder\\\\Target Report\\\\test\";\n</code></pre>\n\n<p>The problem I am having is that (I think) the space between <code>\"Target Report\"</code> is making the script treating it as 2 arguments.</p>\n\n<p>And the reason why I didn't just surround the path with \"\" and pass it as an argument instead of saving it to a variable is that the path changes based on the date.</p>\n\n<p>And it's not a first choice that I change the code in the <code>.VB</code> script.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6529, "user_id": 4252320, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-_DAs7Dtci9U/AAAAAAAAAAI/AAAAAAAAIf8/96ZNJAUF2Xk/photo.jpg?sz=128", "display_name": "ergonaut", "link": "https://stackoverflow.com/users/4252320/ergonaut"}, "edited": false, "score": 0, "creation_date": 1444416031, "post_id": 33045060, "comment_id": 53911005, "body": "what is the line before it?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1444416065, "post_id": 33045060, "comment_id": 53911024, "body": "Is it the last line in a subroutine ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 0, "creation_date": 1444416194, "post_id": 33045060, "comment_id": 53911104, "body": "this is the full line:    \t        get_input(\\$args_100{env}, &quot;\\n\\tAre these reports running out of the TEST environment (Y\\/N) ?&quot;,0,&#39;N&#39;,&#39;&#39;,[&#39;Y&#39;,&#39;N&#39;]) if(  uc( $ENV{USERNAME} ) =~ /$super_users/i  ) ;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1444416833, "post_id": 33045060, "comment_id": 53911418, "body": "Note that the <code>uc</code> is useless, since the match is case-insensitive (<code>&#47;i</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 6, "last_activity_date": 1444416229, "creation_date": 1444416229, "answer_id": 33045167, "question_id": 33045060, "link": "https://stackoverflow.com/questions/33045060/what-is-it-y-n-if-uc-envusername-super-users-i/33045167#33045167", "title": "what is it? [&#39;Y&#39;,&#39;N&#39;] if( uc( $ENV{USERNAME} ) =~ /$super_users/i )", "body": "<p>It is postfix if notation. See <a href=\"https://metacpan.org/pod/perlsyn#Statement-Modifiers\">Statement Modifiers in <code>perlsyn</code></a>. It is equivalent to</p>\n\n<pre><code>if ( uc( $ENV{USERNAME} ) =~ /$super_users/i ) {\n    get_input(\\$args_100{env}, \n        \"\\n\\tAre these reports running out of the TEST environment (Y\\/N) ?\",\n        0, 'N','',['Y','N']);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1444416830, "creation_date": 1444416830, "answer_id": 33045293, "question_id": 33045060, "link": "https://stackoverflow.com/questions/33045060/what-is-it-y-n-if-uc-envusername-super-users-i/33045293#33045293", "title": "what is it? [&#39;Y&#39;,&#39;N&#39;] if( uc( $ENV{USERNAME} ) =~ /$super_users/i )", "body": "<p>The short answer is that <code>['Y','N']</code> creates an array of two single-character strings, <code>\"Y\"</code> and <code>\"N\"</code>, and returns a reference to that array. That reference is being passed as the sixth and last parameter to the call to <code>get_input</code></p>\n\n<pre><code>get_input(\n   \\$args_100{env}, \n   \"\\n\\tAre these reports running out of the TEST environment (Y\\/N)?\",\n   0,\n   'N',\n   '',\n   ['Y','N']\n) if( uc( $ENV{USERNAME} ) =~ /$super_users/i ) ;   \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1444416830, "creation_date": 1444415788, "last_edit_date": 1444416322, "question_id": 33045060, "link": "https://stackoverflow.com/questions/33045060/what-is-it-y-n-if-uc-envusername-super-users-i", "title": "what is it? [&#39;Y&#39;,&#39;N&#39;] if( uc( $ENV{USERNAME} ) =~ /$super_users/i )", "body": "<p>I am tracing the program which does not belong to me. What the below expression means:   </p>\n\n<pre><code>get_input(\n   \\$args_100{env}, \n   \"\\n\\tAre these reports running out of the TEST environment (Y\\/N)?\",\n   0,\n   'N',\n   '',\n   ['Y','N']\n) if( uc( $ENV{USERNAME} ) =~ /$super_users/i ) ;   \n</code></pre>\n\n<p>I understand if statement but before if?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1444417448, "post_id": 33044291, "comment_id": 53911722, "body": "Your description is very unclear. I don&#39;t see that either of those rules causes the block containing <code>current_line  ahd&#47;ijk&#47;</code> to be discarded"}, {"owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444537594, "post_id": 33044291, "comment_id": 53942533, "body": "Hi, I will re-write it again about the question."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1444417941, "post_id": 33044377, "comment_id": 53911957, "body": "That&#39;s a hideous misuse of a regular expression. Anybody reading this code will take several minutes to understand what is going on here"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 1, "last_activity_date": 1444413134, "creation_date": 1444413134, "answer_id": 33044377, "question_id": 33044291, "link": "https://stackoverflow.com/questions/33044291/remove-the-matched-string-along-with-lines-above-and-below-the-matched-string/33044377#33044377", "title": "Remove the Matched string along with lines above and below the matched string", "body": "<pre><code>\\bstart_bug\\b(?:(?!\\bstart_bug\\b)[\\s\\S])*?\\bsgd\\b(?:(?!\\bstart_bug\\b)[\\s\\S])*\n</code></pre>\n\n<p>You can use this regex and replace by <code>empty string</code>.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/mG8kZ9/6\" rel=\"nofollow\">https://regex101.com/r/mG8kZ9/6</a></p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1444426487, "post_id": 33045535, "comment_id": 53915913, "body": "I think this is another good example of how just because you can regex, doesn&#39;t mean you should."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1444436281, "last_edit_date": 1444436281, "creation_date": 1444417888, "answer_id": 33045535, "question_id": 33044291, "link": "https://stackoverflow.com/questions/33044291/remove-the-matched-string-along-with-lines-above-and-below-the-matched-string/33045535#33045535", "title": "Remove the Matched string along with lines above and below the matched string", "body": "<p>Your problem description is very unclear, but if this solution is correct then I think it's much simpler to read than a regex-based substitution. It sets <code>$/</code> to the empty string to enable paragraph input mode, and prints each paragraph unless it contains <code>sgd</code> or <code>current_line abc</code></p>\n\n<p>This program expects the path to the input file as a parameter on the command line</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $file = shift;\n\nopen my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n\nlocal $/ = '';\n\nwhile ( &lt;$fh&gt; ) {\n    print unless /sgd/ or /current_line\\s+abc/;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>start_bug\ncurrent_line  dsfd\nins_bug {[hds/hdf/123]}\n\nstart_bug\ncurrent_line  hjkd\nins_bug {[hds/hdf/123]}\nins_bug {[dfv/1235/465]}\nins_bug {[dsf/dfdg/dfdfd]}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4959823, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-ple1O0zA5RY/AAAAAAAAAAI/AAAAAAAAFuQ/gjbYsGTQOYg/photo.jpg?sz=128", "display_name": "SKG", "link": "https://stackoverflow.com/users/4959823/skg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 33044377, "answer_count": 2, "score": 1, "last_activity_date": 1444537774, "creation_date": 1444412824, "last_edit_date": 1444537774, "question_id": 33044291, "link": "https://stackoverflow.com/questions/33044291/remove-the-matched-string-along-with-lines-above-and-below-the-matched-string", "title": "Remove the Matched string along with lines above and below the matched string", "body": "<p>I have a set of strings in a log. \nI want to match a particular word in a line and want to remove the strings above and below it.</p>\n\n<p>--> first, I want to match \"sgd\" and remove the strings which contains \"sgd\" </p>\n\n<p>--> second, I want to match \"current_line abc\". If this matches, I dont want to print any \"ins_bug\" line.</p>\n\n<p>Input:</p>\n\n<pre><code>  start_bug\n  current_line  hdl/hjk/\n  ins_bug {[sgd/hsjfk/123]}\n\n\n  start_bug\n  current_line  dsfd\n  ins_bug {[hds/hdf/123]}\n\n\n\n  start_bug\n  current_line  ahd/ijk/\n  ins_bug {[sgd/hsjfk/123]}\n\n  start_bug\n  current_line  abc\n  ins_bug {[hk/hsjfk/123]}\n  ins_bug {[hkcd/1235/465]}\n  ins_bug {[hdkc/563/545]}\n\n  start_bug\n  current_line  hjkd\n  ins_bug {[hds/hdf/123]}\n  ins_bug {[dfv/1235/465]}\n  ins_bug {[dsf/dfdg/dfdfd]}\n\n  start_bug\n  current_line  abc\n  ins_bug {[dgds/hsgds/412]}\n</code></pre>\n\n<p>Output </p>\n\n<pre><code>  start_bug\n  current_line  hdl/hjk/\n\n  start_bug\n  current_line  dsfd\n  ins_bug {[hds/hdf/123]}\n\n  start_bug\n  current_line  ahd/ijk/\n\n  start_bug\n  current_line  hjkd\n  ins_bug {[hds/hdf/123]}\n  ins_bug {[dfv/1235/465]}\n  ins_bug {[dsf/dfdg/dfdfd]} \n</code></pre>\n"}, {"tags": ["perl", "syntax-error"], "answers": [{"comments": [{"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 1, "creation_date": 1444400222, "post_id": 33040162, "comment_id": 53901798, "body": "Or <code>m{(&#47;)}</code> or even m&lt;(/)&gt;...  Depending on what would look more readable."}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "reply_to_user": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 1, "creation_date": 1444400489, "post_id": 33040162, "comment_id": 53901969, "body": "I thought three proposals would be sufficient. =)"}, {"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 0, "creation_date": 1444402419, "post_id": 33040162, "comment_id": 53903298, "body": "Sure, three is enough."}], "tags": [], "owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "is_accepted": false, "score": 8, "last_activity_date": 1444405035, "last_edit_date": 1444405035, "creation_date": 1444399025, "answer_id": 33040162, "question_id": 33040112, "link": "https://stackoverflow.com/questions/33040112/unmatched-in-regex-marked-by-here-in-m-here-error-perl/33040162#33040162", "title": "Unmatched ( in regex; marked by &lt;-- HERE in m/( &lt;-- HERE error perl", "body": "<p>Use</p>\n\n<pre><code>@temp=split(/(\\/)/,$headerLine);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@temp=split(m&amp;(/)&amp;,$headerLine);\n</code></pre>\n\n<p>The slash in the parentheses prematurely terminates your regular expression.</p>\n"}, {"tags": [], "owner": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "is_accepted": false, "score": 6, "last_activity_date": 1444399729, "last_edit_date": 1444399729, "creation_date": 1444399418, "answer_id": 33040306, "question_id": 33040112, "link": "https://stackoverflow.com/questions/33040112/unmatched-in-regex-marked-by-here-in-m-here-error-perl/33040306#33040306", "title": "Unmatched ( in regex; marked by &lt;-- HERE in m/( &lt;-- HERE error perl", "body": "<p>Your second <code>/</code> character is terminating the regular expression, so Perl is interpreting your code as:</p>\n\n<pre><code>@temp=split /(/\n</code></pre>\n\n<p>followed by garbage.</p>\n\n<p>Simply escape the literal <code>/</code>:</p>\n\n<pre><code>@temp=split(/(\\/)/, $headerLine)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4267858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c00e0e4a68cf8fc4452fe00f3689c4?s=128&d=identicon&r=PG&f=1", "display_name": "hahn", "link": "https://stackoverflow.com/users/4267858/hahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3334, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1444405035, "creation_date": 1444398887, "question_id": 33040112, "link": "https://stackoverflow.com/questions/33040112/unmatched-in-regex-marked-by-here-in-m-here-error-perl", "title": "Unmatched ( in regex; marked by &lt;-- HERE in m/( &lt;-- HERE error perl", "body": "<p>I can't fix this error...</p>\n\n<pre><code>@temp=split(/(/)/,$headerLine);\n</code></pre>\n\n<p>this error appears</p>\n\n<pre><code>Unmatched ( in regex; marked by &lt;-- HERE in m/( &lt;-- HERE\n</code></pre>\n"}, {"tags": ["perl", "serialization"], "answers": [{"comments": [{"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 0, "creation_date": 1444409972, "post_id": 33043452, "comment_id": 53907935, "body": "Ah, I see, thank you. But still, after the data was stored I&#39;d like to see it intact. I think <a href=\"https://metacpan.org/pod/JSON::XS\" rel=\"nofollow noreferrer\">JSON::XS</a>&#39;s TO_JSON does this in a more consistent manner."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 1, "creation_date": 1444411139, "post_id": 33043452, "comment_id": 53908550, "body": "@Dallaylaen You could try Data::Dump&#39;s filtering feature. I haven&#39;t used it but it looks nice. I added a link to my answer."}, {"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 0, "creation_date": 1444412196, "post_id": 33043452, "comment_id": 53909075, "body": "Data::Dump seems reasonable but unfortunately I cannot install modules on a whim. Thanks anyway."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 4, "last_activity_date": 1444410989, "last_edit_date": 1444410989, "creation_date": 1444409307, "answer_id": 33043452, "question_id": 33039801, "link": "https://stackoverflow.com/questions/33039801/datadumperfreezer-proper-usage/33043452#33043452", "title": "Data::Dumper::Freezer proper usage", "body": "<p>Although the documentation is a bit sparse, the intended use of freezer/toaster is data serialization/de-serialization, not prettification of debugging output.</p>\n\n<p>So, Data::Dumper calls the freezer method, but doesn't use the return value. The idea is probably that if you're going to serialize an object, you won't be messing with it again until you de-serialize it, so there's no problem with changing the object itself.</p>\n\n<p>Here's the <a href=\"https://metacpan.org/source/SMUELLER/Data-Dumper-2.154/Dumper.pm#L289\" rel=\"nofollow\">relevant section of code</a> from the Data::Dumper source:</p>\n\n<pre><code># Call the freezer method if it's specified and the object has the\n# method.  Trap errors and warn() instead of die()ing, like the XS\n# implementation.\nmy $freezer = $s-&gt;{freezer};\nif ($freezer and UNIVERSAL::can($val, $freezer)) {\n  eval { $val-&gt;$freezer() };\n  warn \"WARNING(Freezer method call failed): $@\" if $@;\n}\n</code></pre>\n\n<hr>\n\n<p>If you just want to reduce the size of the output in your logs, you can remove newlines and indentation by setting <code>$Data::Dumper::Indent</code> to zero:</p>\n\n<pre><code>use Data::Dumper;\nuse WWW::Mechanize;\n\n$Data::Dumper::Indent = 0;\nmy $mech = WWW::Mechanize-&gt;new;\nprint Dumper $mech;\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$VAR1 = bless( {'headers' =&gt; {},'ssl_opts' =&gt; {'verify_hostname' =&gt; 1},'forms' =&gt; undef,'page_stack' =&gt; [],'text' =&gt; undef,'requests_redirectable' =&gt; ['GET','HEAD','POST'],'timeout' =&gt; 180,'onerror' =&gt; sub { \"DUMMY\" },'current_form' =&gt; undef,'links' =&gt; undef,'max_redirect' =&gt; 7,'quiet' =&gt; 0,'images' =&gt; undef,'noproxy' =&gt; 0,'stack_depth' =&gt; 8675309,'show_progress' =&gt; undef,'protocols_forbidden' =&gt; undef,'no_proxy' =&gt; [],'handlers' =&gt; {'request_prepare' =&gt; bless( [{'owner' =&gt; 'LWP::UserAgent::cookie_jar','callback' =&gt; sub { \"DUMMY\" },'line' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.16.3/lib/site_perl/5.16.3/LWP/UserAgent.pm:705'}], 'HTTP::Config' ),'response_header' =&gt; bless( [{'owner' =&gt; 'LWP::UserAgent::parse_head','callback' =&gt; sub { \"DUMMY\" },'m_media_type' =&gt; 'html','line' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.16.3/lib/site_perl/5.16.3/LWP/UserAgent.pm:684'}], 'HTTP::Config' ),'response_done' =&gt; bless( [{'owner' =&gt; 'LWP::UserAgent::cookie_jar','callback' =&gt; sub { \"DUMMY\" },'line' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.16.3/lib/site_perl/5.16.3/LWP/UserAgent.pm:708'}], 'HTTP::Config' )},'onwarn' =&gt; sub { \"DUMMY\" },'protocols_allowed' =&gt; undef,'use_eval' =&gt; 1,'local_address' =&gt; undef,'autocheck' =&gt; 1,'title' =&gt; undef,'def_headers' =&gt; bless( {'user-agent' =&gt; 'WWW-Mechanize/1.75'}, 'HTTP::Headers' ),'cookie_jar' =&gt; bless( {'COOKIES' =&gt; {}}, 'HTTP::Cookies' ),'proxy' =&gt; {},'max_size' =&gt; undef}, 'WWW::Mechanize' );\n</code></pre>\n\n<p>This is still a lot of output, but it's certainly more compact than:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$VAR1 = bless( {\n                 'headers' =&gt; {},\n                 'ssl_opts' =&gt; {\n                                 'verify_hostname' =&gt; 1\n                               },\n                 'forms' =&gt; undef,\n                 'page_stack' =&gt; [],\n                 'text' =&gt; undef,\n                 'requests_redirectable' =&gt; [\n                                              'GET',\n                                              'HEAD',\n                                              'POST'\n                                            ],\n                 'timeout' =&gt; 180,\n                 'onerror' =&gt; sub { \"DUMMY\" },\n                 'current_form' =&gt; undef,\n                 'links' =&gt; undef,\n                 'max_redirect' =&gt; 7,\n                 'quiet' =&gt; 0,\n                 'images' =&gt; undef,\n                 'noproxy' =&gt; 0,\n                 'stack_depth' =&gt; 8675309,\n                 'show_progress' =&gt; undef,\n                 'protocols_forbidden' =&gt; undef,\n                 'no_proxy' =&gt; [],\n                 'handlers' =&gt; {\n                                 'request_prepare' =&gt; bless( [\n                                                               {\n                                                                 'owner' =&gt; 'LWP::UserAgent::cookie_jar',\n                                                                 'callback' =&gt; sub { \"DUMMY\" },\n                                                                 'line' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.16.3/lib/site_perl/5.16.3/LWP/UserAgent.pm:705'\n                                                               }\n                                                             ], 'HTTP::Config' ),\n                                 'response_header' =&gt; bless( [\n                                                               {\n                                                                 'owner' =&gt; 'LWP::UserAgent::parse_head',\n                                                                 'callback' =&gt; sub { \"DUMMY\" },\n                                                                 'm_media_type' =&gt; 'html',\n                                                                 'line' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.16.3/lib/site_perl/5.16.3/LWP/UserAgent.pm:684'\n                                                               }\n                                                             ], 'HTTP::Config' ),\n                                 'response_done' =&gt; bless( [\n                                                             {\n                                                               'owner' =&gt; 'LWP::UserAgent::cookie_jar',\n                                                               'callback' =&gt; sub { \"DUMMY\" },\n                                                               'line' =&gt; '/home/foo/perl5/perlbrew/perls/perl-5.16.3/lib/site_perl/5.16.3/LWP/UserAgent.pm:708'\n                                                             }\n                                                           ], 'HTTP::Config' )\n                               },\n                 'onwarn' =&gt; sub { \"DUMMY\" },\n                 'protocols_allowed' =&gt; undef,\n                 'use_eval' =&gt; 1,\n                 'local_address' =&gt; undef,\n                 'autocheck' =&gt; 1,\n                 'title' =&gt; undef,\n                 'def_headers' =&gt; bless( {\n                                           'user-agent' =&gt; 'WWW-Mechanize/1.75'\n                                         }, 'HTTP::Headers' ),\n                 'cookie_jar' =&gt; bless( {\n                                          'COOKIES' =&gt; {}\n                                        }, 'HTTP::Cookies' ),\n                 'proxy' =&gt; {},\n                 'max_size' =&gt; undef\n               }, 'WWW::Mechanize' );\n</code></pre>\n\n<p>Alternatively, you could try <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow\">Data::Dump</a>, which allows you to filter the output using <a href=\"https://metacpan.org/pod/Data::Dump::Filtered\" rel=\"nofollow\">Data::Dump::Filtered</a>. I prefer Data::Dump to Data::Dumper anyway because I think it has more sensible defaults (e.g. outputting escape sequences for whitespace other than spaces). </p>\n\n<p>I haven't used the filtering feature yet, but brian d foy wrote <a href=\"http://www.effectiveperlprogramming.com/2011/02/use-datadump-filters-for-nicer-pretty-printing/\" rel=\"nofollow\">a nice article</a> about it with several examples.</p>\n"}], "owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 33043452, "answer_count": 1, "score": 2, "last_activity_date": 1444410989, "creation_date": 1444398003, "question_id": 33039801, "link": "https://stackoverflow.com/questions/33039801/datadumperfreezer-proper-usage", "title": "Data::Dumper::Freezer proper usage", "body": "<p>I'm trying to log data structures in an old and big Perl project. In order to do so, I use <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow\">Data::Dumper</a>, however, some structures are a bit too large and spam the log. So I'm looking for a way to log them in a less verbose manner.</p>\n\n<p>Now Dumper's doc mentions <code>$Data::Dumper::Freezer = &lt;method_name&gt;</code> variable that can be used to fix that. I've tried using that. </p>\n\n<p>Adding a serializer method that returns \"shortened\" value results in nothing, though the method gets called. Making the serializer method act on $_[0] causes the needed effect, but spoils the original data structure.</p>\n\n<p>I'm confused. What am I doing wrong? How can I fix it?</p>\n\n<p>Here's a refined sample code: </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n$Data::Dumper::Indent = 0;\n$\\=\"\\n\";\n\nmy $x = Foo-&gt;new ( answer =&gt; 42, use =&gt; \"force\" );\nmy $y = { foo =&gt; $x };\n\nprint \"initial plain:\\n\\t\", Dumper( $x );\nprint \"initial compound:\\n\\t\", Dumper( $y );\n\n{\n    local $Data::Dumper::Freezer = 'freeze_pure';\n    print \"still not abbreviated data:\\n\\t\", Dumper( $y );\n};\n{\n    local $Data::Dumper::Freezer = 'freeze_replace';\n    print \"abbreviated data:\\n\\t\", Dumper( $y );\n};\n\nprint \"initial data is still intact:\\n\\t\", Dumper( $x );\nprint \"compound data is corrupted:\\n\\t\", Dumper( $y );\n\npackage Foo;\n\nsub new {\n    my $class = shift;\n    return bless { @_ }, $class;\n};\n\nsub freeze_pure {\n    my $self = $_[0];\n    warn \"# In freeze_pure\";\n    return bless { \n        values =&gt; join \",\", values %$self \n    }, (ref $self) . \"::short\";\n};\n\nsub freeze_replace {\n    my $self = $_[0];\n    warn \"# In freeze_replace\";\n    $_[0] = bless {\n        values =&gt; join \",\", values %$self \n    }, (ref $self) . \"::short\";\n    return;\n};\n</code></pre>\n\n<p>And output:</p>\n\n<pre><code>initial plain:\n    $VAR1 = bless( {'use' =&gt; 'force','answer' =&gt; 42}, 'Foo' );\ninitial compound:\n    $VAR1 = {'foo' =&gt; bless( {'use' =&gt; 'force','answer' =&gt; 42}, 'Foo' )};\n# In freeze_pure at dumper-freezer.pl line 36.\nstill not abbreviated data:\n    $VAR1 = {'foo' =&gt; bless( {'use' =&gt; 'force','answer' =&gt; 42}, 'Foo' )};\n# In freeze_replace at dumper-freezer.pl line 42.\nabbreviated data:\n    $VAR1 = {'foo' =&gt; bless( {'values' =&gt; 'force,42'}, 'Foo::short' )};\ninitial data is still intact:\n    $VAR1 = bless( {'use' =&gt; 'force','answer' =&gt; 42}, 'Foo' );\ncompound data is corrupted:\n    $VAR1 = {'foo' =&gt; bless( {'values' =&gt; 'force,42'}, 'Foo::short' )};\n</code></pre>\n"}, {"tags": ["perl", "loops", "filehandle"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1444396781, "post_id": 33039335, "comment_id": 53899413, "body": "<code>... or die &quot;cannot write file &#39;$_.txt&#39;: $!&quot;;</code> so that you can see the reason why."}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 4, "creation_date": 1444396846, "post_id": 33039335, "comment_id": 53899470, "body": "You may well be hitting a file handle limit. If so, it has nothing to do with the loop. It&#39;s a limit on the number of file handles opened (in whatever way) by one process at one time."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1444396857, "post_id": 33039335, "comment_id": 53899475, "body": "Oh, and having 500+ file handles open at the same time does not seem like a smart idea. Is there any reason you cannot just open the files when you need them?"}, {"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "edited": false, "score": 4, "creation_date": 1444397015, "post_id": 33039335, "comment_id": 53899589, "body": "you can check the &quot;open files&quot; limit with the shell command <code>ulimit -n</code> if you are on a linux or unix system"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1444397148, "post_id": 33039335, "comment_id": 53899682, "body": "And you might want to use lexical filehandles and work with those. This whole <code>local</code> business seems rather outdated. <code>foreach(@foo){ open my $fh, &#39;&gt;&#39;, &quot;$_.txt&quot; or die $!; push @fhs, $fh; }</code>"}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444398809, "post_id": 33039335, "comment_id": 53900846, "body": "Error:    Can&#39;t use an undefined value as a symbol reference at ./pe-files-check.pl line 141, &lt;R2&gt; line 43917872."}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444398972, "post_id": 33039335, "comment_id": 53900991, "body": "umimit -u is: 514621"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1444402040, "post_id": 33039335, "comment_id": 53903035, "body": "This sounds like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a> - what are you trying to accomplish?"}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444403435, "post_id": 33039335, "comment_id": 53904040, "body": "Trying to split fastq file into many files based on some match so output files can be more than 500. Giving two input files - one for match and other content. Put match in different files."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444404701, "post_id": 33039335, "comment_id": 53904865, "body": "Seems fine, but why do you need to open all of them concurrently in that case?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1444408489, "post_id": 33039335, "comment_id": 53907142, "body": "how big is the input file (in bytes, not lines)?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444411501, "post_id": 33039335, "comment_id": 53908738, "body": "It doesn&#39;t take that long to open a file. Just open the file before you need to print to it, then close it when you&#39;re done printing instead of keep all the files open at once."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444426634, "post_id": 33039335, "comment_id": 53915978, "body": "Particularly if it is open for writing - write IO caches nicely."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444398993, "post_id": 33039510, "comment_id": 53901007, "body": "please let me know how can I do?"}, {"owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "reply_to_user": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 1, "creation_date": 1444399811, "post_id": 33039510, "comment_id": 53901576, "body": "Try <code>ulimit -n ulimited</code>. But you might need root privilege for that."}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444403152, "post_id": 33039510, "comment_id": 53903828, "body": "with root:    ulimit -n 3000 -bash: ulimit: open files: cannot modify limit: Operation not permitted"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444404676, "post_id": 33039510, "comment_id": 53904850, "body": "Your sysadmin has restricted you from doing this. You&#39;re out of luck. You can probably ask them to assist."}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444406330, "post_id": 33039510, "comment_id": 53905930, "body": "I have got root access, also tried with admin  ulimit -n 30000 -bash: ulimit: open files: cannot modify limit: Operation not permitted"}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444407862, "post_id": 33039510, "comment_id": 53906785, "body": "Now, ulimit -n 3000 worked and same code is working for &gt;500 fh. Thanks. Maybe it will work for 3000 files. If I need &gt; 3000 fh, will spin my head."}], "tags": [], "owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "is_accepted": true, "score": 1, "last_activity_date": 1444397185, "creation_date": 1444397185, "answer_id": 33039510, "question_id": 33039335, "link": "https://stackoverflow.com/questions/33039335/perl-filehandles-in-loop-error/33039510#33039510", "title": "perl filehandles in loop error", "body": "<p>I do not think this is a Perl problem. I ran it with 1000 files, no problem. There is a per process limit to the number of open files that you can display (and possibly set) using ulimit.</p>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444398923, "post_id": 33039662, "comment_id": 53900940, "body": "I know that I need to make more than 502 and need to know the order of dile opened so that that it can be filled accordingly because opening later may be difficult to know which opened when to fill."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444404824, "post_id": 33039662, "comment_id": 53904949, "body": "@SSh So you are saying that you think that an array with file handles will be easier to keep track of than an array of file names....? Because that is clearly wrong. Order is order, whether it is file names or file handles."}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444405745, "post_id": 33039662, "comment_id": 53905578, "body": "ok, if I got right- you mean check whole file and make array and print to file. I have got file (to check) with 40M lines and I want to check each line at a same time to match and print to several files at the same time. Otherwise, I need to look for each match in whole file, number of times which will be equal to number of match to search, am I correct?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1444408443, "post_id": 33039662, "comment_id": 53907116, "body": "@TLP: I would expect a significant difference opening a file each time you want to write a line"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444409896, "post_id": 33039662, "comment_id": 53907893, "body": "@SSh I&#39;m not quite sure what you mean. It is difficult to give advice with so little info. If I had to write to multiple files, I would open one at the time."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1444411212, "post_id": 33039662, "comment_id": 53908588, "body": "@TLP: yes, significant in human terms.  opening (and closing) a file is expensive.  42 seconds: <code>seq 1000000 | perl -wle&#39;while (&lt;&gt;) { open my $fh, &quot;&gt;&gt;&quot;, &quot;out&quot;; print $fh $_ }&#39;</code>  0.3 seconds: <code>seq 1000000 | perl -wle&#39;open my $fh, &quot;&gt;&gt;&quot;, &quot;out&quot;; while (&lt;&gt;) { print $fh $_ }&#39;</code>"}, {"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1444411430, "post_id": 33039662, "comment_id": 53908704, "body": "@TLP: I have got two files one (match file) with file name and corresponding string (strings are unique barcode) to look into file (fastq file) with many strings (4M strings to check which part (substring) is same as in match file). I am matching string that is in the match file and checking in 4M strings. I am passing string from fastq file one by one to loop and checking to all match string, if match to one barcode (will never match to two or more barcodes), printing at the same time to corresponding FH. But, multiple strings goes to same FH if barcode match."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1444425985, "post_id": 33039662, "comment_id": 53915710, "body": "@ysth <a href=\"http://pastebin.com/3TqEkhQH\" rel=\"nofollow noreferrer\">pastebin.com/3TqEkhQH</a> Shows file handle storage is 44% slower for 1000 file handles. Your code is not equivalent, as it only shows opening one file one time. You should know better."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1444429331, "post_id": 33039662, "comment_id": 53916902, "body": "you are only printing to each file once there; that&#39;s a little different from printing 40 million or 4 million strings (both numbers were given different places here) to 500+ files.  but it is still a fair point; I showed printing to one file a million times, where it it should have been somewhere in the 4000-80000 range."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 0, "last_activity_date": 1444397628, "creation_date": 1444397628, "answer_id": 33039662, "question_id": 33039335, "link": "https://stackoverflow.com/questions/33039335/perl-filehandles-in-loop-error/33039662#33039662", "title": "perl filehandles in loop error", "body": "<p>While there may be limitations of your system that prevents this many file handles being open at the same time, there is also the fact that this is a brute force solution that is not necessary, or very practical. I will wager that you will not notice a significant performance difference if you simply open a file when you need it, rather than have all of your files open at once. </p>\n\n<p>For example:</p>\n\n<pre><code>write_to_file($file, @lines);\n\nsub write_to_file {\n    my ($file, @lines) = @_;\n    open my $fh, \"&gt;&gt;\", $file or die \"Cannot open file '$file' for appending: $!\";\n    print $fh @lines;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1444405363, "last_edit_date": 1444405363, "creation_date": 1444404162, "answer_id": 33041960, "question_id": 33039335, "link": "https://stackoverflow.com/questions/33039335/perl-filehandles-in-loop-error/33041960#33041960", "title": "perl filehandles in loop error", "body": "<p>Psuedo-filehandles do not count against your system limit of open filehandles. Depending on your memory requirements, it might be feasible to write your output to memory and then write your memory to disk (one file at a time) at the end of your script.</p>\n\n<p>For example:</p>\n\n<pre><code>my (@fh_array, %output);\nforeach my $file_name (@file_names) {\n    $output{$file_name} = '';\n    open my $fh, '&gt;', \\$output{$file_name};\n    push @fh_array, $fh;\n}\n\n# main part of program, print to handles in @fh_array\n... print {$fh_array[185]} \"Hello\\n\" ...\n\n# end of program. Copy from memory to disk with one open fh at a time\nclose $_ for @fh_array;\nforeach my $file_name (keys %output) {\n    open my $fh, '&gt;', $file_name;\n    print $fh $output{$file_name};\n    close $fh;\n}\n</code></pre>\n\n<p>There are almost surely better ways to design your program without having to have so many filehandles open simultaneously or to have this extra complexity.</p>\n"}], "owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 33039510, "answer_count": 3, "score": 0, "last_activity_date": 1444405363, "creation_date": 1444396643, "last_edit_date": 1444403734, "question_id": 33039335, "link": "https://stackoverflow.com/questions/33039335/perl-filehandles-in-loop-error", "title": "perl filehandles in loop error", "body": "<p>Trying to split fastq file into many files based on match present in a file so output files can be more than 500. Giving two input files - one for match and other content(fastq). Put match in different files. This code works perfectly but cannot create more than 502 files. Above 502, says cannot make file. Is that the limit of filehandles in loop. I need to create > 502 files at a time. Any solutions? Thanks</p>\n\n<pre><code>my @fh_array;\n foreach(@file_names){\n    chomp $_;\n    local *OUT;\n    open (OUT, \"&gt;\", \"$_\\.txt\") or die \"cannot write file\";\n    push @fh_array, *OUT;\n\n}\n\n    # In for loop, it works\n    print $fh_array[0] \"Hello\";\n</code></pre>\n"}, {"tags": ["perl", "getopt-long"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1444396068, "post_id": 33038501, "comment_id": 53898918, "body": "Example with Getopt::Long + Pod::Usage  <a href=\"http://stackoverflow.com/questions/22104215/how-to-get-getoptlong-pod2usage-working\" title=\"how to get getoptlong pod2usage working\">stackoverflow.com/questions/22104215/&hellip;</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1444396130, "post_id": 33038501, "comment_id": 53898971, "body": "Another example: <a href=\"http://www.perlmonks.org/?node_id=155288\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=155288</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1444396223, "post_id": 33038501, "comment_id": 53899045, "body": "More recent, easier to read example:  <a href=\"https://gist.github.com/sirhc/621139\" rel=\"nofollow noreferrer\">gist.github.com/sirhc/621139</a>"}, {"owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 3, "creation_date": 1444399866, "post_id": 33038501, "comment_id": 53901611, "body": "I opened a new ticket for this: <a href=\"https://rt.cpan.org/Ticket/Display.html?id=107662\" rel=\"nofollow noreferrer\">rt.cpan.org/Ticket/Display.html?id=107662</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1444401216, "post_id": 33038501, "comment_id": 53902433, "body": "And I&#39;ve added a note on AnnoCPAN - <a href=\"http://www.annocpan.org/~RUEYCHENG/Getopt-Lazy-v0.0.6/lib/Getopt/Lazy.pm\" rel=\"nofollow noreferrer\">annocpan.org/~RUEYCHENG/Getopt-Lazy-v0.0.6/lib/Getopt/Lazy.p&zwnj;&#8203;m</a> (not that anyone looks at AnnoCPAN any more)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1444464015, "post_id": 33038501, "comment_id": 53923933, "body": "Looks like the RT ticket did the trick. New version on CPAN with a fixed synopsis."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1444400978, "last_edit_date": 1444400978, "creation_date": 1444398681, "answer_id": 33040028, "question_id": 33038501, "link": "https://stackoverflow.com/questions/33038501/getoptlazy-does-not-print-usage-message-or-anything-else/33040028#33040028", "title": "Getopt::Lazy does not print usage message or anything else", "body": "<p>The <a href=\"https://metacpan.org/pod/Getopt::Lazy#SYNOPSIS\" rel=\"nofollow\">SYNOPSIS</a> for that module is completely out of step with the actual code. There are no functions called <code>getopt</code> or <code>usage</code> in the code. They are actually called <code>GetOptions</code> and <code>Getopt::Lazy::show_help</code> (yes, one is exported, the other is not - who knows why). Rewriting the example like this will work:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse Getopt::Lazy\n        'help|h' =&gt; 'Show this help screen',\n        'verbose|v' =&gt; 'Show verbose output',\n        'output|o=s' =&gt; [\"[FILE] Send the output to FILE\", 'getopt.out'],\n        'output-encoding=s' =&gt; ['[ENCODING] Specify the output encoding', 'utf8'],\n        -summary =&gt; 'a simple example usage of Getopt::Lazy',\n        -usage =&gt; '%c %o file1 [file2 ..]',\n        ;\nGetOptions;\nGetopt::Lazy::show_help and exit 1 unless @ARGV;\n</code></pre>\n\n<p>But given the quality of the documentation and given that the module was apparently abandoned by its author seven and a half years ago, I wouldn't let it anywhere near any of my projects. You would be far better advised to use one of the solutions suggested by other people in the comments above.</p>\n"}], "owner": {"reputation": 750, "user_id": 519151, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/480c0be1bd2a9c44dc676daf9f4d157f?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/519151/isaac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 33040028, "answer_count": 1, "score": 1, "last_activity_date": 1444400978, "creation_date": 1444394236, "last_edit_date": 1444395903, "question_id": 33038501, "link": "https://stackoverflow.com/questions/33038501/getoptlazy-does-not-print-usage-message-or-anything-else", "title": "Getopt::Lazy does not print usage message or anything else", "body": "<p>I need some help using perls Getopt::Lazy module. I tried the example from the cpan page:</p>\n\n<pre><code>#!/usr/bin/perl\n#\n#use warnings;\n#use strict;\nuse Getopt::Lazy\n        'help|h' =&gt; 'Show this help screen',\n        'verbose|v' =&gt; 'Show verbose output',\n        'output|o=s' =&gt; [\"[FILE] Send the output to FILE\", 'getopt.out'],\n        'output-encoding=s' =&gt; ['[ENCODING] Specify the output encoding', 'utf8'],\n        -summary =&gt; 'a simple example usage of Getopt::Lazy',\n        -usage =&gt; '%c %o file1 [file2 ..]',\n        ;\ngetopt;\nprint usage and exit 1 unless @ARGV;\n</code></pre>\n\n<p>When I put it in a file and execute it like <code>./mygetopt.pl -h</code> , I would expect the help message to be printed, but nothing happens. When I call it without the <code>-h</code> argument, I would expect it to print the usage message. Nothing like this happens. Also, when I use strict and warnings, I get messages like </p>\n\n<pre><code>Unquoted string \"usage\" may clash with future reserved word at ./mygetopt.pl line 14.\nBareword \"getopt\" not allowed while \"strict subs\" in use at ./mygetopt.pl line 13.\nExecution of ./mygetopt.pl aborted due to compilation errors.\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["git", "perl", "shell", "crontab"], "answers": [{"tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": false, "score": 3, "last_activity_date": 1444389753, "creation_date": 1444389753, "answer_id": 33037010, "question_id": 33036881, "link": "https://stackoverflow.com/questions/33036881/starting-a-script-via-cronjob-from-a-specific-directory-for-automated-git-uploa/33037010#33037010", "title": "Starting a script via Cronjob from a specific directory (for automated git upload)?", "body": "<p>In you perl script change the directory to your git repo directory:</p>\n\n<pre><code>chdir(\"&lt;git repo dir&gt;\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 5077887, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8c4701cc91b4063d22aeaf90df3a5f4?s=128&d=identicon&r=PG&f=1", "display_name": "Donselm", "link": "https://stackoverflow.com/users/5077887/donselm"}, "edited": false, "score": 0, "creation_date": 1444649687, "post_id": 33037274, "comment_id": 53976624, "body": "Thank you for your reply. This was exactly the answer i was looking for. Works perfectly as intended!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1444390524, "last_edit_date": 1492086984, "creation_date": 1444390524, "answer_id": 33037274, "question_id": 33036881, "link": "https://stackoverflow.com/questions/33036881/starting-a-script-via-cronjob-from-a-specific-directory-for-automated-git-uploa/33037274#33037274", "title": "Starting a script via Cronjob from a specific directory (for automated git upload)?", "body": "<p>In your cronjob, make the current job <code>cd</code> to the working directory first, then call the script from there.</p>\n\n<pre><code>30 0 * * * cd /home/......../gitprojectfolder/ &amp;&amp; sh cronjob.sh\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p>At the moment your <code>cronjob.sh</code> gets invoked by crontab in your home dir. You can check that by adding a cronjob to write the working directory in a file.</p>\n\n<pre><code>40 13 * * * pwd &gt;whereami.txt\n</code></pre>\n\n<p>Of course, adjust the date and time accordingly.</p>\n\n<p>Also see <a href=\"https://unix.stackexchange.com/q/38951/25912\">this question on Linux &amp; Unix SE</a> for a more detailed explanation.</p>\n"}], "owner": {"reputation": 67, "user_id": 5077887, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8c4701cc91b4063d22aeaf90df3a5f4?s=128&d=identicon&r=PG&f=1", "display_name": "Donselm", "link": "https://stackoverflow.com/users/5077887/donselm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 33037274, "answer_count": 2, "score": 1, "last_activity_date": 1444399917, "creation_date": 1444389336, "last_edit_date": 1444399917, "question_id": 33036881, "link": "https://stackoverflow.com/questions/33036881/starting-a-script-via-cronjob-from-a-specific-directory-for-automated-git-uploa", "title": "Starting a script via Cronjob from a specific directory (for automated git upload)?", "body": "<p>I have a git repository and every night I want to have a cronjob which loads processed data into my git repository.</p>\n\n<p>So first I call a shell script with the cronjob daily:</p>\n\n<pre><code>30 0 * * * sh /home/......../gitprojectfolder/cronjob.sh\n</code></pre>\n\n<p>This shell file produces mysql backup output. After the backups are produced, it converts the backups into a new document by using a Perl script.</p>\n\n<p>That is how the Perl script is called (by absolute path &lt;= this works):</p>\n\n<pre><code>perl /home/....../gitprojectfolder/upload_documents.pl\n</code></pre>\n\n<p>The Perl script then also starts the git upload after it has produced the new documents.</p>\n\n<p>That is how the relevant lines in the Perl code looks:</p>\n\n<pre><code>system(\"git add --all\");\nsystem(\"git commit -am 'Upload of public documents'\");\nsystem(\"git push https://*******.git\");\n</code></pre>\n\n<p>When I go to the directory with the git project folder on my server:</p>\n\n<pre><code>cd gitprojectfolder\n# followed by my script\nperl upload_documents.pl\n</code></pre>\n\n<p>Then the git upload is working.</p>\n\n<p>If I invoke the Perl script via the cronjob:</p>\n\n<pre><code>perl /home/...../gitprojectfolder/upload_documents.pl\n</code></pre>\n\n<p>or if I invoke it from any other directory, then the upload does not work:</p>\n\n<pre><code>fatal: Not a git repository (or any parent up to mount point /home)\n</code></pre>\n\n<p>So it seems that I can only use my script when I am logged into my console and start the Perl script from the gitprojectfolder. So my script needs to get invoked from there.</p>\n\n<p>Does anyone know how this is possible? How can I alter any of my code so that the Perl script is invoked from this git project folder.</p>\n"}, {"tags": ["perl", "soaplite"], "comments": [{"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 0, "creation_date": 1444386147, "post_id": 33035316, "comment_id": 53892708, "body": "As a workaround, you can use <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a> to install a second copy of your system perl version. System perl won&#39;t know about perlbrew&#39;s libs and perlbrew won&#39;t use system perl&#39;s libs. <i>Caveats</i>: 1) use <code>perlbrew install-cpanm</code> to make sure perbrew modules ARE installed under the right path 2) All your scripts should start out as <code>#!&#47;usr&#47;bin&#47;env perl</code> instead of <code>#!usr&#47;bin&#47;perl</code>. 3) Be careful with <code>PERL5LIB</code> env var - may break this scheme. In fact, I wish perlbrew could install the same version twice under different names..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444386262, "post_id": 33035316, "comment_id": 53892788, "body": "It&#39;s not possible to have the same CPAN module twice in the same Perl. I&#39;m looking for a q/a that has that explained."}, {"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 0, "creation_date": 1444386487, "post_id": 33035316, "comment_id": 53892926, "body": "In fact, you could use local::lib + cpanm, and then make ~/perl5 a symlink changing between perl5-old and perl5-new (I assume a Unix system here)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 1, "creation_date": 1444387744, "post_id": 33035316, "comment_id": 53893632, "body": "I&#39;m a bit confused. Is your application a module that is itself used by other Perl scripts?  If not, can you please explain the relationship between your application and the &quot;end-user&quot; scripts?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1444388988, "post_id": 33035316, "comment_id": 53894474, "body": "For doing this, I&#39;ve actually been using docker containers. Works quite nicely."}, {"owner": {"reputation": 650, "user_id": 1402919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/834bb2b1e4a294ce7e9da83310ae9535?s=128&d=identicon&r=PG", "display_name": "dounyy", "link": "https://stackoverflow.com/users/1402919/dounyy"}, "edited": false, "score": 0, "creation_date": 1444391201, "post_id": 33035316, "comment_id": 53895684, "body": "@dan1111 The application uses Java + Perl. End-users upload their perl scripts in the Java application which will run them (the Java application acts like a task scheduler). Some scripts already exist in the application, and some new scripts are uploaded regularily, hence the compatibility issues."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 1, "creation_date": 1444391429, "post_id": 33035316, "comment_id": 53895799, "body": "In that case, just set a different module path based on whether it is an old or new script.  You don&#39;t need both at the same time."}], "answers": [{"comments": [{"owner": {"reputation": 650, "user_id": 1402919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/834bb2b1e4a294ce7e9da83310ae9535?s=128&d=identicon&r=PG", "display_name": "dounyy", "link": "https://stackoverflow.com/users/1402919/dounyy"}, "edited": false, "score": 0, "creation_date": 1444392173, "post_id": 33037626, "comment_id": 53896228, "body": "Thank you for the link. I don&#39;t think is suits here, because it would need the old scripts to me modified too.  But I keep think in mind though, I may need this one day."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1444421064, "last_edit_date": 1444421064, "creation_date": 1444391654, "answer_id": 33037626, "question_id": 33035316, "link": "https://stackoverflow.com/questions/33035316/is-there-a-way-to-have-two-versions-of-a-same-perl-library-in-parallel/33037626#33037626", "title": "Is there a way to have two versions of a same Perl library in parallel?", "body": "<p>Use <a href=\"http://p3rl.org/only\" rel=\"nofollow\"><code>only</code></a>.\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": true, "score": 1, "last_activity_date": 1444404073, "last_edit_date": 1444404073, "creation_date": 1444392768, "answer_id": 33037993, "question_id": 33035316, "link": "https://stackoverflow.com/questions/33035316/is-there-a-way-to-have-two-versions-of-a-same-perl-library-in-parallel/33037993#33037993", "title": "Is there a way to have two versions of a same Perl library in parallel?", "body": "<p>Since, as you mentioned in the comments, each script is called by a Java application that asks as a scheduler, you don't need both modules \"at once\".  Instead, you simply need one or the other for each run of a script.  This can be handled by setting the environment appropriately as an old or new script is called.</p>\n\n<p>You could use solutions such as <a href=\"http://perlbrew.pl/\" rel=\"nofollow\">Perlbrew</a> to manage two or more completely different Perl installations, if you wish.  This would be a good approach if you find that you want other differences between the old and new versions.</p>\n\n<p>However, if you simply want to swap out versions of this one module, all you need to do is have both installed somewhere, and alter the module path when you call the script.  There are various ways to do this, but you could <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">just use a command-line switch</a>:</p>\n\n<pre><code>perl -Idirectory script.pl\n</code></pre>\n\n<p>This will add <em>directory</em> to <code>@INC</code>, the set of locations where modules are searched for.  Point to the old or new module as appropriate (if you do it this way, make sure that <em>neither</em> version of the module is in the standard module path, otherwise there will be ambiguity as to which version you are using).</p>\n"}], "owner": {"reputation": 650, "user_id": 1402919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/834bb2b1e4a294ce7e9da83310ae9535?s=128&d=identicon&r=PG", "display_name": "dounyy", "link": "https://stackoverflow.com/users/1402919/dounyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 1, "accepted_answer_id": 33037993, "answer_count": 2, "score": 6, "last_activity_date": 1444421064, "creation_date": 1444384804, "question_id": 33035316, "link": "https://stackoverflow.com/questions/33035316/is-there-a-way-to-have-two-versions-of-a-same-perl-library-in-parallel", "title": "Is there a way to have two versions of a same Perl library in parallel?", "body": "<p>I would like to migrate a perl library (SOAP::Lite) used by my application. To to the migration as smoothly as possible for the end-users, I would like to have the two versions of this library (the old one and the new one) to work in parallel.</p>\n\n<p>The goal is to let the end-users migrate their scripts (if needed) by themselves, whenever they want. So basically, for the old scripts the users would have nothing to change, and the new scripts would be written using the new version.</p>\n\n<p>Does anyone know a way to proceed ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 3, "creation_date": 1444380980, "post_id": 33033962, "comment_id": 53889389, "body": "You are trying to read data from file name, not from file itself."}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 3, "last_activity_date": 1444380930, "creation_date": 1444380930, "answer_id": 33033982, "question_id": 33033962, "link": "https://stackoverflow.com/questions/33033962/file-opened-but-could-not-read/33033982#33033982", "title": "File opened but could not read", "body": "<p>You have to use the file handle to read it:</p>\n\n<pre><code>my $line = &lt;$IO&gt;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1444380997, "creation_date": 1444380997, "answer_id": 33034013, "question_id": 33033962, "link": "https://stackoverflow.com/questions/33033962/file-opened-but-could-not-read/33034013#33034013", "title": "File opened but could not read", "body": "<p>Change this line:</p>\n\n<pre><code>my $line = &lt;$myFile&gt;;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my $line = &lt;$IO&gt;;\n</code></pre>\n\n<p>You are using filename variable to read the file content. Use the filehandle.</p>\n"}, {"tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1444381019, "creation_date": 1444381019, "answer_id": 33034019, "question_id": 33033962, "link": "https://stackoverflow.com/questions/33033962/file-opened-but-could-not-read/33034019#33034019", "title": "File opened but could not read", "body": "<p>You have use the filename variable instead of the filehandle variable, fixed code should look like this:</p>\n\n<pre><code>my $myFile = \"akshay.txt\";\nopen my $IO, \"&lt;\", $myFile or die(\"Cant open $myFile because $!\");\nprint \"File $myFile has opened successfully\\n\";\nmy $line = &lt;$IO&gt;;\nprint $line;\nclose $IO;\n</code></pre>\n"}], "owner": {"reputation": 4929, "user_id": 264136, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4f10d37f65d9a1e58e11de0da25aaeea?s=128&d=identicon&r=PG", "display_name": "Akshay J", "link": "https://stackoverflow.com/users/264136/akshay-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 33033982, "answer_count": 3, "score": 0, "last_activity_date": 1444381135, "creation_date": 1444380866, "last_edit_date": 1444381135, "question_id": 33033962, "link": "https://stackoverflow.com/questions/33033962/file-opened-but-could-not-read", "title": "File opened but could not read", "body": "<pre><code>my $myFile = \"akshay.txt\";  \nopen my $IO, \"&lt;\", $myFile or    die (\"Cant open $myFile because $!\");\nprint \"File $myFile has opened successfully\\n\";\nmy $line = &lt;$myFile&gt;;\nprint $line;\nclose $IO;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>File akshay.txt has **opened successfully**\nreadline() on **unopened filehandle** at akshay.pl line 29.\nUse of uninitialized value $line in print at akshay.pl line 30.\n</code></pre>\n\n<p>Why is this contradiction ?\nRunning on Windows and ActivePerl.</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444379127, "post_id": 33033354, "comment_id": 53888377, "body": "Have you checked <a href=\"https://metacpan.org/pod/MooseX::Getopt\" rel=\"nofollow noreferrer\">metacpan.org/pod/MooseX::Getopt</a> ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1444379148, "post_id": 33033354, "comment_id": 53888385, "body": "<a href=\"http://p3rl.org/Moose\" rel=\"nofollow noreferrer\">Moose</a> has even more dependencies than <a href=\"http://p3rl.org/Moo\" rel=\"nofollow noreferrer\">Moo</a>."}, {"owner": {"reputation": 750, "user_id": 519151, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/480c0be1bd2a9c44dc676daf9f4d157f?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/519151/isaac"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1444379671, "post_id": 33033354, "comment_id": 53888671, "body": "@choroba true, I did not realize that I have the epel repo enabled ... I will update my question."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1444383038, "post_id": 33033354, "comment_id": 53890637, "body": "@Isaac Could you install modules in the application directory? Also, what do you like about Getopt::ArgParse so we can make a better recommendation for a replacement."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1444383609, "post_id": 33033354, "comment_id": 53891017, "body": "You can get a pretty up to date version of Moo for Centos from my CPAN/RPM repository at <a href=\"http://rpm.mag-sol.com/\" rel=\"nofollow noreferrer\">rpm.mag-sol.com</a>."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 4, "last_activity_date": 1444383689, "creation_date": 1444383689, "answer_id": 33034920, "question_id": 33033354, "link": "https://stackoverflow.com/questions/33033354/perl-argparse-with-less-dependencies/33034920#33034920", "title": "perl argparse with less dependencies", "body": "<p>A quick look at Getopt modules with minimal dependencies shows...</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/Getopt::Lazy\" rel=\"nofollow\">Getopt::Lazy</a></li>\n<li><a href=\"https://metacpan.org/pod/Getopt::Tiny\" rel=\"nofollow\">Getopt::Tiny</a></li>\n<li><a href=\"https://metacpan.org/pod/Getopt::OO\" rel=\"nofollow\">Getopt::OO</a></li>\n<li><a href=\"https://metacpan.org/pod/Getopt::Mini\" rel=\"nofollow\">Getopt::Mini</a></li>\n</ul>\n\n<p>However, you're going to find working in Perl to be really cramped if you can't install CPAN modules. You'll waste a lot of your client's time and money reinventing wheels, or using inferior ones.</p>\n\n<p>Rather than depending on CentOS packages, you can install Perl modules yourself and put them in the project you're developing.  As far as your customer is concerned it's just project code.  Simplest way to accomplish this is using <a href=\"https://metacpan.org/pod/local::lib\" rel=\"nofollow\">local::lib</a> and <a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow\">cpanm</a>. You can completely break your dependency on the system Perl and install your own version of perl with <a href=\"http://perlbrew.pl/\" rel=\"nofollow\">perlbrew</a>.</p>\n"}], "owner": {"reputation": 750, "user_id": 519151, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/480c0be1bd2a9c44dc676daf9f4d157f?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/519151/isaac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "closed_date": 1444450222, "accepted_answer_id": 33034920, "answer_count": 1, "score": -1, "last_activity_date": 1444401996, "creation_date": 1444378933, "last_edit_date": 1495541670, "question_id": 33033354, "link": "https://stackoverflow.com/questions/33033354/perl-argparse-with-less-dependencies", "closed_reason": "Not suitable for this site", "title": "perl argparse with less dependencies", "body": "<p>I would like to use <a href=\"https://metacpan.org/pod/Getopt::ArgParse\" rel=\"nofollow noreferrer\">Getopt::ArgParse</a>, as it provides a more userfriendly interface then Getopt::Long. Now the problem is that Getopt::ArgParse requires Moo, which in turn requires a whole bunch of packages that are not included in the standard CentOS repositories. As per customer policy I am kind of limited in what I can install ... so I was wondering if there is an argparse style package that does not require Moo or Moose.</p>\n\n<p><strong>EDIT</strong> I am giving <a href=\"https://metacpan.org/pod/Getopt::Lazy\" rel=\"nofollow noreferrer\">Getopt::Lazy</a> a try</p>\n\n<p><strong>EDIT 2</strong> <a href=\"https://metacpan.org/pod/Getopt::Lazy\" rel=\"nofollow noreferrer\">Getopt::Lazy</a> seems to be really outdated - <a href=\"https://stackoverflow.com/questions/33038501/getoptlazy-does-not-print-usage-message-or-anything-else\">here is my attempt at using it</a>.</p>\n\n<p><strong>EDIT 3</strong> I was hoping to find something as usable and dependencyless as pythons argparse - its included in the standard library now, and in older versions it just requires one file ... after fiddling around with various modules I ended up using plain old Getopt::Long.</p>\n"}, {"tags": ["perl", "batch-file"], "comments": [{"owner": {"reputation": 996, "user_id": 3441502, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VPE1S.png?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/3441502/ali"}, "edited": false, "score": 0, "creation_date": 1444375647, "post_id": 33032326, "comment_id": 53886498, "body": "So, What you have tried ?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1444376648, "post_id": 33032326, "comment_id": 53887021, "body": "You have a perl script that runs on linux, that you want to run on Windows via a batch file?"}, {"owner": {"reputation": 1, "user_id": 1534418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd6cb1dc34bdc685f5e2d3c12fc12609?s=128&d=identicon&r=PG", "display_name": "Joeytian", "link": "https://stackoverflow.com/users/1534418/joeytian"}, "edited": false, "score": 0, "creation_date": 1444377867, "post_id": 33032326, "comment_id": 53887686, "body": "Yes. The perl script will not return anything or need any input parameters. I just want to call it through batch file on Windows. I tried to use ssh to switch to linux server and run perl command. However, it did not work properly for me."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1444385754, "post_id": 33032326, "comment_id": 53892472, "body": "&quot;Did not work properly&quot; is not a problem description. And why don&#39;t you simply schedule the program on the linux server?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1444404433, "post_id": 33032326, "comment_id": 53904705, "body": "From the Linux box: <code>crontab -e</code>"}, {"owner": {"reputation": 10781, "user_id": 447901, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/11ea5dd4ad290e75422e32e1e340772e?s=128&d=identicon&r=PG", "display_name": "lit", "link": "https://stackoverflow.com/users/447901/lit"}, "edited": false, "score": 0, "creation_date": 1444503407, "post_id": 33032326, "comment_id": 53935416, "body": "A program on the Linux box can be run by using SSH. There are many SSH kits around. SSH is available in Cygwin. Alternatively, the PuTTY kit has plink.exe which can also be used."}], "answers": [{"comments": [{"owner": {"reputation": 10781, "user_id": 447901, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/11ea5dd4ad290e75422e32e1e340772e?s=128&d=identicon&r=PG", "display_name": "lit", "link": "https://stackoverflow.com/users/447901/lit"}, "edited": false, "score": 0, "creation_date": 1444503245, "post_id": 33033178, "comment_id": 53935365, "body": "What part of Perl would you use to run something on another machine?"}, {"owner": {"reputation": 51, "user_id": 1903412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e34087410c8726014f4f6a7de06323b?s=128&d=identicon&r=PG", "display_name": "Vinod Kabadi", "link": "https://stackoverflow.com/users/1903412/vinod-kabadi"}, "reply_to_user": {"reputation": 10781, "user_id": 447901, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/11ea5dd4ad290e75422e32e1e340772e?s=128&d=identicon&r=PG", "display_name": "lit", "link": "https://stackoverflow.com/users/447901/lit"}, "edited": false, "score": 0, "creation_date": 1444623721, "post_id": 33033178, "comment_id": 53964142, "body": "@Liturgist I can use SSH or Telnet to run something on another machine. Since I couldn&#39;t able to comment for that question I used answer option since I don&#39;t have enough reputation"}], "tags": [], "owner": {"reputation": 51, "user_id": 1903412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e34087410c8726014f4f6a7de06323b?s=128&d=identicon&r=PG", "display_name": "Vinod Kabadi", "link": "https://stackoverflow.com/users/1903412/vinod-kabadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1444378309, "creation_date": 1444378309, "answer_id": 33033178, "question_id": 33032326, "link": "https://stackoverflow.com/questions/33032326/run-perl-script-from-batch-file/33033178#33033178", "title": "Run perl script from batch file", "body": "<p>Have you installed perl on your windows system? so that you can run perl in windows platform.\nIf not installed You can install the perl using cygwin or by using the strawberry perl. \nsteps for installing through Cygwin <em><a href=\"http://slu.livejournal.com/17395.html\" rel=\"nofollow\">http://slu.livejournal.com/17395.html</a></em>\nAfter installing the perl you need to set the environmental variables and hence you can do call the perl using the batch file.</p>\n"}], "owner": {"reputation": 1, "user_id": 1534418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd6cb1dc34bdc685f5e2d3c12fc12609?s=128&d=identicon&r=PG", "display_name": "Joeytian", "link": "https://stackoverflow.com/users/1534418/joeytian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 714, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1444378309, "creation_date": 1444375398, "question_id": 33032326, "link": "https://stackoverflow.com/questions/33032326/run-perl-script-from-batch-file", "title": "Run perl script from batch file", "body": "<p>I'd like to run my perl script every 2 mins. So I decide to use task scheduler to call batch file that can invoke the perl script. The problem is that the perl script file can only be executed on server linux62. So how can i create the batch file to call the perl script? Thanks.</p>\n"}, {"tags": ["perl", "module", "export", "subroutine"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 10, "last_activity_date": 1525746305, "last_edit_date": 1525746305, "creation_date": 1444375172, "answer_id": 33032260, "question_id": 33031534, "link": "https://stackoverflow.com/questions/33031534/how-to-import-subroutines-from-modules-in-perl/33032260#33032260", "title": "How to import subroutines from modules in perl", "body": "<p>Change <code>package Calc;</code> to <code>package Calcu;</code> in Calcu.pm</p>\n\n<p>The mismatch in package names is what is giving you trouble.</p>\n\n<p>Have a read through <a href=\"http://perldoc.perl.org/Exporter.html\" rel=\"nofollow noreferrer\">perldoc Exporter</a> for the gory details.</p>\n\n<p>Have a look at <a href=\"https://perldoc.perl.org/perlootut.html\" rel=\"nofollow noreferrer\">perldoc perlootut</a> for an overview of different ways in perl to create objects.</p>\n"}], "owner": {"reputation": 326, "user_id": 2611539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e08a0c8391ae60d0635386368c18a323?s=128&d=identicon&r=PG", "display_name": "user2611539", "link": "https://stackoverflow.com/users/2611539/user2611539"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 0, "accepted_answer_id": 33032260, "answer_count": 1, "score": 4, "last_activity_date": 1525746305, "creation_date": 1444372883, "question_id": 33031534, "link": "https://stackoverflow.com/questions/33031534/how-to-import-subroutines-from-modules-in-perl", "title": "How to import subroutines from modules in perl", "body": "<p>I am novice in perl. I have this sample code.</p>\n\n<pre><code>#! /usr/bin/perl\n# Calcu.pm\n\npackage Calc;\n\nsub add {\n    ( $one , $two ) = @_;\n    $total = $one + $two;\n    return $total;\n    }\n\n1;\n</code></pre>\n\n<p>&amp; </p>\n\n<pre><code>#! /usr/bin/perl\n# add.pl\n\nuse Calcu;\n\nprint Calcu::add(50, 60);\n</code></pre>\n\n<p>script add.pl is running fine. but I want to call the <code>add</code> method without mentioning its module name. I googled &amp; added below lines in my Calcu.pm</p>\n\n<pre><code>use Exporter;\n\n@ISA = (Exporter);\n@EXPORT = qw (add);\n</code></pre>\n\n<p>&amp; replace <code>print Calcu::add(50, 60);</code> with <code>print add(50, 60);</code> in add.pl but it is still giving me the below error.</p>\n\n<pre><code>Undefined subroutine &amp;main::add called at add.pl \n</code></pre>\n\n<p>Is there any way possible so that I can directly call add subroutine in my ad.pl?</p>\n"}]