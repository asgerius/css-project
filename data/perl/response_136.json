[{"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1502988604, "last_edit_date": 1502988604, "creation_date": 1502925720, "answer_id": 45724379, "question_id": 45723345, "link": "https://stackoverflow.com/questions/45723345/unpacking-an-ipv6-address-from-inet-pton/45724379#45724379", "title": "Unpacking an IPv6 address from inet_pton", "body": "<p>IPv6 addresses are 128 bits in size.</p>\n\n<pre><code>$ perl -e'\n   use feature qw( say );\n   use Socket6 qw( inet_pton AF_INET6 );\n   say 8*length(inet_pton(AF_INET6, \"2000::1\"));\n'\n128\n</code></pre>\n\n<p>You're very unlikely to have a Perl that supports 128-bit integers. You can enlist the help of <a href=\"https://metacpan.org/pod/Math::Int128\" rel=\"nofollow noreferrer\">Math::Int128</a></p>\n\n<pre><code>$ perl -e'\n   use feature qw( say );\n   use Socket6      qw( inet_pton AF_INET6 );\n   use Math::Int128 qw( net_to_uint128 );\n   say net_to_uint128(inet_pton(AF_INET6, \"2000::1\"));\n'\n42535295865117307932921825928971026433\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 333578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4de7780fc334071f3dbbc82b4b6660ea?s=128&d=identicon&r=PG", "display_name": "ElectricWeasel", "link": "https://stackoverflow.com/users/333578/electricweasel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 0, "accepted_answer_id": 45724379, "answer_count": 1, "score": 0, "last_activity_date": 1502988604, "creation_date": 1502919194, "last_edit_date": 1502930316, "question_id": 45723345, "link": "https://stackoverflow.com/questions/45723345/unpacking-an-ipv6-address-from-inet-pton", "title": "Unpacking an IPv6 address from inet_pton", "body": "<p>I've been using the following functions as the basis for a lot of my IP calculation code for years. They require just the built in perl module Socket, so they were very portable.</p>\n\n<pre><code>sub ip2int { return( unpack(\"N\",inet_aton(shift)) ) };\nsub int2ip { return( inet_ntoa(pack(\"N\",shift)) ) };\n</code></pre>\n\n<p>Trying the same thing with Socket6 doesn't seem to be working:</p>\n\n<p>Attempt 1:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -MSocket6 -e '$x = inet_pton(AF_INET6,\"2000::1\"); print unpack(\"q\",$x) . \"\\n\"'\n32\n</code></pre>\n\n<p>Attempt 2:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -MSocket6 -e '$x = inet_pton(AF_INET6,\"2000::1\"); print \nunpack(\"Q\",$x) . \"\\n\"'\n32\n</code></pre>\n\n<p>Attempt 3:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -MSocket6 -e '$x = inet_pton(AF_INET6,\"2000::1\"); print unpack(\"N\",$x) . \"\\n\"'\n536870912\n</code></pre>\n\n<p>I can't figure out how to get the integer value of the address so I can use arithmetic for my network related calculations. Anyone have any ideas?</p>\n"}, {"tags": ["perl", "3d-printing"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502916489, "post_id": 45722649, "comment_id": 78403419, "body": "I appreciate your detailed explanation about &quot;extruders&quot; but it&#39;s not clear to me what you need to do with that code.  The <code>@extruders</code> contains the keys of <code>%by_extruder</code> which <i>are sorted</i> so <code>(1,2,..)</code> order (of keys) is there already.  This is modified by moving that one particular <code>$last_extruder_id</code> to the front of <code>@extruders</code> (if it exists). So what do you need to do to this?"}, {"owner": {"reputation": 157, "user_id": 2565929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73a5f11c8a7d9933bce323c3d1ce5758?s=128&d=identicon&r=PG", "display_name": "pedro pablo le&#243;n jaramillo", "link": "https://stackoverflow.com/users/2565929/pedro-pablo-le%c3%b3n-jaramillo"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502916754, "post_id": 45722649, "comment_id": 78403534, "body": "I wasn&#39;t sure if the extruder list is already always sorted. If that&#39;s the case, then I guess I can just remove the whole <i>if</i> statement and that&#39;s the solution? I want to always print (1,2,3), and never (2,1,3), (3,2,1), or (3,1,2)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502916949, "post_id": 45722649, "comment_id": 78403630, "body": "Ah, OK.  The <code>sort { ... } LIST</code> applies the criterion in curlies to pairs of elements of <code>LIST</code> in succession.  The elements are available as <code>$a</code> and <code>$b</code>.  So <code>sort { $a &lt;=&gt; $b } LIST</code> says to sort the <code>LIST</code> by comparing elements numerically (the <code>&lt;=&gt;</code> operator).  (This is a bit simplified and in a slightly imprecise language.) So yes, <code>@extruders</code> contains a list of numbers that have been sorted numerically.  This presumes that the keys being sorted are indeed plain numbers.  Then the <code>if</code> statement moves that one to front.  So yes, get rid of it if you don&#39;t want that."}, {"owner": {"reputation": 157, "user_id": 2565929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73a5f11c8a7d9933bce323c3d1ce5758?s=128&d=identicon&r=PG", "display_name": "pedro pablo le&#243;n jaramillo", "link": "https://stackoverflow.com/users/2565929/pedro-pablo-le%c3%b3n-jaramillo"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1502917091, "post_id": 45722649, "comment_id": 78403684, "body": "Ok, that makes sense. I will try to rebuild the software and hope there aren&#39;t other places that need a change, and that I haven&#39;t broken anything."}, {"owner": {"reputation": 26377, "user_id": 7734, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ced37e94f2fabfd8b4bb78e573947a68?s=128&d=identicon&r=PG", "display_name": "EvilTeach", "link": "https://stackoverflow.com/users/7734/evilteach"}, "edited": false, "score": 1, "creation_date": 1502917303, "post_id": 45722649, "comment_id": 78403773, "body": "In general, slicing and path layout are quiet complex.  In a dual headed print even more so.  Odds are the existing implementation already does a very good job at head management.   You are better off telling your slicer to build a tower, and wipe between layers.   <a href=\"https://3dprinting.stackexchange.com\">3dprinting.stackexchange.com</a> is also available."}, {"owner": {"reputation": 157, "user_id": 2565929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73a5f11c8a7d9933bce323c3d1ce5758?s=128&d=identicon&r=PG", "display_name": "pedro pablo le&#243;n jaramillo", "link": "https://stackoverflow.com/users/2565929/pedro-pablo-le%c3%b3n-jaramillo"}, "edited": false, "score": 0, "creation_date": 1502917741, "post_id": 45722649, "comment_id": 78403941, "body": "I&#39;m actually using only one extruder, but I merge several STL files, and assign a different extruder to each one. I can set the offset to zero and remove the tool changes. That way, I can control the print settings in different areas of a part. This is important for some tiny, delicate shapes that I&#39;m trying to produce."}], "owner": {"reputation": 157, "user_id": 2565929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73a5f11c8a7d9933bce323c3d1ce5758?s=128&d=identicon&r=PG", "display_name": "pedro pablo le&#243;n jaramillo", "link": "https://stackoverflow.com/users/2565929/pedro-pablo-le%c3%b3n-jaramillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1502923144, "creation_date": 1502916047, "last_edit_date": 1502923144, "question_id": 45722649, "link": "https://stackoverflow.com/questions/45722649/perl-small-change-for-extrusion-order-while-3d-printing-with-slic3r", "title": "Perl small change for extrusion order while 3D printing with Slic3r", "body": "<p>A popular, open source, 3D printing slicer software named <a href=\"https://github.com/alexrj/Slic3r\" rel=\"noreferrer\">Slic3r</a> is written in Perl. I need to make a small change to the source code for a university project, but I'm completely unfamiliar with Perl. </p>\n\n<p>Here's a <a href=\"https://forum.simplify3d.com/viewtopic.php?f=23&amp;t=2075\" rel=\"noreferrer\">nice image of what dual extrusion would look like</a>. Essentially, when you change nozzles/materials, you create problems. You need a wipe tower to get rid of drool on the nozzles, and you must deal with reheating/cooling and other time-consuming tasks. </p>\n\n<p>That's why all slicing programs I know of try to minimize extruder changes. For example, if layer 3 and layer 4 require both materials, then layer 3 will print extruder/material 1, then extruder/material 2. On layer 4, you will print extruder 2, then extruder 1.</p>\n\n<p>However, I need to always print in the same order as the extruder numbers; every layer should start with extruder 1, then extruder 2, then 3, etc.</p>\n\n<p>I believe I've found the important code snippet in the Slic3r source code. It is in lib/Slic3r/Print/GCode.pm, also on Github <a href=\"https://github.com/alexrj/Slic3r/blob/master/lib/Slic3r/Print/GCode.pm\" rel=\"noreferrer\">here</a>, starting on line 622.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>    # tweak extruder ordering to save toolchanges\n    my @extruders = sort { $a &lt;=&gt; $b } keys %by_extruder;\n    if (@extruders &gt; 1) {\n        my $last_extruder_id = $self-&gt;_gcodegen-&gt;writer-&gt;extruder-&gt;id;\n        if (exists $by_extruder{$last_extruder_id}) {\n            @extruders = (\n                $last_extruder_id,\n                grep $_ != $last_extruder_id, @extruders,\n            );\n        }\n    }\n</code></pre>\n\n<p>I guess @extruders is just a list that can be [1], [1, 2], [1,2,3] or more. I would like to modify this block so that we always write the extruder commands in numerical order (1,2,3).</p>\n\n<p>If you want more details about the Why?, I'd be glad to tell you more than you ever wanted to know about <a href=\"https://3dprintingindustry.com/3d-printing-basics-free-beginners-guide#04-processes\" rel=\"noreferrer\">FFF printing</a>, <a href=\"http://sffsymposium.engr.utexas.edu/sites/default/files/2016/070-Mulholland.pdf\" rel=\"noreferrer\">printed heat exchangers</a>, and more.</p>\n\n<p><strong>EDIT</strong>\nIn fact, commenting out the <em>if</em> statement worked perfectly. After recompiling, slic3r works just fine, and the Gcode appears to be correct. Therefore, I guess this is the only place in the software that the order is mentioned. The Slic3r code with this change is available on my <a href=\"https://github.com/tomMulholland/Slic3r\" rel=\"noreferrer\">fork at Github</a> in case anybody ever runs into this same problem. Thank you, <strong>zdim</strong>, for the feedback!</p>\n"}, {"tags": ["perl", "stream", "http-post", "pipe"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502963105, "post_id": 45722630, "comment_id": 78420971, "body": "error 500 means the URL you&#39;re posting to didn&#39;t work - what errors are in the webserver logs?"}, {"owner": {"reputation": 63, "user_id": 8408306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d7af59c80c1649c21a153580034208f?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby", "link": "https://stackoverflow.com/users/8408306/bobby"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1503020096, "post_id": 45722630, "comment_id": 78451832, "body": "I don&#39;t have the server logs."}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 8408306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d7af59c80c1649c21a153580034208f?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby", "link": "https://stackoverflow.com/users/8408306/bobby"}, "is_accepted": false, "score": 0, "last_activity_date": 1503020181, "creation_date": 1503020181, "answer_id": 45747212, "question_id": 45722630, "link": "https://stackoverflow.com/questions/45722630/http-post-content-body-from-pipe-file-handle-in-perl/45747212#45747212", "title": "HTTP Post. Content body from pipe/file handle in Perl", "body": "<p>Thanks everyone, i decided to create a socket and write the data manually. Works fine.</p>\n"}], "owner": {"reputation": 63, "user_id": 8408306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d7af59c80c1649c21a153580034208f?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby", "link": "https://stackoverflow.com/users/8408306/bobby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1503020181, "creation_date": 1502915983, "last_edit_date": 1502917469, "question_id": 45722630, "link": "https://stackoverflow.com/questions/45722630/http-post-content-body-from-pipe-file-handle-in-perl", "title": "HTTP Post. Content body from pipe/file handle in Perl", "body": "<p>I have a tool, that generates some data and prints it to stdout.\nIn my perl script i need to launch this tool and send the produced data to a http server using Post request. The tool generates a lot of data and it might be very time consuming to save it on the disk and only than send it. So i really want to send it on the fly, let's say redirect the stdout to http post request.\nContent-Length should not be a big deal, because i know the data size.</p>\n\n<p>I already tried to use callbacks:</p>\n\n<pre><code>  my @chunk = qw( foo bar baz );\n  my $req = HTTP::Request::StreamingUpload-&gt;new(\n      PUT      =&gt; 'http://example.com/foo.cgi',\n      callback =&gt; sub { shift @chunk },\n      headers =&gt; HTTP::Headers-&gt;new(\n          'Content-Type'   =&gt; 'text/plain',#and multipart/form-data\n          'Content-Length' =&gt; 9,\n      ),\n  );\n  my $res = LWP::UserAgent-&gt;new-&gt;request($req);\n</code></pre>\n\n<p>and reading from a fh:</p>\n\n<pre><code> open my $fh, '&lt;', '/your/upload/requestbody' or die $!;\n  my $req = HTTP::Request::StreamingUpload-&gt;new(\n      PUT     =&gt; 'http://example.com/foo.cgi',\n      fh      =&gt; $fh,\n      headers =&gt; HTTP::Headers-&gt;new(\n          'Content-Length' =&gt; 9,\n      ),\n  );\n  my $res = LWP::UserAgent-&gt;new-&gt;request($req);\n</code></pre>\n\n<p>But for some reason it doesn't work for me and i receive error 500.\nAlso i know for sure that the server supports multipart/form-data</p>\n\n<p>Is there any example? Is there any other way to redirect stdout to my http post request?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 3, "creation_date": 1502911446, "post_id": 45721428, "comment_id": 78401054, "body": "<i>perhaps you forgot to load &quot;XML::XPath&quot;?</i> - so where is your <code>use XML::XPath</code>? <code>use lib</code> only specifies the path where to look."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 1, "creation_date": 1502911899, "post_id": 45721428, "comment_id": 78401295, "body": "The directory structure of that module seems a bit weird, even if you add a <code>use XML::XPath;</code> it won&#39;t work. The version 1.13 is from 2003, but fortunately there are newer versions with a proper directory structure: (e.g. 1.42 from just a month ago)."}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1502912116, "post_id": 45721428, "comment_id": 78401403, "body": "@SteffenUllrich I have added the <code>use XML::XPath;</code> to my <code>test.pl</code> script (on line 4, underneath my <code>use lib</code> reference), but now I&#39;m getting an error related to Perl looking in <code>@INC</code> for the script, and I cannot modify <code>@INC</code>. I have updated my question to reflect this."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 3, "creation_date": 1502912376, "post_id": 45721428, "comment_id": 78401527, "body": "Digging a bit deeper, it seems that XML::XPath depends on the XML::Parser module which needs to be compiled. Unless you have a full Perl toolchain available (i.e. can compile C code and install modules), there&#39;s no way you can use this module. Just extracting a tarball only works for pure-Perl modules."}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1502913369, "post_id": 45721428, "comment_id": 78401981, "body": "@amon That module does exist, it&#39;s located in in the <code>lib&#47;XML-XPath-1.13&#47;XPath&#47;</code> directory in my project.  Can you elaborate on why can&#39;t I use it?"}], "answers": [{"comments": [{"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1502912724, "post_id": 45721597, "comment_id": 78401670, "body": "As stated in the question, I cannot use a proper package management utility such as PPM because of factors outside of my control.  I downloaded the physical <code>.pm</code> file though - shouldn&#39;t I theoretically be able to just use that?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1502913588, "post_id": 45721597, "comment_id": 78402079, "body": "I never mentioned <code>ppm</code> (or any other package management utility). I don&#39;t believe <code>ppm</code> lets you specify where you want to install the module. (If it did, then you could use <code>ppm</code> even though you mistakenly claimed otherwise..)"}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1502913746, "post_id": 45721597, "comment_id": 78402153, "body": "Can you clarify what you mean by &quot;you should properly install the module&quot;?  I&#39;ve only been using Perl for a few weeks now.  I would think that &quot;properly installing the module&quot; means to use a package manager, or <code>make</code>.  Both are unavailable to me.  Are you saying that it&#39;s not sufficient to simply download the package from CPAN as-is?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1502913842, "post_id": 45721597, "comment_id": 78402196, "body": "Re &quot;<i>Both are unavailable to me.</i>&quot;, Clearly false since you can run arbitrary Perl code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1502914495, "post_id": 45721597, "comment_id": 78402540, "body": "There is a trick: You could also use the exact same <code>perl</code> on a different machine to install the module, but instead of doing <code>make install</code> or <code>Build install</code>, you copy the contents of <code>blib</code> into <code>C:&#47;Sandbox</code>. It&#39;s basically what <code>ppm</code> does."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1502911882, "creation_date": 1502911882, "answer_id": 45721597, "question_id": 45721428, "link": "https://stackoverflow.com/questions/45721428/use-lib-cant-find-perl-module/45721597#45721597", "title": "&#39;use lib&#39; can&#39;t find Perl module", "body": "<p>First of all, you should properly install the module into <code>lib</code> rather than unzipping the distribution into <code>lib</code>.</p>\n\n<p>Then, you'll need </p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib \"$RealBin/lib\";\n\nuse XML::XPath qw( );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1502916329, "post_id": 45722303, "comment_id": 78403360, "body": "Thank you very much the the clear and illustrative answer!  Sure enough, <code>use XPath</code> <i>does</i> resolve the initial <code>XPath</code> <code>@INC</code> error like you said - but interestingly, the same solution does not work one level deeper, on <code>XPath.pm</code> itself, with <code>use lib qw(...); use XMLParser;</code>.  So I believe that I am running into some complicated convention-based Perl package management issues.  Unfortunately, my being &quot;dead to rights&quot; makes StrawberryPerl not an option in my case, but this (and installing Linux) is a fine suggestion."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502989139, "post_id": 45722303, "comment_id": 78439573, "body": "Re &quot;<i>The easiest way to get a full Perl toolchain on Windows is to install Linux install the Strawberry Perl</i>&quot;, or by simply using <code>cpan</code> if you&#39;re using ActivePerl."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 3, "last_activity_date": 1502914708, "creation_date": 1502914708, "answer_id": 45722303, "question_id": 45721428, "link": "https://stackoverflow.com/questions/45721428/use-lib-cant-find-perl-module/45722303#45722303", "title": "&#39;use lib&#39; can&#39;t find Perl module", "body": "<p>This is not going to work. XML::XPath depends on the XML::Parser module which needs to be compiled. Since you do not have a complete toolchain with a C compiler available, there is no way you are getting this to run. You will have to search for a different way to handle your XML.</p>\n\n<p>Just extracting a tarball only works when you have a pure-Perl module.</p>\n\n<p>The easiest way to get a full Perl toolchain on Windows is to <del>install Linux</del> install the <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry Perl</a> distribution. There's even a ZIP edition and a portable edition that can be installed on a thumb drive, no admin privileges required.</p>\n\n<hr>\n\n<p>Your more immediate problem is that XML::XPath in version 1.13 seems to be a shoddy module with an unusual directory layout. The package you are trying to load is at <code>XML-XPath-1.13/XPath.pm</code> but should be at <code>XML-XPath-1.13/lib/XML/XPath.pm</code>. Why?</p>\n\n<p>When you say <code>use XML::XPath;</code> this does two things. First, Perl searches for a file <code>XML/XPath.pm</code> in all <code>@INC</code> directories. Assuming you have something like</p>\n\n<pre><code>use FindBin;\nuse lib \"$FindBin::Bin/lib/XML-XPath-1.13\";\n</code></pre>\n\n<p>then perl would expect a file <code>PROJECT/lib/XML-XPath-1.13/XML/XPath.pm</code> which doesn't exist (where I'm using PROJECT as placeholder for the directory of your script).</p>\n\n<p>Since the file <code>PROJECT/lib/XML-XPath-1.13/XPath.pm</code> does exist you could say <code>use XPath;</code>.</p>\n\n<p>But then the second thing happens: The package is imported so that it can load subroutines or constants into your namespace. The <code>use</code>'d package name is now used as a class: <code>XPath-&gt;import</code>. However, the <code>XPath.pm</code> file does not contain the <code>XPath</code> package but the <code>XML::XPath</code> package, so there is no <code>XPath</code> class with an <code>import</code> method.</p>\n\n<p>The import method call can be suppressed by providing an empty list in the use statement: <code>use XPath ();</code>.</p>\n\n<p>Better than such hacks, you could use a more recent version of XML::XPath (version 1.13 is from 2003, but the newer version 1.42 is from 2007). Once you extract it you could <code>use lib \"$FindBin::Bin/lib/XML-XPath-1.42/lib\"</code> and then <code>use XML::XPath;</code>.</p>\n\n<p>But this still won't work, because <code>XML::XPath</code> does <code>use XML::Parser</code> and you don't have that module installed. Now we are back to your main problem: XML::Parser needs to be compiled first because it contains a C extension, and also relies on an external library. Without a full toolchain you can't compile it.</p>\n"}], "owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1140, "favorite_count": 0, "accepted_answer_id": 45722303, "answer_count": 2, "score": 1, "last_activity_date": 1502914708, "creation_date": 1502911298, "last_edit_date": 1502912230, "question_id": 45721428, "link": "https://stackoverflow.com/questions/45721428/use-lib-cant-find-perl-module", "title": "&#39;use lib&#39; can&#39;t find Perl module", "body": "<p>I'm on Windows 7, I downloaded a <a href=\"http://search.cpan.org/~msergeant/XML-XPath-1.13/\" rel=\"nofollow noreferrer\">CPAN module</a> called <code>XML::XPath</code>, and I want to use it in a script I wrote.  </p>\n\n<p>I cannot modify <code>@INC</code> on my machine, I cannot modify environmental variables on my machine, I cannot run <code>make</code> on my machine, and I cannot use a package manager on my machine.</p>\n\n<p>So in order to use the module, I went to the CPAN website, downloaded the module's <code>.tar.gz</code> file, and unzipped it into a <code>lib</code> folder in my project. I did that because <a href=\"https://perlmaven.com/how-to-change-inc-to-find-perl-modules-in-non-standard-locations\" rel=\"nofollow noreferrer\">this guide</a> suggested that I can use <code>use lib</code> in the context of my script to reference the downloaded module:</p>\n\n<blockquote>\n  <p>Adding a use lib statement to the script will add the directory to @INC for that specific script. Regardless who and in what environment runs it.</p>\n</blockquote>\n\n<p>My script is called <code>test.pl</code>.  I am trying to use the <code>XML::XPath</code> module to parse an XML file called <code>test.xml</code>.  Here is an example of my directory structure:</p>\n\n<pre><code>C:/\n  \u2192 sandbox/\n      test.pl\n      test.xml\n    \u2192 lib/\n      \u2192 XML-XPath-1.13/\n          XPath.pm\n        \u2192 XPath/\n            XMLParser.pm\n            (etc.)\n</code></pre>\n\n<p>This is my <code>test.pl</code> script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse lib qw(\"C:/sandbox/lib/XML-XPath-1.13\");\n\nmy $xml_file = \"C:/sandbox/test.xml\";\nmy $result;\n\nif (-f $xml_file) {\n  $result = XML::XPath-&gt;new(filename =&gt; \"$xml_file\");\n}\n</code></pre>\n\n<p>When I run this script with <code>perl test.pl</code>, the script fails with the following error:</p>\n\n<blockquote>\n  <p>Can't locate object method \"new\" via package \"XML::XPath\" (perhaps you forgot to load \"XML::XPath\"?) at test.pl line 10.</p>\n</blockquote>\n\n<p>Can I resolve this error with <code>use lib</code>?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>When I add <code>use XML::XPath;</code> to my <code>test.pl</code> script, as such:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse lib qw(\"C:/sandbox/lib/XML-XPath-1.13\");\n</code></pre>\n\n<p>I get an error like: </p>\n\n<blockquote>\n  <p>Can't locate XML/XPath.pm in @INC</p>\n</blockquote>\n\n<p>But as stated above, I cannot physically modify <code>@INC</code> or recompile Perl on my machine.</p>\n"}, {"tags": ["json", "mongodb", "perl", "optimization", "hashref"], "answers": [{"comments": [{"owner": {"reputation": 4890, "user_id": 6398044, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f71218cef5ac99acbfc45fa3a9a531?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6398044/daniel"}, "edited": false, "score": 0, "creation_date": 1503150952, "post_id": 45763484, "comment_id": 78502814, "body": "Thank you very much. Finally I parallelized this process and reading the files from the disk is now bottleneck of processing."}], "tags": [], "owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "is_accepted": true, "score": 0, "last_activity_date": 1503082973, "creation_date": 1503082973, "answer_id": 45763484, "question_id": 45720411, "link": "https://stackoverflow.com/questions/45720411/save-json-string-to-mongodb-in-perl-efficiently-without-converting-to-hash-ref/45763484#45763484", "title": "Save json string to mongodb in perl efficiently (without converting to hash-ref)", "body": "<p>There's no direct way to insert JSON into MongoDB.  It always has to be processed into MongoDB's wire format.  For Perl that means JSON decoding and then inserting with the driver, which, as you point out, has overhead.</p>\n\n<p>If you just have JSON data, the best thing might be to use the <a href=\"https://docs.mongodb.com/manual/reference/program/mongoimport/\" rel=\"nofollow noreferrer\">mongoimport</a> tool that comes with the database.</p>\n"}], "owner": {"reputation": 4890, "user_id": 6398044, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f71218cef5ac99acbfc45fa3a9a531?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6398044/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 45763484, "answer_count": 1, "score": 1, "last_activity_date": 1503082973, "creation_date": 1502907173, "question_id": 45720411, "link": "https://stackoverflow.com/questions/45720411/save-json-string-to-mongodb-in-perl-efficiently-without-converting-to-hash-ref", "title": "Save json string to mongodb in perl efficiently (without converting to hash-ref)", "body": "<p>I would like to insert data to mongodb in perl. I can insert perl objects like hash-ref. But I want to append to them also prepared <code>JSONs</code>.</p>\n\n<p>I have these <code>JSONs</code> in text files and I can transform them to hash-ref and then put to database but I looking for more <strong>efficient</strong> way because of amount of data, that I need to process. </p>\n\n<p>It is possible? I can do inserts but I looking for optimization.</p>\n\n<hr>\n\n<p>Similar topic (but without answer for <strong>this</strong> question):</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/9562890/insert-into-mongodb-with-perl\">Insert into mongodb with perl</a></p>\n</blockquote>\n\n<hr>\n\n<p>Technical aspects:</p>\n\n<p>For one insert there are processed one file 100kB - 1MB I contains 4 <code>JSON</code> strings among rest of text, any string about 2 - 15 k characters. I getting some properties from file and rest of text and has it in hash-ref. I do not want any information from this JSON in rest of my program. I am interested only put them together into database.</p>\n"}, {"tags": ["perl", "reference"], "answers": [{"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 1, "last_activity_date": 1502910742, "creation_date": 1502910742, "answer_id": 45721280, "question_id": 45720766, "link": "https://stackoverflow.com/questions/45720766/perl-reference-clarification-needed/45721280#45721280", "title": "perl reference clarification needed", "body": "<p>Case 0 and 1 are equivalent, these you have understood correctly.</p>\n\n<p>Case 2 is a bit subtle:</p>\n\n<pre><code>${$hashref{\"KEY\"}} = \"VALUE\";\n</code></pre>\n\n<p>First, this executes <code>$hashref{\"KEY\"}</code> which looks up the <code>\"KEY\"</code> in a hash variable called <code>%hashref</code>. Despite its name it is a hash, not a hash reference! This returns a value in that hash.</p>\n\n<p>Next, we dereference that value in the hash as a scalar reference: <code>${ ... }</code>.</p>\n\n<p>Finally, we assign a <code>\"VALUE\"</code> to the scalar reference target.</p>\n\n<p>Case 3 is similar, but actually uses a hash reference.</p>\n\n<p>If we rewrite Case 2 and 3, their relation might be clearer:</p>\n\n<pre><code>{ # Case 2\n  my %hash;\n  ${ $hash{\"KEY\"} } = \"VALUE\";\n}\n\n{ # Case 3\n  my %hash;\n  my $hashref = \\%hash;\n  ${ $hashref-&gt;{\"KEY\"} } = \"VALUE\";\n}\n</code></pre>\n\n<p>Additional remarks:</p>\n\n<ul>\n<li><p>The <code>${ \u2026 }</code> dereference operator does not bind closest to left, it <em>contains</em> the value that will be dereferenced. The <code>$$foo</code> form is a short form of the <code>${ \u2026 }</code> dereference operator if the reference is a normal scalar variable, as opposed to a more complex expression. This is not only the case for scalar references but also array refs (<code>@{ \u2026 }</code> and <code>@$foo</code>) and hash refs (<code>%{ \u2026 }</code> and <code>%$foo</code>).</p></li>\n<li><p>The sigil ($ % @) of a dereference operator is not the type of the reference, but depends on whether we are accessing one or more values in the reference target.</p>\n\n<p>When we access a single value in a hash <code>%hash</code> this looks like <code>$hash{\"KEY\"}</code>.</p>\n\n<p>When we access a single value in a <code>$hashref</code>, this looks like <code>$hashref-&gt;{\"KEY\"}</code> or <code>${$hashref}{\"KEY\"}</code> or <code>$$hashref{\"KEY\"}</code>.</p>\n\n<p>Despite the <code>$</code> there is no scalar reference here. The scalar dereference operator <code>${ \u2026 }</code> is essentially a separate operator from the hash reference subscript operator <code>${ \u2026 }{ \u2026 }</code>.</p></li>\n<li><p>The expression <code>$$foo-&gt;{\"KEY\"}</code> features a scalar reference to a hash reference! Firs the scalar reference <code>$foo</code> is dereferenced <code>$$foo</code> to a hash ref, in which a value <code>\u2026-&gt;{\"KEY\"}</code> is accessed.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1502956582, "last_edit_date": 1502956582, "creation_date": 1502911043, "answer_id": 45721361, "question_id": 45720766, "link": "https://stackoverflow.com/questions/45720766/perl-reference-clarification-needed/45721361#45721361", "title": "perl reference clarification needed", "body": "<p>The difference between cases 0 and 1 is that in case 1 a block of code may be used inside <code>${}</code>, which returns a hashref.  Some things work without a <code>{}</code>, like the specific example in case 1, but some can't. It says <a href=\"http://perldoc.perl.org/perlref.html#Using-References\" rel=\"nofollow noreferrer\">elsewhere in perlref</a></p>\n\n<blockquote>\n  <p>Anywhere you'd put an identifier (or chain of identifiers) as part of a variable or subroutine name, you can replace the identifier with a simple scalar variable containing a reference of the correct type<br>\n  ...<br>\n  <strong>Anything more complicated than a simple scalar variable must use methods 2 or 3 below.</strong><br>\n  ...<br>\n  Anywhere you'd put an identifier (or chain of identifiers) as part of a variable or subroutine name, you can <strong>replace the identifier with a BLOCK returning a reference</strong> of the correct type.</p>\n</blockquote>\n\n<p>(emphasis mine)</p>\n\n<p>An example</p>\n\n<pre><code>sub get_hr { return { a =&gt; 1, b =&gt; 2 } }\n\nsay ${ get_hr() }{a}\n</code></pre>\n\n<p>may go a bit overboard (and is unfit for production) but hopefully conveys it.</p>\n\n<p>A lot of other clarifications are provided in the answers <a href=\"https://stackoverflow.com/a/45721280/4653379\">by amon</a> and <a href=\"https://stackoverflow.com/a/45721942/4653379\">by ikegami</a>.</p>\n\n<p>Also see <a href=\"http://perldoc.perl.org/perlreftut.html#Using-References\" rel=\"nofollow noreferrer\">Using references in perlreftut</a> and \n<a href=\"http://perldoc.perl.org/perldsc.html#CAVEAT-ON-PRECEDENCE\" rel=\"nofollow noreferrer\">Caveats on precedence in perldsc</a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1502913284, "creation_date": 1502913284, "answer_id": 45721942, "question_id": 45720766, "link": "https://stackoverflow.com/questions/45720766/perl-reference-clarification-needed/45721942#45721942", "title": "perl reference clarification needed", "body": "<ul>\n<li><code>$NAME</code> (e.g. <code>$foo</code>) is a scalar variable.</li>\n<li><code>$BLOCK</code> (e.g. <code>${ $ref }</code>) is a scalar variable (via a reference).</li>\n<li><code>$$NAME</code> (e.g. <code>$$ref</code>) is short for <code>${ $NAME }</code> (e.g. <code>${ $ref }</code>).</li>\n</ul>\n\n<p>Similarly,</p>\n\n<ul>\n<li><code>$NAME{EXPR}</code> (e.g. <code>$foo{bar}</code>) is a hash element.</li>\n<li><code>$BLOCK{EXPR}</code> (e.g. <code>${ $ref }{bar}</code>) is a hash element (via a reference).</li>\n<li><code>$$NAME{EXPR}</code> (e.g. <code>$$ref{bar}</code>) is short for <code>${ $NAME }{EXPR}</code> (e.g. <code>${ $ref }{bar}</code>).</li>\n</ul>\n\n<p>So,</p>\n\n<ul>\n<li><code>$$hash_ref{\"KEY\"}</code> is short for <code>${ $hashref }{\"KEY\"}</code></li>\n<li><code>${ $hash_ref }{\"KEY\"}</code> is a hash element.<br><code>$hashref</code> is a reference to the hash.</li>\n<li><code>${ $hash{\"KEY\"} }</code> is a scalar variable.<br><code>$hash{\"KEY\"}</code> is a reference to the scalar.<br><code>%hash</code> is a hash.</li>\n<li><code>${ $hash_ref-&gt;{\"KEY\"} }</code> is a scalar variable.<br>(<code>$hash_ref-&gt;{\"KEY\"}</code> is a nice way to write <code>$$hash_ref{\"KEY\"}</code>.)<br><code>$hash_ref-&gt;{\"KEY\"}</code> is a reference to the scalar.<br><code>$hash_ref</code> is a reference to a hash.</li>\n</ul>\n"}], "migrated_from": {"other_site": {"aliases": ["http://programmer.stackexchange.com", "http://programmers.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1292524346, "open_beta_date": 1283972400, "closed_beta_date": 1283367600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon@2.png", "twitter_account": "StackSoftEng", "favicon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon.png", "audience": "professionals, academics, and students working within the systems development life cycle", "site_url": "https://softwareengineering.stackexchange.com", "api_site_parameter": "softwareengineering", "logo_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/logo.png", "name": "Software Engineering", "site_type": "main_site"}, "on_date": 1502908633, "question_id": 355782}, "owner": {"reputation": 31, "user_id": 8473874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44346e3dd80a7fb65cebb6bffbf1f48f?s=128&d=identicon&r=PG&f=1", "display_name": "J Kim", "link": "https://stackoverflow.com/users/8473874/j-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1502956582, "creation_date": 1502903742, "question_id": 45720766, "link": "https://stackoverflow.com/questions/45720766/perl-reference-clarification-needed", "title": "perl reference clarification needed", "body": "<p>Straight from <a href=\"https://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlref.html</a></p>\n\n\n\n<p>I don't understand below</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code> $$hashref{\"KEY\"}   = \"VALUE\";       # CASE 0\n ${$hashref}{\"KEY\"} = \"VALUE\";       # CASE 1\n ${$hashref{\"KEY\"}} = \"VALUE\";       # CASE 2\n ${$hashref-&gt;{\"KEY\"}} = \"VALUE\";     # CASE 3\n</code></pre>\n\n<p>What is the difference between case 1 and 2?</p>\n\n<p>I am thinking anything inside <code>${}</code> is a pointer to some address so it's like</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $hashref = \\%hash;\n</code></pre>\n\n<p><code>${$hashref}{\"KEY\"}</code> is really <code>$$hashref{\"KEY\"}</code> and this is dereferencing <code>\\%hash</code> and looking up it's <code>\"KEY\"</code></p>\n\n<p><code>${$hashref-&gt;{\"KEY\"}}</code> .. I would think is..  ?? I thought the rule was the bind closest to the left so I thought this also became <code>$$hashref-&gt;{\"KEY\"}</code>. which is same as <code>${$hashref}{'KEY'}</code>.   Am I getting this wrong?</p>\n"}, {"tags": ["shell", "perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1502900154, "post_id": 45718462, "comment_id": 78395108, "body": "Having several unrelated arrays instead of an array of arrays makes this code pretty clunky. Think about how you&#39;re capturing this data. Some of your data needs the <code>chomp</code> treatment."}, {"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1502900202, "post_id": 45718462, "comment_id": 78395142, "body": "You should <a href=\"https://stackoverflow.com/posts/45718462/edit\">edit</a> your question to include the code for populating <code>@tablelist</code> and the other arrays."}, {"owner": {"reputation": 1, "user_id": 8473571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa43085f54174e208c6f5e8938a4d4ab?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/8473571/nicholas"}, "edited": false, "score": 1, "creation_date": 1502900400, "post_id": 45718462, "comment_id": 78395271, "body": "I&#39;ll try adding chomp statements for the arrays, thanks for the idea."}, {"owner": {"reputation": 1, "user_id": 8473571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa43085f54174e208c6f5e8938a4d4ab?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/8473571/nicholas"}, "edited": false, "score": 0, "creation_date": 1502900941, "post_id": 45718462, "comment_id": 78395598, "body": "The arrays used for both databases are populated the same way as the code above"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8473571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa43085f54174e208c6f5e8938a4d4ab?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/8473571/nicholas"}, "is_accepted": false, "score": -1, "last_activity_date": 1502901897, "creation_date": 1502901897, "answer_id": 45718990, "question_id": 45718462, "link": "https://stackoverflow.com/questions/45718462/how-to-remove-invisible-new-line-characters-in-perl/45718990#45718990", "title": "How to remove invisible new line characters in Perl", "body": "<p>Adding the <code>chomp</code> to each of the strings taken from the files as suggested by tadman fixed the output so that it was all on one line rather than three lines as in the question's example.</p>\n"}], "owner": {"reputation": 1, "user_id": 8473571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa43085f54174e208c6f5e8938a4d4ab?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/8473571/nicholas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1502901897, "creation_date": 1502899962, "last_edit_date": 1502900833, "question_id": 45718462, "link": "https://stackoverflow.com/questions/45718462/how-to-remove-invisible-new-line-characters-in-perl", "title": "How to remove invisible new line characters in Perl", "body": "<p>I am writing a shell script in perl that takes values from two databases and compares them. When the script is finished it outputs a report that is supposed to be formatted this way:</p>\n\n<p>Table Name   Date   value from Database 1   value from Database 2   Difference</p>\n\n<p>The output is printed into a report file, but even when it is output to the command console it looks like this:</p>\n\n<pre><code>tablename    2017-06-20  7629628\n 7629628\n 0\n</code></pre>\n\n<p>Here's my code that makes the string then outputs it to the file:</p>\n\n<pre><code>$outputstring=\"$tablelist[0]    $DATErowcount0[$output_iteration]  $rowcount0[$output_iteration] $TDrowcount0[$output_iteration] $count_dif\\n\";\nprint FILE $outputstring;\n</code></pre>\n\n<p>There seems to be a newline character hidden after $rowcount0[$output_iteration] and before $count_dif. What do I need to do to fix this/print it all in one line?</p>\n\n<p>To fill the arrays with values, values are read from files created by SQL commands.</p>\n\n<p>Here's some of the code:</p>\n\n<pre><code>`$num_from_TDfile=substr $r2, 16;\n$date_from_TDfile = substr $r2, 0, 12;\n$TDrowcount0[$TDnum_rows0]=$num_from_TDfile;\n$DATETDrowcount0[$TDnum_rows0]=$date_from_TDfile;\n$TDnum_rows0=$TDnum_rows0+1;`\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1502894663, "post_id": 45716354, "comment_id": 78391308, "body": "I can&#39;t repro having &quot;true&quot; and &quot;false&quot; printed at all, so it must be version specific or something. However, try and see if <code>print not JSON::XS::false;</code> does what you want."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1502894818, "post_id": 45716354, "comment_id": 78391423, "body": "Note &quot;<i>This module exists only to provide overload resolution for Storable and similar modules. It&#39;s only needed for compatibility with data serialised (by other modules such as Storable) that was decoded by JSON::XS versions before 3.0.</i>&quot;"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502895214, "post_id": 45716354, "comment_id": 78391718, "body": "Given @Sinan&#220;n&#252;r&#39;s comment and the posted answer, if you want the boolean printed as text, it may be more wise to do something like `print &quot;true&quot; if ! JSON::XS::false"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1502895224, "post_id": 45716354, "comment_id": 78391732, "body": "@illusionist: <a href=\"http://p3rl.org/JSON\" rel=\"nofollow noreferrer\">JSON</a> is just a wrapper around other JSON handling modules. Which one do you really use?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1502897904, "post_id": 45716354, "comment_id": 78393610, "body": "Note, one more time, &quot;<b>SYNOPSIS</b> <code># do not &quot;use&quot; yourself</code>&quot;. You are doing it wrong."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 8473065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ee5abf7283ea70135ee319fca7b99a?s=128&d=identicon&r=PG&f=1", "display_name": "illusionist", "link": "https://stackoverflow.com/users/8473065/illusionist"}, "edited": false, "score": 0, "creation_date": 1502897297, "post_id": 45716814, "comment_id": 78393178, "body": "Even though your example produces <code>1</code>s and <code>0</code>s as output, it still preserves the <code>JSON::XS::Boolean</code> nature. ie. <code>print(ref(JSON::XS::true and JSON::XS::false) eq &#39;JSON::XS::Boolean&#39;); # 1</code> however <code>print(ref(!JSON::XS::true) eq &#39;JSON::XS::Boolean&#39;); # &#39;&#39;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 37, "user_id": 8473065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ee5abf7283ea70135ee319fca7b99a?s=128&d=identicon&r=PG&f=1", "display_name": "illusionist", "link": "https://stackoverflow.com/users/8473065/illusionist"}, "edited": false, "score": 0, "creation_date": 1502897423, "post_id": 45716814, "comment_id": 78393271, "body": "Yes. But what do you think the <code>!</code> is doing here? How do you think perl is negating <code>JSON::XS::true</code>? That&#39;s the root of your problem. Perl turns <code>!0</code> into <code>dualvar ( 1, &quot;1&quot;)</code> and <code>!1</code> into <code>dualvar ( 0, &#39;&#39; );</code>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1502898103, "post_id": 45716814, "comment_id": 78393768, "body": "Please note all JSON modules map <code>\\0</code> to false, and <code>\\1</code> to <code>true</code>. So, <code>[\\!JSON::XS::false]</code> <b>will</b> encode to <code>[true]</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1502897585, "last_edit_date": 1502897585, "creation_date": 1502895047, "answer_id": 45716814, "question_id": 45716354, "link": "https://stackoverflow.com/questions/45716354/perl-performing-boolean-operations-on-jsonxsboolean/45716814#45716814", "title": "Perl - Performing boolean operations on JSON::XS::Boolean", "body": "<p>Well, first off - your code doesn't do what you think it does. I get a sequence of 1s and zeros. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse JSON::XS::Boolean;\n\nprint(JSON::XS::true); # prints 'true'\nprint(!JSON::XS::false); # prints 1 instead of 'false'\n\nprint(JSON::XS::false and JSON::XS::false); # prints 'false'\nprint(JSON::XS::true &amp;&amp; JSON::XS::true); # prints 'true'\nprint(JSON::XS::false and JSON::XS::true); # prints 'false'\n\nprint(JSON::XS::false || JSON::XS::false); # prints 'false'\nprint(JSON::XS::true or JSON::XS::true); # prints 'true'\nprint(JSON::XS::false || JSON::XS::true); # prints 'true'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>11010011\n</code></pre>\n\n<p>However, you may get some odd behaviour when trying to convert 'boolean' types, because perl doesn't have a boolean type in the sense you are thinking. It has 'things that are true' and 'things that are false'.</p>\n\n<p>\"things that are false\" are anything that is numerically zero. <code>undef</code>. An empty string. </p>\n\n<p>And here's the thing - if you do a 'not true' and then <em>print</em> it, perl doesn't know which of the \"things that are false\" it should be. </p>\n\n<p>So if you do:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $value = !1;\nprint \"Value is: \\'\",$value,\"\\'\\n\";\n</code></pre>\n\n<p>Perl assumes that because you're using it in a string context, you're wanting to do the stringified version. </p>\n\n<p>But that's because <code>$value</code> is a <a href=\"https://perldoc.perl.org/Scalar/Util.html#dualvar\" rel=\"nofollow noreferrer\"><code>dualvar</code></a>, with values of both <code>0</code> and <code>''</code>  - you can add to it numerically, and that will work too:</p>\n\n<pre><code>print \"Value is: \\'\",$value+0,\"\\'\\n\";\n</code></pre>\n\n<p>Note - this doesn't work with 'normal' empty strings - you'll get <code>Argument \"\" isn't numeric in addition (+)</code>. </p>\n\n<p>With your edited code - I can be pretty sure that it's the same thing.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse JSON::XS::Boolean;\nuse Scalar::Util qw ( isdual ); \nuse Data::Dumper;\n\nmy $json = JSON::XS-&gt;new;\n\nmy $trueval = JSON::XS::true;\nmy $notfalse = !JSON::XS::false;\n\nprint Dumper $trueval;\nprint \"\\$trueval is a dualvar\\n\" if isdual($trueval);\nprint \"Value = $trueval\\n\";\n\nprint Dumper $notfalse;\nprint \"\\$notfalse is a dualvar\\n\" if isdual($notfalse);\nprint \"Value = $notfalse\\n\";\n\nmy $falseval = JSON::XS::false;\nmy $nottrue = !JSON::XS::true;\n\nprint Dumper $falseval;\nprint \"\\$falseval is a dualvar\\n\" if isdual($falseval);\nprint \"Value = $falseval\\n\";\n\nprint Dumper $nottrue;\nprint \"\\$nottrue is a dualvar\\n\" if isdual($nottrue);\nprint \"Value = $nottrue\\n\";\n</code></pre>\n\n<p>Note how <code>$notfalse</code> is no longer a blessed <code>JSON::PP::Boolean</code>? </p>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = bless( do{\\(my $o = 1)}, 'JSON::PP::Boolean' );\nValue = 1\n$VAR1 = 1;\n$notfalse is a dualvar\nValue = 1\n$VAR1 = bless( do{\\(my $o = 0)}, 'JSON::PP::Boolean' );\nValue = 0\n$VAR1 = '';\n$nottrue is a dualvar\nValue = \n</code></pre>\n\n<p>The <code>!</code> is casting it to the closest approximation of a perl boolean.</p>\n\n<p>However the <code>||</code> doesn't need to, because perl evaluates the expression and returns <em>the result of the expression</em> without modifying it. </p>\n\n<pre><code>my $value = \"some_text_here\" || 0; \nprint $value;\n</code></pre>\n\n<p>The <code>and</code>/<code>or</code> are \"working\" because perl tries not to return a boolean if it doesn't have to. </p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 8473065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ee5abf7283ea70135ee319fca7b99a?s=128&d=identicon&r=PG&f=1", "display_name": "illusionist", "link": "https://stackoverflow.com/users/8473065/illusionist"}, "edited": false, "score": 0, "creation_date": 1502898252, "post_id": 45717701, "comment_id": 78393876, "body": "Wow, this is exactly what I was looking for!"}, {"owner": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "edited": false, "score": 0, "creation_date": 1502899589, "post_id": 45717701, "comment_id": 78394801, "body": "Should I add the negation overload to Cpanel::JSON::XS and JSON::PP? Looks like it is needed.  With JSON::XS the overloading is unfortunately broken."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "edited": false, "score": 2, "creation_date": 1502899875, "post_id": 45717701, "comment_id": 78394966, "body": "@rurban, Don&#39;t know. That would break people doing <code>!!$val</code> to normalize <i>away</i> from objects."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1502898258, "last_edit_date": 1502898258, "creation_date": 1502897678, "answer_id": 45717701, "question_id": 45716354, "link": "https://stackoverflow.com/questions/45716354/perl-performing-boolean-operations-on-jsonxsboolean/45717701#45717701", "title": "Perl - Performing boolean operations on JSON::XS::Boolean", "body": "<p>To do what you want them to do, the objects returned by <code>JSON::XS::true</code> and <code>JSON::XS::false</code> would have to overload negation. They don't.</p>\n\n<p>You could replace</p>\n\n<pre><code>!$p\n</code></pre>\n\n<p>with</p>\n\n<pre><code>$p ? JSON::XS::false : JSON::XS::true\n</code></pre>\n\n<p>Or you could normalize your data after the fact.</p>\n\n<hr>\n\n<p>AND and OR happen to work because they always return one of their inputs.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Expression  Returns when  Returns when\n            $p is true    $p is false\n----------  ------------  ------------\n$p || $q    $p            $q\n$p &amp;&amp; $q    $q            $p\n</code></pre>\n\n<p>A similar definition &mdash;one that returns an input&mdash; can't exist for NOT, so it returns a fresh value.</p>\n"}], "owner": {"reputation": 37, "user_id": 8473065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ee5abf7283ea70135ee319fca7b99a?s=128&d=identicon&r=PG&f=1", "display_name": "illusionist", "link": "https://stackoverflow.com/users/8473065/illusionist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 1, "accepted_answer_id": 45717701, "answer_count": 2, "score": 1, "last_activity_date": 1502898258, "creation_date": 1502893824, "last_edit_date": 1502896429, "question_id": 45716354, "link": "https://stackoverflow.com/questions/45716354/perl-performing-boolean-operations-on-jsonxsboolean", "title": "Perl - Performing boolean operations on JSON::XS::Boolean", "body": "<p>I am currently using the <code>JSON::XS::Boolean</code> to properly encode booleans into <code>JSON</code> format. Is there a way to perform boolean operations on these objects while preserving their ability to be encoded properly?</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse JSON::XS::Boolean;\n\nmy $json = JSON::XS-&gt;new;\n\nprint($json-&gt;encode([JSON::XS::true])); # prints '[true]'\nprint($json-&gt;encode([!JSON::XS::false])); # prints [\"1\"] instead of '[false]'\n</code></pre>\n\n<p>Curiously, the <code>and</code> and <code>or</code> operators seem to behave properly:</p>\n\n<pre><code>print($json-&gt;encode([JSON::XS::false and JSON::XS::false])); # prints '[false]'\nprint($json-&gt;encode([JSON::XS::true &amp;&amp; JSON::XS::true])); # prints '[true]'\nprint($json-&gt;encode([JSON::XS::false and JSON::XS::true])); # prints '[false]'\n\nprint($json-&gt;encode([JSON::XS::false || JSON::XS::false])); # prints '[false]'\nprint($json-&gt;encode([JSON::XS::true or JSON::XS::true])); # prints '[true]'\nprint($json-&gt;encode([JSON::XS::false || JSON::XS::true])); # prints '[true]'\n</code></pre>\n"}, {"tags": ["linux", "bash", "shell", "perl", "awk"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1502891464, "post_id": 45715309, "comment_id": 78388868, "body": "Could you indent your file properly?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1502893136, "post_id": 45715309, "comment_id": 78390126, "body": "Please clean up all those dots and white space and simply post a script that reproduces whatever problem you&#39;re asking about (i.e. a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."}], "answers": [{"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 0, "last_activity_date": 1502891985, "creation_date": 1502891985, "answer_id": 45715642, "question_id": 45715309, "link": "https://stackoverflow.com/questions/45715309/parameters-with-special-characters-in-bash-script/45715642#45715642", "title": "parameters with special characters in bash script", "body": "<p>To prevent special characters to be expanded, you can enclose your variable between double quotes. As an aside you don't have to use awk, just change the IFS:</p>\n\n<pre><code>IFS=,\nwhile read -r param val \ndo\n    echo \"$val\"\ndone &lt; doop.log\n</code></pre>\n"}], "owner": {"reputation": 370, "user_id": 6812415, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/02d474fc529a5b9c35031755bd9cb424?s=128&d=identicon&r=PG&f=1", "display_name": "King David", "link": "https://stackoverflow.com/users/6812415/king-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 45715642, "answer_count": 1, "score": -1, "last_activity_date": 1502893507, "creation_date": 1502891085, "last_edit_date": 1502893507, "question_id": 45715309, "link": "https://stackoverflow.com/questions/45715309/parameters-with-special-characters-in-bash-script", "title": "parameters with special characters in bash script", "body": "<p>We have the following CSV file,</p>\n\n<p>file include parameter and value</p>\n\n<pre><code>      more hadoop.txt\n\n      security.admin.protocol.acl,*\n      security.client.protocol.acl,***\n      xasecure.add-hadoop-authorization,true\n      ranger.plugin.hdfs.policy.rest.ssl.config.file,/etc/hadoop/conf/ranger-policymgr-ssl.xml,\n      ranger.plugin.hdfs.policy.source.impl,org.apache.ranger.admin.client.RangerAdminRESTClient\n      ranger.plugin.hdfs.policy.cache.dir,/etc/ranger/{{repo_name}}/policycache\",\n      ranger.plugin.hdfs.policy.pollIntervalMs,@$!!\n      ranger.plugin.hdfs.service.name,{{repo_name}}\n</code></pre>\n\n<p>the following code is part of my bash script:</p>\n\n<pre><code>while read -r line \ndo \n\nparam=` echo $line |  awk -F ',' '{print $1}' `\nval=` echo $line |  awk -F ',' '{print $2}' `\necho $val\nif [[ $val = $hadoop_val ]]\nthem\n\ndone &lt; $hadoop.txt\n</code></pre>\n\n<p>the problem is when val is <strong>\"*\" or \"@$!!\"</strong> or other special characters then we get different value from:</p>\n\n<pre><code>echo $val \n</code></pre>\n\n<p>how to improve the code in order to get the original values as \"*\" or \"@$!!\" from echo $val</p>\n"}, {"tags": ["php", "perl", "encryption", "aes", "php-openssl"], "comments": [{"owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "edited": false, "score": 3, "creation_date": 1502881600, "post_id": 45711685, "comment_id": 78381746, "body": "If I specify   -literal_key =&gt; 1, -header=&gt;&#39;none&#39; it seems to work  But is that the right thing to do"}], "answers": [{"tags": [], "owner": {"reputation": 3431, "user_id": 2988189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/354d420093f27d42eb40752529cc7279?s=128&d=identicon&r=PG&f=1", "display_name": "Plaute", "link": "https://stackoverflow.com/users/2988189/plaute"}, "is_accepted": false, "score": 0, "last_activity_date": 1516721545, "creation_date": 1516721545, "answer_id": 48405397, "question_id": 45711685, "link": "https://stackoverflow.com/questions/45711685/aes-encryption-in-php-and-decrypt-in-perl/48405397#48405397", "title": "AES encryption in php and decrypt in perl", "body": "<p>Your code comes from <a href=\"http://search.cpan.org/dist/CryptX/lib/Crypt/Cipher/AES.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/dist/CryptX/lib/Crypt/Cipher/AES.pm</a></p>\n\n<p>But there is an error. It gave me </p>\n\n<pre><code> cannot use salt-based IV generation if literal IV is specified\n</code></pre>\n\n<p>CBC module gives a code which works.</p>\n\n<p>I saw you have added options taken from <a href=\"http://search.cpan.org/~lds/Crypt-CBC-2.33/CBC.pm\" rel=\"nofollow noreferrer\">Crypt CBC module</a> documentation, it works fine for me too.</p>\n"}], "owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2455, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1516721545, "creation_date": 1502881014, "last_edit_date": 1502908758, "question_id": 45711685, "link": "https://stackoverflow.com/questions/45711685/aes-encryption-in-php-and-decrypt-in-perl", "title": "AES encryption in php and decrypt in perl", "body": "<p>My perl script is not to decrypt a AES encrypted string in php</p>\n\n<p>I think I am missing something here , Are there any sample scripts available to decrypt in perl with an IV </p>\n\n<p>This is the Encrypt script in php </p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n  $encryption_key = base64_decode('OhjsqEflVL1GNteBIgpD1ngMvS3vVicAkfTyerJjr/c=');\n  $iv = \"1234567812345678\";\n  $data = \"PLAIN TEXT\";\n  $encrypted = openssl_encrypt($data, 'aes-256-cbc', $encryption_key, OPENSSL_RAW_DATA, $iv);\n  print \"Encrypted string = &lt;\".base64_encode($encrypted).\"&gt;\\n\";\n\n  $decrypted = openssl_decrypt($encrypted,'aes-256-cbc', $encryption_key, OPENSSL_RAW_DATA , $iv);\n  print \"DECRYPTED DATA=&lt;$decrypted&gt;\\n\";\n?&gt;\n</code></pre>\n\n<p>This is the decrypt script in perl</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use Crypt::CBC;\nuse Crypt::Cipher::AES;\nuse MIME::Base64 qw(decode_base64);\nuse strict;\nmy $key=decode_base64('OhjsqEflVL1GNteBIgpD1ngMvS3vVicAkfTyerJjr/c=')\nmy $iv = \"1234567812345678\";\n$iv=undef;\nmy $cbc = Crypt::CBC-&gt;new( -cipher=&gt;'Cipher::AES', -key=&gt;$key, -iv=&gt;$iv );\nmy $plaintext = $cbc-&gt;decrypt(decode_base64('sR9aVLpjHgpbM7Kw8hb7Ig=='));\nprint \"$plaintext\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1502887195, "post_id": 45713383, "comment_id": 78385619, "body": "Thanks for your answer. <i>For example figure3 should be deleted and the line should be merged with previous line</i>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1502887288, "post_id": 45713383, "comment_id": 78385694, "body": "The scenario is merge lines around with figure opening and closing while around having a single enter. Not consider the double enter before and after in figures."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1502892496, "post_id": 45713383, "comment_id": 78389602, "body": "Yes. This is what I expected. Awesome."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 1, "last_activity_date": 1502890517, "last_edit_date": 1502890517, "creation_date": 1502885974, "answer_id": 45713383, "question_id": 45711162, "link": "https://stackoverflow.com/questions/45711162/regex-for-lookaround-to-fetch-the-matched-contents/45713383#45713383", "title": "Regex for lookaround to fetch the matched contents", "body": "<p>Not sure to well understand your needs, but a simple replace should work:</p>\n\n<pre><code>my $FigMove = &lt;&lt;'EOD';\nr_{2}, T)$ for any $ T&gt;0  $. This fact is verified by the numerical\nsimulation in Figure 1.\n\n\\begin{figure1}\n  % Requires \\usepackage{graphicx}\n  \\center\n  \\includegraphics[width=14cm]{liu1727.eps}\\\\\n  \\caption{Numerical solutions $x(t)=(x_1(t),x_2(t))^T$ of systems (3.1) for  initial value $(1.2,-1.3)^T, (0.3,-0.4)^T$. }\n\\end{figure1}\n\nFrom (3.2), we can choose $\\sigma=0.01$ such that $(2.15)$ holds.\n\nstability for FCNNs with   proportional delays and oscillating\nleakage coefficients.  In particular, such topic has not been\n\\begin{figure3}\n  % Requires \\usepackage{graphicx}2\n  \\center\n  \\includegraphics[width=14cm]{liu2727.eps}\\\\\n  \\caption{Synchronous errors of system (3.1) $x(t)-x^*(t)=(x_1(t)-x_1^*(t),x_2(t)-x_2^*(t))^T$  with  initial value $(2,-3)^T, (-7,6)^T, (4,-5)^T$. }\n\\end{figure3}\ntouched in most recently references [28--33] on FCNNs.\n Thus, all the results in these literature and the references\nEOD\n\n\n$FigMove =~ s/(?&lt;!\\n)\\n\\\\begin\\{(figure\\d+)\\}((?:(?!\\\\end\\{\\1\\}).)*)\\\\end\\{\\1\\}\\n(?!\\n)//gs;\nprint $FigMove,\"\\n\";\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>r_{2}, T)$ for any $ T&gt;0  $. This fact is verified by the numerical\nsimulation in Figure 1.\n\n\\begin{figure1}\n  % Requires \\usepackage{graphicx}\n  \\center\n  \\includegraphics[width=14cm]{liu1727.eps}\\\\\n  \\caption{Numerical solutions $x(t)=(x_1(t),x_2(t))^T$ of systems (3.1) for  initial value $(1.2,-1.3)^T, (0.3,-0.4)^T$. }\n\\end{figure1}\n\nFrom (3.2), we can choose $\\sigma=0.01$ such that $(2.15)$ holds.\n\nstability for FCNNs with   proportional delays and oscillating\nleakage coefficients.  In particular, such topic has not beentouched in most recently references [28--33] on FCNNs.\n Thus, all the results in these literature and the references\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 45713383, "answer_count": 1, "score": 0, "last_activity_date": 1502892884, "creation_date": 1502879410, "last_edit_date": 1592644375, "question_id": 45711162, "link": "https://stackoverflow.com/questions/45711162/regex-for-lookaround-to-fetch-the-matched-contents", "title": "Regex for lookaround to fetch the matched contents", "body": "<p>My Code:</p>\n<pre><code>#---------------&gt;\nsub FigureMoves\n#---------------&gt;\n{\n    my $FigMove = shift;\n\n    my ($fpre,$fmatchs,$fposts) = &quot;&quot;;\n    while($FigMove=~m/(\\S)\\s?\\\\begin\\{(figure\\d+)\\}((?:(?!\\\\end\\{\\2\\}).)*)\\\\end\\{\\2\\}\\s?(\\S)/gs)\n    {\n        $fpre = $fpre.$`; $fmatchs = $&amp;; $fposts = $';\n\n        print &quot;$fmatchs\\n&quot;;\n\n        $fpre = $fpre.$fmatchs; $FigMove = $fposts;\n    }\n    if(length $fpre) {  $FigMove = $fpre.$fposts;  }\n\n    return $FigMove;\n}\n</code></pre>\n<p>Input Contents:</p>\n<pre><code>r_{2}, T)$ for any $ T&gt;0  $. This fact is verified by the numerical\nsimulation in Figure 1.\n\n\\begin{figure1}\n  % Requires \\usepackage{graphicx}\n  \\center\n  \\includegraphics[width=14cm]{liu1727.eps}\\\\\n  \\caption{Numerical solutions $x(t)=(x_1(t),x_2(t))^T$ of systems (3.1) for  initial value $(1.2,-1.3)^T, (0.3,-0.4)^T$. }\n\\end{figure1}\n\nFrom (3.2), we can choose $\\sigma=0.01$ such that $(2.15)$ holds.\n\nstability for FCNNs with   proportional delays and oscillating\nleakage coefficients.  In particular, such topic has not been\n\\begin{figure3}\n  % Requires \\usepackage{graphicx}2\n  \\center\n  \\includegraphics[width=14cm]{liu2727.eps}\\\\\n  \\caption{Synchronous errors of system (3.1) $x(t)-x^*(t)=(x_1(t)-x_1^*(t),x_2(t)-x_2^*(t))^T$  with  initial value $(2,-3)^T, (-7,6)^T, (4,-5)^T$. }\n\\end{figure3}\ntouched in most recently references [28--33] on FCNNs.\n Thus, all the results in these literature and the references\n</code></pre>\n<p>In this case I found single and double entermark before <em>begin{figure}</em> and <em>end{figure}</em>. If the single entermark found before and after the <em>figure</em> then I delete the <em>figure</em> and merge the line with the previous line.</p>\n<blockquote>\n<p>For example figure3 should be deleted and the line should be merged with previous line.</p>\n<p>&quot;<em>stability for FCNNs with   proportional delays and oscillating\nleakage coefficients.  In particular, such topic has not <strong>been touched</strong> in most recently references [28--33] on FCNNs.\nThus, all the results in these literature and the references</em>&quot;</p>\n</blockquote>\n<p>Could you please anyone give a path to get the output.</p>\n"}, {"tags": ["windows", "apache", "perl", "storage", "powerpoint"], "owner": {"reputation": 548, "user_id": 1999993, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9b7da1af8676e540eb7d81c770e273c2?s=128&d=identicon&r=PG&f=1", "display_name": "IpsRich", "link": "https://stackoverflow.com/users/1999993/ipsrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1503301417, "creation_date": 1502876749, "last_edit_date": 1503301417, "question_id": 45710233, "link": "https://stackoverflow.com/questions/45710233/script-works-on-windows-server-2003-but-returns-error-0x8007000e-on-windows-serv", "title": "Script works on Windows Server 2003 but returns error 0x8007000e on Windows Server 2012", "body": "<p>I've a Perl script that forks in order to use <code>Win32::OLE</code> to extract PNGs of slides from a Powerpoint presentation.  I'm in the process of migrating it from my old server (Windows Server 2003) to a new server (Windows Server 2012).  The script works fine on the old server (which has Microsoft Office 2010) but on the new server (with Microsoft Office 2016), the script bombs with an error about there not being enough storage available:</p>\n\n<pre><code>Win32::OLE(0.1712) error 0x8007000e: \"Not enough storage is available to complete this operation\"\n</code></pre>\n\n<p>I've found quite a few references to this error code, but none particularly useful.  Whilst <a href=\"https://support.microsoft.com/en-gb/help/890425/you-receive-a-not-enough-storage-is-available-to-complete-this-operati\" rel=\"nofollow noreferrer\">this Microsoft support article</a> says what the problem is and what to do to fix it, I have no idea why this is suddenly an issue now I'm moving to a different server and it doesn't seem to apply to my situation.</p>\n\n<p>The new server has loads of spare disk space and RAM, so there should be plenty to go around.  (The old server has far less of both, but that still works.)</p>\n\n<p>Could this be something to do with the new server being 64-bit?</p>\n\n<p>Could it be because of the differing versions of Office?</p>\n\n<p>Could Apache or Perl be configured differently by default than when installed on the old server?  (It's a new installation of each, but from the same source as on the old server, and I can't find any configuration that limits memory.)</p>\n\n<p>One interesting point that leads me to believe that it's something to do with the script running via Apache (v2.4.27) is that if I run it from the command line (requiring a minor modification), it works fine.  Apache runs as a service and I've tried running it as the same user for which it works on the command line, and that has no impact.</p>\n\n<p>I've run out of places to look and things to try now, so any help would be appreciated.</p>\n\n<p>UPDATE (21 August): Since nobody seems to have any ideas, I refactored my code slightly so that it gets called via a scheduled task.  That works fine, supporting my theory that it's something to do with it being run via Apache.  I'll keep this question open, partly in case a solution is presented and partly in case my workaround can help anyone else who has a similar problem.</p>\n"}, {"tags": ["linux", "git", "perl", "installation", "fedora"], "answers": [{"tags": [], "owner": {"reputation": 1010, "user_id": 55276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454038f12793de98a5cb28f9c00ef728?s=128&d=identicon&r=PG", "display_name": "Fayland Lam", "link": "https://stackoverflow.com/users/55276/fayland-lam"}, "is_accepted": false, "score": 0, "last_activity_date": 1502872688, "creation_date": 1502872688, "answer_id": 45708840, "question_id": 45706762, "link": "https://stackoverflow.com/questions/45706762/fedora-24-64bit-git-install-perl-devel-parsexs-install/45708840#45708840", "title": "Fedora 24 (64bit) Git install (perl-devel, ParseXs install)", "body": "<p>you can try carton.</p>\n\n<ul>\n<li>write a cpanfile</li>\n<li>carton install on one server with internet</li>\n<li>carton bundle</li>\n<li>then scp those .tar.gz or whatever to the server do not have internet</li>\n<li>carton install --cached (or cpanm the .tar.gz directly)</li>\n<li>once done, move those files under local to the system dir.</li>\n</ul>\n\n<p><a href=\"https://metacpan.org/pod/Carton\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Carton</a></p>\n\n<hr>\n\n<p>another way is that you can install all those modules with the server has internet (same OS), then scp or rsync the installed files)</p>\n\n<p>Thanks</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1502873672, "creation_date": 1502873672, "answer_id": 45709139, "question_id": 45706762, "link": "https://stackoverflow.com/questions/45706762/fedora-24-64bit-git-install-perl-devel-parsexs-install/45709139#45709139", "title": "Fedora 24 (64bit) Git install (perl-devel, ParseXs install)", "body": "<p>Firstly, do you realise that Fedora 24 support ended last week? You are now using an unsupported operating system. I recommend upgrading to Fedora 25 or 26 as soon as possible.</p>\n\n<p>Secondly, the version of <code>git</code> that is available for Fedora 24 is 2.7.4. You can download the RPM for this version from <a href=\"https://fedora.pkgs.org/24/fedora-x86_64/git-2.7.4-1.fc24.x86_64.rpm.html\" rel=\"nofollow noreferrer\">here</a>. If you specifically need an older version, then perhaps you could explain why you think that (it's rarely true in my experience).</p>\n\n<p>Thirdly, I think you're running up against <a href=\"https://perlhacks.com/2012/08/a-cautionary-tale/\" rel=\"nofollow noreferrer\">Fedora's deliberately broken Perl installation</a>. What you really want to do is to install the <a href=\"https://fedora.pkgs.org/26/fedora-x86_64/perl-core-5.24.1-390.fc26.x86_64.rpm.html\" rel=\"nofollow noreferrer\">perl-core RPM</a> (but that has dozens of dependencies that you will need to download).</p>\n\n<p>To solve your current circular dependency problem, try installing both RPMs at the same time.</p>\n\n<pre><code>$ sudp rpm -ivh perl-ExtUtils-MakeMaker-*.rpm perl-ExtUtils-Install-*.rpm\n</code></pre>\n\n<p>But your life is going to get a lot easier if you can connect this machine to the internet - even temporarily.</p>\n"}], "owner": {"reputation": 136, "user_id": 7661917, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/edf8453d75d44d99440bbb28c1afb2f0?s=128&d=identicon&r=PG&f=1", "display_name": "\uc774\uacbd\uc5b8", "link": "https://stackoverflow.com/users/7661917/%ec%9d%b4%ea%b2%bd%ec%96%b8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 45709139, "answer_count": 2, "score": 0, "last_activity_date": 1502873672, "creation_date": 1502866052, "last_edit_date": 1502870604, "question_id": 45706762, "link": "https://stackoverflow.com/questions/45706762/fedora-24-64bit-git-install-perl-devel-parsexs-install", "title": "Fedora 24 (64bit) Git install (perl-devel, ParseXs install)", "body": "<p>Server OS is Fedora 24. 64bit.</p>\n\n<p>I want to install Git 2.6.6. </p>\n\n<p>So download source code and installed.</p>\n\n<p>This server is offline. So i don't use 'yum'.</p>\n\n<pre><code>./configure --prefix=/usr/local/git-2.6.6\nmake prefix=/usr/local/git-2.6.6 all\n</code></pre>\n\n<p>this is error message.</p>\n\n<pre><code>Can't locate ExtUtils/MakeMaker.pm in @INC (you may need to install the ExtUtils::MakeMaker module) (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at Makefile.PL line 3.\n</code></pre>\n\n<p>So I install ExUtils::MakeMaker.</p>\n\n<p>First I download rpm file(<a href=\"https://fedora.pkgs.org/24/fedora-x86_64/perl-ExtUtils-MakeMaker-7.10-4.fc24.noarch.rpm.html\" rel=\"nofollow noreferrer\">https://fedora.pkgs.org/24/fedora-x86_64/perl-ExtUtils-MakeMaker-7.10-4.fc24.noarch.rpm.html</a>)</p>\n\n<p>And install rpm file</p>\n\n<pre><code>[root@swcm \ub2e4\uc6b4\ub85c\ub4dc]# rpm -ivh perl-ExtUtils-MakeMaker-7.10-4.fc24.noarch.rpm \n\uc624\ub958: Failed dependencies:\n    perl(ExtUtils::Install) &gt;= 1.52 is needed by perl-ExtUtils-MakeMaker-7.10-4.fc24.noarch\n    perl(ExtUtils::Installed) is needed by perl-ExtUtils-MakeMaker-7.10-4.fc24.noarch\n    perl(ExtUtils::Packlist) is needed by perl-ExtUtils-MakeMaker-7.10-4.fc24.noarch\n    perl-ExtUtils-ParseXS is needed by perl-ExtUtils-MakeMaker-7.10-4.fc24.noarch\n\n[root@swcm \ub2e4\uc6b4\ub85c\ub4dc]# rpm -ivh perl-ExtUtils-Install-1.54-3.noarch.rpm\n\uacbd\uace0: perl-ExtUtils-Install-1.54-3.noarch.rpm: Header V3 DSA/SHA1 Signature, key ID 4026433f: NOKEY\n\uc624\ub958: Failed dependencies:\n    perl(ExtUtils::MakeMaker) is needed by perl-ExtUtils-Install-1:1.54-3.noarch\n    perl(VMS::Filespec) is needed by perl-ExtUtils-Install-1:1.54-3.noarch\n</code></pre>\n\n<p>perl-ExtUtils-MakeMaker need to  perl-ExtUtils-Install.</p>\n\n<p>perl-ExtUtils-Install need to perl-ExtUtils-MakeMaker.</p>\n\n<p>I don't know. What should I do?</p>\n"}, {"tags": ["perl", "grep"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 3, "creation_date": 1502833796, "post_id": 45701745, "comment_id": 78362516, "body": "Perl grep is not system grep. You have to open the file and search for the line you are looking for. If you want to use system grep, why not use bash?"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1502848679, "post_id": 45702816, "comment_id": 78366255, "body": "But grep&#39;s status tells you if it matched"}, {"owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1502892534, "post_id": 45702816, "comment_id": 78389628, "body": "Just a follow up, you have <code>my @dirs = qw(one two three); </code> and you say to change it to suitable names, but in my case, there&#39;s over a hundred (and in some instances thousands) of test names. How would I implement it in that case?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1502905064, "post_id": 45702816, "comment_id": 78397959, "body": "@Javia1492  Thank you for the attribution.  Now, that follow up is the part that is unclear to me, what I refer to. From what I gather, you have some directories (<code>@dirs</code> in my example), and then you also have some &quot;test names,&quot; but which aren&#39;t explained.  I guessed that they are related to directory names in some way, and as an example I append <code>_$dir</code> to a fixed string.  How are these names related to directories? Or is that simply a bunch of tests that you run for each directory (with unrelated names)? Can you explain this?"}, {"owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1502906135, "post_id": 45702816, "comment_id": 78398506, "body": "@zdim The relationship is that I have some top level directory <b>testout</b> which contains subdirectories with the naming convention <i>testname.1</i>. Inside this directory are a bunch of files, one of which is the <b>vsim.log</b> file which i want to parse. Each subdirectory contains this log file, which contains info related to that test. So the big picture is something like <i>testout/mytestname.1/vsim.log</i>. From what this script already contains, it seems the current working directory is <i>testout</i>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1502906903, "post_id": 45702816, "comment_id": 78398939, "body": "@Javia1492  OK. Then you can first do <code>chdir &quot;testout&quot;;</code> for instance. Then obtain the list of directories, say by <code>my @dirs = grep { -d &amp;&amp; &#47;\\.\\d+$&#47; } glob &quot;*&quot;;</code> (all directories ending with <code>.number</code>) or some such.  Then for each dir form the &quot;test name&quot; by stripping the extension.  I take it that a dir <code>testname.N</code> corresponds to <code>testname</code> to be entered in <code>incomplete_tests</code>.  Did I get your setup right? (All of this even fits right in this little script here.)"}, {"owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1502907452, "post_id": 45702816, "comment_id": 78399220, "body": "@zdim Yea, that&#39;s pretty much it. The only unknown is whether I need to chdir to testout or not but that&#39;s something I need to determine myself based on what the current script contains."}, {"owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1502907718, "post_id": 45702816, "comment_id": 78399358, "body": "I should add that the place in the script I want to add the code is in a subroutine which is being called inside a <code>for</code> loop. It seems that it will loop based on the number of expected tests in the folder and call the <code>check_status</code> subroutine which is passed a <code>$cur_test_name</code> and a <code>$pass_fail_string</code> which will either be <code>Test FAILED</code>, <code>Test PASSED</code>, or <code>Test FAILED! Test did not end properly</code>. The default case is just incompletes."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502907819, "post_id": 45702816, "comment_id": 78399412, "body": "Alright. [<i>This is a response to the message previous to your last one, which I just see.</i>]  I&#39;ll adjust the script above to this.  As for <code>chdir</code>-ing: you can form the full names to the directories and use that.  Or you can <code>chdir &quot;testout&quot;;</code> and then get the list.  With a list of directories you can <code>chdir</code> to each, as you asked and this script does.  Or, you can just use full paths for everything.  That is a matter of what else is done, and indeed a matter of choice."}, {"owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1502978656, "post_id": 45702816, "comment_id": 78432246, "body": "@zdim Was the script adjusted?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1502991383, "post_id": 45702816, "comment_id": 78440762, "body": "@Javia1492  I am just back at it now.  Your last edit threw me for the loop -- I appreciate that you show detail but it&#39;s hard to see what the code does overall.  I&#39;ll first adjust to what we talked about above, before that edit."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1502906013, "last_edit_date": 1502906013, "creation_date": 1502838501, "answer_id": 45702816, "question_id": 45701745, "link": "https://stackoverflow.com/questions/45701745/using-grep-to-find-matching-patterns-within-files-in-different-directories-via-p/45702816#45702816", "title": "Using grep to find matching patterns within files in different directories via perl", "body": "<p>First off, there is no reason to go out to the system in order to search files for patterns; process files. </p>\n\n<p>Next, if you <em>were</em> to do it <code>system</code> is a wrong tool. For one, it doesn't return the command's <code>STDOUT</code> but rather the exit status (<code>$?</code>). Here you only need to know <em>whether</em> there were matches and <code>grep</code> exit does convey this, and is packaged into the high bits of <a href=\"https://perldoc.perl.org/perlvar.html#$?\" rel=\"nofollow noreferrer\">$?</a>. Thanks to <a href=\"https://stackoverflow.com/users/17389/ysth\">ysth</a> for a comment. </p>\n\n<p>However, your code still won't see errors since any non-zero return is true under <code>if</code>. You'd need to analyze <code>$?</code>, and if <code>$? &gt;&gt; 8 == 0</code> that means that there were matches, according to <code>grep</code>'s man page.  But then the utility of this approach is limited to <code>grep</code>.</p>\n\n<p>Also, if the design ever changed and you need the output (lines that match for example ), you'd want <code>qx</code> (backticks), or one of a number of other tools/modules. Just do it all in Perl instead.</p>\n\n<p>Here is a working program along the lines of what you want</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse Cwd;\n\nmy @dirs = qw(one two three);   # my tests, change to suitable names\nmy $logfile = 'log.txt';    \nmy $incomplete_tests = 'incomplete_tests.log';\nmy $curr_test_name   = 'current_test';\n\n# regex to search with  \nmy $err_qr = qr/Error: Failure|Error: Unable|FATAL ERROR:/;  #/\n\n# Open log file for append\nopen my $fh_incomp, '&gt;&gt;', $incomplete_tests \n    or die \"Can't open to append $incomplete_tests: $!\";\n\nmy $orig_dir = cwd;\nforeach my $dir (@dirs)\n{\n    chdir $dir or die \"Can't chdir to $dir: $!\";\n    my $updated_name = $curr_test_name . \"_$dir\";  # update as/if needed\n\n    open my $fh, '&lt;', $logfile  or do {\n        warn \"Can't open $logfile: $!\";\n        next;\n    };\n\n    while (&lt;$fh&gt;) {\n        say $fh_incomp $updated_name if /$err_qr/;\n    }   \n\n    chdir $orig_dir or die \"Can't chdir to $orig_dir: $!\";\n}\nclose $fh_incomp;\n</code></pre>\n\n<p>Since I don't understand your full problem this is basic, and with a few guesses.  It goes through a list of directories, checking a log file with the same name in each and recording the \"test name\" each time a line matches the regex composed ahead of time with <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">qr operator</a>. </p>\n\n<p>You can change it to record error-lines as well (add a print), or to record the test name only once per log file (skip to <code>next</code> directory once it matches).</p>\n\n<p>Also note that there is no reason really for <code>chdir</code>, as you can easily use <code>$dir</code> to form proper paths.  I use it in case your real code does more work and can actually benefit from being in <code>$dir</code>.</p>\n\n<p>There are other ways to do this, in the first place by searching for the log-file across all directories and running the same code in each case. This can be done nicely with <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow noreferrer\">File::Find::Rule</a> or <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a>.</p>\n"}], "owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 1, "accepted_answer_id": 45702816, "answer_count": 1, "score": -1, "last_activity_date": 1502908017, "creation_date": 1502832099, "last_edit_date": 1502908017, "question_id": 45701745, "link": "https://stackoverflow.com/questions/45701745/using-grep-to-find-matching-patterns-within-files-in-different-directories-via-p", "title": "Using grep to find matching patterns within files in different directories via perl", "body": "<p>Im modifying an existing perl script which checks the status of some tests ran by going to their directory and parsing for pass, fail, or incomplete. I want to extend this script to generate a sublist containing the incompleted tests based on 3 strings:</p>\n\n<pre><code>\"Error: Failure to checkout svverification license feature.\" \n\"Error: Unable to checkout verification license - required for testbench features\" \n\"FATAL ERROR: License connection lost and unable to reconnect after multiple attempts.\" \n</code></pre>\n\n<p>Each test name has its own directory and inside the directory is a log file named <code>vsim.log</code>. I could do this directory with a <code>grep</code>, but I figured it would be nice to implement it into the script so I dont have to manually <code>grep</code> every time there are incompletes.</p>\n\n<p>The script has a variable <code>$cur_test_name</code> which I was going to use to perform this since I have to make sure to go into the proper sub-directory.</p>\n\n<pre><code>chdir(\"/testout/$cur_test_name.1/\") or die \"Cannot chdir to /testout/$cur_test_name.t\";\nif(system(grep -f \"Error: Failure to checkout svverification license feature.\" vsim.log) or \nsystem(grep -f \"Error: Unable to checkout verification license - required for testbench features\" vsim.log) or \nsystem(grep -f \"# FATAL ERROR: License connection lost and unable to reconnect after multiple attempts.\" vsim.log))\n{\n   open($incomplete_tests, '&gt;'; 'incompletes.lst') or die \"Cannot open file $!in write mode\";\n   print {$incomplete_tests} $cur_Test_name . \"\\n\";    \n   close $incomplete_tests;\n}\n chdir(\"../../\") or die \"Cannot chdir to ../../\";\n</code></pre>\n\n<p>So basically, I want to change directory to the subdirectory and check inside the vsim.log file of those patterns exist. If they create a new file via open (I think this is how its done?) and write the test name variable into the file. Then i close the file, and go back to the top level directory and repeat this for each test that is incomplete.</p>\n\n<p>But this does not compile and Im new to perl so im having trouble figuring out how to use <code>system()</code> properly. I've seen different formats and I've seen some solutions using only <code>grep</code> without <code>system</code> so Im kind of stuck.</p>\n\n<p>The errors i get are the following:</p>\n\n<pre><code>Bareword found where operator expected at bin/run_regress.pl line 1279, near \"\"Error: Failure to checkout svverification license feature.\" vsim\"\n        (Missing operator before vsim?)\nBareword found where operator expected at bin/run_regress.pl line 1279, near \"\"Error: Unable to checkout verification license - required for testbench features\" vsim\"\n        (Missing operator before vsim?)\nBareword found where operator expected at bin/run_regress.pl line 1279, near \"\"# FATAL ERROR: License connection lost and unable to reconnect after multiple attempts.\" vsim\"\n        (Missing operator before vsim?)\nNot enough arguments for grep at bin/run_regress.pl line 1279, near \"\"Error: Failure to checkout svverification license feature.\" vsim\"\nsyntax error at bin/run_regress.pl line 1279, near \"\"Error: Failure to checkout svverification license feature.\" vsim\"\nGlobal symbol \"$cur_Test_name\" requires explicit package name at bin/run_regress.pl line 1282.\nsyntax error at bin/run_regress.pl line 1287, near \"}\"\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The place where I want to place my code is in the following part of the script:</p>\n\n<pre><code>for(my $j=0;$j&lt;$number_of_bfm_based_smoke_100pin_tests;$j++)\n{\n    chdir(\"../rtl_mcu_bfm_qfn_100/\") or die \"Cannot chdir to ../rtl_mcu_bfm_qfn_100\";\n    $curr_test_name = $bfm_based_smoke_100pin_tests[$j] ;\n    process_test_name($curr_test_name);\n    check_status($sim_process_out[1],$bfm_based_smoke_100pin_tests[$j],$seed,\"BFM\");\n    $sr_nu++;\n    chdir($start_dir);\n}\n</code></pre>\n\n<p>and the <code>check_status</code> subroutine is </p>\n\n<pre><code>sub check_status\n{\n   my ( $pass_fail_string,$cur_test_name,$seed_val,$xdata_mstr) = @_;\n   if ($pass_fail_string =~ /Test FAILED! Test did not end properly/)\n   {\n       # ===== THIS IS WHERE I WANT TO PLACE MY CODE ===== #\n       $incomplete_cnt++ ;\n       printf (STORE_REGRESS_RSLT \"|%9d|%78s|%7d|%11s|%12s|\\n\",$sr_nu,$cur_test_name,$seed_val,\"-\",$xdata_mstr);\n   }\n   elsif ($pass_fail_string =~ /Test PASSED/)\n   {\n       $pass_cnt++; \n       printf (STORE_REGRESS_RSLT \"|%9d|%78s|%7d|%11s|%12s|\\n\",$sr_nu,$cur_test_name,$seed_val,\"PASSED\",$xdata_mstr);\n   }\n   elsif ($pass_fail_string =~ /Test FAILED/)\n   {\n       $fail_cnt++; \n       printf (STORE_REGRESS_RSLT \"|%9d|%78s|%7d|%11s|%12s|\\n\",$sr_nu,$cur_test_name,$seed_val,\"FAILED\",$xdata_mstr);\n   }\n   else\n   {\n       $incomplete_cnt++ ;\n       printf (STORE_REGRESS_RSLT \"|%9d|%78s|%7d|%11s|%12s|\\n\",$sr_nu,$cur_test_name,$seed_val,\"-\",$xdata_mstr);\n   }\n}\n</code></pre>\n"}, {"tags": ["linux", "perl", "csv", "json"], "comments": [{"owner": {"reputation": 476, "user_id": 498267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQ8zV.png?s=128&g=1", "display_name": "Ouki", "link": "https://stackoverflow.com/users/498267/ouki"}, "edited": false, "score": 0, "creation_date": 1502813356, "post_id": 45698116, "comment_id": 78354589, "body": "Basically you are expecting a hash of array of hash ... structure, but it seems it is not."}, {"owner": {"user_type": "does_not_exist", "display_name": "jango"}, "reply_to_user": {"reputation": 476, "user_id": 498267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQ8zV.png?s=128&g=1", "display_name": "Ouki", "link": "https://stackoverflow.com/users/498267/ouki"}, "edited": false, "score": 0, "creation_date": 1502813588, "post_id": 45698116, "comment_id": 78354590, "body": "so what is the problem here?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1502872325, "creation_date": 1502872325, "answer_id": 45708731, "question_id": 45698116, "link": "https://stackoverflow.com/questions/45698116/perl-convert-json-to-csv-file/45708731#45708731", "title": "perl + convert json to csv file", "body": "<p>Your error is this:</p>\n\n<blockquote>\n  <p>Not a HASH reference at ./uri.pl line 15,  line 1.</p>\n</blockquote>\n\n<p>Looks like the line it is complaining about is this:</p>\n\n<pre><code>foreach my $player_id ( keys %{$json_data} ) {\n</code></pre>\n\n<p>In this line, you assume that <code>$json_data</code> is a reference to a hash and you try to dereference it with <code>%{$json_data}</code>. But it seems that <code>$json_data</code> doesn't contain a reference to a hash. Perl hates it if you try to treat something that isn't a hash reference as if it was a hash reference, so it throws the error that you see and kills the program.</p>\n\n<p>So you need to know what is in <code>$json_data</code> if it isn't a hash reference. There are a few ways to do that.</p>\n\n<ol>\n<li>You could look at the contents of your <code>players.json</code> file. If the JSON data in that file is a hash, it will start with a <code>{</code> character.</li>\n<li>You could print a dump of <code>$json_data</code> inside your program using something like <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a>. Once again, a data structure that is a hash reference will start with a <code>{</code>.</li>\n<li>You could use <a href=\"https://perldoc.perl.org/functions/ref.html\" rel=\"nofollow noreferrer\"><code>ref()</code></a> to print what <code>$json_data</code> is a reference to - <code>print ref $json_data</code>.</li>\n</ol>\n\n<p>In my experience, JSON data is either stored in a hash or an array. I suspect you'll find that one of two things is true.</p>\n\n<ol>\n<li><code>players.json</code> does not contain valid JSOM, so your call to <code>decode_json()</code> is failing and <code>$json_data</code> is undefined.</li>\n<li><code>players.json</code> contains an array, rather than a hash.</li>\n</ol>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1502817694, "question_id": 386231}, "owner": {"user_type": "does_not_exist", "display_name": "jango"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1044, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1502872325, "creation_date": 1502812186, "question_id": 45698116, "link": "https://stackoverflow.com/questions/45698116/perl-convert-json-to-csv-file", "title": "perl + convert json to csv file", "body": "<p>the following perl script should convert json to csv</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse JSON;\n\nmy $file = 'players.json';\n\nopen( my $input, \"&lt;\", $file ) or die $!;\n\nmy $json_data = decode_json(\n   do { local $/; &lt;$input&gt; }\n);\n foreach my $player_id ( keys %{$json_data} ) {\n foreach my $fixture (\n      @{ $json_data-&gt;{$player_id}-&gt;{fixture_history}-&gt;{all} } )\n  {\n       print join( \",\",\n          $player_id, $json_data-&gt;{$player_id}-&gt;{web_name},\n           @{$fixture}, \"\\n\", );\n    }\n\n   }\n</code></pre>\n\n<p>json file is under /tmp folder - players.json</p>\n\n<pre><code>ls /tmp | grep  players.json\nplayers.json\n</code></pre>\n\n<p>when I run the script under /tmp I get:</p>\n\n<pre><code>./jsonTOcsv.pl\n\nNot a HASH reference at ./uri.pl line 15, &lt;$input&gt; line 1.\n</code></pre>\n\n<p>please advice what is wrong here?</p>\n"}, {"tags": ["perl", "session"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502810228, "post_id": 45695822, "comment_id": 78349945, "body": "You can just add an <code>-expires =&gt; &#39;+10m&#39;</code> to the cookie as well. It will be resent in every request."}, {"owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502810430, "post_id": 45695822, "comment_id": 78350089, "body": "Also, when the session expires how do I delete the session from the folder. I do not clearly understand the meaning of flush()"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502812743, "post_id": 45695822, "comment_id": 78351710, "body": "Why do you need the cookie to expire? Why don&#39;t you just delete it when the session is no longer valid?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502812799, "post_id": 45695822, "comment_id": 78351745, "body": "Using <code>-&gt;load</code> without checking if you have a valid session is bad. You should use <code>-&gt;new</code> instead since it handles all that for you."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 0, "creation_date": 1502810786, "post_id": 45695996, "comment_id": 78350333, "body": "If I set the cookie expiration time to 10 min each time a new session gets created and a new cookie with a new ID respectively?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 1, "creation_date": 1502813596, "post_id": 45695996, "comment_id": 78352221, "body": "@ShivaniSarin I don&#39;t understand your question."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1502810451, "creation_date": 1502810451, "answer_id": 45695996, "question_id": 45695822, "link": "https://stackoverflow.com/questions/45695822/how-to-set-cookie-expiration-time-in-cgisession/45695996#45695996", "title": "How to set cookie expiration time in CGI::Session?", "body": "<p>You are already setting a new relative expire time for your session. Nothing stops you from doing that <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#-expires\" rel=\"nofollow noreferrer\">for the cookie</a> as well.</p>\n\n<pre><code>$session-&gt;expire('+10m');\nmy $cookie = $query-&gt;cookie(\n    -name    =&gt; \"CGISESSID\",\n    -value   =&gt; $session-&gt;id,\n    -path    =&gt; \"/\",\n    -expires =&gt; \"+10m\",\n);\nprint \"Set-Cookie: $cookie\\n\";  \n</code></pre>\n\n<p>Since the cookie will be sent in every response header, the browser will just over-write it in its cookie jar every time.</p>\n\n<p>Since you want both the cookie and the session to expire at the same time, you might want to make that a configuration value, and use a variable in place of the two <code>\"+10m\"</code> strings instead.</p>\n\n<hr>\n\n<p>Also note that if the session has already been expired, a user coming back later should not be a problem. They might <em>reactivate</em> the old ID, but it will be a fresh session that just happens to have the same ID.</p>\n\n<p>If you don't trust that, you can also <a href=\"https://metacpan.org/pod/CGI::Session#is_expired()\" rel=\"nofollow noreferrer\">check if the session is expired</a> after loading it, and <a href=\"https://metacpan.org/pod/CGI::Session#delete()\" rel=\"nofollow noreferrer\">delete it</a> if it has.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 0, "creation_date": 1502826286, "post_id": 45696899, "comment_id": 78358992, "body": "Thanks a lot :) Does this take care of deleting expired sessions?"}, {"owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 0, "creation_date": 1502827227, "post_id": 45696899, "comment_id": 78359498, "body": "I did not understand &quot;Since expired sessions are removed from storage on load, it good to be provided session id to expired sessions. This won&#39;t happen if you expire the cookie at the same time as the session.&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 0, "creation_date": 1502827662, "post_id": 45696899, "comment_id": 78359728, "body": "1)  I specifically recommended that you don&#39;t expire the cookie. 2) Even if you expire the cookie, that assumes everything works perfectly. Clients may not expired their cookies immediately, clocks could be out of sync, and data takes time to travel. 2) You are still misusing <code>-&gt;load</code> even if everything works perfectly.  3) Since you don&#39;t want any of the behaviour of <code>-&gt;load</code>, you shouldn&#39;t use <code>-&gt;load</code>."}, {"owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 0, "creation_date": 1502831031, "post_id": 45696899, "comment_id": 78361322, "body": "as you said I am not using load, and following what you suggested. However, how do I delete the sessions once they expire from the directory? I believe load deletes expired sessions,but now how do I do it?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 0, "creation_date": 1502854415, "post_id": 45696899, "comment_id": 78367500, "body": "Already <a href=\"https://stackoverflow.com/a/45596233/589924\">answered</a> that: Create a cron job that deletes old files."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1502821869, "last_edit_date": 1502821869, "creation_date": 1502813365, "answer_id": 45696899, "question_id": 45695822, "link": "https://stackoverflow.com/questions/45695822/how-to-set-cookie-expiration-time-in-cgisession/45696899#45696899", "title": "How to set cookie expiration time in CGI::Session?", "body": "<p>Using <code>-&gt;load</code> without checking if you have a valid session is bad. You should use <code>-&gt;new</code> instead since it handles all that for you. Both pages should use</p>\n\n<pre><code># Get session id if any.\nmy $sid = $query-&gt;cookie(\"CGISESSID\");\n\n# Load or create session.\nmy $session = CGI::Session-&gt;new(\"driver:file\", $sid, { Directory =&gt; \"/tmp/sessions\" });\n$session-&gt;expire('+10m');\n\n# Update $sid since session id may have changed.\n$sid = $session-&gt;id();\n\nmy $cookie = $query-&gt;cookie(\n   -name   =&gt; \"CGISESSID\",\n   -value  =&gt; $id,\n   -domain =&gt; 'test.com',\n   -secure =&gt; $ENV{SERVER_PROTOCOL} =~ /s\\z/i ? 1 : 0,\n   -path   =&gt; \"/\",\n);\nprint \"Set-Cookie: $cookie\\n\";  \n</code></pre>\n\n<p>When someone logs in, you do something like</p>\n\n<pre><code>$session-&gt;param( user =&gt; $user );\n</code></pre>\n\n<p>When you want to check if someone is logged in, you can use</p>\n\n<pre><code>if (defined($session-&gt;param('user'))) { ... }\n</code></pre>\n\n<hr>\n\n<p>Now, you asked how to cause the cookie to expire. This is done using</p>\n\n<pre><code>-expires =&gt; \"+10m\"\n</code></pre>\n\n<p>But I wouldn't do that. Since expired sessions are removed from storage on load, it good to be provided session id to expired sessions. This won't happen if you expire the cookie at the same time as the session.</p>\n"}], "owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1502821869, "creation_date": 1502809888, "question_id": 45695822, "link": "https://stackoverflow.com/questions/45695822/how-to-set-cookie-expiration-time-in-cgisession", "title": "How to set cookie expiration time in CGI::Session?", "body": "<p>If a new session is created when I log in and a cookie is created too. Everytime I perform an activity in another page, I have written code to increase the session time by 10 minutes. However, after 10 min of the last activity performed, the session will expire(if idle) but it will be created from the cookieID.</p>\n\n<p>Login Page:\nIf credentials are valid-></p>\n\n<pre><code>        my $session = new CGI::Session(\"driver:File\", undef, {Directory=&gt;\"/tmp/sessions\"});         \n        my $sid = $session-&gt;id();           \n        $page = 'page1'; \n\n        my $cookie = $query-&gt;cookie(-name=&gt;\"CGISESSID\",\n                        -value=&gt;$session-&gt;id,\n                        -domain=&gt;'test.com',\n                        path=&gt;\"/\");\n        print \"Set-Cookie: $cookie\\n\";  \n         $session-&gt;expire('+10m'); \n</code></pre>\n\n<p>Page1:(When page1 loads or any activity is performed in page 1)</p>\n\n<pre><code>    my $cookieSid = $query-&gt;cookie(\"CGISESSID\") || undef;\n    my $session;\n    $session    = CGI::Session-&gt;load(undef, $cookieSid, \n    {Directory=&gt;'/tmp/sessions'});\n    $session-&gt;expire('+10m');\n    my $cookie = $query-&gt;cookie(-name=&gt;\"CGISESSID\",\n                                -value=&gt;$session-&gt;id,\n                                 -path=&gt;\"/\");\n    print \"Set-Cookie: $cookie\\n\";  \n</code></pre>\n\n<p>I have set the cookie to expire when the browser is closed. In case when the session expires I want to redirect to the login page. But the above code  will keep initializing sessions with the same cookieID. What should be the cookie expiry time in this case?</p>\n\n<p>How do I handle this situation?</p>\n"}, {"tags": ["perl", "xml-libxml"], "comments": [{"owner": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 0, "creation_date": 1502793534, "post_id": 45691203, "comment_id": 78339842, "body": "Self closing tags is how XML should look if there is no content. It is saving it as valid XML. I don&#39;t believe you will be able to or even should override that as it would make it invalid XML"}, {"owner": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 5, "creation_date": 1502793613, "post_id": 45691203, "comment_id": 78339878, "body": "@Deckerz of course <code>&lt;foo&gt;&lt;&#47;foo&gt;</code> is <i>not</i> invalid XML."}, {"owner": {"reputation": 2862, "user_id": 1577113, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d22577ad505cf263e8daf16f6e3daf4?s=128&d=identicon&r=PG", "display_name": "Petr Matousu", "link": "https://stackoverflow.com/users/1577113/petr-matousu"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 1, "creation_date": 1502793759, "post_id": 45691203, "comment_id": 78339952, "body": "@Deckerz it is not invalid of course as CBroe stated and I need to maintain original style of document as it is produced by an application and to be able to trace changes back."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1502793787, "post_id": 45691203, "comment_id": 78339972, "body": "&quot;to be able to diff files without false hits caused by swapping empty elements to self-closing tags&quot; \u2014 You&#39;re solving the wrong problem. Stop trying to treat XML as not XML. If you want to diff it, use an XML aware diff tool."}, {"owner": {"reputation": 2862, "user_id": 1577113, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d22577ad505cf263e8daf16f6e3daf4?s=128&d=identicon&r=PG", "display_name": "Petr Matousu", "link": "https://stackoverflow.com/users/1577113/petr-matousu"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1502793949, "post_id": 45691203, "comment_id": 78340059, "body": "@Quentin , as you could guess the diff is not what is important to me. But thanks for the comment, I have edited my question."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1502794082, "post_id": 45691203, "comment_id": 78340127, "body": "Since, before you edited the question, diffs were the only reason you gave for desiring this: No, I couldn&#39;t have guessed that."}, {"owner": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 1, "creation_date": 1502795064, "post_id": 45691203, "comment_id": 78340645, "body": "you would have to manually edit the string output of XML. as <code>&lt;foo&gt;&lt;&#47;foo&gt;</code> is not valid and the fact a commercial application uses that is shocking."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 4, "creation_date": 1502795505, "post_id": 45691203, "comment_id": 78340859, "body": "@Deckerz: <i><code>&lt;foo&gt;&lt;&#47;foo&gt;</code> is not valid</i> You keep saying that, but it&#39;s simply not true. <code>&lt;foo&gt;&lt;&#47;foo&gt;</code> is just as valid as <code>&lt;foo &#47;&gt;</code>. The latter is just a shortcut."}, {"owner": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1502795549, "post_id": 45691203, "comment_id": 78340873, "body": "@DaveCross according to XML spec it is not valid."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 4, "creation_date": 1502795748, "post_id": 45691203, "comment_id": 78340980, "body": "@Deckerz: So why does <a href=\"https://www.w3.org/TR/REC-xml/#sec-starttags\" rel=\"nofollow noreferrer\">the XML spec</a> give <code>&lt;br&gt;&lt;&#47;br&gt;</code> as an example of an empty element?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 4, "creation_date": 1502795765, "post_id": 45691203, "comment_id": 78340997, "body": "@Deckerz <a href=\"https://www.w3.org/TR/REC-xml/#sec-starttags\" rel=\"nofollow noreferrer\">according to the spec</a>, the empty tags <code>&lt;foo &#47;&gt;</code> <i>should</i> be used. Quote: <i>Empty-element tags may be used for any element which has no content, whether or not it is declared using the keyword EMPTY. For interoperability, the empty-element tag should be used, and should only be used, for elements which are declared EMPTY.</i>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 3, "creation_date": 1502795814, "post_id": 45691203, "comment_id": 78341017, "body": "@Deckerz ... Furthermore the <a href=\"https://www.w3.org/TR/REC-xml/#dt-interop\" rel=\"nofollow noreferrer\"><i>for interoperability</i></a> means <i>Marks a sentence describing a non-binding recommendation included to increase the chances that XML documents can be processed by the existing installed base of SGML processors which predate the WebSGML Adaptations Annex to ISO 8879.</i> That makes it pretty clear that it&#39;s a recommendation, but not something you HAVE TO do. Only SHOULD. Hence, <code>&lt;foo&gt;&lt;&#47;foo&gt;</code> is just as valid as <code>&lt;foo &#47;&gt;</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 2, "creation_date": 1502795866, "post_id": 45691203, "comment_id": 78341046, "body": "@Deckerz there&#39;s also another very popular one in for XHTML, which is an XML dialect: <code>&lt;script src=&quot;foo.js&quot;&gt;&lt;&#47;script&gt;</code>."}, {"owner": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502796374, "post_id": 45691203, "comment_id": 78341291, "body": "@simbabque go to any XML validator and try both. you will notice an error complaining that the XML must be well formed when you try <code>&lt;foo&gt;&lt;&#47;foo&gt;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 1, "creation_date": 1502796731, "post_id": 45691203, "comment_id": 78341483, "body": "@Deckerz that validators do not implement a specification correctly is nothing new. We&#39;re talking about the spec, not the real world. You&#39;ll always see problems in various programs regarding standard-conformity. Browsers in particular are the most prominent ones. The fact that libxml already parses OP&#39;s document tells us that it cannot be that malformed. libxml is after all the most common parsing library for XML."}, {"owner": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502797447, "post_id": 45691203, "comment_id": 78341869, "body": "@simbabque just because it parses doesnt mean its valid, most XML parser will handle basic error corrections. Which is why LIBXML makes the tag self enclosed."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 2, "creation_date": 1502797507, "post_id": 45691203, "comment_id": 78341903, "body": "@Deckerz: <i>go to any XML validator and try both</i> - I just went to <a href=\"https://www.w3schools.com/xml/xml_validator.asp\" rel=\"nofollow noreferrer\">the first Google result for &quot;XML Validator&quot;</a>. It accepts <code>&lt;foo&gt;&lt;&#47;foo&gt;</code> without complaint. Honestly, it&#39;s probably time you stopped digging :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1502797685, "post_id": 45691203, "comment_id": 78342004, "body": "@DaveCross the w3schools one, seriously? :-) the official w3 one uses libxml2 and also supports it, but it can&#39;t link to a result directly."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502797816, "post_id": 45691203, "comment_id": 78342060, "body": "I used to have a piece of software that read wsdl files but didn&#39;t understand namespaces in front of the tag names. My solution was a text processing script I wrote in Perl to move those into individual namespace attributes on every single element. Then it would work. This question is totally valid, though it could do with a real why, and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I find it an intriguing problem actually."}, {"owner": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502798082, "post_id": 45691203, "comment_id": 78342193, "body": "@simbabque that checks for XHTML not XML unless i have the wrong link. Also note if you just test <code>&lt;test&gt;&lt;&#47;test&gt;</code> on it own it will be valid because it is the root element. if you test it all inside a root element it will fail."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 0, "creation_date": 1502798288, "post_id": 45691203, "comment_id": 78342281, "body": "@Deckerz try this one: <a href=\"https://validator.w3.org/check?fragment=%3C%3Fxml+version%3D%221.0%22%3F%3E%0D%0A%3Croot%3E%3Cfoo%3E%3C%2Ffoo%3E%3Cbar+%2F%3E%3C%2Froot%3E%0D%0A&amp;charset=%28detect+automatically%29&amp;doctype=Inline&amp;group=0&amp;user-agent=W3C_Validator%2F1.3+http%3A%2F%2Fvalidator.w3.org%2Fservices\" rel=\"nofollow noreferrer\">validator.w3.org/&hellip;</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502798716, "post_id": 45691203, "comment_id": 78342494, "body": "@simbabque: Like I said, I just went to the first result. And, yes, I felt dirty :-) And the one at validator.w3.org say it&#39;s for HTML/XHTML. Can it be trusted for XML?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2538, "user_id": 2622892, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2902113df4fb9a260da8ba7ee1707228?s=128&d=identicon&r=PG", "display_name": "Deckerz", "link": "https://stackoverflow.com/users/2622892/deckerz"}, "edited": false, "score": 3, "creation_date": 1502798956, "post_id": 45691203, "comment_id": 78342616, "body": "@Deckerz: I&#39;ve now tried five online validators and none of them object to <code>&lt;foo&gt;&lt;&#47;foo&gt;</code>. Looks like you might be using a broken one. Care to tell us which ones you&#39;re using?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 2, "creation_date": 1502802327, "post_id": 45691203, "comment_id": 78344690, "body": "it would be a bit of a dirty hack, but you could use a regex to correct the empty tags into the way you want?"}, {"owner": {"reputation": 2862, "user_id": 1577113, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d22577ad505cf263e8daf16f6e3daf4?s=128&d=identicon&r=PG", "display_name": "Petr Matousu", "link": "https://stackoverflow.com/users/1577113/petr-matousu"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502802448, "post_id": 45691203, "comment_id": 78344775, "body": "@ChrisTurner: I want to avoid that."}, {"owner": {"reputation": 2862, "user_id": 1577113, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d22577ad505cf263e8daf16f6e3daf4?s=128&d=identicon&r=PG", "display_name": "Petr Matousu", "link": "https://stackoverflow.com/users/1577113/petr-matousu"}, "edited": false, "score": 0, "creation_date": 1502802684, "post_id": 45691203, "comment_id": 78344927, "body": "Actually the xml file I am working with is Ricardo Vectis session file (Vectis is CFD app in automotive for engines). I have found they are using both empty elements and self-closed elements in one file. So my need is rather do not change the file where the texts and attributes remains untouched. My target was not to trigger such a holly war. But thank you all for your time and inputs. Maybe some of you who feel the question is valid would give it votes. I tested the application to read/work libxml modified files and so far it seams ok even with self-clesing tads. Thank you all."}], "answers": [{"comments": [{"owner": {"reputation": 2862, "user_id": 1577113, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d22577ad505cf263e8daf16f6e3daf4?s=128&d=identicon&r=PG", "display_name": "Petr Matousu", "link": "https://stackoverflow.com/users/1577113/petr-matousu"}, "edited": false, "score": 0, "creation_date": 1502804287, "post_id": 45693795, "comment_id": 78345921, "body": "Thank you for your answer. After all I will not use it probably as the application does not complain. In light of that comment war under the question - I am glad for you pointing me to libxml2 xmlsave and its flag, not beeing implemented in perls XML::LibXML."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2862, "user_id": 1577113, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d22577ad505cf263e8daf16f6e3daf4?s=128&d=identicon&r=PG", "display_name": "Petr Matousu", "link": "https://stackoverflow.com/users/1577113/petr-matousu"}, "edited": false, "score": 0, "creation_date": 1502808630, "post_id": 45693795, "comment_id": 78348880, "body": "@PetrMatousu have you tried any other XML modules in Perl to do what you are doing? I <i>think</i> there are some that do not depend on XML::LibXML and they might already behave the way you want."}, {"owner": {"reputation": 2862, "user_id": 1577113, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d22577ad505cf263e8daf16f6e3daf4?s=128&d=identicon&r=PG", "display_name": "Petr Matousu", "link": "https://stackoverflow.com/users/1577113/petr-matousu"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502816033, "post_id": 45693795, "comment_id": 78353676, "body": "@simbabque I was searching among others as well, it looks like LibXML does well what I need. Some others are discouraged like SimpleXML and I need to avaid any data loss. I must made more testing of modified files. And XML:LibXML is nicely documented. Thank you for pointing that out."}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 6, "last_activity_date": 1502810455, "last_edit_date": 1502810455, "creation_date": 1502803507, "answer_id": 45693795, "question_id": 45691203, "link": "https://stackoverflow.com/questions/45691203/how-to-prevent-xmllibxml-to-save-modified-xml-using-self-closing-tag/45693795#45693795", "title": "How to prevent XML::LibXML to save modified xml using self-closing tag", "body": "<p>Unfortunately, <code>XML::LibXML</code> doesn't support libxml2's <code>xmlsave</code> module which has a <a href=\"http://xmlsoft.org/html/libxml-xmlsave.html#xmlSaveOption\" rel=\"nofollow noreferrer\">flag</a> to save without empty tags.</p>\n\n<p>As a workaround you can add an empty text node to empty elements:</p>\n\n<pre><code>for my $node ($doc-&gt;findnodes('//*[not(node())]')) {\n    # Note that appendText doesn't work.\n    $node-&gt;appendChild($doc-&gt;createTextNode(''));\n}\n</code></pre>\n\n<p>This is a bit costly for large documents, but I'm not aware of a better solution.</p>\n\n<p>That said, the fragments <code>&lt;foo&gt;&lt;/foo&gt;</code> and <code>&lt;foo/&gt;</code> are both <em>well-formed</em> and <em>semantically equivalent</em>. Any XML parser or application that treats such fragments differently is buggy.</p>\n\n<hr>\n\n<p>Note that some people believe the XML spec recommends using self-closing tags, but that's not exactly true. The XML spec says:</p>\n\n<blockquote>\n  <p>Empty-element tags may be used for any element which has no content, whether or not it is declared using the keyword EMPTY. For interoperability, the empty-element tag should be used, and should only be used, for elements which are declared EMPTY.</p>\n</blockquote>\n\n<p>This means elements that are declared <a href=\"https://www.w3.org/TR/2008/REC-xml-20081126/#elemdecls\" rel=\"nofollow noreferrer\"><em>EMPTY</em> in a DTD</a>. For other elements, or if no DTD is present, the XML standard advises not to use self-closing tags (<em>\"and should only be used\"</em>). But this is only a non-binding recommendation for interoperability.</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1586940441, "creation_date": 1586940441, "answer_id": 61224728, "question_id": 45691203, "link": "https://stackoverflow.com/questions/45691203/how-to-prevent-xmllibxml-to-save-modified-xml-using-self-closing-tag/61224728#61224728", "title": "How to prevent XML::LibXML to save modified xml using self-closing tag", "body": "<p>There is a package variable</p>\n\n<pre><code>$XML::LibXML::setTagCompression\n</code></pre>\n\n<p>Setting it to a true value forces all empty tags to be printed as <code>&lt;e&gt;&lt;/e&gt;</code>, while a false value forces <code>&lt;e/&gt;</code>.</p>\n\n<p>See <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/Parser.pod#SERIALIZATION\" rel=\"nofollow noreferrer\">SERIALIZATION</a> in the Parser documentation.</p>\n"}], "owner": {"reputation": 2862, "user_id": 1577113, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d22577ad505cf263e8daf16f6e3daf4?s=128&d=identicon&r=PG", "display_name": "Petr Matousu", "link": "https://stackoverflow.com/users/1577113/petr-matousu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 0, "accepted_answer_id": 45693795, "answer_count": 2, "score": 3, "last_activity_date": 1586940441, "creation_date": 1502793478, "last_edit_date": 1502871294, "question_id": 45691203, "link": "https://stackoverflow.com/questions/45691203/how-to-prevent-xmllibxml-to-save-modified-xml-using-self-closing-tag", "title": "How to prevent XML::LibXML to save modified xml using self-closing tag", "body": "<p>The following working code reads my <code>XML</code> file containing lots of empty elements, then applies 2 changes and saves it again under different name. \nBut it also changes empty elements like <code>&lt;element&gt;&lt;/element&gt;</code> to self-closing tags like <code>&lt;element /&gt;</code> which is unwanted.<br>\nHow to <strong>save it not using self-closing tags</strong>?\nOr by another words how to tell <code>XML::LibXML</code> to use empty tags?\nThe original file is produced in commercial application, which uses style with empty elements, so I want to sustain that.</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $filename = 'out.xml';\nmy $dom = XML::LibXML-&gt;load_xml(location =&gt; $filename);\nmy $query = '//scalar[contains(@name, \"partitionsNo\")]/value';\nfor my $i ($dom-&gt;findnodes($query)) {\n$i-&gt;removeChildNodes();\n$i-&gt;appendText('16');\n}\n\nopen my $out, '&gt;', 'out2.xml';\nbinmode $out;\n$dom-&gt;toFH($out);\n# now out2.xml has only self-closing tags where previously \n# were used empty elements\n</code></pre>\n"}, {"tags": ["perl", "unix", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1502784473, "post_id": 45688690, "comment_id": 78335233, "body": "What is the expected output, could you please mention that also in your post."}, {"owner": {"reputation": 3543, "user_id": 6329118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a20c0ed8a82fd967952e2539203af9?s=128&d=identicon&r=PG&f=1", "display_name": "CWLiu", "link": "https://stackoverflow.com/users/6329118/cwliu"}, "edited": false, "score": 2, "creation_date": 1502785817, "post_id": 45688690, "comment_id": 78335939, "body": "You still can use <code>sed -n &#39;&#47;pattern1&#47;,&#47;pattern1&#47;p&#39; input</code> for your request"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1502803606, "post_id": 45688690, "comment_id": 78345505, "body": "Could you give a real example? Are the words <code>start</code>  and <code>end</code> present? Or only <code>patern</code>?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1502821627, "post_id": 45688690, "comment_id": 78356713, "body": "Never use range expressions, always use a flag instead. That means you can&#39;t use sed of course - see <a href=\"https://stackoverflow.com/a/17914105/1745001\">stackoverflow.com/a/17914105/1745001</a> and <a href=\"https://stackoverflow.com/q/23934486/1745001\">stackoverflow.com/q/23934486/1745001</a> for how to print text between conditions."}, {"owner": {"reputation": 61, "user_id": 2623661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea7c7492201fa4a643d9e6b6fa5a56e?s=128&d=identicon&r=PG", "display_name": "user2623661", "link": "https://stackoverflow.com/users/2623661/user2623661"}, "edited": false, "score": 0, "creation_date": 1502926419, "post_id": 45688690, "comment_id": 78406707, "body": "to add clarification to my question: &#39;start&#39; and &#39;end&#39; are prefix keywords to an unknown <code>pattern1</code> that i would like to match."}], "answers": [{"tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": false, "score": 1, "last_activity_date": 1502785105, "creation_date": 1502785105, "answer_id": 45688996, "question_id": 45688690, "link": "https://stackoverflow.com/questions/45688690/grep-or-sed-to-match-a-block-between-start-and-end-using-same-pattern/45688996#45688996", "title": "grep or sed to match a block between start and end using same pattern", "body": "<p>Using awk to print between <code>pattern1</code>s (inclusive):</p>\n\n<pre><code>$ awk '/pattern1/{p=!p;print;next} p' file\npattern1\nline1\nline2\n...\npattern1\n</code></pre>\n\n<p>The regex could be defined better, like <code>/^pattern1$/</code> or <code>$0==\"pattern1\"</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 2623661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea7c7492201fa4a643d9e6b6fa5a56e?s=128&d=identicon&r=PG", "display_name": "user2623661", "link": "https://stackoverflow.com/users/2623661/user2623661"}, "edited": false, "score": 0, "creation_date": 1502926216, "post_id": 45689012, "comment_id": 78406670, "body": "I tried this as you have written it (without do) and it doesnt seem to work. It prints the whole file."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 61, "user_id": 2623661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea7c7492201fa4a643d9e6b6fa5a56e?s=128&d=identicon&r=PG", "display_name": "user2623661", "link": "https://stackoverflow.com/users/2623661/user2623661"}, "edited": false, "score": 0, "creation_date": 1502926403, "post_id": 45689012, "comment_id": 78406704, "body": "@user2623661  I just tried again (it was tested when I posted), copy-pasting the one-liner and running it on a file like your example, with lines added before and after.  It works.  What is your real input like?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 61, "user_id": 2623661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea7c7492201fa4a643d9e6b6fa5a56e?s=128&d=identicon&r=PG", "display_name": "user2623661", "link": "https://stackoverflow.com/users/2623661/user2623661"}, "edited": false, "score": 0, "creation_date": 1502926578, "post_id": 45689012, "comment_id": 78406739, "body": "@user2623661  Hang on ... I noticed your comment, that <code>pattern1</code> is &quot;<i>unknown</i>&quot; -- what do you mean by that? What kind of a thing is it?  Is it just anything that follows &quot;start&quot; (or your actual &quot;<i>prefix keyword</i>&quot;), or is there some rule to what it can be?"}, {"owner": {"reputation": 61, "user_id": 2623661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea7c7492201fa4a643d9e6b6fa5a56e?s=128&d=identicon&r=PG", "display_name": "user2623661", "link": "https://stackoverflow.com/users/2623661/user2623661"}, "edited": false, "score": 0, "creation_date": 1502928896, "post_id": 45689012, "comment_id": 78407237, "body": "it is a &#39;word&#39; meaning no space and has some special characters  [A-Za-z0-9_:]"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 61, "user_id": 2623661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea7c7492201fa4a643d9e6b6fa5a56e?s=128&d=identicon&r=PG", "display_name": "user2623661", "link": "https://stackoverflow.com/users/2623661/user2623661"}, "edited": false, "score": 0, "creation_date": 1502929222, "post_id": 45689012, "comment_id": 78407295, "body": "@user2623661  Thanks, updated, works in my test.  I added multiple such sections to my test file, with other lines before, between, and after."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1503083890, "last_edit_date": 1503083890, "creation_date": 1502785161, "answer_id": 45689012, "question_id": 45688690, "link": "https://stackoverflow.com/questions/45688690/grep-or-sed-to-match-a-block-between-start-and-end-using-same-pattern/45689012#45689012", "title": "grep or sed to match a block between start and end using same pattern", "body": "<p>With the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a> in Perl, patterns aren't tested at the same time</p>\n\n<pre><code>perl -wnE'print if /start ([A-Za-z0-9_:]+)/ ... /end $1/' intput.txt\n</code></pre>\n\n<p><em>Updated to the actual pattern, specified in comments.</em></p>\n\n<p>I tested using captures (in a <code>do</code> block instead of just <code>print</code>) and it worked but problems may lie in wait if there are other captures.  If you <em>don't capture</em> anything in some other regex this works.</p>\n\n<p>Note the use of <code>...</code> instead of <code>..</code>, to <em>not</em> test the right operand until the next evaluation.</p>\n"}, {"comments": [{"owner": {"reputation": 3543, "user_id": 6329118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a20c0ed8a82fd967952e2539203af9?s=128&d=identicon&r=PG&f=1", "display_name": "CWLiu", "link": "https://stackoverflow.com/users/6329118/cwliu"}, "edited": false, "score": 0, "creation_date": 1502786849, "post_id": 45689290, "comment_id": 78336472, "body": "This doesn&#39;t work if empty lines are included between pattern1"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 3543, "user_id": 6329118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a20c0ed8a82fd967952e2539203af9?s=128&d=identicon&r=PG&f=1", "display_name": "CWLiu", "link": "https://stackoverflow.com/users/6329118/cwliu"}, "edited": false, "score": 1, "creation_date": 1502788946, "post_id": 45689290, "comment_id": 78337600, "body": "@CWLiu: OP haven&#39;t mentioned that, not an issue. I have added one more solution to deal with empty lines also."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 0, "last_activity_date": 1502788909, "last_edit_date": 1502788909, "creation_date": 1502786042, "answer_id": 45689290, "question_id": 45688690, "link": "https://stackoverflow.com/questions/45688690/grep-or-sed-to-match-a-block-between-start-and-end-using-same-pattern/45689290#45689290", "title": "grep or sed to match a block between start and end using same pattern", "body": "<p>try following solution too with awk and let me know if this helps you.</p>\n\n<pre><code>awk -v RS=\"\" '{match($0,/start pattern1.*start pattern1/);print substr($0,RSTART,RLENGTH)}'  Input_file\n</code></pre>\n\n<p><strong>EDIT:</strong> OP haven't shown like Input_file could have empty lines too, as per CWLiu, I am adding a suggestion which will work in case of any empty lines too.</p>\n\n<pre><code>awk '/start pattern1/{print;getline;while($0 !~ /start pattern1/){print;getline};print}' Input_file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15789, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1502811392, "creation_date": 1502811392, "answer_id": 45696290, "question_id": 45688690, "link": "https://stackoverflow.com/questions/45688690/grep-or-sed-to-match-a-block-between-start-and-end-using-same-pattern/45696290#45696290", "title": "grep or sed to match a block between start and end using same pattern", "body": "<p>So, here's an <code>awk</code> implementation based on an alternative interpretation of your question (since it's not quite clear).</p>\n\n<p>If you want to detect the <code>pattern1</code> from the first line that starts with <code>start</code>, and then print every line until the <code>end pattern1</code>, you can do it like this:</p>\n\n<pre><code>$ awk '/^start / {pat=$2; next}  /^end / &amp;&amp; $2~pat {exit}  {print}' file \nline1\nline2\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1502817991, "post_id": 45697668, "comment_id": 78354730, "body": "+1. <code>&#47;&#47;</code> is the sed magic here.  That said, it would break with any substitution or matching in the range.  You&#39;d have to pipe sed to sed if you wanted that."}, {"owner": {"reputation": 61, "user_id": 2623661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea7c7492201fa4a643d9e6b6fa5a56e?s=128&d=identicon&r=PG", "display_name": "user2623661", "link": "https://stackoverflow.com/users/2623661/user2623661"}, "edited": false, "score": 0, "creation_date": 1502926328, "post_id": 45697668, "comment_id": 78406692, "body": "i am guessing this wont work with my case since i have a &#39;start&#39; and &#39;end&#39; prefix to &#39;pattern&#39;"}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 1, "last_activity_date": 1502835745, "last_edit_date": 1502835745, "creation_date": 1502816076, "answer_id": 45697668, "question_id": 45688690, "link": "https://stackoverflow.com/questions/45688690/grep-or-sed-to-match-a-block-between-start-and-end-using-same-pattern/45697668#45697668", "title": "grep or sed to match a block between start and end using same pattern", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -n '/pattern/,//p' file\n</code></pre>\n\n<p>This invokes a range which is a flip-flop match, the empty <code>//</code> matches the last regexp. The <code>p</code> prints everything while the range switch is true.</p>\n\n<p>N.B. the <code>-n</code> invokes seds grep-like nature and turns off the automatic printing.</p>\n\n<p>An alternative:</p>\n\n<pre><code>sed '/pattern/!d;:a;n;//!ba' file\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 2623661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea7c7492201fa4a643d9e6b6fa5a56e?s=128&d=identicon&r=PG", "display_name": "user2623661", "link": "https://stackoverflow.com/users/2623661/user2623661"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "accepted_answer_id": 45689012, "answer_count": 5, "score": 2, "last_activity_date": 1503083890, "creation_date": 1502783948, "last_edit_date": 1502926715, "question_id": 45688690, "link": "https://stackoverflow.com/questions/45688690/grep-or-sed-to-match-a-block-between-start-and-end-using-same-pattern", "title": "grep or sed to match a block between start and end using same pattern", "body": "<p>I have a file with the following info:</p>\n\n<pre><code>start pattern1\nline1\nline2\n...\nend pattern1\nline3\nline4\nstart pattern2\n...\n</code></pre>\n\n<p>my output should be:<br>\n<code>start pattern1\nline1\nline2\nend pattern1</code></p>\n\n<p>If I know what <code>pattern1</code> is , I can do </p>\n\n<pre><code>sed '/start pattern1/,/end pattern1/p' &lt;file&gt;\n</code></pre>\n\n<p>but here, I want to match <code>pattern1</code> (like <code>\\S+</code> in perl regex) and use the same (like <code>$1</code>) in the end. How can I do that?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 934, "user_id": 8410385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3637400d5e9253be03a098a1cbe1ea9b?s=128&d=identicon&r=PG&f=1", "display_name": "ZAhmed", "link": "https://stackoverflow.com/users/8410385/zahmed"}, "edited": false, "score": 0, "creation_date": 1502780795, "post_id": 45687945, "comment_id": 78333540, "body": "what is the output of the code ?"}, {"owner": {"reputation": 7, "user_id": 8443244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c03c0574e8246c752956c718c7f4c0cb?s=128&d=identicon&r=PG&f=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/8443244/joey"}, "reply_to_user": {"reputation": 934, "user_id": 8410385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3637400d5e9253be03a098a1cbe1ea9b?s=128&d=identicon&r=PG&f=1", "display_name": "ZAhmed", "link": "https://stackoverflow.com/users/8410385/zahmed"}, "edited": false, "score": 0, "creation_date": 1502781338, "post_id": 45687945, "comment_id": 78333808, "body": "The output is an empty string."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "edited": false, "score": 0, "creation_date": 1502785200, "post_id": 45687945, "comment_id": 78335615, "body": "@Joey , <a href=\"https://stackoverflow.com/tour\">stackoverflow.com/tour</a> see how when people answer question"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1502793470, "post_id": 45687945, "comment_id": 78339814, "body": "The output is not an empty string. It is the string &quot;File/&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1502785410, "post_id": 45688320, "comment_id": 78335737, "body": "You also silently replaced <code>&#47;...&#47;</code> with <code>s&#47;...&#47;...&#47;</code>. That&#39;s a rather important change."}], "tags": [], "owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "is_accepted": false, "score": 1, "last_activity_date": 1502782358, "creation_date": 1502782358, "answer_id": 45688320, "question_id": 45687945, "link": "https://stackoverflow.com/questions/45687945/how-to-remove-a-special-character-in-a-single-word-variable/45688320#45688320", "title": "How to remove a special character in a single word/variable", "body": "<p>You almost there, just using <code>\\W</code> instead of <code>\\w</code>.</p>\n\n<pre><code>my $var= \"File/\";\n\n$var =~ s/\\W+//g;\n\nprint \"$var\";\n</code></pre>\n\n<p>Output is File</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502796086, "post_id": 45689052, "comment_id": 78341148, "body": "@simbabque: Thanks. Sorry I couldn&#39;t be there. See you at the LPW?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502796320, "post_id": 45689052, "comment_id": 78341264, "body": "Yes, definitely!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1502785297, "creation_date": 1502785297, "answer_id": 45689052, "question_id": 45687945, "link": "https://stackoverflow.com/questions/45687945/how-to-remove-a-special-character-in-a-single-word-variable/45689052#45689052", "title": "How to remove a special character in a single word/variable", "body": "<p>You are using the wrong operator. The match operator (<code>m/.../</code> or, as you are using it, <code>/.../</code>) is for <em>matching</em> text. It tells you if your string matches the regex. It does not change the string at all.</p>\n\n<p>What you want is the substitution operator (<code>s/.../.../</code>). That replaces the matching text with something new. In this case, you want to replace the matching string with an empty string.</p>\n\n<pre><code>my $var= \"File/\";\n$var =~ s/\\w//; # // is an empty replacement string\nprint \"$var\";\n</code></pre>\n\n<p>But that's still not correct as <code>\\w</code> matches any word character (alphanumerics and the underscore). What you need is <code>\\W</code>, which matches any non-word character.</p>\n\n<pre><code>my $var= \"File/\";\n$var =~ s/\\W//; # // is an empty replacement string\nprint \"$var\";\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 8443244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c03c0574e8246c752956c718c7f4c0cb?s=128&d=identicon&r=PG&f=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/8443244/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 45689052, "answer_count": 2, "score": 0, "last_activity_date": 1502785297, "creation_date": 1502780678, "last_edit_date": 1502781756, "question_id": 45687945, "link": "https://stackoverflow.com/questions/45687945/how-to-remove-a-special-character-in-a-single-word-variable", "title": "How to remove a special character in a single word/variable", "body": "<pre><code>my $var= \"File/\";\n$var=~ /\\w/;\nprint \"$var\";\n</code></pre>\n\n<p>The expected outcome is File but it doest work.</p>\n"}, {"tags": ["html", "perl", "httpwebrequest", "http-status-code-302", "lwp-useragent"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1502780810, "post_id": 45687661, "comment_id": 78333548, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26296585/error-code-302-from-http-post-operation\">Error code 302 from HTTP POST operation</a>"}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1502781492, "post_id": 45687661, "comment_id": 78333877, "body": "Hi @SteffenUllrich, the question are not same, as i know i already redirect successful but i want to get the html form the website but what i get is the 302 respond. Do you know how to get the html? Thanks"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1502782524, "post_id": 45687661, "comment_id": 78334321, "body": "Since you get the 302 as result you are not redirecting successfully. All you get is the instruction to redirect (i.e. 302) but you don&#39;t follow this instruction. No part of your code follows a redirect and there is no &quot;redirect loop&quot; since you don&#39;t even attempt to follow any redirects. How this is properly done is described in the other post."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1502782720, "post_id": 45687661, "comment_id": 78334424, "body": "<i>I get the 302 respond which show that my redirect has success..</i> - that is not what 302 is about. You get 302 if you need to do a redirect, not if a redirect was successful."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1502782739, "post_id": 45687661, "comment_id": 78334436, "body": "@SteffenUllrich, How to i follow this instruction? I new to this and no idea how to continue."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1502782814, "post_id": 45687661, "comment_id": 78334462, "body": "@SteffenUllrich, i has edit the sentence that make confusing. Thanks for pointing out"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1502783333, "post_id": 45687661, "comment_id": 78334679, "body": "You might be right with the redirect loop (just checked that LWP does automatic redirects). I think the problem is that you POST to a site which issues a 302 and LWP in this case correctly makes a GET out of the POST and retries to the new URL. There might be some problems with this site (some change behavior based on user-agent) or with the initial URL you&#39;ve used or with the data you submitted so that it behaves differently from what you see in the browser. It would be good if there was a way to reproduce the problem for others."}, {"owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1502859206, "post_id": 45687661, "comment_id": 78368787, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/152002/discussion-between-tim-and-steffen-ullrich\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11885142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ae94d51f1e025a281841221b4ffc12?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/11885142/jason"}, "is_accepted": false, "score": 3, "last_activity_date": 1615392436, "last_edit_date": 1615392436, "creation_date": 1587749071, "answer_id": 61413981, "question_id": 45687661, "link": "https://stackoverflow.com/questions/45687661/pass-through-302-respond-and-save-the-html-for-the-redirect-page/61413981#61413981", "title": "Pass through 302 respond and save the html for the redirect page", "body": "<p>The problem with this is LWP::UserAgent does not allow for the &quot;post&quot; method by default.  You need the following code to allow for the POST method:</p>\n<pre><code>push @{ $UA-&gt;requests_redirectable }, 'POST';\n</code></pre>\n<p>so, like so:</p>\n<pre><code>my $UA = LWP::UserAgent-&gt;new();\npush @{ $UA-&gt;requests_redirectable }, 'POST';\n$UA-&gt;ssl_opts( verify_hostnames =&gt; 0 ); \n</code></pre>\n"}], "owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1615392436, "creation_date": 1502779335, "last_edit_date": 1502782774, "question_id": 45687661, "link": "https://stackoverflow.com/questions/45687661/pass-through-302-respond-and-save-the-html-for-the-redirect-page", "title": "Pass through 302 respond and save the html for the redirect page", "body": "<p>I have write a code to get the html code from security website. I get the 302 respond but i am not sure how to save the html for the webpage. Below is my code.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\nuse LWP::UserAgent;\nuse HTTP::Request;\nuse HTTP::Request::Common qw(POST);\nuse HTTP::Cookies;\n\nmy $URL=\"http://www.example.com\";\nmy $UA = LWP::UserAgent-&gt;new();\n$UA-&gt;ssl_opts( verify_hostnames =&gt; 0 ); \n\n\nmy $req =HTTP::Request::Common::POST(\"$URL\",\n   Content_type=&gt;'form-data',\n   Content =&gt;[\n     'username'=&gt;'user',\n     'password'=&gt;'password',\n   ]\n);\n$req-&gt;header('Cookie' =&gt;q(TIN=287000; LastMRH_Session=439960f5; MRHSession=78c9c47291c1fcedae166121439960f5));\n\nmy $resp=$UA-&gt;request($req);\n\nif ($resp-&gt;is_success) {\n\n    my $res2 = $UA-&gt;post($resp-&gt;base, []);\n    print $res2-&gt;decoded_content;\n}\n</code></pre>\n\n<p>Below is the 302 respond i get</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\n&lt;html&gt;&lt;head&gt;\n    &lt;title&gt;302 Found&lt;/title&gt;\n&lt;/head&gt;&lt;body&gt;\n    &lt;h1&gt;Found&lt;/h1&gt;\n&lt;p&gt;The document has moved &lt;a \n    href=\"http://www.example.com\"&gt;here&lt;/a&gt;.&lt;/p&gt;\n    &lt;hr&gt;\n    &lt;address&gt;Apache/2.2.3 (CentOS) Server at www Port 80&lt;/address&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>I want to get the html information from the website <code>www.XXX.com</code> but i only can get the 302 respond. I think i stuck in the redirect loop but not sure how to pass trough it.</p>\n"}, {"tags": ["perl", "stat"], "comments": [{"owner": {"reputation": 13, "user_id": 8059358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c50ca21c2898e7d82600db82237cfbf?s=128&d=identicon&r=PG&f=1", "display_name": "Avii Rasmussen", "link": "https://stackoverflow.com/users/8059358/avii-rasmussen"}, "edited": false, "score": 0, "creation_date": 1502736587, "post_id": 45681048, "comment_id": 78319863, "body": "Seems it returns true for directory"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1502740283, "post_id": 45681048, "comment_id": 78321874, "body": "The <code>$wchar</code> prints nothing, and I am getting stat for the <code>.&#47;</code> directory, in fact. It seems that <code>&#39;.&#47;&#39;.$wchar</code> is <code>stat</code>-ed as <code>.&#47;</code>. Is that what is going on?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502741186, "post_id": 45682047, "comment_id": 78322296, "body": "Changed part of my answer"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1502741635, "post_id": 45682047, "comment_id": 78322537, "body": "For what it&#39;s worth, PHP used to have the same issue with many file handling functions. It was fixed in PHP 5.3: <a href=\"https://bugs.php.net/bug.php?id=39863\" rel=\"nofollow noreferrer\">bugs.php.net/bug.php?id=39863</a>"}, {"owner": {"reputation": 13, "user_id": 8059358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c50ca21c2898e7d82600db82237cfbf?s=128&d=identicon&r=PG&f=1", "display_name": "Avii Rasmussen", "link": "https://stackoverflow.com/users/8059358/avii-rasmussen"}, "edited": false, "score": 0, "creation_date": 1502784454, "post_id": 45682047, "comment_id": 78335224, "body": "a pragma baffle :) :)"}, {"owner": {"reputation": 13, "user_id": 8059358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c50ca21c2898e7d82600db82237cfbf?s=128&d=identicon&r=PG&f=1", "display_name": "Avii Rasmussen", "link": "https://stackoverflow.com/users/8059358/avii-rasmussen"}, "edited": false, "score": 0, "creation_date": 1502785025, "post_id": 45682047, "comment_id": 78335532, "body": "It makes me think of how easy it is to make inconsistency by thinking of 0x00 as false rather than a value, which is actual is. If val is <code>! defined</code> , then and only then it is no value."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502810840, "post_id": 45682047, "comment_id": 78350374, "body": "1) I don&#39;t know what you mean by &quot;a pragma baffle&quot;. If you are suggesting the creation of a pragma that decides how to handle NULs, I disagree. The behaviour should be changed to also give an error in strings containing NUL. 2) It doesn&#39;t make any sense to say that undefined isn&#39;t a value. 3) <code>&quot;\\x00&quot;</code> is true, not false. 4) Even if it was false, we&#39;re not talking about <code>&quot;\\x00&quot;</code> because that returns an error on all versions of Perl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502811022, "post_id": 45682047, "comment_id": 78350499, "body": "<code>perlbug</code> can be used to file bug reports."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1502746037, "last_edit_date": 1502746037, "creation_date": 1502740307, "answer_id": 45682047, "question_id": 45681048, "link": "https://stackoverflow.com/questions/45681048/filestat-returns-defined-on-control-character-0x00-perl-feature-or-bug/45682047#45682047", "title": "File::stat returns defined on &lt;control&gt; character 0x00 - perl - feature or bug?", "body": "<p><code>stat</code> passes the string to the OS untouched. The OS expects a NUL-terminated string, so it sees <code>./</code> when you pass <code>./\u2400</code>.</p>\n\n<p>Before 5.20, this used to be the case for <code>open</code> as well. It now returns error <code>ENOENT</code> instead.</p>\n\n<pre><code>$ perlbrew use 5.20.0t\n\n$ ls -1\n\n$ perl -e'open my $fh, \"&gt;\", \"abc\\0def\" or die $!;'\nNo such file or directory at -e line 1.\n\n$ perlbrew use 5.18.2t\n\n$ ls -1\n\n$ perl -e'open my $fh, \"&gt;\", \"abc\\0def\" or die $!;'\n\n$ ls -1\nabc\n</code></pre>\n\n<p>I consider this lack of consistency a bug.</p>\n"}], "owner": {"reputation": 13, "user_id": 8059358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c50ca21c2898e7d82600db82237cfbf?s=128&d=identicon&r=PG&f=1", "display_name": "Avii Rasmussen", "link": "https://stackoverflow.com/users/8059358/avii-rasmussen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 45682047, "answer_count": 1, "score": 1, "last_activity_date": 1574252079, "creation_date": 1502736375, "last_edit_date": 1574252079, "question_id": 45681048, "link": "https://stackoverflow.com/questions/45681048/filestat-returns-defined-on-control-character-0x00-perl-feature-or-bug", "title": "File::stat returns defined on &lt;control&gt; character 0x00 - perl - feature or bug?", "body": "<p># This is perl 5, version 22, subversion 1 (v5.22.1) \n   # built for x86_64-linux-gnu-thread-multi</p>\n\n<pre><code>use File::stat;\nmy $wchar   = chr 0;\nmy $unicode = sprintf 'U+%06X', ord $wchar;\nmy $file    = './'.$wchar;\nmy $sb      = stat($file);\n\nif($sb){\n    printf \"File is %s, size is %s, perm %04o, mtime %s\\n\",\n    $file, $sb-&gt;size, $sb-&gt;mode &amp; 07777,\n    scalar localtime $sb-&gt;mtime;\n    printf \"unicode is $unicode\\n\",\n}\n</code></pre>\n\n<p>----- Gives me.. ----</p>\n\n<pre><code>File is ./^@, size is 4096, perm 0775, mtime Mon Aug 14 20:34:21 2017\nunicode is U+000000\n</code></pre>\n\n<hr>\n\n<p>I'm a bit baffled. Any suggestions why this happen. Is it a feature or bug?</p>\n"}, {"tags": ["perl", "filecompare"], "answers": [{"comments": [{"owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1502735398, "post_id": 45680719, "comment_id": 78319222, "body": "Ah, ok. I didnt know if I HAD to put a path or not, since the file and script are in different directories but loaded through some modules."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1502746483, "post_id": 45680719, "comment_id": 78324789, "body": "<code>test.txt</code> <i>is</i> a path. It refers to <code>text.txt</code> in the current directory. Path&#39;s don&#39;t need to have a directory component."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1502735217, "creation_date": 1502735217, "answer_id": 45680719, "question_id": 45680656, "link": "https://stackoverflow.com/questions/45680656/checking-if-filename-exists-in-current-directory/45680719#45680719", "title": "Checking if filename exists in current directory", "body": "<p>If by execution location you mean the current work directory, all you need is the following:</p>\n\n<pre><code>my $filename = 'test.txt';\n</code></pre>\n\n<p>If by execution location you mean the directory in which the script being executed is found, you can use the following:</p>\n\n<pre><code>use FindBin qw( $RealBin );\n\nmy $filename = \"$RealBin/test.txt\";\n</code></pre>\n"}], "owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 45680719, "answer_count": 1, "score": -1, "last_activity_date": 1502735217, "creation_date": 1502734965, "question_id": 45680656, "link": "https://stackoverflow.com/questions/45680656/checking-if-filename-exists-in-current-directory", "title": "Checking if filename exists in current directory", "body": "<p>I have a script that I am trying to modify so that depending on the location its executed from, it will be checking to see if there is a file with the name <strong>regression_user.rpt</strong> and if so, it will make a new file called <strong>regression_user1.rpt</strong>. I've found solutions but Im not sure how to change it to do what I want.</p>\n\n<p>What I have is the following:</p>\n\n<pre><code>my $filename = 'c:\\temp\\test.txt';\nif(-e $filename){\n   //Create file with new name\n   print(\"File $filename exists\\n\");\n}else{\n   //Create base file\n   print(\"File $filename does not exists\\n\");\n}\n</code></pre>\n\n<p>Except, the path for <code>$filename</code> is variable. Is there a way to incorporate the execution location as a variable into this check?</p>\n\n<p>The purpose of this is to make sure I dont overwrite existing files (has happened one too many times).</p>\n"}, {"tags": ["linux", "perl", "plot", "awk", "gnuplot"], "comments": [{"owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "edited": false, "score": 0, "creation_date": 1502732486, "post_id": 45678854, "comment_id": 78317764, "body": "Have you tried using all your data together?  then your analysis will account for shifts in x and y.  Just a suggestion. I sure don&#39;t know what will work."}, {"owner": {"reputation": 21, "user_id": 8463037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b9abd7df8df51aced2f590a1865b33?s=128&d=identicon&r=PG&f=1", "display_name": "G.Van", "link": "https://stackoverflow.com/users/8463037/g-van"}, "reply_to_user": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "edited": false, "score": 0, "creation_date": 1502733215, "post_id": 45678854, "comment_id": 78318109, "body": "The data doesn&#39;t all come in at once. It&#39;s an ongoing project. But I&#39;m not sure that putting more data together will help; I think it would cause more overlap, thereby making the process more difficult. Also, each data set corresponds to a different instance, though the instances are similar enough to one another to be able to <i>hopefully</i> be treated with a single algorithm."}, {"owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "edited": false, "score": 0, "creation_date": 1502733649, "post_id": 45678854, "comment_id": 78318355, "body": "ok. Makes sense."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1502825893, "post_id": 45678854, "comment_id": 78358831, "body": "Please show your code. Since Stack Overflow hides the Close reason from you: <i>Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>.</i>"}, {"owner": {"reputation": 21, "user_id": 8463037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b9abd7df8df51aced2f590a1865b33?s=128&d=identicon&r=PG&f=1", "display_name": "G.Van", "link": "https://stackoverflow.com/users/8463037/g-van"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1502894767, "post_id": 45678854, "comment_id": 78391387, "body": "@jww The problem is that I don&#39;t have any sort of code that does what I want it to do. I can provide things that accomplish small portions, but this isn&#39;t about code not doing what it&#39;s intended to do in the sense of malfunctioning, but rather about trying to find an idea that will address the problem."}, {"owner": {"reputation": 927, "user_id": 5714068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce6dd182cf429251eab22f284417cb5?s=128&d=identicon&r=PG&f=1", "display_name": "tomc", "link": "https://stackoverflow.com/users/5714068/tomc"}, "edited": false, "score": 0, "creation_date": 1525363445, "post_id": 45678854, "comment_id": 87336602, "body": "Basic though to try is to partition the field then curve fit the partitions. There are a bajillion ways to partition/cluster points in a field.  I might first try K-means variant to partition. (edit) where k=3"}], "owner": {"reputation": 21, "user_id": 8463037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b9abd7df8df51aced2f590a1865b33?s=128&d=identicon&r=PG&f=1", "display_name": "G.Van", "link": "https://stackoverflow.com/users/8463037/g-van"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1608559968, "creation_date": 1502727752, "last_edit_date": 1608559968, "question_id": 45678854, "link": "https://stackoverflow.com/questions/45678854/fitting-multiple-curves-to-one-data-set", "title": "Fitting multiple curves to one data set", "body": "<p>I have a data set that I receive from an outside source, and have no real control over.</p>\n<p>The data, when plotted, shows two clumps of points with several sparse, irrelevant points. Here is a sample plot:</p>\n<p><a href=\"https://i.stack.imgur.com/3wbLk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3wbLk.png\" alt=\"enter image description here\" /></a></p>\n<p>There is a clump of points on the left, clustered around <code>(1, 16)</code>. This clump is actually part of a set of points that lies on (or near to) a line stretching from <code>(1, 17.5)</code> to <code>(2.4, 13)</code>.</p>\n<p>There is also an apparent curve from <code>(1.75, 18)</code> to <code>(2.75, 12.5)</code>.</p>\n<p>Finally, there are some sparse points above the second curve, around <code>(2.5, 17)</code>.</p>\n<p>Visually, it's not difficult to separate these groups of points. However, I need to separate these points within the data file into three groups, which I'll call Line, Curve, and Other (the Curve group is the one I actually need). I'd like to write a program that can do this reasonably well without needing to visually see the plot.</p>\n<p>Now, I'm going to add a couple items that make this much worse. This is only a sample set of data. While the shapes of the curve and line are relatively constant from one data set to the next, the positions are not. These regions can (and do) shift, both horizontally and vertically. The only real constant is that there's a negative-slope line from the top-left to the bottom-right of the plot, an almost <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Cfrac%7B1%7D%7Bx%5E4%7D\" alt=\"fourth-power inverse ration\" /> curve from the top-center to the bottom-right, and most of the sparse points are in the top-right corner, above the curve.</p>\n<p>I'm on Linux, and I'm out of ideas. I can tell you the approaches that I've tried, though they have not done well.</p>\n<ul>\n<li>First, I cleaned up the data set and sorted it in ascending order by x-coordinate. I thought that maybe the points were sorted in some sort of a logical way that would allow me to 'head' or 'tail' the data to achieve the desired result, but this was not the case.</li>\n<li>I can write a code in anything (Python, Fortran, C, etc.) that removes a point if it's not within X distance of the previous point. This would be just fine, except that the scattering of the points is such that two points very near each other in x, are separated by an appreciable distance in y. It also doesn't help that the Line and Curve draw near one another for larger x-values.</li>\n<li>I can fit a curve to a partial data set. When I sort the data by x-coordinate, for example, I can choose to only plot the first 30 points, or the last 200, or some set of 40 in the middle somewhere. That's not a problem. But the Line points tuck underneath the Curve points, which causes a problem.</li>\n<li>If the Line points were fairly constant (which they're not), I could rotate my plot by some angle so that the Line is vertical and I can just look at the points to the right of that line, then rotate back. This may the best way to go about doing this, but in order to do that, I need to be able to isolate the linear points, which is more or less the essence of the problem.</li>\n</ul>\n<p>The other idea that seems plausible to me, is to try to identify point density and split the data into separate files by those parameters. I think this is the best candidate for this problem, since it is independent of point location. However, I'm not sure how to go about doing this, especially because the Line and Curve do come quite close together for larger x-values (In the sample plot, it's x-values greater than about 2).</p>\n<p>I know this does not exactly fall in with the request of a MWE, but I don't know how I'd go about providing a more classical MWE. If there's something else I can provide that would help, please ask. Thank you in advance.</p>\n"}, {"tags": ["java", "html", "xml", "perl", "nlp"], "comments": [{"owner": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 0, "creation_date": 1502720000, "post_id": 45676075, "comment_id": 78310668, "body": "<code>ERROR [Thread-1]</code>  Probable means error in thread 1"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 2, "creation_date": 1502722084, "post_id": 45676075, "comment_id": 78311956, "body": "The first error is in html2base/html2xml.pl surely?"}, {"owner": {"reputation": 472, "user_id": 3616081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fzfit.jpg?s=128&g=1", "display_name": "TheSoldier", "link": "https://stackoverflow.com/users/3616081/thesoldier"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502722349, "post_id": 45676075, "comment_id": 78312109, "body": "Are you saying that or you are asking? @ChrisTurner"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1502724330, "post_id": 45676075, "comment_id": 78313370, "body": "I&#39;m asking - it&#39;s the cause of the first error message in your output, but you&#39;re ascribing it to html2base-wrapper.sh"}, {"owner": {"reputation": 472, "user_id": 3616081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fzfit.jpg?s=128&g=1", "display_name": "TheSoldier", "link": "https://stackoverflow.com/users/3616081/thesoldier"}, "edited": false, "score": 0, "creation_date": 1502724937, "post_id": 45676075, "comment_id": 78313744, "body": "I&#39;m not really sure. But I&#39;ve added part of the <code>html2xml.pl</code> file to the question for further analysis. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 472, "user_id": 3616081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fzfit.jpg?s=128&g=1", "display_name": "TheSoldier", "link": "https://stackoverflow.com/users/3616081/thesoldier"}, "edited": false, "score": 0, "creation_date": 1502725181, "post_id": 45678107, "comment_id": 78313902, "body": "I just found that the option: <code>-C</code> in the perl script gives errors in recent versions of perl. Is there any way to work around that giving the fact that I&#39;m running it from a compiled jar file? Thanks"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 472, "user_id": 3616081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fzfit.jpg?s=128&g=1", "display_name": "TheSoldier", "link": "https://stackoverflow.com/users/3616081/thesoldier"}, "edited": false, "score": 1, "creation_date": 1502725319, "post_id": 45678107, "comment_id": 78313992, "body": "Yes, you could use the fix I provided in my answer. (Note that the only change in Perl is that is started detecting a bug that already existed in the caller.)"}, {"owner": {"reputation": 472, "user_id": 3616081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fzfit.jpg?s=128&g=1", "display_name": "TheSoldier", "link": "https://stackoverflow.com/users/3616081/thesoldier"}, "edited": false, "score": 0, "creation_date": 1502725479, "post_id": 45678107, "comment_id": 78314078, "body": "This command: <code>java -jar lt4el-cmd.jar send -l en . . .</code> calls the perl script and every other library it needs. How do I fix that since I&#39;m not running <code>perl html2base&#47;html2xml.pl</code> at the command line? Thanks"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1502725960, "post_id": 45678107, "comment_id": 78314359, "body": "no, the java code isn&#39;t calling the perl script directly - it&#39;s calling html2base-wrapper.sh. And that&#39;s running html2base/html2base.sh which I&#39;m guessing runs html2base/html2xml.pl or maybe it runs another script which runs it. You&#39;ll have to dig around in the various scripts to work out what is running what."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1502728341, "post_id": 45678107, "comment_id": 78315684, "body": "You could try setting -C with <a href=\"http://perldoc.perl.org/perlrun.html#PERL5OPTvbut\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlrun.html#PERL5OPTvbut</a> that could affect other Perl scripts adversely"}, {"owner": {"reputation": 472, "user_id": 3616081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fzfit.jpg?s=128&g=1", "display_name": "TheSoldier", "link": "https://stackoverflow.com/users/3616081/thesoldier"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1502816521, "post_id": 45678107, "comment_id": 78353971, "body": "@ysth I tried to go through that site, but it seems confusing to me. Could you explain what you meant by setting -C."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502817608, "post_id": 45678107, "comment_id": 78354544, "body": "You&#39;re asking us what the problem is with a file you still haven&#39;t shown us."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1502818689, "post_id": 45678107, "comment_id": 78355083, "body": "Sorry, messed up that link.  <a href=\"http://perldoc.perl.org/perlrun.html#PERL5OPT\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlrun.html#PERL5OPT</a>"}, {"owner": {"reputation": 472, "user_id": 3616081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fzfit.jpg?s=128&g=1", "display_name": "TheSoldier", "link": "https://stackoverflow.com/users/3616081/thesoldier"}, "edited": false, "score": 0, "creation_date": 1502869273, "post_id": 45678107, "comment_id": 78373422, "body": "@ikegami I&#39;ve added all the shell scripts, now, which are present in the working folder."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502895871, "post_id": 45678107, "comment_id": 78392187, "body": "Hum. That should work fine. What OS are you using? What&#39;s the output of <code>set | grep ^PERL</code>"}, {"owner": {"reputation": 472, "user_id": 3616081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fzfit.jpg?s=128&g=1", "display_name": "TheSoldier", "link": "https://stackoverflow.com/users/3616081/thesoldier"}, "edited": false, "score": 0, "creation_date": 1502905871, "post_id": 45678107, "comment_id": 78398371, "body": "@ikegami Ubuntun 16.04 on a virtual machine. The command gave no output."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1502724960, "creation_date": 1502724960, "answer_id": 45678107, "question_id": 45676075, "link": "https://stackoverflow.com/questions/45676075/too-late-for-c-option-error-with-perl-and-shell-scripts/45678107#45678107", "title": "&quot;Too late for &quot;-C&quot; option&quot; error With Perl and Shell scripts", "body": "<p>The error comes from having <code>-C</code> on the shebang (<code>#!</code>) line of a Perl script, but not passing the <code>-C</code> to <code>perl</code>. This type of error happens when someone does</p>\n\n<pre><code>perl html2base/html2xml.pl ...\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>html2base/html2xml.pl ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 472, "user_id": 3616081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fzfit.jpg?s=128&g=1", "display_name": "TheSoldier", "link": "https://stackoverflow.com/users/3616081/thesoldier"}, "is_accepted": true, "score": 0, "last_activity_date": 1503243032, "creation_date": 1503243032, "answer_id": 45783824, "question_id": 45676075, "link": "https://stackoverflow.com/questions/45676075/too-late-for-c-option-error-with-perl-and-shell-scripts/45783824#45783824", "title": "&quot;Too late for &quot;-C&quot; option&quot; error With Perl and Shell scripts", "body": "<p>The error was from the the <code>html2xml.pl</code> script as other users rightly mentioned. I'm running ubuntu 16.04.2 system which comes with a default perl 5.22 version. And as this <a href=\"http://perldoc.perl.org/perlrun.html#PERL5OPT\" rel=\"nofollow noreferrer\">post</a> mentions, using the <code>-C</code> option (as from <code>perl 5.10.1</code>) on the <code>#!</code> line requires you to also specify it on the command line at execution time, which I wasn't sure how to do because I was running a jar file. I installed <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a>, instead, which I used to get an earlier version of perl and modified my perl script to:</p>\n\n<pre><code>#!/usr/bin/path/to/perlbrew/perl -W -C\n\n# Simple HTML to XML (subset of XHTML) conversion tool. Should always produce a\n# valid XML file according to the output DTD file specified.\n#\n# Miroslav Spousta &lt;spousta@ufal.mff.cuni.cz&gt;\n# $Id: html2xml.pl 461 2008-03-09 09:49:42Z qiq $\n</code></pre>\n\n<p><a href=\"https://perlbrew.pl/Perlbrew-In-Shell-Scripts.html\" rel=\"nofollow noreferrer\">This</a> might also come in handy in setting up shell scripts when using perlbrew.</p>\n\n<p>Thanks for the efforts in contribution.</p>\n"}], "owner": {"reputation": 472, "user_id": 3616081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fzfit.jpg?s=128&g=1", "display_name": "TheSoldier", "link": "https://stackoverflow.com/users/3616081/thesoldier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 45783824, "answer_count": 2, "score": -1, "last_activity_date": 1503243838, "creation_date": 1502718520, "last_edit_date": 1503243838, "question_id": 45676075, "link": "https://stackoverflow.com/questions/45676075/too-late-for-c-option-error-with-perl-and-shell-scripts", "title": "&quot;Too late for &quot;-C&quot; option&quot; error With Perl and Shell scripts", "body": "<p>I have a jar application that has several functions, one of which is to convert from HTML to XML. When I try to run a simple command such as:</p>\n\n<pre><code>java -jar lt4el-cmd.jar send -l en \"l2:https://en.wikipedia.org/wiki/Personal_computer\"\n</code></pre>\n\n<p>I get the following errors:</p>\n\n<pre><code>ERROR [Thread-1]: html2base/html2base-wrapper.sh: Too late for \"-C\" option at html2base/html2xml.pl line 1.\n/tmp/lpc.30872.html: failed \ncat: /tmp/lpc.30872.xml: No such file or directory\n (LpcControl.java:229)\nERROR [Thread-1]: ana2ont/ana2ont.sh ${lang}: -:1: parser error : Document is empty\n-:1: parser error : Start tag expected, '&lt;' not found\nTokenization/tagging failed\n^\n-:1: parser error : Document is empty\nunable to parse -\n-:1: parser error : Document is empty\nunable to parse -\n (LpcControl.java:229)\nERROR [Thread-1]: Error in conversion: Error running conversion script (ana2ont/ana2ont.sh ${lang}): 6 (AppInterface.java:159)\n</code></pre>\n\n<p>This is the <code>html2base-wrapper.sh</code> script which seems to be where the first error occurs.</p>\n\n<pre><code>#!/bin/bash\n\nif [ \"$1\" == \"check\" ]; then\n    . common.sh\n    check_binary perl || exit 1\n    check_perl_module HTML::TreeBuilder || exit 1\n    check_perl_module XML::LibXML || exit 1\n    check_binary tidy || exit 1\n    check_binary xmllint || exit 1\n    check_binary xsltproc || exit 1\n    exit\nfi\n\ncat &gt;\"$TMPDIR/lpc.$$.html\"\nhtml2base/html2base.sh -d html2base/LT4ELBase.dtd -x html2base/LT4ELBase.xslt -t \"$TMPDIR/lpc.$$.html\" &gt;&amp;2\ncat \"$TMPDIR/lpc.$$.xml\";\nrm -f \"$TMPDIR\"/lpc.$$.{ht,x}ml\n</code></pre>\n\n<p>And the <code>html2base.sh</code> script:</p>\n\n<pre><code>#!/bin/bash\n#\n# Sample script for automated HTML -&gt; XML conversion\n#\n# Miroslav Spousta &lt;spousta@ufal.mff.cuni.cz&gt;\n# $Id: html2base.sh 462 2008-03-17 08:37:14Z qiq $\n\nbasedir=`dirname $0`;\n\n# constants\nHTML2XML_BIN=${basedir}/html2xml.pl\nICONV_BIN=iconv\nTIDY_BIN=tidy\nXMLLINT_BIN=xmllint\nXSLTPROC_BIN=xsltproc\nDTDPARSE_BIN=dtdparse\nTMPDIR=/tmp\n\n# default values\nVERBOSE=0\nENCODING=\nTIDY=0\nVALIDATE=0\nDTD=${basedir}/LT4ELBase.dtd\nXSLT=${basedir}/LT4ELBase.xslt\n\nusage()\n{\n        echo \"usage: html2base.sh [options] file(s)\"\n        echo \"XML -&gt; HTML conversion script.\"\n        echo\n        echo \"  -e, --encoding=charset  Convert input files from encoding to UTF-8 (none)\"\n        echo \"  -d, --dtd=file      DTD to be used for conversion and validation ($DTD)\"\n        echo \"  -x, --xslt=file     XSLT to be applied after conversion ($XSLT)\"\n        echo \"  -t, --tidy      Run HTMLTidy on input HTML files\"\n        echo \"  -a, --validate      Validate output XML files\"\n        echo \"  -v, --verbose       Be verbose\"\n        echo \"  -h, --help      Print this usage\"\n    exit 1;\n}\n\nOPTIONS=`getopt -o e:d:x:tahv -l encoding:,dtd:,xlst,tidy,validate,verbose,help -n 'convert.sh' -- \"$@\"`\nif [ $? != 0 ]; then\n    usage;\nfi\neval set -- \"$OPTIONS\"\nwhile true ; do\n    case \"$1\" in\n    -e | --encoding)    ENCODING=$2; shift 2 ;;\n    -d | --dtd)     DTD=$2; shift 2 ;;\n    -x | --xslt)        XSLT=$2; shift 2 ;;\n    -t | --tidy)        TIDY=1; shift 1;;\n    -a | --validate)    VALIDATE=1; shift 1;;\n    -v | --verbose)     VERBOSE=1; shift 1 ;;\n    -h | --help)        usage; shift 1 ;;\n    --) shift ; break ;;\n    *) echo \"Internal error!\" ; echo $1; exit 1 ;;\n    esac\ndone\n\nif [ $# -eq 0 ]; then\n    usage;\nfi\n\nDTD_XML=`echo \"$DTD\"|sed -e 's/\\.dtd/.xml/'`\nif [ \"$VERBOSE\" -eq 1 ]; then\n    VERBOSE=--verbose\nelse\n    VERBOSE=\nfi\n\n# create $DTD_XML if necessary\nif [ ! -f \"$DTD_XML\" ]; then\n    if ! $DTDPARSE_BIN $DTD -o $DTD_XML 2&gt;/dev/null; then\n        echo \"cannot run dtdparse, cannot create $DTD_XML\";\n        exit 1;\n    fi;\nfi\n\n# process file by file\n\ntotal=0\nnok=0\nwhile [ -n \"$1\" ]; do\n    file=$1;\n    if [ -n \"$VERBOSE\" ]; then\n        echo \"Processing $file...\"\n    fi\n    f=\"$file\";\n    result=0;\n    if [ -n \"$ENCODING\" ]; then\n        $ICONV_BIN -f \"$ENCODING\" -t utf-8 \"$f\" -o \"$file.xtmp\"\n        result=$?\n        error=\"encoding error\"\n        f=$file.xtmp\n    fi\n    if [ \"$result\" -eq 0 ]; then\n        if [ \"$TIDY\" = '1' ]; then\n            $TIDY_BIN --force-output 1 -q -utf8 &gt;\"$file.xtmp2\" \"$f\" 2&gt;/dev/null\n            f=$file.xtmp2\n        fi\n        out=`echo $file|sed -e 's/\\.x\\?html\\?$/.xml/'`\n        if [ \"$out\" = \"$file\" ]; then\n            out=\"$out.xml\"\n        fi\n        $HTML2XML_BIN --simplify-ws $VERBOSE $DTD_XML -o \"$out\" \"$f\"\n        result=$?\n        error=\"failed\"\n    fi\n    if [ \"$result\" -eq 0 ]; then\n        $XSLTPROC_BIN --path `dirname $DTD` $XSLT \"$out\" |$XMLLINT_BIN --noblanks --format -o \"$out.tmp1\" -\n        result=$?\n        error=\"failed\"\n        mv \"$out.tmp1\" \"$out\"\n        if [ \"$result\" -eq 0 -a \"$VALIDATE\" = '1' ]; then\n            tmp=`dirname $file`/$DTD\n            delete=0\n            if [ ! -f $tmp ]; then\n                cp $DTD $tmp\n                delete=1\n            fi\n            $XMLLINT_BIN --path `dirname $DTD` --valid --noout \"$out\"\n            result=$?\n            error=\"validation error\"\n            if [ \"$delete\" -eq 1 ]; then\n                rm -f $tmp\n            fi\n        fi\n    fi\n    if [ \"$result\" -eq 0 ]; then\n        if [ -n \"$VERBOSE\" ]; then\n            echo \"OK\"\n        fi\n    else\n        echo \"$file: $error \"\n        nok=`expr $nok + 1`\n    fi\n    total=`expr $total + 1`\n    rm -f $file.xtmp $file.xtmp2\n    shift;\ndone\nif [ -n \"$VERBOSE\" ]; then\n    echo\n    echo \"Total: $total, failed: $nok\"\nfi\n</code></pre>\n\n<p>And the beginning part of the html2xml.pl file:</p>\n\n<pre><code>#!/usr/bin/perl -W -C\n\n# Simple HTML to XML (subset of XHTML) conversion tool. Should always produce a\n# valid XML file according to the output DTD file specified.\n#\n# Miroslav Spousta &lt;spousta@ufal.mff.cuni.cz&gt;\n# $Id: html2xml.pl 461 2008-03-09 09:49:42Z qiq $\n\nuse HTML::TreeBuilder;\nuse HTML::Element;\nuse HTML::Entities;\nuse XML::LibXML;\nuse Getopt::Long;\nuse Data::Dumper;\nuse strict;\n</code></pre>\n\n<p>I can't seem to figure where the problem is. And what exactly does <code>ERROR [Thread-1]</code> mean?\nThanks</p>\n"}, {"tags": ["eclipse", "perl", "eclipse-plugin", "mojolicious", "morbo"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502712842, "post_id": 45673921, "comment_id": 78305926, "body": "Do you want Eclipse to start the morbo, or do you just want to attach to the process for debugging?"}, {"owner": {"reputation": 718, "user_id": 2134441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2bf88c48bb56f7215809d2b44340f008?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/2134441/sumit"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502715378, "post_id": 45673921, "comment_id": 78307497, "body": "@simbabque I want to attach the process for debugging. But I believe for that I need to start the server in Eclipse. Please correct me if I am wrong."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502719472, "post_id": 45673921, "comment_id": 78310315, "body": "I am not sure. I think you do not. Morbo is Perl under the hood, and you should be able to attach to it with Perl&#39;s debugging stuff the same way that you can do to any other Perl process. It shouldn&#39;t be that different from doing remote CGI debugging. I don&#39;t know how to do that with Eclipse, but I&#39;ve done it in the past using Komodo IDE. You might want to look for tutorials on debugging Dancer or Catalyst, if you cannot find anything Mojo-specific. They should all be the same thing really."}], "owner": {"reputation": 718, "user_id": 2134441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2bf88c48bb56f7215809d2b44340f008?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/2134441/sumit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1502711546, "creation_date": 1502711546, "question_id": 45673921, "link": "https://stackoverflow.com/questions/45673921/how-to-run-a-morbo-server-of-mojolicious-from-eclipse", "title": "How to run a Morbo Server of Mojolicious from Eclipse", "body": "<p>I am very new to perl. I was trying to import a perl project in Eclipse &amp; run it. I am able to import it. The application runs by using this command:<br>\n<code>morbo script/better_ed -l http://*:3010</code></p>\n\n<p>I came to know that it runs a morbo server. How to run this server inside Eclipse so that I can debug. I have installed Epic &amp; PadWalker</p>\n"}, {"tags": ["perl", "asterisk", "vxml"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 3882060, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/93d1bf3379b434067eee4f4339c7f6ab?s=128&d=identicon&r=PG&f=1", "display_name": "user3882060", "link": "https://stackoverflow.com/users/3882060/user3882060"}, "edited": false, "score": 0, "creation_date": 1502736189, "post_id": 45672982, "comment_id": 78319656, "body": "thanks, but i tried everything even though same demo examples given on voximal and other website nothing works. Same error bad.fetch"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1502737127, "last_edit_date": 1502737127, "creation_date": 1502708270, "answer_id": 45672982, "question_id": 45672124, "link": "https://stackoverflow.com/questions/45672124/not-able-to-call-perl-script-inside-vxml-using-voximal/45672982#45672982", "title": "not able to call perl script inside vxml using voximal", "body": "<p>While I have never used anything relating to VXML, it seems to me that you are using <code>&lt;submit&gt;</code> incorrectly:</p>\n\n<blockquote>\n  <p><a href=\"https://www.w3.org/TR/voicexml20/#dml5.3.8\" rel=\"nofollow noreferrer\"><strong>5.3.8 submit element</strong></a></p>\n  \n  <p>The <code>&lt;submit</code>> element is used to submit information to the origin Web server and <strong><em>then transition to the document sent back in the response</em></strong>. (<em>emphasis mine</em>)</p>\n</blockquote>\n\n<p>I do not think <code>\"done\\n\"</code> is a valid VXML document.</p>\n\n<p>See also <a href=\"https://www.w3.org/TR/voicexml20/#dml1.1\" rel=\"nofollow noreferrer\">this example</a>:</p>\n\n<blockquote>\n  <p>Our second example asks the user for a choice of drink and then submits it to a server script:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;vxml xmlns=\"http://www.w3.org/2001/vxml\" \n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n  xsi:schemaLocation=\"http://www.w3.org/2001/vxml \n   http://www.w3.org/TR/voicexml20/vxml.xsd\"\n   version=\"2.0\"&gt;\n  &lt;form&gt;\n  &lt;field name=\"drink\"&gt;\n     &lt;prompt&gt;Would you like coffee, tea, milk, or nothing?&lt;/prompt&gt;\n     &lt;grammar src=\"drink.grxml\" type=\"application/srgs+xml\"/&gt;\n  &lt;/field&gt;\n  &lt;block&gt;\n     &lt;submit next=\"http://www.drink.example.com/drink2.asp\"/&gt;\n  &lt;/block&gt;\n &lt;/form&gt;\n&lt;/vxml&gt;\n</code></pre>\n  \n  <p>A field is an input field. The user must provide a value for the field before proceeding to the next element in the form. A sample interaction is:</p>\n  \n  <p><pre>C (computer): Would you like coffee, tea, milk, or nothing?\nH (human): Orange juice.\nC: I did not understand what you said. (a platform-specific default message.)\nC: Would you like coffee, tea, milk, or nothing?\nH: Tea\nC: (continues in document drink2.asp)\n                 ^^^^^^^^</pre></p>\n</blockquote>\n\n<p>That is, invoking <code>drink2.asp</code> is expected to return a valid VXML document. It seems to me that a <a href=\"https://github.com/RadishSystems/choiceview-webapi-avaya-demo/blob/master/RadishDemo/vxml/Goodbye.vxml\" rel=\"nofollow noreferrer\">response like</a>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;vxml version = \"2.1\" xmlns=\"http://www.w3.org/2001/vxml\"&gt;\n  &lt;form&gt;\n    &lt;block&gt;\n    &lt;prompt&gt;\n      Thank you for calling. Goodbye.\n    &lt;/prompt&gt;\n    &lt;/block&gt;\n    &lt;exit/&gt;\n  &lt;/form&gt;\n&lt;/vxml&gt;\n</code></pre>\n\n<p>might be what you need your Perl script to output.</p>\n\n<p>For example, looking at <a href=\"https://wiki.voximal.com/doku.php?id=examples:record\" rel=\"nofollow noreferrer\">this example</a>, the server side script ends by sending a VXML document:</p>\n\n<blockquote>\n  <p>readfile(\"goodbye.vxml\");</p>\n</blockquote>\n\n<p>With absolutely no familiarity with VXML, Asterisk, or Voximal, I am 99% certain that your problem has nothing to do with Perl, but it is due to the fact that your script is not outputting a valid VXML document.</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 7365190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSapB.png?s=128&g=1", "display_name": "Borja SIXTO", "link": "https://stackoverflow.com/users/7365190/borja-sixto"}, "is_accepted": false, "score": 0, "last_activity_date": 1502880176, "creation_date": 1502880176, "answer_id": 45711392, "question_id": 45672124, "link": "https://stackoverflow.com/questions/45672124/not-able-to-call-perl-script-inside-vxml-using-voximal/45711392#45711392", "title": "not able to call perl script inside vxml using voximal", "body": "<p>You need to capture the content returned by your script.</p>\n\n<p>You can set the option to enable the interpreter debug.\nYou will find in /var/log/voximal/content/files the content of each files.</p>\n\n<p>Have a look to the /var/log/voximal/debug.log, you will find the parsing error of your drink2.asp</p>\n\n<p>To enable the interpreter logs :</p>\n\n<p>CLI> voximal debug interpreter</p>\n\n<p>or </p>\n\n<p>in /etc/asterisk/voximal.conf set debug=interpreter (to enable the file logging you need to restart the Asterisk)</p>\n"}], "owner": {"reputation": 51, "user_id": 3882060, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/93d1bf3379b434067eee4f4339c7f6ab?s=128&d=identicon&r=PG&f=1", "display_name": "user3882060", "link": "https://stackoverflow.com/users/3882060/user3882060"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502880377, "creation_date": 1502705241, "question_id": 45672124, "link": "https://stackoverflow.com/questions/45672124/not-able-to-call-perl-script-inside-vxml-using-voximal", "title": "not able to call perl script inside vxml using voximal", "body": "<p>I have vxml file from which I am calling perl script, the perl script is very simple its just write on a text file.\nI am using voximal in asterisk to call the vxml file below is my vxml file.</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;vxml version=\"2.1\" xmlns=\"http://www.w3.org/2001/vxml\"&gt;\n&lt;form&gt;\n    &lt;block&gt;\n        &lt;audio src=\"./audio/welcome.wav\"/&gt;\n    &lt;/block&gt;\n    &lt;record name=\"message\" maxtime=\"30s\" finalsilence=\"2s\" dtmfterm=\"true\"&gt;\n    &lt;/record&gt;\n\n   &lt;block&gt;\n        &lt;submit next=\"test.perl\" enctype=\"multipart/form-data\"   method=\"post\"/&gt;\n    &lt;/block&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p></p>\n\n<p>perl file</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\nopen(my $fh, '&gt;', 'report.txt');\nprint $fh \"My first report generated by perl\\n\";\nclose $fh;\nprint \"done\\n\";\n</code></pre>\n\n<p>dialplan </p>\n\n<pre><code>[from-twilio]\nexten =&gt;  _+1NXXXXXXXXX,1,Answer(200)\nexten =&gt;  _+1NXXXXXXXXX,n,Wait(1)\nexten =&gt;  _+1NXXXXXXXXX,n,Voximal(file:///home/ubuntu/voximal/test.vxml)\nexten =&gt;  _+1NXXXXXXXXX,n,Hangup()\n</code></pre>\n\n<p>when I dial a number I able to hear the welcome audio after that perl file is not calling, I checked the log inside /var/log/voximal/debug.log &amp; vxml.log\nit says :\n   <code>Aug 14 09:50:21.56|0x7f37cca62700||0|EVENT|0|2|content=Error: error.badfetch ,test.perl</code></p>\n\n<p>I tried everything, script, subdialog, submit tag with perl, python, php.\nI don't know whats happening any help is appreciated please be elaborate as I am beginner to voximal &amp; asterisk.</p>\n\n<p>` </p>\n"}, {"tags": ["python", "regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1502701646, "post_id": 45670950, "comment_id": 78299330, "body": "All you need is to escape the <code>^</code>, <code>-</code>, <code>]</code> and <code>\\</code> chars. Try <code>re.sub(r&#39;[]^\\\\-]&#39;, r&#39;\\\\\\g&lt;0&gt;&#39;, NUMS)</code> and <code>re.sub(r&#39;[]^\\\\-]&#39;, r&#39;\\\\\\g&lt;0&gt;&#39;, PUNCTS)</code> and then pass them to the <code>.format()</code> method."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1502702558, "post_id": 45670950, "comment_id": 78299900, "body": "It seems like the original NUMS has duplicates too =) @WiktorStribi\u017cew the regex you provided worked."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1502702562, "post_id": 45670950, "comment_id": 78299903, "body": "First, <code>NUMS = &#39;&#39;.join(set(text_type(requests.get(n_url).content.decode(&#39;ut&zwnj;&#8203;f8&#39;)))</code> , then  <code>NUMS = re.sub(r&#39;[]^\\\\-]&#39;, r&#39;\\\\\\g&lt;0&gt;&#39;, NUMS)</code> And this works <code>re.compile(u&#39;([{n}])&#39;.format(n=NUMS))</code>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1502702810, "post_id": 45670950, "comment_id": 78300057, "body": "Yes, the lists you have seem to contain dupes, but that is something you can handle easily, yes, e.g. with <code>set()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 1, "creation_date": 1502702767, "post_id": 45671344, "comment_id": 78300032, "body": "Awesome! Thanks Wiktor!"}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 4, "last_activity_date": 1502702711, "creation_date": 1502702711, "answer_id": 45671344, "question_id": 45670950, "link": "https://stackoverflow.com/questions/45670950/how-to-identify-regex-bad-characters-in-a-long-list-of-characters/45671344#45671344", "title": "How to identify regex bad characters in a long list of characters?", "body": "<p>The main point here is that you need to escape the <code>^</code>, <code>-</code>, <code>]</code> and <code>\\</code> chars inside a character class.</p>\n\n<p>Use</p>\n\n<pre><code>NUMS = re.sub(r'[]^\\\\-]', r'\\\\\\g&lt;0&gt;', NUMS)\nPUNCTS = re.sub(r'[]^\\\\-]', r'\\\\\\g&lt;0&gt;', PUNCTS)\nrx = re.compile(u'([{n}])([{p}])'.format(n=NUMS, p=PUNCTS)\n</code></pre>\n\n<p>The <code>r'[]^\\\\-]'</code> pattern will match 1 char - <code>]</code>, <code>^</code>, <code>\\</code> or <code>-</code> - and <code>r'\\\\\\g&lt;0&gt;'</code> replacement will replace the match value with a <code>\\</code> and the match value.</p>\n"}], "owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 798, "favorite_count": 0, "accepted_answer_id": 45671344, "answer_count": 1, "score": 4, "last_activity_date": 1502702711, "creation_date": 1502701369, "question_id": 45670950, "link": "https://stackoverflow.com/questions/45670950/how-to-identify-regex-bad-characters-in-a-long-list-of-characters", "title": "How to identify regex bad characters in a long list of characters?", "body": "<p>The goal is to port this Perl regex (from <a href=\"https://github.com/moses-smt/mosesdecoder/blob/master/scripts/generic/mteval-v14.pl#L973\" rel=\"nofollow noreferrer\">here</a>) into Python:</p>\n\n<pre><code>$norm_text =~ s/(\\P{N})(\\p{P})/$1 $2 /g;\n</code></pre>\n\n<p>First I've copied the <code>\\p{P}</code> and <code>\\P{N}</code> character array into a readable text file:</p>\n\n<ul>\n<li><a href=\"https://raw.githubusercontent.com/alvations/charguana/master/charguana/data/perluniprops/Number.txt\" rel=\"nofollow noreferrer\">Number.txt</a></li>\n<li><a href=\"https://raw.githubusercontent.com/alvations/charguana/master/charguana/data/perluniprops/Punctuation.txt\" rel=\"nofollow noreferrer\">Punctuation.txt</a></li>\n</ul>\n\n<p>I.e.</p>\n\n<pre><code>import requests\nfrom six import text_type\n\nn_url = 'https://raw.githubusercontent.com/alvations/charguana/master/charguana/data/perluniprops/Number.txt'\np_url = 'https://raw.githubusercontent.com/alvations/charguana/master/charguana/data/perluniprops/Punctuation.txt'\n\nNUMS = text_type(requests.get(n_url).content.decode('utf8'))\nPUNCTS = text_type(requests.get(p_url).content.decode('utf8'))\n</code></pre>\n\n<p>But when I tried to compile the regex:</p>\n\n<pre><code>re.compile(u'([{n}])([{p}])'.format(n=NUMS, p=PUNCTS)\n</code></pre>\n\n<p>It throws this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/Users/alvas/anaconda3/lib/python3.6/re.py\", line 233, in compile\n    return _compile(pattern, flags)\n  File \"/Users/alvas/anaconda3/lib/python3.6/re.py\", line 301, in _compile\n    p = sre_compile.compile(pattern, flags)\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_compile.py\", line 562, in compile\n    p = sre_parse.parse(p, flags)\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_parse.py\", line 856, in parse\n    p = _parse_sub(source, pattern, flags &amp; SRE_FLAG_VERBOSE, False)\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_parse.py\", line 415, in _parse_sub\n    itemsappend(_parse(source, state, verbose))\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_parse.py\", line 763, in _parse\n    p = _parse_sub(source, state, sub_verbose)\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_parse.py\", line 415, in _parse_sub\n    itemsappend(_parse(source, state, verbose))\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_parse.py\", line 552, in _parse\n    raise source.error(msg, len(this) + 1 + len(that))\nsre_constants.error: bad character range ~-- at position 217 (line 1, column 218)\n</code></pre>\n\n<p>Looking around the problem seems to be that the dashes that are not escaped within the character sets, <a href=\"https://stackoverflow.com/questions/28539253/python-regex-bad-character-range\">Python regex bad character range.</a>.</p>\n\n<p>It looks like there's a range of dash like symbols in:</p>\n\n<pre><code>&gt;&gt;&gt; NUMS[215:352]\n'~----------------------------------------------------------------------------------------------------------------------------------------'\n</code></pre>\n\n<p>Then I moved the dashes characters to the front of the string but there's more bad characters:</p>\n\n<pre><code>&gt;&gt;&gt; NUMS2 = re.escape(NUMS[215:352]) + NUMS[:215] + NUMS[352:]\n&gt;&gt;&gt; re.compile(u'([{n}])'.format(n=NUMS2))\n</code></pre>\n\n<p>[out]:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/Users/alvas/anaconda3/lib/python3.6/re.py\", line 233, in compile\n    return _compile(pattern, flags)\n  File \"/Users/alvas/anaconda3/lib/python3.6/re.py\", line 301, in _compile\n    p = sre_compile.compile(pattern, flags)\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_compile.py\", line 562, in compile\n    p = sre_parse.parse(p, flags)\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_parse.py\", line 856, in parse\n    p = _parse_sub(source, pattern, flags &amp; SRE_FLAG_VERBOSE, False)\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_parse.py\", line 415, in _parse_sub\n    itemsappend(_parse(source, state, verbose))\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_parse.py\", line 763, in _parse\n    p = _parse_sub(source, state, sub_verbose)\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_parse.py\", line 415, in _parse_sub\n    itemsappend(_parse(source, state, verbose))\n  File \"/Users/alvas/anaconda3/lib/python3.6/sre_parse.py\", line 552, in _parse\n    raise source.error(msg, len(this) + 1 + len(that))\nsre_constants.error: bad character range \u00ac-- at position 502 (line 1, column 503)\n</code></pre>\n\n<p>So I moved more characters to the front:</p>\n\n<pre><code>&gt;&gt;&gt; NUMS2 = re.escape(NUMS[215:352]) + NUMS[:215] + NUMS[352:]\n&gt;&gt;&gt; NUMS3 = re.escape(NUMS2[500:504]) + NUMS2[:500] + NUMS2[504:]\n&gt;&gt;&gt; re.compile(u'([{n}])'.format(n=NUMS3))\n</code></pre>\n\n<p>This seems to be an endless cycle of detecting what is a \"bad character range\" in a regex. </p>\n\n<p><strong>Is there a way to automatically identify all \"bad characters\" in a regex and shift them to the front?</strong></p>\n"}, {"tags": ["perl", "perl-module", "moose"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502700499, "post_id": 45670596, "comment_id": 78298608, "body": "Are you sure? Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If I add packages to your code it works for me. I do not see it <code>die</code>, and the <code>before</code> handler is called first."}, {"owner": {"reputation": 1095, "user_id": 3275483, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/121431fbd6be34af7bbbce30b3819c29?s=128&d=identicon&r=PG&f=1", "display_name": "Mat0", "link": "https://stackoverflow.com/users/3275483/mat0"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502701586, "post_id": 45670596, "comment_id": 78299296, "body": "I&#39;ve edited the post with a test example"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1502702489, "creation_date": 1502702489, "answer_id": 45671282, "question_id": 45670596, "link": "https://stackoverflow.com/questions/45670596/perl-with-overriden-method-avoid-super-is-called/45671282#45671282", "title": "Perl - With overriden method avoid super() is called", "body": "<p>You are calling <code>_sortAlgorithm</code> as a function in the same package in AbstractSort`, and not as a method.</p>\n\n<pre><code>sub sortData {\n    my $self = shift;\n\n    # there is something missing here!\n    _sortAlgorithm( $self-&gt;array );\n}\n</code></pre>\n\n<p>That way, it will always be called in the same package, because it's not an OOP method call.</p>\n\n<p>You need to do <code>$self-&gt;_sortAlgorithm</code> instead.</p>\n\n<pre><code>sub sortData {\n    my $self = shift;\n\n    print \"Sorting data..\\n\";\n\n    $self-&gt;_sortAlgorithm( $self-&gt;array );\n\n    # ...\n}\n</code></pre>\n\n<p>It will now not <code>die</code> any more, because it looks up the <code>_sortAlgorithm</code> method on <code>$self</code>, which is an instance of your subclass.</p>\n\n<p>The fact that you actually have <code>my $self = shift</code> on your overridden method could have given that away, as you were also not passing <code>$self</code> into it.</p>\n\n<hr>\n\n<p>You should also not be passing around <code>$self-&gt;array</code>. The algorithm method also has access to <code>$self-&gt;array</code>, so if you want to sort the data that is attached to your object, just use it directly in there.</p>\n\n<p>Also note that typical naming conventions in Perl suggest snake_case method and variable names, and CamelCase package names.</p>\n"}], "owner": {"reputation": 1095, "user_id": 3275483, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/121431fbd6be34af7bbbce30b3819c29?s=128&d=identicon&r=PG&f=1", "display_name": "Mat0", "link": "https://stackoverflow.com/users/3275483/mat0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 45671282, "answer_count": 1, "score": 2, "last_activity_date": 1502702489, "creation_date": 1502700201, "last_edit_date": 1502701555, "question_id": 45670596, "link": "https://stackoverflow.com/questions/45670596/perl-with-overriden-method-avoid-super-is-called", "title": "Perl - With overriden method avoid super() is called", "body": "<p>I'm trying to create the abstract method pattern using Perl and Moose. What I don't understand is that if I override a method from the <strong>AbstractClass</strong> it will eventually be called anyway. Why is this and is there a way to avoid the superclass from being called?</p>\n\n<p><strong>Main</strong></p>\n\n<pre><code>package main;\nuse AbstractSort;\nuse OrderedSort;\n\n# Sub class test\nmy $ordered = OrderedSort-&gt;new(array =&gt; [1, -1, 23, 34123, -24324]);\n$ordered-&gt;sortData();\n</code></pre>\n\n<p><strong>AbstractClass</strong></p>\n\n<pre><code>package AbstractSort;\nuse namespace::autoclean; # Trims EXPORTER \nuse Moose;\n\nhas 'array' =&gt; (traits  =&gt; ['Array'],\n            is =&gt; 'ro', \n            isa =&gt; 'ArrayRef[Int]', \n            default =&gt; sub { [] },\n            handles =&gt; {    \n                get_array =&gt; 'get',\n                count_array  =&gt; 'count',\n            });\n\nsub sortData{\n    my $self = shift;\n\n    print \"Sorting data..\\n\";\n\n    _sortAlgorithm($self-&gt;array);\n\n    # ...\n}\n\n# Protected method here is the actual algorithm\nsub _sortAlgorithm {\n    die 'You must override _sortAlgorithm() in a subclass';\n    # but Moose will always call the superclass which then makes it die\n} \n</code></pre>\n\n<p><strong>SubClass</strong></p>\n\n<pre><code>package OrderedSort;\nuse namespace::autoclean; # Trims EXPORTER \nuse Moose;\nextends 'AbstractSort';\n\n# Override and mmpl _sortAlgorithm\noverride _sortAlgorithm =&gt; sub {\n   my $self = shift;\n   # ....\n};\n\nbefore '_sortAlgorithm' =&gt; sub {\n    my $self = shift;\n    # ...\n\n    return;\n};\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 3209, "user_id": 615025, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/acb7b03d850cec8ba044a6dd68d06db5?s=128&d=identicon&r=PG", "display_name": "sancho21", "link": "https://stackoverflow.com/users/615025/sancho21"}, "edited": false, "score": 0, "creation_date": 1502706532, "post_id": 45671547, "comment_id": 78302195, "body": "Thanks @zdim. I&#39;ve fixed the solution into a working one."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3209, "user_id": 615025, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/acb7b03d850cec8ba044a6dd68d06db5?s=128&d=identicon&r=PG", "display_name": "sancho21", "link": "https://stackoverflow.com/users/615025/sancho21"}, "edited": false, "score": 0, "creation_date": 1502707305, "post_id": 45671547, "comment_id": 78302626, "body": "@sancho21  Great :).  Thank you for the suggested edit. However, declaring <code>my</code> vars is something else. It introduces a lexical, which is effectively global in this case (in the larger scope anyway). If you then refer to it (<code>$var</code>) it&#39;s <i>that</i> lexical, not the <code>$main::var</code> -- which you <i>always</i> have to call <code>$main::var</code>.  The <code>$main::var</code> creates an entry in the symbol table (while <code>my $var</code> doesn&#39;t). They don&#39;t need to be declared when fully qualified (if it didn&#39;t work there must&#39;ve been another reason).  I&#39;ll add some comments, or links (but later, it&#39;s too late now here)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1619134144, "last_edit_date": 1619134144, "creation_date": 1502703335, "answer_id": 45671547, "question_id": 45670363, "link": "https://stackoverflow.com/questions/45670363/overriding-a-module-subroutine-from-a-class-subroutine/45671547#45671547", "title": "Overriding a module subroutine from a class subroutine", "body": "<p>The problem is the mix of a lexical (<code>my</code>) variable and a nested subroutine.</p>\n<p>The inner subroutine closes over the two variables it uses.  However, being lexical they get redefined on each new call, while the inner (<em>named</em>) sub faithfully keeps reference to the original values.  So the whole thing may work as expected only the first time it's called.</p>\n<p>Luckily, we get the warning to that fact.  With <code>use diagnostics;</code> added (or see <a href=\"http://perldoc.perl.org/perldiag.html\" rel=\"nofollow noreferrer\">perldiag</a>)</p>\n<blockquote>\n<p>Variable &quot;$x&quot; will not stay shared at -e line 1 (#1)<br />\n(W closure) An inner (nested) named subroutine is referencing a\nlexical variable defined in an outer named subroutine.</p>\n</blockquote>\n<blockquote>\n<p>When the inner subroutine is called, it will see the value of\nthe outer subroutine's variable as it was before and during the <em>first</em>\ncall to the outer subroutine; in this case, after the first call to the\nouter subroutine is complete, the inner and outer subroutines will no\nlonger share a common value for the variable.  In other words, the\nvariable will no longer be shared.</p>\n</blockquote>\n<blockquote>\n<p>This problem can usually be solved by making the inner subroutine\nanonymous, using the sub {} syntax.  When inner anonymous subs that\nreference variables in outer subroutines are created, they\nare automatically rebound to the current values of such variables.</p>\n</blockquote>\n<p>While this explains the matter the solution won't work for your purpose, if I understand it right.</p>\n<p>One approach that seems suitable is to fully qualify names</p>\n<pre><code>sub SOAP::Transport::HTTP::Client::get_basic_credentials {\n  return $main::$creds_username =&gt; $main::$creds_password;\n}\n\nsub set_basicauth {\n  my $self = shift;\n\n  ($main::$creds_username, $main::$creds_password) = @_;\n\n  # ... (not sure of your purpose, presumably use SOAP::)\n\n  return $self;\n}\n</code></pre>\n<p>where <code>$main</code> should be substituted for the actual package name, if different. The sub <em>can</em> be placed inside the other but there is no purpose to that since it is compiled as any other named sub.</p>\n<p>Another option would be to make variables global with <a href=\"http://perldoc.perl.org/functions/our.html\" rel=\"nofollow noreferrer\">our</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1502727352, "creation_date": 1502727352, "answer_id": 45678756, "question_id": 45670363, "link": "https://stackoverflow.com/questions/45670363/overriding-a-module-subroutine-from-a-class-subroutine/45678756#45678756", "title": "Overriding a module subroutine from a class subroutine", "body": "<p>There's no such thing as a nested named subs.</p>\n\n<pre><code>sub set_basicauth {\n  my ($self, $username, $password) = @_;\n\n  $self-&gt;{username} = $username;\n  $self-&gt;{password} = $password;\n}\n\nsub request {    \n  my ($self, ...) = @_;\n\n  my $username = $self-&gt;{username};\n  my $password = $self-&gt;{password};\n\n  local *SOAP::Transport::HTTP::Client::get_basic_credentials = sub {\n    return $username =&gt; $password;\n  };\n\n  ... code that uses SOAP::Lite ...\n}\n</code></pre>\n"}], "owner": {"reputation": 3209, "user_id": 615025, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/acb7b03d850cec8ba044a6dd68d06db5?s=128&d=identicon&r=PG", "display_name": "sancho21", "link": "https://stackoverflow.com/users/615025/sancho21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 45671547, "answer_count": 2, "score": 3, "last_activity_date": 1619134144, "creation_date": 1502699284, "question_id": 45670363, "link": "https://stackoverflow.com/questions/45670363/overriding-a-module-subroutine-from-a-class-subroutine", "title": "Overriding a module subroutine from a class subroutine", "body": "<p>I have a class which has an ability to define a credentials.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$po = PoService-&gt;new()-&gt;set_basicauth(\"jack\", \"secret\");\n</code></pre>\n\n<p>The thing is, in order to do that, it has to redefine a module subroutine. So, I did it this way:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub set_basicauth {\n  my ($self, $creds_username, $creds_password) = @_;\n\n  sub SOAP::Transport::HTTP::Client::get_basic_credentials {\n    return $creds_username =&gt; $creds_password;\n  }\n\n  return $self;\n}\n</code></pre>\n\n<p>But, when I run the code, it tells me a message:</p>\n\n<pre><code>Variable \"$creds_username\" will not stay shared at /opt/PoService.pm line 53.\nVariable \"$creds_password\" will not stay shared at /opt/PoService.pm line 53.\n</code></pre>\n\n<p>What did I do wrong here?</p>\n"}, {"tags": ["perl", "debugging", "openssl", "rebuild"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1502712953, "post_id": 45669254, "comment_id": 78305985, "body": "I&#39;m not sure what the <code>PL_unitcheckav</code> symbol is for, but <code>UNITCHECK</code> is a compilation phase, like the <code>BEGIN</code> and <code>INIT</code> blocks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502735592, "post_id": 45669254, "comment_id": 78319321, "body": "Hard to tell without even the error message, but it sounds like you compiled the module using one build of Perl, but are trying to load it with another."}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 5587018, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/16ec6e1761227fb76e04356f9aa55d29?s=128&d=identicon&r=PG&f=1", "display_name": "philippe_44", "link": "https://stackoverflow.com/users/5587018/philippe-44"}, "is_accepted": true, "score": 0, "last_activity_date": 1502834406, "creation_date": 1502834406, "answer_id": 45702202, "question_id": 45669254, "link": "https://stackoverflow.com/questions/45669254/perl-pl-unitcheckav-and-so-compiled-using-perlbrew/45702202#45702202", "title": "Perl PL_unitcheckav and .so compiled using Perlbrew", "body": "<p>Just found the answer. As @ikegami said, I was compiling w/o --multi, --64int and --thread and running it on a version with all these flags compiled (version  number was correct). The \"multi\" option was really the problem</p>\n"}], "owner": {"reputation": 173, "user_id": 5587018, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/16ec6e1761227fb76e04356f9aa55d29?s=128&d=identicon&r=PG&f=1", "display_name": "philippe_44", "link": "https://stackoverflow.com/users/5587018/philippe-44"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 45702202, "answer_count": 1, "score": 1, "last_activity_date": 1502834406, "creation_date": 1502694981, "question_id": 45669254, "link": "https://stackoverflow.com/questions/45669254/perl-pl-unitcheckav-and-so-compiled-using-perlbrew", "title": "Perl PL_unitcheckav and .so compiled using Perlbrew", "body": "<p>I need to build the same set of shared objects (the OpenSSL support) for many platform and Perl version (4x4). Install works well with Perlbrew and I can install various packages with cpan on the different version I'v created. The problem is that they all fail with a PL_unitcheckav not found in DynLoader.pm</p>\n\n<p>I've found lots of similar issues, but no solutione so far. Is this a debug symbol? It only fails when I add (cpan) a package from my brew install and then try to tun it on other system. It works fine when compile \"natively\" using my local Perl</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 2, "creation_date": 1502696392, "post_id": 45669002, "comment_id": 78296445, "body": "i recognize this code. this isnt really sql. what you should use here instead of <code>like</code> is <code>CONTAINS</code>"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1502698939, "post_id": 45669002, "comment_id": 78297807, "body": "This is no valid <code>SQL</code>. You are not stating from which tables you want to select. And you do not show how you are connecting to the db server. You give no detail what kind of database you are trying to connect to. Without more details there will likely be no good answers."}], "answers": [{"tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": false, "score": 2, "last_activity_date": 1502701942, "creation_date": 1502701942, "answer_id": 45671110, "question_id": 45669002, "link": "https://stackoverflow.com/questions/45669002/sql-group-by-and-where-clause-in-perl/45671110#45671110", "title": "SQL group by and where clause in PERL", "body": "<p>Firstly, your column aliases should be quoted by double quotes or be unquoted.</p>\n\n<p>Secondly, there is no FROM clause (something like \"FROM $subject\").</p>\n\n<p>Thirdly, looks like you need = operator instead of LIKE.</p>\n\n<p>Looks like You want to write something like</p>\n\n<pre><code>my $qstr = \"select $subject.id as id, $subject.status as status, $subject.title as title, $subject.component as component, $subject.submitted_date as submitted_date, $subject.closed_date as closed_date from $subject where ($subject.title = 'PM_Production' and ($subject.status = 'complete' OR $subject.status = 'rejected'))\";\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8343206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dnUNd.jpg?s=128&g=1", "display_name": "Perl newbie", "link": "https://stackoverflow.com/users/8343206/perl-newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1502766923, "creation_date": 1502693941, "last_edit_date": 1502766923, "question_id": 45669002, "link": "https://stackoverflow.com/questions/45669002/sql-group-by-and-where-clause-in-perl", "title": "SQL group by and where clause in PERL", "body": "<p>Can't execute this code...</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $qstr = \"select id as 'id', \n                   status as 'status', \n                   $subject.title as 'title', \n                   $subject.component as 'component', \n                   $subject.submitted_date as 'submitted_date', \n                   $subject.closed_date as 'closed_date' \n             where ($subject.title like 'PM_Production' \n               and ($subject.status = 'complete' \n                 OR $subject.status = 'rejected'))\";\nmy $results = &amp;search($api, $tenant, $subject, $qstr); \n\nforeach my $singleRow (@$results) {\n    my $title =$singleRow-&gt;{'title'};\n    my $component = $singleRow-&gt;{'component'};\n    my $sub_date = $singleRow-&gt;{'submitted_date'};\n    my $closed_date = $singleRow-&gt;{'closed_date'};\n\n    print \"$title, $component, $sub_date, $closed_date\\n\";\n}\n</code></pre>\n\n<p>having error as below;</p>\n\n<pre><code>Syntax Error\n\n -- Error 15: Invalid Operator Found: \"like\"\n</code></pre>\n\n<p>Expected output: would like to filter all of the data in which title contains \"PM_Pro\"</p>\n\n<p>P.S. Data title example:</p>\n\n<pre><code> Title             Ticket Submitted_date      Ticket closed_date\n PM_Pro_test1      2017-05-11 12:47:08.2      2017-05-26 07:00:16.0\n PM_Pro_test2      2017-05-11 13:23:10.96     2017-05-27 22:01:02.0\n Testi_PM_Pro      2017-05-11 13:23:02.483    2017-05-24 08:10:20.0\n Testii_PM_Pro     2017-05-11 13:28:35.247    2017-05-24 08:12:33.0 \n</code></pre>\n"}, {"tags": ["excel", "bash", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1502692095, "post_id": 45668255, "comment_id": 78294489, "body": "<a href=\"https://stackoverflow.com/questions/1833820/how-to-save-data-on-excel-xls-file-using-perl\" title=\"how to save data on excel xls file using perl\">stackoverflow.com/questions/1833820/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 557, "user_id": 5871199, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b3166437a01d984189e74a59642de618?s=128&d=identicon&r=PG&f=1", "display_name": "prex", "link": "https://stackoverflow.com/users/5871199/prex"}, "edited": false, "score": 0, "creation_date": 1502691004, "post_id": 45668297, "comment_id": 78294064, "body": "thanks, that works .i want to export this into a excel sheet.how can i do that?"}, {"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "reply_to_user": {"reputation": 557, "user_id": 5871199, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b3166437a01d984189e74a59642de618?s=128&d=identicon&r=PG&f=1", "display_name": "prex", "link": "https://stackoverflow.com/users/5871199/prex"}, "edited": false, "score": 0, "creation_date": 1502691128, "post_id": 45668297, "comment_id": 78294111, "body": "Just like you did in your question. Just redirect the output with <code>&gt;</code> to a file."}, {"owner": {"reputation": 557, "user_id": 5871199, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b3166437a01d984189e74a59642de618?s=128&d=identicon&r=PG&f=1", "display_name": "prex", "link": "https://stackoverflow.com/users/5871199/prex"}, "edited": false, "score": 0, "creation_date": 1502691530, "post_id": 45668297, "comment_id": 78294272, "body": "i just edited the question with a sample excel sheet with proper formatting that i need..is something like this possible?"}, {"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "reply_to_user": {"reputation": 557, "user_id": 5871199, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b3166437a01d984189e74a59642de618?s=128&d=identicon&r=PG&f=1", "display_name": "prex", "link": "https://stackoverflow.com/users/5871199/prex"}, "edited": false, "score": 0, "creation_date": 1502693806, "post_id": 45668297, "comment_id": 78295153, "body": "What is the difference? One empty line after the header? Add a <code>\\n</code> to the <code>echo</code>part: <code>echo -e &quot;header1\\theader2\\n&quot; ...</code>"}], "tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": true, "score": 2, "last_activity_date": 1502691083, "last_edit_date": 1502691083, "creation_date": 1502690722, "answer_id": 45668297, "question_id": 45668255, "link": "https://stackoverflow.com/questions/45668255/how-to-convert-a-text-file-into-excel-in-bash-or-perl/45668297#45668297", "title": "How to convert a text file into excel in bash or perl", "body": "<pre><code>$ echo -e \"header1\\theader2\"; cat file | tr : '\\t'    # &gt; file.csv\nheader1 header2\naaaa    1.0\nbbbb    1.1\ncccc    1.3\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>$ cat &lt;(echo  \"header1:header2\") file | tr : '\\t'     # &gt; file.csv\nheader1 header2\naaaa    1.0\nbbbb    1.1\ncccc    1.3\n</code></pre>\n\n<p>Uncomment the <code>&gt; file.csv</code> to actually write to a file.</p>\n"}], "owner": {"reputation": 557, "user_id": 5871199, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b3166437a01d984189e74a59642de618?s=128&d=identicon&r=PG&f=1", "display_name": "prex", "link": "https://stackoverflow.com/users/5871199/prex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1834, "favorite_count": 0, "accepted_answer_id": 45668297, "answer_count": 1, "score": 0, "last_activity_date": 1502691481, "creation_date": 1502690484, "last_edit_date": 1502691481, "question_id": 45668255, "link": "https://stackoverflow.com/questions/45668255/how-to-convert-a-text-file-into-excel-in-bash-or-perl", "title": "How to convert a text file into excel in bash or perl", "body": "<p><a href=\"https://i.stack.imgur.com/FzfAS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FzfAS.png\" alt=\"sample excel sheet\"></a>I have a text file that has some data such as</p>\n\n<pre><code>aaaa:1.0\nbbbb:1.1\ncccc:1.3\n</code></pre>\n\n<p>I want to covert this into an excel sheet using bash/perl\nThe desired output is something like this</p>\n\n<pre><code>header1    header2\naaaa        1.0\nbbbb        1.1\ncccc        1.3\n</code></pre>\n\n<p>what i have tried so far is </p>\n\n<pre><code>(echo \"header1;header2\" ; cat a.txt) | sed 's/:/\\t/g' &gt; a.csv\n</code></pre>\n\n<p>but this does not seem to work.\nalso i want to export  this text file into an excel sheet.</p>\n"}, {"tags": ["xml", "perl", "xml-namespaces", "xml-libxml"], "answers": [{"comments": [{"owner": {"reputation": 170, "user_id": 1530667, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6db1b25d38f7941e0a505f2c9e5dbdc1?s=128&d=identicon&r=PG", "display_name": "madmatrix", "link": "https://stackoverflow.com/users/1530667/madmatrix"}, "edited": false, "score": 0, "creation_date": 1502711538, "post_id": 45667671, "comment_id": 78305128, "body": "Exactly this is what I was looking for, thanks.  There is a small modification in the source  Instead of  &lt;Symbol&gt;GOOG&lt;/Symbol&gt;  it would be, &lt;Symbol type=&quot;NASDAQ&quot;&gt;GOOG&lt;/Symbol&gt;  How to parse the &#39;type&#39; attribute from the xml node?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1502686485, "creation_date": 1502686485, "answer_id": 45667671, "question_id": 45667490, "link": "https://stackoverflow.com/questions/45667490/xml-parsing-using-xmllibxml/45667671#45667671", "title": "XML parsing using XML::LibXML", "body": "<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse XML::LibXML               qw( );\nuse XML::LibXML::XPathContext qw( );\n\nmy $doc = XML::LibXML-&gt;load_xml( location =&gt; $ARGV[0] );\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new();\n$xpc-&gt;registerNs( ns1 =&gt; \"http://url1\" );\n\nfor my $company_node ($xpc-&gt;findnodes(\"/ns1:StockRecords/ns1:Companies/ns1:Company\", $doc)) {\n   say $xpc-&gt;findvalue(\"ns1:CID\", $company_node);\n   say $xpc-&gt;findvalue(\"ns1:Name\", $company_node);\n}\n</code></pre>\n"}], "owner": {"reputation": 170, "user_id": 1530667, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6db1b25d38f7941e0a505f2c9e5dbdc1?s=128&d=identicon&r=PG", "display_name": "madmatrix", "link": "https://stackoverflow.com/users/1530667/madmatrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 45667671, "answer_count": 1, "score": 0, "last_activity_date": 1502686485, "creation_date": 1502684960, "question_id": 45667490, "link": "https://stackoverflow.com/questions/45667490/xml-parsing-using-xmllibxml", "title": "XML parsing using XML::LibXML", "body": "<p>Here is the Sample data that am trying to parse to extract attribute value corresponding to node Company : CID, Name, Symbol, Value for all the Company nodes under Companies node</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;StockRecords xmlns=\"http://url1\"\n              xmlns:ref=\"http://url2\"\n              xmlns:xsi=\"http://url3\"&gt;\n  &lt;Companies&gt;\n    &lt;Company&gt;\n      &lt;CID&gt;123&lt;/CID&gt;\n      &lt;Name&gt;Google&lt;/Name&gt;\n      &lt;Symbol&gt;GOOG&lt;/Symbol&gt; \n      &lt;Value&gt;1234&lt;/Value&gt;\n    &lt;/Company&gt;\n  &lt;/Companies&gt;\n&lt;/StockRecords&gt;\n</code></pre>\n\n<p>Following are the 2 variants that I tried.\n<strong>Variant 1</strong></p>\n\n<pre><code>use XML::LibXML;\n\nmy $filename = \"test.xml\";\nmy $dom = XML::LibXML-&gt;load_xml(location =&gt; $filename);\n\nforeach my $sample ($dom-&gt;findnodes( '/Companies/Company' )) {\n\n    print Dumper($sample);\n    last;\n}\n</code></pre>\n\n<p><strong>Variant 2:</strong> Since there are namespaces involved in it, XPathContext to be specified.</p>\n\n<pre><code>use XML::LibXML;\n\nmy $filename = \"test.xml\";\nmy $parser = XML::LibXML-&gt;new();\nmy $xmldoc = $parser-&gt;parse_file($filename);\n\nmy $root = $xmldoc-&gt;getDocumentElement;\n\nmy @l = $root-&gt;getElementsByTagName('StockRecords');\n\nmy $xc = XML::LibXML::XPathContext-&gt;new($root);\n\n$xc-&gt;registerNs(\"ns1\", \"http://url1\");\n$xc-&gt;registerNs(\"ref\", \"http://url2\");\n$xc-&gt;registerNs(\"xsi\", \"http://url3\");\n</code></pre>\n\n<p>Am not able to extract data for any attribute for the node. I did take a look at other answers, LibXML documentation still there is something am missing. Please help me with some pointers. Thanks</p>\n"}, {"tags": ["perl", "base64"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1502684813, "creation_date": 1502684813, "answer_id": 45667474, "question_id": 45667188, "link": "https://stackoverflow.com/questions/45667188/how-to-determine-perl-mimebase64-decode-fail-or-not/45667474#45667474", "title": "How to determine Perl MIME::Base64 decode fail or not?", "body": "<p>There is no \"decode is failed\" with <code>MIME::Base64::decode_base64</code>. It will simply ignore anything which does not fit, i.e. characters which are not valid base64 characters, incomplete padding at the end or any data following the end marker '='. Thus, it will always return something and in the worst case this will be an empty string.</p>\n\n<p>Note that this behavior is not even wrong. At least some of the various Base64 standards explicitly require invalid characters to be skipped and none defines error handling in case of incomplete padding or data after '='. Still, the output of MIME::Base64 might be different compared to other implementations in case of invalid data.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1502725211, "last_edit_date": 1502725211, "creation_date": 1502685621, "answer_id": 45667571, "question_id": 45667188, "link": "https://stackoverflow.com/questions/45667188/how-to-determine-perl-mimebase64-decode-fail-or-not/45667571#45667571", "title": "How to determine Perl MIME::Base64 decode fail or not?", "body": "<p>When using MIME::Base64's <code>decode_base64</code>, the decode is always deemed to be successful. Disallowed characters are ignored.</p>\n\n<p>You could strictly verify that you have a valid base64 using the following:</p>\n\n<pre><code>my $c1 = '[A-Za-z0-9+/]';\nmy $c2 = '[AQgw]';\nmy $c3 = '[AEIMQUYcgkosw048]';\ndie \"Invalid data\\n\"\n   if $s !~ m{^(?:$c1{4})*+(?&gt;$c1(?&gt;$c2==|$c1$c3=)|)\\z};\n</code></pre>\n\n<p>Whitespace is often used in the middle, so you might want to allow whitespace. (In fact, <code>encode_base64</code> includes whitespace in its output by default!)</p>\n\n<p>The <code>=</code> are often left out, so you might want to allow missing <code>=</code>.</p>\n\n<p>If you're worried about data corruption, include a hash of the data with the data.</p>\n"}], "owner": {"reputation": 337, "user_id": 4156036, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-wN-oUn0fU5o/AAAAAAAAAAI/AAAAAAAACvk/ZaMbeTKUqq8/photo.jpg?sz=128", "display_name": "Lane", "link": "https://stackoverflow.com/users/4156036/lane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1502725211, "creation_date": 1502682486, "question_id": 45667188, "link": "https://stackoverflow.com/questions/45667188/how-to-determine-perl-mimebase64-decode-fail-or-not", "title": "How to determine Perl MIME::Base64 decode fail or not?", "body": "<p>I have to decode some base64 string using Perl, and I want to know the docode is success or not.</p>\n\n<p>How can I know the decode is OK? What will happen if my decode is failed?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "is_accepted": true, "score": 6, "last_activity_date": 1502670403, "creation_date": 1502670403, "answer_id": 45670527, "question_id": 45670526, "link": "https://stackoverflow.com/questions/45670526/perl-strange-behavior-of-chomp/45670527#45670527", "title": "Perl: Strange behavior of chomp", "body": "<p>From the <a href=\"http://perldoc.perl.org/perlfunc.html#chomp\" rel=\"noreferrer\">manual</a>:</p>\n\n<blockquote>\n  <p>It returns the total number of characters removed from all its arguments.</p>\n</blockquote>\n\n<p><code>chomp</code> modifies its argument in place. It doesn't return the possibly truncated string.</p>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1502699965, "question_id": 385941}, "owner": {"reputation": 1832, "user_id": 284605, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1357852706ac07f18001b77d2450adcb?s=128&d=identicon&r=PG&f=1", "display_name": "mkc", "link": "https://stackoverflow.com/users/284605/mkc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1502745476, "accepted_answer_id": 45670527, "answer_count": 1, "score": 0, "last_activity_date": 1502699965, "creation_date": 1502669941, "question_id": 45670526, "link": "https://stackoverflow.com/questions/45670526/perl-strange-behavior-of-chomp", "closed_reason": "Duplicate", "title": "Perl: Strange behavior of chomp", "body": "<p><code>chomp</code> function in Perl removes the record separator character (s) from a variable that appears at the end. However, in the following code, it remove more than that - it remove some characters from the front of the variable as well. Here is the code:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse String::Util qw(trim);\nuse feature 'say';\n\n{\nopen FILE, \"conf.txt\" or die \"Can't open file\";\nlocal $/ = ';';\nmy %hash;\nmy @val;\n\nwhile (&lt;FILE&gt;){\n    next if (/^\\s+$/);\n    @val=split /=/;\n    $hash{$val[0]}=$val[1];\n}\n\nsay $hash{\"name1\"};\nsay chomp $hash{\"name1\"};\nclose FILE;\n}\n</code></pre>\n\n<p>The <code>conf.txt</code> file looks like so:</p>\n\n<pre><code>name1=va\nl1;\nname2=v\na\nl2;\nname3=val3;\nname4=val4;\n</code></pre>\n\n<p>The output of the code is like so:</p>\n\n<pre><code>~ $ ./readconf.pl \nva\nl1;\n1\n</code></pre>\n\n<p>I was expecting that the output of <code>say chomp $hash{\"name1\"};</code> would be <code>va\\nl1</code>. Why does it just output <code>1</code>?</p>\n"}, {"tags": ["perl", "pintos"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502598421, "post_id": 45656966, "comment_id": 78272114, "body": "What&#39;s the question?"}, {"owner": {"reputation": 458, "user_id": 5969990, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/kBhfU.jpg?s=128&g=1", "display_name": "Brandon Olivier", "link": "https://stackoverflow.com/users/5969990/brandon-olivier"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502598462, "post_id": 45656966, "comment_id": 78272119, "body": "How can I resolve that error?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502598661, "post_id": 45656966, "comment_id": 78272150, "body": "Don&#39;t execute code that consists of <code>...($</code> <i><code>^V</code></i> <code>...</code>. What else do you expect from just an error message?"}, {"owner": {"reputation": 458, "user_id": 5969990, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/kBhfU.jpg?s=128&g=1", "display_name": "Brandon Olivier", "link": "https://stackoverflow.com/users/5969990/brandon-olivier"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502598818, "post_id": 45656966, "comment_id": 78272171, "body": "The error comes from the pintos script that is provided.  I don&#39;t know enough about Perl to debug this problem, and I can&#39;t find any comments online of people encountering a similar issue."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502624082, "post_id": 45656966, "comment_id": 78277668, "body": "While I did answer the question below, I still think this question should be closed and deleted because &quot;<i>This question was caused by a problem that can no longer be reproduced or a simple typographical error. While similar questions may be on-topic here, this one was resolved in a manner unlikely to help future readers.</i>&quot; ... The problem was caused by the OP using an outdated version of pintOS, and not checking the project&#39;s repo to see if the issue had been fixed."}, {"owner": {"reputation": 42073, "user_id": 113632, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f0aa6977c75f54ca9033d4f4d0244023?s=128&d=identicon&r=PG", "display_name": "dimo414", "link": "https://stackoverflow.com/users/113632/dimo414"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1515918703, "post_id": 45656966, "comment_id": 83478262, "body": "@Sinan&#220;n&#252;r pintOS is a bit special since it&#39;s used as an instructional tool by several college courses, and faculty may be using (and compiling student code against) an older version. Your answer is still helpful since students only immediate recourse if they have a newer Perl may be to cherrypick the upstream patch."}], "answers": [{"tags": [], "owner": {"reputation": 458, "user_id": 5969990, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/kBhfU.jpg?s=128&g=1", "display_name": "Brandon Olivier", "link": "https://stackoverflow.com/users/5969990/brandon-olivier"}, "is_accepted": false, "score": -1, "last_activity_date": 1502601953, "creation_date": 1502601953, "answer_id": 45657394, "question_id": 45656966, "link": "https://stackoverflow.com/questions/45656966/how-to-resolve-pintos-unrecognized-character-x16/45657394#45657394", "title": "How to resolve PintOS unrecognized character \\x16", "body": "<p><code>^V</code> is a <a href=\"http://perldoc.perl.org/perlvar.html#%24%5EV\" rel=\"nofollow noreferrer\">perlvar</a>.  For reasons unknown to me, it was encoded not as <code>^</code> <code>V</code>, but as a single unicode character, which caused the program to fail. </p>\n"}, {"comments": [{"owner": {"reputation": 189, "user_id": 4474728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001688486772/picture?type=large", "display_name": "Gyanshu", "link": "https://stackoverflow.com/users/4474728/gyanshu"}, "edited": false, "score": 1, "creation_date": 1539872663, "post_id": 45659811, "comment_id": 92665938, "body": "I am getting error in cloning. fatal: unable to connect to pintos-os.org pintos-os.org[0: 66.246.76.178]: errno=Connection refused"}, {"owner": {"reputation": 183, "user_id": 5463404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d160e8a5477b1f04e083e461f40ae3ea?s=128&d=identicon&r=PG&f=1", "display_name": "abnvanand", "link": "https://stackoverflow.com/users/5463404/abnvanand"}, "reply_to_user": {"reputation": 189, "user_id": 4474728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001688486772/picture?type=large", "display_name": "Gyanshu", "link": "https://stackoverflow.com/users/4474728/gyanshu"}, "edited": false, "score": 1, "creation_date": 1539923188, "post_id": 45659811, "comment_id": 92684715, "body": "@Gyanshu looks like an issue with your ISP. My institute&#39;s network was causing a similar issue. Using a mobile network solved the problem."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 12, "last_activity_date": 1515984760, "last_edit_date": 1515984760, "creation_date": 1502623352, "answer_id": 45659811, "question_id": 45656966, "link": "https://stackoverflow.com/questions/45656966/how-to-resolve-pintos-unrecognized-character-x16/45659811#45659811", "title": "How to resolve PintOS unrecognized character \\x16", "body": "<p>Use of <a href=\"https://metacpan.org/pod/distribution/perl/pod/perl5200delta.pod#Literal-control-characters-in-variable-names\" rel=\"noreferrer\">literal control characters in variable names was deprecated</a> in Perl 5.20:</p>\n\n<blockquote>\n  <h3>Literal control characters in variable names</h3>\n  \n  <p>This deprecation affects things like <code>$\\cT</code>, where <code>\\cT</code> is a literal control (such as a <code>NAK</code> or <code>NEGATIVE ACKNOWLEDGE</code> character) in the source code. Surprisingly, it appears that originally this was intended as the canonical way of accessing variables like <code>$^T</code>, with the caret form only being added as an alternative.</p>\n  \n  <p>The literal control form is being deprecated for two main reasons. It has what are likely unfixable bugs, such as <code>$\\cI</code> not working as an alias for <code>$^I</code>, and their usage not being portable to non-ASCII platforms: While <code>$^T</code> will work everywhere, <code>\\cT</code> is whitespace in EBCDIC. [perl #119123]</p>\n</blockquote>\n\n<p>The code causing this problem was fixed in PintOS with <a href=\"http://pintos-os.org/cgi-bin/gitweb.cgi?p=pintos-anon;a=commitdiff;h=fd2a5afa946474ba0839de0e9da238dbaecbd6a5\" rel=\"noreferrer\">this commit</a> in 2016:</p>\n\n<blockquote>\n<pre><code>committer Ben Pfaff &lt;blp@cs.stanford.edu&gt; \nTue, 9 Feb 2016 04:47:10 +0000 (20:47 -0800)\n\nModern versions of Perl prefer a caret in variable names over literal\ncontrol characters and issue a warning if the control character is used.\nThis fixes the warning.\n\ndiff --git a/src/utils/pintos b/src/utils/pintos\nindex 1564216..2ebe642 100755 (executable)\n--- a/src/utils/pintos\n+++ b/src/utils/pintos\n@@ -912,7 +912,7 @@ sub get_load_average {\n # Calls setitimer to set a timeout, then execs what was passed to us.\n sub exec_setitimer {\n     if (defined $timeout) {\n-       if ($\\16 ge 5.8.0) {\n+       if ($^V ge 5.8.0) {\n            eval \"\n               use Time::HiRes qw(setitimer ITIMER_VIRTUAL);\n               setitimer (ITIMER_VIRTUAL, $timeout, 0);\n</code></pre>\n</blockquote>\n\n<p>Perl 5.26 <a href=\"https://metacpan.org/pod/release/XSAWYERX/perl-5.26.0/pod/perldelta.pod#Literal-control-character-variable-names-are-no-longer-permissible\" rel=\"noreferrer\">made it a fatal error to use literal control characters in variable names</a>.</p>\n\n<p>The way you fix it is by ensuring that you are using the most recent version of pintOS. The command <code>git clone git://pintos-os.org/pintos-anon</code> ought to do it.</p>\n"}], "owner": {"reputation": 458, "user_id": 5969990, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/kBhfU.jpg?s=128&g=1", "display_name": "Brandon Olivier", "link": "https://stackoverflow.com/users/5969990/brandon-olivier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3666, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1515984760, "creation_date": 1502597275, "last_edit_date": 1502624090, "question_id": 45656966, "link": "https://stackoverflow.com/questions/45656966/how-to-resolve-pintos-unrecognized-character-x16", "title": "How to resolve PintOS unrecognized character \\x16", "body": "<p>I downloaded and set up PintOS and the dependencies on my home computer, but when I try to run <code>pintos run alarm-multiple</code>, I get the error: </p>\n\n<blockquote>\n  <p><code>Unrecognized character \\x16; marked by &lt;-- HERE after if ($&lt;-- HERE near column 7 at ~/code/pintos/src/utils/pintos line 911.</code></p>\n</blockquote>\n\n<p>That line has <code>^V</code> on it, the synchronous idle control character. I haven't been able to find any information on this problem; it seems like I'm the only one experiencing it. </p>\n\n<p>I have Perl v5.26.0 installed.</p>\n"}, {"tags": ["perl", "cookies", "cgi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1502596971, "post_id": 45656881, "comment_id": 78271908, "body": "What reason do you have for wanting to use a 25-year-old non-core module <code>cookies.pl</code> but not something newer? (I&#39;m guessing at the age, but the fact that it&#39;s a .pl file means it probably predates Perl5, which was first released in 1994.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1502596987, "post_id": 45656881, "comment_id": 78271909, "body": "Since you&#39;re trying to recode the wheel, what problem are you having?"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 2, "creation_date": 1502610371, "post_id": 45656881, "comment_id": 78274366, "body": "By &quot;not using CGI&quot;, do you mean not using the <code>CGI</code> Perl module, or not using the CGI interface at all? If the latter, what are you using instead?"}, {"owner": {"reputation": 89, "user_id": 2708601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e295d1aaf101788673ab244bca76ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey H.", "link": "https://stackoverflow.com/users/2708601/geoffrey-h"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502654643, "post_id": 45656881, "comment_id": 78286481, "body": "@ikegami I was asking only because it was the only resource I knew of that didn&#39;t involve a large framework (or CGI.pm)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502664303, "post_id": 45656881, "comment_id": 78288688, "body": "That doesn&#39;t answer my question. I repeat: Why are you ok with it, but not CGI.pm? Are you trying to make your script unsecure on purpose, or is that just a side-effect?"}, {"owner": {"reputation": 89, "user_id": 2708601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e295d1aaf101788673ab244bca76ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey H.", "link": "https://stackoverflow.com/users/2708601/geoffrey-h"}, "edited": false, "score": 0, "creation_date": 1502665834, "post_id": 45656881, "comment_id": 78288952, "body": "I was okay with it, because it was all I knew of. I dislike CGI.pm in part because it&#39;s no longer in the core, but more so due to spite because anytime I need documentation, that&#39;s all I can find."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1502693470, "post_id": 45656881, "comment_id": 78295000, "body": "There are more options out there than <code>CGI.pm</code> and &quot;large frameworks&quot;. I personally use Dancer and Mojolicious is also quite popular these days; both of them are commonly described as &quot;microframeworks&quot; and I believe that they are smaller than <code>CGI.pm</code>. (I know the main module for Dancer is about a quarter the size of <code>CGI.pm</code>, but haven&#39;t tried to add in the size of any other core-Dancer modules.) Or you could try <code>CGI::Lite</code>, which is smaller still."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502725054, "post_id": 45656881, "comment_id": 78313807, "body": "Re &quot;<i>I dislike CGI.pm in part because it&#39;s no longer in the core</i>&quot;, Neither is <code>cookies.pl</code>. /// Re &quot;<i>more so due to spite</i>&quot;, Do you spite us too? Why waste our time with this."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 2708601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e295d1aaf101788673ab244bca76ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey H.", "link": "https://stackoverflow.com/users/2708601/geoffrey-h"}, "edited": false, "score": 0, "creation_date": 1502654526, "post_id": 45658805, "comment_id": 78286443, "body": "Thank you. Yes, I did mean CGI.pm. I understand my methods are not standard, and will need to update myself in the future, but I think this will suit my purposes until then."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 89, "user_id": 2708601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e295d1aaf101788673ab244bca76ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey H.", "link": "https://stackoverflow.com/users/2708601/geoffrey-h"}, "edited": false, "score": 0, "creation_date": 1502693713, "post_id": 45658805, "comment_id": 78295112, "body": "@GeoffH. - The issue isn&#39;t so much that it&#39;s non-standard or will need updates in the future. The problem is that you&#39;re likely to introduce security bugs (<code>CGI.pm</code> has certainly had its share of security issues over the years) and, if you&#39;re using a custom CGI handler that nobody else uses, then those flaws won&#39;t be found until your site is exploited - and may not be found even then."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 4, "last_activity_date": 1502664351, "last_edit_date": 1502664351, "creation_date": 1502615412, "answer_id": 45658805, "question_id": 45656881, "link": "https://stackoverflow.com/questions/45656881/using-cookies-in-perl-without-cgi/45658805#45658805", "title": "Using cookies in Perl without CGI", "body": "<p>First, I am assuming that when you say you don't want to use \"CGI\", you mean the Perl module <code>CGI.pm</code> rather than the Common Gateway Interface (CGI) method of communicating with the web server, which is implemented by the <code>CGI.pm</code> module.</p>\n\n<p>Second, this answer is for information and entertainment purposes only.  Attempting to implement your own CGI handler for use in a production environment is not advisable.  It's a Really, Really Bad Idea unless you know exactly what you're doing.  And probably still a Bad Idea even if you do.  And if you did know exactly what you're doing, you wouldn't have to ask questions about basic parts of the interface like how to implement cookie handling.</p>\n\n<p>With all that out of the way, cookies are pretty simple to handle directly.</p>\n\n<ul>\n<li>To set a cookie, send a <code>Set-Cookie</code> HTTP header to the client. In the most basic form, this looks like <code>Set-Cookie: CookieName=CookieValue</code>. There are many other options which can be added to this basic format, which are <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\" rel=\"nofollow noreferrer\">documented</a> in various places around the web.</li>\n</ul>\n\n<p>If you're now wondering \"How do I send an HTTP header?\", every line of text that you send to the client (i.e., <code>print</code> to <code>STDOUT</code>) prior to the first empty line is an HTTP header:</p>\n\n<pre><code>print \"Content-Type: text/html\\n\";            # Content-Type header is mandatory!\nprint \"Set-Cookie: CookieName=CookieValue\\n\"; # Header to set a cookie\nprint \"\\n\";                                   # Blank line = end of headers\n# continue on with sending the response body now that headers are done\n</code></pre>\n\n<ul>\n<li>To read a cookie, look at the environment variable <code>HTTP_COOKIE</code>, which is provided by the web server as a part of its CGI implementation and will contain a semicolon-delimited list of all cookies received with the client's HTTP request.  This is accessed in Perl as <code>$ENV{HTTP_COOKIE}</code>.</li>\n</ul>\n"}], "owner": {"reputation": 89, "user_id": 2708601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5e295d1aaf101788673ab244bca76ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey H.", "link": "https://stackoverflow.com/users/2708601/geoffrey-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 45658805, "answer_count": 1, "score": -3, "last_activity_date": 1502664351, "creation_date": 1502596018, "question_id": 45656881, "link": "https://stackoverflow.com/questions/45656881/using-cookies-in-perl-without-cgi", "title": "Using cookies in Perl without CGI", "body": "<p>I am trying to create a standard forum style website using Perl but not using CGI, or any other framework for that matter. I've seen before use of a script simply titled \"cookies.pl,\" but can't find any sort of documentation on it. Is there a way to set/read cookies with just core modules?</p>\n"}, {"tags": ["perl", "powershell"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1502579036, "post_id": 45655547, "comment_id": 78269494, "body": "This allows you to make a transcript - you should then be able to call the script directly without redirecting output: <a href=\"https://stackoverflow.com/questions/1215260/how-to-redirect-the-output-of-a-powershell-to-a-file-during-its-execution\" title=\"how to redirect the output of a powershell to a file during its execution\">stackoverflow.com/questions/1215260/&hellip;</a>"}, {"owner": {"reputation": 43, "user_id": 5464525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/517a336debbaeec45ed3e3fd12e137b5?s=128&d=identicon&r=PG&f=1", "display_name": "Kase420", "link": "https://stackoverflow.com/users/5464525/kase420"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1502583069, "post_id": 45655547, "comment_id": 78270143, "body": "Thanks.  Even with the transcript, it still seems like output is not being dumped until after the perl script&#39;s execution is done."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1502585083, "post_id": 45655547, "comment_id": 78270446, "body": "Ah I misunderstood your problem then, I thought you needed it in both ( &quot;or my log files&quot; -&gt; &quot;and my log files&quot; ). I don&#39;t know enough about power shell to help you then - but I don&#39;t see what this has to do with perl, really."}, {"owner": {"reputation": 43, "user_id": 5464525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/517a336debbaeec45ed3e3fd12e137b5?s=128&d=identicon&r=PG&f=1", "display_name": "Kase420", "link": "https://stackoverflow.com/users/5464525/kase420"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1502588241, "post_id": 45655547, "comment_id": 78270840, "body": "Actually, after a day of researching I think I found the answer to my own question courtesy of PerlMonks.org .  It is perl in the way it buffers the output (line vs. block).  Once I set &quot;$| = 1;&quot; in my Perl script, I got the expected results from both the PowerShell itself and PowerShell&#39;s file redirection.  Here is the site for those that may run into this problem integrating legacy scripts as in my case. <a href=\"http://www.perlmonks.org/?node_id=305801\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=305801</a>"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1502624453, "post_id": 45655547, "comment_id": 78277777, "body": "I stand corrected, well done :)"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5464525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/517a336debbaeec45ed3e3fd12e137b5?s=128&d=identicon&r=PG&f=1", "display_name": "Kase420", "link": "https://stackoverflow.com/users/5464525/kase420"}, "edited": false, "score": 0, "creation_date": 1502624551, "post_id": 45656355, "comment_id": 78277797, "body": "The spin off to my earlier question now that I got Perl from Windows incrementally outputting during the Perl scripts execution is that I hit the same problem from Linux.  Currently, I am trying to do an Invoke-SshCommand from a WIndows Server to run my perl script on a Linux machine.  Like before even after updating the Perl script, PowerShell is not getting any output until after the Perl script finishes and the Invoke-SshCommand cmdlet returns.  If anyone with experience with SSH.Net has gotten through this problem, the help would be appreciated.  Thanks!"}], "tags": [], "owner": {"reputation": 43, "user_id": 5464525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/517a336debbaeec45ed3e3fd12e137b5?s=128&d=identicon&r=PG&f=1", "display_name": "Kase420", "link": "https://stackoverflow.com/users/5464525/kase420"}, "is_accepted": false, "score": 3, "last_activity_date": 1502588400, "creation_date": 1502588400, "answer_id": 45656355, "question_id": 45655547, "link": "https://stackoverflow.com/questions/45655547/how-to-show-and-log-a-perl-scripts-output-in-real-time-when-invoked-from-powersh/45656355#45656355", "title": "How to Show and Log a Perl Scripts Output in Real Time when Invoked from PowerShell", "body": "<p>After a day of researching I think I found the answer to my own question courtesy of PerlMonks.org . It is perl in the way it buffers the output (line vs. block). Once I set \"$| = 1;\" in my Perl script, I got the expected results from both the PowerShell itself and PowerShell's file redirection. Here is the site for those that may run into this problem integrating legacy scripts as in my case.</p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=305801\" rel=\"nofollow noreferrer\">http://www.perlmonks.org/?node_id=305801</a>\n\"By setting $| as Anonymous Monk indicated, you force the output to be flushed after each write.\"  - Direct Quote from this Website that solved my problem.</p>\n"}], "owner": {"reputation": 43, "user_id": 5464525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/517a336debbaeec45ed3e3fd12e137b5?s=128&d=identicon&r=PG&f=1", "display_name": "Kase420", "link": "https://stackoverflow.com/users/5464525/kase420"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517871406, "creation_date": 1502577888, "last_edit_date": 1517871406, "question_id": 45655547, "link": "https://stackoverflow.com/questions/45655547/how-to-show-and-log-a-perl-scripts-output-in-real-time-when-invoked-from-powersh", "title": "How to Show and Log a Perl Scripts Output in Real Time when Invoked from PowerShell", "body": "<p>I am writing a PowerShell script that has to invoke a legacy Perl Script and display the output of this long running Perl script in real time to PowerShell as I would normally view in a Windows command prompt or interactive Putty SSH session.  My requirement is to write the output of the Perl script to a log file in real time and display the results to the PowerShell in real time.</p>\n\n<p>My problem is that once the Perl script finishes running, all of the results are then returned to PowerShell or my log files.</p>\n\n<p>Here is a simplified sample of my PowerShell code.</p>\n\n<pre><code>#Test.ps1\n$env:Path = \"C:\\Dev\\perl583\\bin;\" + $env:Path\n$WORKING_PATH=\"C:\\Dev\\scripts\"\nperl $WORKING_PATH\\LegacyScript.pl *&gt;&gt; C:\\Dev\\results\\realtime_output.txt\nexit $LASTEXITCODE\n</code></pre>\n\n<p>Here is a sample Perl Script that simulates a long running operation invoked by the PowerShell script:</p>\n\n<pre><code>#LegacyScript.pl\nfor( $a = 1; $a &lt; 6; $a = $a + 1 ){\n  print \"New value of a: $a\\n\";\n  sleep(10)\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "edited": false, "score": 1, "creation_date": 1502559090, "post_id": 45652894, "comment_id": 78264361, "body": "What do you want to do by call <code>open my $cmd, &#39;&lt;:encoding(UTF-8)&#39;, $file</code>? Apparently the file won&#39;t exist."}], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 7406283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a81a681867ed348f18c79f8af9ffe9cd?s=128&d=identicon&r=PG&f=1", "display_name": "m-chrzan", "link": "https://stackoverflow.com/users/7406283/m-chrzan"}, "is_accepted": true, "score": 2, "last_activity_date": 1502559664, "creation_date": 1502559664, "answer_id": 45653144, "question_id": 45652894, "link": "https://stackoverflow.com/questions/45652894/write-a-command-output-to-a-file-and-match-a-string/45653144#45653144", "title": "write a command output to a file and match a string", "body": "<p>As indicated by the error printed, your script is dying the first time it executes</p>\n\n<pre><code>open my $cmd, '&lt;:encoding(UTF-8)', $file or die;\n</code></pre>\n\n<p>This means that <code>open</code> failed to open a file.</p>\n\n<p>I'm not familiar with Windows's commands, but I'll go by the example <code>systeminfo</code> output given <a href=\"https://www.computerhope.com/systemin.htm\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>After executing line 4, the array <code>@cmdout</code> contains the lines output by <code>systeminfo</code>. When line 8 is executed, <code>$file</code> has been set to the first line of the output, or <code>Host Name:                 COMPUTERHOPE\\n</code> in my example (note the trailing newline). This is not a filename, so <code>open</code> fails.</p>\n\n<p>It looks like you're trying to combine two different ways of iterating through the lines of a file, one inside of another. Try something like this:</p>\n\n<pre><code>foreach my $line (@cmdout) {\n    if ($line =~ m/.*System Boot.*/i) {\n        print $line;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 3834663, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5d57a494e224d18d06846290386de89b?s=128&d=identicon&r=PG&f=1", "display_name": "user3834663", "link": "https://stackoverflow.com/users/3834663/user3834663"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 45653144, "answer_count": 1, "score": -1, "last_activity_date": 1502559664, "creation_date": 1502557888, "question_id": 45652894, "link": "https://stackoverflow.com/questions/45652894/write-a-command-output-to-a-file-and-match-a-string", "title": "write a command output to a file and match a string", "body": "<p>I am new to perl. I'm writing below script to print the system boot time information from the windows command \"systeminfo\". There look some problem here. I'm getting the output like this. Could someone help me.</p>\n\n<pre><code>    use strict;\n    use warnings;\n    my $filename = 'sysinfo.txt';\n    my @cmdout = `systeminfo`;\n    open(my $cmd, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\n    print $cmd @cmdout;\n    foreach my $file (@cmdout) {\n        open my $cmd, '&lt;:encoding(UTF-8)', $file or die;\n        while (my $line = &lt;$cmd&gt;) {\n            if ($line =~ m/.*System Boot.*/i) {\n                print $line;\n            }\n        }\n    }\n</code></pre>\n\n<p>Output: Died at perl_sysboottime.pl line 8.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 1, "creation_date": 1502551533, "post_id": 45651734, "comment_id": 78262096, "body": "You should look at your operating system documentation for the <code>mmap(2)</code> system call. Pay attention the reasons that it can fail and set errno to EINVAL. If you still need help, you should <a href=\"https://stackoverflow.com/posts/45651734/edit\">edit</a> your question to tell us what OS you&#39;re running this on, and include the relevant section of your system&#39;s mmap documentation."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1502562638, "post_id": 45651734, "comment_id": 78265447, "body": "What is $foo? You should put <code>use strict; use warnings;</code> to catch syntax errors. It seems to me Invalid argument could refer to $foo being empty, and this being unexpected / not allowed for mmap."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502575901, "post_id": 45651734, "comment_id": 78268932, "body": "<code>use strict; use warnings;</code> will also catch typos in the name of the constants. Always use <code>use strict; use warnings;</code>!!!"}], "answers": [{"tags": [], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "is_accepted": false, "score": 2, "last_activity_date": 1502576635, "creation_date": 1502576635, "answer_id": 45655438, "question_id": 45651734, "link": "https://stackoverflow.com/questions/45651734/perl-mmap-script-gave-error-because-of-invalid-argument/45655438#45655438", "title": "perl mmap script gave error because of &quot;Invalid argument&quot;", "body": "<p>Turned out the file <code>tmp.bin</code> I passed in as parameter has 0 bytes. </p>\n\n<p>I passed a non-empty file as the parameter, it works fine.</p>\n\n<p>Thanks @kenster for the hint to check status code.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502576635, "creation_date": 1502550552, "question_id": 45651734, "link": "https://stackoverflow.com/questions/45651734/perl-mmap-script-gave-error-because-of-invalid-argument", "title": "perl mmap script gave error because of &quot;Invalid argument&quot;", "body": "<p>Try to use perl mmap, but the example from document page (<a href=\"http://search.cpan.org/~toddr/Sys-Mmap-0.17/Mmap.pm\" rel=\"nofollow noreferrer\">Perl mmap</a>) gave error:</p>\n\n<pre><code>$ perl mmap.pl tmp.bin\nmmap: mmap call failed: errno: 22 errmsg: Invalid argument  at mmap.pl line 5.\n</code></pre>\n\n<p>The code for mmap.pl</p>\n\n<pre><code>use Sys::Mmap;\n\nopen FILEHANDLE, \"+&lt;\", $ARGV[0] || die \"Failed to open $ARGV[0] $!\\n\";\n\nmmap($foo, 0, PROT_READ, MAP_SHARED, FILEHANDLE) or die \"mmap: $!\";\n@tags = $foo =~ /&lt;(.*?)&gt;/g;\nmunmap($foo) or die \"munmap: $!\";\n\nmmap($bar, 8192, PROT_READ|PROT_WRITE, MAP_SHARED, FILEHANDLE);\nsubstr($bar, 1024, 11) = \"Hello world\";\n</code></pre>\n\n<p>Wonder how to fix it.</p>\n"}, {"tags": ["perl", "winapi", "win32-process"], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 4263190, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ce5c932ed5c003e91525b1ba673b5778?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon_j", "link": "https://stackoverflow.com/users/4263190/epsilon-j"}, "edited": false, "score": 0, "creation_date": 1502576748, "post_id": 45651948, "comment_id": 78269097, "body": "Thank you for your solution. I have tested it with $exe = which &#39;gnatmake&#39;, and the command replaced by &quot;gnatmake -v&quot;, and the output is correctly written to output.txt. I have also removed the forked process because I believe this is unnecessary. It seems like my real problem was with the echo command, because I still cannot get it to work with this. But since I was only using this for testing, I do not care."}, {"owner": {"reputation": 311, "user_id": 4263190, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ce5c932ed5c003e91525b1ba673b5778?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon_j", "link": "https://stackoverflow.com/users/4263190/epsilon-j"}, "edited": false, "score": 0, "creation_date": 1502609780, "post_id": 45651948, "comment_id": 78274255, "body": "I have tested this and it is working perfectly. Thank you for your help."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1502582918, "last_edit_date": 1592644375, "creation_date": 1502551883, "answer_id": 45651948, "question_id": 45651585, "link": "https://stackoverflow.com/questions/45651585/how-to-redirect-output-of-win32process-command-to-text-file/45651948#45651948", "title": "How to redirect output of Win32::Process command to text file?", "body": "<p>You are specifying <code>DETACHED_PROCESS</code> when you start the process. The effect of this is the following:</p>\n<blockquote>\n<p><code>DETACHED_PROCESS</code> <code>0x00000008</code></p>\n<p>For console processes, the new process does not inherit its parent's console (the default).</p>\n</blockquote>\n<p>See <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms684863(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Process Creation Flags</a>.</p>\n<p>The reason passing <code>&quot;echo hello from process&quot;</code> as the command line to <code>Win32::Process</code> doesn't work is because <code>echo</code> is a <code>cmd.exe</code> builtin. You need to instead use the command line <code>'cmd /c &quot;echo hello from process&quot;'</code> as shown below:</p>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse File::Which qw(which);\nuse Win32;\nuse Win32::Process;\n\nopen OLDOUT, &quot;&gt;&amp;STDOUT&quot;;\nopen OLDERR, &quot;&gt;&amp;STDERR&quot;;\n\nmy $file = 'output.txt';\n\nopen STDOUT, &quot;&gt;$file&quot;;\nopen STDERR, &quot;&gt;&amp;STDOUT&quot;;\n\nmy $timeout = 15 * 1_000;\nmy ($proc, $exit);\nmy $exe = which 'cmd.exe';\nWin32::Process::Create($proc, $exe, 'cmd /c &quot;echo hello from spawned process&quot;', 1, 0, '.');\n$proc-&gt;Wait($timeout);\n$proc-&gt;GetExitCode($exit);\n\nprint &quot;Doing work ...\\n&quot;; sleep 3;\n\nprint &quot;Spawned process exited with $exit\\n&quot;;\n\nclose STDERR;\nclose STDOUT;\nopen STDERR, &quot;&gt;&amp;OLDERR&quot;;\nopen STDOUT, &quot;&gt;&amp;OLDOUT&quot;;\nclose OLDERR;\nclose OLDOUT;\n</code></pre>\n<p>Contents of <code>output.txt</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ perl main.pl\n\n$ type output.txt\nhello from spawned process\nDoing work ...\nSpawned process exited with 0\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 4263190, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ce5c932ed5c003e91525b1ba673b5778?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon_j", "link": "https://stackoverflow.com/users/4263190/epsilon-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 45651948, "answer_count": 1, "score": 1, "last_activity_date": 1502582918, "creation_date": 1502549654, "last_edit_date": 1502574536, "question_id": 45651585, "link": "https://stackoverflow.com/questions/45651585/how-to-redirect-output-of-win32process-command-to-text-file", "title": "How to redirect output of Win32::Process command to text file?", "body": "<p>I am running a command in a Perl script using Win32::Process, and I need to redirect the output of that command to a text file. After doing a bit of research, this is what I am trying:</p>\n\n<pre><code>use Win32::Process;\n\nopen (OLDOUT, \"&gt;&amp;STDOUT\");\nopen (OLDERR, \"&gt;&amp;STDERR\");\nmy $file = \"output.txt\";\nopen (STDOUT, \"&gt;$file\");\nopen (STDERR, \"&gt;&amp;STDOUT\");\n\nmy $timeout = 1000 * 60; # 60 second timeout\nmy $proc;\nmy $exit;\nmy $exe = \"C:/Windows/System32/cmd.exe\";\nWin32::Process::Create($proc, $exe, \"echo hello from process\", 1, DETACHED_PROCESS, \".\");\n$proc-&gt;Wait($timeout);\n$proc-&gt;GetExitCode($exit);\n\nsystem(\"echo hello from system\"); # To verify that the redirect is working\n\nclose (STDOUT);\nclose (STDERR);\nopen (STDOUT, \"&gt;&amp;OLDOUT\");\nopen (STDERR, \"&gt;&amp;OLDERR\");\nclose (OLDOUT);\nclose (OLDERR);\n</code></pre>\n\n<p>Unfortunately this is not working. In the output.txt file, I only get \"hello from system\". Is there a way to accomplish what I want using Win32::Process?</p>\n\n<p>The reason I am using Win32::Process rather than backticks is because my command sometimes crashes, and I need to provide a timeout in order to kill it if neccessary. The ->Wait() function of Win32::Process allows me to do this.</p>\n\n<p>I would rather have a solution using Win32::Process, as I am limited to which modules I have access to. However, if this really cannot be done, I would welcome an example solution using some other module.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 4, "creation_date": 1502526917, "post_id": 45648110, "comment_id": 78254999, "body": "I just have to say this, even as you say &quot;<i>do not want to include dependencies</i>&quot;, since I can&#39;t stomach that.  The very established modules that have been around for decades aren&#39;t <i>dependencies</i>.  Those are <i>tools</i> you use, to produce better code. (Not to mention the programer&#39;s time, the most expensive commodity. Btw, they do handle unclean HTML just fine.) There is absolutely no way that a regex of this complexity is comparably robust and trustworthy to one of those libraries.  All this I say with due respect for your preferences and skills (I won&#39;t post stuff using those libraries)."}, {"owner": {"reputation": 2389, "user_id": 429540, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4a349a24d5fac7a1a0728f3fd9e0d413?s=128&d=identicon&r=PG", "display_name": "highsciguy", "link": "https://stackoverflow.com/users/429540/highsciguy"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502527777, "post_id": 45648110, "comment_id": 78255219, "body": "I agree, but if I do include those &quot;non-dependencies&quot;, the people that I am addressing will not use the script I am doing. The xml that I am processing is not just unclean html. It deviates systematically, and I will need to adapt the script correspondingly."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1502529679, "post_id": 45648110, "comment_id": 78255730, "body": "OK.  But then there are even greater problems. Why do you (or they) have to work with such deviant data format, and why is such unreasonable position the norm?  What if you had to work with a database -- no <code>DBI</code>?  What if you had to process complex date-time problems -- no modules?  May <code>strict</code> be used?  Again, I don&#39;t mean to assault you here, but this is a recurring discussion, repeating itself faithfully over years.  It&#39;s just unreasonable.  Good luck."}, {"owner": {"reputation": 2389, "user_id": 429540, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4a349a24d5fac7a1a0728f3fd9e0d413?s=128&d=identicon&r=PG", "display_name": "highsciguy", "link": "https://stackoverflow.com/users/429540/highsciguy"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502566272, "post_id": 45648110, "comment_id": 78266595, "body": "Let us keep it down to earth. I am writing a specific quick-and-dirty script for specific purposes that is to be used by a few people who will consider it only if it comes with few or no dependencies. If I would use a package, I would need to customize it. The problem I described is a specific question about Perl regular expressions and marked as such. Even if there are different solutions that do not directly involve the use of regular expressions, I think that the question is valid as such."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1502568328, "post_id": 45648110, "comment_id": 78267107, "body": "I think <a href=\"https://regex101.com/r/ukK6Nj/1\" rel=\"nofollow noreferrer\">this</a> will work in Perl, too."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502576381, "post_id": 45648110, "comment_id": 78269028, "body": "By all means, I didn&#39;t mean to imply that the question is invalid in any sense. On the contrary. These were literally comments."}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": true, "score": 2, "last_activity_date": 1502579961, "creation_date": 1502579961, "answer_id": 45655744, "question_id": 45648110, "link": "https://stackoverflow.com/questions/45648110/improving-a-perl-balanced-regular-expression/45655744#45655744", "title": "Improving a perl balanced regular expression", "body": "<p>I believe this meets your stated requirements:</p>\n\n<p>I replaced the 'a' in the regex with a [a-z]+, captured and backreferenced it. That does mean you have to change your line applying it to replace with <code>$2</code> instead.</p>\n\n<p>If you wanted to make a list of accepted tags ( which still seems better to me, but I do not know your use case ), you could replace the <code>[a-z]+</code> with, for example, a list of acceptable tags joined by <code>|</code>.</p>\n\n<pre><code>$expr = qr{\n    &lt;\\s*([a-z]+)(?:\\s*|\\s+[^&gt;]+)&gt;\n    ((?:\n        (?&gt; (?:(?!(&lt;\\s*\\1(?:\\s*|\\s+[^&gt;]+)&gt;|&lt;\\/\\s*\\1\\s*&gt;)).)+ )\n      |\n        (??{ $expr })\n    )*)\n    &lt;\\/\\s*\\1\\s*&gt;\n  }x;\n</code></pre>\n\n<p>A short example script with a  tag:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $expr;\n\n$expr = qr{\n    &lt;\\s*([a-z]+)(?:\\s*|\\s+[^&gt;]+)&gt;\n    ((?:\n        (?&gt; (?:(?!(&lt;\\s*\\1(?:\\s*|\\s+[^&gt;]+)&gt;|&lt;\\/\\s*\\1\\s*&gt;)).)+ )\n      |\n        (??{ $expr })\n    )*)\n    &lt;\\/\\s*\\1\\s*&gt;\n  }x;\n\n\nmy $tmp_text = 'a&lt;b&gt; e &lt;/b&gt;c&lt;b href=\"test\"&gt;g &lt;b&gt; d&lt;/b&gt; d&lt;/b&gt;f';\nprint $tmp_text.\"\\n\";\n\nprint $tmp_text.\"\\n\" while $tmp_text =~s/$expr/$2/g;\n</code></pre>\n\n<p>Wiktor has posted a regex in comments which also allows for capital letters and '_' - if that is what you want, just replace <code>[a-z]</code> with <code>[a-zA-Z_]</code> as in his example.</p>\n"}], "owner": {"reputation": 2389, "user_id": 429540, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4a349a24d5fac7a1a0728f3fd9e0d413?s=128&d=identicon&r=PG", "display_name": "highsciguy", "link": "https://stackoverflow.com/users/429540/highsciguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 45655744, "answer_count": 1, "score": 0, "last_activity_date": 1502579961, "creation_date": 1502525971, "question_id": 45648110, "link": "https://stackoverflow.com/questions/45648110/improving-a-perl-balanced-regular-expression", "title": "Improving a perl balanced regular expression", "body": "<p>I am using the following perl regular expression to clean xml/html style formating tags from input.</p>\n\n<pre><code>$expr = qr{\n    &lt;\\s*a(?:\\s*|\\s+[^&gt;]+)&gt;\n    ((?:\n        (?&gt; (?:(?!(&lt;\\s*a(?:\\s*|\\s+[^&gt;]+)&gt;|&lt;\\/\\s*a\\s*&gt;)).)+ )\n      |\n        (??{ $expr })\n    )*)\n    &lt;\\/\\s*a\\s*&gt;\n  }x;\n</code></pre>\n\n<p>Applying it recursively it will remove nested <code>&lt;a&gt;...&lt;/a&gt;</code> tags (not that this would make sense if <code>&lt;a&gt;</code> makes a hyperlink) and keep only the bracketed text:</p>\n\n<pre><code>    my $tmp_text = \"a&lt;a&gt; e &lt;/a&gt;c&lt;a href=\"test\"&gt;g &lt;a&gt; d&lt;/a&gt; d&lt;/a&gt;f\";\n    print $tmp_text.\"\\n\";\n\n    $tmp_text=~s/$expr/$1/g;\n    print $tmp_text.\"\\n\";\n\n    $tmp_text=~s/$expr/$1/g;\n    print $tmp_text.\"\\n\";\n</code></pre>\n\n<p>This will print </p>\n\n<pre><code>    a&lt;a&gt; e &lt;/a&gt;c&lt;a href=\"test\"&gt;g &lt;a&gt; d&lt;/a&gt; d&lt;/a&gt;f\n    a e cg &lt;a&gt; d&lt;/a&gt; df\n    a e cg  d df\n</code></pre>\n\n<p>Now, I would like to do the same with all other formatting tags, like <code>&lt;b&gt;..&lt;/b&gt;</code> and so on. I can surely make a list of all supported tags, replace <code>a</code> with <code>b</code> etc. in <code>$expr</code>, and repeat the substitution with each of them.</p>\n\n<p>However, I wonder if there is a more efficient/compact way by modifying <code>$expr</code> such that it will do balanced matching for whatever <code>name</code> is in <code>&lt;name something&gt;...&lt;/name&gt;</code>.</p>\n\n<p>Note that I consciously avoid using perl packages for xml/html parsing or cleaning tools. The input I am processing is not strict html and I do not want to include dependencies.</p>\n"}, {"tags": ["regex", "perl", "sed", "str-replace"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502545893, "post_id": 45644444, "comment_id": 78260407, "body": "Possible duplicate: <a href=\"https://stackoverflow.com/q/36533282/2173773\">How to replace multiple any-character (including newline) in Perl RegEx?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "edited": false, "score": 0, "creation_date": 1502536920, "post_id": 45644684, "comment_id": 78257845, "body": "Might this create a false positive if <code>DOWN</code> was in the same line as <code>UP</code>?"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "edited": false, "score": 0, "creation_date": 1502539295, "post_id": 45644684, "comment_id": 78258483, "body": "@potong: clearly yes, but I doubt this can happen. However I will replace the second <code>.*</code> with <code>[^\\n]*</code> to be sure that <i>firewall</i> and <i>DOWN</i> are on the same line (the second one)."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1502539329, "last_edit_date": 1502539329, "creation_date": 1502491011, "answer_id": 45644684, "question_id": 45644444, "link": "https://stackoverflow.com/questions/45644444/perl-replace-matchnextlinematch/45644684#45644684", "title": "Perl replace match+nextline+match", "body": "<p>With sed:</p>\n\n<pre><code>sed '/firewall.*UP/{N;/firewall[^\\n]*DOWN/s/.*/somestr/}' file\n</code></pre>\n\n<p>details:</p>\n\n<pre><code>/firewall.*UP/ {      # condition\n    N;                # append the next line to the pattern space\n    /firewall[^\\n]*DOWN/  # condition\n        s/.*/somestr/ # then: replace all with somestr\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1502495970, "creation_date": 1502495970, "answer_id": 45645252, "question_id": 45644444, "link": "https://stackoverflow.com/questions/45644444/perl-replace-matchnextlinematch/45645252#45645252", "title": "Perl replace match+nextline+match", "body": "<p><code>/\\n.*f/</code> can't possibly match since you are reading newline-terminated lines one at a time.</p>\n\n<p>A convenient trick is to use <code>-0777</code> to load the entire file into memory at once.</p>\n\n<pre><code>perl -0777pe's/^.*firewall.*UP.*\\n.*firewall.*DOWN.*/STRG/m' file\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 2849009, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5ceba83202dc1bf705b8381b640acc86?s=128&d=identicon&r=PG&f=1", "display_name": "kunal", "link": "https://stackoverflow.com/users/2849009/kunal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502539329, "creation_date": 1502489389, "last_edit_date": 1502490490, "question_id": 45644444, "link": "https://stackoverflow.com/questions/45644444/perl-replace-matchnextlinematch", "title": "Perl replace match+nextline+match", "body": "<p>I have lines in file:</p>\n\n<pre><code>Desktop DELL firewall UP CPU 20core configured \nDesktop HP firewall DOWN CPU 18core unconfigured\n</code></pre>\n\n<p>I want to first match <code>UP</code> and then if next line match <code>DOWN</code> replace these two lines with some string</p>\n\n<p>I tried</p>\n\n<pre><code>perl -p -e 's?.*firewall.*UP.*\\n.*firewall.*DOWN.*?STRG?' file\n</code></pre>\n\n<p>but it doesnt work</p>\n"}, {"tags": ["perl", "mediawiki-api", "hash-of-hashes"], "answers": [{"comments": [{"owner": {"reputation": 1354, "user_id": 1007709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iuIAp.jpg?s=128&g=1", "display_name": "jmcneirney", "link": "https://stackoverflow.com/users/1007709/jmcneirney"}, "edited": false, "score": 0, "creation_date": 1502463999, "post_id": 45638179, "comment_id": 78236197, "body": "<code>$r-&gt;{redirects}-&gt;@*</code> what&#39;s going on with that? Is that similar to the perl6 version of <code>$_</code>? Isn&#39;t that going to require a specific minimum version of perl?"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1502464148, "last_edit_date": 1502464148, "creation_date": 1502463334, "answer_id": 45638179, "question_id": 45637834, "link": "https://stackoverflow.com/questions/45637834/how-can-i-extract-the-list-of-redirect-titles-from-mediawikiapi-in-perl/45638179#45638179", "title": "How can I extract the list of redirect titles from MediaWiki::API in Perl?", "body": "<p>The query returns a hashref. One of the entries in this structure is <code>query</code> which points to another hashref which contains <code>pages</code>. The <code>pages</code> hashref contains keys which are page ids. Each of these point to another hashref which contains a redirects entry which is a reference to an array containing all the pages to which this page redirects.</p>\n\n<p>Putting all those together:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse open qw(:std :utf8);\n\nuse MediaWiki::API;\nuse JSON::MaybeXS;\nuse Data::Dumper;\n\nmy $LANG= \"de\";\n\nmy $mw = MediaWiki::API-&gt;new( { api_url =&gt; 'https://en.wikipedia.org/w/api.php' }  );\nmy $mw_LANG = MediaWiki::API-&gt;new( { api_url =&gt; \"https://$LANG.wikipedia.org/w/api.php\" }  );\n\nmy $wikititle =\"Japan\";\n\nmy $alltitles = $mw_LANG-&gt;api( {\n        action =&gt; 'query',\n        titles =&gt; $wikititle,\n        prop =&gt; 'redirects',\n        format =&gt; 'json',\n    }\n) or die sprintf '%d: %s', @{ $mw_LANG-&gt;{error} }{qw(code details)};\n\nfor my $pageid ( keys %{ $alltitles-&gt;{query}{pages} } ) {\n    my $r = $alltitles-&gt;{query}{pages}{$pageid};\n    printf \"Redirects for page %d with title '%s'\\n\", @{$r}{qw(pageid title)};\n    for my $redirect ( @{ $r-&gt;{redirects} }) {\n        printf \"\\t%d: '%s'\\n\", @{$redirect}{qw(pageid title)};\n    }\n}\n</code></pre>\n\n<p><a href=\"https://www.effectiveperlprogramming.com/2014/09/use-postfix-dereferencing/\" rel=\"nofollow noreferrer\">Postfix dereferencing</a> makes things a bit cleaner:</p>\n\n<pre><code>for my $pageid ( keys $alltitles-&gt;{query}{pages}-&gt;%* ) {\n    my $r = $alltitles-&gt;{query}{pages}{$pageid};\n    printf \"Redirects for page %d with title '%s'\\n\", $r-&gt;@{qw(pageid title)};\n    for my $redirect ( $r-&gt;{redirects}-&gt;@* ) {\n        printf \"\\t%d: '%s'\\n\", $redirect-&gt;@{qw(pageid title)};\n    }\n}\n</code></pre>\n\n<p>This requires <code>perl</code> 5.20 or later.</p>\n"}], "owner": {"reputation": 13, "user_id": 8451038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0f8f14797168bb629176baf57c49977?s=128&d=identicon&r=PG&f=1", "display_name": "Sonya", "link": "https://stackoverflow.com/users/8451038/sonya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 45638179, "answer_count": 1, "score": 1, "last_activity_date": 1502464318, "creation_date": 1502462210, "last_edit_date": 1502464318, "question_id": 45637834, "link": "https://stackoverflow.com/questions/45637834/how-can-i-extract-the-list-of-redirect-titles-from-mediawikiapi-in-perl", "title": "How can I extract the list of redirect titles from MediaWiki::API in Perl?", "body": "<p>I'm trying to use the MediaWiki API to get all redirects from a certain Wikipedia title and I think i'm almost there but I get lost in the complex data structure of hashes and arrays.</p>\n\n<p>How can I extract the list of redirect titles?</p>\n\n<p>In the example I query for 'Japan' and should get a list that looks like this:</p>\n\n<pre><code>'JPN',\"Land der aufgehenden Sonne\",\"Das Land der aufgehenden \nSonne\",\"Zipango\",\"\\x{65e5}\\x{672c}\",\"R\\x{ec}b\\x{11b}n\"\n</code></pre>\n\n<p>(a side question: Why do I not get UTF-8 strings for all cases? )</p>\n\n<p>The code below is adapted from <a href=\"https://metacpan.org/pod/MediaWiki::API\" rel=\"nofollow noreferrer\">MediaWiki::API</a> documentation.</p>\n\n<pre><code>use MediaWiki::API;\nuse warnings;\nbinmode STDOUT, ':utf8';\nuse JSON;\nuse Data::Dumper;\n\nmy $LANG=\"de\";\n\nmy $mw = MediaWiki::API-&gt;new( { api_url =&gt; 'https://en.wikipedia.org/w/api.php' }  );\nmy $mw_LANG = MediaWiki::API-&gt;new( { api_url =&gt; \"https://$LANG.wikipedia.org/w/api.php\" }  );\n\nmy $wikititle =\"Japan\";\n\nmy $alltitles = $mw_LANG-&gt;api( {\n action =&gt; 'query',\n titles =&gt; $wikititle,\n prop =&gt; 'redirects',\n format =&gt; 'json',\n} )\n|| die $mw_LANG-&gt;{error}-&gt;{code} . ': ' . $mw_LANG-&gt;{error}-&gt;{details};\n\n#just print to know how the structure looks like\nprint Dumper($alltitles);\n\nmy ($pageid,$langlinks) = each ( %{ $alltitles-&gt;{query}-&gt;{pages} } );\nprint \"pageid $pageid\\n\";#yes works:  this prints the page id\n</code></pre>\n\n<p>problem: how to get the actual titles in the <code>redirect-array</code>?</p>\n\n<pre><code>  my $relinks = $alltitles-&gt;{'query'}-&gt;{'pages'}-&gt;{$pageid}-&gt;{'redirects'}; #no does not work!\n\n  foreach my $el ( @{ $relinks-&gt;{'title'} } ) {\n    print \" $el $el-&gt;{'*'}\\n\";\n  }\n</code></pre>\n"}, {"tags": ["perl", "elasticsearch"], "comments": [{"owner": {"reputation": 1688, "user_id": 773479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8jx7Z.jpg?s=128&g=1", "display_name": "John Veldboom", "link": "https://stackoverflow.com/users/773479/john-veldboom"}, "edited": false, "score": 0, "creation_date": 1502581096, "post_id": 45637598, "comment_id": 78269859, "body": "Is the syntax error in Perl or Elasticsearch? Also please post the error."}, {"owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "reply_to_user": {"reputation": 1688, "user_id": 773479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8jx7Z.jpg?s=128&g=1", "display_name": "John Veldboom", "link": "https://stackoverflow.com/users/773479/john-veldboom"}, "edited": false, "score": 0, "creation_date": 1502622719, "post_id": 45637598, "comment_id": 78277294, "body": "It looks that it is a Perl error, posted. I think that syntax is correct."}], "answers": [{"comments": [{"owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "edited": false, "score": 0, "creation_date": 1502575309, "post_id": 45655033, "comment_id": 78268803, "body": "Updated question"}], "tags": [], "owner": {"reputation": 1688, "user_id": 773479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8jx7Z.jpg?s=128&g=1", "display_name": "John Veldboom", "link": "https://stackoverflow.com/users/773479/john-veldboom"}, "is_accepted": false, "score": 1, "last_activity_date": 1502640470, "last_edit_date": 1502640470, "creation_date": 1502572785, "answer_id": 45655033, "question_id": 45637598, "link": "https://stackoverflow.com/questions/45637598/search-query-in-elastic-search/45655033#45655033", "title": "Search query in Elastic Search", "body": "<p>Try this query using the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-dsl-query-string-query\" rel=\"nofollow noreferrer\">Query String Query</a>. There are quite a few other options from the documentation. The ability to search on some keywords will depend on the field mapping you have setup as well.</p>\n\n<pre><code>{\n    \"query\": {\n        \"query_string\" : {\n            \"query\" : \"name:is AND (state:Y OR number:N6)\"\n        }\n    }\n}\n</code></pre>\n\n<p>You need to treat the whole <code>query_string</code> query as a string. So the query would look something like this:</p>\n\n<pre><code>my $e = Search::Elasticsearch-&gt;new();\n\nmy $results = $e-&gt;search(\n    index =&gt; 'mysite',\n    type =&gt; 'products',\n    size =&gt; 3,\n    body  =&gt; {\n        query =&gt; \"(name:$word OR number:$word) AND status:Y\"\n    }\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "edited": false, "score": 0, "creation_date": 1503090785, "post_id": 45764113, "comment_id": 78488791, "body": "What is difference between query_string and filters? What is faster?"}, {"owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "edited": false, "score": 0, "creation_date": 1503145290, "post_id": 45764113, "comment_id": 78501040, "body": "Error: bool query does not support [filter]"}], "tags": [], "owner": {"reputation": 421, "user_id": 1368685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad2916b4c5fe9812482f3a2eea64f543?s=128&d=identicon&r=PG", "display_name": "mike b", "link": "https://stackoverflow.com/users/1368685/mike-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1503085824, "creation_date": 1503085824, "answer_id": 45764113, "question_id": 45637598, "link": "https://stackoverflow.com/questions/45637598/search-query-in-elastic-search/45764113#45764113", "title": "Search query in Elastic Search", "body": "<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/5.5/query-filter-context.html\" rel=\"nofollow noreferrer\">filters</a> are what you want:</p>\n\n<pre><code>PUT myindex/_search\n{\n  \"query\": { \n    \"bool\": { \n      \"filter\": [{ \n        \"should\": [{ \n          \"match\": {\"name\": \"is\" },\n          \"term\": {\"number\": \"N6\"}\n        }],\n        \"must\": {\n          \"term\": {\"status\": \"Y\"}\n        }        \n      ]}\n    }\n  }\n}\n</code></pre>\n\n<p>This assumes you've made <code>number</code> and <code>status</code> as unanalyzed string or keyword types (depends on <a href=\"https://www.elastic.co/blog/strings-are-dead-long-live-strings\" rel=\"nofollow noreferrer\">version</a>) - which you should if there are a discrete number of values within those fields. Otherwise, swap <code>term</code> for <code>match</code>.</p>\n"}], "owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1503085824, "creation_date": 1502461551, "last_edit_date": 1502622682, "question_id": 45637598, "link": "https://stackoverflow.com/questions/45637598/search-query-in-elastic-search", "title": "Search query in Elastic Search", "body": "<p>I am creating a search on website based on ElasticSearch, and I am very new to ElasticSearch so I would be happy for any help.</p>\n\n<p>This is a structure of my ElasticSearch content:</p>\n\n<pre><code>hits:   \n    0:  \n        _index: \"mysite\"\n        _type:  \"products\"\n        _id:    \"1\"\n        _score: 1\n        _source:    \n            name:   \n                0:  \"This is name\"\n            number: \"N6\"\n            status: \"Y\"\n</code></pre>\n\n<p>And this is my Perl script:</p>\n\n<pre><code>my $e = Search::Elasticsearch-&gt;new();\n\nmy $results = $e-&gt;search(\n    index =&gt; 'mysite',\n    type =&gt; 'products',\n    size =&gt; 3,\n        body  =&gt; {\n                query =&gt; {\n                        match =&gt; { name =&gt; $query }\n                }\n        }\n);\n</code></pre>\n\n<p>I would like to ask you how to make script that it match <strong>only</strong> products which have a <strong>status \"Y\"</strong> and it should find a <strong>substring</strong> of name, for example if <code>$query</code> contains \"is\", it should find that product because that product contains \"is\" in name \"This is name\", and the last one, it should search for <strong>number</strong> too, for example if <code>$query</code> contains \"N6\", it should find that product too.</p>\n\n<p>So something like this: <strong>(name OR number) AND status = \"Y\"</strong></p>\n\n<p>Thank you very much.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I rewrite it to Perl syntax, but I have a syntax error :/</p>\n\n<pre><code>  query =&gt; {\n      query_string =&gt; {\n          query =&gt; {\n            (name =&gt; $word OR number =&gt; $word) AND status =&gt; \"Y\"\n          }\n      }\n  }\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>-evalfile error: syntax error at (eval 215) line 33, near \"} OR \"\\nGlobal symbol \"$e\" requires explicit package name at (eval 215) line 40.\n</code></pre>\n"}, {"tags": ["perl", "arduino", "raspberry-pi", "i2c", "smbus"], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1502495547, "last_edit_date": 1502495547, "creation_date": 1502479811, "answer_id": 45642535, "question_id": 45636845, "link": "https://stackoverflow.com/questions/45636845/i2c-raspberry-pi-master-read-arduino-slave/45642535#45642535", "title": "I2C: Raspberry Pi (Master) read Arduino (Slave)", "body": "<p>First off, which register(s) are you wanting to read? Here's an example using my <a href=\"https://metacpan.org/pod/RPi::I2C\" rel=\"nofollow noreferrer\">RPi::I2C</a> software (it should be exceptionally similar with the distribution you're using), along with a sketch that has a bunch of pseudo-registers configured for reading/writing. </p>\n\n<p>First, the Perl code. It reads two bytes (the output of an <code>analogRead()</code> of pin <code>A0</code> which is set up as register <code>80</code>), then bit-shifts the two bytes into a 16-bit integer to get the full 0-1023 value of the pin:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse RPi::I2C;\n\nmy $arduino_addr = 0x04;\n\nmy $arduino = RPi::I2C-&gt;new($arduino_addr);\n\nmy @bytes = $arduino-&gt;read_block(2, 80);\n\nmy $a0_value = ($bytes[0] &lt;&lt; 8) | $bytes[1];\n\nprint \"$a0_value\\n\";\n</code></pre>\n\n<p>Here's a full-blown <a href=\"https://github.com/stevieb9/rpi-wiringpi/blob/master/docs/sketch/arduino.ino\" rel=\"nofollow noreferrer\">Arduino sketch</a> you can review that sets up a half dozen or so pseudo-registers, and when each register is specified, the Arduino writes or reads the appropriate data. If no register is specified, it operates on <code>0x00</code> register.</p>\n\n<p>The I2C on the Arduino always does an <code>onReceive()</code> call before it does the <code>onRequest()</code> (when using <code>Wire</code>), so I set up a global variable <code>reg</code> to hold the register value, which I populate in the <code>onReceive()</code> interrupt, which is then used in the <code>onRequest()</code> call to send you the data at the pseudo-register you've specified.</p>\n\n<p>The sketch itself doesn't really do anything useful, I just presented it as an example. It's actually part of my <a href=\"https://fastapi.metacpan.org/source/STEVEB/RPi-WiringPi-2.3620/docs/breadboard/brewbuild_test_platform_bb.jpg\" rel=\"nofollow noreferrer\">automated unit test platform</a> for my <a href=\"https://metacpan.org/pod/RPi::WiringPi\" rel=\"nofollow noreferrer\">RPi::WiringPi</a> distribution.</p>\n"}], "owner": {"reputation": 21, "user_id": 6631565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a8f30370c7f8a4f187b8bff900a0b1?s=128&d=identicon&r=PG&f=1", "display_name": "Julian M.", "link": "https://stackoverflow.com/users/6631565/julian-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1502495547, "creation_date": 1502459293, "question_id": 45636845, "link": "https://stackoverflow.com/questions/45636845/i2c-raspberry-pi-master-read-arduino-slave", "title": "I2C: Raspberry Pi (Master) read Arduino (Slave)", "body": "<p>I would like to read a block of data from my Arduino Mega (and also from an Arduino Micro in another project) with my Raspberry Pi via I2C. The code has to be in Perl because it's sort of a plug-in for my Home-Automation-Server.</p>\n\n<p>I'm using the <code>Device::SMBus</code> interface and the connection works, I'm able to write and read single Bytes. I can even use <code>writeBlockData</code> with register address <code>0x00</code>. I randomly discovererd that this address works.</p>\n\n<p>But when I want to <code>readBlockData</code>, no register-address seems to work.</p>\n\n<p>Does anyone know the correct register-address, or is that not even the problem that causes errors?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl", "tk"], "answers": [{"comments": [{"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1502870817, "post_id": 45636444, "comment_id": 78374409, "body": "Can I make this withdaw function work from outside the MainLoop()? Currently I am not able to do it."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1502870856, "post_id": 45636444, "comment_id": 78374437, "body": "Also I have separate MainLoop for each window? Does this makes any difference"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1502875319, "post_id": 45636444, "comment_id": 78377390, "body": "I don&#39;t understand the first question. Try to ask a new question, not a comment. You can probably have two MainLoops with two different MainWindows, just make sure not to define the second one before the first loop ends."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1502887997, "post_id": 45636444, "comment_id": 78386236, "body": "I have added the additional information in my question above. Please let me know the solution for it."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1502889618, "post_id": 45636444, "comment_id": 78387547, "body": "Your code does nothing. How do you call the functions?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1502458173, "creation_date": 1502458173, "answer_id": 45636444, "question_id": 45635850, "link": "https://stackoverflow.com/questions/45635850/destroy-widget-in-tk-not-working/45636444#45636444", "title": "Destroy Widget in Tk not working", "body": "<p>You can't have more than one MainWindow. Create a Toplevel window for the initial one, use <code>withdraw</code> to hide the real main window at the start, make it reappear with <code>deiconify</code>:</p>\n\n<pre><code>my $mw = MainWindow-&gt;new;\nmy $tl = $mw-&gt;Toplevel;\n$tl-&gt;protocol(WM_DELETE_WINDOW =&gt; sub {\n    $mw-&gt;deiconify;\n    $tl-&gt;DESTROY;\n});\n$mw-&gt;withdraw;\nMainLoop();\n</code></pre>\n"}], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 45636444, "answer_count": 1, "score": 1, "last_activity_date": 1502944995, "creation_date": 1502456343, "last_edit_date": 1502944995, "question_id": 45635850, "link": "https://stackoverflow.com/questions/45635850/destroy-widget-in-tk-not-working", "title": "Destroy Widget in Tk not working", "body": "<p>I have a Pertl Tk code, I want to close the main window and open another but after the first window is closing again when second window gets open te first window also appears.</p>\n\n<p>The code</p>\n\n<pre><code> use strict;\n use Tk;\n\n my $mw;\n\n #Calling the welcome_window sub\n welcome_window();\n\n sub welcome_window{\n\n    #GUI Building Area\n    $mw = new MainWindow; \n\n    my $frame_header = $mw-&gt;Frame();\n    my $header = $frame_header -&gt; Label(-text=&gt;\"Molex Automation Tool\");\n    $frame_header -&gt; grid(-row=&gt;1,-column=&gt;1);\n    $header -&gt; grid(-row=&gt;1,-column=&gt;1);\n\n    my $region_selected = qw/AME APN APS/;\n\n    my $frame_sub_header = $mw-&gt;Frame();\n    my $sub_header = $frame_sub_header -&gt; Label(-text=&gt;\"Region Selection\");\n    $frame_sub_header -&gt; grid(-row=&gt;2,-column=&gt;1);\n    $sub_header -&gt; grid(-row=&gt;2,-column=&gt;1);\n\n\n    my $frame_region = $mw-&gt;Frame();\n    my $label_region = $frame_region -&gt; Label(-text=&gt;\"Region:\");\n    my $region_options = $frame_region-&gt;Optionmenu(\n        -textvariable =&gt; \\$region_selected,\n        -options  =&gt; [@regions],\n    );\n    $frame_region -&gt; grid(-row=&gt;3,-column=&gt;1);\n    $label_region -&gt; grid(-row=&gt;3,-column=&gt;1);\n    $region_options -&gt; grid(-row=&gt;3,-column=&gt;2);\n\n    my $frame_submit = $mw-&gt;Frame();\n    my $submit_button = $frame_submit-&gt;Button(-text    =&gt; 'Go!',\n                  -command =&gt; \\&amp;outside,\n            );\n    $frame_submit -&gt; grid(-row=&gt;4,-column=&gt;1,-columnspan=&gt;2);\n    $submit_button -&gt; grid(-row=&gt;4,-column=&gt;1,-columnspan=&gt;2);\n\n    MainLoop;\n}\n\n#This sub is just made to close the main window created in Welcome_Wiondow() sub and call the second_window()\n\nsub outside{\n\n    $mw -&gt; destroy;\n    sleep(5);\n    second_window();\n}\n\n\nsub second_window{\n\n    my $mw2 = new MainWindow;\n    my $frame_header2 = $mw2-&gt;Frame();\n    my $header2 = $frame_header2 -&gt; Label(-text=&gt;\"Molex Automation Tool\");\n    $frame_header2 -&gt; grid(-row=&gt;1,-column=&gt;1);\n    $header2 -&gt; grid(-row=&gt;1,-column=&gt;1);\n\n    my $frame_sub_header2 = $mw2-&gt;Frame();\n    my $sub_header2 = $frame_sub_header2 -&gt; Label(-text=&gt;\"Tasks Region Wise\");\n    $frame_sub_header2 -&gt; grid(-row=&gt;2,-column=&gt;1);\n    $sub_header2 -&gt; grid(-row=&gt;2,-column=&gt;1);\n\n    MainLoop;\n}\n</code></pre>\n\n<p>I have reduced the code and only put the relevant lines. Now please let me know why I can't kill the main window opened in sub welcome_window() in the sub outside(). Currently what it does is it closes the main windows during the sleep command but as soon as I open the main windows of the second_windows, the windows of welcome_window also reappears.</p>\n\n<blockquote>\n  <p>Got the above code working now, there was some issue in the logic\n  which was calling the welcome_window again. Thank you all for your\n  help.</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 2, "creation_date": 1502456134, "post_id": 45635638, "comment_id": 78230677, "body": "Read the &quot;Gory details of parsing quoted constructs&quot; section."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1502457799, "post_id": 45635638, "comment_id": 78231720, "body": "Read the <a href=\"https://metacpan.org/pod/perlop#Gory-details-of-parsing-quoted-constructs\" rel=\"nofollow noreferrer\">&quot;Gory details of parsing quoted constructs&quot;</a> section and the <a href=\"https://metacpan.org/pod/perlop#Quote-Like-Operators\" rel=\"nofollow noreferrer\">&quot;Quote-Like Operators&quot;</a> section."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1502465186, "post_id": 45635691, "comment_id": 78236908, "body": "On the other hand, <code>qx&#39;...&#39;</code> does have a functional difference: It acts as a single-quoted string literal instead of a double-quoted string literal."}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1502478539, "post_id": 45635691, "comment_id": 78244064, "body": "Makes sense - thanks.  Do you know where the Perl documentation talks about which delimiters are valid vs. invalid?  Like, I&#39;m assuming that <code>w</code> is not a valid delimiter. :P"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 1, "creation_date": 1502483583, "post_id": 45635691, "comment_id": 78246124, "body": "@alex See also <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">Quote-Like-Operators</a> and <a href=\"http://perldoc.perl.org/perlop.html#Gory-details-of-parsing-quoted-constructs\" rel=\"nofollow noreferrer\">Gory-details-of-parsing-quoted-constructs</a>"}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "reply_to_user": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1502484744, "post_id": 45635691, "comment_id": 78246596, "body": "@ChristopherBottoms Thanks Chris, in which section of either links you provided do they define the set of &quot;non-bracketing delimiters&quot; vs. &quot;bracketing delimiters&quot;?"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1502486066, "post_id": 45635691, "comment_id": 78247079, "body": "@alex From the &quot;gory details&quot; section: <code>For the constructs except here-docs, single characters are used as starting and ending delimiters. If the starting delimiter is an opening punctuation (that is (, [, {, or &lt; ), the ending delimiter is the corresponding closing punctuation (that is ), ], }, or &gt;). If the starting delimiter is an unpaired character like &#47; or a closing punctuation, the ending delimiter is the same as the starting delimiter. Therefore a &#47; terminates a qq&#47;&#47; construct, while a ] terminates both qq[] and qq]] constructs.</code>"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 1, "creation_date": 1502486671, "post_id": 45635691, "comment_id": 78247327, "body": "@alex see also Chas. Owen&#39;s comment here <a href=\"https://stackoverflow.com/questions/4108678/printing-string-in-perl#comment4424387_4108678\" title=\"printing string in perl%23comment4424387_4108678\">stackoverflow.com/questions/4108678/&hellip;</a>"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 4, "last_activity_date": 1502455818, "creation_date": 1502455818, "answer_id": 45635691, "question_id": 45635638, "link": "https://stackoverflow.com/questions/45635638/qx-vs-qx-in-perl/45635691#45635691", "title": "&quot;qx!&quot; vs. &quot;qx/&quot; in Perl", "body": "<p>The difference is the characters you can use without escaping them within the command.</p>\n\n<pre><code>qx!/!\nqx/\\//;\n</code></pre>\n"}], "owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 45635691, "answer_count": 1, "score": 0, "last_activity_date": 1502455818, "creation_date": 1502455648, "question_id": 45635638, "link": "https://stackoverflow.com/questions/45635638/qx-vs-qx-in-perl", "title": "&quot;qx!&quot; vs. &quot;qx/&quot; in Perl", "body": "<p>Is there a functional difference between <code>qx!command!</code> and <code>qx/command/</code> (where <code>command</code> represents some sort of Bash function)? </p>\n\n<p>I'm having a hard time locating this in <a href=\"https://perldoc.perl.org/5.8.9/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">perlop</a>.</p>\n"}, {"tags": ["php", "html", "perl"], "comments": [{"owner": {"reputation": 66, "user_id": 8382062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OUOpn.png?s=128&g=1", "display_name": "tbrennan", "link": "https://stackoverflow.com/users/8382062/tbrennan"}, "edited": false, "score": 0, "creation_date": 1502450660, "post_id": 45633318, "comment_id": 78226969, "body": "See: <a href=\"https://stackoverflow.com/questions/4154333/convert-perl-associative-array-to-php-array?rq=1\" title=\"convert perl associative array to php array\">stackoverflow.com/questions/4154333/&hellip;</a> for your question about Perl arrays in PHP."}], "answers": [{"tags": [], "owner": {"reputation": 406, "user_id": 1879794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hOga3.jpg?s=128&g=1", "display_name": "MrCleanX", "link": "https://stackoverflow.com/users/1879794/mrcleanx"}, "is_accepted": false, "score": 1, "last_activity_date": 1502484448, "creation_date": 1502484448, "answer_id": 45643521, "question_id": 45633318, "link": "https://stackoverflow.com/questions/45633318/guidance-in-front-end-and-back-end-desiging/45643521#45643521", "title": "Guidance in front end and back end desiging", "body": "<p>If it's in a database, I'd go dynamic. But I don't understand why you're jumping between perl and PHP, either can do the job on it's own. </p>\n\n<p>If your data is being queried into arrays in perl, parse it out into JSON or XML. Both perl and PHP have awesome parsing modules available.</p>\n"}], "owner": {"reputation": 47, "user_id": 8203581, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-iiq69Nz5ZjQ/AAAAAAAAAAI/AAAAAAAAFlQ/cZJ7Yy3H3j4/photo.jpg?sz=128", "display_name": "Krushna Sonar", "link": "https://stackoverflow.com/users/8203581/krushna-sonar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1502484448, "creation_date": 1502448339, "last_edit_date": 1502448814, "question_id": 45633318, "link": "https://stackoverflow.com/questions/45633318/guidance-in-front-end-and-back-end-desiging", "title": "Guidance in front end and back end desiging", "body": "<p>I am making a database and a corresponding website for the same. The website offers taking (scientific) queries from the user and searching the information (protein/nucleotide sequences, name of organism, accession id, etc.) against my database as an output.</p>\n\n<p>I am done with the database and the website, even the script (HTML->PHP->Perl) fetches information asked by the user.</p>\n\n<p><strong>My Problem</strong></p>\n\n<p>Let's take for example, a database with Employee info like ID, name, age, sex, etc.</p>\n\n<p>I have all the output information in an array. The problem is when I have to post it into a html output. The thing is, I can print these values like printing the <strong>complete html file</strong> with the respective <strong>tags</strong> and then opening the html file, but my web page has some buttons/options which will do something (here, print any info, drawing charts using the values like age, salary,etc.). It will also have a scroll function for displaying the information and the buttons on the bottom of the page.</p>\n\n<p>So I need some basic guidance, </p>\n\n<ul>\n<li>Should I go with dynamic pages or static?</li>\n<li>If dynamic, is there any way I can parse the arrays from Perl to PHP?</li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1502448318, "post_id": 45632982, "comment_id": 78225374, "body": "Don&#39;t post pictures of text. You would be much better off piping the output through <code>xxd</code> or <code>od</code> to see the actual bytes printed."}], "answers": [{"tags": [], "owner": {"reputation": 252, "user_id": 7591918, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/270b16030c585e472e85f24512ec72a1?s=128&d=identicon&r=PG&f=1", "display_name": "Wep0n", "link": "https://stackoverflow.com/users/7591918/wep0n"}, "is_accepted": false, "score": 1, "last_activity_date": 1502447765, "last_edit_date": 1502447765, "creation_date": 1502447673, "answer_id": 45633104, "question_id": 45632982, "link": "https://stackoverflow.com/questions/45632982/what-does-mean-in-perl/45633104#45633104", "title": "What does ~ mean in perl?", "body": "<p>Taken from <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\" title=\"perldoc\">perldoc manpage</a></p>\n\n<blockquote>\n  <p>Unary \"<code>~</code>\" performs bitwise negation, that is, 1's complement. For example, 0666 &amp; ~027 is 0640.</p>\n</blockquote>\n\n<p>However, the <code>~</code> operator has a bunch of other functions as well, for example the <code>=~</code> operator is for applying a regular expression to a scalar.</p>\n\n<p>In general, working with operators is a pretty messy ordeal, I suggest you consult the linked manpage if you have a question about them.</p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502457692, "post_id": 45633126, "comment_id": 78231662, "body": "<code>~</code> imposes scalar context on its argument (just like, say, <code>+</code> does). That&#39;s why it ends up operating on the number of elements in <code>@ar</code>. Note the difference between that and <code>perl -e &quot;print ~(9,8)&quot;</code>"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 4, "last_activity_date": 1502447939, "last_edit_date": 1502447939, "creation_date": 1502447741, "answer_id": 45633126, "question_id": 45632982, "link": "https://stackoverflow.com/questions/45632982/what-does-mean-in-perl/45633126#45633126", "title": "What does ~ mean in perl?", "body": "<p>From the <a href=\"http://perldoc.perl.org/perlop.html#Symbolic-Unary-Operators\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Symbolic Unary Operators</p>\n  \n  <p>[...]<br>\n  Unary \"~\" performs bitwise negation, that is, 1's complement. For example, 0666 &amp; ~027 is 0640.<br>\n  [...]</p>\n</blockquote>\n\n<p>Albeit it looks different, I assume <code>~@ar</code> does a bitwise negation of the number of elements in <code>@ar</code>:</p>\n\n<pre><code>print ~2, \"\\n\";\n18446744073709551613\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1502458044, "post_id": 45633759, "comment_id": 78231895, "body": "Double <code>~~</code> can also be used to impose scalar context, e.g., <code>perl -e &#39;print ~~localtime&#39;</code>"}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 6, "last_activity_date": 1502485803, "last_edit_date": 1502485803, "creation_date": 1502449759, "answer_id": 45633759, "question_id": 45632982, "link": "https://stackoverflow.com/questions/45632982/what-does-mean-in-perl/45633759#45633759", "title": "What does ~ mean in perl?", "body": "<p>Unary <code>~</code> performs bitwise negation. Numbers are first converted to integers by discarding the fractional part, then each bit in the binary representation is flipped. So on a 64-bit system, you'll get:</p>\n\n<pre><code>$ perl -e 'printf \"%x\\n\", ~0'\nffffffffffffffff\n</code></pre>\n\n<p>Double negation can be used to convert non-negative numbers to integers in a terse but unreadable way:</p>\n\n<pre><code>$ perl -le 'print ~~1.8'\n1\n</code></pre>\n\n<p>Evaluated in scalar context, an array yields the number of elements, so for a two-element array, <code>~@a</code> is equivalent to <code>~2</code>.</p>\n\n<p>When operating on strings, each bit in the binary representation of the string is flipped:</p>\n\n<pre><code>$ perl -le 'print unpack(\"B*\", \"A\"), \"\\n\", unpack(\"B*\", ~\"A\")'\n01000001\n10111110\n\n$ perl -le 'print unpack(\"H*\", \"onetwo\"), \"\\n\", unpack(\"H*\", ~\"onetwo\")'\n6f6e6574776f\n90919a8b8890\n</code></pre>\n\n<p><code>6f</code> is the hex ASCII code for <code>o</code> and <code>90</code> is the negated hex value. Since the MSB of each byte is flipped, you typically get garbage when printing the bitwise negation of a string.</p>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 45633759, "answer_count": 3, "score": 0, "last_activity_date": 1502485803, "creation_date": 1502447324, "last_edit_date": 1502448411, "question_id": 45632982, "link": "https://stackoverflow.com/questions/45632982/what-does-mean-in-perl", "title": "What does ~ mean in perl?", "body": "<p>Array</p>\n\n<pre><code>my @ar = qw(one two);\nprint ~@ar,\"\\n\";\n#output 18446744073709551613\n</code></pre>\n\n<p>Scalar (Result is very interesting )</p>\n\n<pre><code>my $ar = \"qw(onetwo)\"; \nprint ~$ar\n#Output Please refer the screen shot.\n</code></pre>\n\n<p>My question is what <code>~</code> does?</p>\n\n<p>For array it is giving the some numbers. </p>\n\n<p>For scalar it is giving the some other characters, we I copied the character from terminal and pasted in <code>gedit</code>, the result is after the long spaces characters printed with revers order. I can't delete the characters from last. If I'm trying to delete the spaces,characters are delete one by one(left to right). I can't understand what is going here.? </p>\n"}, {"tags": ["perl", "path", "filepath"], "answers": [{"tags": [], "owner": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "is_accepted": false, "score": 0, "last_activity_date": 1502444587, "last_edit_date": 1502444587, "creation_date": 1502444262, "answer_id": 45631808, "question_id": 45631519, "link": "https://stackoverflow.com/questions/45631519/how-to-normalize-a-path-in-perl-without-checking-the-filesystem/45631808#45631808", "title": "How to normalize a path in Perl? (without checking the filesystem)", "body": "<p>Removing '.' and '..' from paths is pretty straight-forward if you process the path right-to-left :</p>\n\n<pre><code>my $path= \"/a/../b/./c//d\";\nmy @c= reverse split m@/@, $path;\nmy @c_new;\nwhile (@c) {\n    my $component= shift @c;\n    next unless length($component);\n    if ($component eq \".\") { next; }\n    if ($component eq \"..\") { shift @c; next }\n    push @c_new, $component;\n}\nsay \"/\".join(\"/\", reverse @c_new);\n</code></pre>\n\n<p>(Assumes the path starts with a /)</p>\n\n<p>Note that this violates the <a href=\"http://pubs.opengroup.org/onlinepubs/000095399/basedefs/xbd_chap04.html#tag_04_11\" rel=\"nofollow noreferrer\">UNIX pathname resolution</a> standards, specifically this part :</p>\n\n<blockquote>\n  <p>A pathname that begins with two successive slashes may be interpreted in an implementation-defined manner, although more than two leading slashes shall be treated as a single slash.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 40290, "user_id": 124946, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5048ffde7ab92aeeedf45959f6d13c24?s=128&d=identicon&r=PG", "display_name": "Denilson S&#225; Maia", "link": "https://stackoverflow.com/users/124946/denilson-s%c3%a1-maia"}, "is_accepted": true, "score": 4, "last_activity_date": 1502455868, "creation_date": 1502455868, "answer_id": 45635706, "question_id": 45631519, "link": "https://stackoverflow.com/questions/45631519/how-to-normalize-a-path-in-perl-without-checking-the-filesystem/45635706#45635706", "title": "How to normalize a path in Perl? (without checking the filesystem)", "body": "<p>Given that File::Spec is almost what I needed, I ended up writing a function that removes <code>../</code> from <code>File::Spec-&gt;canonpath()</code>. <a href=\"https://gist.github.com/denilsonsa/9b433ee8fe548d0388fec4de19e7d8d6\" rel=\"nofollow noreferrer\">The full code including tests is available as a GitHub Gist</a>.</p>\n\n<pre><code>use File::Spec;\n\nsub path_normalize_by_string_manipulation {\n    my $path = shift;\n\n    # canonpath does string manipulation, but does not remove \"..\".\n    my $ret = File::Spec-&gt;canonpath($path);\n\n    # Let's remove \"..\" by using a regex.\n    while ($ret =~ s{\n        (^|/)              # Either the beginning of the string, or a slash, save as $1\n        (                  # Followed by one of these:\n            [^/]|          #  * Any one character (except slash, obviously)\n            [^./][^/]|     #  * Two characters where\n            [^/][^./]|     #    they are not \"..\"\n            [^/][^/][^/]+  #  * Three or more characters\n        )                  # Followed by:\n        /\\.\\./             # \"/\", followed by \"../\"\n        }{$1}x\n    ) {\n        # Repeat this substitution until not possible anymore.\n    }\n\n    # Re-adding the trailing slash, if needed.\n    if ($path =~ m!/$! &amp;&amp; $ret !~ m!/$!) {\n        $ret .= '/';\n    }\n\n    return $ret;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40290, "user_id": 124946, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5048ffde7ab92aeeedf45959f6d13c24?s=128&d=identicon&r=PG", "display_name": "Denilson S&#225; Maia", "link": "https://stackoverflow.com/users/124946/denilson-s%c3%a1-maia"}, "edited": false, "score": 0, "creation_date": 1502789024, "post_id": 45640854, "comment_id": 78337640, "body": "Not for me. <code>Path::Tiny</code> seems to behave exactly like <code>File::Spec</code>: <code>&#47;a&#47;..&#47;b&#47;c&#47;d</code>"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1502472908, "creation_date": 1502472908, "answer_id": 45640854, "question_id": 45631519, "link": "https://stackoverflow.com/questions/45631519/how-to-normalize-a-path-in-perl-without-checking-the-filesystem/45640854#45640854", "title": "How to normalize a path in Perl? (without checking the filesystem)", "body": "<p>The <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a> module does exactly this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Path::Tiny;\nsay path('/a/../b/./c//d');\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>/b/c/d\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 2489802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fd4f9ba3c5d9bcd2ba952ba27387382?s=128&d=identicon&r=PG", "display_name": "chrispitude", "link": "https://stackoverflow.com/users/2489802/chrispitude"}, "is_accepted": false, "score": 1, "last_activity_date": 1546899351, "creation_date": 1546899351, "answer_id": 54082639, "question_id": 45631519, "link": "https://stackoverflow.com/questions/45631519/how-to-normalize-a-path-in-perl-without-checking-the-filesystem/54082639#54082639", "title": "How to normalize a path in Perl? (without checking the filesystem)", "body": "<p>My use case was normalizing include paths inside files relative to another path. For example, I might have a file at '<code>/home/me/dita-ot/plugins/org.oasis-open.dita.v1_3/rng/technicalContent/rng/concept.rng</code>' that includes the following file <strong>relative to itself</strong>:</p>\n\n<pre><code>&lt;include href=\"../../base/rng/topicMod.rng\"/&gt;\n</code></pre>\n\n<p>and I needed the absolute path of that included file. (The <strong>including</strong> file path might be absolute or relative.)</p>\n\n<p>Path::Tiny was promising, but I can only use core modules.</p>\n\n<p>I tried using chdir to the include file location then using File::Spec->rel2abs() to resolve the path, but that was painfully slow on my system.</p>\n\n<p>I ended up writing a subroutine to implement a simple string-based method of evaporating '../' components:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Cwd;\nuse File::Basename;\nuse File::Spec;\n\nsub adjust_local_path {\n my ($file, $relative_to) = @_;\n return Cwd::realpath($file) if (($relative_to eq '.') || ($file =~ m!^\\/!));  # handle the fast cases\n\n $relative_to = dirname($relative_to) if (-f $relative_to);\n $relative_to = Cwd::realpath($relative_to);\n while ($file =~ s!^\\.\\./!!) { $relative_to =~ s!/[^/]+$!!; }\n return File::Spec-&gt;catdir($relative_to, $file);\n}\n\nmy $included_file = '/home/chrispy/dita-ot/plugins/org.oasis-open.dita.v1_3/rng/technicalContent/rng/topic.rng';\nmy $source_file = '.././base/rng/topicMod.rng';\nprint adjust_local_path($included_file, $source_file).\"\\n\";\n</code></pre>\n\n<p>The result of the script above is</p>\n\n<pre><code>$ ./test.pl\n/home/me/dita-ot-3.1.3/plugins/org.oasis-open.dita.v1_3/rng/technicalContent/base/rng/topicMod.rng\n</code></pre>\n\n<p>Using realpath() had the nice side-effect of resolving symlinks, which I needed. In the example above, dita-ot/ is a link to dita-ot-3.1.3/.</p>\n\n<p>You can provide either a file or a path as the second argument; if it's a file, the directory path of that file is used. (This was convenient for my own purposes.)</p>\n"}], "owner": {"reputation": 40290, "user_id": 124946, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5048ffde7ab92aeeedf45959f6d13c24?s=128&d=identicon&r=PG", "display_name": "Denilson S&#225; Maia", "link": "https://stackoverflow.com/users/124946/denilson-s%c3%a1-maia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 0, "accepted_answer_id": 45635706, "answer_count": 4, "score": 5, "last_activity_date": 1546899351, "creation_date": 1502443522, "last_edit_date": 1502467162, "question_id": 45631519, "link": "https://stackoverflow.com/questions/45631519/how-to-normalize-a-path-in-perl-without-checking-the-filesystem", "title": "How to normalize a path in Perl? (without checking the filesystem)", "body": "<p>I want the Perl's equivalent of Python's <a href=\"https://docs.python.org/3/library/os.path.html#os.path.normpath\" rel=\"noreferrer\"><code>os.path.normpath()</code></a>:</p>\n\n<blockquote>\n  <p>Normalize a pathname by collapsing redundant separators and up-level references so that A//B, A/B/, A/./B and A/foo/../B all become A/B. This string manipulation may change the meaning of a path that contains symbolic links. [\u2026]</p>\n</blockquote>\n\n<p>For instance, I want to convert <code>'/a/../b/./c//d'</code> into <code>/b/c/d</code>.</p>\n\n<p>The path I'm manipulating does NOT represent a real directory in the local file tree. There are no symlinks involved. So a plain string manipulation works fine.</p>\n\n<p>I tried <a href=\"http://perldoc.perl.org/Cwd.html\" rel=\"noreferrer\"><code>Cwd::abs_path</code></a> and <a href=\"http://perldoc.perl.org/File/Spec.html\" rel=\"noreferrer\"><code>File::Spec</code></a>, but they don't do what I want.</p>\n\n<pre><code>my $path = '/a/../b/./c//d';\n\nFile::Spec-&gt;canonpath($path);\nFile::Spec-&gt;rel2abs($path, '/');\n# Both return '/a/../b/c/d'.\n# They don't remove '..' because it might change\n# the meaning of the path in case of symlinks.\n\nCwd::abs_path($path);\n# Returns undef.\n# This checks for the path in the filesystem, which I don't want.\n\nCwd::fast_abs_path($path);\n# Gives an error: No such file or directory\n</code></pre>\n\n<p>Possibly related link:</p>\n\n<ul>\n<li><a href=\"http://www.perlmonks.org/bare/?node_id=11907\" rel=\"noreferrer\">Normalized directory paths - perlmonks</a>: people discuss several approaches.</li>\n</ul>\n"}, {"tags": ["perl", "duplicates"], "answers": [{"comments": [{"owner": {"reputation": 16344, "user_id": 1736297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I7o7p.png?s=128&g=1", "display_name": "mccannf", "link": "https://stackoverflow.com/users/1736297/mccannf"}, "edited": false, "score": 0, "creation_date": 1502443643, "post_id": 45631294, "comment_id": 78222193, "body": "Thanks - will try this out. As you pointed out above, I am looking for the latest date not the earliest date."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 16344, "user_id": 1736297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I7o7p.png?s=128&g=1", "display_name": "mccannf", "link": "https://stackoverflow.com/users/1736297/mccannf"}, "edited": false, "score": 0, "creation_date": 1502443735, "post_id": 45631294, "comment_id": 78222251, "body": "You may need to swap <code>$a</code> and <code>$b</code> in the sort criteria. But that&#39;s all."}, {"owner": {"reputation": 16344, "user_id": 1736297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I7o7p.png?s=128&g=1", "display_name": "mccannf", "link": "https://stackoverflow.com/users/1736297/mccannf"}, "edited": false, "score": 1, "creation_date": 1502448589, "post_id": 45631294, "comment_id": 78225539, "body": "It actually worked to use <code>@files = grep { m&#47;(\\d+)&#47; and not $seen{$1}++ } reverse sort @files;</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1502443213, "last_edit_date": 1502443213, "creation_date": 1502442788, "answer_id": 45631294, "question_id": 45631134, "link": "https://stackoverflow.com/questions/45631134/how-to-filter-down-a-list-of-files-to-remove-known-duplicates/45631294#45631294", "title": "How to filter down a list of files to remove known duplicates", "body": "<p>There's a nice idiom using <code>grep</code>:</p>\n\n<pre><code>my %seen; \nmy @files = grep { not $seen{$_}++ } @files;\n</code></pre>\n\n<p>Because you postincrement, the test is true the first time, and false all the others. You can also use regex to substring match on e.g. document ID:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nchomp(\n   my @files = &lt;DATA&gt;\n);\n\nmy %seen;\n@files = grep { m/(\\d+)/ and not $seen{$1}++ } @files;\n\nprint Dumper \\@files;\n\n__DATA__\nINV_1400524_20170412_052945.pdf\nINV_1400524_20170412_063522.pdf\nINV_1400524_20170412_090338.pdf\nINV_1400524_20170412_092911.pdf\nINV_1400971_20170502_095250.pdf\nINV_1401580_20170703_100410.pdf\nINV_1401880_20170804_112917.pdf\nRIN_1300355_20170503_014347.pdf\nRIN_1300552_20170518_111143.pdf\nRIN_1300552_20170518_122055.pdf\nRIN_1300688_20170627_040340.pdf\nRIN_1300834_20170727_113641.pdf\nRIN_1300834_20170727_154404.pdf\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>$VAR1 = [\n          'INV_1400524_20170412_052945.pdf',\n          'INV_1400971_20170502_095250.pdf',\n          'INV_1401580_20170703_100410.pdf',\n          'INV_1401880_20170804_112917.pdf',\n          'RIN_1300355_20170503_014347.pdf',\n          'RIN_1300552_20170518_111143.pdf',\n          'RIN_1300688_20170627_040340.pdf',\n          'RIN_1300834_20170727_113641.pdf'\n        ];\n</code></pre>\n\n<p>If your criteria is more compliated, then you may need to apply a sort to ensure the 'first' is filtered to the top. </p>\n\n<p>There's two approaches there - either you can <code>sort</code> on the filename - and because you have an ISO date, it looks like that'll work:</p>\n\n<pre><code>@files = grep { m/(\\d+)/ and not $seen{$1}++ } sort @files;\n</code></pre>\n\n<p>Or you can do some sort based on making a <code>stat</code> syscall (for this you'll need the full file path though, so be warned!)</p>\n\n<pre><code>@files = grep { m/(\\d+)/ and not $seen{$1}++} sort { -M $a &lt;=&gt; -M $b } @files;\n</code></pre>\n\n<p><code>-M</code> is the perl filetest that checks age of file (in days). </p>\n\n<p>You could use <code>stat</code> instead though. </p>\n"}], "owner": {"reputation": 16344, "user_id": 1736297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I7o7p.png?s=128&g=1", "display_name": "mccannf", "link": "https://stackoverflow.com/users/1736297/mccannf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 45631294, "answer_count": 1, "score": 0, "last_activity_date": 1502443213, "creation_date": 1502442281, "question_id": 45631134, "link": "https://stackoverflow.com/questions/45631134/how-to-filter-down-a-list-of-files-to-remove-known-duplicates", "title": "How to filter down a list of files to remove known duplicates", "body": "<p>I have the following list of files:\n<code>\nINV_1400524_20170412_052945.pdf\nINV_1400524_20170412_063522.pdf\nINV_1400524_20170412_090338.pdf\nINV_1400524_20170412_092911.pdf\nINV_1400971_20170502_095250.pdf\nINV_1401580_20170703_100410.pdf\nINV_1401880_20170804_112917.pdf\nRIN_1300355_20170503_014347.pdf\nRIN_1300552_20170518_111143.pdf\nRIN_1300552_20170518_122055.pdf\nRIN_1300688_20170627_040340.pdf\nRIN_1300834_20170727_113641.pdf\nRIN_1300834_20170727_154404.pdf\n</code></p>\n\n<p>which have the format:</p>\n\n<p><code>&lt;Document Type&gt;_&lt;Document Number&gt;_&lt;Date&gt;_&lt;Time&gt;.pdf</code></p>\n\n<p>As you can see, for some reason the same document number has been output multiple times. I want to ignore the duplicates and filter the list down to unique document numbers and the latest date. These documents also have a modified file timestamp that closely matches the date and time in the filename if that helps.</p>\n\n<p>Using perl (I have been using File::Find::Rule) I want to reduce the list down to:\n<code>\nINV_1400524_20170412_092911.pdf\nINV_1400971_20170502_095250.pdf\nINV_1401580_20170703_100410.pdf\nINV_1401880_20170804_112917.pdf\nRIN_1300355_20170503_014347.pdf\nRIN_1300552_20170518_122055.pdf\nRIN_1300688_20170627_040340.pdf\nRIN_1300834_20170727_154404.pdf\n</code></p>\n\n<p>I have started with </p>\n\n<pre><code>my @pdf_files = File::Find::Rule-&gt;new\n  -&gt;in($root_dir)\n   -&gt;name( '*.pdf' )\n   -&gt;mtime (\"&gt;$days_ago\");\n</code></pre>\n\n<p>But looking at this answer:\n<a href=\"https://stackoverflow.com/questions/7585145/how-can-i-find-the-newest-pl-file-in-a-directory-and-all-its-subdirectories-usi\">How can I find the newest .pl file in a directory and all its subdirectories using Perl?</a></p>\n\n<p>I think there maybe a way to use:</p>\n\n<pre><code>my $rule = File::Find::Rule-&gt;new;\n$rule-&gt;or( $rule-&gt;new-&gt;name('INV_*.pdf')-&gt;....\n$rule-&gt;or( $rule-&gt;new-&gt;name('RIN_*.pdf')-&gt;....\nmy @files = $rule-&gt;in($root_dir);\n</code></pre>\n\n<p>to group and filter them down. Any ideas?</p>\n"}, {"tags": ["bash", "shell", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1502440442, "post_id": 45629621, "comment_id": 78220134, "body": "Turn on <code>use strict;</code> <code>use warnings;</code>. Check what the errors say. Post some output. Post a bit more detail, because we don&#39;t know what db_conf is. But I&#39;d be pretty sure your <code>system</code> command is wrong, because <code>date localhost</code> errors with <code>invalid date</code>."}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1502443045, "post_id": 45629621, "comment_id": 78221788, "body": "I have added the complete code and explained more what i am trying to achieve."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1502443855, "post_id": 45629621, "comment_id": 78222362, "body": "Your <code>my @cmd = (&#39;date ${host}&#39;);</code> has single quotes and so <code>${host}</code> does not get interpolated.  The later <code>system</code> runs <code>date ${host}</code>. This is not what you want, right? Other than that, I don&#39;t understand from the description where the problem is ... in <code>mysql ..</code> ?"}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1502444252, "post_id": 45629621, "comment_id": 78222649, "body": "When i use double quotes instead of single, i get the error &quot;date: invalid date...&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502445033, "post_id": 45629621, "comment_id": 78223146, "body": "But what is the point of that <code>date ${host}</code>?  What is <code>${host}</code> there?  Is it supposed to be interpolated, since <code>$host</code> comes from DB? If it is, then it better had the date format that <code>date</code> command expects.  But the way you have it, you run <code>date</code> followed by a (supposed) variable <code>${host}</code> that should exist in your environment ... really?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502445203, "post_id": 45629621, "comment_id": 78223259, "body": "Also note that <code>&#39;...&#39;</code> is one string.  So the <code>@cmd</code> array contains one element, <code>&#39;date ${host}&#39;</code> string (where <code>$</code>, <code>{</code>, etc are literal characters)"}, {"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502445579, "post_id": 45629621, "comment_id": 78223539, "body": "@zdim, the overall code is going through all db servers we host. So the reason for the $host, which by the way has been declared in the code, is to display the date on each db server as the code runs."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502445919, "post_id": 45629621, "comment_id": 78223766, "body": "The <code>system</code> runs a command on the system (via shell or not, depending on its arguments).  Here you have the command to be <code>date</code>, with the argument <code>&#39;${host}&#39;</code>.  If you look at the man page for <code>date</code>, its argument should be a format for a date (or options), or you run it without arguments when it just prints the date.  Judged by your <code>mysql</code> command, the variable <code>$host</code> indeed has a host name.  That ain&#39;t a valid thing to pass to <code>date</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502445989, "post_id": 45629621, "comment_id": 78223807, "body": "What <i>precisely</i> do you want to get from <code>system(@cmd)</code>?   If you mean to print a date followed by the host name, you can form that string in your program and then print it. You can get the timestamp with <code>my $t = localtime</code>, for instance."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502482066, "post_id": 45629621, "comment_id": 78245534, "body": "I think I see what the problem is, described in my previous comment.  I posted an answer for this, please let me know if it&#39;s off."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502914867, "post_id": 45629621, "comment_id": 78402734, "body": "Please see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>  If there are problems or the answers miss the point a clarification/comment would be nice."}], "answers": [{"comments": [{"owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1502445109, "post_id": 45631725, "comment_id": 78223187, "body": "I understand the dangers of system(). Anyway, when i run echo $(date) , it displays the date. But when i run your suggested command substituting the string &quot;hello&quot; with $(date), it does not print the date. E.g, perl -e &#39; $var = &quot;$(date); $cmd = qq(echo $var); print \\&quot;The command: $cmd \\n\\&quot;;&#39;"}, {"owner": {"reputation": 731, "user_id": 2129178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c325d9c68c23531633e54f8a1f77b18d?s=128&d=identicon&r=PG", "display_name": "Nicola Mingotti", "link": "https://stackoverflow.com/users/2129178/nicola-mingotti"}, "reply_to_user": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "edited": false, "score": 0, "creation_date": 1502446128, "post_id": 45631725, "comment_id": 78223896, "body": "try this: <code>perl -e &#39;$date = qx(date); chomp $date; $cmd=qq(echo &quot;$date&quot; ); print &quot;cmd is : $cmd \\n&quot;; system($cmd);&#39; </code>"}], "tags": [], "owner": {"reputation": 731, "user_id": 2129178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c325d9c68c23531633e54f8a1f77b18d?s=128&d=identicon&r=PG", "display_name": "Nicola Mingotti", "link": "https://stackoverflow.com/users/2129178/nicola-mingotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1502444064, "creation_date": 1502444064, "answer_id": 45631725, "question_id": 45629621, "link": "https://stackoverflow.com/questions/45629621/include-a-perl-variable-inside-a-bash-command-in-a-perl-script/45631725#45631725", "title": "Include a perl variable inside a bash command in a perl script", "body": "<p><code>system</code> is very powerful but also very dangerous. It is easy to make disasters, consider, if you feed it with an <code>rm</code>, better if you make absolutely clear what parameters <code>rm</code> gets before running <code>system</code>.</p>\n\n<p>For this reason I always follow this practice:</p>\n\n<ol>\n<li>create the commad string</li>\n<li>print the command string </li>\n<li>check if print representation is what i want to send to the shell</li>\n<li>add the <code>system</code> part  </li>\n</ol>\n\n<p>Here is an example, from the command line:</p>\n\n<p><code>perl -e ' $var = \"Hello\"; $cmd = qq(echo $var); print \"The command: $cmd \\n\";'</code></p>\n\n<p>Next, add system:</p>\n\n<p><code>perl -e ' $var = \"Hello\"; $cmd = qq(echo $var); print \"the command: $cmd \\n\"; system($cmd);'</code></p>\n"}], "owner": {"reputation": 845, "user_id": 2105790, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ded7e22588e7875f480ecfe5453d83f6?s=128&d=identicon&r=PG", "display_name": "The Georgia", "link": "https://stackoverflow.com/users/2105790/the-georgia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1503464259, "creation_date": 1502437366, "last_edit_date": 1502442971, "question_id": 45629621, "link": "https://stackoverflow.com/questions/45629621/include-a-perl-variable-inside-a-bash-command-in-a-perl-script", "title": "Include a perl variable inside a bash command in a perl script", "body": "<p>For example:</p>\n\n<pre><code>#!/usr/bin/perl\n...\nmy $host = $db_conf-&gt;{host};\nmy @cmd = ('date',$host);\nsystem(@cmd);\n</code></pre>\n\n<p>So the results i am expecting is:</p>\n\n<pre><code>Fri Aug 11 15:41:28 CST 2017 db-test-1\n</code></pre>\n\n<p>With db-test-1 being the hostname.</p>\n\n<p>Here is my entire code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse 5.010;\nuse DBI;\nuse Encode;\nuse IO::File;\nuse JSON;\nuse utf8;\n\nBEGIN {\n    binmode STDERR, ':utf8';\n    binmode STDIN, ':utf8';\n    binmode STDOUT, ':utf8';\n}\n\nINIT {\n    my @databases = &lt;/kkcorp/kksecret/db-*/db.json&gt;;\n\n    foreach my $filename (@databases) {\n        my $fh = IO::File-&gt;new($filename, 'r') or croak $!;\n        my @buf = &lt;$fh&gt;;\n        my $str = join '', @buf;\n        $fh-&gt;close;\n\n        my $db_conf = decode_json $str;\n\n        my $entry = int(rand(scalar(@{$db_conf})));\n        $db_conf = $db_conf-&gt;[$entry]-&gt;{writer}-&gt;{params};\n\n        my $host = $db_conf-&gt;{host};\n        my $dbname = $db_conf-&gt;{dbname};\n        my $password = $db_conf-&gt;{password};\n        my $username = $db_conf-&gt;{username};\n\n        my $wsrep_check = `mysql -h $host -u $username -p$password &lt; /authdir/auto_inc_script.sql`;\n$hosti\n        if (index($wsrep_check, 'Value: Synced') != -1) {\n            my @cmd = ('date ${host}');\n            system(@cmd);\n            my @wsrep_check_lines = split /\\n/, $wsrep_check;\n            my @table_name = grep { /Synced/ } @wsrep_check_lines;\n            for my $line (@table_name){\n                say STDERR $line;\n            }\n            say '';\n        }\n   }\n}\n\n__END__\n</code></pre>\n\n<p>So what i am trying to achieve in in the two statements right after the beginning of the \"if\" statement. The code runs fine, but ignored the ${host} variable without displaying any output for it.</p>\n\n<p>Below is my results:</p>\n\n<pre><code>Fri Aug 11 17:13:19 CST 2017\nok        Value: Synced\n\nFri Aug 11 17:13:20 CST 2017\nok        Value: Synced\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1502440856, "post_id": 45629579, "comment_id": 78220365, "body": "Please check <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-ARRAYS\" rel=\"nofollow noreferrer\"><code>HoA</code></a> and <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-HASHES\" rel=\"nofollow noreferrer\"><code>HoH</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1502440875, "creation_date": 1502440875, "answer_id": 45630645, "question_id": 45629579, "link": "https://stackoverflow.com/questions/45629579/perl-reference-confusion-using-hash-value-being-array/45630645#45630645", "title": "perl reference confusion using hash value being array", "body": "<p><code>@{  }</code> is a dereference. It's saying that the <em>expected</em> value in <code>$table{$state}</code> is an array reference. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %table = (\n   firstkey   =&gt; [ 1, 2, 3 ],\n   secondkey =&gt; [ 'fish', 'bird', 'bat' ],\n);\n\n\nforeach my $key ( keys %table ) {\n   print $key, \" is \", ref ( $table{$key} ), \" with a value of \", $table{$key}, \"\\n\";\n\n   foreach my $value ( @{$table{$key}} ) {\n       print \"\\t$value\\n\";\n   }\n}\n</code></pre>\n\n<p><code>%{ $table{$state} }</code> would work <em>if</em> there was a hash reference in there instead of an array reference. </p>\n\n<p>So:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %table = (\n   firstkey =&gt; { fish =&gt; 1, bird =&gt; 2, bat =&gt; 3 }\n);\n\n\nforeach my $key ( keys %table ) {\n   print $key, \" is \", ref ( $table{$key} ), \" with a value of \", $table{$key}, \"\\n\";\n\n   foreach my $subkey ( keys %{$table{$key}} ) {\n       print \"$subkey =&gt; $table{$key}{$subkey}\\n\"\n   }\n}\n</code></pre>\n\n<p>The core of this is down to how perl implements multi dimensional data structures - it does so via storing references in the single 'value' of the sub-array. </p>\n"}], "owner": {"reputation": 751, "user_id": 3502374, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c6a2169ef6b4b7d9943dd7dd4c596d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3502374", "link": "https://stackoverflow.com/users/3502374/user3502374"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 45630645, "answer_count": 1, "score": 1, "last_activity_date": 1502487172, "creation_date": 1502437246, "last_edit_date": 1502487172, "question_id": 45629579, "link": "https://stackoverflow.com/questions/45629579/perl-reference-confusion-using-hash-value-being-array", "title": "perl reference confusion using hash value being array", "body": "<p>While looking at \n<a href=\"http://perl.plover.com/FAQs/references.html\" rel=\"nofollow noreferrer\">http://perl.plover.com/FAQs/references.html</a></p>\n\n<p>From below, I really don't understand\n <code>@{ $table{$state} }</code>  </p>\n\n<p>It explains that this is hash table whose key is <code>$state</code> and value is array..   so this is basically\ntaking normal <code>%table</code> and whose values will be array.. is this the right way to look at this?</p>\n\n<p>Is there also such thing as <code>%{ $table{$state} }</code>   ? I don't even know if this means anything.</p>\n\n<pre><code> 1  while (&lt;&gt;) {\n 2    chomp;\n 3    my ($city, $state) = split /, /;\n 4    push @{$table{$state}}, $city;\n 5  }\n 6\n 7  foreach $state (sort keys %table) {\n 8    print \"$state: \";\n 9    my @cities = @{$table{$state}};\n10        print join ', ', sort @cities;\n11    print \".\\n\";\n12  }\n</code></pre>\n"}, {"tags": ["mysql", "apache", "postgresql", "perl", "dbd-pg"], "comments": [{"owner": {"reputation": 5703, "user_id": 4899193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b65fc5fb7ab727d1f770206d6b5325?s=128&d=identicon&r=PG", "display_name": "Usagi Miyamoto", "link": "https://stackoverflow.com/users/4899193/usagi-miyamoto"}, "edited": false, "score": 1, "creation_date": 1502435830, "post_id": 45629097, "comment_id": 78217523, "body": "What locales and collations are specified for the PostgreSQL database, schemas and tables?"}, {"owner": {"reputation": 673, "user_id": 286917, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/48aabed91b90262132ee23cffff52bd2?s=128&d=identicon&r=PG", "display_name": "Andreas W. Wylach", "link": "https://stackoverflow.com/users/286917/andreas-w-wylach"}, "reply_to_user": {"reputation": 5703, "user_id": 4899193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b65fc5fb7ab727d1f770206d6b5325?s=128&d=identicon&r=PG", "display_name": "Usagi Miyamoto", "link": "https://stackoverflow.com/users/4899193/usagi-miyamoto"}, "edited": false, "score": 0, "creation_date": 1502438450, "post_id": 45629097, "comment_id": 78218953, "body": "@Usagi Miyamoto: Please see my edit, hope this helps. First I thought to fiddle a bit with the field collations. But as it is UTF8 already and executing queries with the psql monitor find records using accented characters queries I am not sure if this is the right approach."}, {"owner": {"reputation": 5703, "user_id": 4899193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b65fc5fb7ab727d1f770206d6b5325?s=128&d=identicon&r=PG", "display_name": "Usagi Miyamoto", "link": "https://stackoverflow.com/users/4899193/usagi-miyamoto"}, "edited": false, "score": 0, "creation_date": 1502439291, "post_id": 45629097, "comment_id": 78219444, "body": "<a href=\"http://blog.endpoint.com/2014/02/dbdpg-utf-8-perl-postgresql.html\" rel=\"nofollow noreferrer\">blog.endpoint.com/2014/02/dbdpg-utf-8-perl-postgresql.html</a>"}, {"owner": {"reputation": 673, "user_id": 286917, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/48aabed91b90262132ee23cffff52bd2?s=128&d=identicon&r=PG", "display_name": "Andreas W. Wylach", "link": "https://stackoverflow.com/users/286917/andreas-w-wylach"}, "reply_to_user": {"reputation": 5703, "user_id": 4899193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b65fc5fb7ab727d1f770206d6b5325?s=128&d=identicon&r=PG", "display_name": "Usagi Miyamoto", "link": "https://stackoverflow.com/users/4899193/usagi-miyamoto"}, "edited": false, "score": 0, "creation_date": 1502441645, "post_id": 45629097, "comment_id": 78220849, "body": "@Usagi Miyamoto: Thanks, interesting article though. But as stated in my check-list, I have DBD Pg &gt; 3.0 installed so there shouldn&#39;t be an issue and no need with addt. flags. I also checked that test script illustrated in the article and it seems to work out."}], "owner": {"reputation": 673, "user_id": 286917, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/48aabed91b90262132ee23cffff52bd2?s=128&d=identicon&r=PG", "display_name": "Andreas W. Wylach", "link": "https://stackoverflow.com/users/286917/andreas-w-wylach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1502460984, "creation_date": 1502435626, "last_edit_date": 1502460984, "question_id": 45629097, "link": "https://stackoverflow.com/questions/45629097/perl-application-and-queries-with-accented-characters-using-postgres", "title": "Perl-Application and queries with accented characters using postgres", "body": "<p>It's been a decade I have worked with Postgres and Perl.</p>\n\n<p>One of my oldest still-operated applications, an dictionary of government addresses and departmental responsibilities, has issues handling query terms containing accented characters, for example <code>k\u00f6ln</code>. In other words, whenever a query term contains a accented character (mainly umlauts) there are 0 results returned.</p>\n\n<p>I have to mention that this behavior is only happening using this application with Postgres as the database. If I switch to MySQL5 (same data) same queries are working correctly.</p>\n\n<p>Trying to track the cause of this problem I have checked the following:</p>\n\n<ul>\n<li>Postgres database is UTF-8 (using the command <code>show server_encoding;</code>)</li>\n<li>Postgres client encoding is also UTF8 (using <code>show client_encoding;</code>)</li>\n<li>If I use the Postgres monitor and execute the same SQL query as the application does, using accented characters in the query term, I get correct results</li>\n<li>The Perl application itself is handling UTF-8, the HTML-Header is set correctly, contents of the output display correct and not garbled </li>\n<li>All Perl code files, scripts, .pm package files and templates are UTF-8 encoded (I verified that with <code>file --mime perl_file_name</code>)</li>\n<li>I fiddled with the database connection, setting <code>$self-&gt;{dbh}-&gt;{pg_enable_utf8} = 1;</code> or/and <code>$self-&gt;{dbh}-&gt;do(\"SET CLIENT_ENCODING TO 'UTF8';\");</code> or/and <code>$self-&gt;{dbh}-&gt;do(\"SET NAMES 'UTF8';\");</code> with no change</li>\n<li>I've updated the <code>DBD::Pg module</code> to version 3.6.2, no change.</li>\n</ul>\n\n<p>So I am pretty much out of ideas what else to check or try to get Postgres fully working. Like mentioned in my intro, same application just using MySQL as database works flawlessly.</p>\n\n<p>2 years ago the application was changed to handle UTF-8 data, I did not do the changes myself, but as far as I can see in the code (compared to the code in my GIT repo) its just the HTML UTF8-Header <code>print \"Content-type: text/html; charset=utf-8\\n\\n\";</code> and a few unrelated template parts. Perhaps that change somewhere is the origin for all the problems but I don't know what esp. to adjust for Postgres.</p>\n\n<p>The current Perl version is 5.22.1, using Apache/2.2.22 (Ubuntu). The vhost configuration is simple:</p>\n\n<pre><code>AddHandler cgi-script .cgi .pl\nScriptAlias /...abs-path-to-app.../cgi-bin/\n&lt;Directory \"/...abs-path-to-app.../cgi-bin/\"&gt;\n     AllowOverride None\n     Options +Indexes +ExecCGI +MultiViews +SymLinksIfOwnerMatch\n     &lt;IfVersion &lt; 2.4&gt;\n         Allow from all\n     &lt;/IfVersion&gt;\n     &lt;IfVersion &gt;= 2.4&gt;\n         Require all granted\n     &lt;/IfVersion&gt;\n     Allow from all\n&lt;/Directory&gt;\n</code></pre>\n\n<p>Postgres is version 9.1.24. </p>\n\n<p><strong>Edit:</strong></p>\n\n<p><code>Collate</code> and <code>Ctype</code> is set to <code>en_US.UTF-8</code>, <code>Encoding</code> is set to <code>UTF-8</code> for the database in question.\nTaking a look into the tables, all <code>character varying</code> columns use <code>pg_catalog.\"default\"</code> collation. Executing <code>show lc_collate;</code> show already mentioned <code>en_US.UTF-8</code>.</p>\n\n<p><strong>Edit2:</strong></p>\n\n<p>Using the <code>DBD::Pg</code> flag <code>pg_enable_utf8</code> and setting it to <code>0</code> seems to work out and I get the expected results. Using a value other than <code>0</code>, for example '-1<code>or</code>1` does not work. I tried out that flag (once again) right after the database connect. Actually I have to verify this as I still do not really understand what's going on.</p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502441756, "post_id": 45629000, "comment_id": 78220937, "body": "@zdim: Yes actually I was wondering why I should use a module if this approach works. May be I should be having quotes or something that I am deglecting in order to make sure it is acceptable as CSV by any program"}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502444017, "post_id": 45629000, "comment_id": 78222492, "body": "@zdim: You mean use JSON instead of CSV? I didn&#39;t understand the suggestion about <code>JSON_XS</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502444319, "post_id": 45629000, "comment_id": 78222707, "body": "Ugh, very sorry ... drifted from another comment. It&#39;s <a href=\"http://search.cpan.org/~ishigaki/Text-CSV-1.95/lib/Text/CSV.pm\" rel=\"nofollow noreferrer\">Text::CSV</a>.  I am removing that comment. This is precisely one thing where a solid module helps (I think that your format is fine but am unsure)."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1502447233, "post_id": 45629000, "comment_id": 78224614, "body": "At the very least, you have an extra space at the beginning of each column by the first. Also, how can you be sure there won&#39;t ever be any characters such as &quot; or a newline or a comma? Using an existing module is probably a better option. Note also that CSV is probably the least standard standard: not all apps agree on its format, including field separator, line separator, encoding, escaping... if at all possible, pick another format."}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1502447782, "post_id": 45629000, "comment_id": 78224973, "body": "@jcaron: Like what? JSON is a pain to be used e.g. in Google Sheets or Excel."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1502451463, "post_id": 45629000, "comment_id": 78227484, "body": "Some form of Excel format is probably a better option in terms of compatibility. Excel::Writer::XLSX is an option for this."}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502453593, "post_id": 45629000, "comment_id": 78228871, "body": "@zdim:Please see update in post"}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1502453603, "post_id": 45629000, "comment_id": 78228877, "body": "@jcaron: Please see update in post"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502481424, "post_id": 45629000, "comment_id": 78245236, "body": "@Jim  Thank you.  Posted an answer."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1519249142, "last_edit_date": 1519249142, "creation_date": 1502477378, "answer_id": 45641994, "question_id": 45629000, "link": "https://stackoverflow.com/questions/45629000/save-a-row-to-csv-format/45641994#45641994", "title": "Save a row to csv format", "body": "<p>The safest way should be to write clean records with a comma separator. The simpler the better, specially with the format that has so much variation in real life. If <em>needed</em>, double quote each field.</p>\n\n<p>The true strength in using the module is for reading of \"real-life\" data. But it makes perfect sense to use it for writing as well, for a uniform approach to CSV.  Also, options can then be set in a clear way, and the module can iron out some glitches in data.</p>\n\n<p>The <a href=\"http://search.cpan.org/~ishigaki/Text-CSV-1.95/lib/Text/CSV.pm\" rel=\"nofollow noreferrer\">Text::CSV</a> documentation tells us about <code>binary</code> option</p>\n\n<blockquote>\n  <p><strong>Important Note:</strong> The default behavior is to accept only ASCII characters in the range from <code>0x20</code> (space) to <code>0x7E</code> (tilde). This means that the fields can not contain newlines. If your data contains newlines embedded in fields, or characters above <code>0x7E</code> (tilde), or binary data, you <strong><em>must</strong></em> set <code>binary =&gt; 1</code> in the call to <code>new</code>. To cover the widest range of parsing options, you will always want to set binary.</p>\n</blockquote>\n\n<p>I'd say use it.  Since you write a file this may be it for options, along with <code>eol</code> (or use <code>say</code> method). But do scan the many useful options and review their <a href=\"http://search.cpan.org/~ishigaki/Text-CSV-1.95/lib/Text/CSV.pm#accessors\" rel=\"nofollow noreferrer\">defaults</a>.</p>\n\n<p>As for your header, the <code>print</code> method expects an array reference where each field is an element, not a single string with comma-separated fields. So it is wrong to say</p>\n\n<pre><code>my $header = join (',', qw(COL_NAME1 COL_NAME2 COL_NAME3 COL_NAME4));  # WRONG\n$csv-&gt;print( $fh, [$header] );\n</code></pre>\n\n<p>since the <code>$header</code> is a single string which is then made the sole element of the (anonymous) array reference created by <code>[ ... ]</code>. So it prints this string as the first field in the row, and since it detects in it the separator <code>,</code> itself it also double-quotes. Instead, you should have</p>\n\n<pre><code>$csv-&gt;print($fh, [COL_NAME1 COL_NAME2 COL_NAME3 COL_NAME4]);\n</code></pre>\n\n<p>or better assign column names to <code>@header</code> and then do <code>$csv-&gt;print($fh, \\@header)</code>.</p>\n\n<p>This is also an example of why it is good to use the module for writing &ndash; if a comma slips into an element of the array, supposed to be a single field, it is handled correctly by double-quoting.</p>\n\n<hr>\n\n<p>A complete example</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Text::CSV_XS;\n\nmy $csv = Text::CSV-&gt;new ( { binary =&gt; 1, eol =&gt; \"\\n\" } ) \n    or die \"Cannot use CSV: \" . Text::CSV-&gt;error_diag();\n\nmy $file = 'output.csv';\nopen my $fh_out , '&gt;', 'output.csv' or die \"Can't open $file for writing: $!\";\n\nmy @headers = qw( COL_NAME1 COL_NAME2 COL_NAME3 COL_NAME4 );\nmy @data = 1..4;\n\n$csv-&gt;print($fh_out, \\@headers);\n$csv-&gt;print($fh_out, \\@data);\n\nclose $fh_out;\n</code></pre>\n\n<p>what produces the file <code>output.csv</code></p>\n\n<pre>\nCOL_NAME1,COL_NAME2,COL_NAME3,COL_NAME4\n1,2,3,4\n</pre>\n"}], "owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 45641994, "answer_count": 1, "score": 2, "last_activity_date": 1519249142, "creation_date": 1502435268, "last_edit_date": 1502453583, "question_id": 45629000, "link": "https://stackoverflow.com/questions/45629000/save-a-row-to-csv-format", "title": "Save a row to csv format", "body": "<p>I have a set of rows from a DB that I would like to save to a csv file.<br>\nTaking into account that the data are ascii chars without any weird chars would the following suffice?  </p>\n\n<pre><code>my $csv_row = join( ', ', @$row );  \n# save csv_row to file    \n</code></pre>\n\n<p>My concern is if that would create rows that would be acceptable as CSV by any tool and e.g not be concern with quoting etc.  </p>\n\n<p><strong>Update:</strong><br>\nIs there any difference with this?  </p>\n\n<pre><code>my $csv = Text::CSV-&gt;new ( { binary =&gt; 1, eol    =&gt; \"\\n\"} );\nmy $header = join (',', qw( COL_NAME1 COL_NAME2 COL_NAME3 COL_NAME4 ) );\n$csv-&gt;print( $fh, [$header] );                                                                             \nforeach my $row ( @data ) {  \n  $csv-&gt;print($fh,  $row );    \n}    \n</code></pre>\n\n<p>This gives me as a first line:  </p>\n\n<pre><code>\" COL_NAME1,COL_NAME2,COL_NAME3,COL_NAME4\"   \n</code></pre>\n\n<p>Please notice the double quotes and the rest of the rows are without any quotes.<br>\nWhat is the difference than my plain <code>join</code>?  Also do I need the <code>binary</code> set?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1502435241, "post_id": 45628955, "comment_id": 78217190, "body": "It is from <a href=\"https://stackoverflow.com/questions/20889609/how-should-i-use-the-my-keyword-in-perl\"><code>use strict;</code></a> You should declare the variable using <a href=\"https://perldoc.perl.org/functions/my.html\" rel=\"nofollow noreferrer\"><code>my</code></a>. <code>my $str1 = 0;</code>. <a href=\"https://stackoverflow.com/questions/8023959/why-use-strict-and-warnings/8024241\">Why use strict and warnings?</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1502440392, "post_id": 45628955, "comment_id": 78220095, "body": "The <code>my $str1</code> is what is checked at compile time, however <code>$str1</code> in the same statement (with <code>defined</code>) is also checked, and had not been declared yet.  You can&#39;t declare it (<code>my $s</code>) and have it be used as already declared (<code>defined $s</code>) in the same statement.  Declare first.  Having said that, I find this to be a duplicate."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502475905, "post_id": 45629048, "comment_id": 78242722, "body": "Of course, that&#39;s equivalent to <code>my $str1 = 0;</code>"}], "tags": [], "owner": {"reputation": 134, "user_id": 8231643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e51c45622c2a77d63cdee01bf9ac87c?s=128&d=identicon&r=PG&f=1", "display_name": "Prabhakaran Ravichandran", "link": "https://stackoverflow.com/users/8231643/prabhakaran-ravichandran"}, "is_accepted": true, "score": 0, "last_activity_date": 1502435439, "creation_date": 1502435439, "answer_id": 45629048, "question_id": 45628955, "link": "https://stackoverflow.com/questions/45628955/perl-problmy-str1-0-unless-defined-str1/45629048#45629048", "title": "PERL PROBLmy $str1 = 0 unless defined $str1;", "body": "<p>Try this code, you need to declare $str1 explicitly </p>\n\n<pre><code>use strict;\nuse warnings;\nmy $str1;\n$str1 = 0 unless defined $str1;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8449294, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E0RM4Su7Soc/AAAAAAAAAAI/AAAAAAAAAEg/KJDjE43quEg/photo.jpg?sz=128", "display_name": "Kamlesh Sam", "link": "https://stackoverflow.com/users/8449294/kamlesh-sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1502440411, "accepted_answer_id": 45629048, "answer_count": 1, "score": 0, "last_activity_date": 1502435439, "creation_date": 1502435119, "question_id": 45628955, "link": "https://stackoverflow.com/questions/45628955/perl-problmy-str1-0-unless-defined-str1", "closed_reason": "Duplicate", "title": "PERL PROBLmy $str1 = 0 unless defined $str1;", "body": "<p>I am a beginner in perl programming and when i try this code with use strict and use warnings  it throws an error saying \"Global symbol $str1 requires explicit package name\".Do we need to use any other packages to use unless keyword? ..please help</p>\n"}, {"tags": ["regex", "perl", "search-regex"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1502433549, "post_id": 45628209, "comment_id": 78216230, "body": "Please post your actual input. In your regex you have mentioned in regex as <code>&lt;Level2Node&gt;qpulse-hl7-par&lt;&#47;Level2Node&gt;</code> but in your input there is no <code>qpulse-hl7-par</code> and <code>level2node</code> having the attribute then <code>level2node</code> is self closed but you are mentioned as <code>&lt;&#47;Level2Node&gt;</code> in your regex."}, {"owner": {"reputation": 3057, "user_id": 2046462, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/K9KeG.jpg?s=128&g=1", "display_name": "Kannan Ramamoorthy", "link": "https://stackoverflow.com/users/2046462/kannan-ramamoorthy"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1502438105, "post_id": 45628209, "comment_id": 78218756, "body": "@mkHun Updated the regex appropriately bro."}], "answers": [{"comments": [{"owner": {"reputation": 3057, "user_id": 2046462, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/K9KeG.jpg?s=128&g=1", "display_name": "Kannan Ramamoorthy", "link": "https://stackoverflow.com/users/2046462/kannan-ramamoorthy"}, "edited": false, "score": 0, "creation_date": 1502441993, "post_id": 45630938, "comment_id": 78221113, "body": "I just found out a solution, which is almost same as yours. Thats brilliant. Thank you!!!"}], "tags": [], "owner": {"reputation": 7068, "user_id": 6884590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b0b52ad2211a26c4e1cefb472e09cbe?s=128&d=identicon&r=PG", "display_name": "pchaigno", "link": "https://stackoverflow.com/users/6884590/pchaigno"}, "is_accepted": true, "score": 1, "last_activity_date": 1502441681, "creation_date": 1502441681, "answer_id": 45630938, "question_id": 45628209, "link": "https://stackoverflow.com/questions/45628209/perl-non-greedy-replace-not-working-at-the-start/45630938#45630938", "title": "perl non-greedy replace not working at the start", "body": "<p>You will need to use a negative lookahead to make sure you do not match closing <code>Level1Node</code> tags where you don't want to:</p>\n\n<pre><code>perl -0 -pe 's|&lt;Level1Node&gt;(?:(?!&lt;\\/Level1Node&gt;).)*&lt;Level2Node val=\"Retain\"\\/&gt;(?:(?!&lt;\\/Level1Node&gt;).)*&lt;\\/Level1Node&gt;||gs' tmp.txt\n</code></pre>\n\n<p>Details:</p>\n\n<pre><code>&lt;Level1Node&gt;\n(?:(?!&lt;\\/Level1Node&gt;).)* # Everything except &lt;/Level1Node&gt;\n&lt;Level2Node val=\"Retain\"\\/&gt;\n(?:(?!&lt;\\/Level1Node&gt;).)* # Everything except &lt;/Level1Node&gt;\n&lt;\\/Level1Node&gt;\n</code></pre>\n\n<p><code>?:</code> is only here so that the parenthesis are not interpreter as a capturing group.</p>\n\n<p>If you plan to run this on a large file, you should probably check the cost of the negative lookahead, it might be high.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1502478567, "last_edit_date": 1502478567, "creation_date": 1502478196, "answer_id": 45642190, "question_id": 45628209, "link": "https://stackoverflow.com/questions/45628209/perl-non-greedy-replace-not-working-at-the-start/45642190#45642190", "title": "perl non-greedy replace not working at the start", "body": "<p>Use a proper parser! It's way simpler.</p>\n\n<pre><code>perl -MXML::LibXML -e'\n   my $doc = XML::LibXML-&gt;new-&gt;parse_file($ARGV[0]);\n   $_-&gt;unbindNode() for $doc-&gt;findnodes(q{//Level1Node[Level2Node[@val!=\"Retain\"]]});\n   $doc-&gt;toFH(\\*STDOUT);\n' tmp.txt\n</code></pre>\n"}], "owner": {"reputation": 3057, "user_id": 2046462, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/K9KeG.jpg?s=128&g=1", "display_name": "Kannan Ramamoorthy", "link": "https://stackoverflow.com/users/2046462/kannan-ramamoorthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 45630938, "answer_count": 2, "score": 0, "last_activity_date": 1502478567, "creation_date": 1502432226, "last_edit_date": 1502438038, "question_id": 45628209, "link": "https://stackoverflow.com/questions/45628209/perl-non-greedy-replace-not-working-at-the-start", "title": "perl non-greedy replace not working at the start", "body": "<p>I am having a XML similar to this</p>\n\n<pre><code>&lt;Level1Node&gt;\n.\n.\n    &lt;Level2Node val=\"Retain\"/&gt;\n.\n.\n&lt;/Level1Node&gt;\n&lt;Level1Node&gt;\n.\n.\n    &lt;Level2Node val=\"Replace\"/&gt;\n.\n.\n&lt;/Level1Node&gt;\n&lt;Level1Node&gt;\n.\n.\n    &lt;Level2Node val=\"Retain\"/&gt;\n.\n.\n&lt;/Level1Node&gt;\n</code></pre>\n\n<p>I need to remove only the below node,</p>\n\n<pre><code>&lt;Level1Node&gt;\n.\n.\n    &lt;Level2Node val=\"Replace\"/&gt;\n.\n.\n&lt;/Level1Node&gt;\n</code></pre>\n\n<p>To have it replaced in non-greedy manner, I used the below regex,</p>\n\n<pre><code>perl -0 -pe \"s|&lt;Level1Node&gt;.*?&lt;Level2Node val=\"Retain\"/&gt;.*?&lt;/Level1Node&gt;||gs\" myxmlfile\n</code></pre>\n\n<p>But the non-geedy terminates the match only at the end of the pattern, not at the start. How to get it started at the last match of <code>&lt;Level1Node&gt;</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1502432101, "post_id": 45628151, "comment_id": 78215509, "body": "if a given value appears twice in array1 and three times in array2, how many intersections does that count as?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1502432187, "post_id": 45628151, "comment_id": 78215550, "body": "are the array values sorted?  how large is &quot;very large&quot;? millions?"}, {"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1502432881, "post_id": 45628151, "comment_id": 78215876, "body": "sorry I did not make my situation clear enough. The case should be like: elements in array1 is unique, and each one of them might be shown up in array2, elements in array2 can be unique or duplicate. Now I want to calculate the number of occurance of elements from array1 that appeared in array2. Yes the size of array is like 10000+"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "edited": false, "score": 0, "creation_date": 1502435309, "post_id": 45628734, "comment_id": 78217222, "body": "Thanks a lot and that&#39;s quite intuitive. Never realized &quot;grep&quot; can be used in same manner in Perl. Still a lot to learn. Anyway this should solve my doubts. Let me try out how much run time I can save."}], "tags": [], "owner": {"reputation": 204, "user_id": 8379418, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a58b8e52101e30caf560e61f83cdaae2?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/8379418/tim"}, "is_accepted": true, "score": 2, "last_activity_date": 1502434277, "creation_date": 1502434277, "answer_id": 45628734, "question_id": 45628151, "link": "https://stackoverflow.com/questions/45628151/perl-compare-and-calculate-the-occurance-of-intersection-between-2-arrays/45628734#45628734", "title": "Perl, Compare and calculate the occurance of intersection between 2 arrays.", "body": "<p>You no need using nested loop. Just one <code>for</code> loop is enough to solve your problem. Below is the example but i not sure how you want to pass the array into scripts so i just put as <code>your array1</code>. </p>\n\n<pre><code>use strict; \nuse warnings; \n\nmy $i = 0;\nmy @array1 = \"your array1\";\nmy @array2 = \"your array2\";\n\nfor($i=0;$i&lt;=$#array1;$i++){\n    my $element_in_array1 = $array1[$i];\n    my @occurrence = grep=/$element_in_array1/, @array2;\n    print \" This element $element_in_array1 occur in array2 %d time\\n\", scalar(@occurence);\n}  \n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 8283156, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42f7c3e86ead5ffb5e683365e415c307?s=128&d=identicon&r=PG&f=1", "display_name": "\u738b\u4e91\u9f99", "link": "https://stackoverflow.com/users/8283156/%e7%8e%8b%e4%ba%91%e9%be%99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 45628734, "answer_count": 1, "score": 0, "last_activity_date": 1502434277, "creation_date": 1502431987, "question_id": 45628151, "link": "https://stackoverflow.com/questions/45628151/perl-compare-and-calculate-the-occurance-of-intersection-between-2-arrays", "title": "Perl, Compare and calculate the occurance of intersection between 2 arrays.", "body": "<p>assume the following situations:</p>\n\n<p>I have two arrays: array1 and array2; both holding very large number of elements inside. There can be intersection element between these two arrays and inside each array, the elements can be either unique or duplicated. Now that I want to calculate the number of occurance for all those intersection elements. I know that I can use nested loop to traverse and compare each element inside both array, but see, since each of them is holding a large number of elements, the run speed is going to be terrible. I need to run this program frequently, so is there any faster way to achieve same purpose? Thanks a lot!</p>\n"}, {"tags": ["regex", "perl", "ip-address"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1502427863, "post_id": 45627079, "comment_id": 78213828, "body": "I&#39;m voting to close this question as off-topic because stackoverflow is not a code writing service. The OP just provided the problem and showed no attempts to solve it himself."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1502430245, "post_id": 45627079, "comment_id": 78214694, "body": "Regexp::Log::Common"}, {"owner": {"reputation": 1, "user_id": 8448786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7d7fbf17b3943b48a38b2d1463e3c41?s=128&d=identicon&r=PG&f=1", "display_name": "Saket Kumar", "link": "https://stackoverflow.com/users/8448786/saket-kumar"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1502431463, "post_id": 45627079, "comment_id": 78215212, "body": "@SteffenUllrich ..sorry for that..I had tried and now pasted my program. Will be helpful if you could help."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1502432288, "post_id": 45627079, "comment_id": 78215598, "body": "@SaketKumar: I suggest that you look at your badly formatted post and look at ways how it can be properly formatted. There are ways to properly format code etc. Make your post readable by others if you expect others to invest their free time to help you."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1502442798, "post_id": 45627079, "comment_id": 78221630, "body": "Use a two-level hash as datastructure. Then iterate your logfile, pick the IP and the method from each line and do <code>$num_requests{$ip}{$method} += 1;</code>."}, {"owner": {"reputation": 1, "user_id": 8448786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7d7fbf17b3943b48a38b2d1463e3c41?s=128&d=identicon&r=PG&f=1", "display_name": "Saket Kumar", "link": "https://stackoverflow.com/users/8448786/saket-kumar"}, "edited": false, "score": 0, "creation_date": 1502641644, "post_id": 45627079, "comment_id": 78282584, "body": "thanks , used same thing and it&#39;s working now"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1502874613, "post_id": 45627079, "comment_id": 78376852, "body": "@SaketKumar please read <i><a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>.</i>"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5013952, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qs0M5O30Nb8/AAAAAAAAAAI/AAAAAAAAAYo/N-JL8gz-FOQ/photo.jpg?sz=128", "display_name": "sandeep singh", "link": "https://stackoverflow.com/users/5013952/sandeep-singh"}, "edited": false, "score": 0, "creation_date": 1502474494, "post_id": 45641273, "comment_id": 78242004, "body": "perl prog.pl &lt;input your apache log file&gt;"}, {"owner": {"reputation": 39, "user_id": 5013952, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qs0M5O30Nb8/AAAAAAAAAAI/AAAAAAAAAYo/N-JL8gz-FOQ/photo.jpg?sz=128", "display_name": "sandeep singh", "link": "https://stackoverflow.com/users/5013952/sandeep-singh"}, "reply_to_user": {"reputation": 1, "user_id": 8448786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7d7fbf17b3943b48a38b2d1463e3c41?s=128&d=identicon&r=PG&f=1", "display_name": "Saket Kumar", "link": "https://stackoverflow.com/users/8448786/saket-kumar"}, "edited": false, "score": 0, "creation_date": 1502729477, "post_id": 45641273, "comment_id": 78316247, "body": "@SaketKumar If it worked then please select my answer as correct solution so that others having same problem can also use it. Thanks"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1502877273, "post_id": 45641273, "comment_id": 78378792, "body": "<b>Allways</b> <code>use strict; use warnings;</code>"}], "tags": [], "owner": {"reputation": 39, "user_id": 5013952, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qs0M5O30Nb8/AAAAAAAAAAI/AAAAAAAAAYo/N-JL8gz-FOQ/photo.jpg?sz=128", "display_name": "sandeep singh", "link": "https://stackoverflow.com/users/5013952/sandeep-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1502474466, "creation_date": 1502474466, "answer_id": 45641273, "question_id": 45627079, "link": "https://stackoverflow.com/questions/45627079/print-each-ip-address-with-number-of-get-put-post-delete-request-in-perl/45641273#45641273", "title": "print each ip address with number of GET /PUT /POST /DELETe request in perl", "body": "<pre><code>open(FileHandle, \"&lt;$ARGV[0]\");\n%hash = ();\nwhile(&lt;FileHandle&gt;)\n{\n    chomp($_);\n    if($_ =~ /^(\\d{1,}\\.\\d{1,}\\.\\d{1,}.\\d{1,})/) { $ip = $1; }\n    if($_ =~ /GET/) { $hash{$ip}{\"GET\"}++; }\n    if($_ =~ /POST/) { $hash{$ip}{\"POST\"}++; }\n    if($_ =~ /PUT/) { $hash{$ip}{\"PUT\"}++; }\n    if($_ =~ /DELETE/) { $hash{$ip}{\"DELETE\"}++; }\n}\nforeach $k (keys %hash)\n{\n    print \"$k: GET=$hash{$k}{'GET'},POST=$hash{$k}{'POST'},PUT=$hash{$k}{'PUT'},DELETE=$hash{$k}{'DELETE'}\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8448786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7d7fbf17b3943b48a38b2d1463e3c41?s=128&d=identicon&r=PG&f=1", "display_name": "Saket Kumar", "link": "https://stackoverflow.com/users/8448786/saket-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1502851180, "creation_date": 1502426330, "last_edit_date": 1502437381, "question_id": 45627079, "link": "https://stackoverflow.com/questions/45627079/print-each-ip-address-with-number-of-get-put-post-delete-request-in-perl", "title": "print each ip address with number of GET /PUT /POST /DELETe request in perl", "body": "<p>I have a apache log which looks like below.</p>\n\n<p>192.168.10.20 - - [18/Jul/2017:08:41:37 +0000] \"PUT /search/tag/list HTTP/1.0\" </p>\n\n<p>10.30.24.3 - - [18/Jul/2017:08:45:15 +0000] \"POST /search/tag/list HTTP/1.0\" </p>\n\n<p>192.168.10.20 - - [18/Jul/2017:09:04:09 +0000] \"GET /apps/cart.jsp?appID=4651 HTTP/1.0\"</p>\n\n<p>192.168.10.20 - - [18/Jul/2017:09:04:09 +0000] \"GET /apps/cart.jsp?appID=4651 HTTP/1.0\"</p>\n\n<p>10.30.24.3 - - [18/Jul/2017:08:45:15 +0000] \"POST /search/tag/list HTTP/1.0\"</p>\n\n<hr>\n\n<p>It consists of same ip address multiple times with different reqeust types.\nCan any give a solution in perl to extract all the ip address,group them and no of POST/GET/DELETE request for each ip address.\nOutput format should be like </p>\n\n<p>192.168.10.20: GET=23,POST=13,PUT=23,DELETE=11</p>\n\n<p>43.56.76.4: GET=4,POST=3,PUT=1,DELETE=3</p>\n\n<p>Till now I have done this, extracted ip and request type and logged into another file and then counted of each occurance:</p>\n\n<pre><code>my $file = \"apache_log.log\";\nmy $file2 = \"apache_log1.log\";\nmy %hrec;\nopen (FH, \"$file\");\nopen(DATA, \"&gt;$file2\");\nmy $str;\nwhile (my $line = &lt;FH&gt;) {\nchomp $line;\nif  ( $line =~ /^(\\d{1,}\\.\\d{1,}\\.\\d{1,}\\.\\d{1,})\\s+\\-\\s+\\-\\s+\\[\\d{1,}\\/\\w+\\/\\d{1,}\\:\\d{1,}\\:\\d{1,}\\:\\d{1,}\\s+\\+0000\\]\\s+\\\"(PUT|GET|POST|DELETE)/)   {\nprint DATA \"$1: $2\\n\";\n}\nclose(DATA);\nclose(FH);\nopen(DATA, \"$file2\") or die \"Couldn't open file $file2, $!\";\nwhile ( my $str = &lt;DATA&gt;) {\nmy @requests = split ('\\n',$str);\nforeach my $req(@requests) {\n$hrec{$req}++;\n }\n }\nclose(DATA);\nforeach my $fam ( sort keys %hrec) {\nprint \"$fam =\". ($hrec{$fam}).\"\\n\";\n}\n</code></pre>\n\n<p>--\nBut my output is coming like below\n192.168.10.20: GET=23</p>\n\n<p>192.168.10.20: POST=16</p>\n\n<p>43.56.76.4: GET=4</p>\n\n<p>43.56.76.4: POST=3</p>\n\n<p>and so on.``</p>\n"}, {"tags": ["perl", "anyevent"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1502395096, "post_id": 45622484, "comment_id": 78204524, "body": "The first place to dig would be your code, right?  Any chance that we can see some trimmed down version that demonstrates the problem?  The fact that &quot;<i>it runs fine</i>&quot; on a previous version still doesn&#39;t have to mean that the library is to blame."}], "answers": [{"tags": [], "owner": {"reputation": 603, "user_id": 2625346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ee31fca82dd2895bc5eb68ead5f973e?s=128&d=identicon&r=PG", "display_name": "Ivan Baidakou", "link": "https://stackoverflow.com/users/2625346/ivan-baidakou"}, "is_accepted": true, "score": 3, "last_activity_date": 1502396039, "creation_date": 1502396039, "answer_id": 45622744, "question_id": 45622484, "link": "https://stackoverflow.com/questions/45622484/does-anyevent-work-with-perl-5-26/45622744#45622744", "title": "Does AnyEvent work with perl 5.26?", "body": "<p>Okay, the issue seems in the <code>EV</code> dependency; it <strong>should</strong> be optional, but installing it solves the problem. I hope it will be useful for somebody.</p>\n"}], "owner": {"reputation": 603, "user_id": 2625346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ee31fca82dd2895bc5eb68ead5f973e?s=128&d=identicon&r=PG", "display_name": "Ivan Baidakou", "link": "https://stackoverflow.com/users/2625346/ivan-baidakou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 45622744, "answer_count": 1, "score": 1, "last_activity_date": 1502396039, "creation_date": 1502394948, "question_id": 45622484, "link": "https://stackoverflow.com/questions/45622484/does-anyevent-work-with-perl-5-26", "title": "Does AnyEvent work with perl 5.26?", "body": "<p>I've met the following error::</p>\n\n<p><code>\nCan't use an undefined value as a subroutine reference at /home/basiliscos/perl5/perlbrew/perls/perl-5.26.0/lib/site_perl/5.26.0/x86_64-linux/AnyEvent/Loop.pm line 248\n</code></p>\n\n<p>when I run my program under perl 5.26.0, meanwhile under 5.20.3 it runs fine. </p>\n\n<p>Any ideas where I should dig to?</p>\n"}, {"tags": ["perl", "syntax-error"], "comments": [{"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1502384909, "post_id": 45619631, "comment_id": 78198768, "body": "Perl is using &quot;sh&quot; to run the command, but I&#39;m guessing your command prompt is NOT sh, maybe bash or something else.  Does it work if you run it directly in sh?  If not, does it work if you escape the parentheses?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502385008, "post_id": 45619631, "comment_id": 78198821, "body": "There&#39;s no way that <code>sed \\&#39;&#47;SOAP service initialization completed&#47; q\\&#39;</code> &quot;works fine&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1502385157, "post_id": 45619631, "comment_id": 78198911, "body": "As for your question, the command isn&#39;t a valid <code>sh</code> command (as you can see with <code>sh -c &#39;cat &lt;( echo foo )&#39;</code>)"}, {"owner": {"reputation": 11, "user_id": 8446783, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154689294165952/picture?type=large", "display_name": "Steve", "link": "https://stackoverflow.com/users/8446783/steve"}, "edited": false, "score": 0, "creation_date": 1502385673, "post_id": 45619631, "comment_id": 78199223, "body": "It doesn&#39;t work if I escape the parentheses. Yes my command prompt is using bash. How would I force perl to use bash?"}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 1, "creation_date": 1502385943, "post_id": 45619631, "comment_id": 78199403, "body": "You are running <code>perl</code>. Why not use its facility to parse the file instead of <code>system</code>, <code>sed</code> and <code>tail</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502388418, "post_id": 45619631, "comment_id": 78200876, "body": "Re &quot;<i>How would I force perl to use bash?</i>&quot;, The same way you are &quot;forcing it&quot; to use <code>sed</code>: <code>`bash -c &#39;...&#39;`</code>"}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1502390070, "post_id": 45619631, "comment_id": 78201779, "body": "I hope after everything&#39;s written and done it doesn&#39;t end up like <code>system(&quot;bash -c &#39;perl ...&#39;)&quot;)</code>."}, {"owner": {"reputation": 11, "user_id": 8446783, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154689294165952/picture?type=large", "display_name": "Steve", "link": "https://stackoverflow.com/users/8446783/steve"}, "edited": false, "score": 0, "creation_date": 1502390561, "post_id": 45619631, "comment_id": 78202070, "body": "alvits: I plan on using this from a remote machine while launching a SOAP service on a server. I execute a command to start up a SOAP service on a group of servers (one box at a time), and I have to wait for each one to complete before moving on to the next one. The plan would be to (from perl) system(&quot;ssh &lt;IP_ADDRESS&gt; sed \\$message\\ exec tail -f...&quot;) and this process will continue to execute until that message is seen (or a 10 minute timer is hit). I&#39;m open to suggestions if you know of a better way. Also, it&#39;s will not be written like system(&quot;bash -c &#39;perl ...&#39;)&quot;),"}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1502391810, "post_id": 45619631, "comment_id": 78202817, "body": "You won&#39;t need <code>system()</code> then. You can simply send the remote commands using <a href=\"http://search.cpan.org/~schwigon/Net-SSH-Perl-2.12/lib/Net/SSH/Perl.pm\" rel=\"nofollow noreferrer\">Net::SSH Perl Module</a>"}, {"owner": {"reputation": 11, "user_id": 8446783, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154689294165952/picture?type=large", "display_name": "Steve", "link": "https://stackoverflow.com/users/8446783/steve"}, "reply_to_user": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1502469118, "post_id": 45619631, "comment_id": 78239195, "body": "@alvits: I don&#39;t have control over any of the system, or ability to install any perl modules. I used @ikegami&#39;s info that it wasn&#39;t being executed from a bash shell, and I eventually ended with this code:  \t    <code>my $tail_command = qq{sed &#39;&#47;$soap_message&#47; q&#39; &lt;(sudo ssh &lt;IP_ADDRESS&gt; exec tail -n +0 -f $supervisor_soap_log); kill \\$! 2&gt; &#47;dev&#47;null;};   &amp;bash($tail_command);\t   sub bash { return </code>cat &lt;&lt; &#39;EOF&#39; | /bin/bash\\n$_[0]\\nEOF\\n`; }"}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1502469498, "post_id": 45619631, "comment_id": 78239395, "body": "You don&#39;t need to install any perl modules on the target servers. You only need it on your localhost. In fact, you are not running any perl script on the target servers. Or maybe you meant that you cannot install perl modules on your localhost."}, {"owner": {"reputation": 11, "user_id": 8446783, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154689294165952/picture?type=large", "display_name": "Steve", "link": "https://stackoverflow.com/users/8446783/steve"}, "edited": false, "score": 0, "creation_date": 1502469817, "post_id": 45619631, "comment_id": 78239580, "body": "@altvits: Understood, I was just trying to be thorough in describing what I have control over. I don&#39;t have the ability to install modules on localhost OR the targets."}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1502469830, "post_id": 45619631, "comment_id": 78239591, "body": "I encourage that you post it as an answer for future readers that has the same question."}], "answers": [{"tags": [], "owner": {"reputation": 731, "user_id": 2129178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c325d9c68c23531633e54f8a1f77b18d?s=128&d=identicon&r=PG", "display_name": "Nicola Mingotti", "link": "https://stackoverflow.com/users/2129178/nicola-mingotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1502445412, "creation_date": 1502445412, "answer_id": 45632279, "question_id": 45619631, "link": "https://stackoverflow.com/questions/45619631/syntax-error-near-unexpected-token-when-executing-in-perl-script/45632279#45632279", "title": "syntax error near unexpected token `(&#39; when executing in perl script", "body": "<p>If you try to print your command before feeding it to <code>system</code> it will save you a lot of troubles, I always to it.</p>\n\n<p>Running </p>\n\n<pre><code>$&gt; perl -de 1  \nDB&gt; $tail_command = qq{sed \\'/SOAP service initialization completed/ q\\' &lt;(exec tail -n +0 -f /Users/xxxx/Desktop/sample.txt); kill \\$! 2&gt; /dev/null;};\nDB&gt; print $tail_command\n</code></pre>\n\n<p>I get in output: </p>\n\n<pre><code>sed '/SOAP service initialization completed/ q' &lt;(exec tail -n +0 -f /Users/xxxx/Desktop/sample.txt); kill $! 2&gt; /dev/null;\n</code></pre>\n\n<p>Which does not correspond to your original string. You must add some escape chars. </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8446783, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154689294165952/picture?type=large", "display_name": "Steve", "link": "https://stackoverflow.com/users/8446783/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1502492608, "creation_date": 1502492608, "answer_id": 45644872, "question_id": 45619631, "link": "https://stackoverflow.com/questions/45619631/syntax-error-near-unexpected-token-when-executing-in-perl-script/45644872#45644872", "title": "syntax error near unexpected token `(&#39; when executing in perl script", "body": "<p>The proper answer was that perl was invoking sh rather than bash, and it wasn't recognizing the code (thanks @ikegami for pointing that out). So in order to execute this in a bash shell I did the following:</p>\n\n<pre><code>my $tail_command = qq{sed '/$soap_message/ q' &lt;(sudo ssh &lt;IP_ADDRESS&gt; exec tail -n +0 -f $supervisor_soap_log); \nkill \\$! 2&gt; /dev/null;}; \n&amp;bash($tail_command);   \nsub bash { return cat &lt;&lt; 'EOF' | /bin/bash\\n$_[0]\\nEOF\\n`; }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8446783, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154689294165952/picture?type=large", "display_name": "Steve", "link": "https://stackoverflow.com/users/8446783/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 935, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502492608, "creation_date": 1502384607, "last_edit_date": 1502384970, "question_id": 45619631, "link": "https://stackoverflow.com/questions/45619631/syntax-error-near-unexpected-token-when-executing-in-perl-script", "title": "syntax error near unexpected token `(&#39; when executing in perl script", "body": "<p>I have this command that I can run at a command prompt:</p>\n\n<pre><code>sed \\'/SOAP service initialization completed/ q\\' &lt;(exec tail -n +0 -f /Users/xxxx/Desktop/sample.txt); kill $! 2&gt; /dev/null\n</code></pre>\n\n<p>Which works fine. It tails the sample file and quits when it encounters the \"SOAP service initialization completed\" message. When I try to execute this in a perl script</p>\n\n<pre><code>\\#!/usr/bin/perl\n\nmy $tail_command = qq{sed \\'/SOAP service initialization completed/ q\\' &lt;(exec tail -n +0 -f /Users/xxxx/Desktop/sample.txt); kill \\$! 2&gt; /dev/null;};\n\nsystem($tail_command);\nexit;\n</code></pre>\n\n<p>I get this error</p>\n\n<pre><code>sh: -c: line 0: `sed '/SOAP service initialization completed/ q' &lt;(exec tail -n +0 -f /Users/xxxx/Desktop/sample.txt); kill $! 2&gt; /dev/null;'\n</code></pre>\n"}, {"tags": ["perl", "perforce"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4561027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5144878978f0265d615a7dbf3ddf5221?s=128&d=identicon&r=PG", "display_name": "zeal4learning", "link": "https://stackoverflow.com/users/4561027/zeal4learning"}, "edited": false, "score": 1, "creation_date": 1502389469, "post_id": 45618803, "comment_id": 78201433, "body": "Thanks for the command, Sam! I&#39;m using the perl module P4, the api allows me to execute this p4 command like $p4-&gt;RunPrint(&quot;//depot/path/to/file&quot;);"}], "tags": [], "owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "is_accepted": true, "score": 4, "last_activity_date": 1502381817, "creation_date": 1502381817, "answer_id": 45618803, "question_id": 45618657, "link": "https://stackoverflow.com/questions/45618657/how-to-read-a-file-without-checking-out-in-perforce/45618803#45618803", "title": "How to read a file without checking out in perforce", "body": "<pre><code>`p4 print //depot/path/to/file`;\n</code></pre>\n\n<p>(Usual requirements for running a p4 command apply -- make sure the p4 executable is in your PATH, make sure you're authenticated with <code>p4 login</code>, make sure you're connecting to the right server, etc.)</p>\n\n<p>See <code>p4 help print</code> for more info on the <code>print</code> command -- you might find the <code>-q</code> and/or <code>-o</code> flags helpful depending on what exactly you need to do with the output.</p>\n"}], "owner": {"reputation": 63, "user_id": 4561027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5144878978f0265d615a7dbf3ddf5221?s=128&d=identicon&r=PG", "display_name": "zeal4learning", "link": "https://stackoverflow.com/users/4561027/zeal4learning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 45618803, "answer_count": 1, "score": 0, "last_activity_date": 1502381817, "creation_date": 1502381361, "question_id": 45618657, "link": "https://stackoverflow.com/questions/45618657/how-to-read-a-file-without-checking-out-in-perforce", "title": "How to read a file without checking out in perforce", "body": "<p>I'm writing a syntax check tool to parse several files on different branches.\nIs there a way for me to read the contents without checking out the file?\nThe tool is written in Perl.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1502380812, "post_id": 45618092, "comment_id": 78196258, "body": "The last part reassigns the edited first line (<code>SING.text</code>) to the default variable <code>$_</code>, which is then printed with a <code>&quot;\\n&quot;</code> along with the other lines."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1502439152, "post_id": 45618092, "comment_id": 78219368, "body": "It alters first line in the file; <a href=\"https://eval.in/844205\" rel=\"nofollow noreferrer\">eval.in/844205</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "is_accepted": false, "score": 0, "last_activity_date": 1502381238, "creation_date": 1502381238, "answer_id": 45618612, "question_id": 45618092, "link": "https://stackoverflow.com/questions/45618092/what-does-this-code-do-in-perl/45618612#45618612", "title": "What does this code do in perl", "body": "<p>The last line combines the modified words into a full line and assigns it to <code>$_</code>, which is what will be printed after processing each line when <code>-p</code> is used.  (You might have inferred this from <a href=\"http://perldoc.perl.org/perlrun.html#*-p*\" rel=\"nofollow noreferrer\">the <code>perlrun</code> manual section on <code>-p</code></a>.)</p>\n"}, {"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 2, "last_activity_date": 1502391121, "last_edit_date": 1502391121, "creation_date": 1502381257, "answer_id": 45618623, "question_id": 45618092, "link": "https://stackoverflow.com/questions/45618092/what-does-this-code-do-in-perl/45618623#45618623", "title": "What does this code do in perl", "body": "<p><code>-p</code> command line switch makes perl process input (or files listed at command line)   \"line by line\" and print processed lines. The line content is stored in <code>$_</code> variable. <code>$_=\"@L\\n\"</code> assign new value to <code>$_</code> before it is printed.</p>\n\n<p>Shorter version: <code>perl -pe 'if($.==1){s/(^| )/$1SING./g}'</code></p>\n\n<hr>\n\n<p>Deparsed (more readable) one-liner above:</p>\n\n<p><code>perl -MO=Deparse -pe 'if($.==1){@L=split;foreach(@L){$_=\"SING.$_\";}$_=\"@L\\n\"}'</code></p>\n\n<pre><code>LINE: while (defined($_ = readline ARGV)) {\n    if ($. == 1) {\n        @L = split(' ', $_, 0);\n        foreach $_ (@L) {\n            $_ = \"SING.$_\";\n        }\n        $_ = \"@L\\n\";\n    }\n}\ncontinue {\n    die \"-p destination: $!\\n\" unless print $_;\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 7806171, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10211744977527386/picture?type=large", "display_name": "Weiqing Wang", "link": "https://stackoverflow.com/users/7806171/weiqing-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 45618623, "answer_count": 2, "score": 0, "last_activity_date": 1502391121, "creation_date": 1502379587, "last_edit_date": 1502379647, "question_id": 45618092, "link": "https://stackoverflow.com/questions/45618092/what-does-this-code-do-in-perl", "title": "What does this code do in perl", "body": "<p>The input to perl is like this:</p>\n\n<pre><code>ID NALT NMIN NHET NVAR SING TITV QUAL DP G|DP NRG|DP\nPT-1RTW 1 1 1 4573 1 NA 919.41 376548 23.469 58\nPT-1RTX 0 0 0 4566 0 NA NA NA 34.5866 NA\nPT-1RTY 1 1 1 4592 1 NA 195.49 189549 24.0416 18\nPT-1RTZ 0 0 0 4616 0 NA NA NA 44.1474 NA\nPT-1RU1 0 0 0 4609 0 NA NA NA 28.2893 NA\nPT-1RU2 2 2 2 4568 2 0 575.41 330262 28.2108 49\nPT-1RU3 0 0 0 4617 0 NA NA NA 35.9204 NA\nPT-1RU4 0 0 0 4615 0 NA NA NA 30.5878 NA\nPT-1RU5 0 0 0 4591 0 NA NA NA 26.2729 NA\n</code></pre>\n\n<p>This is the code:</p>\n\n<pre><code>perl -pe 'if($.==1){@L=split;foreach(@L){$_=\"SING.$_\";}$_=\"@L\\n\"}'\n</code></pre>\n\n<p>I sort of guessed it is processing the first line to add SING to each word. but what does the last part <code>$_=\"@L\\n\"</code> do? without this, this code doesn't work.</p>\n"}, {"tags": ["perl", "session", "cookies"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1502381459, "post_id": 45617522, "comment_id": 78196677, "body": "I&#39;ve just spent two minutes cleaning up the formatting of your code. Please consider doing it yourself in the future. If you want a group of strangers to read and understand your code, it is surely only polite to make that task as easy as possible,"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1502381543, "post_id": 45617522, "comment_id": 78196750, "body": "Also, please stop using indirect object notation (<code>new CGI::Session(...)</code>) to create your objects. The less error prone version is <code>CGI::Session-&gt;new(...)</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502387153, "post_id": 45617522, "comment_id": 78200136, "body": "As I have mentioned before, you need to understand the request/response cycle of HTTP.  Whatever program is on the server does not know what is happening on the client <i>unless</i> there is a request from the client. &quot;<i>If there is any activity in the welcome page, I want the session expire time to keep increasing</i>&quot; ... In that case, you need to make sure the client associates that activity with requests to your server."}, {"owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 0, "creation_date": 1502389027, "post_id": 45617522, "comment_id": 78201189, "body": "Yes, I do understand the cycle. How to ensure that the client associates that activity with requests to my server. Can you help me with an example?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 0, "creation_date": 1502379440, "post_id": 45617761, "comment_id": 78195323, "body": "I have edited my code. I have already done that. Does this take care of the session time being extended to 15 minutes from the time it was last active. I do not see the update in the sessions created in /tmp/sessions"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "edited": false, "score": 0, "creation_date": 1502379680, "post_id": 45617761, "comment_id": 78195470, "body": "Looks like you only set it when you create the session rather than each time it&#39;s accessed"}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 1, "last_activity_date": 1502378611, "creation_date": 1502378611, "answer_id": 45617761, "question_id": 45617522, "link": "https://stackoverflow.com/questions/45617522/how-do-i-extend-the-time-a-session-expires-if-i-have-refreshed-the-page-in-cgi-p/45617761#45617761", "title": "How do I extend the time a session expires if I have refreshed the page in cgi-perl?", "body": "<p>If you want the session to expire in 15 minutes from the time when the CGI script is accessed, you set it like this</p>\n\n<pre><code>$session-&gt;expire('+15m');\n</code></pre>\n\n<p>It's covered in the <a href=\"http://search.cpan.org/~markstos/CGI-Session-4.48/lib/CGI/Session.pm#expire()\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}], "owner": {"reputation": 23, "user_id": 8379458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b769005c0c8a91b3d81050888caecd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivani Sarin", "link": "https://stackoverflow.com/users/8379458/shivani-sarin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1502381386, "creation_date": 1502377958, "last_edit_date": 1502381386, "question_id": 45617522, "link": "https://stackoverflow.com/questions/45617522/how-do-i-extend-the-time-a-session-expires-if-i-have-refreshed-the-page-in-cgi-p", "title": "How do I extend the time a session expires if I have refreshed the page in cgi-perl?", "body": "<p>I am using CGI::Session module. I have created a session and using a session ID have created a cookie and sent to the browser whenever the user clicks on the login button and the credentials are valid.</p>\n\n<pre><code>use CGI::Session;\nuse CGI::Session::Tutorial;\nuse CGI::Session::Driver::file;\n\nmy $session = new CGI::Session(\"driver:File\", undef, \n                               {Directory =&gt; \"/tmp/sessions\"});         \nmy $sid = $session-&gt;id();   \n\nmy $cookie = $query-&gt;cookie(-name   =&gt; \"CGISESSID\",\n                            -value  =&gt; $session-&gt;id,\n                            -domain =&gt; 'xyz.com',\n                             path   =&gt; \"/\");\n\nprint \"Set-Cookie: $cookie\\n\";  \n\n$session-&gt;param(\"UserName\", $loginUserName);\n$query-&gt;hidden( 'UserName', $loginUserName);\n\n$session-&gt;expire(\"UserName\", '1m');\n$session-&gt;expire('+15m'); \n$session-&gt;flush(); \n</code></pre>\n\n<p>When I go to the next page, e.g. \"Welcome\" I check if the session exists with the cookie ID. If yes, it loads the session else it creates a new session.If it loads the session, I want the expire time to increment by +15 minutes. Is this taken care of by the session module? Also, if there is any activity in the welcome page, I want the session expire time to keep increasing, if inactive the session should expire after 15 minutes of idle time.</p>\n\n<pre><code>my $cookieSid = $query-&gt;cookie(\"CGISESSID\") || undef;\nmy $session;\n\nif ($cookieSid) {\n    $session = new CGI::Session(undef, $cookieSid,\n                                {Directory=&gt;'/tmp'});\n} else {\n    create a new session/redirect to login page\n}\n</code></pre>\n\n<p>I do not see the timestamp of the session created in tmp/sessions folder changing,which means that the expiration time hasn't been updated to 15 min from the last active instance.</p>\n\n<p>Also, is it a good practice to have the cookie expire at the time when the browser is closed?</p>\n"}, {"tags": ["function", "perl", "variables"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1502381163, "post_id": 45617299, "comment_id": 78196499, "body": "No. It doesn&#39;t mean that <code>$var1</code> is a hash. There are no hash lookup brackets. It means that <code>$var1</code> is a reference to a scalar."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1502382809, "post_id": 45617299, "comment_id": 78197517, "body": "@DaveCross make that an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1502387714, "creation_date": 1502387714, "answer_id": 45620494, "question_id": 45617299, "link": "https://stackoverflow.com/questions/45617299/what-does-that-var-mean/45620494#45620494", "title": "What does that $$var mean?", "body": "<p><code>$$var1</code> is short for <code>${ $var1 }</code>.</p>\n\n<p><code>$NAME</code> and <code>$BLOCK</code> are the syntax for acccessing a <em>scalar</em>, not a hash.</p>\n\n<p><code>$NAME</code> access a variable directly.</p>\n\n<p><code>$BLOCK</code> access a variable indirectly, via a reference.</p>\n\n<p>Therefore, </p>\n\n<ul>\n<li><code>$var1</code> is a scalar.</li>\n<li><code>$var1</code> is expected to to contain a reference to a scalar (e.g. <code>$var1 = \\$var2;</code>)</li>\n</ul>\n\n<p>Note that it's really weird to use references to scalars (as this sub does).</p>\n"}], "owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 45620494, "answer_count": 1, "score": -3, "last_activity_date": 1502387714, "creation_date": 1502377338, "last_edit_date": 1502387569, "question_id": 45617299, "link": "https://stackoverflow.com/questions/45617299/what-does-that-var-mean", "title": "What does that $$var mean?", "body": "<p>Firstly, I am beginner in Perl. I would like to know what does this code mean.</p>\n\n<pre><code>sub function\n{\n    my $var1 = shift;\n    my $var2 = shift;\n\n    if ($$var1)\n    {\n        #code\n    }\n    else\n    {\n        #code\n    }\n}\n</code></pre>\n\n<p>I know that it is a function, and var1 is first argument of function and var2 is the second argument. But what does mean that $$ in if statement?</p>\n\n<p><strong>So it means that $var1 is hash?</strong></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1502376999, "post_id": 45617119, "comment_id": 78193404, "body": "Make a package in exactly the same way that you would if you wanted to publish on CPAN. Then put it on Github. (But seriously consider publishing to CPAN too)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1502377240, "post_id": 45617119, "comment_id": 78193609, "body": "<code>git clone ... &amp;&amp; cd  ... &amp;&amp; cpanm --installdeps . &amp;&amp; cpanm .</code>"}], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "closed_date": 1502376971, "answer_count": 0, "score": 1, "last_activity_date": 1502376886, "creation_date": 1502376886, "question_id": 45617119, "link": "https://stackoverflow.com/questions/45617119/install-perl-library-from-github", "closed_reason": "Duplicate", "title": "Install perl library from GitHub", "body": "<p>I have a perl library that I want to make accessible to others (to accompany an R package I'm developing). I currently have my library - <code>vcfParser</code> - in a directory called <code>bin</code> in my working directory. In another script <code>callParser.pl</code> I tell perl where to find the library, and then I call one of the functions later in the script. </p>\n\n<p><strong>vcfParser.pm</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\npackage vcfParser;\n\n{...}\n\n1;\n</code></pre>\n\n<p><strong>callParser.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse FindBin qw($Bin);\nuse File::Spec;\nuse lib File::Spec-&gt;catdir($FindBin::Bin, 'bin/');\n\nuse vcfParser;\n</code></pre>\n\n<p>This approach works, but relies on my library being in the <code>bin</code> directory. </p>\n\n<p>I would like to have this easily available for others to use as a standalone module. Is there a way to make a perl library available from a Github repository?</p>\n\n<p>If not, what's the most suitable way for me to allow others to easily install my library? </p>\n\n<p>In R packages from Github are commonly installed using: </p>\n\n<pre><code>library(devtools)\ninstall_github(\"fugu/myProject\")\nlibrary(myProject)\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1502376963, "post_id": 45617057, "comment_id": 78193375, "body": "What have you tried? At this site it is expected that you show some research effort"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1502377115, "post_id": 45617057, "comment_id": 78193496, "body": "While it seems quite easy to achieve the desired output from your sample input, I have trouble matching them to the description of what you want &quot; match shortest content by key words&quot;. Could your rephrase? Or remove the description and provide several more pairs of sample input and desired output. Also (agreeing with Hakon), even as a beginner, you should have made some experimental coding yourself. Please show them, and what output you achieved and describe in which way it is wrong."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1502377213, "post_id": 45617057, "comment_id": 78193581, "body": "You might want to take the <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and try to make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 17170, "user_id": 1671066, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bd4c9461f2d17a884fba66eeed20e320?s=128&d=identicon&r=PG", "display_name": "Micha Wiedenmann", "link": "https://stackoverflow.com/users/1671066/micha-wiedenmann"}, "edited": false, "score": 0, "creation_date": 1502377385, "post_id": 45617057, "comment_id": 78193720, "body": "You should probably rewrite your question, it is almost exclusively a regular expression question. Also it would be nice if you could ask a generalized question which is relevant to a broader audience. In any case the way you solve such issues is by heading over to <a href=\"https://regex101.com/r/k4YNwT/1\" rel=\"nofollow noreferrer\">regex101.com/r/k4YNwT/1</a> Oh and do not forget to donate, those guys deserve it."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502378221, "post_id": 45617057, "comment_id": 78194378, "body": "Update the question rather than posting comments - what you&#39;ve written is unreadable"}, {"owner": {"reputation": 1, "user_id": 8446048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60302ac0249fa2b0f4849c30eeec9e8e?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Lee", "link": "https://stackoverflow.com/users/8446048/allen-lee"}, "edited": false, "score": 0, "creation_date": 1502378823, "post_id": 45617057, "comment_id": 78194838, "body": "Update the my question."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1502380981, "post_id": 45617057, "comment_id": 78196368, "body": "If you have scalar variables called <code>$braces</code>, <code>$braces2</code>, <code>$braces3</code>, etc., then you probably want an array called <code>@braces</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8446048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60302ac0249fa2b0f4849c30eeec9e8e?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Lee", "link": "https://stackoverflow.com/users/8446048/allen-lee"}, "edited": false, "score": 0, "creation_date": 1502381374, "post_id": 45617974, "comment_id": 78196622, "body": "Thank you for your support, my question has been resolved."}], "tags": [], "owner": {"reputation": 1091, "user_id": 7963408, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/086ccd4f08c6258f6f4cdb1f3b259999?s=128&d=identicon&r=PG&f=1", "display_name": "Gawil", "link": "https://stackoverflow.com/users/7963408/gawil"}, "is_accepted": false, "score": 0, "last_activity_date": 1502379244, "creation_date": 1502379244, "answer_id": 45617974, "question_id": 45617057, "link": "https://stackoverflow.com/questions/45617057/how-to-match-shortest-content-by-key-words/45617974#45617974", "title": "How to match shortest content by key words?", "body": "<p>The following regex works for your example, but I'm not sure I understood you completely. You may need to be a bit more precise.<br /><br />\n<code>^.*?(?=\\s*:)|(?&lt;=\\[\\s{3}).*?(?=\\s*\\])|(?&lt;=\\])\\w+</code><br /><br />\nDemo <a href=\"https://regex101.com/r/A4gwWD/1\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8446048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60302ac0249fa2b0f4849c30eeec9e8e?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Lee", "link": "https://stackoverflow.com/users/8446048/allen-lee"}, "edited": false, "score": 0, "creation_date": 1502381407, "post_id": 45618032, "comment_id": 78196643, "body": "Thank you for your support, my question has been resolved."}], "tags": [], "owner": {"reputation": 134, "user_id": 8231643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e51c45622c2a77d63cdee01bf9ac87c?s=128&d=identicon&r=PG&f=1", "display_name": "Prabhakaran Ravichandran", "link": "https://stackoverflow.com/users/8231643/prabhakaran-ravichandran"}, "is_accepted": false, "score": 0, "last_activity_date": 1502379402, "creation_date": 1502379402, "answer_id": 45618032, "question_id": 45617057, "link": "https://stackoverflow.com/questions/45617057/how-to-match-shortest-content-by-key-words/45618032#45618032", "title": "How to match shortest content by key words?", "body": "<p>Try this code.</p>\n\n<pre><code>my $txt='RMS Power                     :  [   0.00]&gt;[   2.83]&lt;[   4.00]dBm        [PASS]';\n\n$re='(.*)\\s*:\\s*\\[\\s*(.*)\\]&gt;\\[\\s*(.*)\\]&lt;\\[\\s*(.*)\\](.*)\\[.*\\]';\nif ($txt =~ m/$re/is)\n{\n    $sbraces1=$1;\n    $sbraces2=$2;\n    $sbraces3=$3;\n    $sbraces4=$4;\n    $sbraces5=$5;\n    print \"$sbraces1 $sbraces2 $sbraces3 $sbraces4 $sbraces5 \\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8446048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60302ac0249fa2b0f4849c30eeec9e8e?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Lee", "link": "https://stackoverflow.com/users/8446048/allen-lee"}, "edited": false, "score": 0, "creation_date": 1502381303, "post_id": 45618199, "comment_id": 78196582, "body": "Thank you for your support, my question has been resolved."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 1, "user_id": 8446048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60302ac0249fa2b0f4849c30eeec9e8e?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Lee", "link": "https://stackoverflow.com/users/8446048/allen-lee"}, "edited": false, "score": 2, "creation_date": 1502381692, "post_id": 45618199, "comment_id": 78196858, "body": "@AllenLee: That&#39;s fine, but how? If you have a solution, answer your own question for future readers."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1502379925, "creation_date": 1502379925, "answer_id": 45618199, "question_id": 45617057, "link": "https://stackoverflow.com/questions/45617057/how-to-match-shortest-content-by-key-words/45618199#45618199", "title": "How to match shortest content by key words?", "body": "<pre><code>use Modern::Perl;\nuse Data::Dumper;\n\nmy $re = qr/^(.+?)\\s+:\\s+\\[\\s*(\\S+?)\\]&gt;\\[\\s*(\\S+?)\\]&lt;\\[\\s*(\\S+?)\\](\\S+)/;\nmy $txt='RMS Power                     :  [   0.00]&gt;[   2.83]&lt;[   4.00]dBm        [PASS]';\nmy @results = $txt =~  $re;\nsay Dumper\\@results;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$VAR1 = [\n          'RMS Power',\n          '0.00',\n          '2.83',\n          '4.00',\n          'dBm'\n        ];\n</code></pre>\n\n<p><strong>Regex explanation:</strong></p>\n\n<pre><code>^           : start of string\n  (.+?)     : group 1, 1 or more any character, not greedy\n  \\s+       : 1 or more spaces\n  :         : semicolon\n  \\s+       : 1 or more spaces\n  \\[\\s*     : open bracket followed by 0 or more spaces\n  (\\S+?)    : group 2, 1 or more non space, not greedy\n  \\]&gt;\\[\\s*  : close bracket, greater than, open bracket, 0 or more spaces\n  (\\S+?)    : group 3, 1 or more non space, not greedy\n  \\]&gt;\\[\\s*  : close bracket, greater than, open bracket, 0 or more spaces\n  (\\S+?)    : group 4, 1 or more non space, not greedy\n  \\]        : close bracket\n  (\\S+)     : group 5, 1 or more non space\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "is_accepted": false, "score": 0, "last_activity_date": 1502716691, "last_edit_date": 1592644375, "creation_date": 1502382225, "answer_id": 45618932, "question_id": 45617057, "link": "https://stackoverflow.com/questions/45617057/how-to-match-shortest-content-by-key-words/45618932#45618932", "title": "How to match shortest content by key words?", "body": "<p>Since there is more than one way to do it, I post my own. In this way you simply can achieve what you want without making the pattern complicated.</p>\n<p>here it the pattern:</p>\n<pre><code>[^ [\\]:&gt;&lt;]+\n</code></pre>\n<p>that is it.\nIt matches all things except those in the character-class. Thus it matches:</p>\n<pre><code>perl -lne 'print $&amp; while/[^[:&gt;&lt;\\] ]+/g ' file\nRMS\nPower\n0.00\n2.83\n4.00\ndBm\nPASS\n</code></pre>\n<p>And without <code>g</code> flag it only outputs: <code>RMS</code><br />\nAnd it is the key, that you can repeat this pattern an many as you want to match more than one, for example:</p>\n<pre><code>([^ [\\]:&gt;&lt;]+)\\s*([^ [\\]:&gt;&lt;]+)\n</code></pre>\n<p>matches: <code>RMS</code> and <code>Power</code></p>\n<p>The only thing you should think of is &quot;match&quot; between the pattern, that they are</p>\n<pre><code>(pattern \\s* pattern) \\D* (pattern) \\D* (pattern) \\D* (pattern) \\W* (pattern)\n</code></pre>\n<p>and it can be done in <strong>22</strong> steps</p>\n<h1><a href=\"https://regex101.com/r/A4gwWD/2\" rel=\"nofollow noreferrer\">Demo</a></h1>\n"}], "owner": {"reputation": 1, "user_id": 8446048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60302ac0249fa2b0f4849c30eeec9e8e?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Lee", "link": "https://stackoverflow.com/users/8446048/allen-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1502716691, "creation_date": 1502376699, "last_edit_date": 1502380048, "question_id": 45617057, "link": "https://stackoverflow.com/questions/45617057/how-to-match-shortest-content-by-key-words", "title": "How to match shortest content by key words?", "body": "<p>I am a Perl beginner and I have the following question </p>\n\n<p>How to using Perl regular expression to match shortest content by key words?\nFor example:</p>\n\n<pre><code>my $txt='RMS Power                     :  [   0.00]&gt;[   2.83]&lt;[   4.00]dBm        [PASS]';\n</code></pre>\n\n<p>I hope to get the following results\uff1a</p>\n\n<pre><code>$1: RMS Power\n$2: 0.00\n$3: 2.83\n$4: 4.00\n$5: dBm\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>my $txt='RMS Power                     :  [   0.00]&gt;[   2.83]&lt;[   4.00]dBm        [PASS]';\n\n$re='.*?(\\[([^\\]]+)\\]).*?(\\[([^\\]]+)\\]).*?(\\[([^\\]]+)\\])';\nif ($txt =~ m/$re/is)\n{\n    $sbraces1=$1;\n    $sbraces2=$2;\n    $sbraces3=$3;\n    $sbraces4=$4;\n    $sbraces5=$5;\n    print \"$sbraces1 $sbraces2 $sbraces3 $sbraces4 $sbraces5 \\n\";\n}\n</code></pre>\n\n<p>The above is my code\uff0coutput is \"[   0.00]    0.00 [   2.83]    2.83 [   4.00] \", I also want to get \u201cRMS Power\u201d\uff0c\u201cdBm\u201d string. </p>\n\n<p>I would greatly appreciate it if you you can give me some advice.</p>\n"}, {"tags": ["perl", "recursion"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 5, "creation_date": 1502375165, "post_id": 45616254, "comment_id": 78191886, "body": "What have you tried? What problems are you having? Please show us your code. If you don&#39;t have any code, then Stack Overflow isn&#39;t the best place to ask your question."}], "answers": [{"comments": [{"owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "edited": false, "score": 0, "creation_date": 1502593681, "post_id": 45624877, "comment_id": 78271525, "body": "@Dan, If this helped, please mark it as accepted by pressing the checkmark next to the answer. Thanks!"}], "tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": false, "score": 0, "last_activity_date": 1502407912, "creation_date": 1502407912, "answer_id": 45624877, "question_id": 45616254, "link": "https://stackoverflow.com/questions/45616254/perl-recursive-find-and-replace-from-list-in-text-file/45624877#45624877", "title": "Perl, recursive find and replace from list in text file?", "body": "<p>Something like (you need to install File::Slurper or emulate its subs by yourself):</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse File::Find qw( find );\nuse File::Slurper qw( read_lines read_text write_text );\n\nmy %phrases = map {\n    split m/\\s/, $_, 2\n} read_lines( 'phrases_list.txt' );\n\nfind(\n    {\n        no_chdir =&gt; 1,\n        wanted   =&gt; sub {\n            my $file_path = $File::Find::name;\n            next if $file_path !~ m/\\.xml$/;\n            next unless -f $file_path;\n\n            my $text = read_text( $file_path );\n            $text =~ s/\\Q$_\\E/$phrases{$_}/ge for keys %phrases;\n            write_text( $file_path, $text );\n        },\n    },\n    '.'\n);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8445952, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ggNB4400vgI/AAAAAAAAAAI/AAAAAAAAAAA/8unsfylkP14/photo.jpg?sz=128", "display_name": "Dan", "link": "https://stackoverflow.com/users/8445952/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502407912, "creation_date": 1502374548, "question_id": 45616254, "link": "https://stackoverflow.com/questions/45616254/perl-recursive-find-and-replace-from-list-in-text-file", "title": "Perl, recursive find and replace from list in text file?", "body": "<p>Good morning!  I am learning perl on the fly.  Yay, learning!</p>\n\n<p>I have ~650 .xml files.  I have ~ 400 pairs of strings to find and replace through those .xml files.  The strings are currently in a tab delimited text file.    I need to replace the 7 characters on the left, with Figure blah blah blah for each pair.</p>\n\n<pre><code>FCN.D75 Figure 0001. Air Compressor\nFCN.D90 Figure 0002. Air Compressor Cooling Lines\nFCN.D84 Figure 0003. Air Compressor Supply Lines\n</code></pre>\n\n<p>I have seen several solutions on how to find and replace from a list in a file, and several solutions on how to find and replace recursively through a directory, but not the magic combination.</p>\n\n<p>Thanks in advance for any help you can offer.</p>\n\n<p>Dan</p>\n"}, {"tags": ["eclipse", "perl", "debugging", "eclipse-plugin", "epic"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502376835, "post_id": 45616127, "comment_id": 78193254, "body": "Are you able to use PadWalker from a regular Perl script? Try <code>perl -e &quot;use PadWalker&quot;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502377314, "post_id": 45616127, "comment_id": 78193667, "body": "Do you have more than one <code>perl</code> on your machine?"}, {"owner": {"reputation": 718, "user_id": 2134441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2bf88c48bb56f7215809d2b44340f008?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/2134441/sumit"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502432589, "post_id": 45616127, "comment_id": 78215754, "body": "@H&#229;konH&#230;gland When I do <code>perl -e &quot;use PadWalker&quot; </code> Then it is saying: <code>Can&#39;t locate loadable object for module PadWalker in @INC (@INC</code> <code>contains: &#47;home&#47;demo&#47;perl5&#47;perlbrew&#47;perls&#47;perl-5.16.3&#47;lib&#47;site_perl</code> <code>&#47;5.16.3&#47;x86_64-linux-thread-multi &#47;home&#47;demo&#47;perl5&#47;perlbrew&#47;perls&#47;perl-5.16.3&#47;lib&#47;site_perl&#47;5.&zwnj;&#8203;16.3 &#47;home&#47;demo&#47;perl5&#47;perlbrew&#47;perls&#47;perl-5.16.3&#47;lib&#47;5.16.3&#47;x86_6&zwnj;&#8203;4-linux-thread-multi &#47;home&#47;demo&#47;perl5&#47;perlbrew&#47;perls&#47;perl-5.16.3&#47;lib&#47;5.16.3 .) at -e line 1. Compilation failed in require at -e line 1. BEGIN failed--compilation aborted at -e line 1.</code>"}, {"owner": {"reputation": 718, "user_id": 2134441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2bf88c48bb56f7215809d2b44340f008?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/2134441/sumit"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502432725, "post_id": 45616127, "comment_id": 78215811, "body": "@ikegami I have only one perl installed"}, {"owner": {"reputation": 718, "user_id": 2134441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2bf88c48bb56f7215809d2b44340f008?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/2134441/sumit"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502433652, "post_id": 45616127, "comment_id": 78216292, "body": "@H&#229;konH&#230;gland If I do <code>dpkg -L libpadwalker-perl</code> it is saying: <code>&#47;usr&#47;lib&#47;perl5 &#47;usr&#47;lib&#47;perl5&#47;PadWalker.pm &#47;usr&#47;lib&#47;perl5&#47;auto &#47;usr&#47;lib&#47;perl5&#47;auto&#47;PadWalker &#47;usr&#47;lib&#47;perl5&#47;auto&#47;PadWalker&#47;PadWalker.so &#47;usr&#47;lib&#47;perl5&#47;auto&#47;PadWalker&#47;PadWalker.bs</code>  But my perl is in <code>&#47;home&#47;demo&#47;perl5&#47;perlbrew&#47;perls&#47;perl-5.16.3</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502433763, "post_id": 45616127, "comment_id": 78216362, "body": "@Ajit OK then just install <code>PadWalker</code> with perlbrew&#39;s <code>cpanm</code> instead. If you do not have perlbrew&#39;s <code>cpanm</code> installed, you can run <code>perlbrew install-cpanm</code>. See <a href=\"https://perlbrew.pl/Perlbrew-and-Friends.html\" rel=\"nofollow noreferrer\">perlbrew.pl/Perlbrew-and-Friends.html</a>  for more information"}, {"owner": {"reputation": 718, "user_id": 2134441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2bf88c48bb56f7215809d2b44340f008?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/2134441/sumit"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502435005, "post_id": 45616127, "comment_id": 78217056, "body": "@H&#229;konH&#230;gland After your suggestion I have installed using <code>cpanm PadWalker</code> . Now when I do <code>perl -e &quot;use PadWalker&quot;</code> nothing prints. When start to debug in Eclipse the previous error is gone but the local variables is not shoing in Variables tab"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1502464469, "creation_date": 1502464469, "answer_id": 45638514, "question_id": 45616127, "link": "https://stackoverflow.com/questions/45616127/epic-unable-to-detect-padwalker-in-eclipse/45638514#45638514", "title": "EPIC unable to detect PadWalker in Eclipse", "body": "<p>You have two builds of Perl installed:</p>\n\n<ul>\n<li><code>/usr/bin/perl</code> (the \"system\" <code>perl</code>)</li>\n<li><code>/home/demo/perl5/perlbrew/perls/perl-5.16.3/bin/perl</code></li>\n</ul>\n\n<p><code>apt-get install libpadwalker-perl</code> installs the package for the system Perl.</p>\n\n<p>I'm assuming you've configured <code>EPIC</code> to use the other, and this is the one that needs PadWalker. Run</p>\n\n<pre><code>perlbrew use 5.16.3\ncpan PadWalker\n</code></pre>\n\n<p>or</p>\n\n<pre><code>/home/demo/perl5/perlbrew/perls/perl-5.16.3/bin/cpan PadWalker\n</code></pre>\n"}], "owner": {"reputation": 718, "user_id": 2134441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2bf88c48bb56f7215809d2b44340f008?s=128&d=identicon&r=PG", "display_name": "Sumit", "link": "https://stackoverflow.com/users/2134441/sumit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502464469, "creation_date": 1502374174, "question_id": 45616127, "link": "https://stackoverflow.com/questions/45616127/epic-unable-to-detect-padwalker-in-eclipse", "title": "EPIC unable to detect PadWalker in Eclipse", "body": "<p>I am using perl version 5.16.3. I have installed PadWalker using this:\n<code>sudo apt-get install libpadwalker-perl</code></p>\n\n<p>After restarting eclipse when I started debugging I am still getting the error:</p>\n\n<p><code>Error displaying local variables</code>\n<code>Install PadWalker &amp; restart Eclipse or disable displaying of local variables</code></p>\n\n<p>Can anybody help?</p>\n\n<p>Thanks,\nSumit</p>\n"}, {"tags": ["c++", "linux", "perl"], "comments": [{"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502362994, "post_id": 45610409, "comment_id": 78181932, "body": "What happens if you run your C code (can&#39;t see where the C++ code is) with a different value other than 139?"}, {"owner": {"reputation": 2209, "user_id": 883572, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2df953841a456c642ce0d2a66b8cb919?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/883572/danny"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502366869, "post_id": 45610409, "comment_id": 78184841, "body": "Trying with SIGUSR1 (10) ends up with the same behavior."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1502368420, "post_id": 45610409, "comment_id": 78186051, "body": "I doubt the exitcode is meaningful in case of a signal."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1502368734, "post_id": 45610409, "comment_id": 78186312, "body": "@PerlDuck actually it should 128+signal number"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502368796, "post_id": 45610409, "comment_id": 78186355, "body": "@Danny no, I meant what happens if you run the C code with a number like 16 rather than using a different signal."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1502369768, "post_id": 45610409, "comment_id": 78187148, "body": "@ChrisTurner Well, <code>$?</code> contains 139 (for SIG11) and by right-shifting by 8 you end up with rc=0 and sig=11. I don&#39;t see a problem here. Do you expect <code>$?&gt;&gt;8</code> also to be 139?"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1502370449, "post_id": 45610409, "comment_id": 78187688, "body": "@PerlDuck I meant $? should be 139"}, {"owner": {"reputation": 2209, "user_id": 883572, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2df953841a456c642ce0d2a66b8cb919?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/883572/danny"}, "edited": false, "score": 0, "creation_date": 1502370482, "post_id": 45610409, "comment_id": 78187735, "body": "Chris, I can&#39;t find the reference but read that signalled processes should exit not with zero but with the signal number. Could be wrong on that - your comment makes sense. Will keep looking for the reference.  (and it is C++, but trimmed to the smallest reproducible fragment)"}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 1, "creation_date": 1502370582, "post_id": 45610409, "comment_id": 78187836, "body": "If it were C++ you&#39;d be using <code>cout</code> not <code>printf</code> and including &quot;iostream&quot; not &quot;stdio.h&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1502377602, "post_id": 45610409, "comment_id": 78193894, "body": "Re &quot;<i>Perl detects wrong exit code from fork/exec if child signalled</i>&quot;, What do you mean? Are you saying you aren&#39;t getting the values you showed undef &quot;Test Results&quot;?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1502377984, "post_id": 45610409, "comment_id": 78194191, "body": "See also <a href=\"https://stackoverflow.com/q/34963555/2173773\">Return value from system() when using SIGINT default handler</a>"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1502370664, "creation_date": 1502370664, "answer_id": 45614690, "question_id": 45610409, "link": "https://stackoverflow.com/questions/45610409/perl-detects-wrong-exit-code-from-fork-exec-if-child-signalled/45614690#45614690", "title": "Perl detects wrong exit code from fork/exec if child signalled", "body": "<p>This is working as designed. In the shell, there are two ways to get an exit code of 139 from a command.</p>\n\n<ol>\n<li>The command makes the system call <code>exit(139)</code></li>\n<li>The command is terminated with signal 11</li>\n</ol>\n\n<p>But POSIX-y systems can distinguish between these two events, and Perl hooks into these methods to make its <code>$?</code> variable more informative than what the shell will provide.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1502378138, "last_edit_date": 1502378138, "creation_date": 1502377747, "answer_id": 45617450, "question_id": 45610409, "link": "https://stackoverflow.com/questions/45610409/perl-detects-wrong-exit-code-from-fork-exec-if-child-signalled/45617450#45617450", "title": "Perl detects wrong exit code from fork/exec if child signalled", "body": "<blockquote>\n  <p><em>If the program exits due to a signal or segfault the exit code detected by perl is always 0. Why?</em></p>\n</blockquote>\n\n<p>It never reached <code>exit</code>, so <code>WEXITSTATUS</code> is meaningless, so the system sets it to zero.</p>\n\n<p>The values Perl show are the values provided by the system, and they are the values should be expecting. You will get the same results in C as you did in Perl, for example.</p>\n\n<p>When a process is killed by a signal, the system provides that information. <code>sh</code>, on the other, doesn't provide that information. If you're wondering why the <code>sh</code>'s <code>$?</code> is different than Perl's <code>$?</code>, it's because the shell mangles the exit code into 8 bits as follows:</p>\n\n<pre><code> $?&lt;sh&gt; = ( $?&lt;real&gt; &amp; 0x7F ) ? ( $?&lt;real&gt; | 0x80 ) : ( $?&lt;real&gt; &gt;&gt; 8 );\n</code></pre>\n"}], "owner": {"reputation": 2209, "user_id": 883572, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2df953841a456c642ce0d2a66b8cb919?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/883572/danny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1502378138, "creation_date": 1502358991, "question_id": 45610409, "link": "https://stackoverflow.com/questions/45610409/perl-detects-wrong-exit-code-from-fork-exec-if-child-signalled", "title": "Perl detects wrong exit code from fork/exec if child signalled", "body": "<p>I fork/exec a C++ program from perl and want to detect the exit status of the child (in particular when the child exits because of a segfault)</p>\n\n<p>The perl behavior is inconsistent depending on whether the child calls <code>exit()</code>, is signalled externally, or actually encounters a segfault.</p>\n\n<p>From the shell, the exit code from the C++ is always correct. eg. <code>echo $?</code> matches what the program did.</p>\n\n<p>From perl, the exit code detected by perl is correct only if <code>exit()</code> was called. If the program exits due to a signal or segfault the exit code detected by perl is always 0.</p>\n\n<p>Why?</p>\n\n<p>I'd like to consistently get the exit code of the C++ program in the perl script.</p>\n\n<p>perl 5.10.1, Centos 6 32-bit, g++ 4.8.2</p>\n\n<p><strong>Test Results</strong></p>\n\n<ul>\n<li>Actual Segfault (<code>boom</code> enabled): <code>Perl Complete: 27322 exited (exit\n0, sig 11, core 0)</code></li>\n<li>a.out Killed via <code>kill -11 &lt;pid&gt;</code>: <code>Perl Complete: 27248 exited (exit 0,\nsig 11, core 0)</code></li>\n<li>a.out completes, calls <code>exit(139)</code>: <code>Perl Complete: 27237 exited (exit 139, sig 0, core 0)</code></li>\n</ul>\n\n<p>Calling <code>a.out</code> from the shell always shows the correct exit code in all three of the above cases. </p>\n\n<p><strong>C++ A.OUT</strong></p>\n\n<p>(comment out <code>boom</code> depending on the test)</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;time.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;stdlib.h&gt;\n\nint\nmain(int argc, char  **argv)\n{\n    printf(\"Started with PID %d\\n\", getpid());\n\n    int d = 1;\n    if (argc &gt; 1)\n        d = atoi(argv[1]);\n\n    int loops = 10;\n    while(loops-- &gt; 0)\n    {\n        printf(\"Ping\\n\");\n        sleep(1);\n    }\n\n    printf(\"MAKE SEGFAULT\\n\");\n    int boom = *(int*)0x00;\n\n    printf(\"exit with %d\\n\", d);\n    exit(d);\n}\n</code></pre>\n\n<p><strong>PERL</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse POSIX \":sys_wait_h\";\n\nmy $fullprocname = \"./a.out 139\";\nmy $childPID = fork();\n\nif ($childPID == 0)        # child\n{\n    open(STDERR, \"&gt;&amp;SAVEERR\");  # restore stderr\n    $&lt; = $&gt;;                    # set real to effective uid, otherwise\n                                # some env variables not passed in ??\n    exec ($fullprocname) or die \"exec $fullprocname failed: $!\\n\"; \n}\nelse                       # parent\n{\n    print(\"DVMon.pl: Forked $childPID for $fullprocname\\n\");\n}\n\nprint(\"Waiting for child process\\n\");\nmy $child = wait();\n\nmy $exitStatus = $? &gt;&gt; 8;   # similar to WEXITSTATUS\nmy $termSig    = $? &amp; 127;  # similar to WTERMSIG\nmy $coreDump   = $? &amp; 128;  # similar to WCOREDUMP\n\nmy $msg = \"$childPID exited (exit $exitStatus, sig $termSig, core $coreDump)\";\nprint(\"Perl Complete: $msg\\n\");\n</code></pre>\n"}, {"tags": ["perl", "grep"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1502350996, "post_id": 45607311, "comment_id": 78173521, "body": "<code>filter out lines that ends with a filename</code> - what do you mean? Extension? Any extension?"}, {"owner": {"reputation": 867, "user_id": 1694076, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/f334fdd3c7883b8ec7371d5bfdc7cccc?s=128&d=identicon&r=PG", "display_name": "chris yo", "link": "https://stackoverflow.com/users/1694076/chris-yo"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1502351804, "post_id": 45607311, "comment_id": 78174033, "body": "I have updated the description. I am referring to any extension names."}, {"owner": {"reputation": 3543, "user_id": 6329118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a20c0ed8a82fd967952e2539203af9?s=128&d=identicon&r=PG&f=1", "display_name": "CWLiu", "link": "https://stackoverflow.com/users/6329118/cwliu"}, "edited": false, "score": 0, "creation_date": 1502351822, "post_id": 45607311, "comment_id": 78174043, "body": "Modify your <code>-e</code> to <code>-P</code> or <code>-E</code> in alternative."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1502355626, "post_id": 45607311, "comment_id": 78176651, "body": "Try <code>grep -Er --include=*.txt -e &#39;[a-zA-Z0-9]+[.][a-zA-Z]+$&#39; $dir -n &gt;&gt; test.txt;</code>"}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 1, "creation_date": 1502359995, "post_id": 45607311, "comment_id": 78179865, "body": "Use <code>File::Find</code> or <code>File::Find::Rule</code> instead of running <code>grep</code>."}], "answers": [{"comments": [{"owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "edited": false, "score": 0, "creation_date": 1502593584, "post_id": 45612025, "comment_id": 78271511, "body": "@chris-yo, If this helped, please mark it as accepted by pressing the checkmark next to the answer. Thanks!"}], "tags": [], "owner": {"reputation": 890, "user_id": 1336858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c71614ddf0252a06612c9bde5c3c5d?s=128&d=identicon&r=PG", "display_name": "Akzhan Abdulin", "link": "https://stackoverflow.com/users/1336858/akzhan-abdulin"}, "is_accepted": false, "score": 0, "last_activity_date": 1502375658, "last_edit_date": 1502375658, "creation_date": 1502363285, "answer_id": 45612025, "question_id": 45607311, "link": "https://stackoverflow.com/questions/45607311/matching-regex-using-grep-in-perl/45612025#45612025", "title": "matching regex using grep in perl", "body": "<pre><code>#!/usr/bin/env perl\n\nuse File::Find qw( find );\n\n# use File::Slurper qw( read_lines );\n\nsub read_lines {\n    my $file_name = shift;\n    open my $fh, \"&lt;\", $file_name or die \"Couldn't open $file_name: $!\";\n    my @buf = &lt;$fh&gt;;\n    close $fh;\n    chomp @buf;\n    return @buf;\n}\n\nfind(\n    {\n        no_chdir =&gt; 1,\n        wanted   =&gt; sub {\n            my $file_path = $File::Find::name;\n            next unless -f $file_path;\n            my $file_name = $file_path;\n            $file_name =~ s/^.*\\///;    # drop everything until last '/'\n\n            for ( read_lines($file_path) ) {\n                print \"$_\\n\" if m/\\Q$file_name\\E\\s*$/;\n            }\n        },\n    },\n    '.'\n);\n</code></pre>\n\n<p>If you need to refer to other files, simply accumulate file names before lookup like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse File::Find qw( find );\n\n# use File::Slurper qw( read_lines );\n\nsub read_lines {\n    my $file_name = shift;\n    open my $fh, \"&lt;\", $file_name or die \"Couldn't open $file_name: $!\";\n    my @buf = &lt;$fh&gt;;\n    close $fh;\n    chomp @buf;\n    return @buf;\n}\n\nmy @file_paths = ();\n\nfind(\n    {\n        no_chdir =&gt; 1,\n        wanted   =&gt; sub {\n            my $file_path = $File::Find::name;\n            next unless -f $file_path;\n            push @file_paths, $file_path;\n        },\n    },\n    '.'\n);\n\nmy @file_names = map {\n    my $file_name = $_;\n    $file_name =~ s/^.*\\///;    # drop everything until last '/'\n    $file_name;\n} @file_paths;\n\nmy $regexp = '(?:' . join( '|', map { \"\\Q$_\\E\" } @file_names ) . ')$';\n$regexp = qr/$regexp/;\n\nfor my $file_path (@file_paths) {\n    for ( read_lines($file_path) ) {\n        print \"$_\\n\" if /$regexp/;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 5013952, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qs0M5O30Nb8/AAAAAAAAAAI/AAAAAAAAAYo/N-JL8gz-FOQ/photo.jpg?sz=128", "display_name": "sandeep singh", "link": "https://stackoverflow.com/users/5013952/sandeep-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1502473009, "creation_date": 1502473009, "answer_id": 45640883, "question_id": 45607311, "link": "https://stackoverflow.com/questions/45607311/matching-regex-using-grep-in-perl/45640883#45640883", "title": "matching regex using grep in perl", "body": "<p>grep -Er --include=*.txt -e '[a-zA-Z0-9]+.[a-zA-Z]+$' $dir -n >> test.txt;</p>\n"}], "owner": {"reputation": 867, "user_id": 1694076, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/f334fdd3c7883b8ec7371d5bfdc7cccc?s=128&d=identicon&r=PG", "display_name": "chris yo", "link": "https://stackoverflow.com/users/1694076/chris-yo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 657, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502473009, "creation_date": 1502350534, "last_edit_date": 1502351501, "question_id": 45607311, "link": "https://stackoverflow.com/questions/45607311/matching-regex-using-grep-in-perl", "title": "matching regex using grep in perl", "body": "<p>I am using grep inside my perl script with backticks.</p>\n\n<pre><code>grep -r --include=*.txt -e '[a-zA-Z0-9]*\\.[a-zA-Z]*$' $dir -n &gt;&gt; test.txt;\n</code></pre>\n\n<p>I am trying to filter out lines that ends with a filename.</p>\n\n<p>Example:\nfile1.txt contains:</p>\n\n<pre><code>This is a file about file.txt\nThis file is about algorithms. \nFile.txtbis contains several functions.\nThere are also several files. \nOne of the files is sample.c\nAnother example is test.doc\n</code></pre>\n\n<p>I expect my grep to return the following lines:</p>\n\n<pre><code>This is a file about file.txt\nOne of the files is sample.c\nAnother example is test.doc\n</code></pre>\n\n<p>But my grep command does not return anything. </p>\n\n<p>If I removed the \"$\" sign, the grep command, returns ALL the line of the file even though it did not match the regex.</p>\n\n<p>Also, I would prefer to filter out 1 or more characters, instead of 0 or more, but grep only have *. Can I use \"+\" in grep for 1 or more character?</p>\n\n<p>Is there a limitation in using grep in backticks?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1502341627, "post_id": 45604842, "comment_id": 78168743, "body": "When do you think you&#39;ll print <code>Found $contents</code>?  What you&#39;ve written can run, but it requires caution; you probably won&#39;t ever see anything except NOTHING.  In particular, you&#39;re creating a new regex for each line \u2014 which probably isn&#39;t what you intend."}, {"owner": {"reputation": 7, "user_id": 8443244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c03c0574e8246c752956c718c7f4c0cb?s=128&d=identicon&r=PG&f=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/8443244/joey"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1502342183, "post_id": 45604842, "comment_id": 78168919, "body": "@JonathanLeffler Yeah creating new regex is my main purpose to get it from the text file. But it didnt match anything even it should."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1502342327, "post_id": 45604842, "comment_id": 78168982, "body": "Why would it ever match <code>donkey</code>?  The regex contains a newline which isn&#39;t in the <code>$items</code> string, so the regex will never match.  Even if you chomped the input line, you&#39;d seldom have <code>$contents</code> matching <code>donkey</code>.  You could type <code>donkey</code>, or <code>d..key</code> or such like, but mostly, running text won&#39;t match <code>$items</code>.  If you[re writing a primitive <code>grep</code> that hunts for <code>donkey</code>, then you have the regex expression back to front: you need <code>if ($contents =~ m&#47;$items&#47;)</code> as the condition. The explanation of what you&#39;re trying to do should be in the question, along with simple sample input (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>!)."}, {"owner": {"reputation": 7, "user_id": 8443244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c03c0574e8246c752956c718c7f4c0cb?s=128&d=identicon&r=PG&f=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/8443244/joey"}, "edited": false, "score": 0, "creation_date": 1502343585, "post_id": 45604842, "comment_id": 78169463, "body": "thanks everyone &lt;3"}], "answers": [{"comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 2, "creation_date": 1502343360, "post_id": 45605131, "comment_id": 78169369, "body": "<code>chomp $contents;</code>"}], "tags": [], "owner": {"reputation": 7068, "user_id": 6884590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b0b52ad2211a26c4e1cefb472e09cbe?s=128&d=identicon&r=PG", "display_name": "pchaigno", "link": "https://stackoverflow.com/users/6884590/pchaigno"}, "is_accepted": true, "score": 1, "last_activity_date": 1502342951, "creation_date": 1502342951, "answer_id": 45605131, "question_id": 45604842, "link": "https://stackoverflow.com/questions/45604842/is-it-possible-to-match-regex-using-variable/45605131#45605131", "title": "Is it possible to match regex using variable?", "body": "<p>Yes, but you'll need to remove the trailing newspace on each line (<code>$contents =~ s/\\n$//;</code>):</p>\n\n<pre><code>#!/usr/bin/env perl\nmy $filename = 'text.log';\nmy $items = \"donkey\";\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename) or die \"Cant open\";\nwhile (my $contents = &lt;$fh&gt;) {\n    print \"$contents\";\n    $contents =~ s/\\n$//;\n    if ($items =~ m/$contents/) {\n        print \"Found $contents\\n\";\n    } else {\n        print \"NOTHING\\n\";\n    }\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>$ cat text.log \ntest\nok\ndonk\n$ ./test.pl \ntest\nNOTHING\nok\nNOTHING\ndonk\nFound donk\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 8443244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c03c0574e8246c752956c718c7f4c0cb?s=128&d=identicon&r=PG&f=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/8443244/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 45605131, "answer_count": 1, "score": 0, "last_activity_date": 1502342951, "creation_date": 1502341316, "last_edit_date": 1502341517, "question_id": 45604842, "link": "https://stackoverflow.com/questions/45604842/is-it-possible-to-match-regex-using-variable", "title": "Is it possible to match regex using variable?", "body": "<p>Here is my code</p>\n\n<pre><code>my $filename = 'text.log';\n\nmy $items = \"donkey\";\n\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename) or die \"Cant open\";\n\nwhile (my $contents = &lt;$fh&gt;)\n{\n        print \"$contents\";\n\n        if ( $items =~m/$contents/)             \n             { print \"Found $contents\";}            \n        else { print \"NOTHING\\n\";}\n}\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1502343038, "post_id": 45604750, "comment_id": 78169240, "body": "<a href=\"https://stackoverflow.com/questions/6575224/how-can-i-write-a-perl-script-to-extract-the-source-code-of-each-subroutine-in-a\" title=\"how can i write a perl script to extract the source code of each subroutine in a\">stackoverflow.com/questions/6575224/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1502375645, "post_id": 45605330, "comment_id": 78192275, "body": "That won&#39;t match across newlines, the opening brace may not be right next to the sub name (or even on the same line) etc."}, {"owner": {"reputation": 39, "user_id": 8433606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc85aae3cd695c30f82fa1e0327eedc?s=128&d=identicon&r=PG&f=1", "display_name": "Sanchu", "link": "https://stackoverflow.com/users/8433606/sanchu"}, "edited": false, "score": 0, "creation_date": 1502693406, "post_id": 45605330, "comment_id": 78294976, "body": "<code>if (&#47;subroutinename\\{(.*)$pattern(.*)\\}&#47;)  {  #some code  }</code> will this works?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1502706430, "post_id": 45605330, "comment_id": 78302137, "body": "What is <code>subroutinename</code> occurs in a comment?"}], "tags": [], "owner": {"reputation": 71, "user_id": 2981934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a0017d92bd3c24af1ffa11b57a58f0e?s=128&d=identicon&r=PG&f=1", "display_name": "SoDa", "link": "https://stackoverflow.com/users/2981934/soda"}, "is_accepted": false, "score": -1, "last_activity_date": 1502343791, "creation_date": 1502343791, "answer_id": 45605330, "question_id": 45604750, "link": "https://stackoverflow.com/questions/45604750/find-search-for-pattern-only-in-particular-subroutine/45605330#45605330", "title": "Find search for pattern only in particular subroutine", "body": "<p>You can include the subroutine name and make the regex more specific to the subroutine in which you want to search. Something like:</p>\n\n<pre><code>/subroutinename\\{(.*)$pattern(.*)\\}/\n</code></pre>\n\n<p>This will search for $pattern in the scope of the subroutine.</p>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 4, "last_activity_date": 1502377343, "last_edit_date": 1502377343, "creation_date": 1502374789, "answer_id": 45616343, "question_id": 45604750, "link": "https://stackoverflow.com/questions/45604750/find-search-for-pattern-only-in-particular-subroutine/45616343#45616343", "title": "Find search for pattern only in particular subroutine", "body": "<p><a href=\"https://metacpan.org/pod/Devel::Examine::Subs\" rel=\"nofollow noreferrer\">Devel::Examine::Subs</a> was designed to do things exactly like this (it uses <a href=\"https://metacpan.org/pod/PPI\" rel=\"nofollow noreferrer\">PPI</a> as its backend). In this case, we're specifying only a single file to look in (it can also iterate over directories or in-memory modules).</p>\n\n<p>We then create a regex with our pattern (<code>data</code> is our search term here), and finally, <code>include</code> only a single sub which will exclude all others in the file. We're looking in the <code>name()</code> sub):</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Devel::Examine::Subs;\n\nmy $des = Devel::Examine::Subs-&gt;new(file =&gt; 'Sub.pm');\n\nmy $search_regex = qr/data/;\nmy $subs_to_look_in = [qw(name)];\n\nmy $subs_that_match = $des-&gt;has(\n    search =&gt; $search_regex,\n    include =&gt; $subs_to_look_in\n);\n\nprint \"$_\\n\" for @$subs_that_match;\n</code></pre>\n\n<p>Here's the sub I'm looking in within the <code>Sub.pm</code> file:</p>\n\n<pre><code>sub name {\n\n    trace() if $ENV{TRACE};\n\n    my $self = shift;\n    return $self-&gt;{data}{name};\n}\n</code></pre>\n\n<p>The return is an array reference, so if it's populated with anything (the name of each sub the search term is found in, in this case we're only looking in one) then there was a match:</p>\n\n<p>Output:</p>\n\n<pre><code>name\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8433606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc85aae3cd695c30f82fa1e0327eedc?s=128&d=identicon&r=PG&f=1", "display_name": "Sanchu", "link": "https://stackoverflow.com/users/8433606/sanchu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502696210, "creation_date": 1502340853, "last_edit_date": 1502696210, "question_id": 45604750, "link": "https://stackoverflow.com/questions/45604750/find-search-for-pattern-only-in-particular-subroutine", "title": "Find search for pattern only in particular subroutine", "body": "<p>I want to search for a pattern in .pm  file in particular subroutine alone.\nFor example, I am searching for $pattern. This $pattern is found in number of subroutine in the pm file, but i want check only in one specific subroutine whether the $pattern is present or not and if the pattern is present i want perform some operation</p>\n\n<pre><code> if (/subroutine\\{(.*)pattern(.*)\\}/){\n  #some code;\n }\nelse {\n  #some code\n }\n</code></pre>\n\n<p>Will this works?\nCan you please help me this?</p>\n"}]