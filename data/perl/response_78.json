[{"tags": ["perl"], "comments": [{"owner": {"reputation": 7042, "user_id": 1671032, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FfJD4.jpg?s=128&g=1", "display_name": "PSIAlt", "link": "https://stackoverflow.com/users/1671032/psialt"}, "edited": false, "score": 0, "creation_date": 1467830696, "post_id": 38231382, "comment_id": 63884604, "body": "Works for me too 5.18"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467830920, "post_id": 38231382, "comment_id": 63884728, "body": "Works for me with 5.14  Why don&#39;t you show an example of the string you are trying to match."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1467831534, "post_id": 38231382, "comment_id": 63885134, "body": "Printing can show &quot;<i>additional stuff</i>&quot;, it&#39;s for display.  What do you mean by &quot;<i>doesn&#39;t match my data</i>&quot;?  The regex you show is hard to test, it just matches any and every thing (including nothing)."}, {"owner": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "edited": false, "score": 0, "creation_date": 1467831706, "post_id": 38231382, "comment_id": 63885229, "body": "The question was misleading, sorry guys. The problem is the constant"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467831715, "post_id": 38231382, "comment_id": 63885233, "body": "You just changed your regex, adding escapes to <code>^</code> and <code>$</code>, which originally weren&#39;t there.  Is that what you intended to do?"}, {"owner": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "edited": false, "score": 0, "creation_date": 1467831901, "post_id": 38231382, "comment_id": 63885353, "body": "I just tested without escapes and it works. I was mislead by myself o_O"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467831935, "post_id": 38231382, "comment_id": 63885369, "body": "@TichomirMitkov  (1) Remove those escapes, you don&#39;t need them.  The regex should work fine, const or not. (2) Come up with a more testable example. (3) Show what fails.  //  For me, it just works, as it should."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1467833978, "post_id": 38231382, "comment_id": 63886422, "body": "That code does not produce that output!"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1467834054, "post_id": 38231382, "comment_id": 63886466, "body": "We need to see some code that actually fails.  You&#39;ve described failing code, but we haven&#39;t see any.  Please edit your question to include a complete program that will let us see the problem in action."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1467834151, "post_id": 38231382, "comment_id": 63886525, "body": "@AndyLester  I think the problem was misreported and got clarified for the OP, per their comment above -- &quot;<i>I just tested without escapes and it works.</i>&quot;  This question should probably go away."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1467832301, "post_id": 38231489, "comment_id": 63885566, "body": "no it won&#39;t, when it&#39;s at the end of the regex. It&#39;s seen as the end-of-string anchor."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1467833922, "post_id": 38231489, "comment_id": 63886400, "body": "Quite the opposite!!! He needs to remove the <code>\\ </code> before <code>^</code> and <code>$</code>."}], "tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": false, "score": -2, "last_activity_date": 1467830565, "creation_date": 1467830565, "answer_id": 38231489, "question_id": 38231382, "link": "https://stackoverflow.com/questions/38231382/storing-regex-with-and-inside-constant/38231489#38231489", "title": "Storing regex with &#39;^&#39; and &#39;$&#39; inside constant", "body": "<p>Add escape character(\\) before $ symbol otherwise it will consider as a part of variable</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1467833620, "creation_date": 1467833620, "answer_id": 38232322, "question_id": 38231382, "link": "https://stackoverflow.com/questions/38231382/storing-regex-with-and-inside-constant/38232322#38232322", "title": "Storing regex with &#39;^&#39; and &#39;$&#39; inside constant", "body": "<p>If you expect <code>^</code> and <code>$</code> to match start and end of line,</p>\n\n<ul>\n<li>don't escape them (or else they will match <code>^</code> and <code>$</code>), and</li>\n<li>use <code>/m</code> (or else they will match the start and end of the string).</li>\n</ul>\n\n<p>&#x20; </p>\n\n<pre><code>use constant REGEX_LINE =&gt; qr/^(\\s*)(.*)$/m;\n</code></pre>\n"}], "owner": {"reputation": 736, "user_id": 322052, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/60e10b499cc6f2e9c919aa5a958299ce?s=128&d=identicon&r=PG", "display_name": "Tihomir Mitkov", "link": "https://stackoverflow.com/users/322052/tihomir-mitkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "closed_date": 1467906750, "answer_count": 2, "score": -2, "last_activity_date": 1467833693, "creation_date": 1467830204, "last_edit_date": 1467833693, "question_id": 38231382, "link": "https://stackoverflow.com/questions/38231382/storing-regex-with-and-inside-constant", "closed_reason": "Needs details or clarity", "title": "Storing regex with &#39;^&#39; and &#39;$&#39; inside constant", "body": "<p><strong>I revised my code and realized I stored the regex inside constant and then used the latter's value for the variable</strong></p>\n\n<p>I'm trying to store a regular expression inside <s>variable</s> constant using the qr// operator. Everything is fine except for '^' and '$'. I need them to match beginning-of-line and end-of-line respectively.</p>\n\n<pre><code>use constant REGEX_LINE    =&gt; qr/\\^(\\s*)(.*)\\$/;\nmy $rx = REGEX_LINE;\n</code></pre>\n\n<p>Printing $rx reveals that it contains some addiotional stuff:</p>\n\n<pre><code>(?^:^(\\s*)(.*)$)\n</code></pre>\n\n<p>Of course now the regex doesn't match my data</p>\n"}, {"tags": ["c", "perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467831352, "post_id": 38230854, "comment_id": 63885015, "body": "<a href=\"http://perldoc.perl.org/POSIX.html#MATH\" rel=\"nofollow noreferrer\">perldoc.perl.org/POSIX.html#MATH</a> search for lgamma."}], "answers": [{"comments": [{"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1467915826, "post_id": 38231047, "comment_id": 63926425, "body": "for some reason, my laptop doesn&#39;t like Inline::C, it says that it successfully installed but it won&#39;t load.  Perhaps there is a module-free way of doing this?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 1, "creation_date": 1467918044, "post_id": 38231047, "comment_id": 63927764, "body": "you&#39;d have to write pure XS code... what error are you getting?"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1467829484, "last_edit_date": 1467829484, "creation_date": 1467829178, "answer_id": 38231047, "question_id": 38230854, "link": "https://stackoverflow.com/questions/38230854/import-c-function-into-perl-program/38231047#38231047", "title": "Import C function into Perl program", "body": "<p>Here's an example using <a href=\"https://metacpan.org/pod/distribution/Inline-C/lib/Inline/C.pod\" rel=\"nofollow\">Inline::C</a>, while calling a function from <code>math.h</code>:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Inline 'C';\n\nmy $num = c_function(5, 5);\n\nprint \"$num\\n\";\n\n__END__\n__C__\n\n#include &lt;math.h&gt;\n#include &lt;stdio.h&gt;\n\ndouble c_function(int x, int y){\n    return pow(x, y);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>3125\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1467915470, "post_id": 38231754, "comment_id": 63926194, "body": "I&#39;ve successfully installed Inline (at least according to &quot;make test&quot;) and its 4 dependencies:  but I cannot run the script at all (part of the errors:)  &quot;/usr/bin/perl&quot; -MExtUtils::Command::MM -e &#39;cp_nonempty&#39; -- c_in_perl_pl_8ee2.bs blib/arch/auto/c_in_perl_pl_8ee2/c_in_perl_pl_8ee2.bs 644 &quot;/usr/bin/perl&quot; &quot;/usr/local/share/perl/5.22.1/ExtUtils/xsubpp&quot;  -typemap &quot;/usr/share/perl/5.22/ExtUtils/typemap&quot;   c_in_perl_pl_8ee2.xs &gt; c_in_perl_pl_8ee2.xsc"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1467919209, "post_id": 38231754, "comment_id": 63928385, "body": "You&#39;re not showing your Perl/C code so I can&#39;t speculate what the problem is. From your suggested edit it says <code>FILE</code> is not defined. Maybe you didn&#39;t <code>#include &lt;stdio.h&gt;</code>?"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 5, "last_activity_date": 1467832290, "last_edit_date": 1467832290, "creation_date": 1467831425, "answer_id": 38231754, "question_id": 38230854, "link": "https://stackoverflow.com/questions/38230854/import-c-function-into-perl-program/38231754#38231754", "title": "Import C function into Perl program", "body": "<p>The tricky part of this question is passing arrays of doubles from Perl to C.</p>\n\n<p>One approach is to use two steps. Converting a Perl array (<code>AV*</code> in C) to a double array, and then calling your function. The perl functions and macros used here are documented in <a href=\"http://metacpan.org/pod/perlguts\"><code>perlguts</code></a></p>\n\n<pre><code>use Inline 'C';\n@a = (1,2,3,4,5);\n@b = (19,42);\n$x = c_function(\\@a,\\@b);\nprint \"Result: $x\\n\";\n__END__\n__C__\n#include &lt;stdio.h&gt;\n#include &lt;math.h&gt;\ndouble *AV_to_doubleptr(AV *av, int *len)\n{\n    *len = av_len(av) + 1;\n    double *array = malloc(sizeof(double) * *len);\n    int i;\n    for (i=0; i&lt;*len; i++)\n        array[i] = SvNV( *av_fetch(av, i, 0) );\n    return array;  /* returns length in len as side-effect */\n}\n\ndouble the_real_function(const double *x1, int n1, const double *x2, int n2)\n{\n    ...\n}\n\ndouble c_function(AV *av1, AV *av2)\n{\n    int n1, n2;\n    double *x1 = AV_to_doubleptr(av1, &amp;n1);\n    double *x2 = AV_to_doubleptr(av2, &amp;n2);\n    double result = the_real_function(x1,n1, x2,n2);\n    free(x2);\n    free(x1);\n    return result;\n}\n</code></pre>\n"}], "owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1467832290, "creation_date": 1467828441, "question_id": 38230854, "link": "https://stackoverflow.com/questions/38230854/import-c-function-into-perl-program", "title": "Import C function into Perl program", "body": "<p>I'd like to import a C function I wrote</p>\n\n<pre><code>#include &lt;math.h&gt;\n#include &lt;stdio.h&gt;\n\ndouble function (const double *restrict ARRAY1, const size_t ARRAY1_SIZE, const double *restrict ARRAY2, const size_t ARRAY2_SIZE) {//calculate a p-value based on an array\n....\n}\nint main(){\n....\n}\n</code></pre>\n\n<p>into a perl script, I've seen Inline::C and XS but I don't see how to use them, I can't work through the examples, and I also need the lgamma function.\nThe function takes 2 arrays as input.</p>\n\n<p>Would anyone be able to provide an example of how I could import this into a perl script while importing C's math.h as well?</p>\n"}, {"tags": ["perl", "glob"], "comments": [{"owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1467827745, "post_id": 38230451, "comment_id": 63882931, "body": "Why would you pass a single constant value (with no wildcards) to <code>glob</code> like that?"}, {"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 2, "creation_date": 1467827956, "post_id": 38230451, "comment_id": 63883052, "body": "@toolic to keep my question simple. The actual usecase is slightly more complicated. In my script, I am passing an array like <code>(&quot;*foo&quot;, &quot;*bar&quot;, &quot;string&quot;)</code>, so various globs and one exact file name. I can think of various workarounds, but am curious as to why <code>glob()</code> behaves like this only on the simple string."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467838102, "post_id": 38230451, "comment_id": 63888621, "body": "This is nit-picky, but both <code>&quot;*bar&quot;</code> and <code>&quot;bar&quot;</code> are strings. You meant to say &quot;Why does Perl&#39;s glob() function always return a file name when given a string with no wildcards instead of a string with wildcards?&quot;"}, {"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467838497, "post_id": 38230451, "comment_id": 63888803, "body": "@ThisSuitIsBlackNot fair enough, a glob is as a glob does, after all. Whether something is a string or a glob depends on the context in which it is used. Since it was, apparently, used as a simple string and not a glob here, I called it so. But you&#39;re right, I could have been more precise."}, {"owner": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 0, "creation_date": 1467851733, "post_id": 38230451, "comment_id": 63893404, "body": "&quot;bar&quot; is already fully expanded and valid as a filename. Only when adding wildcards does the system need to look at the file system to find matches."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 0, "creation_date": 1467857359, "post_id": 38230451, "comment_id": 63894595, "body": "@dsm &quot;Only when adding wildcards does the system need to look at the file system to find matches.&quot; Not true. Perl checks the file system whether there are wildcards or not."}], "answers": [{"comments": [{"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1467828455, "post_id": 38230692, "comment_id": 63883320, "body": "Fair enough, thanks. I now found the relevant POSIX section which I should have checked in the first place. I guess I expected Perl to be checking for file existence in the background."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1467836228, "post_id": 38230692, "comment_id": 63887639, "body": "I confirm bash does that too. If you want to avoid this kind of behaviours, you need to use the <code>GLOB_BRACE</code> option with <code>File::Glob::bsd_glob</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1467837650, "post_id": 38230692, "comment_id": 63888405, "body": "@terdon POSIX sh filename expansion is different from what perl does (it has no {} support and returns the pattern if no filenames match even with <code>?</code>, <code>*</code>, or <code>[]</code>); as mentioned in the perl documentation you quote, perl is trying for compatibility with csh (for which I can&#39;t find a good link)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1467837691, "post_id": 38230692, "comment_id": 63888426, "body": "@CasimiretHippolyte Actually, if there are no matches, bash returns the pattern even if it contains wildcards, which is different from csh: <code>echo f*; touch foo; echo f*</code>. You can change this by setting <code>failglob</code>. With File::Glob, you control this behavior with <code>GLOB_NOCHECK</code> or <code>GLOB_NOMAGIC</code>."}, {"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1467838554, "post_id": 38230692, "comment_id": 63888836, "body": "@ysth ah, true enough. I keep trying to forget about csh. Sorry about the unaccept, by the way, but the other answer gave some useful detail (and I doubt you really need the rep ;)."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 11, "last_activity_date": 1467837764, "last_edit_date": 1467837764, "creation_date": 1467827928, "answer_id": 38230692, "question_id": 38230451, "link": "https://stackoverflow.com/questions/38230451/why-does-perls-glob-function-always-return-a-file-name-when-given-a-string-wi/38230692#38230692", "title": "Why does Perl&#39;s glob() function always return a file name when given a string with no globbing characters?", "body": "<p>When you use <code>?</code> or <code>*</code> or <code>[]</code>, only existing files or directories will be returned.  When your pattern just has literal text or <code>{}</code>, all possible results will be returned.  This exactly matches what csh does.</p>\n\n<p>Often, people will do <code>@results = grep -e, glob PATTERN</code> because of this.</p>\n\n<p>Or you can use <a href=\"https://metacpan.org/pod/File::Glob#bsd_glob1\" rel=\"nofollow\">File::Glob::bsd_glob</a> if you want more control over this. (Note that there is no additional overhead to doing this; since perl 5.6 when you use glob() perl quietly loads File::Glob and uses it.)</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1467839990, "post_id": 38233048, "comment_id": 63889565, "body": "this answer does not take into account patterns like &#39;{foo,bar}&#39;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1467842197, "post_id": 38233048, "comment_id": 63890524, "body": "@ysth The OP didn&#39;t ask about <code>{}</code>, they asked about a pattern with no wildcards. But I see how my answer could have been unclear; edited to make it clear that I&#39;m only talking about patterns with no wildcards."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 8, "last_activity_date": 1467842045, "last_edit_date": 1592644375, "creation_date": 1467836403, "answer_id": 38233048, "question_id": 38230451, "link": "https://stackoverflow.com/questions/38230451/why-does-perls-glob-function-always-return-a-file-name-when-given-a-string-wi/38233048#38233048", "title": "Why does Perl&#39;s glob() function always return a file name when given a string with no globbing characters?", "body": "<blockquote>\n<p>I guess I expected Perl to be checking for file existence in the background.</p>\n</blockquote>\n<p>Perl <em>is</em> checking for file existence:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ strace perl -e'glob &quot;foo&quot;' 2&gt;&amp;1 | grep foo\nexecve(&quot;/home/mcarey/perl5/perlbrew/perls/5.24.0-debug/bin/perl&quot;, [&quot;perl&quot;, &quot;-eglob \\&quot;foo\\&quot;&quot;], [/* 39 vars */]) = 0\nlstat(&quot;foo&quot;, {st_mode=S_IFREG|0664, st_size=0, ...}) = 0\n</code></pre>\n<hr />\n<blockquote>\n<p>So why is it returning itself when there are no globbing characters in the argument passed to glob?</p>\n</blockquote>\n<p>Because that's what csh does. Perl's implementation of <code>glob</code> is based on <a href=\"https://www.freebsd.org/cgi/man.cgi?query=glob&amp;sektion=3\" rel=\"nofollow noreferrer\">glob(3)</a> with the <code>GLOB_NOMAGIC</code> flag enabled:</p>\n<blockquote>\n<p><strong>GLOB_NOMAGIC</strong></p>\n<p>Is the same as GLOB_NOCHECK but it only appends the pattern if it does not contain any of the  special characters <code>*</code>, <code>?</code> or <code>[</code>. GLOB_NOMAGIC is provided to simplify implementing the historic csh(1) globbing behavior and should probably not be used anywhere else.</p>\n<p><strong>GLOB_NOCHECK</strong></p>\n<p>If pattern does not match any pathname, then glob() returns a list consisting  of only pattern...</p>\n</blockquote>\n<p>So, for a pattern like <code>foo</code> with no wildcards:</p>\n<ul>\n<li>if a matching file exists, the filename expansion (<code>foo</code>) is returned</li>\n<li>if no matching file exists, the pattern (<code>foo</code>) is returned</li>\n</ul>\n<p>Since the filename expansion is the same as the pattern,</p>\n<pre><code>glob 'foo'\n</code></pre>\n<p>in list context will always return a list with the single element <code>foo</code>, whether the file <code>foo</code> exists or not.</p>\n"}], "owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1248, "favorite_count": 0, "accepted_answer_id": 38233048, "answer_count": 2, "score": 10, "last_activity_date": 1467842045, "creation_date": 1467827129, "last_edit_date": 1467838512, "question_id": 38230451, "link": "https://stackoverflow.com/questions/38230451/why-does-perls-glob-function-always-return-a-file-name-when-given-a-string-wi", "title": "Why does Perl&#39;s glob() function always return a file name when given a string with no globbing characters?", "body": "<p>I gave a list of globs and one string to Perl's <code>glob</code> function. The globs were treated as expected but the string is always found. For example:</p>\n\n<pre><code>$ ls\nfoo\n$ perl -le '@files=glob(\"*bar\"); print @files' ## prints nothing, as expected\n$ perl -le '@files=glob(\"bar\"); print @files'\nbar\n</code></pre>\n\n<p>As you can see above, the second example prints <code>bar</code> even though no such file exists.</p>\n\n<p>My first thought is that it behaves like the shell in that when no expansion is available, a glob (or something being treated as a glob) expands to itself. For example, in <code>csh</code> (awful as it is, this is what Perl's <code>glob()</code> function seems to be following, see the quote below):  </p>\n\n<pre><code>% foreach n (*bar*)\nforeach: No match.\n\n% foreach n (bar)\nforeach? echo $n\nforeach? end\nbar                     ## prints the string\n</code></pre>\n\n<p>However, according to <a href=\"http://perldoc.perl.org/functions/glob.html\">the docs</a>, <code>glob</code> should return filename expansions (emphasis mine):</p>\n\n<blockquote>\n  <p>In list context, returns a (possibly empty) list of <strong>filename expansions</strong> on the value of EXPR such as the standard Unix shell /bin/csh would do. </p>\n</blockquote>\n\n<p>So why is it returning itself when there are no globbing characters in the argument passed to <code>glob</code>? Is this a bug or am I doing something wrong?</p>\n"}, {"tags": ["windows", "perl", "file"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467826947, "post_id": 38230119, "comment_id": 63882462, "body": "Related: <a href=\"http://stackoverflow.com/questions/1871290/how-do-i-present-an-open-folder-selection-dialog-in-perl\">How do I present an open folder selection dialog in Perl?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1467827240, "creation_date": 1467827240, "answer_id": 38230481, "question_id": 38230119, "link": "https://stackoverflow.com/questions/38230119/perl-open-windows-explorer-and-select-input-file-for-code-to-work-on/38230481#38230481", "title": "perl - open windows explorer and select input file for code to work on", "body": "<p>Here's a very simple way using <a href=\"https://metacpan.org/pod/distribution/Tk/Tk.pod\" rel=\"nofollow\">Tk</a>.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Tk;\n\nmy $file = Tk::MainWindow-&gt;new-&gt;getOpenFile;\n\nprint \"selected file: $file\\n\\n\";\n\nopen my $fh, '&lt;', $file or die $!;\n\nwhile (&lt;$fh&gt;){\n    print;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1467828065, "creation_date": 1467828065, "answer_id": 38230738, "question_id": 38230119, "link": "https://stackoverflow.com/questions/38230119/perl-open-windows-explorer-and-select-input-file-for-code-to-work-on/38230738#38230738", "title": "perl - open windows explorer and select input file for code to work on", "body": "<p>Here's a very bare-bones script using <a href=\"https://metacpan.org/pod/Win32::GUI\" rel=\"nofollow\">Win32::GUI</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Win32::GUI ();\n\nmy $file = Win32::GUI::GetOpenFileName(\n    -filemustexist =&gt; 1,\n);\n\nif (defined $file) {\n    print \"Selected file: $file\\n\";\n} else {\n    print \"Canceled\\n\";\n}\n</code></pre>\n\n<p>If you don't have Win32::GUI yet (<code>Can't locate Win32/GUI.pm in @INC ...</code>), you can install it using <code>cpan Win32::GUI</code>, at least with <a href=\"http://strawberryperl.com/\" rel=\"nofollow\">Strawberry Perl</a>. If you're using <a href=\"http://www.activestate.com/activeperl\" rel=\"nofollow\">ActivePerl</a>, I think you can get it with <code>ppm install Win32-GUI</code>.</p>\n"}], "owner": {"reputation": 9, "user_id": 4743205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7a67853d79d609f629952f60b09aa2?s=128&d=identicon&r=PG&f=1", "display_name": "vienneseFinger", "link": "https://stackoverflow.com/users/4743205/viennesefinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1454, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1467828065, "creation_date": 1467826095, "question_id": 38230119, "link": "https://stackoverflow.com/questions/38230119/perl-open-windows-explorer-and-select-input-file-for-code-to-work-on", "title": "perl - open windows explorer and select input file for code to work on", "body": "<p>I would like to write a perl script that allows a user to select a file from windows explorer and use this as the input for the code within the perl script (like STDIN). </p>\n\n<p>So the code would open windows explorer to the correct directory, the user would then click on (select) their file, and then the script would do it's business on the selected file as a variable (e.g. my $selectedFile).</p>\n\n<p>I have found some code to open windows explorer:</p>\n\n<pre><code>my $explorer = 'c:/windows/SysWOW64/explorer.exe';   \nmy $directory = 'C:\\\\testdir\\\\';\nsystem($explorer,$directory);\n</code></pre>\n\n<p>...which works fine (based on Perl monks <a href=\"http://www.perlmonks.org/bare/?node_id=313539\" rel=\"nofollow\">http://www.perlmonks.org/bare/?node_id=313539</a>) to open windows explorer from the pl script.</p>\n\n<p>How do I get the code to then recognise the file I click on in the explorer window, and create a variable from it? Is it possible or is Perl not the way to do it?</p>\n\n<p>Cheers,\nMatt</p>\n"}, {"tags": ["perl", "winapi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467827972, "post_id": 38229882, "comment_id": 63883059, "body": "There&#39;s no value you can pass to <a href=\"https://msdn.microsoft.com/en-ca/library/windows/desktop/ms682450(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>CreateService</code></a>&#39;s <code>start_type</code> that do what you want. You need to call <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms681988(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>ChangeServiceConfig2</code></a> as per <a href=\"http://stackoverflow.com/a/30001192/589924\">this answer</a>. You could use <a href=\"http://search.cpan.org/perldoc?Win32::API\" rel=\"nofollow noreferrer\">Win32::API</a> to call it."}, {"owner": {"reputation": 11, "user_id": 4364655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1383b510eb2dad625bf6068f7ef24d81?s=128&d=identicon&r=PG&f=1", "display_name": "user318814", "link": "https://stackoverflow.com/users/4364655/user318814"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467862759, "post_id": 38229882, "comment_id": 63895646, "body": "<a href=\"http://search.cpan.org/~jdb/Win32-Daemon-20131206/Daemon.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~jdb/Win32-Daemon-20131206/Daemon.pm</a> under CreateService ( \\%ServiceInfo )...start_type"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1467862812, "post_id": 38229882, "comment_id": 63895659, "body": "I repeat: <b>There&#39;s no value you can pass to <code>CreateService</code>&#39;s <code>start_type</code> that does what you want.</b> Read <a href=\"https://msdn.microsoft.com/en-ca/library/windows/desktop/ms682450(v=vs.85).aspx\" rel=\"nofollow noreferrer\">the docs</a>!!!"}, {"owner": {"reputation": 11, "user_id": 4364655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1383b510eb2dad625bf6068f7ef24d81?s=128&d=identicon&r=PG&f=1", "display_name": "user318814", "link": "https://stackoverflow.com/users/4364655/user318814"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467926281, "post_id": 38229882, "comment_id": 63931931, "body": "sorry, i misread (actually i was reading my own comment without realizing!) and i thought it/you were asking where i saw the statement about start_type."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4364655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1383b510eb2dad625bf6068f7ef24d81?s=128&d=identicon&r=PG&f=1", "display_name": "user318814", "link": "https://stackoverflow.com/users/4364655/user318814"}, "edited": false, "score": 0, "creation_date": 1468038881, "post_id": 38232268, "comment_id": 63975550, "body": "I&#39;ve defined a local ppm repository so that I can install the package. But ppm repo says <i>Downloading LocalPackages packlist...failed 501 Protocol scheme &#39;c&#39; is not supported</i>. Is there some tool that I need to use to initialize the repository?"}, {"owner": {"reputation": 11, "user_id": 4364655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1383b510eb2dad625bf6068f7ef24d81?s=128&d=identicon&r=PG&f=1", "display_name": "user318814", "link": "https://stackoverflow.com/users/4364655/user318814"}, "edited": false, "score": 0, "creation_date": 1468205197, "post_id": 38232268, "comment_id": 64013629, "body": "I&#39;ve tried to follow the guidelines at Ask Question. I&#39;d like to use the code that ikegami provided but I&#39;m unable to get the package installed. I&#39;ll try to find another way..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 4364655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1383b510eb2dad625bf6068f7ef24d81?s=128&d=identicon&r=PG&f=1", "display_name": "user318814", "link": "https://stackoverflow.com/users/4364655/user318814"}, "edited": false, "score": 0, "creation_date": 1468205346, "post_id": 38232268, "comment_id": 64013662, "body": "That wasn&#39;t a link to guidelines. That was a link to where you go to ask new questions."}, {"owner": {"reputation": 11, "user_id": 4364655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1383b510eb2dad625bf6068f7ef24d81?s=128&d=identicon&r=PG&f=1", "display_name": "user318814", "link": "https://stackoverflow.com/users/4364655/user318814"}, "edited": false, "score": 0, "creation_date": 1468213084, "post_id": 38232268, "comment_id": 64015397, "body": "I&#39;ll invoke the SC command from my perl script   C:\\&gt;perl C:\\bat\\install-the-service.pl    added testPerlService at 20160711 00:36:46    C:\\&gt;sc qc testperlservice    SERVICE_NAME: testperlservice     START_TYPE: 2   AUTO_START    C:\\&gt;sc config testperlservice start= delayed-auto    C:\\&gt;sc qc testperlservice    SERVICE_NAME: testperlservice     START_TYPE: 2   AUTO_START  (DELAYED)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 4364655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1383b510eb2dad625bf6068f7ef24d81?s=128&d=identicon&r=PG&f=1", "display_name": "user318814", "link": "https://stackoverflow.com/users/4364655/user318814"}, "edited": false, "score": 0, "creation_date": 1468213655, "post_id": 38232268, "comment_id": 64015562, "body": "This is no more the place to post an answer than it is the place to post a question."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1467866314, "last_edit_date": 1495539853, "creation_date": 1467833359, "answer_id": 38232268, "question_id": 38229882, "link": "https://stackoverflow.com/questions/38229882/what-is-the-win32daemon-context-hash-keyword-for-delayed-auto-start/38232268#38232268", "title": "What is the Win32::Daemon context hash keyword for delayed auto-start?", "body": "<p>There is no value you can pass to the <code>start_type</code> parameter of <a href=\"https://msdn.microsoft.com/en-ca/library/windows/desktop/ms682450.aspx\" rel=\"nofollow noreferrer\"><code>CreateService()</code></a> that will do what you want. You need to call <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms681988.aspx\" rel=\"nofollow noreferrer\"><code>ChangeServiceConfig2()</code></a>, as per <a href=\"https://stackoverflow.com/a/30001192/589924\">this answer</a>. You can use <a href=\"http://search.cpan.org/perldoc?Win32::API\" rel=\"nofollow noreferrer\">Win32::API</a> to call it.</p>\n\n<p>Code:</p>\n\n<pre><code>use My::Win32::Service qw( :ALL );\n\nmy $ServiceName = ...;\n\nmy $SCManager;\nmy $Service ;\n\nif (!eval {\n   $SCManager = OpenSCManager(undef, undef, SC_MANAGER_ALL_ACCESS)\n      or die(\"Can't open the service control manager: $^E\\n\");\n\n   $Service = OpenService($SCManager, $ServiceName, SERVICE_CHANGE_CONFIG)\n      or die(\"Can't open the service: $^E\\n\");\n\n   ChangeServiceConfig2($Service, SERVICE_CONFIG_DELAYED_AUTO_START_INFO, pack_SERVICE_DELAYED_AUTO_START_INFO(1))\n      or die(\"Can't set the service to delayed auto-start: $^E\\n\");\n\n   CloseServiceHandle($Service);\n   CloseServiceHandle($SCManager);\n\n   return 1;  # No exception\n}) {\n   my $e = $@;\n   CloseServiceHandle($Service)   if $Service;\n   CloseServiceHandle($SCManager) if $SCManager;\n   die($e);\n}\n</code></pre>\n\n<p><code>My/Win32/Service.pm</code>:</p>\n\n<pre><code>package My::Win32::Service;\n\nuse strict;\nuse warnings;\nuse feature qw( state );\n\nuse Encode     qw( decode );\nuse Exporter   qw( import );\nuse Win32::API qw( );\n\nour %EXPORT_TAGS;\nour @EXPORT_OK = qw(\n   OpenSCManager\n   OpenService\n   CloseServiceHandle\n   ChangeServiceConfig2\n   pack_SERVICE_DELAYED_AUTO_START_INFO\n);\n\n# -----\n\nuse constant {\n   GENERIC_READ    =&gt; 0x80000000,\n   GENERIC_WRITE   =&gt; 0x40000000,\n   GENERIC_EXECUTE =&gt; 0x20000000,\n   GENERIC_ALL     =&gt; 0x10000000,\n};\n\n$EXPORT_TAGS{GENERIC} = [qw(\n   GENERIC_READ\n   GENERIC_WRITE\n   GENERIC_EXECUTE\n   GENERIC_ALL\n)];\n\nuse constant {\n   STANDARD_RIGHTS_REQUIRED =&gt; 0xF0000,\n};\n\npush @EXPORT_OK, qw(\n   STANDARD_RIGHTS_REQUIRED\n);\n\nuse constant {\n   SC_MANAGER_CREATE_SERVICE     =&gt; 0x0002,\n   SC_MANAGER_CONNECT            =&gt; 0x0001,\n   SC_MANAGER_ENUMERATE_SERVICE  =&gt; 0x0004,\n   SC_MANAGER_LOCK               =&gt; 0x0008,\n   SC_MANAGER_MODIFY_BOOT_CONFIG =&gt; 0x0020,\n   SC_MANAGER_QUERY_LOCK_STATUS  =&gt; 0x0010,\n};\n\nuse constant {\n   SC_MANAGER_ALL_ACCESS =&gt;\n        STANDARD_RIGHTS_REQUIRED\n      | SC_MANAGER_CREATE_SERVICE\n      | SC_MANAGER_CONNECT\n      | SC_MANAGER_ENUMERATE_SERVICE\n      | SC_MANAGER_LOCK\n      | SC_MANAGER_MODIFY_BOOT_CONFIG\n      | SC_MANAGER_QUERY_LOCK_STATUS,\n};\n\n$EXPORT_TAGS{SC_MANAGER} = [qw(\n   SC_MANAGER_CREATE_SERVICE\n   SC_MANAGER_CONNECT\n   SC_MANAGER_ENUMERATE_SERVICE\n   SC_MANAGER_LOCK\n   SC_MANAGER_MODIFY_BOOT_CONFIG\n   SC_MANAGER_QUERY_LOCK_STATUS\n   SC_MANAGER_ALL_ACCESS\n)];\n\nuse constant {\n   SERVICE_CHANGE_CONFIG        =&gt; 0x0002,\n   SERVICE_ENUMERATE_DEPENDENTS =&gt; 0x0008,\n   SERVICE_INTERROGATE          =&gt; 0x0080,\n   SERVICE_PAUSE_CONTINUE       =&gt; 0x0040,\n   SERVICE_QUERY_CONFIG         =&gt; 0x0001,\n   SERVICE_QUERY_STATUS         =&gt; 0x0004,\n   SERVICE_START                =&gt; 0x0010,\n   SERVICE_STOP                 =&gt; 0x0020,\n   SERVICE_USER_DEFINED_CONTROL =&gt; 0x0100,\n};\n\nuse constant {\n   SERVICE_ALL_ACCESS =&gt;\n        STANDARD_RIGHTS_REQUIRED\n      | SERVICE_CHANGE_CONFIG\n      | SERVICE_ENUMERATE_DEPENDENTS\n      | SERVICE_INTERROGATE\n      | SERVICE_PAUSE_CONTINUE\n      | SERVICE_QUERY_CONFIG\n      | SERVICE_QUERY_STATUS\n      | SERVICE_START\n      | SERVICE_STOP\n      | SERVICE_USER_DEFINED_CONTROL;\n};\n\n$EXPORT_TAGS{SERVICE} = [qw(\n   SERVICE_CHANGE_CONFIG\n   SERVICE_ENUMERATE_DEPENDENTS\n   SERVICE_INTERROGATE\n   SERVICE_PAUSE_CONTINUE\n   SERVICE_QUERY_CONFIG\n   SERVICE_QUERY_STATUS\n   SERVICE_START\n   SERVICE_STOP\n   SERVICE_USER_DEFINED_CONTROL\n   SERVICE_ALL_ACCESS\n)];\n\nuse constant {\n   SERVICE_CONFIG_DELAYED_AUTO_START_INFO  =&gt; 3,\n   SERVICE_CONFIG_DESCRIPTION              =&gt; 1,\n   SERVICE_CONFIG_FAILURE_ACTIONS          =&gt; 2,\n   SERVICE_CONFIG_FAILURE_ACTIONS_FLAG     =&gt; 4,\n   SERVICE_CONFIG_PREFERRED_NODE           =&gt; 9,\n   SERVICE_CONFIG_PRESHUTDOWN_INFO         =&gt; 7,\n   SERVICE_CONFIG_REQUIRED_PRIVILEGES_INFO =&gt; 6,\n   SERVICE_CONFIG_SERVICE_SID_INFO         =&gt; 5,\n   SERVICE_CONFIG_TRIGGER_INFO             =&gt; 8,\n   SERVICE_CONFIG_LAUNCH_PROTECTED         =&gt; 12,\n};\n\n$EXPORT_TAGS{SERVICE_CONFIG} = [qw(\n   SERVICE_CONFIG_DELAYED_AUTO_START_INFO\n   SERVICE_CONFIG_DESCRIPTION\n   SERVICE_CONFIG_FAILURE_ACTIONS\n   SERVICE_CONFIG_FAILURE_ACTIONS_FLAG\n   SERVICE_CONFIG_PREFERRED_NODE\n   SERVICE_CONFIG_PRESHUTDOWN_INFO\n   SERVICE_CONFIG_REQUIRED_PRIVILEGES_INFO\n   SERVICE_CONFIG_SERVICE_SID_INFO\n   SERVICE_CONFIG_TRIGGER_INFO\n   SERVICE_CONFIG_LAUNCH_PROTECTED\n)];\n\n{\n   my %export_ok;\n   ++$export_ok{$_}\n      for\n         @EXPORT_OK,\n         ( map {@$_, values %EXPORT_TAGS );\n\n   @EXPORT_OK = sort keys %export_ok;\n   $EXPORT_TAGS{ALL} = \\@EXPORT_OK;\n}\n\n# -----\n\n# https://msdn.microsoft.com/en-ca/library/windows/desktop/aa383751(v=vs.85).aspx\n# typedef int           BOOL;\n# typedef unsigned long DWORD;\n# typedef PVOID         HANDLE;\n# typedef void*         PVOID;\n\n# *** I'm pretty sure some of these are wrong on 64-bit builds of Perl. ***\n\nuse constant {\n   WAPI_FORMAT_PTR    =&gt; 'I',                PACK_FORMAT_PTR    =&gt; 'i',\n};\n\nuse constant {\n   WAPI_FORMAT_BOOL   =&gt; 'I',                PACK_FORMAT_BOOL   =&gt; 'i',\n   WAPI_FORMAT_DWORD  =&gt; 'N',                PACK_FORMAT_DWORD  =&gt; 'L',\n   WAPI_FORMAT_HANDLE =&gt; WAPI_FORMAT_PVOID,  PACK_FORMAT_HANDLE =&gt; PACK_FORMAT_PTR,\n};\n\n# -----\n\nsub encode_LPCWSTR {\n   my ($s) = @_;\n   return undef if !defined($s);\n   return encode('UTF-16le', $s.\"\\0\");\n}\n\n\n# Inefficient. Needs a C implementation.\nsub decode_LPCWSTR {\n   my ($ptr) = @_;\n\n   return undef if !$ptr;\n\n   my $sW = '';\n   while (1){\n      my $chW = unpack('P2', pack(PACK_FORMAT_PTR, $ptr));\n      last if $chW eq \"\\0\\0\";\n      $sW .= $chW;\n      $ptr += 2;\n   }\n\n   return decode('UTF-16le', $sW);\n}\n\n# -----\n\nsub pack_SERVICE_DELAYED_AUTO_START_INFO {\n   my ($DelayedAutostart) = @_;\n   return pack(PACK_FORMAT_BOOL, $DelayedAutostart ? 1 : 0);\n}\n\n# -----\n\n# https://msdn.microsoft.com/en-us/library/windows/desktop/ms684323(v=vs.85).aspx\n# On error, returns false. Use $^E to get the error message.\n# Close returned handle using CloseServiceHandle.\nsub OpenSCManager {\n   my ($MachineName, $DatabaseName, $DesiredAccess) = @_;\n\n   my $packed_MachineName  = encode_LPCWSTR($MachineName);\n   my $packed_DatabaseName = encode_LPCWSTR($DatabaseName);\n\n   state $OpenSCManager = Win32::API-&gt;new(\n      'advapi32.dll',\n      'OpenSCManagerW',\n      'P' . 'P' . WAPI_FORMAT_DWORD,\n      WAPI_FORMAT_HANDLE,\n   );\n\n   return $OpenSCManager-&gt;Call($packed_MachineName, $packed_DatabaseName, $DesiredAccess);\n}\n\n\n# https://msdn.microsoft.com/en-us/library/windows/desktop/ms684330(v=vs.85).aspx\n# On error, returns false. Use $^E to get the error message.\n# Close returned handle using CloseServiceHandle.\nsub OpenService(\n   my ($SCManager, $ServiceName, $DesiredAccess) = @_;\n\n   my $packed_ServiceName  = encode_LPCWSTR($ServiceName);\n\n   state $OpenService = Win32::API-&gt;new(\n      'advapi32.dll',\n      'OpenServiceW',\n      WAPI_FORMAT_HANDLE . 'P' . WAPI_FORMAT_DWORD,\n      WAPI_FORMAT_HANDLE,\n   );\n\n   return $OpenSCManager-&gt;Call($packed_MachineName, $packed_DatabaseName, $DesiredAccess);\n}\n\n\n# https://msdn.microsoft.com/en-us/library/windows/desktop/ms682028(v=vs.85).aspx\n# On error, returns false. Use $^E to get the error message.\nsub CloseServiceHandle {\n   my ($SCObject) = @_;\n\n   state $CloseServiceHandle = Win32::API-&gt;new(\n      'advapi32.dll',\n      'CloseServiceHandle',\n      WAPI_FORMAT_HANDLE,\n      WAPI_FORMAT_BOOL,\n   );\n\n   return $CloseServiceHandle-&gt;Call($SCObject);\n}\n\n\n# https://msdn.microsoft.com/en-us/library/windows/desktop/ms681988(v=vs.85).aspx\n# Info must be a packed structure.\n# On error, returns false. Use $^E to get the error message.\nsub ChangeServiceConfig2 {\n   my ($Service, $InfoLevel, $packed_Info) = @_;\n\n   state $CloseServiceHandle = Win32::API-&gt;new(\n      'advapi32.dll',\n      'CloseServiceHandle',\n      WAPI_FORMAT_HANDLE . WAPI_FORMAT_DWORD . 'P',\n      WAPI_FORMAT_BOOL,\n   );\n\n   return $ChangeServiceConfig2-&gt;Call($Service, $InfoLevel, $packed_Info);\n}\n\n# -----\n\n1;\n</code></pre>\n\n<p>Completely untested. In fact, I think it's buggy in 64-bit builds of Perl.</p>\n"}], "owner": {"reputation": 11, "user_id": 4364655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1383b510eb2dad625bf6068f7ef24d81?s=128&d=identicon&r=PG&f=1", "display_name": "user318814", "link": "https://stackoverflow.com/users/4364655/user318814"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1467866314, "creation_date": 1467825297, "last_edit_date": 1467825659, "question_id": 38229882, "link": "https://stackoverflow.com/questions/38229882/what-is-the-win32daemon-context-hash-keyword-for-delayed-auto-start", "title": "What is the Win32::Daemon context hash keyword for delayed auto-start?", "body": "<p>In <a href=\"http://search.cpan.org/perldoc?Win32::Daemon\" rel=\"nofollow\">Win32::Daemon</a>'s doc, it says:</p>\n\n<blockquote>\n  <p><code>start_type</code> An integer specifying how (or whether) the service is to be started. The default is SERVICE_AUTO_START.</p>\n</blockquote>\n\n<p>I don't find anywhere that it says what the value is for <em>delayed autostart</em>. </p>\n\n<p>A look at the source behind Win32::Daemon might help but I don't know how to find it. Apparently it's loaded via a perl bootstrap function.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467820934, "post_id": 38227901, "comment_id": 63878929, "body": "Ideally, under what conditions should the <code>print</code> be executed?"}, {"owner": {"reputation": 2244, "user_id": 5520680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/C1jQH.png?s=128&g=1", "display_name": "Tom&#39;s", "link": "https://stackoverflow.com/users/5520680/toms"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467821734, "post_id": 38227901, "comment_id": 63879382, "body": "Idealy, I want to set from &quot;main.pl&quot; &quot;something&quot; that will say to all my module &quot;execute this part of code&quot; (code may be in BEGIN, END, sub, anywhere in module). To be more precise, when I wrote a new Perl program, I don&#39;t want to print, and when I send the Perl program in production, I want to print. If I can implement such behavior, I can have different behavior from my module if I am in &quot;DEV_MODE&quot; or if I am in &quot;PROD_MODE&quot;, the same goes with &quot;DEBUG_ON&quot; and &quot;DEBUG_OFF&quot; (and anything else in my futur Perl script)."}], "answers": [{"comments": [{"owner": {"reputation": 2244, "user_id": 5520680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/C1jQH.png?s=128&g=1", "display_name": "Tom&#39;s", "link": "https://stackoverflow.com/users/5520680/toms"}, "edited": false, "score": 0, "creation_date": 1467819978, "post_id": 38228145, "comment_id": 63878258, "body": "Creating my own import function make me lose the @EXPORT mecanism. What you descibe is what I think it will be ideal for me, but I failed to do."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2244, "user_id": 5520680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/C1jQH.png?s=128&g=1", "display_name": "Tom&#39;s", "link": "https://stackoverflow.com/users/5520680/toms"}, "edited": false, "score": 2, "creation_date": 1467820611, "post_id": 38228145, "comment_id": 63878702, "body": "@Tom&#39;s, No, you can use <code>sub import { ...; goto &amp;Exporter::import; }</code>. Mind you, your <code>import</code> won&#39;t be called at all if your script does <code>use Log qw( );</code>, so I don&#39;t think this is a great solution."}], "tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1467819824, "creation_date": 1467819824, "answer_id": 38228145, "question_id": 38227901, "link": "https://stackoverflow.com/questions/38227901/implement-different-behavior-from-module/38228145#38228145", "title": "Implement different behavior from Module", "body": "<p>Calling <code>use</code> implies calling <code>import</code> from module's namespace. Make an <code>import</code> function, move <code>print</code> into it and make it accept flag that signifies that <code>print</code> is not needed.</p>\n"}, {"comments": [{"owner": {"reputation": 2244, "user_id": 5520680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/C1jQH.png?s=128&g=1", "display_name": "Tom&#39;s", "link": "https://stackoverflow.com/users/5520680/toms"}, "edited": false, "score": 0, "creation_date": 1467870835, "post_id": 38228878, "comment_id": 63897647, "body": "&quot;You&#39;ve indicated in the comments that the factor that decides whether the code should be executed or not is based on the name of the script being executed.&quot; -&gt; Uh ? Where did I say that ? If you think that, I probably misspell something."}, {"owner": {"reputation": 2244, "user_id": 5520680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/C1jQH.png?s=128&g=1", "display_name": "Tom&#39;s", "link": "https://stackoverflow.com/users/5520680/toms"}, "edited": false, "score": 0, "creation_date": 1467870919, "post_id": 38228878, "comment_id": 63897690, "body": "&quot;On second thought, I take that bad. No need for anything that magical. Just create a sub that does what you want and call it from your script.&quot; -&gt; No, because the code can be executed the moment I use &quot;use Log&quot;, so your hint with rewrite import seem good to me, thanks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2244, "user_id": 5520680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/C1jQH.png?s=128&g=1", "display_name": "Tom&#39;s", "link": "https://stackoverflow.com/users/5520680/toms"}, "edited": false, "score": 0, "creation_date": 1467883475, "post_id": 38228878, "comment_id": 63904677, "body": "I asked &quot;Ideally, under what conditions should the <code>print</code> be executed?&quot; And you answered &quot;from main.pl&quot;. Mind you, it easy to misunderstand a two word answer. Feel free to clarify,  and I&#39;ll adjust"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1467823315, "last_edit_date": 1467823315, "creation_date": 1467821961, "answer_id": 38228878, "question_id": 38227901, "link": "https://stackoverflow.com/questions/38227901/implement-different-behavior-from-module/38228878#38228878", "title": "Implement different behavior from Module", "body": "<p>You've indicated in the comments that the factor that decides whether the code should be executed or not is based on the name of the script being executed. I find this particularly odd, and a very poor design, but it is achievable because the path of the script being executed is found in <code>$0</code>.</p>\n\n<pre><code>use File::Basename qw( basename );\n\nif (basename($0) eq 'main.pl') {\n   ...\n}\n</code></pre>\n\n<hr>\n\n<p>I think the following interface would be more appropriate:</p>\n\n<pre><code>use Carp     qw( );\nuse Exporter qw( );\n\nsub import {\n   my $class = shift;\n\n   my $saw_opts = 0;\n   while (@_ &amp;&amp; $_[0] =~ /^-/) {\n      $saw_opts = 1;\n      my $opt = shift(@_);\n      if ($opt eq '--debug') {\n         ...\n      }\n      elsif ($opt eq '--') {\n         last;\n      }\n      else {\n         Carp::croak(\"Unknown option $opt\\n\");\n      }\n   }\n\n   return if $saw_opts &amp;&amp; !@_;\n\n   unshift @_, $class;\n   goto &amp;Exporter::import;\n}\n</code></pre>\n\n<p>You can use it as follows:</p>\n\n<pre><code>use Log qw( --debug );\nuse Log;\n\n  -or-\n\nuse Log qw( --debug :DEFAULT );\n</code></pre>\n\n<hr>\n\n<p>On second thought, I take that bad. No need for anything that magical. Just create a sub that does what you want and call it from your script.</p>\n\n<pre><code>use Log;\nLog::init( debug =&gt; 1 );\n</code></pre>\n"}], "owner": {"reputation": 2244, "user_id": 5520680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/C1jQH.png?s=128&g=1", "display_name": "Tom&#39;s", "link": "https://stackoverflow.com/users/5520680/toms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1467823315, "creation_date": 1467819103, "last_edit_date": 1467820366, "question_id": 38227901, "link": "https://stackoverflow.com/questions/38227901/implement-different-behavior-from-module", "title": "Implement different behavior from Module", "body": "<p>I have the following Perl module : </p>\n\n<pre><code>package Log;\n\nuse strict;\nuse warnings;\n\n# Packaging\nuse Exporter;\nuse vars qw( $VERSION @ISA @EXPORT  );\n\n$VERSION   = '1.0.0';\n@ISA       = qw( Exporter );\n@EXPORT    = qw(Log_Send);\n\nmy %log_g = ('PathDirFileLog' =&gt; '/some/path',\n             'File'           =&gt; undef);\n\n# Init\nPrivateLog_OpenFileLog();\nprint(\"Do not execute this code unless I want from main.pl\\n\");\n\nEND {\n    PrivateLog_CloseFileLog();\n}\n\n\n# Public Functions \n\nsub Log_Send\n{\n    my ($message) = @_;\n\n    # Cleaning $message\n    $message =~ s/\\n+$//g;\n    $message =~ s/\\n/\\*/g;\n\n    print($message);\n    print({$log_g{'File'}} $message) if ($log_g{'File'});\n    return (1);\n}\n\n# Private Functions \n\nsub PrivateLog_OpenFileLog\n{\n    my $path = $log_g{'PathDirFileLog'}.'/global.log';\n\n    if (!$log_g{'File'}) {\n        if (!open($log_g{'File'}, '&gt;&gt;', $path)) {\n            $log_g{'File'} = undef;\n            Log_Send(\"Failed to open '$path' in '&gt;&gt;' mode : $!\");\n            return (0);\n        }\n        select((select($log_g{'File'}), $|=1)[0]);\n    }\n    return (1);\n}\n\nsub PrivateLog_CloseFileLog\n{\n    if ($log_g{'File'}) {\n        close($log_g{'File'});\n        $log_g{'File'} = undef;\n    }\n    return (1);\n}\n\n1; \n</code></pre>\n\n<p>There is a print that will be executed as soon as I type \"use Log;\" from any Perl script. Sometime this print has to be here, sometime not (and this situation apply to some other Module I wrote).</p>\n\n<p>Is there a way to \"activate\" or \"desactivate\" the print from, per instance, this script ?</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nuse Log;\n\nLog_Send(\"Hello world !\");\n</code></pre>\n\n<p>It's like \"enable/disable\" debug on all of module I import, is there a way ?</p>\n\n<p>Edit : I tried to implement my own import sub, but either I lost the @EXPORT mecanism or either I copy/paste source code from Exporter and I don't understand anything. If there is a tutorial for implementing \"import\" with a mecanism like @EXPORT, I will be happy with that.</p>\n"}, {"tags": ["perl", "rsa", "gnupg", "pgp", "dsa"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1467813146, "post_id": 38225585, "comment_id": 63873305, "body": "There would be RFC or other specification documents out there that describe what these keys look like. Once you have them you should be able to implement parsers for them."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1467870534, "post_id": 38225585, "comment_id": 63897546, "body": "Have you ever looked at what is inside a public key file? because if you do, the answer to your question would be obvious!"}], "answers": [{"comments": [{"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 0, "creation_date": 1467833322, "post_id": 38230962, "comment_id": 63886081, "body": "Thank you for the solution. Unfortunately, for Windows it requires Cygwin which I am trying to avoid using."}, {"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 0, "creation_date": 1467904940, "post_id": 38230962, "comment_id": 63919909, "body": "Yes I did. The installation failed on two different windows environment because of some dependencies."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 0, "creation_date": 1467949399, "post_id": 38230962, "comment_id": 63937803, "body": "You could just try reading the keys and seeing if it starts with <code>ssh-dss</code> for dsa or <code>ssh-rsa</code> for rsa."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1467829250, "last_edit_date": 1467829250, "creation_date": 1467828827, "answer_id": 38230962, "question_id": 38225585, "link": "https://stackoverflow.com/questions/38225585/indentify-dsa-rsa-keys-in-perl/38230962#38230962", "title": "Indentify DSA/RSA keys in Perl", "body": "<p>You can use <a href=\"http://search.cpan.org/~drolsky/File-LibMagic-1.15/lib/File/LibMagic.pm\" rel=\"nofollow\">File::LibMagic</a> which uses the same library as the unix <code>file</code> command.</p>\n\n<p>On ubuntu, I installed it as:</p>\n\n<pre><code>apt-get install libmagic-dev\n\ncpan File::LibMagic\n</code></pre>\n\n<p>For windows, it is known to work with Cygwin, and it should work with windows if you can install the libmagic libraries.  I haven't tried this, so YMMV.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nuse File::LibMagic;\n\nmy $magic = File::LibMagic-&gt;new();\n\nmy $key_dsa = '/home/felix/.ssh/id_dsa.pub';\nmy $info_dsa = $magic-&gt;info_from_filename( $key_dsa );\nprint \"[ $key_dsa ] : \" . $info_dsa-&gt;{description} . \"\\n\";\n\nmy $key_rsa = '/home/felix/.ssh/id_rsa.pub';\nmy $info_rsa = $magic-&gt;info_from_filename( $key_rsa );\nprint \"[ $key_rsa ] : \" . $info_rsa-&gt;{description} . \"\\n\";\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[ /home/felix/.ssh/id_dsa.pub ] : OpenSSH DSA public key\n[ /home/felix/.ssh/id_rsa.pub ] : OpenSSH RSA public key\n</code></pre>\n"}], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1467829250, "creation_date": 1467812655, "question_id": 38225585, "link": "https://stackoverflow.com/questions/38225585/indentify-dsa-rsa-keys-in-perl", "title": "Indentify DSA/RSA keys in Perl", "body": "<p>I am trying to find a Perl solution to identify the type of the keys.\nI have a list of key files and I need to know which are DSA and which are RSA.</p>\n\n<p>I know I can do it on Linux with the following command:</p>\n\n<pre><code>ssh-keygen -lf id_dsa.pub\n</code></pre>\n\n<p>I am trying to find a pure Perl solution that would work on both Windows and Linux.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8806, "user_id": 257418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/97Mb4.png?s=128&g=1", "display_name": "Lynn", "link": "https://stackoverflow.com/users/257418/lynn"}, "edited": false, "score": 0, "creation_date": 1467811046, "post_id": 38224984, "comment_id": 63871890, "body": "Hello, Marta! Your idea sounds good  to me. Can you show us what you\u2019ve tried so far implementing it, and where exactly you got stuck?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1467813304, "post_id": 38224984, "comment_id": 63873428, "body": "Please <a href=\"https://stackoverflow.com/posts/38224984/edit\">edit</a> your question and add an example of the expected output. You can just build it from hand for the example input data you have shown. If you have already started and are stuck you can include that code as well."}, {"owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1467815283, "post_id": 38224984, "comment_id": 63874976, "body": "I edited my question. Thank you in advance. I have an idea, but I have problem to write it."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1467824144, "post_id": 38224984, "comment_id": 63880813, "body": "How many &#39;occ_Cxx.dat&#39; files are there? Are they in order as in the &#39;list.dat&#39; file? Will all the files in the list file exist?"}, {"owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "reply_to_user": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1467837883, "post_id": 38224984, "comment_id": 63888530, "body": "@ChrisCharley , It depend on my directory. I have around from 5 to 8 files. The fles are ordered increasing. But sth the numbers are omitted, e.g. I have files with numbers: 1, 2, 3, 5, 7, 8, 11. But inside file, always started from 50000."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1467838575, "post_id": 38224984, "comment_id": 63888847, "body": "Will all the filenames be of the form <code>occ_C02.dat, occ_C03.dat, occ_C07.dat,  occ_C11.dat</code> or could they be <code>occ_C1.dat, occ_C7.dat</code>. And what is the purpose of <code>list.dat</code>. Will there be a <code>list.dat</code> file in every directory? Your <code>list.dat</code> above above only has 1 column."}, {"owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "reply_to_user": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1467839151, "post_id": 38224984, "comment_id": 63889152, "body": "@ChrisCharley , yes, you are correct, the form of files is the same. I created list to more &quot;automatized&quot; script. The script should read the list and then use step-by-step each file and from these files (occ_CXX.dat) read data and transfer third column to my new file. I thought it could be easier than read each document and add column inside new file."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1467841769, "post_id": 38234200, "comment_id": 63890318, "body": "Thank you a lot! It works. Only when I have a numbers above 100000, it put them before 50000. How to change it? Thank you for your help."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "reply_to_user": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1467842264, "post_id": 38234200, "comment_id": 63890553, "body": "@Marta Wisniewska see my update 2. This should be a  change you could fix on your own. Maybe take some time to learn more about the perl syntax and language  :)."}, {"owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "edited": false, "score": 0, "creation_date": 1467842541, "post_id": 38234200, "comment_id": 63890671, "body": "thank you so much!!! I know it. I will learn more. Tjis is my plan for summer. I have to. By, anyway, thanks."}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 0, "last_activity_date": 1467842271, "last_edit_date": 1467842271, "creation_date": 1467841050, "answer_id": 38234200, "question_id": 38224984, "link": "https://stackoverflow.com/questions/38224984/split-of-column-from-diffrent-files/38234200#38234200", "title": "split of column from diffrent files", "body": "<p>By the description of your problem and some of the comments you gave, I think the code below may produce what you want.</p>\n\n<p>I still don't understand how you access the files. I don't think the <code>list.dat</code> will make it easier. Just my opinion. I used glob instead to get the <code>occ_CXX.dat</code> files.</p>\n\n<p>And I entered the directory on the command line. In the program, the directory name is <code>shifted</code> to the <code>$dir</code> variable.</p>\n\n<p>My command line was</p>\n\n<pre><code>perl test.pl .\n</code></pre>\n\n<p>where the '<strong>.</strong>' is the name of the directory. I used the <code>dot</code> because the files are located in the same directory as my program. You would have to specify the directory or path to your files here instead of <code>dot</code> if your program is running from a different directory from where the files are located.</p>\n\n<p><strong>Update:</strong> Overlooked the matter of where you want to print your output file. That is, to what directory. Here, I just print the output file to the same directory as the input files.</p>\n\n<p><strong>Update2:</strong> Change </p>\n\n<p><code>for my $col1 (sort keys %data)</code></p>\n\n<p>to</p>\n\n<p><code>for my $col1 (sort {$a &lt;=&gt; $b} keys %data)</code></p>\n\n<p>(updated my code to make this change)</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $dir = shift; # get directory from @ARGV (on the command line)\n\nmy @occ_files = sort by_number glob \"$dir/occ_C*.dat\";\n\nmy @headers = map /_(C\\d+)/, @occ_files;\n\nmy %data;\n\nfor my $file (@occ_files) {\n    open my $fh, '&lt;', $file or die \"Can't open $file $!\";\n\n    $file =~ /_(C\\d+)/;\n    my $col_head = $1;\n\n    while (&lt;$fh&gt;) {\n        my ($col1, undef, $col3) = split;\n        $data{$col1}{$col_head} = $col3 || '';\n    }\n    close $fh or die \"Can't close $file $!\";\n}\n\nmy $format = \"%-15s\" . \"%-10s\" x (@headers-1) . \"%s\\n\";\n\nmy $new_file = \"$dir/occ_sub.dat\";\nopen my $out, '&gt;', $new_file or die \"Can't open $new_file $!\";\n\nprintf $out $format, '', @headers;\n\nfor my $col1 (sort {$a &lt;=&gt; $b} keys %data) {\n    printf $out $format, $col1, @{ $data{$col1} }{@headers};    \n}\n\nsub by_number {\n    my ($a_num) = $a =~ /_C(\\d+)\\.dat/;\n    my ($b_num) = $b =~ /_C(\\d+)\\.dat/;\n    $a_num &lt;=&gt; $b_num;\n}\n</code></pre>\n\n<p>This created a file with this output (using your 2 sample input files):</p>\n\n<pre><code>               C01       C02\n50000.000      291618    58902\n50100.000      291618    58902\n50200.000                58902\n50300.000      115401    58902\n50400.000      115401    58902\n50500.000      115401    58902\n50600.000      115401    58902\n50700.000      115401    58902\n50800.000      291618\n50900.000      291618    58902\n51000.000      291618    58902\n51100.000      291618    58902\n51200.000      291618    58902\n51300.000      291618    58902\n51400.000      291618    58902\n51500.000      291618    58902\n51600.000      291618    58902\n51700.000      291618    58902\n51800.000      291618\n51900.000      291618    58902\n52000.000      291618    58902\n52100.000      291618    58902\n52200.000      291618    58902\n52300.000      291618    58902\n52400.000      291618    58902\n52500.000      291618    58902\n52600.000      291618    58902\n52700.000      291618\n52800.000      291618    58902\n52900.000      291618    58902\n53000.000                58902\n53100.000      291618    58902\n53200.000      291618    58902\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5784419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ly8clnEE1_k/AAAAAAAAAAI/AAAAAAAADzQ/xLF5tY2A4H0/photo.jpg?sz=128", "display_name": "Marta Wisniewska", "link": "https://stackoverflow.com/users/5784419/marta-wisniewska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 38234200, "answer_count": 1, "score": -2, "last_activity_date": 1467890167, "creation_date": 1467810843, "last_edit_date": 1467890167, "question_id": 38224984, "link": "https://stackoverflow.com/questions/38224984/split-of-column-from-diffrent-files", "title": "split of column from diffrent files", "body": "<p>I'd like to do my own script but I sticked fast. It is so trivial, but this is my second script.</p>\n\n<p>I have a couple of files. In each, I have a 2 column, first with constant value (it is in the whole number of files), the third is diffrent. Each file is named as: occ_CXX, where XX is the number. (I don't need the second column) My idea:</p>\n\n<ol>\n<li>split the whole number of files, whereas, the first column is common for all files, the second , third etc belongs to the files in order. (i use for it $my_files=$ARGV[0] - from this it takes only first column, and $my_pdb_files=$ARGV[1] - file, whithin the all files are listed), but I have to construct proper loop to read files and put the number in good order.</li>\n<li>Moreover, I'd like to give a name of each column, which corespond to the number in its name (occ_CXX - I'm interested the CXX only).</li>\n</ol>\n\n<p>The occ_CXX.dat file look like following:</p>\n\n<pre><code>  50000.000    1 291618\n  50100.000    1 291618\n  50200.000    0\n  50300.000    1 115401\n  50400.000    1 115401\n</code></pre>\n"}, {"tags": ["regex", "xml", "perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 5, "creation_date": 1467810039, "post_id": 38224645, "comment_id": 63871188, "body": "It Looks like a Kind of XML. why you do not use a XML Parser?"}, {"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1467810750, "post_id": 38224645, "comment_id": 63871663, "body": "The only way I know that would have made it possible to do so would be using XSLT 2.0 (which supports regular expressions for example). I don&#39;t have access to XSLT 2.0.  Plus, my question was more about improving my Perl skills and understanding than about the best language to do what I want."}, {"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1467811191, "post_id": 38224645, "comment_id": 63872003, "body": "I might have not understood your comment well: if you&#39;re speaking about a Perl module, I&#39;d be happy to know which one would be good and how to use it in my case."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467811224, "post_id": 38224645, "comment_id": 63872030, "body": "@Baptiste: Pas Jean Baptiste?! Do you know that you can install any CPAN module to any location? I will look at your program immediately, but I think you should use <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a> to extract the data that you need. Regular expressions are very much the <i>wrong</i> tool"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1467811359, "post_id": 38224645, "comment_id": 63872117, "body": "Is that really what the input looks like, or is there another tag that surrounds all of the tags you&#39;ve shown us. Without an enclosing tag, this isn&#39;t XML and no XML parser will parse it successfully."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467812275, "post_id": 38224645, "comment_id": 63872682, "body": "I can&#39;t get your code to produce any output with the XML data that you show. Please would you show a combined example of your code and data that works?"}, {"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1467812285, "post_id": 38224645, "comment_id": 63872692, "body": "@DaveCross: I added the surrounding <code>modifs</code> that is indeed here  @Borodin: As I said I&#39;m quite new to Perl and try not to use too much modules I don&#39;t know / understand.  (By the way no it is not Jean Baptiste, only Baptiste ;) )"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1467812905, "post_id": 38224645, "comment_id": 63873130, "body": "@Baptiste: For the document to be valid XML, it would need another tag that goes round all of your &lt;modif&gt; tags. A well-formed XML document can have only one top-level element."}, {"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467814105, "post_id": 38224645, "comment_id": 63874010, "body": "@Borodin I tested and updated my source XML and the output I get. The only things to change are the paths for input and output files in the Perl code."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1467816140, "post_id": 38224645, "comment_id": 63875614, "body": "Can you give some desired output for that input? It looks a lot simpler if you switch to using <code>XML::Twig</code> for processing."}, {"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1467816477, "post_id": 38224645, "comment_id": 63875863, "body": "@Sobrique: The output I get now (and give in the section &quot;what I want&quot;) is quite close to what I want. As I mention in my question, what matters to me is to get, for each &lt;modif&gt; tag the corresponding ids, extra id and &lt;avant&gt; / &lt;apres&gt; content. I would be really glad to see how to use <code>XML::Twig</code> in this case."}], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 0, "creation_date": 1467820028, "post_id": 38227811, "comment_id": 63878287, "body": "From what I can tell, the second option is the one I want, as I want <code>avant</code> and <code>apres</code> tags content to be exactly the same apart from the ending. (So what comes before er or &#233; must be the same). However I don&#39;t understand all of your code, would you mind commenting a bit on it? Especially the print lines, which are a bit obscure to me..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 0, "creation_date": 1467820661, "post_id": 38227811, "comment_id": 63878734, "body": "Have added some comments. Is that clearer? I can expand further on anything that&#39;s still unclear."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1467823688, "post_id": 38227811, "comment_id": 63880551, "body": "You need to <code>use utf8</code> if you have any non-ASCII characters in your code. You also need to <code>use open qw&#47; :std :encoding(UTF-8) &#47;</code> so that your encoded data is printed properly"}, {"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 0, "creation_date": 1467877349, "post_id": 38227811, "comment_id": 63900957, "body": "@Sobrique that&#39;s perfect for me, good answer and great explanation!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1467820644, "last_edit_date": 1495540732, "creation_date": 1467818824, "answer_id": 38227811, "question_id": 38224645, "link": "https://stackoverflow.com/questions/38224645/simplify-perl-script-to-extract-information-with-regex/38227811#38227811", "title": "Simplify Perl script to extract information with regex", "body": "<p>Don't use <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">regular expressions to parse XML</a>. It leads to brittle code. </p>\n\n<p>perl has an XML parser, and that would look something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\n#load the file into the XML parser, as $twig\nmy $twig = XML::Twig-&gt;new-&gt;parsefile('your_file.xml'); \n\n#iterate elements '&lt;modif&gt;' - anywhere in data structure. \n#(That's what // prefix means in xpath)\nforeach my $modif ( $twig-&gt;get_xpath('//modif') ) {\n\n   #For each modif element, extract the contents of 'avant' and 'apres' and\n   #compare them. \n   if (   $modif-&gt;first_child_text('avant') =~ m/(er|\u00e9)$/\n      and $modif-&gt;first_child_text('apres') =~ m/(er|\u00e9)$/ )\n   {\n      #from this element, get the 'id' attribute. \n      #&lt;modif id=\"???\"&gt;\n      print \"ID: \", $modif-&gt;att('id'), \"\\n\";\n      #fetch all the children of &lt;modif&gt; called '&lt;extra&gt;' \n      #use map to fetch the 'id' attributes of all of these. (if more than one)\n      print \"extra ids\", join \" \",(map { $_-&gt;att('id') } $modif-&gt;children('extra')), \"\\n\";\n      #fetch content of '&lt;avant&gt;' and '&lt;apres&gt;' nodes. \n      print $modif-&gt;first_child_text('avant'), \"|||\", $modif -&gt;first_child_text('apres'),\"\\n\";\n   }\n}\n</code></pre>\n\n<p>I wasn't entirely clear on the comparison you were making, but hopefully this illustrates well enough how to do it? </p>\n\n<p>e.g. perhaps you'd be comparing:</p>\n\n<pre><code>#compare both avant and apres, but only after trimming\n#a couple of letters off the end. \nif ( $modif -&gt; first_child_text('avant') =~ s/(er|\u00e9)$//r \n  eq $modif -&gt; first_child_text('apres') =~ s/(er|\u00e9)$//r  ) {\n</code></pre>\n\n<p>Would compare both, after dropping those character off the end. (note - the <code>r</code> regex modifier needs a newish version of perl to work, it might error)</p>\n"}], "owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 38227811, "answer_count": 1, "score": 3, "last_activity_date": 1467820644, "creation_date": 1467809943, "last_edit_date": 1467816235, "question_id": 38224645, "link": "https://stackoverflow.com/questions/38224645/simplify-perl-script-to-extract-information-with-regex", "title": "Simplify Perl script to extract information with regex", "body": "\n\n<p>I have to extract some information from an XML file according to a pattern. I did complete a working script, but I'm pretty sure that it could be a lot simpler and/or cleaner.</p>\n\n<p>Could you tell me what could be better and why?</p>\n\n<h3>What my input looks like:</h3>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;modifs&gt;\n  &lt;modif id=\"14661\"&gt;&lt;code c=\"1\" /&gt;&lt;extra id=\"109816\" /&gt;&lt;avant num_words=\"1\"&gt;d\u00e9missionn\u00e9&lt;/avant&gt;&lt;apres num_words=\"1\"&gt;d\u00e9missionner&lt;/apres&gt;&lt;/modif&gt;\n  &lt;modif id=\"125247\"&gt;&lt;code c=\"1\" /&gt;&lt;avant num_words=\"1\"&gt;demis-tons&lt;/avant&gt;&lt;apres num_words=\"1\"&gt;demi-tons&lt;/apres&gt;&lt;/modif&gt;\n  &lt;modif id=\"90891\"&gt;&lt;code c=\"1\" /&gt;&lt;avant num_words=\"1\"&gt;d\u00e9mit&lt;/avant&gt;&lt;apres num_words=\"1\"&gt;d\u00e9mis&lt;/apres&gt;&lt;/modif&gt;\n  &lt;modif id=\"198379\"&gt;&lt;code c=\"1\" /&gt;&lt;avant num_words=\"1\"&gt;demi-terain&lt;/avant&gt;&lt;apres num_words=\"1\"&gt;demi-terrain&lt;/apres&gt;&lt;/modif&gt;\n  &lt;modif id=\"172795\"&gt;&lt;code c=\"1\" /&gt;&lt;avant num_words=\"1\"&gt;demi-ton&lt;/avant&gt;&lt;apres num_words=\"1\"&gt;demi-tons&lt;/apres&gt;&lt;/modif&gt;\n&lt;/modifs&gt;\n</code></pre>\n\n<h3>What I want :+</h3>\n\n<p>Display, when the content of <code>avant</code> and <code>apres</code> tags ends with <code>-\u00e9</code> or <code>-er</code>, each <code>id</code> and <code>extra id</code>, followed by the content of <code>avant</code> and <code>apres</code>.</p>\n\n<p>So it looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>id=\"14661\"\nextra id=\"109816\"\nd\u00e9missionn\u00e9 |||| d\u00e9missionner\n</code></pre>\n\n<h3>What my script looks like:</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code> use strict;\n    use warnings;\n\n\n    my $fichier = 'path';\n    my $fichiersortie = \"path\";\n    my @lignes ;\n    my @tableau_avant ;\n    my @tableau_apres ;\n    my @ids ;\n    my @extraids ; \n    my @radical_avant ;\n    my @radical_apres ;\n\n    open (OUTPUT, \"&gt;$fichiersortie\");\n    binmode(OUTPUT, \":utf8\");\n    open(my $fh, '&lt;:encoding(UTF-8)', $fichier)\n      or die \"Can't open file\";\n\n    while (my $row = &lt;$fh&gt;) {\n        chomp $row;\n\n        @radical_avant = $row =~ /&lt;avant.+?&gt;(.+?)(?:er|\u00e9)&lt;\\/avant&gt;/;\n        @radical_apres = $row =~ /&lt;apres.+?&gt;(.+?)(?:er|\u00e9)&lt;\\/apres&gt;/ ;\n        @tableau_avant = $row =~ /&lt;avant.+?&gt;(.+?(?:er|\u00e9))&lt;\\/avant&gt;/;\n        @tableau_apres = $row =~ /&lt;apres.+?&gt;(.+?(?:er|\u00e9))&lt;\\/apres&gt;/ ;\n        @ids = $row =~ /&lt;modif (id=\"\\d+\")&gt;/ ;\n        @extraids = $row =~ /&lt;(extra id=\"\\d+\")\\s\\/&gt;/g ;\n\n\n        foreach my $id (@ids) {\n        foreach my $match_avant (@tableau_avant) {\n        foreach my $match_apres (@tableau_apres) {\n\n        foreach my $radical_avant (@radical_avant){\n        foreach my $radical_apres (@radical_apres){\n        if ($radical_avant eq $radical_apres) {\n\n        print OUTPUT \"$id\\n\";\nforeach my $extraid (@extraids) {\n        print OUTPUT \"$extraid\\n\";}\n        print OUTPUT \"$match_avant\" . \" |||| \" . \"$match_apres\\n\\n\" ;}\n        }\n        }\n                }\n        }\n        }\n}\nclose (OUTPUT);\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>Tidied up, the Perl code looks like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nmy $fichier       = 'path';\nmy $fichiersortie = \"path\";\nmy @lignes;\nmy @tableau_avant;\nmy @tableau_apres;\nmy @ids;\nmy @extraids;\nmy @radical_avant;\nmy @radical_apres;\n\nopen( OUTPUT, \"&gt;$fichiersortie\" );\nbinmode( OUTPUT, \":utf8\" );\n\nopen( my $fh, '&lt;:encoding(UTF-8)', $fichier ) or die \"Can't open file\";\n\nwhile ( my $row = &lt;$fh&gt; ) {\n    chomp $row;\n\n    @radical_avant = $row =~ /&lt;avant.+?&gt;(.+?)(?:er|\u00e9)&lt;\\/avant&gt;/;\n    @radical_apres = $row =~ /&lt;apres.+?&gt;(.+?)(?:er|\u00e9)&lt;\\/apres&gt;/;\n    @tableau_avant = $row =~ /&lt;avant.+?&gt;(.+?(?:er|\u00e9))&lt;\\/avant&gt;/;\n    @tableau_apres = $row =~ /&lt;apres.+?&gt;(.+?(?:er|\u00e9))&lt;\\/apres&gt;/;\n    @ids           = $row =~ /&lt;modif (id=\"\\d+\")&gt;/;\n    @extraids      = $row =~ /&lt;(extra id=\"\\d+\")\\s\\/&gt;/g;\n\n    foreach my $id (@ids) {\n\n        foreach my $match_avant (@tableau_avant) {\n\n            foreach my $match_apres (@tableau_apres) {\n\n                foreach my $radical_avant (@radical_avant) {\n\n                    foreach my $radical_apres (@radical_apres) {\n\n                        if ( $radical_avant eq $radical_apres ) {\n\n                            print OUTPUT \"$id\\n\";\n\n                            foreach my $extraid (@extraids) {\n                                print OUTPUT \"$extraid\\n\";\n                            }\n\n                            print OUTPUT \"$match_avant\" . \" |||| \" . \"$match_apres\\n\\n\";\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n\nclose(OUTPUT);\n</code></pre>\n"}, {"tags": ["perl", "exec", "quotes"], "comments": [{"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 0, "creation_date": 1467806025, "post_id": 38221923, "comment_id": 63868669, "body": "Which kind of perl are you using on Windows? I just tested it on Cygwin with perl 5.22.2 and it does just what you&#39;re asking. Maybe something like activestate perl behaves differently?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 0, "creation_date": 1467807170, "post_id": 38221923, "comment_id": 63869351, "body": "Mine is Strawberry Perl v5.24.0. Please would you post your exact call to <code>system</code>?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467807754, "post_id": 38221923, "comment_id": 63869739, "body": "Works for me as well on Cygwin with perl 5.14.4"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467808797, "post_id": 38221923, "comment_id": 63870389, "body": "Thanks @xxfelixxx. Can anyone please confirm my own results?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1468855000, "last_edit_date": 1468855000, "creation_date": 1467815739, "answer_id": 38226739, "question_id": 38221923, "link": "https://stackoverflow.com/questions/38221923/passing-a-quoted-string-to-system-keeping-quotes-intact/38226739#38226739", "title": "Passing a quoted string to system() keeping quotes intact", "body": "<p>The problem:</p>\n\n<pre><code>system($^X, '-E', 'say @ARGV', '\"test\"');\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>test\n</code></pre>\n\n<p>That's so broken!<sup>[1]</sup></p>\n\n<hr>\n\n<p>Solution:</p>\n\n<pre><code>use Win32::ShellQuote qw( quote_system );\n\nsystem(quote_system($^X, '-E', 'say @ARGV', '\"test\"'));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\"test\"\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>Perl needs to build a command line even if the shell isn't used. Unlike unix where the <a href=\"http://manpages.ubuntu.com/manpages/xenial/en/man2/execve.2freebsd.html\" rel=\"nofollow\">system call</a> to execute a program takes the path to a program and a list of arguments, the Windows <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682425(v=vs.85).aspx\" rel=\"nofollow\">system call</a> to execute a program takes a command line, so a command line must be built even if the shell is avoided. It appears that Perl builds the command lines incorrectly.<sup>[2]</sup> This is why using the <code>system BLOCK LIST</code> syntax doesn't help.</p></li>\n<li><p>In fact, it's up to the application to parse the command line for arguments! Thankfully, there's a <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb776391(v=vs.85).aspx\" rel=\"nofollow\">system call</a> to do that, so a standard has formed.</p></li>\n</ol>\n"}], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 1, "answer_count": 1, "score": 9, "last_activity_date": 1468855000, "creation_date": 1467801284, "last_edit_date": 1592644375, "question_id": 38221923, "link": "https://stackoverflow.com/questions/38221923/passing-a-quoted-string-to-system-keeping-quotes-intact", "title": "Passing a quoted string to system() keeping quotes intact", "body": "<p>This problem applies to Perl v5.24.0 on Windows 10</p>\n<p>Except for the simplest cases. It is always a problem passing command lines and parameter lists between programs. Taking into account the effects of whitespace and shell metacharacters, possibly so that the data remains intact over several levels of calls, can involve a mess of escapes and quotation marks</p>\n<p>The panacea has always been to use the multiple-parameter form of <code>system</code> (which also tries to avoid calling the shell as an intermediary) so that each parameter is reliably separated without resorting to quotes</p>\n<p>A call like this</p>\n<pre><code>system(&quot;dir \\&quot;C:\\\\Program Files\\\\\\&quot;&quot;)\n</code></pre>\n<p>is much easier on the eye written like this</p>\n<pre><code>system('dir', 'C:\\Program Files\\\\')\n</code></pre>\n<p>However, I can see no way to pass values that <em>include</em> enclosing quotes</p>\n<p>If I write a test program</p>\n<h3>show.pl</h3>\n<pre><code>use Data::Dump;\ndd \\@ARGV;\n</code></pre>\n<p>and then call</p>\n<pre><code>system('show', 'xxx')\n</code></pre>\n<p>then the output I get is what I expect</p>\n<pre><code>[&quot;xxx&quot;]\n</code></pre>\n<p>However, suppose I want to pass the string <code>&quot;xxx&quot;</code>. If I try</p>\n<pre><code>system('show', '&quot;xxx&quot;')\n</code></pre>\n<p>then the quotes are stripped at some point along the way and the output is identical to the preceding example</p>\n<h3>How do I make a call to <code>system</code> such that the output is <code>[&quot;\\&quot;xxx\\&quot;&quot;]</code>?</h3>\n<p>I have tried all manner of escaping, but the solution evades me</p>\n"}, {"tags": ["perl", "cmd"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467796737, "post_id": 38220033, "comment_id": 63863337, "body": "The code you show will pass the string in <code>$texfile</code> to <code>perltex</code> as one parameter; in fact you should be using  just <code>$texfile</code> instead of <code>&quot;$texfile&quot;</code>. It&#39;s my guess that <code>perltex</code> doesn&#39;t like that parameter to contain spaces"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467797403, "post_id": 38220033, "comment_id": 63863704, "body": "Where can I get a copy of your <code>perltex.pl</code>?"}, {"owner": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467799264, "post_id": 38220033, "comment_id": 63864847, "body": "@borodin You can grab perltex.pl here <a href=\"https://www.ctan.org/pkg/perltex\" rel=\"nofollow noreferrer\">ctan.org/pkg/perltex</a>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467797241, "post_id": 38220479, "comment_id": 63863612, "body": "The additional double quotes won&#39;t make any difference for <code>$texfile</code> -- they are simply stripped off and the target program never sees them -- although it may change how <code>$Filename</code> is processed. The thing is that a call to <code>system</code> with multiple parameters isn&#39;t passed through the shell anyway, so the values retain their individuality"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467797576, "post_id": 38220479, "comment_id": 63863819, "body": "I agree  that the target program never sees the quotes. But it will get see the contents of <code>$textfile</code> as a single argument. That, at least, is what my testing seems to indicate."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467798512, "post_id": 38220479, "comment_id": 63864356, "body": "As I said, the multi-parameter form of <code>system</code> should keeps the values separate and whole anyway. Do you have a test that shows it splitting a value on whitespace?"}, {"owner": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 0, "creation_date": 1467799740, "post_id": 38220479, "comment_id": 63865093, "body": "@Dave Cross I tested both of your suggestions without any luck and I can see the utility of the little script you wrote. I&#39;ve been manually typing the arguments into cmd to test that but even then, perltex doesn&#39;t accept the path with space. It never has, but I tested the outputs and perl does pass the desired argument (as far as the code dictates) it&#39;s just that this argument still isn&#39;t accepted, which is why I&#39;m beginning to think my problem may be more related to perltex than to perl....."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467800510, "post_id": 38220479, "comment_id": 63865529, "body": "@Borodin: Agreed. And I have added a comment to that effect. My original testing used <code>qx(...)</code> rather than <code>system()</code> and I had forgotten the important differences."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 0, "creation_date": 1467800623, "post_id": 38220479, "comment_id": 63865605, "body": "@NzFrancis: Pedantically, I only made one suggestion. The two different syntaxes that I demonstrated are functionally identical. Borodin&#39;s comments explain why my suggestion makes no difference to <code>$texfile</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 1, "creation_date": 1467801378, "post_id": 38220479, "comment_id": 63866002, "body": "@NzFrancis: I use just <code>use Data::Dump; dd \\@ARGV;</code> for my test program :)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1467800425, "last_edit_date": 1467800425, "creation_date": 1467796940, "answer_id": 38220479, "question_id": 38220033, "link": "https://stackoverflow.com/questions/38220033/how-can-i-get-perl-to-correctly-pass-a-command-line-argument-with-multiple-argum/38220479#38220479", "title": "How can I get perl to correctly pass a command line argument with multiple arguments and complex file paths (spaces and symbols)?", "body": "<p>There are two steps to solving this problem.</p>\n\n<ol>\n<li>Work out how to get the correct arguments into an external\nprogram.</li>\n<li>Work out how to do that from a Perl program.</li>\n</ol>\n\n<p>For step 1, I find a program like this to be useful.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"Received \", scalar @ARGV, \" arguments:\\n\";\nfor (1 .. @ARGV) {\n  print \"$_: $ARGV[$_ - 1]\\n\";\n}\n</code></pre>\n\n<p>It just explains what arguments it receives on the command line. You can use this in place of \"perltex\" for testing purposes.</p>\n\n<p>You'll see that if you give it an argument that contains spaces, then that is interpreted as the called program as multiple arguments. The way to get round that is to quote the argument that contains a space. And I seem to remember that Windows insists on double-quotes (for reasons that I can never remember).</p>\n\n<p>So I think that you want this:</p>\n\n<pre><code>system('perltex', '--latex=pdflatex', '--nosafe', \"--jobname=\\\"$Filename\\\"\", \"\\\"$texfile\\\"\");\n</code></pre>\n\n<p>I've double-quoted both of the filenames. Of course, those escaped double-quote characters look really ugly, and Perl gives us <code>qq(...)</code> to make that look nicer.</p>\n\n<pre><code>system('perltex', '--latex=pdflatex', '--nosafe', qq(--jobname=\"$Filename\"), qq(\"$texfile\"));\n</code></pre>\n\n<p>If that's not quite right, then the program I showed earlier will make it easier to find the solution.</p>\n\n<p><strong>Update:</strong> Borodin's comment below about this making no difference to <code>$texfile</code> is accurate. The fact that we're passing a list to <code>system()</code> means that the shell isn't involved at all.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 0, "creation_date": 1467816990, "post_id": 38221509, "comment_id": 63876266, "body": "@ Borodin I see how this could be a problem xD. I have attempted to apply this temporary fix rapidly but it does not seem to be taking. Though I haven&#39;t had a chance to check the calling directories as I may perltex located in multiple locations (I know I shouldn&#39;t just haven&#39;t got round to cleaning up yet) so I&#39;ll be sure to check that first tomorrow and hopefully get back to you then."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 0, "creation_date": 1467879752, "post_id": 38221509, "comment_id": 63902391, "body": "@NzFrancis: Please read my update. You need <a href=\"https://metacpan.org/pod/Win32::ShellQuote\" rel=\"nofollow noreferrer\">Win32::ShellQuote</a>"}, {"owner": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 0, "creation_date": 1467894615, "post_id": 38221509, "comment_id": 63912116, "body": "Sorry for the delay, I think I need to check my notification settings. I have cleaned up my perl installations, tried your hotfix, returned the original perltex file, installed the Win::ShellQuote module and then tried the above code but it still fails to find the correct path and is cutting off at the space. Atleast thanks to you I am now aware of the precise problem but I still don&#39;t see how your suggestions aren&#39;t working, cause based on your code I can see why they should work..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 0, "creation_date": 1467897406, "post_id": 38221509, "comment_id": 63914079, "body": "@NzFrancis: The file that I&#39;ve been working with is <a href=\"http://texdoc.net/texmf-dist/scripts/perltex/perltex.pl\" rel=\"nofollow noreferrer\">perltex.pl</a>. Its MD5 checksum is <code>bd69ec2ff1c121b18247ae0fa54420dc</code>. You should start debugging perltex: it&#39;s not hard. I can talk you through it if you want to go off-band. The problem must be with the contents of <code>@latexcmdline</code> when latex itself is executed at line 158 with <code>exec {$latexcmdline[0]} @latexcmdline</code>. Just dump the contents of the array there and we will be wiser"}, {"owner": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 0, "creation_date": 1467967715, "post_id": 38221509, "comment_id": 63944758, "body": "@ Borodin Thanks for your time and effort, I would indeed appreciate a few pointers for debugging perltex (I&#39;ll start with dumping its contents as suggested). Though I am not quite sure how to go about getting my own checksum, nor what the MD5 means."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 0, "creation_date": 1467969015, "post_id": 38221509, "comment_id": 63945476, "body": "@NzFrancis: It&#39;s simple enough to google MD5. <a href=\"https://en.wikipedia.org/wiki/MD5\" rel=\"nofollow noreferrer\">Here&#39;s the Wikipedia page</a>. There are numerous MD5 calculators that will evaluate the checksum for a file, just to make sure that you are using the same one as I am. Again, just google &quot;md5 calculator&quot; and pick one that you like. As for debugging perltex, please first make sure that the update to my answer isn&#39;t sufficient; I fondly hope that you can get away without changing <code>perltex.pl</code> at all. Otherwise, it&#39;s a matter of adding <code>print</code> statements to see the intermediate values as they are calculated"}, {"owner": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 0, "creation_date": 1468222904, "post_id": 38221509, "comment_id": 64019608, "body": "@ Borodin - Indeed I should have started there before asking. The checksum for the perltex file  have is &#39;30B54F23CF6801B72511B896DAB22C26&#39; calculated from an online calculator. I should perhaps mention I am using 32-bit versions of everyting, not sure if this has an influence. And as for your other debugging instruction, I tried your updated answer without succes and proceeded to print the contents as suggested. I updated that in my origininal post as an edit on friday, I guess I should have left a comment saying so, I&#39;m still figuring out how all the notifications work xD."}, {"owner": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "edited": false, "score": 0, "creation_date": 1468829780, "post_id": 38221509, "comment_id": 64269198, "body": "@ Borodin - Thanks in any case fo your help, I&#39;m going to mark this as accepted as I now know the cause of the problem and how to go about solving it, even it is isn&#39;t explicitly fixed."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467880536, "last_edit_date": 1592644375, "creation_date": 1467800016, "answer_id": 38221509, "question_id": 38220033, "link": "https://stackoverflow.com/questions/38220033/how-can-i-get-perl-to-correctly-pass-a-command-line-argument-with-multiple-argum/38221509#38221509", "title": "How can I get perl to correctly pass a command line argument with multiple arguments and complex file paths (spaces and symbols)?", "body": "<h3>Update</h3>\n<p>I initially recommended that you should use <a href=\"https://metacpan.org/pod/String::ShellQuote\" rel=\"nofollow noreferrer\"><code>String::ShellQuote</code></a> but that module is for Linux only so I deleted my answer when I realised that your question was about the Windows system</p>\n<p>It seems that there's also a <a href=\"https://metacpan.org/pod/Win32::ShellQuote\" rel=\"nofollow noreferrer\"><code>Win32::ShellQuote</code></a> which does the same thing for Windows, so I am renewing my suggestion</p>\n<p>As I said before, the issue is that perltex itself doesn't properly handle paths containing whitespace, even if they are correctly passed as a single element of <code>@ARGV</code>. I believe the solution is to pass the path <em>including enclosing quotes</em>, although I have never been able to test this properly as I have no LaTex installation</p>\n<p>Unfortunately, even if I pass <code>qq{&quot;$texfile&quot;}</code>, the quotes are still stripped before they reach the target program, so they must be protected in some way</p>\n<p>You need the <code>quote_system</code> function from that module, which will prepare a list of strings so that they retain any quotation marks</p>\n<p>Using a parameter of <code>quote_system(qq{&quot;$texfile&quot;})</code> produces the correct result in my tests. It is the equivalent of passing <code>qq{&quot;\\\\&quot;$texfile\\\\&quot;&quot;}</code> but less ugly</p>\n<p>So your system call should be like this (with <em>no</em> modification to perltex.pl)</p>\n<p>I have applied the same principle to <code>$Filename</code> as it may well be that this also contains whitespace</p>\n<pre><code>use Win32::ShellQuote 'quote_system';\n\nsystem(quote_system(\n    'perltex',\n    '--latex=pdflatex',\n    '--nosafe',\n    qq{--jobname=&quot;$Filename&quot;},\n    qq{&quot;$texfile&quot;},\n));\n</code></pre>\n<br/>\n<hr />\n<p>Okay, well I have a solution of sorts</p>\n<p>The issue, as I suspected, is that, although the path is passed as a single string to <code>perltex.pl</code>, the latter doesn't handle paths with spaces properly after it has received them</p>\n<p>The temporary fix is to hack <code>perltex.pl</code></p>\n<p>Line 82 of my version of <code>perltex.pl</code> (there is no version number in the source) reads</p>\n<pre><code>$latexcmdline[$firstcmd] = &quot;\\\\input $option&quot;;\n</code></pre>\n<p>If you change that to</p>\n<pre><code>$latexcmdline[$firstcmd] = qq{\\\\input &quot;$option&quot;};\n</code></pre>\n<p>then all should be well. However this is a solid fix only when it is distributed by the author of <code>perltex</code>. Meanwhile I am looking for a nicer solution from the calling side</p>\n"}], "owner": {"reputation": 13, "user_id": 6552416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce893be6992a7f1edff69b1c41df09c2?s=128&d=identicon&r=PG&f=1", "display_name": "NzFrancis", "link": "https://stackoverflow.com/users/6552416/nzfrancis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 0, "accepted_answer_id": 38221509, "answer_count": 2, "score": 0, "last_activity_date": 1467971290, "creation_date": 1467795612, "last_edit_date": 1467971290, "question_id": 38220033, "link": "https://stackoverflow.com/questions/38220033/how-can-i-get-perl-to-correctly-pass-a-command-line-argument-with-multiple-argum", "title": "How can I get perl to correctly pass a command line argument with multiple arguments and complex file paths (spaces and symbols)?", "body": "<p>I have a small perl script which collects file paths from an excel file and passes them through the command line to perltex which then compiles a pdf based on the files and paths chosen.</p>\n\n<p>My problem is that the moment I introduce more complex file paths (which is necessary based on the network setup of the final user pool) perltex fails to find the file paths, cutting them at the space.</p>\n\n<p>A MWE is a follows</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.14.2;\n\nuse Text::Template;\nuse Spreadsheet::Read;\nuse Spreadsheet::ParseXLSX;\nuse utf8;\nuse charnames qw( :full :short );\nuse autodie;\n\nmy $row = 5;\nmy $col = 15;\nmy $File = \"C:/Users/me/Desktop/Reporting-Static/Input-test1.xlsm\";\nmy $parser   = Spreadsheet::ParseXLSX-&gt;new();             \nmy $workbook = $parser-&gt;parse($File);\nmy $worksheet = $workbook-&gt;worksheet(\"Input\");\nmy $cell = $worksheet-&gt;get_cell($row, $col);\nmy $Filename = $cell-&gt;Value();\n\nmy $texfile = \"C:/Users/me/Desktop/Reporting-Static/file.tex\"; \n# can't find this file if there are spaces in the address\nsystem(\"perltex\", \"--latex=pdflatex\", \"--nosafe\", \"--jobname=$Filename\", \"$texfile\");\n\nif ( $? == -1 )\n {\n   print \"command failed: $!\\n\";\n }\n else\n {\n   printf \"command exited with value %d\", $? &gt;&gt; 8;\n }\n\n exit;\n</code></pre>\n\n<p>However, the moment I change the folder name to one with spaces eg. \"Reporting Static\" it fails to find the tex file.</p>\n\n<p>I have read several other posts regarding this on stack exchange and other websites but for whatever reason the proposed solutions do not appear to work for me. I have tried</p>\n\n<pre><code>my $texfile = \"C:/Users/me/Desktop/Reporting Static/file.tex\";\nmy $texfile = C:/Users/me/Desktop/\"Reporting Static\"/file.tex;\nmy $texfile = \"\\\"C:/Users/me/Desktop/\"Reporting Static\"/file.tex\\\"\";\nmy $texfile = \"\\\"C:/Users/me/Desktop/Reporting Static/file.tex\\\"\";\nmy $texfile = \"C:/Users/me/Desktop/Reporting^ Static/file.tex\";\nmy $texfile = \"C:/Users/me/Desktop/Reporting\\^ Static/file.tex\";\n</code></pre>\n\n<p>As well as a few other combinations or varioations of the above, all without success. I have also tried replacing the double quote with a single quote so that perl doesn't interpolate the contents.</p>\n\n<p>I have also tried manually typing all of the above into the command prompt to check whether there was a small issue with the way perl passed the commands to the command line but still no luck.</p>\n\n<p>I am aware that I can use the 'dir /X ~1 c:\\' command to find system name allocations that avoid spaces but the idea is that the filename and location will be dynamic and change as a funtion of department and site, so I would prefer to avoid trying to write a script which will go and find this pathname and use it to replace all locations using spaces or other special characters.</p>\n\n<p>The final idea that I had is that this problem could be connected ot the way that perltex passes it's arguments yet I am unable to find any documentation (that I can follow...) on the specifics of how this particular aspect of the file functions.</p>\n\n<p>So my questions are, is there something I am missing not metioned in the other answers that I have read regarding how to correctly pass these paths to perltex, is there perhaps some sort of incompatiblity in how I'm trying to go about this, is this more probabl linked to perltex as opposed to perl or cmd or is there something completely different that I am unaware of that is stopping this from working???</p>\n\n<p>EDIT:\nfrom cmd prompt perltex returns a \"unable to find path X, please enter another file location\". Until now I hadn't really tested retyping the path by by entering 'C:/Users/me/Desktop/\"Reporting Static\"/file.tex' (no quotes at the beginning) it is subsequently accepted and runs. but initially passing it this path does not work, suggesting that some internal perltex code accepts the inital path differently to being repassed the same path after an error.... not quite sure what to make of this.</p>\n\n<p>EDIT:\nThe contents of @latexcmdline that I extracted</p>\n\n<pre><code>    $VAR1 = [\n      'pdflatex',\n      '--jobname=--',\n      '\\\\makeatletter\\\\def\\\\plmac@tag{AYNNNUVKQVJGZKKPGPTH}\\\\def\\\\plmac@tofile{Perl.topl}\\\\def\\\\plmac@fromfile{Perl.frpl}\\\\def\\\\plmac@toflag{Perl.tfpl}\\\\def\\\\plmac@fromflag{Perl.ffpl}\\\\def\\\\plmac@doneflag{Perl.dfpl}\\\\def\\\\plmac@pipe{Perl.pipe}\\\\makeatother\\\\input C:/Users/me/Desktop/PERLTEST/Perl',\n      'Modules/RevuedeProjetDB.tex'\n    ];\n</code></pre>\n\n<p>This was done by inserting</p>\n\n<pre><code>    use File::Slurp;\nuse Data::Dumper;\nwrite_file 'C:\\Users\\me\\Desktop\\PERLTEST\\mydump.log', Dumper( \\@latexcmdline );\n</code></pre>\n\n<p>before the exec command.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467793892, "post_id": 38219085, "comment_id": 63861794, "body": "The only practical way I can think of is using a source filter. But why are you so eager to avoid any possible overhead from disabled debugging code? Is your code already impractically slow and you can&#39;t afford to make it any worse?"}, {"owner": {"reputation": 2244, "user_id": 5520680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/C1jQH.png?s=128&g=1", "display_name": "Tom&#39;s", "link": "https://stackoverflow.com/users/5520680/toms"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467794620, "post_id": 38219085, "comment_id": 63862197, "body": "Well, I write a little parser for a csv-like file, and the file is over 40Go and it take like 24 hours to complete, so if I can develop something with no overhead, I will be happy. It&#39;s the most recent example, but I will have to write more Perl script in a soon futur, so I better be prepared."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1467798368, "post_id": 38219085, "comment_id": 63864263, "body": "I guess you mean 40 Gigabyte. If that&#39;s a one-time program, it doesn&#39;t really matter. If you need to run this a lot, you can post it on codereview.se and we can take a look. In that case, you might want to do some Devel::NYTProf, but remember that the first rule of profiling is <i>don&#39;t do it</i>. If you also have a database involved, read the documentation for DBI&#39;s profiler."}, {"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1469471455, "post_id": 38219085, "comment_id": 64539114, "body": "It&#39;s the first rule of optimization not profiling."}, {"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1565093001, "post_id": 38219085, "comment_id": 101235671, "body": "<code>assert()</code> in C is special not because of the <code>#ifndef NDEBUG</code>; instead it can output the original expression to test without variable substitution (if you write <code>assert (a &lt; b)</code> your <b>do not</b> get <code>3 &lt; 4</code> (for example) or even <code>0</code> as output.). That&#39;s the hard part in Perl."}], "answers": [{"comments": [{"owner": {"reputation": 2244, "user_id": 5520680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/C1jQH.png?s=128&g=1", "display_name": "Tom&#39;s", "link": "https://stackoverflow.com/users/5520680/toms"}, "edited": false, "score": 1, "creation_date": 1467794792, "post_id": 38219516, "comment_id": 63862301, "body": "Big thanks to you. I will take time to read and experiment all of this, especially if I can easely use that in a Perl Module."}, {"owner": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1548709737, "post_id": 38219516, "comment_id": 95631564, "body": "I&#39;m wondering why the <code>DEBUG</code> constant itself isn&#39;t optimized out. I mean: It&#39;s used, but all uses have been optimized in a way that it&#39;s not needed any more. If either all debug prints are removed, or all debug prints are executed, there is no reason to keep <code>DEBUG</code> itself..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1856, "user_id": 6607497, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/f0a0b03f5bbd44186399f4b0aea38049?s=128&d=identicon&r=PG&f=1", "display_name": "U. Windl", "link": "https://stackoverflow.com/users/6607497/u-windl"}, "edited": false, "score": 0, "creation_date": 1548715420, "post_id": 38219516, "comment_id": 95633613, "body": "@U.Windl that&#39;s because the constant is really a function. And while the Perl compiler optimizes things away that are never called, functions could be called dynamically, so it won&#39;t remove them"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 9, "last_activity_date": 1467798514, "last_edit_date": 1467798514, "creation_date": 1467793955, "answer_id": 38219516, "question_id": 38219085, "link": "https://stackoverflow.com/questions/38219085/perl-way-of-execute-ignore-code-like-assert-in-c/38219516#38219516", "title": "Perl way of execute/ignore code (like assert in C)", "body": "<p>Perl does not have that built-in. There is also no compiling happening like in C because Perl is an interpreted language. The fact that <a href=\"https://metacpan.org/pod/Carp::Assert\" rel=\"nofollow noreferrer\">Carp::Assert</a> exists (and is written by someone who is involved in the Perl core) is a pretty good assertion (pun intended) that this feature is not there in Perl directly.</p>\n\n<p>In general, a couple of <code>if DEBUG</code> or <code>if $debug</code> or similar are no big deal. Computers today are so fast that those operations hardly matter unless you have them in a loop that gets called millions of times, or you have extremely time-critical code. In your average program, you can ignore that overhead.</p>\n\n<p>In fact perl<sup>1</sup> will optimize those out if you use a constant. Consider this program.</p>\n\n<pre><code>use constant DEBUG =&gt; 1;\nprint \"stuff\" if DEBUG;\n</code></pre>\n\n<p>If run with <a href=\"https://metacpan.org/pod/B::Deparse\" rel=\"nofollow noreferrer\">B::Deparse</a>, it will produce the following output.</p>\n\n<pre><code>$ perl -MO=Deparse scratch.pl \nuse constant ('DEBUG', 1);\nprint 'stuff';\nscratch.pl syntax OK\n</code></pre>\n\n<p>There's our <code>print</code> statement. But if you turn the <code>DEBUG</code> constant to <code>0</code> and run the same command, you get something else.</p>\n\n<pre><code>$ perl -MO=Deparse scratch.pl \nuse constant ('DEBUG', 0);\n'???';\nscratch.pl syntax OK\n</code></pre>\n\n<p>As you can see, the <code>print</code> is gone. All that remains is <code>'???';</code>, which is a NOOP.</p>\n\n<p>Let's run the same thing with <a href=\"http://perldoc.perl.org/B/Concise.html\" rel=\"nofollow noreferrer\">B::Concise</a>. First, with <code>DEBUG</code> turned to <code>0</code>.</p>\n\n<pre><code>$ perl -MO=Concise scratch.pl \n3  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 120 scratch.pl:1129) v:{ -&gt;3\n-     &lt;0&gt; ex-const v*/4,FOLD -&gt;3\nscratch.pl syntax OK\n</code></pre>\n\n<p>And then with <code>DEBUG</code> set to <code>1</code>.</p>\n\n<pre><code>$ perl -MO=Concise scratch.pl \n6  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 120 scratch.pl:1129) v:{ -&gt;3\n5     &lt;@&gt; print vK/FOLD -&gt;6\n3        &lt;0&gt; pushmark s -&gt;4\n4        &lt;$&gt; const(PV \"stuff\") s -&gt;5\nscratch.pl syntax OK\n</code></pre>\n\n<p>As you can see, there are more operations. The <code>print \"stuff\" if DEBUG</code> is in fact optimized out. This is pretty much the same thing as what you describe in your C example.</p>\n\n<p>Go ahead and try out with those two modules to see if it behaves the same when using <a href=\"https://metacpan.org/pod/Carp::Assert\" rel=\"nofollow noreferrer\">Carp::Assert</a>.</p>\n\n<hr>\n\n<p>If you don't like that, take a look at <a href=\"https://metacpan.org/pod/Smart::Comments\" rel=\"nofollow noreferrer\">Smart::Comments</a>. It introduces comment syntax that get executed when you <code>use</code> it. That's pretty cool, because those can just sit around and not do stuff when you don't load the module.</p>\n\n<blockquote>\n<pre><code>use Smart::Comments;\n\nmy $var = suspect_value();\n\n### $var\n</code></pre>\n</blockquote>\n\n<p>There is also <a href=\"https://metacpan.org/pod/Devel::Comments\" rel=\"nofollow noreferrer\">Devel::Comments</a>, which seems to do the same.</p>\n\n<p><sup>1) <em>perl</em> with a small p is the interpreter program, not the language</sup></p>\n"}], "owner": {"reputation": 2244, "user_id": 5520680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/C1jQH.png?s=128&g=1", "display_name": "Tom&#39;s", "link": "https://stackoverflow.com/users/5520680/toms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 38219516, "answer_count": 1, "score": 3, "last_activity_date": 1467798514, "creation_date": 1467792381, "last_edit_date": 1467792865, "question_id": 38219085, "link": "https://stackoverflow.com/questions/38219085/perl-way-of-execute-ignore-code-like-assert-in-c", "title": "Perl way of execute/ignore code (like assert in C)", "body": "<p>I'm a real beginner in Perl programming (v 5.20.2 on Debian 8) and I'm looking to a way of implementing a \"debugging\" with no overhead at Perl execution-time when I don't need to debug.</p>\n\n<p>In C, we can do that with <code>assert</code> and the <code>-D</code> gcc option (and in general, you can do your own assert by following the same way with your own define constante like <code>MY_DEBUG</code>).</p>\n\n<p>Well, first idea is simply to set a global variable <code>debug</code> and test again it, but it will generate a bunch of useless test when I will don't want to be in debug mode.</p>\n\n<p>There are CPAN Module like <a href=\"https://metacpan.org/pod/assertions\" rel=\"nofollow\">assertions</a> or <a href=\"https://metacpan.org/pod/Carp::Assert\" rel=\"nofollow\">Carp::Assert</a>, but it's seem that there will be an if test even when I don't want debugging.</p>\n\n<p>Is there a Perl way for deactivate portion of code depending on \"something\"?</p>\n\n<p>Bonus question: I want to make a Perl module with the same functionality, so if there is a way to say \"enable/disable debugging\" when I do the <code>use MyModule</code>, well, I will be a happy Perl developer.</p>\n"}, {"tags": ["perl", "error-handling", "sudo", "su"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467793532, "post_id": 38218998, "comment_id": 63861612, "body": "Why do you say <i>&quot;Also I don&#39;t want to use external modules&quot;</i> and what do you mean by &quot;external&quot;?"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467794075, "post_id": 38218998, "comment_id": 63861920, "body": "@Borodin well, I&#39;m not allowed to install any CPAN modules, or modules which are not part of Perl distribution. I have corrected my question :)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1467794174, "post_id": 38218998, "comment_id": 63861970, "body": "If you &quot;don&#39;t want to&quot; use CPAN modules, then you&#39;re using the wrong language. If you&#39;re &quot;not allowed to&quot; use CPAN modules, then you&#39;re in the wrong job :-)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1467794293, "post_id": 38218998, "comment_id": 63862039, "body": "Also, if you only want to use modules that are included in the Perl distribution, then you&#39;ll need to tell us which version of Perl you are using. The list of bundled modules changes with every release."}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1467794385, "post_id": 38218998, "comment_id": 63862078, "body": ":) I&#39;m using  perl, v5.8.4 built for i86pc-solaris-64int and don&#39;t laugh please, I&#39;m not admin of that platform, pure user only. Thats why I&#39;m not allowed to install anything in perl"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1467794584, "post_id": 38218998, "comment_id": 63862183, "body": "Are you using an operating system from 2004 as well? Is it still supported? Do you get security patches for it?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467794604, "post_id": 38218998, "comment_id": 63862189, "body": "I just noticed the (added) restriction to core modules. Are you sending input to your command?"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467794871, "post_id": 38218998, "comment_id": 63862335, "body": "@zdim, nope, not sending input to the command only executing that command (sometimes with arguments) and catching the output. Out of curiosity are you thinking of backticking instead of open() ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467794888, "post_id": 38218998, "comment_id": 63862345, "body": "You don&#39;t need root access to install a Perl module for your own private use"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1467794921, "post_id": 38218998, "comment_id": 63862359, "body": "@dave, nope OS is from 2011 and as I wrote, I&#39;m not sysadmin of that system, so can&#39;t help it much :)"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467795035, "post_id": 38218998, "comment_id": 63862427, "body": "@borodin I know that ;) but installing modules for private use is not very future proof I believe. Trust me I would do that as I&#39;m tired of all restrictions I &#39;m facing but...."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467795254, "post_id": 38218998, "comment_id": 63862548, "body": "@taiko: I&#39;m not sure what you mean by &quot;future proof&quot;. If you install a  module under your own source directory then you can just distribute it as part of the release"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467795526, "post_id": 38218998, "comment_id": 63862688, "body": "@borodin :) well you&#39;re technically right. But admin&#39;s explicitely mentioned no no-core modules should be used. However, If no other option, I will need to do that, and try to hide it :) Until then trying to find out other options ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467795665, "post_id": 38218998, "comment_id": 63862779, "body": "@taiko: That&#39;s especially true of pure Perl modules, which you could just copy into place and say you wrote it yourself!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1467797248, "post_id": 38218998, "comment_id": 63863618, "body": "@taiko I&#39;ve considerably reworked the addition to the post."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1468829546, "post_id": 38219252, "comment_id": 64269068, "body": "@taiko Thank you for the attribution.  I don&#39;t know whether you still have interest in this, but just to let you know that I added a summary of <code>qx</code> use for this."}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1469080800, "post_id": 38219252, "comment_id": 64392186, "body": "saw it. So far I used IPC::Open3 as you suggested and its doing its job for me. But I like qx also. Never used qx before and I will try it. Thank you very much for the summary."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 1, "creation_date": 1469081086, "post_id": 38219252, "comment_id": 64392309, "body": "@taiko  Great -- open3 is a powerful tool.  While <code>qx</code> (backticks) is dirt simple and yet quite adequate :)  Thanks for responding!"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1469081564, "post_id": 38219252, "comment_id": 64392547, "body": "yeah it looks very good indeed. I&#39;m using it as descibed in <a href=\"http://www.perlmonks.org/?node_id=151886\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=151886</a>, but I understood its not good to mix buffered I/O (like read() or &lt;FH&gt;) with select() as one of monks suggested. Anyhow I couldn&#39;t find another way yet. Somebody suggested sysread, but I need to read whole line ended with \\n\\r and not just number of bytes. However I have to admint, that I don&#39;t undrestand whole thing about sysread, buffering, IO etc yet"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1541493135, "last_edit_date": 1541493135, "creation_date": 1467792938, "answer_id": 38219252, "question_id": 38218998, "link": "https://stackoverflow.com/questions/38218998/how-to-get-stderr-in-perl-from-a-command-executed-in-pipe-with-su-c/38219252#38219252", "title": "How to get STDERR in Perl from a command executed in pipe with su -c", "body": "<p>This is covered thoroughly <a href=\"http://perldoc.perl.org/perlfaq8.html#How-can-I-capture-STDERR-from-an-external-command%3F\" rel=\"nofollow noreferrer\">in perlfaq8</a>. Since you are using a <em>piped open</em>, the relevant examples are those that go by <code>open3</code> from the core <a href=\"http://perldoc.perl.org/IPC/Open3.html\" rel=\"nofollow noreferrer\">IPC::Open3</a> module.</p>\n\n<p>Another option is to use <a href=\"http://search.cpan.org/~toddr/IPC-Run-0.94/lib/IPC/Run.pm\" rel=\"nofollow noreferrer\">IPC::Run</a> for managing your processes, and the <code>pump</code> function will do what you need. The <code>IPC::Open3</code> documentation says for <code>IPC::Run</code></p>\n\n<blockquote>\n  <p>This is a CPAN module that has better error handling and more facilities than Open3.</p>\n</blockquote>\n\n<p>With either of these you can manipulate <code>STDOUT</code> and <code>STDERR</code> separately or together, as needed.  For convenient and complete output capture also see <a href=\"http://search.cpan.org/~dagolden/Capture-Tiny-0.42/lib/Capture/Tiny.pm\" rel=\"nofollow noreferrer\">Capture::Tiny</a>.</p>\n\n<p>Other than <code>2&gt;output</code> redirection, there are no more elementary methods for the piped open.</p>\n\n<hr>\n\n<p>If you don't mind mixing the streams or losing <code>STDOUT</code> altogether, another option is</p>\n\n<pre><code>my $command = 'cmd 2&gt;&amp;1 1&gt;/dev/null'          # Remove 1&gt;/dev/null to have both\nmy $pid = open my $cmdOutput, \"-|\", $command;\n\nwhile (&lt;$cmdOutput&gt;) { print }                # STDERR only\n</code></pre>\n\n<p>The first redirection merges <code>STDERR</code> stream with <code>STDOUT</code> so you get them both, and mixed (with <code>STDOUT</code> subject to buffering, thus things may well come out of order). The second redirect sends the <code>STDOUT</code> away so with it in place you read only the command's <code>STDERR</code> from the handle.</p>\n\n<hr>\n\n<p>The question is about running an external command using <code>open</code> but I'd like to mention that the canonical and simple <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">qx</a> (<em>backticks</em>) can be used in the same way. It returns the <code>STDOUT</code> so redirection just like above is needed to get <code>STDERR</code>. For completeness:</p>\n\n<pre><code>my $cmd = 'cmd_to_execute';\nmy $allout = qx($cmd 2&gt;&amp;1);              # Both STDOUT and STDERR in $out, or\nmy $stderr = qx($cmd 2&gt;&amp;1 1&gt;/dev/null);  # Only STDERR\nmy $exit_status = $?;\n</code></pre>\n\n<p>The <code>qx</code> puts the child process exit code (status) in <code>$?</code>. This can then be inspected for failure modes; see a summary in the <code>qx</code> page or a very thorough discussion in <em><a href=\"http://perldoc.perl.org/perlop.html#I/O-Operators\" rel=\"nofollow noreferrer\">I/O operators in perlop</a></em>.</p>\n\n<p>Note that the <code>STDERR</code> returned this way is <em>from the command</em>, if it ran. If the command itself couldn't be run (for a typo in command name, or <code>fork</code> failed for some reason) then <code>$?</code> will be <code>-1</code> and the error will be in <code>$!</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 432, "user_id": 6542561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uEiJr.png?s=128&g=1", "display_name": "Bruce David Wilner", "link": "https://stackoverflow.com/users/6542561/bruce-david-wilner"}, "is_accepted": false, "score": 0, "last_activity_date": 1468270532, "last_edit_date": 1468270532, "creation_date": 1468260288, "answer_id": 38313404, "question_id": 38218998, "link": "https://stackoverflow.com/questions/38218998/how-to-get-stderr-in-perl-from-a-command-executed-in-pipe-with-su-c/38313404#38313404", "title": "How to get STDERR in Perl from a command executed in pipe with su -c", "body": "<p>The desired destination, opened for writing, could be dup()'ed to FD #2</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1497999436, "post_id": 42576292, "comment_id": 76314056, "body": "Just saw this accidentally, when answering a related question.  Nice to post your full solution :)"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498038663, "post_id": 42576292, "comment_id": 76329412, "body": "@zdim yeah. It might help somebody :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1498069487, "post_id": 42576292, "comment_id": 76351231, "body": "Right, it well may. It is interesting and non-trivial, too.  A comment: for comparing strings there is <code>eq</code> operator, <code>==</code> is for numbers. A filehandle is a &quot;wrapped&quot; number (file descriptor) so I&#39;d use <code>eq</code> for them. (Also, the <code>Scalar::Util::looks_like_number</code> says that a filehandle doesn&#39;t look like a number.)  I know that <code>IO::Select</code> docs use <code>==</code> in their example, and <code>IPC::Open3</code> mentions integers but these <i>are</i> lexical filehandles. (I don&#39;t know of any reason to use <code>==</code> for filehandles.)"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1498542064, "post_id": 42576292, "comment_id": 76526243, "body": "will try to change it in my script to see if it makes any difference"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501500463, "post_id": 42576292, "comment_id": 77789772, "body": "@zdim tried to use string operators, instead of number operators, but it looks there is no difference, at least not in my implermentation. Funny enough"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1501527655, "post_id": 42576292, "comment_id": 77808072, "body": "I recalled a possibiilty, that when <code>==</code> operator has filehandles to compare it may actually retrieve the file descriptor and compare that.  If that&#39;s the case then <code>==</code> <i>is</i> better to use.  But I am not at all sure about this.  Yes, it&#39;s interesting how things go under the hood (when I get to see/learn about it!)"}], "tags": [], "owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "is_accepted": false, "score": 1, "last_activity_date": 1501500215, "last_edit_date": 1501500215, "creation_date": 1488536551, "answer_id": 42576292, "question_id": 38218998, "link": "https://stackoverflow.com/questions/38218998/how-to-get-stderr-in-perl-from-a-command-executed-in-pipe-with-su-c/42576292#42576292", "title": "How to get STDERR in Perl from a command executed in pipe with su -c", "body": "<p>As suggested by <a href=\"https://stackoverflow.com/users/4653379/zdim\">zdim</a> I used the IPC::Open3 module for the matter and I've got something like this doing the job for me</p>\n\n<pre><code> $instanceCommand = qq(sudo su - &lt;username&gt; -c '&lt;command&gt;');\n my ($infh,$outfh,$errfh,$pid);\n $errfh = gensym();\n $pid = open3($infh, $outfh, $errfh, $instanceCommand);\n my $sel = new IO::Select;\n $sel-&gt;add($outfh,$errfh);\n while (my @ready = $sel-&gt;can_read){\n      foreach my $fh (@ready){\n           my $line =&lt;$fh&gt;;\n           if (not defined $line){\n                $sel-&gt;remove($fh);\n                next;\n                }\n           if ($fh == $outfh){\n                chomp($line);\n                #&lt;----- command output processing -----&gt;\n                }\n           elsif ($fh == $errfh){                                                                                      \n                chomp $line;\n                #&lt;----- command error processing -----&gt;\n                }\n           else {\n                die \"Reading from something else\\n\";\n                }\n            }\n      }\nwaitpid($pid, 0);\n</code></pre>\n\n<p>Maybe not completely bullet proof, but its working fine for me. Even whilst executing funny cascaded script as &lt; command > .</p>\n"}], "owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "accepted_answer_id": 38219252, "answer_count": 3, "score": 1, "last_activity_date": 1541493135, "creation_date": 1467792066, "last_edit_date": 1469214522, "question_id": 38218998, "link": "https://stackoverflow.com/questions/38218998/how-to-get-stderr-in-perl-from-a-command-executed-in-pipe-with-su-c", "title": "How to get STDERR in Perl from a command executed in pipe with su -c", "body": "<p>I'm trying to capture the output of the command executed as a different user using:</p>\n\n<pre><code>my $command = qq(sudo su - &lt;username&gt; -c '/usr/bin/whatever');\nmy $pid = open $cmdOutput, \"-|\", $command;\n</code></pre>\n\n<p>How can I capture the STDERR of <code>/usr/bin/whatever</code>?</p>\n\n<p>I tried</p>\n\n<pre><code>$pid = open $cmdOutput, \"-|\", $command || die \" something went wrong: $!\";\n</code></pre>\n\n<p>but it looks like this is capturing the possible errors of \"open\" itself.</p>\n\n<p>I also tried</p>\n\n<pre><code>my $command = qq(sudo su - &lt;username&gt; -c '/usr/bin/whatever' 2&gt;/tmp/error.message);\n</code></pre>\n\n<p>which will redirect the STDERR to the file, which I can parse later, but I wanted some more straightforward solution.</p>\n\n<p>Also, I only want to use core modules.</p>\n"}, {"tags": ["perl", "memory-management"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1467777972, "post_id": 38216097, "comment_id": 63855674, "body": "Please show the code for <code>flushIO</code>, <code>readCSVFile</code>, and <code>baselineHistRecords</code>. Why are you using <code>$value</code> in the loop when the control variable is <code>$file</code>?"}, {"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 1, "creation_date": 1467781058, "post_id": 38216097, "comment_id": 63856314, "body": "What is the total files size?"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1467783688, "post_id": 38216097, "comment_id": 63857041, "body": "Sounds like you exceed your memory capacity and start paging (and then thrashing).  Tell us your total memory capacity, OS, whether it&#39;s a 32-bit or 64-bit OS and Perl distribution, and total file size."}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1467793620, "post_id": 38216097, "comment_id": 63861654, "body": "I think I am familiar with this situation. I don&#39;t know what you want to accomplish having the 2000 csv in memory, but it <i>might</i> not be doable that way due to the hardware limitations on your system. You should try to assess if you actually need everything in memory... most of the times you don&#39;t. Two possible alternatives are to process  the data in batches or to store the files in a database and query the data you need afterwards."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1467798870, "post_id": 38216097, "comment_id": 63864610, "body": "This sounds like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What are you actually trying to accomplish? We&#39;re going to need more detail as to what you&#39;re doing that loads &#39;everything&#39; into memory."}, {"owner": {"reputation": 21, "user_id": 6554324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1SBK.png?s=128&g=1", "display_name": "Uma Mahesh", "link": "https://stackoverflow.com/users/6554324/uma-mahesh"}, "edited": false, "score": 0, "creation_date": 1467802789, "post_id": 38216097, "comment_id": 63866835, "body": "updated remaining functions and machine configuration and file details"}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1467804171, "post_id": 38216097, "comment_id": 63867659, "body": "There&#39;s tons of copying stuff around in the code that can be replaced with references or removed altogether. This will make memory footprint smaller and allow to read more data before hitting limits."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6554324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1SBK.png?s=128&g=1", "display_name": "Uma Mahesh", "link": "https://stackoverflow.com/users/6554324/uma-mahesh"}, "edited": false, "score": 0, "creation_date": 1467810460, "post_id": 38223007, "comment_id": 63871476, "body": "<code>foreach my $file (@files){                   my @records = readCSVFile($file);              \tbaselineHistRecords(@records);</code>   The above code doesn&#39;t work"}, {"owner": {"reputation": 21, "user_id": 6554324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1SBK.png?s=128&g=1", "display_name": "Uma Mahesh", "link": "https://stackoverflow.com/users/6554324/uma-mahesh"}, "edited": false, "score": 0, "creation_date": 1467810573, "post_id": 38223007, "comment_id": 63871553, "body": "The code should also work with data that was pulled from database.        so when i pull data from db, i store it in 2D array and pass it on to the function to baseline it."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "reply_to_user": {"reputation": 21, "user_id": 6554324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1SBK.png?s=128&g=1", "display_name": "Uma Mahesh", "link": "https://stackoverflow.com/users/6554324/uma-mahesh"}, "edited": false, "score": 0, "creation_date": 1467810927, "post_id": 38223007, "comment_id": 63871795, "body": "@user6554324, why? Get one row from DB, process it, throw it away immideately, repeat."}, {"owner": {"reputation": 21, "user_id": 6554324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1SBK.png?s=128&g=1", "display_name": "Uma Mahesh", "link": "https://stackoverflow.com/users/6554324/uma-mahesh"}, "edited": false, "score": 0, "creation_date": 1467811343, "post_id": 38223007, "comment_id": 63872108, "body": "right now i guess, i am building the array in memory and expecting the array to be thrown away after building it. However i think perl is not doing that way."}], "tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1467804798, "creation_date": 1467804798, "answer_id": 38223007, "question_id": 38216097, "link": "https://stackoverflow.com/questions/38216097/reading-2000-files-and-building-hashes-in-perl/38223007#38223007", "title": "Reading 2000 files and building hashes in perl", "body": "<p>This is more question for code review.</p>\n\n<ol>\n<li>There's a ton of completely useless copying around in the code. E.g.: why the hell you copy data from  my <code>@$rec</code> to <code>@newrec</code>? <code>$rec</code> to <code>@row</code>? Why do you return plain list of lines from <code>readCSVFile</code> instead of reference?</li>\n<li>You don't really need to read entire file in memory and then process it - you can process data line by line and throw it away immideately after you done with it.</li>\n</ol>\n"}], "owner": {"reputation": 21, "user_id": 6554324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1SBK.png?s=128&g=1", "display_name": "Uma Mahesh", "link": "https://stackoverflow.com/users/6554324/uma-mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1467804798, "creation_date": 1467777318, "last_edit_date": 1467802737, "question_id": 38216097, "link": "https://stackoverflow.com/questions/38216097/reading-2000-files-and-building-hashes-in-perl", "title": "Reading 2000 files and building hashes in perl", "body": "<p>I have a code to parse 2000 csv files and build hashes based on them.\ncode is running good and fast until it reads ~100 files and there after it is running at snail pace</p>\n\n<p>Memory consumed is ~ 1.8 GB uncompressed\nGoal is to build global hash %_hist from the csv files.</p>\n\n<p>File sizes range between 20KB to 30 MB<br>\nOS is Mac with 12 GB RAM \n64 bit perl 5.18</p>\n\n<p>I have create every variable in the functions as \"my\" expecting it to be released after the function exits.\nThe only persistent global variable is %_hist</p>\n\n<p>Is there a way to improve performance?</p>\n\n<pre><code>foreach my $file (@files){\n    iLog (\"Checking $file\");\n\n        $| = 1;  #flush io\n        return error(\"File $file doesn't exist\") if not -e $file;\n\n        my @records = readCSVFile($file);   #reads csv file to 2d array and returns the array\n        my @formatted_recs;                \n\n        foreach $rec ( @records ){\n\n            my ($time,$c,$user_dst,$client,$ip_src,$first_seen,$last_seen,$first_seen_time,$last_seen_time,$device_ip,$country,$org,$user_agent) = @$rec;\n\n\n\n            my @newrec = ($time,$c,$client,$first_seen,$last_seen,$ip_src,$user_agent,$device_ip,$country,$org);\n\n            next if $time =~ /time/i;       #Ignore first record\n            push(@formatted_recs, \\@newrec);\n        }\n\n        baselineHistRecords(@formatted_recs);\n}\n\nsub readCSVFile{\nmy $file = shift;\n\n\nmy @data;\nopen my $fh, '&lt;', $file or return error(\"Could not open $file: $!\");\n\nmy $line = &lt;$fh&gt;;           #Read headerline\nmy $sep_char = ',';\n$sep_char = ';' if $line =~ /;\"/;\n$sep_char = '|' if $line =~ /\\|/;\n\nmy $csv = Text::CSV-&gt;new({ sep_char =&gt; \"$sep_char\" });\npush (@data, split(/$sep_char/, $line) );\nwhile( my $row = $csv-&gt;getline( $fh ) ) { \n    push @data, $row;\n}\nclose $fh;\nreturn @data;\n}\n\n\nsub baselineHistRecords{\nmy @recs = @_;\n\nundef $_ for ($time,$c,$client,$first_seen,$last_seen,$ip_src,$user_agent,$device_ip,$country,$org) ;\nundef $_ for (%device_count, %ua_count,  %location_count, %org_count );\nmy ($time,$c,$client,$first_seen,$last_seen,$ip_src,$user_agent,$device_ip,$country,$org) ;\n\nmy %loc = {}; my %loc2rec = {};\nmy %device_count = {}; my %ua_count = {}; my %location_count = {}; my %sorg_count = {};\nmy $hits=0;\nmy @suspicious_hits = ();\n\n\nforeach $rec (@recs){\n    my $devtag=''; my $os = ''; \n\n    my @row = @{$rec};\n    ($time,$c,$client,$first_seen,$last_seen,$ip_src,$ua,$device_ip,$country,$org) = @row;\n    veryverbose(\"\\n$time,$c,$client,$first_seen,$last_seen,$ip_src,$user_agent,$device_ip,$country,$org\");\n\n    next if not is_ipv4($ip_src);\n\n    ###### 1. Enrich IP\n    my $org = getOrgForIP($ip_src);\n    my ($country_code,$region,$city) = getGeoForIP($ip_src);\n    my $isp = getISPForIP($ip_src);\n    my $loc = join(\" &gt; \",($country_code, $region));\n    my $city = join(\" &gt; \",($country_code, $region, $city));\n    my $cidr = $ip_src; $cidr =~ s/\\d+\\.\\d+$/0\\.0\\/16/; #Removing last octet\n#   my $packetmail = getPacketmailRep($ip_src);\n#   push (@suspicious_hits, \"$time $c $client $ip_src $ua / $packetmail\") if $packetmail !~ /NOTFOUND/;\n\n    ##### 2. SANITIZE\n\n\n    $ua = cannonize($ua);\n\n    $devtag = $&amp; if $ua =~ /\\([^\\)]+\\)/; \n    @tokens = split(/;/, $devtag);\n    $os = $tokens[0];\n    $os =~ s/\\+/ /g;$os =~ s/\\(//g;$os =~ s/\\)//g;\n    $os = 'Android' if $os !~ /Android/i and $devtag =~ /Android/i;\n    $os = \"Windows NT\" if $os =~ /compatible/i or $os =~ /Windows NT/i;\n\n\n    $_hist{$client}{\"isp\"}{$isp}{c} += 1;\n    $_hist{$client}{\"os\"}{$os}{c} += 1;\n    $_hist{$client}{\"ua\"}{$ua}{c} += 1 if not is_empty ($ua); \n    $_hist{$client}{\"ua\"}{c} += 1 if not is_empty ($ua);        #An exception marked since all logs doesn't have UA values\n    $_hist{$client}{\"loc\"}{$loc}{c} += 1; \n    $_hist{$client}{\"org\"}{$org}{c} += 1;\n    $_hist{$client}{\"cidr\"}{$cidr}{c} += 1;\n    $_hist{$client}{\"city\"}{$city}{c} += 1;\n    $_hist{$client}{\"c\"} += 1;\n\n    $hits = $hits + 1;\n\n    print \".\" if $hits%100==0;\n    debug( \"\\n$ip_src : $os $loc $isp $org $ua: \".$_hist{$client}{\"os\"}{$os}{c} );\n}\n\nprint \"\\nHITS: $hits\";\nreturn if ($hits==0);       #return if empty\n\nprintf(\"\\n######(( BASELINE for $client  (\".$_hist{$client}{c} .\" records) ))#######################\\n\");   \nforeach my $item  (qw/os org isp loc ua cidr/){\n\n\n    debug( sprintf (\"\\n\\n--(( %s: %s ))-------------------------------- \",$client,uc($item)) );\n\n    ## COMPUTE Usage Percent\n    my @item_values = sort { $_hist{$client}{$item}{$b}{c} &lt;=&gt; $_hist{$client}{$item}{$a}{c} } keys %{ $_hist{$client}{$item} };\n\n    my @cvalues = ();\n    foreach my $key ( @item_values ){   \n\n        my $count = $_hist{$client}{$item}{$key}{c};\n        my $total = $_hist{$client}{c};\n\n        $total = $_hist{$client}{\"ua\"}{c} if $item =~ /^ua|os$/i and $_hist{$client}{\"ua\"}{c};      #Over for User_agent and OS determination as all logs doesn't have them\n\n\n        my $pc = ceil(( $count / $total ) * 100) ;\n\n\n        debug (\"Ignoring empty value\") if is_empty($key); # Ignoring Empty values \n        next if is_empty($key);\n\n        $_hist{$client}{$item}{$key}{p} = $pc ;\n\n        push (@cvalues, $pc);\n        #printf(\"\\n%3d \\% : %s\",$pc,$key) if $pc&gt;0;\n    }\n\n    ## COMPUTE Cluster Centers\n    my @clustercenters =  getClusterCenters(3,@cvalues);\n    my ($low, $medium, $high) = @clustercenters;\n    $_hist{$client}{$item}{low} = $low;\n    $_hist{$client}{$item}{medium} = $medium;\n    $_hist{$client}{$item}{high} = $high;\n\n    my %tags = ( $low =&gt; \"rare\", \n                 $medium =&gt; \"normal\", \n                 $high =&gt;\"most common\",\n                 );\n    debug (\"\\n(Cluster Centers) : $low \\t$medium \\t $high\\n\");\n    foreach my $key ( @item_values ){   \n        next if is_empty($key);             \n        my $pc = $_hist{$client}{$item}{$key}{p};                   \n        $_hist{$client}{$item}{$key}{tag} = $tags{ closest($pc, @clustercenters) };\n\n        debug( sprintf(\"\\n%3d \\% : %s : %s\",$pc, $_hist{$client}{$item}{$key}{tag} ,  $key) );\n    }\n}\n\nprintf(\"\\n\\n###################################\\n\");\n\nsaveHistBaselines();\n</code></pre>\n\n<p>}</p>\n\n<p>Thanks,\nUma</p>\n"}, {"tags": ["perl", "unit-testing", "code-reuse"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1467781682, "post_id": 38215911, "comment_id": 63856460, "body": "Either set PERL5LIB to include your t directory, or just <code>use lib</code> inside your test file."}], "answers": [{"comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1467825200, "post_id": 38228686, "comment_id": 63881438, "body": "I am just using <code>use lib &#39;t&#39;;</code>, which I still have to copy to very test case, but that is much better than copying all the mock code around, doesn&#39;t mess with global settings, and works."}], "tags": [], "owner": {"reputation": 137, "user_id": 6547823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuDy7.jpg?s=128&g=1", "display_name": "Avikd", "link": "https://stackoverflow.com/users/6547823/avikd"}, "is_accepted": true, "score": 1, "last_activity_date": 1467829280, "last_edit_date": 1467829280, "creation_date": 1467821383, "answer_id": 38228686, "question_id": 38215911, "link": "https://stackoverflow.com/questions/38215911/how-to-reuse-mock-objects-in-perl-unit-tests/38228686#38228686", "title": "How to reuse mock objects in Perl unit tests?", "body": "<p>Setup PERL5LIB or add <code>use lib</code> in your script. I found <a href=\"http://search.cpan.org/~nwclark/perl-5.8.7/lib/FindBin.pm\" rel=\"nofollow\">FindBin package</a> useful for setting up the lib path for tests.</p>\n\n<pre><code>use FindBin qw($Bin);\nuse lib \"$Bin/../lib\";\n</code></pre>\n\n<p>Where:</p>\n\n<pre><code>$Bin - path to bin directory from where script was invoked\n</code></pre>\n"}], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 1, "accepted_answer_id": 38228686, "answer_count": 1, "score": 1, "last_activity_date": 1467829280, "creation_date": 1467775548, "question_id": 38215911, "link": "https://stackoverflow.com/questions/38215911/how-to-reuse-mock-objects-in-perl-unit-tests", "title": "How to reuse mock objects in Perl unit tests?", "body": "<p>I have a bunch of unit tests for my module, and I find that I copy the same mock and setup code from one to the other. How can I DRY that up and reuse the mock code?</p>\n\n<p>I've placed this simple mock object next to my tests:</p>\n\n<pre><code>package MockObject;\n1;\n</code></pre>\n\n<p>If I just say <code>use MockObject;</code> in the test case, <code>make test</code> cannot find MockObject. Makes sense; after all, it's not installed system wide and it's not next to the module under test. </p>\n\n<p>I can run my tests with <code>prove -I lib -I t t/*.t</code> but I'd like to keep <code>make test</code>, if only for the laziness of typing a few characters less.</p>\n\n<p>Since the mock object isn't a full module and shouldn't be officially installed anyway, I cannot and don't want to set <code>TEST_REQUIRES</code> in Makefile.PL.</p>\n\n<p>Adding <code>test =&gt; { FILES =&gt; 't/*.t', INC =&gt; 't/' }</code> to Makefile.PL didn't help.</p>\n\n<p>How can I (simply) reuse Perl mock code with the MakeMaker generated Makefile?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1467782864, "last_edit_date": 1467782864, "creation_date": 1467771298, "answer_id": 38215465, "question_id": 38215439, "link": "https://stackoverflow.com/questions/38215439/looking-for-variables-in-two-lines/38215465#38215465", "title": "Looking for variables in two lines", "body": "<p>As always with this kind of problem, either read the entire file into memory, or keep a copy of the preceding lines you might need in memory.</p>\n\n<pre><code>my $prev = &lt;&gt;;\nif (defined($prev)) {\n   while (my $this = &lt;&gt;) {\n      if ($this =~ /\\sb$/ &amp;&amp; $prev =~ /\\sng$/) {\n         # Do whatever you want with the two lines here.\n         print($prev);\n         print($this);\n      }\n\n      $prev = $this;\n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467783068, "post_id": 38215867, "comment_id": 63856827, "body": "Note that your code allows blank lines between teh two lines. Replace <code>\\n\\s*</code> with <code>\\n[^\\S\\n]*</code> to fix that."}], "tags": [], "owner": {"reputation": 4973, "user_id": 153891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b287bcae476beaa660680430cd399c0?s=128&d=identicon&r=PG", "display_name": "woolstar", "link": "https://stackoverflow.com/users/153891/woolstar"}, "is_accepted": false, "score": 0, "last_activity_date": 1467782986, "last_edit_date": 1467782986, "creation_date": 1467775090, "answer_id": 38215867, "question_id": 38215439, "link": "https://stackoverflow.com/questions/38215439/looking-for-variables-in-two-lines/38215867#38215867", "title": "Looking for variables in two lines", "body": "<p>If you have the entire file read into memory, you can search multiple lines at once:</p>\n\n<pre><code>$file =~ m/^\\s*(\\d+\\.\\d+\\s+\\d+\\s+ng)\\n\\s*(\\d+\\.\\d+\\s+\\d+\\s+b)/ms ;\n</code></pre>\n\n<p>Otherwise you end up writing some kind of state machine.</p>\n\n<p>If the endings are going to be changing, you can even use variables for them:</p>\n\n<pre><code>my $end1= 'ng' ;\nmy $end2= 'b' ;\n$file =~ m/^\\s*(\\d+\\.\\d+\\s+\\d+\\s+$end1)\\n\\s*(\\d+\\.\\d+\\s+\\d+\\s+$end2)/ms ;\n</code></pre>\n\n<p>And if you have to deal with DOS newlines, adjust to suit:</p>\n\n<pre><code>$file =~ m/^\\s*(\\d+\\.\\d+\\s+\\d+\\s+$end1)\\r*\\n\\s*(\\d+\\.\\d+\\s+\\d+\\s+$end2)/ms ;\n</code></pre>\n"}], "owner": {"reputation": 728, "user_id": 5209289, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3874e84d81711bf6751461e0be235976?s=128&d=identicon&r=PG&f=1", "display_name": "Lisa", "link": "https://stackoverflow.com/users/5209289/lisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1467782986, "creation_date": 1467771060, "question_id": 38215439, "link": "https://stackoverflow.com/questions/38215439/looking-for-variables-in-two-lines", "title": "Looking for variables in two lines", "body": "<p>I have a text file that is formatted as follows:</p>\n\n<p>44.820731  122 ah </p>\n\n<p>44.947098  122 m</p>\n\n<p>I need to find a certain last variable before another certain last variable. So for example, I want to find a set of 2 lines where the last part of one line is \"ng\" and the last part of the next line is \"b\", like the example below. I only need the lines to be put into variables and printed out where this pattern holds.</p>\n\n<p>50.820731  122 ng </p>\n\n<p>51.947098  122 b</p>\n\n<p>My original idea was to write a regex and then assign the match variables like the code shows below:</p>\n\n<pre><code>    $line = m/\\s+(\\d\\.\\d+)\\s(\\d+)\\s(.+\\Z)/;\n    my ($time, $number, $phone) = $1, $2, $3; \n</code></pre>\n\n<p>but then I don't know how to compare <code>$phone</code> in the sets of two lines.</p>\n\n<p>Perhaps I am going about this the wrong way - I am new to perl.</p>\n"}, {"tags": ["c++", "perl", "shell", "g++", "swig"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 780, "user_id": 4151225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4dc7068fd65a846c927df403c73805f?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Smith", "link": "https://stackoverflow.com/users/4151225/nicholas-smith"}, "edited": false, "score": 3, "creation_date": 1467770919, "post_id": 38214651, "comment_id": 63854316, "body": "@qexyn: That&#39;s a very silly comment. Stack Overflow isn&#39;t the place for tribalism. IMO Perl is far better designed than the dreadful C++ ever was, but I am happy to let people get on and use it if they want to or need to. Next time you <i>&quot;can&#39;t help&quot;</i> but make a useless and non-constructive comment I suggest that you close your account before you lose control again"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1468016128, "post_id": 38214651, "comment_id": 63971451, "body": "Note that you have an underscore in front of the <code>g++</code> output file. I would assume that it should be without the underscore:  <code>-o Animal.so</code>.."}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1468260938, "post_id": 38225385, "comment_id": 64043569, "body": "This is as good of a getting started/tutorial on SWIG as I have ever seen."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 7, "last_activity_date": 1468020276, "last_edit_date": 1468020276, "creation_date": 1467812130, "answer_id": 38225385, "question_id": 38214651, "link": "https://stackoverflow.com/questions/38214651/swig-wrapping-c-for-perl-using-only-a-header-and-a-shared-library-cant-loca/38225385#38225385", "title": "SWIG: Wrapping C++ for Perl using only a header and a shared library, can&#39;t locate loadable object error", "body": "<p>The following seems to work on Ubuntu 16.04:</p>\n\n<h2>Files:</h2>\n\n<p><strong>Animal.i:</strong> </p>\n\n<pre><code>%module Animal\n%{\n#include \"Dog.h\"\n#include \"Crow.h\"\n%}\n%include \"Dog.h\"\n%include \"Crow.h\"\n</code></pre>\n\n<p><strong>Crow.h</strong></p>\n\n<pre><code>class Crow {\npublic:\n    Crow()  {\n        ncrows++;\n    }\n    virtual ~Crow() {\n        ncrows--;\n    }\n    static  int ncrows;\n};\n</code></pre>\n\n<p><strong>Dog.h:</strong></p>\n\n<pre><code>class Dog {\npublic:\n    Dog()  {\n        ndogs++;\n    }\n    virtual ~Dog() {\n        ndogs--;\n    }\n    static  int ndogs;\n};\n</code></pre>\n\n<p><strong>Crow.cpp:</strong></p>\n\n<pre><code>#include \"Crow.h\"\nint Crow::ncrows = 0;\n</code></pre>\n\n<p><strong>Dog.cpp:</strong></p>\n\n<pre><code>#include \"Dog.h\"\nint Dog::ndogs = 0;\n</code></pre>\n\n<p><strong>test.pl:</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse Animal;\n\nprint \"Creating a Crow:\\n\";\nmy $c = Animal::Crow-&gt;new();\nprint \"    Created crow $c\\n\";\n$c-&gt;DESTROY();\nprint \"Creating a Dog:\\n\";\nmy $d = Animal::Dog-&gt;new();\nprint \"    Created dog $d\\n\";\n$d-&gt;DESTROY();\n</code></pre>\n\n<h2>Compilation:</h2>\n\n<pre><code>swig -perl -c++ Animal.i\ng++ -fPIC -c Crow.cpp\ng++ -fPIC -c Dog.cpp\ng++ -shared Crow.o Dog.o -o libmylib.so\ng++ -fPIC -c Animal_wrap.cxx -I/usr/lib/x86_64-linux-gnu/perl/5.22/CORE\ng++ -shared -L. Animal_wrap.o -lmylib -o Animal.so\n</code></pre>\n\n<h2>Running test script:</h2>\n\n<pre><code>$ LD_LIBRARY_PATH=. perl test.pl \nCreating a Crow:\n    Created crow Animal::Crow=HASH(0x10c2eb0)\nCreating a Dog:\n    Created dog Animal::Dog=HASH(0x10c2f88)\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 4926669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/614ef065c010e82ac486a0cc1fb88a43?s=128&d=identicon&r=PG&f=1", "display_name": "GenericAlias", "link": "https://stackoverflow.com/users/4926669/genericalias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 1, "accepted_answer_id": 38225385, "answer_count": 1, "score": 4, "last_activity_date": 1468020276, "creation_date": 1467763355, "question_id": 38214651, "link": "https://stackoverflow.com/questions/38214651/swig-wrapping-c-for-perl-using-only-a-header-and-a-shared-library-cant-loca", "title": "SWIG: Wrapping C++ for Perl using only a header and a shared library, can&#39;t locate loadable object error", "body": "<p>I'm trying to learn SWIG and I'm having some issues getting SWIG to work with perl on a Linux machine. I have the files Dog.h, Crow.h, Animal.i, and libmylib.so. All these files are in the same directory. libmylib.so was compiled using Dog.cpp and Crow.cpp, which reference Dog.h and Crow.h respectively. My Animal.i file is as follows:</p>\n\n<pre><code>%module Animal\n%{\n/* Includes the header in the wrapper code */\n#include \"Dog.h\"\n#include \"Crow.h\"\n%}\n\n/*Parse the header file to generate wrappers */\n%include \"Dog.h\"\n%include \"Crow.h\"\n</code></pre>\n\n<p>Here are the commands that I'm executing in order to build the perl module:</p>\n\n<pre><code>swig -perl -c++ Animal.i\ng++ -shared -fPIC Animal_wrap.cxx -L. -lmylib -I/usr/lib64/perl5/CORE -o _Animal.so\nLD_LIBRARY_PATH=. perl\n</code></pre>\n\n<p>When I type \"use Animal;\", I get the following error: \"Can't locate loadable object for module Animal in @INC\". I'm fairly new to perl so I'm not sure how to go about fixing the issue, although from searching around I feel like the problem might be that perl cannot reference my libmylib.so file. Any help would be greatly appreciated. Thank you!</p>\n"}, {"tags": ["perl", "unix", "printing"], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1467763526, "post_id": 38214479, "comment_id": 63852807, "body": "Haha, yep that was it, I&#39;m a fool"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1467763693, "post_id": 38214479, "comment_id": 63852846, "body": "How am a printing a blank line when I get a line that doesn&#39;t qualify this, if the condition isn&#39;t satisfied just a last statment should be executed"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1467764140, "post_id": 38214479, "comment_id": 63852950, "body": "@C.Monster: Yes, so the <code>last</code> exits the <code>for</code> loop, after which there&#39;s a <code>print &quot;\\n&quot;</code> before the end of the <code>while</code>. Take a look at my suggestion for a rewrite. It does exactly the same as your own code but I for one can read it much more easily!"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1469143055, "post_id": 38214479, "comment_id": 64428381, "body": "I noticed an error in the script posted here, I posted an edit in the question @Borodin"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "edited": false, "score": 0, "creation_date": 1469143561, "post_id": 38214479, "comment_id": 64428519, "body": "OK, I think I fixed it, it involved changing the = on line 24 to a &lt;= and the adding +1 to lines on line 30 @Borodin. I think this is a fix, I greatly apologize if I botched your code."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1467764582, "last_edit_date": 1467764582, "creation_date": 1467762002, "answer_id": 38214479, "question_id": 38214194, "link": "https://stackoverflow.com/questions/38214194/why-are-blank-lines-printing-in-my-perl-script-print-output/38214479#38214479", "title": "Why are blank lines printing in my perl script print output", "body": "<p>It seems obvious that the blank lines are printing because you have a line</p>\n\n<pre><code>print \"\\n\";\n</code></pre>\n\n<p>in your code</p>\n\n<p>I can't help much more because you say <em>\"The details of what the script is doing isn't important\"</em>, and so withhold from us what it's <em>meant</em> to be doing</p>\n\n<p>However, what you have written prints lines from the input file as long as the first column matches the first column in the previous line and the second field is less than the third field in the previous line. Any time you get a line that doesn't qualify in this way you are printing a blank line</p>\n\n<p><br/></p>\n\n<hr>\n\n<p>You may prefer this refactoring of your code, which behaves identically but I think is much more readable. It also has the advantage of splitting each of the lines from the input file only once, and there is no need for the fourth parameter as the number of lines is simply the size of the <code>@lines</code> array. Blank lines are removed from the file as they are read, so there's no longer a need for your check on the definedness of the first field</p>\n\n<pre><code>#!/usr/bin/perl\n\n# ARGV[0] is the name of the file which data will be read from (may have overlaps)\n# ARGV[1] is the name of the file which will be produced that will have no overlaps\n# ARGV[2] is the name of the folder which will hold all the circos data file (mitelmanAll, mitelmanProstate, etc.)\n\nuse strict;\nuse warnings 'all';\n\nuse File::Path 'make_path';\nuse File::Spec::Functions 'catfile';\n\nmy ($file, $newfile, $dir) = @ARGV;\n$newfile = catfile($dir, $newfile);\n\nmy @lines = do {\n    open my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n    map { [ split ] } grep /\\S/, &lt;$fh&gt;;\n};\n\nmake_path($dir);\nopen my $out_fh, '&gt;', $newfile or die qq{Unable to open \"$newfile\" for output: $!};\n\nfor ( my $i = 0; $i &lt; $#lines; ) {\n\n    my $ref_fields = $lines[$i];\n\n    print $out_fh join(\"\\t\", @$ref_fields[0..3]), \"\\n\";\n\n    for my $j ( $i + 1 .. $#lines ) {\n\n        $i = $j;\n\n        my $curr_fields = $lines[$j];\n\n        last unless $curr_fields-&gt;[0] == $ref_fields-&gt;[0];\n        last unless $curr_fields-&gt;[1] &lt;  $ref_fields-&gt;[2];\n\n        print join(\"\\t\", @$curr_fields[0..3]), \"\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "accepted_answer_id": 38214479, "answer_count": 1, "score": 0, "last_activity_date": 1469143009, "creation_date": 1467759999, "last_edit_date": 1469143009, "question_id": 38214194, "link": "https://stackoverflow.com/questions/38214194/why-are-blank-lines-printing-in-my-perl-script-print-output", "title": "Why are blank lines printing in my perl script print output", "body": "\n\n<p>The details of what the script is doing isn't important, but I have put comments in what seem like the important lines to me, I'm only concerned with why I am getting blank lines in my output</p>\n\n<p>When I run the command</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>./script.pl temp temp.txt tempF `wc -l temp | awk '{print $1}'`\n</code></pre>\n\n<p>The temp file contains</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1   27800000    120700000   4\n1   27800000    124300000   4\n1   154800000   247249719   3\n3   32100000    71800000    9\n3   32100000    87200000    2\n3   54400000    74200000    15\n4   76500000    155100000   20\n4   76500000    182600000   3\n4   76500000    88200000    77\n4   88200000    124000000   2\n5   58900000    180857866   8\n5   58900000    76400000    2\n5   58900000    97300000    4\n5   76400000    143100000   14\n5   97300000    147200000   6\n6   7000000 29900000    2\n6   63500000    70000000    73\n6   63500000    92100000    4\n6   70000000    113900000   70\n6   70000000    139100000   57\n6   92100000    113900000   3\n</code></pre>\n\n<p>And I am getting output of the form</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>hs1 27800000    124300000   4\n\n\nhs3 32100000    87200000    2\nhs3 54400000    74200000    15\n\nhs4 76500000    182600000   3\nhs4 76500000    88200000    77\nhs4 88200000    124000000   2\n\nhs5 58900000    76400000    2\nhs5 58900000    97300000    4\nhs5 76400000    143100000   14\nhs5 97300000    147200000   6\n\n\nhs6 63500000    92100000    4\n\nhs6 70000000    139100000   57\nhs6 92100000    113900000   3\n</code></pre>\n\n<p>To standard output (about 8 of the lines are also printed to the temp.txt file but the formatting of those ones is correct)</p>\n\n<p>This is the script below</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\n# ARGV[0] is the name of the file which data will be read from(may have overlaps)\n# ARGV[1] is the name of the file which will be produced that will have no overlaps\n# ARGV[2] is the name of the folder which will hold all the data  \n# ARGV[3] is the number of lines that ARGV[0] will contain\n\nuse warnings;\n\nmy $file  = \"./$ARGV[0]\";\nmy @lines = do {\n    open my $fh, '&lt;', $file or die \"Can't open $file -- $!\";\n    &lt;$fh&gt;;\n};\n\nmy $file2 = \"./$ARGV[2]/$ARGV[1]\";\nopen( my $files, \"&gt;\", \"$file2\" ) or die \"Can't open &gt; $file2: $!\";\n\nmy $i = 0;\nwhile ( $i &lt; $ARGV[3] - 1 ) {\n\n    my @ref_fields = split( '\\s+', $lines[$i] );\n\n    print $files\n        \"$ref_fields[0]\", \"\\t\",\n        $ref_fields[1], \"\\t\",\n        $ref_fields[2], \"\\t\",\n        $ref_fields[3], \"\\n\";\n\n    for my $j ( $i + 1 .. $ARGV[3] - 1 ) {\n\n        $i = $j;\n\n        # @curr_fields is initialized here\n\n        my @curr_fields = split /\\s+/, $lines[$j];\n\n        if ( $ref_fields[0] eq $curr_fields[0] &amp;&amp; $ref_fields[2] &gt; $curr_fields[1] ) {\n\n            if ( defined( $curr_fields[0] ) &amp;&amp; $curr_fields[0] !~ /\\s+/ ) {\n\n                chomp $curr_fields[3];\n\n                # the line below is the one that is printing to standard output\n                print\n                    $curr_fields[0], \"\\t\",\n                    $curr_fields[1], \"\\t\",\n                    $curr_fields[2], \"\\t\",\n                    $curr_fields[3], \"\\n\";\n            }\n        }\n        else {\n            last;\n        }\n    }\n\n    print \"\\n\";\n}\n</code></pre>\n\n<p>.</p>\n\n<p>.</p>\n\n<p>Edit:</p>\n\n<p>I notice an error when running the script from the answer posted\nWhen I run the command</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>./script.pl temp1 temp10.txt folder\n</code></pre>\n\n<p>Where temp1 contains</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>12  58100000    96200000    0.04348\n3   74200000    87200000    0.04348\n5   130600000   168500000   0.04348\n6   61000000    114600000   0.04348\n6   75900000    114600000   0.04348\n6   88000000    114600000   0.04348\n6   88000000    139000000   0.04348\n6   93100000    161000000   0.04348\n6   105500000   139000000   0.04348\n6   130300000   139000000   0.04348\n7   59900000    77500000    0.04348\n7   98000000    132600000   0.04348\nX   67800000    76000000    0.08696\nY   28800000    59373566    0.04348\n</code></pre>\n\n<p>I get </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>6   75900000    114600000   0.04348\n6   88000000    114600000   0.04348\n6   88000000    139000000   0.04348\n6   93100000    161000000   0.04348\n6   105500000   139000000   0.04348\n</code></pre>\n\n<p>And temp10.txt contains</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>12  58100000    96200000    0.04348\n3   74200000    87200000    0.04348\n5   130600000   168500000   0.04348\n6   61000000    114600000   0.04348\n6   130300000   139000000   0.04348\n7   59900000    77500000    0.04348\n7   98000000    132600000   0.04348\nX   67800000    76000000    0.08696\n</code></pre>\n\n<p>The line </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Y   28800000    59373566    0.04348\n</code></pre>\n\n<p>Is neither in the output or temp10.txt. It seems to have dissappeared but should have printed to one of these</p>\n"}, {"tags": ["perl", "svg", "gd"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467759347, "post_id": 38213495, "comment_id": 63851766, "body": "Why are you unable to use the <code>copy</code> method?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467762110, "post_id": 38213495, "comment_id": 63852456, "body": "@Borodin SVG::GD doesn&#39;t provide a <code>copy</code> method. It overrides some of the GD::Font and GD::Image methods by aliasing <code>*GD::Image::</code> to <code>*SVG::GD::Image::</code> and <code>*GD::Font::</code> to <code>*SVG::GD::Font::</code>, but there&#39;s no <code>SVG::GD::Image::copy</code> so you get <code>Can&#39;t locate object method &quot;copy&quot; via package &quot;SVG::GD::Image&quot;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467765024, "post_id": 38213495, "comment_id": 63853124, "body": "@ThisSuitIsBlackNot: That&#39;s a nasty way to do inheritance. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 6553690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5174629309ad30441aca1225bd0b2e89?s=128&d=identicon&r=PG&f=1", "display_name": "Ezhil", "link": "https://stackoverflow.com/users/6553690/ezhil"}, "edited": false, "score": 0, "creation_date": 1467774867, "post_id": 38215777, "comment_id": 63855067, "body": "Thanks! My code creates an image using GD module which I would like to have it in SVG format. Is there any other way of doing this?"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 7, "user_id": 6553690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5174629309ad30441aca1225bd0b2e89?s=128&d=identicon&r=PG&f=1", "display_name": "Ezhil", "link": "https://stackoverflow.com/users/6553690/ezhil"}, "edited": false, "score": 0, "creation_date": 1467776224, "post_id": 38215777, "comment_id": 63855341, "body": "Not without bigger changes. GD is oriented towards bitmap images, SVG isn&#39;t a bitmap format."}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 2, "last_activity_date": 1467774285, "creation_date": 1467774285, "answer_id": 38215777, "question_id": 38213495, "link": "https://stackoverflow.com/questions/38213495/alternative-to-image-copy-in-gd-module/38215777#38215777", "title": "Alternative to $image-&gt;copy() in GD module", "body": "<p>It doesn't have one.</p>\n\n<p>As SVG is a vector format, it's difficult to efficiently copy a portion of an image. Implementing this feature would be difficult, and the <code>SVG::GD</code> library hasn't attempted to do so.</p>\n\n<p>If you need this functionality, you'll need to use another library.</p>\n"}], "owner": {"reputation": 7, "user_id": 6553690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5174629309ad30441aca1225bd0b2e89?s=128&d=identicon&r=PG&f=1", "display_name": "Ezhil", "link": "https://stackoverflow.com/users/6553690/ezhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467774285, "creation_date": 1467755938, "last_edit_date": 1467760367, "question_id": 38213495, "link": "https://stackoverflow.com/questions/38213495/alternative-to-image-copy-in-gd-module", "title": "Alternative to $image-&gt;copy() in GD module", "body": "<p>I am looking for an alternative to the function <code>$image-&gt;copy</code> in the GD module. </p>\n\n<p>My current line of code is </p>\n\n<pre><code>$image-&gt;copy($subimage, 10, 10, 0, 0, $subx, $suby);\n</code></pre>\n\n<p>I am not able to use this function in the <a href=\"https://metacpan.org/pod/SVG::GD\" rel=\"nofollow\"><code>SVG::GD</code></a> module. So I am looking for an alternative program that does the same job.</p>\n"}, {"tags": ["perl", "scheduled-tasks"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1467753363, "post_id": 38212835, "comment_id": 63849750, "body": "it&#39;s possible that your PATH is not set in the scheduled task&#39;s environment. Are you supplying the full path to the perl.exe binary in the command, or do you just have <code>perl script.pl</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467753762, "post_id": 38212835, "comment_id": 63849926, "body": "<code>%1</code> should normally be substituted by the value of the first parameter to a .bat file. It sounds like a command that should be processed by the shell is being run directly. What is the chain of activation? Does the scheduler run a .bat file, or a Perl program?"}, {"owner": {"reputation": 11, "user_id": 6553562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a2265da8d59c930b8ce51cdeebe9c1?s=128&d=identicon&r=PG&f=1", "display_name": "syedf", "link": "https://stackoverflow.com/users/6553562/syedf"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467756548, "post_id": 38212835, "comment_id": 63850962, "body": "@Borodin... the scheduler runs the perl program (absolute path)..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467757205, "post_id": 38212835, "comment_id": 63851166, "body": "@syedf: So where is this <code>%1</code>? there must be a .bat file involved somewhere. Something the Perl program is trying to run?"}, {"owner": {"reputation": 11, "user_id": 6553562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a2265da8d59c930b8ce51cdeebe9c1?s=128&d=identicon&r=PG&f=1", "display_name": "syedf", "link": "https://stackoverflow.com/users/6553562/syedf"}, "edited": false, "score": 0, "creation_date": 1467898544, "post_id": 38212835, "comment_id": 63914939, "body": "There is no .bat file involved. It is a plain perl script. This script was working with schedule task when I had Active Perl 5.22 installed. I un-installed it and installed Strawberry perl and since then the Schedule task does not work."}, {"owner": {"reputation": 11, "user_id": 6553562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a2265da8d59c930b8ce51cdeebe9c1?s=128&d=identicon&r=PG&f=1", "display_name": "syedf", "link": "https://stackoverflow.com/users/6553562/syedf"}, "edited": false, "score": 0, "creation_date": 1467900115, "post_id": 38212835, "comment_id": 63916251, "body": "Ok ... I got it... The issue was in the &quot;Action&quot; tab of Schedule task, I was just adding the perl script to run without using any &quot;perl&quot; executable. It worked with Active perl but after installing Strawberry version, it was not working.....So now I added this to the &quot;Program/script&quot; box: &quot;perl C:\\full\\path\\to\\script.pl&quot; and it worked."}, {"owner": {"reputation": 11, "user_id": 6553562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a2265da8d59c930b8ce51cdeebe9c1?s=128&d=identicon&r=PG&f=1", "display_name": "syedf", "link": "https://stackoverflow.com/users/6553562/syedf"}, "edited": false, "score": 0, "creation_date": 1467905131, "post_id": 38212835, "comment_id": 63920047, "body": "Thank you all for your help. It guided me in the right direction."}], "answers": [{"tags": [], "owner": {"reputation": 3716, "user_id": 145888, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a5c48ce2226e65800a67961b2fafc1c0?s=128&d=identicon&r=PG", "display_name": "David Zhao", "link": "https://stackoverflow.com/users/145888/david-zhao"}, "is_accepted": false, "score": 0, "last_activity_date": 1478115386, "creation_date": 1478115386, "answer_id": 40388334, "question_id": 38212835, "link": "https://stackoverflow.com/questions/38212835/perl-script-fails-to-run-schedule-task-with-1-is-not-a-valid-win32-application/40388334#40388334", "title": "Perl script fails to run Schedule task with &quot;%1 is not a valid Win32 application&quot;", "body": "<p>Depending on which Windows OS you're using, for Windows 7 professional, One need to add the full path to perl exe in the \"program/script\" box, and the full path to the perl script in the \"Add Arguments (optional)\" box. I had the same problem, this fixed the problem.</p>\n"}], "owner": {"reputation": 11, "user_id": 6553562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a2265da8d59c930b8ce51cdeebe9c1?s=128&d=identicon&r=PG&f=1", "display_name": "syedf", "link": "https://stackoverflow.com/users/6553562/syedf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 782, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1478115386, "creation_date": 1467753224, "last_edit_date": 1467753552, "question_id": 38212835, "link": "https://stackoverflow.com/questions/38212835/perl-script-fails-to-run-schedule-task-with-1-is-not-a-valid-win32-application", "title": "Perl script fails to run Schedule task with &quot;%1 is not a valid Win32 application&quot;", "body": "<p>I am trying to run a Perl script in Windows 2012 R2 (64 bit) using schedule task.\nI am getting <code>%1 is not a valid Win32 application. (0x800700C1)</code> error. When I run this script from the command prompt it runs fine</p>\n\n<p>I have Strawberry Perl (64 bit) installed on this server.</p>\n\n<p>How to resolve this issue?</p>\n"}, {"tags": ["perl", "popup", "cgi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1467745245, "post_id": 38210579, "comment_id": 63845443, "body": "FYI, using the HTML generation functions in CGI.pm is now <a href=\"https://metacpan.org/pod/CGI#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">officially discouraged</a>. You should really be using a templating engine like Template Toolkit instead. Also, Perl 5.8.5 is <i>really</i> old (released in 2004); 5.24.0 was just released! Maybe you&#39;re stuck with this setup, but if you have any choice at all, update your toolset!"}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 0, "creation_date": 1467746942, "post_id": 38210855, "comment_id": 63846322, "body": "I dont have root (corporate box) so I cant install perl.  My values arent always sorted , but nice tip could be handy... The code is on a windoze box so I couldn&#39;t copy to here, ... But the HTML is identical aside from the &quot;selected&quot; word missing when 0 is used. I&#39;ve used Perl since 1996 and ever time I THOUGHT I saw a bug, it wasn&#39;t. But in this case its my only logical conclusion.  I googled &quot;Perl build notes&quot; to see if this problem was mentioned but no notes come up in the search....."}, {"owner": {"reputation": 61, "user_id": 5862421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8KGB9B-pJm0/AAAAAAAAAAI/AAAAAAAAAFg/DKGw-PTGaaM/photo.jpg?sz=128", "display_name": "belg4mit", "link": "https://stackoverflow.com/users/5862421/belg4mit"}, "reply_to_user": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 0, "creation_date": 1467747290, "post_id": 38210855, "comment_id": 63846500, "body": "The general you. I was pointing out that it is not necessary to upgrade perl to upgrade a core module. Root isn&#39;t required either, since you can <code>require</code> a full path name to load a newer local copy; just one among many ways of doing that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467747492, "post_id": 38210855, "comment_id": 63846617, "body": "@belg4mit: <code>CGI</code> is no longer a core module anyway -- it has been deprecated and removed from the latest Perl distributions"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 2, "creation_date": 1467747795, "post_id": 38210855, "comment_id": 63846789, "body": "@user3250422: Note that you don&#39;t need root access to install a Perl module. You may install it solely for your own use as long as you have the necessary tools. And I don&#39;t see why the source file being on a Windows system (please don&#39;t use derogatory names here -- it&#39;s supposed to be a professional platform) prevents you from posting it here. Surely, if you can read it then you can copy and paste it"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1467748496, "post_id": 38210855, "comment_id": 63847206, "body": "if they had version 3.05 they wouldn&#39;t be affected by a bug the change log says was introduced in 3.37..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1467750021, "post_id": 38210855, "comment_id": 63848019, "body": "@ysth They must not be using 3.05. I downloaded it and I can&#39;t reproduce their issue."}], "tags": [], "owner": {"reputation": 61, "user_id": 5862421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8KGB9B-pJm0/AAAAAAAAAAI/AAAAAAAAAFg/DKGw-PTGaaM/photo.jpg?sz=128", "display_name": "belg4mit", "link": "https://stackoverflow.com/users/5862421/belg4mit"}, "is_accepted": false, "score": 5, "last_activity_date": 1467747619, "last_edit_date": 1467747619, "creation_date": 1467745573, "answer_id": 38210855, "question_id": 38210579, "link": "https://stackoverflow.com/questions/38210579/looks-like-a-perl-cgi-bug/38210855#38210855", "title": "Looks like a Perl CGI bug", "body": "<p>You can update <code>CGI</code> independently from perl itself via CPAN.</p>\n\n<p>It would be handy if you included the relevant use statements and module versions, as well as sample HTML output.</p>\n\n<p>UPDATE: It looks like your version of perl should be using CGI 3.05 (see Module::CoreList). Checking the change log for CGI we find that this is a known bug.</p>\n\n<blockquote>\n  <p>Version 3.45, Aug 14, 2009\n  [BUG FIXES]\n  3. Allow 0 to be used as a default value in <code>popup_menu()</code>. This was broken starting in 3.37. Thanks to Haze, who was the first to report this and supply a patch, and pfschill, who pinpointed when the bug was introduced. A regression test for this was also added. (RT#37908)</p>\n</blockquote>\n\n<p>(They may not have dissected the (re)introduction of the bug correctly)</p>\n\n<p>P.S. Rather than have a separate <code>@dt</code> simply set <code>-values</code> to <code>[ sort keys %dt ]</code></p>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 0, "creation_date": 1467753873, "post_id": 38211359, "comment_id": 63849955, "body": "Trust me - if upgrading was an option we&#39;d be very close to the latest, always. But in this company , its like impossible to get a unix admin to do anything for us. This is a JAVA/ORACLE business and they&#39;re always on the latest of everything. But if we ask for anything we&#39;re the red-headed step children..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 0, "creation_date": 1467753991, "post_id": 38211359, "comment_id": 63850000, "body": "It&#39;s just that you wrote <i>&quot;Do I need to get our sysadmin to bump our Perl version on the 5.8.5 box?&quot;</i>, so I assumed that it was a feasible solution. Don&#39;t forget that, as I said, you can install your own copy of CGI on your local machine and test using that"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "edited": false, "score": 0, "creation_date": 1467754159, "post_id": 38211359, "comment_id": 63850079, "body": "Is that the Java that <a href=\"http://arstechnica.com/information-technology/2016/07/how-oracles-business-as-usual-is-threatening-to-kill-java/\" rel=\"nofollow noreferrer\">it looks like Oracle are killing off?!</a> Stick with open-source!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1467748474, "last_edit_date": 1495540731, "creation_date": 1467747373, "answer_id": 38211359, "question_id": 38210579, "link": "https://stackoverflow.com/questions/38210579/looks-like-a-perl-cgi-bug/38211359#38211359", "title": "Looks like a Perl CGI bug", "body": "\n\n<p>You may well be correct, and you are running an older version of the <code>CGI</code> module</p>\n\n<p>What does <code>perl -MCGI -e 'print $CGI::VERSION, \"\\n\"'</code> produce? And on the v5.8.8 system?</p>\n\n<p>I am running version 4.28 of <code>CGI</code> and the result looks correct</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;select name=\"test\" &gt;\n&lt;option value=\"1\"&gt;single&lt;/option&gt;\n&lt;option selected=\"selected\" value=\"0\"&gt;multi&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>You would probably benefit from an upgrade anyway, as even Perl v5.8.8 is well over ten years old, but you should be able to upgrade just the <code>CGI</code> module if it's easier. In fact the module is now deprecated and no longer a core module, so an upgrade to Perl v5.24 would have to be followed by the installation of <code>CGI</code> to regain the facility</p>\n\n<p>The CGI functionality should never have been combined in the same module as the HTML generation, and even those who continue to use CGI (it is widely considered to have been superseded by PSGI) prefer to use separate modules like <a href=\"https://metacpan.org/pod/CGI::Simple\" rel=\"nofollow noreferrer\"><code>CGI::Simple</code></a> or \n<a href=\"https://metacpan.org/pod/CGI::Minimal\" rel=\"nofollow noreferrer\"><code>CGI::Minimal</code></a> together with \n<a href=\"https://metacpan.org/pod/HTML::Tiny\" rel=\"nofollow noreferrer\"><code>HTML::Tiny</code></a>\nfor generating the HTML</p>\n\n<p><a href=\"https://stackoverflow.com/a/38210855/622310\"><strong>belg4mit</strong> has identified</a> that the bug you have found was fixed in version 3.4.5 of the <code>CGI</code> module, which was first released as part of Perl v5.11.0, a development version. The first subsequent public Perl release was v5.12, which contains version 3.4.8 of the module</p>\n\n<p>Since you have found that an installation of Perl v5.8.8 doesn't display the problem, it is very likely that the <code>CGI</code> module has been upgraded on that machine independently of Perl</p>\n"}], "owner": {"reputation": 139, "user_id": 3250422, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f7d90aee8219076c20e535fcd5d770a8?s=128&d=identicon&r=PG&f=1", "display_name": "user3250422", "link": "https://stackoverflow.com/users/3250422/user3250422"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1467748474, "creation_date": 1467744557, "last_edit_date": 1467745835, "question_id": 38210579, "link": "https://stackoverflow.com/questions/38210579/looks-like-a-perl-cgi-bug", "title": "Looks like a Perl CGI bug", "body": "<p>Perl version 5.8.5 I have:</p>\n\n<pre><code>my @dt = qw( 1 0 );\nmy %dt = qw( 1 single 0 multi );\nmy $val = 0;\n\n$cgi-&gt;popup_menu( {\n    -name    =&gt; \"test\",\n    -default =&gt; $val,\n    -values  =&gt; \\@dt,\n    -labels  =&gt; \\%dt,\n} )\n</code></pre>\n\n<p>Everything works fine in the popup, except \"selected\" is NEVER set.\nSo the first val is always chosen. </p>\n\n<p>If I make a change, and change the 0 to 2 in all cases (<code>$val</code>, <code>@dt</code>, and <code>%dt</code>) then everything functions normally, and I get \"selected\" in the HTML tag.</p>\n\n<p>Also I coped the code to Perl 5.8.8 box, and it works there <em>with</em> zeroes? Do I need to get our sysadmin to bump our Perl version on the 5.8.5 box?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1467743693, "post_id": 38209995, "comment_id": 63844579, "body": "have you tried <code>$date = strftime &quot;%a %b %e %Y %H:%M:%S &quot;, $localtime($epoc);</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 5, "last_activity_date": 1467745104, "last_edit_date": 1467745104, "creation_date": 1467743633, "answer_id": 38210314, "question_id": 38209995, "link": "https://stackoverflow.com/questions/38209995/issue-with-date-formatting-in-perl/38210314#38210314", "title": "Issue with date formatting in Perl", "body": "<p>The function <code>POSIX::strftime</code> is your friend. The first parameter is a format string and for the remaining parameters the result of <code>localtime()</code> (or <code>gmtime()</code>) can be used, i.e. <code>$year</code>, <code>$month</code>, \u2026. The format string looks a bit similar to the format string of <code>printf</code> but allows for some special characters. They are explained <a href=\"http://linux.die.net/man/3/strftime\" rel=\"nofollow\">here</a>, for example.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse POSIX qw(strftime);\n\nmy $epoc = 1467743128;\nprint POSIX::strftime( '%a %b %e %Y %H:%M:%S', localtime($epoc) ), \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Di Jul  5 2016 20:25:28\n</code></pre>\n\n<p>(\"Di\" is short for \"Dienstag\" which is \"Tuesday\" in English.)</p>\n\n<p>The <code>strftime</code> function and its parameters are also explained it the <a href=\"http://www.tutorialspoint.com/perl/perl_date_time.htm\" rel=\"nofollow\">link you provided yourself</a>. Just scroll down and look there.</p>\n\n<hr>\n\n<p>You might be confused about the behaviour of <code>localtime</code>. When you write</p>\n\n<pre><code>my $date = localtime($epoc);\n</code></pre>\n\n<p>then <code>localtime</code> is evaluated in <em>scalar context</em>. I.e. <code>localtime</code> notices that you assign its return value to a scalar (a simple variable, not a list). In that case it returns a printable string that resembles the date and timestamp. But when <code>localtime</code> is used in <em>list context</em>, then it returns a tuple (a list) with <code>($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst)</code> instead.</p>\n\n<p>In <code>POSIX::strftime( '%a %b %e %Y %H:%M:%S', localtime($epoc) )</code> <code>localtime</code> is evaluated in list context and that's exactly what <code>strftime</code> expects: a format string and a list.</p>\n\n<pre><code>my $date = localtime($epoc);    # scalar context\nprint POSIX::strftime( '%a %b %e %Y %H:%M:%S', $date ), \"\\n\"; # doesn't work\n\nmy @date = localtime($epoc);    # list context (notice the \"@\")\nprint POSIX::strftime( '%a %b %e %Y %H:%M:%S', @date ), \"\\n\"; # works\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1496598986, "last_edit_date": 1496598986, "creation_date": 1467744667, "answer_id": 38210609, "question_id": 38209995, "link": "https://stackoverflow.com/questions/38209995/issue-with-date-formatting-in-perl/38210609#38210609", "title": "Issue with date formatting in Perl", "body": "\n\n<p>The core <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\"><code>Time::Piece</code></a> overloads the built-in <code>localtime</code> function so that it returns an object with an <code>strftime</code> method, allowing you to format the result as your wish</p>\n\n<p>(<code>localtime</code> continues to perform in the same way for all other operations, so you are not losing any functionality.)</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Time::Piece;\n\nmy $rs = { lastlogin =&gt; 1467726403 };\n\nmy $epoc = $rs-&gt;{lastlogin};\nmy $date = localtime($epoc)-&gt;strftime('%a %b %d %Y %H:%M:%S');\n\nprint $date, \"\\n\";\n</code></pre>\n\n<h3>Output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Tue Jul 05 2016 14:46:43\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>To change the time to 12-hour, you need to use the <code>%I</code> format specifier for the hours instead of <code>%H</code>, and add <code>%P</code> at the end to provide <code>AM</code> or <code>PM</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my $date = localtime($epoc)-&gt;strftime('%a %b %d %Y %I:%M:%S %P');\n</code></pre>\n\n<h3>Output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Tue Jul 05 2016 02:46:43 PM\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 38210609, "answer_count": 2, "score": 3, "last_activity_date": 1496598986, "creation_date": 1467742462, "last_edit_date": 1496598925, "question_id": 38209995, "link": "https://stackoverflow.com/questions/38209995/issue-with-date-formatting-in-perl", "title": "Issue with date formatting in Perl", "body": "<p>I have the following code:</p>\n\n<pre><code>    $epoc = $rs-&gt;{'lastlogin'};\n    $date = localtime($epoc);\n</code></pre>\n\n<p><code>lastlogin</code> is a Unix timestamp.</p>\n\n<p>The output is as follows: <code>Tue Jul 5 13:46:43 2016</code></p>\n\n<p>I'm looking for <code>Tue Jul 5 2016 13:46:43</code>. As you can see, the year is moved to the left one position.</p>\n\n<p>I am also a newbie so I tried a few matches from here: <a href=\"http://www.tutorialspoint.com/perl/perl_date_time.htm\" rel=\"nofollow noreferrer\">Date and time functions in Perl</a>, but I could not find a match for date formatting from a Unix timestamp.</p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1467732338, "post_id": 38207203, "comment_id": 63838500, "body": "You will need a second Text::CSV instance to write to. What does your Dumper output say? You don&#39;t need the backslash in front of <code>$href</code>, it is already a reference."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1467736935, "last_edit_date": 1467736935, "creation_date": 1467732822, "answer_id": 38207405, "question_id": 38207203, "link": "https://stackoverflow.com/questions/38207203/modify-csv-file/38207405#38207405", "title": "Modify CSV file", "body": "<p>The core <a href=\"https://metacpan.org/pod/Tie::File\" rel=\"nofollow\"><code>Tie::File</code></a> module can help you here. It allows you to access a file through a tied array, so that any changes to the array are reflected in the contents of the file</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Tie::File;\n\ntie my @file, 'Tie::File', 'Classeur1.csv';\n\n$file[0]  =~ s/Level/Level1/;\n$file[$_] =~ s/Ref(\\d+)/Reference$1/ for 1 .. $#file;\n</code></pre>\n"}], "owner": {"reputation": 316, "user_id": 1394459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1aace9231523ac469adeb838a8a5ceb8?s=128&d=identicon&r=PG", "display_name": "tchike", "link": "https://stackoverflow.com/users/1394459/tchike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1467736935, "creation_date": 1467732176, "last_edit_date": 1467733235, "question_id": 38207203, "link": "https://stackoverflow.com/questions/38207203/modify-csv-file", "title": "Modify CSV file", "body": "<p></p>\n\n<p>I need to read the input CSV file, and change the header and some values as follows.</p>\n\n<p>Can anybody help me to achieve this?</p>\n\n<p><strong>Input File</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Level;Ref;Number;Ref Code\n0;Ref1;4;16\n1;Ref6;2;32\n4;Ref9;7;8\n6;Ref2;6;32\n</code></pre>\n\n<p><strong>Output File:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Level1;Ref;Ref Code\n0;Reference1;16\n1;Reference6;32\n4;Reference9;8\n6;Reference2;32\n</code></pre>\n\n<p>I started with this code but I don't know how to change the header.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $file = 'Classeur1.csv';\nmy $csv = Text::CSV-&gt;new( { binary =&gt; 1, eol =&gt; $/, sep_char =&gt; ';' } );\nopen my $io, \"&lt;\", $file or die \"$file: $!\";\n\nmy $cols1 = $csv-&gt;column_names($csv-&gt;getline($io));\nwhile ( my $href = $csv-&gt;getline_hr($io) ) {\n    print Dumper( \\$href );\n}\n\nclose $io;\n</code></pre>\n\n<h3>Dumper output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>$VAR1 = { 'Number' =&gt; '4', 'Level' =&gt; '0', 'Ref Code' =&gt; '16', 'Ref' =&gt; 'Ref1' };\n$VAR1 = { 'Number' =&gt; '2', 'Level' =&gt; '1', 'Ref Code' =&gt; '32', 'Ref' =&gt; 'Ref6' };\n$VAR1 = { 'Number' =&gt; '7', 'Level' =&gt; '4', 'Ref Code' =&gt; '8',  'Ref' =&gt; 'Ref9' };\n$VAR1 = { 'Number' =&gt; '6', 'Level' =&gt; '6', 'Ref Code' =&gt; '32', 'Ref' =&gt; 'Ref2' };\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1467727476, "post_id": 38205304, "comment_id": 63834970, "body": "Does your &#39;mask&#39; have to be <code>x</code> ? because doing it as <code>.</code> (regex) would make it easier."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1467727531, "post_id": 38205304, "comment_id": 63835005, "body": "A space in the mask mean that we skip to the next word of the text, right?"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1467727998, "post_id": 38205304, "comment_id": 63835370, "body": "Sobrique: It doesn&#39;t matter, <code>x</code> can always be converted to <code>.</code> easily with <code>s&#47;x&#47;.&#47;g</code>. simbabque: Yes that is correct."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467729015, "post_id": 38205304, "comment_id": 63836116, "body": "@Joshua: Is it possible that the mask may contain two spaces with no intervening <code>x</code>, signifying that a word of text should be skipped altogether, or is it words at the end of the mask that can be skipped? Is is possible that the text string may contain multiple spaces (or tabs?) which need to be retained in the result?"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1467729743, "post_id": 38205304, "comment_id": 63836648, "body": "Hi Borodin, see my update... Arbitrary whites pace is irrelevant, there&#39;s no need to conform to the masks spacing. All remaining text is skipped."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467730143, "post_id": 38205304, "comment_id": 63836952, "body": "The solution that you refer to isn&#39;t applicable in your case because it relies on the character positions in the text and mask strings matching one-for-one. You want to support multiple spaces between substrings, and the substrings themselves are probably shorter than the corresponding word in the text, which means the character position of an <code>x</code> in the mask is of no help in determining which character in the text should be included."}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1467731239, "post_id": 38205304, "comment_id": 63837761, "body": "Thanks Borodin. I&#39;ve not used the <code>pos</code> operator before so it was an interesting find for me, but I see why that answer can&#39;t apply to my problem."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1467729603, "last_edit_date": 1467729603, "creation_date": 1467727788, "answer_id": 38205636, "question_id": 38205304, "link": "https://stackoverflow.com/questions/38205304/string-masking-confoming-text-to-a-given-mask/38205636#38205636", "title": "String masking: Confoming text to a given mask", "body": "<p>This looks like a word by word regex match, translating <code>x</code> to <code>.</code>.</p>\n\n<p>So:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $text = 'the quick brown fox jumps over the lazy dog';\nmy $mask = 'xx xxx xxxx x xxx';\n\n#split mask on whitespace\nmy @match = split ' ', $mask; \nprint Dumper \\@match;\n\n#iterate each word in $text\nforeach my $word ( split ' ', $text ) {\n    #if no more 'match' entries, end. \n    last unless @match;\n\n    #grab 'first' match pattern. and turn `xx` into `..`\n    #e.g. a regex matching any 2 characters. \n    my $pattern = (shift @match) =~ s/x/./rg; \n    #trim words to match pattern\n    print $word =~ s/^($pattern).*/$1/r, \" \";\n}\n</code></pre>\n\n<p>(note - <code>r</code> regex flag is a more recent feature. If it doesn't work in your version of perl, then you can instead <code>s/x/./g for @match</code> outside the loop. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1467729433, "last_edit_date": 1467729433, "creation_date": 1467727969, "answer_id": 38205703, "question_id": 38205304, "link": "https://stackoverflow.com/questions/38205304/string-masking-confoming-text-to-a-given-mask/38205703#38205703", "title": "String masking: Confoming text to a given mask", "body": "<p>Here are a couple of ways</p>\n\n<p>Firstly, transforming the <code>$mask</code> value into a regular expression gives the correct result</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $text = 'the quick brown fox jumps over the lazy dog';\nmy $mask = 'xx xxx xxxx x xxx';\n\nmy $re = join ' \\S*\\s+ ', map { sprintf '(\\S{1,%d})', length } split ' ', $mask;\n$re = qr/$re/xs;\n\nmy $new = join ' ', $text =~ $re;\n\nsay $new;\n</code></pre>\n\n<p>Secondly, this transforms <code>$mask</code> into a list of substring lengths and uses it to convert the <code>$text</code> string</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $text = 'the quick brown fox jumps over the lazy dog';\nmy $mask = 'xx xxx xxxx x xxx';\n\nmy @mask = map length, split ' ', $mask;\n\nmy $i = 0;\nmy $new = join ' ', map { $i &gt; $#mask ? () : substr($_, 0, $mask[$i++]) } split ' ', $text;\n\nsay $new;\n</code></pre>\n\n<p>Finally, here's a neater rewrite of the second solution above with makes use of the <code>pairwise</code> function from <a href=\"https://metacpan.org/pod/List::MoreUtils\" rel=\"nofollow\"><code>List::MoreUtils</code></a></p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse List::MoreUtils 'pairwise';\n\nmy $text = 'the quick brown fox jumps over the lazy dog';\nmy $mask = 'xx xxx xxxx x xxx';\n\nmy @text = split ' ', $text;\nmy @mask = split ' ', $mask;\n\nmy $new =  join ' ', pairwise { $b ? substr($a, 0, length $b) : () } @text, @mask;\n\nsay $new;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467730335, "post_id": 38206241, "comment_id": 63837083, "body": "This builds a regex pretty much identical to my own regex solution, except that I allow a mask to be longer than the corresponding word in the text, resulting in the whole word being selected. The option of using substitutions instead of my <code>map</code> is interesting, though"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 0, "creation_date": 1467732036, "post_id": 38206241, "comment_id": 63838288, "body": "This is a really clever and fast solution, Alexandr. Great work!"}], "tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": true, "score": 1, "last_activity_date": 1467730129, "last_edit_date": 1467730129, "creation_date": 1467729446, "answer_id": 38206241, "question_id": 38205304, "link": "https://stackoverflow.com/questions/38205304/string-masking-confoming-text-to-a-given-mask/38206241#38206241", "title": "String masking: Confoming text to a given mask", "body": "<p>Clean regex solution, transforming mask to the regex:</p>\n\n<pre><code>use strict;\nuse v5.10;\n\nmy $text = 'the quick brown fox jumps over the lazy dog';\nmy $mask = 'xx xxx xxxx x xxx';\nsay $mask;\n$mask =~ s/(x+)/ '(\\S{'.(length $1).'})\\S*'/ge;\n$mask =~ s/\\s+/\\\\s+/g;\nsay $mask;\nsay join ' ', ($text =~ /^$mask/);\n</code></pre>\n"}], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 38206241, "answer_count": 3, "score": 0, "last_activity_date": 1467732872, "creation_date": 1467726860, "last_edit_date": 1495540354, "question_id": 38205304, "link": "https://stackoverflow.com/questions/38205304/string-masking-confoming-text-to-a-given-mask", "title": "String masking: Confoming text to a given mask", "body": "<p>Given the following text and mask string: -</p>\n\n<pre><code>text: the quick brown fox jumps over the lazy dog\nmask: xx xxx xxxx x xxx\n</code></pre>\n\n<p>I'm trying to find a terse way to arrive at the result: -</p>\n\n<pre><code>th qui brow f jum\n</code></pre>\n\n<p>The mask conforms the text to it's pattern. The resulting string should have the same amount of words as the mask.</p>\n\n<p>My current implentation is using <code>List::Zip</code> to zip the words of each list together and do a string substitution. ( I've copied the logic of the zip function into the below example so you don't need to install it to test)</p>\n\n<pre><code># Squashed version of List::Zip-&gt;zip function\nsub zip{map{[map{shift@{$_}}@_]}0..((sort map{0+@{$_}}@_)[0]-1)}\n\nmy $mask = 'xx xxx xxxx x xxx';\nmy $text = 'the quick brown fox jumps over the lazy dog';\n\nfor my $mt ( zip( [split(' ', $mask)], [split(' ', $text)] ) ) {\n    my ( $m, $t ) = @{ $mt };\n    $mask =~ s/ $m / substr( $t, 0, length($m) ) /xe;\n}\n\nprint $mask; # OUTPUT: th qui brow f jum\n</code></pre>\n\n<p>... but I can't help but think there's a shorter way. Maybe a funky regex trick?</p>\n\n<p>Suggestions welcome.</p>\n\n<p><strong>Update</strong></p>\n\n<p>The accepted answer <a href=\"https://stackoverflow.com/a/1871197/3124587\">here</a> is intriguing for it's use of <code>pos</code>. Trying to figure out how to apply it to my problem. (Edit: Borodin pointed out why it's not applicable to this problem)</p>\n\n<p>I should also note that arbitrary whitespace is of no concern, ie given: </p>\n\n<pre><code>text: 'one    two three'\nmask: 'x xx    xxx'\n</code></pre>\n\n<p>I don't care if the result that comes back is <code>o tw thr</code>. The only requirement is the same number of words, and the same length words.</p>\n\n<p><strong>Review</strong> </p>\n\n<p>In the end I've accepted Alexandr's 'funky regex' solution. It's terse, and very fast, running the fastest Benchmarks by a comfortable margin.</p>\n\n<p>Borodin's first solution, while very similar, created a regex pattern that didn't perform as well.</p>\n\n<pre><code>Borodin: (\\S{1,2}) \\S*\\s+ (\\S{1,3}) \\S*\\s+ (\\S{1,4}) \\S*\\s+ (\\S{1,1}) \\S*\\s+ (\\S{1,3})\nAlexandr: (\\S{2})\\S*\\s+(\\S{3})\\S*\\s+(\\S{4})\\S*\\s+(\\S{1})\\S*\\s+(\\S{3})\\S*\n</code></pre>\n\n<p>A few minor changes to Borodin's solution brings it on par with Alexandr's, but I gave it to Alexandr for arriving there first.</p>\n\n<p>All the solutions are full of great and interesting idea's, thanks everyone.</p>\n"}, {"tags": ["linux", "bash", "perl", "shell", "env"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 2, "creation_date": 1467723573, "post_id": 38204032, "comment_id": 63832157, "body": "Don&#39;t test code with <code>i</code> flag."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1467723632, "post_id": 38204032, "comment_id": 63832199, "body": "Going to need some more detail - where does <code>$1</code> come from? If this is <code>XML</code> - and it looks like it is - then this is the wrong way of tackling the problem anyway."}, {"owner": {"reputation": 1, "user_id": 6551659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af7cacb166dd0a34ee020b0dc967a131?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/6551659/fernando"}, "edited": false, "score": 0, "creation_date": 1467724844, "post_id": 38204032, "comment_id": 63833047, "body": "this is a shell script which is called by an asterisk hook. anyway, $1 is string a parameter. In fact,  I print $1 to standard output without any problem. I assume there&#39;s something wrong insider perl script."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1467724996, "post_id": 38204032, "comment_id": 63833157, "body": "Possibly. What outcome do you get when you run it? I&#39;m going to take a guess that nothing changes, because your regex isn&#39;t matching."}, {"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 0, "creation_date": 1467725548, "post_id": 38204032, "comment_id": 63833552, "body": "My linux knowlege is vague, but as far as I understand: you set ENV variable for your user. And asterisk starts script from it&#39;s own user, which has no this variable."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 3, "creation_date": 1467726466, "post_id": 38204032, "comment_id": 63834197, "body": "Is the <code>export ACT_NUM=$1</code> actually <b>part of the shell script</b>, or are you executing it somewhere else and expecting the value to be inherited? If the latter, where <i>exactly</i> is the somewhere else, and what&#39;s its process-tree relationship to the invocation point?"}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1467729881, "post_id": 38204924, "comment_id": 63836744, "body": "Will your code at the end work without defining the <code>ins</code> namespace to <code>XML::Twig</code>? (Honest question, as it&#39;s a library I&#39;m unfamiliar with, but for the majority of the libraries I <i>am</i> familiar with that answer would be &quot;no&quot;)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1467729963, "post_id": 38204924, "comment_id": 63836809, "body": "Yup. <code>XML::Twig</code> by default ignores namespacing. (I call that a useful feature in <i>most</i> XML cases)"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1467730151, "post_id": 38204924, "comment_id": 63836956, "body": "Heh. I&#39;m a loud proponent of namespaces in general -- being able to edit a <i>template</i> that generates a SVG document directly in Inkscape, despite it not knowing the template language (but knowing to leave things in namespaces it doesn&#39;t understand alone) is a beautiful thing -- but I&#39;ll admit that here, that&#39;s a useful feature."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1467731306, "post_id": 38204924, "comment_id": 63837815, "body": "You can do namespacing if you need to - it&#39;s just unlike most, if you just ignore it, it works fine. (which honestly, is the vast majority of times I&#39;m parsing XML)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 6, "last_activity_date": 1467725735, "last_edit_date": 1495540731, "creation_date": 1467725735, "answer_id": 38204924, "question_id": 38204032, "link": "https://stackoverflow.com/questions/38204032/perl-env-does-not-get-the-value-of-linux-bash-var/38204924#38204924", "title": "perl $ENV does not get the value of linux bash var", "body": "<p>I think your problem is more fundamental than expansion of <code>$1</code> - I'm going to hazard a guess that the regex isn't matching - because:</p>\n\n<pre><code>$v=$ENV{ACT_NUM};s/TRIGGER_VALUE\" value=\"\\d*\"/TRIGGER_VALUE\" value=\"$v\"/&gt;//\n</code></pre>\n\n<p>Is actually broken syntax - you're using <code>/</code> as your regex separator, but you're <em>also</em> trying to include it in your pattern. </p>\n\n<p>So if you actually run this code you get:</p>\n\n<pre><code>Useless use of numeric gt (&gt;) in void context \n</code></pre>\n\n<p>So perhaps you need to consider escaping some of your meta characters:</p>\n\n<p>This works:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n$ENV{ACT_NUM} = 1;\n\nwhile ( &lt;DATA&gt; ) {\n    my $v=$ENV{ACT_NUM};\n    s/TRIGGER_VALUE\\\" value=\\\"\\d*\\\"/TRIGGER_VALUE\\\" value=\\\"$v\\\"/;\n    print;\n} \n\n__DATA__\n&lt;ins:Parameter name=\"TRIGGER_VALUE\" value=\"1\"/&gt;\n</code></pre>\n\n<p>But really - messing around with <code>XML</code> using regular expressions is an <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">inherently bad idea</a>. </p>\n\n<p>You also might want to double check that that environment actually is being propagated. If you <code>print $v</code> (or <code>$ENV{ACT_NAME}</code>) does it actually work? </p>\n\n<p>So how about instead:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new(\n   twig_handlers =&gt; {\n      'ins:Parameter[@name=\"TRIGGER_VALUE\"]' =&gt;\n        sub { $_-&gt;set_att( 'value', $ENV{ACT_NUM} ) }\n   }\n);\n$twig-&gt;parse(\n   do { local $/; &lt;&gt; }\n)-&gt;print;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": false, "score": 2, "last_activity_date": 1467729745, "last_edit_date": 1467729745, "creation_date": 1467726023, "answer_id": 38205021, "question_id": 38204032, "link": "https://stackoverflow.com/questions/38204032/perl-env-does-not-get-the-value-of-linux-bash-var/38205021#38205021", "title": "perl $ENV does not get the value of linux bash var", "body": "<p>Regular expressions are insufficiently expressive to parse XML. For instance, your same value could be written out over three lines with the parameter order reversed, as:</p>\n\n<pre><code>&lt;ins:Parameter\n value=\"1\"\n name=\"TRIGGER_VALUE\"/&gt;\n</code></pre>\n\n<p>...or with numerous other variances (unexpected whitespace, &amp;c). Trying to cover the corner cases -- which also include distinguishing content in CDATA and comments from actual tags -- is <A HREF=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">potentially sanity-impacting</A>.</p>\n\n<hr>\n\n<p>If you're editing XML, use an actual XML parser. One good choice is <A HREF=\"http://xmlstar.sourceforge.net/\" rel=\"nofollow\">XMLStarlet</A>:</p>\n\n<pre><code>xmlstarlet ed -i \\\n  -u '//*[@name=\"TRIGGER_VALUE\"]/@value' \\\n  -v \"$ACT_NUM\" \\\n  soa_triggering.xml\n</code></pre>\n\n<p>If you know what the <code>ins</code> namespace points to, you can do better:</p>\n\n<pre><code># Replace http://example.com/ins-namespace with actual value\n# from xmlns:ins=\"...\" earlier in your document\nxmlstarlet ed -i -N \"ins=http://example.com/ins-namespace\" \\\n  -u '//ins:Parameter[@name=\"TRIGGER_VALUE\"]/@value' \\\n  -v \"$ACT_NUM\" \\\n  soa_triggering.xml\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6551659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af7cacb166dd0a34ee020b0dc967a131?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando", "link": "https://stackoverflow.com/users/6551659/fernando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1467731041, "creation_date": 1467723273, "last_edit_date": 1467731041, "question_id": 38204032, "link": "https://stackoverflow.com/questions/38204032/perl-env-does-not-get-the-value-of-linux-bash-var", "title": "perl $ENV does not get the value of linux bash var", "body": "<p>The following shell script is working fine while I execute it from a Linux prompt, but when it's called by a Unix service (e.g. inetd, etc.) it doesn't recognize the <code>$ACT_NUM</code> variable inside the Perl script.</p>\n\n<pre><code>export ACT_NUM=$1\nperl -pi -e '$v=$ENV{ACT_NUM};s/TRIGGER_VALUE\" value=\"\\d*\"/TRIGGER_VALUE\" value=\"$v\"/&gt;//' soa_triggering.xml\n</code></pre>\n\n<p>The <code>soa_triggering.xml</code> content file is</p>\n\n<pre><code>&lt;ins:Parameter name=\"TRIGGER_VALUE\" value=\"1\"/&gt;\n</code></pre>\n"}, {"tags": ["html", "regex", "perl"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1467713035, "post_id": 38200361, "comment_id": 63825232, "body": "Yes, this is confusing :D Why not just scrape the contents of the Wiki to get only the content you want. Use <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a>. Also there are lots of modules for parsing this stuff like <a href=\"https://metacpan.org/pod/Text::WikiText\" rel=\"nofollow noreferrer\">Text::WikiText</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1467716238, "post_id": 38200361, "comment_id": 63827152, "body": "What&#39;s the equivalent of the <code>&lt;code&gt;&lt;&#47;code&gt;</code> markup in Sharepoint? In Markdown, it would be backticks. If you replace the things to actually do the proper markup it will not be a problem to have those. But that might cause a simple <code>s&#47;&lt;&#47;&amp;lt&#47;g</code> to make your resulting text not what you want..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "edited": false, "score": 0, "creation_date": 1467716595, "post_id": 38200361, "comment_id": 63827387, "body": "SharePoint can interpret &lt;code&gt; but there is no control for &quot;a normal user&quot; to add code on button click. You need to open the source to edit it. So &lt;code&gt; tag is okay to be escaped and migrated from old wiki to SP. But the tags within &lt;code&gt; shall be escape different so they  a)  dont get interpreted b) can be changed back to &lt;tags&gt; in SharePoints editor"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "edited": false, "score": 0, "creation_date": 1467791401, "post_id": 38203140, "comment_id": 63860397, "body": "I could almost use it without editing, but all &lt;a&gt; Tags got damaged. I laughed at your &quot;diese ganzen Listen sind verwirrend&quot;. Well, our old wiki system was used in many different ways. Some used an editor, others went and edited the source, so we got a big, ugly and sometimes damaged html. I&#39;m happy that SP can deal with that with little adjustments."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1467792452, "post_id": 38203140, "comment_id": 63860971, "body": "@Thomas glad it helped. Because you didn&#39;t show code I had to guess what the HTML would look like. A more complete example would have been useful. What did you change to make it work? I&#39;m also happy you found that little joke. Not everyone reads long posts nowadays. :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "edited": false, "score": 0, "creation_date": 1467793083, "post_id": 38203140, "comment_id": 63861346, "body": "if you are interested I can upload my noob code + Wiki html + converted SP aspx. To restore the links I just wrote a regex which transforms openTagaclosingTag back to &lt;a&gt; and same for &lt;/a&gt;."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1467793136, "post_id": 38203140, "comment_id": 63861380, "body": "Sure, drop it in a gist and add the link as a comment here. :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "edited": false, "score": 0, "creation_date": 1467793748, "post_id": 38203140, "comment_id": 63861724, "body": "<a href=\"https://gist.github.com/anonymous/1c57c1d6d1b9db6c5c5ebde18e979282\" rel=\"nofollow noreferrer\">here it is</a> I stripped the HTML cause of its content. I got a last problem. My $_ holds the header of the whole HTML even that I only download the content of a div (I dont need the navigation and so on, div is called patternContent) Now this gets added to my final aspx and wrecks it. If I manually delete that the aspx is just as I want it to be. Guess I need another regex to remove the content of $_ again from my $htmlContent which gets written into my aspx."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "edited": false, "score": 1, "creation_date": 1467796418, "post_id": 38203140, "comment_id": 63863169, "body": "ufff, I am so blind. Missed to change a variable from your example... Your code is perfect as it is. MANY THANKS!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1467720728, "creation_date": 1467720728, "answer_id": 38203140, "question_id": 38200361, "link": "https://stackoverflow.com/questions/38200361/escaping-special-tags-for-html/38203140#38203140", "title": "Escaping special Tags for HTML", "body": "<p>I fiddled around and found a solution that <em>might</em> work. It does work with example data, but I don't know how complicated your actual documents are.</p>\n\n<p>Consider this example input.</p>\n\n<pre><code>my $html = &lt;&lt;'HTML';\n&lt;ul&gt;\n    &lt;li&gt;&lt;code&gt;tecdata\\de\\modules:&lt;/code&gt; Testbausteine blafasel&lt;/li&gt;\n    &lt;li&gt;\n        &lt;ul&gt;\n            &lt;li&gt; Moduldateinamen haben folgendes Format &lt;code&gt; &lt;Content&gt;_&lt;Type&gt;_&lt;Name&gt;&lt;/code&gt; (Ausnahme: &lt;code&gt;ti_&lt;Name&gt;)&lt;/li&gt;\n            &lt;li&gt;\n                &lt;ul&gt;\n                    &lt;li&gt;&lt;Content&gt; bezeichnet den semantischen Inhalt&lt;/li&gt;\n                    &lt;li&gt;&lt;code&gt;ti_&lt;/code&gt; diese ganzen Listen sind verwirrend\n                &lt;/ul&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n&lt;p&gt;And more stuff here...&lt;/p&gt;\";\nHTML\n</code></pre>\n\n<p>And the following program.</p>\n\n<pre><code># we will save the tag-looking words here\nmy %non_tags;\n\n# (8) replace html with the concatenanted result\n$html = join '', map {\n    my $string = $_;\n\n    # (2) find where the end-tag is\n    my $pos = index($string, '&lt;/code&gt;');\n    if ($pos &gt;= 0) {\n        # (3) take string until the end-tag\n        my $escaped = substr( $string, 0, $pos );\n\n        # (4) remember the tag-looking words\n        $non_tags{$_}++ foreach $escaped =~ m/&lt;([^&gt;]+)&gt;/g;\n\n        # (5) html-escape the &lt;&gt;\n        $escaped =~ s/&lt;/&amp;lt;/g;\n        $escaped =~ s/&gt;/&amp;gt;/g;\n\n        # (6) overwrite the not-escaped part with the newly escaped string\n        substr( $string, 0, $pos ) = $escaped;\n    }\n    $string;\n} split m/(&lt;code&gt;)/, $html; # (1) split on &lt;code&gt; but also take that delimiter\n\n# html-escape those tag-looking words all over the text\nforeach my $word ( keys %non_tags) {\n    $html =~ s/&lt;($word)&gt;/&amp;lt;$1&amp;gt;/g ;\n}\n\nprint $html;\n</code></pre>\n\n<p>The output from that is the following.</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li&gt;&lt;code&gt;tecdata\\de\\modules:&lt;/code&gt; Testbausteine blafasel&lt;/li&gt;\n    &lt;li&gt;\n        &lt;ul&gt;\n            &lt;li&gt; Moduldateinamen haben folgendes Format &lt;code&gt; &amp;lt;Content&amp;gt;_&amp;lt;Type&amp;gt;_&amp;lt;Name&amp;gt;&lt;/code&gt; (Ausnahme: &lt;code&gt;ti_&amp;lt;Name&amp;gt;)&lt;/li&gt;\n            &lt;li&gt;\n                &lt;ul&gt;\n                    &lt;li&gt;&amp;lt;Content&amp;gt; bezeichnet den semantischen Inhalt&lt;/li&gt;\n                    &lt;li&gt;&lt;code&gt;ti_&lt;/code&gt; diese ganzen Listen sind verwirrend\n                &lt;/ul&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n&lt;p&gt;And more stuff here...&lt;/p&gt;\";\n</code></pre>\n\n<p>As you can see, it html-escaped all tag-like words inside of <code>&lt;code&gt;&lt;/code&gt;</code> tokens. It also remembered what those words were, and then replaced further occurrences of those words that still look like tags. That way, we do not mess up actual HTML.</p>\n\n<p><strong>This is a very naive approach</strong>, but since this is a one-time task a crap solution that works is better than no solution.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "edited": false, "score": 0, "creation_date": 1467722590, "post_id": 38203362, "comment_id": 63831402, "body": "Yes sir, thats it! Thanks for that :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1467724323, "post_id": 38203362, "comment_id": 63832659, "body": "That will not escape the mentions of <code>&lt;Content&gt;</code> where it&#39;s not marked as <code>&lt;code&gt;&lt;&#47;code&gt;</code> in the bullet <i>&lt;Content&gt; bezeichnet den semantischen...</i>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "edited": false, "score": 0, "creation_date": 1467784765, "post_id": 38203362, "comment_id": 63857377, "body": "Yes you are right, it only works for &quot;text&quot;-tags in the code block but still it is working :) gonna test your other answer today"}], "tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": false, "score": 1, "last_activity_date": 1467721364, "creation_date": 1467721364, "answer_id": 38203362, "question_id": 38200361, "link": "https://stackoverflow.com/questions/38200361/escaping-special-tags-for-html/38203362#38203362", "title": "Escaping special Tags for HTML", "body": "<p>As far as I understand the question right, all you need is a regex like:</p>\n\n<pre><code>$page =~ s{(?&lt;=&lt;code&gt;)(.+?)(?=&lt;\\/code&gt;)}\n          {\n              my $text = $1;\n              $text =~ s/([&lt;&gt;])/ $1 eq '&lt;' ? '&amp;lt;': '&amp;gt;'/ge;\n              $text;\n          }gxe;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6550864"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 38203140, "answer_count": 2, "score": 0, "last_activity_date": 1467721364, "creation_date": 1467712435, "last_edit_date": 1467716106, "question_id": 38200361, "link": "https://stackoverflow.com/questions/38200361/escaping-special-tags-for-html", "title": "Escaping special Tags for HTML", "body": "<p>I'm pretty new to perl and recently wrote a converter for our SharePoint.\nIt basically takes our old wiki's html pages and converts them to aspx pages with SP classes and so on.</p>\n\n<p>Everything works fine till the point someone used <code>&lt;tags&gt;</code> as Text. \nHere's an example form the html of the old twiki:</p>\n\n<p><code>&lt;li&gt; Moduldateinamen haben folgendes Format &lt;code&gt; &lt;Content&gt;_&lt;Type&gt;_&lt;Name&gt;_&lt;/code&gt; ...</code></p>\n\n<p>So <code>&lt;Content&gt; &lt;Type&gt; &lt;Name&gt;</code> is text wrapped in a <code>&lt;code&gt;</code> Tag</p>\n\n<p><strong>How it looks in old wiki:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/shoWI.png\" alt=\"How it looks in old wiki\"></p>\n\n<p><strong>How it looks after converting to aspx and uploaded to SharePoint:</strong>\n<img src=\"https://i.stack.imgur.com/ROA0Y.png\" alt=\"How it looks after converting to aspx and uploaded to SharePoint\"></p>\n\n<p>You can see that SP tried to interpret them as tags (sure), not as text and therefore it wont be displayed.</p>\n\n<p>For SharePoint Pages I need an escaped HTML markup between SP ASPX markup.\nSo I've changed f.e. <code>&lt;</code> to <code>&amp;lt;</code> and so on via regex.</p>\n\n<p>However the example snippet I posted should look like this in the ASPX:</p>\n\n<pre><code>&amp;lt;li&amp;gt; Moduldateinamen haben folgendes Format &amp;lt;code&gt;&amp;gt;openTagContentclosingTag_openTagTypeclosingTag_openTagNameclosingTag_&amp;lt;/code&amp;gt;\n</code></pre>\n\n<p>So &lt; converts to openTag and > to closing Tag but only for actual content between this <code>&lt;li&gt;</code> tag. Later this needs to be changed by hand (I don't see another way)</p>\n\n<p>How can I achieve that only \"text\" tags get escaped with openTag/closingTag but \"real\" HTML markup gets escape in this manner <code>&lt;</code> to <code>&amp;lt;</code></p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 6, "creation_date": 1467711554, "post_id": 38199925, "comment_id": 63824284, "body": "Do you have <code>use strict</code> and <code>use warnings</code> in that program? I think you don&#39;t. Add those two at the top, then fix all the errors they will give you (like an undeclared <code>$add</code> in the <code>foreach</code> loop) and then <a href=\"https://stackoverflow.com/posts/38199925/edit\">edit</a> your question with the updated program please."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1467712142, "post_id": 38199925, "comment_id": 63824651, "body": "If you can&#39;t be sure there will never be field or line delimiters in your field data, use <a href=\"http://search.cpan.org/perldoc/Text::CSV_XS\" rel=\"nofollow noreferrer\">Text::CSV_XS</a> to write your CSV data."}, {"owner": {"reputation": 1411, "user_id": 616586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4655cf0a99590aa2e4936208d7faa8fd?s=128&d=identicon&r=PG", "display_name": "hetOrakel", "link": "https://stackoverflow.com/users/616586/hetorakel"}, "edited": false, "score": 0, "creation_date": 1467712348, "post_id": 38199925, "comment_id": 63824781, "body": "I removed the double-quote as it is not relevant to my question. Also the contents of the CSV file are perfectly fine. The only problem is the 2nd file having also the contents of the first file..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1467712443, "post_id": 38199925, "comment_id": 63824839, "body": "Fair enough. But please make it run with strict and warnings. Otherwise it&#39;s going to be guesswork."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 7, "creation_date": 1467715123, "post_id": 38200827, "comment_id": 63826475, "body": "A valuable lesson in why &#39;use strict; use warnings&#39; is good practice I think! :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467736117, "post_id": 38200827, "comment_id": 63840774, "body": "hum.... That change won&#39;t do anything but silence a spurious warning. It was one of your other changes that made the difference."}, {"owner": {"reputation": 1411, "user_id": 616586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4655cf0a99590aa2e4936208d7faa8fd?s=128&d=identicon&r=PG", "display_name": "hetOrakel", "link": "https://stackoverflow.com/users/616586/hetorakel"}, "edited": false, "score": 0, "creation_date": 1467759839, "post_id": 38200827, "comment_id": 63851893, "body": "You are right. The use strict/warnings helped me removing all warnings. That solved the problem. And i showed this one because it was a hard one (for me) to fix."}], "tags": [], "owner": {"reputation": 1411, "user_id": 616586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4655cf0a99590aa2e4936208d7faa8fd?s=128&d=identicon&r=PG", "display_name": "hetOrakel", "link": "https://stackoverflow.com/users/616586/hetorakel"}, "is_accepted": true, "score": 5, "last_activity_date": 1467714685, "last_edit_date": 1467714685, "creation_date": 1467713761, "answer_id": 38200827, "question_id": 38199925, "link": "https://stackoverflow.com/questions/38199925/file-close-not-working/38200827#38200827", "title": "File close not working", "body": "<p>Okay, after adding <code>use strict</code> and <code>use warnings</code> i had to declare some variables i forgot (the <code>$add</code> in the <code>foreach</code> was only one of them \ud83d\ude01). One of them was pretty nasty. But after resolving that my little problem is gone....</p>\n\n<p>The nasty one (Use of uninitialized value in lc at #): turned out:</p>\n\n<pre><code>my @adds = $tree-&gt;look_down(sub { lc($_[0]-&gt;attr('class')) eq 'ad_row' });\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>my @adds = $tree-&gt;look_down(sub { (defined $_[0]-&gt;attr('class')) and lc($_[0]-&gt;attr('class')) eq 'ad_row' });\n</code></pre>\n\n<p>Thnks for the support!</p>\n"}], "owner": {"reputation": 1411, "user_id": 616586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4655cf0a99590aa2e4936208d7faa8fd?s=128&d=identicon&r=PG", "display_name": "hetOrakel", "link": "https://stackoverflow.com/users/616586/hetorakel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 38200827, "answer_count": 1, "score": 0, "last_activity_date": 1467714685, "creation_date": 1467711233, "last_edit_date": 1467712285, "question_id": 38199925, "link": "https://stackoverflow.com/questions/38199925/file-close-not-working", "title": "File close not working", "body": "<p>i'm having a little problem with my perl script. I'm trying to convert the contents of an HTML file to CSV. That part isn't a problem. I'm doing exact the same thing for 2 HTML file's and expect 2 CSV files as a result. Everything is working fine except for 1 thing. The First CSV file is perfectly fine, but the Second CSV file contains all the text from the first PLUS the text for the second.... I pasted my script and removed the lines for the data extraction and HTML download. So the remaining part below is the plain file-handling... What am i missing here????</p>\n\n<pre><code>#!/usr/bin/perl\n\n..\nmy $saveFileName = \"x\";\nmy $saveCsvName = \"x\";\n\nsub parse_page{      \n  open(CSV, \"&gt;\".$saveCsvName);\n  my $tree = HTML::TreeBuilder-&gt;new();\n  $tree-&gt;parse_file($saveFileName);\n  my @adds = $tree-&gt;look_down(sub { lc($_[0]-&gt;attr('class')) eq 'ad_row' });\n  foreach $add(@adds){ print CSV $stuff.\"\\n\";  } #do stuff and print  \n  $tree-&gt;delete;\n  close(CSV);\n}\n\n# Main -----------------------------------------------------\n$saveFileName = \"A_\".$vandaag.\".html\";\n$saveCsvName = \"A_\".$vandaag.\".csv\";\nparse_page();\n\n$saveFileName = \"B_\".$vandaag.\".html\";\n$saveCsvName = \"B_\".$vandaag.\".csv\";\nparse_page();\n</code></pre>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 5, "creation_date": 1467703097, "post_id": 38197386, "comment_id": 63819252, "body": "How about some <a href=\"https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#newwindow=1&amp;q=perl+format+date+time\" rel=\"nofollow noreferrer\">google.com/&hellip;</a>"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1467708012, "post_id": 38197386, "comment_id": 63821969, "body": "I feel compelled to point out that what you&#39;ve asked for has the date fields in a nonsensical order. Surely it would make more sense to arrange the units either smallest-to-largest (DD/MM/YYYY) or largest-to-smallest (YYYY-MM-DD)."}], "answers": [{"tags": [], "owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "is_accepted": false, "score": 1, "last_activity_date": 1467703821, "creation_date": 1467703821, "answer_id": 38197650, "question_id": 38197386, "link": "https://stackoverflow.com/questions/38197386/how-to-format-local-time-to-mm-dd-yyyy-hhmmss-am-pm-in-perl/38197650#38197650", "title": "How to format local time to mm/dd/yyyy HH:MM:SS AM/PM in Perl", "body": "<p>One option:</p>\n\n<pre><code>use POSIX qw(strftime);\n\nmy $date = strftime \"%m/%d/%Y %I:%M:%S %p\", localtime;\nprint $date;\n</code></pre>\n\n<p><a href=\"http://ideone.com/ngwdV3\" rel=\"nofollow\">See it in action</a></p>\n"}, {"tags": [], "owner": {"reputation": 1355, "user_id": 595764, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7421bdc83565fb778f20899f51c96c4a?s=128&d=identicon&r=PG", "display_name": "ghandi", "link": "https://stackoverflow.com/users/595764/ghandi"}, "is_accepted": false, "score": 1, "last_activity_date": 1467703916, "creation_date": 1467703916, "answer_id": 38197674, "question_id": 38197386, "link": "https://stackoverflow.com/questions/38197386/how-to-format-local-time-to-mm-dd-yyyy-hhmmss-am-pm-in-perl/38197674#38197674", "title": "How to format local time to mm/dd/yyyy HH:MM:SS AM/PM in Perl", "body": "<p>You could use the powerfull <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a> library and it's <a href=\"https://metacpan.org/pod/DateTime#dt-strftime-format\" rel=\"nofollow\">strftime</a>-function.</p>\n\n<pre><code>use DateTime;\nmy $dt = DateTime-&gt;now(); # Defaults to now\nmy $string = $dt-&gt;strftime(\"%m/%d/%Y %l:%M:%S %p\");\nprint \"The Time: $string\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1467707790, "post_id": 38197892, "comment_id": 63821819, "body": "It&#39;s worth pointing out that the <code>%</code> sequences in the format string are documented in <a href=\"http://linux.die.net/man/3/strftime\" rel=\"nofollow noreferrer\">the strftime manual page</a>."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 3, "last_activity_date": 1467704654, "creation_date": 1467704654, "answer_id": 38197892, "question_id": 38197386, "link": "https://stackoverflow.com/questions/38197386/how-to-format-local-time-to-mm-dd-yyyy-hhmmss-am-pm-in-perl/38197892#38197892", "title": "How to format local time to mm/dd/yyyy HH:MM:SS AM/PM in Perl", "body": "<p>By using <code>strftime</code> of <a href=\"http://perldoc.perl.org/POSIX.html\" rel=\"nofollow\">POSIX</a> module you can get the desire result:</p>\n\n<pre><code>use POSIX qw/strftime/;\nprint strftime('%d-%m-%Y %I:%M:%S %p',localtime);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1467705316, "creation_date": 1467705316, "answer_id": 38198068, "question_id": 38197386, "link": "https://stackoverflow.com/questions/38197386/how-to-format-local-time-to-mm-dd-yyyy-hhmmss-am-pm-in-perl/38198068#38198068", "title": "How to format local time to mm/dd/yyyy HH:MM:SS AM/PM in Perl", "body": "<p>I would suggest the <a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow\"><code>Time::Piece</code></a> module (which is core):</p>\n\n<pre><code>use Time::Piece;\nprint localtime -&gt; strftime(\"%d-%m-%Y %I:%M:%S %p\");\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 4579401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b41c7d92113fc7a4b4a9411c747b2f79?s=128&d=identicon&r=PG&f=1", "display_name": "idiot on perl", "link": "https://stackoverflow.com/users/4579401/idiot-on-perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1564, "favorite_count": 1, "accepted_answer_id": 38197892, "answer_count": 4, "score": -2, "last_activity_date": 1467705316, "creation_date": 1467702938, "last_edit_date": 1467704722, "question_id": 38197386, "link": "https://stackoverflow.com/questions/38197386/how-to-format-local-time-to-mm-dd-yyyy-hhmmss-am-pm-in-perl", "title": "How to format local time to mm/dd/yyyy HH:MM:SS AM/PM in Perl", "body": "<p>I need to convert the local time to exact format as <code>mm/dd/yyyy HH:MM:SS AM/PM</code>.</p>\n\n<pre><code>my ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst)\u00a0=\u00a0localtime();\n</code></pre>\n"}, {"tags": ["perl", "hash", "reference", "pass-by-reference"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467728409, "post_id": 38197242, "comment_id": 63835674, "body": "Re &quot;<i>Why does the first statement modify a fresh local %hash</i>&quot;, When you have two variables with the same name, only the inner one is visible. Changing <code>%hash</code> will therefore change the local one, not the global one."}], "answers": [{"comments": [{"owner": {"reputation": 511, "user_id": 1713248, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/accfc5e7320fd0ec1d7383b8a390b4ce?s=128&d=identicon&r=PG", "display_name": "Eric Van Bezooijen", "link": "https://stackoverflow.com/users/1713248/eric-van-bezooijen"}, "edited": false, "score": 0, "creation_date": 1467725844, "post_id": 38197362, "comment_id": 63833762, "body": "It was a little intuitive to me that assigning a %hash to a dereferenced hash reference makes a copy!"}, {"owner": {"reputation": 511, "user_id": 1713248, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/accfc5e7320fd0ec1d7383b8a390b4ce?s=128&d=identicon&r=PG", "display_name": "Eric Van Bezooijen", "link": "https://stackoverflow.com/users/1713248/eric-van-bezooijen"}, "edited": false, "score": 0, "creation_date": 1467745107, "post_id": 38197362, "comment_id": 63845365, "body": "Sorry I meant UN-intuitive."}], "tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": true, "score": 6, "last_activity_date": 1467702847, "creation_date": 1467702847, "answer_id": 38197362, "question_id": 38197242, "link": "https://stackoverflow.com/questions/38197242/perl-passing-hash-reference-not-behaving-as-expected/38197362#38197362", "title": "perl passing hash reference not behaving as expected", "body": "<p>Everything works as intended. You first statement in the test sub makes a copy of passed hash:</p>\n\n<pre><code> my %hash = %{$_[0]};\n</code></pre>\n\n<p>To mutate passed hash, you should work with hashref, like:</p>\n\n<pre><code> my $hashref= $_[0];\n\n $hashref-&gt;{key} = 'val';\n</code></pre>\n\n<p>This approach will change original hash, not it's copy.</p>\n"}], "owner": {"reputation": 511, "user_id": 1713248, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/accfc5e7320fd0ec1d7383b8a390b4ce?s=128&d=identicon&r=PG", "display_name": "Eric Van Bezooijen", "link": "https://stackoverflow.com/users/1713248/eric-van-bezooijen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 38197362, "answer_count": 1, "score": 2, "last_activity_date": 1467702847, "creation_date": 1467702477, "question_id": 38197242, "link": "https://stackoverflow.com/questions/38197242/perl-passing-hash-reference-not-behaving-as-expected", "title": "perl passing hash reference not behaving as expected", "body": "<p>(<strong>NOTE: I sort of figured this out, see all the way at the end</strong>)</p>\n\n<p>It's kind of late and I've been staring at this code for far too long. I finally wrote a short test program to test hashes and passing them by reference and it is not behaving as I expect. I'm sure there is something very simple I'm missing ... can anyone spot it?</p>\n\n<pre><code>#!/usr/bin/perl\nuse Data::Dumper;\n\nmy %hash = ();\nprint \"BEFORE ADDING KEYS\\n\";\nprint Dumper (\\%hash);\ntest (\\%hash, 10);\nprint \"AFTER ADDING KEYS\\n\";\nprint Dumper (\\%hash);\n\nsub test {\n\n my %hash = %{$_[0]};\n my $number = $_[1];\n if ($number == 0) { return; }\n\n print \"BEFORE ADDING KEY HASH_REF=$_[0] NUMBER=$number\\n\";\n print Dumper (\\%hash);\n $hash{$number} = $number;\n print \"AFTER ADDING KEY\\n\";\n print Dumper (\\%hash);    \n test ($_[0], $number - 1);\n}\n</code></pre>\n\n<p>I expect this code to add the numbers 10 to 1 into my hash, but instead the hash gets wiped out and doesn't contain anything once the test routine finishes recursing. What am I missing? Here is the output:</p>\n\n<pre><code>BEFORE ADDING KEYS\n$VAR1 = {};\nBEFORE ADDING KEY HASH_REF=HASH(0xdb82fd0) NUMBER=10\n$VAR1 = {};\nAFTER ADDING KEY\n$VAR1 = {\n          '10' =&gt; 10\n        };\nBEFORE ADDING KEY HASH_REF=HASH(0xdb82fd0) NUMBER=9\n$VAR1 = {};\nAFTER ADDING KEY\n$VAR1 = {\n          '9' =&gt; 9\n        };\n\n...\n\nBEFORE ADDING KEY HASH_REF=HASH(0xdb82fd0) NUMBER=1\n$VAR1 = {};\nAFTER ADDING KEY\n$VAR1 = {\n          '1' =&gt; 1\n        };\nAFTER ADDING KEYS\n$VAR1 = {};\n</code></pre>\n\n<p><strong>Changing this line:</strong></p>\n\n<pre><code>$hash{$number} = $number;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>$_[0]-&gt;{$number} = $number;\n</code></pre>\n\n<p>made everything work as expected. Why does the first statement modify a fresh local %hash when I would expect this local %hash to be pointing to the same de-referenced hash reference I originally passed into the routine?</p>\n"}, {"tags": ["perl", "module", "perl-exporter"], "answers": [{"comments": [{"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1467694915, "post_id": 38194466, "comment_id": 63815860, "body": "Thanks. I see the difference. But a &#39;library&#39; is really what I wanted. The only reason I might want a module is if there were no other way to get a library. It&#39;s kind of bizarre to say that if I had written it properly it wouldn&#39;t work. LOL. I suppose &#39;pollution&#39; is in the mind of the beholder. I don&#39;t consider having access to my own subroutines as pollution. Unnecessary complexity is pollution."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 1, "creation_date": 1467695602, "post_id": 38194466, "comment_id": 63816020, "body": "Pollution isn&#39;t the presence of wanted things; it&#39;s the presence of unwanted things.The problem is you have access to not just the subs you want to export, but subs that are internal to your module too. It&#39;s the sub equivalent of global variables. Programming is all about limiting scope, the exact opposite of what you said is good. Making everything global makes things harder to read, debug, maintain, etc, etc. No, this isn&#39;t a style issue. The entirety of Perl programmers stopped using these &quot;libraries&quot; when Perl added support for namespace support 20 years ago."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 6, "creation_date": 1467695830, "post_id": 38194466, "comment_id": 63816080, "body": "Long story short, compartmentalizing your code requires a little extra code, but it makes the program far <i>less</i> complex."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1467703044, "post_id": 38194466, "comment_id": 63819224, "body": "Maybe you should include why your second example stopped working. When using <code>use</code> or <code>require</code>, Perl only loads files once. It keeps track of what it loaded (in <code>%INC</code>). Because there&#39;s no namespace, the subs get put into the current namespace where it&#39;s loaded first. If you try to load it again, it will ignore it and only run <code>import</code> again, but since there is nothing to import, nothing happens. And then your new current namespace (<code>main</code> in this case) doesn&#39;t have the sub, and there&#39;s an <i>undefined</i> error."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1467718230, "post_id": 38194466, "comment_id": 63828439, "body": "What do you think of omitting all of the <code>Exporter</code> stuff and calling subroutines always like <code>Final::test()</code>? I ususally do so and prepend the module&#39;s name almost always because sometimes it&#39;s hard to tell (after a year) where <code>some_function()</code> came from. With <code>Module::some_function()</code> it&#39;s far easier to spot."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1467725770, "post_id": 38194466, "comment_id": 63833711, "body": "@PerlDog; that&#39;s a lot of extra typing! Whether you use <code>@EXPORT</code> or <code>@EXPORT_OK</code>, you can always document which functions you&#39;ll be using from each module explicitly in the use line, regardless if all the subs in the module have been imported: <code>use Foo qw(bar baz);</code>. Just hop to the top of the script, and search for the function in question. Also, many editors/IDEs allow you to &#39;follow through&#39; to the actual definition of the sub."}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1467729063, "post_id": 38194466, "comment_id": 63836159, "body": "My editor doesn&#39;t do that, but I wrote a little script that finds every sub and gives me a table of file &amp; line for it&#39;s definition and every use."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1467739435, "post_id": 38194466, "comment_id": 63842449, "body": "@user1067305 Nice idea. But we&#39;re getting off-topic. Perhaps I&#39;ll post a question for this -- when I&#39;ve figured out <i>where</i> because it&#39;s merely opinion-based whether <code>Module::sub()</code> is better or worse than just <code>sub()</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 13, "last_activity_date": 1467687795, "last_edit_date": 1495540286, "creation_date": 1467686433, "answer_id": 38194466, "question_id": 38194368, "link": "https://stackoverflow.com/questions/38194368/in-perl-why-do-i-need-exporter/38194466#38194466", "title": "In Perl, why do I need Exporter?", "body": "<p>The short version is that you wanted a module, but you ended up with what <a href=\"https://stackoverflow.com/a/6379109/589924\">this</a> calls a library. These aren't good because they pollute their caller's namespace (which can cause plenty of problems). But more crucially here, loading them using <code>require</code> or <code>use</code> (as oppose to <code>do</code>) is buggy.</p>\n\n<p>If it had been properly written as a module, your example would not work. Exporter is the solution to that problem.</p>\n\n<hr>\n\n<p>Let's dive into the details.</p>\n\n<p>Like I said, there's a problem with your module. As you've noticed, it sometimes works despite the bug.</p>\n\n<pre><code>$ cat Buggy.pm\nsub test { \"ok!\" }\n1;\n\n$ perl -e'use Buggy; CORE::say(test());'\nok!\n</code></pre>\n\n<p>But that's just because your example is too simple. Let's add a properly-written<sup>[1]</sup> module to the mix.</p>\n\n<pre><code>$ cat Buggy.pm\nsub test { \"ok!\" }\n1;\n\n$ cat Other.pm\npackage Other;\nuse Buggy;\n1;\n\n$ perl -e'use Other; use Buggy; CORE::say(test());'\nUndefined subroutine &amp;main::test called at -e line 1.\n</code></pre>\n\n<p>The bug in your module is that it doesn't have a <code>package</code> directive. Modules loaded using <code>use</code> and <code>require</code> must always use a <code>package</code> directive. But as soon as you add that, your module stops working.</p>\n\n<pre><code>$ cat NotBuggy.pm\npackage NotBuggy;\nsub test { \"ok!\" }\n1;\n\n$ perl -e'use NotBuggy; CORE::say(test());'\nUndefined subroutine &amp;main::test called at -e line 1.\n</code></pre>\n\n<p>Exporter is used to solve that problem.</p>\n\n<pre><code>$ cat Final.pm\npackage Final;\nuse Exporter qw( import );\nour @EXPORT = qw( test );\nsub test { \"ok!\" }\n1;\n\n$ perl -e'use Final; CORE::say(test());'\nok!\n</code></pre>\n\n<hr>\n\n<ol>\n<li>Well, not really. If it was properly written, it would include use <code>use strict; use warnings 'all';</code>. Always include that! It was omitted here to keep things visually simple.</li>\n</ol>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 2, "answer_count": 1, "score": 9, "last_activity_date": 1467687891, "creation_date": 1467685601, "last_edit_date": 1467687891, "question_id": 38194368, "link": "https://stackoverflow.com/questions/38194368/in-perl-why-do-i-need-exporter", "title": "In Perl, why do I need Exporter?", "body": "<p>I have a module called hsfSubs.pm in my <code>perl\\lib</code> folder. I have nothing in the module but subroutines and <code>1;</code> at the end.</p>\n\n<p>One subroutine, for example, is named <code>pause</code>. I have implemented no import or export routines.</p>\n\n<p>In my main programs, I simply say <code>use hsfSubs;</code>, and I am subsequently able to call <code>pause</code> with no problem. Ditto if I say <code>use hsfSubs qw(pause);</code>.</p>\n\n<p>Why would I need to use Exporter, <code>@EXPORT</code> and <code>@EXPORT_OK</code>, etc. or any other complications?</p>\n\n<p>The multiple answers on Stack Overflow to questions about Exporter tell how to use it, but I fail to see why to use it.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1467684864, "last_edit_date": 1467684864, "creation_date": 1467684491, "answer_id": 38194239, "question_id": 38194194, "link": "https://stackoverflow.com/questions/38194194/how-to-make-perl-print-all-matches-in-command-line/38194239#38194239", "title": "How to make perl print all matches in command line?", "body": "<p><code>if //g</code> makes no sense. You're looking for <code>while //g</code>.</p>\n\n<pre><code>perl -0777ne'print \"$1\\n\" while /ModelProxy\\(\"([\\w*.]+)\"\\);/g' test.txt\n</code></pre>\n\n<p>Do you expect line breaks in the middle of your match? If not, there's no need to read the whole file into memory.</p>\n\n<pre><code>perl -nle'print for /ModelProxy\\(\"([\\w*.]+)\"\\);/g' test.txt\n</code></pre>\n"}], "owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1467684864, "creation_date": 1467684060, "question_id": 38194194, "link": "https://stackoverflow.com/questions/38194194/how-to-make-perl-print-all-matches-in-command-line", "title": "How to make perl print all matches in command line?", "body": "<p>I want to print all matches in command line like this:</p>\n\n<pre><code>perl -0777 -nle 'print \"$1\\n\" if /ModelProxy\\(\"([\\w*.]+)\"\\);/g' test.txt\n</code></pre>\n\n<p>the <code>test.txt</code> like this:</p>\n\n<pre><code>var orderform = new ModelProxy(\"orderform.b2b.*\");\nvar orderform2b = new ModelProxy(\"web.orderform_2b.*\");\nvar o2oOrderform = new ModelProxy(\"orderform.o2o.*\");\nvar logistics = new ModelProxy(\"supply.logistics.*\");\nvar tyreurgent = new ModelProxy(\"o2o.tyreurgent.*\");\nvar common = new ModelProxy(\"web.common.file.*\");\nvar cartPipeData = load(\"pipe/cartPipeData\");\nvar tsCartPipeData = load(\"pipe/tsCartPipeData\").default;\n</code></pre>\n\n<p>I want is:</p>\n\n<pre><code>orderform.b2b.*\nweb.orderform_2b.*\norderform.o2o.*\nsupply.logistics.*\no2o.tyreurgent.*\nweb.common.file.*\n</code></pre>\n\n<p>but I got the first one:</p>\n\n<pre><code>orderform.b2b.*\n</code></pre>\n"}, {"tags": ["perl", "catalyst", "template-toolkit", "html-formhandler", "text-xslate"], "owner": {"reputation": 4843, "user_id": 834140, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dba32ebf9d12c67b53f1c5e2d4737eca?s=128&d=identicon&r=PG", "display_name": "srchulo", "link": "https://stackoverflow.com/users/834140/srchulo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1467703808, "creation_date": 1467681043, "last_edit_date": 1467703808, "question_id": 38193910, "link": "https://stackoverflow.com/questions/38193910/textxslate-returning-incorrect-value-for-function-call", "title": "Text::Xslate returning incorrect value for function call", "body": "<p>I'm using <a href=\"https://metacpan.org/pod/Text::Xslate\" rel=\"nofollow\">Text::Xslate</a> with <a href=\"https://metacpan.org/pod/HTML::FormHandler\" rel=\"nofollow\">HTML::FormHandler</a> (HTML::FormHandler is actually used behind the scenes by <a href=\"https://metacpan.org/pod/CatalystX::SimpleLogin\" rel=\"nofollow\">CatalystX::SimpleLogin</a>, in case that helps). I'm using Text::Xslate's <a href=\"https://metacpan.org/pod/Text::Xslate::Syntax::TTerse\" rel=\"nofollow\">TTerse</a> syntax and trying to show the errors in my template like so:</p>\n\n<pre><code>[% FOR field IN login_form.error_fields %]\n    [% FOR error IN field.errors %]\n        &lt;p&gt;[% field.label _ ': ' _ error %]&lt;/p&gt;\n    [% END %]\n[% END %]\n</code></pre>\n\n<p>If I just print out </p>\n\n<pre><code>[% login_form %]\n</code></pre>\n\n<p>It returns <code>CatalystX::SimpleLogin::Form::Login=HASH(0x7fbb21722a20)</code>, which is what I would expect. But then when I call <code>error_fields</code> on it, it just returns a <code>1</code>. However, when I use <a href=\"http://template-toolkit.org/\" rel=\"nofollow\">Template::Toolkit</a> instead of Text::Xslate, this works properly and the errors show. Does anyone know why <code>error_fields</code> is returning a number and not an array?</p>\n"}, {"tags": ["string", "perl", "decimal"], "comments": [{"owner": {"reputation": 14813, "user_id": 14673, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5B0nG.png?s=128&g=1", "display_name": "Luc M", "link": "https://stackoverflow.com/users/14673/luc-m"}, "edited": false, "score": 0, "creation_date": 1467664315, "post_id": 38191574, "comment_id": 63809209, "body": "I would be curious to know the execution time between a text processing solution and the one where you convert the value then do the proper division."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 14813, "user_id": 14673, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5B0nG.png?s=128&g=1", "display_name": "Luc M", "link": "https://stackoverflow.com/users/14673/luc-m"}, "edited": false, "score": 2, "creation_date": 1467666396, "post_id": 38191574, "comment_id": 63809933, "body": "@LucM That would be like comparing apples and oranges, since division could introduce rounding errors that the OP wants to avoid."}], "answers": [{"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1467664938, "post_id": 38191677, "comment_id": 63809430, "body": "Well done. You can change the pattern to <code>&#47;([^.]*)\\.?(.*)&#47;</code> to make it work with integers too."}, {"owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1467666161, "post_id": 38191677, "comment_id": 63809851, "body": "@Casimir: good point. Another alternative is to use <code>split &#47;\\.&#47;, $n</code>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467668181, "post_id": 38191677, "comment_id": 63810457, "body": "Upvoted but if <code>$places</code> is supposed to be non-negative, you should check that."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467671317, "post_id": 38191677, "comment_id": 63811284, "body": "Actually, and probably more importantly, you&#39;d also need to check for <code>$n</code> being <code>0</code> (see warnings). Also, should <code>0.0</code> become <code>0.000000</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1467681925, "post_id": 38191677, "comment_id": 63813212, "body": "Shouldn&#39;t that be <code>&quot;%0*s&quot;</code>to avoid the needless conversion to numbers?"}, {"owner": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "edited": false, "score": 0, "creation_date": 1467706592, "post_id": 38191677, "comment_id": 63821080, "body": "The API returns decimal numbers that are &gt; 0."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "edited": false, "score": 0, "creation_date": 1467726541, "post_id": 38191677, "comment_id": 63834273, "body": "@planetp: This solution requires that the power of ten is always non-negative. It also doesn&#39;t support values without a decimal point. Are these valid assumptions?"}, {"owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467727136, "post_id": 38191677, "comment_id": 63834729, "body": "@Borodin: Well, it <i>does</i> support values without a decimal point (did you try it yourself at all?). I didn&#39;t bother to clear the warnings in that case though as OP clearly stated they used decimals."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467730847, "post_id": 38191677, "comment_id": 63837473, "body": "@eugeney: My comment was to the OP, and I was asking for more information about the nature of the problem, but okay. Well in my book a program that runs with warnings is broken. The OP says <i>&quot;This seems a simple task for integers, but I have decimals with no guaranteed range&quot;</i> which I took to mean that they have <i>both</i> integers and decimals, but that help is needed only for the latter case. I don&#39;t think it&#39;s ideal to use two solutions, selected according to whether a value contains a decimal point"}], "tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": true, "score": 7, "last_activity_date": 1467705343, "last_edit_date": 1467705343, "creation_date": 1467663354, "answer_id": 38191677, "question_id": 38191574, "link": "https://stackoverflow.com/questions/38191574/how-to-move-the-decimal-point-n-places-to-the-left-efficiently/38191677#38191677", "title": "How to move the decimal point N places to the left efficiently?", "body": "<p>This is a bit verbose, but should do the trick:</p>\n\n<pre><code>sub move_point {\n    my ($n, $places) = @_;\n\n    die 'negative number of places' if $places &lt; 0;\n    return $n if $places == 0;\n\n    my ($i, $f) = split /\\./, $n;  # split to integer/fractional parts\n\n    $places += length($f);\n\n    $n = sprintf \"%0*s\", $places+1, $i.$f;  # left pad with enough zeroes\n    substr($n, -$places, 0, '.');  # insert the decimal point\n    return $n;\n}\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>my $n = \"12.34\";\n\nfor my $p (0..5) {\n    printf \"%d  %s\\n\", $p, move_point($n, $p);\n} \n\n0  12.34\n1  1.234\n2  0.1234\n3  0.01234\n4  0.001234\n5  0.0001234\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "edited": false, "score": 0, "creation_date": 1467721639, "post_id": 38202726, "comment_id": 63830684, "body": "The problem is I don&#39;t know exactly what scale I may need to apply, so better to be on the safe side."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "edited": false, "score": 0, "creation_date": 1467721876, "post_id": 38202726, "comment_id": 63830856, "body": "@planetp: Please take a look at my update. <code>Math::BigFloat</code> is a core part of Perl, and is intended exactly for this sort of thing"}, {"owner": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "edited": false, "score": 0, "creation_date": 1467722477, "post_id": 38202726, "comment_id": 63831328, "body": "Thanks. Are there any performance benefits, compared to the string version?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "edited": false, "score": 0, "creation_date": 1467726316, "post_id": 38202726, "comment_id": 63834087, "body": "@planetp: I don&#39;t know. I would guess that the string version is a lot faster, but a quick benchmark shows that a single call to my own code takes 300 microseconds and it&#39;s highly unlikely to be a bottleneck in your program. You should choose the version that you think is clearest and most understandable"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467732041, "last_edit_date": 1467732041, "creation_date": 1467719402, "answer_id": 38202726, "question_id": 38191574, "link": "https://stackoverflow.com/questions/38191574/how-to-move-the-decimal-point-n-places-to-the-left-efficiently/38202726#38202726", "title": "How to move the decimal point N places to the left efficiently?", "body": "\n\n<p>Unless your data has contains values with significantly more digits than you have shown then a floating-point value has more than enough accuracy for your purpose. Perl can reliably reproduce up to 16-digit values</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nsay move_point(\"12.34\", 1); # \"1.234\"\nsay move_point(\"12.34\", 5); # \"0.0001234\"\nsay move_point(\"1234\", 12);\nsay move_point(\"123400\", -9);\n\nsub move_point {\n    my ($v, $n) = @_;\n\n    my $dp = $v =~ /\\.([^.]*)\\z/ ? length $1 : 0;\n    $dp += $n;\n    $v /= 10**$n;\n\n    sprintf '%.*f', $dp &lt; 0 ? 0 : $dp, $v;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>1.234\n0.0001234\n0.000000001234\n123400000000000\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>If the limits of standard floating-point numbers are actually insuffcient for you then the core <a href=\"https://metacpan.org/pod/Math::BigFloat\" rel=\"nofollow\"><code>Math::BigFloat</code></a> will do what you need</p>\n\n<p>This program shows a number with sixteen digits of accuracy, multiplied by everything from 10E-20 to 10E20</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Math::BigFloat;\n\nfor ( -20 .. 20 ) {\n    say move_point('1234567890.1234567890', $_);\n}\n\nsub move_point {\n    my ($v, $n) = @_;\n\n    $v = Math::BigFloat-&gt;new($v);\n\n    # Build 10**$n\n    my $mul = Math::BigFloat-&gt;new(10)-&gt;bpow($n);\n\n    # Count new decimal places\n    my $dp = $v =~ /\\.([^.]*)\\z/ ? length $1 : 0;\n    $dp += $n;\n\n    $v-&gt;bdiv($mul);\n    $v-&gt;bfround(-$dp) if $dp &gt;= 0;\n    $v-&gt;bstr;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>123456789012345678900000000000\n12345678901234567890000000000\n1234567890123456789000000000\n123456789012345678900000000\n12345678901234567890000000\n1234567890123456789000000\n123456789012345678900000\n12345678901234567890000\n1234567890123456789000\n123456789012345678900\n12345678901234567890\n1234567890123456789\n123456789012345678.9\n12345678901234567.89\n1234567890123456.789\n123456789012345.6789\n12345678901234.56789\n1234567890123.456789\n123456789012.3456789\n12345678901.23456789\n1234567890.123456789\n123456789.0123456789\n12345678.90123456789\n1234567.890123456789\n123456.7890123456789\n12345.67890123456789\n1234.567890123456789\n123.4567890123456789\n12.34567890123456789\n1.234567890123456789\n0.1234567890123456789\n0.01234567890123456789\n0.001234567890123456789\n0.0001234567890123456789\n0.00001234567890123456789\n0.000001234567890123456789\n0.0000001234567890123456789\n0.00000001234567890123456789\n0.000000001234567890123456789\n0.0000000001234567890123456789\n0.00000000001234567890123456789\n</code></pre>\n"}], "owner": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "accepted_answer_id": 38191677, "answer_count": 2, "score": 7, "last_activity_date": 1582457953, "creation_date": 1467662730, "last_edit_date": 1582457953, "question_id": 38191574, "link": "https://stackoverflow.com/questions/38191574/how-to-move-the-decimal-point-n-places-to-the-left-efficiently", "title": "How to move the decimal point N places to the left efficiently?", "body": "<p>I have a bunch of decimal numbers (as strings) which I receive from an API. I need to 'unscale' them, i.e. divide them by some power of 10. This seems a  simple <a href=\"https://stackoverflow.com/q/1301266/275088\">task</a> for integers, but I have <em>decimals</em> with no guaranteed range. So, basically I need a function that works like this:</p>\n\n<pre><code>move_point \"12.34\" 1; # \"1.234\"\nmove_point \"12.34\" 5; # \"0.0001234\"\n</code></pre>\n\n<p>I'd rather not use floats to avoid any rounding errors.</p>\n"}, {"tags": ["perl", "catalyst", "template-toolkit", "text-xslate"], "answers": [{"tags": [], "owner": {"reputation": 818, "user_id": 56565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8c65b603554811079a7ea9b7aab9c0?s=128&d=identicon&r=PG", "display_name": "gugod", "link": "https://stackoverflow.com/users/56565/gugod"}, "is_accepted": false, "score": 1, "last_activity_date": 1568884636, "creation_date": 1568884636, "answer_id": 58007664, "question_id": 38191333, "link": "https://stackoverflow.com/questions/38191333/get-wrapper-functionality-from-templatetoolkit-in-textxslate/58007664#58007664", "title": "Get WRAPPER functionality from Template::Toolkit in Text::Xslate", "body": "<p>The directive <code>WRAPPER</code> works slightly differently in TTerse then in TT2. This basic syntax works:</p>\n\n<pre><code>[% WRAPPER \"include/layout.tt\" WITH\n   title = \"Lipsum\" %]\n\nMagna in et vel: feugait erat augue, ut accumsan wisi hendrerit,\neu amet laoreet duis. Duis ex nonummy te lorem blandit et velit\ntation erat amet elit dignissim. \n\n[% END %]\n</code></pre>\n\n<p>And is <code>include/layout.tt</code>,</p>\n\n<pre><code># [% title %]\n\n[% content %]\n\n----\nCommodo quis magna feugiat ullamcorper, exerci tation ut. \n</code></pre>\n\n<p>BLOCK are not supported in TTerse though.</p>\n\n<p>The documentation of TTerse is actually good enough and includes many workable examples: <a href=\"https://metacpan.org/pod/Text::Xslate::Syntax::TTerse#Functions-and-filters\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Text::Xslate::Syntax::TTerse#Functions-and-filters</a></p>\n"}], "owner": {"reputation": 4843, "user_id": 834140, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dba32ebf9d12c67b53f1c5e2d4737eca?s=128&d=identicon&r=PG", "display_name": "srchulo", "link": "https://stackoverflow.com/users/834140/srchulo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1568884636, "creation_date": 1467661388, "last_edit_date": 1467670074, "question_id": 38191333, "link": "https://stackoverflow.com/questions/38191333/get-wrapper-functionality-from-templatetoolkit-in-textxslate", "title": "Get WRAPPER functionality from Template::Toolkit in Text::Xslate", "body": "<p>I've used <a href=\"http://template-toolkit.org/\" rel=\"noreferrer\">Template::Toolkit</a> for my last few <a href=\"http://www.catalystframework.org/\" rel=\"noreferrer\">Catalyst</a> projects and have a set up that I like using that allows a clean separation of my templates. Now I'm hoping to use <a href=\"https://metacpan.org/pod/Text::Xslate\" rel=\"noreferrer\">Text::Xslate</a>, but I'm having trouble figuring out if I can do my same setup or not. Below is what I have for Template::Toolkit usually.</p>\n\n<pre><code>__PACKAGE__-&gt;config({\n    ...\n    WRAPPER      =&gt; 'site/wrapper',\n    ...\n});\n</code></pre>\n\n<p><strong>wrapper</strong></p>\n\n<pre><code>[% content WRAPPER site/html + site/layout %]\n</code></pre>\n\n<p><strong>html</strong>    </p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n&lt;html&gt;\n &lt;head&gt;\n  &lt;title&gt;[% template.title or site.title %]&lt;/title&gt;\n  &lt;style type=\"text/css\"&gt;\n  &lt;/style&gt;\n &lt;/head&gt;\n &lt;body&gt;\n[% content %]\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>layout</strong></p>\n\n<pre><code>&lt;div id=\"header\"&gt;[% PROCESS site/header %]&lt;/div&gt;\n\n&lt;div id=\"content\"&gt;\n[% content %]\n&lt;/div&gt;\n\n&lt;div id=\"footer\"&gt;[% PROCESS site/footer %]&lt;/div&gt;`\n</code></pre>\n\n<p>And then header and footer have their own content. I like this solution because everything is cleanly separated and I'm not breaking up any div tags around the content by having to put the opening tag in header and the closing in the footer. It looks like with the <a href=\"https://metacpan.org/pod/Text::Xslate::Syntax::TTerse#Template-inclusion\" rel=\"noreferrer\">TTerse</a> syntax there is some wrapper functionality, but I'm not sure if that allows me to recreate what I normally do. I also found <a href=\"https://stackoverflow.com/questions/13962769/xslate-catalystviewxslate-wrapper\">this answer</a> that says you can use wrapper in theory, but doesn't really give any examples. </p>\n"}, {"tags": ["bash", "perl", "file-rename"], "comments": [{"owner": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "edited": false, "score": 0, "creation_date": 1467656249, "post_id": 38190100, "comment_id": 63806135, "body": "Not sure why this one was downvoted. All effort is shown here."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1467662242, "post_id": 38190180, "comment_id": 63808487, "body": "or to match what was asked for, <code>s&#47;\\w+&#47;&quot;745I-&quot; . ( 10000 + int rand 90000 )&#47;e</code> (untested)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1467663437, "post_id": 38190180, "comment_id": 63808893, "body": "note that for more than just a few files, you risk getting duplicate random numbers; with 43 files you have a 1% chance; with 909 files, you have a 99% chance of at least one duplicate"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1467655442, "creation_date": 1467655442, "answer_id": 38190180, "question_id": 38190100, "link": "https://stackoverflow.com/questions/38190100/getting-random-number-sequence-on-a-filename-using-rename-on-linux/38190180#38190180", "title": "Getting random number sequence on a filename using rename on Linux", "body": "<p>Your version of <code>rename</code> uses a Perl substitution, to execute code in the replacement, you need <code>/e</code>:</p>\n\n<pre><code>s/\\w+/10000 + int rand 90000/e\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 6548494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e00ba67d20c6e26e2364dc4756e29163?s=128&d=identicon&r=PG&f=1", "display_name": "Ritielko", "link": "https://stackoverflow.com/users/6548494/ritielko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 38190180, "answer_count": 1, "score": 1, "last_activity_date": 1467655442, "creation_date": 1467655098, "question_id": 38190100, "link": "https://stackoverflow.com/questions/38190100/getting-random-number-sequence-on-a-filename-using-rename-on-linux", "title": "Getting random number sequence on a filename using rename on Linux", "body": "<p>So I'm trying to mass rename folder full of JPG-files using the 'rename'-tool</p>\n\n<p>End result should be looking something like this</p>\n\n<pre><code>745I-24814\n745I-(five random numbers)\n</code></pre>\n\n<p>I need something that gives me those five random numbers, the rest works fine</p>\n\n<pre><code>rename -n  's/\\w+/745I\\- [stuff] /' *.jpg\n</code></pre>\n\n<p>Most things just, like those two, act as strings instead of code or give gibberish</p>\n\n<pre><code>'int(rand(1000))+1000'\n$(( ( RANDOM % 1000) + 1000))\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "sleep"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1467652895, "last_edit_date": 1467652895, "creation_date": 1467652574, "answer_id": 38189602, "question_id": 38189480, "link": "https://stackoverflow.com/questions/38189480/perl-thread-interrupt-sleep-not-work/38189602#38189602", "title": "Perl thread interrupt sleep not work", "body": "<p>Signals can only be sent to processes, not threads. From <code>$thread-&gt;kill</code>'s documentation:</p>\n\n<blockquote>\n  <p>CAVEAT: The thread signalling capability provided by this module does not actually send signals via the OS. It emulates signals at the Perl-level such that signal handlers are called in the appropriate thread. For example, sending <code>$thr-&gt;kill('STOP')</code> does not actually suspend a thread (or the whole process), but does cause a <code>$SIG{'STOP'}</code> handler to be called in that thread (as illustrated above).</p>\n</blockquote>\n\n<p>The OS doesn't know anything about your request, so your <code>sleep</code> doesn't get interrupted.</p>\n\n<hr>\n\n<p>In this case, you could use something like the following:</p>\n\n<pre><code>use Time::HiRes qw( );\n\nsub polling_sleep {\n    my ($dur) = @_;\n    my $until = Time::HiRes::time() + $dur;\n    while (1) {\n       $dur = $until - Time::HiRes::time();\n       last if $dur &lt; 0;\n       Time::HiRes::sleep($dur &lt; 0.5 ? $dur : 0.5);\n    }\n}\n\npolling_sleep(5);\n</code></pre>\n\n<p>There's no general solution.</p>\n"}], "owner": {"reputation": 95, "user_id": 1219540, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/QtaDk.jpg?s=128&g=1", "display_name": "Samuel Panicucci", "link": "https://stackoverflow.com/users/1219540/samuel-panicucci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 1, "accepted_answer_id": 38189602, "answer_count": 1, "score": 3, "last_activity_date": 1467652895, "creation_date": 1467651894, "question_id": 38189480, "link": "https://stackoverflow.com/questions/38189480/perl-thread-interrupt-sleep-not-work", "title": "Perl thread interrupt sleep not work", "body": "<p>I want to understand because if I run this piece of code</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings FATAL =&gt; 'all';\n\nuse threads;\nuse threads::shared;\n\nsub mythread {\n    my $end = 0; # Thread termination variable\n\n    while(!$end) {\n        eval {\n            local $SIG{'ALRM'} = sub {\n                print \"SIGALARM received\\n\";\n                $end = 1;\n                die \"Alarm!\\n\";\n            };\n\n            sleep(5); # Wait\n        };\n        die $@ unless $@ eq \"Alarm!\\n\";\n    }\n}\n\nmy $end = 0; # Main termination variable\n$SIG{'INT'} = sub {\n    $end = 1; # Set Main termination variable\n};\n\nmy $thr = threads-&gt;create( \\&amp;mythread );\nwhile(!$end) {\n    sleep(1);\n    print \"1 second passed\\n\";\n}\n\nprint \"Send SIGALARM to thread\\n\";\n$thr-&gt;kill( \"SIGALRM\" );\n\nprint \"Main Wait for thread end\\n\";\n$thr-&gt;join();\n</code></pre>\n\n<p>if I hit CTRL-C, main thread catch the signal correctly, but when send the signal to mythread sleep not terminate, but wait 5 second even I wrap the code in a eval like <a href=\"http://perldoc.perl.org/functions/sleep.html\" rel=\"nofollow\">Perldoc sleep</a> says.</p>\n"}, {"tags": ["php", "mysql", "wordpress", "perl", "cgi"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1467642413, "post_id": 38187026, "comment_id": 63799673, "body": "why not rewrite your script in php itself, which is what WP&#39;s written in? Then it&#39;d be trivial to embed WP in your script."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1467642433, "post_id": 38187026, "comment_id": 63799695, "body": "Yes, this is possible, but it requires you to know about Perl, HTML and probably PHP or the Wordpress sphere. As it stands, your question is a bit too broad for Stack Overflow. Rewriting in PHP and creating a Wordpress plugin is one way to go. Making a page in Wordpress that holds an <code>&lt;iframe&gt;</code> and putting your script in there is another one."}, {"owner": {"reputation": 1, "user_id": 6547880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e27e308ff61fe67adc77533c1fc2ed59?s=128&d=identicon&r=PG&f=1", "display_name": "McFarnell", "link": "https://stackoverflow.com/users/6547880/mcfarnell"}, "edited": false, "score": 0, "creation_date": 1467841269, "post_id": 38187026, "comment_id": 63890102, "body": "Thank you. I do have knowledge of Perl, HTML, PHP, and Wordpress. I just don&#39;t know of a way to include the PHP header/footer from wordpress in a CGI file. If it was the other way around (including CGI in a PHP file), that would be easier. Thank you for your help."}], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1467720998, "post_id": 38188455, "comment_id": 63830221, "body": "WordPress pages typically include a lot of dynamically generated content (such as tag clouds, lists of recent comments, and different menu items depending on if you are logged in or not). Hard coding a snapshot of that from a certain point in time will break all of that."}], "tags": [], "owner": {"reputation": 1, "user_id": 6547511, "user_type": "registered", "profile_image": "https://graph.facebook.com/1211050292273680/picture?type=large", "display_name": "Vany Serezhkin", "link": "https://stackoverflow.com/users/6547511/vany-serezhkin"}, "is_accepted": false, "score": -1, "last_activity_date": 1467647229, "creation_date": 1467647229, "answer_id": 38188455, "question_id": 38187026, "link": "https://stackoverflow.com/questions/38187026/how-to-include-wordpress-header-footer-in-cgi-script/38188455#38188455", "title": "How to include Wordpress header/footer in CGI script", "body": "<p>Yes. Look here : <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow\">https://metacpan.org/pod/Template</a>\nOr use easier way .. templatize it yourself</p>\n\n<p>Grab entire wordpress page into your cgi script after the <strong>DATA</strong> section\nand do something like this instead of printing:</p>\n\n<pre><code>my $output = '';\n...\n$output.=\"string1\\n\";\n...\n$output.=\"string2\\n\";\n\n$/ = undef;\nmy $page = &lt;DATA&gt;\n\n$page =~ s/&lt;CONTENT&gt;/$output/;\n\nprint $page;\n\n\n__DATA__\n&lt;html&gt;\nwordpress page begin\n&lt;CONTENT&gt;\nwordpres page footer\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6547880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e27e308ff61fe67adc77533c1fc2ed59?s=128&d=identicon&r=PG&f=1", "display_name": "McFarnell", "link": "https://stackoverflow.com/users/6547880/mcfarnell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467647229, "creation_date": 1467642306, "question_id": 38187026, "link": "https://stackoverflow.com/questions/38187026/how-to-include-wordpress-header-footer-in-cgi-script", "title": "How to include Wordpress header/footer in CGI script", "body": "<p>I have a CGI script that creates, searches, and edits a MySQL database. The database is actually a searchable listing of burials for a cemetery, similar to this: <a href=\"http://www.cowlitzcemetery2.org/burials/\" rel=\"nofollow\">http://www.cowlitzcemetery2.org/burials/</a> It is based off a program called \"FlatText for MySQL\" which is no longer available online.</p>\n\n<p>Anyway, I am trying to set up this script for a new cemetery, but they use WordPress for their main site. I would like to use this script, but import the WordPress header and footer around the script output, so that the search results match the rest of the web site. Is this possible?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["perl", "pdf"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1467642351, "post_id": 38187019, "comment_id": 63799625, "body": "I found this by checking what other classes are included in <a href=\"https://metacpan.org/release/PDF-Create\" rel=\"nofollow noreferrer\">PDF::Create</a> and then simply searching for color in the ::Page documentation."}, {"owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "edited": false, "score": 0, "creation_date": 1467642760, "post_id": 38187019, "comment_id": 63799920, "body": "Thanks for the immediate help"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1467642295, "creation_date": 1467642295, "answer_id": 38187019, "question_id": 38186902, "link": "https://stackoverflow.com/questions/38186902/font-color-property-in-pdf-using-perl-pdfcreate/38187019#38187019", "title": "Font color property in PDF using perl PDF::Create", "body": "<p>You need to use the <code>setrgbcolor</code> method from <a href=\"https://metacpan.org/pod/PDF::Create::Page#setrgbcolor-r-g-b\" rel=\"nofollow\">PDF::Create::Page</a>.</p>\n\n<blockquote>\n  <p><strong>setrgbcolor($r, $g, $b)</strong><br>\n  Sets the fill colors used for normal text or filled objects.</p>\n</blockquote>\n\n<p>It looks like you need to set that before you run the <code>stringc</code> operation at it will just set the color for all subsequent operations. So you turn it to blue, write your blue text, and turn it back to black (or default).</p>\n\n<pre><code>$page[$num]-&gt;setrgbcolor(1, 0, 0); # blue\n$page[$num]-&gt;stringc($f3, 8, 530, 698, \"myid@example.com\");\n$page[$num]-&gt;setrgbcolor(0, 0, 0); # black\n</code></pre>\n\n<p>Directly below <code>setrgbcolor</code> there is <a href=\"https://metacpan.org/pod/PDF::Create::Page#setrgbcolorstroke-r-g-b\" rel=\"nofollow\"><code>setrgbcolorstroke</code></a>, which explains that the parameters are values between <code>0</code> and <code>1</code>.</p>\n"}], "owner": {"reputation": 1263, "user_id": 696264, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c3fa04fd8c4245eac2d015a26674bc18?s=128&d=identicon&r=PG", "display_name": "Madhan", "link": "https://stackoverflow.com/users/696264/madhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 38187019, "answer_count": 1, "score": 0, "last_activity_date": 1467642295, "creation_date": 1467641884, "last_edit_date": 1467642274, "question_id": 38186902, "link": "https://stackoverflow.com/questions/38186902/font-color-property-in-pdf-using-perl-pdfcreate", "title": "Font color property in PDF using perl PDF::Create", "body": "<p>How to set the font-color property when creating PDF through the Perl module <a href=\"https://metacpan.org/pod/PDF::Create\" rel=\"nofollow\">PDF::Create</a>? The below is the code snippet I am using. How can I set the font color property here?</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse PDF::Create;\nuse PDF::Image::JPEG;\n\nprint \"PDF with Image\\n\";\n\n#Create\nmy $pdf = new PDF::Create(\n    'filename' =&gt; \"./image_embed_test.pdf\",\n    'Version'  =&gt; 1.2,\n    'PageMode' =&gt; 'UseNone',\n    'Author'   =&gt; 'Madhan',\n    'Title'    =&gt; 'My PDF',\n);\n\n# Prepare 2 fonts\nmy $f1 = $pdf-&gt;font('Subtype'  =&gt; 'Type1',\n                    'Encoding' =&gt; 'WinAnsiEncoding',\n                    'BaseFont' =&gt; 'Helvetica');\n\nmy $f2 = $pdf-&gt;font('Subtype'  =&gt; 'Type1',\n                    'Encoding' =&gt; 'WinAnsiEncoding',\n                    'BaseFont' =&gt; 'Helvetica-Bold');\n\nmy $f3 = $pdf-&gt;font('Subtype'  =&gt; 'Type1',\n                    'Encoding' =&gt; 'WinAnsiEncoding',\n                    'BaseFont' =&gt; 'Helvetica-Bold');\n\n\nmy $root = $pdf-&gt;new_page('MediaBox' =&gt; [ 0, 0, 612, 792 ]);\n\nmy @page;\n$page[1]=$root-&gt;new_page;\n\nmy $jpg1 = $pdf-&gt;image('./logo1.jpg');\n$page[1]-&gt;image( 'image'  =&gt; $jpg1,\n                 'xscale' =&gt; 0.5,\n                 'yscale' =&gt; 0.5,\n                 'xpos'   =&gt; 56,\n                 'ypos'   =&gt; 698);\n\n   $page[1]-&gt;stringc($f2, 8, 484, 738, \"Add line 1\");\n   $page[1]-&gt;stringc($f2, 8, 521, 718, \"City\");\n   $page[1]-&gt;stringc($f2, 8, 530, 698, \"Phone\");\n   $page[1]-&gt;stringc($f3, 8, 530, 698, \"myid@example.com\");\n\n$pdf-&gt;close;\n</code></pre>\n\n<p>In the <code>$f3</code> for the mail id link I need to set the color as blue.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1467635321, "post_id": 38182433, "comment_id": 63795226, "body": "<code>my @content = do { local $&#47;; &lt;&gt; };</code>if you don&#39;t mind fetching files into an array (no join or string concat needed)."}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1467660166, "post_id": 38182433, "comment_id": 63807686, "body": "Possible duplicate of <i><a href=\"http://stackoverflow.com/questions/30062413/fancy-file-slurping-in-perl\">Fancy file slurping in Perl</a></i>."}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1467660227, "post_id": 38182433, "comment_id": 63807717, "body": "What did you do to ensure this question is not a duplicate?"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1467662796, "post_id": 38182433, "comment_id": 63808664, "body": "@PeterMortensen, it is not a duplicate. <a href=\"http://stackoverflow.com/questions/30062413/fancy-file-slurping-in-perl\">That question</a> slurps each file into a separate string, which would then need to be joined together. That&#39;ll have to do if there&#39;s no better solution (it&#39;s effectively what I do in my self-answer), but I can&#39;t know that without asking <i>this</i> question."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1467662897, "post_id": 38182433, "comment_id": 63808714, "body": "@\u0421\u0443\u0445\u043e\u043927, I&#39;d rather not fetch each file into a different string if I can avoid it. They&#39;ll need to be joined or otherwise post-processed."}], "answers": [{"comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1467632342, "post_id": 38182757, "comment_id": 63793377, "body": "I am just wandering . how much data a local variable can hold in perl ? Is there any memory limit?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1467633049, "post_id": 38182757, "comment_id": 63793802, "body": "@Arijit: A single scalar may hold as much memory as the process can allocate, with some overhead for the Perl scalar data structure and, obviously, the perl interpreter, compiled program, and any other data. A 2GB string is perfectly feasible. Clearly a 64-bit built of perl will be able to address much more memory than a 32-bit build"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1467633708, "post_id": 38182757, "comment_id": 63794218, "body": "Thanks @borodin -  What will happen if the file size more than a processor can handle. Is it stop or skip the extra memory?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1467634135, "post_id": 38182757, "comment_id": 63794505, "body": "What is this really about? I think you need to ask a proper question if you&#39;re interested. If Perl cannot allocate the memory that it needs then it will die with a non-zero exit code and the message <b><i>&quot;Out of memory!&quot;</i></b>. But you really should be reading files in smaller units, usually a single line. If you think you need an entire file in memory then your design is probably wrong"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1467636093, "post_id": 38182757, "comment_id": 63795681, "body": "@Borodin, yes I realize that multiple <code>open</code>s are involved.. That&#39;s what I meant by &quot;seamlessly&quot;: It happens, but I don&#39;t have to hold its hand or even look at it."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 10, "last_activity_date": 1467631702, "last_edit_date": 1467631702, "creation_date": 1467628989, "answer_id": 38182757, "question_id": 38182433, "link": "https://stackoverflow.com/questions/38182433/in-perl-how-do-i-slurp-the-contents-of-several-files-into-a-string/38182757#38182757", "title": "In Perl, how do I &quot;slurp&quot; the contents of several files into a string?", "body": "<p>You realise that you are only hiding multiple <code>open</code> calls, right? There's no magic way to read multiple files without opening all of them one by one</p>\n\n<p>As you have found, Perl will stop reading at the end of each file if <code>$/</code> is set to <code>undef</code></p>\n\n<p>The internal mechanism that handles <code>&lt;&gt;</code> removes each file name from <code>@ARGV</code> as it is opened, so I suggest that you simply use a <code>while</code> loop that reads using <code>&lt;&gt;</code> until <code>@ARGV</code> is empty</p>\n\n<p>It would look like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $data;\n{\n    local $/;\n    $data .= &lt;&gt; while @ARGV;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467631579, "post_id": 38183097, "comment_id": 63792940, "body": "This will hold all of the files&#39; contents in a list until they have all been read before copying them to <code>$data</code> and discarding the individual strings, so there is little point in changing <code>$&#47;</code> in the first place. This is fine if there are only a few files, but if there are many (for instance, by providing a wildcard pattern as the command-line parameter) then it is wasteful."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467633242, "post_id": 38183097, "comment_id": 63793920, "body": "Perl doesn&#39;t have iterator behavior in a list context? I would have expected <code>&lt;&gt;</code> to be pumped internally by <code>join</code>, which would make this at worst equivalent to the explicit loop in your answer (and possibly better since the strings are joined internally.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467633835, "post_id": 38183097, "comment_id": 63794304, "body": "There is no hidden iterator behaviour in Perl, and just because Python (sometimes) does it, it doesn&#39;t make it the <i>right way</i>. It would be quite possible to write an iterative <code>readline</code> and <code>join</code> that perform the way you describe, but the result would be more arcane, and slower than, repeated uses of <code>.=</code>. The Perl philosophy is very much about transparency, so only things like the sort algorithm are black-boxed. I learned everything I know about object-oriented programming from Perl, precisely because it is all self-assembly, and it is my first choice for a teaching language."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467634039, "post_id": 38183097, "comment_id": 63794441, "body": "Interesting. I guess it depends on who your students are. My students (humanities) need to know how to drive the car, not how to take it apart and put it back together."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467634251, "post_id": 38183097, "comment_id": 63794575, "body": "I think an &quot;iterative join&quot; on its own would be too narrow. If the meaning of &quot;in a list context&quot; is to construct the whole list before passing it as an argument, then that&#39;s just how it is. I was indeed extrapolating python concepts (which are &quot;transparent&quot; in a very different way)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467635320, "post_id": 38183097, "comment_id": 63795225, "body": "Clearly there are many levels to that, and my secretary, who is very clearly a &quot;programmer&quot; because she deals with the complexities of MS Word on a daily basis, has no need to know about object-oriented programming. However I am certain that my driving is improved by knowing what happens in the engine when I press pedals, and my programming is improved by assembler experience, and knowing what I am implying when I call <code>strcpy</code>. Of course we cannot all keep tabs on every consequence of anything we do, but the foundation is essential."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467635335, "post_id": 38183097, "comment_id": 63795236, "body": "The behaviour of any Perl function in list context is entirely down to that function. A function may make only one return call, and there is no built-in iterator support. However there is no reason why I shouldn&#39;t write a class with an <code>__iter__</code> method and a <code>next</code> method that behave just as Python&#39;s hidden ones do."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467635988, "post_id": 38183097, "comment_id": 63795619, "body": "No question there: The expert benefits from knowing every bit of the system&#39;s foundation. I like to know what&#39;s under the hood, too. But students... that&#39;s a different matter. I wouldn&#39;t teach high-level concepts from the bolts up, it defeats the whole point of abstraction."}], "tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": false, "score": 8, "last_activity_date": 1467657404, "last_edit_date": 1467657404, "creation_date": 1467630043, "answer_id": 38183097, "question_id": 38182433, "link": "https://stackoverflow.com/questions/38182433/in-perl-how-do-i-slurp-the-contents-of-several-files-into-a-string/38183097#38183097", "title": "In Perl, how do I &quot;slurp&quot; the contents of several files into a string?", "body": "<p>Since there doesn't seem to be a way to slurp everything at once, one compact solution would be to place <code>&lt;&gt;</code> in list context. The implicit repeated calls will fetch everything.</p>\n\n<pre><code>local $/;\n$data = join \"\", &lt;&gt;;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 2, "creation_date": 1467657506, "post_id": 38188554, "comment_id": 63806664, "body": "How does that help read multiple files specified as commandline arguments? <code>File::Slurp</code> is good to know about, but it doesn&#39;t answer the question."}], "tags": [], "owner": {"reputation": 1, "user_id": 6547511, "user_type": "registered", "profile_image": "https://graph.facebook.com/1211050292273680/picture?type=large", "display_name": "Vany Serezhkin", "link": "https://stackoverflow.com/users/6547511/vany-serezhkin"}, "is_accepted": false, "score": -3, "last_activity_date": 1467647619, "creation_date": 1467647619, "answer_id": 38188554, "question_id": 38182433, "link": "https://stackoverflow.com/questions/38182433/in-perl-how-do-i-slurp-the-contents-of-several-files-into-a-string/38188554#38188554", "title": "In Perl, how do I &quot;slurp&quot; the contents of several files into a string?", "body": "<pre><code>use File::Slurp qw/read_file/;\nmy $text = read_file( 'filename' ) ;\n</code></pre>\n"}], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 0, "answer_count": 3, "score": 10, "last_activity_date": 1467665729, "creation_date": 1467628008, "last_edit_date": 1495540731, "question_id": 38182433, "link": "https://stackoverflow.com/questions/38182433/in-perl-how-do-i-slurp-the-contents-of-several-files-into-a-string", "title": "In Perl, how do I &quot;slurp&quot; the contents of several files into a string?", "body": "<p>Perl has lots of handy idioms for doing common things easily, including:</p>\n\n<ol>\n<li><p>The file-reading operator <code>&lt;HANDLE&gt;</code>, if used without a filehandle, will seamlessly open and read all files in <code>@ARGV</code>, one line at a time:</p>\n\n<pre><code>while (&lt;&gt;) { print $., $_;  }\n</code></pre></li>\n<li><p>By (locally) resetting the input record separator <code>$/</code>, I can \"slurp\" a whole file at once:</p>\n\n<pre><code>local $/; $content = &lt;HANDLE&gt;;\n</code></pre></li>\n</ol>\n\n<p>But these two idioms don't work quite work together as I expected: After I reset <code>$/</code>, slurping with <code>&lt;&gt;</code> stops at end of file: The following gives me the contents of the first file only.</p>\n\n<pre><code>local $/; $content = &lt;&gt;;\n</code></pre>\n\n<p>Now, I trust that this behavior must be by design, but I don't really care. What's the concise Perl idiom for fetching <strong>all content of all files</strong> into a string? (<a href=\"https://stackoverflow.com/questions/30062413\">This</a> related question mentions a way to slurp a list of files into separate strings, which is a start... but not terribly elegant if you still need to join the strings afterwards.)</p>\n"}, {"tags": ["postgresql", "perl", "dbix-class"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467626578, "post_id": 38180649, "comment_id": 63790094, "body": "What does <i>&quot;but it didn&#39;t work out&quot;</i> mean?"}, {"owner": {"reputation": 1355, "user_id": 595764, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7421bdc83565fb778f20899f51c96c4a?s=128&d=identicon&r=PG", "display_name": "ghandi", "link": "https://stackoverflow.com/users/595764/ghandi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467629075, "post_id": 38180649, "comment_id": 63791521, "body": "I couldn&#39;t find a way, to get the DATE()-Function on the column-side."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467629134, "post_id": 38180649, "comment_id": 63791552, "body": "Sure, but what happened when you tried?"}, {"owner": {"reputation": 1355, "user_id": 595764, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7421bdc83565fb778f20899f51c96c4a?s=128&d=identicon&r=PG", "display_name": "ghandi", "link": "https://stackoverflow.com/users/595764/ghandi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467630045, "post_id": 38180649, "comment_id": 63792050, "body": "I get an SQL-Engine error which complains about a non existing column name &quot;SCALAR...&quot;. Because the Scalar-Ref as key in the Hash isn&#39;t evaluated in a special way, like the values are (Scalar refs mostly end up as plain SQL-Statements)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467630400, "post_id": 38180649, "comment_id": 63792250, "body": "Okay, then you should add that information to your question. Is my answer below insufficient for you?"}], "answers": [{"comments": [{"owner": {"reputation": 1355, "user_id": 595764, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7421bdc83565fb778f20899f51c96c4a?s=128&d=identicon&r=PG", "display_name": "ghandi", "link": "https://stackoverflow.com/users/595764/ghandi"}, "edited": false, "score": 0, "creation_date": 1467631458, "post_id": 38181857, "comment_id": 63792874, "body": "Your solution implies some date math (2016-07-31 + 1 day =&gt; 2016-08-01). The realy query is executed dynamicly later. Beside that, it would work (but than also with BETWEEN). But probably it&#39;s not an DBIx::Class / SQL::Abstract problem anymore. With the mentioned limitation i have to resaerch further as it looks..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1355, "user_id": 595764, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7421bdc83565fb778f20899f51c96c4a?s=128&d=identicon&r=PG", "display_name": "ghandi", "link": "https://stackoverflow.com/users/595764/ghandi"}, "edited": false, "score": 0, "creation_date": 1467632559, "post_id": 38181857, "comment_id": 63793516, "body": "@ghandi: Okay then just use some explicit SQL to do the arithmetic. <code>&#39;&lt;&#39;  =&gt; \\[ &#39;date(?) + 1&#39;, &#39;2016-07-02&#39; ]</code> should work fine, although I haven&#39;t tested it. You really shouldn&#39;t just go silent if a solution doesn&#39;t quite fit, as then I have no way to know how to improve it"}, {"owner": {"reputation": 1355, "user_id": 595764, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7421bdc83565fb778f20899f51c96c4a?s=128&d=identicon&r=PG", "display_name": "ghandi", "link": "https://stackoverflow.com/users/595764/ghandi"}, "edited": false, "score": 0, "creation_date": 1467703241, "post_id": 38181857, "comment_id": 63819327, "body": "No worry, just wasn&#39;t online anymore. ;) The <code>date(...) + 1</code> ist a good workaround. Thanks :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1467632456, "last_edit_date": 1467632456, "creation_date": 1467626389, "answer_id": 38181857, "question_id": 38180649, "link": "https://stackoverflow.com/questions/38180649/dbixclass-sqlabstract-apply-sql-function-to-column-in-where-clause/38181857#38181857", "title": "DBIx::Class / SQL::Abstract Apply SQL-Function to column in WHERE clause", "body": "<p>The issue seems to be that a date like <code>'2016-07-02'</code> is equivalent to <code>'2016-07-02T00:00:00'</code>, and <code>'2016-07-02T12:00:00'</code> is <em>greater than</em> that. Calling <code>DATE()</code> just truncates the time value so that the extra twelve hours are discarded</p>\n\n<p>I suggest that you abandon <code>BETWEEN</code>, and use the equivalent <code>&gt;=</code> and <code>&lt;=</code> operators. You actually want all records up to but <em>not including</em> <code>'2016-07-03T0:00:00'</code> (that is, everything up to and including <code>2016-07-02T23:59:59</code> and any fractions of a second that your database may support) so you should write</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT title FROM test\nWHERE begin BETWEEN &gt;= '2016-07-01' AND begin &lt; '2016-07-03';\n</code></pre>\n\n<p>or, in <code>DBIx::Class</code></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$searchArgs-&gt;{begin} = {\n    '&gt;=' =&gt; '2016-07-01',\n    '&lt;'  =&gt; '2016-07-03',\n};\n</code></pre>\n\n<p>or if you have access only to the end date and want to avoid date arithmetic in your Perl code then just let the database do it for you</p>\n\n<pre><code>$searchArgs-&gt;{begin} = {\n    '&gt;=' =&gt; '2016-07-01',\n    '&lt;'  =&gt; \\[ 'date(?) + 1', '2016-07-02' ],\n};\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>If you insist on using a function instead of a simple table name in your WHERE comparison then it is possible by using literal SQL, but it's inadvisable as you will bypass all optimisation that the database can provide and it will have to resort to a linear search</p>\n\n<p>The <code>DBIx::Class::Manual::Cookbook</code> documentation has this under <a href=\"http://search.cpan.org/dist/DBIx-Class/lib/DBIx/Class/Manual/Cookbook.pod#Using_SQL_functions_on_the_left_hand_side_of_a_comparison\" rel=\"nofollow\"><em>Using SQL functions on the left hand side of a comparison</em></a></p>\n\n<blockquote>\n  <p>Using SQL functions on the left hand side of a comparison is generally not a good idea since it requires a scan of the entire table. (Unless your RDBMS supports indexes on expressions - including return values of functions - and you create an index on the return value of the function in question.) However, it can be accomplished with <code>DBIx::Class</code> when necessary by resorting to literal SQL</p>\n</blockquote>\n"}], "owner": {"reputation": 1355, "user_id": 595764, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7421bdc83565fb778f20899f51c96c4a?s=128&d=identicon&r=PG", "display_name": "ghandi", "link": "https://stackoverflow.com/users/595764/ghandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 1, "accepted_answer_id": 38181857, "answer_count": 1, "score": 3, "last_activity_date": 1467632456, "creation_date": 1467622861, "last_edit_date": 1467625960, "question_id": 38180649, "link": "https://stackoverflow.com/questions/38180649/dbixclass-sqlabstract-apply-sql-function-to-column-in-where-clause", "title": "DBIx::Class / SQL::Abstract Apply SQL-Function to column in WHERE clause", "body": "<p>I just fiddled around with a complex SQL query generated with <a href=\"https://metacpan.org/pod/DBIx::Class\" rel=\"nofollow\"><code>DBIx::Class</code></a> (which under the hood uses <a href=\"https://metacpan.org/pod/SQL::Abstract\" rel=\"nofollow\"><code>SQL::Abstract</code></a> for WHERE clauses).</p>\n\n<p>I'm using the BETWEEN operator to filter entries:</p>\n\n<pre><code># SELECT title FROM tracks WHERE begin BETWEEN '2016-07-01' AND '2016-07-02'\n$searchArgs-&gt;{'begin'} = { BETWEEN =&gt; ['2016-07-01', '2016-07-02' ] };\n</code></pre>\n\n<p>This will skip begin-dates actually ON the 2016-07-02. Probably because those begin-values are past midnight (00:00) of the 2016-07-02 and therefore not in the BETWEEN range (see example data on the end).</p>\n\n<p>On the SQL-Side, this is easily fixed:</p>\n\n<pre><code>SELECT title FROM tracks WHERE DATE(begin) BETWEEN '2016-07-01' AND '2016-07-02'\n# Note the DATE()-cast of begin\n</code></pre>\n\n<p>Is there a way to achieve this with <code>SQL::Abstract</code> syntax? I tried the column name as a scalar-ref (<code>$searchArgs-&gt;{\\\"DATE(begin)\"}</code>) to get it passed by untouched, but it didn't work out.</p>\n\n<p>Just using <code>$searchArgs-&gt;{'DATE(begin)'}</code> triggers an SQL-Error since there is no such column \"DATE(begin)\".</p>\n\n<pre><code># Minimal example data\nCREATE TABLE test ( title VARCHAR(255), begin timestamp );\nINSERT INTO test (title, begin) VALUES ( 'Track 1', '2016-07-01T12:00:00'::timestamp), ( 'Track 2', '2016-07-02 12:00:00'::timestamp );\nSELECT title FROM test WHERE begin BETWEEN '2016-07-01' AND '2016-07-02';\nSELECT title FROM test WHERE DATE(begin) BETWEEN '2016-07-01' AND '2016-07-02';\n</code></pre>\n"}, {"tags": ["perl", "parsing", "yaml"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1467615198, "post_id": 38178234, "comment_id": 63783881, "body": "<a href=\"http://www.perlmonks.org/?node_id=1167060\" rel=\"nofollow noreferrer\">Crossposted</a>."}, {"owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1467615576, "post_id": 38178234, "comment_id": 63784103, "body": "Hi, i only posted there in perlmonks, unable to get a solution , i have tried here , pls help"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467623261, "post_id": 38178234, "comment_id": 63788023, "body": "You&#39;re misunderstanding the meaning of <b><i>parsing</i></b>. The <code>YAML::XS</code> module is doing all the parsing, and is returning a Perl data structure that is equivalent to the YAML data you started with. That means all of your library function names are misnomers, as they are not parsing anything. You also <i>must never</i> use prototypes on Perl subroutines. You code is correct without <code>($)</code>; and you shouldn&#39;t use an ampersand <code>&amp;</code> when calling Perl subroutines. Whatever tutorial you got that idea from urgently needs updating, as it hasn&#39;t been best practice since Perl v5.0 was released 22 years ago"}, {"owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "edited": false, "score": 0, "creation_date": 1467632528, "post_id": 38178234, "comment_id": 63793487, "body": "I found the solution myself : please check the crossposted"}, {"owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467633048, "post_id": 38178234, "comment_id": 63793801, "body": "@Borodin:  please tell me then how to call package functions if not with &amp;PackageName:: Package_func()"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467635501, "post_id": 38178234, "comment_id": 63795326, "body": "@hanish: Just <code>PackageName::package_func()</code> is correct (please be careful that only global identifiers should be capitalised). But your <code>PackageName.pm</code> should probably have been written using <a href=\"https://metacpan.org/pod/Exporter\" rel=\"nofollow noreferrer\">Exporter</a>, so that the calling code needs to say only <code>package_func()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "edited": false, "score": 0, "creation_date": 1467632922, "post_id": 38181200, "comment_id": 63793727, "body": "yes, maybe i didnt put in proper words, actually i have more elements in the array for now i am showing it just one. my point was after parsing from the module , the data structure in perl had to be resolved based on the references in the yaml file. for which i used the above approach."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467628180, "last_edit_date": 1467628180, "creation_date": 1467624455, "answer_id": 38181200, "question_id": 38178234, "link": "https://stackoverflow.com/questions/38178234/processing-references-from-yaml-files/38181200#38181200", "title": "Processing references from YAML files", "body": "<p>As I said in my comment, you're misunderstanding what <em>parsing</em> is, and your library functions are just navigating a Perl data structure generated by <code>YAML::XS</code>, which did all the necessary parsing of your YAML data. You really don't need that library, as all it is doing is making copies of some elements of a nested Perl data structure</p>\n\n<p>Your question is very unclear, and I don't understand <em>\"I don't know how to take the reference variables\"</em> or <em>\"I want them as arrays but I want to know how to parse them\"</em> but I suspect the problem is that you are creating single-element arrays in your YAML</p>\n\n<pre><code>rulesfile: [*rulesid_01]\ntarget_list: [*runid_01]\n</code></pre>\n\n<p>So in this block</p>\n\n<pre><code>$standalone_exec = $yaml_input-&gt;{standalone_execution};\n\n$utpsm_exec      = $standalone_exec-&gt;{utpsm_executable};\n$se_hostname     = $utpsm_exec-&gt;{hostname};\n\n$se_tgt_list     = $standalone_exec-&gt;{target_list};\n$se_rulesfile    = $standalone_exec-&gt;{rulesfile};\n</code></pre>\n\n<p>Your <code>$se_tgt_list</code> and <code>$se_rulesfile</code> are references to one-element arrays</p>\n\n<p>Just as you use a reference to a hash to access a hash element with <code>$href-&gt;{$key}</code>, you use a reference to an array to access an array element with <code>$aref-&gt;[$i]</code></p>\n\n<p>Because of the references in the YAML, <code>$yaml_input-&gt;{standalone_execution}{target_list}[0]</code> is a reference to the same hash as <code>$yaml_input-&gt;{run_target_platforms}[0]{run_target_id}</code> and you can process it in exactly the same way</p>\n\n<p>You don't show your code for <code>parse_yaml_rulesfile</code>, but you should use the same technique as you did there</p>\n"}], "owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1467628180, "creation_date": 1467614225, "last_edit_date": 1467628113, "question_id": 38178234, "link": "https://stackoverflow.com/questions/38178234/processing-references-from-yaml-files", "title": "Processing references from YAML files", "body": "<p>I parsed a YAML file as below:</p>\n\n<pre><code>test_control:\n standalone_execution: yes \n code_checkout: no #yes/no  \n\nrules_file: \n - rules_file_id: &amp;rulesid_01 \n    name:         \n    hostname: \n    path: /local/home/hanmaghu\n - rules_file_id: &amp;rulesid_02\n    name:         \n    hostname: NA\n    path: NA\n\nrun_target_platforms: \n - run_target_id: &amp;runid_01\n    target_controls:\n     run_target_type: simulator    #simulator, emulator , hardware\n     run_target_active: yes\n    target_connection_info: \n     run_target_hostname: \n     run_target_ipaddr: unknown\n\nstandalone_execution:  \n utpsm_executable:   \n  hostname: \n  hostip: NA\n  name: tpsm     \n rulesfile: [*rulesid_01]\n target_list: [*runid_01]\n...         \n</code></pre>\n\n<p>as you observe the last two lines are arrays pointing to references <code>rulesid_01</code> and <code>runid_01</code>. I have taken most of the variables ( after parsing ) but now I don't know how to take the reference variables </p>\n\n<p>Here is part of my Perl code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse YAML_Lib;\nuse YAML::XS;\n\nmy $input_file;\nmy $yaml_input;\n\nif ( scalar(@ARGV) &lt; 1 ) {\n    print(\"USAGE:: $0 &lt;Input file&gt;\\n\");\n    exit(0);\n}\n\n$input_file = $ARGV[0];\nprint \"Input File = $input_file\\n\";\n\n# parse the yaml file\n$yaml_input = YAML::XS::LoadFile(\"$input_file\");\n&amp;YAML_Lib::parse_yaml($yaml_input);\n</code></pre>\n\n<p>This library I have written (function) <code>parse_yaml</code> as follows :</p>\n\n<pre><code>#!/usr/bin/perl\npackage YAML_Lib;\n\nuse YAML::XS;\nuse Exporter 'import';\n\n# function declarations\n\nsub parse_yaml_testcontrol($);\nsub parse_yaml_run_tgt($);\nsub parse_yaml_standalone($);\nsub parse_yaml_rulesfile($);\n\n########## Start parsing YAML stream ##########\n\nsub parse_yaml($) {\n    my ($yaml_input) = @_;\n\n    print \"in parse yaml \\n\";\n\n    parse_yaml_testcontrol($yaml_input);\n    parse_yaml_run_tgt($yaml_input);\n    parse_yaml_standalone($yaml_input);\n    parse_yaml_rulesfile($yaml_input);\n}\n\n#test-control\nsub parse_yaml_testcontrol($) {\n    my ($yaml_input) = @_;\n\n    $test_control         = $yaml_input-&gt;{test_control};\n    $standalone_execution = $test_control-&gt;{standalone_execution};\n    $code_checkout        = $test_control-&gt;{code_checkout};\n}\n\n#standalone execution\nsub parse_yaml_standalone($) {\n    my ($yaml_input) = @_;\n\n    $standalone_exec = $yaml_input-&gt;{standalone_execution};\n    $utpsm_exec      = $standalone_exec-&gt;{utpsm_executable};\n    $se_hostname     = $utpsm_exec-&gt;{hostname};\n    $se_tgt_list     = $standalone_exec-&gt;{target_list};\n    $se_rulesfile    = $standalone_exec-&gt;{rulesfile};\n\n    print \"$se_tgt_list-&gt;$run_target_controls[0]-&gt;$run_target_types[0]\\n\";\n\n    #print \"\\n $se_tgt_list, $se_name , $se_hostname, $se_username ,$se_password, $se_path ,$se_rulesfile \\n\";\n}\n</code></pre>\n\n<p>I am sharing some part of code. I think not all fields will make sense. </p>\n\n<p>I want to know how I should parse variables of the reference ( <code>$se_tgt_list</code> and <code>$se_rulesfile</code>). when I print these two variables I get arrays ( because I have used <code>[]</code>. I want them as arrays but I want to know how to parse them. </p>\n"}, {"tags": ["perl", "converter", "utf-16"], "comments": [{"owner": {"reputation": 2264, "user_id": 3113920, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JXqY0.png?s=128&g=1", "display_name": "domdomcodecode", "link": "https://stackoverflow.com/users/3113920/domdomcodecode"}, "edited": false, "score": 0, "creation_date": 1467612360, "post_id": 38177829, "comment_id": 63782682, "body": "Please be more specific with your question"}, {"owner": {"reputation": 106, "user_id": 4997534, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/593a268ebc9d21935c2b136280eb85ff?s=128&d=identicon&r=PG&f=1", "display_name": "kanishka", "link": "https://stackoverflow.com/users/4997534/kanishka"}, "reply_to_user": {"reputation": 2264, "user_id": 3113920, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JXqY0.png?s=128&g=1", "display_name": "domdomcodecode", "link": "https://stackoverflow.com/users/3113920/domdomcodecode"}, "edited": false, "score": 0, "creation_date": 1467612556, "post_id": 38177829, "comment_id": 63782737, "body": "as <a href=\"http://macchiato.com/unicode/convert.html\" rel=\"nofollow noreferrer\">macchiato.com/unicode/convert.html</a> does . paste the message into input and select UTF-16M in output . what the output you get i want that using perl script.."}, {"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "edited": false, "score": 0, "creation_date": 1467612862, "post_id": 38177829, "comment_id": 63782854, "body": "This may interest you: <a href=\"http://stackoverflow.com/questions/15449469/create-utf-16-string-from-char\" title=\"create utf 16 string from char\">stackoverflow.com/questions/15449469/&hellip;</a>"}, {"owner": {"reputation": 3953, "user_id": 234405, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/75038c606930e15c0e346c31ad1246b3?s=128&d=identicon&r=PG", "display_name": "zapping", "link": "https://stackoverflow.com/users/234405/zapping"}, "edited": false, "score": 0, "creation_date": 1467615489, "post_id": 38177829, "comment_id": 63784054, "body": "Reformatted the post"}, {"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 0, "creation_date": 1467621929, "post_id": 38177829, "comment_id": 63787252, "body": "The above is a bit simple case, as 7 bits ASCII just gets a byte 00 before (UTF-16 Big Endian) or after (Little Endian). If the code text too is non-ASCII, say French, special quotes, then you need to know the source encoding, to encode from."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467651281, "post_id": 38177829, "comment_id": 63804330, "body": "It&#39;s unclear what encoding you want (UTF-16le or UTF-16be) since you provided the output in an ambiguous format. Please provide the desired output as <i>bytes</i> (their hex representation is ok)"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1467613745, "creation_date": 1467613745, "answer_id": 38178124, "question_id": 38177829, "link": "https://stackoverflow.com/questions/38177829/string-to-utf-16-using-perl/38178124#38178124", "title": "String to UTF-16 using perl", "body": "<p>Just specify the output encoding for the handle you output to:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $input = 'Dear User, Please enter your password to verify your mobile no .';\nbinmode *STDOUT, 'encoding(UTF-16)';\nprint $input;\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>$ 1.pl | xxd\n0000000: feff 0044 0065 0061 0072 0020 0055 0073  ...D.e.a.r. .U.s\n0000010: 0065 0072 002c 0020 0050 006c 0065 0061  .e.r.,. .P.l.e.a\n0000020: 0073 0065 0020 0065 006e 0074 0065 0072  .s.e. .e.n.t.e.r\n0000030: 0020 0079 006f 0075 0072 0020 0070 0061  . .y.o.u.r. .p.a\n0000040: 0073 0073 0077 006f 0072 0064 0020 0074  .s.s.w.o.r.d. .t\n0000050: 006f 0020 0076 0065 0072 0069 0066 0079  .o. .v.e.r.i.f.y\n0000060: 0020 0079 006f 0075 0072 0020 006d 006f  . .y.o.u.r. .m.o\n0000070: 0062 0069 006c 0065 0020 006e 006f 0020  .b.i.l.e. .n.o. \n0000080: 002e                                     ..\n</code></pre>\n\n<p>If you want to avoid the BOM (The <code>feff</code> at the beginning), specify the endianness (<code>UTF-16LE</code> or <code>UTF16-BE</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467621136, "last_edit_date": 1495535334, "creation_date": 1467621136, "answer_id": 38180115, "question_id": 38177829, "link": "https://stackoverflow.com/questions/38177829/string-to-utf-16-using-perl/38180115#38180115", "title": "String to UTF-16 using perl", "body": "\n\n<p>If this is for Windows then you will want UTF-16LE</p>\n\n<p>If you need to print encoded data to an output file, then by far the best way is to work with characters within your program, and set the encoding for the output handle as <a href=\"https://stackoverflow.com/a/38178124/622310\">choroba has described</a></p>\n\n<p>However, if you need a UTF-16-encoded string for any other reason, such as to name a file or to store in the clipboard, then you will need to do the encoding separately</p>\n\n<p>The <a href=\"https://metacpan.org/pod/Encode\" rel=\"nofollow noreferrer\"><code>Encode</code></a> module will help you here, and this is a sample program to demonstrate. I have unpacked and the encoded string as a series of unsigned 16-bit values so that you can see that the contents match what you expect</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Encode qw/ encode :fallbacks /;\n\n\nmy $s = 'Dear User, Please enter your password to verify your mobile no.';\n\nmy $encoded = encode( 'UTF-16LE', $s, FB_CROAK);\n\nprint join ' ', map { sprintf '%04X', $_ } unpack 'S*', $encoded;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>0044 0065 0061 0072 0020 0055 0073 0065 0072 002C 0020 0050 006C 0065 0061 0073 0065 0020 0065 006E 0074 0065 0072 0020 0079 006F 0075 0072 0020 0070 0061 0073 0073 0077 006F 0072 0064 0020 0074 006F 0020 0076 0065 0072 0069 0066 0079 0020 0079 006F 0075 0072 0020 006D 006F 0062 0069 006C 0065 0020 006E 006F 002E\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 4997534, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/593a268ebc9d21935c2b136280eb85ff?s=128&d=identicon&r=PG&f=1", "display_name": "kanishka", "link": "https://stackoverflow.com/users/4997534/kanishka"}, "is_accepted": false, "score": 0, "last_activity_date": 1467703897, "creation_date": 1467703897, "answer_id": 38197667, "question_id": 38177829, "link": "https://stackoverflow.com/questions/38177829/string-to-utf-16-using-perl/38197667#38197667", "title": "String to UTF-16 using perl", "body": "<p>For me this worked</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse Encode qw(encode);\n\nmy $message = 'Dear User, Please enter your password to verify your mobile no.';\nmy $message_hex=unpack \"H*\",encode( 'utf-16be', $message );\nprint $message_hex ;\n</code></pre>\n\n<p>OUTPUT :\n    004400650061007200200055007300650072002c00200050006c006500610073006500200065006e00740065007200200079006f00750072002000700061007300730077006f0072006400200074006f002000760065007200690066007900200079006f007500720020006d006f00620069006c00650020006e006f002e</p>\n"}], "owner": {"reputation": 106, "user_id": 4997534, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/593a268ebc9d21935c2b136280eb85ff?s=128&d=identicon&r=PG&f=1", "display_name": "kanishka", "link": "https://stackoverflow.com/users/4997534/kanishka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 911, "favorite_count": 0, "answer_count": 3, "score": -6, "last_activity_date": 1595000121, "creation_date": 1467612186, "last_edit_date": 1467615489, "question_id": 38177829, "link": "https://stackoverflow.com/questions/38177829/string-to-utf-16-using-perl", "title": "String to UTF-16 using perl", "body": "<p>I need to convert my message string to UTF-16 using Perl.</p>\n\n<p>Example\nConvert:</p>\n\n<blockquote>\n  <p>Dear User, Please enter your password to verify your mobile no.</p>\n</blockquote>\n\n<p>into :</p>\n\n<blockquote>\n  <p>0044 0065 0061 0072 0020 0055 0073 0065 0072 002C 0020 0050 006C 0065\n  0061 0073 0065 0020 0065 006E 0074 0065 0072 0020 0079 006F 0075 0072\n  0020 0070 0061 0073 0073 0077 006F 0072 0064 0020 0074 006F 0020 0076\n  0065 0072 0069 0066 0079 0020 0079 006F 0075 0072 0020 006D 006F 0062\n  0069 006C 0065 0020 006E 006F 0020 002E</p>\n</blockquote>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1467578856, "post_id": 38174160, "comment_id": 63775655, "body": "Maybe <code>diff</code> will work?"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 1, "creation_date": 1467578887, "post_id": 38174160, "comment_id": 63775663, "body": "Please take a look at <a href=\"http://stackoverflow.com/editing-help\">editing-help</a>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1467625365, "post_id": 38174160, "comment_id": 63789256, "body": "This is the wrong place to look for a script. This is a place to look for help writing a script."}], "answers": [{"tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 1, "last_activity_date": 1467579535, "last_edit_date": 1467579535, "creation_date": 1467579138, "answer_id": 38174238, "question_id": 38174160, "link": "https://stackoverflow.com/questions/38174160/script-for-comparing-two-files-and-outputs-matching-values/38174238#38174238", "title": "Script for comparing two files and outputs matching values", "body": "<p><code>grep</code> won't do what you want.  <code>grep</code> is excels at selecting text but it is not good at mixing and merging.  By contrast, <code>awk</code> is designed for this task:</p>\n\n<pre><code>$ awk -F'|' 'FNR==NR{a[$1,$2]=$3; next} {print $1,$2,a[$1,$2]}' OFS='|'  file2 file1\nref|apple.1| prepared_for_goats \nref|apple.1| prepared_for_goats \nref|apple.1| prepared_for_goats \nref|peach.1| prepared_for_tucans \nref|peach.1| prepared_for_tucans \nref|peach.1| prepared_for_tucans \nref|fig.1| prepared_for_piegons \nref|pear.1| prepared for_pigs \nref|pear.1| prepared for_pigs \nref|apricot.1| prepared_for_sheep \nref|plum.1| prepared_for_gorilla \nref|grape.1| prepared_for_monkeys\nref|grape.1| prepared_for_monkeys\nref|grape.1| prepared_for_monkeys\nref|grape.1| prepared_for_monkeys\n</code></pre>\n\n<p>(The test of the question said that the fields were tab-separated but the sample files showed <code>|</code> as the separator.  Since the SO editor does not clearly show tabs, I kept the <code>|</code> as the separator for this demonstration code.)</p>\n\n<h3>How it works</h3>\n\n<ul>\n<li><p><code>-F'|'</code></p>\n\n<p>Set the field separator on <em>input</em> to <code>|</code>.</p></li>\n<li><p><code>FNR==NR{a[$1,$2]=$3; next}</code></p>\n\n<p>Due to the condition <code>FNR==NR</code>, this is only executed for the first file, <code>file2</code>.  For that file, we create associate array <code>a</code> which stores the third field, <code>$3</code>, under the key of the first two fields, <code>$1,$2</code>.</p></li>\n<li><p><code>print $1,$2,a[$1,$2]</code></p>\n\n<p>If we get here are are working on the second file, file1.  In that case, we print the first field, the second field, and the value of <code>a</code> that corresponds to those two fields.</p></li>\n<li><p><code>OFS='|'</code></p>\n\n<p>This sets the field separator on <em>output</em> to <code>|</code>.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1467581484, "creation_date": 1467581484, "answer_id": 38174516, "question_id": 38174160, "link": "https://stackoverflow.com/questions/38174160/script-for-comparing-two-files-and-outputs-matching-values/38174516#38174516", "title": "Script for comparing two files and outputs matching values", "body": "<p>You can use <code>join</code> <em>(the first field is used by default)</em>:</p>\n\n<pre><code>join file1 file2\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6193787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81739d6843ef6060addebe5ca1d3c96c?s=128&d=identicon&r=PG&f=1", "display_name": "vahap eldem", "link": "https://stackoverflow.com/users/6193787/vahap-eldem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 38174238, "answer_count": 2, "score": -1, "last_activity_date": 1467626722, "creation_date": 1467578635, "last_edit_date": 1467626722, "question_id": 38174160, "link": "https://stackoverflow.com/questions/38174160/script-for-comparing-two-files-and-outputs-matching-values", "title": "Script for comparing two files and outputs matching values", "body": "<p></p>\n\n<p>I am looking for a script for comparing two tab-delimited text files and outputs matching value.</p>\n\n<p>I used this bash script but it gives only unique values (in other words, it does not work for such purpose)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>grep -FwF file_1.txt file_2.txt &gt; out.txt\n</code></pre>\n\n<h3>File_1.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ref|apple.1| \nref|apple.1| \nref|apple.1| \nref|peach.1| \nref|peach.1|\nref|peach.1|\nref|fig.1| \nref|pear.1| \nref|pear.1| \nref|apricot.1| \nref|plum.1| \nref|grape.1|\nref|grape.1| \nref|grape.1| \nref|grape.1|\n</code></pre>\n\n<h3>File_2.txt</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ref|apple.1|   prepared_for_goats\nref|peach.1|   prepared_for_tucans\nref|fig.1| prepared_for_piegons\nref|pear.1|    prepared for_pigs\nref|apricot.1| prepared_for_sheep\nref|plum.1|    prepared_for_gorilla \nref|grape.1|   prepared_for_monkeys\n</code></pre>\n\n<h3>Expected_Output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ref|apple.1|   prepared_for_goats\nref|apple.1|   prepared_for_goats\nref|apple.1|   prepared_for_goats\nref|peach.1|   prepared_for_tucans\nref|peach.1|   prepared_for_tucans\nref|peach.1|   prepared_for_tucans\nref|fig.1| prepared_for_piegons     \nref|pear.1| prepared for_pigs \nref|pear.1|    prepared for_pigs\nref|apricot.1| prepared_for_sheep\nref|plum.1|    prepared_for_gorilla \nref|grape.1|   prepared_for_monkeys\nref|grape.1|   prepared_for_monkeys\nref|grape.1|   prepared_for_monkeys\nref|grape.1|   prepared_for_monkeys\n</code></pre>\n"}, {"tags": ["perl", "swap"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1467575220, "post_id": 38173692, "comment_id": 63774652, "body": "What&#39;s the contents of $EC? Is it the string <code>0x34c2</code>, or <code>&quot;\\x34\\xc2&quot;</code>? And what&#39;s the expected output?"}, {"owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1467576153, "post_id": 38173692, "comment_id": 63774906, "body": "$EC is my variable, which contents the direct output of an A/D Converter over an i2c bus on an raspberry. The values i get lookslike this: 0x8600 0x6d00 0x8a00 0x6e00 0x7800 0x7000 0x7d00 0x8000 0x8700 0x7700 0x7400 0x7300 0x7600 0x9000 0x7a00  in need to remove &quot;0x&quot; an swap the first two bytes agains the last two bytes."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467576202, "post_id": 38173692, "comment_id": 63774920, "body": "Don&#39;t expect those who know Perl to know Python well or at all. The input appears to be the string <code>0x34c2</code>, but what output do you want for that input? The string <code>c234</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "edited": false, "score": 0, "creation_date": 1467577159, "post_id": 38173849, "comment_id": 63775195, "body": "Thanks for this - that seems easy to handle. What i get from this code is $EC = 0x1e00 -&gt; result is e100  Thats close to that what i need -&gt; my result should looklike  0x1e04 &gt; 041e  Thanks for all here helping me here :)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "edited": false, "score": 0, "creation_date": 1467577626, "post_id": 38173849, "comment_id": 63775322, "body": "@4zap: Check the update."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467577855, "post_id": 38173849, "comment_id": 63775386, "body": "Missing <code>$output = hex($output);</code> to match the OP&#39;s code."}, {"owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "edited": false, "score": 0, "creation_date": 1467578787, "post_id": 38173849, "comment_id": 63775634, "body": "Thank you both...  [code]#!/usr/bin/perl   my $dir = &#39;/var/www/motion&#39;;  my $EC = <code>sudo i2cget -y 1 0x4a 0x00 w</code> ;  print &quot;$EC&quot;;  my $output = $EC; substr $output, 4, 0, substr $output, 2, 2, q();  print &quot;$output&quot;;  $ECdec=hex($output)/10;                      print &quot;Electric Conductivity $ECdec &#181;S/m \\n&quot;; [/code]  works for me as expected! Thank you both for the fast solution! Made my day!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1467577619, "last_edit_date": 1467577619, "creation_date": 1467576018, "answer_id": 38173849, "question_id": 38173692, "link": "https://stackoverflow.com/questions/38173692/perl-byte-swaping-after-reading-the-probe-values/38173849#38173849", "title": "Perl - byte swaping after reading the probe values", "body": "<p>If the input is the string <code>0x34c2</code> and you want to get the bytes <code>43 2c</code> (or the string \"432c\") back, you can use </p>\n\n<pre><code>my $EC = \"0x34c2\";\nmy $output = pack 'h4', substr $EC, 2;  # --&gt; \\x43\\x2c\nmy $string = unpack 'H4', $output;      # --&gt; \"432c\"\n</code></pre>\n\n<p>If you just want to swap the \"bytes\" in a string, you can use substitution</p>\n\n<pre><code>my $EC = \"0x34c2\";\n(my $output = $EC) =~ s/(..)(..)$/$2$1/;\n</code></pre>\n\n<p>or <a href=\"http://p3rl.org/substr\" rel=\"nofollow\">substr</a>:</p>\n\n<pre><code>my $EC = \"0x34c2\";\nmy $output = $EC;\nsubstr $output, 4, 0, substr $output, 2, 2, q();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "edited": false, "score": 0, "creation_date": 1467577959, "post_id": 38173935, "comment_id": 63775418, "body": "I get a decimal output here - for exampe0x9802 results in 654"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "edited": false, "score": 0, "creation_date": 1467578147, "post_id": 38173935, "comment_id": 63775474, "body": "No you don&#39;t. &quot;Decimal&quot; is the string representation of a number. Like your python code, my snippet returns a <i>number</i>, not a string (decimal or otherwise). If that&#39;s not what you want, then fix your question because that&#39;s what you asked for. (Short answer: If you want to print the number out in hex, then don&#39;t print it out in decimal!)"}, {"owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "edited": false, "score": 0, "creation_date": 1467579184, "post_id": 38173935, "comment_id": 63775760, "body": "Sorry if you missunderstood me, i am not a native speaker and for me it s sometimes difficult to understand questions the right way... but however...both codes helped me solve my problem. Thanks for that!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "edited": false, "score": 0, "creation_date": 1467579292, "post_id": 38173935, "comment_id": 63775788, "body": "<code>my $ECdec = $n&#47;10; print &quot;Electric Conductivity $ECdec &#181;S&#47;m \\n&quot;;</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1467579337, "last_edit_date": 1467579337, "creation_date": 1467576835, "answer_id": 38173935, "question_id": 38173692, "link": "https://stackoverflow.com/questions/38173692/perl-byte-swaping-after-reading-the-probe-values/38173935#38173935", "title": "Perl - byte swaping after reading the probe values", "body": "<p>You weren't clear about what output you want, but I determined the following by running your snippet:</p>\n\n<p>For input, you have a string such as <code>0x34c2</code>.</p>\n\n<p>For output, you want the number 49716<sub>10</sub> = C234<sub>16</sub>.</p>\n\n<p>There are many different approaches you could use.</p>\n\n<pre><code>die(\"assert\") if substr($s, 0, 2) ne \"0x\";\n\nmy $n = unpack('S&lt;', pack('H*', substr($s, 2)));    # If it's a LE uint16_t\n  -or-\nmy $n = unpack('s&lt;', pack('H*', substr($s, 2)));    # If it's a LE int16_t\n</code></pre>\n\n<p>Alternatively,</p>\n\n<pre><code>my $n = unpack('S&lt;', pack('S&gt;', hex($s)));          # If it's a LE uint16_t\n  -or-\nmy $n = unpack('s&lt;', pack('s&gt;', hex($s)));          # If it's a LE int16_t\n</code></pre>\n\n<p>Both solutions will work on both little-endian and big-endian platforms.</p>\n\n<hr>\n\n<p>From the comments, it seems the next line should be the following:</p>\n\n<pre><code>my $ECdec = $n/10;\nprint \"Electric Conductivity $ECdec \u00b5S/m\\n\";\n</code></pre>\n\n<hr>\n\n<pre><code>$ python &lt;&lt;'EOS'\nimport struct\nline = \"0x34c2\"\nassert line.startswith(\"0x\")\nword = int(line[2:], 16)\nword = struct.unpack(\"&gt;H\", struct.pack(\"&lt;H\", word))[0]\nprint word\nEOS\n49716\n\n$ perl -e'\n   use feature qw( say );\n   my $s = \"0x34c2\";\n   die(\"assert\") if substr($s, 0, 2) ne \"0x\";\n   my $word = unpack(\"S&lt;\", pack(\"H*\", substr($s, 2)));\n   say $word;\n'\n49716\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 6544750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04cebddb4b4ea63f9d38c7e90d17881?s=128&d=identicon&r=PG&f=1", "display_name": "4zap", "link": "https://stackoverflow.com/users/6544750/4zap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "closed_date": 1467619909, "accepted_answer_id": 38173849, "answer_count": 2, "score": -2, "last_activity_date": 1467579337, "creation_date": 1467574767, "question_id": 38173692, "link": "https://stackoverflow.com/questions/38173692/perl-byte-swaping-after-reading-the-probe-values", "closed_reason": "Needs details or clarity", "title": "Perl - byte swaping after reading the probe values", "body": "<p>i need help in Perl. Maybe for you an easy question to answer... \nFrom from AD Converter i get values like 0X43b7 on an debian wheezy.\nI read this values with the i2cget command</p>\n\n<pre><code>$EC = `sudo i2cget -y 1 0x4a 0x00 w` ;\n</code></pre>\n\n<p>what i get is an hex value 0x34c2. The used microcontroller did somethink like an little endian to this value and i need the swap the higher value bytes against the lower value bytes. I get an hint, but in python ... i had no glue how to handle this. Is there an easy expression in Perl for this Python line`?</p>\n\n<pre><code>           assert line.startswith(\"0x\")\n           word = int(line[2:], 16)\n           yield struct.unpack(\"&gt;H\", struct.pack(\"&lt;H\", word))[0]\n</code></pre>\n\n<p>I never swaped bytes in Perl and not realy shure how to translate this.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 31113, "user_id": 112079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ccb721ddaf2f6e7dccc66262f406b1?s=128&d=identicon&r=PG&f=1", "display_name": "fvu", "link": "https://stackoverflow.com/users/112079/fvu"}, "edited": false, "score": 1, "creation_date": 1467553123, "post_id": 38170487, "comment_id": 63767975, "body": "Quite confusing. Where do you have that &quot;empty JSON object&quot;? In a string in the perl program? Elsewhere?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467553233, "post_id": 38170487, "comment_id": 63768008, "body": "What exactly do you have? If your code looks like <code>my $obj = {}</code> then you have a reference to a <i>Perl hash</i>, which you may convert to JSON if you wish. If it looks like <code>my $obj = &quot;{}&quot;</code> then you have a Perl string, which is valid JSON notation"}, {"owner": {"reputation": 3, "user_id": 3394199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0ac91096d57efa551d7b5a82cdc5ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3394199", "link": "https://stackoverflow.com/users/3394199/user3394199"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467553337, "post_id": 38170487, "comment_id": 63768033, "body": "@Borodin Yeah string, it looks like: my $json = &quot;{}&quot; and I want to push Test with the value 1 so when it&#39;s printed it looks like {&quot;Test&quot;: 1}"}, {"owner": {"reputation": 31113, "user_id": 112079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ccb721ddaf2f6e7dccc66262f406b1?s=128&d=identicon&r=PG&f=1", "display_name": "fvu", "link": "https://stackoverflow.com/users/112079/fvu"}, "edited": false, "score": 0, "creation_date": 1467553573, "post_id": 38170487, "comment_id": 63768111, "body": "Although a bit useless if the string is actually &quot;{}&quot; you could decode_json it, stuff whatever you want to stuff in it and then encode_json it, just like @AntonPetrusevich suggests."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 3394199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0ac91096d57efa551d7b5a82cdc5ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3394199", "link": "https://stackoverflow.com/users/3394199/user3394199"}, "edited": false, "score": 0, "creation_date": 1467555858, "post_id": 38170536, "comment_id": 63768812, "body": "Now how can I check whether a key exists in an object?"}, {"owner": {"reputation": 162, "user_id": 6512437, "user_type": "registered", "profile_image": "https://graph.facebook.com/132433723848304/picture?type=large", "display_name": "Anton Petrusevich", "link": "https://stackoverflow.com/users/6512437/anton-petrusevich"}, "reply_to_user": {"reputation": 3, "user_id": 3394199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0ac91096d57efa551d7b5a82cdc5ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3394199", "link": "https://stackoverflow.com/users/3394199/user3394199"}, "edited": false, "score": 0, "creation_date": 1467557311, "post_id": 38170536, "comment_id": 63769225, "body": "if(exists $obj-&gt;{&#39;Test&#39;}) { ... }"}], "tags": [], "owner": {"reputation": 162, "user_id": 6512437, "user_type": "registered", "profile_image": "https://graph.facebook.com/132433723848304/picture?type=large", "display_name": "Anton Petrusevich", "link": "https://stackoverflow.com/users/6512437/anton-petrusevich"}, "is_accepted": false, "score": 1, "last_activity_date": 1467553317, "creation_date": 1467553317, "answer_id": 38170536, "question_id": 38170487, "link": "https://stackoverflow.com/questions/38170487/how-to-push-a-new-value-into-a-json-object/38170536#38170536", "title": "How to push a new value into a JSON object", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse JSON;\nmy $obj = {};\n$obj-&gt;{'Test'} = 1;\nprint encode_json ($obj) . \"\\n\";\n</code></pre>\n\n<p>A little bit of google-fu returns tutorial sites like <a href=\"http://perlmaven.com/json\" rel=\"nofollow\">JSON in Perl</a></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 3394199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0ac91096d57efa551d7b5a82cdc5ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3394199", "link": "https://stackoverflow.com/users/3394199/user3394199"}, "edited": false, "score": 0, "creation_date": 1467555912, "post_id": 38170569, "comment_id": 63768834, "body": "Now how can I check whether a key exists in an object?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 3394199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0ac91096d57efa551d7b5a82cdc5ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3394199", "link": "https://stackoverflow.com/users/3394199/user3394199"}, "edited": false, "score": 0, "creation_date": 1467649616, "post_id": 38170569, "comment_id": 63803561, "body": "@user3394199: There is no &quot;object&quot;: you are dealing with a simple Perl data structure. Perhaps you should take a look at <a href=\"http://perldoc.perl.org/perlintro.html\" rel=\"nofollow noreferrer\">perlintro</a>? You need the <code>exists</code> operator to determine whether an element with the given key exists in a hash"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1467553844, "last_edit_date": 1467553844, "creation_date": 1467553531, "answer_id": 38170569, "question_id": 38170487, "link": "https://stackoverflow.com/questions/38170487/how-to-push-a-new-value-into-a-json-object/38170569#38170569", "title": "How to push a new value into a JSON object", "body": "<p>You should build your data as a Perl data structure, and convert it to JSON when it is complete</p>\n\n<p>If you were starting with some significant JSON data then you would decode it first and then add to the resultant Perl data structure, but it is trivial to create an empty Perl hash to start with</p>\n\n<p>Your code would look like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse JSON;\n\nmy %data;\n\n$data{Test} = 1;\n\nmy $convert = JSON-&gt;new-&gt;pretty;\nprint $convert-&gt;encode(\\%data);\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n   \"Test\" : 1\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3394199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0ac91096d57efa551d7b5a82cdc5ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3394199", "link": "https://stackoverflow.com/users/3394199/user3394199"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1467553844, "creation_date": 1467552988, "last_edit_date": 1467553106, "question_id": 38170487, "link": "https://stackoverflow.com/questions/38170487/how-to-push-a-new-value-into-a-json-object", "title": "How to push a new value into a JSON object", "body": "<p>I have an empty JSON object</p>\n\n<pre><code>{}\n</code></pre>\n\n<p>I would like to know how, in Perl, I could push values into the object so it'd end up looking like this</p>\n\n<pre><code>{\"Test\": 1}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4604, "user_id": 3821804, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d837f426da3935510c8c43f2a2c07f8d?s=128&d=identicon&r=PG&f=1", "display_name": "GingerPlusPlus", "link": "https://stackoverflow.com/users/3821804/gingerplusplus"}, "edited": false, "score": 3, "creation_date": 1467552597, "post_id": 38170411, "comment_id": 63767818, "body": "It&#39;s not Python. I think it&#39;s Perl."}, {"owner": {"reputation": 4334, "user_id": 4852737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XcBMb.jpg?s=128&g=1", "display_name": "joshweir", "link": "https://stackoverflow.com/users/4852737/joshweir"}, "reply_to_user": {"reputation": 4604, "user_id": 3821804, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d837f426da3935510c8c43f2a2c07f8d?s=128&d=identicon&r=PG&f=1", "display_name": "GingerPlusPlus", "link": "https://stackoverflow.com/users/3821804/gingerplusplus"}, "edited": false, "score": 0, "creation_date": 1467552966, "post_id": 38170411, "comment_id": 63767921, "body": "makes sense why my googling wasnt working."}], "answers": [{"tags": [], "owner": {"reputation": 4347, "user_id": 2455626, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XaHH5.png?s=128&g=1", "display_name": "Avihoo Mamka", "link": "https://stackoverflow.com/users/2455626/avihoo-mamka"}, "is_accepted": true, "score": 12, "last_activity_date": 1467552773, "creation_date": 1467552773, "answer_id": 38170445, "question_id": 38170411, "link": "https://stackoverflow.com/questions/38170411/what-does-last-do-in-perl/38170445#38170445", "title": "What does &quot;last&quot; do in Perl?", "body": "<p>Available uses for <code>last</code> command:</p>\n\n<ul>\n<li><p>last LABEL</p></li>\n<li><p>last EXPR</p></li>\n<li><p>last</p></li>\n</ul>\n\n<p>According to Perl's <a href=\"http://perldoc.perl.org/functions/last.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The <code>last</code> command is like the <code>break</code> statement in C (as used in\n  loops); it immediately exits the loop in question. If the LABEL is\n  omitted, the command refers to the innermost enclosing loop. The last\n  EXPR form, available starting in Perl 5.18.0, allows a label name to\n  be computed at run time, and is otherwise identical to last LABEL .\n  The continue block, if any, is not executed:</p>\n</blockquote>\n\n<pre><code> LINE: while (&lt;STDIN&gt;) {\n        last LINE if /^$/;  # exit when done with header\n        #...\n    }\n</code></pre>\n\n<blockquote>\n  <p>last cannot be used to exit a block that returns a value such as eval\n  {} , sub {} , or do {} , and should not be used to exit a grep or map\n  operation. Note that a block by itself is semantically identical to a\n  loop that executes once. Thus last can be used to effect an early exit\n  out of such a block.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 4973, "user_id": 153891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b287bcae476beaa660680430cd399c0?s=128&d=identicon&r=PG", "display_name": "woolstar", "link": "https://stackoverflow.com/users/153891/woolstar"}, "is_accepted": false, "score": 1, "last_activity_date": 1467598144, "creation_date": 1467598144, "answer_id": 38176058, "question_id": 38170411, "link": "https://stackoverflow.com/questions/38170411/what-does-last-do-in-perl/38176058#38176058", "title": "What does &quot;last&quot; do in Perl?", "body": "<p>As you've already gotten an answer about <code>last</code>, I'll address the second part of your question.  Perl has arrays and hash tables (also known as dictionaries).  <code>@matrix</code> at the top level is an array, but then its being initialized with another array, and the element in that second array is being initialized with a hash table.</p>\n\n<p>If you used Data::Dumper to print this out, or exported it as JSON you'd see something like:</p>\n\n<pre><code>@matrix= [ \n  [\n    { score =&gt; 0,\n      pointer =&gt; 'none'\n    }\n  ]\n] ;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 9, "last_activity_date": 1467667041, "creation_date": 1467667041, "answer_id": 38192317, "question_id": 38170411, "link": "https://stackoverflow.com/questions/38170411/what-does-last-do-in-perl/38192317#38192317", "title": "What does &quot;last&quot; do in Perl?", "body": "<p>You have an answer, about <code>last</code> but I thought I'd share this image which illustrates how <code>next</code>, <code>last</code> and <code>redo</code> affect logic flow in Perl loops:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FyKVZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FyKVZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>A <code>continue</code> block can optionally be added to a loop to define some statements which will be run on each iteration before looping back up to the top to re-evaluate the loop condition. If there is no <code>continue</code> block, <code>next</code> will go straight back up to the loop condition.</p>\n"}], "owner": {"reputation": 4334, "user_id": 4852737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XcBMb.jpg?s=128&g=1", "display_name": "joshweir", "link": "https://stackoverflow.com/users/4852737/joshweir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3990, "favorite_count": 0, "accepted_answer_id": 38170445, "answer_count": 3, "score": 4, "last_activity_date": 1467667041, "creation_date": 1467552514, "last_edit_date": 1467552656, "question_id": 38170411, "link": "https://stackoverflow.com/questions/38170411/what-does-last-do-in-perl", "title": "What does &quot;last&quot; do in Perl?", "body": "<p>In the code below, what does <code>last</code> do in the while loop? I get that if the <code>$matrix[$i][$j]{pointer}</code> variable equals <code>\"none\"</code> it calls <code>last</code> but what does it do?</p>\n\n<p>Also why does the $matrix variable include score and pointer using curly braces? <code>{score}</code>, I read this as the 3rd dimension in an array, but is this something else? Couldn't find anything on google about this. Thanks!</p>\n\n<pre><code>my @matrix;\n$matrix[0][0]{score}   = 0;\n$matrix[0][0]{pointer} = \"none\";\n#populate $matrix with more stuff\n\nwhile (1) {\n  last if $matrix[$i][$j]{pointer} eq \"none\"; #&lt;-what is this \"last\" doing?\n  #do some more stuff here\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1467926172, "post_id": 38169915, "comment_id": 63931888, "body": "Maybe you could simulate the widget using tags: <a href=\"http://www.perlmonks.org/?node_id=667664\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=667664</a>"}, {"owner": {"reputation": 4237, "user_id": 797308, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6e98fb28139b207c708da19e50ce00a?s=128&d=identicon&r=PG", "display_name": "NirMH", "link": "https://stackoverflow.com/users/797308/nirmh"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1468215467, "post_id": 38169915, "comment_id": 64016133, "body": "h%c3%a6gland@ this is what i eventually did, but as this seems like a day-to-day need in our days... i thought maybe there is something more solid."}], "answers": [{"tags": [], "owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "is_accepted": true, "score": 1, "last_activity_date": 1572806319, "creation_date": 1572806319, "answer_id": 58683419, "question_id": 38169915, "link": "https://stackoverflow.com/questions/38169915/is-there-a-hyperlink-widget-in-perl-tk/58683419#58683419", "title": "Is there a Hyperlink widget in Perl Tk?", "body": "<p>There is now. Feedback welcome: <a href=\"https://metacpan.org/pod/Tk::HyperlinkButton\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Tk::HyperlinkButton</a></p>\n\n<p>Sample:</p>\n\n<pre><code>$parent-&gt;HyperlinkButton(-text =&gt; 'https://metacpan.org');\n</code></pre>\n"}], "owner": {"reputation": 4237, "user_id": 797308, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6e98fb28139b207c708da19e50ce00a?s=128&d=identicon&r=PG", "display_name": "NirMH", "link": "https://stackoverflow.com/users/797308/nirmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 2, "accepted_answer_id": 58683419, "answer_count": 1, "score": 3, "last_activity_date": 1572806319, "creation_date": 1467548637, "last_edit_date": 1467918892, "question_id": 38169915, "link": "https://stackoverflow.com/questions/38169915/is-there-a-hyperlink-widget-in-perl-tk", "title": "Is there a Hyperlink widget in Perl Tk?", "body": "<p>I have google-d all around to search if Perl Tk has a hyperlink widget.\nThis is a straightforward Entry Textbox (or label) that display a hyperlink, with mouse changes to \"hand\" during hover and button 1 click invokes a command.</p>\n\n<p>Is there an existing one?</p>\n"}, {"tags": ["perl", "compiler-errors"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1467539785, "post_id": 38168348, "comment_id": 63764696, "body": "For capturing output of an external command, see the <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\"><code>qx</code></a> operator in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\"><code>perlop</code></a>. For more advanced captures see also <a href=\"http://stackoverflow.com/q/8733131/2173773\">Getting STDOUT, STDERR, and response code from external *nix command in perl</a>."}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1467539289, "last_edit_date": 1467539289, "creation_date": 1467538932, "answer_id": 38168671, "question_id": 38168348, "link": "https://stackoverflow.com/questions/38168348/how-to-check-syntax-of-a-perl-script-inside-another-one-not-using-perl-c/38168671#38168671", "title": "How to check syntax of a perl script inside another one not using perl -c?", "body": "<p>You can capture the output and check for the string <code>syntax OK</code></p>\n\n<p><strong>A.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmain();\nexit 0;\n\nsub main {\n    my ($stuff) = @_;\n    # Syntax Error\n    print $stufff;\n\n    # Runtime Error\n    pint $stuff;\n\n    # Runtime Error\n    print $stuff-&gt;foo();\n}\n</code></pre>\n\n<p><strong>B.pl</strong></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\nuse Test::More;\n\nfor my $file ( qw( A.pl B.pl ) ) {\n    # 2&gt;&amp;1 means redirect STDERR to STDOUT so we can capture it\n    chomp(my ($result) = qx( /usr/bin/env perl -cw $file 2&gt;&amp;1 ));\n    ok( $result =~ m|syntax OK|m, \"$file compiles OK\" )\n        or diag( \"$file failed to compile : $result\" );\n}\n\ndone_testing();\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>perl B.pl\nnot ok 1 - A.pl compiles OK\n#   Failed test 'A.pl compiles OK'\n#   at B.pl line 8.\n# A.pl failed to compile : Global symbol \"$stufff\" requires explicit package name at A.pl line 12.\nok 2 - B.pl compiles OK\n1..2\n# Looks like you failed 1 test of 2.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 2, "creation_date": 1467547599, "post_id": 38169629, "comment_id": 63766458, "body": "Author said that it doesn&#39;t work. And backtics captures STDOUT, not STDERR perl reports errors. Would be nice to check your code before posting it."}], "tags": [], "owner": {"reputation": 93, "user_id": 6543726, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EmGOXBuyTRQ/AAAAAAAAAAI/AAAAAAAAANM/cHCqMB9ZZZg/photo.jpg?sz=128", "display_name": "gmoryes", "link": "https://stackoverflow.com/users/6543726/gmoryes"}, "is_accepted": false, "score": -1, "last_activity_date": 1505479741, "last_edit_date": 1505479741, "creation_date": 1467546400, "answer_id": 38169629, "question_id": 38168348, "link": "https://stackoverflow.com/questions/38168348/how-to-check-syntax-of-a-perl-script-inside-another-one-not-using-perl-c/38169629#38169629", "title": "How to check syntax of a perl script inside another one not using perl -c?", "body": "<pre><code>my $res = system(\"perl -c test.pl\");\nunless ($res) {\n    print \"OK\\n\";\n} else {\n    print \"Syntax error!\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6434569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04304d882bcc291abc37f6d03c9f08cb?s=128&d=identicon&r=PG&f=1", "display_name": "Arwa Suleiman", "link": "https://stackoverflow.com/users/6434569/arwa-suleiman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 599, "favorite_count": 0, "closed_date": 1467595398, "answer_count": 2, "score": -1, "last_activity_date": 1505479741, "creation_date": 1467536294, "last_edit_date": 1467550093, "question_id": 38168348, "link": "https://stackoverflow.com/questions/38168348/how-to-check-syntax-of-a-perl-script-inside-another-one-not-using-perl-c", "closed_reason": "Duplicate", "title": "How to check syntax of a perl script inside another one not using perl -c?", "body": "<p>I have 2 perl scripts A and B. inside B.pl I want to check if there are syntax errors in A.pl</p>\n\n<p>I'm using <code>$result =`perl -c A.pl`;</code> but I can't get the output in <code>$result</code>.\nI need a perl command to do that. can you help?</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 1, "creation_date": 1467525381, "post_id": 38164622, "comment_id": 63761799, "body": "What is is arbitrary code? Have you checked what <code>open</code> does?  <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/open.html</a> You need <a href=\"http://search.cpan.org/~ether/libwww-perl-6.15/lib/LWP/UserAgent.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~ether/libwww-perl-6.15/lib/LWP/UserAgent.pm</a>"}, {"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 1, "creation_date": 1467547729, "post_id": 38164622, "comment_id": 63766492, "body": "It seems like python inspite of sigil at last var. If you are interested in python&#39;s solution, you probably should remove perl tag or provide perl not working example."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1467547733, "post_id": 38164622, "comment_id": 63766493, "body": "Probably it doesn&#39;t work because the code you show is neither valid Python nor valid Perl. Please tell which language you want to use."}], "answers": [{"tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 0, "last_activity_date": 1467549275, "creation_date": 1467549275, "answer_id": 38169990, "question_id": 38164622, "link": "https://stackoverflow.com/questions/38164622/read-info-from-text-file-in-cgi/38169990#38169990", "title": "Read info from text file in CGI", "body": "<p>You will have linefeeds at the end of your two variables if you use <code>readline()</code>. </p>\n\n<p>So, if it's Python, you will need to call <code>rstrip()</code> and if Perl, you will need <code>chomp()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467556071, "post_id": 38170374, "comment_id": 63768881, "body": "I copy this code to a new.cgi and set 755 permission to it but show error 500"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467556210, "post_id": 38170374, "comment_id": 63768924, "body": "Do you have apache? Then look into it&#39;s logfile (<code>&#47;var&#47;log&#47;apache2&#47;error.log</code> ??) and see what apache says."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467557051, "post_id": 38170374, "comment_id": 63769139, "body": "Then either you look into the wrong logfile or your apache is configured to write it a) <i>not</i> or b) <i>elsewhere.</i>  When you call that script manually (<code>cd cgi-bin-directory; .&#47;new.cgi</code>), what does it say then?"}, {"owner": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467558871, "post_id": 38170374, "comment_id": 63769699, "body": "Show me below error     server cgi-bin]$ ./new.cgi Cannot open file: No such file or directory"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467559352, "post_id": 38170374, "comment_id": 63769852, "body": "Then you gave the wrong path to your <code>text1.txt</code>. What&#39;s the full path to <code>text1.txt</code>? Of course you must change <code>&#47;path&#47;to&#47;text1.txt</code> in my example to the actual path."}, {"owner": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467560708, "post_id": 38170374, "comment_id": 63770274, "body": "My text1.txt is in cgi-bin folder so i use :<code>open( my $fh, &#39;&lt;&#39;, &#39;text1.txt&#39; ) or die &quot;Cannot open file: $!\\n&quot;;</code>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467561287, "post_id": 38170374, "comment_id": 63770443, "body": "Then your file isn&#39;t there and I&#39;m out. Figure out where your <code>text1.txt</code> file is and give that very path to the <code>open()</code> call. I cannot see your directory structure and cannot help any further. Try <code>find &#47; -name new.cgi 2&gt;&#47;dev&#47;null</code> to locate your file and use that result."}, {"owner": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467568850, "post_id": 38170374, "comment_id": 63772837, "body": "how can i use URL for this text1.txt file?   i find location but not work i want to use URL to read it."}, {"owner": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467571013, "post_id": 38170374, "comment_id": 63773458, "body": "I dont know  what is problem show me <code>Software error:  Cannot open file: No such file or directory</code>"}, {"owner": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467573093, "post_id": 38170374, "comment_id": 63774094, "body": "I test code in this website : <code>http:&#47;&#47;www.tutorialspoint.com&#47;execute_perl_online.php</code> code : <code>#!&#47;usr&#47;bin&#47;env perl use strict; use warnings &#39;all&#39;; open( my $fh, &#39;&lt;&#39;, &quot;http:&#47;&#47;www.jibbering.com&#47;2002&#47;4&#47;test.txt&quot; ) or die &quot;Cannot open file: $!\\n&quot;; my ($user, $pass) = (&lt;$fh&gt;, &lt;$fh&gt;);  # read first two lines chomp($user, $pass);    # strip off trailing &quot;\\n&quot; from both close($fh); my $MAIN_AUTH = &quot;$user:$pass&quot;; print &quot;&#39;$MAIN_AUTH&#39;\\n&quot;;</code> but show `Cannot open file: No such file or directory"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "edited": false, "score": 0, "creation_date": 1467630475, "post_id": 38170374, "comment_id": 63792298, "body": "Then do as Alexandr suggested in the <a href=\"http://stackoverflow.com/questions/38164622/read-info-from-text-file-in-cgi/38170374?noredirect=1#comment63761799_38164622\">very first comment</a> on your question! <b><code>open()</code> is for local files</b> and the solution I proposed works like a charm: <a href=\"http://www.tutorialspoint.com/execute_perl_online.php?PID=0Bw_CjBb95KQMajZSQnFfX2Z5X1U\" rel=\"nofollow noreferrer\">tutorialspoint.com/&hellip;</a> . To fetch a file from some URL you need <a href=\"http://search.cpan.org/~ether/libwww-perl-6.15/lib/LWP/UserAgent.pm\" rel=\"nofollow noreferrer\">LWP::UserAgent</a> instead."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 0, "last_activity_date": 1467553974, "last_edit_date": 1467553974, "creation_date": 1467552280, "answer_id": 38170374, "question_id": 38164622, "link": "https://stackoverflow.com/questions/38164622/read-info-from-text-file-in-cgi/38170374#38170374", "title": "Read info from text file in CGI", "body": "<p>The overall logic you use is almost ok, but the syntax is not and there are some details. Because you said the line <code>$MAIN_AUTH = 'username:password';</code> works, I assume you have Perl code. Starting variables with a <code>$</code> is not allowed in Python (afaik).</p>\n\n<ol>\n<li><strong><em>Always</em></strong> add <code>use strict; use warnings 'all';</code> at the top of your Perl scripts. It will inform you about most common errors in your script.</li>\n<li>Give the full path to your input file because you cannot be sure about the current directory when your cgi script is run by Apache (or whomever), and the script will expect it relative to that working directory if you don't state an absolute path.</li>\n<li>Check the return code of <code>open</code> to see whether it worked.</li>\n<li>When reading a line from a file, the line still has the newline character at its end, so remove that for further processing by applying <code>chomp</code> to every line.</li>\n</ol>\n\n<p>Altogether I end up with this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings 'all';\n\nopen( my $fh, '&lt;', '/path/to/text1.txt' ) or die \"Cannot open file: $!\\n\";\nmy ($user, $pass) = (&lt;$fh&gt;, &lt;$fh&gt;);  # read first two lines\nchomp($user, $pass);                 # strip off trailing \"\\n\" from both\nclose($fh);\n\nmy $MAIN_AUTH = \"$user:$pass\";\n\nprint \"'$MAIN_AUTH'\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>'username:password'\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5981416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhl4f.jpg?s=128&g=1", "display_name": "frank", "link": "https://stackoverflow.com/users/5981416/frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 939, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1495187500, "creation_date": 1467494831, "last_edit_date": 1495187500, "question_id": 38164622, "link": "https://stackoverflow.com/questions/38164622/read-info-from-text-file-in-cgi", "title": "Read info from text file in CGI", "body": "<p>I have a text file <code>text1.txt</code> that contains:</p>\n\n<pre><code>username\npassword\n</code></pre>\n\n<p>How can I read these parameters from <code>text1.txt</code> into my <code>.cgi</code> script? </p>\n\n<p>I use this code :</p>\n\n<pre><code>f = open('text1.txt', \"r\") \n user = f.readline() \n pass = f.readline() \n$MAIN_AUTH = 'user':'pass' ;\n</code></pre>\n\n<p>This does not work.</p>\n\n<p>If I directly insert user and pass it works:</p>\n\n<pre><code>$MAIN_AUTH = 'username:password' ;\n</code></pre>\n\n<p>But when read from the text file it does not work.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 1430, "user_id": 6084928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKTrp.jpg?s=128&g=1", "display_name": "Lex Scarisbrick", "link": "https://stackoverflow.com/users/6084928/lex-scarisbrick"}, "is_accepted": false, "score": 2, "last_activity_date": 1467478290, "creation_date": 1467478290, "answer_id": 38162424, "question_id": 38162364, "link": "https://stackoverflow.com/questions/38162364/is-there-a-difference-between-use-warnings-and-use-warnings-all/38162424#38162424", "title": "Is there a difference between &quot;use warnings;&quot; and &quot;use warnings &#39;all&#39;;&quot;?", "body": "<p>One is more explicit than the other, but as noted in the documentation, they have the same effect.  It's probably better to use the <code>'all'</code> import list to make it more clear that all warnings are in fact enabled.  This is also helpful for those who may be new to Perl.  When in doubt, explicit is usually better than implicit.</p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1467480620, "post_id": 38162591, "comment_id": 63753566, "body": "The link you gave was the crucial point. So for private use I&#39;ll be the <i>Charley</i> guy (from the <a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2015/06/msg228467.html\" rel=\"nofollow noreferrer\">discussion you mentioned</a>) and <code>use warnings &#39;all&#39;;</code> which will give new and yet unknown warnings in the future while for office use I&#39;ll do as <i>Tallulah</i> would and stick with <code>use warnings;</code> and be more conservative."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1467490888, "post_id": 38162591, "comment_id": 63756241, "body": "Re &quot;<i>it&#39;s safer to <code>use warnings &#39;all&#39;;</code> explicitly</i>, Especially for the less experienced Perl programmers, as these will get the most benefit from the stricter warnings. That&#39;s why I&#39;ve been promoting <code>use warnings &#39;all&#39;;</code> on SO. [I oppose the change because it&#39;s unrealistic to expect less experienced Perl programmers to know to use <code>use warnings &#39;all&#39;;</code> instead of just <code>use warnings;</code> given the extent of the documentation suggesting the latter. It&#39;s also a backwards incompatible change to those that were promised that <code>use warnings;</code> would turn on all warnings.]"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1488786164, "post_id": 38162591, "comment_id": 72368531, "body": "Just wanted to ask the same question! And while the answer is great, i hope that such change <b>will be never happened</b>. Time-to-time I hate some perl porters. ;("}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 15, "last_activity_date": 1467482786, "last_edit_date": 1467482786, "creation_date": 1467479378, "answer_id": 38162591, "question_id": 38162364, "link": "https://stackoverflow.com/questions/38162364/is-there-a-difference-between-use-warnings-and-use-warnings-all/38162591#38162591", "title": "Is there a difference between &quot;use warnings;&quot; and &quot;use warnings &#39;all&#39;;&quot;?", "body": "<p>Currently,</p>\n\n<pre><code>use warnings;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>use warnings 'all';\n</code></pre>\n\n<p>However, there has been <a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2015/06/msg228400.html\">talk on perl5porters</a> of changing it to mean</p>\n\n<pre><code>use warnings 'default';\n</code></pre>\n\n<p>New \"less-critical\" warnings would be added to the \"all\" category but not shown by default. Since it seems this change is seriously being considered, it's safer to <code>use warnings 'all';</code> explicitly.</p>\n\n<p>Previous discussions on p5p:</p>\n\n<p><a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2014/06/msg217115.html\"><em>RFC: Support for new warning categories outside of \"all\"</em></a></p>\n\n<p><a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2014/12/msg224127.html\"><em>I've added support for new warning categories outside of \"all\" to blead</em></a></p>\n"}], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 2, "accepted_answer_id": 38162591, "answer_count": 2, "score": 14, "last_activity_date": 1467482786, "creation_date": 1467477851, "question_id": 38162364, "link": "https://stackoverflow.com/questions/38162364/is-there-a-difference-between-use-warnings-and-use-warnings-all", "title": "Is there a difference between &quot;use warnings;&quot; and &quot;use warnings &#39;all&#39;;&quot;?", "body": "<p>I have the habit of starting each and every of my scripts with</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>But some of the high-rep fellows here recommend</p>\n\n<pre><code>use warnings 'all';\n</code></pre>\n\n<p>If I understood them right, the latter is even better than the first. So I read through the <a href=\"http://perldoc.perl.org/warnings.html\">docs</a> and found</p>\n\n<blockquote>\n  <p>All warnings are enabled in a block by either of these:</p>\n\n<pre><code>use warnings;\nuse warnings 'all';\n</code></pre>\n</blockquote>\n\n<p>Even the <a href=\"http://docstore.mik.ua/orelly/perl4/prog/ch31_22.htm\">Camel Book</a> says nothing different:</p>\n\n<blockquote>\n<pre><code>use warnings;   # same as importing \"all\"\n</code></pre>\n</blockquote>\n\n<p>So </p>\n\n<ul>\n<li><em>is</em> there a difference, or</li>\n<li>is it just more future-proof (in case future versions of Perl issue warnings we aren't aware of right now and <code>use warnings;</code> won't catch), or</li>\n<li>is it just another habit, like e.g. <code>ps -ef</code> vs. <code>ps aux</code>? Some people use this while others prefer the other.</li>\n</ul>\n"}, {"tags": ["perl", "mason"], "comments": [{"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 1, "creation_date": 1467476528, "post_id": 38159091, "comment_id": 63752517, "body": "Feel free to make a test template, run it and see compiled in the code cache. I&#39;ve done it when made plugin for it. But not remember now :) Here is hierarchy: <a href=\"https://github.com/Camelcade/Perl5-IDEA/issues/905\" rel=\"nofollow noreferrer\">github.com/Camelcade/Perl5-IDEA/issues/905</a>"}, {"owner": {"reputation": 816, "user_id": 1249519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vWpvo.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/1249519/sunil"}, "reply_to_user": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 0, "creation_date": 1467477387, "post_id": 38159091, "comment_id": 63752738, "body": "Thanks for sharing the link. Just wanted to know about %attr. Where does %attr fit in that hierarchy?"}, {"owner": {"reputation": 816, "user_id": 1249519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vWpvo.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/1249519/sunil"}, "reply_to_user": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 0, "creation_date": 1467478493, "post_id": 38159091, "comment_id": 63753031, "body": "Thanks let me figure out with the method you have mentioned."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 0, "creation_date": 1467485407, "post_id": 38159091, "comment_id": 63754860, "body": "@AlexandrEvstigneev: If you have a reference that helps then you should post it and explain it. I&#39;m not at all sure that the page that you have linked is supposed to represent a hierarchy"}, {"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1467486912, "post_id": 38159091, "comment_id": 63755230, "body": "@Borodin I&#39;ve offered a method how to see the sequence. I&#39;ve provided link to the data i&#39;ve done when solved the similar problem. In other words: i&#39;ve shared my experience in amount and manner I can afford now. And It&#39;s better than do nothing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 0, "creation_date": 1467495126, "post_id": 38159091, "comment_id": 63757175, "body": "@AlexandrEvstigneev: Throwing up a link that you think may help or may be completely wrong isn&#39;t better than doing nothing. And you may not realise it, but <i>&quot;Feel free to make a test template&quot;</i> implies that you have the authority to prevent thew OP from doing just that, which you don&#39;t"}, {"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467525213, "post_id": 38159091, "comment_id": 63761775, "body": "@Borodin I respectefully disagree about doing someting and doing nothing. And yes, my English is bad, sorry :("}, {"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467525623, "post_id": 38159091, "comment_id": 63761835, "body": "@Borodin and according to &quot;how to answer&quot; manual: Any answer that gets the asker going in the right direction is helpful"}], "answers": [{"tags": [], "owner": {"reputation": 886, "user_id": 1222612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fec93ceb0df2b8c76fbf3309ff3803c?s=128&d=identicon&r=PG", "display_name": "Avi", "link": "https://stackoverflow.com/users/1222612/avi"}, "is_accepted": true, "score": 11, "last_activity_date": 1598454075, "last_edit_date": 1598454075, "creation_date": 1491488557, "answer_id": 43257973, "question_id": 38159091, "link": "https://stackoverflow.com/questions/38159091/what-is-the-order-of-execution-of-mason-blocks-in-a-component/43257973#43257973", "title": "What is the order of execution of Mason blocks in a component", "body": "<p>There are two different kinds of blocks in that list. &quot;Executable&quot; blocks, which contain executable perl code, and non-executable blocks, which contain key-value pairs (not unlike perl hashes).</p>\n<h1>Executable Blocks</h1>\n<p><strong>&lt;%once&gt;</strong></p>\n<blockquote>\n<p>This block is executed whenever the component is loaded into memory.\nIt is executed before any other block.</p>\n</blockquote>\n<p><strong>&lt;%shared&gt;</strong></p>\n<blockquote>\n<p>This block is executed once per request. It is executed before the &lt;%init&gt; block.</p>\n</blockquote>\n<p><strong>&lt;%init&gt;</strong></p>\n<blockquote>\n<p>This block is executed every time the component is called. It is executed  before any other code except for code in &lt;%once&gt; or &lt;%shared&gt; blocks.</p>\n</blockquote>\n<h1>Non-Executable Blocks</h1>\n<p><strong>&lt;%args&gt;</strong></p>\n<blockquote>\n<p>This block is used to declare the arguments that a component expects.\nIn addition, it can also be used to specify a default value if none is\ngiven when the component is called.</p>\n</blockquote>\n<p><strong>&lt;%flags&gt;</strong></p>\n<blockquote>\n<p>This block is used to declare special Mason flags, which are used to\naffect the component's behavior. Currently, there is only one flag\ndefined, <code>inherit</code>.</p>\n</blockquote>\n<p><strong>&lt;%attr&gt;</strong></p>\n<blockquote>\n<p>This block is used to declare arbitrary key-value pairs. Unlike the\n&lt;%flags&gt; block, the contents are not used by Mason but may be used in\nyour code.</p>\n</blockquote>\n<p>For more information, see the <a href=\"http://masonbook.houseabsolute.com/\" rel=\"nofollow noreferrer\">Mason book</a>, from which some of the above was copied (and modified) from.</p>\n"}], "owner": {"reputation": 816, "user_id": 1249519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vWpvo.jpg?s=128&g=1", "display_name": "Sunil", "link": "https://stackoverflow.com/users/1249519/sunil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1643, "favorite_count": 0, "accepted_answer_id": 43257973, "answer_count": 1, "score": 5, "last_activity_date": 1598454075, "creation_date": 1467455295, "last_edit_date": 1467485696, "question_id": 38159091, "link": "https://stackoverflow.com/questions/38159091/what-is-the-order-of-execution-of-mason-blocks-in-a-component", "title": "What is the order of execution of Mason blocks in a component", "body": "<p>What will be the sequence of execution if these blocks are present in a Mason component?</p>\n\n<ul>\n<li><code>%args</code></li>\n<li><code>%init</code></li>\n<li><code>%once</code></li>\n<li><code>%shared</code></li>\n<li><code>%attr</code></li>\n<li><code>%flags</code></li>\n</ul>\n"}, {"tags": ["regex", "excel", "perl", "file", "append"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467457518, "post_id": 38157237, "comment_id": 63747201, "body": "Code works for me using perl 5.20.1 on ubuntu.  I used cpan to install <code>Spreadsheet::WriteExcel</code> and <code>Spreadsheet::ParseExcel</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1467457693, "post_id": 38157237, "comment_id": 63747244, "body": "Check your OS/Perl Version combo here : <a href=\"http://www.cpantesters.org/distro/S/Spreadsheet-ParseExcel.html\" rel=\"nofollow noreferrer\">cpantesters.org/distro/S/Spreadsheet-ParseExcel.html</a> <a href=\"http://www.cpantesters.org/distro/S/Spreadsheet-WriteExcel.html\" rel=\"nofollow noreferrer\">cpantesters.org/distro/S/Spreadsheet-WriteExcel.html</a>"}, {"owner": {"reputation": 3933, "user_id": 5388771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZQEI.jpg?s=128&g=1", "display_name": "sharvil111", "link": "https://stackoverflow.com/users/5388771/sharvil111"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467465152, "post_id": 38157237, "comment_id": 63749310, "body": "The OS is SUSE Linux and perl version is 5.014001. But since the write to excel file takes place gracefully, I suspect very little about the version issue."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467467508, "post_id": 38157237, "comment_id": 63749909, "body": "Which version of ParseExcel are you running?"}, {"owner": {"reputation": 3933, "user_id": 5388771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZQEI.jpg?s=128&g=1", "display_name": "sharvil111", "link": "https://stackoverflow.com/users/5388771/sharvil111"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467468592, "post_id": 38157237, "comment_id": 63750258, "body": "The command <code>perldoc -m Spreadsheet::ParseExcel | grep VERSION</code> gives version: <code>our $VERSION = &#39;0.59&#39;;.</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467524935, "post_id": 38157237, "comment_id": 63761731, "body": "Version 0.59 has at least one known fail against perl 5.14.1 according to cpantesters.  Have you tried upgrading?  The latest version is 0.65."}, {"owner": {"reputation": 3933, "user_id": 5388771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZQEI.jpg?s=128&g=1", "display_name": "sharvil111", "link": "https://stackoverflow.com/users/5388771/sharvil111"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467611928, "post_id": 38157237, "comment_id": 63782506, "body": "Thanks for the help. I&#39;ll upgrade to newest version. Can you point to the link where the above issue might be reported?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467614640, "post_id": 38157237, "comment_id": 63783602, "body": "<a href=\"http://matrix.cpantesters.org/?dist=Spreadsheet-ParseExcel%200.59;os=linux;perl=5.14.1;reports=1\" rel=\"nofollow noreferrer\">matrix.cpantesters.org/&hellip;</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467614719, "post_id": 38157237, "comment_id": 63783638, "body": "<a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=Spreadsheet-ParseExcel\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Dist/&hellip;</a>"}, {"owner": {"reputation": 3933, "user_id": 5388771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZQEI.jpg?s=128&g=1", "display_name": "sharvil111", "link": "https://stackoverflow.com/users/5388771/sharvil111"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467615199, "post_id": 38157237, "comment_id": 63783882, "body": "Thanks for the help."}], "owner": {"reputation": 3933, "user_id": 5388771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZQEI.jpg?s=128&g=1", "display_name": "sharvil111", "link": "https://stackoverflow.com/users/5388771/sharvil111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1467441139, "creation_date": 1467441139, "question_id": 38157237, "link": "https://stackoverflow.com/questions/38157237/issue-in-excel-saveparser-while-appending-data", "title": "Issue in Excel SaveParser while appending data", "body": "<p>I want to create and then append some data in <strong>excel file</strong> using <strong>perl</strong> script. As advised on many forum links, I took reference from the <em>sample code</em> provided on <a href=\"http://search.cpan.org/~jmcnamara/Spreadsheet-WriteExcel-2.40/lib/Spreadsheet/WriteExcel.pm\" rel=\"nofollow\">Spreadsheet::WriteExcel</a> module link. The spreadsheet is created successfully and no issues with that. </p>\n\n<p>But, then I use a second script to <strong>append</strong> some data to existing file. I use <a href=\"https://metacpan.org/pod/Spreadsheet%3A%3AParseExcel%3A%3ASaveParser\" rel=\"nofollow\">Spreadsheet::ParseExcel::SaveParser</a> module and use the sample code provided on <a href=\"https://metacpan.org/pod/Spreadsheet%3A%3AParseExcel%3A%3ASaveParser\" rel=\"nofollow\">this link</a>. Following is my code exactly same as the one provided on the site:</p>\n\n<pre><code>#!/usr/bin/perl\n  use Spreadsheet::ParseExcel;\n  use Spreadsheet::ParseExcel::SaveParser;\n  use Spreadsheet::WriteExcel;\n\n  # Open an existing file with SaveParser\n  my $parser   = Spreadsheet::ParseExcel::SaveParser-&gt;new();\n  my $template = $parser-&gt;Parse('perl.xls');\n\n\n  # Get the first worksheet.\n  my $worksheet = $template-&gt;worksheet(0);\n  my $row  = 0;\n  my $col  = 0;\n\n\n  # Overwrite the string in cell A1\n  $worksheet-&gt;AddCell( $row, $col, 'New string' );\n\n\n  # Add a new string in cell B1\n  $worksheet-&gt;AddCell( $row, $col + 1, 'Newer' );\n\n\n  # Add a new string in cell C1 with the format from cell A3.\n  my $cell = $worksheet-&gt;get_cell( $row + 2, $col );\n  my $format_number = $cell-&gt;{FormatNo};\n\n  $worksheet-&gt;AddCell( $row, $col + 2, 'Newest', $format_number );\n\n\n  # Write over the existing file or write a new file.\n  $template-&gt;SaveAs('newfile.xls');\n</code></pre>\n\n<p>But, I get the following error:</p>\n\n<pre><code>Unknown method: Spreadsheet::WriteExcel::Format::set_hidden at &lt;path_to_SaveParser.pm&gt; line 72.\n</code></pre>\n\n<p>I was left clueless since it threw error from a built-in module. Some <strong>built-in function is not found</strong>. Might be I have to import that module in my file (but don't know which one!). I think there is an issue with <code>SaveAs</code> subroutine. Following is a snippet from the module for reference:</p>\n\n<pre><code>sub SaveAs($$){\n    my ($oBook, $sName)=@_;\n    # Create a new Excel workbook\n    my $oWrEx = Spreadsheet::WriteExcel-&gt;new($sName);\n    my %hFmt;\n\n    my $iNo = 0;\n    my @aAlH = ('left', 'left', 'center', 'right', 'fill', 'justify', 'merge', 'equal_space');\n    my @aAlV = ('top' , 'vcenter', 'bottom', 'vjustify', 'vequal_space');\n\n    foreach my $pFmt (@{$oBook-&gt;{Format}}) {\n        my $oFmt = $oWrEx-&gt;addformat();    # Add Formats\n        unless($pFmt-&gt;{Style}) {\n            $hFmt{$iNo} = $oFmt;\n            my $rFont = $pFmt-&gt;{Font};\n\n            $oFmt-&gt;set_font($rFont-&gt;{Name});\n            $oFmt-&gt;set_size($rFont-&gt;{Height});\n            $oFmt-&gt;set_color($rFont-&gt;{Color});\n            $oFmt-&gt;set_bold($rFont-&gt;{Bold});\n            $oFmt-&gt;set_italic($rFont-&gt;{Italic});\n            $oFmt-&gt;set_underline($rFont-&gt;{Underline});\n            $oFmt-&gt;set_font_strikeout($rFont-&gt;{Strikeout});\n            $oFmt-&gt;set_font_script($rFont-&gt;{Super});\n\n            $oFmt-&gt;set_hidden($rFont-&gt;{Hidden});        #LINE 72 !!!\n\n            $oFmt-&gt;set_align($aAlH[$pFmt-&gt;{AlignH}]);\n            $oFmt-&gt;set_align($aAlV[$pFmt-&gt;{AlignV}]);\n            if($pFmt-&gt;{Rotate}==0) {\n                $oFmt-&gt;set_rotation(0);\n            }\n            #....\n</code></pre>\n\n<p>There doesn't seem any issue with the Shebang operator (<code>#!</code>) path, since it was the same path which I used while creating the excel file. Can anybody please provide some pointers about what might be going wrong?</p>\n"}, {"tags": ["c", "linux", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467426271, "post_id": 38155552, "comment_id": 63740916, "body": "Looks like you are using a module with one build of Perl that was installed with a different build of Perl. The <code>PERL5LIB</code> env var probably points to somewhere inapproporiate."}], "answers": [{"comments": [{"owner": {"reputation": 1454, "user_id": 2414842, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/sjcCk.jpg?s=128&g=1", "display_name": "Fabiotk", "link": "https://stackoverflow.com/users/2414842/fabiotk"}, "edited": false, "score": 0, "creation_date": 1467682392, "post_id": 38155901, "comment_id": 63813291, "body": "Hello. I couldn&#39;t find out how to use cpan to rebuild Moose alone, I tried &quot;cpan Moose&quot; (with -c, -m, also tried to download and install using -g, none worked) so I ran a <code>cpan -u</code> to update all installed modules. After that the problem persists. What else can I try? Thanks"}], "tags": [], "owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "is_accepted": true, "score": 7, "last_activity_date": 1467695739, "last_edit_date": 1492085621, "creation_date": 1467425921, "answer_id": 38155901, "question_id": 38155552, "link": "https://stackoverflow.com/questions/38155552/uniscan-loadable-library-and-perl-binaries-are-mismatched/38155901#38155901", "title": "Uniscan: loadable library and perl binaries are mismatched", "body": "<p>This error message is coming from the perl interpreter's <code>Perl_xs_handshake</code> function. From a comment:</p>\n\n<blockquote>\n  <p>implement the various XS_*_BOOTCHECK macros, which are added to .c\n     files by ExtUtils::ParseXS, to check that the perl the module was built\n     with is binary compatible with the running perl.</p>\n</blockquote>\n\n<p>In short, this means that the <code>Moose</code> perl module is built against an incompatible version of the perl interpreter (i.e. downgrading <code>perl</code> is a possible option, but this has its own set of issues).</p>\n\n<p><code>Moose</code> is an object oriented extension framework for perl. It's common enough that some distros pre-build it and include it in the distro as a separate package (e.g. Under fedora, there is a <code>perl-Moose</code> fedora package).</p>\n\n<p>But, <code>Moose</code> is also available as a <code>CPAN</code> package.</p>\n\n<p>So, if your distro (kali) was set up correctly, things should take care of themselves (which they didn't). That is, if kali upgraded <code>perl</code>, they should have rebuilt the various perl module packages (<code>Moose</code> being one of them).</p>\n\n<p>Or ... <code>Moose</code> was <em>never</em> installed from the distro, but was installed from <code>CPAN</code> (e.g. as part of something else).</p>\n\n<p>Another way to go is to invoke <a href=\"https://metacpan.org/pod/cpan\" rel=\"noreferrer\"><code>cpan</code></a> and download, rebuild, and install the <code>Moose</code> package from there.</p>\n\n<p>One thing to look for is to find the place where the current <code>Moose</code> is installed (e.g. <code>/usr/lib64/...</code> or <code>/usr/local/lib64/...</code>, etc.) by doing <code>perldoc -lm Moose</code>. This may help with configuring <code>cpan</code> as to install directories.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<blockquote>\n  <p>I couldn't find out how to use cpan to rebuild Moose alone, I tried \"cpan Moose\" (with -c, -m, also tried to download and install using -g, none worked) so I ran a cpan -u to update all installed modules. After that the problem persists.</p>\n</blockquote>\n\n<p>There are two types of packages: <em>distro</em> packages (e.g. kali packages) and <code>CPAN</code> packages. If a given perl module has been installed from the <em>distro</em>, it is unlikely that <code>cpan</code> will try to update it. What we'll need to do is to get <code>cpan</code> to <em>install</em> it (from <code>CPAN</code>).</p>\n\n<p>When I use <code>cpan</code>, I usually do <code>/full_path_to/perl -MCPAN -e shell</code>. The reason I use a full path is that I have multiple different perl versions installed. For background as to why I have these [and <em>had</em> to have them], see my answer <a href=\"https://serverfault.com/questions/741186/cpan-is-using-old-perl-version-to-install-modules/741216#741216\">https://serverfault.com/questions/741186/cpan-is-using-old-perl-version-to-install-modules/741216#741216</a></p>\n\n<p>After that, at the prompt, I usually do something like <code>install Moose</code>. It will look for package dependencies and I usually say yes to all.</p>\n\n<p><code>cpan</code> allows a few different install \"modes\". Notably, installing system-wide (i.e. you are a <code>sudo</code> user) or installing to a subdirectory under your $HOME directory. This allows a non-root user to install a CPAN module even if the local sysadmin won't allow the install to <code>/usr/lib64/...</code></p>\n\n<p>Look in <code>$HOME/.cpan</code> Of particular interest is <code>$HOME/.cpan/CPAN/MyConfig.pm</code>. In that text file, look for the install related information: <code>'make_install_make_command' =&gt; q[sudo /usr/bin/make]</code>. It may or may not have the <code>sudo</code> on it. There are a few other similar options in there (<code>mbuild_install_build_command</code>). If they don't have <code>sudo</code> on them, you <em>can</em> hand edit the file.</p>\n\n<p>We'll get back to this in a bit. But, the first thing to do is to run <code>uniscan</code> under <code>strace</code>. No matter how things are configured, versioned, etc. this will record what is going on. Here's a script with the options I'd recommend for <code>strace</code>:</p>\n\n<pre><code>strace -ttt -i -f -ff -etrace=all -o /anyplace/log/whatever.spysys \\\n-eread=0,1,2,3,4,5,6,7,8,9,10 -ewrite=0,1,2,3,4,5,6,7,8,9,10 \\\n-eread=11,12,13,14,15,16,17,18,19,20,21 \\\n-ewrite=11,12,13,14,15,16,17,18,19,20,21 \\\n-eread=22,23,24,25,26,27,28,29,30,31,32 \\\n-ewrite=22,23,24,25,26,27,28,29,30,31,32 \\\n-eread=33,34,35,36,37,38,39,40,41,42,43 \\\n-ewrite=33,34,35,36,37,38,39,40,41,42,43 \\\n-eread=44,45,46,47,48,49,50,51,52,53,54 \\\n-ewrite=44,45,46,47,48,49,50,51,52,53,54 \\\n-eread=55,56,57,58,59,60,61,62,63,64,65 \\\n-ewrite=55,56,57,58,59,60,61,62,63,64,65 \\\n-eread=66,67,68,69,70,71,72,73,74,75,76 \\\n-ewrite=66,67,68,69,70,71,72,73,74,75,76 \\\n-eread=77,78,79,80,81,82,83,84,85,86,87 \\\n-ewrite=77,78,79,80,81,82,83,84,85,86,87 \\\n-eread=88,89,90,91,92,93,94,95,96,97,98 \\\n-ewrite=88,89,90,91,92,93,94,95,96,97,98 -eread=99 -ewrite=99 -x \\\n/usr/bin/whatever\n</code></pre>\n\n<p>Replace the <code>/anyplace/...</code> with something suitable for your system. Replace <code>/usr/bin/whatever</code> with the <code>uniscan</code> command that is failing. If you normally run <code>uniscan</code> as root, you can prefix <code>strace</code> with <code>sudo</code></p>\n\n<p>Note that these options to <code>strace</code> generate a <em>lot</em> of output but they don't leave anything of value out. Eventually, the <code>uniscan</code> command will abort [as you've already been experiencing], but, now, the <code>strace</code> output will have the reason why.</p>\n\n<p>Specifically, by sifting through the log output, you can find the exact full path of the failing <code>Moose.so</code>. That is, <code>perl</code> will open a Moose related file (successfully) and soon thereafter output the failure message to stderr. The moose file might be in <code>/usr/lib64/...</code> or it might be in some totally strange place like <code>/usr/local/lib64/...</code> or, even stranger, <code>/usr/lib64/uniscan/lib/Moose/...</code>. But, this now tells us <em>where</em> we want to rebuild and install moose to.</p>\n\n<p><strong>Note:</strong> As you may have noticed, my original answer got edited [pedantically] for grammar, but, materially to replace my recommendation for using <code>find</code> [which I didn't approve of].</p>\n\n<p>Anyway, to match up the <code>cpan</code> and <code>strace</code> stuff. When you used <code>cpan</code>, it may have run in the \"install to <code>$HOME/...</code>\" mode, which, IIRC is the default. So, if that were the case (i.e. check <code>MyConfig.pm</code>), you may find the updated packages under your home directory rather than the desired system-wide directories. So, to help verify this, do <code>find $HOME -name '*Moose*'</code> and see what comes up.</p>\n\n<p>So, based on the <code>strace</code> filenames, the timestamps on the files <em>should</em> match up with the time that you did your <code>cpan</code> commands. But, I'm betting they won't.</p>\n\n<p>Under <code>$HOME/.cpan</code> there is a subdirectory <code>$HOME/.cpan/build</code>. This is where the <code>cpan</code> command downloads and stores the package files. It also builds the packages there. If your invocation of <code>cpan</code> touched on Moose, there should be some <code>*Moose*</code> files and directories there.</p>\n\n<p>Whenever I've had a \"bad\" package, IIRC, I just removed it from <code>$HOME/.cpan/build</code> (and some of the dependent packages) and then did <code>install</code> again. Things get redownloaded, rebuilt, and reinstalled.</p>\n\n<p>From the <code>strace</code> we now <em>know</em> which perl interpreter was used (probably <code>/usr/bin/perl</code>), where it got the moose file from. The moose file should be under one of the <code>@INC</code> directories. If so, fine. If not, this means that the \"wrapper\" script for <code>uniscan</code> is setting up a non-standard path for Moose, which is the reason to do the strace: to confirm this or not.</p>\n\n<p>Then, fix the <code>MyConfig.pm</code> if needed. If it was missing <code>sudo</code>, that may be all you need. Then, just do <code>install Moose</code>.</p>\n\n<p>You could remove <code>$HOME/.cpan/build</code> first if you wanted.</p>\n"}, {"tags": [], "owner": {"reputation": 4721, "user_id": 118220, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/67fec47f818def391c3dfd3ddbe6c4ce?s=128&d=identicon&r=PG", "display_name": "Cheezmeister", "link": "https://stackoverflow.com/users/118220/cheezmeister"}, "is_accepted": false, "score": 2, "last_activity_date": 1605674254, "creation_date": 1605674254, "answer_id": 64887177, "question_id": 38155552, "link": "https://stackoverflow.com/questions/38155552/uniscan-loadable-library-and-perl-binaries-are-mismatched/64887177#64887177", "title": "Uniscan: loadable library and perl binaries are mismatched", "body": "<p>A simple <code>cpan -r</code> fixed the problem for me. It took a few dozen minutes to run.</p>\n<p>This is already hinted at in Craig Estey's <a href=\"https://stackoverflow.com/a/38155901/118220\">accepted answer</a>, but perhaps some readers would like to give it a shot, and read more about the how &amp; why while waiting for it to complete.</p>\n"}], "owner": {"reputation": 1454, "user_id": 2414842, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/sjcCk.jpg?s=128&g=1", "display_name": "Fabiotk", "link": "https://stackoverflow.com/users/2414842/fabiotk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3240, "favorite_count": 0, "accepted_answer_id": 38155901, "answer_count": 2, "score": 1, "last_activity_date": 1605674254, "creation_date": 1467421643, "question_id": 38155552, "link": "https://stackoverflow.com/questions/38155552/uniscan-loadable-library-and-perl-binaries-are-mismatched", "title": "Uniscan: loadable library and perl binaries are mismatched", "body": "<p>Uniscan is a tool for scanning websites which comes in kali linux and other pen tests distros. I used to use it weekly to test my applications but after some updates of my linux tools it is now giving the following error when I run it:</p>\n\n<blockquote>\n  <p>xs/Moose.c: loadable library and perl binaries are mismatched (got handshake key 0xdb00080, needed 0xdb80080)</p>\n</blockquote>\n\n<p>My current perl version is <code>5.24.0</code>. I read somewhere that this problem can be bypassed if I downgrade perl version but I didn't found to which version it should be downgraded, I also tried all versions that are available at my package manager cache, none worked, it actually changed the <code>.c</code> file that got the handshake mismatch. I also tried updating Uniscan to the most recent version (6.3.1), also nothing.<br></p>\n\n<p>Anyway, does anyone know how to solve this? Thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467410269, "post_id": 38154174, "comment_id": 63737982, "body": "Also see <a href=\"http://perldoc.perl.org/perlobj.html#Writing-Constructors\" rel=\"nofollow noreferrer\"><code>Inheritance--Writing Constructors in perlobj</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1467595558, "last_edit_date": 1467595558, "creation_date": 1467409354, "answer_id": 38154207, "question_id": 38154174, "link": "https://stackoverflow.com/questions/38154174/can-i-make-a-perl-subclass-without-implementing-a-child-constructor/38154207#38154207", "title": "Can I make a Perl subclass without implementing a child constructor?", "body": "<p>Yes.</p>\n\n<p>You effectively have the following:</p>\n\n<pre><code>sub new {\n   return bless({});\n}\n</code></pre>\n\n<p>Replace it with the following:</p>\n\n<pre><code>sub new {\n   my $class = shift;\n   return bless({}, $class);\n}\n</code></pre>\n\n<p>Basically, always use <a href=\"http://perldoc.perl.org/functions/bless.html\" rel=\"nofollow\"><code>bless</code></a>'s two-argument form.</p>\n\n<hr>\n\n<p>How I write my constructors:</p>\n\n<ul>\n<li><p>Base classes:</p>\n\n<pre><code>sub new {\n   my ($class, ...) = @_;\n   my $self = bless({}, $class);\n   $self-&gt;{...} = ...;\n   return $self;\n}\n</code></pre></li>\n<li><p>Derived classes:</p>\n\n<pre><code>sub new {\n   my ($class, ...) = @_;\n   my $self = $class-&gt;SUPER::new(...);\n   $self-&gt;{...} = ...;\n   return $self;\n}\n</code></pre></li>\n</ul>\n\n<p>I like the symmetry.</p>\n"}], "owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 2, "accepted_answer_id": 38154207, "answer_count": 1, "score": 3, "last_activity_date": 1467595558, "creation_date": 1467409147, "last_edit_date": 1467476109, "question_id": 38154174, "link": "https://stackoverflow.com/questions/38154174/can-i-make-a-perl-subclass-without-implementing-a-child-constructor", "title": "Can I make a Perl subclass without implementing a child constructor?", "body": "<p>Is it possible in Perl to make a subclass without implementing a constructor? I don't need any subclass-specific constructor behaviour, so I'd like to inherit from the parent.</p>\n\n<p>In this example, I have a base class <code>Base.pm</code> and a child class <code>Child.pm</code>. The <code>Child</code> class should simply override one of its parent's methods:</p>\n\n<pre><code># test.pl\nuse strict;\nuse warnings;\nuse Child;\n\nmy $o = Child-&gt;new();\n$o-&gt;exec();\n</code></pre>\n\n<p>-</p>\n\n<pre><code># Base.pm\npackage Base;\n\nsub new{\n    my $self = {};\n\n    bless $self;\n    return $self;\n}\n\nsub exec{\n    my $self = shift;\n    die \"I'm in the Base class\\n\";\n}\n\n1;\n</code></pre>\n\n<p>-</p>\n\n<pre><code># Child.pm\npackage Child;\n\nuse Base;\n@ISA = ('Base');\n\nsub exec{\n    my $self = shift;\n\n    die \"OVERRIDE in child\\n\";\n}\n\n1;\n</code></pre>\n\n<p>When I run test.pl, the <em>Base class's</em> exec method gets executed (I assume it's because the object gets blessed as <code>Base</code> in the <code>Base.pm</code> constructor). </p>\n\n<pre><code>$ ./test.pl \nI'm the Base class\n</code></pre>\n\n<p>Is there a way to implement a child class without having to reimplement a constructor? </p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1467398893, "post_id": 38152131, "comment_id": 63733727, "body": "You mean you want to remove the timezone offset? (<code>-04:00</code> in your first string)"}, {"owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467398972, "post_id": 38152131, "comment_id": 63733778, "body": "@ThisSuitIsBlackNot yeah actually i need to remove that (-4.00) and that &quot;2016-06-30T09:00:00-04:00&quot; of type string and i need to convert to DateTime object!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467399084, "post_id": 38152131, "comment_id": 63733836, "body": "Which timezone should the DateTime object use?"}, {"owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467399133, "post_id": 38152131, "comment_id": 63733863, "body": "@ThisSuitIsBlackNot EST time for my code."}, {"owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "reply_to_user": {"reputation": 3881, "user_id": 5024519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oyILP.jpg?s=128&g=1", "display_name": "Matt Raines", "link": "https://stackoverflow.com/users/5024519/matt-raines"}, "edited": false, "score": 0, "creation_date": 1467399547, "post_id": 38152131, "comment_id": 63734048, "body": "@MattRaines Hi, i&#39;m not sure how to get the DateTime object from the answers to the question you mentioned, can you please help me in this? Also, it is a different format than i mentioned."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467399649, "post_id": 38152131, "comment_id": 63734074, "body": "Your original question was unclear so I edited it based on your comments. I think I understood what you&#39;re trying to do, but please edit further if I got something wrong."}, {"owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467399749, "post_id": 38152131, "comment_id": 63734114, "body": "@ThisSuitIsBlackNot Thanks for editing this! its good now."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467399774, "post_id": 38152131, "comment_id": 63734126, "body": "Also note that your original question was a bit of an <a href=\"http://meta.stackexchange.com/q/66377/234299\">XY problem</a>: there&#39;s no need to remove the <code>-04:00</code> from the first string to convert it to a DateTime object."}, {"owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1467399858, "post_id": 38152131, "comment_id": 63734158, "body": "@ThisSuitIsBlackNot Ah, okay! Then, how can i convert that to DateTime Object (object looks similar to &quot;2016-07-01T15:37:25&quot; upon printing the value)?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467402270, "post_id": 38152131, "comment_id": 63735202, "body": "<code>print $dt;</code>. That&#39;s the default output format."}, {"owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467402543, "post_id": 38152131, "comment_id": 63735308, "body": "@ikegami sorry i&#39;m not able to get you! can you please elaborate?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1467402684, "post_id": 38152131, "comment_id": 63735361, "body": "You asked hwo to print the DateTime so it looks like <code>2016-07-01T15:37:25</code>. If <code>$dt</code> contains the DateTime object, you&#39;d use <code>print($dt);</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1467409193, "post_id": 38152131, "comment_id": 63737694, "body": "This question was marked as a duplicate of a question that didn&#39;t even touch time zone conversions, which is a key component of this question."}], "answers": [{"comments": [{"owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "edited": false, "score": 0, "creation_date": 1467406271, "post_id": 38153159, "comment_id": 63736695, "body": "This gives a error like &quot;I don&#39;t recognise the timezone 8. at trydate.pl line 21.&quot; when there is a value other than 00 in seconds eg: 2016-07-01T16:32:08-04:00. Why it is so? how to discard this error?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "edited": false, "score": 0, "creation_date": 1467406619, "post_id": 38153159, "comment_id": 63736832, "body": "No, <code>$format1-&gt;parse_datetime(&#39;2016-07-01T16:32:08-04:00&#39;)</code> does not produce any error. I don&#39;t think that&#39;s what you actually passed."}, {"owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "edited": false, "score": 0, "creation_date": 1467406829, "post_id": 38153159, "comment_id": 63736900, "body": "<code>my $format1 = DateTime::Format::Strptime-&gt;new(    pattern =&gt; &quot;%Y-%m-%dT%H:%M:%S%Z&quot;,    on_error =&gt; &quot;croak&quot;, ); my $dt1 = $format1-&gt;parse_datetime(&#39;2016-07-01T16:32:08-04:00&#39;); $dt1-&gt;set_time_zone(&quot;EST&quot;); print &quot;dt1: 2016-07-01T16:32:08-04:00&quot; . $dt1-&gt;strftime(&quot;%Y-%m-%dT%H:%M:%SZ&quot;).&quot;\\n\\n&quot;;</code>"}, {"owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "edited": false, "score": 0, "creation_date": 1467406896, "post_id": 38153159, "comment_id": 63736931, "body": "The above mentioned is the code i have ran, results in <code>I don&#39;t recognise the timezone 8. at trydate.pl line 21.</code>. But, if i change the &quot;08&quot; to &quot;00&quot; it runs and gives the output correctly!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "edited": false, "score": 0, "creation_date": 1467406933, "post_id": 38153159, "comment_id": 63736943, "body": "It produces <code>dt1: 2016-07-01T16:32:08-04:002016-07-01T15:32:08Z</code> as it should for me. Upgrade your modules? /// Note that <code>$dt1-&gt;set_time_zone(&quot;EST&quot;);</code> is wrong, as I previously explained. Do you perhaps mean <code>$dt1-&gt;set_time_zone(&quot;America&#47;New_York&quot;);</code> or <code>$dt1-&gt;set_time_zone(&quot;local&quot;);</code>?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1467409621, "last_edit_date": 1467409621, "creation_date": 1467403323, "answer_id": 38153159, "question_id": 38152131, "link": "https://stackoverflow.com/questions/38152131/how-can-i-convert-two-dates-with-different-formats-to-datetime-objects-so-i-can/38153159#38153159", "title": "How can I convert two dates with different formats to DateTime objects so I can compare them?", "body": "<p>First of all, <code>EST</code> is used to refer to a multitude of different time zone offsets. Presumably, you meant <code>UTC-05:00</code>.</p>\n\n<p>Second of all, if one is to perform datetime arithmetic, one rarely wants to deal with offsets; one almost always wants time zones associated with a geographical location (such as <code>America/New_York</code>). <code>America/New_York</code> would be a suitable choice for use below, but I used the more flexible <code>local</code> instead.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse DateTime::Format::Strptime qw( );\n\nmy $format1 = DateTime::Format::Strptime-&gt;new(\n   pattern =&gt; \"%Y-%m-%dT%H:%M:%S%Z\",\n   on_error =&gt; \"croak\",\n);\n\nmy $format2 = DateTime::Format::Strptime-&gt;new(\n   pattern   =&gt; \"%Y-%m-%dT%H:%M:%S\",\n   time_zone =&gt; \"local\",\n   on_error  =&gt; \"croak\",\n);\n\nmy $dt1 = $format1-&gt;parse_datetime('2016-06-30T09:00:00-04:00');\nmy $dt2 = $format2-&gt;parse_datetime('2016-07-01T15:37:25');\n</code></pre>\n\n<p>Then, you can do whatever you want. You mentioned you wanted to compare them, which can be done using numerical comparison operators (e.g. <code>$dt1 &lt; $dt2</code>).</p>\n\n<p>The following example converts the timestamps into RFC3339 timestamps (the timestamp format used by internet standards):</p>\n\n<pre><code>$dt1-&gt;set_time_zone(\"UTC\");\nsay \"dt1: \" . $dt1-&gt;strftime(\"%Y-%m-%dT%H:%M:%SZ\");\n\n$dt2-&gt;set_time_zone(\"UTC\");\nsay \"dt2: \" . $dt2-&gt;strftime(\"%Y-%m-%dT%H:%M:%SZ\");\n</code></pre>\n"}], "owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467409621, "creation_date": 1467398722, "last_edit_date": 1467399599, "question_id": 38152131, "link": "https://stackoverflow.com/questions/38152131/how-can-i-convert-two-dates-with-different-formats-to-datetime-objects-so-i-can", "title": "How can I convert two dates with different formats to DateTime objects so I can compare them?", "body": "<p>I need to convert the following strings to <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a> objects so I can compare them:</p>\n\n<pre><code>2016-06-30T09:00:00-04:00\n2016-07-01T15:37:25\n</code></pre>\n\n<p>Both objects should use the EST timezone. How can I do this?</p>\n"}, {"tags": ["perl", "web-services", "soap", "otrs"], "comments": [{"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1467475133, "post_id": 38149708, "comment_id": 63752125, "body": "Would it be possible to get your code related to this issue?"}, {"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "edited": false, "score": 0, "creation_date": 1469516194, "post_id": 38149708, "comment_id": 64554479, "body": "Please check the web service log, via the Web Service Debugger, the OTRS log file or the web server log, in that order. You will most probably contain a pointer to your problem."}], "owner": {"reputation": 11, "user_id": 6538947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1381a8f33a840435c084ef9b8dbf558d?s=128&d=identicon&r=PG&f=1", "display_name": "Tigus7", "link": "https://stackoverflow.com/users/6538947/tigus7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 404, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1467391839, "creation_date": 1467388981, "last_edit_date": 1467391839, "question_id": 38149708, "link": "https://stackoverflow.com/questions/38149708/otrs-webservice-soap-ticketcreate-not-returning", "title": "OTRS WebService SOAP TicketCreate not returning", "body": "<p>I'm fairly new to OTRS and perl and i'm working with it for about 2 weeks.\nI have been creating and modifying webservice operations in perl and testing them with <code>SoapUI</code>. The version of OTRS being used is 3.3.</p>\n\n<p>Right now i'm facing a problem which i can't understand. When i make a SOAP request to call <code>TicketCreate</code> operation i don't always get a response on <code>SoapUI</code>. I found out that this issue seems to be connected with the values that are passed on the soap request.</p>\n\n<p>If i use a certain <code>QueueID</code>, <code>ServiceID</code> and <code>SLAID</code> i get a response that tells me the ticket id, ticket number and article id from the created ticket. If use other <code>QueueID</code>, <code>ServiceID</code> and <code>SLAID</code> i get nothing, <em>not even an error</em>.</p>\n\n<p>I have been putting outputs through <code>TicketCreate.pm</code> to see if the execution stalls and where. But the only thing i got to see is that everything runs and that until the last return on the code that everything is fine.</p>\n"}, {"tags": ["apache", "perl", "ssl", "mod-perl", "mod-ssl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467379395, "post_id": 38146408, "comment_id": 63722643, "body": "Your <code>perl</code> and XS modules have to be compiled with the same compiler."}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467379512, "post_id": 38146408, "comment_id": 63722751, "body": "As a readme file states, the Apache Server and Perl where built using VC++ 6.0 (SP5). So nmake should be the same Compiler, or am i wrong?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467379951, "post_id": 38146408, "comment_id": 63723109, "body": "Well, is that compiler installed? Did you check which <code>nmake</code> is being invoked? What does <code>cl</code> give you as version number? You are the only person who can know these things, so update your question with the information."}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467380524, "post_id": 38146408, "comment_id": 63723524, "body": "Updated with the Information you whished. But even if those might be a never build, is this really the core Problem ? This sounded more like a Environment variable problem to me, even if i am not this experienced in this"}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467382149, "post_id": 38146408, "comment_id": 63724682, "body": "Just a question, can this really be the Problem when i can load the module within a command line but not within the Apache? Just for my understanding as i am no expert in this. Regarding the Server : it is just used internal and not accessible public. I agree on the safety concerns, but think they are not the main issue as long as this is not going external"}], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 1, "creation_date": 1467386002, "post_id": 38147750, "comment_id": 63727210, "body": "Sorry for the delay in my Response. I tried it with your commands and got a more differntiated error message that MSCVR90.dll is missing. I am trying now to integrate it into the path and will try it then again. This takes me one step further, so it was already helpful. When i am done with trying this, i will mark your answer"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1467382707, "creation_date": 1467382707, "answer_id": 38147750, "question_id": 38146408, "link": "https://stackoverflow.com/questions/38146408/cant-load-c-apache-perl-site-lib-auto-apache2-modssl-modssl-dll/38147750#38147750", "title": "Can&#39;t load &#39;C:/Apache/Perl/site/lib/auto/Apache2/ModSSL/ModSSL.dll&#39;", "body": "<p>Without investigating too deeply, the most likely reason for your problem is that <code>perl</code>, OpenSSL, <code>mod_ssl</code> etc where compiled with a different compiler than the one you used to build <a href=\"https://metacpan.org/pod/Apache::ModSSL\" rel=\"nofollow\">Apache::ModSSL</a>.</p>\n\n<p>It seems to me that the module only tries the XS version if it thinks it's running under <code>mod_perl</code>. You can see this in the module's <a href=\"https://metacpan.org/source/OPI/Apache2-ModSSL-0.10/lib/Apache2/ModSSL.pm\" rel=\"nofollow\">Apache2/ModSSL.pm</a>:</p>\n\n<pre><code>XSLoader::load __PACKAGE__, $VERSION\n  if( exists $ENV{MOD_PERL} and $ENV{MOD_PERL}=~/mod_perl/ );\n</code></pre>\n\n<p>It only tries to load the XS component if the <code>MOD_PERL</code> environment variable exists and it contains <code>mod_perl</code>. My guess is if you did:</p>\n\n<pre>\nC:\\> set MOD_PERL=mod_perl\nC:\\> perl -MApache2::ModSSL -e \"print $Apache2::ModSSL::VERSION\"\n</pre>\n\n<p>you would encounter problems.</p>\n\n<p>In addition, I feel I must emphasize the facts that your OpenSSL version in addition to <code>perl</code> and <code>php</code> seem too old to be used safely.</p>\n"}], "owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 38147750, "answer_count": 1, "score": 0, "last_activity_date": 1467382707, "creation_date": 1467378858, "last_edit_date": 1467381655, "question_id": 38146408, "link": "https://stackoverflow.com/questions/38146408/cant-load-c-apache-perl-site-lib-auto-apache2-modssl-modssl-dll", "title": "Can&#39;t load &#39;C:/Apache/Perl/site/lib/auto/Apache2/ModSSL/ModSSL.dll&#39;", "body": "<p>I am running an Windows Server 2008 R2 Enterprise with an Apache Server installed and mod_perl &amp; mod_ssl\nI just installed Apache2::ModSSL, but i was not able to use cpan for this and had to compile it using nmake. CPAN is not working correctly on this Server and i am not able to change this.\nA perl script called via https should later be able to Access the certificate the Clients used to authenticate, thats why i want to use Apache2::ModSSL to Access the SSL variables.</p>\n\n<p>When i try to acess my test script after implementing</p>\n\n<pre><code>use Apache2::ModSSL;\n</code></pre>\n\n<p>i get an HTTP500 error from the Server. \nThe Servers error log states</p>\n\n<pre><code>[Fri Jul 01 15:01:58 2016] [error] [client 10.217.139.184] failed to resolve handler `ssl::hello': Can't load 'C:/Apache/Perl/site/lib/auto/Apache2/ModSSL/ModSSL.dll' for module Apache2::ModSSL: load_file:The specified module could not be found at C:/Apache/Perl/lib/XSLoader.pm line 68.\\n at C:/Apache/Perl/site/lib/Apache2/ModSSL.pm line 8\\nCompilation failed in require at ssl/hello.pm line 7.\\nBEGIN failed--compilation aborted at ssl/hello.pm line 7.\\nCompilation failed in require at (eval 3) line 3.\\n\n</code></pre>\n\n<p>When i check the file Location, ModSSL.dll is stored at exact this path. I also checked the file Access and granted Full acess to All Users, System, Administrators etc. Apache was restarted multiple times and it did not Change anything.\nWhen i tried to execute it in a cmd, obviously there was no Connection to check but i could execute</p>\n\n<pre><code>use Apache2::ModSSL;\nprint Apache2::ModSSL-&gt;VERSION;\n</code></pre>\n\n<p>without Problems.\nHow to solve the issue with loading the module within Apache?</p>\n\n<p>Server readme states</p>\n\n<blockquote>\n  <p>This is a binary distribution for Win32 of Perl 5.8.7 and Apache\n  2.0.54, together with mod_perl-2.0.1, mod_ssl / OpenSSL (0.9.7g), and php-4.3.11, all built with VC++ 6.0 (SP5).</p>\n</blockquote>\n\n<p><code>cl -version</code> states</p>\n\n<blockquote>\n  <p>Microsoft (R) 32-bit C/C++ Optimizing Compiler Version 15.00.30729.01 for 80x86</p>\n</blockquote>\n\n<p><code>nmake -version</code> states</p>\n\n<blockquote>\n  <p>Microsoft (R) Program Maintenance Utility Version 9.00.30729.01</p>\n</blockquote>\n"}, {"tags": ["perl", "unix", "awk", "bioinformatics", "vcf-variant-call-format"], "comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 2, "creation_date": 1467375843, "post_id": 38145268, "comment_id": 63720191, "body": "what you have tried ???"}, {"owner": {"reputation": 296, "user_id": 1961199, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd52a58aebd9ba61959668780300d424?s=128&d=identicon&r=PG", "display_name": "KJ_", "link": "https://stackoverflow.com/users/1961199/kj"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1467376650, "post_id": 38145268, "comment_id": 63720753, "body": "The tools I have are extremely limited...  GNU join and then grep -v is way too slow. I have tried some awk-scripts, but since it doesn&#39;t take into account that the two columns are sorted, it is also extremely slow"}], "answers": [{"comments": [{"owner": {"reputation": 296, "user_id": 1961199, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd52a58aebd9ba61959668780300d424?s=128&d=identicon&r=PG", "display_name": "KJ_", "link": "https://stackoverflow.com/users/1961199/kj"}, "edited": false, "score": 0, "creation_date": 1467380738, "post_id": 38145648, "comment_id": 63723677, "body": "That works perfectly! I didn&#39;t know you could use awk functions like that within another command, that saves a lot of time unneccessarily writing to disk. Just for information: Analyzing two full VCF files for the smallest chromosome (chr20, 4.7G, 53M lines) is done within 10 minutes. Thanks!"}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "reply_to_user": {"reputation": 296, "user_id": 1961199, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd52a58aebd9ba61959668780300d424?s=128&d=identicon&r=PG", "display_name": "KJ_", "link": "https://stackoverflow.com/users/1961199/kj"}, "edited": false, "score": 0, "creation_date": 1467385928, "post_id": 38145648, "comment_id": 63727167, "body": "glad to help. note that it&#39;s not an awk function but a bash function wrapping awk to eliminate repetition. Keep the research going. we&#39;ll all benefit, eventually."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": true, "score": 1, "last_activity_date": 1467376674, "creation_date": 1467376674, "answer_id": 38145648, "question_id": 38145268, "link": "https://stackoverflow.com/questions/38145268/find-matching-key-in-two-large-sorted-text-files-and-compare-values-vcf-files/38145648#38145648", "title": "Find matching key in two large sorted text files and compare values (VCF-files)", "body": "<p><code>awk</code> to the rescue!  Probably you need to split the files first, for each chunk you can do this</p>\n\n<pre><code>$ function f { awk -v OFS='\\t' '{print $1\"~\"$2,$0}' $1; }; \n  join &lt;(f file1) &lt;(f file2) | \n  awk -v OFS='\\t' '$4!~/0\\/0/ || $7!~/0\\/0/ \n                     {print $2,$3,$4 &gt; \"file1.out\"; \n                      print $5,$6,$7 &gt; \"file2.out\"}'    \n</code></pre>\n\n<p><strong>Explanation</strong> Let <code>join</code> do the work of matching the corresponding records, but need to create a synthetic key by merging first two fields.  The output carries all the info we need, apply your \"0/0\" logic in the corresponding fields and output sections of the result to the corresponding output files.</p>\n\n<pre><code>$ head file{1,2}.out                          \n\n==&gt; file1.out &lt;==                                                                                                     \n1       1002    0/0:8:8:99:PASS\n1       1003    0/1:5,3:8:99:PASS,PASS\n2       2345    1/1:8:8:99:PASS\n\n==&gt; file2.out &lt;==\n1       1002    0/1:5,3:8:99:PASS,PASS\n1       1003    0/0:8:8:99:PASS\n2       2345    1/1:8:8:99:PASS\n</code></pre>\n\n<p>You will probably better off parameterizing file names, both in and out. </p>\n"}], "owner": {"reputation": 296, "user_id": 1961199, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd52a58aebd9ba61959668780300d424?s=128&d=identicon&r=PG", "display_name": "KJ_", "link": "https://stackoverflow.com/users/1961199/kj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 38145648, "answer_count": 1, "score": 1, "last_activity_date": 1601909575, "creation_date": 1467375546, "last_edit_date": 1601909575, "question_id": 38145268, "link": "https://stackoverflow.com/questions/38145268/find-matching-key-in-two-large-sorted-text-files-and-compare-values-vcf-files", "title": "Find matching key in two large sorted text files and compare values (VCF-files)", "body": "<p>I am looking for an efficient solution to filter two datasets. Basically, I want to keep only lines that are not missing in one file for their key columns and do not have values \"0/0\" in both files.</p>\n\n<p>The input data (for those interested, a genomic VCF file that I have simplified for this question) has the following characteristics:</p>\n\n<ul>\n<li>Column 1 and 2 together are numerically sorted, unique identifiers </li>\n<li>Column 3 starts with values 0/0, 0/1 or 1/1</li>\n</ul>\n\n<p>The script would ideally do the following:</p>\n\n<ol>\n<li>Iterate over every line in sample1.dat and look up the same identifier in sample2.dat</li>\n<li>If an identifier from sample1.dat is not found in sample2.dat, do nothing </li>\n<li>If both lines contain \"0/0\", do nothing</li>\n<li>If one or both lines contain not \"0/0\", write both lines to their respective outputs\n.</li>\n</ol>\n\n<h2> INPUT </h2>\n\n<p>sample1.dat</p>\n\n<pre><code>1      1001  0/0:8:8:99:PASS\n1      1002  0/0:8:8:99:PASS\n1      1003  0/1:5,3:8:99:PASS,PASS\n2      1234  0/0:8:8:99:PASS # not present in sample2\n2      2345  1/1:8:8:99:PASS\n</code></pre>\n\n<p>sample2.dat</p>\n\n<pre><code>1      1001   0/0:8:8:99:PASS\n1      1002   0/1:5,3:8:99:PASS,PASS\n1      1003   0/0:8:8:99:PASS\n2      2345   1/1:8:8:99:PASS\n2      3456   0/1:8:8:99:PASS # not present in sample1\n</code></pre>\n\n<h2>OUTPUT</h2> \n\n<p>sample1_out.dat</p>\n\n<pre><code>1      1002  0/0:8:8:99:PASS\n1      1003  0/1:5,3:8:99:PASS,PASS\n2      2345  1/1:8:8:99:PASS\n</code></pre>\n\n<p>sample2_out.dat</p>\n\n<pre><code>1      1002   0/1:5,3:8:99:PASS,PASS\n1      1003   0/0:8:8:99:PASS\n2      2345   1/1:8:8:99:PASS\n</code></pre>\n\n<p>In this case, 1-1001 is not printed because they both have values \"0/0\", and 2-1234 and 2-3456 are not printed because they are not present in both files.</p>\n\n<p>Some notes:</p>\n\n<ul>\n<li>The files are about 260GB, but I can easily split them into multiple files that are max 18GB <em>(I split them in chromosomes, basically)</em></li>\n<li>Memory available on my machine is about 128GB </li>\n<li>Column 1 and 2 are together already sorted in numerical order</li>\n</ul>\n\n<p>Any help is greatly appreciated!</p>\n"}, {"tags": ["linux", "perl", "unix", "background-process"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1467375611, "post_id": 38145217, "comment_id": 63720035, "body": "add nohup ad the beginning of your command: nohup perl test.pl &amp;"}, {"owner": {"reputation": 12658, "user_id": 5920214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4bbe6feca39eebe96274d3f07c44d9?s=128&d=identicon&r=PG", "display_name": "tfb", "link": "https://stackoverflow.com/users/5920214/tfb"}, "edited": false, "score": 0, "creation_date": 1467375668, "post_id": 38145217, "comment_id": 63720077, "body": "run it as <code>perl test.pl &gt;&#47;dev&#47;null 2&gt;&amp;1 &amp;</code> (or direct output suitably if you want to see it).  If it may read from stdin you may want to add <code>&lt;&#47;dev&#47;null</code> which will cause it to get EOF when it reads."}, {"owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1467376075, "post_id": 38145217, "comment_id": 63720353, "body": "@Jens added that as well still not running in background"}, {"owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "reply_to_user": {"reputation": 12658, "user_id": 5920214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4bbe6feca39eebe96274d3f07c44d9?s=128&d=identicon&r=PG", "display_name": "tfb", "link": "https://stackoverflow.com/users/5920214/tfb"}, "edited": false, "score": 0, "creation_date": 1467376169, "post_id": 38145217, "comment_id": 63720412, "body": "@tfb ; this is a sample , i need to print stuff for debugging purpose as my org script is very big, do u suggest to take the print statements in a log.txt or something ?"}, {"owner": {"reputation": 12658, "user_id": 5920214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4bbe6feca39eebe96274d3f07c44d9?s=128&d=identicon&r=PG", "display_name": "tfb", "link": "https://stackoverflow.com/users/5920214/tfb"}, "edited": false, "score": 0, "creation_date": 1467377878, "post_id": 38145217, "comment_id": 63721589, "body": "@hanish Yes, but I was wrong: it almost certainly is running as Dave Sherohnman&#39;s answer says.  You only need to redirect output if you want it to outlive its parent shell."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "edited": false, "score": 0, "creation_date": 1467377763, "post_id": 38145973, "comment_id": 63721510, "body": "the output gets printed , but the process hangs as in the bash doesn&#39;t ask me for another command, i have to give a Ctrl-Z or Ctrl-C to come back to execute the next command, i tried with \\n as well still it doesn&#39;t work."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "edited": false, "score": 4, "creation_date": 1467379833, "post_id": 38145973, "comment_id": 63723006, "body": "You may need to provide a more complete example, in that case. For the posted example, the only code after the <code>print</code> is <code>while (1) { }</code>, so &quot;hanging&quot; forever, until you kill the process, is the expected (and correct) behavior."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 1, "last_activity_date": 1467377617, "creation_date": 1467377617, "answer_id": 38145973, "question_id": 38145217, "link": "https://stackoverflow.com/questions/38145217/perl-background-process-not-running-because-of-print-statement/38145973#38145973", "title": "Perl : background process not running because of print statement", "body": "<p>Your program <em>is</em> running in the background.  This can be simply verified using the <code>ps</code> command.  e.g., <code>ps ax | grep name_of_your_script</code></p>\n\n<p>The reason you aren't seeing the printed output is because of output buffering.  If you add a newline to your print (<code>print \"Hello world\\n\";</code> - note the <code>\\n</code>), then the output buffer will be flushed immediately, causing the text to appear on your screen.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 4865753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/199acf5fc7140bb178adb6c1eca81a24?s=128&d=identicon&r=PG&f=1", "display_name": "Alpesh Valia", "link": "https://stackoverflow.com/users/4865753/alpesh-valia"}, "is_accepted": false, "score": 0, "last_activity_date": 1467377909, "creation_date": 1467377909, "answer_id": 38146076, "question_id": 38145217, "link": "https://stackoverflow.com/questions/38145217/perl-background-process-not-running-because-of-print-statement/38146076#38146076", "title": "Perl : background process not running because of print statement", "body": "<p>You can use <code>perl test.pl &gt;/dev/null</code>, the output will be transferred to <code>/dev/null</code></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": false, "score": 0, "last_activity_date": 1467378551, "creation_date": 1467378551, "answer_id": 38146293, "question_id": 38145217, "link": "https://stackoverflow.com/questions/38145217/perl-background-process-not-running-because-of-print-statement/38146293#38146293", "title": "Perl : background process not running because of print statement", "body": "<p>When things other than your shell and its foreground job are writing to the terminal, you can't assume that everything will be printed in a convenient order.</p>\n\n<p>Maybe you didn't notice the prompt because it's above the background process's output. Or maybe the shell prompt has been overwritten by the output of the background process because of unfortunate timing of cursor movements.</p>\n\n<p>Those things can happen since the shell and background process are both writing to the terminal at the same time with no coordination between them.</p>\n\n<p>Your shell might be waiting for you to type a command, even though the prompt and cursor aren't where you expect them to be. Go ahead and type a command and see if it works. Or just hit Enter to get a new prompt. In zsh the <code>redisplay</code> action (Ctrl-R in vi mode) is a good thing to use in this situation. bash doesn't have an equivalent as far as I know.</p>\n"}], "owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1467612566, "creation_date": 1467375386, "last_edit_date": 1467612566, "question_id": 38145217, "link": "https://stackoverflow.com/questions/38145217/perl-background-process-not-running-because-of-print-statement", "title": "Perl : background process not running because of print statement", "body": "<p>I want to run a perl file in background ( linux machine) for which i use \n <strong>&amp;</strong> but due to print statement in it i can't run in background. \nexample: test.pl</p>\n\n<pre><code> #!/usr/bin/perl\n print \"Hello world\";\n while (1)\n {\n }\n</code></pre>\n\n<p>when i run this in background as perl test.pl <strong>&amp;</strong> it hangs , but when i comment the print statement it runs in background properly .\nMy actual code is huge this is just an example for which i need solution , \n     this is just a prototype, actually i am doing concurrent server in perl, so i need to run that in background and print the debug info, i have tried many things but unable to handle this situation of running in background, even after commenting the prints now it still doesn't run in bkgrnd</p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1467364693, "post_id": 38141222, "comment_id": 63713018, "body": "<a href=\"http://search.cpan.org/~esaym/Time-Piece-1.31/Piece.pm#Date_Parsing\" rel=\"nofollow noreferrer\"><code>Time::Piece</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1467365989, "post_id": 38141671, "comment_id": 63713871, "body": "Because I use <code>say()</code> in the program. Also 5.10 was the first version to include Time::Piece in the standard distribution (of course, users of earlier versions of Perl can install it from CPAN). But mainly, I suppose, because I consider Perl 5.10 to be the minimum acceptable version for serious Perl development."}, {"owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "edited": false, "score": 2, "creation_date": 1467374624, "post_id": 38141671, "comment_id": 63719428, "body": "I prefer to use <code>Datetime</code> &amp; Co for date/time manipulation as it&#39;s kind of more universal. For instance, <code>Time::Piece</code> will happily accept <code>&#39;Thu Jul 1 05:21:23 2016&#39;</code> (note the day name), while <code>Datetime</code> won&#39;t."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1467375030, "post_id": 38141671, "comment_id": 63719698, "body": "I don&#39;t think that your example shows that DateTime is &quot;more universal&quot;. I think it shows that Time::Piece does more error correction than DateTime :-) Both behaviours can be useful in certain circumstances and I use both modules regularly. I tend to use Time::Piece more in StackOverflow answers because of the large number of questions posed by people who claim they can&#39;t install modules from CPAN."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1467364850, "creation_date": 1467364850, "answer_id": 38141671, "question_id": 38141222, "link": "https://stackoverflow.com/questions/38141222/how-to-compare-fri-jul-1-052123-2016-datetime-format-in-perl/38141671#38141671", "title": "How to compare &quot;Fri Jul 1 05:21:23 2016&quot; datetime format in perl", "body": "<p>Use <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a> to convert your strings into objects that can be compared directly.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\n\nmy $date1 = 'Fri Jul 1 05:21:23 2016';\nmy $date2 = 'Thu Jun 30 12:00:00 2016';\n\nmy $date_format = '%a %b %d %H:%M:%S %Y';\n\nmy $tp1 = Time::Piece-&gt;strptime($date1, $date_format);\nmy $tp2 = Time::Piece-&gt;strptime($date2, $date_format);\n\nif ($tp1 &lt; $tp2) {\n  say \"$date1 is before $date2\";\n} elsif ($tp1 &gt; $tp2) {\n  say \"$date1 is after $date2\";\n} else {\n  say \"$date1 is the same as $date2\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": false, "score": 3, "last_activity_date": 1467366654, "last_edit_date": 1467366654, "creation_date": 1467365082, "answer_id": 38141761, "question_id": 38141222, "link": "https://stackoverflow.com/questions/38141222/how-to-compare-fri-jul-1-052123-2016-datetime-format-in-perl/38141761#38141761", "title": "How to compare &quot;Fri Jul 1 05:21:23 2016&quot; datetime format in perl", "body": "<p>You could use <a href=\"http://search.cpan.org/perldoc?DateTime%3A%3AFormat%3A%3AStrptime\" rel=\"nofollow\"><code>DateTime::Format::Strptime</code></a> to parse the strings into <a href=\"http://search.cpan.org/perldoc?DateTime\" rel=\"nofollow\"><code>Datetime</code></a> objects that support comparisons:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse DateTime::Format::Strptime;\n\nmy $strp = DateTime::Format::Strptime-&gt;new(pattern =&gt; '%a %b %d %H:%M:%S %Y');\n\nmy $dt1 = $strp-&gt;parse_datetime(\"Fri Jul 1 05:21:23 2016\");\nmy $dt2 = $strp-&gt;parse_datetime(\"Sat Jul 2 05:21:23 2016\");    \n\nif ($dt1 &lt; $dt2) {  # or use DateTime-&gt;compare()\n    say '$dt1 &lt; $dt2';\n}\nelsif ($dt1 == $dt2) {\n    say '$dt1 == $dt2';\n}\nelse {\n    say '$dt1 &gt; $dt2';\n}\n</code></pre>\n"}], "owner": {"reputation": 510, "user_id": 3784251, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4f490b78a846134b6208771388db3304?s=128&d=identicon&r=PG&f=1", "display_name": "user3784251", "link": "https://stackoverflow.com/users/3784251/user3784251"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1467366654, "creation_date": 1467363517, "question_id": 38141222, "link": "https://stackoverflow.com/questions/38141222/how-to-compare-fri-jul-1-052123-2016-datetime-format-in-perl", "title": "How to compare &quot;Fri Jul 1 05:21:23 2016&quot; datetime format in perl", "body": "<p>I have a datetime value in the format \"Fri Jul  1 05:21:23 2016\", how can i compare this?</p>\n\n<p>I need to do like <code>if($date1&lt;$date2) { print \"do something\"! }</code></p>\n\n<p>Kindly help to find the answer!</p>\n"}, {"tags": ["arrays", "perl", "sorting", "parameters"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467380378, "post_id": 38140665, "comment_id": 63723426, "body": "You are initializing arrays that seem to contain only numbers using strings. Not necessarily wrong <i>per se</i> but odd. Also, plain sort will use string comparisons not numeric so <code>@x = (11, 1, 7)</code> will sort as <code>1, 11, 7</code> -- which may not be what you want."}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467380192, "post_id": 38140957, "comment_id": 63723277, "body": "Left unsaid is the fact that <code>sort</code> by itself will use string comparisons even though the arrays seem to contain numbers which, for some reason, are initialized as strings."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 7, "last_activity_date": 1467362859, "creation_date": 1467362859, "answer_id": 38140957, "question_id": 38140665, "link": "https://stackoverflow.com/questions/38140665/why-does-my-perl-sub-receive-the-parameters-of-its-parent/38140957#38140957", "title": "Why does my Perl sub receive the parameters of its parent?", "body": "<p>Read the warning in <a href=\"http://p3rl.org/sort\">sort</a> and fix the syntax:</p>\n\n<pre><code>my @sortedArrayMinus2 = sort(array_minus(@array1, @array2));\n</code></pre>\n\n<p>The original syntax was telling <code>sort</code> to use <code>array_minus</code> as the comparison function.</p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 9, "last_activity_date": 1467362971, "creation_date": 1467362971, "answer_id": 38141009, "question_id": 38140665, "link": "https://stackoverflow.com/questions/38140665/why-does-my-perl-sub-receive-the-parameters-of-its-parent/38141009#38141009", "title": "Why does my Perl sub receive the parameters of its parent?", "body": "<p>This expression:</p>\n\n<pre><code>sort array_minus(@array1, @array2)\n</code></pre>\n\n<p>really means \"sort the list resulting from concatenating <code>@array1</code> and <code>@array2</code>, using <code>array_minus</code> as the comparison function\".</p>\n\n<p>As explained in <a href=\"http://perldoc.perl.org/functions/sort.html\"><code>perldoc -f sort</code></a>:</p>\n\n<blockquote>\n  <p>Warning: syntactical care is required when sorting the list returned from a function. If you want to sort the list returned by the function call <code>find_records(@key)</code>, you can use:</p>\n\n<pre><code>    my @contact = sort { $a cmp $b } find_records @key;\n    my @contact = sort +find_records(@key);\n    my @contact = sort &amp;find_records(@key);\n    my @contact = sort(find_records(@key));\n</code></pre>\n</blockquote>\n\n<p>... because otherwise you're hitting the <code>sort SUBNAME LIST</code> syntax (which exists for historical reasons: perl had <code>sort</code> long before it supported subroutine references).</p>\n"}], "owner": {"reputation": 545, "user_id": 6431035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2359f517481c9f05c5ffeb4d8c55c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Mossroy", "link": "https://stackoverflow.com/users/6431035/mossroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 38140957, "answer_count": 2, "score": 2, "last_activity_date": 1467363071, "creation_date": 1467361907, "last_edit_date": 1467363071, "question_id": 38140665, "link": "https://stackoverflow.com/questions/38140665/why-does-my-perl-sub-receive-the-parameters-of-its-parent", "title": "Why does my Perl sub receive the parameters of its parent?", "body": "<p>Here is my test code :</p>\n\n<pre><code>#!/bin/perl\nuse strict;\nuse Array::Utils qw[array_minus];\n\nsub sub1 {\n    my @array1 = qw(1 2 3);\n    my @array2 = qw(1 3 5);\n    my @arrayMinus = array_minus(@array1, @array2);\n    my @sortedArrayMinus = sort @arrayMinus;\n    print \"Result from array_minus + sort : \" . join(\",\", @sortedArrayMinus) . \"\\n\";\n    my @sortedArrayMinus2 = sort array_minus(@array1, @array2);\n    print \"Result from sort array_minus : \" . join(\",\", @sortedArrayMinus2) . \"\\n\";\n}\n\nsub1(\"a\",\"b\");\n</code></pre>\n\n<p>When I run it, it gives the following result :</p>\n\n<pre><code>Result from array_minus + sort : 2\nCan't use string (\"b\") as an ARRAY ref while \"strict refs\" in use at Array/Utils.pm line 123.\n</code></pre>\n\n<p>So, the second call to array_minus fails because of wrong parameters.</p>\n\n<p>I'm using version 0.5 of the Array::Utils library (I've manually copied it from <a href=\"http://cpansearch.perl.org/src/ZMIJ/Array-Utils-0.5/Utils.pm\" rel=\"nofollow\">http://cpansearch.perl.org/src/ZMIJ/Array-Utils-0.5/Utils.pm</a>)\nThe relevant lines of this file are :</p>\n\n<pre><code>sub array_minus(\\@\\@) {\n    my %e = map{ $_ =&gt; undef } @{$_[1]};\n    return grep( ! exists( $e{$_} ), @{$_[0]} ); \n}\n</code></pre>\n\n<p>If I debug the value of @_ in array_minus, its value is OK for the first call, but it's [ 'a', 'b' ] for the second call.</p>\n\n<p>So it behaves as if array_minus sub receives the parameters of sub1, instead of the ones I passed, but only when I also ask to sort the result on the same line. What's wrong in my code?\nI'm using Perl 5.22.1.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53, "user_id": 6361613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad84376b52d4601661f18eaecafb4e5?s=128&d=identicon&r=PG&f=1", "display_name": "l.d.", "link": "https://stackoverflow.com/users/6361613/l-d"}, "edited": false, "score": 0, "creation_date": 1467328979, "post_id": 38134684, "comment_id": 63700500, "body": "in the directory <code>&#47;opt&#47;local&#47;lib&#47;perl5</code> there are two versions of perl, 5.16.3 and 5.22."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1467329063, "post_id": 38134684, "comment_id": 63700532, "body": "are both verisons owned by the same user?"}, {"owner": {"reputation": 53, "user_id": 6361613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad84376b52d4601661f18eaecafb4e5?s=128&d=identicon&r=PG&f=1", "display_name": "l.d.", "link": "https://stackoverflow.com/users/6361613/l-d"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1467329350, "post_id": 38134684, "comment_id": 63700610, "body": "Yes, both versions are owned by the same user."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1467330123, "post_id": 38134684, "comment_id": 63700821, "body": "is that user tha same as the suer you are running cpan as? what are the permissions on <code>&#47;opt&#47;local&#47;lib&#47;perl5&#47;site_perl&#47;5.16.3</code>"}, {"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 1, "creation_date": 1467341048, "post_id": 38134684, "comment_id": 63703309, "body": "Your user does not have permission to the directory. Use Local::Lib."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1467356292, "post_id": 38134684, "comment_id": 63708174, "body": "Try running cpan as root?"}, {"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 0, "creation_date": 1467357880, "post_id": 38134684, "comment_id": 63709043, "body": "if you need an alternative perl it might be better to use perlbrew for this"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 3323479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83bd685b2d15328a6499746866ccf809?s=128&d=identicon&r=PG&f=1", "display_name": "Benyang.D", "link": "https://stackoverflow.com/users/3323479/benyang-d"}, "is_accepted": true, "score": 0, "last_activity_date": 1467361029, "creation_date": 1467361029, "answer_id": 38140397, "question_id": 38134684, "link": "https://stackoverflow.com/questions/38134684/how-to-install-htmlentities-in-perl/38140397#38140397", "title": "How to install HTML::Entities in perl", "body": "<p>It shows that the user have no authority to create files; Please run cpan with root or with --prefix</p>\n"}], "owner": {"reputation": 53, "user_id": 6361613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad84376b52d4601661f18eaecafb4e5?s=128&d=identicon&r=PG&f=1", "display_name": "l.d.", "link": "https://stackoverflow.com/users/6361613/l-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5335, "favorite_count": 0, "accepted_answer_id": 38140397, "answer_count": 1, "score": 2, "last_activity_date": 1467361029, "creation_date": 1467328263, "question_id": 38134684, "link": "https://stackoverflow.com/questions/38134684/how-to-install-htmlentities-in-perl", "title": "How to install HTML::Entities in perl", "body": "<p>When I enter</p>\n\n<pre><code>cpan[1]&gt; install HTML::Entities\n</code></pre>\n\n<p>in perl, I get</p>\n\n<pre><code>All tests successful.\nFiles=48, Tests=451,  2 wallclock secs ( 0.21 usr  0.10 sys +  1.54 cusr  0.26 csys =  2.11 CPU)\nResult: PASS\n  GAAS/HTML-Parser-3.72.tar.gz\n  /usr/bin/make test -- OK\nRunning make install\nFiles found in blib/arch: installing files in blib/lib into architecture dependent library tree\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nERROR: Can't create '/opt/local/lib/perl5/site_perl/5.16.3/darwin-thread-multi-2level/HTML'\nmkdir /opt/local/lib/perl5/site_perl: Permission denied at /opt/local/lib/perl5/5.16.3/ExtUtils/Install.pm line 494.\n\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n at -e line 1.\nmake: *** [pure_site_install] Error 13\n  GAAS/HTML-Parser-3.72.tar.gz\n  /usr/bin/make install  -- NOT OK\nFailed during this command:\n PETDANCE/HTML-Tagset-3.20.tar.gz             : install NO\n GAAS/HTML-Parser-3.72.tar.gz                 : install NO\n</code></pre>\n\n<p>Possibly the problem lies with perl trying to install to a directory called 5.16.3; my version of perl is 5.22.1. I am using a mac and the homebrew package manager. Why can't I <code>make install</code> modules in perl?</p>\n"}, {"tags": ["apache", "perl", "ubuntu", "scripting", "cgi"], "comments": [{"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467324697, "post_id": 38133966, "comment_id": 63699189, "body": "This is the only perl script I made, so.....@zdim"}, {"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467324958, "post_id": 38133966, "comment_id": 63699272, "body": "I understand @zdim, but the script above is &quot;login.pl&quot;, sorry for the confusion I have updated the question to say that this is that file. Otherwise I don&#39;t know where the error could be coming from..."}, {"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467329390, "post_id": 38133966, "comment_id": 63700619, "body": "Okay, better? @zdim, Should I add anything to make it more clear?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467329657, "post_id": 38133966, "comment_id": 63700697, "body": "I suggest that we tidy up and remove these comments which aren&#39;t of any use anymore (the first two and the last two, perhaps?).  When you hover the mouse over your comment it shows a little cross, and if you click on it the comment is deleted (with a confirmation dialog first)."}, {"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467345977, "post_id": 38133966, "comment_id": 63704452, "body": "Thank you so much for the help! Yes, firstly, I will try to write to a file, however, everytime I try that, with the updated code in the question, I get a permission denied error in the apache error.log. I&#39;ve been reading some threads on this issue and apparently changing the permissions with &quot;chmod&quot; won&#39;t solve this. Any ideas @zdim?"}, {"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1467377167, "post_id": 38133966, "comment_id": 63721097, "body": "That was the old error @PerlDog, the updated error is listed afterwards"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467393236, "post_id": 38133966, "comment_id": 63731072, "body": "@M.Barbieri  OK, this is better.  Please note that by changing the post so much all my comments (and other people&#39;s efforts who simply may have not commented) got completely invalidated.  (So I removed them.) Not a criticism, just letting you know for the future. Editing the question to clarify is great, but if it morphs into something else that&#39;s different."}, {"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467393488, "post_id": 38133966, "comment_id": 63731191, "body": "@zdim, I apologize, thank you for the advice. As I am relatively new to perl, I can get carried away in going error by error on my log and posting it here, so I can see where that could get confusing. Thank you for all the help though!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467393686, "post_id": 38133966, "comment_id": 63731270, "body": "@M.Barbieri No problem at all, it&#39;s clear that you put an effort in and tried.  It&#39;s almost an art form, posting effectively.  I still struggle.  The only way I know of is to think/work through the question to be posted carefully.  Then there&#39;s a good chance that the post will be nice and only need small adjustments or clarifications."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467393762, "post_id": 38133966, "comment_id": 63731296, "body": "@M.Barbieri  To repeat my early remark -- it would be good to tidy up this thread of comments.  All of those before PerlDog&#39;s comment are now outdated and only make this page harder to look at.  Let&#39;s remove them?"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1467383688, "last_edit_date": 1467383688, "creation_date": 1467383282, "answer_id": 38147956, "question_id": 38133966, "link": "https://stackoverflow.com/questions/38133966/why-am-i-getting-a-permission-denied-error-with-this-perl-cgi-script/38147956#38147956", "title": "Why am I getting a &quot;permission denied&quot; error with this Perl CGI script?", "body": "<p>You are getting a \"permission denied\" error because of this statement:</p>\n\n<pre><code>my $dir = dir(\"var/www/html\");\n</code></pre>\n\n<p>The path <code>var/www/html</code> is relative to the script's current working directory and it is unlikely that it exsits. What you likely want is <code>/var/www/html</code>.</p>\n\n<p>However, your script runs with the privileges of the user id under which the web server is running. In normal configurations, that user often is not allowed to write to <code>/var/www/html</code>. So, fixing that may not fix your problem.</p>\n\n<p>Further, note that you don't need or want autodie if you use <a href=\"https://metacpan.org/pod/Path::Class\" rel=\"nofollow\">Path::Class</a> or <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow\">Path::Tiny</a>: They both croak on error.</p>\n\n<p>You can try this simple script to see if everything is working:</p>\n\n<pre><code>#!/path/to/perl -T\n\nuse strict;\nuse warnings;\nuse CGI;\n\nmy $cgi = CGI-&gt;new;\nprint $cgi-&gt;header('text/plain'), $cgi-&gt;remote_host, \"\\n\";\n</code></pre>\n\n<p>Finally, it looks like you are going to overwrite the output file for each visitor.</p>\n"}], "owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 1, "accepted_answer_id": 38147956, "answer_count": 1, "score": 1, "last_activity_date": 1467383688, "creation_date": 1467324141, "last_edit_date": 1467383340, "question_id": 38133966, "link": "https://stackoverflow.com/questions/38133966/why-am-i-getting-a-permission-denied-error-with-this-perl-cgi-script", "title": "Why am I getting a &quot;permission denied&quot; error with this Perl CGI script?", "body": "<p>I am trying to make a Perl script that takes a remote host's IP address when they visit a certain website. However I can't seem to get past this apache error:</p>\n\n<p><code>Permission denied at path_to_perl_script line 19</code></p>\n\n<p>I am running a website on an Ubuntu server and I have configured Apache2 and CGI properly.</p>\n\n<p>Here is the <code>login.pl</code> script:</p>\n\n<pre><code>#!/usr/bin/perl -T\nuse CGI;\nuse DBI;\nuse strict;\nuse warnings;\nuse Path::Class;\nuse autodie;    \n\n# read the CGI params\nmy $cgi = CGI-&gt;new;\nmy $username = $cgi-&gt;param(\"username\");\nmy $password = $cgi-&gt;param(\"password\");\n\nmy $port = $cgi-&gt;remote_host();\n\nmy $dir = dir(\"var/www/html\");\nmy $file = dir-&gt;file(\"testingPerl.txt\");\nmy $file_handle = $file-&gt;openw();\n$file_handle-&gt;print($port);\n</code></pre>\n\n<p>I am fairly new to Perl and I don't quite understand why I am getting this error.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 967618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be102bfcfb8552907c47a24aec2553f3?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/967618/basil"}, "edited": false, "score": 0, "creation_date": 1467410205, "post_id": 38134000, "comment_id": 63737964, "body": "Thank you for the answer. I&#39;m really still quite new to regex- I thought I needed to use backreferences to replace something. If I do a like in perl like <code>$var =~ s&#47;\\w+\\s+\\w+(?=\\s-)&#47;$0&#47;</code>, will it by default match the whole string?"}, {"owner": {"reputation": 113, "user_id": 967618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be102bfcfb8552907c47a24aec2553f3?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/967618/basil"}, "edited": false, "score": 0, "creation_date": 1467410509, "post_id": 38134000, "comment_id": 63738047, "body": "And another question- if I wanted to allow the last column to be anything, not just a dash, would changing it to \\w+$ work, like this: <code>$var =~ s&#47;\\w+\\s+\\w+(?=\\s+\\w+$)&#47;$0&#47;</code>?"}, {"owner": {"reputation": 13556, "user_id": 1400971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9bf179b05302991fbbf9551355ac?s=128&d=identicon&r=PG", "display_name": "Ro Yo Mi", "link": "https://stackoverflow.com/users/1400971/ro-yo-mi"}, "reply_to_user": {"reputation": 113, "user_id": 967618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be102bfcfb8552907c47a24aec2553f3?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/967618/basil"}, "edited": false, "score": 0, "creation_date": 1467412724, "post_id": 38134000, "comment_id": 63738627, "body": "first question: the lookahead <code>(?=\\s-)</code> simply looks ahead to see if the next characters are a space followed by a dash. The look ahead simply looks to see if those are then next characters but it doesn&#39;t include them in the capture.  Also the search function in perl is just <code>s&#47;.....&#47;</code> in your question the trailing <code>$0&#47;</code> would be used if you&#39;re running a replace. but replacing the entire found string with $0 would yield no changes."}, {"owner": {"reputation": 13556, "user_id": 1400971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9bf179b05302991fbbf9551355ac?s=128&d=identicon&r=PG", "display_name": "Ro Yo Mi", "link": "https://stackoverflow.com/users/1400971/ro-yo-mi"}, "reply_to_user": {"reputation": 113, "user_id": 967618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be102bfcfb8552907c47a24aec2553f3?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/967618/basil"}, "edited": false, "score": 0, "creation_date": 1467412862, "post_id": 38134000, "comment_id": 63738652, "body": "Second question: Yes if you changed <code>(?=\\s+\\w+$)</code> the last column could contain any number of a-z, A-Z, 0-9, and <code>_</code> characters. The last column would not be included in the match of course, it would simply be tested to see if it exists."}, {"owner": {"reputation": 113, "user_id": 967618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be102bfcfb8552907c47a24aec2553f3?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/967618/basil"}, "edited": false, "score": 0, "creation_date": 1467416545, "post_id": 38134000, "comment_id": 63739467, "body": "I thought in order to use the match, you needed to capture it with backreferences. So <code>$var =~ s&#47;\\w+\\s+\\w+(?=\\s+\\w+$)&#47;\\&quot;$0\\&quot;&#47;</code> would have the effect I&#39;m going for?"}, {"owner": {"reputation": 13556, "user_id": 1400971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9bf179b05302991fbbf9551355ac?s=128&d=identicon&r=PG", "display_name": "Ro Yo Mi", "link": "https://stackoverflow.com/users/1400971/ro-yo-mi"}, "reply_to_user": {"reputation": 113, "user_id": 967618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be102bfcfb8552907c47a24aec2553f3?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/967618/basil"}, "edited": false, "score": 0, "creation_date": 1467425305, "post_id": 38134000, "comment_id": 63740788, "body": "The syntax looks similar but a lookahead <code>(?=....)</code>  simply checks to see if the enclosed expression matches but does not include that match in the capture, whereas a capture group like <code>(....)</code> not only captures matching text for the overall main capture, but also creates an additional seperate capture group for just that sub match."}], "tags": [], "owner": {"reputation": 13556, "user_id": 1400971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9bf179b05302991fbbf9551355ac?s=128&d=identicon&r=PG", "display_name": "Ro Yo Mi", "link": "https://stackoverflow.com/users/1400971/ro-yo-mi"}, "is_accepted": false, "score": 1, "last_activity_date": 1467324335, "creation_date": 1467324335, "answer_id": 38134000, "question_id": 38133929, "link": "https://stackoverflow.com/questions/38133929/insert-quotation-marks-around-date-near-end-of-string-in-perl-with-regex/38134000#38134000", "title": "Insert quotation marks around date near end of string in perl with regex", "body": "<h1>Description</h1>\n\n<pre class=\"lang-regex prettyprint-override\"><code>\\w+\\s+\\w+(?=\\s-)\n</code></pre>\n\n<p><strong>Replace With:</strong> <code>\"$0\"</code></p>\n\n<p><img src=\"https://www.debuggex.com/i/Op7_JA0sbSHQJFuZ.png\" alt=\"Regular expression visualization\"></p>\n\n<p><sub>** To see the image better, simply right click the image and select view in new window</sub></p>\n\n<h1>Example</h1>\n\n<p><strong>Live Demo</strong></p>\n\n<p><a href=\"https://regex101.com/r/dO1oU9/1\" rel=\"nofollow\">https://regex101.com/r/dO1oU9/1</a></p>\n\n<p><strong>Sample text</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>aaa bbb    ccc ddd -\naaa bbb ccc ddd    eee -\n</code></pre>\n\n<p><strong>After Replacement</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>aaa bbb    \"ccc ddd\" -\naaa bbb ccc \"ddd    eee\" -\n</code></pre>\n\n<h1>Explanation</h1>\n\n<pre class=\"lang-none prettyprint-override\"><code>NODE                     EXPLANATION\n----------------------------------------------------------------------\n  \\w+                      word characters (a-z, A-Z, 0-9, _) (1 or\n                           more times (matching the most amount\n                           possible))\n----------------------------------------------------------------------\n  \\s+                      whitespace (\\n, \\r, \\t, \\f, and \" \") (1 or\n                           more times (matching the most amount\n                           possible))\n----------------------------------------------------------------------\n  \\w+                      word characters (a-z, A-Z, 0-9, _) (1 or\n                           more times (matching the most amount\n                           possible))\n----------------------------------------------------------------------\n  (?=                      look ahead to see if there is:\n----------------------------------------------------------------------\n    \\s                       whitespace (\\n, \\r, \\t, \\f, and \" \")\n----------------------------------------------------------------------\n    -                        '-'\n----------------------------------------------------------------------\n  )                        end of look-ahead\n----------------------------------------------------------------------\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 967618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be102bfcfb8552907c47a24aec2553f3?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/967618/basil"}, "edited": false, "score": 0, "creation_date": 1467410628, "post_id": 38134055, "comment_id": 63738081, "body": "Thank you! So if I understand this, the first part <code>(?:\\w+\\s*){2}</code> is a lookahead looking for a word and then 0 or more spaces twice, and the second part matches whitespace then a dash?"}, {"owner": {"reputation": 13556, "user_id": 1400971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9bf179b05302991fbbf9551355ac?s=128&d=identicon&r=PG", "display_name": "Ro Yo Mi", "link": "https://stackoverflow.com/users/1400971/ro-yo-mi"}, "edited": false, "score": 1, "creation_date": 1467413083, "post_id": 38134055, "comment_id": 63738715, "body": "You&#39;ll have to be careful with this type of expression because the <code>\\s*</code> will allow zero or more spaces... and running that twice is like saying, find a string with 1 or more characters followed by 0 or more spaces, followed by 1 or more characters followed by 0 or more spaces. In other words a two character word like <code>ab</code> could be matched by this expression because it contains zero spaces between the letters <code>a</code> and <code>b</code> and zero spaces after the letter <code>b</code>. This may lead to some unexpected results."}], "tags": [], "owner": {"reputation": 76, "user_id": 3885246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62bfd0a439170a9d83b20b4c393af799?s=128&d=identicon&r=PG&f=1", "display_name": "IcyIcicle", "link": "https://stackoverflow.com/users/3885246/icyicicle"}, "is_accepted": false, "score": 1, "last_activity_date": 1467324598, "creation_date": 1467324598, "answer_id": 38134055, "question_id": 38133929, "link": "https://stackoverflow.com/questions/38133929/insert-quotation-marks-around-date-near-end-of-string-in-perl-with-regex/38134055#38134055", "title": "Insert quotation marks around date near end of string in perl with regex", "body": "<p>Demonstrated here: <a href=\"https://regex101.com/r/zD3cP9/2\" rel=\"nofollow\">https://regex101.com/r/zD3cP9/2</a></p>\n\n<p>With the pattern </p>\n\n<pre><code>((?:\\w+\\s*){2})(\\s+-)\n</code></pre>\n\n<p>executed on</p>\n\n<pre><code>aaa bbb    ccc ddd -\naaa bbb ccc ddd    eee -\n</code></pre>\n\n<p>would be</p>\n\n<pre><code>aaa bbb    \"ccc ddd\" -\naaa bbb ccc \"ddd    eee\" -\n</code></pre>\n\n<p>This one repeats the first subpattern twice as it looks for a dash to complete it. Useful because it is easily maintainable. </p>\n"}], "owner": {"reputation": 113, "user_id": 967618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be102bfcfb8552907c47a24aec2553f3?s=128&d=identicon&r=PG", "display_name": "Basil", "link": "https://stackoverflow.com/users/967618/basil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1467324598, "creation_date": 1467323923, "question_id": 38133929, "link": "https://stackoverflow.com/questions/38133929/insert-quotation-marks-around-date-near-end-of-string-in-perl-with-regex", "title": "Insert quotation marks around date near end of string in perl with regex", "body": "<p>I have lines of data being read into an array in perl that looks like this:</p>\n\n<pre><code>aaa bbb    ccc ddd -\naaa bbb ccc ddd    eee -\n</code></pre>\n\n<p>I am trying to inject quotation marks around specific fields in each line- the secont to last and third to last. I'd like the lines to look like this when I'm done:</p>\n\n<pre><code>aaa bbb    \"ccc ddd\" -\naaa bbb ccc \"ddd    eee\" -\n</code></pre>\n\n<p>I've tried splitting the line into an array and using the @array[-3] notation, but that split gets rid of all the whitespace being used as a delimiter. I think I need to use a backreference with a substitution- something like: </p>\n\n<pre><code>s/(\\s+[^\\s]*\\s+)$/\\\"$+\\\"/\n</code></pre>\n\n<p>Except I can't figure out how to make that match the specific fields I need and skip the last ones. Currently, it's putting the last quotation mark after the newline. </p>\n"}, {"tags": ["perl", "oop", "multiple-inheritance", "moose"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467323897, "post_id": 38133739, "comment_id": 63698900, "body": "Avoid multiple inheritance like the plague. Avoid inheritance like the flu. Where applicable, use roles instead."}], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1467325633, "post_id": 38133915, "comment_id": 63699531, "body": "It is not an answer: I ask about sharing of fields not of methods. So (IMHO) method dispatch order is not quite the thing I ask about"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1467323847, "last_edit_date": 1592644375, "creation_date": 1467323847, "answer_id": 38133915, "question_id": 38133739, "link": "https://stackoverflow.com/questions/38133739/multiple-inheritance-from-a-shared-base-class-in-perl-moose/38133915#38133915", "title": "Multiple inheritance from a shared base class in Perl Moose", "body": "<p>See <a href=\"http://modernperlbooks.com/books/modern_perl/chapter_07.html#methoddispatchorder\" rel=\"nofollow noreferrer\">Method Dispatch Order</a> in <em>Modern Perl</em>:</p>\n<blockquote>\n<p>Method dispatch order (or method resolution order or MRO) is obvious for single-parent classes. Look in the object's class, then its parent, and so on until you find the method or run out of parents. Classes which inherit from multiple parents (multiple inheritance)\u2014Hovercraft extends both Boat and Car\u2014require trickier dispatch. <em><strong>Reasoning about multiple inheritance is complex. Avoid multiple inheritance when possible.</strong></em> (emphasis mine)</p>\n<p>Perl 5 uses a depth-first method resolution strategy. It searches the class of the first named parent and all of that parent's parents recursively before searching the classes of subsequent parents. The mro pragma (Pragmas) provides alternate strategies, including the C3 MRO strategy which searches a given class's immediate parents before searching any of their parents.</p>\n</blockquote>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1467323847, "creation_date": 1467322939, "question_id": 38133739, "link": "https://stackoverflow.com/questions/38133739/multiple-inheritance-from-a-shared-base-class-in-perl-moose", "title": "Multiple inheritance from a shared base class in Perl Moose", "body": "<p>Let A, B, C, D be Moose classes.</p>\n\n<p>Let both B and C inherit from A. Let also D inherit from both B and C.</p>\n\n<p>What will happen with \"duplicate\" properties (properties from A present in both B and C)?</p>\n"}, {"tags": ["html", "perl", "cgi"], "comments": [{"owner": {"reputation": 332, "user_id": 1226168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365ffe5a8d4bfb016dc5528e49e9a7f6?s=128&d=identicon&r=PG", "display_name": "daniel souza", "link": "https://stackoverflow.com/users/1226168/daniel-souza"}, "edited": false, "score": 0, "creation_date": 1467321133, "post_id": 38133259, "comment_id": 63697836, "body": "I have no trouble with <code>print &quot;aaa &lt;bbb&gt; ccc&quot;;</code> it displays: <code>aaa &lt;bbb&gt; ccc</code>. Try to change double quotes to single quote, maybe it can escape the ignoring delimiter."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1467321570, "post_id": 38133259, "comment_id": 63698008, "body": "Are you trying the example print statement you provided by running your script from the command line, or is it a CGI script and you&#39;re viewing it&#39;s output in the browser?  In the latter case you&#39;ll need to change <code>&lt;</code> to <code>&amp;lt;</code> or the browser will intepret <code>&lt;bbb&gt;</code> as HTML. The <code>escapeHTML()</code> function will do that conversion for you."}, {"owner": {"reputation": 818, "user_id": 56565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8c65b603554811079a7ea9b7aab9c0?s=128&d=identicon&r=PG", "display_name": "gugod", "link": "https://stackoverflow.com/users/56565/gugod"}, "edited": false, "score": 0, "creation_date": 1467322460, "post_id": 38133259, "comment_id": 63698367, "body": "If I create a file named <code>a.pl</code> with that line of <code>print</code> and run <code>perl a.pl</code> in iTerm / Terminal. That produce the string exactly. So I think the environment that runs it is something different. Could you supply more info ?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6535152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcfcff1dfc7c271c03535b26fef6d0b0?s=128&d=identicon&r=PG&f=1", "display_name": "OAS", "link": "https://stackoverflow.com/users/6535152/oas"}, "edited": false, "score": 0, "creation_date": 1467322849, "post_id": 38133533, "comment_id": 63698529, "body": "Thanks, yes. It is plain text to be displayed with pre-tags. I will then substitute the &lt;&#39;s an &gt;&#39;s with the corresponding html-characters..."}, {"owner": {"reputation": 3, "user_id": 6535152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcfcff1dfc7c271c03535b26fef6d0b0?s=128&d=identicon&r=PG&f=1", "display_name": "OAS", "link": "https://stackoverflow.com/users/6535152/oas"}, "edited": false, "score": 0, "creation_date": 1467324118, "post_id": 38133533, "comment_id": 63698983, "body": "In my case, just substituting those two characters are sufficient. However, I do see that the built-in escapeHTML-function in CGI would be better in the general case, as @grant suggests."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1467321920, "creation_date": 1467321920, "answer_id": 38133533, "question_id": 38133259, "link": "https://stackoverflow.com/questions/38133259/trouble-with-printing-bbb-constructs-in-perl/38133533#38133533", "title": "Trouble with printing &lt;bbb&gt;-constructs in perl", "body": "<p>Are you displaying the output in a web browser? Then try</p>\n\n<pre><code>print \"aaa &amp;lt;bbb&amp;gt; ccc\";\n</code></pre>\n\n<p>and see the <a href=\"http://metacpan.org/pod/HTML::Entities\" rel=\"nofollow\"><code>HTML::Entities</code></a> module if you'll need to make conversions like this on other lines of text.</p>\n"}], "owner": {"reputation": 3, "user_id": 6535152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcfcff1dfc7c271c03535b26fef6d0b0?s=128&d=identicon&r=PG&f=1", "display_name": "OAS", "link": "https://stackoverflow.com/users/6535152/oas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 38133533, "answer_count": 1, "score": 0, "last_activity_date": 1467323745, "creation_date": 1467320725, "last_edit_date": 1495539853, "question_id": 38133259, "link": "https://stackoverflow.com/questions/38133259/trouble-with-printing-bbb-constructs-in-perl", "title": "Trouble with printing &lt;bbb&gt;-constructs in perl", "body": "<p>I have a small CGI perl script that I would like to print a file containing plain text to be output as html. So far, so god, however, the file contains some text enclosed with &lt; and >, ie.  <code>&lt;bbb&gt;</code>. The problem is that the <code>&lt;bbb&gt;</code> are removed. The same happens when I do a simple print statement like this:</p>\n\n<pre><code>print \"aaa &lt;bbb&gt; ccc\";\n</code></pre>\n\n<p>displays </p>\n\n<pre><code>aaa  ccc\n</code></pre>\n\n<p>I have searched around, but not been able to find the solution. Amongst others, I have found this <a href=\"https://stackoverflow.com/questions/4108678/printing-string-in-perl\">Printing string in Perl</a>, but can't really see how the answer applies?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 1, "creation_date": 1467319210, "post_id": 38132549, "comment_id": 63696908, "body": "<code>print &quot;$var1 &quot; . ( $var2 ? &quot;&lt;$var2&gt; &quot; : &#39;&#39; ) . &quot;$var3\\n&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1467318763, "post_id": 38132671, "comment_id": 63696683, "body": "could this handle the angle brackets? i.e. could it print <code>&quot;hello &lt;there&gt; my friend&quot;</code> or <code>&quot;hello my friend&quot;</code>? smartly either including or excluding the <code>&lt;&gt;</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1467318863, "post_id": 38132671, "comment_id": 63696739, "body": "@ewok  Right, I was going to ask about those angle brackets -- do you mean like literal characters?  (Or ... reading from some filehandle?)"}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1467318908, "post_id": 38132671, "comment_id": 63696768, "body": "literal characters.  I want the angle brackets to be in the printed string if <code>$var2</code> evaluates to true and omitted otherwise"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1467319009, "post_id": 38132671, "comment_id": 63696818, "body": "@ewok Right, I see.  I missed that.  I&#39;m going to add."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1467319194, "post_id": 38132671, "comment_id": 63696901, "body": "@ewok Posted, is this good enough? I&#39;m thinking through something more concise."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1467327964, "post_id": 38132671, "comment_id": 63700234, "body": "@ewok  I added another example, which may (or may not) be useful, please have a look."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1468231183, "last_edit_date": 1468231183, "creation_date": 1467318477, "answer_id": 38132671, "question_id": 38132549, "link": "https://stackoverflow.com/questions/38132549/perl-append-variable-to-string-if-it-exists/38132671#38132671", "title": "perl: append variable to string if it exists", "body": "<p>To <code>shift</code> a variable from <code>@_</code> and insert it, if it's there</p>\n\n<pre><code>print $var1 . (shift // '') . $var2;\n</code></pre>\n\n<p>For example, with a space inserted</p>\n\n<pre><code>sub concat {\n   my ($var1, $var2) = (\"Hello\", \"Friend\");\n   print $var1 . (shift // ' ') . $var2, \"\\n\";\n}\n\nconcat();\nconcat(\" my dear \");\n</code></pre>\n\n<p>There may be questions of design with spaces, please change as suitable. This prints</p>\n\n<pre>\nHello Friend\nHello my dear Friend\n</pre>\n\n<hr>\n\n<p>If the angle brackets need be inserted around the variable, with <code>$var2</code> already declared</p>\n\n<pre><code>print \"$var1 \" . (defined $var2 ? \"&lt;$var2&gt;\" : '') . \"$var3\\n\";\n</code></pre>\n\n<p>In a sub, and without declaring an extra variable</p>\n\n<pre><code>sub concat {\n    my ($var1, $var2) = (\"Hello\", \"Friend\");\n    print $var1 . (@_ ? ' &lt;' . join(' ', @_) . '&gt; ' : ' ') . $var2, \"\\n\";\n}\n\nconcat();\nconcat(\"my dear\");\nconcat(\"my\", \"very\", \"dear\");\n</code></pre>\n\n<p>Prints</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Hello Friend\nHello &lt;my dear&gt; Friend\nHello &lt;my very dear&gt; Friend\n</code></pre>\n\n<p>Again, change the handling of spaces as suitable for the application.</p>\n\n<hr>\n\n<p>You can also use <code>substr</code> conditionally on an existing string but that is more cumbersome.</p>\n"}, {"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1467320850, "post_id": 38133231, "comment_id": 63697728, "body": "how could this be enhanced to handle the angle brackets?  I don&#39;t just want <code>&quot;hello there my friend&quot;</code> I want <code>&quot;hello &lt;there&gt; my friend&quot;</code>"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1467323327, "post_id": 38133231, "comment_id": 63698698, "body": "@ewok final edit to show sanitizing before formatting to take undefined and blank string inputs into consideration; if blank strings should be represented as <code>&lt;&gt;</code>, then remove the <i><code>and length</code></i> from the grep condition."}], "tags": [], "owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "is_accepted": false, "score": 2, "last_activity_date": 1467323065, "last_edit_date": 1467323065, "creation_date": 1467320609, "answer_id": 38133231, "question_id": 38132549, "link": "https://stackoverflow.com/questions/38132549/perl-append-variable-to-string-if-it-exists/38133231#38133231", "title": "perl: append variable to string if it exists", "body": "<p>The best option is to sanitize your variables as they come in, but if you are importing a lot, it may be cleaner to grep the arguments or variable list for those that are <em>defined</em>, which filters out those that have no value.  Then you can join those with your spaces.</p>\n\n<h1><a href=\"http://codepad.org/LDdWhH4B\" rel=\"nofollow\">CodePad</a></h1>\n\n<pre><code>sub format_input{\n   map{qq{&lt;$_&gt;}} @_;\n}\n\nsub func {\n   my $var1 = \"hello\";\n   my $var2 = \"my friend\";\n   my @arr  = format_input grep{defined and length} @_;\n   my $string = join ' ', $var1, @arr, $var2;\n   print qq{$string\\n};\n}\n\nfunc(\"there\");           # hello &lt;there&gt; my friend\nfunc('foo','bar');       # hello &lt;foo&gt; &lt;bar&gt; my friend\nfunc('foo',undef,'bar'); # hello &lt;foo&gt; &lt;bar&gt; my friend\nfunc('foo','','bar');    # hello &lt;foo&gt; &lt;bar&gt; my friend\nfunc();                  # hello my friend\n</code></pre>\n\n<p>In place of <code>{defined}</code>, you could do something like <code>{/[\\w\\d]/}</code> to make sure there was a letter or digit passed in, which should take care of most blank string issues.  You could also implement a <em>trim</em> and look at <em>length</em> or some other metric to sanitize your input -- whatever best communicates your need.</p>\n\n<hr>\n\n<p><strong><em>Edit:</em></strong><br>\nBecause there could be more extensive formatting, the above created a separate subroutine, but it could have just as easily been coded as <code>my @arr = map{\"&lt;$_&gt;\"} grep {defined and length} @_;</code> with no <code>sub format_input...</code> used at all.</p>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1954, "favorite_count": 0, "accepted_answer_id": 38132671, "answer_count": 2, "score": 1, "last_activity_date": 1468231183, "creation_date": 1467318051, "question_id": 38132549, "link": "https://stackoverflow.com/questions/38132549/perl-append-variable-to-string-if-it-exists", "title": "perl: append variable to string if it exists", "body": "<p>What I want to do is create a string that, in the middle, has a certain string if a variable evaluates to true, but omits that section if it doesn't.  So I'm trying to do this:</p>\n\n<pre><code>my $var1 = \"hello\";\nmy $var2 = shift;\nmy $var3 = \"my friend\";\n\nif ($var2){\n    print \"$var1 &lt;$var2&gt; $var3\\n\";\n} else {\n    print \"$var1 $var3\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ perl test.pl\nhello my friend\n$ perl test.pl there\nhello &lt;there&gt; my friend\n</code></pre>\n\n<p>That is obviously perfectly functional, but I'm wondering if there's a way to do the check inline.  Something like:</p>\n\n<pre><code>print \"$var1 \" . (\"&lt;$var2&gt; \" if $var2) . \"$var3\\n\";\n</code></pre>\n\n<p>But that gives me a syntax error.  Or If there's a way to do it using substitution within the string, that would be even better.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1467317585, "post_id": 38132289, "comment_id": 63696028, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/7041308/how-to-match-multiple-occurrences-of-string-within-a-string-using-reg-ex\">How to match multiple occurrences of string within a string using reg ex</a>"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1467318324, "post_id": 38132289, "comment_id": 63696447, "body": "just use the global modifier to look past the first occurance. <code>\\!\\[CDATA\\[(.*?)\\]\\]&#47;g</code>"}, {"owner": {"reputation": 38, "user_id": 4312369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lb5Kz.png?s=128&g=1", "display_name": "Matt M", "link": "https://stackoverflow.com/users/4312369/matt-m"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1467318979, "post_id": 38132289, "comment_id": 63696798, "body": "thanks for the comments.  toolic - this is a small part of a script where i just need to grab the string text and have no use for the other xml data so i&#39;m trying to avoid an xml parser.  @TemporalWolf - added detail, i think my question is slightly different.  ChrisDoyle - see my edited post, this does not work but i&#39;m not sure why."}], "answers": [{"tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": true, "score": 2, "last_activity_date": 1467319042, "creation_date": 1467319042, "answer_id": 38132816, "question_id": 38132289, "link": "https://stackoverflow.com/questions/38132289/perlre-match-capturing-group-multiple-times-on-the-same-line/38132816#38132816", "title": "perlre match capturing group multiple times on the same line", "body": "<p>The issue is you are calling the match in scalar context (I.E with the if statement). Instead you should call it in list context and load all the matches into an array. then you can check the array after and print the results.</p>\n\n<pre><code>my $string = qq(&lt;tag id='1'&gt;&lt;![CDATA[this is a string of text]]&gt;&lt;tag id='2'&gt;&lt;![CDATA[this is another string of text]]&gt;&lt;tag id='3'&gt;&lt;![CDATA[this is the last string of text]]&gt;);\n\nmy @matches = $string =~ /\\!\\[CDATA\\[(.*?)\\]\\]/g;\n\nprint join(\"\\n\",@matches) if @matches;\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>this is a string of text\nthis is another string of text\nthis is the last string of text\n</code></pre>\n\n<p>if you really want to call it in scalar context then you will need to iterate ver all the matches as the perl documentation states that in scalar contect it will track the position of each match.</p>\n\n<pre><code>my $string = qq(&lt;tag id='1'&gt;&lt;![CDATA[this is a string of text]]&gt;&lt;tag id='2'&gt;&lt;![CDATA[this is another string of text]]&gt;&lt;tag id='3'&gt;&lt;![CDATA[this is the last string of text]]&gt;);\n\nwhile ($string =~ /\\!\\[CDATA\\[(.*?)\\]\\]/g){\n    print \"$1\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 2, "last_activity_date": 1467319149, "creation_date": 1467319149, "answer_id": 38132841, "question_id": 38132289, "link": "https://stackoverflow.com/questions/38132289/perlre-match-capturing-group-multiple-times-on-the-same-line/38132841#38132841", "title": "perlre match capturing group multiple times on the same line", "body": "<p>Use the \"repeated matching\" capability in Perl, <code>while(</code>...<code>/g</code>...:</p>\n\n<p>Change</p>\n\n<pre><code>if ($string =~ /\\!\\[CDATA\\[(.*?)\\]\\]/){\n</code></pre>\n\n<p>to</p>\n\n<pre><code>while ($string =~ /\\!\\[CDATA\\[(.*?)\\]\\]/g){\n</code></pre>\n"}], "owner": {"reputation": 38, "user_id": 4312369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lb5Kz.png?s=128&g=1", "display_name": "Matt M", "link": "https://stackoverflow.com/users/4312369/matt-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 0, "accepted_answer_id": 38132816, "answer_count": 2, "score": 0, "last_activity_date": 1467319149, "creation_date": 1467317002, "last_edit_date": 1592644375, "question_id": 38132289, "link": "https://stackoverflow.com/questions/38132289/perlre-match-capturing-group-multiple-times-on-the-same-line", "title": "perlre match capturing group multiple times on the same line", "body": "<p>Given the following line;</p>\n<p><code>&lt;tag id='1'&gt;&lt;![CDATA[this is a string of text]]&gt;&lt;tag id='2'&gt;&lt;![CDATA[this is another string of text]]&gt;&lt;tag id='3'&gt;&lt;![CDATA[this is the last string of text]]&gt;</code></p>\n<p>I'm trying to match the text string inside the CDATA square brackets in a way that returns every match without having to split the line first. I can accomplish this by splitting the line (see below) but am trying to better understand perl regex matching and whether I can accomplish the same using regex.</p>\n<pre><code>my $string = qq(&lt;tag id='1'&gt;&lt;![CDATA[this is a string of text]]&gt;&lt;tag id='2'&gt;&lt;![CDATA[this is another string of text]]&gt;&lt;tag id='3'&gt;&lt;![CDATA[this is the last string of text]]&gt;)\nmy @splitline = split(/\\&lt;/, $string);\nforeach(@splitline){\n   if ($_ =~ /\\!\\[CDATA\\[(.*?)\\]\\]/){\n      print &quot;$1\\n&quot;;\n   }\n}\n</code></pre>\n<p>The result of above is</p>\n<blockquote>\n<p>this is a string of text</p>\n<p>this is another string of text</p>\n<p>this is the last string of text</p>\n</blockquote>\n<p>If I try this, it only returns the first match.</p>\n<pre><code>my $string = qq(&lt;tag id='1'&gt;&lt;![CDATA[this is a string of text]]&gt;&lt;tag id='2'&gt;&lt;![CDATA[this is another string of text]]&gt;&lt;tag id='3'&gt;&lt;![CDATA[this is the last string of text]]&gt;)\nif ($string =~ /\\!\\[CDATA\\[(.*?)\\]\\]/){\n   print &quot;$1\\n&quot;;\n}\n</code></pre>\n<p>changing my regex to the following returns no data</p>\n<pre><code>$string =~ /\\!\\[CDATA\\[(.*?)+\\]\\]/g\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467314676, "post_id": 38131621, "comment_id": 63694435, "body": "This is simple, but does it have to be a one-liner? Are the files supposed to be changed in place, or new ones written, or do you want just one big file as output?"}, {"owner": {"reputation": 1537, "user_id": 4190459, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cdfcba0dd4048646431cfe45124a3eda?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4190459/alex"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467314757, "post_id": 38131621, "comment_id": 63694480, "body": "Thanks @zdim No, it doesn&#39;t have to be a one-liner. I don&#39;t care whether they&#39;re changed in place or not, and I want individual files as output."}], "answers": [{"comments": [{"owner": {"reputation": 1537, "user_id": 4190459, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cdfcba0dd4048646431cfe45124a3eda?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4190459/alex"}, "edited": false, "score": 0, "creation_date": 1467314983, "post_id": 38131716, "comment_id": 63694589, "body": "Thanks. I had tried adding the <code>&#47;g</code> flag before but it just deleted everything in all the files. This works, though, so I must&#39;ve done something wrong before. Thanks a ton!"}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": true, "score": 5, "last_activity_date": 1467314870, "creation_date": 1467314870, "answer_id": 38131716, "question_id": 38131621, "link": "https://stackoverflow.com/questions/38131621/remove-multiple-lines-from-multiple-files-multiple-times/38131716#38131716", "title": "Remove multiple lines from multiple files multiple times", "body": "<p>If what you show works for the first instance, all you should need to add is the <code>/g</code> flag to do all instances, and a shell glob to pick out all .txt files:</p>\n\n<pre><code>perl -i -p0e 's/#START.*?END/ /gs' *.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1467315729, "post_id": 38131785, "comment_id": 63694965, "body": "@CasimiretHippolyte You&#39;re right. Thank you. Updated my answer."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 3, "last_activity_date": 1467315678, "last_edit_date": 1467315678, "creation_date": 1467315184, "answer_id": 38131785, "question_id": 38131621, "link": "https://stackoverflow.com/questions/38131621/remove-multiple-lines-from-multiple-files-multiple-times/38131785#38131785", "title": "Remove multiple lines from multiple files multiple times", "body": "<p>This seems to be right for the <em><a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">flip-flop operator</a></em> </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nwhile( &lt;DATA&gt; ) {\n    print unless (/^START/ .. /^END/);\n}\n\n__DATA__\nThis is a line to keep.\nkeep me too\nSTART\nsome stuff to remove\nother to remove\nEND\nkeep me!\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>This is a line to keep.\nkeep me too\nkeep me!\n</code></pre>\n\n<p>It can also be written as a one-liner:</p>\n\n<pre><code>perl -n -e 'print unless (/^START/ .. /^END/);' input.txt &gt; output.txt\n</code></pre>\n\n<p>Or, to edit the files in-place:</p>\n\n<pre><code>perl -n -i -e 'print unless (/^START/ .. /^END/);' *.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1467356538, "last_edit_date": 1467356538, "creation_date": 1467315469, "answer_id": 38131853, "question_id": 38131621, "link": "https://stackoverflow.com/questions/38131621/remove-multiple-lines-from-multiple-files-multiple-times/38131853#38131853", "title": "Remove multiple lines from multiple files multiple times", "body": "<p>A bookkeeping thing to take care of here is opening and writing of individual files. The processing itself is handled by the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\"><code>range operator</code></a>.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @files = @ARGV;\n\nmy ($fh_in, $fh_out);\n\nforeach my $file (@files) \n{\n    my $outfile = \"new_$file\";\n\n    open $fh_in, '&lt;', $file  or die \"Can't open $file: $!\";\n    open $fh_out, '&gt;', $outfile  or die \"Can't open $outfile: $!\";\n\n    print \"Processing $file, writing to $outfile.\\n\";\n\n    while (&lt;$fh_in&gt;) {\n        print $fh_out $_ if not /^START$/ .. /^END$/;\n    }\n}\n</code></pre>\n\n<p>This is invoked as <code>script.pl file-list</code>.</p>\n\n<p>Since we use the same filehandle for reading (and the same one for writing), when a new file is opened the previous one is closed, see <a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"nofollow\"><code>perlopentut</code></a> and <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\"><code>open</code></a>. So we don't have to <a href=\"http://perldoc.perl.org/functions/close.html\" rel=\"nofollow\"><code>close</code></a></p>\n\n<blockquote>\n  <p>You don't have to close FILEHANDLE if you are immediately going to do another open on it, because open closes it for you. (See open.) </p>\n</blockquote>\n\n<p>I name the new files as <code>new_$file</code>, just to provide a working sample. You could, for example, rename the old one to <code>$file.orig</code> and new one to <code>$file</code> instead, after the <code>while</code> loop. I'd use functions from the core <a href=\"http://perldoc.perl.org/File/Copy.html\" rel=\"nofollow\"><code>File::Copy</code></a> module for this. In this case we do need to close files explicitly first.</p>\n"}], "owner": {"reputation": 1537, "user_id": 4190459, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cdfcba0dd4048646431cfe45124a3eda?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4190459/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 38131716, "answer_count": 3, "score": 0, "last_activity_date": 1467356538, "creation_date": 1467314497, "last_edit_date": 1467315462, "question_id": 38131621, "link": "https://stackoverflow.com/questions/38131621/remove-multiple-lines-from-multiple-files-multiple-times", "title": "Remove multiple lines from multiple files multiple times", "body": "<p>I have several files (<code>*.txt</code>) that I need to remove lines from. The files look like this:</p>\n\n<pre><code>This is a line to keep.\nkeep me too\nSTART\nsome stuff to remove\nother to remove\nEND\nkeep me!\n</code></pre>\n\n<p>And I want them to look like this:</p>\n\n<pre><code>This is a line to keep.\nkeep me too\nkeep me!\n</code></pre>\n\n<p>I've gotten this far:</p>\n\n<pre><code>perl -i -p0e 's/#START.*?END/ /s' file.txt\n</code></pre>\n\n<p>Which will remove the first instance of that from <code>file.txt</code>, but I can't figure out how to remove all instances from <code>file.txt</code> (and then how to apply this to all <code>*.txt</code> files?)</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1483, "user_id": 3585768, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fXsWr.jpg?s=128&g=1", "display_name": "Jonathan Benn", "link": "https://stackoverflow.com/users/3585768/jonathan-benn"}, "edited": false, "score": 0, "creation_date": 1467311119, "post_id": 38130504, "comment_id": 63692478, "body": "You need to be more clear in your question regarding the final <i>output</i> that you want to see. I wanted to help you here but didn&#39;t really understand what you wanted."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1467311275, "post_id": 38130504, "comment_id": 63692550, "body": "Ok, thank you. And what&#39;s the content of <code>$line</code>? Is it <i>one</i> set of <code>&quot;[link[filename1|path_to_file1]]&quot;</code> or <i>two</i> (or more) sets, like <code>&quot;[link[filename1|path_to_file1]] \u2026 [link[filename2|path_to_file2]]&quot;</code>?"}, {"owner": {"reputation": 927, "user_id": 1701827, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0c3a58633da3d1154e802e1a724f85aa?s=128&d=identicon&r=PG", "display_name": "Steve ", "link": "https://stackoverflow.com/users/1701827/steve"}, "reply_to_user": {"reputation": 1483, "user_id": 3585768, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fXsWr.jpg?s=128&g=1", "display_name": "Jonathan Benn", "link": "https://stackoverflow.com/users/3585768/jonathan-benn"}, "edited": false, "score": 0, "creation_date": 1467311619, "post_id": 38130504, "comment_id": 63692720, "body": "@JonathanBenn updated"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1467311664, "post_id": 38130504, "comment_id": 63692745, "body": "Maybe you need a <code>while</code> rather than <code>if</code>?"}, {"owner": {"reputation": 927, "user_id": 1701827, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0c3a58633da3d1154e802e1a724f85aa?s=128&d=identicon&r=PG", "display_name": "Steve ", "link": "https://stackoverflow.com/users/1701827/steve"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1467311669, "post_id": 38130504, "comment_id": 63692748, "body": "@PerlDog <code>$line</code> is the example text at the beginning, so multiple sets in a single line."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1467311736, "post_id": 38130504, "comment_id": 63692776, "body": "@WiktorStribi\u017cew Exactly! Just tried it out. So: <code>while($line =~ &#47;\\[link\\[(.*?)\\|(.*?)\\]?\\]&#47;g){ ... }</code>"}, {"owner": {"reputation": 1483, "user_id": 3585768, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fXsWr.jpg?s=128&g=1", "display_name": "Jonathan Benn", "link": "https://stackoverflow.com/users/3585768/jonathan-benn"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1467311837, "post_id": 38130504, "comment_id": 63692835, "body": "@PerlDog you should probably make your comment into a full answer :)"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1467312030, "post_id": 38130504, "comment_id": 63692943, "body": "Or close as a dupe of <a href=\"http://stackoverflow.com/questions/6374783/matching-a-regular-expression-multiple-times-with-perl\" title=\"matching a regular expression multiple times with perl\">stackoverflow.com/questions/6374783/&hellip;</a>, or <a href=\"http://stackoverflow.com/questions/11208924/regex-match-all-occurrences\" title=\"regex match all occurrences\">stackoverflow.com/questions/11208924/&hellip;</a>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1483, "user_id": 3585768, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fXsWr.jpg?s=128&g=1", "display_name": "Jonathan Benn", "link": "https://stackoverflow.com/users/3585768/jonathan-benn"}, "edited": false, "score": 0, "creation_date": 1467312512, "post_id": 38130504, "comment_id": 63693250, "body": "@JonathanBenn Thank you for the suggestion but Wiktor spotted it first, the OP has an answer, and the questions Wiktor refers to are indeed dupes of this one (or the other way round, for that matter)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1467313525, "post_id": 38130504, "comment_id": 63693829, "body": "@WiktorStribi\u017cew  I just got reminded of the value of some rules here.  I spent a few minutes reading through the question, and then through the comments to see whether somebody answered it.  So, let&#39;s either post the answer or indeed mark it as a duplicate -- so that people don&#39;t spend time.  (Not that my few minutes are so precious :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1467314859, "post_id": 38130504, "comment_id": 63694526, "body": "@WiktorStribi\u017cew Now when I read my comment I am not sure whether it sounds like some criticism or such-- I meant to say it&#39;d be good to mark is as duplicate (or that you post the answer)."}], "answers": [{"tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": false, "score": 0, "last_activity_date": 1467313602, "creation_date": 1467313602, "answer_id": 38131386, "question_id": 38130504, "link": "https://stackoverflow.com/questions/38130504/how-to-find-all-perl-regex-matches-within-single-line-string/38131386#38131386", "title": "How to find all perl regex matches within single line string?", "body": "<p>Use regexp match in the list context:</p>\n\n<pre><code>while ( my @row = $sth-&gt;fetchrow_array() ) {\n    my $line = $row[4];\n    my @captures = $line =~ /\\[link\\[(.*?)\\|(.*?)\\]?\\]/g;\n    while(@captures){\n        my $filename = shift @captures;\n        my $path = shift @captures;\n        print \"MATCH1: $filename\\n\";\n        print \"MATCH2: $captures\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 927, "user_id": 1701827, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0c3a58633da3d1154e802e1a724f85aa?s=128&d=identicon&r=PG", "display_name": "Steve ", "link": "https://stackoverflow.com/users/1701827/steve"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 394, "favorite_count": 0, "closed_date": 1467317392, "answer_count": 1, "score": 0, "last_activity_date": 1467313602, "creation_date": 1467310433, "last_edit_date": 1467311603, "question_id": 38130504, "link": "https://stackoverflow.com/questions/38130504/how-to-find-all-perl-regex-matches-within-single-line-string", "closed_reason": "Duplicate", "title": "How to find all perl regex matches within single line string?", "body": "<p>I need to parse a bunch of single-line text that follow a similar format:</p>\n\n<blockquote>\n  <p>This is an example instance [link[filename1|path_to_file1]] that I need to parse [link[filename2|path_to_file2]]. Here is another [link[filename3|path_to_file3]] and so on [link[filename4|path_to_file4]] </p>\n</blockquote>\n\n<p>I want to regex for every text before and after the <code>|</code> symbol.</p>\n\n<p>I have the following regex:</p>\n\n<pre><code>while ( my @row = $sth-&gt;fetchrow_array() ) {\n    my $line = $row[4];\n    if($line =~ /\\[link\\[(.*?)\\|(.*?)\\]?\\]/g){\n            print \"MATCH1: $1\\n\";\n            print \"MATCH2: $2\\n\";\n        }\n}\n</code></pre>\n\n<p>Unfortunately, it will only return me the first instance (<code>filename1</code>, <code>path_to_file1</code>). How can I change it so all instances are captured?</p>\n\n<p>I would like the following output:</p>\n\n<pre><code>MATCH1:filename1\nMATCH2:path_to_file1\nMATCH1:filename2\nMATCH2:path_to_file2\nMATCH1:filename3\nMATCH2:path_to_file3\nMATCH1:filename4\nMATCH2:path_to_file4\n</code></pre>\n"}, {"tags": ["oop", "overriding", "moose", "perl"], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1467311927, "post_id": 38129339, "comment_id": 63692886, "body": "But why on the Earth, <code>around</code> in this case <b>does</b> work? Can&#39;t the same be said about <code>around</code> to justify that it should not work?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1467321592, "post_id": 38129339, "comment_id": 63698016, "body": "Got it. But allowing <i>both</i> <code>sub</code> and <code>around</code> for the same method in one class looks like a design error for me"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 1, "creation_date": 1467321736, "post_id": 38129339, "comment_id": 63698083, "body": "There is nothing to be gained by <b><i>prohibiting</i></b> <code>sub f</code> and <code>around &#39;f&#39;</code> in the same package, because composing a role that provides <code>f</code> installs <code>f</code> as a sub in the package. So, that prohibition makes using <code>around</code> with composed methods either impossible or difficult. I haven&#39;t thought too much about it."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1467322416, "last_edit_date": 1467322416, "creation_date": 1467306192, "answer_id": 38129339, "question_id": 38129067, "link": "https://stackoverflow.com/questions/38129067/mooserole-weirdness-with-overridden-methods/38129339#38129339", "title": "Moose::Role weirdness with overridden methods", "body": "<p>The <a href=\"https://metacpan.org/pod/Moose#override-name-sub\" rel=\"nofollow\">documentation describes <em><code>override</code></em></a> as:</p>\n\n<blockquote>\n  <p>An override method is a way of explicitly saying \"I am overriding this method from my superclass\". You can call <code>super</code> within this method, and it will work as expected. The same thing can be accomplished with a normal method call and the <code>SUPER::</code> pseudo-package; it is really your choice.</p>\n</blockquote>\n\n<p>What you are doing contradicts this definition. With a role, <code>f</code> is installed in your package. You are attempting to define another <code>f</code> in the same package.</p>\n\n<p>The fact that your role is called <code>Base</code> indicates to me that you have some confusion when it comes to the difference between inheritance versus composition.</p>\n\n<p>The <a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/MethodModifiers.pod\" rel=\"nofollow\">purpose of <code>around</code></a> is to wrap a method in the current class regardless of whether it was implemented in the same package or inherited or composed:</p>\n\n<blockquote>\n  <p>Method modifiers can be used to add behavior to methods without modifying the definition of those methods.</p>\n</blockquote>\n\n<p>Just a straightforward reading of these two snippets makes the distinction clear to me.</p>\n\n<p>When you apply the role that defines <code>f</code>, that itself overrides any inherited method <code>f</code>. If you then say <code>override 'f'</code>, you are declaring your intention to override <code>f</code> again. Well, there can only be one method <code>f</code> in one class. Which one should count? The one that you get by applying the role, or the one you just defined? For all intents and purposes, the methods you get from composing a role are just like methods you defined manually in the class. There is no reason <code>a priori</code> one should be more important than the other.</p>\n\n<p>Think of this as airline travel. Think of the method modifiers as classes: First, business, economy etc. So, in first class, <code>get_dinner_menu</code> maybe wrapped with appetizers, sweets, desserts etc.</p>\n\n<p>On the other hand, <code>override</code> is like changing the flight. It's as if you are saying \"I want to fly on both TK 1 and UIA 213\". Makes no sense.</p>\n\n<p>Maybe the following script will make things a bit clearer by showing a naive implementation of <code>around</code> and overriding a method without using <code>override</code>.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\n{\n    package MyRole;\n\n    use Moose::Role;\n\n    sub f {\n        print \"in role\\n\";\n    }\n}\n\n{\n    package X;\n    use Moose;\n\n    with 'MyRole';\n\n    around 'f' =&gt; sub {\n        my ($orig, $self) = @_;\n        print \"In wrapper\\n\";\n        return $self-&gt;$orig( @_ );\n    };\n\n    {\n        my $f = \\&amp;f;\n        {\n            no warnings 'redefine';\n            *f = sub {\n                my ($self) = @_;\n                print \"In wrapper wrapper\\n\";\n                return $self-&gt;$f( @_ );\n            }\n        }\n    }\n}\n\n{\n    package Y;\n\n    use Moose;\n    with 'MyRole';\n\n    sub f {\n        print \"In overridden method\\n\";\n    }\n}\n\nprint '=-=' x 22, \"\\n\";\n\nmy $x = X-&gt;new;\n$x-&gt;f;\n\nprint '=-=' x 22, \"\\n\";\n\nmy $y = Y-&gt;new;\n$y-&gt;f;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>=-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-= \nIn wrapper wrapper                                                 \nIn wrapper                                                         \nin role                                                            \n=-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-==-= \nIn overridden method                                               </pre>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 38129339, "answer_count": 1, "score": 2, "last_activity_date": 1467322416, "creation_date": 1467305215, "question_id": 38129067, "link": "https://stackoverflow.com/questions/38129067/mooserole-weirdness-with-overridden-methods", "title": "Moose::Role weirdness with overridden methods", "body": "<p><code>Base.pm</code>:</p>\n\n<pre><code>package Base;\nuse Moose::Role;\n\nsub f {\n  my ($self) = @_;\n  print \"In role.\\n\";\n}\n\n1;\n</code></pre>\n\n<p><code>X.pm</code>:</p>\n\n<pre><code>package X;\nuse Moose;\n\nwith 'Base';\n\naround 'f' =&gt; sub {\n  my ($next, $self) = @_;\n  print \"Nevermind, we are in class X.\\n\";\n};\n\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n1;\n</code></pre>\n\n<p><code>Y.pm</code>:</p>\n\n<pre><code>package Y;\nuse Moose;\n\nwith 'Base';\n\noverride 'f' =&gt; sub {\n  my ($self) = @_;\n  print \"Nevermind, we are in class Y.\\n\";\n};\n\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n1;\n</code></pre>\n\n<p>Then X does work and Y does not. It is a weird design, as <code>override</code> is just a special case of <code>around</code> and as a special case should work also.</p>\n\n<p>Can anyone explain why this design decision and why it is so weird?</p>\n\n<pre><code>$ perl X.pm \n$ perl Y.pm \nCannot add an override method if a local method is already present at /usr/lib/i386-linux-gnu/perl5/5.22/Moose/Exporter.pm line 419\n    Moose::override('f', 'CODE(0x9c002f8)') called at Y.pm line 9\n</code></pre>\n"}, {"tags": ["regex", "perl", "splunk"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1467305116, "post_id": 38128925, "comment_id": 63689170, "body": "Isn&#39;t it more simple to extract usernames that follow a zero and to join them?"}, {"owner": {"reputation": 689, "user_id": 4678048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d4cab92f164433dabd22844a55590f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jouster500", "link": "https://stackoverflow.com/users/4678048/jouster500"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1467305702, "post_id": 38128925, "comment_id": 63689507, "body": "@CasimiretHippolyte From how I am interpreting this, it is not allowed. The users that follow a zero are users that can not be displayed. I am only concerned with the ones that follow a non-zero number"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1467306454, "post_id": 38128925, "comment_id": 63689921, "body": "It isn&#39;t very different."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467314201, "post_id": 38128925, "comment_id": 63694166, "body": "Your requirement is very hard to understand. What does this mean -- &quot;<i>The (?&lt;field&gt; is to specify the regex following the end &gt; a field name to be specified</i>&quot; ?  You say, &quot;<i>in case anyone is wondering</i>&quot; -- this is the only time you mention that <code>(?&lt;field&gt;)</code> thing. What does <code>&lt;users_online&gt;</code> mean?  I see that you took pains to describe your problem, thank you for that, but I don&#39;t get it -- I don&#39;t see why the posted answer fails, for example."}], "answers": [{"comments": [{"owner": {"reputation": 689, "user_id": 4678048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d4cab92f164433dabd22844a55590f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jouster500", "link": "https://stackoverflow.com/users/4678048/jouster500"}, "edited": false, "score": 0, "creation_date": 1467306729, "post_id": 38129440, "comment_id": 63690066, "body": "I will try the syntax <code>&#47;[1-9]0*; ([^;]+)&#47;g;</code>. I do have doubts as the last time me and another person tried this, the application failed as it couldn&#39;t identify what <code>1</code> meant"}, {"owner": {"reputation": 689, "user_id": 4678048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d4cab92f164433dabd22844a55590f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jouster500", "link": "https://stackoverflow.com/users/4678048/jouster500"}, "edited": false, "score": 0, "creation_date": 1467307060, "post_id": 38129440, "comment_id": 63690240, "body": "Unfortunately this is incorrect. I should have mentioned that <code>(?&lt;field&gt;)</code> is required to be specified. I have tried altering the regex to be before and after the group name however that provides no information at all."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 689, "user_id": 4678048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d4cab92f164433dabd22844a55590f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jouster500", "link": "https://stackoverflow.com/users/4678048/jouster500"}, "edited": false, "score": 0, "creation_date": 1467307252, "post_id": 38129440, "comment_id": 63690335, "body": "I don&#39;t know what you are trying to do, it&#39;s a bit obscure, but I posted a working code you can test here: <a href=\"https://eval.in/598580\" rel=\"nofollow noreferrer\">eval.in/598580</a>"}, {"owner": {"reputation": 689, "user_id": 4678048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d4cab92f164433dabd22844a55590f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jouster500", "link": "https://stackoverflow.com/users/4678048/jouster500"}, "edited": false, "score": 0, "creation_date": 1467307632, "post_id": 38129440, "comment_id": 63690559, "body": "I cant make the question too specific as Stack Overflow users will brush over things that are not in their expertise. I can try to make the post a little more clarified but I feel we can build off of this.   <code>(?&lt;field&gt;</code>regexstring<code>)</code> needs to be specified for the regex that matches the data. Your code works, but it lacks this portion of information."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 689, "user_id": 4678048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d4cab92f164433dabd22844a55590f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jouster500", "link": "https://stackoverflow.com/users/4678048/jouster500"}, "edited": false, "score": 0, "creation_date": 1467314410, "post_id": 38129440, "comment_id": 63694291, "body": "@Jouster500  (1) So what is that <code>(?&lt;field&gt;)</code>? Is that some regex I&#39;ve never seen?  (2) Also -- no users after <code>0</code>, right?  But in your example in your question you <i>do show</i> those users in the output you favor.  (3) In the question you say Perl strictly (whatever that means), but now you say &quot;<i>application failed as it couldn&#39;t identify what 1 meant</i>&quot;.  I don&#39;t understand.  <code>[1-9]</code> is as plain as it gets. What can one do if not that? Again, I see that you tried to explain but I don&#39;t quite understand."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1467314640, "post_id": 38129440, "comment_id": 63694412, "body": "@zdim: (2) it&#39;s because users that follow a 0 and users that dont&#39; follow a 0 have the same names in the example!"}, {"owner": {"reputation": 689, "user_id": 4678048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d4cab92f164433dabd22844a55590f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jouster500", "link": "https://stackoverflow.com/users/4678048/jouster500"}, "edited": false, "score": 0, "creation_date": 1467316916, "post_id": 38129440, "comment_id": 63695666, "body": "The question is kind of moot now however. I was able to reorganize the data so it befits the things I need. Let me tell you, there are some pretty sloppy regexs in here but it gets the job done. As for the application, its using splunk regexs.  <a href=\"http://docs.splunk.com/Documentation/Splunk/6.4.1/SearchReference/Rex\" rel=\"nofollow noreferrer\">link</a>"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1467306734, "last_edit_date": 1467306734, "creation_date": 1467306593, "answer_id": 38129440, "question_id": 38128925, "link": "https://stackoverflow.com/questions/38128925/pull-a-positioned-grouped-and-repeating-string-using-regex/38129440#38129440", "title": "Pull a positioned grouped and repeating string using regex?", "body": "<p>You can do it like this:</p>\n\n<pre><code>my $s = \"0; root.; 0; MLG.; 247; root.; 249; MLG.; 2390; toasty.; ... someNumber; username.;\";\n#                                          ^--- added\nprint join \" \", $s=~/[1-9]0*; ([^;]+)/g;\n</code></pre>\n\n<p>You only need to describe at least one digit that isn't a zero before eventual zeros and to use an appropriate character class that excludes the semicolon.</p>\n"}], "owner": {"reputation": 689, "user_id": 4678048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d4cab92f164433dabd22844a55590f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jouster500", "link": "https://stackoverflow.com/users/4678048/jouster500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1467316987, "creation_date": 1467304756, "last_edit_date": 1467316987, "question_id": 38128925, "link": "https://stackoverflow.com/questions/38128925/pull-a-positioned-grouped-and-repeating-string-using-regex", "title": "Pull a positioned grouped and repeating string using regex?", "body": "<p>Lets say I have data output such as the following:</p>\n\n<p><code>0; root.; 0; MLG.; 247; root.; 249; MLG.; 2390; toasty.;</code> ... <code>someNumber; username.;</code></p>\n\n<p>I am trying to pull the username while ignoring the number and semicolon previous to it from when the numbers are not 0, and to do this for an unknown number of times. In regards to this data the output should appear favorably as:</p>\n\n<p><code>root. MLG. toasty.</code></p>\n\n<p><strong>The syntax MUST be perl format</strong>. The application using this takes no exceptions. While I do have complete control over how this data is being presented (such as I can remove the semicolons next to the numbers and attach the unique number to the username with a period and separate with a semicolon)  I would like to know the method to do this regardless.</p>\n\n<p>Some of the many current regexs I've tried is as follows... </p>\n\n<p><em>(The <code>(?&lt;field&gt;</code> is to specify the regex following the end <code>&gt;</code> a field name to be specified and shown by the application in  case anyone is wondering)</em></p>\n\n<ul>\n<li>Pulls all data to the last semicolon starting from where the first number shown is not 0.  </li>\n</ul>\n\n<p><code>\"(?&lt;users_online&gt;[1-9].*;)\"</code></p>\n\n<ul>\n<li>Pulls all data after the first instance of non-zero number and a semicolon occurs.</li>\n</ul>\n\n<p><code>\"[1-9];(?&lt;users_online&gt;.*?)\"</code></p>\n\n<ul>\n<li>Pulls all data after the first instance of a non-zero number and a semicolon and outputs any alphanumeric values up until the next \"word\" boundry.</li>\n</ul>\n\n<p><code>\"[1-9];((?&lt;users_online&gt; \\w+\\b))\"</code></p>\n\n<p>Any and all help is appreciated.</p>\n"}, {"tags": ["perl", "datetime", "ksh", "aix", "epoch"], "comments": [{"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1467298510, "post_id": 38126359, "comment_id": 63684573, "body": "use dbl-quotes around your <code>perl</code> script instead? Also, look to see what options your <code>date</code> command offers, it is much small program to load (<code>man date</code>). Good luck."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 5782137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/e3uQ2.jpg?s=128&g=1", "display_name": "Arda G&#252;ven", "link": "https://stackoverflow.com/users/5782137/arda-g%c3%bcven"}, "edited": false, "score": 0, "creation_date": 1467300975, "post_id": 38126875, "comment_id": 63686565, "body": "Thanks. I am new on this field. I cannot give useful answer point because of my reputation sorry."}, {"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 0, "creation_date": 1492522377, "post_id": 38126875, "comment_id": 74002208, "body": "In a one-liner like this I would use <code>~~</code> instead of <code>scalar</code> and lose the parenthesesl: <code>perl -le &quot;print ~~localtime $expdateseconds&quot;</code>. On a modern perl you could also use <code>-E</code> and <code>say</code> instead of <code>-le</code> and <code>print</code>."}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": true, "score": 1, "last_activity_date": 1467298853, "creation_date": 1467298853, "answer_id": 38126875, "question_id": 38126359, "link": "https://stackoverflow.com/questions/38126359/ksh-epoch-to-datetime-format/38126875#38126875", "title": "ksh epoch to datetime format", "body": "<p>Shell variables are not expanded within single quotes. So in your code, perl is not \"seeing\" the shell variable, it is instead seeing an uninitialized perl variable whose value defaults to zero. Shell variables <em>are</em> expanded within double quotes, so in this case that's all you need to do:</p>\n\n<pre><code>expdate=`perl -le \"print scalar(localtime($expdateseconds))\"`\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 5782137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/e3uQ2.jpg?s=128&g=1", "display_name": "Arda G&#252;ven", "link": "https://stackoverflow.com/users/5782137/arda-g%c3%bcven"}, "edited": false, "score": 0, "creation_date": 1492502216, "post_id": 38127738, "comment_id": 73988450, "body": "I&#39;m too late for answer but thank you so much. I can&#39;t give positive point, sorry for that but when i can, i will."}], "tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": false, "score": 0, "last_activity_date": 1467308330, "last_edit_date": 1467308330, "creation_date": 1467301127, "answer_id": 38127738, "question_id": 38126359, "link": "https://stackoverflow.com/questions/38126359/ksh-epoch-to-datetime-format/38127738#38127738", "title": "ksh epoch to datetime format", "body": "<p>As @JeffY said, your problem is the quotes.  You can also do it without perl (assuming your <code>date</code> command is the GNU version):</p>\n\n<pre><code>expdate=`date -d @$expdateseconds`\n</code></pre>\n\n<p>Although, since you're using ksh - and really, any modern POSIX shell - I recommend that you avoid `...`, which can cause confusing behavior with quoting, and use <code>$(</code>...<code>)</code> instead. </p>\n\n<pre><code>expdate=$(date -d @$expdateseconds)\n</code></pre>\n\n<p>This isn't codereview, but I have a few other tips regarding your script.  The usual rule is to send error messages (like \"No arguments\") to standard error instead of standard out (with <code>print -u2</code>) and exit with a nonzero value (typically 1) when there's a usage error.  </p>\n\n<p>Whenever passing a parameter to a command, like <code>pwadm -q $1</code>, you run the risk of funny characters messing things up unless you double-quote the parameter: <code>pwadm -q \"$1\"</code>.</p>\n\n<p>You have an odd mixture of <code>let</code>, <code>((</code>, and <code>expr</code> in your arithmetic.  I would suggest that you declare all your numeric variables with <code>typeset -i</code><em>varname</em> and just use <code>((</code>...<code>))</code> for all arithmetic.  Inside <code>((</code>...<code>))</code>, you don't have to worry about globbing messing things up (<code>let a=b*c</code> will expand into a syntax error if you have a file in the current directory named <code>a=b.c</code>, for instance; <code>(( a=b*c ))</code> won't). You also don't need to put dollar signs on the variables (which just makes the shell convert them to a string and then parse their numeric value out again), or add 0 to them just to make sure they're numbers.</p>\n"}, {"comments": [{"owner": {"reputation": 3643, "user_id": 2165993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7430377a3d0711d479c4efc21cb7015?s=128&d=identicon&r=PG", "display_name": "Sirius", "link": "https://stackoverflow.com/users/2165993/sirius"}, "edited": false, "score": 0, "creation_date": 1615373957, "post_id": 66558385, "comment_id": 117669018, "body": "why is ksh preferable to perl and awk?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1615397563, "post_id": 66558385, "comment_id": 117680158, "body": "If you are already in the shell and the shell can do it, let the shell do it."}], "tags": [], "owner": {"reputation": 1, "user_id": 4522655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9207a23e05571b2d01884fe0196fc21e?s=128&d=identicon&r=PG&f=1", "display_name": "jelmd", "link": "https://stackoverflow.com/users/4522655/jelmd"}, "is_accepted": false, "score": 0, "last_activity_date": 1615350431, "creation_date": 1615350431, "answer_id": 66558385, "question_id": 38126359, "link": "https://stackoverflow.com/questions/38126359/ksh-epoch-to-datetime-format/66558385#66558385", "title": "ksh epoch to datetime format", "body": "<p>There is no need to use neither awk nor perl. E.g.:</p>\n<pre><code>#!/usr/bin/ksh93\n\n[[ -z $1 ]] &amp;&amp; print -u2 &quot;No Arguments&quot; &amp;&amp; exit 1\n\ntypeset -i LASTUPDATE  S\n\nX=( ${ pwdadm -q &quot;$1&quot; ; } )\nLASTUPDATE=${X[3]}\nX=${ lsuser -a maxage &quot;$1&quot; ; }\nS=${X#*=}\n(( S *= 604800 ))\n(( S += LASTUPDATE ))\nprintf &quot;$S\\n%T\\n&quot; &quot;#$S&quot;\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 5782137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/e3uQ2.jpg?s=128&g=1", "display_name": "Arda G&#252;ven", "link": "https://stackoverflow.com/users/5782137/arda-g%c3%bcven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 0, "accepted_answer_id": 38126875, "answer_count": 3, "score": 0, "last_activity_date": 1615350431, "creation_date": 1467297478, "last_edit_date": 1493190462, "question_id": 38126359, "link": "https://stackoverflow.com/questions/38126359/ksh-epoch-to-datetime-format", "title": "ksh epoch to datetime format", "body": "<p>I have a script for find the expire date of any user password. Script can find the expire date in seconds (epoch) but cannot convert this to datetime format.</p>\n\n<pre><code>#!/usr/bin/ksh\n\nif (( ${#} &lt; 1 )) ; then\n   print \"No Arguments\"\n   exit\nfi\n\nlastupdate=`pwdadm -q $1|awk '{print $3;}'`\n((lastupdate=$lastupdate+0))\nmaxagestr=`lsuser -a maxage $1`\nmaxage=${maxagestr#*=}\nlet maxageseconds=$maxage*604800\nexpdateseconds=$(expr \"$maxageseconds\" + \"$lastupdate\")\n((expdateseconds=$expdateseconds+0))\nexpdate=`perl -le 'print scalar(localtime($expdateseconds))'`\necho $expdateseconds\necho $expdate\n</code></pre>\n\n<p>In this script, expdateseconds value is true. If I type the value of expdateseconds as a parameter of localtime() function, the function show the date in datetime format.</p>\n\n<p>But if I type the $expdateseconds variable, the function does not work true and return 01.01.1970 always. </p>\n\n<p>How can I enter a variable as a parameter of localtime() function?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1467295483, "post_id": 38125491, "comment_id": 63682072, "body": "What are you actually trying to accomplish? It&#39;s doing what it says on the tin - if you give it a bad regex, it doesn&#39;t work. Are you trying to: a) prevent people using regex, b) trap errors if they do use a bad regex or c) actually match the text as a literal?"}, {"owner": {"reputation": 1, "user_id": 6533777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081fc3cf0523e97b7ee7a1628327cf26?s=128&d=identicon&r=PG&f=1", "display_name": "Zoli", "link": "https://stackoverflow.com/users/6533777/zoli"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1467300718, "post_id": 38125491, "comment_id": 63686356, "body": "Hi! Both (a) and (b). Trying to block certain regex mainly, and also tryig to avoid errors if they use the allowed ones in bad form"}], "answers": [{"comments": [{"owner": {"reputation": 12533, "user_id": 931027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWhaB.jpg?s=128&g=1", "display_name": "Kusalananda", "link": "https://stackoverflow.com/users/931027/kusalananda"}, "edited": false, "score": 0, "creation_date": 1467304503, "post_id": 38125659, "comment_id": 63688850, "body": "Definitely don&#39;t use a regex in this case! It would be too slow if they have many motifs, and a motif is <i>always</i> a simple short string."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1467295796, "creation_date": 1467295796, "answer_id": 38125659, "question_id": 38125491, "link": "https://stackoverflow.com/questions/38125491/how-to-limit-or-exclude-special-character-or-regular-expressions-in-perl/38125659#38125659", "title": "How to limit or exclude special character or regular expressions in Perl?", "body": "<p>If you don't want to use a regex, use <a href=\"http://p3rl.org/index\" rel=\"nofollow\">index</a></p>\n\n<pre><code>if (-1 != index $protein, $motif) {\n</code></pre>\n\n<p>Or, quote the regex:</p>\n\n<pre><code>if ($protein =~ /\\Q$motif/) {\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1467304426, "last_edit_date": 1467304426, "creation_date": 1467304122, "answer_id": 38128745, "question_id": 38125491, "link": "https://stackoverflow.com/questions/38125491/how-to-limit-or-exclude-special-character-or-regular-expressions-in-perl/38128745#38128745", "title": "How to limit or exclude special character or regular expressions in Perl?", "body": "<p>If you're trying to trap broken regexes - you can:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $broken_re = '.**';\neval { qr/$broken_re/; };\n\nprint \"Proceeding...\\n\";\nprint \"Eval broke: $@\\n\" if $@;;\n</code></pre>\n\n<p>Thus you can trap anything that just doesn't work.</p>\n\n<p>Limiting regular expressions though, is considerably harder. Because you ... pretty much have to regex your regex, and that's a road to insanity. However, you can make use of e.g. <code>quotameta</code> if you want to escape <em>all</em> special characters, or e.g. <code>\\Q</code> and <code>\\E</code> to escape the metachars. </p>\n\n<p>But you could <em>perhaps</em> whitelist elements in your regex, but I'd be wary of that - a partially working/partially broken regex engine, was difficult. </p>\n"}], "owner": {"reputation": 1, "user_id": 6533777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081fc3cf0523e97b7ee7a1628327cf26?s=128&d=identicon&r=PG&f=1", "display_name": "Zoli", "link": "https://stackoverflow.com/users/6533777/zoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1467304426, "creation_date": 1467295404, "question_id": 38125491, "link": "https://stackoverflow.com/questions/38125491/how-to-limit-or-exclude-special-character-or-regular-expressions-in-perl", "title": "How to limit or exclude special character or regular expressions in Perl?", "body": "<p>I ask user to enter a motif for search with standard keyboard input. </p>\n\n<pre><code>do {\n    print \"Enter a motif to search for: \";\n    $motif = &lt;STDIN&gt;;\n    chomp $motif;\n    if ( $protein =~ /$motif/ ) {\n        print \"I found it!\\n\\n\";\n    } else {\n        print \"I couldn\\'t find it.\\n\\n\";\n    }\n} until ( $motif =~ /^\\s*$/ );\n</code></pre>\n\n<p>The problem is that if user types in a regular expression or special character set, such as \"TTG**\", the program run into error:</p>\n\n<pre><code>Enter a motif to search for: TTG**\nNested quantifiers in regex; marked by &lt;-- HERE in m/DE** &lt;-- HERE / at example_\n5-3.txt line 35, &lt;STDIN&gt; line 9.\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1467309813, "post_id": 38124947, "comment_id": 63691816, "body": "About the <code>&#47;o</code> modifier, the <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">doc</a> says <code>o  - pretend to optimize your code, but actually introduce bugs</code>."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1467294736, "post_id": 38125127, "comment_id": 63681408, "body": "This would be the approach I&#39;d take - trying to build conditional logic like this in <code>regex</code> is at best, error prone and likely to be confusing to future readers. Where applying multiple tests is much clearer."}, {"owner": {"reputation": 87, "user_id": 2481034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f92ff8eb2bd22239172688846886edb?s=128&d=identicon&r=PG", "display_name": "user2481034", "link": "https://stackoverflow.com/users/2481034/user2481034"}, "edited": false, "score": 0, "creation_date": 1467294809, "post_id": 38125127, "comment_id": 63681453, "body": "I forgot to tell, that &quot;asse44.domain&quot; can be &quot;asset56.domain&quot; for example. Random numbers.  And I don&#39;t like that AND/OR ... There must be a way that do it without AND/OR. But If I will not find better way, I will try your. Thx."}, {"owner": {"reputation": 506, "user_id": 3359563, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/436f40e356a2a4f00ef7ff7de727db15?s=128&d=identicon&r=PG", "display_name": "Ramzendo", "link": "https://stackoverflow.com/users/3359563/ramzendo"}, "edited": false, "score": 0, "creation_date": 1467294945, "post_id": 38125127, "comment_id": 63681569, "body": "then you could try this: [^asset[0-9]domain[^domain1]    Here is a demo: <a href=\"https://regex101.com/r/rJ4vC6/1\" rel=\"nofollow noreferrer\">regex101.com/r/rJ4vC6/1</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1467295154, "post_id": 38125127, "comment_id": 63681752, "body": "There&#39;s probably a way to do it without a logic test - but it&#39;ll be unclear what the regex is doing, so it&#39;s a bad idea."}], "tags": [], "owner": {"reputation": 506, "user_id": 3359563, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/436f40e356a2a4f00ef7ff7de727db15?s=128&d=identicon&r=PG", "display_name": "Ramzendo", "link": "https://stackoverflow.com/users/3359563/ramzendo"}, "is_accepted": false, "score": 2, "last_activity_date": 1467295994, "last_edit_date": 1467295994, "creation_date": 1467294622, "answer_id": 38125127, "question_id": 38124947, "link": "https://stackoverflow.com/questions/38124947/perl-regular-expression-with-exception/38125127#38125127", "title": "Perl regular expression with exception", "body": "<p>Just some idea:</p>\n\n<pre><code>if ( $_ =~ /domain/ and (not $_ =~ /domain1/ or $_ =~ /asset44/) ){\n   # do whatever\n}\n</code></pre>\n\n<p>UPDATE:</p>\n\n<pre><code> [^asset[0-9]domain[^domain1]\n</code></pre>\n\n<p>Here is a demo: <a href=\"http://regex101.com/r/rJ4vC6/1\" rel=\"nofollow\">regex101.com/r/rJ4vC6/1</a></p>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 2481034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f92ff8eb2bd22239172688846886edb?s=128&d=identicon&r=PG", "display_name": "user2481034", "link": "https://stackoverflow.com/users/2481034/user2481034"}, "edited": false, "score": 0, "creation_date": 1467295104, "post_id": 38125198, "comment_id": 63681702, "body": "Your example matching &quot;asset&quot; word in &quot;asset.domain&quot; and that&#39;s all. But I need that match 2 strings of 4. It&#39;s &quot;domain&quot; and &quot;asset.domain&quot;."}, {"owner": {"reputation": 6055, "user_id": 956660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67d04ae3dfdf060c4a2fa2dfea9b6b22?s=128&d=identicon&r=PG", "display_name": "Cyrbil", "link": "https://stackoverflow.com/users/956660/cyrbil"}, "reply_to_user": {"reputation": 87, "user_id": 2481034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f92ff8eb2bd22239172688846886edb?s=128&d=identicon&r=PG", "display_name": "user2481034", "link": "https://stackoverflow.com/users/2481034/user2481034"}, "edited": false, "score": 0, "creation_date": 1467296317, "post_id": 38125198, "comment_id": 63682731, "body": "Do you mean that you need 2 results from the regex (see <a href=\"https://regex101.com/r/sN6wH7/3\" rel=\"nofollow noreferrer\">regex101.com/r/sN6wH7/3</a>) ?"}, {"owner": {"reputation": 87, "user_id": 2481034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f92ff8eb2bd22239172688846886edb?s=128&d=identicon&r=PG", "display_name": "user2481034", "link": "https://stackoverflow.com/users/2481034/user2481034"}, "edited": false, "score": 0, "creation_date": 1467368540, "post_id": 38125198, "comment_id": 63715531, "body": "Sorry if my question was was not precise. Your regular good, but not good for string if there will me for example &quot;Ninja was asset.domain and domain1&quot;, because in your code ^ and $.  I already found solution and thx again for your help."}], "tags": [], "owner": {"reputation": 6055, "user_id": 956660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67d04ae3dfdf060c4a2fa2dfea9b6b22?s=128&d=identicon&r=PG", "display_name": "Cyrbil", "link": "https://stackoverflow.com/users/956660/cyrbil"}, "is_accepted": false, "score": 0, "last_activity_date": 1467294782, "creation_date": 1467294782, "answer_id": 38125198, "question_id": 38124947, "link": "https://stackoverflow.com/questions/38124947/perl-regular-expression-with-exception/38125198#38125198", "title": "Perl regular expression with exception", "body": "<p>Have a try with:</p>\n\n<pre><code>^([a-zA-Z]+\\.)?domain$\n</code></pre>\n\n<p>We match an optional subdomain with <code>([a-zA-Z]+\\.)?</code><br>\nand string <code>domain</code>, with nothing behind it</p>\n\n<p>See it live <a href=\"https://regex101.com/r/sN6wH7/2\" rel=\"nofollow\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 2481034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f92ff8eb2bd22239172688846886edb?s=128&d=identicon&r=PG", "display_name": "user2481034", "link": "https://stackoverflow.com/users/2481034/user2481034"}, "is_accepted": true, "score": 0, "last_activity_date": 1467367059, "creation_date": 1467367059, "answer_id": 38142437, "question_id": 38124947, "link": "https://stackoverflow.com/questions/38124947/perl-regular-expression-with-exception/38142437#38142437", "title": "Perl regular expression with exception", "body": "<p>Ok, I found how to do it better, this is my code.</p>\n\n<pre><code>(?&lt;!asset)(?&lt;!\\d\\.)domain(?!1)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/sF2qG3/1\" rel=\"nofollow\">https://regex101.com/r/sF2qG3/1</a></p>\n\n<p>Thx for everyone.</p>\n"}], "owner": {"reputation": 87, "user_id": 2481034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f92ff8eb2bd22239172688846886edb?s=128&d=identicon&r=PG", "display_name": "user2481034", "link": "https://stackoverflow.com/users/2481034/user2481034"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "accepted_answer_id": 38142437, "answer_count": 3, "score": 0, "last_activity_date": 1467367288, "creation_date": 1467294222, "last_edit_date": 1467367288, "question_id": 38124947, "link": "https://stackoverflow.com/questions/38124947/perl-regular-expression-with-exception", "title": "Perl regular expression with exception", "body": "<p>For example I have strings \"domain\", \"asset44.domain\", \"asset.domain\", \"domain1\"</p>\n\n<p>I need match with regular expression all strings where is \"domain\" word, but with some exception: I don't need match \"asset44.domain\" and \"domain1\".</p>\n\n<p>First I did <code>if ($_ =~ /domain/io) {</code>\nIt's matching all strings</p>\n\n<p>After I put <code>if ($_ =~ /domain(?!1)/io) {</code>\nIt's matching all string, except \"domain1\"</p>\n\n<p>And now, I can't understand, how to except \"asset44.domain\", but keep in match \"asset.domain\".</p>\n\n<p>P.S. asset44.domain there may be another number: asster56.domain for example.</p>\n\n<p><strong>P.P.S\nSolution:</strong> <code>(?&lt;!asset)(?&lt;!\\d\\.)domain(?!1)</code>\n<a href=\"https://regex101.com/r/sF2qG3/1\" rel=\"nofollow\">https://regex101.com/r/sF2qG3/1</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1467294648, "post_id": 38124434, "comment_id": 63681318, "body": "I am forgetting which version, but you used to be able to reference a hash or array without a sigil. Trying to find now."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1467294939, "post_id": 38124434, "comment_id": 63681563, "body": "<a href=\"http://perldoc.perl.org/5.22.0//perldelta.html#Omitting-%-and-@-on-hash-and-array-names-is-no-longer-permitted\" rel=\"nofollow noreferrer\">perldoc.perl.org/5.22.0//&hellip;</a>"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1467300886, "post_id": 38124434, "comment_id": 63686499, "body": "@HunterMcMillen: You should expand that and post it as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "is_accepted": false, "score": 0, "last_activity_date": 1467314097, "creation_date": 1467314097, "answer_id": 38131524, "question_id": 38124434, "link": "https://stackoverflow.com/questions/38124434/why-is-keys-not-a-syntax-error/38131524#38131524", "title": "Why is &quot;keys ::&quot; not a syntax error?", "body": "<p>Using:</p>\n\n<pre><code>perl -MO=Deparse -E 'say for keys ::'\n</code></pre>\n\n<p>Says: </p>\n\n<pre><code>use feature 'current_sub', 'evalbytes', 'fc', 'say', 'state', 'switch', 'unicode_strings', 'unicode_eval';\nsay $_ foreach (keys %main::);\n</code></pre>\n\n<p>So it treats :: as %:: in these perl versions without a strict</p>\n"}, {"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1467336839, "post_id": 38134265, "comment_id": 63702417, "body": "Great answer, you&#39;ve addressed all my questions"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 6, "last_activity_date": 1467405393, "last_edit_date": 1592644375, "creation_date": 1467325745, "answer_id": 38134265, "question_id": 38124434, "link": "https://stackoverflow.com/questions/38124434/why-is-keys-not-a-syntax-error/38134265#38134265", "title": "Why is &quot;keys ::&quot; not a syntax error?", "body": "<h2>TL;DR</h2>\n<p><code>::</code> isn't special; prior to Perl 5.22.0, you can omit the <code>%</code> and pass any identifier to <code>keys</code>.</p>\n<p>However:</p>\n<ul>\n<li><code>keys main::</code> is equivalent to <code>keys %{'main'}</code> or just <code>keys %main</code></li>\n<li><code>keys ::</code> is equivalent to <code>keys %{'::'}</code> or just <code>keys %::</code>.<br>Note that <code>%main::</code> (but not <code>%main</code>) is an alias for <code>%::</code>.</li>\n</ul>\n<hr />\n<p>The relevant code is in toke.c (the following is from 5.8.8):</p>\n<pre class=\"lang-c prettyprint-override\"><code>/* Look for a subroutine with this name in current package,\n   unless name is &quot;Foo::&quot;, in which case Foo is a bearword\n   (and a package name). */\n\nif (len &gt; 2 &amp;&amp;\n    PL_tokenbuf[len - 2] == ':' &amp;&amp; PL_tokenbuf[len - 1] == ':')\n{\n    if (ckWARN(WARN_BAREWORD) &amp;&amp; ! gv_fetchpv(PL_tokenbuf, FALSE, SVt_PVHV))\n        Perl_warner(aTHX_ packWARN(WARN_BAREWORD),\n            &quot;Bareword \\&quot;%s\\&quot; refers to nonexistent package&quot;,\n             PL_tokenbuf);\n    len -= 2;\n    PL_tokenbuf[len] = '\\0';\n    gv = Nullgv;\n    gvp = 0;\n}\nelse {\n    len = 0;\n    if (!gv)\n        gv = gv_fetchpv(PL_tokenbuf, FALSE, SVt_PVCV);\n}\n\n/* if we saw a global override before, get the right name */\n\nif (gvp) {\n    sv = newSVpvn(&quot;CORE::GLOBAL::&quot;,14);\n    sv_catpv(sv,PL_tokenbuf);\n}\nelse {\n    /* If len is 0, newSVpv does strlen(), which is correct.\n       If len is non-zero, then it will be the true length,\n       and so the scalar will be created correctly.  */\n    sv = newSVpv(PL_tokenbuf,len);\n}\n</code></pre>\n<p><code>len</code> is the length of the current token.</p>\n<ul>\n<li><p>If the token is <code>main::</code>, a new scalar is created with its PV (string component) set to <code>main</code>.</p>\n</li>\n<li><p>If the token is <code>::</code>, a typeglob is fetched with <code>gv_fetchpv</code>.</p>\n</li>\n</ul>\n<p><code>gv_fetchpv</code> lives in gv.c and has special logic for handling <code>::</code>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>if (*namend == ':')\n    namend++;\nnamend++;\nname = namend;\nif (!*name)\n    return gv ? gv : (GV*)*hv_fetch(PL_defstash, &quot;main::&quot;, 6, TRUE);\n</code></pre>\n<p>This fetches the typeglob stored in the <a href=\"http://www.perlmonks.org/?node=perlguts#Stashes_and_Globs\" rel=\"nofollow noreferrer\">default stash</a> under key <code>main::</code> (i.e. typeglob <code>*main::</code>).</p>\n<p>Finally, <code>keys</code> expects its argument to be a hash, but if you pass it an identifier, it treats it as the name of a hash. See <code>Perl_ck_fun</code> in op.c:</p>\n<pre class=\"lang-c prettyprint-override\"><code>case OA_HVREF:\n    if (kid-&gt;op_type == OP_CONST &amp;&amp;\n        (kid-&gt;op_private &amp; OPpCONST_BARE))\n    {\n        char *name = SvPVx(((SVOP*)kid)-&gt;op_sv, n_a);\n        OP * const newop = newHVREF(newGVOP(OP_GV, 0,\n            gv_fetchpv(name, TRUE, SVt_PVHV) ));\n        if (ckWARN2(WARN_DEPRECATED, WARN_SYNTAX))\n            Perl_warner(aTHX_ packWARN2(WARN_DEPRECATED, WARN_SYNTAX),\n                &quot;Hash %%%s missing the %% in argument %&quot;IVdf&quot; of %s()&quot;,\n                name, (IV)numargs, PL_op_desc[type]);\n        op_free(kid);\n        kid = newop;\n        kid-&gt;op_sibling = sibl;\n        *tokid = kid;\n    }\n    else if (kid-&gt;op_type != OP_RV2HV &amp;&amp; kid-&gt;op_type != OP_PADHV)\n        bad_type(numargs, &quot;hash&quot;, PL_op_desc[type], kid);\n    mod(kid, type);\n    break;\n</code></pre>\n<p>This works for things other than <code>::</code>, too:</p>\n<pre><code>$ perl -e'%h = (foo =&gt; &quot;bar&quot;); print for keys h'\nfoo\n</code></pre>\n<p>(<a href=\"http://perldoc.perl.org/5.22.0//perldelta.html#Omitting-%25-and-%40-on-hash-and-array-names-is-no-longer-permitted\" rel=\"nofollow noreferrer\">As of 5.22.0</a>, you're no longer allowed to omit the <code>%</code> sigil.)</p>\n<p>You can also see this with B::Concise:</p>\n<pre><code>$ perl -MO=Concise -e'keys main::'\nHash %main missing the % in argument 1 of keys() at -e line 1.\n6  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 1 -e:1) v:{ -&gt;3\n5     &lt;1&gt; keys[t2] vK/1 -&gt;6\n4        &lt;1&gt; rv2hv[t1] lKRM/1 -&gt;5\n3           &lt;$&gt; gv(*main) s -&gt;4\n-e syntax OK\n$ perl -MO=Concise -e'keys ::'\nHash %:: missing the % in argument 1 of keys() at -e line 1.\n6  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 1 -e:1) v:{ -&gt;3\n5     &lt;1&gt; keys[t2] vK/1 -&gt;6\n4        &lt;1&gt; rv2hv[t1] lKRM/1 -&gt;5\n3           &lt;$&gt; gv(*main::) s -&gt;4\n-e syntax OK\n</code></pre>\n"}], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 2, "accepted_answer_id": 38134265, "answer_count": 2, "score": 4, "last_activity_date": 1467405393, "creation_date": 1467292915, "question_id": 38124434, "link": "https://stackoverflow.com/questions/38124434/why-is-keys-not-a-syntax-error", "title": "Why is &quot;keys ::&quot; not a syntax error?", "body": "<p>I tried the following one-liner more out of curiosity than anything and was surprised that it actually worked <em>without</em> the <code>%</code> sigil.</p>\n\n<pre><code>$ perl -E 'say for keys ::'\n</code></pre>\n\n<p>It works on both versions 5.8.8 and 5.16.3; though the latter version emits this warning:</p>\n\n<blockquote>\n  <p>Hash %:: missing the % in argument of keys() at -e line 1.</p>\n</blockquote>\n\n<hr>\n\n<p>How does this even work? What is so special about <code>%::</code> that allows it to run and print its keys, even without the sigil?</p>\n\n<p>Note that the keys do not get printed with <code>%main::</code>.</p>\n\n<pre><code>$ perl -E 'say for keys main::'\nHash main:: missing the % in argument 1 of keys() at -e line 1.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1467291807, "post_id": 38122247, "comment_id": 63679172, "body": "Using a <code>push</code> inside a <code>map</code> in void context is distasteful. What choroba shows is much more idiomatic"}], "answers": [{"tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": true, "score": 1, "last_activity_date": 1467287962, "creation_date": 1467287962, "answer_id": 38122473, "question_id": 38122247, "link": "https://stackoverflow.com/questions/38122247/in-map-whether-the-tr-operator-will-affect-the-original-array/38122473#38122473", "title": "In map , whether the tr operator will affect the original array?", "body": "<p><code>tr///</code> is destructive by default.</p>\n\n<p>To preserve the original string you should use the <code>/r</code> modifier.</p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow\"><code>perldoc perlop</code></a>:</p>\n\n<blockquote>\n  <p>If the <code>/r</code> (non-destructive) option is present, a new copy of the\n  string is made and its characters transliterated, and this copy is\n  returned no matter whether it was modified or not</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1467290702, "creation_date": 1467290702, "answer_id": 38123510, "question_id": 38122247, "link": "https://stackoverflow.com/questions/38122247/in-map-whether-the-tr-operator-will-affect-the-original-array/38123510#38123510", "title": "In map , whether the tr operator will affect the original array?", "body": "<p>On older Perls where <code>/r</code> wasn't available (introduced in 5.14), the common idiom was</p>\n\n<pre><code>my @Input = qw( This is FOR Testing );\nmy @Output = map {\n    my $s = $_;        # Break the aliasing.\n    $s =~ tr/A-Z/a-z/;\n    $s =~ tr/a-z//cd;\n    $s\n} @Input;\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 6303679, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MMhOn.png?s=128&g=1", "display_name": "b.sabarathinam saba", "link": "https://stackoverflow.com/users/6303679/b-sabarathinam-saba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 38122473, "answer_count": 2, "score": 1, "last_activity_date": 1467290702, "creation_date": 1467287375, "question_id": 38122247, "link": "https://stackoverflow.com/questions/38122247/in-map-whether-the-tr-operator-will-affect-the-original-array", "title": "In map , whether the tr operator will affect the original array?", "body": "<p>I wrote the code like this,</p>\n\n<pre><code>    my (@Last,@Input);\n@Input=qw(This is FOR Testing);\nmap{ tr/A-Z/a-z/;tr/a-z//cd;push @Last,$_;} @Input;\nprint \"Original array ==&gt;@Input&lt;===\\n\";\nprint \"Modified array ==&gt;@Last&lt;===\\n\";\n</code></pre>\n\n<p>Once I executed the code, I got the output like this,</p>\n\n<pre><code>Original array ==&gt;this is for testing&lt;===\nModified array ==&gt;this is for testing&lt;===\n</code></pre>\n\n<p>Whether the tr operator will affect the original array?</p>\n"}, {"tags": ["postgresql", "perl", "heroku", "dancer"], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "is_accepted": false, "score": 0, "last_activity_date": 1467835979, "last_edit_date": 1467835979, "creation_date": 1467822339, "answer_id": 38228997, "question_id": 38120665, "link": "https://stackoverflow.com/questions/38120665/dancer2-app-with-postgresql-on-heroku/38228997#38228997", "title": "Dancer2 app with Postgresql on Heroku", "body": "<p>So i fix my bug with this code : in myapp.pm \ni added this lines :</p>\n\n<pre><code>    my $env_url = $ENV{MYAPP_DB_DSN};\n    my $env_user = $ENV{MYAPP_DB_USERNAME};\n    my $env_password = $ENV{MYAPP_DB_PASSWORD};\nmy $schema = My::Schema-&gt;connect(\"$env_url;user=$env_user;password=$env_password\");\n</code></pre>\n\n<p>then with <code>heroku config:set</code> i gave values to </p>\n\n<pre><code>MyAPP_DB_DSN='dbi:Pg:dbname=mydb; host=myherokuhost'; port=5432'\nMYAPP_DB_USERNAME=myusername  \nMYAPP_DB_PASSWORD=mypass\n</code></pre>\n\n<p>and it works now  </p>\n"}], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1531878935, "creation_date": 1467283019, "last_edit_date": 1531878935, "question_id": 38120665, "link": "https://stackoverflow.com/questions/38120665/dancer2-app-with-postgresql-on-heroku", "title": "Dancer2 app with Postgresql on Heroku", "body": "<p>I'm trying to deploy a small Dancer2 app which uses a Postgresql on Heroku.\nSo far I tried to approaches:\na) I typed the <code>heroku addons:add heroku-postgresql</code> the created by hand all the tables and granted permissions to the default owner witch I found in my heroku db connections settings. Then I added the following connections settings to my config.yml file:</p>\n\n<pre><code>DBIC:\n     d1ofgde:\n       dsn:  'dbi:Pg:dbname=d1ofgde'\n       user: 'ygcexhxtprm'\n       password: 'izU2xTVDfd5T5Byy4M4Xhk'\n       host: 'ec2-54-244-50-186.compute-1.amazonaws.com'\n       port: 5432\n       options:\n         RaiseError: 1\n         PrintError: 1\n       schema_class: 'My::Schema\n</code></pre>\n\n<p>This failed .</p>\n\n<p>b) I tried to push my local postgres db on heroku with this command:</p>\n\n<pre><code>PGUSER=test PGPASSWORD=test heroku pg:push mytestdb DATABASE_URL postgres://ygcexmzlhxtprm:izU2xTVDfd5RekzT5Byy4M4Xhk@ec2-54-243-50-185.compute-1.amazonaws.com:5432/d1ofgdng49tf0e --app  lit-mesa-10053\n</code></pre>\n\n<p>The push hand an error:</p>\n\n<pre><code>:pg_restore: [archiver (db)] could not execute query: ERROR:  must be owner of extension plpgsql\n    Command was: COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language\n</code></pre>\n\n<p>But when i logged in  my heroku postgres i saw the tables inside it .</p>\n\n<p>In both cases i used the same structure for my connections settings in my config.yml. And got the same error message:</p>\n\n<pre><code>2016-06-30T10:01:59.918775+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=lit-mesa-10053.herokuapp.com request_id=99195ea6-fb7e-488c-93e8-2b7b5e306432 fwd=\"89.122.156.100\" dyno= connect= service= status=503 bytes=\n2016-06-30T10:02:00.403773+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/favicon.ico\" host=lit-mesa-10053.herokuapp.com request_id=dae4956e-954c-498b-8a32-e8ef8dc01c43 fwd=\"89.122.156.100\" dyno= connect= service= status=503 bytes=\n2016-06-30T10:12:07.295999+00:00 heroku[web.1]: State changed from crashed to starting\n2016-06-30T10:12:14.677356+00:00 app[web.1]: Error while loading /app/app.psgi: The schema mytestdb is not configured at /app/local/lib/perl5/DBICx/Sugar.pm line 52, &lt;DATA&gt; line 1.\n2016-06-30T10:12:14.677382+00:00 app[web.1]: Compilation failed in require at /app/app.psgi line 11, &lt;DATA&gt; line 1.\n2016-06-30T10:12:15.886678+00:00 heroku[web.1]: Process exited with status 255\n2016-06-30T10:12:20.228220+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/\" host=lit-mesa-10053.herokuapp.com request_id=36a8291d-fce1-485e-979c-986db9cbf9b7 fwd=\"89.122.156.100\" dyno= connect= service= status=503 bytes=\n</code></pre>\n"}, {"tags": ["javascript", "perl", "unicode", "utf-8"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3710967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636cc91c3590bee99dc7fd89285148fc?s=128&d=identicon&r=PG&f=1", "display_name": "user3710967", "link": "https://stackoverflow.com/users/3710967/user3710967"}, "edited": false, "score": 0, "creation_date": 1467282930, "post_id": 38119330, "comment_id": 63673095, "body": "Thanks for reply. Is there a workaround where I can change the character set to CP1252 using meta tag in HTML. If yes what exactly is the character set I should be using?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 1, "user_id": 3710967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636cc91c3590bee99dc7fd89285148fc?s=128&d=identicon&r=PG&f=1", "display_name": "user3710967", "link": "https://stackoverflow.com/users/3710967/user3710967"}, "edited": false, "score": 0, "creation_date": 1467286245, "post_id": 38119330, "comment_id": 63675273, "body": "@user3710967: I&#39;d try cp1252."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1467279624, "creation_date": 1467279624, "answer_id": 38119330, "question_id": 38118984, "link": "https://stackoverflow.com/questions/38118984/chr-function-in-perl-and-string-fromcharcode-function-in-javascript/38119330#38119330", "title": "chr() function in Perl and String.fromCharCode() function in JavaScript", "body": "<p>Your Perl runs in cp1252 environment, while the JavaScript in UTF-8. For me, I'm getting \u0178 from </p>\n\n<pre><code>perl -e 'print chr 376'\n</code></pre>\n\n<p>See <a href=\"https://mathiasbynens.be/notes/javascript-encoding\" rel=\"nofollow\">https://mathiasbynens.be/notes/javascript-encoding</a> for a discussion of encodings and JavaScript.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 3710967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636cc91c3590bee99dc7fd89285148fc?s=128&d=identicon&r=PG&f=1", "display_name": "user3710967", "link": "https://stackoverflow.com/users/3710967/user3710967"}, "edited": false, "score": 0, "creation_date": 1467295411, "post_id": 38119636, "comment_id": 63681998, "body": "Thanks for the reply. The PERL code is already there and I have to write a JAVASCRIPT / NODE.JS equivalent. Please see if you can suggest how I can do that."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1467280369, "creation_date": 1467280369, "answer_id": 38119636, "question_id": 38118984, "link": "https://stackoverflow.com/questions/38118984/chr-function-in-perl-and-string-fromcharcode-function-in-javascript/38119636#38119636", "title": "chr() function in Perl and String.fromCharCode() function in JavaScript", "body": "<p>The <code>String.fromCharCode</code> takes a Unicode code point as its argument. U+178 (decimal 376) is \u0178.</p>\n\n<p>Perl's <code>chr</code> uses the character set that your program runs under.</p>\n"}], "owner": {"reputation": 1, "user_id": 3710967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636cc91c3590bee99dc7fd89285148fc?s=128&d=identicon&r=PG&f=1", "display_name": "user3710967", "link": "https://stackoverflow.com/users/3710967/user3710967"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1467280369, "creation_date": 1467278778, "last_edit_date": 1467279491, "question_id": 38118984, "link": "https://stackoverflow.com/questions/38118984/chr-function-in-perl-and-string-fromcharcode-function-in-javascript", "title": "chr() function in Perl and String.fromCharCode() function in JavaScript", "body": "<p>In Perl I am using chr() function. In case my values are lees than 0, I add 256 to the value and use the chr() function. E,g.\nFor -97 value I add 256, and execute chr(159) and I get \u0178 character.</p>\n\n<p>Now I have to use same in JavaScript.</p>\n\n<p>I am getting -97 and if I add 256 to it and execute String.fromCharCode(159) I get a blank character and instead of that if I execute String.fromCharCode(376) I get  \u0178 character which is same as in Perl.</p>\n\n<p>What and why is there a difference? What should I use in JavaScript? </p>\n\n<p>In JavaScript for positive numbers and the numbers which after adding 256 are less than 256 the output is same in Perl and JavaScript.</p>\n"}, {"tags": ["perl", "filehandle", "file-copying"], "answers": [{"comments": [{"owner": {"reputation": 348, "user_id": 3179345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f8cdf57d503a85073e86ba835e22498?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Hillyer", "link": "https://stackoverflow.com/users/3179345/neville-hillyer"}, "edited": false, "score": 0, "creation_date": 1467288645, "post_id": 38119205, "comment_id": 63676881, "body": "Will the &#39;slurp&#39; attempt to use more memory in OS 9 (PPC not iOS) than the other method?"}, {"owner": {"reputation": 348, "user_id": 3179345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f8cdf57d503a85073e86ba835e22498?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Hillyer", "link": "https://stackoverflow.com/users/3179345/neville-hillyer"}, "edited": false, "score": 0, "creation_date": 1467289111, "post_id": 38119205, "comment_id": 63677197, "body": "Now that I have added parentheses to the first one they both work with both types of filehandle."}], "tags": [], "owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "is_accepted": false, "score": 1, "last_activity_date": 1467279335, "creation_date": 1467279335, "answer_id": 38119205, "question_id": 38118597, "link": "https://stackoverflow.com/questions/38118597/simple-perl-file-copy-methods-without-using-filecopy/38119205#38119205", "title": "Simple perl file copy methods without using File::Copy", "body": "<p>Perl operators and functions can return different things depending on what their context expects.</p>\n\n<p>The first method works because the print function creates what is called a list context for the &lt;> operator - then thee operator will \"slurp in\" the entire file.</p>\n\n<p>In the second example, the &lt;> operator is called in the condition of the loop, which creates a scalar context, returning one line at a time (some asterisks here, but that's another story.)</p>\n\n<p>Here is some explanation about contexts: <a href=\"http://perlmaven.com/scalar-and-list-context-in-perl\" rel=\"nofollow\">http://perlmaven.com/scalar-and-list-context-in-perl</a>.</p>\n\n<p>And, both methods should work with the R and W filehandles (which are old fashioned Perl filehandles that are different from regular variables), and with the $r/$w notation that actually denotes variables which hold a filehandle <em>reference</em>. The difference is subtle but in most everyday use cases these can be used interchangeably. Have you tried using $ variables in the first example?</p>\n"}, {"comments": [{"owner": {"reputation": 348, "user_id": 3179345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f8cdf57d503a85073e86ba835e22498?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Hillyer", "link": "https://stackoverflow.com/users/3179345/neville-hillyer"}, "edited": false, "score": 0, "creation_date": 1467288910, "post_id": 38119498, "comment_id": 63677056, "body": "Thanks - that fixes it"}], "tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": false, "score": 1, "last_activity_date": 1467280020, "creation_date": 1467280020, "answer_id": 38119498, "question_id": 38118597, "link": "https://stackoverflow.com/questions/38118597/simple-perl-file-copy-methods-without-using-filecopy/38119498#38119498", "title": "Simple perl file copy methods without using File::Copy", "body": "<p>In addition to the Hellmar Becker's answer:</p>\n\n<p>The <code>print $w &lt;$r&gt;;</code> does not work (gives a syntax error) because if the FILEHANDLE argument is a variable, perl tries to interpret the <code>print</code>'s argument list beginning (<code>$w &lt;$r</code>) as an operator (see the NOTE in <a href=\"http://perldoc.perl.org/functions/print.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/print.html</a>). To disambigue put parentheses around the <code>&lt;$r&gt;</code>:</p>\n\n<pre><code>print $w (&lt;$r&gt;);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 348, "user_id": 3179345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f8cdf57d503a85073e86ba835e22498?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Hillyer", "link": "https://stackoverflow.com/users/3179345/neville-hillyer"}, "edited": false, "score": 0, "creation_date": 1467308830, "post_id": 38122548, "comment_id": 63691226, "body": "If would be useful to know if the OS 9 memory requirements are likely to differ significantly for the various methods on this page."}, {"owner": {"reputation": 348, "user_id": 3179345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f8cdf57d503a85073e86ba835e22498?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Hillyer", "link": "https://stackoverflow.com/users/3179345/neville-hillyer"}, "edited": false, "score": 0, "creation_date": 1467407334, "post_id": 38122548, "comment_id": 63737099, "body": "My concern with OS 9 is that it does not have protected memory like OS X - I would prefer it not to crash when the file size increases."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 2, "last_activity_date": 1467331006, "last_edit_date": 1467331006, "creation_date": 1467288157, "answer_id": 38122548, "question_id": 38118597, "link": "https://stackoverflow.com/questions/38118597/simple-perl-file-copy-methods-without-using-filecopy/38122548#38122548", "title": "Simple perl file copy methods without using File::Copy", "body": "<blockquote>\n  <p>Is there a better way to do this?</p>\n</blockquote>\n\n<p>There sure is... <code>File::Copy</code> is a core module (no installation requred), so there's little reason to avoid using it.</p>\n\n<pre><code>use File::Copy;\ncopy('old', 'new');\n</code></pre>\n\n<p>Alternatively, you can use a system call to the underlying OS, in your case, OS-X</p>\n\n<pre><code>system('cp', 'old', 'new');\n</code></pre>\n\n<p><strong>UPDATE</strong> Oops, you're on OS9, so I'm not sure what system calls are available.</p>\n\n<p>You can use your first method with lexical file handles, but you need to disambiguate a little.</p>\n\n<pre><code>open $r, '&lt;', 'old';\nopen $w, '&gt;', 'new';\nprint {$w} &lt;$r&gt;;\n</code></pre>\n\n<p>Bare in mind this is unidiomatic code, and if you just want to create a direct copy, the first method is preferable (<strong>EDIT</strong> If your memory constraints allow for it).</p>\n"}], "owner": {"reputation": 348, "user_id": 3179345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f8cdf57d503a85073e86ba835e22498?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Hillyer", "link": "https://stackoverflow.com/users/3179345/neville-hillyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1467331006, "creation_date": 1467277726, "question_id": 38118597, "link": "https://stackoverflow.com/questions/38118597/simple-perl-file-copy-methods-without-using-filecopy", "title": "Simple perl file copy methods without using File::Copy", "body": "<p>I have very little perl experience and have been trying a few methods on OS X before I attempt to use Macperl on a more difficult to access OS 9 with very limited memory.</p>\n\n<p>I have been trying simple file copy methods without using File::Copy.</p>\n\n<p>Both of the following appear to work:</p>\n\n<pre><code>open R,\"&lt;old\"; \nopen W,\"&gt;new\"; \nprint W &lt;R&gt;; \n\nopen $r,\"&lt;old\"; \nopen $w,\"&gt;new\"; \nwhile (&lt;$r&gt;) { print $w $_ }\n</code></pre>\n\n<p>Why can't I use $r and $w with the first method?</p>\n\n<p>How does the first method work without a 'while'?</p>\n\n<p>Is there a better way to do this?</p>\n"}, {"tags": ["bash", "perl", "solaris"], "comments": [{"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 4, "creation_date": 1467277820, "post_id": 38118536, "comment_id": 63669442, "body": "Simple in grep, <code>grep -Ev &quot;errors:|mirror|raid*|pond&quot; file</code>"}, {"owner": {"reputation": 89, "user_id": 4013208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPUKv.png?s=128&g=1", "display_name": "hplodur", "link": "https://stackoverflow.com/users/4013208/hplodur"}, "reply_to_user": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1467278163, "post_id": 38118536, "comment_id": 63669673, "body": "It&#39;s Solaris unfortunately <code>-E</code> option does not exist but you are right, why over complicate. <code>egrep</code> worked like a charm."}, {"owner": {"reputation": 17600, "user_id": 793796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mk3lA.jpg?s=128&g=1", "display_name": "anishsane", "link": "https://stackoverflow.com/users/793796/anishsane"}, "edited": false, "score": 0, "creation_date": 1467280730, "post_id": 38118536, "comment_id": 63671603, "body": "^^ try with <code>grep -v -e pattern1 -e pattern2</code> then..."}], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1467278091, "creation_date": 1467278091, "answer_id": 38118722, "question_id": 38118536, "link": "https://stackoverflow.com/questions/38118536/remove-lines-perl-with-multiple-search-patterns/38118722#38118722", "title": "remove lines perl with multiple search patterns", "body": "<p>This is a way:</p>\n\n<pre><code>open my $fh, \"&lt;\", \"file.txt\" or die $!;\n\nwhile(my $line = &lt;$fh&gt;)\n{\n    if ($line =~ m/errors:|mirror|raid\\*|pond/)\n    {\n        next;\n    }\n    print $line;\n}\nclose $fh;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "is_accepted": true, "score": 5, "last_activity_date": 1467278121, "creation_date": 1467278121, "answer_id": 38118733, "question_id": 38118536, "link": "https://stackoverflow.com/questions/38118536/remove-lines-perl-with-multiple-search-patterns/38118733#38118733", "title": "remove lines perl with multiple search patterns", "body": "<p>Since you mention Perl you can use:</p>\n\n<pre><code>perl -ne 'print unless /errors:|mirror|raid\\*|pond/'\n</code></pre>\n\n<p>Alternative you can use sed or grep:</p>\n\n<pre><code>sed '/errors:\\|mirror\\|raid\\*\\|pond/d'\n</code></pre>\n\n<p>Or grep with re<code>-v</code>erse:</p>\n\n<pre><code>grep -v 'errors:\\|mirror\\|raid\\*\\|pond'\n</code></pre>\n\n<p>You can add the <code>-i</code>nplace flag to both sed and Perl</p>\n"}, {"comments": [{"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 1, "creation_date": 1467278248, "post_id": 38118762, "comment_id": 63669744, "body": "The Perl snippet will print lines not starting with <code>errors:</code>, ... OP is asking for contains. Also note that <code>*</code> is a meta character and should be escaped to be treated literally."}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1467278729, "post_id": 38118762, "comment_id": 63670094, "body": "@andlrc: taken down the <code>perl</code> solution. Tried ways to fix it, what could be the optimal way with my logic?"}], "tags": [], "owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "is_accepted": false, "score": 1, "last_activity_date": 1467279116, "last_edit_date": 1495542778, "creation_date": 1467278195, "answer_id": 38118762, "question_id": 38118536, "link": "https://stackoverflow.com/questions/38118536/remove-lines-perl-with-multiple-search-patterns/38118762#38118762", "title": "remove lines perl with multiple search patterns", "body": "<p>Using <code>egrep</code> as <code>Solaris</code> didn't support the <code>-E, --extended-regexp</code> option</p>\n\n<pre><code>egrep -Ev \"errors:|mirror|raid*|pond\" file\n</code></pre>\n\n<p>Another way with <code>awk</code></p>\n\n<pre><code>awk '!/errors:|mirror|raid*|pond/' file\n</code></pre>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/793796/anishsane\"><code>anishsane</code></a> suggestion in the comments, using <code>grep</code> with multiple expressions,</p>\n\n<pre><code>grep -v -e \"errors:\" -e \"mirror\" -e \"raid*\" -e \"pond\" file\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 4013208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPUKv.png?s=128&g=1", "display_name": "hplodur", "link": "https://stackoverflow.com/users/4013208/hplodur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 38118733, "answer_count": 3, "score": -1, "last_activity_date": 1467279116, "creation_date": 1467277559, "last_edit_date": 1467277663, "question_id": 38118536, "link": "https://stackoverflow.com/questions/38118536/remove-lines-perl-with-multiple-search-patterns", "title": "remove lines perl with multiple search patterns", "body": "<p>I'm trying to find a way to use perl to remove lines that contain:</p>\n\n<pre><code>errors:\nmirror\nraid*\npond\n</code></pre>\n\n<p>I've managed to find:</p>\n\n<pre><code>perl -pi -e \"s,errors:,,\"\n</code></pre>\n\n<p>Is there a way to specify all patterns that I'm looking for in one command?</p>\n"}, {"tags": ["perl", "parsing", "arguments", "args", "hyphen"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1467275921, "post_id": 38117557, "comment_id": 63668208, "body": "What module do you use? <a href=\"http://p3rl.org/Getopt::Long\" rel=\"nofollow noreferrer\">Getopt::Long</a>?"}, {"owner": {"reputation": 67, "user_id": 4667038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3e341742e4550c2aba53d2477040979?s=128&d=identicon&r=PG&f=1", "display_name": "dejvid", "link": "https://stackoverflow.com/users/4667038/dejvid"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1467276201, "post_id": 38117557, "comment_id": 63668388, "body": "@choroba, Yes. I do use Getopt::Long"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1468755424, "post_id": 38117557, "comment_id": 64248054, "body": "With all due respect, this is a crazy requirement."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4667038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3e341742e4550c2aba53d2477040979?s=128&d=identicon&r=PG&f=1", "display_name": "dejvid", "link": "https://stackoverflow.com/users/4667038/dejvid"}, "edited": false, "score": 0, "creation_date": 1467276880, "post_id": 38118079, "comment_id": 63668854, "body": "it is fine on OS-X, but doesn&#39;t seem to work on Windows. (perl version: 5.14.2). Do you have any idea what might be wrong ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 67, "user_id": 4667038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3e341742e4550c2aba53d2477040979?s=128&d=identicon&r=PG&f=1", "display_name": "dejvid", "link": "https://stackoverflow.com/users/4667038/dejvid"}, "edited": false, "score": 1, "creation_date": 1467276968, "post_id": 38118079, "comment_id": 63668905, "body": "On Windows, the terminal encoding is probably not UTF-8. Specify the correct encoding."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1467277279, "last_edit_date": 1467277279, "creation_date": 1467276244, "answer_id": 38118079, "question_id": 38117557, "link": "https://stackoverflow.com/questions/38117557/perl-en-em-dash-in-command-line-arguments/38118079#38118079", "title": "Perl - en / em dash in command line arguments", "body": "<p>If you're using <a href=\"http://p3rl.org/Getopt::Long\" rel=\"nofollow\">Getopt::Long</a>, you can preprocess the arguments before giving them to <code>GetOptions</code>:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Getopt::Long;\n\ns/^\\xe2\\x80\\x93/-/ for @ARGV;\n\nGetOptions('firstParam:s'  =&gt; \\ my $first_param,\n           'secondParam:s' =&gt; \\ my $second_param);\nprint \"$first_param, $second_param\\n\";\n</code></pre>\n\n<p>It might be cleaner to first decode the arguments, though:</p>\n\n<pre><code>use Encode;\n\n$_ = decode('UTF-8', $_), s/^\\N{U+2013}/-/ for @ARGV;\n</code></pre>\n\n<p>To work in different locale setting, use <a href=\"http://p3rl.org/Encode::Locale\" rel=\"nofollow\">Encode::Locale</a>:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Encode::Locale;\nuse Encode;\nuse Getopt::Long;\n\n$_ = decode(locale =&gt; $_), s/^\\N{U+2013}/-/ for @ARGV;\n\nGetOptions('firstParam:s'  =&gt; \\ my $first_param,\n           'secondParam:s' =&gt; \\ my $second_param);\nprint \"$first_param, $second_param\\n\";\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4667038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3e341742e4550c2aba53d2477040979?s=128&d=identicon&r=PG&f=1", "display_name": "dejvid", "link": "https://stackoverflow.com/users/4667038/dejvid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 0, "accepted_answer_id": 38118079, "answer_count": 1, "score": 1, "last_activity_date": 1468754862, "creation_date": 1467274629, "last_edit_date": 1468754862, "question_id": 38117557, "link": "https://stackoverflow.com/questions/38117557/perl-en-em-dash-in-command-line-arguments", "title": "Perl - en / em dash in command line arguments", "body": "<p>I'm having a problem with my perl script with parsing command line arguments. Mainly, I'd like perl to parse argument preceding with (em/en)-dash as well as hypen.\nPlease consider the following command execution: </p>\n\n<pre><code>my_spript.pl -firstParam someValue \u2013secondParam someValue2\n</code></pre>\n\n<p>As you can see, firstParam is prefixed with hypen and there is no problem with perl parsing it, but the secondParam is prefixed with en-dash and unfortunately Perl cannot recognize it as an argument.\nI am using GetOptions() to parse arguments:</p>\n\n<pre><code>GetOptions(\n    \"firstParam\" =&gt; \\$firstParam,\n    \"secondParam\" =&gt; \\$secondParam\n)\n</code></pre>\n"}, {"tags": ["perl", "scp"], "answers": [{"tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 1, "last_activity_date": 1467277645, "creation_date": 1467277645, "answer_id": 38118558, "question_id": 38116585, "link": "https://stackoverflow.com/questions/38116585/scp-files-matching-pattern-using-perl/38118558#38118558", "title": "SCP files matching pattern using Perl", "body": "<p>The <code>*</code> character is a wildcard that is expanded by your shell (and different shells may have different expansion rules), so SSH (or SCP) knows nothing about it.</p>\n\n<p>Also, SSH does not have \"integrated\" support for listing files in directories.\nIf you want to list the files, you'll have to either go the \"ugly way\", by doing a remote <code>ls *.pdf</code> (by using <a href=\"http://search.cpan.org/~schwigon/Net-SSH-Perl-2.01/lib/Net/SSH/Perl.pm\" rel=\"nofollow\">Net::SSH::Perl</a>) , or switch to something different like <a href=\"http://search.cpan.org/~drolsky/Net-SFTP-0.08/lib/Net/SFTP.pm\" rel=\"nofollow\">Net::SFTP</a>, which supports an <code>opendir</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 2, "last_activity_date": 1467283808, "creation_date": 1467283808, "answer_id": 38120946, "question_id": 38116585, "link": "https://stackoverflow.com/questions/38116585/scp-files-matching-pattern-using-perl/38120946#38120946", "title": "SCP files matching pattern using Perl", "body": "<p>Using <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow\">Net::OpenSSH</a>:</p>\n\n<pre><code>use Net::OpenSSH;\nmy $ssh = Net::OpenSSH-&gt;new('serverB', user =&gt; 'userid');\n$ssh-&gt;scp_put({glob =&gt; 1}, '*.pdf', '.') or die $ssh-&gt;error;\n</code></pre>\n\n<p>Or, if you are running that script in Windows, <a href=\"https://metacpan.org/pod/Net::SSH::Any\" rel=\"nofollow\">Net::SSH::Any</a> provides an  identical interface:</p>\n\n<pre><code>use Net::SSH::Any;\nmy $ssh = Net::SSH::Any-&gt;new('serverB', user =&gt; 'userid');\n$ssh-&gt;scp_put({glob =&gt; 1}, '*.pdf', '.') or die $ssh-&gt;error;\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 4318947, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-o892L4p6i_o/AAAAAAAAAAI/AAAAAAAABHY/74bgsfS3lxY/photo.jpg?sz=128", "display_name": "Sree", "link": "https://stackoverflow.com/users/4318947/sree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1467283808, "creation_date": 1467271795, "question_id": 38116585, "link": "https://stackoverflow.com/questions/38116585/scp-files-matching-pattern-using-perl", "title": "SCP files matching pattern using Perl", "body": "<p>Is there a way to scp multiple files matching a wildcard pattern using Perl?</p>\n\n<p>say server A has curr directory contains .pdf and .txt files and I want to move just the .pdf files to server B under /home/userid\nI used Net::SCP, but I see there is no bulk copy as in normal scp command eg. scp *.pdf userid@serverB    </p>\n\n<pre><code>&gt;cat test.pl\nuse Net::SCP;\n$scp = Net::SCP-&gt;new( \"serverB\", \"userid\" );\n$scp-&gt;put(\"test.pdf\") or die $scp-&gt;{errstr};\n</code></pre>\n\n<p>I want to change to $scp->put(\"*.pdf\") or die $scp->{errstr}; If I change to *.pdf perl throws error </p>\n\n<blockquote>\n  <p>*.pdf: No such file or directory</p>\n</blockquote>\n\n<p>I already created passwordless login. Is there a way to do bulk copy of matching pattern files ?</p>\n"}, {"tags": ["perl", "fork", "plack", "psgi", "starman"], "comments": [{"owner": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 0, "creation_date": 1467282015, "post_id": 38116264, "comment_id": 63672481, "body": "Your goal is not quite clear. Do you want to make your app an object?"}, {"owner": {"reputation": 31, "user_id": 5821148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d46d2b6553b3986f781b7dbd97d070a?s=128&d=identicon&r=PG&f=1", "display_name": "Roman None", "link": "https://stackoverflow.com/users/5821148/roman-none"}, "reply_to_user": {"reputation": 723, "user_id": 4568433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A0ltyCE72fA/AAAAAAAAAAI/AAAAAAAAADY/4U7GU992t_E/photo.jpg?sz=128", "display_name": "Alexandr Evstigneev", "link": "https://stackoverflow.com/users/4568433/alexandr-evstigneev"}, "edited": false, "score": 0, "creation_date": 1467298231, "post_id": 38116264, "comment_id": 63684356, "body": "object - it is just properly type of coding. But my aim is find the place where init-function called once and after forking"}], "answers": [{"tags": [], "owner": {"reputation": 336, "user_id": 3808623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4de1e889b7b1d5bde4aa4bc089e74c?s=128&d=identicon&r=PG", "display_name": "ccm", "link": "https://stackoverflow.com/users/3808623/ccm"}, "is_accepted": false, "score": 1, "last_activity_date": 1470934463, "creation_date": 1470934463, "answer_id": 38902130, "question_id": 38116264, "link": "https://stackoverflow.com/questions/38116264/psgi-constructor-for-each-prefork-child/38902130#38902130", "title": "PSGI - constructor for each prefork-child", "body": "<p>Your .psgi could be as simple as this:</p>\n\n<pre><code>my $obj = Myapp-&gt;new;\n\nmy $app = sub {\n    my $env = shift;\n\n    return $obj-&gt;call($env);\n};\n</code></pre>\n\n<p>If run with <code>starman</code>, <code>Myapp</code> will be instantiated each time Starman forks, and your instance's <code>call</code> method will be called on each request. This works because, by default, your .psgi file is loaded by the child processes.</p>\n\n<p>If run with <code>starman --preload-app</code>, <code>Myapp</code> will be instantiated only once (in the parent) and all children will share the same instance. You may get memory savings by doing this, but your app will need to take care not to mess with other siblings by using shared connections. See <a href=\"https://metacpan.org/pod/distribution/Starman/script/starman#preload-app\" rel=\"nofollow\">https://metacpan.org/pod/distribution/Starman/script/starman#preload-app</a> for more information.</p>\n\n<p>Here's another idea for your .psgi:</p>\n\n<pre><code>my %objects;\n\nmy $app = sub {\n    my $env = shift;\n    my $obj;\n\n    if ($objects{$$}) {\n        $obj = $objects{$$};\n    }\n    else {\n        $obj = Myapp-&gt;new;\n        %objects = ($$ =&gt; $obj);\n    }\n\n    return $obj-&gt;call($env);\n};\n</code></pre>\n\n<p>With this approach, <code>Myapp</code> isn't instantiated until a request is received, but it is instantiated only once per child process. This behavior is consistent whether or not <code>--preload-app</code> is used.</p>\n"}], "owner": {"reputation": 31, "user_id": 5821148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d46d2b6553b3986f781b7dbd97d070a?s=128&d=identicon&r=PG&f=1", "display_name": "Roman None", "link": "https://stackoverflow.com/users/5821148/roman-none"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1470934463, "creation_date": 1467270861, "question_id": 38116264, "link": "https://stackoverflow.com/questions/38116264/psgi-constructor-for-each-prefork-child", "title": "PSGI - constructor for each prefork-child", "body": "<p>I have question about constructor for each child after forking.\nFor example:</p>\n\n<pre><code>warn \"INIT : Parent : \".$$;\nmy $stash;\nsub {\n    unless($stash) {\n        warn \"init : Child : \".$$;\n        $stash = {\n            dbh =&gt; {}\n        };\n    }\n    return [ 200, ['Content-Type' =&gt; 'text/plain'], ['Hello World'] ];\n}\n</code></pre>\n\n<p>This code is working but this is bad practice.\nI would like create something like that</p>\n\n<pre><code>package Myapp;\nsub new {\n    my $class=shift;\n    my $self=bless {\n        dbh =&gt;{},\n    }, $class;\n\n}\nsub call {\n    my ($self, $env) = @_;\n    # body\n    return [ 200, ['Content-Type' =&gt; 'text/plain'], ['Hello World'] ];    }\n</code></pre>\n\n<p>i hope somebody an explain me how it can working by prefork-server like Starman or Feersum\n( But one guy \"Audrey Tang\" tell me that Feersum it not good idea for that )</p>\n\n<p>So - thanks for yours answers</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1467272618, "creation_date": 1467272618, "answer_id": 38116883, "question_id": 38114526, "link": "https://stackoverflow.com/questions/38114526/why-output-differs-while-using-following-script/38116883#38116883", "title": "Why output differs while using following script?", "body": "<p>This is actually an interesting question, because there's two different perl concepts in play. </p>\n\n<p>The first is - <code>&lt;FH&gt;</code> causes a line to be read from the file. </p>\n\n<p>So if you:</p>\n\n<pre><code>while ( &lt;FH&gt; ) {\n</code></pre>\n\n<p>What you're <em>actually</em> getting is:</p>\n\n<pre><code>while ( defined $_ = &lt;FH&gt; ) { \n\n}\n</code></pre>\n\n<p>And a line is being read from the file handle, put in <code>$_</code> and then it's tested if it's 'defined' (e.g. the read was ok) - and if it wasn't, it exits the loop. </p>\n\n<p>Because in the first example - you don't print <code>$_</code> - that line is effectively discarded. </p>\n\n<p>But the <em>second</em> think in play is about context. </p>\n\n<p><code>&lt;FH&gt;</code> works differently if you do:</p>\n\n<pre><code>my $line = &lt;FH&gt;;\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>my @lines = &lt;FH&gt;; \n</code></pre>\n\n<p>In the former case - a single line is read (up to the next <code>$/</code> - by default <code>\\n</code>). In the latter, the whole file will be read, one \"line\" per array element. </p>\n\n<p>Now, this is important because the <code>while</code> loop read - is in a scalar context (one line at a time). But the <code>print &lt;FH&gt;</code> is a list context - and will cause the whole file to be read (and printed).</p>\n\n<p>So in your first example - you're iterating the loop <em>once</em>. Discarding the first line, and printing everything else.</p>\n\n<p>And in the second loop - you're iterating once per line, and printing each line.  </p>\n\n<p>The difference isn't obvious on a 2 line file, but:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $count; \n\nwhile ( &lt;DATA&gt; ) {\n   print \"Loop count \", ++$count,\"\\n\";\n   print '$_ is \"', $_,\"\\\"\\n\";\n   print \"Printing &lt;DATA&gt;\\n\";\n   print &lt;DATA&gt;;\n}\n\n__DATA__\nline 1 \nline 2\nline 3\nline 4\nline 5\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>Loop count 1\n$_ is \"line 1 \n\"\nPrinting &lt;DATA&gt;\nline 2\nline 3\nline 4\nline 5\n</code></pre>\n\n<p>But to take your second example:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $count; \n\nwhile ( &lt;DATA&gt; ) {\n   print \"Loop count \", ++$count,\"\\n\";\n   print '$_ is \"', $_,\"\\\"\\n\";\n   print 'printing $_',\"\\n\";\n   print $_;\n}\n\n__DATA__\nline 1 \nline 2\nline 3\nline 4\nline 5\n</code></pre>\n\n<p>Which gives:</p>\n\n<pre><code>Loop count 1\n$_ is \"line 1 \n\"\nprinting $_\nline 1 \nLoop count 2\n$_ is \"line 2\n\"\nprinting $_\nline 2\nLoop count 3\n$_ is \"line 3\n\"\nprinting $_\nline 3\nLoop count 4\n$_ is \"line 4\n\"\nprinting $_\nline 4\nLoop count 5\n$_ is \"line 5\"\nprinting $_\nline 5\n</code></pre>\n\n<p>NB - there's no <code>chomp</code> in the above, so <code>$_</code> includes newlines. </p>\n\n<p>And whilst we're at it - that form of <code>open</code> isn't good practice. I would suggest instead:</p>\n\n<pre><code>open ( my $input, '&lt;', \"103m.txt\" ) or die $!; \n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 6531580, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/00b4ddb79c22f2db4912af705c14c3d8?s=128&d=identicon&r=PG&f=1", "display_name": "sago", "link": "https://stackoverflow.com/users/6531580/sago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1467272657, "creation_date": 1467264028, "last_edit_date": 1467272657, "question_id": 38114526, "link": "https://stackoverflow.com/questions/38114526/why-output-differs-while-using-following-script", "title": "Why output differs while using following script?", "body": "<p>My Input File:</p>\n\n<pre><code>103M:A|PDBID|CHAIN|SEQUENCE\nMVLSEGEWQLVLHVWAKVEADVAGHGQDILIRLFKSHPETLEKFDRFKHLKTEAEMKASEDLKKAGVTVLTALGAILKKKGHHEAELKPLAQSHATKHKIPIKYLEFISEAIIHVLHSRHPGNFGADAQGAMNKALELFRKDIAAKYKELGYQG\n</code></pre>\n\n<p>Script1:</p>\n\n<pre><code>open(FH,\"103m.txt\")||die \"error\";\nwhile(&lt;FH&gt;)\n{\n    print &lt;FH&gt;;\n}\n</code></pre>\n\n<p>script2:</p>\n\n<pre><code>open(FH,\"103m.txt\")||die \"error\";\nwhile(&lt;FH&gt;)\n{\n    print $_;\n}\n</code></pre>\n\n<p>My script1 output:</p>\n\n<pre><code>MVLSEGEWQLVLHVWAKVEADVAGHGQDILIRLFKSHPETLEKFDRFKHLKTEAEMKASEDLKKAGVTVLTALGAILKKKGHHEAELKPLAQSHATKHKIPIKYLEFISEAIIHVLHSRHPGNFGADAQGAMNKALELFRKDIAAKYKELGYQ\n</code></pre>\n\n<p>Script2 output:</p>\n\n<pre><code>103M:A|PDBID|CHAIN|SEQUENCE\nMVLSEGEWQLVLHVWAKVEADVAGHGQDILIRLFKSHPETLEKFDRFKHLKTEAEMKASEDLKKAGVTVLTALGAILKKKGHHEAELKPLAQSHATKHKIPIKYLEFISEAIIHVLHSRHPGNFGADAQGAMNKALELFRKDIAAKYKELGYQG\n</code></pre>\n"}, {"tags": ["linux", "perl", "if-statement"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1467293806, "post_id": 38114495, "comment_id": 63680672, "body": "<code>&lt;sarc&gt;</code> Yes, both <code>&lt;=</code> and <code>le</code> are broken and no one had noticed it until now.<code>&lt;&#47;sarc&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1467273110, "creation_date": 1467273110, "answer_id": 38117046, "question_id": 38114495, "link": "https://stackoverflow.com/questions/38114495/less-than-or-equal-to-operator-not-working-in-if-condition/38117046#38117046", "title": "&quot;less than or equal to&quot; operator not working in if condition", "body": "<p>Without seeing your input data, I'm going to have to guess. </p>\n\n<p>But  from what you've got, I'm guessing you're comparing:</p>\n\n<p><code>20160629-1000</code> with <code>20160629-1000.log</code></p>\n\n<p>The suffix on the end makes it alphabetically 'greater'.</p>\n\n<pre><code>print \"yes\" if \"20160629-1000\" le \"20160629-1000.log\";\nprint \"no\" if  \"20160629-1000.log\" le \"20160629-1000\";\n</code></pre>\n\n<p>That's because <code>le</code> is a stringwise comparison, not a numeric one. </p>\n\n<p>The simple fix would be to strip off the suffix:</p>\n\n<pre><code>for (@srt_list) {\n    my ($compare) = m/(splash.*[\\d\\-]+)\\.log/;\n    print \"Comparing $compare with $serv and $eserv\\n\";    \n    if ($compare ge $serv &amp;&amp; $compare le $eserv) {\n        chomp $_;\n\n        push (@arrlog, $_);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3579888, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001293182662/picture?type=large", "display_name": "user3579888", "link": "https://stackoverflow.com/users/3579888/user3579888"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1467273110, "creation_date": 1467263888, "last_edit_date": 1467264112, "question_id": 38114495, "link": "https://stackoverflow.com/questions/38114495/less-than-or-equal-to-operator-not-working-in-if-condition", "title": "&quot;less than or equal to&quot; operator not working in if condition", "body": "<pre><code>my $path=\"/mnt/splash/logs/\";\nmy $serv= sprintf(\"splash-%s-%02d%02d%02d-%s\",$server,$year,$mon,$date,$hourStart);\nmy $eserv= sprintf(\"splash-%s-%02d%02d%02d-%s\",$server,$eyear,$emon,$edate,$hourEnd);\nprint $serv;\nprint $eserv;\n#OPEN THE SPLASH LOGS DIRECTORY AND READ THE FILES PRESENT THEN STORE IT IN ARRAY.\n\nmy $remote_dir=sprintf(\"ssh %s 'ls %s'\",$server,$path);\nchomp $remote_dir;\nmy @list=`$remote_dir`;\n\n#FINDING THE ONLY SPLASH LOGS FILES FROM THE DIRECTORY AND STORED IN AN ARRAY USING PUSH METHOD.\nmy @srt_list= sort @list;\nmy @arlist=();\nmy @arrlog=();\nmy $i=0;\nmy $filt;\nfor(@srt_list) {\n    if ($_ ge $serv &amp;&amp; $_ le $eserv) {\n        #my $filter= sprintf(\"$_\\n\");\n        chomp $_;\n\n        push (@arrlog, $_);\n    }\n}\n</code></pre>\n\n<p>Above is the perl code i used to retrieve the logs from the array. I used <code>if</code> condition with the <code>ge</code> and <code>le</code> operators but if i searched for the log file between 20160628-0400.log to 20160629-1000.log this code is giving the logs from 20160628-0400.log to 20160629-0900.log this is not retrieving the log 20160629-1000.log which the end time log i m searching. i dunno how this happening i used le operator that means it should select the logs that is less than or equal log right?</p>\n\n<p>Please clarify this. i really don't wanna add any other check to retrieve the end time log. </p>\n"}]