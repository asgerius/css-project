[{"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 0, "last_activity_date": 1575501321, "creation_date": 1575501321, "answer_id": 59185944, "question_id": 59185851, "link": "https://stackoverflow.com/questions/59185851/how-to-solve-warning-message-use-of-uninitialized-value-in-numeric-lt-at-t/59185944#59185944", "title": "how to solve warning message Use of uninitialized value in numeric lt (&lt;) at ./test.pl line 17", "body": "<p>Change the order of the conditions to make sure the array access is not out of bounds.  This eliminates the warning:</p>\n\n<pre><code>while ( ($i &lt; ($n-1)) &amp;&amp; ($array[$i] &lt; $array[$i+1]) ) {\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 11488672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb454ce3cf4d8a168b651a2bf0a8f56?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed", "link": "https://stackoverflow.com/users/11488672/mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 59185944, "answer_count": 1, "score": 2, "last_activity_date": 1575501594, "creation_date": 1575500644, "last_edit_date": 1575501594, "question_id": 59185851, "link": "https://stackoverflow.com/questions/59185851/how-to-solve-warning-message-use-of-uninitialized-value-in-numeric-lt-at-t", "title": "how to solve warning message Use of uninitialized value in numeric lt (&lt;) at ./test.pl line 17", "body": "<p>The program below works fine, but there is a warning that says:</p>\n\n<blockquote>\n  <p>Use of uninitialized value in numeric lt (&lt;) line 17.</p>\n</blockquote>\n\n<p>How do I fix the warning?</p>\n\n<p>Any help would be really appreciated !</p>\n\n<pre><code>    #!/usr/bin/perl \n    use strict;\n    use Carp;\n    use warnings;\n\n\n    my @array = (1,3,7,9,7,10,11,12,13,14,15,16,27,10,9,18,19,20,21,22,23,24,9,3,4);\n    my $i = 0;\n    my $j = 0;\n    my $k = 0;\n    my $n = $#array+1;\n    my $tempj = 0;\n\n    while(1){\n     $j=$i;\n     while (($array[$i] &lt; $array[$i+1]) &amp;&amp; ($i &lt; ($n-1))){\n      $i++;\n     }\nif(( $i - $j) &gt; $k){\n        $k = $i-$j;\n        $tempj=$j;   \n}\nif ($i &gt;= ($n-1)){\n    print \"la position : \",$j,\" , la langueur: \",$k,\"\\n\";\n        exit;\n    }\n\nelse{\n$j=$i;\nwhile ($array[$i]&gt;$array[$i+1] &amp;&amp; $i &lt; ($n-1)){\n    $i++;\n}\n\nif(($i-$j) &gt; $k){\n     $k = $i-$j;\n     $tempj=$j;\n\n}\nif ($i &gt;= ($n-1)){\n     print \"la position : \",$j,\" , la langueur\",$k,\"\\n\";\n     exit;\n    }\n}\n\n}\n</code></pre>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["java", "perl", "websphere-liberty", "processbuilder"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 2998464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae909c5f164f86fdce2bfbd49e0be046?s=128&d=identicon&r=PG&f=1", "display_name": "Amando dos Santos Neto", "link": "https://stackoverflow.com/users/2998464/amando-dos-santos-neto"}, "edited": false, "score": 0, "creation_date": 1585889245, "post_id": 59189333, "comment_id": 107928212, "body": "Thanks but it did not work. What I did was to breakdown the process into 2. The GUI creates a new entrance on cron job."}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1575526747, "creation_date": 1575526747, "answer_id": 59189333, "question_id": 59184641, "link": "https://stackoverflow.com/questions/59184641/how-to-start-a-new-process-on-websphere-liberty-and-make-it-in-dependable/59189333#59189333", "title": "How to start a new process on Websphere Liberty and make it in-dependable", "body": "<p>Dissociate the process from the parent (orphaning).</p>\n\n<p><a href=\"http://enwp.org/Orphan_process\" rel=\"nofollow noreferrer\">http://enwp.org/Orphan_process</a></p>\n\n<blockquote>\n  <p>A low-level approach is to fork twice, running the desired process in the grandchild, and immediately terminating the child. The grandchild process is now orphaned, and is not adopted by its grandparent, but rather by init.</p>\n</blockquote>\n\n<p>See the <a href=\"https://metacpan.org/source/AKREAL/Proc-Daemon-0.23/lib/Proc/Daemon.pm#L148\" rel=\"nofollow noreferrer\">Proc-Daemon source code</a> for details.</p>\n"}], "owner": {"reputation": 21, "user_id": 2998464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae909c5f164f86fdce2bfbd49e0be046?s=128&d=identicon&r=PG&f=1", "display_name": "Amando dos Santos Neto", "link": "https://stackoverflow.com/users/2998464/amando-dos-santos-neto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575526747, "creation_date": 1575493309, "question_id": 59184641, "link": "https://stackoverflow.com/questions/59184641/how-to-start-a-new-process-on-websphere-liberty-and-make-it-in-dependable", "title": "How to start a new process on Websphere Liberty and make it in-dependable", "body": "<p>Developing a solution using ProcessBuilder to launch a perl script on Windows and Linux. The script is launched by a REST API. The Perl script does a stop/start on web server(Liberty Websphere). The REST API waits the result of such script. But since the server is shutting down, the rest api is disconnected and the perl script stops. \nI\u00b4m trying to find way out to start the perl script that does not depend on Webserver process. \nThe main goals is to update a few resource on the web application by loading a patch file and then execute the perl script over this patch file.</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1575478218, "creation_date": 1575478218, "answer_id": 59180993, "question_id": 59180834, "link": "https://stackoverflow.com/questions/59180834/find-key-in-subhash-without-iterate-through-the-whole-hash/59180993#59180993", "title": "Find key in subhash without iterate through the whole hash", "body": "<p>Use <a href=\"http://p3rl.org/values\" rel=\"noreferrer\">values</a>:</p>\n\n<pre><code>for my $inner_hash (values %$hash) {\n    say grep exists $inner_hash-&gt;{$_}, @list;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 1, "last_activity_date": 1575480115, "creation_date": 1575480115, "answer_id": 59181589, "question_id": 59180834, "link": "https://stackoverflow.com/questions/59180834/find-key-in-subhash-without-iterate-through-the-whole-hash/59181589#59181589", "title": "Find key in subhash without iterate through the whole hash", "body": "<p>You have to loop all the level1 keys. But if you don't need to know which keys match and merely care for the existence of any, then you don't have to ask for each member of your list explicitly. You could say</p>\n\n<pre><code>foreach my $k (keys %hash) {\n   if ( @{ $hash{$k} }{ @list } )\n   {\n   }\n}\n</code></pre>\n\n<p>The hash slice will return all values in the subhash which have matching keys in the list. Keys in the list that are not in the subhash get ignored. </p>\n\n<p>Note however, that this does potentially more work than you may really need. </p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 6682670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76ca9212187c92e520b7aaa2232cba98?s=128&d=identicon&r=PG&f=1", "display_name": "Matias Irazoqui", "link": "https://stackoverflow.com/users/6682670/matias-irazoqui"}, "edited": false, "score": 0, "creation_date": 1575537896, "post_id": 59190534, "comment_id": 104602601, "body": "And what do you think would be a better data structure for this? I tend to always think in hashes"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35, "user_id": 6682670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76ca9212187c92e520b7aaa2232cba98?s=128&d=identicon&r=PG&f=1", "display_name": "Matias Irazoqui", "link": "https://stackoverflow.com/users/6682670/matias-irazoqui"}, "edited": false, "score": 0, "creation_date": 1575538600, "post_id": 59190534, "comment_id": 104602997, "body": "What data structure allows you to quickly check if it contains a string? A hash keyed by the strings you want to search, for one. (As opposed to what you have: A hash whose values are hashes keyed by the strings you want to search.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1575538084, "last_edit_date": 1575538084, "creation_date": 1575532538, "answer_id": 59190534, "question_id": 59180834, "link": "https://stackoverflow.com/questions/59180834/find-key-in-subhash-without-iterate-through-the-whole-hash/59190534#59190534", "title": "Find key in subhash without iterate through the whole hash", "body": "<p>You don't need to iterate over \"the entire hash\".</p>\n\n<p>You will necessarily over the elements of the outer hash since you want to check the value of each one, but you don't need to iterate over the elements of the inner hashes. Your solution already demonstrates that.</p>\n\n<p>So your solution is as efficient as it can be, at least in terms of how well it scales. You can only perform small optimizations such as stopping as soon as a match is found.</p>\n\n<pre><code>for my $i (@list) {\n   while ( my (undef, $inner) = each(%hash) ) {\n      if (exists($inner-&gt;{$i}) {\n         ...\n         last;\n      }\n   }\n\n   keys(%hash);   # Reset iterator since it might not be exhausted.\n}\n</code></pre>\n\n<p>As a micro optimization, it might be beneficial to invert the nesting of the loops.</p>\n\n<pre><code>my %list = map { $_ =&gt; 1 } @list;\n\nwhile ( my (undef, $inner) = each(%hash) ) {\n   while (defined( my $k = each(%$inner) )) {\n      if ($list{$k}) {\n         delete($list{$k});\n         ...\n         last if !keys(%list);\n      }\n\n   }\n\n   keys(%$inner);   # Reset iterator since it might not be exhausted.\n   last if !keys(%list);\n}\n\nkeys(%hash);   # Reset iterator since it might not be exhausted.\n</code></pre>\n\n<p>If the hashes are small, these changes might actually slow things down.</p>\n\n<p>Honestly, if there's truly a speed issue, the problem is that you used the wrong data structure for the type of query you want to run on it!</p>\n"}], "owner": {"reputation": 35, "user_id": 6682670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76ca9212187c92e520b7aaa2232cba98?s=128&d=identicon&r=PG&f=1", "display_name": "Matias Irazoqui", "link": "https://stackoverflow.com/users/6682670/matias-irazoqui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 59180993, "answer_count": 3, "score": 3, "last_activity_date": 1575538084, "creation_date": 1575477716, "question_id": 59180834, "link": "https://stackoverflow.com/questions/59180834/find-key-in-subhash-without-iterate-through-the-whole-hash", "title": "Find key in subhash without iterate through the whole hash", "body": "<p>I have a hash that looks like this:</p>\n\n<pre><code>my $hash = {\n    level1_f1 =&gt; {\n                  level2_f1 =&gt; 'something',\n                  level2_f2 =&gt; 'another thing'\n    },\n    level1_f2 =&gt; {\n                  level2_f3 =&gt; 'yet another thing',\n                  level2_f4 =&gt; 'bla bla'\n                  level2_f5 =&gt; ''\n    }\n...\n }\n</code></pre>\n\n<p>I also got a list of values that correspond to the \"level2\" keys, which I want to know if thy exist in the hash.</p>\n\n<p><code>@list = (\"level2_f2\", \"level2_f4\", \"level2_f99\")</code></p>\n\n<p>I don't know which \"level1\" key each element of @list belongs to. The only way of finding if they existed I could think was using a foreach loop to go through @list, another foreach loop to go through the keys of %hash and checking </p>\n\n<pre><code>foreach my $i (@array) {\n  foreach my $k (keys %hash) {\n     if (exists $hash{$k}{$list[$i]})\n }\n}\n</code></pre>\n\n<p>but I wanted to know if there is a more eficient or maybe a more elegant way to do it. All the answers I found ask you to know the \"level1\" key, which I don't.</p>\n\n<p>Thanks!!</p>\n"}, {"tags": ["perl", "gd", "strawberry-perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1575486840, "post_id": 59179848, "comment_id": 104587023, "body": "What command are you running when you get those errors?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575499272, "post_id": 59179848, "comment_id": 104591488, "body": "The error might not be referring to <code>GD.xs.dll</code> itself but to another library used by <code>GD.xs.dll</code>. Easiest solution might be to reinstall GD"}, {"owner": {"reputation": 23, "user_id": 12119932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ceb7240ecf4701e2b50322aecbbc21?s=128&d=identicon&r=PG&f=1", "display_name": "daan-banaan", "link": "https://stackoverflow.com/users/12119932/daan-banaan"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1575534825, "post_id": 59179848, "comment_id": 104601260, "body": "@H&#229;konH&#230;gland I&#39;ve updated my question. It&#39;s my Apache server that gives me these errors."}, {"owner": {"reputation": 23, "user_id": 12119932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ceb7240ecf4701e2b50322aecbbc21?s=128&d=identicon&r=PG&f=1", "display_name": "daan-banaan", "link": "https://stackoverflow.com/users/12119932/daan-banaan"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575534924, "post_id": 59179848, "comment_id": 104601306, "body": "@ikegami Is there any way to find out if it&#39;s indeed another library and, if so, which one? Also, how would I reinstall GD? I already did a <code>force install GD</code> in cpan."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575535586, "post_id": 59179848, "comment_id": 104601579, "body": "There are tools to inspect libraries, but I&#39;m not familiar with them // That would reinstall, yes. If you still have the problem, then it more complicated then a library being removed/renamed since GD.xs.dll was created."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 12119932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ceb7240ecf4701e2b50322aecbbc21?s=128&d=identicon&r=PG&f=1", "display_name": "daan-banaan", "link": "https://stackoverflow.com/users/12119932/daan-banaan"}, "is_accepted": false, "score": 1, "last_activity_date": 1583249876, "last_edit_date": 1583249876, "creation_date": 1575561977, "answer_id": 59199067, "question_id": 59179848, "link": "https://stackoverflow.com/questions/59179848/perl-error-cant-load-gd-xs-dll-for-module-gd/59199067#59199067", "title": "Perl Error: Can&#39;t load GD.xs.dll for module GD", "body": "<p>Answering my own question: apparently Windows needs to load the dll file on startup or something because after restarting my machine it seems to work...</p>\n"}], "owner": {"reputation": 23, "user_id": 12119932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ceb7240ecf4701e2b50322aecbbc21?s=128&d=identicon&r=PG&f=1", "display_name": "daan-banaan", "link": "https://stackoverflow.com/users/12119932/daan-banaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1583249876, "creation_date": 1575474603, "last_edit_date": 1575535127, "question_id": 59179848, "link": "https://stackoverflow.com/questions/59179848/perl-error-cant-load-gd-xs-dll-for-module-gd", "title": "Perl Error: Can&#39;t load GD.xs.dll for module GD", "body": "<p>I've installed Strawberry Perl on my Windows Server 2019 machine and my Apache server keeps giving me the following errors when I try to run perl scripts:</p>\n\n<p><code>Can't load 'C:/usr/site/lib/auto/GD/GD.xs.dll' for module GD: load_file:The specified module could not be found at C:/usr/lib/DynaLoader.pm line 193.: D:/www/update/cgi-bin/FILENAME.pl, referer: http://update/cgi-bin/FILENAME.pl</code></p>\n\n<p><code>: D:/www/update/cgi-bin/FILENAME.pl, referer: http://update/cgi-bin/FILENAME.pl</code></p>\n\n<p><code>Compilation failed in require at C:/usr/site/lib/GD/Simple.pm line 160.: D:/www/update/cgi-bin/FILENAME.pl, referer: http://update/cgi-bin/FILENAME.pl</code></p>\n\n<p><code>BEGIN failed--compilation aborted at C:/usr/site/lib/GD/Simple.pm line 160.: D:/www/update/cgi-bin/FILENAME.pl, referer: http://update/cgi-bin/FILENAME.pl</code></p>\n\n<p><code>Compilation failed in require at D:/www/update/cgi-bin/FILENAME.pl line 8.: D:/www/update/cgi-bin/FILENAME.pl, referer: http://update/cgi-bin/FILENAME.pl</code></p>\n\n<p><code>BEGIN failed--compilation aborted at D:/www/update/cgi-bin/FILENAME.pl line 8.: D:/www/update/cgi-bin/FILENAME.pl, referer: http://update/cgi-bin/FILENAME.pl</code></p>\n\n<p>When I open the location C:\\usr\\site\\lib\\auto\\GD\\ the GD.xs.dll is sitting right there, so it's not missing. </p>\n\n<p>These scripts worked before when I was using ActivePerl. I've tried to reinstall GD (in cpan: <code>force install GD</code>) and upgraded all modules (in cpan: <code>upgrade</code>) but that doesn't seem to do anything. Am I maybe missing some dependencies? Or is because I'm running a x64 machine and the dll file is incompatible with a 64bit system?</p>\n\n<p>If anyone can help it would be greatly appreciated because this is starting to drive me mad.</p>\n"}, {"tags": ["string", "perl", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1575474535, "post_id": 59179636, "comment_id": 104580642, "body": "On SO we do encourage people to add their efforts which they have put in order to solve their own problems, so kindly do add the same in your question and let us know then.(I don&#39;t downvote btw)"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 3523842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fbf8b7ad8a1976f8d7f98c8f1018e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Martin", "link": "https://stackoverflow.com/users/3523842/leonardo-martin"}, "edited": false, "score": 1, "creation_date": 1575478142, "post_id": 59180623, "comment_id": 104582800, "body": "THANK you very much RavinderSingh13. This solution works perfectly. In order for me and perhaps others to understand and learn a bit more, could you please if it isn&#39;t a problem explain a how this code works."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 33, "user_id": 3523842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fbf8b7ad8a1976f8d7f98c8f1018e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Martin", "link": "https://stackoverflow.com/users/3523842/leonardo-martin"}, "edited": false, "score": 1, "creation_date": 1575478222, "post_id": 59180623, "comment_id": 104582861, "body": "@LeonardoMartin, Detailed explanation is already added in my post, kindly go through it and lemme know if any queries here?"}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": true, "score": 1, "last_activity_date": 1575477667, "last_edit_date": 1575477667, "creation_date": 1575477098, "answer_id": 59180623, "question_id": 59179636, "link": "https://stackoverflow.com/questions/59179636/how-can-i-count-number-of-lines-after-a-string-match-until-next-especific-match/59180623#59180623", "title": "how can I count number of lines after a string match until next especific match occurs", "body": "<p>Could you please try following.</p>\n\n<pre><code>awk '\n/^&gt;Cluster/{\n  if(count){\n    print prev,count\n  }\n  sub(/^&gt;/,\"\")\n  prev=$0\n  count=\"\"\n  next\n}\n{\n  count++\n}\nEND{\n  if(count &amp;&amp; prev){\n    print prev,count\n  }\n}\n' Input_file\n</code></pre>\n\n<p><strong><em>Explanation:</em></strong> Adding explanation for above code.</p>\n\n<pre><code>awk '                      ##Starting awk program from here.\n/^&gt;Cluster/{               ##Checking condition if a line is having string Cluster then do following.\n  if(count){               ##Checking condition if variable count is NOT NULL then do following.\n    print prev,count       ##Printing prev and count variable here.\n  }                        ##Closing BLOCK for if condition here.\n  sub(/^&gt;/,\"\")             ##Using sub for substitution of starting &gt; with NULL in current line.\n  prev=$0                  ##Creating a variable named prev whose value is current line.\n  count=\"\"                 ##Nullifying count variable here.\n  next                     ##next will skip all further statements from here.\n}                          ##Closing BLOCK for Cluster condition here.\n{\n  count++                  ##Doing increment of variable count each time cursor comes here.\n}\nEND{                       ##Mentioning END BLOCK for this program.\n  if(count &amp;&amp; prev){       ##Checking condition if variable count and prev are NOT NULL then do following.\n    print prev,count       ##Printing prev and count variable here.\n  }                        ##Closing BLOCK for if condition here.\n}                          ##Closing BLOCK for END BLOCK of this program.\n' Input_file               ##Mentioning Input_file name here.\n</code></pre>\n\n<p>Output will be as follows.</p>\n\n<pre><code>Cluster 0 2\nCluster 1 2\nCluster 2 1\nCluster 3 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 3523842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fbf8b7ad8a1976f8d7f98c8f1018e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Martin", "link": "https://stackoverflow.com/users/3523842/leonardo-martin"}, "edited": false, "score": 0, "creation_date": 1575478866, "post_id": 59180686, "comment_id": 104583249, "body": "Thank you for taking the time to help with my question, your suggested Code unfortunately don&#39;t produce the desired Output, see below"}, {"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "reply_to_user": {"reputation": 33, "user_id": 3523842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fbf8b7ad8a1976f8d7f98c8f1018e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Martin", "link": "https://stackoverflow.com/users/3523842/leonardo-martin"}, "edited": false, "score": 0, "creation_date": 1575479134, "post_id": 59180686, "comment_id": 104583406, "body": "It produces the output you wanted, given your example data. Well, except for the comma, but it is trivial to remove that."}, {"owner": {"reputation": 33, "user_id": 3523842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fbf8b7ad8a1976f8d7f98c8f1018e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Martin", "link": "https://stackoverflow.com/users/3523842/leonardo-martin"}, "edited": false, "score": 0, "creation_date": 1575479284, "post_id": 59180686, "comment_id": 104583506, "body": "it was something like this                                                                                                      0&gt;Cluster 31021, 1&gt;Cluster 31021, 1&gt;Cluster 31022, 0&gt;Cluster 31022, 1&gt;Cluster 31022, 1&gt;Cluster 31023, 0&gt;Cluster 31023, 1&gt;Cluster 31023,"}, {"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "reply_to_user": {"reputation": 33, "user_id": 3523842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fbf8b7ad8a1976f8d7f98c8f1018e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Martin", "link": "https://stackoverflow.com/users/3523842/leonardo-martin"}, "edited": false, "score": 0, "creation_date": 1575479488, "post_id": 59180686, "comment_id": 104583609, "body": "Right, the <code>,</code> and the <code>&gt;</code>. I removed them. Pls try again"}], "tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 1, "last_activity_date": 1575479414, "last_edit_date": 1575479414, "creation_date": 1575477275, "answer_id": 59180686, "question_id": 59179636, "link": "https://stackoverflow.com/questions/59179636/how-can-i-count-number-of-lines-after-a-string-match-until-next-especific-match/59180686#59180686", "title": "how can I count number of lines after a string match until next especific match occurs", "body": "<p>Here's a, allbeit quite verbose one liner in <code>Perl</code>. I'm really not good at this golfing stuff.</p>\n\n<pre><code>perl -n -e \"if ( /^&gt;(.+)/ ) { print qq($last, $count\\n) if $count; $last = $1; $count = 0; } else { $count++ } END { print qq($last, $count) }\" All-Unigene_Clustered.fa.clstr\n</code></pre>\n\n<p>This is for Windows. For a unix shell you probably need to change the double to single quotes.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1575480426, "creation_date": 1575480426, "answer_id": 59181686, "question_id": 59179636, "link": "https://stackoverflow.com/questions/59179636/how-can-i-count-number-of-lines-after-a-string-match-until-next-especific-match/59181686#59181686", "title": "how can I count number of lines after a string match until next especific match occurs", "body": "<p>With GNU awk for multi-char RS:</p>\n\n<pre><code>$ awk -v RS='(^|\\n)(&gt;|$)' -F'\\n' 'NR&gt;1{print $1, NF-1}' file\nCluster 0 2\nCluster 1 2\nCluster 2 1\nCluster 3 1\n</code></pre>\n\n<p>The above just separates the input into records that start with <code>&gt;</code> at the start of a line and then prints the number of lines in each record (subtracting 1 for the <code>&gt;Cluster...</code> line).</p>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1575521475, "last_edit_date": 1575521475, "creation_date": 1575519516, "answer_id": 59188207, "question_id": 59179636, "link": "https://stackoverflow.com/questions/59179636/how-can-i-count-number-of-lines-after-a-string-match-until-next-especific-match/59188207#59188207", "title": "how can I count number of lines after a string match until next especific match occurs", "body": "<p>In perl the code can be in following form</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $cluster;\nmy $count;\n\nwhile( &lt;DATA&gt; ) {\n    chomp;\n    if( /Cluster \\d+/ ) {\n        print \"$cluster $count\\n\" if defined $cluster;\n        s/&gt;//;\n        $cluster = $_;\n        $count   = 0;\n    } else {\n        $count++;\n    }\n}\n\nprint \"$cluster $count\\n\" if defined $store;\n\n__DATA__\n&gt;Cluster 0\n0       10565nt, &gt;CL9602.Contig1_All... *\n1       1331nt, &gt;CL9602.Contig2_All... at -/98.05%\n&gt;Cluster 1\n0       3798nt, &gt;CL3196.Contig1_All... at +/97.63%\n1       9084nt, &gt;CL3196.Contig3_All... *\n&gt;Cluster 2\n0       8710nt, &gt;Unigene21841_All... *\n&gt;Cluster 3\n0       8457nt, &gt;Unigene10299_All... *\n</code></pre>\n\n<p>output</p>\n\n<pre><code>Cluster 0 2\nCluster 1 2\nCluster 2 1\nCluster 3 1\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 3523842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fbf8b7ad8a1976f8d7f98c8f1018e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Martin", "link": "https://stackoverflow.com/users/3523842/leonardo-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 59180623, "answer_count": 4, "score": 1, "last_activity_date": 1575521475, "creation_date": 1575474003, "last_edit_date": 1575476669, "question_id": 59179636, "link": "https://stackoverflow.com/questions/59179636/how-can-i-count-number-of-lines-after-a-string-match-until-next-especific-match", "title": "how can I count number of lines after a string match until next especific match occurs", "body": "<p>I have a file with the following structure (see below), I need help to find the way to match every \">Cluster\" string, and for every case count the number of lines until the next \">cluster\" and so on until the end of the file. </p>\n\n<pre><code>&gt;Cluster 0\n0       10565nt, &gt;CL9602.Contig1_All... *\n1       1331nt, &gt;CL9602.Contig2_All... at -/98.05%\n&gt;Cluster 1\n0       3798nt, &gt;CL3196.Contig1_All... at +/97.63%\n1       9084nt, &gt;CL3196.Contig3_All... *\n&gt;Cluster 2\n0       8710nt, &gt;Unigene21841_All... *\n&gt;Cluster 3\n0       8457nt, &gt;Unigene10299_All... *\n</code></pre>\n\n<p>The desired Output should look like below:</p>\n\n<pre><code>Cluster 0  2 \nCluster 1  2\nCluster 2  1\nCluster 3  1\n</code></pre>\n\n<p>I tried with awk as below, but it gives me only the line numbers.</p>\n\n<pre><code>awk '{print FNR \"\\t\" $0}' All-Unigene_Clustered.fa.clstr | head - 20\n==&gt; standard input &lt;==\n1       &gt;Cluster 0\n2       0       10565nt, &gt;CL9602.Contig1_All... *\n3       1       1331nt, &gt;CL9602.Contig2_All... at -/98.05%\n4       &gt;Cluster 1\n5       0       3798nt, &gt;CL3196.Contig1_All... at +/97.63%\n6       1       9084nt, &gt;CL3196.Contig3_All... *\n7       &gt;Cluster 2\n8       0       8710nt, &gt;Unigene21841_All... *\n9       &gt;Cluster 3\n10      0       8457nt, &gt;Unigene10299_All... *\n</code></pre>\n\n<p>I also tried with sed, but it only prints the lines while even ommiting some lines.</p>\n\n<pre><code>sed -n -e '/&gt;Cluster/,/&gt;Cluster/ p' All-Unigene_Clustered.fa.clstr | head             \n&gt;Cluster 0\n0       10565nt, &gt;CL9602.Contig1_All... *\n1       1331nt, &gt;CL9602.Contig2_All... at -/98.05%\n&gt;Cluster 1\n&gt;Cluster 2\n0       8710nt, &gt;Unigene21841_All... *\n&gt;Cluster 3\n&gt;Cluster 4\n0       1518nt, &gt;CL2313.Contig1_All... at -/95.13%\n1       8323nt, &gt;CL2313.Contig8_All... *\n</code></pre>\n\n<p>In addition I tried awk and sed in combination with 'wc' but it gives me only the total count of occurrencies for the string match. </p>\n\n<p>I thought subtracting the lines not matching the string '>cluster' using the -v option of grep, then substracting every line matching the string '>Cluster' and adding both to a new file, e.g</p>\n\n<pre><code>grep -vw '&gt;Cluster' All-Unigene_Clustered.fa.clstr | head\n0       10565nt, &gt;CL9602.Contig1_All... *\n1       1331nt, &gt;CL9602.Contig2_All... at -/98.05%\n0       3798nt, &gt;CL3196.Contig1_All... at +/97.63%\n1       9084nt, &gt;CL3196.Contig3_All... *\n0       8710nt, &gt;Unigene21841_All... *\n0       8457nt, &gt;Unigene10299_All... *\n0       1518nt, &gt;CL2313.Contig1_All... at -/95.13%\n\ngrep -w '&gt;Cluster' All-Unigene_Clustered.fa.clstr | head\n&gt;Cluster 0\n&gt;Cluster 1\n&gt;Cluster 2\n&gt;Cluster 3\n&gt;Cluster 4\n</code></pre>\n\n<p>but the problem is that the number of lines following each '>Cluster' isn't constant, each '>Cluster' string is followed by 1, 2, 3 or more lines until the next string occurs. </p>\n\n<p>I have decided to post my question after extensively searching for help within previously ansewred questions but I could't find any helpful answer.   </p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl", "substitution"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1575486064, "post_id": 59177306, "comment_id": 104586744, "body": "Seems like a bug to me. The <code>$x1 =~ s&#47;&#47;&#47;g;</code> is deleting everything in <code>$x1</code> instead of deleting nothing (as it should)."}, {"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1575487813, "post_id": 59177306, "comment_id": 104587398, "body": "same issue with 5.28.2 strawberry perl"}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1575517518, "post_id": 59185671, "comment_id": 104595624, "body": "It could be interesting to know where this feature is useful in practice?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1575517999, "post_id": 59185671, "comment_id": 104595730, "body": "@H&#229;kon H&#230;gland, No idea. Never seen it used. The example I used is easier with this feature than without, but does one ever need to do that? I effectively used it as a backreference that spans /g matches, but backreferences are rarely used in the first place."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1575517763, "last_edit_date": 1592644375, "creation_date": 1575499577, "answer_id": 59185671, "question_id": 59177306, "link": "https://stackoverflow.com/questions/59177306/blank-substitute-inside-a-substitution-changes-matched-string-to-empty/59185671#59185671", "title": "blank substitute inside a substitution changes matched string to empty", "body": "<p>Except when used by <code>split</code>, an empty pattern tells the match/substitute operator to use the last pattern to successfully match.</p>\n<p>For example,</p>\n<pre><code>$ perl -e'$_ = &quot;abba&quot;; s//c/g if /a/ || /b/; CORE::say;'\ncbbc\n</code></pre>\n<p>This means that</p>\n<pre><code>$x1 =~ s///g;\n</code></pre>\n<p>is equivalent to</p>\n<pre><code>$x1 =~ s/(we)//g;\n</code></pre>\n<p>To bypass that exception, you can use</p>\n<pre><code>$x1 =~ s/(?:)//g;\n</code></pre>\n<p>Say your real situation uses</p>\n<pre><code>$re = ...;\ns/$re//g;\n</code></pre>\n<p>You could use</p>\n<pre><code>$re = ...;\ns/(?:$re)//g;\n</code></pre>\n<p>or</p>\n<pre><code>$re = ...;\n$re = qr/$re/;\ns/$re//g;\n</code></pre>\n<hr />\n<p>Quote <a href=\"https://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>,</p>\n<blockquote>\n<p><strong>The empty pattern //</strong></p>\n<p>If the <em>PATTERN</em> evaluates to the empty string, the last <em>successfully</em> matched regular expression is used instead. In this case, only the <code>g</code> and <code>c</code> flags on the empty pattern are honored; the other flags are taken from the original pattern. If no match has previously succeeded, this will (silently) act instead as a genuine empty pattern (which will always match).</p>\n</blockquote>\n"}], "owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 59185671, "answer_count": 1, "score": 1, "last_activity_date": 1575517763, "creation_date": 1575466565, "last_edit_date": 1575483276, "question_id": 59177306, "link": "https://stackoverflow.com/questions/59177306/blank-substitute-inside-a-substitution-changes-matched-string-to-empty", "title": "blank substitute inside a substitution changes matched string to empty", "body": "<p>I'm trying following piece of code. Basically this code should not be changing $data as per my understanding. Am I missing somethings? I'm using 5.22.3(strawberry perl).</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nmy $data = 'we are here';\n$data =~ s///g;\nprint \"DATA1: $data\\n\";\n$data =~ s{(we)}{\n    my $x1 = $1;\n    $x1 =~ s///g;\n    print \"x1: ^^$x1^^\\n\";\n    \"$x1\"\n}e;\nprint \"DATA2: $data\\n\";\n</code></pre>\n\n<p>O/P-</p>\n\n<pre><code>DATA1: we are here\nx1: ^^^^\nDATA2:  are here\n</code></pre>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "reply_to_user": {"reputation": 1, "user_id": 10248678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JpnLA.jpg?s=128&g=1", "display_name": "oguz ismail", "link": "https://stackoverflow.com/users/10248678/oguz-ismail"}, "edited": false, "score": 1, "creation_date": 1575467341, "post_id": 59177297, "comment_id": 104576296, "body": "I added some details in the post that I hope will help... I tagged it with <code>awk</code> because I&#39;m sure <code>awk</code> can be used, I just don&#39;t know how. Thank you :)."}, {"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 1, "creation_date": 1575467560, "post_id": 59177297, "comment_id": 104576422, "body": "<code>perl -plae &#39;BEGIN{ %h = qw( 0&#47;0 hom 0&#47;1 het 1&#47;1 hom 1&#47;2 het 2&#47;2 hom ) } s&#47;^\\s*(.*)([0-2]\\&#47;[0-2])\\s*$&#47;$1$h{$2}&#47; &amp;&amp; s&#47;\\s+&#47;\\t&#47;g&#39; file</code>"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1575467787, "post_id": 59177297, "comment_id": 104576555, "body": "That works if you put this as an answer I will accept it... also can you please explain <code>s&#47;^\\s*(.*)([0-2]\\&#47;[0-2])\\s*$&#47;$1$h{$2}&#47; &amp;&amp; s&#47;\\s+&#47;\\t&#47;g&#39;</code>... Thank you :)."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1575474756, "post_id": 59177297, "comment_id": 104580789, "body": "What should the output be if $3 is <code>1&#47;0</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 2, "last_activity_date": 1575468284, "last_edit_date": 1575468284, "creation_date": 1575467659, "answer_id": 59177646, "question_id": 59177297, "link": "https://stackoverflow.com/questions/59177297/awk-or-perl-to-update-replace-pattern-with-specific-value/59177646#59177646", "title": "awk or perl to update/replace pattern with specific value", "body": "<p>Could you please try following.</p>\n\n<pre><code>awk '\nBEGIN{\n  OFS=\"\\t\"\n}\n$NF==\"0/0\" || $NF==\"1/1\"{\n  $NF=\"hom\"\n}\n$NF==\"0/1\"{\n  $NF=\"het\"\n}\n1\n' Input_file\n</code></pre>\n\n<p><strong><em>Explanation:</em></strong> Adding explanation for above code.</p>\n\n<pre><code>awk '                            ##Starting awk program here.\nBEGIN{                           ##Starting BEGIN section of this program here.\n  OFS=\"\\t\"                       ##Setting OFS as \\t(tab) here.\n}                                ##Closing BLOCK for BEGIN section of this command here.\n$NF==\"0/0\" || $NF==\"1/1\"{        ##Checking condition if last field is either equal to 0/0 OR 1/1 then do following.\n  $NF=\"hom\"                      ##Set last field value of as string hom string here.\n}                                ##Closing BLOCK for this above condition here.\n$NF==\"0/1\"{                      ##Checking condition if last field value is 0/1 then do following.\n  $NF=\"het\"                      ##Setting last field value as het string here.\n}                                ##Closing BLOCK for condition here.\n1                                ##mentioning 1 will print edited/non-edited line here.\n' Input_file                     ##Mentioning Input_file name here.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "is_accepted": true, "score": 3, "last_activity_date": 1575470384, "last_edit_date": 1575470384, "creation_date": 1575469947, "answer_id": 59178384, "question_id": 59177297, "link": "https://stackoverflow.com/questions/59177297/awk-or-perl-to-update-replace-pattern-with-specific-value/59178384#59178384", "title": "awk or perl to update/replace pattern with specific value", "body": "<p>Your Perl script seems to be trying to use <code>$1</code>, <code>$2</code> as if they are awk fields:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>/^.*([0-2]\\/[0-2])/ and  \n$_ .= join \"\\t\", (\"\", $1, $2, $h{$3})' file \n</code></pre>\n\n<p>However, in Perl, these variables refer to capture groups from a regex match. In your regex, there is only a single capture group. This is clearer, if you modify the join as:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>/^.*([0-2]\\/[0-2])/ and  \n$_ .= join \"#\", (\"\", \":\", $1, \"::\", $2, \":::\", $h{$3})' file \n</code></pre>\n\n<p>Your output will be:</p>\n\n<pre><code>chr1 115252242  0/0#:#0/0#::##:::#\nchr1 247587408  1/1#:#1/1#::##:::#\nchr5 35873605   0/1#:#0/1#::##:::#\n</code></pre>\n\n<p>In addition <code>.=</code> appends to the existing value; it does not replace it.</p>\n\n<p>A modification to your script to fix this is to add an extra capture group:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>/^(.*)([0-2]\\/[0-2])/\n</code></pre>\n\n<p>Now you can refer to <code>$1</code> and <code>$2</code>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$_ = join(\"\\t\", $1, $h{$2});\n</code></pre>\n\n<p>However, as <code>$1</code> ends with whitespace already, and you seem to want to end up with TSV, you can extract leading/trailing whitespace by:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>/^\\s*(.*)([0-2]\\/[0-2])\\s*$/\n</code></pre>\n\n<p>and then replace all remaining runs of whitespace with a single tab:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>s/\\s+/\\t/g\n</code></pre>\n\n<p>Finally, instead of <code>m//</code> (match) followed by <code>join</code>, you can simply use <code>s///</code> (find and replace). We use <code>&amp;&amp;</code> so that the second replacement only happens if the first one did anything:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>s/^\\s*(.*)([0-2]\\/[0-2])\\s*$/$1$h{$2}/ &amp;&amp; s/\\s+/\\t/g\n</code></pre>\n\n<p>The final program is:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>perl -plae '\n    BEGIN{ %h = qw( 0/0 hom 0/1 het 1/1 hom 1/2 het 2/2 hom ) }\n    s/^\\s*(.*)([0-2]\\/[0-2])\\s*$/$1$h{$2}/ &amp;&amp; s/\\s+/\\t/g\n' file   \n</code></pre>\n\n<hr>\n\n<p>An awk equivalent might be:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>awk -v OFS=\"\\t\" '\n    $3 ~ /^[0-9]+\\/[0-9]+/$/ {\n        split($3,n,\"/\")\n        $3 = n[1]==n[2] ? \"hom\" : \"het\"\n    }\n    1\n' file\n</code></pre>\n\n<p>This processes lines with whitespace-delimited columns. It checks if the 3rd column has the appropriate form. If so, it is split into two numbers. If the numbers match, it sets the 3rd column to \"hom\"; if not, to \"het\". <code>1</code> is a shorter way to write <code>{print}</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": -1, "last_activity_date": 1575474708, "creation_date": 1575474708, "answer_id": 59179877, "question_id": 59177297, "link": "https://stackoverflow.com/questions/59177297/awk-or-perl-to-update-replace-pattern-with-specific-value/59179877#59179877", "title": "awk or perl to update/replace pattern with specific value", "body": "<pre><code>$ awk 'BEGIN{map[\"0/0\"]=map[\"1/1\"]=\"hom\"; map[\"0/1\"]=\"net\"} $3 in map{$3=map[$3]} 1' file\nchr1 115252242 hom\nchr1 247587408 hom\nchr5 35873605 net\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1575521148, "last_edit_date": 1575521148, "creation_date": 1575520428, "answer_id": 59188317, "question_id": 59177297, "link": "https://stackoverflow.com/questions/59177297/awk-or-perl-to-update-replace-pattern-with-specific-value/59188317#59188317", "title": "awk or perl to update/replace pattern with specific value", "body": "<p>Following code should give desired result</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $file = do { local $/; &lt;DATA&gt; };\n\n$file =~ s#(0/0|1/1)#hom#g;\n$file =~ s#0/1#het#g;\n\n$file =~ s# +#\\t#g;     # replace space separators to tab\n\nprint $file;\n\n__DATA__\nchr1 115252242  0/0\nchr1 247587408  1/1\nchr5 35873605   0/1\n</code></pre>\n\n<p>output</p>\n\n<pre><code>chr1    115252242       hom\nchr1    247587408       hom\nchr5    35873605        het\n</code></pre>\n"}], "owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 59178384, "answer_count": 4, "score": 0, "last_activity_date": 1575521148, "creation_date": 1575466539, "last_edit_date": 1575467572, "question_id": 59177297, "link": "https://stackoverflow.com/questions/59177297/awk-or-perl-to-update-replace-pattern-with-specific-value", "title": "awk or perl to update/replace pattern with specific value", "body": "<p>Trying to use <code>perl</code> or <code>awk</code> to update a specific pattern in a <code>file</code> to a specific text value. The code does execute but does not produce the desired output, rather it seems to repeat <code>$3</code> instead of update it. Thank you :).</p>\n\n<p>So when <code>0/0</code> or <code>1/1</code> is found in <code>$3</code> it is updated/replaced with <code>hom</code> or when <code>0/1</code> is found in <code>$3</code> it is replaced/updated to <code>het</code>.</p>\n\n<p><strong>file</strong> <code>space delimited</code></p>\n\n<pre><code>chr1 115252242  0/0\nchr1 247587408  1/1\nchr5 35873605   0/1\n</code></pre>\n\n<p><strong>perl</strong></p>\n\n<pre><code>perl -plae '\n  BEGIN{ %h = qw(0/0 hom 0/1 het 1/1 hom 1/2 het 2/2 hom) } # define patterns\n  /^.*([0-2]\\/[0-2])/ # define hash values to use with patterns and  \n  $_ .= join \"\\t\", (\"\", $1, $2, $h{$3})' file  # print updated output\n</code></pre>\n\n<p><strong>current</strong></p>\n\n<pre><code>chr1 115252242  0/0 0/0     \nchr1 247587408  1/1 1/1     \nchr5 35873605   0/1 0/1\n</code></pre>\n\n<p><strong>desired</strong>  <code>tab-delimited</code></p>\n\n<pre><code>chr1    115252242   hom     \nchr1    247587408   hom     \nchr5    35873605    het\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1575466699, "post_id": 59177236, "comment_id": 104575893, "body": "Show more code. It is not clear why you think &quot;Perl recognizes the single quote in the Name, as being the end of the String&quot;."}, {"owner": {"reputation": 11, "user_id": 9219603, "user_type": "registered", "profile_image": "https://graph.facebook.com/1462451123804688/picture?type=large", "display_name": "Ionu\u0163 Sanda", "link": "https://stackoverflow.com/users/9219603/ionu%c5%a3-sanda"}, "reply_to_user": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1575466799, "post_id": 59177236, "comment_id": 104575967, "body": "The string looks exactly like this: <code>&#39;USER1:O&#39;NEILL:PATRICK:M:lastname_firstname@company.com&#39;</code> of course, username, and e-mail has been modified (to not post it here) - yet, this is the exact format of the string - now, as you can see, the fact that his name contains a single quote, perl recognizez that that ends the string - that quote I want to replace with a backslash quote (exit character)"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1575467434, "post_id": 59177236, "comment_id": 104576345, "body": "<code>$str=~s#\\w\\&#39;\\w# $&amp;=~s{\\&#39;}{\\\\\\&#39;}r; #eig;</code>"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1575467527, "post_id": 59177236, "comment_id": 104576397, "body": "Is this part of some larger string?"}, {"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 1, "creation_date": 1575467840, "post_id": 59177236, "comment_id": 104576600, "body": "Show more code. How are you getting this so-called &quot;string&quot; into your Perl script? What is the exact error message? What is the exact code that produces the error message?"}, {"owner": {"reputation": 11, "user_id": 9219603, "user_type": "registered", "profile_image": "https://graph.facebook.com/1462451123804688/picture?type=large", "display_name": "Ionu\u0163 Sanda", "link": "https://stackoverflow.com/users/9219603/ionu%c5%a3-sanda"}, "edited": false, "score": 0, "creation_date": 1575468947, "post_id": 59177236, "comment_id": 104577285, "body": "unfortunately, I can&#39;t provide more code than this since it&#39;s part of multiple scripts... At compilation there is no error, it only shows and error when accessing the developer tools in the browser, and the error is very generic for the couple if thousands long script: <code>Uncaught SyntaxError: missing ) after argument list</code>... This &quot;string&quot; is concatenated from an array:  <code>my @valueArray = split &#47;:&#47;, $Daten;\t\t \t\t$Last__bName             = $valueArray[ 1]; \t\t$First__bName            = $valueArray[ 2]; \t\t$E__uMail__bAddress      = $valueArray[ 4];</code>"}, {"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1575472830, "post_id": 59177236, "comment_id": 104579619, "body": "Show more code. <code>$s=q(&#39;:&#39;&#39;:&#39;&#39;&#39;:&#39;&#39;&#39;&#39;); @a=split&#47;:&#47;,$s; $v1=$a[1]; $v2=$a[2];</code> works fine."}, {"owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "edited": false, "score": 0, "creation_date": 1575513131, "post_id": 59177236, "comment_id": 104594700, "body": "Is the &#39;USER1...&#39; string a constant in the code ? external input ? Does the code tries to &#39;eval&#39; dynamically generated code ? Is the code generated with &#39;Here Document&#39; or similar ? Can you provide a small example that will reproduce the error ?"}, {"owner": {"reputation": 11, "user_id": 9219603, "user_type": "registered", "profile_image": "https://graph.facebook.com/1462451123804688/picture?type=large", "display_name": "Ionu\u0163 Sanda", "link": "https://stackoverflow.com/users/9219603/ionu%c5%a3-sanda"}, "edited": false, "score": 0, "creation_date": 1575530782, "post_id": 59177236, "comment_id": 104599567, "body": "every bit of the string, user, lastname, firstname, email, and so on are dynamically read from the database.  After each bit is read, it&#39;s concatenated from an array into the <code>$Daten</code> and then dynamically displayed with html: <code>$html .= &quot;&lt;a href=\\&quot;javascript: NSAG_SCD_Import(&#39;$Daten&#39;)\\&quot;&gt;&quot;; \t\t$html .= &quot;&lt;img src=\\&quot;&#47;MRimg&#47;details.png\\&quot; alt=\\&quot;Details\\&quot;&gt;&lt;&#47;a&gt;&quot;; \t\t \t\t$html .= &quot;&lt;a href=\\&quot;javascript: NSAG_SCD_Import(&#39;$Daten&#39;)\\&quot;&gt;$Last__bName&lt;&#47;a&gt;&quot;;</code>"}, {"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1576088039, "post_id": 59177236, "comment_id": 104788271, "body": "From this comment, your problem is nothing to do with Perl. To contruct a javascript single-quoted string from a perl variable that contains embedded single-quotes, escape them in perl with <code>$Daten =~ s&#47;&#39;&#47;\\\\&#39;&#47;g</code> then use as <code>$html .= ... NSAG_SCAD_Import(&#39;$Daten&#39;) ...</code>. You may also want to protect other javascript escape sequences like <code>\\b</code>, <code>\\t</code>, etc"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9219603, "user_type": "registered", "profile_image": "https://graph.facebook.com/1462451123804688/picture?type=large", "display_name": "Ionu\u0163 Sanda", "link": "https://stackoverflow.com/users/9219603/ionu%c5%a3-sanda"}, "edited": false, "score": 0, "creation_date": 1575542807, "post_id": 59187980, "comment_id": 104605295, "body": "That&#39;s what I want to avoid, another long piece of code. I would really appreciate to be able to replace the simple quote with the backslash quote, in one line... I tried to replace the <code>$line =~ s&#47;(.*)&#39;(.+)&#39;(.+)&#39;(.*)&#47;$1&#39;$2\\\\&#39;$3&#39;$4&#47;g;</code> with my <code>$Daten =~ s&#47;(.*)&#39;(.+)&#39;(.+)&#39;(.*)&#47;$1&#39;$2\\\\&#39;$3&#39;$4&#47;g;</code> but it didn&#39;t work.. The reason why I want to avoid long code snippets, is because, everytime I will install the application new, or upgrade it, I will have to copy paste the entire code and it&#39;s not optimal, since there are over 1000 customization made throughout the application"}], "tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1575520587, "last_edit_date": 1575520587, "creation_date": 1575517920, "answer_id": 59187980, "question_id": 59177236, "link": "https://stackoverflow.com/questions/59177236/perl-single-quote-replacement/59187980#59187980", "title": "Perl Single Quote replacement", "body": "<p>Perhaps something like following code should comply with your requirements</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $debug = 1;\n\nwhile( my $line = &lt;DATA&gt; ) {\n    $line =~ s/(.*)'(.+)'(.+)'(.*)/$1'$2\\\\'$3'$4/g;\n    print $line if $debug;\n}\n__DATA__\n'USER1:O'NEILL:PATRICK:M:lastname_firstname@company.com'\ndatax 'USER1:O'NEILL:PATRICK:M:lastname_firstname@company.com' datay\n</code></pre>\n\n<p>output</p>\n\n<pre><code>'USER1:O\\'NEILL:PATRICK:M:lastname_firstname@company.com'\ndatax 'USER1:O\\'NEILL:PATRICK:M:lastname_firstname@company.com' datay\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1575600135, "creation_date": 1575600135, "answer_id": 59206102, "question_id": 59177236, "link": "https://stackoverflow.com/questions/59177236/perl-single-quote-replacement/59206102#59206102", "title": "Perl Single Quote replacement", "body": "<p>Well, as you do not provide a sample or your code I have to improvise</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $debug = 1;\n\nwhile( my $Daten = &lt;DATA&gt; ) {\n    $Daten =~ s/(.*)'(.+)'(.+)'(.*)/$1'$2\\\\'$3'$4/g;  # Magic happens here\n    print $Daten if $debug;\n}\n\n__DATA__\n'USER1:O'NEILL:PATRICK:M:lastname_firstname@company.com'\ndatax 'USER1:O'NEILL:PATRICK:M:lastname_firstname@company.com' datay\n</code></pre>\n\n<p>output</p>\n\n<pre><code>'USER1:O\\'NEILL:PATRICK:M:lastname_firstname@company.com'\ndatax 'USER1:O\\'NEILL:PATRICK:M:lastname_firstname@company.com' datay\n</code></pre>\n\n<p>Otherwise I do not have enough information to understand your problem (no sample of data, no snippet of the code).</p>\n"}], "owner": {"reputation": 11, "user_id": 9219603, "user_type": "registered", "profile_image": "https://graph.facebook.com/1462451123804688/picture?type=large", "display_name": "Ionu\u0163 Sanda", "link": "https://stackoverflow.com/users/9219603/ionu%c5%a3-sanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1575600135, "creation_date": 1575466338, "question_id": 59177236, "link": "https://stackoverflow.com/questions/59177236/perl-single-quote-replacement", "title": "Perl Single Quote replacement", "body": "<p>I've been struggling for the last days in regards to a character replacement in Perl:</p>\n\n<p>I have a String which is surrounded by single quotes, yet, inside that String, I have a name which contains a single quote, let's say <strong>O'Neil</strong>. Now, given the fact that my String is surrounded by single quotes, Perl recognizes the single quote in the Name, as being the end of the String.</p>\n\n<p>Surrounding the entire string in double quotes is not an option, since it's build from an URL.</p>\n\n<p>Now, I did some research and didn't find anything, now I'm asking y'all:</p>\n\n<p>I've tried to play around with the following syntax:</p>\n\n<p><code>$Daten =~ s/\\'/\\\\'/g;</code> which of course doesn't work...</p>\n\n<p><code>$Daten</code> is the entire string which contains the Name <strong>O'Neil*</strong></p>\n\n<p>Now, I want to replace the single quote, with a backslash quote: <strong>' -> \\'</strong></p>\n\n<p>Anyone has any ideas?</p>\n\n<p>Best regards,\nIonut Sanda</p>\n"}, {"tags": ["perl", "github-actions"], "answers": [{"comments": [{"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 1, "creation_date": 1608133189, "post_id": 59180475, "comment_id": 115490374, "body": "Additionally, the second workflow will not appear linked to the original push or pull request."}], "tags": [], "owner": {"reputation": 12695, "user_id": 11934042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4fd3e15c86ccfd8897e44bc97856fbe?s=128&d=identicon&r=PG", "display_name": "peterevans", "link": "https://stackoverflow.com/users/11934042/peterevans"}, "is_accepted": true, "score": 12, "last_activity_date": 1587004672, "last_edit_date": 1587004672, "creation_date": 1575476638, "answer_id": 59180475, "question_id": 59175332, "link": "https://stackoverflow.com/questions/59175332/using-output-from-a-previous-job-in-a-new-one-in-a-github-action/59180475#59180475", "title": "Using output from a previous job in a new one in a GitHub Action", "body": "<p><strong>Update</strong>: It's now possible to set job outputs that can be used to transfer string values to downstream jobs. See <a href=\"https://stackoverflow.com/questions/59175332/using-output-from-a-previous-job-in-a-new-one-in-a-github-action/61236803#61236803\">this answer</a>.</p>\n\n<p>What follows is the original answer. These techniques might still be useful for some use cases.</p>\n\n<ol>\n<li>Write the data to file and use <code>actions/upload-artifact</code> and <code>actions/download-artifact</code>. A bit awkward, but it works.</li>\n<li>Create a repository dispatch event and send the data to a second workflow. I prefer this method personally, but the downside is that it needs a <code>repo</code> scoped <a href=\"https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line\" rel=\"noreferrer\">PAT</a>.</li>\n</ol>\n\n<p>Here is an example of how the second way could work. It uses <a href=\"https://github.com/peter-evans/repository-dispatch\" rel=\"noreferrer\">repository-dispatch</a> action.</p>\n\n<pre><code>name: \"We \ud83c\udf94 Perl\"\non:\n  issues:\n    types: [opened, edited, milestoned]\n\njobs:\n  seasonal_greetings:\n    runs-on: windows-latest\n    steps:\n      - name: Maybe greet\n        id: maybe-greet\n        env:\n          HEY: \"Hey you!\"\n          GREETING: \"Merry Xmas to you too!\"\n          BODY: ${{ github.event.issue.body }}\n        run: |\n          $output=(perl -e 'print ($ENV{BODY} =~ /Merry/)?$ENV{GREETING}:$ENV{HEY};')\n          Write-Output \"::set-output name=GREET::$output\"\n      - name: Repository Dispatch\n        uses: peter-evans/repository-dispatch@v1\n        with:\n          token: ${{ secrets.REPO_ACCESS_TOKEN }}\n          event-type: my-event\n          client-payload: '{\"greet\": \"${{ steps.maybe-greet.output.GREET }}\"}'\n</code></pre>\n\n<p>This triggers a repository dispatch workflow in the same repository.</p>\n\n<pre><code>name: Repository Dispatch\non:\n  repository_dispatch:\n    types: [my-event]\njobs:\n  myEvent:\n    runs-on: ubuntu-latest\n    steps:\n      - run: echo ${{ github.event.client_payload.greet }}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "is_accepted": false, "score": 58, "last_activity_date": 1586978087, "creation_date": 1586978087, "answer_id": 61236803, "question_id": 59175332, "link": "https://stackoverflow.com/questions/59175332/using-output-from-a-previous-job-in-a-new-one-in-a-github-action/61236803#61236803", "title": "Using output from a previous job in a new one in a GitHub Action", "body": "<p>Check the \"<a href=\"https://github.blog/changelog/2020-04-15-github-actions-new-workflow-features/\" rel=\"noreferrer\">GitHub Actions: New workflow features</a>\" from April 2020, which could help in your case (to reference step outputs from previous jobs)</p>\n\n<blockquote>\n  <h2>Job outputs</h2>\n  \n  <p>You can specify a set of outputs that you want to pass to subsequent jobs and then access those values from your needs context.</p>\n</blockquote>\n\n<p>See <a href=\"https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjobs_idoutputs\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n<pre><code>jobs.&lt;jobs_id&gt;.outputs\n</code></pre>\n  \n  <p><strong>A map of outputs for a job</strong>. </p>\n  \n  <p>Job outputs are available to all downstream jobs that depend on this job.<br>\n  For more information on defining job dependencies, see <a href=\"https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idneeds\" rel=\"noreferrer\"><code>jobs.&lt;job_id&gt;.needs</code></a>.</p>\n  \n  <p>Job outputs are strings, and job outputs containing expressions are evaluated on the runner at the end of each job. Outputs containing secrets are redacted on the runner and not sent to GitHub Actions.</p>\n  \n  <p>To use job outputs in a dependent job, you can use the <code>needs</code> context.<br>\n  For more information, see \"<a href=\"https://help.github.com/en/actions/reference/context-and-expression-syntax-for-github-actions#needs-context\" rel=\"noreferrer\">Context and expression syntax for GitHub Actions.</a>\"</p>\n  \n  <p>To use job outputs in a dependent job, you can use the needs context.</p>\n  \n  <p>Example</p>\n</blockquote>\n\n<pre><code>jobs:\n  job1:\n    runs-on: ubuntu-latest\n    # Map a step output to a job output\n    outputs:\n      output1: ${{ steps.step1.outputs.test }}\n      output2: ${{ steps.step2.outputs.test }}\n    steps:\n    - id: step1\n      run: echo \"::set-output name=test::hello\"\n    - id: step2\n      run: echo \"::set-output name=test::world\"\n  job2:\n    runs-on: ubuntu-latest\n    needs: job1\n    steps:\n    - run: echo ${{needs.job1.outputs.output1}} ${{needs.job1.outputs.output2}}\n</code></pre>\n"}], "owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9431, "favorite_count": 5, "accepted_answer_id": 59180475, "answer_count": 2, "score": 28, "last_activity_date": 1587004672, "creation_date": 1575460031, "question_id": 59175332, "link": "https://stackoverflow.com/questions/59175332/using-output-from-a-previous-job-in-a-new-one-in-a-github-action", "title": "Using output from a previous job in a new one in a GitHub Action", "body": "<p>For (mainly) pedagogical reasons, I'm trying to run this workflow in GitHub actions:</p>\n\n<pre><code>name: \"We \ud83c\udf94 Perl\"\non:\n  issues:\n    types: [opened, edited, milestoned]\n\njobs:\n  seasonal_greetings:\n    runs-on: windows-latest\n    steps:\n      - name: Maybe greet\n        id: maybe-greet\n        env:\n          HEY: \"Hey you!\"\n          GREETING: \"Merry Xmas to you too!\"\n          BODY: ${{ github.event.issue.body }}\n        run: |\n          $output=(perl -e 'print ($ENV{BODY} =~ /Merry/)?$ENV{GREETING}:$ENV{HEY};')\n          Write-Output \"::set-output name=GREET::$output\"\n  produce_comment:\n    name: Respond to issue\n    runs-on: ubuntu-latest\n    steps:\n      - name: Dump job context\n        env:\n          JOB_CONTEXT: ${{ jobs.maybe-greet.steps.id }}\n        run: echo \"$JOB_CONTEXT\"\n</code></pre>\n\n<p>I need two different jobs, since they use different context (operating systems), but I need to get the output of a step in the first job to the second job. I am trying with several combinations of the <code>jobs</code> context as found <a href=\"https://help.github.com/en/actions/automating-your-workflow-with-github-actions/workflow-syntax-for-github-actions#jobsjob_idif\" rel=\"noreferrer\">here</a> but there does not seem to be any way to do that. Apparently, <code>jobs</code> is just the name of a YAML variable that does not really have a context, and the context <code>job</code> contains just the success or failure. Any idea?</p>\n"}, {"tags": ["perl", "overloading", "signature"], "answers": [{"tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": true, "score": 1, "last_activity_date": 1575434707, "last_edit_date": 1592644375, "creation_date": 1575434707, "answer_id": 59169088, "question_id": 59169087, "link": "https://stackoverflow.com/questions/59169087/do-subroutine-signatures-work-with-overload-pm/59169088#59169088", "title": "Do subroutine signatures work with overload.pm?", "body": "<p>From the docs on <a href=\"https://metacpan.org/pod/overload#Calling-Conventions-and-Magic-Autogeneration\" rel=\"nofollow noreferrer\"><code>overload.pm</code></a></p>\n<blockquote>\n<p>Three arguments are passed to all subroutines specified in the use overload directive (with exceptions - see below, particularly &quot;nomethod&quot;).</p>\n<ol>\n<li><p>The first of these is the operand providing the overloaded operator implementation - in this case, the object whose minus() method is being called.</p>\n</li>\n<li><p>The second argument is the other operand, or undef in the case of a unary operator.</p>\n</li>\n<li><p>The third argument is set to TRUE if (and only if) the two operands have been swapped. Perl may do this to ensure that the first argument ($self) is an object implementing the overloaded operation, in line with general object calling conventions.</p>\n</li>\n</ol>\n</blockquote>\n<p>Basically, <code>overload</code> supports binary operators and all of the subs it calls are prototyped to accept three arguments. So with this in mind, you'll want</p>\n<pre><code>sub as_str ($lhs, $rhs, $is_swapped) { &quot;Hello World!&quot; }\n</code></pre>\n<p>Or you can tell it to <a href=\"https://perldoc.perl.org/perlsub.html#Signatures\" rel=\"nofollow noreferrer\">ignore the other arguments using the <code>$</code></a></p>\n<pre><code>sub as_str ($lhs, $, $) { &quot;Hello World!&quot; }\n</code></pre>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 59169088, "answer_count": 1, "score": 1, "last_activity_date": 1575434707, "creation_date": 1575434707, "question_id": 59169087, "link": "https://stackoverflow.com/questions/59169087/do-subroutine-signatures-work-with-overload-pm", "title": "Do subroutine signatures work with overload.pm?", "body": "<p>With the flowing code..</p>\n\n<pre><code>use experimental 'signatures';\n\npackage O {\n    use overload\n        q[\"\"]  =&gt; \\&amp;as_str\n    ;\n    sub as_str ($self) { \"Hello World!\" }\n    sub new ($class) {\n        bless {}, $class\n    }\n};\n\nmy $o = O-&gt;new;\nprint \"$o\";\n</code></pre>\n\n<p>I'll get,</p>\n\n<blockquote>\n  <p>Too many arguments for subroutine 'O::as_str'</p>\n</blockquote>\n\n<p>How can I use both (a) signatures and (b) overload.</p>\n"}, {"tags": ["string", "perl", "sendmail", "exists"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1575475281, "post_id": 59164429, "comment_id": 104581124, "body": "I don&#39;t know why <code>-e</code> is failing if the file exists, but the error case should probably return or otherwise do something more than just print a message instead of continuing on to try to use the program that it just didn&#39;t find."}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1575404140, "post_id": 59164512, "comment_id": 104553386, "body": "I would recommend <a href=\"https://metacpan.org/pod/File::Which\" rel=\"nofollow noreferrer\">File::Which</a> instead."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1575666269, "post_id": 59164512, "comment_id": 104655967, "body": "These work when the file is in your PATH. That&#39;s not always the case. Even then, I suggest that you don&#39;t rely on a search of the PATH to find it if you don&#39;t very tightly control that (which is why taint checking insists on that). I write a lot more about this in <a href=\"https://www.masteringperl.org/\" rel=\"nofollow noreferrer\">Mastering Perl</a>."}, {"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 0, "creation_date": 1575668775, "post_id": 59164512, "comment_id": 104656761, "body": "Then what&#39;s the alternative? Looking everywhere?"}], "tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 2, "last_activity_date": 1575403319, "creation_date": 1575403319, "answer_id": 59164512, "question_id": 59164429, "link": "https://stackoverflow.com/questions/59164429/e-if-file-exists-trickiness-in-perl-finding-sendmail/59164512#59164512", "title": "-e (if file exists) trickiness in perl finding sendmail", "body": "<p>Behold the power of CPAN</p>\n\n<pre><code>use Unix::Whereis;\n\nmy $sendmail = whereis('ffmpeg');\n</code></pre>\n\n<p>FWIW, the module uses these tests</p>\n\n<pre><code>if ( -f $bin &amp;&amp; -x _ &amp;&amp; -s _ ) {\n# ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1575666333, "post_id": 59219322, "comment_id": 104655983, "body": "I think you&#39;ll need to say much more about your platform and setup for us to know what&#39;s going on in your particular case. Even then, this might be more appropriate for ServerFault as it&#39;s more of a sysadmin thing than a programming thing."}], "tags": [], "owner": {"reputation": 21, "user_id": 12476022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf9c670879bda154c4a0511859ba17b6?s=128&d=identicon&r=PG&f=1", "display_name": "jobeSW", "link": "https://stackoverflow.com/users/12476022/jobesw"}, "is_accepted": true, "score": 0, "last_activity_date": 1575661078, "creation_date": 1575661078, "answer_id": 59219322, "question_id": 59164429, "link": "https://stackoverflow.com/questions/59164429/e-if-file-exists-trickiness-in-perl-finding-sendmail/59219322#59219322", "title": "-e (if file exists) trickiness in perl finding sendmail", "body": "<p>What i wasn't understanding was that in xampp there is a hook to catch the abbreviated [/xampp/usr/lib/sendmail] when using [open MAIL]. Its probably there to simulate an online Apache server but it isn't deep enough to affect -e.  The <em>actual</em> path to sendmail on my xampp is [/xampp/usr/lib/sendmail.exe] and this works for both tests. Note; most installations of xampp, sendmail is in [xampp/sendmail/sendmail.exe]</p>\n\n<p>Doing a readdir test on my local [/xampp/usr/lib/] Dir shows me the file [sendmail.exe] but when i run the same readdir test online host at [/usr/sbin/] i discover the file is called [sendmail] without extension and doing an -f and -d (file or folder) test on [sendmail] online it shows its a file.. So my original problem will be fine once uploaded, i just have to remember to add the exe for local tests.</p>\n\n<p>Holli and Grinnz answer was a fine alternative route, however i needed to find out what was wrong with my code before proceeding. </p>\n"}], "owner": {"reputation": 21, "user_id": 12476022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf9c670879bda154c4a0511859ba17b6?s=128&d=identicon&r=PG&f=1", "display_name": "jobeSW", "link": "https://stackoverflow.com/users/12476022/jobesw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 59219322, "answer_count": 2, "score": 0, "last_activity_date": 1575661078, "creation_date": 1575402954, "last_edit_date": 1575403205, "question_id": 59164429, "link": "https://stackoverflow.com/questions/59164429/e-if-file-exists-trickiness-in-perl-finding-sendmail", "title": "-e (if file exists) trickiness in perl finding sendmail", "body": "<p>Trying to test a list of common sendmail locations, i thought to just loop and -e test, but there is something I'm not understanding here, wrote a little subroutine to explain this better;</p>\n\n<pre><code>sub mail_z\n{\nmy $sendmail = '/xampp/usr/lib/sendmail';  #tried with/without/ and included the .exe\n\nif(-e $sendmail){print\"found SendMail\";}else{print\"NOT Found SendMail\";}\n\n    open ( MAIL, \"| $sendmail \" );\n        print MAIL \"From: $sender\\n\";\n        print MAIL \"To: $recipient\\n\";\n        print MAIL \"Subject: $subject\\n\\n\";\n        print MAIL \"$body\\n\";\n        print MAIL \"\\n.\\n\";\n    close ( MAIL );\n}\n</code></pre>\n\n<p>The result of this sub is that it prints \"NOT Found SendMail\" to the page and then uses sendmail to email me.  Clearly it finds it just not with -e what am i doing wrong here?</p>\n"}, {"tags": ["perl", "signals"], "comments": [{"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 1, "creation_date": 1575403100, "post_id": 59164368, "comment_id": 104552945, "body": "Just do nothing in case of <code>&#39;N&#39;</code>, so what you have should already do what you want in general. But yet you haven&#39;t checked if the input is only <code>&#39;Y&#39;</code> or <code>&#39;N&#39;</code>, so essentially any input except <code>&#39;Y&#39;</code> discards the signal. And you have to handle the case when there&#39;s another <code>INT</code> while being in the dialog."}, {"owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1575403528, "post_id": 59164368, "comment_id": 104553124, "body": "So a ctrl+C is given, and then catchSignal runs. Is that all there is, regarding ctrl+C? Like you said, if anything other than <code>&#39;Y&#39;</code> is given, essentially the subroutine ends. Is that correct? Also, what do you mean by <code>INT</code>? Another interrupt during this message?"}, {"owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1575403576, "post_id": 59164368, "comment_id": 104553146, "body": "I will add the <code>&#39;Y&#39;</code> and <code>&#39;N&#39;</code> handling; this is just the basics so far."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1575403682, "post_id": 59164368, "comment_id": 104553180, "body": "Yes, by &quot;another <code>INT</code>&quot; I meant another <code>INT</code> signal is received whilst the process is in the signal handler."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1575404056, "post_id": 59164368, "comment_id": 104553345, "body": "Just having a non-default <code>$SIG{INT}</code> handler already suppresses the default behavior (and a <code>$SIG{INT}</code> handler that exits is subtly different from the default handler, though I can&#39;t remember the details atm)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1575444282, "post_id": 59164368, "comment_id": 104564175, "body": "@stickybit The signal handler itself doesn&#39;t get interrupted and another such signal (that comes while the handler runs) is delayed and handled once the handler returns (just one, more extra signals are lost in my sketchy test); so they&#39;re safe, their program can&#39;t get killed that way.  (If they wanted to ensure to honor that second or third successive interrupt that&#39;d be something else...)."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1575460720, "post_id": 59164368, "comment_id": 104572535, "body": "@zdim: Hmm, that might be OS or interpreter specific? At least for me, when I tested it on Window with Active Perl 5.26.1 I got the &quot;Are you sure ...&quot; message again when hitting Ctrl+C when the message was already on the screen and I haven&#39;t responded yet. But indeed I then only needed to respond once."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1575480041, "post_id": 59164368, "comment_id": 104583867, "body": "@stickybit Hah, OK. I tried it out a little on  v5.16 (CentOS7) -- I&#39;ll try different versions. That&#39;s also stated somewhere in the docs I thought, I&#39;ll look for it again and update here"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1576002494, "post_id": 59164368, "comment_id": 104753740, "body": "( And if there are still questions please let us know )"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1575659266, "last_edit_date": 1575659266, "creation_date": 1575404713, "answer_id": 59164801, "question_id": 59164368, "link": "https://stackoverflow.com/questions/59164368/perl-is-it-possible-to-undo-a-sigint-catch/59164801#59164801", "title": "Perl: Is it possible to undo a SIG{INT} catch?", "body": "<p>Once you have a handler installed the default action of that signal is suppressed and your handler runs instead<sup>&dagger;</sup> once that signal comes in. See <a href=\"https://perldoc.perl.org/perlipc.html#Signals\" rel=\"nofollow noreferrer\">Signals in perlipc</a> for starters.</p>\n\n<p>So what you show already \"cancels\" the signal and your program will continue after the handler returns, unless the user confirms the exit of course. Where and how the program continues isn't set in stone, but generally it is from after where it was interrupted. </p>\n\n<p>If a blocking system call gets interrupted by the signal then that call fails with <code>EINTR</code> (<code>errno(3)</code>).<sup>&Dagger;</sup> These error codes are mostly reflected in <a href=\"https://perldoc.perl.org/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\"><code>%!</code> variable</a>, so when one such call returns an error we can check whether <code>$!{EINTR}</code> is set, and if it is then it may well make sense to restart that call. Thanks to <code>ikegami</code> for a comment. </p>\n\n<p>Precisely what calls have this isn't set firmly, but one can infer it from <code>signal(7)</code> (see <sup>&Dagger;</sup> footnote). </p>\n\n<p>If they do choose to exit that's a better way to go than being blown out of the water by a signal, since a signal with disposition to stop the program just terminates it.  While when a program calls <code>exit</code> that's controlled and one can clean up, exit with a  chosen code; also, buffers are flushed, <code>END</code> blocks run.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> Except for signals that can't be trapped, <code>STOP</code> (sigstop) and <code>KILL</code> (sigkill) in the first place.</p>\n\n<p><sup>&Dagger;</sup> In C we can set <code>SA_RESTART</code> in <code>sigaction(2)</code>  to have such calls restarted (see <code>Interruption of system calls...</code> in <code>signal(7)</code> for example), but not with the native <code>%SIG</code> in Perl. There is support in <code>POSIX::sigaction</code> but its use is rather involved and practically undocumented. </p>\n"}], "owner": {"reputation": 216, "user_id": 10987492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92563934c53c8c39032655686d00da7d?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld95", "link": "https://stackoverflow.com/users/10987492/helloworld95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 59164801, "answer_count": 1, "score": 4, "last_activity_date": 1575659266, "creation_date": 1575402624, "last_edit_date": 1575440369, "question_id": 59164368, "link": "https://stackoverflow.com/questions/59164368/perl-is-it-possible-to-undo-a-sigint-catch", "title": "Perl: Is it possible to undo a SIG{INT} catch?", "body": "<p>I'm trying to add a catch signal in my Perl program. When a ctrl+C occurs, I'd like a confirmation message, and a user input ( Y or N ). The Y input works fine.</p>\n\n<p>If the user enters N, then essentially I want to \"cancel\" the ctrl+C command and return to the script.</p>\n\n<p>The code:</p>\n\n<pre><code>$SIG{INT} = \\&amp;catchSignal;\n$SIG{TERM} = \\&amp;catchSignal;\n\nsub catchSignal\n{\n   my $ans;\n   print \" Are you sure you want to quit? Y or N:\\n\";\n   $ans = &lt;STDIN&gt;;\n\n   chomp $ans;\n\n   if( $ans eq \"Y\" )\n   {\n      exit;\n   }\n   else\n   {\n      # Cancel the ctrl+C command\n   }\n\n}\n</code></pre>\n\n<p>Is something like this possible?</p>\n"}, {"tags": ["python", "python-3.x", "perl"], "comments": [{"owner": {"reputation": 473, "user_id": 7554098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXSSb.jpg?s=128&g=1", "display_name": "mdabdullah", "link": "https://stackoverflow.com/users/7554098/mdabdullah"}, "edited": false, "score": 1, "creation_date": 1575402229, "post_id": 59164012, "comment_id": 104552590, "body": "Provide working piece of code with current output and expected output."}, {"owner": {"reputation": 352, "user_id": 1898734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83a95fb20c6d805bf7616f0f33a4beb?s=128&d=identicon&r=PG", "display_name": "Pavan Kumar Polavarapu", "link": "https://stackoverflow.com/users/1898734/pavan-kumar-polavarapu"}, "edited": false, "score": 1, "creation_date": 1575406317, "post_id": 59164012, "comment_id": 104554254, "body": "Can you convert your string variable to have only one variable instead of multiple ?"}, {"owner": {"reputation": 43, "user_id": 5547500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af088d943688996b6a793ba39213ecc8?s=128&d=identicon&r=PG&f=1", "display_name": "Omri", "link": "https://stackoverflow.com/users/5547500/omri"}, "edited": false, "score": 0, "creation_date": 1575411261, "post_id": 59164012, "comment_id": 104556099, "body": "There is no working code. I want to be able to access &#39;Task&#39; list from within the script. I do not control the number of defined variables in the string."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1575440363, "post_id": 59164012, "comment_id": 104562810, "body": "Your format seems very similar to JSON (except for the <code>=</code> signs which should be <code>:</code>). Have you tried encoding the string as JSON?"}, {"owner": {"reputation": 43, "user_id": 5547500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af088d943688996b6a793ba39213ecc8?s=128&d=identicon&r=PG&f=1", "display_name": "Omri", "link": "https://stackoverflow.com/users/5547500/omri"}, "edited": false, "score": 0, "creation_date": 1575485310, "post_id": 59164012, "comment_id": 104586458, "body": "encoding to JSON and then back to pythn dict worked. I&#39;ve done some string replacement to make it work as you said. thanks."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 12061847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA-D1erZMQhIsnkXi9NRcvSp3I8h8t4BODbEWGrUQ=k-s128", "display_name": "Parv Sachdeva", "link": "https://stackoverflow.com/users/12061847/parv-sachdeva"}, "is_accepted": false, "score": 2, "last_activity_date": 1576756645, "creation_date": 1576756645, "answer_id": 59409326, "question_id": 59164012, "link": "https://stackoverflow.com/questions/59164012/extract-variable-and-data-from-a-string-in-python/59409326#59409326", "title": "extract variable and data from a string in python", "body": "<p>There is no need to manipulate a Perl hash into a \"python variable string\", you can just use a JSON library to dump your hash as a JSON and then read this object in Python.</p>\n\n<p>In Perl :</p>\n\n<pre><code>use JSON;\n$task = { \"a\" =&gt; 1,\n\"b\" =&gt; 2,\n\"c\" =&gt; [1,2,3],\n};\n$json = JSON-&gt;new-&gt;allow_nonref;\n$task_json_obj = $json-&gt;encode( $task );\n</code></pre>\n\n<p>You can pass the above JSON object to Python.</p>\n\n<p>In Python :</p>\n\n<pre><code>import json\n\ntask = json.loads(json_string)\n</code></pre>\n\n<p>You can pass scalars, hashes, etc. in a standardised way using JSON.</p>\n"}], "owner": {"reputation": 43, "user_id": 5547500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af088d943688996b6a793ba39213ecc8?s=128&d=identicon&r=PG&f=1", "display_name": "Omri", "link": "https://stackoverflow.com/users/5547500/omri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1576756645, "creation_date": 1575400920, "last_edit_date": 1575414585, "question_id": 59164012, "link": "https://stackoverflow.com/questions/59164012/extract-variable-and-data-from-a-string-in-python", "title": "extract variable and data from a string in python", "body": "<p>I'm manipulating perl hash into a python string. \nthe new python string contains variables and data as below example:</p>\n\n<pre><code>\"Task = [\n     {hash: 1},\n     {hash:2,\n     b:5}\n     ],\nanother_variable = [a\n    b]\"\n</code></pre>\n\n<p>I need to get only the first variable (Task) into a python variable (should end up with list of dicts).\ntrying to run eval command but with no luck (gives me SyntaxError: invalid syntax on the string).</p>\n\n<p>what is the proper why to extract variable + data from the string?</p>\n\n<p>note: I cannot write anything to the work area.</p>\n"}, {"tags": ["perl", "oop"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1575406643, "post_id": 59154355, "comment_id": 104554364, "body": "You are asking question that pertains to an IDE, but you don&#39;t mention which IDE."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1575457984, "post_id": 59154355, "comment_id": 104571159, "body": "IDE is named in the code block, scroll right or ctrl+f <code>pycharm</code>, so effectively any Jetbrains IDE \u2192 Camelcade."}, {"owner": {"reputation": 57, "user_id": 11367206, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_XbNUArcr4E/AAAAAAAAAAI/AAAAAAAAelE/m9lKPkQR36Y/photo.jpg?sz=128", "display_name": "Steve S.", "link": "https://stackoverflow.com/users/11367206/steve-s"}, "edited": false, "score": 0, "creation_date": 1575529526, "post_id": 59154355, "comment_id": 104599113, "body": "thanks for the comments, the IDE does not matter in this case, the problem is that perl could not interpret what kind of object&#39;s class ($o_class_i object) will be given."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1575369702, "creation_date": 1575369702, "answer_id": 59155231, "question_id": 59154355, "link": "https://stackoverflow.com/questions/59154355/perl-how-to-resolve-object-type-inside-the-sub/59155231#59155231", "title": "Perl: how to resolve object type inside the sub?", "body": "<p>If you have a random scalar variable and you want to find out what it is a reference to, you can use the <a href=\"https://perldoc.pl/functions/ref\" rel=\"nofollow noreferrer\"><code>ref()</code></a> function. This returns:</p>\n\n<ul>\n<li>The empty string if the variable doesn't contain a reference</li>\n<li>A string (\"SCALAR\", \"ARRAY\", \"HASH\", etc) indicating the type of reference if the variable contains an unblessed reference</li>\n<li>The name of the class if the variable contains a blessed reference (i.e. an it's an object)</li>\n</ul>\n\n<p>But I'm not sure that this is what you want to know. Your question seems to imply that you're trying to access this information in an IDE.</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 3, "last_activity_date": 1575383457, "last_edit_date": 1575383457, "creation_date": 1575382336, "answer_id": 59159029, "question_id": 59154355, "link": "https://stackoverflow.com/questions/59154355/perl-how-to-resolve-object-type-inside-the-sub/59159029#59159029", "title": "Perl: how to resolve object type inside the sub?", "body": "<p><a href=\"https://github.com/Camelcade/Perl5-IDEA/wiki/Subs-resolution-status\" rel=\"nofollow noreferrer\">Annotate the declaration with the type.</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/y3dUh.png\" alt=\"\"></p>\n"}], "owner": {"reputation": 57, "user_id": 11367206, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_XbNUArcr4E/AAAAAAAAAAI/AAAAAAAAelE/m9lKPkQR36Y/photo.jpg?sz=128", "display_name": "Steve S.", "link": "https://stackoverflow.com/users/11367206/steve-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59159029, "answer_count": 2, "score": 0, "last_activity_date": 1575529804, "creation_date": 1575366956, "last_edit_date": 1575529804, "question_id": 59154355, "link": "https://stackoverflow.com/questions/59154355/perl-how-to-resolve-object-type-inside-the-sub", "title": "Perl: how to resolve object type inside the sub?", "body": "<pre><code>my sub method {\n  my ($self, $o_class_1) = @_;\n  my $o_class_2 = new class();\n  $o_class_2-&gt;exec # this gives me auto completion of the method name exec() in pycharm, since it knows the objects's class\n  $o_class_1-&gt; # this has no auto completion, since it doesn't know what kind of object it is.\n}\n</code></pre>\n\n<p>Is there a way somehow in Perl to \"tell\" that <code>$o_class_1 is</code> object of class?</p>\n"}, {"tags": ["perl", "mojolicious", "init.d"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1575368318, "post_id": 59150459, "comment_id": 104533899, "body": "See also <a href=\"https://unix.stackexchange.com/q/83191/45537\">How to make <code>sudo</code> preserve $PATH?</a> and <a href=\"https://superuser.com/q/927512/278134\">How to set path for sudo commands</a>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1575387391, "post_id": 59150459, "comment_id": 104545441, "body": "In general it&#39;s a good idea to use the full path to each executable you run from init or cron scripts (in this case, that includes carton, hypnotoad, and script/myapp)."}, {"owner": {"reputation": 629, "user_id": 722785, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/683b39730e13bd63a2286f882b82e638?s=128&d=identicon&r=PG", "display_name": "Ryan Dunphy", "link": "https://stackoverflow.com/users/722785/ryan-dunphy"}, "edited": false, "score": 0, "creation_date": 1575419400, "post_id": 59150459, "comment_id": 104558093, "body": "Full paths solved the problem."}], "owner": {"reputation": 629, "user_id": 722785, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/683b39730e13bd63a2286f882b82e638?s=128&d=identicon&r=PG", "display_name": "Ryan Dunphy", "link": "https://stackoverflow.com/users/722785/ryan-dunphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1575349390, "creation_date": 1575349390, "question_id": 59150459, "link": "https://stackoverflow.com/questions/59150459/init-d-script-for-mojolicious-app-using-carton", "title": "init.d script for Mojolicious app using Carton", "body": "<p>I have a Mojolicious app that I would like to run automatically when the server starts.  Normally, if I want to deploy the application, I use <code>carton install</code> to grab the appropriate dependencies, then I run <code>carton exec -- hypnotoad script/myapp</code> and I'm up and running.</p>\n\n<p>I've created an init.d script that starts|stops the application by calling <code>carton exec -- hypnotoad script/myapp</code>, but <a href=\"https://metacpan.org/pod/Carton\" rel=\"nofollow noreferrer\">Carton</a> doesn't seem to be working properly.  Instead, I get <code>sudo: carton: command not found</code> followed by a number of <code>Can't locate &lt;MODULE&gt;.pm in @INC...</code> errors.</p>\n\n<p>How do I go about making Carton available to an init.d script?  Or how do I run a Carton command from an init.d script?  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1575329319, "post_id": 59148041, "comment_id": 104521944, "body": "Always <code>use strict; use warnings;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1575330751, "post_id": 59148112, "comment_id": 104522309, "body": "<code>($keys[$_], $values[$_])</code> is usually written <code>$keys[$_] =&gt; $values[$_]</code> (though this is just a style question)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575342237, "post_id": 59148112, "comment_id": 104524648, "body": "FWIW, I use the parentheses in a map statement that returns pairs as a habit to avoid the parser getting confused and treating it as a map EXPR, though it&#39;s not always necessary of course."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1575358641, "post_id": 59148112, "comment_id": 104529189, "body": "<code>@$_{@keys} = @values for \\my %h;</code> but bad overall idea."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 9, "last_activity_date": 1575329532, "last_edit_date": 1575329532, "creation_date": 1575329078, "answer_id": 59148112, "question_id": 59148041, "link": "https://stackoverflow.com/questions/59148041/perl-use-map-and-foreach-at-once/59148112#59148112", "title": "perl: Use map and foreach at once?", "body": "<p>Populating a hash is simply a matter of assigning a list with alternating keys and values, so you just have to construct the list using the two arrays in an alternating fashion.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy @keys = qw(a b c);\nmy @values = 1..3;\n\nmy %h = map { ($keys[$_], $values[$_]) } 0..$#keys;\n</code></pre>\n\n<p><a href=\"https://metacpan.org/pod/List::UtilsBy\" rel=\"noreferrer\">List::UtilsBy</a> provides a useful abstraction for this in zip_by.</p>\n\n<pre><code>use List::UtilsBy 'zip_by';\nmy %h = zip_by { @_ } \\@keys, \\@values;\n</code></pre>\n\n<p>But actually it's even easier to use <a href=\"https://perldoc.pl/perldata#Slices\" rel=\"noreferrer\">slice assignment</a>. Though you technically can't do this in the same statement as the declaration, it's by far the neatest option:</p>\n\n<pre><code>my %h;\n@h{@keys} = @values;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": -1, "last_activity_date": 1575334606, "creation_date": 1575334606, "answer_id": 59148771, "question_id": 59148041, "link": "https://stackoverflow.com/questions/59148041/perl-use-map-and-foreach-at-once/59148771#59148771", "title": "perl: Use map and foreach at once?", "body": "<p>Well, the question is not very clear on 'why?' -- same can be achieved with following code</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $debug = 1;\n\nmy %h;\n\n@h{qw(a b c)} = (1..3);\n\nprint Dumper(\\%h) if $debug;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1575381225, "creation_date": 1575381225, "answer_id": 59158685, "question_id": 59148041, "link": "https://stackoverflow.com/questions/59148041/perl-use-map-and-foreach-at-once/59158685#59158685", "title": "perl: Use map and foreach at once?", "body": "<p>Use <code>List::MoreUtils 'zip'</code> or add your own since that module is not a core module:</p>\n\n<pre><code>sub zip(\\@@){map{($_[0][$_-1],$_[$_])}1..@{$_[0]}}                 \nmy %h = zip @keys, @values;\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 59148112, "answer_count": 3, "score": 1, "last_activity_date": 1575381225, "creation_date": 1575328598, "question_id": 59148041, "link": "https://stackoverflow.com/questions/59148041/perl-use-map-and-foreach-at-once", "title": "perl: Use map and foreach at once?", "body": "<p>I was wondering if it is possible to make a hash assigning its keys and values at once. Or in general use <code>map</code> and <code>for</code> at one line:</p>\n\n<pre><code>#!/usr/bin/perl\n%h = map {$_, $i} qw[a b c] for $i (1..3)\n</code></pre>\n\n<p>But unfortunatelly not => <code>Number found where operator expected</code>, meant number in the parenthesis. So my question is why am I not able to make double loop by this way? And how otherwise would someone assign hash keys to values (and I dont concern something like <code>$h = {a=&gt;1,b=&gt;2,c=&gt;3}</code> but rather assigning <code>%h = (@keys = @values)</code> ... in other words, how to assign hash by:</p>\n\n<ul>\n<li>2 arrays only (@keys,@values), no scalars</li>\n<li>At once (at one line - without block)</li>\n</ul>\n\n<p>Is it even possible in perl?</p>\n"}, {"tags": ["python", "perl", "security", "code-injection"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1575327542, "post_id": 59147112, "comment_id": 104521487, "body": "Neat, but unfortunately a bit off topic if it isn&#39;t something you need help with - this is more a topic for Reddit or Hacker News."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1575362882, "post_id": 59147112, "comment_id": 104530858, "body": "I&#39;m voting to close this question as off-topic because it&#39;s a discussion prompt, not a question with a single &quot;best&quot; answer."}], "owner": {"reputation": 366, "user_id": 8569128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2cde21e40e767064c4e4e0b61f1b8f8?s=128&d=identicon&r=PG&f=1", "display_name": "Imylor", "link": "https://stackoverflow.com/users/8569128/imylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1575365112, "creation_date": 1575323137, "last_edit_date": 1575365112, "question_id": 59147112, "link": "https://stackoverflow.com/questions/59147112/perl-moving-target-defense-prevent-code-injection-attacks", "title": "Perl Moving Target Defense, prevent code injection attacks", "body": "<p>I was looking for modern solution about xss prevention, in this page the author uses a technique known as:</p>\n\n<blockquote>\n  <p>Moving target defense (MTD), takes advantage of this gap between time\n  of check (exploit development) and time of use (exploit execution) by\n  randomizing (or mutating ) the environment after time of check and\n  before time of use</p>\n  \n  <p>in a manner that invalidates prerequisites of the exploits. For\n  example, by randomizing IP addresses of networks, RHM ensures that\n  exploits built based on scanning at a previous time (time of check)\n  will not be executable at a later time (time of use).</p>\n</blockquote>\n\n<p>The author does mention about <strong>Instruction Set Randomization</strong>\nISR can be implemented to <strong>prevent code injection attacks against Perl</strong> scripts and SQL </p>\n\n<p>Source:\n<a href=\"https://www.hindawi.com/journals/scn/2019/2156906/\" rel=\"nofollow noreferrer\">https://www.hindawi.com/journals/scn/2019/2156906/</a></p>\n\n<p>In the Book MTD Creating Asymmetric Uncertainty for Cyber Threats, about ISR: </p>\n\n<blockquote>\n  <p>The concept of ISR is particularly versatile, and can be applied to\n  also protect such languages from command injection. We demonstrate its\n  applicability by implementing ISR for the Perl language.</p>\n  \n  <p>We randomize all of Perl\u2019s keywords, operators, and function calls, by\n  appending a random 9-digit number (\u201ctag\u201d) suffix to each of them. For\n  example</p>\n</blockquote>\n\n<pre><code>foreach $k (sort keys %$tre) {\n$v = $tre-&gt;{$k};\ndie \u2018\u2018duplicate key $k\\n\u2019\u2019\nif defined $list{$k};\npush @list, @{ $list{$k} };\n}\n</code></pre>\n\n<p>by using \u201c123456789\u201d as the tag, becomes</p>\n\n<pre><code>foreach123456789 $k (sort123456789 keys123456789 %$tre)\n{\n$v =1234567889 $tre-&gt;{$k};\ndie123456789 \"duplicate key $k\\n\"\nif123456789 defined123456789 $list{$k};\npush123456789 @list, @{ $list{$k} };\n}\n</code></pre>\n\n<blockquote>\n  <p>Consequently, Perl code injected by an attacker will fail to execute,\n  since the parser will not recognize a plain-text (not randomized)\n  keyword, function, etc. We implemented the randomization by modifying\n  the Perl interpreter\u2019s lexical analyzer to recognize keywords followed\n  by the correct tag.</p>\n  \n  <p>An attacker who does not know the instruction set cannot inject and\n  execute any code on the vulnerable system.</p>\n  \n  <p>Using this scheme, the administrator can periodically randomize the\n  system modules, without requiring any action from the user, while an\n  attacker will have to successfully guess the \u201ctag\u201d used by the system\n  to successfully run his malicious Perl script</p>\n  \n  <p>Other interpreted languages that could benefit from ISR include VBS,\n  <strong>Python, and others</strong></p>\n</blockquote>\n\n<p>Source Book:\n<a href=\"https://www.springer.com/gp/book/9781461409762\" rel=\"nofollow noreferrer\">https://www.springer.com/gp/book/9781461409762</a></p>\n\n<p>My question, have you implemented something similar or equal for Perl or Python?</p>\n"}, {"tags": ["linux", "bash", "shell", "perl", "centos"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1575319290, "post_id": 59146305, "comment_id": 104518664, "body": "Check for selinux errors? <code>sudo sealert -a &#47;var&#47;log&#47;audit&#47;audit.log</code> (install <code>setroubleshoot-server</code> if you don&#39;t have sealert)"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1575319691, "post_id": 59146305, "comment_id": 104518786, "body": "Don&#39;t you have to pass the <code>-z</code> switch to <code>tar</code> when the archive file is compressed?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1575320572, "post_id": 59146305, "comment_id": 104519122, "body": "This has nothing to do with <code>perlbrew</code>. I&#39;ve updated the title in the hopes of getting the attention of the right people. Probably a better question for <a href=\"https://superuser.com/\">superuser.com</a> ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1575320774, "post_id": 59146305, "comment_id": 104519185, "body": "@mob, Apparently, the GNU tar auto-detects the use of gzip when reading from a file (based on extension?), making -z optional in that situation. (If a missing -z flag was the issue, tar wouldn&#39;t be able to read the archive at all.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1575320829, "post_id": 59146305, "comment_id": 104519220, "body": "It probably has nothing to do with Perl either. Have you tried other tarballs? For example, you could try <a href=\"https://cpan.metacpan.org/authors/id/L/LE/LEEJO/CGI-4.44.tar.gz\" rel=\"nofollow noreferrer\">cpan.metacpan.org/authors/id/L/LE/LEEJO/CGI-4.44.tar.gz</a>"}, {"owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "edited": false, "score": 1, "creation_date": 1575370665, "post_id": 59146305, "comment_id": 104535365, "body": "The &#39;.&#39; at the end of the &#39;rwx.&#39; ls output indicates that the directory has extra  ACL/selinux data, which applies in addition to the basic UNIX permissions. &#39;ls -lZ&#39; will show you what. Perhaps it is these which is refusing permission."}, {"owner": {"reputation": 700, "user_id": 8103888, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-xu4VRNb-T-s/AAAAAAAAAAI/AAAAAAAAAFE/6z7RVchH6Z4/photo.jpg?sz=128", "display_name": "Adam Price", "link": "https://stackoverflow.com/users/8103888/adam-price"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575385006, "post_id": 59146305, "comment_id": 104544006, "body": "@ikegami Thanks for the title adjustments, hopefully it will get more attention.  I tested on the tarball you linked and others, all work fine and as expected.  Still trying to resolve the issue."}, {"owner": {"reputation": 700, "user_id": 8103888, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-xu4VRNb-T-s/AAAAAAAAAAI/AAAAAAAAAFE/6z7RVchH6Z4/photo.jpg?sz=128", "display_name": "Adam Price", "link": "https://stackoverflow.com/users/8103888/adam-price"}, "reply_to_user": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "edited": false, "score": 0, "creation_date": 1575385162, "post_id": 59146305, "comment_id": 104544105, "body": "@DaveMitchell I checked the ls -lZ and there is something a little odd perhaps.  We are using SGE, so after a qlogin the permissions change.  I&#39;ve updated the question to reflect the findings, thanks for the tip."}], "owner": {"reputation": 700, "user_id": 8103888, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-xu4VRNb-T-s/AAAAAAAAAAI/AAAAAAAAAFE/6z7RVchH6Z4/photo.jpg?sz=128", "display_name": "Adam Price", "link": "https://stackoverflow.com/users/8103888/adam-price"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1575385967, "creation_date": 1575318946, "last_edit_date": 1575385967, "question_id": 59146305, "link": "https://stackoverflow.com/questions/59146305/tar-creates-0-byte-files-and-issues-permission-denied-errors", "title": "tar creates 0-byte files and issues permission denied errors", "body": "<p>I am working in a CentOS environment and am setting up perlbrew (App::perlbrew/0.87) locally.  I've essentially been following the steps <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-perlbrew-and-manage-multiple-versions-of-perl-5-on-centos-7\" rel=\"nofollow noreferrer\">here</a>.  I have set up perlbrew similarly in the past and no issues, but now am having a strange problem.  It is worth noting that I was able to set up perlbrew and install perl locally on the same machine, same environment, for a different user.  </p>\n\n<p>The problem is this, perlbrew is installed, but cannot install any version of perl because after downloading the dist it fails to extract the tar.gz.</p>\n\n<p>Here is some information about the install.  Perlbrew and cpanm seem to be in place and functioning fine.</p>\n\n<pre><code>-bash-4.1$ env | grep PERL\nPERLBREW_SHELLRC_VERSION=0.87\nPERLBREW_ROOT=/my/home/dir/perl5/perlbrew\nPERLBREW_HOME=/my/home/dir/.perlbrew\n\n-bash-4.1$ env | grep perl\nOLDPWD=/my/home/dir/perl5/perlbrew\nPERLBREW_ROOT=/my/home/dir/perl5/perlbrew\nPATH=/my/home/dir/perl5/perlbrew/bin:/usr/local/bin:/bin:...\nPWD=/my/home/dir/perl5/perlbrew/dists\nPERLBREW_HOME=/my/home/dir/.perlbrew\n\n-bash-4.1$ which perlbrew\n~/perl5/perlbrew/bin/perlbrew\n\n\nMy .bash_profile contains only: \nsource ~/perl5/perlbrew/etc/bashrc\n\n-bash-4.1$ perlbrew available\n\n   perl-5.31.6   \n   perl-5.30.1   \n   perl-5.28.2   \n   perl-5.26.3   \n   perl-5.24.4   \n   ...\n\n</code></pre>\n\n<p>However, when I try to install, I start getting errors from tar.</p>\n\n<pre><code>-bash-4.1$ perlbrew install perl-5.30.1\ntar: perl-5.30.1/.dir-locals.el: Cannot close: Permission denied\ntar: perl-5.30.1/.dir-locals.el: Cannot utime: Permission denied\ntar: perl-5.30.1/.lgtm.yml: Cannot close: Permission denied\ntar: perl-5.30.1/.lgtm.yml: Cannot utime: Permission denied\n...\nit goes on and on for every file.\n</code></pre>\n\n<p>I think the key output here is:</p>\n\n<pre><code>Failed to extract /my/home/dir/perl5/perlbrew/dists/perl-5.30.1.tar.gz at /my/home/dir/perl5/perlbrew/bin/perlbrew line 1631\n</code></pre>\n\n<p>If I navigate to where perlbrew downloads the dist and try to extract it manually, it fails.</p>\n\n<pre><code>-bash-4.1$ cd /my/home/dir/perl5/perlbrew/dists/\n-bash-4.1$ ll\ntotal 17308\ndrwxrwxrwx. 4 myUserID myGroup    11776 Dec  2 15:10 perl-5.30.1\n-rwxrwxrwx. 1 myUserID myGroup 17712574 Nov 25 14:46 perl-5.30.1.tar.gz\n\n-bash-4.1$ tar -xvf perl-5.30.1.tar.gz \nperl-5.30.1/\nperl-5.30.1/.dir-locals.el\ntar: perl-5.30.1/.dir-locals.el: Cannot close: Permission denied\ntar: perl-5.30.1/.dir-locals.el: Cannot utime: Permission denied\nperl-5.30.1/.lgtm.yml\ntar: perl-5.30.1/.lgtm.yml: Cannot close: Permission denied\ntar: perl-5.30.1/.lgtm.yml: Cannot utime: Permission denied\nperl-5.30.1/.metaconf-exclusions.txt\n\n\n</code></pre>\n\n<p>The perl-5.30.1 directory is created and files are made but they are not really extracted.  It's just full of 0kb files where everything should be.</p>\n\n<p>I've tested tar by creating tarballs from files I create and zipping and unzipping and whatnot, everything seems to work there fine.  All the files are owned by my user/group, so I don't get why I can't extract this file.</p>\n\n<p>Does anyone know what could be the cause of this behavior?  </p>\n\n<p><strong>EDIT: This was actually done on a different machine configured the same way as it turns out!</strong>\n<strike>I want to note again that I was able to successfully perform the install on a different user by the same method on the same machine and didn't run into this issue.</strike>  </p>\n\n<p>One user, @DavidMitchell commented about additional permissions shown by ls -lZ that might influence things.  Note that I am using SGE on this machine and have to qlogin to process most tasks.  </p>\n\n<p>Before and after qlogins:</p>\n\n<pre><code>In the perl/dist folder before qlogin.\n-bash-4.1$ ls -lZ\n-rwxrwxrwx. myUser myGroup system_u:object_r:nfs_t:s0       perl-5.30.1.tar.gz\n\nAFTER qlogin\n-bash-4.2$ ls -lZ\n-rwxrwxrwx myUser MyGroup ?                                perl-5.30.1.tar.gz\n\n</code></pre>\n\n<p>So there's a '?' there, so that's interesting. I checked on another machine and user with successful installation and it seems to show the same thing though, so maybe this isn't the issue. Will continue to look into it further, appreciate any further advice!  </p>\n"}, {"tags": ["arrays", "perl", "array-indexing"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1575311810, "post_id": 59144764, "comment_id": 104515710, "body": "With some exceptions we can&#39;t have &quot;barewords&quot; so you need to quote these literal strings, thus <code>func(&#39;B_I&#39;)</code> (don&#39;t need double quotes but they won&#39;t hurt here either).  Then the rest will work right since <code>$index</code> will then have that value.   One of the mentioned exceptions is with hash keys -- the fact that <code>A_I</code> in <code>$doubleArray{A_I}</code> (etc) doesn&#39;t have to be quoted is a particular syntax convenience"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1575312014, "post_id": 59144764, "comment_id": 104515810, "body": "In <code>$doubleArray{A_I}{$index}</code> the <code>$index</code> is evaluated and its value used as a key. So if you assigned the string <code>A_I</code> to <code>$index</code> (from <code>@_</code>) then that&#39;s used. So yes you can pass an &quot;index&quot; (for an associative array --the hash -- in this case) like that, in a variable."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1575312663, "post_id": 59144764, "comment_id": 104516054, "body": "Note though that your function this way needs access to that external <code>%doubleArray</code> hash. So if you were to move the function to a module (in which there is no such hash) it would stop working; there are many other chances for errors when a function accesses data from its surrounding scope directly, as opposed to have all needed data passed to it.  I&#39;d suggest that you pass a (reference to) that hash to the function as well."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1575314415, "post_id": 59144764, "comment_id": 104516754, "body": "NOTE: <code>{}</code> indicates that you use hash, string index for hash does not require to be quoted [feature of perl syntax]. You should use <code>&quot;string $var string&quot;</code> only if you have variable which should be rendered to it&#39;s <i>value</i>, otherwise use <code>&#39;some $var string&#39;</code> it will be rendered literally <i>some $var string</i>."}], "answers": [{"comments": [{"owner": {"reputation": 3364, "user_id": 693294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5935d56f077497b60c12cf86b9d2e1?s=128&d=identicon&r=PG", "display_name": "Gilbert", "link": "https://stackoverflow.com/users/693294/gilbert"}, "edited": false, "score": 0, "creation_date": 1575312448, "post_id": 59144895, "comment_id": 104515983, "body": "Tanktalus is correct. But you may wish to return \\@list to return a reference to an array (a simple scalar) rather than the array itself, which has the potential to have many members.  The caller than then use the return value, such as &lt;code&gt;@$ret&lt;/code&gt;, to get all values."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575314866, "post_id": 59144895, "comment_id": 104516934, "body": "Re &quot;<i>associative arrays in other languages</i>&quot;, Associative arrays are a class of data structure, which has nothing to do with any language. Perl hashes are a type of hash table, and hash tables are associative arrays."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 4, "last_activity_date": 1575312007, "creation_date": 1575312007, "answer_id": 59144895, "question_id": 59144764, "link": "https://stackoverflow.com/questions/59144764/how-do-i-pass-in-the-name-of-an-array-index-in-perl/59144895#59144895", "title": "How do I pass in the name of an array index in perl?", "body": "<p>Those aren't arrays, those are hashes (dictionaries, associative arrays in other languages). With that, the <code>B_I</code> and <code>C_I</code> are then treated as bareword strings. If these were actual arrays, then these would be treated as bareword function calls, and you'd have to have those available to be called in the caller, and no need for quoting there.</p>\n\n<p>Since you're using hashes, the keys are strings, and you passing in <code>'B_I'</code> will result in <code>$index</code> being a string of <code>B_I</code>, and since your <code>{$index}</code> has something that isn't allowed in a bareword string (the <code>$</code>), perl will interpret it as a variable instead of a literal, and everything will work exactly the way you want.</p>\n"}], "owner": {"reputation": 1140, "user_id": 8981474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5S2rF.png?s=128&g=1", "display_name": "isakbob", "link": "https://stackoverflow.com/users/8981474/isakbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 59144895, "answer_count": 1, "score": 3, "last_activity_date": 1575312007, "creation_date": 1575311373, "question_id": 59144764, "link": "https://stackoverflow.com/questions/59144764/how-do-i-pass-in-the-name-of-an-array-index-in-perl", "title": "How do I pass in the name of an array index in perl?", "body": "<h1>Background</h1>\n\n<p>I have these four lines of code that I am trying to extract into one function:</p>\n\n<pre><code>my @firstList = split /\\s+/, $doubleArray{A_I}{B_I};\n@firstList = shuffle(@firstList);\nmy @secondList = split /\\s+/, $doubleArray{A_I}{C_I};\n@secondList = shuffle(@secondList);\n</code></pre>\n\n<p>Since the only functional difference is the second index of the two dimensional array , I wanted to make it so that the second index (\"B_I\" and \"C_I\") are passed into a function.  </p>\n\n<h1>Proposed solution</h1>\n\n<p>In other words I want to make a function like the one below:</p>\n\n<pre><code>my funkyFunc($){\n     my $index = shift;\n     my @list = split /\\s+/, $doubleArray{A_I}{$index};\n     @list = shuffle(@list);\n     return @list;\n}\n</code></pre>\n\n<p>I would intend to use it as such:</p>\n\n<pre><code>my @firstList = funkyFunc(\"B_I\");\nmy @secondList = funkyFunc(\"C_I\");\n</code></pre>\n\n<p>However, I'm unsure as to how perl would interpret <code>\"B_I\"</code> or <code>\"C_I\"</code>, or likewise <code>B_I</code> and <code>C_I</code>.  Because of this complexity, I wanted to know...</p>\n\n<h1>Question</h1>\n\n<p>Is there a way in perl to pass in the name of an array index?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1575308380, "post_id": 59144013, "comment_id": 104514270, "body": "Always <code>use strict;</code> and <code>use warnings;</code>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1575308433, "post_id": 59144013, "comment_id": 104514289, "body": "That is not the value of <code>@c</code>, that is likely the value that appears when you print the contents of <code>@c</code>, which would be all of its elements concatenated together. Try <code>print &quot;$_\\n&quot; for @c;</code> to separate each element with a newline, or <a href=\"https://perldoc.pl/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a> for more general structure debugging."}, {"owner": {"reputation": 15, "user_id": 12451294, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAe1P5CIFvk-mWjpOeVjwWAly8wJCDC_9hj_XES=k-s128", "display_name": "Helena Oliveira", "link": "https://stackoverflow.com/users/12451294/helena-oliveira"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1575309891, "post_id": 59144013, "comment_id": 104514895, "body": "Thanks @Grinnz you&#180;re right. That&#39;s not the value of @c but of all elements concatenated. I saw these elements before but I was misinterpreting the code."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1575321451, "last_edit_date": 1575321451, "creation_date": 1575313940, "answer_id": 59145288, "question_id": 59144013, "link": "https://stackoverflow.com/questions/59144013/unexpected-value-in-while-loop-in-perl/59145288#59145288", "title": "Unexpected value in while loop in Perl", "body": "<p><code>@c</code> contains 63 elements. They are:</p>\n\n<p>0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 47, 48, 38, 19, 63, 10, 19, 20, 1, 28, 22, 63, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0</p>\n\n<p>The 63rd is from the final push outside of the loop.</p>\n\n<p>It's also possibly you wanted 62 (63) <em>digits</em>. If that's the case either use a string instead of an array, or split the results of bin2dec using <code>split //, bin2dec(...)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1575317184, "creation_date": 1575317184, "answer_id": 59145930, "question_id": 59144013, "link": "https://stackoverflow.com/questions/59144013/unexpected-value-in-while-loop-in-perl/59145930#59145930", "title": "Unexpected value in while loop in Perl", "body": "<p>Helena, your final <code>push</code> adds extra element into array. You could convert <em>bin</em> to <em>dec</em> with following code</p>\n\n<pre><code>sub bin2dec {\n    my $bin = shift;\n\n    my $dec = 0;\n\n    map { $dec &lt;&lt;= 1; $dec += $_ } split '', $bin;\n\n    return $dec;\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 12451294, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAe1P5CIFvk-mWjpOeVjwWAly8wJCDC_9hj_XES=k-s128", "display_name": "Helena Oliveira", "link": "https://stackoverflow.com/users/12451294/helena-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 59145288, "answer_count": 2, "score": 0, "last_activity_date": 1575321598, "creation_date": 1575308119, "last_edit_date": 1575321598, "question_id": 59144013, "link": "https://stackoverflow.com/questions/59144013/unexpected-value-in-while-loop-in-perl", "title": "Unexpected value in while loop in Perl", "body": "<p>I have the following Perl code:</p>\n\n<pre><code>$formatcode='0010';\n$binstring='001000111111010110011100000001010100010011001010111111010011100110110000101111';\n\nmy @c = (0) x 12;                   \n#c0 to c11 all 0\n\n#c12 until all string elements used up\nwhile ($binstring ne \"\") {push @c,bintodec(substr($binstring,-6,6,\"\"))}\n\n#rest up to c61 are either 0 or leftsync (problem here)\nwhile (@c &lt; 62) {($formatcode =~ /^00/) ? (push @c,0) : (push @c,bintodec($leftsync))}\n\n#c62 is either 0 or formatcode\n($formatcode =~ /^00/) ? (push @c,0) : (push @c,bintodec($formatcode));\n</code></pre>\n\n<p>where </p>\n\n<pre><code>sub bintodec {              #crude binary to decimal converter\n    my $bin = shift;        #value to convert\n    my $dec = 0;\n    while (length($bin) &gt; 0) {$dec = 2*$dec + substr($bin,0,1); $bin = substr($bin,1)}\n    return $dec;\n}\n</code></pre>\n\n<p>Can someone please tell me why after executing <code>while (@c &lt; 62)</code> segment I end up with </p>\n\n<p><code>@c=0000000000004748381963101920128226380000000000000000000000000000000000000</code>   ?</p>\n\n<p>Why is the length of <code>@c</code> not 62 ?</p>\n"}, {"tags": ["linux", "perl", "awk"], "comments": [{"owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "edited": false, "score": 1, "creation_date": 1575266561, "post_id": 59133397, "comment_id": 104494569, "body": "Welcome to stack overflow.  What have you tried to solve this?"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1575266867, "post_id": 59133397, "comment_id": 104494664, "body": "@nibkuz, Kindly place this attempt in your question, as comments are not meant for mentioning them, kindly edit your question and add this there."}], "answers": [{"tags": [], "owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "is_accepted": true, "score": 2, "last_activity_date": 1575268403, "last_edit_date": 1575268403, "creation_date": 1575267806, "answer_id": 59133620, "question_id": 59133397, "link": "https://stackoverflow.com/questions/59133397/how-can-i-convert-this-format-string-to-csv/59133620#59133620", "title": "How can i convert this format string to CSV?", "body": "<p>This <code>gnu awk</code> should do:</p>\n\n<pre><code>awk -v RS='' -F':* ?|\\n' 'NR==1{print $1\",\"$3\",\"$5\",\"$7\",\"$9} {print $2\",\"$4\",\"$6\",\"$8\",\"$10}' t\nAA,BB,C,DD,E\naaaaaaaaaaaaaaaaa,bbbbbbbbbbbbbbbb,ccccccccccccccccc,DDDDDDDDDDDD,EEEEEEEEEEEEE\naaaaaaaaaaaaaaaaa2,bbbbbbbbbbbbbbbb2,ccccccccccccccccc2,DDDDDDDDDDDD2,EEEEEEEEEEEEE\n</code></pre>\n\n<ul>\n<li><code>RS=''</code> set record selector to nothing so awk works in block mode.</li>\n<li><code>-F':* ?|\\n'</code>  Sets field separator to <code>:</code> or <code>::</code> or newline</li>\n<li><code>NR==1{print $1\",\"$3\",\"$5\",\"$7\",\"$9}</code> for first line print the header</li>\n<li><code>{print $2\",\"$4\",\"$6\",\"$8\",\"$10}</code> print the data fields.</li>\n</ul>\n\n<hr>\n\n<p>A more generic solution that should work with more fields:</p>\n\n<pre><code>awk -v RS='' -F':* ?|\\n' 'NR==1{for(i=1;i&lt;=NF-2;i+=2) printf \"%s,\",$i;print $i} {for(i=2;i&lt;=NF-2;i+=2) printf \"%s,\",$i;print $i}' file\nAA,BB,C,DD,E\naaaaaaaaaaaaaaaaa,bbbbbbbbbbbbbbbb,ccccccccccccccccc,DDDDDDDDDDDD,EEEEEEEEEEEEE\naaaaaaaaaaaaaaaaa2,bbbbbbbbbbbbbbbb2,ccccccccccccccccc2,DDDDDDDDDDDD2,EEEEEEEEEEEEE\n</code></pre>\n\n<p>PS If not all record have all ID, then its an whole other story to program.</p>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 4, "last_activity_date": 1575271331, "last_edit_date": 1575271331, "creation_date": 1575270479, "answer_id": 59134118, "question_id": 59133397, "link": "https://stackoverflow.com/questions/59133397/how-can-i-convert-this-format-string-to-csv/59134118#59134118", "title": "How can i convert this format string to CSV?", "body": "<p>One of many ways to achieve desired result</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $file = do { local $/; &lt;DATA&gt; };         # read whole file\nmy @blocks = split /\\n\\n/, $file;           # split file into blocks\n\nmy $print_header = 1;                       # flag to print header\n\nforeach my $block (@blocks) {               # process each block\n    $block =~ s/:+/:/g;                     # clean up the block :: -&gt; :\n\n    my @lines = split /\\n/, $block;         # split the block into lines\n    my(@header,@data);                      # arrays to store header and data\n\n    foreach my $line (@lines) {             # process each line\n        my($h,$d) = split /:\\s*/, $line;    # split line into header and data part\n        push @header, $h;                   # add header names into array\n        push @data, $d;                     # add data into array\n    }\n\n    if( $print_header ){                    # if header not printed yet\n        print join(',', @header) . \"\\n\";    # print header array\n        $print_header = 0;                  # flag the header is printed \n    }\n\n    print join(',', @data)   . \"\\n\";        # print data array\n}\n\n__DATA__\nAA:: aaaaaaaaaaaaaaaaa\nBB:: bbbbbbbbbbbbbbbb\nC: ccccccccccccccccc\nDD:: DDDDDDDDDDDD\nE: EEEEEEEEEEEEE\n\nAA: aaaaaaaaaaaaaaaaa2\nBB:: bbbbbbbbbbbbbbbb2\nC:: ccccccccccccccccc2\nDD: DDDDDDDDDDDD2\nE: EEEEEEEEEEEEE2\n</code></pre>\n\n<p>output</p>\n\n<pre><code>AA,BB,C,DD,E\naaaaaaaaaaaaaaaaa,bbbbbbbbbbbbbbbb,ccccccccccccccccc,DDDDDDDDDDDD,EEEEEEEEEEEEE\naaaaaaaaaaaaaaaaa2,bbbbbbbbbbbbbbbb2,ccccccccccccccccc2,DDDDDDDDDDDD2,EEEEEEEEEEEEE2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 0, "last_activity_date": 1575306898, "creation_date": 1575306898, "answer_id": 59143724, "question_id": 59133397, "link": "https://stackoverflow.com/questions/59133397/how-can-i-convert-this-format-string-to-csv/59143724#59143724", "title": "How can i convert this format string to CSV?", "body": "<p>Using <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a> to handle <a href=\"http://thomasburette.com/blog/2014/05/25/so-you-want-to-write-your-own-CSV-code/\" rel=\"nofollow noreferrer\">edge cases</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Text::CSV 'csv';\n\nmy $input = do { local $/; readline }; # input from STDIN or filename argument\n\nmy @aoh;\nmy %headers;\nforeach my $block (split /\\n\\n+/, $input) {\n  my %row;\n  foreach my $line (split /^/, $block) {\n    if ($line =~ m/^([^:]+):+\\s*(.*)$/) {\n      $row{$1} = $2;\n      $headers{$1} = 1;\n    }\n  }\n  push @aoh, \\%row;\n}\n\ncsv(in =&gt; \\@aoh, out =&gt; *STDOUT, headers =&gt; [sort keys %headers],\n  encoding =&gt; 'UTF-8', auto_diag =&gt; 2);\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 12459821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4583a23aa314cfc6d6d99202c048aa9b?s=128&d=identicon&r=PG&f=1", "display_name": "nibkuz", "link": "https://stackoverflow.com/users/12459821/nibkuz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "accepted_answer_id": 59133620, "answer_count": 3, "score": -2, "last_activity_date": 1575306898, "creation_date": 1575266374, "last_edit_date": 1575266975, "question_id": 59133397, "link": "https://stackoverflow.com/questions/59133397/how-can-i-convert-this-format-string-to-csv", "title": "How can i convert this format string to CSV?", "body": "<p>my string is:</p>\n\n<pre><code>AA:: aaaaaaaaaaaaaaaaa\nBB:: bbbbbbbbbbbbbbbb\nC: ccccccccccccccccc\nDD:: DDDDDDDDDDDD\nE: EEEEEEEEEEEEE\n\nAA: aaaaaaaaaaaaaaaaa2\nBB:: bbbbbbbbbbbbbbbb2\nC:: ccccccccccccccccc2\nDD: DDDDDDDDDDDD2\nE: EEEEEEEEEEEEE\n\n....\n</code></pre>\n\n<p>i need get this format with standard linux command like awk or ... or perl function</p>\n\n<pre><code>AA,BB,C,DD,E\naaaaaaaa,bbbbbb,ccccc,dddddd,eeeee\naaaaaaaa2,bbbbbb2,ccccc2,dddddd2,eeeee2\n</code></pre>\n\n<blockquote>\n  <p>exm:<br> OUTPUT_STRING | awk .... <br>\n  or <br> perlFunction(OUTPUT_STRING){ <br>.....<br>\n  return formated_string;<br> }</p>\n</blockquote>\n\n<p><strong>i searched google and try many help on more site and not work, so dont send me a link</strong></p>\n\n<p>some field have <strong>single :</strong> and some field have <strong>double :</strong> (this is random)</p>\n\n<p>i try some help and not worked for me</p>\n\n<p><code>sed -r 's/\\\\,|,|CN=|OU*//g' |awk -F \"|=|:\" '{printf $2\"|\"}'</code>\n or \n<code>sed -n '1h; 2,$H;${g;s/\\n/,/g;p}' | sed 's/,,/\\n/g'</code>\n or \n<code>awk -F \":\" '{printf $2} {if (NF==0) {printf \"\\n\"}}' | sed \"s/ //\" | sed \"s/ /;/g\"</code></p>\n"}, {"tags": ["perl", "data-dumper"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 7, "creation_date": 1575254209, "post_id": 59131801, "comment_id": 104491859, "body": "Please replace the pictures with text. (-1 until you do)"}, {"owner": {"reputation": 1040, "user_id": 11767140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tbfr3YlhoOs/AAAAAAAAAAI/AAAAAAAAAWo/4_25j9xubwc/photo.jpg?sz=128", "display_name": "David Garc&#237;a Bodego", "link": "https://stackoverflow.com/users/11767140/david-garc%c3%ada-bodego"}, "edited": false, "score": 3, "creation_date": 1575259189, "post_id": 59131801, "comment_id": 104492859, "body": "Welcome to SO! It is hard to retype your code when you already did it. Please, post code, not images."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1575272918, "last_edit_date": 1575272918, "creation_date": 1575254316, "answer_id": 59131970, "question_id": 59131801, "link": "https://stackoverflow.com/questions/59131801/how-can-i-remove-the-title-name-of-each-unique-number-in-datadumper-in-perl/59131970#59131970", "title": "How can I remove the title name of each unique number in Data::Dumper in perl?", "body": "<p>Presuming you want the counts in descending order, you could use the following:</p>\n\n<pre><code>printf \"\\$VAR1 = { %s};\\n\",\n   join ',', \n      map \"$_ \",\n         sort { $b &lt;=&gt; $a }\n            values(%counts);\n</code></pre>\n\n<p>If instead you want the counts sorted by key,</p>\n\n<pre><code>printf \"\\$VAR1 = { %s};\\n\",\n   join ',', \n      map \"$counts{$_} \",\n         sort\n            keys(%counts);\n</code></pre>\n\n<p>Either way, that's a really weird format. Square brackets would make more sense than curly ones.</p>\n"}, {"comments": [{"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 1, "creation_date": 1575273303, "post_id": 59134443, "comment_id": 104496797, "body": "As alternative you can use  <code>my @values = @counts{sort keys %counts};</code> instead <code>map</code> approach."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1575273474, "post_id": 59134443, "comment_id": 104496864, "body": "Or you can avoid intermediate storage <code>@values</code> and <code>say join(&#39;,&#39;, @counts{sort keys %counts});</code> instead;"}], "tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1575272204, "creation_date": 1575272204, "answer_id": 59134443, "question_id": 59131801, "link": "https://stackoverflow.com/questions/59131801/how-can-i-remove-the-title-name-of-each-unique-number-in-datadumper-in-perl/59134443#59134443", "title": "How can I remove the title name of each unique number in Data::Dumper in perl?", "body": "<p>One of many ways to get desired result</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature 'say';\n\nmy @names = qw( A A A A B B B C D );\n\nmy %counts;\n\n$counts{$_}++ for @names;\n\nmy @values = map { $counts{$_} } sort keys %counts;\n\nsay join(',', @values);\n</code></pre>\n\n<p>output</p>\n\n<pre><code>4,3,1,1\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 12465907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mALiyjAydM6Ws0Xn6sZRBhEUuoRzOmR7iAsvhj7CQ=k-s128", "display_name": "Chen Leo", "link": "https://stackoverflow.com/users/12465907/chen-leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 59131970, "answer_count": 2, "score": -4, "last_activity_date": 1576468393, "creation_date": 1575252667, "last_edit_date": 1576468393, "question_id": 59131801, "link": "https://stackoverflow.com/questions/59131801/how-can-i-remove-the-title-name-of-each-unique-number-in-datadumper-in-perl", "title": "How can I remove the title name of each unique number in Data::Dumper in perl?", "body": "<p>I use Data::Dumper to catch uniqe number in each element. </p>\n\n<pre><code>#!perl\n\nuse warnings;\nuse strict;\nuse Data::Dumper;\n$Data::Dumper::Sortkeys = 1;\n\nmy @names = qw(A A A A B B B C D);\nmy %counts;\n$counts{$_}++ for @names;\nprint Dumper (\\%counts);\n\nexit;\n</code></pre>\n\n<p>This is output.</p>\n\n<pre><code>$VAR1 = {\n          'A' =&gt; 4,\n          'B' =&gt; 3,\n          'C' =&gt; 1,\n          'D' =&gt; 1\n        };\n</code></pre>\n\n<p>How can I remove the title name of each unique number to get output like this format?</p>\n\n<pre><code>$VAR1 = { 4 ,3 ,1 ,1 }\n</code></pre>\n"}, {"tags": ["perl", "apache-kafka", "alpine", "cpanm"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1575274499, "post_id": 59127135, "comment_id": 104497200, "body": "I undid the last change to the question because it is a completely different problem now and the existing answers do not fit the question anymore. Please <a href=\"https://stackoverflow.com/questions/ask\">open a new question</a> for the Test-Block problem. Your text is still available: <a href=\"https://stackoverflow.com/revisions/59127135/2\">revision 2</a> / <a href=\"https://stackoverflow.com/revisions/3d519878-47c8-48f1-97d6-b6ba776d0ccf/view-source\">source</a>"}, {"owner": {"reputation": 3056, "user_id": 1447071, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/f2e8cde14371d5e6c6b65545dccd4e39?s=128&d=identicon&r=PG", "display_name": "Rubber Duck", "link": "https://stackoverflow.com/users/1447071/rubber-duck"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1575274712, "post_id": 59127135, "comment_id": 104497292, "body": "@daxim The question was about installing perl Kafka on alpine. your answer ultimately helped me very much!. thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 3056, "user_id": 1447071, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/f2e8cde14371d5e6c6b65545dccd4e39?s=128&d=identicon&r=PG", "display_name": "Rubber Duck", "link": "https://stackoverflow.com/users/1447071/rubber-duck"}, "edited": false, "score": 0, "creation_date": 1575267974, "post_id": 59128711, "comment_id": 104494986, "body": "I tried your suggestion the error receded but I couldn&#39;t install the dependancies for Kafka. the error has to do with failing cpan install Test::Block"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1575225536, "creation_date": 1575225536, "answer_id": 59128711, "question_id": 59127135, "link": "https://stackoverflow.com/questions/59127135/how-to-install-perl-kafkaconnection-on-alpine-image/59128711#59128711", "title": "How to install perl Kafka::Connection on alpine image", "body": "<p>Alpine does not ship glibc, and <code>obstack.h</code> is not part of <a href=\"https://pkgs.alpinelinux.org/contents?name=musl-dev&amp;branch=v3.10&amp;repo=main&amp;arch=x86_64\" rel=\"nofollow noreferrer\">musl-dev</a>.</p>\n\n<p>Try <a href=\"https://github.com/sgerrand/alpine-pkg-glibc\" rel=\"nofollow noreferrer\">alpine-pkg-glibc</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 3056, "user_id": 1447071, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/f2e8cde14371d5e6c6b65545dccd4e39?s=128&d=identicon&r=PG", "display_name": "Rubber Duck", "link": "https://stackoverflow.com/users/1447071/rubber-duck"}, "edited": false, "score": 0, "creation_date": 1575267986, "post_id": 59130580, "comment_id": 104494994, "body": "I tried your suggestion the error receded but I couldn&#39;t install the dependancies for Kafka. the error has to do with failing cpan install Test::Block"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1575274845, "post_id": 59130580, "comment_id": 104497338, "body": "Is it a good idea to mix Alpine stable (OP uses 3.10) and testing? In three other distros I know, this potentially breaks the system."}, {"owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1575277744, "post_id": 59130580, "comment_id": 104498598, "body": "@daxim In this particular case, there&#39;s no harm in doing so, since the headers are &quot;new&quot; and don&#39;t interfere with anything else. Just like other package managers, <code>apk</code> will refuse to install packages when there are dependency conflicts, so it could be simple trial and error."}], "tags": [], "owner": {"reputation": 10144, "user_id": 7256341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RXEvi.jpg?s=128&g=1", "display_name": "valiano", "link": "https://stackoverflow.com/users/7256341/valiano"}, "is_accepted": false, "score": 2, "last_activity_date": 1575239941, "last_edit_date": 1575239941, "creation_date": 1575239437, "answer_id": 59130580, "question_id": 59127135, "link": "https://stackoverflow.com/questions/59127135/how-to-install-perl-kafkaconnection-on-alpine-image/59130580#59130580", "title": "How to install perl Kafka::Connection on alpine image", "body": "<p>You could try grabbing <code>obstack.h</code> on Alpine by installing the newly available <a href=\"https://pkgs.alpinelinux.org/package/edge/testing/x86_64/musl-obstack-dev\" rel=\"nofollow noreferrer\">musl-obstack-dev</a> package of the <code>edge/testing</code> repository:</p>\n\n<pre><code>apk add musl-obstack-dev --repository=http://dl-cdn.alpinelinux.org/alpine/edge/testing\n</code></pre>\n\n<p>Note that <code>edge/testing</code> packages are cutting edge and are considered experimental (as opposed to main stable package).</p>\n\n<p>While Alpine (musl libc) is generally not glibc compatible, it does provide lightweight glibc compatibility in terms of convenience headers and libraries, particularly via the <a href=\"https://pkgs.alpinelinux.org/package/edge/main/x86_64/libc6-compat\" rel=\"nofollow noreferrer\">libc6-compat</a> package, and packages as the aforementioned. </p>\n\n<p>Tip: use Alpine's excellent package search for locating missing files. Alpine is vivid and active and sees new packages regularly. Most of the time you'll find that missing files are available in apk packages. Results for <code>obstack.h</code> package contents search:<br>\n<a href=\"https://pkgs.alpinelinux.org/contents?file=obstack.h&amp;path=&amp;name=&amp;branch=edge\" rel=\"nofollow noreferrer\">https://pkgs.alpinelinux.org/contents?file=obstack.h&amp;path=&amp;name=&amp;branch=edge</a></p>\n"}, {"tags": [], "owner": {"reputation": 3056, "user_id": 1447071, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/f2e8cde14371d5e6c6b65545dccd4e39?s=128&d=identicon&r=PG", "display_name": "Rubber Duck", "link": "https://stackoverflow.com/users/1447071/rubber-duck"}, "is_accepted": false, "score": 1, "last_activity_date": 1575275421, "creation_date": 1575275421, "answer_id": 59135074, "question_id": 59127135, "link": "https://stackoverflow.com/questions/59127135/how-to-install-perl-kafkaconnection-on-alpine-image/59135074#59135074", "title": "How to install perl Kafka::Connection on alpine image", "body": "<p>I eventually searched Github to find a <a href=\"https://github.com/ytnobody/docker-alpine-perl/blob/master/Dockerfile\" rel=\"nofollow noreferrer\">newer alpine perl image</a> and was greatly helped by <a href=\"https://stackoverflow.com/users/7256341/valiano\">valino's answer</a> in arriving at this Dockerfile:</p>\n\n<pre><code>FROM alpine:3.10.3\n\n## alpine curl and wget aren't fully compatible, so we install them\n## here. gnupg is needed for Module::Signature.\nRUN apk update &amp;&amp; apk upgrade\nRUN apk add --no-cache curl tar make gcc build-base wget gnupg ca-certificates g++ git gd-dev\nRUN apk add --no-cache zlib zlib-dev\nRUN apk add --no-cache perl perl-dev\n\nRUN curl -L &lt;check the link above \"newer alpine perl image\" for this line it was rejected&gt; &gt; /bin/cpanm &amp;&amp; chmod +x /bin/cpanm\nRUN cpanm App::cpm\n\nWORKDIR /usr\n\nRUN cpm install Try::Tiny\nRUN cpm install YAML\nRUN cpm install JSON\nRUN cpm install JSON::MaybeXS\nRUN cpm install HTTP::Request\nRUN cpm install HTTP::Response\nRUN cpm install HTTP::Daemon\n\nRUN cpm install GD::Simple\nRUN cpm install GD::Graph\nRUN cpm install Data::HexDump::Range\nRUN cpm install Proc::Daemon\nRUN cpm install Test::Block\nRUN cpm install Text::Colorizer\nRUN cpm install Gzip::Faster\n\nENV PERL5LIB=/usr/local/lib/perl5\nENV PATH=/usr/local/bin:$PATH\n\nRUN apk add --no-cache musl-obstack-dev --repository=http://dl-cdn.alpinelinux.org/alpine/edge/testing\n\nRUN cpm install Proc::ProcessTable\nRUN cpm install Kafka::Connection\n\nCOPY run.sh /run.sh\n\nRUN chmod +x \"/run.sh\"\n\nRUN mkdir -p /code_path\n\nWORKDIR /code_path\n\nCMD [\"/run.sh\"]\n</code></pre>\n"}], "owner": {"reputation": 3056, "user_id": 1447071, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/f2e8cde14371d5e6c6b65545dccd4e39?s=128&d=identicon&r=PG", "display_name": "Rubber Duck", "link": "https://stackoverflow.com/users/1447071/rubber-duck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1575275421, "creation_date": 1575215104, "last_edit_date": 1575274408, "question_id": 59127135, "link": "https://stackoverflow.com/questions/59127135/how-to-install-perl-kafkaconnection-on-alpine-image", "title": "How to install perl Kafka::Connection on alpine image", "body": "<p>I have a working UBUNTU image with this Dockerfile:</p>\n\n<pre><code>FROM perl:5.14\n\nENV DEBIAN_FRONTEND noninteractive\n\nRUN apt-get update -y\nRUN apt-get upgrade -y\nRUN apt-get install -y libgd-dev\n\nRUN perl -MCPAN -e 'install (Try::Tiny)'\nRUN perl -MCPAN -e 'install (Kafka::Connection)'\nRUN perl -MCPAN -e 'install (YAML)'\nRUN perl -MCPAN -e 'install (GD::Simple)'\nRUN perl -MCPAN -e 'install (GD::Graph)'\nRUN perl -MCPAN -e 'install (JSON)'\nRUN perl -MCPAN -e 'install (JSON::MaybeXS)'\nRUN perl -MCPAN -e 'install (HTTP::Request)'\nRUN perl -MCPAN -e 'install (HTTP::Response)'\nRUN perl -MCPAN -e 'install (HTTP::Daemon)'\n\nCOPY run.sh /run.sh\n\nRUN chmod +x \"/run.sh\"\n\nRUN mkdir -p /code_path\n\nWORKDIR /code_path\n\nCMD [\"/run.sh\"]\n</code></pre>\n\n<p>I'n trying to get a slimmer alpine version like this:</p>\n\n<pre><code>FROM alpine:3.10.3\n\n## alpine curl and wget aren't fully compatible, so we install them\n## here. gnupg is needed for Module::Signature.\nRUN apk update &amp;&amp; apk upgrade\nRUN apk add curl tar make gcc build-base wget gnupg\n\nRUN mkdir -p /usr/src/perl\n\nWORKDIR /usr/src/perl\n\n## from perl; `true make test_harness` because 3 tests fail\n## some flags from http://git.alpinelinux.org/cgit/aports/tree/main/perl/APKBUILD?id=19b23f225d6e4f25330e13144c7bf6c01e624656\nRUN curl -SLO https://www.cpan.org/src/5.0/perl-5.30.0.tar.gz \\\n    &amp;&amp; echo 'aa5620fb5a4ca125257ae3f8a7e5d05269388856 *perl-5.30.0.tar.gz' | sha1sum -c - \\\n    &amp;&amp; tar --strip-components=1 -xzf perl-5.30.0.tar.gz -C /usr/src/perl \\\n    &amp;&amp; rm perl-5.30.0.tar.gz \\\n    &amp;&amp; ./Configure -des \\\n    -Duse64bitall \\\n    -Dcccdlflags='-fPIC' \\\n    -Dcccdlflags='-fPIC' \\\n    -Dccdlflags='-rdynamic' \\\n    -Dlocincpth=' ' \\\n    -Duselargefiles \\\n    -Dusethreads \\\n    -Duseshrplib \\\n    -Dd_semctl_semun \\\n    -Dusenm \\\n    &amp;&amp; make libperl.so \\\n    &amp;&amp; make -j$(nproc) \\\n    &amp;&amp; true TEST_JOBS=$(nproc) make test_harness \\\n    &amp;&amp; make install \\\n    &amp;&amp; curl -LO https://raw.githubusercontent.com/miyagawa/cpanminus/master/cpanm \\\n    &amp;&amp; chmod +x cpanm \\\n    &amp;&amp; ./cpanm App::cpanminus \\\n    &amp;&amp; rm -fr ./cpanm /root/.cpanm /usr/src/perl\n\n\n\n\n## from tianon/perl\nENV PERL_CPANM_OPT --verbose --mirror https://cpan.metacpan.org --mirror-only\nRUN cpanm Digest::SHA Module::Signature &amp;&amp; rm -rf ~/.cpanm\nENV PERL_CPANM_OPT $PERL_CPANM_OPT --verify\n\nRUN perl -MCPAN -e 'install (Try::Tiny)'\nRUN perl -MCPAN -e 'install (Kafka::Connection)'\nRUN perl -MCPAN -e 'install (YAML)'\nRUN perl -MCPAN -e 'install (GD::Simple)'\nRUN perl -MCPAN -e 'install (GD::Graph)'\nRUN perl -MCPAN -e 'install (JSON)'\nRUN perl -MCPAN -e 'install (JSON::MaybeXS)'\nRUN perl -MCPAN -e 'install (HTTP::Request)'\nRUN perl -MCPAN -e 'install (HTTP::Response)'\nRUN perl -MCPAN -e 'install (HTTP::Daemon)'\n\nCOPY run.sh /run.sh\n\nRUN chmod +x \"/run.sh\"\n\nRUN mkdir -p /code_path\n\nWORKDIR /code_path\n\nCMD [\"/run.sh\"]\n</code></pre>\n\n<p>I keep getting this error</p>\n\n<pre><code>OS.c:18:10: fatal error: obstack.h: No such file or directory\n #include &lt;obstack.h&gt;    /* glibc's handy obstacks */\n</code></pre>\n\n<p>how do I get all the dependencies for Kafka on the image?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1575201715, "creation_date": 1575201715, "answer_id": 59125306, "question_id": 59125134, "link": "https://stackoverflow.com/questions/59125134/autovivification-doesnt-work-even-as-lvalue/59125306#59125306", "title": "Autovivification doesnt work even as lvalue", "body": "<p>This is not autovivification. You have a syntax mistake. If you had <code>use strict</code> and <code>use warnings</code> turned on, it would be more obvious.</p>\n\n<p>The post-fix <code>for</code> construct treats the left-hand side like a block. So there is a scope for the body of the loop. Therefore you are declaring your <code>my $sum</code> inside that loop body scope, and it's not visible outside.</p>\n\n<p>If you turn on <code>use warnings</code>, you'll get <em>Use of uninitialized value $sum in concatenation (.) or string at ... line 6</em>, which is the <code>print</code> after.</p>\n\n<p>You need to declare the variable first (and use <code>strict</code> and <code>warnings</code>!).</p>\n"}, {"comments": [{"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1575203232, "post_id": 59125411, "comment_id": 104479505, "body": "Well I am autovivificate the <code>$sum</code> var, because I have not declared it before. That mean it is new var and I am assigning it number (value) at once. That is actually autovivification (doesnt apply only to references)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1575203366, "post_id": 59125411, "comment_id": 104479532, "body": "No, explicitly declaring (creating) a variable (as you did with <code>my $sum</code>) is the very opposite of automatic (implicit) creation (vivification)."}, {"owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1575203547, "post_id": 59125411, "comment_id": 104479577, "body": "OK, i thought I would have to had a value first (like <code>$sum = 0; $sum ...</code>) before actually using it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 1, "creation_date": 1575203603, "post_id": 59125411, "comment_id": 104479591, "body": "Scalars are created undefined. Arrays and hashes are created empty."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "edited": false, "score": 0, "creation_date": 1575229134, "post_id": 59125411, "comment_id": 104486393, "body": "@Herdsman it does have a value, the value <code>undef</code>.  For convenience, when you add to undef with <code>+=</code>, it is treated as 0 with no warning.  After <code>my $x; $x+=$_ for LIST;</code> <code>$x</code> will have a numeric value <i>unless</i> the list was empty; if it may be empty, so no <code>+=</code> is performed, you probably do want to initialize it to 0 to start with."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1575231892, "post_id": 59125411, "comment_id": 104487108, "body": "@ysth, Not initializing means it will warn if you pass an empty string instead of a number as expected. Not initializing (i.e. keeping the default <code>undef</code>) is good here."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1575203711, "last_edit_date": 1575203711, "creation_date": 1575202704, "answer_id": 59125411, "question_id": 59125134, "link": "https://stackoverflow.com/questions/59125134/autovivification-doesnt-work-even-as-lvalue/59125411#59125411", "title": "Autovivification doesnt work even as lvalue", "body": "<p><code>my</code> has two effects:</p>\n\n<ul>\n<li>At compile time, <code>my</code> declares the variable.</li>\n<li>At run time, <code>my</code> allocates a new variable. More or less.</li>\n</ul>\n\n<p>The first effect is what allows you to refer to the variable until the end of the enclosing block.</p>\n\n<p>The second effect means <code>$sum</code> can't possibly hold the sum at the end of the loop since you call <code>my</code> to create a new variable each pass of the loop.</p>\n\n<hr>\n\n<p>[ <em>Warning: This section discusses Perl's guts. Feel free to jump ahead.</em> ]</p>\n\n<p>But why is it undef instead of containing the number from the last pass? </p>\n\n<p>Well, that's cause <code>my</code> doesn't actually allocate a new variable when executed. It places an instruction on the stack to allocate a new one <em>on scope exit</em>!</p>\n\n<p>The <code>for</code> statement modifier creates a lexical scope so that <code>$_</code> can be properly restored when the statement is complete, so <code>my $sum</code> is replaced with a fresh variable at the end of each loop pass. (It's technically only being cleared rather than deallocated and reallocated thanks to an optimization.)</p>\n\n<hr>\n\n<p>Your code could be written as follows:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nsub sum { my $acc; $acc += $_ for @_; $acc }\n\nmy @inp = map 2**$_, 0..6;\nmy @cc = grep { ( sum split // ) % 2 } @inp;\n</code></pre>\n\n<p>or even just</p>\n\n<pre><code>my @cc = grep { ( sum split //, 2**$_ ) % 2 } 0..6;\n</code></pre>\n\n<p>Always use <code>use strict; use warnings;</code>. Note that <code>use warnings;</code> would have made it more obvious that something was going wrong. </p>\n\n<hr>\n\n<p>By the way, I don't know what you think autovivification means, but it's wrong.</p>\n\n<p>Autovivification is the creation of a variable and a reference to it when deferencing an undefined value.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -e'\n   my $x;\n   CORE::say $x // \"[undef]\";\n   $x-&gt;[0] = 123;\n   CORE::say $x // \"[undef]\";\n'\n[undef]\nARRAY(0x35d7f56740)\n</code></pre>\n\n<p>Less formally, it could also refer to the creation of hash or array elements when using them as lvalues.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -e'\n   my $x;\n   CORE::say exists($h{x}) ? 1 : 0;\n   my $ref = \\( $h{x} );\n   CORE::say exists($h{x}) ? 1 : 0;\n'\n0\n1\n</code></pre>\n\n<p>There's no attempt to autovivify in your code.</p>\n"}], "owner": {"reputation": 609, "user_id": 11143545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/617c9145bb039f1defedce54b28e89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Herdsman", "link": "https://stackoverflow.com/users/11143545/herdsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 59125306, "answer_count": 2, "score": 2, "last_activity_date": 1598195708, "creation_date": 1575200357, "last_edit_date": 1598195708, "question_id": 59125134, "link": "https://stackoverflow.com/questions/59125134/autovivification-doesnt-work-even-as-lvalue", "title": "Autovivification doesnt work even as lvalue", "body": "<p>I have this simple code:</p>\n<pre><code> #!/usr/bin/perl\n@inp = map 2**$_, 0..6;\n@cc = grep {\n    my $num = $inp[$_];\n    my $sum;    #---- HERE, I have to have the var declared first, before init.\n    $sum += $_ for (split //, $num);\n    print &quot;$sum\\n&quot;;\n    $sum % 2;\n    } 0..$#inp;\n</code></pre>\n<p>Here, the <code>$sum</code> will be used in for loop, However in this case:</p>\n<pre><code>#!/usr/bin/perl\n@inp = map 2**$_, 0..6;\n@cc = grep {\n    my $num = $inp[$_];\n    my $sum += $_ for (split //, $num); # HERE, Trying to autovificate - wont work\n    print &quot;$sum\\n&quot;;\n    $sum % 2;\n    } 0..$#inp;\n</code></pre>\n<p>But when I used var <code>$sum</code> at the same line with for loop - that means I am trying to declare and initiate at once - where should work the autovivifaction - As i would expect to autovivificate the <code>$sum</code> to zero (because used with math operator <code>+=</code>), but will not work, but why so? What are the rules for autovivification?</p>\n"}, {"tags": ["perl", "openssl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1575182238, "post_id": 59122233, "comment_id": 104475522, "body": "The openssl command are <b>not</b> about creating and <b>signing key</b>. They are about creating a <b>key and certificate</b>. And instead of trying to implement this with <code>Crypt::OpenSSL::RSA</code> you could just use <a href=\"https://metacpan.org/pod/IO::Socket::SSL::Utils\" rel=\"nofollow noreferrer\">IO::Socket::SSL::Utils</a> with functions like <code>KEY_create_rsa</code> and <code>CERT_create</code>. Also, creating a CSR is not required to generate a certificate. It is only common since the owner of the certificate and the CA are controlled by different entities and the CSR is the way for the owner to request a new certificate."}, {"owner": {"reputation": 389, "user_id": 2644315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5AWB7.jpg?s=128&g=1", "display_name": "Xerix", "link": "https://stackoverflow.com/users/2644315/xerix"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1575430093, "post_id": 59122233, "comment_id": 104560355, "body": "Ok, I have read the spec of IO::Socket::SSL::Utils, I found the KEY_create_rsa, then it creates &quot;pem&quot; file. How I continue from here to CERT_create? I didn&#39;t found anything about it, or a small example... Also, then: How do I add the data like: Address, company name, etc?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1575434410, "post_id": 59122233, "comment_id": 104561251, "body": "See for example <a href=\"https://metacpan.org/source/SULLR/IO-Socket-SSL-2.066/certs/create-certs.pl\" rel=\"nofollow noreferrer\">metacpan.org/source/SULLR/IO-Socket-SSL-2.066/certs/&hellip;</a> which creates a certificate hierarchy with root CA, intermediate, leaf certificates etc."}], "owner": {"reputation": 389, "user_id": 2644315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5AWB7.jpg?s=128&g=1", "display_name": "Xerix", "link": "https://stackoverflow.com/users/2644315/xerix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575202692, "creation_date": 1575170189, "last_edit_date": 1575202692, "question_id": 59122233, "link": "https://stackoverflow.com/questions/59122233/generate-public-private-keys-and-sign-them-with-cryptopensslrsa-in-perl", "title": "Generate public/private keys AND sign them with Crypt::OpenSSL::RSA in Perl", "body": "<p>I am used to generate keys with OpenSSL via shell, this way:</p>\n\n<pre><code>my $ssk=\"a29bRwoA73xZGeBc\";\nopenssl req -new -newkey rsa:2048 -nodes -keyout \"/etc/ssl/$ssk.key\" -out \"/etc/ssl/$ssk.csr\"\nopenssl x509 -req -days 365 -in \"/etc/ssl/$ssk.csr\" -signkey \"/etc/ssl/$ssk.key\" -out \"/etc/ssl/$ssk.crt\"\n</code></pre>\n\n<p>Now I need to perform this action via PERL, but I have no idea if the below code can at least implement the 1st line:</p>\n\n<pre><code>my $ssk=\"a29bRwoA73xZGeBc\";\n\n# I didn't use Crypt::OpenSSL::Random, as I didn't found where it comes to action\nuse Crypt::OpenSSL::RSA;\nmy $rsa=Crypt::OpenSSL::RSA-&gt;generate_key(2048);\nmy $rsa_pub=Crypt::OpenSSL::RSA-&gt;new_public_key($rsa-&gt;get_public_key_x509_string());\nmy $rsa_prv=Crypt::OpenSSL::RSA-&gt;new_private_key($rsa-&gt;get_private_key_string());\nmy $cipher=$rsa-&gt;encrypt($rsa_pub);\nmy $plain=$rsa-&gt;encrypt($cipher);\nmy $sigt=$rsa_prv-&gt;sign($plain); # This seems to be part of the 2nd line in shell code, but maybe I am wrong.\nunless($rsa-&gt;verify($plain,$sigt)) { die \"Failed to create keys\"; }\n\n# Here is the issue:\n&amp;SaveFile(\"/etc/ssl/$ssk.key\",$plain,0400); # Is it correct?\n&amp;SaveFile(\"/etc/ssl/$ssk.csr\",$cipher,0400); # How about this?\n\n# How do I proceed to implement the 2nd line in the shell code?\n</code></pre>\n\n<p>Note that the part of Crypt::OpenSSL::Random and saving to key files is not docmented...</p>\n\n<p>Thanks a lot</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1575125408, "post_id": 59117111, "comment_id": 104464461, "body": "Please show the Python script. The <code>return</code> statement in python returns a value to calling Python function, not to the shell that runs the Python script. To return a value to the shell, you can use e.g. <code>sys.exit()</code> from Python, also note that the backticks in Perl captures the STDOUT of the program run (which is not the same as the exit code)"}, {"owner": {"reputation": 639, "user_id": 2564502, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f9334dff31473eca781e3662096058f7?s=128&d=identicon&r=PG", "display_name": "user2564502", "link": "https://stackoverflow.com/users/2564502/user2564502"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1575130824, "post_id": 59117111, "comment_id": 104465938, "body": "I really do not know Perl at all. Given I am capturing the stdout with my backticks, should I just get rid of the return statement, and just do something like &#39;print(&quot;{}, {}, {}, {}, {}&quot;.format(var1, etc...))? And then perl would work that out?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1575131005, "post_id": 59117111, "comment_id": 104465992, "body": "Yes that would be an approach. If the arguments to be transferred are becoming more complicated I would recommend transferring the data using a JSON file instead"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1575132737, "post_id": 59117111, "comment_id": 104466467, "body": "Piping through STDOUT / STDIN using the shell, and data interchange formats are solved problems. In your Perl script reading from backticks reads from STDIN. If your Python script printed to STDOUT a well-known light-weight data format such as JSON, the Perl script could easily parse it with the JSON module (or JSON::PP if you are tied to core-only modules)"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1575238646, "post_id": 59118104, "comment_id": 104489015, "body": "why use a file instead of stdout?"}, {"owner": {"reputation": 639, "user_id": 2564502, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f9334dff31473eca781e3662096058f7?s=128&d=identicon&r=PG", "display_name": "user2564502", "link": "https://stackoverflow.com/users/2564502/user2564502"}, "edited": false, "score": 0, "creation_date": 1575299641, "post_id": 59118104, "comment_id": 104510038, "body": "This looks amazing. I&#39;ll give it a go later :)! Thanks."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 4, "last_activity_date": 1575132375, "last_edit_date": 1575132375, "creation_date": 1575131449, "answer_id": 59118104, "question_id": 59117111, "link": "https://stackoverflow.com/questions/59117111/getting-the-tuple-output-of-python-script-in-perl/59118104#59118104", "title": "Getting the tuple output of Python script in Perl", "body": "<p>Instead of using <code>STDOUT</code> for transferring variable information, you're best using a mechanism that is built for this type of purpose. Here's an example using JSON. We dump the data from the Python script as a JSON string into a file, and after the Python script has completed, we read in the JSON string from the file and proceed.</p>\n\n<p>Python script:</p>\n\n<pre><code>import json\n\ndata = (1, 2, 3, 40, 50)\n\nwith open('data.json', 'w') as jsonfile:\n    json.dump(data, jsonfile)\n</code></pre>\n\n<p>Perl script:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse JSON;\n\nmy $file = 'data.json';\nmy $py_script = 'python.py';\n\n# call the python script\n\nsystem('python3', $py_script);\n\n# read in json from Python\n\nmy $json;\n\n{\n    local $/;\n    open my $fh, '&lt;', $file or die $!;\n    $json = &lt;$fh&gt;;\n    close $fh;\n}\n\n# decode the Python tuple into a Perl array (reference) from the JSON string\n\nmy $array = decode_json $json ;\n\nfor my $elem (@$array){\n    print \"$elem\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\n2\n3\n40\n50\n</code></pre>\n\n<p>Note that I'm using a file on disk for the transfer in this example, but you can use any mechanism to transfer the string (shared memory, database, etc).</p>\n\n<p>If you really do want to use the command line to pass the information, that's still possible, but I'd still use JSON. If the output of the Python script is something unexpected, perl will know it:</p>\n\n<p>Python:</p>\n\n<pre><code>import json\n\nprint(json.dumps((1, 2, 3, 40, 50)))\n</code></pre>\n\n<p>Perl:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse JSON;\n\nmy $json = `python3 python.py`;\n\nmy $array = decode_json $json;\n\nfor my $elem (@$array){\n    print \"$elem\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 639, "user_id": 2564502, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f9334dff31473eca781e3662096058f7?s=128&d=identicon&r=PG", "display_name": "user2564502", "link": "https://stackoverflow.com/users/2564502/user2564502"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 59118104, "answer_count": 1, "score": 0, "last_activity_date": 1575139483, "creation_date": 1575124514, "last_edit_date": 1575139483, "question_id": 59117111, "link": "https://stackoverflow.com/questions/59117111/getting-the-tuple-output-of-python-script-in-perl", "title": "Getting the tuple output of Python script in Perl", "body": "<p>My question is pretty similar to <a href=\"https://stackoverflow.com/questions/6340479/how-to-call-a-python-script-from-perl\">this one</a>.</p>\n\n<p>My perl script is invoked by an incoming mail via a procmail recipe. The perl script is being executed, and there are no syntax errors (or at least I get no warnings in the procmail logs and perl -c  sounds OK).</p>\n\n<p>My python script returns a tuple of five strings based on the input string.</p>\n\n<p>And I want to use them after calling this from the Perl script. I am trying (code snippet)</p>\n\n<pre><code>my ($var1, $var2, $var3, $var4, $var5) = `./parse_input.py $input`;\nprint \"var1 is $var1\";\n</code></pre>\n\n<p>While parse_input returns a tuple as per the below...</p>\n\n<pre><code>return (var1, var2, var3, var4, var5)\n</code></pre>\n\n<p>I've tested running parse_input.py on my input strings directly, and that works fine.\nI am successfully redirecting print statements in the Perl script to a logging file. I.e. I see other print statements fine. But the \"var1 is $var1\" line just comes out as \"var1 is\". </p>\n\n<p>Maybe I am being too ambitious though and should work on spliting it into five functions that each return one value?</p>\n\n<p>Edit: Here's the relevant part of my python script.</p>\n\n<pre><code>#! &lt;path&gt;/python3\nimport sys\nimport re\nimport subprocess\ninput_to_parse = sys.argv[1]\n\n\ndef main():\n\n    blah blah blah\n\n    print(var1)\n    print(var2)\n    print(var3)\n    print(var4)\n    print(var5)\n    return (var1, var2, var3, var4, var5)\n\nif __name__ == \"__main__\":\n    sys.exit(main())\n</code></pre>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1575116431, "post_id": 59116061, "comment_id": 104462298, "body": "Could you please mention it clearly like what output should output file have? And what should be output file names?"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1575116717, "post_id": 59116061, "comment_id": 104462370, "body": "Also since you are talking about complex regex, so could you please do show samples for your Input_file&#39;s 1st field so that we could help in writing regex."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8178436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/743e4edbfb6eee223afeeb484ce38907?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/8178436/zhu"}, "edited": false, "score": 1, "creation_date": 1575118030, "post_id": 59116191, "comment_id": 104462704, "body": "Such a simple and elegant delimiter! Thanks! Besides, is  &#39;{print &gt;&gt; ($4); close($4)}&#39; better than &#39;{print &gt; $4}&#39;? I&#39;ve always been using the latter."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 61, "user_id": 8178436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/743e4edbfb6eee223afeeb484ce38907?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/8178436/zhu"}, "edited": false, "score": 1, "creation_date": 1575127398, "post_id": 59116191, "comment_id": 104464966, "body": "@Zhu The latter will fail saying <code>too many open files</code> once you get past about 15 output file names unless you&#39;re using GNU awk so the former is better for portability.but will be slower than the latter."}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": true, "score": 4, "last_activity_date": 1575118523, "last_edit_date": 1575118523, "creation_date": 1575117068, "answer_id": 59116191, "question_id": 59116061, "link": "https://stackoverflow.com/questions/59116061/perl-regex-matched-part-as-output-filename/59116191#59116191", "title": "perl regex matched part as output filename", "body": "<p><strong><em>EDIT:</em></strong> Since OP changed samples so adding this code now, completely based on shown samples of OP.</p>\n\n<pre><code>awk -F\"[][]\" '{print &gt;&gt; ($4);close($4)}' Input_file\n</code></pre>\n\n<p>OR if you want to <code>close</code> output files(to avoid <code>too many files opened error</code>) on whenever previous field is NOT matched then try following.</p>\n\n<pre><code>awk -F\"[][]\" 'prev!=$4{close(prev)} {print &gt;&gt; ($4);prev=$4}' Input_file\n</code></pre>\n\n<hr>\n\n<hr>\n\n<p>Could you please try following, based on your shown samples.</p>\n\n<pre><code>awk '\nmatch($0,/[^]]*/){\n  val=substr($0,RSTART,RLENGTH)\n  sub(/.*\\[/,\"\",val)\n  print &gt;&gt; (val)\n  close(val)\n}\n' Input_file\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8178436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/743e4edbfb6eee223afeeb484ce38907?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/8178436/zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59116191, "answer_count": 1, "score": 2, "last_activity_date": 1575118523, "creation_date": 1575116075, "last_edit_date": 1575117296, "question_id": 59116061, "link": "https://stackoverflow.com/questions/59116061/perl-regex-matched-part-as-output-filename", "title": "perl regex matched part as output filename", "body": "<p>when I have a simple file like</p>\n\n<pre><code>Ann Math 99\nBob Math 100\nAnn Chemistry 92\nAnn History 78\n</code></pre>\n\n<p>I may split it into files per person with</p>\n\n<pre><code>awk '{print &gt; $1}' input_filename\n</code></pre>\n\n<p>However, when the file becomes complex, it is no longer possible to do so unless I use a very complex regex as a field separator. I find that I can extract output filename with some regex, and the following command seems to be able to do what I want for a test with 5 lines:</p>\n\n<pre><code>sed 5q input_filename | perl -nle 'if(/\\[([A-Za-z0-9_]+)\\]/){open(FH,\"&gt;\",\"$1\"); print FH $_; close FH}'\n</code></pre>\n\n<p>but the file is large and the command seems to be inefficient. Are there better ways to do it?</p>\n\n<hr>\n\n<p>original files are like this:</p>\n\n<pre><code>SOME_VERY_LONG_STUFF[TAG1]SOME_EVEN_LONGER_STUFF\nSOME_VERY_LONG_STUFF[TAG2]SOME_EVEN_LONGER_STUFF\nSOME_VERY_LONG_STUFF[TAG3]SOME_EVEN_LONGER_STUFF\nSOME_VERY_LONG_STUFF[TAG1]SOME_EVEN_LONGER_STUFF\nSOME_VERY_LONG_STUFF[TAG3]SOME_EVEN_LONGER_STUFF\n...\n</code></pre>\n\n<p>and I just want to split it into files with name TAG1, TAG2, TAG3..., each file contains and only contains lines in the original file that has the tag in the bracket.</p>\n\n<p>the first line with small modifications:</p>\n\n<pre><code>Nov 30 18:00:00 something@syslog: [2019-11-30 18:00:00][BattleEnd],{\"result\":1,\"life\":[[0,30,30],[1,30,30],[2,30,29],[3,30,29],[4,30,29],[5,28,29],[6,28,21],[7,28,21],[8,28,14],[9,28,14],[10,29,13],[11,21,13],[12,21,13],[13,15,13],[14,16,12],[15,12,12],[16,12,12],[17,9,12],[18,9,12],[19,5,12],[20,5,12],[21,3,12],[22,3,12],[23,1,12],[24,1,10],[25,1,10],[26,1,10],[27,1,10],[28,2,9],[29,-1,9]],\"Info\":[[160,0],[161,0],[162,0],[163,0],[155,0],[157,0],[158,0],[159,0]],\"cards\":[11401,11409,11408,12201,12208,10706,12002,10702,12207,12204,12001,12007,12208,10702,12005,10701,12005,11404,10705,10705,12007,11401,10706,12002,12001,12204,10701,12207,11404,11409,11408,12201]}\n\n</code></pre>\n\n<p>the tag I want is \"BattleEnd\". I want to split the log according to log sources.</p>\n"}, {"tags": ["perl", "mojolicious", "mojolicious-lite"], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 9816692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7t66h.gif?s=128&g=1", "display_name": "Arnold Cross", "link": "https://stackoverflow.com/users/9816692/arnold-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1575090864, "creation_date": 1575090864, "answer_id": 59113387, "question_id": 59113351, "link": "https://stackoverflow.com/questions/59113351/do-something-after-rendering-in-mojolicious/59113387#59113387", "title": "Do something after rendering in mojolicious", "body": "<p>The solution in the <a href=\"https://stackoverflow.com/questions/48092089/how-can-i-execute-code-after-rendering-in-mojolicious\">previous question</a> did not work for me.  (That is, the answer that simone links to in his comment.  I didn't try the fork solution provided by mob.)  My clue came from the comment by \u0421\u0443\u0445\u043e\u043927.  Here is my solution:</p>\n\n<pre><code>use Mojolicious::Lite;\nuse Mojo::IOLoop;\nget \"/index\" =&gt; sub {\n   my $c = shift;\n   $c-&gt;render(\"renderThis\");\n   Mojo::IOLoop-&gt;timer(0 =&gt; sub {\n      sleep 15;\n      say \"That was a long time, but at least the page got sent quickly.\";\n   });\n};\napp-&gt;start('daemon', '-l', 'http://*:8080');\n\n__DATA__\n@@ renderThis.html.ep\n% layout  \"template\" ;\n&lt;h1&gt;Hello World&lt;/h1&gt;\n\n@@ layouts/template.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;\n%= content\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>The timer takes its code out of its caller's execution flow, so the calling function completes and clears its buffers before the timer's code executes (even if the time argument is shorter than the time it takes for the caller to complete).</p>\n\n<p>Note: I got that explanation from experimentation, not code inspection, so I don't know whether the caller flushes ALL of its buffers before the timer runs its code.  All I know is that render's http response goes out and STDOUT gets flushed to the console before the timer code runs.  I generalized those observations to make the above statement.</p>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 9816692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7t66h.gif?s=128&g=1", "display_name": "Arnold Cross", "link": "https://stackoverflow.com/users/9816692/arnold-cross"}, "edited": false, "score": 0, "creation_date": 1575341076, "post_id": 59143501, "comment_id": 104524422, "body": "Thank you.  That&#39;s exactly what I was looking for.  I still kinda like my hacky solution, ...because it&#39;s hacky.  But your answer is definitely the correct way to do it.  I did find that with timer I had to put a small number in the time slot to make my actual code work correctly.  I ended up using .01 rather than 0."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 2, "last_activity_date": 1575305979, "creation_date": 1575305979, "answer_id": 59143501, "question_id": 59113351, "link": "https://stackoverflow.com/questions/59113351/do-something-after-rendering-in-mojolicious/59143501#59143501", "title": "Do something after rendering in mojolicious", "body": "<p>You can attach code to the <a href=\"https://metacpan.org/pod/Mojo::Transaction#finish\" rel=\"nofollow noreferrer\">finish event on the transaction</a>. Most other methods would not be guaranteed to wait until the response has actually been sent, since it happens in an asynchronous fashion.</p>\n\n<pre><code>use Mojolicious::Lite;\nget \"/index\" =&gt; sub {\n   my $c = shift;\n   $c-&gt;render(\"renderThis\");\n   $c-&gt;tx-&gt;on(finish =&gt; sub {\n      sleep 15; # this is a really bad idea, use a timer instead\n      say \"That was a long time, but at least the page got sent quickly.\";\n   });\n};\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 9816692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7t66h.gif?s=128&g=1", "display_name": "Arnold Cross", "link": "https://stackoverflow.com/users/9816692/arnold-cross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 59143501, "answer_count": 2, "score": 4, "last_activity_date": 1575305979, "creation_date": 1575090509, "last_edit_date": 1575305662, "question_id": 59113351, "link": "https://stackoverflow.com/questions/59113351/do-something-after-rendering-in-mojolicious", "title": "Do something after rendering in mojolicious", "body": "<p>How can I make my code do something after HypnoToad sends a page?  (Note: I am answering my own question.  I am posting this, because StackOverflow pointed me to a previous question that did not directly solve my problem, although it did contain the clue that I needed.)</p>\n\n<p>Example code:</p>\n\n<pre><code>use Mojolicious::Lite;\nget \"/index\" =&gt; sub {\n   my $c = shift;\n   $c-&gt;render(\"renderThis\");\n   # Do something after rendering\n};\napp-&gt;start('daemon', '-l', 'http://*:8080');\n\n__DATA__\n@@ renderThis.html.ep\n% layout  \"template\" ;\n&lt;h1&gt;Hello World&lt;/h1&gt;\n\n@@ layouts/template.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;\n%= content\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>render seems to buffer its http output and sends it after the code block is finished. I want something to execute after the page gets sent.  The buffering can be observed by putting the following in place of the \"Do something\" comment.</p>\n\n<pre><code>   sleep 15;\n   say \"Wow, that was a long time!\";\n</code></pre>\n\n<p>I am on win7, so a unix-only solution won't work.</p>\n"}, {"tags": ["linux", "perl", "oop"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1575305613, "post_id": 59111939, "comment_id": 104513120, "body": "The duplicate question&#39;s answers don&#39;t really answer this, so my answer is to use <a href=\"https://metacpan.org/pod/lib::relative\" rel=\"nofollow noreferrer\">lib::relative</a> or the mechanism described in its docs."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575085931, "post_id": 59112130, "comment_id": 104457008, "body": "No, they want the script&#39;s directory, not the CWD."}], "tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 1, "last_activity_date": 1575072250, "creation_date": 1575072250, "answer_id": 59112130, "question_id": 59111939, "link": "https://stackoverflow.com/questions/59111939/importing-an-class-from-the-same-directory-in-perl/59112130#59112130", "title": "importing an class from the same directory in Perl", "body": "<p>Create a local subdirectory, name it <code>lib</code> and put your module file there. On newer Perls you must tell Perl to include that local directory to <code>@INC</code>, either by adding it to <code>PERL5LIB</code> (environment variable) somehow, or by adding</p>\n\n<pre><code>use lib qw( . );\n</code></pre>\n\n<p>to the script that wants to load that module. If you are paranoid you can also use an absolute path.</p>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1575072980, "last_edit_date": 1575072980, "creation_date": 1575072282, "answer_id": 59112133, "question_id": 59111939, "link": "https://stackoverflow.com/questions/59111939/importing-an-class-from-the-same-directory-in-perl/59112133#59112133", "title": "importing an class from the same directory in Perl", "body": "<p>You already got some help in <em>complain</em> that module's filename should end in <code>.pm</code>. Now you need to look for the purpose of variable <code>PERL5LIB=???</code>.</p>\n\n<p><a href=\"https://perlmaven.com/how-to-change-inc-to-find-perl-modules-in-non-standard-locations\" rel=\"nofollow noreferrer\">PERL5LIB</a></p>\n"}], "owner": {"reputation": 498, "user_id": 1462096, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/c9c710ff444a103b373ac9bf60992077?s=128&d=identicon&r=PG", "display_name": "b10n1k", "link": "https://stackoverflow.com/users/1462096/b10n1k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1575086057, "answer_count": 2, "score": -4, "last_activity_date": 1575072980, "creation_date": 1575069989, "question_id": 59111939, "link": "https://stackoverflow.com/questions/59111939/importing-an-class-from-the-same-directory-in-perl", "closed_reason": "Duplicate", "title": "importing an class from the same directory in Perl", "body": "<p>i have a directory with main.pl and Product.pl. in the main.pl i try to import the Product class but the execution fails when i run perl main.pl complaining that cant locate Product.pm in @INC. My directory is not in the @INC list. How can i fix this?</p>\n"}, {"tags": ["perl", "cyrillic"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1575064101, "post_id": 59111162, "comment_id": 104453687, "body": "You&#39;ll also want to avoid the <a href=\"/questions/11710552/useless-use-of-cat\">useless <code>cat</code></a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1575064283, "post_id": 59111162, "comment_id": 104453740, "body": "Tip: No need to involve <code>cat</code>. You can use <code>perl -pe&#39;...&#39; leo</code>"}, {"owner": {"reputation": 2120, "user_id": 5420570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4ea437b24f9ddf2bcf52604ceae28e4?s=128&d=identicon&r=PG", "display_name": "BladeMight", "link": "https://stackoverflow.com/users/5420570/blademight"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575064953, "post_id": 59111162, "comment_id": 104453891, "body": "@ikegami I&#39;ll note that."}], "answers": [{"comments": [{"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 1, "creation_date": 1575072667, "post_id": 59111239, "comment_id": 104455302, "body": "NOTE: <code>use utf8</code> is necessary only if inside of the code used <code>utf8</code> encoding (for example search pattern in this particular case). An options <code>-CS</code> is required practically anytime when <code>utf8</code> input/output takes place."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 4, "last_activity_date": 1575063640, "creation_date": 1575063640, "answer_id": 59111239, "question_id": 59111162, "link": "https://stackoverflow.com/questions/59111162/same-regex-in-perl-and-sed-work-differently/59111239#59111239", "title": "Same regex in perl and sed work differently", "body": "<p>Perl needs to be told that your source code is UTF-8 (<code>-Mutf8</code>) and that it should treat stdin and stdout as UTF-8 (<code>-CS</code>).</p>\n\n<pre><code>$ cat leo | perl -Mutf8 -CS -pe 's/^\u0441+\u043a\u0430\u0437/\u0420\u0430\u0441\u0441\u043a\u0430\u0437/g'\n\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\n\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u044e\n\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0432\n</code></pre>\n"}], "owner": {"reputation": 2120, "user_id": 5420570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4ea437b24f9ddf2bcf52604ceae28e4?s=128&d=identicon&r=PG", "display_name": "BladeMight", "link": "https://stackoverflow.com/users/5420570/blademight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59111239, "answer_count": 1, "score": 3, "last_activity_date": 1575063640, "creation_date": 1575062995, "last_edit_date": 1575063458, "question_id": 59111162, "link": "https://stackoverflow.com/questions/59111162/same-regex-in-perl-and-sed-work-differently", "title": "Same regex in perl and sed work differently", "body": "<p>Okay, maybe something wrong with unicode or etc, but the code tells everything:</p>\n\n<pre><code>$ cat leo\n\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\n\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u044e\n\u0441\u043a\u0430\u0437\u0430\u0432\nBladeMight@Chandere ~ 23:24:58\n$ cat leo | perl -pe 's/^\u0441+\u043a\u0430\u0437/\u0420\u0430\u0441\u0441\u043a\u0430\u0437/g'\n\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\n\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u044e\n\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0432\nBladeMight@Chandere ~ 23:25:00\n$ cat leo | sed -r 's/^\u0441+\u043a\u0430\u0437/\u0420\u0430\u0441\u0441\u043a\u0430\u0437/g'\n\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\n\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u044e\n\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0432\n</code></pre>\n\n<p>I have file <code>leo</code>, contents in cyrillic, so i wanted to replace wrong places with the regex <code>^\u0441+\u043a\u0430\u0437</code> in <code>perl -pe</code>, but it replaces only the ones that have only 1 <code>\u0441</code>(cyrillic one), e.g. <code>+</code> does nothing in this case(and for non-cyrillic it works fine), although in <code>sed -r</code> it works perfectly. Why could that be?</p>\n"}, {"tags": ["regex", "perl", "variables", "warnings"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575058348, "post_id": 59110135, "comment_id": 104452234, "body": "Tip: <code>@$between[0]</code> should be <code>$$between[0]</code>. (If you use <code>$a[0]</code> when using the name, you use <code>$$ref[0]</code> when using a ref.) Better yet, you should use the clearer <code>$between-&gt;[0]</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575058461, "post_id": 59110135, "comment_id": 104452263, "body": "Tip: The pattern should have a leading <code>^</code> and a trailing <code>\\z</code> to make sure there&#39;s nothing before or after the date-tme."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575058497, "post_id": 59110135, "comment_id": 104452273, "body": "Tip: All those parens you have in the pattern are causing needless capturing. You are making the pattern more complicated than it needs to be, and slower. <code>(-)</code> can be written as <code>-</code>, and you should use <code>(?:...)</code> instead of <code>(...)</code> to group alternations without capturing."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1575058209, "creation_date": 1575058209, "answer_id": 59110495, "question_id": 59110135, "link": "https://stackoverflow.com/questions/59110135/in-perl-set-a-variable-to-a-regex-and-i-get-an-uninitialized-value-warning/59110495#59110495", "title": "In Perl, set a variable to a regex, and I get an uninitialized value warning", "body": "<p><code>/.../</code> is the match operator. It checks if the pattern matches the bound variable. If no variable is explicitly bound, it matches against <code>$_</code> as if you had used <code>$_ =~ /.../</code>.</p>\n\n<p>You are looking for</p>\n\n<pre><code>my $gdt_regex = qr/.../;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1575108553, "post_id": 59112022, "comment_id": 104460660, "body": "Your sub <code>is_valid</code> is useless, why do you limit year between <code>1900</code> and <code>2019</code>? Why don&#39;t you accept <code>month = 12</code>? Why do you accept <code>1900-02-29</code>? Use a real date time validation or don&#39;t use it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1575137062, "post_id": 59112022, "comment_id": 104467468, "body": "You shouldn&#39;t use <code>and</code>/<code>or</code>/<code>not</code> unless followed by a flow control operation (<code>die</code>, <code>next</code>, <code>return</code>, etc). so <code>$day &lt; 1 or $day &gt; 31</code> should be <code>$day &lt; 1 || $day &gt; 31</code>. 1) Using <code>and</code>/<code>or</code>/<code>not</code> reduces readability. Symbols are used for <code>&amp;&amp;</code>/<code>||</code>/<code>!</code> for a reason. 2) <code>and</code>, <code>or</code> and <code>not</code> have very low precedence, and this will end up biting you. In fact, you had a precedence bug in you in question from using the wrong operators. (I fixed it.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575137346, "post_id": 59112022, "comment_id": 104467538, "body": "I do think the suggestion to remove the range checks from the expression is a good thing. A tad slower, but far more readable."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1575162509, "post_id": 59112022, "comment_id": 104472929, "body": "@Toto regex in the post accepts year from 0000 to 9999 -- it is very useful! I do not think that computer was around before 1936. Ok month 12 is valid for my verification but in perl month numbering starts at 0 - <a href=\"https://www.tutorialspoint.com/perl/perl_date_time.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/perl/perl_date_time.htm</a>."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575162667, "post_id": 59112022, "comment_id": 104472962, "body": "@ikegami -- well thank you for fixing, it was too late in the night when I wrote the answer. I was working on some routine project and required some diversion to take my attention away for a change -- this question was this small diversion."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575170778, "post_id": 59112022, "comment_id": 104473985, "body": "@ikegami - Is it difficult to make adjustment to your &#39;taste&#39;? Or this place is for &#39;complete solution&#39; to not fully described problem without sample of input data? Yes, I am sure if people will not destroy this planet then there will be year 30,000 one day -- should we adjust regex for this year as well?"}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1575178057, "post_id": 59112022, "comment_id": 104474965, "body": "Please look @ OP regex once more - and then if not defined <code>date_field</code> and match regex against start and end date? Now please say to me -- if year from future will be valid as of today? My understanding is that CGI should return this year (2019 today) and next year (2020). I did not intend that my answer will be stored in some  <code>.pm</code> module in CPAN  -- my intention was to point that some extra validation could be used. It is upto originator of the post to adjust to his requirements."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575182973, "post_id": 59112022, "comment_id": 104475622, "body": "Re &quot;<i>if year from future will be valid as of today?</i>&quot;, It depends on what the dates are, so there&#39;s no way to know, so you should accept the OP&#39;s lack of check instead of potentially breaking their code. It&#39;s not like you aren&#39;t already showing them how its done. Or yeah, use a comment like you did."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575186521, "post_id": 59112022, "comment_id": 104476204, "body": "@ikegami - OP refers to log files,I assume that date verification should come for current year 2019. I agree that this approach is not flexible, then check can be based on current date. Of course <i>date</i> can be set into the future for test purpose if it is required."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575186993, "post_id": 59112022, "comment_id": 104476278, "body": "The only mention of log files is when they mentioned the script is producing errors in the web server&#39;s error log. Crucially, there&#39;s no mention that the dates are from a log file, much less that the timestamps of logged events."}], "tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": 1, "last_activity_date": 1575177449, "last_edit_date": 1575177449, "creation_date": 1575070870, "answer_id": 59112022, "question_id": 59110135, "link": "https://stackoverflow.com/questions/59110135/in-perl-set-a-variable-to-a-regex-and-i-get-an-uninitialized-value-warning/59112022#59112022", "title": "In Perl, set a variable to a regex, and I get an uninitialized value warning", "body": "<p>well I think that some validation would be beneficial to your code</p>\n\n<p>NOTE: probably <code>$date_start</code> and <code>date_end</code> would be more proper for consistency with <code>$date_field</code></p>\n\n<pre><code>use strict;\nuse warnings;\n\n........\n\nif (defined($passed_args-&gt;{'between'})) {\n    my($date_field,$date_start,$date_end) = @{$passed_args-&gt;{between}}[0..2];\n\n    {\n        $self-&gt;error('ERROR: between parameter not populated correctly.');\n        return;\n    } if ( !defined($passed_args-&gt;{$date_field}) \n        &amp;&amp; !is_valid($date_start) \n        &amp;&amp; !is_valid($date_end)\n    ) \n\n    $query_url .= $date_field . \"BETWEEN\" . $start_date . \"@\" . $end_date . \"^\";\n\n    delete $passed_args-&gt;{'between'};\n\n}\n\n#\n# timestamp validation\n#\nsub is_valid {\n    my $timestamp = shift;\n\n    return 0 if $timestamp !~ /\\d{4}-\\d{2}-\\d{\\2} \\d{2}:\\d{2}:\\d{2}/;\n\n    my($date,$time)         = split ' ', $timestamp;\n    my($year,$month,$day)   = split '-', $date;\n    my($hour,$min,$sec)     = split ':', $time;\n\n    #return 0 if $year  &lt; 1900 or $year  &gt; 2019;\n    return 0 if $month &lt; 1    or $month &gt; 12;\n    return 0 if $day   &lt; 1    or $day   &gt; 31;\n    return 0 if $hour  &lt; 1    or $hour  &gt; 23;\n    return 0 if $min   &lt; 1    or $min   &gt; 59;\n    return 0 if $sec   &lt; 1    or $sec   &gt; 59;\n\n    return 1;   # timestamp is valid\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 1428649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d49a641a462a637650ef1ede49c2718c?s=128&d=identicon&r=PG", "display_name": "user1428649", "link": "https://stackoverflow.com/users/1428649/user1428649"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59110495, "answer_count": 2, "score": 0, "last_activity_date": 1575664044, "creation_date": 1575055928, "last_edit_date": 1575664044, "question_id": 59110135, "link": "https://stackoverflow.com/questions/59110135/in-perl-set-a-variable-to-a-regex-and-i-get-an-uninitialized-value-warning", "title": "In Perl, set a variable to a regex, and I get an uninitialized value warning", "body": "<p>So I have this block of code, analyzing the values of parameters passed into a CGI call.</p>\n\n<p>I have this block of code doing that.</p>\n\n<pre><code>if (defined($passed_args-&gt;{'between'})) {\n    my $between = $passed_args-&gt;{'between'};\n        my $date_field = @$between[0];\n        my $start_date = @$between[1];\n        my $end_date   = @$between[2];\n        my $gdt_regex  = /[0-9]{4}(-)((0[1-9])|(1[0-2]))(-)((0[1-9])|([1-2][0-9])|(3[0-1]))(\\s)(([0-1][0-9])|(2[0-3])):([0-5][0-9]):([0-5][0-9])/;\n\n        if (!defined($passed_args-&gt;{$date_field}) &amp;&amp; $start_date =~ $gdt_regex &amp;&amp; $end_date =~ $gdt_regex) {\n            $self-&gt;error('between parameter not populated correctly.');\n            return;\n        }\n\n        $query_url .= $date_field . \"BETWEEN\" . $start_date . \"@\" . $end_date . \"^\";\n\n    delete $passed_args-&gt;{'between'};\n\n}\n</code></pre>\n\n<p>The values of start_date and end_date come in a format like so:</p>\n\n<p><code>2019-04-04 00:00:00</code></p>\n\n<p>In my server logs, I repeatedly get this warning:</p>\n\n<p><code>Use of uninitialized value $_ in pattern match (m//) at /my/script.pm line 6316</code></p>\n\n<p>Line 6316 corresponds to:</p>\n\n<p><code>my $gdt_regex  = /[0-9]{4}(-)((0[1-9])|(1[0-2]))(-)((0[1-9])|([1-2][0-9])|(3[0-1]))(\\s)(([0-1][0-9])|(2[0-3])):([0-5][0-9]):([0-5][0-9])/;</code></p>\n\n<p>So as far as I know, you get that error when doing pattern matches with uninitialized values. Yet <em>why</em> am I getting it when I am <em>assigning a regex to a variable?</em> Is there something about the capture groups causing Perl to throw a fit? Or am I missing something else?</p>\n\n<p>This isn't hurting anything to the best of my knowledge, but this frequently shows up in my logs, and I'd like to clear it out.</p>\n"}, {"tags": ["perl", "import", "module", "require"], "comments": [{"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 1, "creation_date": 1575042443, "post_id": 59107652, "comment_id": 104446977, "body": "I&#39;m missing how that&#39;s any better than not using the trailing :: in making your classes bare words and consistency between <code>use</code> and invocation. And I expect that if P5P ever felt that this was confusing and stripped trailing slashes they wouldn&#39;t hesitate to remove it, though I doubt there&#39;ll ever be any impetus to do anything about it."}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1575042860, "post_id": 59107652, "comment_id": 104447150, "body": "I have a link at the top. Essentially, if you have a package called <code>Foo::Bar</code> and you invoke with <code>Foo::Bar-&gt;new</code> then if you have a <code>package Foo { sub Bar { &quot;Baz&quot; } }</code> you&#39;re actually doing <code>( Foo::Bar() )-&gt;new</code>, ie <code>&quot;Baz&quot;-&gt;new</code>. So you can do <code>Foo::Bar::-&gt;new</code> to get around this but then your <code>use</code> import is different. So amusingly you can rig <code>use Foo::Bar::</code> to work too. Then your <code>use</code> and your references to the package are the same. <code>use Foo::Bar::; Foo::Bar::-&gt;new</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1575137543, "post_id": 59108023, "comment_id": 104467600, "body": "Using <code>Foo&#47;Bar&#47;.pm</code> doesn&#39;t just &quot;break compatibility&quot; with <code>use Foo::Bar;</code>, it also prevents the module&#39;s import method from being called."}], "tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": false, "score": 1, "last_activity_date": 1575137484, "last_edit_date": 1575137484, "creation_date": 1575043607, "answer_id": 59108023, "question_id": 59107652, "link": "https://stackoverflow.com/questions/59107652/was-directory-pm-ever-a-convention-and-why-does-it-exist/59108023#59108023", "title": "Was directory/.pm ever a convention, and why does it exist?", "body": "<p>One minor drawback to this convention is that it breaks prior assumptions that <code>Foo/Bar.pm</code> is in <code>Foo/Bar.pm</code>. So <code>use</code> statements without the terminal <code>::</code> do not work,</p>\n\n<pre><code>mkdir Foo\nmkdir Foo/Bar\necho \"package Foo::Bar { sub baz { } } 1\" &gt; Foo/Bar/.pm\n\n# Dies can't resolve to file,\nPERL5LIB=. perl -MFoo::Bar -e1\nCan't locate Foo/Bar.pm in @INC ...\n\n# Works fine.\nPERL5LIB=. perl -MFoo::Bar:: -e1\n</code></pre>\n\n<p>So the <code>Foo::Bar::-&gt;new</code> syntax is compatible with the <code>use</code> code that already worked. While changing the location of the module will break compatibility with older <code>use</code> statements, (so they would have to be updated too).</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 8, "last_activity_date": 1575228287, "last_edit_date": 1575228287, "creation_date": 1575049157, "answer_id": 59109103, "question_id": 59107652, "link": "https://stackoverflow.com/questions/59107652/was-directory-pm-ever-a-convention-and-why-does-it-exist/59109103#59109103", "title": "Was directory/.pm ever a convention, and why does it exist?", "body": "<blockquote>\n  <p><em>Is this convention of use mod::; resolving to mod/.pm supported?</em></p>\n</blockquote>\n\n<p>No.</p>\n\n<p>The parser is too liberal when it comes to accepting <code>::</code>, allowing you do rather absurd things.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cat Foo/Bar.pm\npackage Foo::Bar;\nsub import { print \"imported.\\n\"; }\nprint \"loaded.\\n\";\n1\n\n$ perl -I. -e'require Foo::Bar'\nloaded.\n\n$ perl -I. -e'require Foo::::::Bar'\nloaded.\n</code></pre>\n\n<p>Using the non-canonical form leads to problems.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -I. -e'use Foo::Bar; use Foo::Bar; use Foo::Bar;'\nloaded.\nimported.\nimported.\nimported.\n\n$ perl -I. -e'use Foo::::::Bar; use Foo::::::Bar; use Foo::Bar;'\nloaded.\nloaded.\nimported.\n</code></pre>\n\n<p>Similarly, that <code>use Foo::Bar::</code> loads <code>Foo/Bar/.pm</code> shouldn't be taken as an intentional, supported feature.</p>\n\n<blockquote>\n  <p><em>Has anyone ever thought of this awesome idea before?</em></p>\n</blockquote>\n\n<p>It actually would be a mess.</p>\n\n<p>For starters, you would have to use <code>use Foo::Bar::;</code> instead of <code>use Foo::Bar;</code>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cat Foo/Bar/.pm\npackage Foo::Bar;\nsub import { print \"imported.\\n\"; }\nsub baz { print \"ok.\\n\"; }\n1\n\n$ perl -I. -e'use Foo::Bar;'\nCan't locate Foo/Bar.pm in @INC ...\n\n$ perl -I. -e'use Foo::Bar::;'\n\n$\n</code></pre>\n\n<p>But using <code>use Foo::Bar::;</code> isn't enough because <code>import</code> was never called. The package directive would need to match the file name (<code>package Foo::Bar::</code>) for <code>import</code> to be called, which means you'd have to adjust qualified references to the package as well.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cat Foo/Bar/.pm\npackage Foo::Bar::;\nsub import { print \"imported.\\n\"; }\nsub baz { print \"ok.\\n\"; }\n1\n\n$ perl -I. -e'use strict; use Foo::Bar; Foo::Bar::baz();'\nCan't locate Foo/Bar.pm in @INC ...\nBEGIN failed--compilation aborted at -e line 1.\n\n$ perl -I. -e'use strict; use Foo::Bar::; Foo::Bar::baz();'\nimported.\nUndefined subroutine &amp;Foo::Bar::baz called at -e line 1.\n\n$ perl -I. -e'use strict; use Foo::Bar::; Foo::Bar::::baz();'\nimported.\nok.\n</code></pre>\n\n<p>To put it lightly, this is undesirable.</p>\n\n<p>Even if your module doesn't have an <code>import</code> method at this time, that could change, and having two different and incompatible conventions for loading modules is hurtful.</p>\n\n<hr>\n\n<blockquote>\n  <p><em>Where did this behavior come from</em></p>\n</blockquote>\n\n<p>While the expression <code>Foo::Bar::</code> produces the string <code>Foo::Bar</code>, <code>use</code> doesn't take an expression.</p>\n\n<p>Additionally, the literal is passed to an implementation of package name to file name transliteration that performs no sanity checks. Perl simply performs an operation equivalent to calling the following sub:</p>\n\n<pre><code> sub pkg_to_qfn { ( $_[0] =~ s{::}{/}gr ) . '.pm' }\n</code></pre>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1575228287, "creation_date": 1575041898, "question_id": 59107652, "link": "https://stackoverflow.com/questions/59107652/was-directory-pm-ever-a-convention-and-why-does-it-exist", "title": "Was directory/.pm ever a convention, and why does it exist?", "body": "<p><a href=\"https://stackoverflow.com/questions/59042700/why-do-some-users-quote-classnames-in-perl\">Having just figured out this</a>, I was wondering how the <code>-M</code> would handle a terminal <code>::</code> affixed to a package name,</p>\n\n<pre><code>$ perl -MFoo:: -e1\n</code></pre>\n\n<p>What I got was...</p>\n\n<blockquote>\n  <p>Can't locate <code>Foo/.pm</code> in <code>@INC</code> (you may need to install the <code>Foo::</code> module) (<code>@INC</code> contains: [...]).</p>\n</blockquote>\n\n<p>This seems to indicate that it doesn't work, so curiosity compelled me....</p>\n\n<pre><code>$ mkdir Foo;\n$ echo \"package Foo {  sub k { die 42 }  }; 1;\" &gt; Foo/.pm\n$ PERL5LIB=. perl -MFoo:: -e'Foo::-&gt;k'\n</code></pre>\n\n<p>That did in fact work. Is this convention of <code>use mod::;</code> resolving to <code>mod/.pm</code> supported? Was this a holdover from antiquity. Where did this behavior come from?</p>\n\n<p>With this schema I could do,</p>\n\n<pre><code>Foo/.pm         # package Foo\nFoo/Bar/.pm     # package Foo::Bar\nFoo/Bar/Baz/.pm # package Foo::Bar::Baz;\n</code></pre>\n\n<p>then I could do</p>\n\n<pre><code>use Foo::;            # resolves to Foo/.pm\nuse Foo::Bar::;       # resolves to Foo/Bar/.pm\nuse Foo::Bar::Baz::;  # resolves to Foo/Bar/Baz/.pm\n\nFoo::-&gt;new;\nFoo::Bar::-&gt;new;\nFoo::Bar::Baz::-&gt;new;\n</code></pre>\n\n<p>I like this because this adds the benefit of </p>\n\n<ol>\n<li>Making all of my classes bare words.</li>\n<li>Adding consistency between <code>use</code> and invocation.</li>\n</ol>\n\n<p>Is this design by intent? Is it documented anywhere? Has anyone ever thought of this awesome idea before?</p>\n"}, {"tags": ["perl", "error-handling", "try-catch", "eval"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1575037997, "post_id": 59106514, "comment_id": 104444910, "body": "I&#39;ve tidied up the formatting of your code. You&#39;re welcome, of course, but please consider doing it yourself next time. Good formatting is an important tool in making your code as easy to understand as possible and when you&#39;re asking a large group of strangers to read and understand you code, it&#39;s a good idea to make that task as easy as possible."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1575040430, "post_id": 59106514, "comment_id": 104446065, "body": "You appear to have forgotten to ask a question. Where, exactly, did you need our help?"}, {"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1575055422, "post_id": 59106514, "comment_id": 104451426, "body": "@DaveCross do you have any idea about how can i solve this ?"}, {"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 0, "creation_date": 1575068047, "post_id": 59106514, "comment_id": 104454554, "body": "It is still unclear what the actual problem is. Code does not refuse things, and &quot;looks like it does not work&quot; is not helpful at all. Do you get an error message? If yes, what is it? Also, add <code>use strict;</code> and <code>use warnings;</code> to your script and fix what they complain about."}, {"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "edited": false, "score": 0, "creation_date": 1575072644, "post_id": 59106514, "comment_id": 104455301, "body": "im reading list of files in a directory , i have noticed some of them are corrupted so i just want to convert the corrupted to notification files else if the file can be decoded i will do the changes, if the file can be decode i will do changes and encode it again , else if the file courrpted as it it returns unkown file format &quot;courrpted&quot; i will convert it to notification file"}, {"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 0, "creation_date": 1575073001, "post_id": 59106514, "comment_id": 104455349, "body": "You said that already. BUT WHAT IS YOUR PROBLEM?"}, {"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "reply_to_user": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "edited": false, "score": 0, "creation_date": 1575073651, "post_id": 59106514, "comment_id": 104455445, "body": "@Holli i have simplified my question as much as i can , sorry for my bad but the problem is the lookup for file can/connot be decoded does not working also does not return error , please check i have updated the question"}, {"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 0, "creation_date": 1575158504, "post_id": 59106514, "comment_id": 104472315, "body": "Are you sure about <code>&quot;tap_file&quot;</code> being the name of the file you want to decode? Do you mean  <code>$result = $tap3-&gt;decode($tap_file);</code>?"}, {"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "reply_to_user": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 0, "creation_date": 1575183953, "post_id": 59106514, "comment_id": 104475777, "body": "@clamp yes dear."}, {"owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "edited": false, "score": 0, "creation_date": 1575214849, "post_id": 59106514, "comment_id": 104482453, "body": "It will help if you include all the required &#39;use&#39;, &#39;require&#39;, to make it possible to run. May be share the filename, and content of the file that can be decoded ?"}], "answers": [{"comments": [{"owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "edited": false, "score": 0, "creation_date": 1575225463, "post_id": 59127149, "comment_id": 104485464, "body": "same thing it returns unknown file format cannot decode"}, {"owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "reply_to_user": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "edited": false, "score": 0, "creation_date": 1575226128, "post_id": 59127149, "comment_id": 104485635, "body": "@NikolanAsad - which file, what is the COMPLETE error message ? You probably want to check the specific file content (or share on SO, if you are unable to resolve yourself). Question should include MRE: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}], "tags": [], "owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "is_accepted": true, "score": 0, "last_activity_date": 1575226139, "last_edit_date": 1575226139, "creation_date": 1575215208, "answer_id": 59127149, "question_id": 59106514, "link": "https://stackoverflow.com/questions/59106514/eval-filed-decoded-files-with-perl/59127149#59127149", "title": "eval filed decoded files with perl", "body": "<p>Consider using the tap error reporting to warn on the error. </p>\n\n<pre><code>       if ( defined  $result ) ## here if the file can not be decoded ...\n        {\n            ..\n            ..\n            tap3-&gt;encode($tap_file)  or  die $tap3-&gt;error;\n\n        }else { ## here if the file courrpted \"connot be  decoded\" ...\n\n            /// ADD THIS LINE\n            warn \"File: '$file_name' $tap3-&gt;error\" ;\n            /// CURRENT CODE FOLLOW\n            $tap3-&gt;file_type(\"TAP\");\n            $tap3-&gt;version(3);\n            ...\n            .\n        }\n</code></pre>\n"}], "owner": {"reputation": 158, "user_id": 10921226, "user_type": "registered", "profile_image": "https://graph.facebook.com/2994599317232807/picture?type=large", "display_name": "Nikolan Asad", "link": "https://stackoverflow.com/users/10921226/nikolan-asad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 59127149, "answer_count": 1, "score": 0, "last_activity_date": 1575226139, "creation_date": 1575037363, "last_edit_date": 1575073576, "question_id": 59106514, "link": "https://stackoverflow.com/questions/59106514/eval-filed-decoded-files-with-perl", "title": "eval filed decoded files with perl", "body": "<p>here I'm reading a list of files in directory But I noticed that some files can't be decoded it throws an error with this line <code>$tap3-&gt;decode($tap_file)  or  die $tap3-&gt;error;</code></p>\n\n<p>each time im reading the new file if the file valid to decode then i will do list of changes on it and after that encode the file again, else if the file corrupted cannot  be decoded i will do another task but the script refused that</p>\n\n<pre><code>printDir(\".\");\nsub printDir{\nopendir(DIR, $_[0]);\nmy @files;\nmy @dirs;\n(@files) = readdir(DIR);\nforeach my $file (@files) {\n    if (-f $file and substr($file,0,2) eq \"CD\")\n    {\n        my $tap3 = TAP3::Tap3edit-&gt;new;\n        my $tap_file = $file;\n        $result = $tap3-&gt;decode(\"tap_file\"); ## decode key\n\n        if ( defined  $result ) ## here if the file can be decoded then i do changes on it - then encode the file\n        {\n            ..\n            ..\n            tap3-&gt;encode($tap_file)  or  die $tap3-&gt;error;\n\n        }else { ## here if the file courrpted \"connot be  decoded\" then i do another job ...\n            ...\n            ...\n            $tap3-&gt;file_type(\"TAP\");\n            $tap3-&gt;version(3);\n            $tap3-&gt;release(11);\n\n            $tap3-&gt;structure($notific_struct);\n\n            $tap3-&gt;encode($file) || die $tap3-&gt;error();\n\n        }\n\n    }\n\n}\nclosedir(DIR);\n}\n</code></pre>\n\n<p>but its looks like it does not work at <code>( defined  $result )</code></p>\n"}, {"tags": ["perl", "http"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1575064618, "post_id": 59103706, "comment_id": 104453824, "body": "If you&#39;re going to install a module, might as well make it Cpanel::JSON::XS. If you just install JSON, then you&#39;ll end up using the slow JSON::PP behind the scenes anyway."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1575025921, "creation_date": 1575025921, "answer_id": 59103706, "question_id": 59103181, "link": "https://stackoverflow.com/questions/59103181/how-do-i-convert-a-json-http-response-to-hash/59103706#59103706", "title": "How do I convert a JSON HTTP Response to Hash?", "body": "<p>You need to install and use the <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON</a> module.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse JSON;\n\nmy $response = '{\"error\":0,\"string\":\"4^2=16\",\"answer\":16.0}';\n\nmy $hash = JSON-&gt;new-&gt;decode($response);\n\nsay $hash-&gt;{answer};\n</code></pre>\n\n<p>If you can't install modules, then <a href=\"https://metacpan.org/pod/JSON::PP\" rel=\"nofollow noreferrer\">JSON::PP</a> has been part of the standard Perl distribution since 5.14.0 and has a very similar interface.</p>\n"}], "owner": {"reputation": 81, "user_id": 8692158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0342cba8552753848d3d6a6ce2bf0cbf?s=128&d=identicon&r=PG&f=1", "display_name": "G_McC4332", "link": "https://stackoverflow.com/users/8692158/g-mcc4332"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575025921, "creation_date": 1575023823, "question_id": 59103181, "link": "https://stackoverflow.com/questions/59103181/how-do-i-convert-a-json-http-response-to-hash", "title": "How do I convert a JSON HTTP Response to Hash?", "body": "<p>I have this code to get a response from a web service I'm running</p>\n\n<pre><code>use JSON;\nuse LWP::Simple;\n\nmy $url = \"http://127.0.0.1:3000\";\n$response= get $url;\nprint $response;\n</code></pre>\n\n<p>this is what is printed out:</p>\n\n<pre><code>{\"error\":0,\"string\":\"4^2=16\",\"answer\":16.0}\n</code></pre>\n\n<p>How to I convert this JSON string into a hash so I can do something also the lines of:</p>\n\n<pre><code>print $response_hash{\"answer\"};\n</code></pre>\n"}, {"tags": ["python", "shell", "perl", "awk", "fortran"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1575005365, "post_id": 59098951, "comment_id": 104431191, "body": "Shell is not a good language for this, compared to perl, python, C++, etc."}, {"owner": {"reputation": 1647, "user_id": 4993697, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5bef43e9f2a2bc5b8af5744f8d22c54b?s=128&d=identicon&r=PG&f=1", "display_name": "Kay", "link": "https://stackoverflow.com/users/4993697/kay"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1575005496, "post_id": 59098951, "comment_id": 104431223, "body": "Thanks @Shawn. Perl, Python, C++ also okay."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1575006067, "post_id": 59098951, "comment_id": 104431347, "body": "A quick search found <a href=\"https://www.geeksforgeeks.org/find-number-of-islands/\" rel=\"nofollow noreferrer\">this article</a>; the code in it is poor quality, but the algorithm might give you a starting point to work from."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1575047013, "post_id": 59098951, "comment_id": 104448869, "body": "It could be done with one pass and no recursion if needed for larger data set."}], "answers": [{"comments": [{"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "reply_to_user": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1575008151, "post_id": 59099552, "comment_id": 104431885, "body": "@RavinderSingh13 Thanks. Just woke up so there might be something funny,.. :D"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 1, "creation_date": 1575008200, "post_id": 59099552, "comment_id": 104431910, "body": "You ROCK, looks good to me at least for given example, I don&#39;t have this version of awk so will post it after few hours or so cheers :)"}, {"owner": {"reputation": 1647, "user_id": 4993697, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5bef43e9f2a2bc5b8af5744f8d22c54b?s=128&d=identicon&r=PG&f=1", "display_name": "Kay", "link": "https://stackoverflow.com/users/4993697/kay"}, "edited": false, "score": 1, "creation_date": 1575008220, "post_id": 59099552, "comment_id": 104431916, "body": "Really amazing @James Brown. This worked perfectly nice. I was working on it since last two weeks with zero success.. Many thanks"}], "tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": true, "score": 6, "last_activity_date": 1575008057, "last_edit_date": 1575008057, "creation_date": 1575007798, "answer_id": 59099552, "question_id": 59098951, "link": "https://stackoverflow.com/questions/59098951/count-the-number-of-connected-non-zeros-along-rows-and-columns-but-not-diagonaly/59099552#59099552", "title": "Count the number of connected non-zeros along rows and columns but not diagonaly in a Matrix in shell script", "body": "<p>Here is one in GNU awk:</p>\n\n<pre><code>awk '\nfunction check(x,y,s,   v) {                        # recursively check neighbours\n    v=m[x][y]                                       # store val\n    delete m[x][y]                                  # del to avoid loops\n    if(((x+1) in m) &amp;&amp; (y in m[x+1]) &amp;&amp; m[x+1][y])  # test if neighbour exists\n        check(x+1,y,s)                              # and check it\n    if((x in m) &amp;&amp; ((y+1) in m[x]) &amp;&amp; m[x][y+1])\n        check(x,y+1,s)\n    if(((x-1) in m) &amp;&amp; (y in m[x-1]) &amp;&amp; m[x-1][y])\n        check(x-1,y,s)\n    if((x in m) &amp;&amp; ((y-1) in m[x]) &amp;&amp; m[x][y-1])\n        check(x,y-1,s)\n    if(v&gt;max[s])\n        max[s]=v                                    # keep max\n    set[s]++                                        # count set size\n}\n{\n    for(x=1;x&lt;=NF;x++)                              # hash values\n        m[x][NR]=$x\n}\nEND {\n    for(x in m)                                     # in no particular order\n        for(y in m[x])                              \n            if(m[x][y])\n                check(x,y,++s)                      # start checking\n    for(i in set)                                   # output\n        print set[i],max[i]\n}' file\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>12 10\n2 2\n15 30\n42 40\n1 4\n1 3\n6 5\n1 1\n4 10\n</code></pre>\n"}], "owner": {"reputation": 1647, "user_id": 4993697, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5bef43e9f2a2bc5b8af5744f8d22c54b?s=128&d=identicon&r=PG&f=1", "display_name": "Kay", "link": "https://stackoverflow.com/users/4993697/kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 4, "accepted_answer_id": 59099552, "answer_count": 1, "score": 5, "last_activity_date": 1575008057, "creation_date": 1575003216, "last_edit_date": 1575005565, "question_id": 59098951, "link": "https://stackoverflow.com/questions/59098951/count-the-number-of-connected-non-zeros-along-rows-and-columns-but-not-diagonaly", "title": "Count the number of connected non-zeros along rows and columns but not diagonaly in a Matrix in shell script", "body": "<p>I have a matrix. e.g.a 10 x 15 matrix</p>\n\n<pre><code>$ cat input.txt\n2  3  4  5  10 0  2  2  0  1  0  0  0  1  0\n0  3  4  6  2  0  2  0  0  0  0  1  2  3  40\n0  0  0  2  3  0  3  0  3  1  2  3  1  0  0\n1  2  0  4  0  3  4  0  4  1  2  0  0  1  1\n0  0  0  0  0  0  10 3  4  12 4  5  12 3  10\n26 3  4  5  10 0  2  2  4  1  0  0  0  1  0\n0  30 4  6  2  0  2  0  0  0  0  1  2  3  40\n0  0  0  2  3  0  0  0  0  1  0  3  1  0  0\n1  2  10 4  0  0  4  0  4  1  2  0  0  1  1\n0  0  0  0  0  0  0  3  0  0  4  5  0  3  10\n</code></pre>\n\n<p>I am looking for all connected non-zeros and their maximum value. Please see this figure.</p>\n\n<p><a href=\"https://i.stack.imgur.com/emVmR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/emVmR.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>So the desire output is:</p>\n\n<pre><code>outfile.txt\n12 10    (12 is the yellow shaded connected non-zeros with maximum value 10)\n42 40    (42 is the light-red shaded connected non-zeros with maximum value 40)\n 1  1    (The light purple isolated non-zero)\n 2  2    (The light green connected non-zeros)\n15 30    and so on\n 6  5\n 1  4\n 4 10 \n 1  3\n</code></pre>\n\n<p>It is being difficult to develop a proper algorithm to write further it in fortran or in shell script. \nI am thinking of the following algorithm, but can't able to think what is next.</p>\n\n<pre><code>step 1: #Assign the entries with a[ij], i-row, j-column\n        #Now make different non-zero connected cell arrays (e.g. c1[k],c2[k],c3[k],....etc) \n        for i in {1..10};do\n          for j in {1..15};do\n            if [ a(i,j) != 0 ];then c1[k]=a(i,j); a(i,j)=\"*\" #(assign a(i,j) to c1[k] and \n                                                             #replace its original value to \"*\" \n                                                             #because it should not be considered further)\nStep 2: #Now check the left-right-up-down elements of a(i,j), if non-zero\n                if [ a(i,j-1) !=0 ] &amp;&amp; [ a(i,j) !=* ]; then c1[k]=a(i,j-1); a(i,j-1)=\"*\"\n                if [ a(i,j+1) !=0 ] &amp;&amp; [ a(i,j) !=* ]; then c1[k]=a(i,j+1); a(i,j+1)=\"*\"\n                if [ a(i-1,j) !=0 ] &amp;&amp; [ a(i,j) !=* ]; then c1[k]=a(i-1,j); a(i-1,j)=\"*\"\n                if [ a(i+1,j) !=0 ] &amp;&amp; [ a(i,j) !=* ]; then c1[k]=a(i+1,j); a(i+1,j)=\"*\"\n\nStep 3: #continue the same process for each non-zeros until a zero at all-end.\n\nStep 4: #Count the number of elements in c1[k] and find it maximum\n</code></pre>\n"}, {"tags": ["regex", "shell", "perl"], "answers": [{"tags": [], "owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "is_accepted": true, "score": 2, "last_activity_date": 1575008546, "last_edit_date": 1575008546, "creation_date": 1575003435, "answer_id": 59098979, "question_id": 59098603, "link": "https://stackoverflow.com/questions/59098603/parse-git-status-log-and-exit-if-modified-files-are-from-a-given-directory/59098979#59098979", "title": "parse git status log and exit if modified files are from a given directory", "body": "<p>You just need to enhance your regex to ignore those lines. You can use the below to identify the lines that are starting with <code>modified:</code> or <code>new file:</code> and those do <em>not</em> contain the allowed paths you have provided. This way if the regex hits some results your condition gets true and you can throw an error as you have shown in the OP</p>\n\n<pre><code>if( grep { ( (/\\b(modified|new file):/ ) and ( !/((directory_1|directory_2)\\/path\\/to\\/dir_1)/) ) } $row )\n</code></pre>\n\n<p>Instead of dumping the result of <code>git status</code> to a file and parsing it later, for a quick check on the command-line, you can pipe the status output to </p>\n\n<pre><code>perl -le 'print grep{/\\b(modified|new file):/ &amp;&amp; !/((directory_1|directory_2)\\/path\\/to\\/dir_1)/}&lt;&gt;'\n</code></pre>\n"}], "owner": {"reputation": 2132, "user_id": 7620805, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3f2d11bb6c725bca5c844805789f68c1?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7620805/yash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59098979, "answer_count": 1, "score": 2, "last_activity_date": 1575008546, "creation_date": 1574999882, "last_edit_date": 1575001798, "question_id": 59098603, "link": "https://stackoverflow.com/questions/59098603/parse-git-status-log-and-exit-if-modified-files-are-from-a-given-directory", "title": "parse git status log and exit if modified files are from a given directory", "body": "<p>I have written following script to throw an error if the modified files in <code>git status</code> is from <code>directory_3</code>. Now I want to enhance this script to exit if the files are modified in any directory except: <code>directory_1/path/to/dir_1/</code> and <code>directory_2/path/to/dir_1/</code>.\nI'm not able to script how to ignore the first two and last three lines of <code>git status</code> log (<code>git_status.log</code>) shown below. How can i modify the <code>if condition</code> to ignore all directories except the two mentioned above.</p>\n\n<p><strong>INITIAL_SCRIPT</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $filename = \"/home/user/git_status.log\";\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename) or die \"Could not open file '$filename' $!\";\n\nwhile (my $row = &lt;$fh&gt;) {\n    chomp $row;\n    #print \"INFO: $row \\n\";\n\n    if(grep(/\\bdirectory_3\\b/, $row))\n    {\n        print \"INFO: This is an error case. Exit now \\n\";\n        print \"&gt;&gt;&gt; $row \\n\";\n        exit 1;\n    }\n}\n</code></pre>\n\n<p><strong>INPUT_FILE</strong></p>\n\n<pre><code>$&gt; cat git_status.log\n\nOn branch development_branch\nChanges to be committed:\n\n    modified:   directory_1/path/to/dir_1/file1.txt\n    modified:   directory_1/path/to/dir_2/file2.txt\n    new file:   directory_2/path/to/dir_1/file3.txt\n    modified:   directory_2/path/to/dir_2/file4.txt\n    new file:   directory_3/path/to/dir_2/file5.txt\n    modified:   directory_3/path/to/dir_2/file6.txt\n\nIt took 3.92 seconds to enumerate untracked files. 'status -uno'\nmay speed it up, but you have to be careful not to forget to add\nnew files yourself (see 'git help status').\n</code></pre>\n"}, {"tags": ["perl", "die"], "comments": [{"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1575003954, "post_id": 59098349, "comment_id": 104430910, "body": "<code>gzip</code> quit with an error, but <code>open</code> did not fail."}], "answers": [{"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": true, "score": 5, "last_activity_date": 1575001150, "last_edit_date": 1575001150, "creation_date": 1575000770, "answer_id": 59098701, "question_id": 59098349, "link": "https://stackoverflow.com/questions/59098349/perl-die-did-not-work-upon-opening-a-nonexistent-gz-file-using-gzip/59098701#59098701", "title": "Perl: `die` did not work upon opening a nonexistent gz file using gzip", "body": "<p>It's buried in <a href=\"https://perldoc.pl/perlipc#Using-open%28%29-for-IPC\" rel=\"noreferrer\">perlipc</a>, but this seems relevant (emphasis added):</p>\n\n<blockquote>\n  <p>Be careful to check the return values from both open() and close(). If you're writing to a pipe, you should also trap SIGPIPE. Otherwise, think of what happens when you start up a pipe to a command that doesn't exist: <strong>the open() will in all likelihood succeed (it only reflects the fork()'s success)</strong>, but then your output will fail--spectacularly. Perl can't know whether the command worked, because your command is actually running in a separate process whose exec() might have failed. Therefore, while <strong>readers of bogus commands return just a quick EOF</strong>, writers to bogus commands will get hit with a signal, which they'd best be prepared to handle. </p>\n</blockquote>\n\n<p>Use <a href=\"https://perldoc.pl/IO::Uncompress::Gunzip\" rel=\"noreferrer\"><code>IO::Uncompress::Gunzip</code></a> to read gzipped files instead.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1577354189, "last_edit_date": 1577354189, "creation_date": 1575011948, "answer_id": 59100345, "question_id": 59098349, "link": "https://stackoverflow.com/questions/59098349/perl-die-did-not-work-upon-opening-a-nonexistent-gz-file-using-gzip/59100345#59100345", "title": "Perl: `die` did not work upon opening a nonexistent gz file using gzip", "body": "<p>The <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a> documentation is explicit about <code>open</code>-ing a process since that is indeed different</p>\n\n<blockquote>\n  <p>If you open a pipe on the command <code>-</code> (that is, specify either <code>|-</code> or <code>-|</code> with the one- or two-argument forms of <code>open</code>), an implicit <code>fork</code> is done, so <code>open</code> returns twice: in the parent process it returns the <code>pid</code> of the child process, and in the child process it returns (a defined) <code>0</code>. Use <code>defined($pid)</code> or <code>//</code> to determine whether the <code>open</code> was successful.</p>\n  \n  <p>For example, use either  </p>\n\n<pre><code>my $child_pid = open(my $from_kid, \"-|\") // die \"Can't fork: $!\";\n</code></pre>\n  \n  <p>or</p>\n\n<pre><code>my $child_pid = open(my $to_kid,   \"|-\") // die \"Can't fork: $!\";\n</code></pre>\n</blockquote>\n\n<p>(with code following that shows one use of this, which you don't need) &nbsp; The main point is to check for <code>defined</code> -- by design we get <code>undef</code> if <code>open</code> for a process fails, not just any \"false.\"</p>\n\n<p>While this should be corrected, keep in mind that the <code>open</code> call fails <em>if <code>fork</code> itself fails</em>, what is rare; in most cases when a \"command fails\" the <code>fork</code> was successful but something later wasn't. So in such cases we just cannot get the <code>// die</code> message, but end up seeing messages from the shell or command or OS, hopefully.</p>\n\n<p>This is alright though, if informative messages indeed get emitted by some part of the process. Wrap the whole thing in <code>eval</code> and you'll have manageable error reporting.</p>\n\n<p>But it is in general difficult to ensure to get all the right messages, and in some cases not possible.  One good approach is to use a module for running and managing external commands. Among the many other advantages they also usually handle errors much more nicely. If you need to handle process's output right as it is emitted I recommend <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a> (which i'd recommend otherwise as well).</p>\n\n<p>Read on what linked docs say, for specific examples on what you need and for much useful insight.</p>\n\n<hr>\n\n<p>In your case</p>\n\n<pre><code># Check input, depending on how it is given,\n# consider String::ShellQuote if needed\nmy $file = ...;\n\nmy @cmd = ('gzip', '-dc', $file);\n\nmy $child_pid = open my $in, '-|', @cmd  \n    // die \"Can't fork for '@cmd': $!\";\n\nwhile (&lt;$in&gt;) { \n    ...\n}\nclose $in or die \"Error closing pipe: $!\";\n</code></pre>\n\n<p>Note a few other points</p>\n\n<ul>\n<li><p>the \"list form\" of the command bypasses the shell</p></li>\n<li><p>lexical filehandle (<code>my $fh</code>) is much better than typeglobs (<code>IN</code>)</p></li>\n<li><p>print the actual error in the <code>die</code> statement, in <a href=\"https://perldoc.perl.org/5.30.0/perlvar.html#Error-Variables\" rel=\"nofollow noreferrer\"><code>$!</code> variable</a></p></li>\n<li><p>check <a href=\"https://perldoc.perl.org/5.30.0//functions/close.html\" rel=\"nofollow noreferrer\">close</a> for a good final check on how it all went</p></li>\n</ul>\n"}], "owner": {"reputation": 1307, "user_id": 765398, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8017ec48b053018d141c3d610c106c3b?s=128&d=identicon&r=PG", "display_name": "wdg", "link": "https://stackoverflow.com/users/765398/wdg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 59098701, "answer_count": 2, "score": 3, "last_activity_date": 1577354189, "creation_date": 1574997341, "last_edit_date": 1575003896, "question_id": 59098349, "link": "https://stackoverflow.com/questions/59098349/perl-die-did-not-work-upon-opening-a-nonexistent-gz-file-using-gzip", "title": "Perl: `die` did not work upon opening a nonexistent gz file using gzip", "body": "<p>The following script creates a gziped file named \"input.gz\". Then the script attempts to open \"input.gz\" using <code>gzip -dc</code>. Intuitively, <code>die</code> should be triggered if a wrong input file name is provided. However, as in the following script, the program will not <code>die</code> even if a wrong input file name is provided (\"inputx.gz\"):</p>\n\n<pre><code>use warnings;\nuse strict;\n\nsystem(\"echo PASS | gzip -c &gt; input.gz\");\n\nopen(IN,\"-|\",\"gzip -dc inputx.gz\") || die \"can't open input.gz!\";\n\nprint STDOUT \"die statment was not triggered!\\n\";\n\nclose IN;\n</code></pre>\n\n<p>The output of the script above was</p>\n\n<pre><code>die statment was not triggered!\ngzip: inputx.gz: No such file or directory\n</code></pre>\n\n<p><strong>My questions</strong> is: why wasn't <code>die</code> statement triggered even though <code>gzip</code> quit with error? And how can I make <code>die</code> statement triggered when a wrong file name is given?</p>\n"}, {"tags": ["html", "forms", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574973022, "post_id": 59095719, "comment_id": 104425065, "body": "What are you using? Old school CGI with Apache?"}, {"owner": {"reputation": 27, "user_id": 12347709, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624932237586289/picture?type=large", "display_name": "Adamo Branz", "link": "https://stackoverflow.com/users/12347709/adamo-branz"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574973127, "post_id": 59095719, "comment_id": 104425102, "body": "yes, in my html I have a form like: &#39;&#39;&#39; &lt;form action=&quot;/cgi-bin/insert_user.pl&quot; method=&quot;post&quot; accept-charset=&quot;utf-8&quot; enctype=&quot;multipart/form-data&quot;&gt;&#39;&#39;&#39; and in the script insert_user.pl I actually save the data on the DB and redirect the user to another page"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574984331, "post_id": 59095719, "comment_id": 104427621, "body": "<a href=\"https://stackoverflow.com/q/7632717/1030675\">stackoverflow.com/q/7632717/1030675</a>"}], "answers": [{"tags": [], "owner": {"reputation": 50, "user_id": 8110392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5u9yN.jpg?s=128&g=1", "display_name": "xcodejoy", "link": "https://stackoverflow.com/users/8110392/xcodejoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1575141521, "creation_date": 1575141521, "answer_id": 59119433, "question_id": 59095719, "link": "https://stackoverflow.com/questions/59095719/html-perl-how-display-a-waiting-page-popup-while-user-submit-a-form/59119433#59119433", "title": "html + perl : how display a waiting page/popup while user submit a form", "body": "<p>// jQuery</p>\n\n<pre><code>$.ajaxSetup({\n    beforeSend:function(){\n        // show image here\n        $(\"#busy\").show();\n    },\n    complete:function(){\n        // hide image here\n        $(\"#busy\").hide();\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 12347709, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624932237586289/picture?type=large", "display_name": "Adamo Branz", "link": "https://stackoverflow.com/users/12347709/adamo-branz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575141521, "creation_date": 1574972522, "question_id": 59095719, "link": "https://stackoverflow.com/questions/59095719/html-perl-how-display-a-waiting-page-popup-while-user-submit-a-form", "title": "html + perl : how display a waiting page/popup while user submit a form", "body": "<p>I have a html form that calls a perl script as an action in which I saved data in the DB. \nI would like a wait screen to appear while this script is being called. How could I do?</p>\n"}, {"tags": ["shell", "perl", "grep", "fasta"], "comments": [{"owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 2, "creation_date": 1574970052, "post_id": 59095267, "comment_id": 104424261, "body": "For bash something like: <code>for i in *.fasta; do perl removesmalls.pl 1000 $i &gt; ${i%.fasta}-out.fasta; done</code>"}, {"owner": {"reputation": 11, "user_id": 11774806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-itdQr-6YFag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcyJmXQIKxdBWH_j2pqHNsGXbLfcw/photo.jpg?sz=128", "display_name": "Subrahmanya", "link": "https://stackoverflow.com/users/11774806/subrahmanya"}, "reply_to_user": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 0, "creation_date": 1574999919, "post_id": 59095267, "comment_id": 104430222, "body": "Thank you, i think that will work for me"}], "owner": {"reputation": 11, "user_id": 11774806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-itdQr-6YFag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcyJmXQIKxdBWH_j2pqHNsGXbLfcw/photo.jpg?sz=128", "display_name": "Subrahmanya", "link": "https://stackoverflow.com/users/11774806/subrahmanya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574969843, "creation_date": 1574969719, "last_edit_date": 1574969843, "question_id": 59095267, "link": "https://stackoverflow.com/questions/59095267/how-to-remove-small-contigs-from-fasta-files", "title": "How to remove small contigs from fasta files?", "body": "<pre><code>## removesmalls.pl\n#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $minlen = shift or die \"Error: `minlen` parameter not provided\\n\";\n{\n    local $/=\"&gt;\";\n    while(&lt;&gt;) {\n        chomp;\n        next unless /\\w/;\n        s/&gt;$//gs;\n        my @chunk = split /\\n/;\n        my $header = shift @chunk;\n        my $seqlen = length join \"\", @chunk;\n        print \"&gt;$_\" if($seqlen &gt;= $minlen);\n    }\n    local $/=\"\\n\";\n}\n</code></pre>\n\n<p>Exexecuting the script as follows: </p>\n\n<pre><code>perl removesmalls.pl 1000 contigs.fasta &gt; contigs-1000.fasta\n</code></pre>\n\n<p>The above script works for me but there is a problem,\ni have 109 different fasta files with different file names.\ni can run the script for individual file but i want to run the script at once for all files and the result file should be individually different for each.</p>\n\n<p>file names are like SRR8224532.fasta, SRR8224533.fasta, SRR8224534.fasta, and so on\ni want the result files after removing the contigs (i.e., for me less than 1000) something like SRR8224532-out.fasta,\nSRR8224533-out.fasta, and so on.</p>\n\n<p>Any help or suggestion would be helpfull.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 2, "creation_date": 1574964432, "post_id": 59093568, "comment_id": 104422569, "body": "<a href=\"https://www.effectiveperlprogramming.com/2017/04/you-must-escape-the-left-brace-in-a-regex/\" rel=\"nofollow noreferrer\">effectiveperlprogramming.com/2017/04/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 3, "last_activity_date": 1574960833, "creation_date": 1574960833, "answer_id": 59093614, "question_id": 59093568, "link": "https://stackoverflow.com/questions/59093568/unescaped-left-brace-in-regex-is-deprecated-passed-through-in-regex/59093614#59093614", "title": "Unescaped left brace in regex is deprecated, passed through in regex", "body": "<p>Escape the left brace with a backslash:</p>\n\n<pre><code>$message =~ s/_WIP_list\\{file}_/$WIP_list{$file}/g;\n$message =~ s/_STD_list\\{file}_/$STD_list{$file}/g;\n#                      ^\n</code></pre>\n\n<p>To help debug problems like this, you can add the following to get a more detailed explanation of the warning message:</p>\n\n<pre><code>use diagnostics;\n</code></pre>\n"}], "owner": {"reputation": 3392, "user_id": 2977876, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/HwNBq.jpg?s=128&g=1", "display_name": "whoisearth", "link": "https://stackoverflow.com/users/2977876/whoisearth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 59093614, "answer_count": 1, "score": 1, "last_activity_date": 1574960833, "creation_date": 1574960644, "question_id": 59093568, "link": "https://stackoverflow.com/questions/59093568/unescaped-left-brace-in-regex-is-deprecated-passed-through-in-regex", "title": "Unescaped left brace in regex is deprecated, passed through in regex", "body": "<p>I'm working on migrating some legacy code and perl is having a fit on the following lines:</p>\n\n<pre><code>$message =~ s/_WIP_list{file}_/$WIP_list{$file}/g;\n$message =~ s/_STD_list{file}_/$STD_list{$file}/g;\n</code></pre>\n\n<p>How should I be writing them to avoid the deprecation error?  I have next to no knowledge of perl.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574948317, "post_id": 59089710, "comment_id": 104414895, "body": "<i>&quot;Required Output : 2,34,54,546.**3435353*</i>&quot;: Why not 23,45,45,46.3435353? Please explain the algorithm used to insert commas"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574948616, "post_id": 59089710, "comment_id": 104415051, "body": "Its INR - Indian currency values"}, {"owner": {"reputation": 1323, "user_id": 2030808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRrvi.png?s=128&g=1", "display_name": "pmqs", "link": "https://stackoverflow.com/users/2030808/pmqs"}, "edited": false, "score": 0, "creation_date": 1574948709, "post_id": 59089710, "comment_id": 104415111, "body": "Can you fix the code so that it runs and produces some output please. There is a missing semicolon on the first line. Fixing that produces a script that doesn&#39;t output anything. I assume the result is the contents of $strg?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574948864, "post_id": 59089710, "comment_id": 104415191, "body": "@ssr1012 <i>&quot;Its INR&quot;</i> ok.. so like decribed <a href=\"https://en.wikipedia.org/wiki/Indian_numbering_system\" rel=\"nofollow noreferrer\">here</a>? I.e.: <i>&quot;.. the Indian numbering system groups the rightmost three digits together (until the hundreds place), and thereafter groups by sets of two digits..&quot;</i>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574949044, "post_id": 59089710, "comment_id": 104415301, "body": "See also <a href=\"https://metacpan.org/pod/Locale::Currency::Format\" rel=\"nofollow noreferrer\">Locale::Currency::Format</a>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1574949372, "post_id": 59089710, "comment_id": 104415486, "body": "@H&#229;konH&#230;gland:<code>1 lakh crore, written as 10,00,00,00,00,000</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1574949433, "post_id": 59090491, "comment_id": 104415529, "body": "Fine. But I need the actual value after the decimal <code>.3435353</code> instead of <code>.34</code>"}, {"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 0, "creation_date": 1574952967, "post_id": 59090491, "comment_id": 104417444, "body": "Also, you could just call format with the prefix: <code>s&#47;(\\d+\\.\\d{1,2})(\\d*)&#47;currency_format(&#39;INR&#39;,$1).$2&#47;ge;</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 1, "creation_date": 1574953390, "post_id": 59090491, "comment_id": 104417656, "body": "@jhnc Yes I thought about that but <code>currency_format()</code> did not give correct output see above. It gave <code>23,454,546</code> when the expected was <code>2,34,54,546</code>"}, {"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 1, "creation_date": 1574953522, "post_id": 59090491, "comment_id": 104417725, "body": "Didn&#39;t spot that. Seems a rather large bug!"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 3, "last_activity_date": 1574952670, "last_edit_date": 1574952670, "creation_date": 1574949351, "answer_id": 59090491, "question_id": 59089710, "link": "https://stackoverflow.com/questions/59089710/insert-comma-inr-value-in-numeric-values-perl/59090491#59090491", "title": "Insert comma (INR value) in numeric values - Perl", "body": "<p>Maybe easier to use <a href=\"https://metacpan.org/pod/Locale::Currency::Format\" rel=\"nofollow noreferrer\">Locale::Currency::Format</a> ?  </p>\n\n<pre><code>use Locale::Currency::Format;\nmy $inr = currency_format('INR', 23454546.3435353);\nsay $inr;\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>23,454,546.34 INR\n</code></pre>\n\n<p><strong>Edit</strong>:</p>\n\n<p>It seems like the precision cannot be modified by the module. If you want a precision other than 2, you can try use the brute force approach. For example:</p>\n\n<pre><code>my $strg = \"23454546.3435353 test 123454546789.3435353\";\n$strg =~ s/(\\d+)\\.(\\d+)/do_subst($1,$2)/ge;\nsub do_subst {\n    my ($p1, $p2) = @_;\n    my $temp = reverse $p1;\n    my @parts;\n    push @parts, $1 if $temp =~ s/^(\\d{1,3})//;\n    while (length $temp) {\n        push @parts, $1, if $temp =~ s/^(\\d{1,2})//;\n    }\n    return (join ',', map {my $p = reverse $_; $p} reverse @parts) . '.' . $p2;\n}\nsay $strg;\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>2,34,54,546.3435353 test 1,23,45,45,46,789.3435353\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1575086552, "post_id": 59091152, "comment_id": 104457095, "body": "nice explanations Sr."}], "tags": [], "owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "is_accepted": false, "score": 1, "last_activity_date": 1575043205, "last_edit_date": 1575043205, "creation_date": 1574951548, "answer_id": 59091152, "question_id": 59089710, "link": "https://stackoverflow.com/questions/59089710/insert-comma-inr-value-in-numeric-values-perl/59091152#59091152", "title": "Insert comma (INR value) in numeric values - Perl", "body": "<p>Your detection of relevant strings is flawed. You have:</p>\n\n<pre><code>([^\\.])(\\d{4,})\n</code></pre>\n\n<p>but this means the first character can be a digit.\nThat explains why you get <code>234,</code> in your output.\nIt will also match the digits <em>one beyond</em> a period (so in <code>.3435353</code>, you match <code>3435353</code>). Note that the <code>\\</code> is not needed (<code>.</code> is not special inside square brackets).</p>\n\n<p>Try this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$strg =~ s{\n    (                # $1:\n        ( ^ | \\s )   #   delimiter (whitespace or line start)\n        \\d{4,}       #   digits that need commas\n    )\n    (?=              # lookahead:\n        ( \\. \\d+ )?  #   optional fractional part\n        ( \\s | $ )   #   delimiter (whitespace or line end)\n    )\n}{\n    local $_ = $1;\n    s/(\\d)(?=(\\d{2})*\\d{3}$)/$1,/g;\n    $_;\n}xeg;\n</code></pre>\n\n<p>The outer regex matches  runs of 4 or more digits (optionally followed by a fractional part), delimited either by whitespace or at the start/end of the string.</p>\n\n<p>The inner regex also makes use of lookahead to find digits that need commas (ie. 2n+4 from the right). Because of greedy matching of the lookahead, replacements are made starting from the left.</p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1575043205, "creation_date": 1574946734, "last_edit_date": 1592644375, "question_id": 59089710, "link": "https://stackoverflow.com/questions/59089710/insert-comma-inr-value-in-numeric-values-perl", "title": "Insert comma (INR value) in numeric values - Perl", "body": "<p>I am trying to write a script to make a integer into comma separated value:</p>\n<blockquote>\n<p>For Example Input : <code>23454546.3435353 test 123454546789.3435353</code> #'n' number of values will be present.</p>\n<p>I am receiving output: <code>234, 54, 546.34, 35, 353 test 123454546789.34, 35, 353</code></p>\n<p>My Query is, after the decimal value do not insert <code>,</code>.</p>\n<p>Required Output   : <code>2,34,54,546.**3435353**</code> test <code>1,23,45,45,46,789.**3435353**</code></p>\n</blockquote>\n<p>My Code:</p>\n<pre><code>my $strg = &quot;23454546.3435353 test 123454546789.3435353&quot;\n\n$strg=~s#([^\\.])(\\d{4,})#  my $no_dot=$1; my $nums = $2; my $cnt = $nums=~s/\\d/$&amp;/g; \nif($cnt eq 8) {  $nums=~s/^(\\d{1})(\\d{2})(\\d{2})(\\d{3})$/$1\\, $2\\, $3\\, $4/g;  }\nif($cnt eq 7) {  $nums=~s/^(\\d{2})(\\d{2})(\\d{3})$/$1\\, $2\\, $3/g;  }\nif($cnt eq 6) {  $nums=~s/^(\\d{1})(\\d{2})(\\d{3})$/$1\\, $2\\, $3/g;  }\nif($cnt eq 5) {  $nums=~s/^(\\d{2})(\\d{3})$/$1\\, $2/g;  }\nif($cnt eq 4) {  $nums=~s/^(\\d{1})(\\d{3})$/$1\\, $2/g;  }\n($no_dot.$nums);\n#ge;\n</code></pre>\n<p>Please advice where I am doing wrong.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574943707, "post_id": 59088776, "comment_id": 104412443, "body": "Can you add sample values to your question?"}], "answers": [{"comments": [{"owner": {"reputation": 1064, "user_id": 2856552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a9a2cb2960580df2a7e0724a306c2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Zilore Mumba", "link": "https://stackoverflow.com/users/2856552/zilore-mumba"}, "edited": false, "score": 0, "creation_date": 1574944909, "post_id": 59088863, "comment_id": 104413089, "body": "Thanks I have tried this. It does not give any error, but I do not see any change in the output. I am writing this to a file."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 1064, "user_id": 2856552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a9a2cb2960580df2a7e0724a306c2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Zilore Mumba", "link": "https://stackoverflow.com/users/2856552/zilore-mumba"}, "edited": false, "score": 0, "creation_date": 1574946151, "post_id": 59088863, "comment_id": 104413754, "body": "Then you need to use <code>print OUT</code> and <code>printf OUT</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1574943901, "creation_date": 1574943901, "answer_id": 59088863, "question_id": 59088776, "link": "https://stackoverflow.com/questions/59088776/how-do-i-format-this-set-of-integers/59088863#59088863", "title": "How do I format this set of integers?", "body": "<p>You've already used <a href=\"http://p3rl.org/sprintf\" rel=\"nofollow noreferrer\">sprintf</a>, you can use it again to format the dates, or use <a href=\"http://p3rl.org/printf\" rel=\"nofollow noreferrer\">printf</a> directly:</p>\n\n<pre><code>printf '%2d %2d %4d %2d %2d', $mon, $dy, $yr, $hr, $min;\nprint map sprintf(' %6.1f', $_), @rain;\nprint \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": true, "score": 1, "last_activity_date": 1574966871, "creation_date": 1574966871, "answer_id": 59094796, "question_id": 59088776, "link": "https://stackoverflow.com/questions/59088776/how-do-i-format-this-set-of-integers/59094796#59094796", "title": "How do I format this set of integers?", "body": "<p>You probably looking for the following piece of code</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'rain.txt';        # Specify desired output filename\n\nmy $format = \"%2d %2d %4d %2d %2d\" . \" %5.1f\" x 8 . \"\\n\";\n\nopen OUT, \"&gt; $filename\"\n        or die \"Couldn't open $filename\";\n\nwhile( &lt;DATA&gt; ) {\n    chomp;\n    s/\\s+/ /g;                    # strip unneeded spaces before split\n\n    my @data = split ' ';         # put read data in a array\n\n    printf $format, @data;        # print data on the screen\n    printf OUT $format, @data;    # print data into the file\n}\n\nclose OUT;\n\n__DATA__\n5 6 19 12 30   23.2   45.1    0.0    0.0    1.0    1.6    4.9   50.6\n5 6 19 12 45   22.9   45.6    0.0    0.0    1.0    3.1    4.6  145.8\n5 6 19 1 00   22.5   46.4    0.0    0.0    1.0    0.0    0.0  179.0\n5 6 19 1 15   22.3   47.6    0.0    0.0    1.0    0.6    3.1   80.9\n5 6 19 1 30   22.3   48.2    0.0    0.0    1.0    2.0    4.1   49.8\n</code></pre>\n\n<p>Generated output</p>\n\n<pre><code> 5  6   19 12 30  23.2  45.1   0.0   0.0   1.0   1.6   4.9  50.6\n 5  6   19 12 45  22.9  45.6   0.0   0.0   1.0   3.1   4.6 145.8\n 5  6   19  1  0  22.5  46.4   0.0   0.0   1.0   0.0   0.0 179.0\n 5  6   19  1 15  22.3  47.6   0.0   0.0   1.0   0.6   3.1  80.9\n 5  6   19  1 30  22.3  48.2   0.0   0.0   1.0   2.0   4.1  49.8\n</code></pre>\n"}], "owner": {"reputation": 1064, "user_id": 2856552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1a9a2cb2960580df2a7e0724a306c2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Zilore Mumba", "link": "https://stackoverflow.com/users/2856552/zilore-mumba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59094796, "answer_count": 2, "score": 0, "last_activity_date": 1574966871, "creation_date": 1574943621, "last_edit_date": 1574944346, "question_id": 59088776, "link": "https://stackoverflow.com/questions/59088776/how-do-i-format-this-set-of-integers", "title": "How do I format this set of integers?", "body": "<p>I am reading this string from a file</p>\n\n<pre><code>my ($mon, $dy, $yr, $hr, $min, @rain) = split;\n</code></pre>\n\n<p>I then format the real (float) part as follows</p>\n\n<pre><code>$_ = sprintf \"%6.1f\", $_ foreach @rain;\n</code></pre>\n\n<p>When I print</p>\n\n<pre><code>print OUT \" $mon $dy $yr $hr $min \", join(\" \", @rain), \"\\n\";\n</code></pre>\n\n<p>I want all the date elements to have fixed integer lengths like 4 for the year and two for the rest. currently I get two integer places then one, for month and for day.</p>\n\n<p>I will appreciate assistance.\nhere is sample data, with $mon, $dy, $yr, $hr, $min, @rain in that order.</p>\n\n<pre><code>5 6 19 12 30   23.2   45.1    0.0    0.0    1.0    1.6    4.9   50.6\n5 6 19 12 45   22.9   45.6    0.0    0.0    1.0    3.1    4.6  145.8\n5 6 19 1 00   22.5   46.4    0.0    0.0    1.0    0.0    0.0  179.0\n5 6 19 1 15   22.3   47.6    0.0    0.0    1.0    0.6    3.1   80.9\n5 6 19 1 30   22.3   48.2    0.0    0.0    1.0    2.0    4.1   49.8\n</code></pre>\n"}, {"tags": ["perl", "multidimensional-array"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 1, "creation_date": 1574943170, "post_id": 59088543, "comment_id": 104412161, "body": "Please update your question to include a) a minimal (running) script to display the error you get, b) the complete error message, c) your input and d) your desired output."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 1, "creation_date": 1574943998, "post_id": 59088543, "comment_id": 104412573, "body": "And please format your source code to make it better readable."}, {"owner": {"reputation": 59, "user_id": 12401841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbcce32d293e478b08a712d3f19f674?s=128&d=identicon&r=PG&f=1", "display_name": "techie", "link": "https://stackoverflow.com/users/12401841/techie"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1575219167, "post_id": 59088543, "comment_id": 104483697, "body": "updated the question. Hope now its more clear."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1575398728, "post_id": 59088543, "comment_id": 104551083, "body": "I suggest to work through a tutorial on &quot;<i>references</i>&quot; <a href=\"https://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a>, since you must understand them in order to work with complex data structures like multidimensional arrays.  Then read the data-structure cookbook, <a href=\"https://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1575399083, "post_id": 59088543, "comment_id": 104551210, "body": "The thing is, an array element can only be a &quot;<i>scalar</i>&quot;, a single value; so if you want to store an array in a slot of another array, you need to store its &quot;<i>reference</i>&quot;  -- which is a single value which has that array&#39;s memory address, so it allows us to get to the whole array. So put that in one slot, then a reference to another array goes into the other slot of the main array, etc; then you end up having an array which stores arrays.  But we can&#39;t explain these basics well in a stackoverflow post or comment, thus my suggestion to read about it."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 12401841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbcce32d293e478b08a712d3f19f674?s=128&d=identicon&r=PG&f=1", "display_name": "techie", "link": "https://stackoverflow.com/users/12401841/techie"}, "edited": false, "score": 0, "creation_date": 1575007012, "post_id": 59088934, "comment_id": 104431576, "body": "My intention is to split a line(containing the search pattern) and keep it in an array. For the next line containing the search pattern it should split the same way and store it in some other array. So when I have 4 lines  containing the search pattern I should have 4 different arrays for them for further operation."}, {"owner": {"reputation": 59, "user_id": 12401841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbcce32d293e478b08a712d3f19f674?s=128&d=identicon&r=PG&f=1", "display_name": "techie", "link": "https://stackoverflow.com/users/12401841/techie"}, "edited": false, "score": 0, "creation_date": 1575012161, "post_id": 59088934, "comment_id": 104433193, "body": "@list_of_arguments[$count] = \\@store; In my opinion this will not work for that"}, {"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "reply_to_user": {"reputation": 59, "user_id": 12401841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbcce32d293e478b08a712d3f19f674?s=128&d=identicon&r=PG&f=1", "display_name": "techie", "link": "https://stackoverflow.com/users/12401841/techie"}, "edited": false, "score": 0, "creation_date": 1575021119, "post_id": 59088934, "comment_id": 104437067, "body": "Opinions are like noses. Everybody has one. See my edit."}, {"owner": {"reputation": 59, "user_id": 12401841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbcce32d293e478b08a712d3f19f674?s=128&d=identicon&r=PG&f=1", "display_name": "techie", "link": "https://stackoverflow.com/users/12401841/techie"}, "edited": false, "score": 0, "creation_date": 1575219031, "post_id": 59088934, "comment_id": 104483666, "body": "the perl script must be storing the split elements of each line in separate arrays"}], "tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 1, "last_activity_date": 1575021372, "last_edit_date": 1575021372, "creation_date": 1574944147, "answer_id": 59088934, "question_id": 59088543, "link": "https://stackoverflow.com/questions/59088543/perl-multidimensional-arrays-assigning-a-1d-array-to-a-2d-array/59088934#59088934", "title": "Perl multidimensional arrays--&gt; assigning a 1D array to a 2D array", "body": "<p>In Perl, arrays are not of fixed length and there are no multidimensional arrays either. You can have Arrays that contain (references to) other arrays.</p>\n\n<p>So in your case, you can get rid of the loop and simply say</p>\n\n<pre><code>$list_of_arguments[$count] = \\@store;\n</code></pre>\n\n<p>Edit: \nAdressing the comment below, this is what you want methinks:</p>\n\n<pre><code>my @list_of_arguments;\n\nwhile ( my $line = &lt;FILE&gt; )\n{\n  if ($line =~ /$string/)\n  {\n    my @line_data = split(\" \",$line);\n    push @list_of_arguments, \\@line_data;\n  }\n}\n</code></pre>\n\n<p>The variables <code>@list_of_arguments</code> and <code>$string</code> are poorly named though. We should change them to something more descriptive. We also don't really need the <code>@line_data</code> since we do nothing with it. With these considerations, we can shorten the code to</p>\n\n<pre><code>while ( my $line = &lt;FILE&gt; )\n{\n  push @lines_found, [ split \" \", $line ]\n    if $line =~ /$search_for/;\n}\n</code></pre>\n\n<p>which is arguably pretty. </p>\n"}], "owner": {"reputation": 59, "user_id": 12401841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbcce32d293e478b08a712d3f19f674?s=128&d=identicon&r=PG&f=1", "display_name": "techie", "link": "https://stackoverflow.com/users/12401841/techie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575021372, "creation_date": 1574942863, "last_edit_date": 1574944183, "question_id": 59088543, "link": "https://stackoverflow.com/questions/59088543/perl-multidimensional-arrays-assigning-a-1d-array-to-a-2d-array", "title": "Perl multidimensional arrays--&gt; assigning a 1D array to a 2D array", "body": "<p>I want to search for a pattern inside files and compare the lines containing the same pattern.Firstly,\nI want to split the lines based on space and store them in an array and then compare. Depending on the size array @store, the multidimensional array (@list_of_arguments)should get updated. And the count variable is for the number of files in which the pattern is present.</p>\n\n<p>expected output-->the lines containing the search pattern must split up based on spaces and the elements of all such arrays must sit in different multidimensional array locations for further operation.</p>\n\n<p>This gives a compilation error in the syntax of the multidimensional array. Below is the small code snippet.</p>\n\n<pre><code>if ($line =~ /$string/)\n{\nprint \"$line\\n\";\n  @store = split(\" \",$line);\n  my $size = @store;\n  print \"$size\\n\"; \n  for($l=0;$l&lt;$size;$l++){\n     @list_of_arguments[$count][$size] = @store[$size];\n     print \"@list_of_arguments\\n\";\n}\n}\n</code></pre>\n"}, {"tags": ["regex", "csv", "perl", "replace"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1574940806, "post_id": 59087910, "comment_id": 104410937, "body": "You forgot the group - <code>([^,;]+)$</code>. Or, instead of group 1, refer to the whole match, <code>&quot;$&amp;&quot;</code>"}, {"owner": {"reputation": 79, "user_id": 7745896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b8eddd559f9d88a42b1e85ece08399?s=128&d=identicon&r=PG&f=1", "display_name": "nicenoize", "link": "https://stackoverflow.com/users/7745896/nicenoize"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1576083718, "post_id": 59087910, "comment_id": 104786227, "body": "thank you that solved the problem!"}], "answers": [{"tags": [], "owner": {"reputation": 128, "user_id": 4478946, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-q3D5ERy7kO4/AAAAAAAAAAI/AAAAAAAACNQ/DshDyvclRos/photo.jpg?sz=128", "display_name": "Burhanuddin Salman", "link": "https://stackoverflow.com/users/4478946/burhanuddin-salman"}, "is_accepted": true, "score": 0, "last_activity_date": 1574944676, "creation_date": 1574944676, "answer_id": 59089105, "question_id": 59087910, "link": "https://stackoverflow.com/questions/59087910/put-last-element-of-each-column-in-quotation-marks/59089105#59089105", "title": "Put last element of each column in quotation marks", "body": "<p>To refer to capture you require to put the expression in a capture group <code>(...)</code></p>\n\n<p>Your regex is correct and simply needs to be put in the capturing group, <code>([^,]+)$</code> , should fix your search and replace. </p>\n\n<p>As Wiktor suggested in the comments <code>$&amp;</code> will refer to the whole match and that can also be used.</p>\n"}], "owner": {"reputation": 79, "user_id": 7745896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b8eddd559f9d88a42b1e85ece08399?s=128&d=identicon&r=PG&f=1", "display_name": "nicenoize", "link": "https://stackoverflow.com/users/7745896/nicenoize"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "closed_date": 1576086779, "accepted_answer_id": 59089105, "answer_count": 1, "score": -2, "last_activity_date": 1574944676, "creation_date": 1574940723, "question_id": 59087910, "link": "https://stackoverflow.com/questions/59087910/put-last-element-of-each-column-in-quotation-marks", "closed_reason": "Duplicate", "title": "Put last element of each column in quotation marks", "body": "<p>I am trying to put every last element of each column of a csv into quotation marks by using regex in Visual Studio Code.\n I am matching the string using <code>[^,;]+$</code> and trying to replace it by using <code>\"$1\"</code>.\nAfter replacing, the strings are not in order anymore and some vanish.\nCan anybody help me out here?</p>\n\n<p>My csv is shaped like this: </p>\n\n<pre><code>SOME_ID,SOME_ID2,SOME_ID3,NUM,CODE\n1234,100,1723,1,403\n1235,101,1723,2,486\n1236,101,1723,3,5822\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1574941813, "post_id": 59087296, "comment_id": 104411485, "body": "<a href=\"https://perldoc.perl.org/perlop.html#Bitwise-And\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Bitwise-And</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1574939754, "post_id": 59087426, "comment_id": 104410337, "body": "@ssr1012 A good point, I&#39;ve added some examples to try to help"}, {"owner": {"reputation": 15, "user_id": 12451294, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAe1P5CIFvk-mWjpOeVjwWAly8wJCDC_9hj_XES=k-s128", "display_name": "Helena Oliveira", "link": "https://stackoverflow.com/users/12451294/helena-oliveira"}, "edited": false, "score": 0, "creation_date": 1574941647, "post_id": 59087426, "comment_id": 104411407, "body": "@Martin thank you. Can you tell me if if ($sr &amp; (1&lt;&lt;$cwl)) can be replaced by cwl=1 &lt;&lt; cwl ; if (Convert.ToBoolean(sr) &amp; Convert.ToBoolean(cwl))  the lack of variable types is driving me crazy! :)"}, {"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "reply_to_user": {"reputation": 15, "user_id": 12451294, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAe1P5CIFvk-mWjpOeVjwWAly8wJCDC_9hj_XES=k-s128", "display_name": "Helena Oliveira", "link": "https://stackoverflow.com/users/12451294/helena-oliveira"}, "edited": false, "score": 0, "creation_date": 1574941780, "post_id": 59087426, "comment_id": 104411463, "body": "@HelenaOliveira I have updated my question with my suggestion in this case.  It&#39;s not a straight-forward conversion so you can be forgiven for finding it frustrating!"}, {"owner": {"reputation": 15, "user_id": 12451294, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAe1P5CIFvk-mWjpOeVjwWAly8wJCDC_9hj_XES=k-s128", "display_name": "Helena Oliveira", "link": "https://stackoverflow.com/users/12451294/helena-oliveira"}, "edited": false, "score": 0, "creation_date": 1574943036, "post_id": 59087426, "comment_id": 104412088, "body": "@Martin It gives me the following error &quot;Operator &#39;&amp;&#39; cannot be applied to operands of type &#39;int&#39; and &#39;bool&#39;&quot;. I have declared var sr = 1 in the begining...what am I doing wrong?"}, {"owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "reply_to_user": {"reputation": 15, "user_id": 12451294, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAe1P5CIFvk-mWjpOeVjwWAly8wJCDC_9hj_XES=k-s128", "display_name": "Helena Oliveira", "link": "https://stackoverflow.com/users/12451294/helena-oliveira"}, "edited": false, "score": 0, "creation_date": 1574943147, "post_id": 59087426, "comment_id": 104412149, "body": "@HelenaOliveira Apologies, my fault.  The line should be <code>if ((sr &amp; (1 &lt;&lt; cwl)) != 0)</code>.  I missed the extra brackets.  I&#39;ve updated the answer too"}], "tags": [], "owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "is_accepted": true, "score": 2, "last_activity_date": 1574943164, "last_edit_date": 1574943164, "creation_date": 1574939127, "answer_id": 59087426, "question_id": 59087296, "link": "https://stackoverflow.com/questions/59087296/perl-and-meaning/59087426#59087426", "title": "Perl &lt;&lt;= and ^= Meaning", "body": "<p>These are:</p>\n\n<ul>\n<li><code>&lt;&lt;=</code> = Left shift equal operator, shifts the source variable's bits by <em>n</em> places to the left and assign back to source variable.</li>\n<li><code>^=</code> = Bitwise <code>XOR</code> equal operator. <code>XOR</code>s the source variable by the right hand variable, and assigns to the source variable.</li>\n<li><code>&amp;=</code> = Bitwise <code>AND</code> equal operator. <code>AND</code>s the source variable and the right hand variable, and assigns the result to the source variable.</li>\n</ul>\n\n<p>The C# equivalents from your code above:</p>\n\n<p><strong>Left Shift</strong></p>\n\n<pre><code># Perl code\n$sr &lt;&lt;= 1;\n\n// C# code\nsr = sr &lt;&lt; 1;\n</code></pre>\n\n<p><strong>Bitwise <code>XOR</code></strong></p>\n\n<pre><code># Perl code\n$sr ^= $prim\n\n// C# code\nsr = sr ^ prim\n</code></pre>\n\n<p><strong>Bitwise <code>AND</code></strong></p>\n\n<pre><code># Perl code\n$sr &amp;= $gf::field\n\n// C# code\nsr = sr &amp; gf.field // or whatever you've named $gf::field\n</code></pre>\n\n<p><strong>Edit following OP comment</strong></p>\n\n<p>OP asked whether:</p>\n\n<pre><code>if ($sr &amp; (1&lt;&lt;$cwl))\n</code></pre>\n\n<p>Can be translated to:</p>\n\n<pre><code>cwl=1 &lt;&lt; cwl;\nif (Convert.ToBoolean(sr) &amp; Convert.ToBoolean(cwl))\n</code></pre>\n\n<p>I think you've made an error here.  <code>cwl</code> is <em>not</em> reassigned in the original <code>if</code> statement in Perl.</p>\n\n<p>In fact, the logic of the operation is to say:</p>\n\n<ul>\n<li>Is <code>sr</code> bitwise <code>AND</code> 1 left-shifted by <code>cwl</code> true?</li>\n</ul>\n\n<p>I'd be tempted to rewrite the Perl code to:</p>\n\n<pre><code>if ((sr &amp; (1 &lt;&lt; cwl)) != 0)\n</code></pre>\n\n<p><em>Why</em>? The original statement ascertains whether the result of the <code>if</code> statement is <code>true</code>.  Any non-zero value in Perl is <code>true</code>, therefore we need to perform the operation as per the Perl and test for a non-zero value.</p>\n"}], "owner": {"reputation": 15, "user_id": 12451294, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAe1P5CIFvk-mWjpOeVjwWAly8wJCDC_9hj_XES=k-s128", "display_name": "Helena Oliveira", "link": "https://stackoverflow.com/users/12451294/helena-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 59087426, "answer_count": 1, "score": 1, "last_activity_date": 1574943164, "creation_date": 1574938733, "question_id": 59087296, "link": "https://stackoverflow.com/questions/59087296/perl-and-meaning", "title": "Perl &lt;&lt;= and ^= Meaning", "body": "<p>Hello I\u00b4m trying to convert a bunch of Perl scripts to C#. \nA have this piece of code and I don\u00b4t know what &lt;&lt;=, ^=, &amp;= means. Can someone please tell me the meaning of the part (???) too?. Thanks in advance.</p>\n\n<pre><code>$cwl = 6;\n$sr = 1;\n    for ($i=0; $i&lt;$gf::field; $i++) {\n        $gf::log[$sr] = $i;\n        $gf::alog[$i] = $sr;\n        $sr &lt;&lt;= 1;\n        if ($sr &amp; (1&lt;&lt;$cwl)) {$sr ^= $prim} (???)\n        $sr &amp;= $gf::field;\n    }\n</code></pre>\n"}, {"tags": ["perl", "mxnet"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1574937510, "post_id": 59086743, "comment_id": 104409112, "body": "Please, copy the text rather than posting a screenshot."}], "answers": [{"tags": [], "owner": {"reputation": 1769, "user_id": 5791702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67491242fc6c826b5e1445780981e8af?s=128&d=identicon&r=PG&f=1", "display_name": "tsnowlan", "link": "https://stackoverflow.com/users/5791702/tsnowlan"}, "is_accepted": true, "score": 0, "last_activity_date": 1574938299, "creation_date": 1574938299, "answer_id": 59087147, "question_id": 59086743, "link": "https://stackoverflow.com/questions/59086743/installing-aimxnet-on-perl-5-24/59087147#59087147", "title": "Installing AI::MXNet on Perl 5.24", "body": "<p>Note the specific error message: <code>error: mxnet_wrap.o: No such file or directory</code></p>\n\n<p>You need to compile/install MXNet before installing the perl module. See the documentation for details on <a href=\"https://mxnet.apache.org/get_started/ubuntu_setup.html#build-the-shared-library\" rel=\"nofollow noreferrer\">building the shared library</a> and <a href=\"https://mxnet.apache.org/get_started/ubuntu_setup.html#install-the-mxnet-package-for-perl\" rel=\"nofollow noreferrer\">installing the perl module</a>.</p>\n"}], "owner": {"reputation": 36, "user_id": 5080088, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-enHC44r4RSw/AAAAAAAAAAI/AAAAAAAAAAA/yR1NkzfAXgM/photo.jpg?sz=128", "display_name": "Pankaj Singh", "link": "https://stackoverflow.com/users/5080088/pankaj-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 59087147, "answer_count": 1, "score": 0, "last_activity_date": 1574938299, "creation_date": 1574937112, "question_id": 59086743, "link": "https://stackoverflow.com/questions/59086743/installing-aimxnet-on-perl-5-24", "title": "Installing AI::MXNet on Perl 5.24", "body": "<p>I am unable to install AI::MXNet module on Perl version > 5.24 using Windows 10 and ubuntu 16. I have tried using ppm install AI::MXNet , cpanm install AI::MXNet and cpan install AI::MXNet. I have attached the error message that is being returned. Has anyone has had any success in installing this module.\n<a href=\"https://i.stack.imgur.com/2s7tL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2s7tL.png\" alt=\"I have attached error message that is being returned\"></a></p>\n"}, {"tags": ["perl", "for-loop", "multidimensional-array", "while-loop"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1574937116, "creation_date": 1574937116, "answer_id": 59086744, "question_id": 59086652, "link": "https://stackoverflow.com/questions/59086652/fill-multidimensional-array-with-two-variables-in-loop/59086744#59086744", "title": "Fill Multidimensional Array with two variables in loop", "body": "<p>Just use anonymous arrays:</p>\n\n<pre><code>my @outer;\npush @outer, [ \"Hello$_\", [ [], [] ] ] for 1 .. 3;\n</code></pre>\n\n<p>or even </p>\n\n<pre><code>my @outer = map [ \"Hello$_\", [ [], [] ] ], 1 .. 3;\n</code></pre>\n\n<p>If you want to use the inner array, declare it inside the loop, otherwise you're reusing the same array again and again:</p>\n\n<pre><code>my @outer;\nfor (1 .. 3) {\n    my @inner = ( \"Hello$_\", [ [], [] ] );\n    push @outer, \\@inner;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8719393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f421434edfed1f38275ddb21d7ef565?s=128&d=identicon&r=PG&f=1", "display_name": "srcalex", "link": "https://stackoverflow.com/users/8719393/srcalex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 59086744, "answer_count": 1, "score": 0, "last_activity_date": 1574937116, "creation_date": 1574936796, "question_id": 59086652, "link": "https://stackoverflow.com/questions/59086652/fill-multidimensional-array-with-two-variables-in-loop", "title": "Fill Multidimensional Array with two variables in loop", "body": "<p>I am new to PERL and I try to get the following result in a loop:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># ResultFistStep.\n$VAR1 = [\n          [\n            'Hello1'\n          ],\n          [\n            'Hello2'\n          ],\n          [\n            'Hello3'\n          ],\n        ];\n</code></pre>\n\n<p>But if i use a reference for the InnerArray <code>\\@InnerArray</code>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># Example1\nmy @OuterArray;\nmy @InnerArray;\n\nforeach(1,2,3)\n{\n    @InnerArray[0] = \"Hello\" . $_;\n    push(@OuterArray, \\@InnerArray);\n}\nprint Dumper \\@OuterArray;\n</code></pre>\n\n<p>... i get this result:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$VAR1 = [\n          [\n            'Hello3'\n          ],\n          $VAR1-&gt;[0],\n          $VAR1-&gt;[0]\n        ];\n</code></pre>\n\n<p>If i try it without the reference:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># Example2\nmy @OuterArray;\nmy @InnerArray;\n\nforeach(1,2,3)\n{\n    @InnerArray[0] = \"Hello\" . $_;\n    push(@OuterArray, @InnerArray);\n}\nprint Dumper \\@OuterArray;\n</code></pre>\n\n<p>.. i get this result:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$VAR1 = [\n          'Hello1',\n          'Hello2',\n          'Hello3'\n        ];\n</code></pre>\n\n<p>But what i want is the result shown at the beginning (<strong>ResultFistStep</strong>) and at some point in the end the following result (<strong>ResultFinally</strong>):</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code># ResultFinally\n$VAR1 = [\n          [\n            'Hello1', \n            [\n               [], \n               []\n            ]\n          ],\n          [\n            'Hello2', \n            [\n               [], \n               []\n            ]\n          ],\n          [\n            'Hello3', \n            [\n               [], \n               []\n            ]\n          ],\n        ];\n</code></pre>\n\n<p>So the questions are: </p>\n\n<ol>\n<li>How do i get this result for the <strong>ResultFirstStep</strong> done?</li>\n<li>Can i solve the problem from <strong>ResultFinally</strong> with Perl?</li>\n</ol>\n\n<p>Can please someone help me? I dont see the mistake.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574937010, "post_id": 59086500, "comment_id": 104408829, "body": "Without seeing the script, we can&#39;t tell. 5.8.4 is from 2004, 5.16.3 is from 2013, that&#39;s nine years of development. But the differences shouldn&#39;t be substantial, Perl tries to keep backward compatibility where possible."}, {"owner": {"reputation": 1, "user_id": 7373339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2fe2af66e7008dc36479d411afc14a?s=128&d=identicon&r=PG&f=1", "display_name": "CornerH", "link": "https://stackoverflow.com/users/7373339/cornerh"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1574945038, "post_id": 59086500, "comment_id": 104413166, "body": "There are around 10/11 small scripts and a couple of larger scripts. Mostly for formatting data, like shifting columns in a csv, adding prefixes to column entries etc."}], "answers": [{"tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 0, "last_activity_date": 1574937062, "creation_date": 1574937062, "answer_id": 59086732, "question_id": 59086500, "link": "https://stackoverflow.com/questions/59086500/will-perl-5-8-4-scripts-work-with-perl-5-16-3/59086732#59086732", "title": "Will perl 5.8.4 scripts work with perl 5.16.3?", "body": "<p>Yes. Perl is almost always backwards compatible. That's its biggest strength and at the same the time its biggest problem.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 7373339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2fe2af66e7008dc36479d411afc14a?s=128&d=identicon&r=PG&f=1", "display_name": "CornerH", "link": "https://stackoverflow.com/users/7373339/cornerh"}, "edited": false, "score": 0, "creation_date": 1574941893, "post_id": 59088068, "comment_id": 104411526, "body": "I am using a CentOS minimal install VM. That&#39;s why no pre-installed Perl."}, {"owner": {"reputation": 1, "user_id": 7373339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2fe2af66e7008dc36479d411afc14a?s=128&d=identicon&r=PG&f=1", "display_name": "CornerH", "link": "https://stackoverflow.com/users/7373339/cornerh"}, "edited": false, "score": 0, "creation_date": 1574941984, "post_id": 59088068, "comment_id": 104411564, "body": "Is it possible at all to install same 5.8.4 in CentOS 7 manually since yum will always get the latest version?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 7373339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2fe2af66e7008dc36479d411afc14a?s=128&d=identicon&r=PG&f=1", "display_name": "CornerH", "link": "https://stackoverflow.com/users/7373339/cornerh"}, "edited": false, "score": 0, "creation_date": 1574945961, "post_id": 59088068, "comment_id": 104413675, "body": "@CornerH: You could use something like <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a> to install a different version of Perl. But I&#39;d strongly recommend upgrading to a newer version of Perl over installing an older version. 5.8.4 was released over 15 years ago."}, {"owner": {"reputation": 1, "user_id": 7373339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2fe2af66e7008dc36479d411afc14a?s=128&d=identicon&r=PG&f=1", "display_name": "CornerH", "link": "https://stackoverflow.com/users/7373339/cornerh"}, "edited": false, "score": 0, "creation_date": 1574947506, "post_id": 59088068, "comment_id": 104414462, "body": "Not sure about perlbrew,  believe it might be perceived as unsafe in a production environment. But, it makes sense to go with the newer version of Perl. Thanks."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1574941232, "creation_date": 1574941232, "answer_id": 59088068, "question_id": 59086500, "link": "https://stackoverflow.com/questions/59086500/will-perl-5-8-4-scripts-work-with-perl-5-16-3/59088068#59088068", "title": "Will perl 5.8.4 scripts work with perl 5.16.3?", "body": "<p>Probably. Perl puts a lot of effort into maintaining backwards compatibility and most things will probably work. Having said that, there have been things that have changed which will potentially cause problems. The best solution is to set up a test environment with the new version of Perl and to run your test suite there. If you don't have a test suite, then the best idea is to not change anything at all until you have written a test suite!</p>\n\n<p>I'm a little concerned that you're running <code>yum install perl</code>. Centos 7 comes with Perl installed as default. You shouldn't have to install it. You might, however, like to run <code>yum install perl-core</code> to ensure that you have a full Perl environment available.</p>\n"}], "owner": {"reputation": 1, "user_id": 7373339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2fe2af66e7008dc36479d411afc14a?s=128&d=identicon&r=PG&f=1", "display_name": "CornerH", "link": "https://stackoverflow.com/users/7373339/cornerh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 59088068, "answer_count": 2, "score": 0, "last_activity_date": 1574944835, "creation_date": 1574936352, "last_edit_date": 1574944835, "question_id": 59086500, "link": "https://stackoverflow.com/questions/59086500/will-perl-5-8-4-scripts-work-with-perl-5-16-3", "title": "Will perl 5.8.4 scripts work with perl 5.16.3?", "body": "<p>Will perl 5.8.4 scripts work with perl 5.16.3?</p>\n\n<p>I was trying to install perl in CentOS 7. Default version seems to be 5.16. </p>\n\n<p>Will perl 5.8.4 scripts work correctly in 5.16?</p>\n\n<p>This is what I tried. Looks like default version is 5.16. Hence the question.</p>\n\n<pre><code>sudo yum install perl\n\n================================================================================\n Package                    Arch       Version                   Repository\n                                                                           Size\n================================================================================\nInstalling:\n perl                       x86_64     4:5.16.3-294.el7_6        base     8.0 M\nInstalling for dependencies:\n perl-Carp                  noarch     1.26-244.el7              base      19 k\n perl-Encode                x86_64     2.51-7.el7                base     1.5 M\n perl-Exporter              noarch     5.68-3.el7                base      28 k\n perl-File-Path             noarch     2.09-2.el7                base      26 k\n perl-File-Temp             noarch     0.23.01-3.el7             base      56 k\n perl-Filter                x86_64     1.49-3.el7                base      76 k\n perl-Getopt-Long           noarch     2.40-3.el7                base      56 k\n perl-HTTP-Tiny             noarch     0.033-3.el7               base      38 k\n perl-PathTools             x86_64     3.40-5.el7                base      82 k\n perl-Pod-Escapes           noarch     1:1.04-294.el7_6          base      51 k\n perl-Pod-Perldoc           noarch     3.20-4.el7                base      87 k\n perl-Pod-Simple            noarch     1:3.28-4.el7              base     216 k\n perl-Pod-Usage             noarch     1.63-3.el7                base      27 k\n perl-Scalar-List-Utils     x86_64     1.27-248.el7              base      36 k\n perl-Socket                x86_64     2.010-4.el7               base      49 k\n perl-Storable              x86_64     2.45-3.el7                base      77 k\n perl-Text-ParseWords       noarch     3.29-4.el7                base      14 k\n perl-Time-HiRes            x86_64     4:1.9725-3.el7            base      45 k\n perl-Time-Local            noarch     1.2300-2.el7              base      24 k\n perl-constant              noarch     1.27-2.el7                base      19 k\n perl-libs                  x86_64     4:5.16.3-294.el7_6        base     688 k\n perl-macros                x86_64     4:5.16.3-294.el7_6        base      44 k\n perl-parent                noarch     1:0.225-244.el7           base      12 k\n perl-podlators             noarch     2.5.1-3.el7               base     112 k\n perl-threads               x86_64     1.87-4.el7                base      49 k\n perl-threads-shared        x86_64     1.43-6.el7                base      39 k\n\nTransaction Summary\n================================================================================\nInstall  1 Package (+26 Dependent packages)\n\nTotal download size: 11 M\nInstalled size: 36 M\nIs this ok [y/d/N]: N\n</code></pre>\n"}, {"tags": ["bash", "shell", "perl"], "comments": [{"owner": {"reputation": 737, "user_id": 4026408, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GKuteVz9wxM/AAAAAAAAAAI/AAAAAAAAAII/7-T9yB-6iFI/photo.jpg?sz=128", "display_name": "fra", "link": "https://stackoverflow.com/users/4026408/fra"}, "edited": false, "score": 0, "creation_date": 1574935138, "post_id": 59086064, "comment_id": 104407824, "body": "have you tried with <code>perl test.pl $1</code> ?"}, {"owner": {"reputation": 3, "user_id": 11322259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w2H9JVxqcFg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcdQW5JOVXIqMcCrZaRIN0lFq1qKQ/mo/photo.jpg?sz=128", "display_name": "aimee", "link": "https://stackoverflow.com/users/11322259/aimee"}, "reply_to_user": {"reputation": 737, "user_id": 4026408, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-GKuteVz9wxM/AAAAAAAAAAI/AAAAAAAAAII/7-T9yB-6iFI/photo.jpg?sz=128", "display_name": "fra", "link": "https://stackoverflow.com/users/4026408/fra"}, "edited": false, "score": 0, "creation_date": 1575354866, "post_id": 59086064, "comment_id": 104527757, "body": "@fra thank you! switching out $i for $1 helped!"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11322259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w2H9JVxqcFg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcdQW5JOVXIqMcCrZaRIN0lFq1qKQ/mo/photo.jpg?sz=128", "display_name": "aimee", "link": "https://stackoverflow.com/users/11322259/aimee"}, "edited": false, "score": 0, "creation_date": 1575355042, "post_id": 59086313, "comment_id": 104527820, "body": "You and @fra were correct.  The trailing backquote was a typo that I didn&#39;t realize was there and changing out the positional parameter from --$i to --%1 helped make my script run."}], "tags": [], "owner": {"reputation": 2454, "user_id": 4373898, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iv9fB-QtuE0/AAAAAAAAAAI/AAAAAAAAAoQ/iXlMjqkhDDk/photo.jpg?sz=128", "display_name": "AlexisBRENON", "link": "https://stackoverflow.com/users/4373898/alexisbrenon"}, "is_accepted": true, "score": 1, "last_activity_date": 1574935749, "creation_date": 1574935749, "answer_id": 59086313, "question_id": 59086064, "link": "https://stackoverflow.com/questions/59086064/how-do-i-write-a-shell-script-that-takes-a-data-file-name-as-an-argument-to-run/59086313#59086313", "title": "How do I write a shell script that takes a data file name as an argument to run my perl script?", "body": "<p>I think your error comes from the <code>$i`</code> part.</p>\n\n<p>First the trailing backquote is probably a typo and should raise a syntax error. Second, the <code>i</code> variable is not defined, so <code>$i</code> resolve to an empty string. As it is not quoted, shell will omit it and call <code>test.pl</code> without any arguments... Thus your terminal is probably hanging because your perl script is waiting for input.</p>\n\n<p>As @fra suggested, you should use <code>$1</code> instead of <code>$i</code>, hence passing the first argument passed to your bash script, to your perl script.</p>\n\n<p>Depending on your perl script (shebang, execution write) you may or may not call the perl executable manually.</p>\n"}], "owner": {"reputation": 3, "user_id": 11322259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w2H9JVxqcFg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcdQW5JOVXIqMcCrZaRIN0lFq1qKQ/mo/photo.jpg?sz=128", "display_name": "aimee", "link": "https://stackoverflow.com/users/11322259/aimee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59086313, "answer_count": 1, "score": 0, "last_activity_date": 1574935749, "creation_date": 1574934944, "question_id": 59086064, "link": "https://stackoverflow.com/questions/59086064/how-do-i-write-a-shell-script-that-takes-a-data-file-name-as-an-argument-to-run", "title": "How do I write a shell script that takes a data file name as an argument to run my perl script?", "body": "<p>I am learning Perl and Shell scripting and of the challenges I was given is to write a shell script that takes a csv file as an argument and then have that shell script run my perl script (test.pl).  I can't seem to get the proper syntax down and I have terminate every time because it hangs up my terminal.</p>\n\n<p>For example shell script is <strong>test.sh</strong></p>\n\n<pre><code>#/bin/bash\n./test.pl $i` \n</code></pre>\n\n<p>on my terminal I write type out</p>\n\n<pre><code>test.sh testfile.csv\n</code></pre>\n\n<p>Ultimately I want the test file to be read by my perl script so it can run.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 472, "user_id": 2001559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L1bvT.png?s=128&g=1", "display_name": "Maverick", "link": "https://stackoverflow.com/users/2001559/maverick"}, "edited": false, "score": 0, "creation_date": 1574934668, "post_id": 59085861, "comment_id": 104407538, "body": "Follow this -<a href=\"https://www.cpan.org/modules/INSTALL.html\" rel=\"nofollow noreferrer\">cpan.org/modules/INSTALL.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 0, "last_activity_date": 1574934728, "creation_date": 1574934728, "answer_id": 59085995, "question_id": 59085861, "link": "https://stackoverflow.com/questions/59085861/how-to-install-the-parallelforkmanager-module/59085995#59085995", "title": "how to install the Parallel::ForkManager module?", "body": "<p>Strawberry Perl comes with the cpan package</p>\n\n<pre><code>cpan -i Parallel::ForkManager\n</code></pre>\n\n<p>should work</p>\n"}], "owner": {"reputation": 1, "user_id": 12450922, "user_type": "registered", "profile_image": "https://graph.facebook.com/795118177595377/picture?type=large", "display_name": "\u1798\u17bb\u1793\u17d2\u1793\u17b8 \u17a7\u178f\u17d2\u178f\u1798", "link": "https://stackoverflow.com/users/12450922/%e1%9e%98%e1%9e%bb%e1%9e%93%e1%9f%92%e1%9e%93%e1%9e%b8-%e1%9e%a7%e1%9e%8f%e1%9f%92%e1%9e%8f%e1%9e%98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 891, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574937879, "creation_date": 1574934340, "last_edit_date": 1574937879, "question_id": 59085861, "link": "https://stackoverflow.com/questions/59085861/how-to-install-the-parallelforkmanager-module", "title": "how to install the Parallel::ForkManager module?", "body": "<p>Can't locate <code>Parallel/ForkManager.pm</code> in <code>@INC</code> (you may need to install the <code>Parallel::ForkManager</code> module) (<code>@INC</code> contains: <code>C:/Strawberry/perl/site/lib</code>,  <code>C:/Strawberry/perl/vendor/lib</code>, <code>C:/Strawberry/perl/lib</code>)</p>\n"}, {"tags": ["regex", "perl", "diacritics", "strawberry-perl"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 2611147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/687a1b3244d5152f7159cec1e52e4136?s=128&d=identicon&r=PG", "display_name": "wreggyl", "link": "https://stackoverflow.com/users/2611147/wreggyl"}, "edited": false, "score": 1, "creation_date": 1574931826, "post_id": 59084583, "comment_id": 104406000, "body": "hi, thx this is working. Do you have a explanation for this behaviour? it looks like the match pointer is saved?"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 1, "last_activity_date": 1574929935, "creation_date": 1574929935, "answer_id": 59084583, "question_id": 59083800, "link": "https://stackoverflow.com/questions/59083800/matching-german-umlaut-with-regexp-correctly-twice/59084583#59084583", "title": "matching german umlaut with regexp correctly twice", "body": "<p>The problem is the <code>global</code> flag. Remove it.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10628052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c6a0a581f4115e8c43f97af9043d2d9?s=128&d=identicon&r=PG&f=1", "display_name": "D. Bachran", "link": "https://stackoverflow.com/users/10628052/d-bachran"}, "is_accepted": false, "score": 3, "last_activity_date": 1574981304, "creation_date": 1574981304, "answer_id": 59096918, "question_id": 59083800, "link": "https://stackoverflow.com/questions/59083800/matching-german-umlaut-with-regexp-correctly-twice/59096918#59096918", "title": "matching german umlaut with regexp correctly twice", "body": "<p>As <a href=\"https://stackoverflow.com/users/46395/daxim\">@daxim</a> explained, the global flag <code>/g</code> causes havoc here.</p>\n\n<p>From <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">Regexp Quote-Like Operators</a>, important section highlighted in <strong>bold</strong>:</p>\n\n<blockquote>\n  <p>In scalar context, each execution of <code>m//g</code> finds the next match,\n  returning true if it matches, and false if there is no further match.\n  The position after the last match can be read or set using the <a href=\"https://perldoc.perl.org/functions/pos.html\" rel=\"nofollow noreferrer\"><code>pos()</code></a>\n  function. <strong>A failed match</strong> normally <strong>resets the\n  search position to the beginning of the string</strong>, but you can avoid\n  that by adding the <code>/c</code> modifier (for example, <code>m//gc</code>). Modifying the\n  target string also resets the search position.</p>\n</blockquote>\n\n<p>Since you repeatedly search within the same <code>$string</code> (without modifying it in between), each second search continues after the last successful match, resulting in a failure and resetting the search position for the next search.</p>\n\n<p>See also \"Global matching\" in <a href=\"https://perldoc.perl.org/perlretut.html#Using-regular-expressions-in-Perl\" rel=\"nofollow noreferrer\">Using regular expressions in Perl</a>:</p>\n\n<blockquote>\n  <p>The modifier <code>/g</code> stands for global matching and allows the matching\n  operator to match within a string as many times as possible. In scalar\n  context, successive invocations against a string will have <code>/g</code> jump\n  from match to match, keeping track of position in the string as it\n  goes along. You can get or set the position with the <a href=\"https://perldoc.perl.org/functions/pos.html\" rel=\"nofollow noreferrer\"><code>pos()</code></a>\n  function.</p>\n</blockquote>\n\n<p>ciao, daniel :-)</p>\n"}], "owner": {"reputation": 83, "user_id": 2611147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/687a1b3244d5152f7159cec1e52e4136?s=128&d=identicon&r=PG", "display_name": "wreggyl", "link": "https://stackoverflow.com/users/2611147/wreggyl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 59084583, "answer_count": 2, "score": 2, "last_activity_date": 1575664072, "creation_date": 1574926630, "last_edit_date": 1575664072, "question_id": 59083800, "link": "https://stackoverflow.com/questions/59083800/matching-german-umlaut-with-regexp-correctly-twice", "title": "matching german umlaut with regexp correctly twice", "body": "<p>i have a small script, which match via regexp if a string contains german umlauts like \u00e4\u00f6\u00fc\u00df. In the first regexp match everything is working fine, but if i check the same string again it does not longer match correctly. The file itself is encoded as utf8 and i am also including the utf8 module.</p>\n\n<p>this is the script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings FATAL =&gt; 'all';\nuse utf8;\nuse Log4Perl::logger_helper qw( init_logger get_logger_and_trace );\n\nmy $strings = [\"\u00e4\", \"ae\",\"\u00f6\", \"oe\", \"\u00fc\", \"ue\", \"\u00df\", \"ss\"];\n\nmy $logger = init_logger(\n    log_file_path =&gt; $0 . '.log'\n);    # init_logger variables are all optional\n\nforeach my $string (@$strings) {\n    for(1..5) {\n        if ( $string =~ /[\\x{00C4}\\x{00E4}\\x{00D6}\\x{00F6}\\x{00DC}\\x{00FC}\\x{00DF}]/gi ) {\n            $logger-&gt;info(\"umlauts match $string\");\n        }\n        else {\n            $logger-&gt;info(\"no umlauts $string\");\n        }\n    }\n }\n</code></pre>\n\n<p>and this is the output:</p>\n\n<pre><code>umlauts match \u00e4\nno umlauts \u00e4\numlauts match \u00e4\nno umlauts \u00e4\numlauts match \u00e4\nno umlauts ae\nno umlauts ae\nno umlauts ae\nno umlauts ae\nno umlauts ae\numlauts match \u00f6\nno umlauts \u00f6\numlauts match \u00f6\nno umlauts \u00f6\numlauts match \u00f6\nno umlauts oe\nno umlauts oe\nno umlauts oe\nno umlauts oe\nno umlauts oe\numlauts match \u00fc\nno umlauts \u00fc\numlauts match \u00fc\nno umlauts \u00fc\numlauts match \u00fc\nno umlauts ue\nno umlauts ue\nno umlauts ue\nno umlauts ue\nno umlauts ue\numlauts match \u00df\nno umlauts \u00df\numlauts match \u00df\nno umlauts \u00df\numlauts match \u00df\nno umlauts ss\nno umlauts ss\nno umlauts ss\nno umlauts ss\nno umlauts ss\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>I tested it on different OS with different version of strawberry perl, also latest version (strawberry-perl-5.30.0.1-64bit-portable) is shown this error for me.</p>\n\n<p>Any idea why it is matching alterating correctly? If i do the same with multiple index operations it is working.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "wget"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1574955324, "last_edit_date": 1574955324, "creation_date": 1574940868, "answer_id": 59087960, "question_id": 59082847, "link": "https://stackoverflow.com/questions/59082847/pull-information-from-webpage-using-wget-and-perl-script/59087960#59087960", "title": "Pull information from webpage using wget and Perl Script", "body": "<p>Your major problem seems to be that you're looking at the wrong table. There are multiple tables on that page and you can use the <code>attribs</code> parameter when creating your parser object in order to return the one you're interested in.</p>\n\n<pre><code>my $tec = HTML::TableExtract-&gt;new(attribs =&gt; {id =&gt; 'programming_data' });\n</code></pre>\n\n<p>Having added that, your code will print the info for all the channels. Then you need to create a way to identify the channels you're interested in. I used a regex:</p>\n\n<pre><code>my @channels = qw(2.1 4.1 7.1);\nmy $channel_re = '\\b(' . join('|', map { quotemeta } @channels) . ')\\b';\n</code></pre>\n\n<p>And in the main loop, you can skip channels that you aren't interested in:</p>\n\n<pre><code>next unless $rowref-&gt;[0] =~ /$channel_re/;\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 11123099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae188116aa179b4e483731bc995753c8?s=128&d=identicon&r=PG&f=1", "display_name": "dydx", "link": "https://stackoverflow.com/users/11123099/dydx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "accepted_answer_id": 59087960, "answer_count": 1, "score": 3, "last_activity_date": 1575012613, "creation_date": 1574922180, "last_edit_date": 1575012613, "question_id": 59082847, "link": "https://stackoverflow.com/questions/59082847/pull-information-from-webpage-using-wget-and-perl-script", "title": "Pull information from webpage using wget and Perl Script", "body": "<p>The purpose of this Perl script is to pull information from webpage using wget and Perl. In this case, this is the website I am trying to extract information from: <a href=\"https://nocable.org/tv-listings/bm95-pomona-ca-91768\" rel=\"nofollow noreferrer\">https://nocable.org/tv-listings/bm95-pomona-ca-91768</a></p>\n\n<p>I only want the title to display. For example,</p>\n\n<pre><code>2.1 - The Ellen Degeneress Show\n4.1 - NBC News\n7.1 - Hell's Kitchen\n</code></pre>\n\n<p>And that's it. </p>\n\n<p>This is what I have so far, but I'm not sure if I'm doing it right or wrong. Can anyone help or give some kind of advice on what to do to display just channel 2.1, 4.1 and 7.1 with the title only? Specifically with wget and Perl script. Any response is appreciated it, as I am still learning about Perl. </p>\n\n<hr>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse LWP::Simple;\nuse HTML::TableExtract;\n\nuse open qw(:encoding(UTF-8) :std);\n\nmy $url = ' https://nocable.org/tv-listings/bm95-pomona-ca-91768';\nmy $page = get($url) or die \"Can't load $url: $!\";\n\nmy $tec = HTML::TableExtract-&gt;new();\n$tec-&gt;parse($page);\n\nforeach my $rowref ($tec-&gt;rows) \n{\n    next if not @$rowref;\n\n    # Clean up undefined/whitespace/newlines, often found in HTML\n    my @row = map { \n        $_ = '' if not defined;  # keep undefined fields for formatting\n        s/^\\s*|\\s*$//g;          #/ leading and trailing whitespace\n        s/\\s+|\\n/ /g;            # multiple spaces, newlines\n        $_                       # return it\n    } @$rowref;\n\n    say join ' | ', @row;\n }\n</code></pre>\n"}, {"tags": ["mysql", "perl", "mariadb", "dbi"], "comments": [{"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 3, "creation_date": 1574907727, "post_id": 59080807, "comment_id": 104398543, "body": "What was the error message?"}, {"owner": {"reputation": 11, "user_id": 4839367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce7616aeea940620bdfa2b5d6669b92?s=128&d=identicon&r=PG&f=1", "display_name": "user4839367", "link": "https://stackoverflow.com/users/4839367/user4839367"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1574909601, "post_id": 59080807, "comment_id": 104398881, "body": "The error I am getting is:  install_driver(mysql) failed: Can&#39;t load &#39;/usr/local/lib64/perl5/auto/DBD/mysql/mysql.so&#39; for module DBD::mysql: libmysqlclient.so.20: cannot open shared object file: No such file or directory at /usr/lib64/perl5/DynaLoader.pm line 190, &lt;FHANDLE&gt; line 1.  at (eval 3) line 3. Compilation failed in require at (eval 3) line 3, &lt;FHANDLE&gt; line 1. Perhaps a required shared library or dll isn&#39;t installed where expected  at ./update_db_local.pl line 50."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1574910268, "post_id": 59080807, "comment_id": 104399001, "body": "You probably have to reinstall DBD::mysql to have a version that links against the new .so (From within the <code>cpan</code> shell, issue <code>force test DBD::mysql</code> then <code>force install DBD::mysql</code> if and only if the tests succeeded.)"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4839367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce7616aeea940620bdfa2b5d6669b92?s=128&d=identicon&r=PG&f=1", "display_name": "user4839367", "link": "https://stackoverflow.com/users/4839367/user4839367"}, "is_accepted": false, "score": 1, "last_activity_date": 1574913139, "creation_date": 1574913139, "answer_id": 59081488, "question_id": 59080807, "link": "https://stackoverflow.com/questions/59080807/perl-script-that-has-worked-with-mysql-for-years-no-longer-works-after-upgrading/59081488#59081488", "title": "Perl script that has worked with MySQL for years no longer works after upgrading to MariaDB", "body": "<p>Found the problem: The path to the Perl libs at the top of the script has changed.  This:</p>\n\n<pre><code>#!/usr/bin/perl\n</code></pre>\n\n<p>needed to be changed to:</p>\n\n<pre><code>#!/usr/local/cpanel/3rdparty/bin/perl\n</code></pre>\n\n<p>It was specific to the setup of the server which may have changed during an update. Thanks!</p>\n"}], "owner": {"reputation": 11, "user_id": 4839367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce7616aeea940620bdfa2b5d6669b92?s=128&d=identicon&r=PG&f=1", "display_name": "user4839367", "link": "https://stackoverflow.com/users/4839367/user4839367"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574913139, "creation_date": 1574906889, "question_id": 59080807, "link": "https://stackoverflow.com/questions/59080807/perl-script-that-has-worked-with-mysql-for-years-no-longer-works-after-upgrading", "title": "Perl script that has worked with MySQL for years no longer works after upgrading to MariaDB", "body": "<p>I created this Perl script to update a bunch of CMS installations automatically.  It has worked for years.  Now it is failing when attempting to connect to each of the databases.  This occurred after updating all of the databases from MySQL 5.7 to MariaDB 10.3.  The line it fails on is pretty basic:</p>\n\n<pre><code>$dbh = DBI-&gt;connect($db_str, $user_str, $pass_str);\n</code></pre>\n\n<p>The $db_str is constructed in this line:</p>\n\n<pre><code>$db_str = \"DBI:mysql:\" . $database . \":localhost\";\n</code></pre>\n\n<p>If figure it has to be one of two things: Either the connection string needs to be different for MariaDB, or there is a missing Perl library for MariaDB. But I am new to MariaDB, so I do not know.</p>\n"}]