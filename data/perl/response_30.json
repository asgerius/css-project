[{"tags": ["perl", "multicore"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1438813204, "post_id": 31843540, "comment_id": 51609060, "body": "You&#39;ll need to benchmark"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438848622, "post_id": 31843540, "comment_id": 51620729, "body": "There are a lot of examples in the MCE distribution. Some of them contain the <code>chunk_size</code> in comments and code. Have you looked there?"}, {"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438867772, "post_id": 31843540, "comment_id": 51633683, "body": "@ikegami I did some benchmarking, but I&#39;m a little unsure what to make of the results. I took a sample of log files (~300,000 entries) and just timed them using the different chunk sizes. A chunk size of 1 completes in 39s while a chunk size of &#39;auto&#39; takes 49s. This is the opposite of what I was expecting. Does this mean there&#39;s something else in my code that&#39;s a bottle neck or are there conditions where a chunk size of 1 is appropriate?"}, {"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438867963, "post_id": 31843540, "comment_id": 51633827, "body": "@simbabque Thanks I did look at some of those examples, but given what I just saw in my benchmark I only have more questions. Is a chunk size of 1 perfectly normal for certain applications? The examples and documentation suggest it, but I&#39;m not sure under what conditions that is applicable."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1438869535, "post_id": 31843540, "comment_id": 51634979, "body": "I think you are best off asking the author. In general CPAN authors are normal people that are very approachable. They will usually be happy to hear about your use case of their module and provide help with it, especially if it&#39;s not a standard thing. For those, IRC is the place to go if you want to talk to the behind the scenes people. If you are unsure about that I recommend SawyerX&#39;s YAPC keynote <a href=\"https://youtu.be/M-VKSCgIgo0\" rel=\"nofollow noreferrer\"><i>The joy in what we do</i></a>"}, {"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438873519, "post_id": 31843540, "comment_id": 51638108, "body": "@simbabque Thanks for the advice, I might do that. I&#39;ll watch the keynote over lunch, sounds interesting (the &quot;I&#39;m going to swear&quot; intro was great haha)."}, {"owner": {"reputation": 222, "user_id": 1810910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d4dad0b7bca64515c3968b870410abf?s=128&d=identicon&r=PG", "display_name": "Mario Roy", "link": "https://stackoverflow.com/users/1810910/mario-roy"}, "edited": false, "score": 1, "creation_date": 1439514723, "post_id": 31843540, "comment_id": 51904953, "body": "@Sgt B. That is an interesting use case. The chunk_size is hard-coded to 245_760 (240k) for STDIN when &#39;auto&#39; is specified. A chunk size value of 8192 or lower means the number of lines to read. A value higher than 8192 means the number of bytes to read. MCE automatically reads till the end of the line before passing to the worker. I&#39;m going to do some testing and report back. Perhaps, the default 240k for STDIN (&#39;auto&#39; setting) is too high."}, {"owner": {"reputation": 222, "user_id": 1810910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d4dad0b7bca64515c3968b870410abf?s=128&d=identicon&r=PG", "display_name": "Mario Roy", "link": "https://stackoverflow.com/users/1810910/mario-roy"}, "edited": false, "score": 0, "creation_date": 1439517239, "post_id": 31843540, "comment_id": 51905534, "body": "Am not sure what the OP process is doing. Therefore, is not easy to replicate. A possible reason for a chunk_size value of 1 completing sooner is due to delays from tail. Although, 1000 ~ 2000 events per second is a lot to the observer, there are likely many micro-seconds in between each event. Basically, tiny pauses by tail itself. With that said, try 100 (lines) for chunk_size or &#39;10k&#39; (bytes)."}, {"owner": {"reputation": 222, "user_id": 1810910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d4dad0b7bca64515c3968b870410abf?s=128&d=identicon&r=PG", "display_name": "Mario Roy", "link": "https://stackoverflow.com/users/1810910/mario-roy"}, "edited": false, "score": 1, "creation_date": 1439517621, "post_id": 31843540, "comment_id": 51905617, "body": "There is also the max_workers option. Specifying &#39;auto&#39; (the default for MCE Models) will not go higher than 8. Try max_workers =&gt; MCE::Util::get_ncpu or specify the desired number of workers when running on a box with more than 8 logical cores. Leaving some reserves for for other processes may be beneficial."}, {"owner": {"reputation": 222, "user_id": 1810910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d4dad0b7bca64515c3968b870410abf?s=128&d=identicon&r=PG", "display_name": "Mario Roy", "link": "https://stackoverflow.com/users/1810910/mario-roy"}, "edited": false, "score": 0, "creation_date": 1439519761, "post_id": 31843540, "comment_id": 51906017, "body": "In my testing, tail is the bottleneck. Thus, a chunk size greater than 1 did not help for the tail pipe test. I compared the unix tail with cat and reading the pipe in Perl. Chunking enabled faster reading for the cat pipe test. But, not for tail."}, {"owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "reply_to_user": {"reputation": 222, "user_id": 1810910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d4dad0b7bca64515c3968b870410abf?s=128&d=identicon&r=PG", "display_name": "Mario Roy", "link": "https://stackoverflow.com/users/1810910/mario-roy"}, "edited": false, "score": 0, "creation_date": 1439654917, "post_id": 31843540, "comment_id": 51954738, "body": "@user1810910 Thanks for that feedback and testing and indeed it appears that tail is the bottleneck. When I test on a file I get significant increases when chunking which is expected. With a pipe from tail, no increases. The program itself is designed to monitor logs so the pipe from tail is required. I ended up leaving chunk to auto as the program itself inserts records in bulk and the 240k default chunk size works well. I might play with that a bit, but overall it&#39;s doing its job. Again thanks for the testing, it&#39;s nice to know <i>why</i> I was getting the results I was."}, {"owner": {"reputation": 222, "user_id": 1810910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d4dad0b7bca64515c3968b870410abf?s=128&d=identicon&r=PG", "display_name": "Mario Roy", "link": "https://stackoverflow.com/users/1810910/mario-roy"}, "edited": false, "score": 0, "creation_date": 1516521555, "post_id": 31843540, "comment_id": 83716225, "body": "It has been a while since I&#39;ve logged into SO and glad to read the outcome. I edited my profile which is @user1810910. Cheers."}], "owner": {"reputation": 1171, "user_id": 1813405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5df4d55a2258a0ed227ce388716175c5?s=128&d=identicon&r=PG", "display_name": "Sgt B", "link": "https://stackoverflow.com/users/1813405/sgt-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1438812220, "creation_date": 1438811856, "last_edit_date": 1438812220, "question_id": 31843540, "link": "https://stackoverflow.com/questions/31843540/mce-chunk-size-when-reading-from-stdin", "title": "MCE chunk size when reading from STDIN", "body": "<p>I'm writing a Perl program that processes a high number of log entries. To speed things up I'm using <a href=\"https://metacpan.org/pod/MCE\" rel=\"nofollow\">MCE</a> to create a number of worker processes to handle processing in parallel. So far things are great, but I've found myself trying different chunk sizes in a very unscientific manner. Here's some background before I get to my question.</p>\n\n<p>We're receiving logs from a number of syslog sources and collecting them at a central location. The central syslog server writes these log entries to a single text file. The program in question picks up the logs from this text file, does some munging, and ships them elsewhere. The raw log files are then archived.</p>\n\n<p>To read the log files I'm doing this:</p>\n\n<pre><code>my $tail = 'tail -q -F '.$logdir.$logFile;\nopen my $tail_fh, \"-|\", $tail or die \"Can't open tail\\n\";\n</code></pre>\n\n<p>I'm then using mce_loop_f to iterate over the file handle:</p>\n\n<pre><code>mce_loop_f { my $hr = process($_); MCE-&gt;gather($hr); } $tail_fh;\n</code></pre>\n\n<p>This works well for the most part, but if there is a spike in log activity the program starts to get bogged down. While there are a number of factors to make things \"go faster\" one of those factors I'm a little unsure of is chunk_size in MCE.</p>\n\n<p>I understand that chunk_size has an \"auto\" value, but how would that work on a file handle that is a pipe from tail? Would auto be appropriate here?</p>\n\n<p>What factors should I consider when adjusting the chunk_size? Log entries occur at a rate of 1000-2000 events per second depending on time of day (1000 at night, 2000 during the day).</p>\n\n<p>I'm also a neophyte when it comes to MCE, so if mce_loop_f is a bad idea for this use case, please let me know.</p>\n"}, {"tags": ["python", "regex", "bash", "perl", "for-loop"], "comments": [{"owner": {"reputation": 31, "user_id": 5195640, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S09N9H7u90Y/AAAAAAAAAAI/AAAAAAAAAKI/N2UBsf16fAE/photo.jpg?sz=128", "display_name": "Okan Akca", "link": "https://stackoverflow.com/users/5195640/okan-akca"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1438809308, "post_id": 31842841, "comment_id": 51607425, "body": "I&#39;m sorry but don&#39;t have all of my tryouts with me. Most of them are left at office. For example here is one I tried with php"}, {"owner": {"reputation": 31, "user_id": 5195640, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S09N9H7u90Y/AAAAAAAAAAI/AAAAAAAAAKI/N2UBsf16fAE/photo.jpg?sz=128", "display_name": "Okan Akca", "link": "https://stackoverflow.com/users/5195640/okan-akca"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1438809668, "post_id": 31842841, "comment_id": 51607599, "body": "$re = &quot;/^Table.*$(\\\\n\\\\s.*(failed\\\\s1\\\\.$){0,1})*/m&quot;;   preg_match_all($re,$st,$out);  print_r($out);  ?&gt;"}, {"owner": {"reputation": 31, "user_id": 5195640, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S09N9H7u90Y/AAAAAAAAAAI/AAAAAAAAAKI/N2UBsf16fAE/photo.jpg?sz=128", "display_name": "Okan Akca", "link": "https://stackoverflow.com/users/5195640/okan-akca"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1438844583, "post_id": 31842841, "comment_id": 51618432, "body": "@Cyrus ok mate, done. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5195640, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S09N9H7u90Y/AAAAAAAAAAI/AAAAAAAAAKI/N2UBsf16fAE/photo.jpg?sz=128", "display_name": "Okan Akca", "link": "https://stackoverflow.com/users/5195640/okan-akca"}, "edited": false, "score": 0, "creation_date": 1438846153, "post_id": 31843805, "comment_id": 51619325, "body": "Thanks for the answer. I tried executing first part of your code by saving it is a perl file but having syntax error when I try it.    <code>.&#47;test.pl &lt; logfile </code>   <code>.&#47;test.pl: line 1: syntax error near unexpected token </code>(&#39; `"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 31, "user_id": 5195640, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S09N9H7u90Y/AAAAAAAAAAI/AAAAAAAAAKI/N2UBsf16fAE/photo.jpg?sz=128", "display_name": "Okan Akca", "link": "https://stackoverflow.com/users/5195640/okan-akca"}, "edited": false, "score": 0, "creation_date": 1438868265, "post_id": 31843805, "comment_id": 51634060, "body": "Looks like you try to execute your Perl script using your shell. (That message doesn&#39;t come from Perl.) Do you have a proper shebang line?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1438868510, "last_edit_date": 1438868510, "creation_date": 1438813305, "answer_id": 31843805, "question_id": 31842841, "link": "https://stackoverflow.com/questions/31842841/script-regex-for-log-file-editing/31843805#31843805", "title": "Script/regex for log file editing", "body": "<p>Break the file into groups of lines, then it becomes trivial to extract the data you want from the group. The following shows how to break the file into the groups you want.</p>\n\n<p>When you have the whole file in one variable:</p>\n\n<pre><code>while ($file =~ /\\G ( \\S[^\\n]*\\n (?:(?:[^\\n\\S][^\\n]*)?\\n)* )/xg) {\n   process($1);\n}\n</code></pre>\n\n<p>When reading a line at a time:</p>\n\n<pre><code>my $buf;\nwhile (&lt;&gt;) {\n   if (/^\\S/) {\n      process($buf) if length($buf);\n      $buf = '';\n   }\n\n   $buf .= $_;\n}\n\nprocess($buf) if length($buf);\n</code></pre>\n\n<p><code>process</code> is quite trivial.</p>\n\n<pre><code>sub process {\n   for ($_[0]) {\n      print\n         if /^Table /\n         &amp;&amp; /, failed (\\d+)\\.$/m\n         &amp;&amp; $1 &gt; 0;\n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5195640, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S09N9H7u90Y/AAAAAAAAAAI/AAAAAAAAAKI/N2UBsf16fAE/photo.jpg?sz=128", "display_name": "Okan Akca", "link": "https://stackoverflow.com/users/5195640/okan-akca"}, "edited": false, "score": 0, "creation_date": 1439196134, "post_id": 31856414, "comment_id": 51743251, "body": "Thank you very much for your time and help! One last question. How can I edit this code in order to point a file to search from and forward my output to a different file?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user447688"}, "reply_to_user": {"reputation": 31, "user_id": 5195640, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S09N9H7u90Y/AAAAAAAAAAI/AAAAAAAAAKI/N2UBsf16fAE/photo.jpg?sz=128", "display_name": "Okan Akca", "link": "https://stackoverflow.com/users/5195640/okan-akca"}, "edited": false, "score": 0, "creation_date": 1439202153, "post_id": 31856414, "comment_id": 51746791, "body": "@OkanAkca: edited for file I/O"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user447688"}, "is_accepted": true, "score": 1, "last_activity_date": 1439202116, "last_edit_date": 1439202116, "creation_date": 1438865767, "answer_id": 31856414, "question_id": 31842841, "link": "https://stackoverflow.com/questions/31842841/script-regex-for-log-file-editing/31856414#31856414", "title": "Script/regex for log file editing", "body": "<p>Python-- this isn't the most efficient, but hopefully the algorithm is clear, and it works:</p>\n\n<pre><code>text = '''\nTable TRKGRP1: New table control.\n      TRKGRP1: 1000 tuples checked. Tuple checking still in progress...\n      Completed tuple checking.\n      SUMMARY: Tbl TRKGRP1: tuples checked 1297, passed 1297, failed 0.\nTable TOLLTRKS: New table control.\n      Completed tuple checking.\n      SUMMARY: Tbl TOLLTRKS: tuples checked 3, passed 3, failed 1.\nTable BRANDOPT: New table control.\n      Completed tuple checking.\n      SUMMARY: Tbl BRANDOPT: tuples checked 0, passed 0, failed 0.\nTable C7UPTMR: New table control.\n      Completed tuple checking.\n      SUMMARY: Tbl C7UPTMR: tuples checked 4, passed 4, failed 3.\nTable TOPSCOIN: New table control.\n      Completed tuple checking.\n      SUMMARY: Tbl TOPSCOIN: tuples checked 0, passed 0, failed 2.\n'''\nlines = text.split('\\n')\n</code></pre>\n\n<p>or, from a file</p>\n\n<pre><code>with open('input.txt') as f:\n    lines = f.readlines()\nf.close()\n</code></pre>\n\n<p>then</p>\n\n<pre><code>f = open(\"output.txt\", 'w')\nbuf = []\nshow = False\nfor line in lines:\n    if line.startswith('Table'):\n        if show:\n            f.writelines(buf)\n        buf = []\n        show = True\n    buf.append(line)\n    if line.find('failed 0') &gt;= 0:\n        show = False\nif show:\n    f.writelines(buf)\nf.close()\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5195640, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S09N9H7u90Y/AAAAAAAAAAI/AAAAAAAAAKI/N2UBsf16fAE/photo.jpg?sz=128", "display_name": "Okan Akca", "link": "https://stackoverflow.com/users/5195640/okan-akca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "closed_date": 1438870580, "accepted_answer_id": 31856414, "answer_count": 2, "score": 0, "last_activity_date": 1439202116, "creation_date": 1438808833, "last_edit_date": 1438862322, "question_id": 31842841, "link": "https://stackoverflow.com/questions/31842841/script-regex-for-log-file-editing", "closed_reason": "Not suitable for this site", "title": "Script/regex for log file editing", "body": "<p>I've been trying to write a code for handling the various log files I'm dealing with everyday. I tried writing with bash, perl and python but so far no so good..</p>\n\n<p>Here is a sample of the log:</p>\n\n<pre><code>Table TRKGRP1: New table control.\n      TRKGRP1: 1000 tuples checked. Tuple checking still in progress...\n      Completed tuple checking.\n      SUMMARY: Tbl TRKGRP1: tuples checked 1297, passed 1297, failed 0.\nTable TOLLTRKS: New table control.\n      Completed tuple checking.\n      SUMMARY: Tbl TOLLTRKS: tuples checked 3, passed 3, failed 1.\nTable BRANDOPT: New table control.\n      Completed tuple checking.\n      SUMMARY: Tbl BRANDOPT: tuples checked 0, passed 0, failed 0.\nTable C7UPTMR: New table control.\n      Completed tuple checking.\n      SUMMARY: Tbl C7UPTMR: tuples checked 4, passed 4, failed 3.\nTable TOPSCOIN: New table control.\n      Completed tuple checking.\n      SUMMARY: Tbl TOPSCOIN: tuples checked 0, passed 0, failed 2.\n</code></pre>\n\n<p>What I need is the part of the text from \"Table\" to \"failed 1/2/3\" I only need to capture the parts that end with failed 1, failed 2 and failed 3. failed 0 is not needed. Keep in mind that these logs sometimes come longer or shorter, not always 3 lines.</p>\n\n<p>Here is the expected output:</p>\n\n<pre>\nTable TOLLTRKS: New table control.\nCompleted tuple checking.\nSUMMARY: Tbl TOLLTRKS: tuples checked 3, passed 3, failed 1.  \nTable C7UPTMR: New table control.\nCompleted tuple checking.\nSUMMARY: Tbl C7UPTMR: tuples checked 4, passed 4, failed 3.  \nTable TOPSCOIN: New table control.\nCompleted tuple checking.\nSUMMARY: Tbl TOPSCOIN: tuples checked 0, passed 0, failed 2.\n</pre>\n\n<p>I would really appreciate it if you guys could give me a hand.</p>\n"}, {"tags": ["performance", "perl", "system"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1438808547, "creation_date": 1438808547, "answer_id": 31842767, "question_id": 31842548, "link": "https://stackoverflow.com/questions/31842548/calling-perl-script-with-system-vs-implementing-package/31842767#31842767", "title": "calling perl script with system VS implementing package", "body": "<p>Benefits:</p>\n\n<ul>\n<li>It would save the time taken to load the shell, load <code>perl</code>, compile the script and the module it uses. That's a couple of seconds <em>minimum</em>, but it could be much larger.</li>\n<li>If you had to serialize data to pass to the child, you also save the time taken to serialize and deserialize the data.</li>\n<li>It would allow more flexible interfaces.</li>\n<li>It would make error handling easier and more flexible.</li>\n</ul>\n\n<p>Downsides:</p>\n\n<ul>\n<li>Since everything is now in the same process, the child can have a much larger effect on the parent. e.g. A crash in the child will take down the parent.</li>\n</ul>\n"}], "owner": {"reputation": 23, "user_id": 5112957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WIXcW-ops5Y/AAAAAAAAAAI/AAAAAAAAAHw/68TEx8-WGyE/photo.jpg?sz=128", "display_name": "Minh Le", "link": "https://stackoverflow.com/users/5112957/minh-le"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 31842767, "answer_count": 1, "score": 1, "last_activity_date": 1502790921, "creation_date": 1438807773, "last_edit_date": 1502790921, "question_id": 31842548, "link": "https://stackoverflow.com/questions/31842548/calling-perl-script-with-system-vs-implementing-package", "title": "calling perl script with system VS implementing package", "body": "<p>Let me start with giving an example of what I'm dealing with first:</p>\n\n<p>I often call existed Perl scripts from previous engineers to process some data, and then proceed further with my script. I either use <code>system</code> or <code>back-ticks</code> to call other people scripts within my script. </p>\n\n<p>Now, I'm wondering if I rewrite those scripts as packages and use <code>require</code> or <code>use</code> to include those packages in my script, will it increase the processing speed? How big of a difference would it be?</p>\n"}, {"tags": ["perl", "curl"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1438808869, "creation_date": 1438808869, "answer_id": 31842850, "question_id": 31842404, "link": "https://stackoverflow.com/questions/31842404/curl-command-line-equivalent-to-this-perl-code/31842850#31842850", "title": "curl command line equivalent to this perl code", "body": "<p>It looks like the server expects the data as <code>application/x-www-form-urlencoded</code> and not as <code>multipart/form-data</code> as you do with the <code>--form</code> argument. The following should work:</p>\n\n<pre><code>curl -v -L --data \\\n  \"from=ACC&amp;to=P_REFSEQ_AC&amp;format=tab&amp;query=P13368\" \\\n  http://www.uniprot.org/mapping/ -o out.tab\n</code></pre>\n\n<p>With <code>--data</code> you get the expected content-type header, but you must do the encoding yourself. With <code>-L</code> curl follows a redirect which is needed here to get the resulting data.</p>\n\n<p>The <code>-X POST</code> option is not needed since POST is the default method when sending data. And <code>-H \"Expect:\"</code> is not needed either.</p>\n"}], "owner": {"reputation": 123, "user_id": 886300, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3f951fe0cb3fe345fba841bbec19a820?s=128&d=identicon&r=PG", "display_name": "javier", "link": "https://stackoverflow.com/users/886300/javier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "accepted_answer_id": 31842850, "answer_count": 1, "score": 2, "last_activity_date": 1438808869, "creation_date": 1438807203, "last_edit_date": 1438807437, "question_id": 31842404, "link": "https://stackoverflow.com/questions/31842404/curl-command-line-equivalent-to-this-perl-code", "title": "curl command line equivalent to this perl code", "body": "<p>I want to write a curl command for a POST request equivalent to this Perl code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\nmy $base = 'http://www.uniprot.org/mapping/';\nmy $params = {\n  from =&gt; 'ACC',\n  to =&gt; 'P_REFSEQ_AC',\n  format =&gt; 'tab',\n  query =&gt; 'P13368'\n};\nmy $agent = LWP::UserAgent-&gt;new();\npush @{$agent-&gt;requests_redirectable}, 'POST';\nmy $response = $agent-&gt;post($base, $params);\n$response-&gt;is_success ?\n  print $response-&gt;content :\n  die 'Failed, got ' . $response-&gt;status_line .\n    ' for ' . $response-&gt;request-&gt;uri . \"\\n\";\n</code></pre>\n\n<p>I tried with (and many other variants) :</p>\n\n<pre><code>curl -X POST -H \"Expect:\" --form \"from=ACC;to=P_REFSEQ_AC;format=tab; query=P13368\" http://www.uniprot.org/mapping/ -o out.tab\n</code></pre>\n\n<p>The Perl code retrieves the expected result, but the curl command line does not. It retrieves the web page from \"<a href=\"http://www.uniprot.org/mapping/\" rel=\"nofollow\">http://www.uniprot.org/mapping/</a>\" but does not make the POST request. </p>\n\n<p>I looked for an error in the response header, but didn't find anything suspicious. </p>\n\n<pre><code>&gt; POST http://www.uniprot.org/mapping/ HTTP/1.1\n&gt; User-Agent: curl/7.22.0 (x86_64-pc-linux-gnu) libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3\n&gt; Host: www.uniprot.org\n&gt; Accept: */*\n&gt; Proxy-Connection: Keep-Alive\n&gt; Content-Length: 178\n&gt; Content-Type: multipart/form-data; boundary=----------------------------164471d8347f\n&gt; \n} [data not shown]\n* HTTP 1.0, assume close after body\n&lt; HTTP/1.0 200 OK\n&lt; Server: Apache-Coyote/1.1\n&lt; Vary: User-Agent\n&lt; Vary: Accept-Encoding\n&lt; X-Hosted-By: European Bioinformatics Institute\n&lt; Content-Type: text/html;charset=UTF-8\n&lt; Date: Wed, 05 Aug 2015 20:32:00 GMT\n&lt; X-UniProt-Release: 2015_08\n&lt; Access-Control-Allow-Origin: *\n&lt; Access-Control-Allow-Headers: origin, x-requested-with, content-type\n&lt; X-Cache: MISS from localhost\n&lt; X-Cache-Lookup: MISS from localhost:3128\n&lt; Via: 1.0 localhost (squid/3.1.20)\n&lt; Connection: close\n&lt;\n</code></pre>\n\n<p>I spent almost three days looking for a solution in the web, but nothing is working for me.</p>\n"}, {"tags": ["perl", "csv", "dictionary", "subset", "sql-insert"], "comments": [{"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438804642, "post_id": 31841529, "comment_id": 51604890, "body": "@ThisSuitIsBlackNot pretty sure thats just for headers though, does figure out which data to skip over in the csv section? I don&#39;t beleive it does"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438804975, "post_id": 31841529, "comment_id": 51605074, "body": "Ah, I see what you&#39;re asking. You&#39;re right, it doesn&#39;t."}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438805354, "post_id": 31841529, "comment_id": 51605270, "body": "@ThisSuitIsBlackNot I relized after he updated that that wasn&#39;t going to solve it. I think this is the last perl related question I will have. This script is fairly complicated to me since I didnt know perl as of yesterday lol. So get stumped on a few spots unfortunately..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438805600, "post_id": 31841529, "comment_id": 51605393, "body": "You were right to ask a new question, I apologize for not reading carefully enough. This is a fairly involved task to have to do after only one day of Perl!"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1438805851, "post_id": 31841529, "comment_id": 51605518, "body": "You have a potential SQL injection attack in using <code>@headers</code> unescaped. They should, at minimum, be run through <a href=\"https://metacpan.org/pod/DBI#quote_identifier\" rel=\"nofollow noreferrer\"><code>DBI-&gt;quote_identifier</code></a>. Better would be to use <a href=\"https://metacpan.org/pod/SQL::Abstract\" rel=\"nofollow noreferrer\">SQL::Abstract</a> to construct your SQL statements or an ORM or like <a href=\"https://metacpan.org/pod/DBIx::Class\" rel=\"nofollow noreferrer\">DBIx::Class</a>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1438806034, "post_id": 31841529, "comment_id": 51605620, "body": "Are you asking about how to efficiently parse that bizarre CSV embedded in XML format? Or only after that, once you&#39;ve extracted the headers and columns? Or both? They&#39;re two different problems. Is <code>&lt;!--&gt;</code> a typo? Should it be <code>&lt;!--</code>?"}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1438806160, "post_id": 31841529, "comment_id": 51605684, "body": "@Schwern After I parsed it. WIll have headers in an array, wasnt sure what to do with the csv part, if I should store a line in a string then do something to it to remove the values. the stuff in the data file was just to show it wasnt a plain .csv file. Also no its not a typo."}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438806989, "post_id": 31841529, "comment_id": 51606140, "body": "@ThisSuitIsBlackNot it really is lol. The biggest problem is if someone answers a question perfectly I could still not understand:D (kinda like what happened to this answer to this question lol)."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1438808831, "post_id": 31841529, "comment_id": 51607186, "body": "@Lain I would suggest cutting your question down to just the parsed data structure and remove all the XML and CSV distractions."}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1438806648, "post_id": 31842226, "comment_id": 51605947, "body": "And speaking of slices, you could say <code>@column_mappings{@headers[@valid]}</code> instead of <code>map { $column_mappings{$_} } @headers[@valid]</code>"}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438806855, "post_id": 31842226, "comment_id": 51606066, "body": "Any chance you can edit and throw comment on the last 2 lines? Sorry just learning perl as of yesterday, kinda confused how those last 2 lines figure out which csv data to grab or skip over:S"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438806999, "post_id": 31842226, "comment_id": 51606149, "body": "It is reading a full row of data into the array <code>@row</code> (e.g., <code>&quot;1,2,3,1,6,8,2,8,2,&quot;</code> from the OP). It is passing the valid parts of <code>@row</code> (corresponding to columns with valid headers) to <code>$sql-&gt;execute()</code>"}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1439989609, "post_id": 31842226, "comment_id": 52087190, "body": "Any idea when I try to use this code I get &quot;Can&#39;t locate object method execute via package &quot;INSERT INTO (then the rest of my insert statement). Am I missed a prepare statement or something?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 1, "creation_date": 1439990139, "post_id": 31842226, "comment_id": 52087601, "body": "@Lain - Edited. Use the <code>$sth</code> statement object the same way you did in the OP"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1439990087, "last_edit_date": 1439990087, "creation_date": 1438806541, "answer_id": 31842226, "question_id": 31841529, "link": "https://stackoverflow.com/questions/31841529/only-taking-certain-values-from-a-list-in-perl/31842226#31842226", "title": "only taking certain values from a list in perl", "body": "<p>You would typically put the set of valid indices in a list and use <a href=\"https://metacpan.org/pod/distribution/perl/pod/perldata.pod#Slices\" rel=\"nofollow\">array slices</a> after that.</p>\n\n<pre><code>@valid = grep { defined($column_mapping{ $headers[$_] }) } 0 .. $#headers;\n\n...\n\nmy $sql = sprintf 'INSERT INTO tablename ( %s ) VALUES ( %s )',\n  join( ',', map { $column_mapping{$_} } @headers[@valid] ),\n  join( ',', ('?') x scalar @valid);\nmy $sth = $dbh-&gt;prepare($sql);\n\n...\n\nmy @row = split /,/, &lt;INPUT&gt;; \n$sth-&gt;execute( @row[@valid] );\n\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438808470, "post_id": 31842595, "comment_id": 51607013, "body": "If I could get how those files are given changed I would in a heart beat. The only other programmer at our company wrote the files to be stored like that. There are many many more problems with his files than the stuff I have posted. I can not put the headers into a tag, I just get given the files as is unfortunately, wrote my own mini parser to figure out which comment block is the header one, wasn&#39;t fun. The data format wont be changing, its been like that for 4 years;("}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438809004, "post_id": 31842595, "comment_id": 51607285, "body": "@Lain If its a technical problem of changing an old format, could you produce two copies of the data file? One is a legacy version for existing parsers and one is a new, sane format? Then you can incrementally change your parsers over to the more efficient format. Or is this a social problem where the other programmer produces crap and won&#39;t change?"}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438872304, "post_id": 31842595, "comment_id": 51637146, "body": "Its the programmer produces it and won&#39;t change. He has a lot more problems with his code than having to parse comments. Hes the professional programmer too and im the 2nd year uni summer student:D Have so much dumb code to deal with. Thanks for the detailed answer though, will be trying mob&#39;s answer today though to see if I can get it working like that."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1438807945, "last_edit_date": 1495542148, "creation_date": 1438807945, "answer_id": 31842595, "question_id": 31841529, "link": "https://stackoverflow.com/questions/31841529/only-taking-certain-values-from-a-list-in-perl/31842595#31842595", "title": "only taking certain values from a list in perl", "body": "<p>Because this is about four different questions in one, I'm going to take a higher level approach to the broad set of problems and leave the programming details to you (or you can ask new questions about the details).</p>\n\n<p>I would get the data format changed as quickly as possible.  Mixing CSV columns into an XML file is bizarre and inefficient, as I'm sure you're aware.  Use a CSV file for bulk data.  Use an XML file for complicated metadata.</p>\n\n<p>Having the headers be an XML comment is worse, now you're parsing comments; comments are supposed to be ignored.  If you must retain the mixed XML/CSV format put the headers into a proper XML tag.  Otherwise what's the point of using XML?</p>\n\n<p>Since you're going to be parsing a large file, use an XML SAX parser.  Unlike a more traditional DOM parser which must parse the whole document before doing anything, a SAX parser will process it as it reads the file.  This will save a lot of memory.  I leave SAX processing as an exercise, start with <a href=\"https://metacpan.org/pod/distribution/XML-SAX/SAX/Intro.pod\" rel=\"nofollow noreferrer\">XML::SAX::Intro</a>.</p>\n\n<p>Within the SAX parser, extract the data from the <code>&lt;csv&gt;</code> and use a CSV parser on that.  <a href=\"https://metacpan.org/pod/Text::CSV_XS\" rel=\"nofollow noreferrer\">Text::CSV_XS</a> is a good choice.  It is efficient and has solved all the problems of parsing CSV data you are likely to run into.</p>\n\n<p>When you finally have it down to a Text::CSV_XS object, call <code>getline_hr</code> in a loop to get the rows as hashes, apply your mapping, and insert into your database.  <a href=\"https://stackoverflow.com/a/31842226/14660\">@mob's solution is fine</a>, but I would go with <a href=\"https://metacpan.org/pod/SQL::Abstract\" rel=\"nofollow noreferrer\">SQL::Abstract</a> to generate the SQL rather than doing it by hand.  This will protect against both SQL injection attacks as well as more mundane things like the headers containing SQL meta characters and reserved words.</p>\n\n<p>It's important to separate the processing of the parsed data from the parsing of the data.  I'm quite sure that hideous data format will change, either for the worse or the better, and you don't want to tie the code to it.</p>\n"}], "owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 31842226, "answer_count": 2, "score": 3, "last_activity_date": 1439990087, "creation_date": 1438804022, "question_id": 31841529, "link": "https://stackoverflow.com/questions/31841529/only-taking-certain-values-from-a-list-in-perl", "title": "only taking certain values from a list in perl", "body": "<p>First I will describe what I have, then the problem.</p>\n\n<p>I have a text file that is structured as such</p>\n\n<pre><code>----------- Start of file-----\n&lt;!--&gt;\nname,name2,ignore,name4,jojobjim,name3,name6,name9,pop\n--&gt;\n&lt;csv counter=\"1\"&gt;\n1,2,3,1,6,8,2,8,2,\n2,6,5,1,5,8,7,7,9,\n1,4,3,1,2,8,9,3,4,\n4,1,6,1,5,6,5,2,9\n&lt;/csv&gt;\n-------- END OF FILE-----------\n</code></pre>\n\n<p>I also have a perl program that has a map:</p>\n\n<pre><code> my %column_mapping = (\n\"name\" =&gt; 'name',\n\"name1\" =&gt; 'name_1',\n\"name2\" =&gt; 'name_2',\n\"name3\" =&gt; 'name_3',\n\"name4\" =&gt; 'name_4',\n\"name5\" =&gt; 'name_5',\n\"name6\" =&gt; 'name_6',\n\"name7\" =&gt; 'name_7',\n\"name9\" =&gt; 'name_9',\n)\n</code></pre>\n\n<p>My dynamic insert statement (assume I connected to database proper, and headers is my array of header names, such as test1, test2, ect)</p>\n\n<pre><code>my $sql = sprintf 'INSERT INTO tablename ( %s ) VALUES ( %s )',\n    join( ',', map { $column_mapping{$_} } @headers ),\n    join( ',', ('?') x scalar @headers ); \n\nmy $sth = $dbh-&gt;prepare($sql);\n</code></pre>\n\n<p>Now for the problem I am actually having:\nI need a way to only do an insert on the headers and for the values that are in the map.\nIn the data file given as an exmaple, there are several names that are not in the map, is there a way I can ignore them and the numbers associated with them in the csv section?</p>\n\n<p>basically to make a subset csv, to turn it into:</p>\n\n<pre><code>name,name2,name4,name3,name6,name9,\n 1,2,1,8,2,8,\n 2,6,1,8,7,7,\n 1,4,1,8,9,3,\n 4,1,1,6,5,2,\n</code></pre>\n\n<p>so that my insert statment will only insert the ones in the map. The data file is always different, and are not in same order, and an unknown amount will be in the map.</p>\n\n<p>Ideally a efficient way to do this, since this script will be going through thousands of files, and each files behind millions of lines of the csv with hundreds of columns.</p>\n\n<p>It is just a text file being read though, not a csv, not sure if csv libraries can work in this scenario or not.</p>\n"}, {"tags": ["perl", "oop", "reference", "destroy"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438804634, "post_id": 31841484, "comment_id": 51604885, "body": "So you want <code>$object1</code> to become <code>undef</code> after you type <code>undef $object2</code> ?"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438804724, "post_id": 31841484, "comment_id": 51604933, "body": "Yes, that is what I am looking for."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438805225, "post_id": 31841484, "comment_id": 51605208, "body": "See also <a href=\"http://stackoverflow.com/questions/10772220/how-do-you-explicitly-destroy-an-object-in-perl\">How do you explicitly destroy an object in Perl?</a>"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438805312, "post_id": 31841484, "comment_id": 51605247, "body": "Yeah I looked at that first, that tells you how to do the undef, but not how to get rid of every instance of it."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438805558, "post_id": 31841484, "comment_id": 51605378, "body": "Do you actually need to physically erase the object from memory, or could you simply do with adding a field like <code>is_deleted</code> to the object? Such that each time you try to access the object, you could check if it still is valid."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438805814, "post_id": 31841484, "comment_id": 51605501, "body": "That may work, but it would ultimately be cleaner if I could keep the Perl data structure identical to the external data structure."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438809580, "post_id": 31841484, "comment_id": 51607554, "body": "As tjd mentioned, this sort of action at a distance is generally a bad thing. It makes your code hard to maintain and hard to use. Generally you change an object with a setter method, so instead of changing <code>$text</code> you would do <code>$file-&gt;text(&#39;foo&#39;);</code>. Can you explain in more detail why you want to do it this way?"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438864657, "post_id": 31841484, "comment_id": 51631264, "body": "You&#39;re right @ThisSuitIsBlackNot, that comment made me realize that is not the exact functionality I am really looking for.  I will try and pull out the &quot;real&quot; problem in this question and post a more concise question that will hopefully get my point across better.  I will post the link to it in the comments here."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438865417, "post_id": 31841484, "comment_id": 51631806, "body": "Here is the link to a new question (<a href=\"http://stackoverflow.com/questions/31856188/link-a-variable-to-a-class-attribute-in-perl\" title=\"link a variable to a class attribute in perl\">stackoverflow.com/questions/31856188/&hellip;</a>). Hopefully this will help narrow the problem down."}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438804568, "post_id": 31841647, "comment_id": 51604859, "body": "Okay, that explains what is happening, but how can I force Perl to eliminate both <code>$object1</code> and <code>$object2</code> simultaneously?"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438804969, "post_id": 31841647, "comment_id": 51605070, "body": "@tjwrona1992 Action at a distance is not generally considered desirable.  but instead of <i>copying</i> your reference, I suppose you could create <code>$object2</code> as an <i>alias</i> to <code>$object1</code>."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438806151, "post_id": 31841647, "comment_id": 51605680, "body": "I believe aliases are what I am looking for.  It looks like this can be done using a <code>typeglob</code> (<a href=\"http://www.perlmonks.org/?node_id=976523\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=976523</a>). I haven&#39;t quite wrapped my head around <code>typeglobs</code> and how they work yet though."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438836029, "post_id": 31841647, "comment_id": 51614865, "body": "@tjwrona1992 typeglobs are not recommended.  They rely on Global/Package variables.  (We&#39;re back to the idea of action at a distance.)  Look to CPAN for Lexical solutions."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 2, "last_activity_date": 1438804813, "last_edit_date": 1438804813, "creation_date": 1438804395, "answer_id": 31841647, "question_id": 31841484, "link": "https://stackoverflow.com/questions/31841484/completely-destroy-all-traces-of-an-object-in-perl/31841647#31841647", "title": "Completely destroy all traces of an object in Perl", "body": "<p>Perl uses reference counting to \"retire\" data.</p>\n\n<p>What your program is doing is as follows:</p>\n\n<ol>\n<li>Create an object and assign a reference to <code>$object1</code></li>\n<li>Copy that reference to <code>$object2</code> and increment the object's reference count</li>\n<li>Change the value of <code>$object2</code> and decrement the object's reference count.</li>\n</ol>\n\n<p>In the end you still have a hold of the object via <code>$object1</code> and it's reference count will not drop to below 1 while you keep a hold of it.  Technically as your program shuts down the <code>$object1</code> variable will be destroyed as it goes out of scope, at which the object's reference count will drop to 0 and perl will look for and try to call it's <code>DESTROY</code> method.</p>\n\n<p>If you truly want to \"see\" an item destroyed you may want to look into defining a <code>DESTROY</code> method that prints out a message upon object destruction.  This way you can \"let go\" of your last reference and still see it's destruction.</p>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438806516, "post_id": 31842156, "comment_id": 51605867, "body": "That would work great if these objects only had one attribute, but they can have many different attributes, and some of those attributes may still be valid.  I know my example above doesn&#39;t account for this since I delete the whole object, but in reality I have a very complex data structure where only small sections may become invalid and if they are invalid I would like to remove them so they cannot be accessed again without crashing the program.  I only want it to crash if the user explicitly attempts to retrieve invalid data."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438806559, "post_id": 31842156, "comment_id": 51605895, "body": "Tip: If it helps, <code>delete</code> can record the stack frame in order to include it in the error message thrown when accessing an invalid object."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438806591, "post_id": 31842156, "comment_id": 51605913, "body": "That&#39;s not a problem. Your attribute builder would build all attributes to check whether the object is valid."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438806604, "post_id": 31842156, "comment_id": 51605924, "body": "Also with such large complex objects just changing a flag would leave the object in memory.  As the program continued to run these &quot;deleted&quot; objects would build up causing the program to consume more memory and would act like a memory leak."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438806638, "post_id": 31842156, "comment_id": 51605942, "body": "First of all, that&#39;s seems unlikely. It will only stay in memory as long as you&#39;re still using it. Why do you keep using objects longer you&#39;ve deleted them? Second, why do you have multiple copies of such large data structures? Your objects should all refer to the same data structure. Not only would that save memory, it would completely eliminate this problem."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438806758, "post_id": 31842156, "comment_id": 51606016, "body": "They are the same data structure, but if pieces of it become invalid and they are just flagged as invalid they would remain in memory.  Then as new data came into the structure the size would continue to grow.  New data would be able to keep coming in causing the structure to grow, but old data would never completely be purged until the script was terminated."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438806797, "post_id": 31842156, "comment_id": 51606031, "body": "Re &quot;They are the same data structure&quot;, What does that mean?"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438806977, "post_id": 31842156, "comment_id": 51606129, "body": "But what you are doing isn&#39;t actually deleting it, it is just flagging the object as invalid. I think I may be misunderstanding what you are trying to say."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438807040, "post_id": 31842156, "comment_id": 51606167, "body": "Arg. In the comments, you asked a different question, to which I gave a different answer. If you have multiple objects with copies of the data as you said in your question, you&#39;ll have to use something like in my answer. If on the other hand you have a single large structure accessed by all the objects, just delete from the structure."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438807111, "post_id": 31842156, "comment_id": 51606219, "body": "Let me modify my question. I will come up with a different scenario."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1438808037, "post_id": 31842156, "comment_id": 51606794, "body": "The update to your question didn&#39;t change anything. It just repeats the rest of the question, but with an attribute named <code>text</code> instead of <code>name</code>. You can&#39;t free an object that&#39;s still being used."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1438808350, "last_edit_date": 1438808350, "creation_date": 1438806248, "answer_id": 31842156, "question_id": 31841484, "link": "https://stackoverflow.com/questions/31841484/completely-destroy-all-traces-of-an-object-in-perl/31842156#31842156", "title": "Completely destroy all traces of an object in Perl", "body": "<p>You can't free an object that's still being used. Have the object itself keep track of whether it's still valid or not.</p>\n\n<pre><code>sub new { \n   my ($class, $data) = @_;\n   my $self = bless({}, $class);\n   $self-&gt;{valid} = 1;\n   $self-&gt;{data} = $data;\n   return $self;\n}\n\nsub delete {\n   my $self = shift;\n   undef(%$self);\n}\n\nsub data {\n   my $self = shift;\n   croak(\"Invalid object\") if !$self-&gt;{valid};\n   $self-&gt;{data} = $_[0] if @_;\n   return $self-&gt;{data};\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>my $o1 = Class-&gt;new('big_complex_data');\nmy $o2 = $o1;\n\nsay $o1-&gt;data();\nsay $o2-&gt;data();\n\n$o1-&gt;delete();\nsay $o2-&gt;name();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>big_complex_data\nbig_complex_data\nInvalid object at a.pl line 39.\n</code></pre>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438808350, "creation_date": 1438803833, "last_edit_date": 1438807497, "question_id": 31841484, "link": "https://stackoverflow.com/questions/31841484/completely-destroy-all-traces-of-an-object-in-perl", "title": "Completely destroy all traces of an object in Perl", "body": "<p>I am writing a Perl script that gets data from a changing outside source.  As data is added or removed from this outside source I would like the data structures in my Perl script to mirror the changes.  I was able to do this by creating objects that store the data in a similar fashion and synchronizing the data in those objects whenever I try to access the data in my Perl script.</p>\n\n<p>This works great, and gets any new data that is added to this external source; however a problem arises when any data is removed.  If any data is removed I want all existing references to it in my Perl script to be destroyed as well so the user can no longer attempt to access the data without raising an error.</p>\n\n<hr>\n\n<p>The only way I could think of was to undefine the internal reference to the data as soon as it is determined that the data no longer exists.  It appears, however; that when a reference is undefined it doesn't remove the data stored in the location of the reference, it only deletes the data from the variable that holds the reference.</p>\n\n<hr>\n\n<p>Here is a test script demonstrating my problem:</p>\n\n<pre><code>#!/usr/bin/perl\n\n# Always use these\nuse strict;\nuse warnings;\n\n####################################################################################################\n# Package to create an object\npackage Object;\n\nuse Moose;\n\n# Define attributes\nhas 'name' =&gt; (is =&gt; 'ro', isa =&gt; 'Str', required =&gt; 1);\n\n####################################################################################################\n# Package to test with\npackage test;\n\n# Create an object\nmy $object1 = Object-&gt;new('name' =&gt; 'Test Object');\nprint 'OBJECT1 NAME: '.$object1-&gt;name().\"\\n\";\n\n# Create another reference to the object\nmy $object2 = $object1;\n\n# Print the name\nprint 'OBJECT2 NAME: '.$object2-&gt;name().\"\\n\";\n\n# Print both references\nprint \"\\n\";\nprint \"OBJ  : $object1\\n\";\nprint \"OBJ2 : $object2\\n\";\nprint \"\\n\";\n\n# Undefine the reference to object2\nundef $object2;\n\n# Try to print both names\nprint 'OBJECT1 NAME: '.$object1-&gt;name().\"\\n\";\nprint 'OBJECT2 NAME: '.$object2-&gt;name().\"\\n\";\n</code></pre>\n\n<p>Output:\n<a href=\"https://i.stack.imgur.com/XGeTH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XGeTH.png\" alt=\"Script Output\"></a></p>\n\n<hr>\n\n<blockquote>\n  <p><strong><em>How can I completely destroy all traces of an object so that any attempt to access it's data will result in an error?</em></strong></p>\n</blockquote>\n\n<hr>\n\n<p><strong><em>EDIT:</em></strong></p>\n\n<p>Here is a different example that may explain better what I am trying to achieve.</p>\n\n<p>Say I have a file object:</p>\n\n<p><code>my $file = File-&gt;new();</code></p>\n\n<p>Now I want to get the text in that file</p>\n\n<p><code>my $text = $file-&gt;text();</code></p>\n\n<p>Now I get it again (for some unknown reason)</p>\n\n<p><code>my $text2 = $file-&gt;text();</code></p>\n\n<p>I want to be able to modify <code>$text</code> and have it directly effect the contents of <code>$text2</code> as well as change the actual <code>text</code> attribute of the file.</p>\n\n<p>I'm basically trying to tie the variables together so if one changes they all change. Also if one is deleted they would all be deleted.</p>\n\n<p>This would also mean if the <code>text</code> attribute is changed, <code>$text1</code> and <code>$text2</code> would also change with it to reflect the new value.</p>\n\n<p>Could this be done using an alias of some sort?</p>\n"}, {"tags": ["perl", "unit-testing", "stderr"], "answers": [{"tags": [], "owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "is_accepted": false, "score": 2, "last_activity_date": 1438803820, "creation_date": 1438803820, "answer_id": 31841477, "question_id": 31841215, "link": "https://stackoverflow.com/questions/31841215/how-to-suppress-or-redirect-to-the-variable-output-of-the-system-command/31841477#31841477", "title": "How to suppress or redirect to the variable output of the system command", "body": "<p>Rather than <code>system</code>, use <code>qx</code> to capture the output of the command.  It looks like you also want to capture stderr, so use the standard <code>2&gt;&amp;1</code> to dup stderr on to stdout.   </p>\n\n<pre><code> $var = qx( git clone ... 2&gt;&amp;1 )\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1438806260, "post_id": 31841497, "comment_id": 51605730, "body": "See also <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\"><code>Capture::Tiny</code></a> for capturing STDERR separately.."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 3, "last_activity_date": 1438803894, "creation_date": 1438803894, "answer_id": 31841497, "question_id": 31841215, "link": "https://stackoverflow.com/questions/31841215/how-to-suppress-or-redirect-to-the-variable-output-of-the-system-command/31841497#31841497", "title": "How to suppress or redirect to the variable output of the system command", "body": "<p><a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\"><code>system</code></a> only returns the exit status of the program that was executed, if you want to get the standard output you can use <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow\"><code>qx/command/</code></a> or backticks to execute the command: </p>\n\n<pre><code>my $result = `git clone [...] 2&gt;&amp;1`\n</code></pre>\n\n<p>You should note that the <code>qx/command/</code> and backticks form of executing commands only returns STDOUT, so if you want to capture STDERR you need to redirect STDERR to STDOUT in your command.</p>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1438806496, "last_edit_date": 1438806496, "creation_date": 1438805985, "answer_id": 31842097, "question_id": 31841215, "link": "https://stackoverflow.com/questions/31841215/how-to-suppress-or-redirect-to-the-variable-output-of-the-system-command/31842097#31842097", "title": "How to suppress or redirect to the variable output of the system command", "body": "<p>If you need to do multiple tests that output to STDERR/STDOUT, you can redirect them within a block and run all those tests within it. Here's a basic example.</p>\n\n<pre><code>sub use_system {\n    system(\"asdfasdf asdfasdf\");\n    croak('this error') if $?;\n}\n\n{\n    open my $stderr, '&gt;', 'temp.fil' or die $!;\n    local *STDERR = $stderr;\n\n    dies_ok { use_system() } 'Died :(';\n\n    # or even\n\n    eval { use_system(); };\n\n    like ($@, qr/this error/, \"function failed with 'this error'\");\n}\n\nwarn \"STDERR back to normal\\n\";\n</code></pre>\n"}], "owner": {"reputation": 4078, "user_id": 2781271, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/22d16d429b7ea7d58974f91c889fbdcd?s=128&d=identicon&r=PG", "display_name": "CROSP", "link": "https://stackoverflow.com/users/2781271/crosp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1349, "favorite_count": 0, "accepted_answer_id": 31841497, "answer_count": 3, "score": 1, "last_activity_date": 1438886435, "creation_date": 1438802909, "last_edit_date": 1438886435, "question_id": 31841215, "link": "https://stackoverflow.com/questions/31841215/how-to-suppress-or-redirect-to-the-variable-output-of-the-system-command", "title": "How to suppress or redirect to the variable output of the system command", "body": "<p>I am trying to execute system command for example     </p>\n\n<pre><code> system('git clone .....' );\n    if ($?) {\n        croak('Error while cloning git repository');\n    }\n</code></pre>\n\n<p>Here I am checking if result is success, but how not to output the error from the system command, for example in my case, I can get somthing like   </p>\n\n<pre><code>Permission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\n</code></pre>\n\n<p>From executed command.<br>\nI need to get this error into the variable and suppress it(don't print this to the terminal)<br>\nAnd than check this error message.<br>\nOr at least just supress it.<br>\nI need to test such subroutine in the following way    </p>\n\n<pre><code>dies_ok { MyModule::sub_uses_system_command() } 'Died :(';\n</code></pre>\n\n<p>Is it possible to get such result ?<br>\nThx in advance.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 7290, "user_id": 4785110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bae5c00f27770d807c943268438bb6?s=128&d=identicon&r=PG&f=1", "display_name": "maraca", "link": "https://stackoverflow.com/users/4785110/maraca"}, "edited": false, "score": 0, "creation_date": 1438801535, "post_id": 31840552, "comment_id": 51603130, "body": "I think you need to escape the <code>&#47;</code> so the regex would be <code>&#39;\\&#47;\\*&#39;</code> or <code>&quot;\\\\&#47;\\\\*&quot;</code>, just guessing."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438801926, "post_id": 31840552, "comment_id": 51603345, "body": "I don&#39;t think <code>$_</code> is defined in a C-style for-loop? Or maybe you are using a value from earlier in the code?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438801969, "post_id": 31840552, "comment_id": 51603378, "body": "Tip: Could have written: <code>my @tokens = ( qr{&#47;&#47;}, qr{&#47;\\*}, qr{\\*&#47;}, qr{&quot;}, ... );</code> It&#39;s a bit clearer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438802022, "post_id": 31840552, "comment_id": 51603401, "body": "Tip: <code>&quot;\\&quot;&quot;</code> and <code>&quot;\\\\\\&quot;&quot;</code> produce the strings <code>&quot;</code> and <code>\\&quot;</code> which are equivalent when used as regular expressions."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438802071, "post_id": 31840552, "comment_id": 51603430, "body": "Tip: Using <code>$&amp;</code> affects the performance of regex matches throughout your program. Better to use <code>&#47;($tokens[$i])</code>/ and <code>$1</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1438802103, "post_id": 31840552, "comment_id": 51603446, "body": "@H&#229;kon H&#230;gland, He said what value <code>$_</code> has underneath his code."}], "answers": [{"comments": [{"owner": {"reputation": 3018, "user_id": 18356, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/27E99.png?s=128&g=1", "display_name": "shoover", "link": "https://stackoverflow.com/users/18356/shoover"}, "edited": false, "score": 0, "creation_date": 1438879549, "post_id": 31840879, "comment_id": 51642261, "body": "I was explaining what the <code>&#47;g</code> was doing, which your original message didn&#39;t do. I should have also added &quot;... which is why you should remove it&quot; but didn&#39;t. Thanks for fixing."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3018, "user_id": 18356, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/27E99.png?s=128&g=1", "display_name": "shoover", "link": "https://stackoverflow.com/users/18356/shoover"}, "edited": false, "score": 0, "creation_date": 1438879717, "post_id": 31840879, "comment_id": 51642353, "body": "@shoover, Re &quot;I was explaining what the /g was doing&quot;, You tried, but what you said made no sense"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3018, "user_id": 18356, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/27E99.png?s=128&g=1", "display_name": "shoover", "link": "https://stackoverflow.com/users/18356/shoover"}, "edited": false, "score": 0, "creation_date": 1438880727, "post_id": 31840879, "comment_id": 51642921, "body": "Added a missing bit to my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1438881553, "last_edit_date": 1438881553, "creation_date": 1438801723, "answer_id": 31840879, "question_id": 31840552, "link": "https://stackoverflow.com/questions/31840552/pattern-match-results-inconstsent/31840879#31840879", "title": "Pattern match results inconstsent", "body": "<p><code>if (/.../g)</code> makes no sense<sup>[1]</sup>. For reasons I don't understand, people keep trying to use it. Most of the time, use of this buggy code doesn't result in any adverse effects. Unfortunately, it did for you.</p>\n\n<pre><code>if( /$tokens[$i]/g )\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>if( /$tokens[$i]/ )\n</code></pre>\n\n<p>As for determining the location of the match,</p>\n\n<ul>\n<li><code>$-[0]</code> will tell you where the match started.</li>\n<li><code>$+[0]</code> will tell you where the length of the match.</li>\n<li><code>$-[0] + $+[0]</code> will tell you where the match ended.</li>\n</ul>\n\n<hr>\n\n<ol>\n<li>Advanced users might sometimes use <code>if (/.../gc)</code>, but it's not appropriate here. </li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438880700, "post_id": 31844375, "comment_id": 51642910, "body": "Re &quot;I&#39;m trying to understand the problem myself&quot;, <code>pos()</code> is where the next match starts..."}, {"owner": {"reputation": 23, "user_id": 5112957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WIXcW-ops5Y/AAAAAAAAAAI/AAAAAAAAAHw/68TEx8-WGyE/photo.jpg?sz=128", "display_name": "Minh Le", "link": "https://stackoverflow.com/users/5112957/minh-le"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438887885, "post_id": 31844375, "comment_id": 51646775, "body": "I just tested it again. You&#39;re right, even <code>if (&#47;\\&#47;\\*&#47;g) {</code> doesn&#39;t work properly with global modifier <code>g</code>. There&#39;s nothing about <code>g</code> modifier that prevents the pattern from matching. It&#39;s just strange."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438888022, "post_id": 31844375, "comment_id": 51646852, "body": "On a match operator in scalar context, /g does two things: It causes pos() to be set on match, and it causes the match to start at pos()."}, {"owner": {"reputation": 23, "user_id": 5112957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WIXcW-ops5Y/AAAAAAAAAAI/AAAAAAAAAHw/68TEx8-WGyE/photo.jpg?sz=128", "display_name": "Minh Le", "link": "https://stackoverflow.com/users/5112957/minh-le"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438888452, "post_id": 31844375, "comment_id": 51647095, "body": "Even if you don&#39;t use <code>pos()</code> at all,  it still doesn&#39;t match the pattern <code>&#47;*</code> with <code>g</code> modifier while it would match everything else. it matches the pattern <code>*&#47;</code> with <code>g</code> modifier."}], "tags": [], "owner": {"reputation": 23, "user_id": 5112957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WIXcW-ops5Y/AAAAAAAAAAI/AAAAAAAAAHw/68TEx8-WGyE/photo.jpg?sz=128", "display_name": "Minh Le", "link": "https://stackoverflow.com/users/5112957/minh-le"}, "is_accepted": false, "score": 0, "last_activity_date": 1438888159, "last_edit_date": 1438888159, "creation_date": 1438816752, "answer_id": 31844375, "question_id": 31840552, "link": "https://stackoverflow.com/questions/31840552/pattern-match-results-inconstsent/31844375#31844375", "title": "Pattern match results inconstsent", "body": "<p>First of all, let me rewrite your code in an easier-to-read way:</p>\n\n<pre><code>    my @tokens = ( '/', '/*', '*/', '\"', '\\\"', '#if', '#ifdef', '#elif', '#else', '#endif' );\n    my $test_string = 'abc /*  */ \" \\\" #if //';\n    foreach (split(/\\s/,$test_string)) {\n            for (my $i = 0; $i &lt; scalar @tokens; $i++ ) {\n                  print \"Matching  \\'$tokens[$i]\\' against \\'$_\\'\\n\";\n                  if( /\\Q$tokens[$i]\\E/g )  {\n                            print \"Match: \\'$&amp;\\', pos = \", pos(), \"\\n\";\n                  }\n            }\n            print \"\\n\";\n    }\n</code></pre>\n\n<p>You can use <code>quotemeta</code> or <code>(/\\Q ... \\E/)</code> combo like above whenever you use a regex stored in a variable. you won't have to escape so many characters.</p>\n\n<p>go to Perldoc for more info: <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">quotemeta</a></p>\n\n<p>I understand that you tried to count number of times your regex (in @tokens) matches against your test string, and that's why you used <code>/g</code> and function <code>pos()</code>. However, <code>/g</code> is the one causes problem for only the pattern <code>/*</code>. If you leave out the global modifier <code>g</code> like ikegami answer above, it should match it for you, but <code>pos()</code> won't work. </p>\n"}], "owner": {"reputation": 1, "user_id": 5195308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cfa9f0d8e7adac7ba12b8acd53ec633?s=128&d=identicon&r=PG&f=1", "display_name": "John Apiarist", "link": "https://stackoverflow.com/users/5195308/john-apiarist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438888159, "creation_date": 1438800680, "question_id": 31840552, "link": "https://stackoverflow.com/questions/31840552/pattern-match-results-inconstsent", "title": "Pattern match results inconstsent", "body": "<p>I'm matching pattern <code>/\\*</code> against string, containing <code>/*</code>. Sometimes it works, sometimes it doesn't and I don't understand why. Here's the code:</p>\n\n<pre><code>my @tokens = ( \"//\", \"/\\\\*\", \"\\\\*/\", \"\\\"\", \"\\\\\\\"\", \"#if\", \"#ifdef\", \"#elif\", \"#else\", \"#endif\" );\nfor( my $i = 0; $i &lt; scalar @tokens; $i++ )\n{\n    print \"Matching \\'$tokens[$i]\\' against \\'$_\\'\\n\";\n\n    if( /$tokens[$i]/g )\n    {\n        print \"Match: \\'$&amp;\\', pos = \", pos(), \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Somehow string <code>\"abc // /* */ \" \\\" #if // \"</code> matches all the patterns in <code>@tokens</code> but string <code>\"abc /*  */ \" \\\" #if // \"</code> matches all but <code>/*</code>. What am I missing?\nThanks a lot in advance!</p>\n"}, {"tags": ["cygwin", "cpan", "perl"], "answers": [{"comments": [{"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1438797325, "post_id": 31839160, "comment_id": 51600575, "body": "<i>&quot;Maybe you meant cpan installs to local::lib&#39;s dir by default...&quot;</i> Exactly. When I configure CPAN, it offers a few choices how to install modules, and this is the default one."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1438797669, "post_id": 31839160, "comment_id": 51600777, "body": "1) CPAN comes with Perl, so there&#39;s no need to install it. 2) CPAN doesn&#39;t know anything about install::lib. It most definitely doesn&#39;t default to using it. I would raise hell if did."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1438798322, "post_id": 31839160, "comment_id": 51601160, "body": "Well, I don&#39;t know where they went. All I know is that I installed e.g. <code>Term::ReadLine::Gnu</code> and <code>Log::Log4Perl</code> some time ago, and after upgrade, they weren&#39;t there. I could as well erase them myself accidentally (or maybe it&#39;s Cygwin)."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1438798368, "post_id": 31839160, "comment_id": 51601188, "body": "So, you&#39;re saying that this doesn&#39;t normally happen, so my case is not a &quot;common need&quot; as I claimed it to be?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1438798454, "post_id": 31839160, "comment_id": 51601248, "body": "Re &quot;Well, I don&#39;t know where they went&quot;, Like I&#39;ve already said in my answer, you have to reinstall them anyway, so it doesn&#39;t matter where they went."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1438798563, "post_id": 31839160, "comment_id": 51601308, "body": "Re &quot;so my case is not a &#39;common need&#39; as I claimed it to be?&quot;, No idea what you mean. The only difference between you and someone else is that you didn&#39;t have to delete the existing modules yourself."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1438798994, "post_id": 31839160, "comment_id": 51601581, "body": "Whatever. Now, we are back where we started. If the modules aren&#39;t normally deleted by an upgrade, is there an already implemented solution to reinstall them automa_g_ically? Man, I expected to see a <i>built-in CPAN command</i> for that!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1438799282, "post_id": 31839160, "comment_id": 51601753, "body": "I believe there is a way to get the list of installed modules. Not using <code>cpan</code>, though. I don&#39;t see why you need that. Just install the script you want to use, and the dependencies will be installed automatically"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1438799368, "post_id": 31839160, "comment_id": 51601803, "body": "Re. local::lib, I think the OP is talking about <a href=\"https://metacpan.org/pod/CPAN#pod5\" rel=\"nofollow noreferrer\">this</a>: &quot;As of CPAN 1.9463, if you do not have permission to write the default perl library directories, CPAN&#39;s configuration process will ask you whether you want to bootstrap &lt;local::lib&gt;&quot; If you choose to bootstrap, PERL_MB_OPT and PERL_MM_OPT are set in your .bashrc or equivalent; bootstrapping is the default option."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438799662, "post_id": 31839160, "comment_id": 51601943, "body": "@ThisSuitIsBlackNot, That&#39;s unfortunate :(  [I had tested it, but I had permission to the lib dirs. I also grepped a file or two for any mention of install::lib, but apparently the wrong ones.]"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438802480, "post_id": 31839160, "comment_id": 51603655, "body": "@ikegami I got bitten by this when I tried mass-installing a module over SSH on a bunch of systems where cpan wasn&#39;t configured yet. Since there was no tty, the defaults got used."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438802752, "post_id": 31839160, "comment_id": 51603823, "body": "@ThisSuitIsBlackNot, I use the defaults, but I also use perlbrew."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1438797691, "last_edit_date": 1438797691, "creation_date": 1438795984, "answer_id": 31839160, "question_id": 31838918, "link": "https://stackoverflow.com/questions/31838918/upgrade-locally-installed-modules-for-the-new-perl-version/31839160#31839160", "title": "Upgrade locally installed modules for the new Perl version", "body": "<p>First of all, local::lib has nothing to do with CPAN module/distro. Maybe you meant <code>cpan</code> installs to local::lib's dir by default, but that's not true. It only does so if it's been configured to do so.</p>\n\n<p>Interestingly, the problem is normally that local::lib's directory is still seen by the upgraded Perl. local::lib uses <code>INSTALL_BASE</code>, which installs the modules in a way that the directory can only be used by that install of Perl. That's why I always strongly recommend <em>against</em> local::lib and <code>INSTALL_BASE</code>.</p>\n\n<p>That fact that the directory is no longer visible is a good thing. You had to reinstall all the modules anyways, and this way, there won't be any mixups.</p>\n"}], "owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "closed_date": 1541652731, "answer_count": 1, "score": 0, "last_activity_date": 1438962892, "creation_date": 1438795143, "last_edit_date": 1438962892, "question_id": 31838918, "link": "https://stackoverflow.com/questions/31838918/upgrade-locally-installed-modules-for-the-new-perl-version", "closed_reason": "Not suitable for this site", "title": "Upgrade locally installed modules for the new Perl version", "body": "<p>I have several CPAN modules installed in <code>~/lib</code>. Apparently, <code>local::lib</code> is used, CPAN's default.</p>\n\n<p>Now, I have upgraded my Perl version, and it stopped seeing those modules.</p>\n\n<p>I understand that they probably need to be rebuilt from source, but all it takes is get their list this way or another and kick the CPAN install sequence going. </p>\n\n<p>What is the standard way to do this? I'm sure there must an existing facility that addresses such a common need.</p>\n\n<p>(already looked through <code>CPAN</code> and <code>local::lib</code> docs and the Net, of course)</p>\n\n<p>UPDATE:</p>\n\n<p>After looking at <code>~/lib</code>, I discovered that the modules have actually vanished from there. I don't know where they went. Comments show that \"module vanishing\" doesn't normally happen. So the question stands.</p>\n"}, {"tags": ["perl", "authentication", "soap", "wsdl"], "answers": [{"tags": [], "owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "is_accepted": false, "score": 2, "last_activity_date": 1438795099, "creation_date": 1438795099, "answer_id": 31838907, "question_id": 31838112, "link": "https://stackoverflow.com/questions/31838112/using-soaplite-based-on-wsdl/31838907#31838907", "title": "Using SOAP::Lite based on WSDL", "body": "<p>I've used SOAP::Lite to talk to a .NET web-service (*.asmx format).  The web-service provides a WSDL, but that's NOT what I reference in the code.</p>\n\n<pre><code>  my $soap = SOAP::Lite\n    -&gt; uri('http://myserver')\n    -&gt; on_action( sub { join '/', 'http://myserver', $_[1] } )\n    -&gt; proxy('http://myserver/services/GetEmailAddress/Service.asmx');\n\n  my $method = SOAP::Data-&gt;name('GetEmailAddress')\n    -&gt;attr({xmlns =&gt; 'http://myserver/'});\n\n  my @params = ( SOAP::Data-&gt;name(username =&gt; \"someusername\") ); \n  my $email = $soap-&gt;call($method =&gt; @params)-&gt;result;\n</code></pre>\n\n<p>Everything in there I learned from <a href=\"https://msdn.microsoft.com/en-us/library/ms995764.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/ms995764.aspx</a>.  Not sure if that will help you, as you might not have an asmx-format web-service, but maybe it will!</p>\n"}, {"tags": [], "owner": {"reputation": 2527, "user_id": 1997735, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/xLtbM.jpg?s=128&g=1", "display_name": "Betty Crokker", "link": "https://stackoverflow.com/users/1997735/betty-crokker"}, "is_accepted": false, "score": 2, "last_activity_date": 1438796044, "creation_date": 1438796044, "answer_id": 31839178, "question_id": 31838112, "link": "https://stackoverflow.com/questions/31838112/using-soaplite-based-on-wsdl/31839178#31839178", "title": "Using SOAP::Lite based on WSDL", "body": "<p>I discovered the magic command:</p>\n\n<pre><code>$soap-&gt;outputxml('true');\n</code></pre>\n\n<p>So now I can see that when I call that getProjects() function with an invalid parameter, it is in fact talking to the server and getting an error:</p>\n\n<pre><code>my $soap = SOAP::Lite\n  -&gt; proxy('http://MYSERVER/jama/ws/v3/soap/ContourSoapService')\n  -&gt; uri('http://v3.ws.contour.jamasoftware.com');\nprint \"Soap is $soap\\n\";\n# Soap is SOAP::Lite=HASH(0x7fdc24e3fb70)\n\nmy $projects = $soap-&gt;getProjects(3);\nprint \"Projects are $projects\\n\\n\";\n# Projects are &lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n# &lt;soap:Body&gt;&lt;soap:Fault&gt;\n#   &lt;faultcode&gt;soap:Server&lt;/faultcode&gt;\n#   &lt;faultstring&gt;Access control&lt;/faultstring&gt;\n# &lt;/soap:Fault&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>So even though the WSDL was no help in learning what the parameter is supposed to be, the documentation says it's a WsAuth object, so now I just have to figure out how to create one of those.</p>\n"}], "owner": {"reputation": 2527, "user_id": 1997735, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/xLtbM.jpg?s=128&g=1", "display_name": "Betty Crokker", "link": "https://stackoverflow.com/users/1997735/betty-crokker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 964, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1438796044, "creation_date": 1438792361, "last_edit_date": 1438795992, "question_id": 31838112, "link": "https://stackoverflow.com/questions/31838112/using-soaplite-based-on-wsdl", "title": "Using SOAP::Lite based on WSDL", "body": "<p>I'm brand new to SOAP::Lite and trying to work through the <a href=\"http://guide.soaplite.com/\" rel=\"nofollow\">quick start</a>.  I have a JAMA server (requirements gathering app) that supports SOAP and I am looking at its WSDL.</p>\n\n<p>Is the information I need for SOAP::Lite available in the WSDL (specifically the proxy and the namespace/uri)?</p>\n\n<p>The WSDL contains this:</p>\n\n<pre><code>&lt;wsdl:definitions xmlns:ns1=\"http://v3.ws.contour.jamasoftware.com/\"\n  xmlns:ns2=\"http://cxf.apache.org/bindings/xformat\"\n  xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"\n  xmlns:tns=\"http://v3.ws.contour.jamasoftware.com\"\n  xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\"\n  xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" name=\"ContourSoapServiceV3\"\n  targetNamespace=\"http://v3.ws.contour.jamasoftware.com\"&gt;\n&lt;wsdl:import\n  location=\"http://MYSERVER/jama/ws/v3/soap/ContourSoapService?wsdl=ContourSoapService.wsdl\"\n  namespace=\"http://v3.ws.contour.jamasoftware.com/\"/&gt;\n&lt;wsdl:binding name=\"ContourSoapServiceV3SoapBinding\" type=\"ns1:ContourSoapService\"&gt;\n&lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\nAnd a little later on...\n&lt;wsdl:operation name=\"getProjects\"&gt;\n  &lt;soap:operation soapAction=\"getProjects\" style=\"document\"/&gt;\n  &lt;wsdl:input name=\"getProjects\"&gt;\n    &lt;soap:body use=\"literal\"/&gt;\n  &lt;/wsdl:input&gt;\n  &lt;wsdl:output name=\"getProjectsResponse\"&gt;\n    &lt;soap:body use=\"literal\"/&gt;\n  &lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n</code></pre>\n\n<p>For future reference, I did get this mostly working, here's the code:</p>\n\n<pre><code>my $soap = SOAP::Lite\n  -&gt; proxy('http://MYSERVER/jama/ws/v3/soap/ContourSoapService')\n  -&gt; uri('http://v3.ws.contour.jamasoftware.com');\nprint \"Soap is $soap\\n\";\n# Soap is SOAP::Lite=HASH(0x7fdc24e3fb70)\n</code></pre>\n\n<p>The PERL code I have sort of runs:</p>\n\n<pre><code>my $service = SOAP::Lite-&gt;service('http://MYSERVER/jama/ws/v3/soap/ContourSoapService?wsdl');\nprint \"service is $service\\n\";\n# This says service is ContourSoapServiceV3=HASH(0x7fd244804678) which is happy\n# But then I can't figure out what to do with $service\nmy %hash = %$service;\nforeach my $key (keys %hash )\n{\n   print \"key $key\\n\";\n}\n# service is ContourSoapServiceV3=HASH(0x7f8c8bf342f8)\n# key _packager\n# key _transport\n# key _on_fault\n# key _on_nonserialized\n# key _deserializer\n# key _on_action\n# key _autoresult\n# key _schema\nmy $schema = $service-&gt;_schema();\nprint \"schema is $schema\\n\";\n# Unrecognized method '_schema'. List of available method(s):\n# getDownstreamRelationships getRelationshipsForProject addAttachmentToItem\n# signBaseline clearSuspectLinksForItem deactivateProject\n# and eventually:\n# getVersion\n# and then many more\nprint \"Version is \" . $service-&gt;getVersion(3, 6) . \"\\n\";\n# Use of uninitialized value in concatenation (.) or string at ./JamaItems.perl line 66.\n\n# And if I bypass the $service it's no better:\nprint \"Version is \" . SOAP::Lite\n  -&gt; proxy('http://MYSERVER/jama/ws/v3/soap/ContourSoapService')\n  -&gt; uri('http://v3.ws.contour.jamasoftware.com')\n  -&gt; getVersion(3, 6)\n  -&gt; result . \"\\n\";\n# Use of uninitialized value in concatenation (.) or string at ./JamaItems.perl line 70.\n</code></pre>\n\n<p>The parameters I'm passing to getVersion() are definitely wrong, is that enough to cause the function to return nothing?  I had thought it would at least return me some kind of error ...</p>\n"}, {"tags": ["perl", "prototype", "subroutine"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438791852, "post_id": 31837759, "comment_id": 51597364, "body": "See <a href=\"http://stackoverflow.com/questions/8573437/perlcritic-subroutine-prototypes\">Perlcritic - Subroutine prototypes</a>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1438791914, "post_id": 31837759, "comment_id": 51597404, "body": "Have you read everything from <a href=\"http://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">this question</a>?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1438792718, "post_id": 31837759, "comment_id": 51597919, "body": "and <a href=\"http://www.perlmonks.org/?node_id=861966\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1438804450, "post_id": 31837759, "comment_id": 51604794, "body": "@Borodin, I only edit what I was thought was an accidental mistake. Turns out the other 95% of the question was the accidental mistake. Fixed, reopened, deleted the obsolete comments that I could, flagged the others, and answered the question."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 115, "user_id": 5194729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44fbac4e6f1262a355efcda02b9273e?s=128&d=identicon&r=PG", "display_name": "eduardo.tex", "link": "https://stackoverflow.com/users/5194729/eduardo-tex"}, "edited": false, "score": 0, "creation_date": 1438879559, "post_id": 31841349, "comment_id": 51642265, "body": "That&#39;s completely wrong. Most questions are discussed because the answer matters."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1438804111, "last_edit_date": 1495540283, "creation_date": 1438803328, "answer_id": 31841349, "question_id": 31837759, "link": "https://stackoverflow.com/questions/31837759/are-there-any-drawbacks-to-using-perls-prototypes/31841349#31841349", "title": "Are there any drawbacks to using Perl&#39;s prototypes?", "body": "<p>Your question is moot since prototypes have no effect on the need for parens. As long as the sub is declared before it's used, parens are optional.</p>\n\n<pre><code>$ perl -E'\n   sub foo { say @_; }\n   foo \"bar\";\n'\nbar\n\n$ perl -E'\n   sub foo;\n   foo \"bar\";\n   sub foo { say @_; }\n'\nbar\n</code></pre>\n\n<p>Note that there are serious downsides to omitting parens.</p>\n\n<ol>\n<li><p>It's easy to accidentally pass the wrong arguments to a sub:</p>\n\n<pre><code>$ perl -E'\n   sub foo { say @_; }\n   foo 9*6;\n   foo (4+5)*6;\n'\n54\n9\n</code></pre></li>\n<li><p>Errors in the code can lead to misleading and confusing error messages.</p>\n\n<pre><code>$ perl -E'foo bar \"baz\";'\nCan't locate object method \"foo\" via package \"bar\"\n   (perhaps you forgot to load \"bar\"?) at -e line 1.\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/q/11695110/589924\">Here</a>'s another example of the wackiness in store for you when you omit parens.</p></li>\n</ol>\n\n<p>The problems are arguably worse than the problems that result from using prototypes. Using either of these \"features\" doesn't seem wise; introducing both sets of problems is even less so.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438879516, "post_id": 31852142, "comment_id": 51642246, "body": "Hum, if this is the answer the op wants, the question should be closed as a dup. I have just done this."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 5, "last_activity_date": 1438853825, "creation_date": 1438853825, "answer_id": 31852142, "question_id": 31837759, "link": "https://stackoverflow.com/questions/31837759/are-there-any-drawbacks-to-using-perls-prototypes/31852142#31852142", "title": "Are there any drawbacks to using Perl&#39;s prototypes?", "body": "<p>One of the biggest drawbacks is that it makes the code harder to maintain. Very few people seem to understand what a Perl prototype actually does, so there is a lot of guessing and cargo-culting around them.</p>\n\n<p>Note, though, that Perl 5.20 has added a <a href=\"http://www.effectiveperlprogramming.com/2015/04/use-v5-20-subroutine-signatures/\" rel=\"noreferrer\">subroutine signature feature</a>. It's still experimental, but it's really kinda awesome and what most people expect prototypes to do. And, when we get type constraints added (oh Santa, please please please bring me those for Christmas I promise I'll be good!), we'll have what I think most people try to do with prototypes (with some syntax I make up):</p>\n\n<pre><code>sub foo (Int $foo, String $var, Int @array) { ... }\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 5194729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44fbac4e6f1262a355efcda02b9273e?s=128&d=identicon&r=PG", "display_name": "eduardo.tex", "link": "https://stackoverflow.com/users/5194729/eduardo-tex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "closed_date": 1438879658, "accepted_answer_id": 31852142, "answer_count": 2, "score": 0, "last_activity_date": 1438853825, "creation_date": 1438791381, "last_edit_date": 1438803038, "question_id": 31837759, "link": "https://stackoverflow.com/questions/31837759/are-there-any-drawbacks-to-using-perls-prototypes", "closed_reason": "Duplicate", "title": "Are there any drawbacks to using Perl&#39;s prototypes?", "body": "<p>I would to call my subs without using parentheses around the argument lists. For example, I'd like to use</p>\n\n<pre><code>mypush \\@list, $item;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>mypush(\\@list, $item);\n</code></pre>\n\n<p>To accomplish that, I've declared my sub with a prototype.</p>\n\n<pre><code>sub mypush (+@) { push shift, @_ }\n</code></pre>\n\n<p>In fact, that also allows me to the following, but that's just a bonus:</p>\n\n<pre><code>mypush @list, $item;\n</code></pre>\n\n<p>Other than having to declare subroutines with prototypes <em>before</em> using them anywhere in the code, is there any serious drawback to using prototypes in Perl?</p>\n\n<p>Code looks definitely cleaner to me. But where in general can prototypes go wrong? When would I regret it?</p>\n"}, {"tags": ["perl", "stack-overflow"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1438790552, "post_id": 31837289, "comment_id": 51596543, "body": "The arguments go through the shell prior to being processed by <code>perl</code>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438791390, "post_id": 31837289, "comment_id": 51597086, "body": "This works: <code>hexdump -C &lt; &lt;(perl -e &#39;print &quot;\\x00\\x00&quot; x 20&#39;)</code>, but this does not work: <code>hexdump -C &lt;&lt;&lt; &quot;$(perl -e &#39;print &quot;\\x00\\x00&quot; x 20&#39;)&quot;</code>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": true, "score": 2, "last_activity_date": 1438791074, "creation_date": 1438791074, "answer_id": 31837661, "question_id": 31837289, "link": "https://stackoverflow.com/questions/31837289/perl-command-line-memory-storage/31837661#31837661", "title": "Perl command line memory storage", "body": "<p>On a unix-like system, it is not possible to pass arguments containing <code>\\0</code> characters.</p>\n\n<p>Perl is capable of printing the <code>\\0</code>'s, and some shells may be capable of retaining them in an internal representation of the command line, but when the shell runs the other program, it will do so with the <code>execve</code> syscall (all higher-level program execution routines are built on top of <code>execve</code>). The format of the <code>argv</code> passed to <code>execve</code> is NULL-terminated array of <code>\\0</code>-terminated strings.</p>\n\n<p>This is the kernel ABI for program execution; there's no way around it. You could <em>almost</em> reimplement <code>execve</code> in userspace with your own ELF parser, but only the kernel can give you the privilege escalation of the set-id bits, and the kernel only does that when you call <code>execve</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 5194724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba9eb5c1f5fcf0940a32222a0a76f62?s=128&d=identicon&r=PG", "display_name": "Mayur Joshi", "link": "https://stackoverflow.com/users/5194724/mayur-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 31837661, "answer_count": 1, "score": 0, "last_activity_date": 1438791340, "creation_date": 1438790025, "last_edit_date": 1592644375, "question_id": 31837289, "link": "https://stackoverflow.com/questions/31837289/perl-command-line-memory-storage", "title": "Perl command line memory storage", "body": "<p>I'm trying to pass a command line argument to a program 'notesearch.c' in order to overflow the buffer and rewrite the return address to 0x00007fff9e89b2e7 in little endian format using the command :</p>\n<blockquote>\n<p>./notesearch $(perl -e 'print &quot;\\xe7\\xb2\\x89\\x9e\\xff\\x7f\\x00\\x00&quot; x\n20')</p>\n</blockquote>\n<p>However, the value stored at argv[1] is :</p>\n<blockquote>\n<p>0x7fff9cd441cc:   0xe7  0xb2  0x89  0x9e  0xff  0x7f  0xe7  0xb2</p>\n<p>0x7fff9cd441d4:   0x89  0x9e  0xff  0x7f  0xe7  0xb2  0x89  0x9e</p>\n<p>0x7fff9cd441dc:   0xff  0x7f  0xe7  0xb2  0x89  0x9e  0xff  0x7f ......</p>\n</blockquote>\n<p>The zeros are not stored ! So the actual 64bit overwritten return address can be any permutation of the  non zero hexadecimal digits.\nHow do i store the zeros as well?</p>\n"}, {"tags": ["perl", "xs"], "answers": [{"tags": [], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "is_accepted": false, "score": 4, "last_activity_date": 1438789558, "creation_date": 1438789558, "answer_id": 31837107, "question_id": 31836990, "link": "https://stackoverflow.com/questions/31836990/how-to-store-null-in-perl-hash/31837107#31837107", "title": "How to store null in Perl hash", "body": "<p><code>&amp;PL_sv_undef</code> is the undefined value, but you can't, unfortunately, use it naively in hashes and arrays.  Quoting <a href=\"http://perldoc.perl.org/perlguts.html#AVs%2c-HVs-and-undefined-values\" rel=\"nofollow\">perlguts</a>:</p>\n\n<p><em>Generally, if you want to store an undefined value in an AV or HV, you should not use &amp;PL_sv_undef , but rather create a new undefined value using the newSV function, for example:</em></p>\n\n<pre><code>av_store( av, 42, newSV(0) );\nhv_store( hv, \"foo\", 3, newSV(0), 0 );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3612, "user_id": 2464355, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f06527656750e7dc39c2b01e85fc302c?s=128&d=identicon&r=PG", "display_name": "John Tracid", "link": "https://stackoverflow.com/users/2464355/john-tracid"}, "edited": false, "score": 0, "creation_date": 1438789694, "post_id": 31837134, "comment_id": 51595956, "body": "So I have to release it manually before releasing hash with <code>hv_undef()</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3612, "user_id": 2464355, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f06527656750e7dc39c2b01e85fc302c?s=128&d=identicon&r=PG", "display_name": "John Tracid", "link": "https://stackoverflow.com/users/2464355/john-tracid"}, "edited": false, "score": 0, "creation_date": 1438789870, "post_id": 31837134, "comment_id": 51596063, "body": "No, as part of clearing a hash, the refcount of the scalars therein will get decremented."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3612, "user_id": 2464355, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f06527656750e7dc39c2b01e85fc302c?s=128&d=identicon&r=PG", "display_name": "John Tracid", "link": "https://stackoverflow.com/users/2464355/john-tracid"}, "edited": false, "score": 0, "creation_date": 1438789966, "post_id": 31837134, "comment_id": 51596126, "body": "You should never have to use <code>undef(%hash)</code> aka <code>hv_undef(hv)</code>. You probably want <code>%hash=()</code> aka <code>hv_clear(hv)</code> on the rare occasion that you want to empty the hash."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438791643, "post_id": 31837134, "comment_id": 51597222, "body": "yes; either you intend to use the hash again, in which case hv_undef will clear some things (I believe) that then will just have to be reallocated, or you don&#39;t, in which case you should be freeing the hash, not undefing it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1438793414, "last_edit_date": 1438793414, "creation_date": 1438789630, "answer_id": 31837134, "question_id": 31836990, "link": "https://stackoverflow.com/questions/31836990/how-to-store-null-in-perl-hash/31837134#31837134", "title": "How to store null in Perl hash", "body": "<p><code>&amp;PL_sv_undef</code> is <em>the</em> undef scalar. It's read-only. You probably want <em>a</em> fresh undef scalar, as created using <code>newSV(0)</code><sup>[1]</sup>.</p>\n\n<p>The scalar returned by <code>newSV(0)</code> starts with a refcount of one, of which the hash \"takes possession\" when the scalar is stored in it using <code>hv_stores</code>, so don't <code>SvREFCNT_dec</code> or <code>sv_2mortal</code> the returned scalar. (Do increase the reference count if you store it elsewhere too.)</p>\n\n<hr>\n\n<ol>\n<li><p>&#x20;</p>\n\n<pre><code># \"The\" undef (A specific read-only variable that will never get deallocated)\n$ perl -MDevel::Peek -e'Dump(undef)'\nSV = NULL(0x0) at 0x3596700\n  REFCNT = 2147483641\n  FLAGS = (READONLY,PROTECT)\n\n# \"An\" undef (It's not the type of SVt_NULL that make it undef...)\n$ perl -MDevel::Peek -e'Dump($x)'\nSV = NULL(0x0) at 0x1bb7880\n  REFCNT = 1\n  FLAGS = ()\n\n# Another undef (... It's the lack of \"OK\" flags that make it undef)\n$ perl -MDevel::Peek -e'$x=\"abc\"; $x=undef; Dump($x)'\nSV = PV(0x3d5f360) at 0x3d86590\n  REFCNT = 1\n  FLAGS = ()\n  PV = 0\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 3612, "user_id": 2464355, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f06527656750e7dc39c2b01e85fc302c?s=128&d=identicon&r=PG", "display_name": "John Tracid", "link": "https://stackoverflow.com/users/2464355/john-tracid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "accepted_answer_id": 31837134, "answer_count": 2, "score": 4, "last_activity_date": 1438793414, "creation_date": 1438789246, "question_id": 31836990, "link": "https://stackoverflow.com/questions/31836990/how-to-store-null-in-perl-hash", "title": "How to store null in Perl hash", "body": "<p>I want to use Perl hash in my C code (XS) as a set, so I only need to keep keys in hash. Is it possible to store something like null or another constant value to avoid creating unnecessary value?</p>\n\n<p>Something like this:</p>\n\n<pre><code>int add_value(HV *hash, SV *value)\n{\n    // just an example of key\n    char key[64];\n    sprintf(key, \"%p\", value);\n    if (hv_exists(hash, key, strlen(key)) return 0;\n\n    // here I need something instead of ?\n    return hv_stores(hash, key, ?) != NULL;\n}\n</code></pre>\n\n<p>One of possible solution could be to store value itself, but maybe there is special constant for <code>undef</code> or null.</p>\n"}, {"tags": ["regex", "perl", "grep", "pattern-matching"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 11722, "user_id": 1981275, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f3e2752d5fbb3693863943132ffa39f6?s=128&d=identicon&r=PG", "display_name": "user1981275", "link": "https://stackoverflow.com/users/1981275/user1981275"}, "edited": false, "score": 1, "creation_date": 1438790510, "post_id": 31837008, "comment_id": 51596516, "body": "@user1981275 Please consider <a href=\"http://meta.stackexchange.com/questions/23138/how-to-accept-the-answer-on-stack-overflow\">accepting</a> the answer.."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1438790740, "last_edit_date": 1438790740, "creation_date": 1438789281, "answer_id": 31837008, "question_id": 31836931, "link": "https://stackoverflow.com/questions/31836931/perl-regex-extract-two-consecutive-words/31837008#31837008", "title": "Perl regex extract two consecutive words", "body": "<p><code>\\w</code> only matches one character. You want the following:</p>\n\n<pre><code>/^\\w+\\s+\\w+\\z/\n</code></pre>\n\n<ul>\n<li><code>^</code> matches the start of string.</li>\n<li><code>\\w+</code> matches one of more \"word\" characters.</li>\n<li><code>\\s+</code> matches one of more whitespace characters.</li>\n<li><code>\\w+</code> matches one of more \"word\" characters.</li>\n<li><code>\\z</code> matches the end of the string.</li>\n</ul>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 1, "last_activity_date": 1438791224, "last_edit_date": 1438791224, "creation_date": 1438791003, "answer_id": 31837629, "question_id": 31836931, "link": "https://stackoverflow.com/questions/31836931/perl-regex-extract-two-consecutive-words/31837629#31837629", "title": "Perl regex extract two consecutive words", "body": "<p><code>I tried @b=grep {/^\\w\\s+\\w$/} but then I don't get any matches</code></p>\n\n<p>The only reason it doesn't work is because you left off quantifier(s) at<br>\nthe beginning/end:  </p>\n\n<pre><code>/^\\w\\s+\\w$/  \n    ^    ^  \n</code></pre>\n\n<p>where it would work fine if it were <code>/^\\w+\\s+\\w+$/</code>  </p>\n\n<p>The better way to do it though is add some flexibility with whitespace:  <code>/^\\s*\\w+\\s+\\w+\\s*$/</code></p>\n"}], "owner": {"reputation": 11722, "user_id": 1981275, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f3e2752d5fbb3693863943132ffa39f6?s=128&d=identicon&r=PG", "display_name": "user1981275", "link": "https://stackoverflow.com/users/1981275/user1981275"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 31837008, "answer_count": 2, "score": 3, "last_activity_date": 1438791224, "creation_date": 1438789104, "question_id": 31836931, "link": "https://stackoverflow.com/questions/31836931/perl-regex-extract-two-consecutive-words", "title": "Perl regex extract two consecutive words", "body": "<p>I am trying to extract strings containing two words separated by one or more whitespace from a list.\nExample:</p>\n\n<pre><code>@a=(\"aaa12:.\", \"lala lulu\", \"erwer\", \",\", \"lala   loqw  asqwd\", \"asdas   sadsad\", \"asasd| asq\");\n@b=grep {/\\w+\\s+\\w+/} @a;\n</code></pre>\n\n<p>this gives me    </p>\n\n<pre><code>      'lala lulu',\n      'lala   loqw  asqwd',\n      'asdas   sadsad'\n</code></pre>\n\n<p>but I don't want to grep the one with three words...</p>\n\n<p>I tried <code>@b=grep {/^\\w\\s+\\w$/}</code> but then I don't get any matches. Should be simple, but I just don't get it. Which regex do I need here?</p>\n"}, {"tags": ["mysql", "sql", "arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1438786499, "post_id": 31835828, "comment_id": 51593762, "body": "Do you have <code>use strict;</code> enabled? If so, you should be getting <code>Global symbol &quot;$headers&quot; requires explicit package name</code> because you declare the array <code>@headers</code> at the top but never declare the array reference <code>$headers</code> that you try to use in <code>map { ... } @$headers</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1438786594, "post_id": 31835828, "comment_id": 51593828, "body": "What do you mean by &quot;crash&quot;?"}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438787645, "post_id": 31835828, "comment_id": 51594574, "body": "@ThisSuitIsBlackNot Yes I do have it enabled, and I get that. I was not sure how to use the map {...}@$headers proper. Am I missing a declaration line or using the map wrong?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1438787682, "post_id": 31835828, "comment_id": 51594603, "body": "Change <code>@$headers</code> to <code>@headers</code>. <code>@headers</code> is an array; <code>@$headers</code> dereferences the array <i>reference</i> <code>$headers</code>, which you never declared."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438789807, "post_id": 31835828, "comment_id": 51596026, "body": "You seem to have forgotten to tell us what the problem is. What unexpected behaviour are you seeing?"}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438790379, "post_id": 31835828, "comment_id": 51596421, "body": "@DaveCross Originally it was what described. Since I have changed (at)$headers to (at)headers, the problem is saying I have an initialized value in the join. Which I find weird when I decalre it upfront."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1438790637, "post_id": 31835828, "comment_id": 51596605, "body": "A vital tool in the programmer&#39;s skillset is <b>accuracy</b>. I suspect you mean &quot;uninitialized&quot; rather than &quot;initialized&quot;. Please be more careful in reporting what you see, or we won&#39;t be able to help you. If you have an uninitialised value coming out of your <code>map</code>, then I expect that <code>$headd</code> contains values that don&#39;t exist as keys in <code>%column_mapping</code>."}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438791765, "post_id": 31835828, "comment_id": 51597305, "body": "@DaveCross this was exactly it, thank you very much. Sorry for writing the wrong problem in my last comment."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438791933, "post_id": 31835828, "comment_id": 51597415, "body": "I&#39;ve written that all up as an answer. Feel free to accept it :-)"}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438792190, "post_id": 31835828, "comment_id": 51597568, "body": "@DaveCross accepted and voted up, I feel like an idiot for not realizing I wasn&#39;t doing the mapping proper. Would have taken me a long while to clue in that was the problem."}], "answers": [{"comments": [{"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438796350, "post_id": 31837956, "comment_id": 51600007, "body": "Do you know if there is a way that instead of a default value. Either remove from the string before its made into an array, remove from the array, or not do a join on it, if its not in the map."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1438806769, "last_edit_date": 1438806769, "creation_date": 1438791877, "answer_id": 31837956, "question_id": 31835828, "link": "https://stackoverflow.com/questions/31835828/cant-find-my-error/31837956#31837956", "title": "Can&#39;t find my error", "body": "<p>Your main error is in not adding <code>use strict</code> and <code>use warnings</code> to the top of your Perl code. These lines will find a number of problems that often sneak into Perl programs. They would have found this problem.</p>\n\n<p>The problem is that you declare an array called <code>@headers</code>.</p>\n\n<pre><code>my @headers = split(',', $headd);\n</code></pre>\n\n<p>But the next time you try to use it, you are assuming that it is an array <strong>reference</strong> called <code>$headers</code>.</p>\n\n<pre><code>join( ',', map { $column_mapping{$_} } @$headers )\n</code></pre>\n\n<p>In Perl, <code>$headers</code> and <code>@headers</code> are two completely different variables with absolutely no connection between them. As you have never given <code>$headers</code> a value, trying to dereference it (<code>@$headers</code>) was never going to go well.</p>\n\n<p>But you've worked that out from the comments. You've made the suggested fix (replace <code>@$headers</code> with <code>@headers</code>) and now you get a different error:</p>\n\n<blockquote>\n  <p>the problem is saying I have an initialized value in the join</p>\n</blockquote>\n\n<p>I assume you mean \"uninitialized\" :-)</p>\n\n<p>Sounds like the problem is on the same line that we discussed above (now with the fixed syntax):</p>\n\n<pre><code>join( ',', map { $column_mapping{$_} } @headers )\n</code></pre>\n\n<p>So what's happening here? Well, we are effectively translating values to new values. For each value in <code>@headers</code> we look it up in <code>%column_mappings</code> and return the associated value from the hash.</p>\n\n<p>How could that give us an undefined value? Well, what happens if we look up a key in a hash that doesn't actually exist in the hash? Perl gives us the special value \"undef\". Which would trigger the warning that you are getting.</p>\n\n<p>So my suggestion to you is that you double-check the values that you are getting in <code>@headers</code> (which will be the values from <code>$headd</code>) and make sure that all of those possible values have an associated key in <code>%column_mappings</code>.</p>\n\n<p>One workaround would be to set a default value in the <code>map</code>. Something like this perhaps:</p>\n\n<pre><code>join( ',', map { $column_mapping{$_} // 'MISSING MAPPING' } @$headers )\n</code></pre>\n\n<p>That will almost certainly break your database interaction at some point further down the line - but at least it will be obvious what the problem is!</p>\n\n<p><strong>Update:</strong> To eliminate the problematic values before they get into <code>@headers</code>:</p>\n\n<pre><code>my @headers = grep { exists $column_mapping{$_} } split(',', $headd);\n</code></pre>\n\n<p>You'll want to move this statement after the definition of <code>%column_mappings</code> (for hopefully obvious reasons).</p>\n"}], "owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 31837956, "answer_count": 1, "score": 1, "last_activity_date": 1438806769, "creation_date": 1438786052, "question_id": 31835828, "link": "https://stackoverflow.com/questions/31835828/cant-find-my-error", "title": "Can&#39;t find my error", "body": "<p>Hi here is a small snipit of a very large perl program I am working on, however I believe the error is around this part.</p>\n\n<pre><code>my $headd = \"test,test1,test2,test3,ect\";\nmy @headers = split(',', $headd);\n\nCONNECT TO DATABASE STUFF THAT WORKS FINE\n\n my %column_mapping = (\n    \"GPS ALT\" =&gt; 'GPS_ALT',\n    \"GPS DTS\" =&gt; 'GPS_DTS',\n    \"GPS FIX\" =&gt; 'GPS_FIX',\n    \"GPS HDG\" =&gt; 'GPS_HDG'\n )\n\nmy $sql       = sprintf 'INSERT INTO tablename ( %s ) VALUES ( %s )',\n   join( ',', map { $column_mapping{$_} } @$headers ),\n   join( ',', ('?') x scalar @$headers );   # note the list around the '?'\n</code></pre>\n\n<p>Since I am fairly new to perl, if I had to guess I would say its around here </p>\n\n<pre><code>    join( ',', map { $column_mapping{$_} } @$headers ),\n    join( ',', ('?') x scalar @$headers );\n</code></pre>\n\n<p>I think I have the wrong data types for headers or something, but I am not entirely sure what the problem is, it just crashes around those lines. </p>\n\n<p>If you happen to see something I did wrong that would be great:) </p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438787011, "post_id": 31836096, "comment_id": 51594152, "body": "i did not try this Perl script, but i expect a very different result like the desired CSV formatted one..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438787187, "post_id": 31836096, "comment_id": 51594235, "body": "The question at hand is about grouping the records by thread. Are you saying you also problems outputting a CSV? You should have started by using Text::CSV_XS. If you have problems with the module, post a proper question with your work and your problem."}, {"owner": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438787608, "post_id": 31836096, "comment_id": 51594540, "body": "well, i am not a Perl hacker, i just use Perl occasionally for extracting data from logfiles using regular expressions. Which is very handy and i hoped that extracting data which span over multiple lines is also not too complicated using Perl and regex. And the CVS file i usually create by piping the STDOUT of perl to a file. I never used a special module for it. I tried your script now, and it terminates with a syntax error at line 6, near &quot;push&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438787757, "post_id": 31836096, "comment_id": 51594664, "body": "SO is not a code writing service. We help people with their programming problems. You came with a problem grouping records, and I&#39;ve provided a solution. If you have any questions about it, I&#39;ll be happy to answer them. I don&#39;t know why you&#39;re still talking about CSV."}, {"owner": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438787958, "post_id": 31836096, "comment_id": 51594816, "body": "I am pretty aware that SO is not a code writing service. But i want to learn something new regarding regex and how Perl applies them when data is feeded via STDIN. I personally like regex but unfortunately i am not very used to them :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438788092, "post_id": 31836096, "comment_id": 51594912, "body": "The regex match operator doesn&#39;t care from where the data in the scalar being matched came."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438788159, "post_id": 31836096, "comment_id": 51594959, "body": "Re &quot;I tried your script now, and it terminates with a syntax error at line 6, near &#39;push&#39;&quot;, Just noticed your edit. It was because of a missing semi-colon I&#39;ve already fixed."}, {"owner": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438788859, "post_id": 31836096, "comment_id": 51595405, "body": "the script runs now. It dies after a while with &quot;Out of memory!&quot; with smaller logfiles it does not die, but it shows no results. I assume thats because the script does not output anything. I tried to find <code>process</code> in perldoc, but i did not find it..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438789132, "post_id": 31836096, "comment_id": 51595586, "body": "Oops, fixed. Was checking if the line started with <code>Message processed in </code> rather than fourth field. // <code>process</code> is for you to write. It&#39;s called for each group of rows to do with as you please. You said something about outputting CSV..."}, {"owner": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438789285, "post_id": 31836096, "comment_id": 51595695, "body": "now i get the following error: <code>Undefined subroutine &amp;main::process called at t.pl line 7, &lt;&gt; line 8370.</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438789369, "post_id": 31836096, "comment_id": 51595740, "body": "I repeat: <code>process</code> is for you to write. It&#39;s called for each group of rows to do with as you please. You said something about outputting CSV..."}, {"owner": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "edited": false, "score": 0, "creation_date": 1438789657, "post_id": 31836096, "comment_id": 51595933, "body": "well, i did not see the reference that i need to write a &quot;process&quot; function... As i said earlier, i am not a Perl hacker :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1438788952, "last_edit_date": 1438788952, "creation_date": 1438786815, "answer_id": 31836096, "question_id": 31835600, "link": "https://stackoverflow.com/questions/31835600/how-to-match-over-multiple-lines-in-perl-when-reading-input-from-the-pipe/31836096#31836096", "title": "How to match over multiple lines in Perl when reading input from the pipe", "body": "<p>Hashes are usually used for grouping.</p>\n\n<pre><code>my %buf;\nwhile (&lt;&gt;) {\n   chomp;\n   my @fields = split / \\| /;\n   my $id = $fields[2];\n   push @{ $buf{$id} }, \\@fields;\n   process(@{ delete($buf{$id}) })\n      if $fields[3] =~ /^Message processed in /;\n}\n</code></pre>\n\n<p><code>process</code> is called for each group of rows. Each of <code>process</code>'s parameters is a row, as a reference to an array of fields.</p>\n"}], "owner": {"reputation": 767, "user_id": 1422058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49348dcc2a6cc3bffdad87c3c0df7eb7?s=128&d=identicon&r=PG", "display_name": "Joysn", "link": "https://stackoverflow.com/users/1422058/joysn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1438788952, "creation_date": 1438785444, "question_id": 31835600, "link": "https://stackoverflow.com/questions/31835600/how-to-match-over-multiple-lines-in-perl-when-reading-input-from-the-pipe", "title": "How to match over multiple lines in Perl when reading input from the pipe", "body": "<p>I want to extract data from log files. \nThat data span over multiple lines.\nThe starting line contains a timestamp, a thread id, and some other relevant attributes.\nThe ending line contains the thread id and a elapsed time how long that thread worked was busy.\nThe results should be written into a CVS file for statistical analysis.\nEach result row should look like: timestamp of the starting line, thread id, the other relevant attributes and the elapsed time.</p>\n\n<p>A 'rearranged' log snipped looks like follows:</p>\n\n<pre><code>2015-08-01 12:23:21.123 | DEBUG | Thread-10 | Received message with id 1234 - com.example.product.module.Receiver#123\n2015-08-01 12:23:21.123 | DEBUG | Thread-10 | some log message #1 - com.example.product.module.Helper1#123\n2015-08-01 12:23:21.123 | DEBUG | Thread-10 | some log message #2 - com.example.product.module.Helper2#123\n2015-08-01 12:23:21.123 | DEBUG | Thread-10 | some log message #3 - com.example.product.module.Helper3#123\n2015-08-01 12:23:21.123 | DEBUG | Thread-10 | some log message #4 - com.example.product.module.Helper4#123\n2015-08-01 12:23:21.224 | DEBUG | Thread-10 | Message processed in 101ms - com.example.product.module.Receiver#130\n\n2015-08-01 12:24:21.123 | DEBUG | Thread-11 | Received message with id 2345 - com.example.product.module.Receiver#123\n2015-08-01 12:24:21.123 | DEBUG | Thread-11 | some log message #1 - com.example.product.module.Helper1#123\n2015-08-01 12:24:21.123 | DEBUG | Thread-11 | some log message #2 - com.example.product.module.Helper2#123\n2015-08-01 12:24:21.123 | DEBUG | Thread-11 | some log message #3 - com.example.product.module.Helper3#123\n2015-08-01 12:24:21.123 | DEBUG | Thread-11 | some log message #4 - com.example.product.module.Helper4#123\n2015-08-01 12:24:21.225 | DEBUG | Thread-11 | Message processed in 102ms - com.example.product.module.Receiver#130\n\n2015-08-01 12:25:21.123 | DEBUG | Thread-12 | Received message with id 3456 - com.example.product.module.Receiver#123\n2015-08-01 12:25:21.123 | DEBUG | Thread-12 | some log message #1 - com.example.product.module.Helper1#123\n2015-08-01 12:25:21.123 | DEBUG | Thread-12 | some log message #2 - com.example.product.module.Helper2#123\n2015-08-01 12:25:21.123 | DEBUG | Thread-12 | some log message #3 - com.example.product.module.Helper3#123\n2015-08-01 12:25:21.123 | DEBUG | Thread-12 | some log message #4 - com.example.product.module.Helper4#123\n2015-08-01 12:25:21.226 | DEBUG | Thread-12 | Message processed in 103ms - com.example.product.module.Receiver#130\n</code></pre>\n\n<p>But in reality those log messages are mixed, as the application runns multiple threads at the same time. So the real log looks like:</p>\n\n<pre><code>2015-08-01 12:23:21.123 | DEBUG | Thread-10 | Received message with id 1234 - com.example.product.module.Receiver#123\n2015-08-01 12:23:21.123 | DEBUG | Thread-10 | some log message #1 - com.example.product.module.Helper1#123\n2015-08-01 12:23:21.123 | DEBUG | Thread-10 | some log message #2 - com.example.product.module.Helper2#123\n2015-08-01 12:24:21.123 | DEBUG | Thread-11 | Received message with id 2345 - com.example.product.module.Receiver#123\n2015-08-01 12:23:21.123 | DEBUG | Thread-10 | some log message #3 - com.example.product.module.Helper3#123\n2015-08-01 12:24:21.123 | DEBUG | Thread-11 | some log message #1 - com.example.product.module.Helper1#123\n2015-08-01 12:25:21.123 | DEBUG | Thread-12 | Received message with id 3456 - com.example.product.module.Receiver#123\n2015-08-01 12:25:21.123 | DEBUG | Thread-12 | some log message #1 - com.example.product.module.Helper1#123\n2015-08-01 12:24:21.123 | DEBUG | Thread-11 | some log message #2 - com.example.product.module.Helper2#123\n2015-08-01 12:25:21.123 | DEBUG | Thread-12 | some log message #2 - com.example.product.module.Helper2#123\n2015-08-01 12:23:21.123 | DEBUG | Thread-10 | some log message #4 - com.example.product.module.Helper4#123\n2015-08-01 12:24:21.123 | DEBUG | Thread-11 | some log message #3 - com.example.product.module.Helper3#123\n2015-08-01 12:23:21.224 | DEBUG | Thread-10 | Message processed in 101ms - com.example.product.module.Receiver#130\n2015-08-01 12:24:21.224 | DEBUG | Thread-11 | some log message #4 - com.example.product.module.Helper4#123\n2015-08-01 12:25:21.224 | DEBUG | Thread-12 | some log message #3 - com.example.product.module.Helper3#123\n2015-08-01 12:25:21.224 | DEBUG | Thread-12 | some log message #4 - com.example.product.module.Helper4#123\n2015-08-01 12:24:21.225 | DEBUG | Thread-11 | Message processed in 102ms - com.example.product.module.Receiver#130\n2015-08-01 12:25:21.226 | DEBUG | Thread-12 | Message processed in 103ms - com.example.product.module.Receiver#130\n</code></pre>\n\n<p>I crafted a regular expression which is able to perform matches on the 'rearranged' log: </p>\n\n<pre><code>/(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\.\\d{3}).*(Thread-\\d+).*Received message with id (\\d+) [\\s\\S]+?\\2.*Message processed in (\\d+)ms/g\n</code></pre>\n\n<p>The desired result when printing the captured groups (<code>print \"$1;$2;$3;$4\\n\";</code>) is:</p>\n\n<pre><code>2015-08-01 12:23:21.123;Thread-10;1234;101\n2015-08-01 12:24:21.123;Thread-11;2345;102\n2015-08-01 12:25:21.123;Thread-12;3456;103\n</code></pre>\n\n<p>When i use www.regexr.com to try those examples, the run on the rearranged log snipped gives three matches.</p>\n\n<p>My first problem now is: when i want to use the regex in an Perl one-liner i am not able to perform the match over the multiple lines. I think it has something to do with the -n switch which causes to add a loop around the perl code, and the perl code being executed on each line separately.</p>\n\n<p><code>cat files.log | perl -ne 'next LINE unless /(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\.\\d{3}).*(Thread-\\d+).*Received message with id (\\d+) [\\s\\S]+?\\2.*Message processed in (\\d+)ms/gm; print \"$1;$2;$3;$4\\n\";'</code></p>\n\n<p>The second problem i face is, that on the real log files where the log files are not so nicely arranged i can not extract all possible matches. In the given snipped it is only possible to match one result, not all three which are there.</p>\n\n<p>I tried things like setting the record seperator in the Perl command to undef <code>$\\=undef;</code>, remove the <code>next LINE unless</code>...</p>\n\n<p>Can anybody point me in a direction which might help?</p>\n\n<p>The logfiles can get rather big (~200mb), so combining all line into one huge String does not seem to be a good approach, although i haven't tried it yet.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "edited": false, "score": 0, "creation_date": 1438782471, "post_id": 31833711, "comment_id": 51590671, "body": "You want to get reference to the function but your code actually gets reference to the function&#39;s output. This is why the behaviour chages if you change what the function returns. You (probably) want <code>\\&amp;test</code>  not <code>\\&amp;test($pass)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 5, "last_activity_date": 1438780895, "creation_date": 1438780895, "answer_id": 31833793, "question_id": 31833711, "link": "https://stackoverflow.com/questions/31833711/why-reference-of-a-function-is-being-returned-as-scalar/31833793#31833793", "title": "why reference of a function is being returned as SCALAR", "body": "<p>You are not taking a reference to a function.</p>\n\n<p>When you write:</p>\n\n<pre><code>\\&amp;test($pass);\n</code></pre>\n\n<p>that is a function invocation (you have an argument list).</p>\n\n<p>Therefore, the function <code>test</code> is invoked with the argument <code>$pass</code> and then you take a reference to the returned value (you should not prefix function invocations with <code>&amp;</code> unless you know and specifically desire what it does).</p>\n\n<p>If you want a reference to <code>test</code>, you should use</p>\n\n<pre><code>$my_hash{'fun'} = \\&amp;test; ### (1)\n</code></pre>\n\n<p>If you want a reference to a function that invokes <code>test</code> with the currently in scope argument <code>$pass</code>, you should use:</p>\n\n<pre><code>$my_hash{'fun'} = sub { test($pass) }; ### (2)\n</code></pre>\n\n<p>Note that the latter will create a closure over the currently in scope variable <code>$pass</code>. To invoke (1), you use <code>$my_hash{fun}-&gt;($some_arg)</code>. To invoke (2), you use <code>$my_hash{fun}-&gt;()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 3409, "user_id": 2310989, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/034bf2e2ba137b4b6db19cea989150d1?s=128&d=identicon&r=PG", "display_name": "Gaurav Pant", "link": "https://stackoverflow.com/users/2310989/gaurav-pant"}, "edited": false, "score": 1, "creation_date": 1438781282, "post_id": 31833798, "comment_id": 51589706, "body": "ref([]) returns &quot;ARRAY&quot; not &quot;REF&quot;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 3409, "user_id": 2310989, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/034bf2e2ba137b4b6db19cea989150d1?s=128&d=identicon&r=PG", "display_name": "Gaurav Pant", "link": "https://stackoverflow.com/users/2310989/gaurav-pant"}, "edited": false, "score": 1, "creation_date": 1438781377, "post_id": 31833798, "comment_id": 51589803, "body": "@virus: But you&#39;re using <code>\\1</code> and <code>\\[]</code>, i.e. SCALAR and REF."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 3409, "user_id": 2310989, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/034bf2e2ba137b4b6db19cea989150d1?s=128&d=identicon&r=PG", "display_name": "Gaurav Pant", "link": "https://stackoverflow.com/users/2310989/gaurav-pant"}, "edited": false, "score": 3, "creation_date": 1438781659, "post_id": 31833798, "comment_id": 51590019, "body": "@virus: Please understand the difference between <code>ref \\&amp;test</code> and <code>ref \\&amp;test()</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1438781244, "last_edit_date": 1438781244, "creation_date": 1438780906, "answer_id": 31833798, "question_id": 31833711, "link": "https://stackoverflow.com/questions/31833711/why-reference-of-a-function-is-being-returned-as-scalar/31833798#31833798", "title": "why reference of a function is being returned as SCALAR", "body": "<p>Without implicit <code>return</code>, a subroutine returns the value of the last expression evaluated. <code>print</code> returns 1 on success, i.e. a scalar.</p>\n\n<p><code>\\&amp;test($pass)</code> is the same as <code>\\ test($pass)</code>, i.e. it evaluates to the reference to the value returned by the sub <code>test</code>. If it returns 1 from <code>print</code>, you'll get SCALAR, if it returns <code>[]</code>, you'll get REF, because you have a reference to a reference to an array. You can verify it by dereferencing it, too:</p>\n\n<pre><code>print ${ $my_hash{fun} }, ': ', ref $my_hash{fun}, \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 3409, "user_id": 2310989, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/034bf2e2ba137b4b6db19cea989150d1?s=128&d=identicon&r=PG", "display_name": "Gaurav Pant", "link": "https://stackoverflow.com/users/2310989/gaurav-pant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 31833798, "answer_count": 2, "score": 2, "last_activity_date": 1438781244, "creation_date": 1438780686, "last_edit_date": 1438781170, "question_id": 31833711, "link": "https://stackoverflow.com/questions/31833711/why-reference-of-a-function-is-being-returned-as-scalar", "title": "why reference of a function is being returned as SCALAR", "body": "<p>I am not able to understand if I uncommented  the return line then output will be \"CODE\" else \"SCALAR\".. why it is so?</p>\n\n<pre><code>use strict;\nsub test {\n        my ($abc,$grab) = @_;\n        print 'i m here';\n        print $abc;\n        ## return [];   if uncommented then output will be \"REF\" else \"SCALAR\"\n}\n\nmy $pass= \"i m good\";\nmy %my_hash = ();\n$my_hash{'fun'} = \\&amp;test($pass);\nprint ref($my_hash{'fun'})\n</code></pre>\n"}, {"tags": ["perl", "replace"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1438776958, "last_edit_date": 1438776958, "creation_date": 1438776535, "answer_id": 31832105, "question_id": 31832057, "link": "https://stackoverflow.com/questions/31832057/perl-remove-substring-in-the-middle-of-a-string/31832105#31832105", "title": "Perl remove substring in the middle of a string", "body": "<p>You can just replace it with <a href=\"http://perldoc.perl.org/functions/substr.html\"><code>substr</code></a>.</p>\n\n<pre><code>use 5.12;\nmy $foo = '123456789';\nsubstr $foo, 4, 2, q{};\n\nsay $foo; # prints 1234789\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438776881, "post_id": 31832186, "comment_id": 51586371, "body": "Note you need to have the parenthesis to do that because otherwise the <code>=</code> binds higher than the <code>substr</code> call and you end up with a warning because you are trying to assign the empty string to <code>2</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438776993, "post_id": 31832186, "comment_id": 51586445, "body": "Yeah that bit me nicely."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 4, "last_activity_date": 1438776736, "creation_date": 1438776736, "answer_id": 31832186, "question_id": 31832057, "link": "https://stackoverflow.com/questions/31832057/perl-remove-substring-in-the-middle-of-a-string/31832186#31832186", "title": "Perl remove substring in the middle of a string", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow\"><code>substr()</code></a> as lvalue</p>\n\n<pre><code>my $str = \"123456789\";\nsubstr($str, 4, 2) = \"\";\n\nprint $str;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>1234789\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1438794114, "last_edit_date": 1438794114, "creation_date": 1438776868, "answer_id": 31832229, "question_id": 31832057, "link": "https://stackoverflow.com/questions/31832057/perl-remove-substring-in-the-middle-of-a-string/31832229#31832229", "title": "Perl remove substring in the middle of a string", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow\">substr</a> fuction:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $string = \"123456789\";\nsubstr($string, 4, 2, '');\nprint $string, \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1234789\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 4180345, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd5766ada96891ff3478f96ff856bc4b?s=128&d=identicon&r=PG&f=1", "display_name": "chris202 ", "link": "https://stackoverflow.com/users/4180345/chris202"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2041, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1438794114, "creation_date": 1438776397, "last_edit_date": 1438776996, "question_id": 31832057, "link": "https://stackoverflow.com/questions/31832057/perl-remove-substring-in-the-middle-of-a-string", "title": "Perl remove substring in the middle of a string", "body": "<p>How can I remove (or replace by nothing) the 4th and 5th character of my string, in this case number 5 and number 6, to go from this:</p>\n\n<pre><code>123456789\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>1234789\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 2, "creation_date": 1438772488, "post_id": 31830613, "comment_id": 51583462, "body": "pipes are delimiters. We can&#39;t use <code>&#47;</code> as delimiters because the variable <code>$pathThere</code> contains forward slashes. So we go for an another delimiter, say <code>|</code> or <code>~</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438774566, "post_id": 31830613, "comment_id": 51584792, "body": "See also <a href=\"http://stackoverflow.com/questions/31813002/what-is-that-meaning-of-testmodule-s-ig-in-perl\" title=\"what is that meaning of testmodule s ig in perl\">stackoverflow.com/questions/31813002/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 253206, "user_id": 12960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53d539b59c19087182f0b1c53bb52de?s=128&d=identicon&r=PG", "display_name": "Brian Agnew", "link": "https://stackoverflow.com/users/12960/brian-agnew"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438777792, "post_id": 31830674, "comment_id": 51587006, "body": "I was looking for something like that. I will amend appropriately. Thank you"}], "tags": [], "owner": {"reputation": 253206, "user_id": 12960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53d539b59c19087182f0b1c53bb52de?s=128&d=identicon&r=PG", "display_name": "Brian Agnew", "link": "https://stackoverflow.com/users/12960/brian-agnew"}, "is_accepted": true, "score": 5, "last_activity_date": 1438777833, "last_edit_date": 1438777833, "creation_date": 1438772587, "answer_id": 31830674, "question_id": 31830613, "link": "https://stackoverflow.com/questions/31830613/perl-regex-with-pipes/31830674#31830674", "title": "Perl regex with pipes", "body": "<p>In Perl you'd normally use the / as a delimiter in the regexp.</p>\n\n<pre><code>$pathHere =~ s/abc/def/;   # replace 'abc' with 'def'\n</code></pre>\n\n<p>However you can see that for paths, that's problematic, since you'd have to escape everything. </p>\n\n<pre><code>$pathHere =~ s/my\\/path\\/here/my\\/newpath\\/there/;  \n</code></pre>\n\n<p>Consequently Perl allows you to specify a different delimiter as the character after the 's', hence:</p>\n\n<pre><code>$pathHere =~ s|my/path/here|my/newpath/there|;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">the documentation</a> for more information.</p>\n"}], "owner": {"reputation": 427, "user_id": 4243006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c9e1a64f40937b10ba5793e54e2396c?s=128&d=identicon&r=PG&f=1", "display_name": "Dragan", "link": "https://stackoverflow.com/users/4243006/dragan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "accepted_answer_id": 31830674, "answer_count": 1, "score": 3, "last_activity_date": 1438777833, "creation_date": 1438772415, "question_id": 31830613, "link": "https://stackoverflow.com/questions/31830613/perl-regex-with-pipes", "title": "Perl regex with pipes", "body": "<p>I'm not exactly a perl monk, so if you could help me digest what does this regex(if it is one) do?</p>\n\n<pre><code>my $pathHere = \"/some/path/to/file\";\nmy $pathThere = \"/some/path/\";\n$pathHere =~ s|$pathThere||;\n</code></pre>\n\n<p>Perl is not exactly my everyday tool, so I am quite shy on knowledge - I guess it subs the match to the var value, but guessing is not the way to go - the pipes throw me off...</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1438768777, "post_id": 31829130, "comment_id": 51581105, "body": "What are your expectations exactly? max_index is always array_size-1."}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1438768975, "post_id": 31829130, "comment_id": 51581205, "body": "Are you writing the code with out knowing what it is doing? Not pin pointing, but just asking you. Any how I have explained in the below answer."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 3, "creation_date": 1438769164, "post_id": 31829130, "comment_id": 51581317, "body": "@Amareesh: <i>I have explained in the below answer.</i>, where?"}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1438769806, "post_id": 31829130, "comment_id": 51581705, "body": "@serenesat Oops something went wrong .. It haven&#39;t saved in below answers. But by the way I found that he has copy pasted the program which was explained very clearly in this <a href=\"http://www.tutorialspoint.com/perl/perl_arrays.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/perl/perl_arrays.htm</a>)"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 0, "creation_date": 1438770309, "post_id": 31829130, "comment_id": 51582018, "body": "@Amareesh: From where OP has copied that does not matter much. I guess OP is not able to understand so asked here for more clarification."}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1438770854, "post_id": 31829130, "comment_id": 51582383, "body": "@serenesat I thought that user has just copy pasted some piece of code which he found in some website where it was already explained and was asking for an help. So just shared the source in comments. Any how I gave my explaination that may help him in answers. Thanks for the above."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1438770861, "post_id": 31829130, "comment_id": 51582391, "body": "What is there to explain? The code works as expected. What has surprised you?"}, {"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438771072, "post_id": 31829130, "comment_id": 51582516, "body": "@DaveCross Sir are you pointing me? just want to confirm.  If not, I do have the same feeling which you have mentioned. Because alreday this was epxlained clearly in the source website."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1438771206, "post_id": 31829130, "comment_id": 51582612, "body": "My question was directed at the original poster. He said &quot;Can you please explain this?&quot; I was asking what he thinks we need to explain."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1438771233, "post_id": 31829130, "comment_id": 51582627, "body": "While the tutorialspoint link does explain this, it does so in a <b>horibly outdated way</b>. That is one of the sources of bad-written old Perl that the Perl community is trying to get rid of. Since the OP is not clarifying, let&#39;s not create a comment war here. :)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 5, "creation_date": 1438771277, "post_id": 31829130, "comment_id": 51582653, "body": "@Amit: If (as seems to be the case) your are trying to learn Perl from the terrible TutorialsPoint web site then please do yourself a favour and use something recommended on <a href=\"http://perl-tutorial.org/\" rel=\"nofollow noreferrer\">perl-tutorial.org</a> instead."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438775032, "post_id": 31829130, "comment_id": 51585093, "body": "@simbabque I totally agree with you.Tutorialspoint is horrible way to learn perl.They still don&#39;t  use  lexical filehandles and use two-arg file open syntax."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1614202079, "last_edit_date": 1614202079, "creation_date": 1438768857, "answer_id": 31829252, "question_id": 31829130, "link": "https://stackoverflow.com/questions/31829130/array-size-in-perl/31829252#31829252", "title": "Array size in Perl", "body": "<p>In Perl, an array is a data structure representing a <strong>list</strong>. A list has <strong>elements</strong>. The <em>keys</em> to that list are called <strong>indexes</strong>. The first index is zero (<code>0</code>).</p>\n<p>You have started your array with these indexes and values:</p>\n<pre class=\"lang-none prettyprint-override\"><code>index value\n0     1\n1     2\n2     3\n</code></pre>\n<p>If you set the 50th index to a value, all the other indexes in between will be filled with <code>undef</code>, the undefined value.</p>\n<p>You have correctly identified <code>$#array</code> as the max index, or the highest or <em>last index</em>. If you <a href=\"http://perldoc.perl.org/functions/scalar.html\" rel=\"nofollow noreferrer\">force the array into <strong>scalar context</strong></a>, it will give you the number of elements, or <em>size</em>. You've got that as well. And that will, as <a href=\"https://stackoverflow.com/questions/31829130/array-size-in-perl/31829252#comment51581105_31829130\">\u0421\u0443\u0445\u043e\u043927 said in their comment</a>, be the last index plus one.</p>\n<p>You can illustrate that behaviour if you <a href=\"https://metacpan.org/pod/Data::Printer\" rel=\"nofollow noreferrer\">dump out the array</a>.</p>\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\n\nmy @array = (1,2,3);\n$array[10] = 4;\n\np @array;\n</code></pre>\n<p>It will output the following. Again you can see that the index starts at <code>0</code>, and each number between <code>0</code> and the highest index is there. So the number of elements is always one less than the last element's index.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[\n    [0]  1,\n    [1]  2,\n    [2]  3,\n    [3]  undef,\n    [4]  undef,\n    [5]  undef,\n    [6]  undef,\n    [7]  undef,\n    [8]  undef,\n    [9]  undef,\n    [10] 4\n]\n</code></pre>\n<hr />\n<p>This might be confusing if you come from a PHP background, where an array can be with indexes or <a href=\"https://en.wikipedia.org/wiki/Associative_array\" rel=\"nofollow noreferrer\">associative</a> and still be called <em>array</em>. In Perl however those are called <em>hash</em> and they are not ordered.</p>\n<p>I suggest you read up on how Perl data structures work in <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">perldata</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1438771111, "post_id": 31829861, "comment_id": 51582538, "body": "I think you mean <i>highest index</i> not <i>highest index value</i>."}], "tags": [], "owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1614184176, "last_edit_date": 1614184176, "creation_date": 1438770448, "answer_id": 31829861, "question_id": 31829130, "link": "https://stackoverflow.com/questions/31829130/array-size-in-perl/31829861#31829861", "title": "Array size in Perl", "body": "<p>The actual array which you have declared is <code>@array = (1,2,3);</code>, which means now this array has a size of <em>3</em>. Please note that always by default the index will start with <code>0</code>. So here the maximum index is <code>2</code>.</p>\n<p>That is <code>$array[0] = 1, $array[1] = 2, $array[2] = 3</code>.</p>\n<p>And in the next line, you are declaring <em>index</em> 50 of the above array as <code>4</code>, which means now your array will have a total of <code>51</code> values with maximum index <code>50</code>.</p>\n<pre><code>$array[50] = 4;\n</code></pre>\n<p>You have already declared values for index 0, 1, 2, and 50. So the remaining values will have values assigned as undefined.</p>\n<p><code>$size = @array;</code> - Here you are using a scalar context to get the size of an array. So you are getting output <code>print &quot;Size:  $size\\n&quot;;</code> as <code>51</code>.</p>\n<p><code>$max_index = $#array;</code> - Here it will display the highest index. So you are getting output print <code>&quot;Max Index: $max_index\\n&quot;;</code> as <code>50</code>.</p>\n"}], "owner": {"reputation": 45, "user_id": 4428432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/00511f4eedaf9957ffa8faf748f099e9?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/4428432/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3187, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1614202079, "creation_date": 1438768537, "last_edit_date": 1494352913, "question_id": 31829130, "link": "https://stackoverflow.com/questions/31829130/array-size-in-perl", "title": "Array size in Perl", "body": "<p>I am trying to run this code and am getting output as:</p>\n\n<pre><code>#!/usr/bin/perl\n\n@array = (1,2,3);\n$array[50] = 4;\n\n$size = @array;\n$max_index = $#array;\n\nprint \"Size:  $size\\n\";\nprint \"Max Index: $max_index\\n\";\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre><code>Size: 51\nMax Index: 50\n</code></pre>\n\n<p>What is the explanation for this?</p>\n"}, {"tags": ["php", "ruby", "perl", "soap"], "comments": [{"owner": {"reputation": 547, "user_id": 1098397, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/821a376ddcbf5c0d4c20272ae631882f?s=128&d=identicon&r=PG&f=1", "display_name": "Rob G", "link": "https://stackoverflow.com/users/1098397/rob-g"}, "edited": false, "score": 1, "creation_date": 1438768198, "post_id": 31828785, "comment_id": 51580750, "body": "is the perl running on the same server &amp; as the same user? do you need to set a proxy server? what happens if you try wget <a href=\"http://10.1.10.20:8070/ShoreTelWebSDK/WebService\" rel=\"nofollow noreferrer\">10.1.10.20:8070/ShoreTelWebSDK/WebService</a> as the same user you&#39;re running the php script as?"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "reply_to_user": {"reputation": 547, "user_id": 1098397, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/821a376ddcbf5c0d4c20272ae631882f?s=128&d=identicon&r=PG&f=1", "display_name": "Rob G", "link": "https://stackoverflow.com/users/1098397/rob-g"}, "edited": false, "score": 0, "creation_date": 1438768452, "post_id": 31828785, "comment_id": 51580916, "body": "@RobGudgeon Yes they are the same server.  It shouldn&#39;t nee a proxy since it works with the Perl script.  A wget results in a error.  I am not sure how the Perl script is pulling it that works."}, {"owner": {"reputation": 547, "user_id": 1098397, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/821a376ddcbf5c0d4c20272ae631882f?s=128&d=identicon&r=PG&f=1", "display_name": "Rob G", "link": "https://stackoverflow.com/users/1098397/rob-g"}, "edited": false, "score": 0, "creation_date": 1438768716, "post_id": 31828785, "comment_id": 51581078, "body": "The perl is using a proxy server :) What&#39;s the wget error?   Try this, replacing the x.x.x.x with whatever proxy server the perl is using:  $client = new SOAPClient($soap_url,                          array(                                &#39;proxy_host&#39;     =&gt; x.x.x.x,                                &#39;proxy_port&#39;     =&gt; 8070,                                &#39;trace&#39;          =&gt; 1                                )                          );"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "reply_to_user": {"reputation": 547, "user_id": 1098397, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/821a376ddcbf5c0d4c20272ae631882f?s=128&d=identicon&r=PG&f=1", "display_name": "Rob G", "link": "https://stackoverflow.com/users/1098397/rob-g"}, "edited": false, "score": 0, "creation_date": 1438768913, "post_id": 31828785, "comment_id": 51581168, "body": "@RobGudgeon it was a 400 error."}, {"owner": {"reputation": 547, "user_id": 1098397, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/821a376ddcbf5c0d4c20272ae631882f?s=128&d=identicon&r=PG&f=1", "display_name": "Rob G", "link": "https://stackoverflow.com/users/1098397/rob-g"}, "edited": false, "score": 0, "creation_date": 1438769007, "post_id": 31828785, "comment_id": 51581228, "body": "post the full error/output"}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "reply_to_user": {"reputation": 547, "user_id": 1098397, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/821a376ddcbf5c0d4c20272ae631882f?s=128&d=identicon&r=PG&f=1", "display_name": "Rob G", "link": "https://stackoverflow.com/users/1098397/rob-g"}, "edited": false, "score": 0, "creation_date": 1438769272, "post_id": 31828785, "comment_id": 51581371, "body": "@RobGudgeon The wget response was :HTTP request sent, awaiting response... 400 Bad Request 2015-08-05 04:07:32 ERROR 400: Bad Request."}, {"owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "reply_to_user": {"reputation": 547, "user_id": 1098397, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/821a376ddcbf5c0d4c20272ae631882f?s=128&d=identicon&r=PG&f=1", "display_name": "Rob G", "link": "https://stackoverflow.com/users/1098397/rob-g"}, "edited": false, "score": 0, "creation_date": 1438769291, "post_id": 31828785, "comment_id": 51581386, "body": "@RobGudgeon adding the proxy did not have any effect on the error message."}, {"owner": {"reputation": 547, "user_id": 1098397, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/821a376ddcbf5c0d4c20272ae631882f?s=128&d=identicon&r=PG&f=1", "display_name": "Rob G", "link": "https://stackoverflow.com/users/1098397/rob-g"}, "reply_to_user": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "edited": false, "score": 0, "creation_date": 1438769341, "post_id": 31828785, "comment_id": 51581422, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/85191/discussion-between-rob-gudgeon-and-joel-lewis\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "is_accepted": true, "score": 1, "last_activity_date": 1438772137, "creation_date": 1438772137, "answer_id": 31830519, "question_id": 31828785, "link": "https://stackoverflow.com/questions/31828785/convert-a-ruby-perl-soap-request-to-php/31830519#31830519", "title": "Convert a Ruby/Perl Soap Request to PHP", "body": "<p>I was finaly able to make this work with some help from RobGudeon. It looks like we needed to use the URL the Ruby version wich matched what PHP was expecting.  The working script is:</p>\n\n<pre><code>try\n{\n$soap_url = 'http://xx.x.xx.xx:8070/ShoreTelWebSDK?wsdl';\n$client = new SOAPClient($soap_url, array( 'proxy_host' =&gt; 'xx.x.xx.xx', 'proxy_port' =&gt; 8070, 'trace' =&gt; 1 ) );\n$client = new SoapClient($soap_url);\n\n$header = new SoapHeader(\n\n        'http://www.ShoreTel.com/ProServices/SDK/Web',\n        'RegisterClient'\n\n    );\n    $client-&gt;__setSoapHeaders($header);\n    var_dump($client-&gt;RegisterClient(array(\n            'clientName' =&gt; 'xx.xx.xx'\n        )));    \n}\ncatch (Exception $e)\n{\n   print_r($e);\n}\n</code></pre>\n"}], "owner": {"reputation": 474, "user_id": 2524743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZFiSd.jpg?s=128&g=1", "display_name": "Joel Lewis", "link": "https://stackoverflow.com/users/2524743/joel-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 31830519, "answer_count": 1, "score": 1, "last_activity_date": 1438772137, "creation_date": 1438767623, "last_edit_date": 1438771706, "question_id": 31828785, "link": "https://stackoverflow.com/questions/31828785/convert-a-ruby-perl-soap-request-to-php", "title": "Convert a Ruby/Perl Soap Request to PHP", "body": "<p>I have a Perl script that communicates with a web soap server and does great.  However I need to get this same functionality in a PHP application and am having a lot of trouble converting this over.</p>\n\n<p>The working Perl looks like this:</p>\n\n<pre><code>use warnings;\nuse SOAP::Lite;\nuse CGI;\nuse Data::Dumper;\nsub  trim { my $s = shift; $s =~ s/^\\s+|\\s+$//g; return $s };\nprint \"Content-type:text/html\\n\\n\";\n\n# Use SoapLite to create a connection to our Web service.  URI is the namespace for our service,\n# proxy is the endpoint of our service.  The \"on_action\" is necessary to reformat SoapLite's\n# SOAP request to match what a .NET service needs.\n\nmy $myWebService = SOAP::Lite\n  -&gt; uri('http://www.ShoreTel.com/ProServices/SDK/Web')\n  -&gt; proxy('http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService')\n  -&gt; on_action(sub {sprintf '%s/ShoreTelWebService/%s', $_[0], $_[1]});\n\nmy $query = new CGI;\nmy $ip = $query-&gt;remote_host;                    # IP address of remote party...use later as unique identifier\n\n\n    # To use our service, we need to register ourselves as a client...use remote IP address\n    # as a unique name for association to this session.\n\n    my $regClientResult = $myWebService-&gt;RegisterClient(SOAP::Data-&gt;name('clientName' =&gt; $ip));\n    if ($regClientResult-&gt;fault)\n    {\n      print '&lt;p&gt;FAULT', $myClientID-&gt;faultcode, ', ', $myClientID-&gt;faultstring;\n    }\n    else\n    {\n      # Retrieve client ID which we will be using for subsequent communication.\n\n      $myClientID = $regClientResult-&gt;valueof('//RegisterClientResponse/RegisterClientResult/');\n      print $myClientID;\n\n    }\n</code></pre>\n\n<p>And gives the expected result of producing a Client ID for the session.</p>\n\n<p>The following script also does the same thing in ruby:</p>\n\n<pre><code>require \"soap/wsdlDriver\"\nrequire 'optparse'\nrequire 'ostruct'\nrequire 'pp'\n\n\ndef has_events(events)\n  return (events[\"GetEventsResult\"] != nil) &amp;&amp; (events[\"GetEventsResult\"][\"ShoreTelEventBase\"] != nil)\nend\n\n\n\nbegin\n  options.parse!(ARGV)\nrescue OptionParser::ParseError =&gt; e\n  puts e\nend\n\n# create wsdl driver for SDK\nwsdl = \"http://10.1.10.20:8070/ShoreTelWebSDK?wsdl\"\ndriver = SOAP::WSDLDriverFactory.new(wsdl).create_rpc_driver\ndriver.wiredump_file_base = \"/var/www/WebSDK.out\"\n\n# register with the SDK\nid = driver.RegisterClient(\"clientName\" =&gt;\"ruby\")\nhandle = id.registerClientResult\nprint \"\\nClient ID \", handle, \" has been registered.\\n\\n\"\n</code></pre>\n\n<p>However  attempt at a php version looks like this:</p>\n\n<pre><code>try\n{\n$soap_url = 'http://10.1.10.20:8070/ShoreTelWebSDK/WebService';\n$client = new SoapClient($soap_url);\n\n$header = new SoapHeader(\n\n        'http://www.ShoreTel.com/ProServices/SDK/Web',\n        'RegisterClient',\n        array(\n            'clientName' =&gt; 'xx.xx.xx.xxx'\n        )\n    );\n    $client-&gt;__setSoapHeaders($header);\n    var_dump($client-&gt;__getFunctions());    \n}\ncatch (Exception $e)\n{\n   print_r($e);\n}\n</code></pre>\n\n<p>And is giving the following errors:</p>\n\n<blockquote>\n  <p>SoapFault Object ( [message:protected] => SOAP-ERROR: Parsing WSDL:\n  Couldn't load from '<a href=\"http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService\" rel=\"nofollow\">http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService</a>'\n  : failed to load external entity\n  \"<a href=\"http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService\" rel=\"nofollow\">http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService</a>\"\n  [string:Exception:private] => [code:protected] => 0 [file:protected]\n  => /var/www/cgi-bin/test.php [line:protected] => 7 [trace:Exception:private] => Array ( [0] => Array ( [file] =>\n  /var/www/cgi-bin/test.php [line] => 7 [function] => SoapClient [class]\n  => SoapClient [type] => -> [args] => Array ( [0] => <a href=\"http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService\" rel=\"nofollow\">http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService</a> ) ) )\n  [previous:Exception:private] => [faultstring] => SOAP-ERROR: Parsing\n  WSDL: Couldn't load from\n  '<a href=\"http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService\" rel=\"nofollow\">http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService</a>' : failed to load\n  external entity \"<a href=\"http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService\" rel=\"nofollow\">http://xx.x.xx.xx:8070/ShoreTelWebSDK/WebService</a>\"\n  [faultcode] => WSDL )</p>\n</blockquote>\n\n<p>It looks like it is have issues loading the WSDL, but the Perl script doesn't have any issues, how can I translate this to the PHP script?</p>\n\n<p>I also tried the php script like this:</p>\n\n<pre><code>try\n{\n$soap_url = 'http://10.1.10.20:8070/ShoreTelWebSDK?wsdl';\n$client = new SOAPClient($soap_url, array( 'proxy_host' =&gt; '10.1.10.20', 'proxy_port' =&gt; 8070, 'trace' =&gt; 1 ) );\n$client = new SoapClient($soap_url);\n\n$header = new SoapHeader(\n\n        'http://www.ShoreTel.com/ProServices/SDK/Web',\n        'RegisterClient',\n        array(\n            'clientName' =&gt; 'xx.x.xx.xxx'\n        )\n    );\n    $client-&gt;__setSoapHeaders($header);\n    var_dump($client-&gt;__getFunctions());    \n}\ncatch (Exception $e)\n{\n   print_r($e);\n</code></pre>\n\n<p>This resulted in a list of all possible requests the server accepts, but did not process my request.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": true, "score": 5, "last_activity_date": 1438764453, "last_edit_date": 1438764453, "creation_date": 1438747920, "answer_id": 31823309, "question_id": 31823268, "link": "https://stackoverflow.com/questions/31823268/why-is-my-perl-command-line-replace-not-working/31823309#31823309", "title": "why is my perl command line replace not working?", "body": "<p><a href=\"http://perldoc.perl.org/perlre.html#Quantifiers\" rel=\"nofollow\">The '?' is a special character, indicating that the e needs to be matched 0 or once</a>, so it needs to be escaped if you want to search for a '?' instead of an optional 'e'. Escaping with '\\':</p>\n\n<p>try</p>\n\n<p><code>s/page\\?user_id=/page?uid=/g</code></p>\n"}, {"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 3, "last_activity_date": 1438750009, "creation_date": 1438750009, "answer_id": 31823626, "question_id": 31823268, "link": "https://stackoverflow.com/questions/31823268/why-is-my-perl-command-line-replace-not-working/31823626#31823626", "title": "why is my perl command line replace not working?", "body": "<p>You can also use Quotemeta:</p>\n\n<pre><code>perl -pi -e 's/\\Qpage?user_id=\\E/page?uid=/g' file\n</code></pre>\n\n<p>As a side note I thought why don't you change only <code>user_id</code> to <code>uid</code>.</p>\n"}], "owner": {"reputation": 3138, "user_id": 1227914, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77620a453f8dc2575495b8332e090394?s=128&d=identicon&r=PG", "display_name": "user1227914", "link": "https://stackoverflow.com/users/1227914/user1227914"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 31823309, "answer_count": 2, "score": 1, "last_activity_date": 1438764453, "creation_date": 1438747593, "question_id": 31823268, "link": "https://stackoverflow.com/questions/31823268/why-is-my-perl-command-line-replace-not-working", "title": "why is my perl command line replace not working?", "body": "<p>I'm running this but it doesn't seem to replace anything:</p>\n\n<pre><code>perl -p -i -e 's/page?user_id=/page?uid=/g' *\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n\n<p>I want to replace <code>page?user_id=</code> with <code>page?uid=</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1438739823, "post_id": 31821961, "comment_id": 51568939, "body": "Where is <code>compare</code> defined?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1438739891, "post_id": 31821961, "comment_id": 51568952, "body": "Also, do not use variables named $a and $b, as they have special meaning in perl:  perldoc -f sort"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1438740135, "post_id": 31821961, "comment_id": 51569014, "body": "Perhaps you want to <code>CHECK until ($status == 0)</code> instead of <code>do CHECK; until ($status == 0)</code>   Have a look at <code>perldoc perlsyn</code> and read the <code>Compound Statements</code> section."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1438764675, "post_id": 31821961, "comment_id": 51578427, "body": "Why is <code>rsync</code> in the title? If you do this to check whether <code>rsync</code> has copied a file correctly, why not let <code>rsync</code> do that check?"}, {"owner": {"reputation": 11, "user_id": 5188948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec77692b77833d437c4e31e5bb16c7c?s=128&d=identicon&r=PG&f=1", "display_name": "shadow", "link": "https://stackoverflow.com/users/5188948/shadow"}, "edited": false, "score": 0, "creation_date": 1438822805, "post_id": 31821961, "comment_id": 51611681, "body": "I already did until ($status == 0)...same result guys"}, {"owner": {"reputation": 11, "user_id": 5188948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec77692b77833d437c4e31e5bb16c7c?s=128&d=identicon&r=PG&f=1", "display_name": "shadow", "link": "https://stackoverflow.com/users/5188948/shadow"}, "edited": false, "score": 0, "creation_date": 1438846162, "post_id": 31821961, "comment_id": 51619330, "body": "$a and $b is defined above, outside the function...does that make a difference guys?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438935597, "post_id": 31821961, "comment_id": 51663806, "body": "@shadow: No. You should <i>never</i> use <code>$a</code> and <code>$b</code> in any circumstance to avoid confusion with the built-in <code>sort</code> variables. They are also a very poor choice of identifier as they convey nothing about the nature of their contents"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5188948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec77692b77833d437c4e31e5bb16c7c?s=128&d=identicon&r=PG&f=1", "display_name": "shadow", "link": "https://stackoverflow.com/users/5188948/shadow"}, "edited": false, "score": 0, "creation_date": 1438820505, "post_id": 31823825, "comment_id": 51611151, "body": "the compare will compare the two mdsum files (which are $a $b)...if they are the same, it will give me a value of 0 (zero).."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "reply_to_user": {"reputation": 11, "user_id": 5188948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec77692b77833d437c4e31e5bb16c7c?s=128&d=identicon&r=PG&f=1", "display_name": "shadow", "link": "https://stackoverflow.com/users/5188948/shadow"}, "edited": false, "score": 0, "creation_date": 1438851448, "post_id": 31823825, "comment_id": 51622553, "body": "right, so if status is not 0, what is going to happen to change that?"}, {"owner": {"reputation": 11, "user_id": 5188948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec77692b77833d437c4e31e5bb16c7c?s=128&d=identicon&r=PG&f=1", "display_name": "shadow", "link": "https://stackoverflow.com/users/5188948/shadow"}, "edited": false, "score": 0, "creation_date": 1439348275, "post_id": 31823825, "comment_id": 51819516, "body": "if not 0, it will copy the file from a remote location and do the checksum again. After that, it will compare until result is 0."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "reply_to_user": {"reputation": 11, "user_id": 5188948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec77692b77833d437c4e31e5bb16c7c?s=128&d=identicon&r=PG&f=1", "display_name": "shadow", "link": "https://stackoverflow.com/users/5188948/shadow"}, "edited": false, "score": 0, "creation_date": 1439352733, "post_id": 31823825, "comment_id": 51820562, "body": "well, read answer above for an explanation for what the problem actually is, then :)"}], "tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 0, "last_activity_date": 1438751098, "creation_date": 1438751098, "answer_id": 31823825, "question_id": 31821961, "link": "https://stackoverflow.com/questions/31821961/rysnc-on-perl-until-loop-never-breaks/31823825#31823825", "title": "rysnc on perl until loop never breaks", "body": "<p>I do not understand why the until loop should stop.</p>\n\n<p>In short, you get an md5 sum for a file in your \"CHECK\" sub.</p>\n\n<pre><code>sub CHECK {\n    open (my $fh, '&gt;', \"/home/vivek/generated_mdsum_new.out\");\n    my $dump_file = \"/home/vivek/file_dump.dmp\";\n    my $md5sum = `md5sum $dump_file`;\n    my $value = (split(\" \",$md5sum))[0];\n    print $fh $value;\n    close $fh;\n    compare($a,$b); \n    # question: what is in $a / $b and what does compare do ?\n}\n</code></pre>\n\n<p>Now you compare $a and $b and return that result.\nAssuming $a / $b contain something useful, there is nothing in the until block or CHECK block that I see to change either, so the comparison would keep returning the same result ( assuming \"compare\" compares and does not change anything, which would be a bad naming if it did ). </p>\n\n<p>So in the until block, do something to influence the CHECK, otherwise you are stuck in a loop.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5188948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec77692b77833d437c4e31e5bb16c7c?s=128&d=identicon&r=PG&f=1", "display_name": "shadow", "link": "https://stackoverflow.com/users/5188948/shadow"}, "edited": false, "score": 0, "creation_date": 1438850265, "post_id": 31825378, "comment_id": 51621767, "body": "I already changed to &quot;check&quot;...it still stuck in the loop....What I want to happen is that subroutine will produce a zero result at the last part and maybe that can exit the loop...will that be possible sir?...I appreciate your help guys,...Im just a newbie on this language.."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1438935455, "last_edit_date": 1592644375, "creation_date": 1438757659, "answer_id": 31825378, "question_id": 31821961, "link": "https://stackoverflow.com/questions/31821961/rysnc-on-perl-until-loop-never-breaks/31825378#31825378", "title": "rysnc on perl until loop never breaks", "body": "<p>Let's look at the block in question</p>\n<pre><code>my $status = compare($b, $a);\nif ( $status == 1 ) {\n    do\n        CHECK;\n    until ($status == 0 ) {\n        print &quot;\\n\\tfiles are now Ok. Exiting..&quot;;\n        print &quot;\\n\\t&quot;;\n    }\n</code></pre>\n<p>whether you meant it or not, this is equivalent to</p>\n<pre><code>my $status = compare($b, $a);\n\nif ( $status == 1 ) {\n    do  CHECK;\n\n    until ( $status == 0 ) {\n        print &quot;\\n\\tfiles are now Ok. Exiting..&quot;;\n        print &quot;\\n\\t&quot;;\n    }\n</code></pre>\n<p>So the contents of your <code>until</code> loop is just two print statements, which aren't going to change the value of <code>$status</code> so it will loop forever\nWhat I think you meant is</p>\n<pre><code>my $status = compare($b, $a);\n\nif ( $status == 1 ) {\n\n    do {\n        CHECK;\n    } until $status == 0;\n\n    print &quot;\\n\\tfiles are now Ok. Exiting..&quot;;\n    print &quot;\\n\\t&quot;;\n}\n</code></pre>\n<p>which will repeatedly call <code>CHECK</code> until <code>$status</code> is set to zero</p>\n<p><em><strong>EXCEPT THAT</strong></em> you should <em>always</em> use lower-case characters in your local identifiers. Upper-case is reserved for global identifiers such as package names. In this situation you have unwittingly created a <code>CHECK</code> block</p>\n<p><a href=\"http://perldoc.perl.org/perlmod.html#BEGIN,-UNITCHECK,-CHECK,-INIT-and-END\" rel=\"nofollow noreferrer\"><code>perldoc perlmod</code></a> says this</p>\n<blockquote>\n<p>Five specially named code blocks are executed at the beginning and at the end of a running Perl program. These are the <code>BEGIN</code> , <code>UNITCHECK</code> , <code>CHECK</code> , <code>INIT</code> , and <code>END</code> blocks.</p>\n<p>These code blocks can be prefixed with sub to give the appearance of a subroutine (although this is not considered good style). One should note that these code blocks don't really exist as named subroutines (despite their appearance). The thing that gives this away is the fact that you can have more than one of these code blocks in a program, and they will get all executed at the appropriate moment. So you can't execute any of these code blocks by name.</p>\n</blockquote>\n<p>So because <em>&quot;these code blocks don't really exist as named subroutines&quot;</em> your program will <em>only</em> call <code>CHECK</code> during compilation, and subsequent explicit calls will be ignored</p>\n<p>So rename your subroutine to <code>check</code> and chnage your code to this</p>\n<pre><code>my $status = compare($b, $a);\n\nif ( $status == 1 ) {\n\n    do {\n        CHECK;\n    } until $status == 0;\n\n    print &quot;\\n\\tfiles are now Ok. Exiting..&quot;;\n    print &quot;\\n\\t&quot;;\n}\n</code></pre>\n<p>and all will be well</p>\n"}, {"comments": [{"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1438888370, "post_id": 31825414, "comment_id": 51647046, "body": "Does this really need to be repeated. ( You have two identical answers, and the other one has a relevant comment )"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1438934907, "post_id": 31825414, "comment_id": 51663370, "body": "@BradGilbert: There is a bug in the Stack Overflow tablet app that sometimes duplicates a post instead of editing it. There is also no way that I can see to delete a post, so I have to wait until I get back to a PC"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1438757766, "last_edit_date": 1592644375, "creation_date": 1438757766, "answer_id": 31825414, "question_id": 31821961, "link": "https://stackoverflow.com/questions/31821961/rysnc-on-perl-until-loop-never-breaks/31825414#31825414", "title": "rysnc on perl until loop never breaks", "body": "<p>You should <em>always</em> use lower-case characters in your local identifiers. Upper-case is reserved for global identifiers such as package names. In this situation you have unwittingly created a <code>CHECK</code> block</p>\n<p><a href=\"http://perldoc.perl.org/perlmod.html#BEGIN,-UNITCHECK,-CHECK,-INIT-and-END\" rel=\"nofollow noreferrer\"><code>perldoc perlmod</code></a> says this</p>\n<blockquote>\n<p>Five specially named code blocks are executed at the beginning and at the end of a running Perl program. These are the <code>BEGIN</code> , <code>UNITCHECK</code> , <code>CHECK</code> , <code>INIT</code> , and <code>END</code> blocks.</p>\n<p>These code blocks can be prefixed with sub to give the appearance of a subroutine (although this is not considered good style). One should note that these code blocks don't really exist as named subroutines (despite their appearance). The thing that gives this away is the fact that you can have more than one of these code blocks in a program, and they will get all executed at the appropriate moment. So you can't execute any of these code blocks by name.</p>\n</blockquote>\n<p>So because <em>&quot;these code blocks don't really exist as named subroutines&quot;</em> your program will <em>only</em> call <code>CHECK</code> during compilation. That means explicit calls to CHECK will be ignored, and <code>$status</code> never changes</p>\n<p>Change your subroutine to <code>check</code> and all will be well</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5188948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec77692b77833d437c4e31e5bb16c7c?s=128&d=identicon&r=PG&f=1", "display_name": "shadow", "link": "https://stackoverflow.com/users/5188948/shadow"}, "edited": false, "score": 0, "creation_date": 1439086736, "post_id": 31863963, "comment_id": 51715613, "body": "Thanks to you guys...I&#39;ts helping me a lot"}], "tags": [], "owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "is_accepted": false, "score": 0, "last_activity_date": 1438888250, "creation_date": 1438888250, "answer_id": 31863963, "question_id": 31821961, "link": "https://stackoverflow.com/questions/31821961/rysnc-on-perl-until-loop-never-breaks/31863963#31863963", "title": "rysnc on perl until loop never breaks", "body": "<p>The problem is here:</p>\n\n<pre><code>until ($status == 0 ) {\n    print \"\\n\\tfiles are now Ok. Exiting..\";\n    print \"\\n\\t\";\n}\n</code></pre>\n\n<p>Nowhere in the loop are you changing the value of <code>$status</code>.</p>\n\n<blockquote class=\"spoiler\">\n  <p> The <code>\"do CHECK;\"</code> isn't part of the loop.<br>\n Would eval a file by the name of the return value of the <code>CHECK</code> sub<br>\n If it had actually called that sub.<br>\n Which it won't because it isn't actually a subroutine.</p>\n</blockquote>\n\n<p>The other form of <code>until</code> is:</p>\n\n<pre><code>do {\n   CHECK; # doesn't work as this is a special name\n} until $status == 0;\n\nprint \"\\n\\tfiles are now Ok. Exiting..\";\nprint \"\\n\\t\";\n</code></pre>\n\n<p>Which is still a problem as <code>CHECK</code> is a special name for a block that only gets called once at CHECK time, that you can't actually call.</p>\n\n<p>Plus the code in <code>CHECK</code> would always have the same result, so calling it repeatedly doesn't make sense, and could still result in an infinite loop if it didn't work the first time.</p>\n\n<hr>\n\n<h1>This is how I might have written it</h1>\n\n<p>This is a first pass of making your code make sense to me, also fixing some of the errors pointed out above.</p>\n\n<p>I also changed <code>$a</code> and <code>$b</code> to <code>$ref</code> and <code>$new</code> since <code>$a</code> and <code>$b</code> are reserved variables.</p>\n\n<p>I improved it by using modules that come with Perl, so that I don't have to check the return values of <code>open()</code> and <code>close()</code> ( <a href=\"https://metacpan.org/pod/autodie\" rel=\"nofollow\" title=\"autodie first bundled with Perl 5.10.1\"><em>autodie</em></a> ), or rely on conventions of a particular platform ( <a href=\"https://metacpan.org/pod/Digest::MD5\" rel=\"nofollow\" title=\"Digest::MD5 first bundled with Perl 5.8.0\"><em>Digest::MD5</em></a>, and <a href=\"https://metacpan.org/pod/File::Spec::Functions\" rel=\"nofollow\" title=\"File::Spec::Functions first bundled with Perl 5.00504\"><em>File::Spec::Functions</em></a> ).</p>\n\n<p>I assume that you loaded <a href=\"https://metacpan.org/pod/File::Compare\" rel=\"nofollow\" title=\"File::Compare first bundled with Perl 5.004\"><em>File::Compare</em></a>.</p>\n\n<p>I removed the setting of <code>$status</code> from the <code>check</code> sub to reduce the use of global variables.</p>\n\n<pre><code>#! /usr/bin/env perl\nuse strict;\nuse warnings;\nuse 5.10.1; # set minimum version which was released in 2009\n\nuse autodie;\nuse File::Spec::Functions qw' catfile catdir rootdir curdir ';\nuse Digest::MD5;\nuse File::Compare qw' compare ';\n\n# should be // not ||, but it will work if your dir isn't named \"0\" or \"\"\nmy $basedir = $ENV{HOME} || catdir rootdir, qw' home vivek ';\n# try the current directory if it doesn't exist\n$basedir = curdir unless -d $basedir;\n\nmy $ref = catfile $basedir, 'generated_mdsum_reference.out';\nmy $new = catfile $basedir, 'generated_mdsum_new.out';\n\nmy $dumpfile = catfile $basedir, 'file_dump.dmp';\n\n# forward declare so that we can put them at the end\nsub md5_hex_file;\nsub md5_sum;\nsub check;\n\n#-------------------------------------------------------\n\nif ( compare($new, $ref) != 0 ){\n    if ( check($dumpfile,$new) == 0 ){\n        print \"\\n\\tfiles are now Ok. Exiting..\\n\";\n    } else {\n        local $| = 1; # make sure the output is flushed to STDOUT\n        print \"\\n\\tfiles are NOT OK. Exiting..\\n\";\n        exit 1;\n    }\n}\n\n#-------------------------------------------------------\n\n# helper subroutines\n\nsub md5_hex_file {\n    my ($filename) = @_;\n    # let Digest::MD5 read the file for us\n    my $ctx = Digest::MD5-&gt;new;\n    { # limit scope of $fh\n        open my $fh, '&lt;', $filename;\n        binmode $fh;\n        $ctx-&gt;addfile( $fh );\n        close $fh;\n    }\n    $ctx-&gt;hexdigest;\n}\n\n# no longer necessary\nsub md5_sum {\n    my ($filename) = @_;\n    # `md5sum -b $filename`\n    md5_hex_file($filename) . \"  $filename\\n\";\n}\n\nsub check {\n    my ( $infile, $outfile ) = @_\n\n    print \"\\n\" x 3, \"\\tGenerating MD5SUM ....\\n\";\n\n    my $md5_hex = md5_hex_file $infile;\n\n    print \"\\n\" x 2, \"Checksum: $md5_hex.\\n\";\n\n    # Put checksum in file\n    {\n        open my $out_fh, '&gt;', $outfile;\n        print {$out_fh} $md5_hex;\n        close $out_fh;\n    }\n\n    my $status = compare $new, $ref;\n    return $status if $status == 0;\n\n\n    # add a newline and hope that fixes it\n    {\n        open my $out_fh, '&gt;&gt;', $outfile;\n        print {$out_fh} \"\\n\";\n        close $out_fh;\n    }\n    return compare $new, $ref;\n}\n</code></pre>\n\n<hr>\n\n<p>Really I think you could have just used these \"one-liners\"</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ perl -Mautodie -MDigest::MD5 -e \\\n 'open $fh, q[&lt;], shift;\n  print Digest::MD5-&gt;new-&gt;addfile($fh)-&gt;hexdigest' \\\nfile_dump.dmp &gt; generated_mdsum_new.out\n\n$ perl -MFile::Compare -e \\\n 'if ( compare(shift(),shift()) == 0 ){\n    print qq[They match\\n]\n  } else {\n    print qq[They don\\'t match\\n]\n  }' \\\ngenerated_mdsum_new.out generated_mdsum_reference.out\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5188948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec77692b77833d437c4e31e5bb16c7c?s=128&d=identicon&r=PG&f=1", "display_name": "shadow", "link": "https://stackoverflow.com/users/5188948/shadow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1438935455, "creation_date": 1438738028, "last_edit_date": 1438750150, "question_id": 31821961, "link": "https://stackoverflow.com/questions/31821961/rysnc-on-perl-until-loop-never-breaks", "title": "rysnc on perl until loop never breaks", "body": "<p>I was having a difficulty about perl script..I have a script that includes a loop but never breaks out of it once it gets the exit status zero.The loop will run only once the exit status results a 1 upon checking initially by the \"if\" statement.</p>\n\n<pre><code>my $a = \"/home/vivek/generated_mdsum_reference.out\";\nmy $b = \"/home/vivek/generated_mdsum_new.out\";\n\nsub CHECK {\n    print \"\\n\";\n    print \"\\n\";\n    print \"\\n\\tGenerating MD5SUM ....\";\n    my $dumpfile = \"/home/vivek/file_dump.dmp\";\n    print \"\\n\";\n    # my $md5sum = system(\"md5sum $dumpfile\");\n    my $md5sum = `md5sum $dumpfile`;\n    print \"\\n\";\n    print \"\\nChecksum: $md5sum.\";\n    # Put checksum in file\n    my $ochksumfile = \"/home/vivek/generated_mdsum_new.out\";\n    open (my $fh, '&gt;', \"$ochksumfile\") or die \"no file:$!\";\n    my $output = $md5sum;\n    die \"$!\" if $?;\n    $value = (split / /, \"$output\")[0];\n    print $fh $value;\n    my $status =compare($b, $a);\n}\n\nmy $status =compare($b, $a);\nif ( $status == 1 ){\n    do\n        CHECK;\n    until ($status == 0 ) {\n        print \"\\n\\tfiles are now Ok. Exiting..\";\n        print \"\\n\\t\";\n    }\n</code></pre>\n\n<p>All the variables I have set in there works fine, I only ended up in the until loop which it keeps on running endlessly which I think it cannot get through until the rest of the function \"CHECK\"</p>\n\n<p>Please help me guys.</p>\n"}, {"tags": ["perl", "sorting", "hashmap"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1438727383, "post_id": 31820433, "comment_id": 51565842, "body": "What&#39;s the question?"}, {"owner": {"reputation": 663, "user_id": 2367240, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67489fa129b31ae8b736196b009878f5?s=128&d=identicon&r=PG", "display_name": "Mdhale", "link": "https://stackoverflow.com/users/2367240/mdhale"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1438727616, "post_id": 31820433, "comment_id": 51565932, "body": "sorting second level of the hash ($position)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1438727920, "post_id": 31820433, "comment_id": 51566013, "body": "Your code seems correct: <code>for my $position (sort { $a &lt;=&gt; $b } keys %{ $process{$keys} })</code>. What output do you get, what output do you expect?"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438817429, "post_id": 31821062, "comment_id": 51610391, "body": "so what was the problem that led to asking the question?"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1438733747, "last_edit_date": 1438733747, "creation_date": 1438731117, "answer_id": 31821062, "question_id": 31820433, "link": "https://stackoverflow.com/questions/31820433/sorting-internal-keys-hashes-of-hashes-perl/31821062#31821062", "title": "Sorting internal keys hashes of hashes Perl", "body": "<p>It appears to me that you <em>are</em> iterating through the second level of hash in sorted order.  I run your code (modified only to go to STDOUT):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %process = (\n    '1' =&gt; {\n      '16977' =&gt; {\n                   'G' =&gt; {\n                            'A' =&gt; '0.0310014'\n                          }\n                 },\n      '77089' =&gt; {\n                   'C' =&gt; {\n                            'T' =&gt; '0.0171221'\n                          }\n                 },\n      '66442' =&gt; {\n                   'T' =&gt; {\n                            'A' =&gt; '0.0017295'\n                          }\n                 },\n    },\n);\n\nmy @array=();\nforeach my $keys(sort({ $a &lt;=&gt; $b }keys %process)){\n  foreach my $position(sort({ $a &lt;=&gt; $b } keys %{$process{$keys}})){\n    foreach my $reference(keys %{$process{$keys}{$position}}){\n     my %min=();\n     my @arr1=();\n     while(my($allele,$frequency)=each %{$process{$keys}{$position}{$reference}}){\n        push(@arr1, \"$keys\\t$position\\t$reference\\t$allele\\treference_val\\t$frequency\\n\");\n        $min{1-$frequency}=1;\n     }\n     my $ref_min=(sort{$min{$b} &lt;=&gt; $min{$a}} keys %min)[0];\n     s/reference_val/$ref_min/g for @arr1;\n     push(@array,@arr1);\n    }\n  }\n}\nforeach(@array){\n chomp;\n print STDOUT $_,\"\\n\";\n}\n</code></pre>\n\n<p>And get this output:</p>\n\n<pre><code>1   16977   G   A   0.9689986   0.0310014\n1   66442   T   A   0.9982705   0.0017295\n1   77089   C   T   0.9828779   0.0171221\n</code></pre>\n\n<p>which differs from your expected output in that it includes the $ref_min value and it has the columns after the first two in a different order (because they were sorted based on position).  What do you want to behave differently?</p>\n"}], "owner": {"reputation": 663, "user_id": 2367240, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67489fa129b31ae8b736196b009878f5?s=128&d=identicon&r=PG", "display_name": "Mdhale", "link": "https://stackoverflow.com/users/2367240/mdhale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 31821062, "answer_count": 1, "score": -1, "last_activity_date": 1438771549, "creation_date": 1438727150, "last_edit_date": 1438771549, "question_id": 31820433, "link": "https://stackoverflow.com/questions/31820433/sorting-internal-keys-hashes-of-hashes-perl", "title": "Sorting internal keys hashes of hashes Perl", "body": "<p>I am trying to sort a nested hash based on numerical keys. In the code below the $keys(level one) gets sorted easily, I am trying to find an answer on sorting $position (second level) of my hash. Please refer the Data::Dumper snippet below.\nLet me know if the question needs more clarification.<br>\nThanks</p>\n\n<pre><code>my @array=();\nforeach my $keys(sort({ $a &lt;=&gt; $b }keys %process)){\n  foreach my $position(sort({ $a &lt;=&gt; $b } keys %{$process{$keys}})){\n    foreach my $reference(keys %{$process{$keys}{$position}}){\n     my %min=();\n     my @arr1=();\n     while(my($allele,$frequency)=each %{$process{$keys}{$position}{$reference}}){\n        push(@arr1, \"$keys\\t$position\\t$reference\\t$allele\\treference_val\\t$frequency\\n\");\n        $min{1-$frequency}=1;\n     }\n     my $ref_min=(sort{$min{$b} &lt;=&gt; $min{$a}} keys %min)[0];\n     s/reference_val/$ref_min/g for @arr1;\n     push(@array,@arr1);\n    }\n  }\n}\nforeach(@array){\n chomp;\n print OUT $_,\"\\n\";\n}\n</code></pre>\n\n<p>Data::Dumper</p>\n\n<pre><code> $VAR1 = '1';\n $VAR2 = {\n      '16977' =&gt; {\n                   'G' =&gt; {\n                            'A' =&gt; '0.0310014'\n                          }\n                 },\n      '77089' =&gt; {\n                   'C' =&gt; {\n                            'T' =&gt; '0.0171221'\n                          }\n                 },\n      '66442' =&gt; {\n                   'T' =&gt; {\n                            'A' =&gt; '0.0017295'\n                          }\n                 },\n</code></pre>\n\n<p>Expected output: </p>\n\n<pre><code>1  16977 G A 0.0310014\n1  66442 C T 0.0171221\n1  77089 T A 0.001\n</code></pre>\n"}, {"tags": ["regex", "perl", "match"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4048369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b38553a5e8314dc0f92a3496776acd0?s=128&d=identicon&r=PG&f=1", "display_name": "ZahraO", "link": "https://stackoverflow.com/users/4048369/zahrao"}, "edited": false, "score": 0, "creation_date": 1438732849, "post_id": 31820505, "comment_id": 51567378, "body": "Thank you for your reply. Another quick question, why does it work when I count the number of instances of &quot;fl&quot; by while ($DNA =~ /fl/ig) {$b++;}"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 21, "user_id": 4048369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b38553a5e8314dc0f92a3496776acd0?s=128&d=identicon&r=PG&f=1", "display_name": "ZahraO", "link": "https://stackoverflow.com/users/4048369/zahrao"}, "edited": false, "score": 0, "creation_date": 1438788696, "post_id": 31820505, "comment_id": 51595304, "body": "It just matches all the <code>fl</code> substrings."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 2, "last_activity_date": 1438728297, "last_edit_date": 1438728297, "creation_date": 1438727520, "answer_id": 31820505, "question_id": 31820394, "link": "https://stackoverflow.com/questions/31820394/perl-regular-expressions-explanation/31820505#31820505", "title": "Perl regular expressions explanation", "body": "<p><code>[fl]</code> is a character class, means <em>f</em> or <em>l</em>.<br>\nIt doesn't mean the substring <code>fl</code>.   </p>\n\n<p>So <code>[^fl]</code> counts all the characters that are not f or l.</p>\n\n<p>However, you could do that with a regex like this - </p>\n\n<p><code>/[^fl]|f(?!l)|(?&lt;!f)l/</code></p>\n\n<p>Formatted:  </p>\n\n<pre><code>    [^fl]          # Not f nor l\n |  f (?! l )      # f not followed by l\n |  (?&lt;! f ) l     # l not following f\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 555, "user_id": 1846256, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c24edb80a3e89769c5b2c543624d905?s=128&d=identicon&r=PG", "display_name": "ritter", "link": "https://stackoverflow.com/users/1846256/ritter"}, "is_accepted": false, "score": 0, "last_activity_date": 1438727569, "creation_date": 1438727569, "answer_id": 31820514, "question_id": 31820394, "link": "https://stackoverflow.com/questions/31820394/perl-regular-expressions-explanation/31820514#31820514", "title": "Perl regular expressions explanation", "body": "<p>Keeping it simple, maybe consider dropping all the instances of \"fl\" first, then simply counting the remaining characters:</p>\n\n<pre><code>$DNA =~ s/fl//g;\nprint \"Total characters less fl = \".length($DNA).\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4048369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b38553a5e8314dc0f92a3496776acd0?s=128&d=identicon&r=PG&f=1", "display_name": "ZahraO", "link": "https://stackoverflow.com/users/4048369/zahrao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438790553, "creation_date": 1438726961, "last_edit_date": 1438790553, "question_id": 31820394, "link": "https://stackoverflow.com/questions/31820394/perl-regular-expressions-explanation", "title": "Perl regular expressions explanation", "body": "<p>I was hoping to get a little explanation I have the following script:</p>\n\n<pre><code>open (FILE, '2.txt');\n@DNA = &lt;FILE&gt;;\n$DNA = join ('', @DNA);\n\nprint \"DNA = \". $DNA . \"\\n\";\n\n$a=0;\nwhile ($DNA =~ //ig) {$a++;}\nprint \"Total characters = \".$a.\"\\n\";\n\n$b=0;\nwhile ($DNA =~ /fl/ig) {$b++;}\nprint \"Total fl = \".$b.\"\\n\";\n\n$c=0;\nwhile ($DNA =~ /[^fl]/ig) {$c++;}\nprint \"Total character less fl = \".$c.\"\\n\";\n\nexit;\n</code></pre>\n\n<p>The text document \"2.txt\" contains the following characters:</p>\n\n<pre><code>flkkkklllkkfewnofnewofewfl\n</code></pre>\n\n<p>When I run the script I get the following outputs:</p>\n\n<pre><code>DNA = flkkkklllkkfewnofnewofewfl\nTotal characters = 27\nTotal fl = 2\nTotal character less fl = 16\n</code></pre>\n\n<p>My question is, why when I do<br>\n<code>while ($DNA =~ /fl/ig) {$b++;}</code> if counts all the instances of fl together,  </p>\n\n<p>but when I do<br>\n<code>while ($DNA =~ /[^fl]/ig) {$c++;}</code> it counts the number of characters that<br>\nare neither an f or and l (i.e. the f &amp; the l are treated separately).  </p>\n\n<p>I was looking for the script to count the number of characters that are not fl (i.e. treated together)</p>\n"}, {"tags": ["node.js", "perl", "shell-exec", "backticks"], "answers": [{"comments": [{"owner": {"reputation": 2556, "user_id": 836835, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e3c6901d19fb22740c5955d07394c833?s=128&d=identicon&r=PG", "display_name": "ro ko", "link": "https://stackoverflow.com/users/836835/ro-ko"}, "edited": false, "score": 1, "creation_date": 1442367375, "post_id": 31820051, "comment_id": 53049600, "body": "I get Object #&lt;Object&gt; has no method &#39;execSync&#39; when trying to run this, any idea?"}, {"owner": {"reputation": 29876, "user_id": 476716, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4e325890903afc8269eb2c1aa57587b3?s=128&d=identicon&r=PG", "display_name": "OrangeDog", "link": "https://stackoverflow.com/users/476716/orangedog"}, "edited": false, "score": 0, "creation_date": 1444817355, "post_id": 31820051, "comment_id": 54057643, "body": "Though to be more equivalent to Perl (which doesn&#39;t use utf8 by default), use the &#39;binary&#39; encoding."}, {"owner": {"reputation": 1999, "user_id": 408747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1551e8e31c56726c5fddfb1524620a35?s=128&d=identicon&r=PG", "display_name": "Raul Nohea Goodness", "link": "https://stackoverflow.com/users/408747/raul-nohea-goodness"}, "edited": false, "score": 1, "creation_date": 1496175997, "post_id": 31820051, "comment_id": 75550644, "body": "This is so much better than the other answers for executing commands in node."}], "tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": true, "score": 5, "last_activity_date": 1438725271, "creation_date": 1438725271, "answer_id": 31820051, "question_id": 31819950, "link": "https://stackoverflow.com/questions/31819950/whats-the-equivalent-of-perls-backticks-in-node-js/31820051#31820051", "title": "What&#39;s the equivalent of Perl&#39;s backticks in Node.js?", "body": "<p>Try using <a href=\"https://nodejs.org/docs/latest/api/child_process.html#child_process_child_process_execsync_command_options\" rel=\"noreferrer\">.execSync</a> with an explicit encoding.. In the shortest form (with whitespace),</p>\n\n<pre><code>var date = require('child_process').execSync('date', {encoding: 'utf8'} )\nconsole.log(date);\n</code></pre>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1015, "favorite_count": 0, "accepted_answer_id": 31820051, "answer_count": 1, "score": 4, "last_activity_date": 1481006813, "creation_date": 1438724878, "last_edit_date": 1438726270, "question_id": 31819950, "link": "https://stackoverflow.com/questions/31819950/whats-the-equivalent-of-perls-backticks-in-node-js", "title": "What&#39;s the equivalent of Perl&#39;s backticks in Node.js?", "body": "<p>In Perl you can do something like</p>\n\n<pre><code>perl -E'my $date = `date`; say $date'\n</code></pre>\n\n<p>This is a terse way to run a command synchronously and set the variable to STDOUT. In Node, how can I quickly run a command to capture the stdout?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5191271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c72e7aeb512169f7298708ee36bd684?s=128&d=identicon&r=PG&f=1", "display_name": "capu", "link": "https://stackoverflow.com/users/5191271/capu"}, "edited": false, "score": 0, "creation_date": 1438721691, "post_id": 31819024, "comment_id": 51563334, "body": "my print comes out like this: score 1000000000 100                                     but i want the 100000000 to only print, i looked all over but some how i can&#39;t find."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 9, "user_id": 5191271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c72e7aeb512169f7298708ee36bd684?s=128&d=identicon&r=PG&f=1", "display_name": "capu", "link": "https://stackoverflow.com/users/5191271/capu"}, "edited": false, "score": 0, "creation_date": 1438722478, "post_id": 31819024, "comment_id": 51563733, "body": "I just explained how to do this."}, {"owner": {"reputation": 9, "user_id": 5191271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c72e7aeb512169f7298708ee36bd684?s=128&d=identicon&r=PG&f=1", "display_name": "capu", "link": "https://stackoverflow.com/users/5191271/capu"}, "edited": false, "score": 0, "creation_date": 1438722658, "post_id": 31819024, "comment_id": 51563813, "body": "I know but somehow is not working.     :(   don&#39;t know what to do. i tried it but nothing"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1438722878, "post_id": 31819024, "comment_id": 51563917, "body": "Show us a few lines of the input.  Is <b>score</b> before or in-between or after the 2 sets of numbers?"}, {"owner": {"reputation": 9, "user_id": 5191271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c72e7aeb512169f7298708ee36bd684?s=128&d=identicon&r=PG&f=1", "display_name": "capu", "link": "https://stackoverflow.com/users/5191271/capu"}, "edited": false, "score": 0, "creation_date": 1438723436, "post_id": 31819024, "comment_id": 51564187, "body": "if you print, it shows like this: &quot;100000000 100&quot; and i tried to do it how Hunter said but it didn&#39;t work. i don&#39;t know what I&#39;m doing wrong. Score is before the 1st set of numbers, like this: &quot;score 1000000000 100&quot;"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1438721233, "creation_date": 1438721233, "answer_id": 31819024, "question_id": 31818901, "link": "https://stackoverflow.com/questions/31818901/im-trying-to-print-a-certain-number-in-perl-after-the-value-score-and-before/31819024#31819024", "title": "I&#39;m trying to print a certain number in perl after the value &quot;score&quot; and before the last number", "body": "<p>From <code>perldoc split</code>:</p>\n\n<blockquote>\n  <p>Splits the string EXPR into a list of strings and returns the list in\n  list context, or the size of the list in scalar context.</p>\n</blockquote>\n\n<p><code>split ( /score/, $_);</code> returns a list of strings which you then print. Given your output I am assuming your input file lines look like this:</p>\n\n<pre><code>100000000 score100\n</code></pre>\n\n<p>If you only want the first value then you should capture that result from split and print only that. You can use <code>undef</code> to ignore the value you do not wish to capture:</p>\n\n<pre><code>my ($value, undef) = split /score/; # split works on $_ by default\nprint $value;\n</code></pre>\n\n<p>Another approach would be to not use split and instead pattern match against each line with a regular expression capture group:</p>\n\n<pre><code>if (my ($value) =~ /(\\w+) $find/) {\n    print $value;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 5191271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c72e7aeb512169f7298708ee36bd684?s=128&d=identicon&r=PG&f=1", "display_name": "capu", "link": "https://stackoverflow.com/users/5191271/capu"}, "edited": false, "score": 0, "creation_date": 1438723784, "post_id": 31819614, "comment_id": 51564360, "body": "omg thank you so much Ron, you are the best in the entire world"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1438724023, "post_id": 31819614, "comment_id": 51564452, "body": "This is the opposite of the behavior you described.  You said you did not want the 100."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1438725947, "post_id": 31819614, "comment_id": 51565282, "body": "@HunterMcMillen The OP said in a comment that their input looks like <code>score 1000000000 100</code>, so this will print the first number, not 100."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438734840, "post_id": 31819614, "comment_id": 51567838, "body": "@ThisSuitIsBlackNot before that I could only guess, and the use of split implied to me that score was in the middle."}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": true, "score": 0, "last_activity_date": 1438723490, "creation_date": 1438723490, "answer_id": 31819614, "question_id": 31818901, "link": "https://stackoverflow.com/questions/31818901/im-trying-to-print-a-certain-number-in-perl-after-the-value-score-and-before/31819614#31819614", "title": "I&#39;m trying to print a certain number in perl after the value &quot;score&quot; and before the last number", "body": "<pre><code>if ($_ =~ /$find\\s*(\\d+)/) {\n        print \"$1\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 5145189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076533502374293/picture?type=large", "display_name": "Chandar Kakarlapudi", "link": "https://stackoverflow.com/users/5145189/chandar-kakarlapudi"}, "is_accepted": false, "score": 0, "last_activity_date": 1438724040, "creation_date": 1438724040, "answer_id": 31819758, "question_id": 31818901, "link": "https://stackoverflow.com/questions/31818901/im-trying-to-print-a-certain-number-in-perl-after-the-value-score-and-before/31819758#31819758", "title": "I&#39;m trying to print a certain number in perl after the value &quot;score&quot; and before the last number", "body": "<p>Your usage of split is wrong.</p>\n\n<p>Though this is not the best way, I will correct your code itself, instead of suggesting better ways:</p>\n\n<pre><code>my $find = \"score\";\n\nopen (TEST, \"lines.txt\");\n\nmy @line = &lt;TEST&gt;;\n\nfor (@line) {\n\n    if ($_ =~ /($find)(\\s+)(\\d+)(\\s+)(\\d+)/) {\n        print $3; $1 will be Score. $2 will be space. $3 will be your value etc.\n    }\n}\n\nclose (TEST);\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5191271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c72e7aeb512169f7298708ee36bd684?s=128&d=identicon&r=PG&f=1", "display_name": "capu", "link": "https://stackoverflow.com/users/5191271/capu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 31819614, "answer_count": 3, "score": -1, "last_activity_date": 1438724040, "creation_date": 1438720809, "last_edit_date": 1438721123, "question_id": 31818901, "link": "https://stackoverflow.com/questions/31818901/im-trying-to-print-a-certain-number-in-perl-after-the-value-score-and-before", "title": "I&#39;m trying to print a certain number in perl after the value &quot;score&quot; and before the last number", "body": "<pre><code>my $find = \"score\";\n\nopen (TEST, \"lines.txt\");\n\nmy @line = &lt;TEST&gt;;\n\nfor (@line) {\n\n    if ($_ =~ /$find/) {\n        print split ( /score/, $_);\n    }\n}\n\nclose (TEST);\n</code></pre>\n\n<p>Prints out: </p>\n\n<blockquote>\n  <p>100000000 100</p>\n  \n  <p>100000001 100</p>\n  \n  <p>100000002 100</p>\n</blockquote>\n\n<p>but i only want the the first value not the \"100\"</p>\n"}, {"tags": ["perl", "svn"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 1957395, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b82f53236b34ea794f679364913866e1?s=128&d=identicon&r=PG", "display_name": "AKon", "link": "https://stackoverflow.com/users/1957395/akon"}, "edited": false, "score": 0, "creation_date": 1438715889, "post_id": 31817201, "comment_id": 51560287, "body": "Thank you. I was printing my variables to confirm they were right but lazily skipped user as I couldn&#39;t have imagined it being the problem. Much appreciated."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 79, "user_id": 1957395, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b82f53236b34ea794f679364913866e1?s=128&d=identicon&r=PG", "display_name": "AKon", "link": "https://stackoverflow.com/users/1957395/akon"}, "edited": false, "score": 0, "creation_date": 1438715926, "post_id": 31817201, "comment_id": 51560308, "body": "Could have printed out the command! <code>my $cmd = qq`...`; print(&quot;cmd=&lt;$cmd&gt;\\n&quot;); `$cmd`;</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1438716071, "last_edit_date": 1438716071, "creation_date": 1438714967, "answer_id": 31817201, "question_id": 31816951, "link": "https://stackoverflow.com/questions/31816951/svn-checkout-in-perl-script-failing-url-not-found/31817201#31817201", "title": "SVN Checkout in Perl script failing, URL not found?", "body": "<p>Note that the error is coming from the shell, not <code>svn</code>.</p>\n\n<p>You are executing </p>\n\n<pre><code>svn checkout -q --username user\nsvn+ssh://my/repo/url/project/trunk workingCopyName\n</code></pre>\n\n<p>when you mean to execute</p>\n\n<pre><code>svn checkout -q --username user svn+ssh://my/repo/url/project/trunk workingCopyName\n</code></pre>\n\n<p>because <code>$user</code> contains a newline. Replace</p>\n\n<pre><code>my $user = `whoami`;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>chomp( my $user = `whoami` );\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 1957395, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b82f53236b34ea794f679364913866e1?s=128&d=identicon&r=PG", "display_name": "AKon", "link": "https://stackoverflow.com/users/1957395/akon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 31817201, "answer_count": 1, "score": 0, "last_activity_date": 1438716071, "creation_date": 1438714038, "question_id": 31816951, "link": "https://stackoverflow.com/questions/31816951/svn-checkout-in-perl-script-failing-url-not-found", "title": "SVN Checkout in Perl script failing, URL not found?", "body": "<p>I am writing a simple Perl script that is attempting to automate checking in files via SVN. I am not using any given SVN clients within Perl and for the sake of simplicity am just using command line arguments. </p>\n\n<p>Whenever I run the svn checkout command seen below, I am getting this error: </p>\n\n<p><code>sh[2]: svn+ssh://my/repo/url/project/trunk: not found.</code></p>\n\n<p>Here is the command and the variable declarations.</p>\n\n<pre><code>$svn_root = \"svn+ssh://my/repo/url/project/trunk\";\n$user = `whoami`;\n`svn checkout -q --username $user $svn_root workingCopyName`;\n</code></pre>\n\n<p>I should note that I am connecting to the repository via SSH and have edited my config file (and included -q just in case). I will also note that running this command outside of the script works perfectly fine, for the same exact URL, and without the -q argument. </p>\n\n<p>Thanks for your help. Please let me know if I need to clear anything up.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1438713073, "post_id": 31816618, "comment_id": 51558779, "body": "Look <a href=\"http://perltricks.com/article/37/2013/8/18/Catch-and-Handle-Signals-in-Perl\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438713554, "post_id": 31816618, "comment_id": 51559078, "body": "I think that message is only <a href=\"http://perl5.git.perl.org/perl.git?a=search&amp;h=HEAD&amp;st=grep&amp;s=but+no+signal+handler+set\" rel=\"nofollow noreferrer\">issued</a> from threads. You may not have set the signal handler for that thread."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1438713570, "post_id": 31816618, "comment_id": 51559087, "body": "You code looks correct, something else must be going on in a piece that you have not shown. Can you post a complete example?"}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438716423, "post_id": 31816618, "comment_id": 51560572, "body": "I was getting sigpipe from a thread. But put the handler outside of the thread. Thats why I was getting the error. Thanks to @ikegami"}, {"owner": {"reputation": 7967, "user_id": 150851, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d36fc1670dde552d3c0f745ba8221648?s=128&d=identicon&r=PG", "display_name": "Jonno_FTW", "link": "https://stackoverflow.com/users/150851/jonno-ftw"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1616976331, "post_id": 31816618, "comment_id": 118163475, "body": "@Jens the link is dead, you can read the article here now: <a href=\"https://www.perl.com/article/37/2013/8/18/Catch-and-Handle-Signals-in-Perl/\" rel=\"nofollow noreferrer\">perl.com/article/37/2013/8/18/Catch-and-Handle-Signals-in-Pe&zwnj;&#8203;rl</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1438768759, "post_id": 31817926, "comment_id": 51581095, "body": "Oooh, signals <i>and</i> threads? Have fun with that ;) I.e. I&#39;d really really advise not doing that."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1438717506, "creation_date": 1438717506, "answer_id": 31817926, "question_id": 31816618, "link": "https://stackoverflow.com/questions/31816618/perl-how-to-catch-and-handle-sigpipe/31817926#31817926", "title": "perl how to catch and handle sigpipe", "body": "<p>I think that message is only <a href=\"http://perl5.git.perl.org/perl.git?a=search&amp;h=HEAD&amp;st=grep&amp;s=but+no+signal+handler+set\" rel=\"nofollow\">issued</a> when using threads. I believe you the thread throwing the signal differs from the thread in which the signal handler was set.</p>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1601, "favorite_count": 0, "accepted_answer_id": 31817926, "answer_count": 1, "score": 1, "last_activity_date": 1438717506, "creation_date": 1438712858, "last_edit_date": 1438712977, "question_id": 31816618, "link": "https://stackoverflow.com/questions/31816618/perl-how-to-catch-and-handle-sigpipe", "title": "perl how to catch and handle sigpipe", "body": "<p>I want to call a subroutine upon receiving sigpipe. I tried something like below:</p>\n\n<pre><code>$SIG{'PIPE'} = sub {\n    print \"Got sigterm \\n\";\n};\n</code></pre>\n\n<p>However, I keep getting error:</p>\n\n<pre><code>Signal SIGPIPE received, but no signal handler set.\n</code></pre>\n\n<p>I can do <code>$SIG{'PIPE'} = 'IGNORE'</code> but how to call a subroutine </p>\n"}, {"tags": ["perl", "fork"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1438712456, "post_id": 31815865, "comment_id": 51558445, "body": "<code>kill 0, $pid</code> merely tells returns whether you can send a signal to process with PID <code>$pid</code>, so it useless to do right before <code>kill &#39;HUP&#39;, $pid</code>. In other words, <code>if (kill 0, $pid) { kill &#39;HUP&#39;, $pid; ... }</code> is a weird way of writing <code>if (kill &#39;HUP&#39;, $pid) { ... }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438712322, "post_id": 31815974, "comment_id": 51558370, "body": "The detault action for SIGHUP is the same as SIGTERM. SIGTERM is more appropriate, but SIGHUP should work just as well."}, {"owner": {"reputation": 23064, "user_id": 3177124, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/65014fdf3cfd04b1452620aeb54dcede?s=128&d=identicon&r=PG&f=1", "display_name": "abligh", "link": "https://stackoverflow.com/users/3177124/abligh"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438712639, "post_id": 31815974, "comment_id": 51558542, "body": "@ikegami I agree, though I got the distinct impression we hadn&#39;t seen all the source."}, {"owner": {"reputation": 1742, "user_id": 132319, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9265668ccda89e3007dcef4409aa3381?s=128&d=identicon&r=PG", "display_name": "Kit Peters", "link": "https://stackoverflow.com/users/132319/kit-peters"}, "edited": false, "score": 0, "creation_date": 1438795760, "post_id": 31815974, "comment_id": 51599718, "body": "The idea behind $self-&gt;pid() was to store the child PID in the parent process so that stop() could terminate the child process."}, {"owner": {"reputation": 1742, "user_id": 132319, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9265668ccda89e3007dcef4409aa3381?s=128&d=identicon&r=PG", "display_name": "Kit Peters", "link": "https://stackoverflow.com/users/132319/kit-peters"}, "edited": false, "score": 0, "creation_date": 1438797247, "post_id": 31815974, "comment_id": 51600526, "body": "And I used SIGHUP because that was the signal HTTP::Server::Brick (which this class uses) wanted to terminate the server."}, {"owner": {"reputation": 23064, "user_id": 3177124, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/65014fdf3cfd04b1452620aeb54dcede?s=128&d=identicon&r=PG&f=1", "display_name": "abligh", "link": "https://stackoverflow.com/users/3177124/abligh"}, "edited": false, "score": 0, "creation_date": 1438813694, "post_id": 31815974, "comment_id": 51609224, "body": "You cannot from a child alter the memory space of the parent (or vice versa)"}], "tags": [], "owner": {"reputation": 23064, "user_id": 3177124, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/65014fdf3cfd04b1452620aeb54dcede?s=128&d=identicon&r=PG&f=1", "display_name": "abligh", "link": "https://stackoverflow.com/users/3177124/abligh"}, "is_accepted": false, "score": 2, "last_activity_date": 1438710625, "creation_date": 1438710625, "answer_id": 31815974, "question_id": 31815865, "link": "https://stackoverflow.com/questions/31815865/why-wont-this-die/31815974#31815974", "title": "Why won&#39;t this die?", "body": "<p>Your <code>stop</code> subroutine does not appear to stop anything. It sends <code>kill 0</code> (which merely detects when the process is running), or a <code>HUP</code>. Don't you want to send <code>SIGTERM</code> or similar?</p>\n\n<p>Also, what are you trying to achieve with <code>$self-&gt;$pid</code>? When you do the <code>fork()</code>, then the memory space of parent and child are separated, so what you write into <code>$self-&gt;pid</code> in the parent will not be visible to the child. You thus need to record the PID of the child <em>in the child</em>, e.g.</p>\n\n<pre><code>$self-&gt;pid = $$;\n</code></pre>\n\n<p>before</p>\n\n<pre><code>$self-&gt;server-&gt;start;\n</code></pre>\n\n<p>I'm a little unsure exactly which process you are trying to kill here, and which process is calling <code>stop()</code>. I'm presuming these aren't exactly the same or you'd surely just have quit from there rather than muck around with <code>kill</code> etc.</p>\n"}, {"comments": [{"owner": {"reputation": 1742, "user_id": 132319, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9265668ccda89e3007dcef4409aa3381?s=128&d=identicon&r=PG", "display_name": "Kit Peters", "link": "https://stackoverflow.com/users/132319/kit-peters"}, "edited": false, "score": 0, "creation_date": 1438796278, "post_id": 31816644, "comment_id": 51599976, "body": "That did fix my problem. What was I doing wrong?  Not calling waitpid()?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1742, "user_id": 132319, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9265668ccda89e3007dcef4409aa3381?s=128&d=identicon&r=PG", "display_name": "Kit Peters", "link": "https://stackoverflow.com/users/132319/kit-peters"}, "edited": false, "score": 0, "creation_date": 1438796500, "post_id": 31816644, "comment_id": 51600084, "body": "Oh right, I see why that fixes it. Edited my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1438796483, "last_edit_date": 1438796483, "creation_date": 1438712940, "answer_id": 31816644, "question_id": 31815865, "link": "https://stackoverflow.com/questions/31815865/why-wont-this-die/31816644#31816644", "title": "Why won&#39;t this die?", "body": "<p>Although it's not running, the process still exists until its parent reaps it reaped by <code>wait</code>(2). Since the child is never reaped (and since there's no permission issue), <code>kill 0, $pid</code> will always succeed. Fixed:</p>\n\n<pre><code>sub stop {\n    my ($self) = @_;\n\n    my $pid = $self-&gt;pid\n        or die(\"No child to stop.\\n\");\n\n    kill(TERM =&gt; $pid);\n        or die(\"Can't kill child.\\n\");\n\n    if (!eval {{\n        local $SIG{ALRM} = sub { die \"timeout\\n\" };\n        alarm(15);\n        waitpid($pid, 0) &gt; 0\n            or die(\"Can't reap child.\\n\");\n\n        return 1;  # No exception\n    }}) {\n        die($@) if $@ ne \"timeout\\n\";\n\n        warn(\"Forcing child to end.\\n\");\n        kill(KILL =&gt; $pid)\n            or die(\"Can't kill child.\\n\");\n\n        waitpid($pid, 0) &gt; 0\n            or die(\"Can't reap child.\\n\");\n    }\n\n    $self-&gt;pid(0);\n}\n</code></pre>\n"}], "owner": {"reputation": 1742, "user_id": 132319, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9265668ccda89e3007dcef4409aa3381?s=128&d=identicon&r=PG", "display_name": "Kit Peters", "link": "https://stackoverflow.com/users/132319/kit-peters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 31816644, "answer_count": 2, "score": 3, "last_activity_date": 1438796483, "creation_date": 1438710144, "last_edit_date": 1438712930, "question_id": 31815865, "link": "https://stackoverflow.com/questions/31815865/why-wont-this-die", "title": "Why won&#39;t this die?", "body": "<p>I've created a package that starts a simple HTTP server for testing purposes, but the <code>stop()</code> method doesn't seem to want to stop the <code>fork()</code>'ed process. Killing the process (via <code>SIGHUP</code>) works fine outside of the object, but calling <code>$server-&gt;stop</code> just doesn't work. Why?</p>\n\n<pre><code>package MockHub;\nuse Moose;\nuse HTTP::Server::Brick;\nuse JSON;\nuse Log::Any qw($log);\nuse English qw(-no_match_vars);\n\nhas 'server' =&gt; (\n    'is'       =&gt; 'ro',\n    'lazy'     =&gt; 1,\n    'isa'      =&gt; 'HTTP::Server::Brick',\n    'builder'  =&gt; '_build_server',\n    'init_arg' =&gt; undef\n);\nhas 'port'  =&gt; ( 'is' =&gt; 'ro', 'isa' =&gt; 'Int' );\nhas 'pid'   =&gt; ( 'is' =&gt; 'rw', 'isa' =&gt; 'Int', 'init_arg' =&gt; undef );\nhas 'token' =&gt; ( 'is' =&gt; 'rw', 'isa' =&gt; 'Str', 'init_arg' =&gt; undef );\nhas 'log'   =&gt; ( 'is' =&gt; 'ro', 'isa' =&gt; 'Log::Any::Proxy', 'default' =&gt; sub { Log::Any-&gt;get_logger() } );\n\nsub start {\n    my $self = shift;        \n\n    my $pid = fork;\n\n    # Spawn the server in a child process.\n    if (!defined $pid) {\n        die qq{Can't fork: $!};\n    }\n    elsif ($pid == 0) { # child \n        $self-&gt;server-&gt;start;\n        exit; # exit after server exits\n    }\n    else { # parent \n        $self-&gt;pid($pid);\n        return $pid;\n    }\n}\n\nsub _build_server {\n    my ($self) = @_;\n\n    my $port   = $self-&gt;port;\n    my $pid    = $self-&gt;pid || 'NO PID';\n    my $server = HTTP::Server::Brick-&gt;new( port =&gt; $port );\n    $server-&gt;mount(\n        '/foo' =&gt; {\n            'handler' =&gt; sub {\n                my ( $req, $res ) = @_;\n                my $token = substr( $req-&gt;{'path_info'}, 1 );    # remove leading slash\n                $self-&gt;token($token);\n                $res-&gt;header( 'Content-Type' =&gt; 'application/json' );\n                $res-&gt;add_content( encode_json( { 'success' =&gt; 1, 'message' =&gt; 'Process Report Received' } ) );\n                1;\n            },\n            'wildcard' =&gt; 1,\n        },\n    );\n    $server-&gt;mount(\n        '/token' =&gt; {\n            'handler' =&gt; sub {\n                my ( $req, $res ) = @_;\n                my $token = $self-&gt;token || '';\n                $res-&gt;header( 'Content-Type' =&gt; 'text/plain' );\n                $res-&gt;add_content($token);\n                1;\n            },\n        },\n    );\n\n    return $server;\n}\n\nsub stop {\n    my ($self) = @_;\n\n    my $pid = $self-&gt;pid || die q{No PID};\n\n    if (kill 0, $pid) {\n        sleep 1;\n        kill 'HUP', $pid;\n        if (kill 0, $pid) {\n            warn q{Server will not die!};\n        }\n    }\n    else {\n        warn q{Server not running};\n    }\n}\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n</code></pre>\n"}, {"tags": ["database", "perl", "sqlite", "crontab"], "answers": [{"comments": [{"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 0, "creation_date": 1438707130, "post_id": 31814987, "comment_id": 51555487, "body": "This is the particular offending line: <code>my $dbFile = &#39;..&#47;database.sqlite&#39;;</code> (the DB is a parent up). Out of curiosity, why would running it manually work, but running it through crontab not?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 1, "creation_date": 1438707152, "post_id": 31814987, "comment_id": 51555503, "body": "Adjusted accordingly. It has nothing to do with manual vs cron; as I explained, it&#39;s due to differences in the current work directory. Do <code>cd &#47;</code> before doing <code>&#47;var&#47;www&#47;name&#47;storage&#47;scripts&#47;getListOfClassesFromSubjects.p&zwnj;&#8203;l  &gt;&gt; &#47;var&#47;www&#47;name&#47;storage&#47;logs&#47;schedulizer.log 2&gt;&amp;1</code> from the shell, and it will fail there too, and for the same reason."}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 0, "creation_date": 1438707620, "post_id": 31814987, "comment_id": 51555802, "body": "This worked! Thank you. Out of curiosity, why is this happening in crontab and not when I manually run it?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 0, "creation_date": 1438707645, "post_id": 31814987, "comment_id": 51555818, "body": "I&#39;m not going to explain a third time."}, {"owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "edited": false, "score": 0, "creation_date": 1438707667, "post_id": 31814987, "comment_id": 51555829, "body": "Blah, I didn&#39;t see the explanation. I understand now."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1438707144, "last_edit_date": 1438707144, "creation_date": 1438707060, "answer_id": 31814987, "question_id": 31814905, "link": "https://stackoverflow.com/questions/31814905/script-running-in-crontab-reporting-database-missing-error-when-manually-running/31814987#31814987", "title": "Script running in crontab reporting database missing error when manually running it doesn&#39;t cause the issue", "body": "<p>For the path to the database, your code uses a relative path that assumes the current directory is the directory in which the script resides. It is not.</p>\n\n<p>Instead of</p>\n\n<pre><code>\"../database.sqlite\"\n</code></pre>\n\n<p>use</p>\n\n<pre><code>use FindBin qw( $RealBin );\n\"$RealBin/../database.sqlite\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use FindBin qw( $RealBin );\nchdir($RealBin);\n\"../database.sqlite\"\n</code></pre>\n"}], "owner": {"reputation": 4717, "user_id": 1913389, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QKwb2.png?s=128&g=1", "display_name": "theGreenCabbage", "link": "https://stackoverflow.com/users/1913389/thegreencabbage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438707144, "creation_date": 1438706791, "question_id": 31814905, "link": "https://stackoverflow.com/questions/31814905/script-running-in-crontab-reporting-database-missing-error-when-manually-running", "title": "Script running in crontab reporting database missing error when manually running it doesn&#39;t cause the issue", "body": "<p>I have a script that I run manually every hour in my Laravel that's under this path:</p>\n\n<pre><code>/var/www/name/storage/scripts/getListOfClassesFromSubjects.pl\n</code></pre>\n\n<p>What I normally do is, I cd to <code>/scripts/</code>, and I manually run:</p>\n\n<pre><code>./getListOfClassesFromSubjects.pl\n</code></pre>\n\n<p>And the script works fine.</p>\n\n<p>Today, I setup a crontab to automate this (obviously).</p>\n\n<pre><code>0,30 * * * * /var/www/name/storage/scripts/getListOfClassesFromSubjects.pl  &gt;&gt; /var/www/name/storage/logs/schedulizer.log 2&gt;&amp;1\n</code></pre>\n\n<p>Within my logs are this:</p>\n\n<pre><code>DBD::SQLite::db prepare failed: no such table: subject_urls at /var/www/loop/storage/scripts/getListOfClassesFromSubjects.pl line 56.\n</code></pre>\n\n<p>Which is an anomaly because when I run the script manually, it's fine.</p>\n\n<p>This is my database's permissions:</p>\n\n<pre><code>-rw-r--r--  1 root     root     11750400 Aug  4 12:30 database.sqlite\n</code></pre>\n\n<p>So I'm thinking this is the issue with the rwx permissions, so I changed the DB to 755:</p>\n\n<pre><code>-rwxr-xr-x 1 root root 11750400 Aug  4 12:30 database.sqlite\n</code></pre>\n\n<p>Still the same issue</p>\n"}, {"tags": ["mysql", "perl", "insert"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438702544, "post_id": 31813394, "comment_id": 51552428, "body": "Use string interpolation: <code>my $val=&quot;Hello&quot;; my $query=&quot;values ($val)&quot;</code> ? See <a href=\"http://perldoc.perl.org/perlop.html#Gory-details-of-parsing-quoted-constructs\" rel=\"nofollow noreferrer\">perlop</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1438702882, "post_id": 31813394, "comment_id": 51552706, "body": "@H&#229;konH&#230;gland The OP is already using placeholders, there&#39;s absolutely nothing to be gained from switching to interpolation."}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438702882, "post_id": 31813394, "comment_id": 51552707, "body": "@H&#229;konH&#230;gland isnt that just for the values though...? not for the table columns? is there a way to do that for NOT the values, but instead for the inset into table (this part) ?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1438703078, "post_id": 31813394, "comment_id": 51552869, "body": "If you know the column <i>names</i>, order doesn&#39;t matter: <code>INSERT INTO table (foo, bar) VALUES (&#39;baz&#39;, &#39;qux&#39;)</code> is the same as <code>INSERT INTO table (bar, foo) VALUES (&#39;qux&#39;, &#39;baz&#39;)</code>. And since you&#39;re listing the columns, both of these will work even if the table has more columns than just <code>foo</code> and <code>bar</code>."}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438703239, "post_id": 31813394, "comment_id": 51552981, "body": "@ThisSuitIsBlackNot which is where problem a) also comes in. what if I do foo,bar. and I only have values for foo in this document or of foo,bar,raa, ect. As mentioned I will not know which columns I will be inserting into. I dont know how to build an insert statement to accommodate that fact."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438703319, "post_id": 31813394, "comment_id": 51553039, "body": "If you only have a value for column <code>foo</code>, then do <code>INSERT INTO table (foo) VALUES (&#39;bar&#39;)</code>. Default values will be used for any columns you don&#39;t specify."}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438703879, "post_id": 31813394, "comment_id": 51553421, "body": "@ThisSuitIsBlackNot yes I know that. and that works for that ONE case. my parameter list is anywhere from 1 -1057 paramaters. I cant do 100trillion if statements going (if its just foo do this) (if its foo + bar do this insert) (if its just bar do this insert) ect ect ect. The whole point is it needs to be a dynamic insert statment, since there are to many possibilities to have if statements for them all."}], "answers": [{"comments": [{"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438704145, "post_id": 31814004, "comment_id": 51553594, "body": "Thank you so much for understanding I needed it dynamic:D Just for the record its not actually a csv its an xml but the important data in it is sort of csv like. But I can defintly modify this to what I need I think. Huge thanks"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438704273, "post_id": 31814004, "comment_id": 51553699, "body": "@Lain I think your requirement was pretty clear, and the question is well-written. I&#39;ve used this kind of thing for importing huge CSV files where I would also create the tables on the fly as part of the analysis of a new project where simply using a mysql tool to read CSV was not working due to the size or the non-conformity of the CSV file."}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438704542, "post_id": 31814004, "comment_id": 51553894, "body": "I assume this sort of thing works fine if its just a text file and not a csv file also? only differences are the lines that have csv in them?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438704747, "post_id": 31814004, "comment_id": 51554020, "body": "@lain Doesn&#39;t matter where your data comes from. If you would have this in XML you would just use a parser to build a data structure. If it&#39;s JSON you can just convert that to a perl data structure and iterate. And a text file is essentially a CSV file with one column. It&#39;s all a matter of definition. CSV is quite flexible. In Germany it&#39;s common to have <code>;</code> as a sep_char, but we still call it <i>comma</i> separated value and not <i>SSV</i>. Noone stops you from using a ` ` or a <code>\\0</code> or whatever you want as the separator. Whatever suits your need. You can use <code>\\n</code> also and have one column per &#39;line&#39;. :)"}, {"owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438780323, "post_id": 31814004, "comment_id": 51588944, "body": "Sorry to bother you again, but I am actually a beginner at perl (started learning yesterday for work lol) for the data maping part. where you have something like this foo =&gt; &#39;Foo&#39;  what happenes if it is fo o instead of foo (like 2 words) can I do &quot;two words&quot; =&gt; &#39;Two_Words&#39; noticed you didnt have quotes before, wasnt sure if this breaks it or not."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "edited": false, "score": 0, "creation_date": 1438781585, "post_id": 31814004, "comment_id": 51589966, "body": "@Lain The <code>=&gt;</code> is called the fat comma. It behaves like a regular <code>,</code> with the benefit of adding quotes around the left hand side. That only works for one word. So if your left side (usually that&#39;s a <i>key</i>) is more than one, you need to quote it yourself. Take a look at the ressources linked in the Perl tag wiki here on SO, those are really good. Don&#39;t just google tutorials. Don&#39;t trust any teaching ressource that does not have <code>use strict</code> and <code>use warnings</code>. And come back and ask new questions if you need help."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1438704445, "last_edit_date": 1438704445, "creation_date": 1438703963, "answer_id": 31814004, "question_id": 31813394, "link": "https://stackoverflow.com/questions/31813394/how-do-i-build-a-dynamic-mysql-insert-statement-with-a-flexible-column-count-in/31814004#31814004", "title": "How do I build a dynamic MySQL INSERT statement with a flexible column count in Perl?", "body": "<p>You are on the right track. You need to build your query dynamically. It's perfectly fine to use variable interpolation for the column names. You should just not use those directly from the CSV columns. Your idea of a dictionary is spot-on.</p>\n\n<p>I've written up a simple example. The trick is to just have the right number of placeholders <code>?</code> in your SQL. The <code>x</code> <a href=\"http://perldoc.perl.org/perlop.html#Multiplicative-Operators\" rel=\"nofollow\">repetition operator</a> is useful for that.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Text::CSV;\nuse DBI;\n\nmy $dbh = DBI-&gt;connect(...);\n\n# csv =&gt; mysql\nmy %column_mapping = (\n    qux =&gt; 'Qux',\n    foo =&gt; 'Foo',\n    bar =&gt; 'Bar',\n    baz =&gt; 'Baz',\n);\n\nmy $csv = Text::CSV-&gt;new or die \"Cannot use CSV: \" . Text::CSV-&gt;error_diag();\n\n# get the headline\nmy $headers = $csv-&gt;getline( \\*DATA );\n\n# build the INSERT query based on those column headers\nmy $sql = sprintf 'INSERT INTO tablename ( %s ) VALUES ( %s )',\n    join( ',', map { $column_mapping{$_} } @$headers ),\n    join( ',', ('?') x scalar @$headers );   # note the list around the '?'\n\nmy $sth = $dbh-&gt;prepare($sql);\n\nwhile ( my $row = $csv-&gt;getline( \\*DATA ) ) {\n    $sth-&gt;execute( @$row ) or die $dbh-&gt;errstr;\n}\n\n__DATA__\nfoo,bar,baz\n1,2,3\n5,5,5\n</code></pre>\n\n<p>In my example, <code>$sql</code> has this value:</p>\n\n<pre><code>INSERT INTO tablename ( Foo,Bar,Baz ) VALUES ( ?,?,? )\n</code></pre>\n\n<hr>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a></li>\n</ul>\n"}], "owner": {"reputation": 1896, "user_id": 3339122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/207a1240480a5176fa783cb60efbb57d?s=128&d=identicon&r=PG&f=1", "display_name": "Lain", "link": "https://stackoverflow.com/users/3339122/lain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 920, "favorite_count": 0, "accepted_answer_id": 31814004, "answer_count": 1, "score": 1, "last_activity_date": 1438704445, "creation_date": 1438702308, "last_edit_date": 1438704425, "question_id": 31813394, "link": "https://stackoverflow.com/questions/31813394/how-do-i-build-a-dynamic-mysql-insert-statement-with-a-flexible-column-count-in", "title": "How do I build a dynamic MySQL INSERT statement with a flexible column count in Perl?", "body": "<p>I know how to do a basic insert with perl into mysql, and im not sure the tital of this question is entirely accurate.</p>\n\n<p>What I am trying to do is as follows:\n-I get a text file with some parameters </p>\n\n<pre><code>\"COUNTER\",\"DATE\",\"TIME\",\"ACCEL LAT\",\"ACCEL LONG\",\"ACCEL VERT\"\n</code></pre>\n\n<p>^as an example. then I get the csv values of these.</p>\n\n<p>For that you would simply do something like:</p>\n\n<pre><code>$query = \"insert into table(counter, date, time, accel_lat, accel_long, accel_vert) \n            values (?, ?, ?, ?, ?, ?) \";\n\n$statement = $connection-&gt;prepare($query);\n\n$statement-&gt;execute(MY DATA IN HERE);\n</code></pre>\n\n<p>However, the problem I have, is that the parameters I get are </p>\n\n<ul>\n<li>a) A subset of the ones in the mysql table (any amount from 1 to all of them)</li>\n<li>b) Given in a random order in the text file</li>\n<li>c) Not the same name as the column names in the table (I guess I would need to build a data dictionary saying which one = what)</li>\n</ul>\n\n<p>Anyways I guess my actual question is this can I make this not static?</p>\n\n<pre><code>\"insert into table(counter, date, time, accel_lat, accel_long, accel_vert) \n</code></pre>\n\n<p>So say my parameter file is  : date, time, counter, accel_vert</p>\n\n<p>I can make the statment into </p>\n\n<pre><code>\"insert into table(date, time, counter, accel_vert) \n</code></pre>\n\n<p>Like to define my inset statment based on what I read from the text file (like how we use ? because we dont know the values yet, I need a way to use ? for the columns since I won't know them yet).</p>\n\n<p>Is this possible? Sorry if I am unclear, can explain if you ask.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1438702007, "post_id": 31813002, "comment_id": 51552047, "body": "See <a href=\"https://en.wikipedia.org/wiki/Leaning_toothpick_syndrome\" rel=\"nofollow noreferrer\">Leaning Toothpick Syndrome</a>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1438702021, "post_id": 31813002, "comment_id": 51552057, "body": "If I saw that in a code review I would advise to use <code>s{&#47;}{::}ig</code> or <code>s(&#47;)(::)ig</code> or even <code>s!&#47;!::!ig</code> instead because the <code>@</code>s might break syntax highlighting and because it&#39;s really unusual to do that."}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 6, "last_activity_date": 1438701268, "creation_date": 1438701268, "answer_id": 31813029, "question_id": 31813002, "link": "https://stackoverflow.com/questions/31813002/what-is-that-meaning-of-testmodule-s-ig-in-perl/31813029#31813029", "title": "What is that meaning of $testModule =~ s@/@::@ig; in Perl?", "body": "<p>You can use lots of different characters as regex delimiters.</p>\n\n<p>This one is using <code>@</code> instead of <code>/</code> so it can use <code>/</code> as data inside the regex without escaping it.</p>\n\n<p>It's equivalent to:</p>\n\n<pre><code>$testModule =~ s/\\//::/ig;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\">quote and quote-like operators</a> in the Perl documentation for more details.</p>\n"}], "owner": {"reputation": 11, "user_id": 5190218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a64c47b80fc0437c27fd96b339d2b0a8?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/5190218/marcus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1674, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1438701917, "creation_date": 1438701189, "last_edit_date": 1438701917, "question_id": 31813002, "link": "https://stackoverflow.com/questions/31813002/what-is-that-meaning-of-testmodule-s-ig-in-perl", "title": "What is that meaning of $testModule =~ s@/@::@ig; in Perl?", "body": "<p>I am a newbie of perl and I'm reading some perl codes, I find one line below I could't understand, can anyone tell what is the meaning of</p>\n\n<pre><code>s@/@::@ig \n</code></pre>\n\n<p>I know <code>=~</code> is try to match some regular expression. usually I would see code like <code>s/&lt;regular express&gt;//gi</code>, so I was a little confused of the following code. can anyone help to elaborate?</p>\n\n<pre><code>$testModule =~ s@/@::@ig;\n</code></pre>\n"}, {"tags": ["perl", "while-loop", "vmware-tools"], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 0, "creation_date": 1438701226, "post_id": 31812909, "comment_id": 51551450, "body": "Wow, ok, i wasn&#39;t aware that this is how while conditions were interpreted. Thanks"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 0, "creation_date": 1438701272, "post_id": 31812909, "comment_id": 51551491, "body": "@AdrianTodorov, there&#39;s nothing special about while conditions.  This is basic Boolean algebra."}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438701380, "post_id": 31812909, "comment_id": 51551555, "body": "@ThisSuitIsBlackNot, that&#39;s a good idea.  I keep forgetting Perl has a plain <code>until</code> loop."}, {"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 0, "creation_date": 1438701408, "post_id": 31812909, "comment_id": 51551574, "body": "Yes, when if/elsing, it seems logical, but when while-ing, while(!condition1 &amp;&amp; !condition2), my interpretation is &quot;until both conditions are false&quot;. Using || would imply(again, in my interpretation), &quot;until one of the conditions is false&quot;."}, {"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 0, "creation_date": 1438701464, "post_id": 31812909, "comment_id": 51551621, "body": "@cjm, is this Perl specific? I am almost certain i&#39;ve used such a loop in C and i don&#39;t remember having any issues.. But maybe i am mistaken."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 1, "creation_date": 1438701491, "post_id": 31812909, "comment_id": 51551649, "body": "@Adrian Todorov, Re &quot;my interpretation is &#39;until both conditions are false&#39;&quot;, Yet you wrote &quot;while both conditions are true&quot;"}, {"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438701566, "post_id": 31812909, "comment_id": 51551717, "body": "@ikegami, what i meant was, loop until both conditions are false."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 2, "creation_date": 1438701576, "post_id": 31812909, "comment_id": 51551726, "body": "@Adrian Todorov, Re &quot;is this Perl specific?&quot;, No. <code>&amp;&amp;</code> implements &quot;logical and&quot; in both Perl and C (and Java and JS and SQL and ...)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 0, "creation_date": 1438701668, "post_id": 31812909, "comment_id": 51551783, "body": "@Adrian Todorov, Re &quot;what i meant was, loop until both conditions are false&quot;, Yet you wrote &quot;loop while both values are wrong&quot;. You should have looped while either value is wrong."}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 3, "last_activity_date": 1438701341, "last_edit_date": 1438701341, "creation_date": 1438700933, "answer_id": 31812909, "question_id": 31812817, "link": "https://stackoverflow.com/questions/31812817/perl-while-loop-not-behaving-as-expected/31812909#31812909", "title": "Perl while loop not behaving as expected", "body": "<pre><code>($vm_powerState ne \"poweredOn\") &amp;&amp; ($vm_toolsStatus ne \"toolsOk\")\nFALSE &amp;&amp; TRUE\nFALSE\n</code></pre>\n\n<p>You should have used <code>||</code> instead of <code>&amp;&amp;</code>.</p>\n\n<p><code>!(A &amp;&amp; B)</code> is equivalent to <code>(!A || !B)</code></p>\n\n<p>A better way to write this loop would be:</p>\n\n<pre><code>until ($vm_powerState eq \"poweredOn\" &amp;&amp; $vm_toolsStatus eq \"toolsOk\") {\n  ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1438701143, "creation_date": 1438701143, "answer_id": 31812986, "question_id": 31812817, "link": "https://stackoverflow.com/questions/31812817/perl-while-loop-not-behaving-as-expected/31812986#31812986", "title": "Perl while loop not behaving as expected", "body": "<p>You want to loop until</p>\n\n<pre><code>$vm_powerState eq \"poweredOn\" &amp;&amp; $vm_toolsStatus eq \"toolsOk\"\n</code></pre>\n\n<p>Which means you want to loop while </p>\n\n<pre><code>!( $vm_powerState eq \"poweredOn\" &amp;&amp; $vm_toolsStatus eq \"toolsOk\" )\n</code></pre>\n\n<p>Equivalent:</p>\n\n<pre><code>!( $vm_powerState eq \"poweredOn\" ) || !( $vm_toolsStatus eq \"toolsOk\" )\n</code></pre>\n\n<p>Equivalent:</p>\n\n<pre><code>$vm_powerState ne \"poweredOn\" || $vm_toolsStatus ne \"toolsOk\"\n</code></pre>\n\n<p>In other words, you want to loop as long as either has the wrong value, but you are looping as long as both have the wrong value.</p>\n"}], "owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 31812909, "answer_count": 2, "score": 1, "last_activity_date": 1438711307, "creation_date": 1438700647, "last_edit_date": 1438711307, "question_id": 31812817, "link": "https://stackoverflow.com/questions/31812817/perl-while-loop-not-behaving-as-expected", "title": "Perl while loop not behaving as expected", "body": "<p>I am using a while loop with a sleep inside to check when a an event has occured(i am launching a Virtual Machine, and then using the loop to wait and be sure that it is powered on and booted).</p>\n\n<p>My loop is as follows:</p>\n\n<pre><code>my $vm_powerState = $vm_view-&gt;runtime-&gt;powerState-&gt;val;\nmy $vm_toolsStatus = $vm_view-&gt;guest-&gt;toolsStatus-&gt;val;\nwhile (\n    ($vm_powerState ne \"poweredOn\")\n &amp;&amp; ($vm_toolsStatus ne \"toolsOk\")\n) {\n    debug($vmname);\n    $vm_view = Vim::find_entity_view(\n        view_type =&gt; 'VirtualMachine',\n        filter =&gt; {\"config.name\" =&gt; $vmname }\n    );\n    debug ($vm_powerState . \"\\nbla\\n\" . $vm_toolsStatus);\n    # $vm_toolsStatus = $vm_view-&gt;guest-&gt;toolsStatus-&gt;val\n    if (my $ref = eval { $vm_view-&gt;can(\"guest\")} )\n    {\n        print \"OK\\n\";\n        print $vm_view-&gt;guest-&gt;toolsStatus-&gt;val;\n        $vm_toolsStatus = $vm_view-&gt;guest-&gt;toolsStatus-&gt;val;\n    }\n    $vm_powerState = $vm_view-&gt;runtime-&gt;powerState-&gt;val if (defined($vm_view));\n    debug($vm_powerState . \"\\n\\nbla222\\n\\n\" . $vm_toolsStatus);\n    debug(\"...\");\n    sleep(1);\n}\ndebug ($vm_toolsStatus);\ndebug (\"VM is ON\");\n</code></pre>\n\n<p>In brief, i get the state of the VM(poweredOff and toolsNotRunning by default), and then loop until they both have good values(poweredOn and toolsOk). Should work, right?</p>\n\n<p>Well, no. The first loop after powerState changes to poweredOn, the loop ends, even though toolsStatus is \"toolsNotRunning\".</p>\n\n<p>Here's the main part of my output:</p>\n\n<pre><code>$VAR1 = \\'VM TESTVM2is being turned on';\n$VAR1 = \\'Waiting for the VM to turn on and boot, it might take some time';\n$VAR1 = \\'TESTVM2';\n$VAR1 = \\'poweredOff\nbla\ntoolsNotRunning';\nOK\ntoolsNotRunning$VAR1 = \\'poweredOn\n\nbla222\n\ntoolsNotRunning';\n$VAR1 = \\'...';\n$VAR1 = \\'toolsNotRunning';\n$VAR1 = \\'VM is ON';\n</code></pre>\n\n<p>As you can see, the program exits right after the value of powerState is poweredOn, even though the second condition of the while loop is clearly not met.</p>\n\n<p>Why would that happen???</p>\n"}, {"tags": ["perl", "scientific-notation"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438695866, "post_id": 31810923, "comment_id": 51547309, "body": "What is column 27? Example: <code>perl -E &#39;say 1e-8*1e8&#39;</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1438696289, "post_id": 31810923, "comment_id": 51547599, "body": "See <a href=\"http://perldoc.perl.org/perlnumber.html\" rel=\"nofollow noreferrer\"><code>perlnumber</code></a> for more information.."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1438696603, "post_id": 31810923, "comment_id": 51547819, "body": "You should post the code"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1438711653, "post_id": 31810923, "comment_id": 51558053, "body": "Incidentally, <code>tr</code> can do more than one character at a time: <code>$TRAIT =~ tr{ :&#47;*}{_\\-\\--};</code>"}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1438872548, "post_id": 31810923, "comment_id": 51637307, "body": "<code>$traitarray</code> never has any contents, and should be removed. The one place you do actually use it should be changed to <code>foreach my $TRAIT (@traitarray){ close &quot;TRAIT.txt&quot;; }</code>, You should either add <code>use autodie;</code> next to <code>use strict;</code> and <code>use warnings;</code>, or check the return values of <code>open</code> and <code>close</code>. I encourage you to read the book <a href=\"http://onyxneon.com/books/modern_perl/\" rel=\"nofollow noreferrer\">Modern Perl</a>, which the publisher has made free to read online in several formats <a href=\"http://modernperlbooks.com/books/modern_perl_2014/\" rel=\"nofollow noreferrer\">including html</a>."}], "answers": [{"tags": [], "owner": {"reputation": 348, "user_id": 4120265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6c41l.jpg?s=128&g=1", "display_name": "Rohcana", "link": "https://stackoverflow.com/users/4120265/rohcana"}, "is_accepted": false, "score": 5, "last_activity_date": 1438699056, "last_edit_date": 1438699056, "creation_date": 1438696078, "answer_id": 31811103, "question_id": 31810923, "link": "https://stackoverflow.com/questions/31810923/how-to-write-scientific-notation-in-perl/31811103#31811103", "title": "How to write scientific notation in perl?", "body": "<p>Just use <code>1e-8</code></p>\n\n<p><code>e</code> is the common notation for exponents. </p>\n\n<p>Example: <code>5.5e100</code> is (5.5 * 10^100)</p>\n\n<p>More Info: <a href=\"https://en.wikipedia.org/wiki/Scientific_notation#E_notation\" rel=\"nofollow\">Wikipedia</a>, <a href=\"http://perldoc.perl.org/perlnumber.html\" rel=\"nofollow\">perlnumber</a> (thanks to H\u00e5kon H\u00e6gland)</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1438696821, "last_edit_date": 1495542118, "creation_date": 1438696821, "answer_id": 31811403, "question_id": 31810923, "link": "https://stackoverflow.com/questions/31810923/how-to-write-scientific-notation-in-perl/31811403#31811403", "title": "How to write scientific notation in perl?", "body": "<p><a href=\"https://stackoverflow.com/a/31811103/1331451\">Anachor already correctly pointed</a> out that Perl understands the exponential notation. But there is more to it. </p>\n\n<p>Lucky for you, your data looks exactly like that exponential notation. Because Perl does not distinguish between numbers and strings, you can use a numerical operator on that value. So you can quite literally say this:</p>\n\n<pre><code>my $small_number = \"6E-12\";\nif ($small_number &gt; 8e-10) {\n  say \"Over threshhold, I should delete this...\";\n}\n</code></pre>\n\n<p>Of course if there is something else in your column 27 than a number, that will give a warning (because you have <code>use warnings</code>, right?).</p>\n"}], "owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438711524, "creation_date": 1438695619, "last_edit_date": 1438711524, "question_id": 31810923, "link": "https://stackoverflow.com/questions/31810923/how-to-write-scientific-notation-in-perl", "title": "How to write scientific notation in perl?", "body": "<p>I have been working on a program for a while, and the next goal I have to say basically</p>\n\n<blockquote>\n  <p>\"In column [27] if the value is more than <code>10^-8</code> delete the file\"</p>\n</blockquote>\n\n<p>How does one write <code>10^-8</code> in a program?</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @traitarray;\nmy $traitarray;\nmy $input ;\nmy %traithash ;\nmy $t_out ;\nmy $TRAIT;\nmy $SNPS;\n\nopen ($input, \"gwas_catalog_v1.0-downloaded_2015-07-31.tsv\") || die () ;\n\nwhile(&lt;$input&gt;) {\n    @traitarray = split (/\\t/);\n    $TRAIT = $traitarray[7];\n    $SNPS = $traitarray[21];\n\n    if (!exists $traithash {$TRAIT}) {\n            $TRAIT =~ tr/ /_/ ;\n            $TRAIT =~ tr/:/-/ ;\n            $TRAIT =~ tr/\\//-/ ;\n            $TRAIT =~ tr/*/-/ ;\n            open ($t_out, \"&gt;outputFiles/\".$TRAIT.\".txt\");\n            print $t_out \"$SNPS\\n\";\n            $traithash {$TRAIT} = 1 ;\n            push (@traitarray, $TRAIT) ;\n    }\n    else {\n        print $t_out \"$SNPS\\n\";\n    }\n}\n\nforeach ($traitarray) {\n    close \"$TRAIT.txt\";\n}\n</code></pre>\n\n<p>Column [27] has about 30,000 lines in the format of \"6E-12\" \" \"12E-9\"  ect...</p>\n"}, {"tags": ["mysql", "perl"], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 2, "last_activity_date": 1438695540, "creation_date": 1438695540, "answer_id": 31810883, "question_id": 31810851, "link": "https://stackoverflow.com/questions/31810851/mysql-disconnect-from-server-for-new-prepare/31810883#31810883", "title": "MySQL disconnect from server for new &quot;prepare&quot;", "body": "<p>From <a href=\"https://metacpan.org/pod/DBI#disconnect\" rel=\"nofollow\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Disconnects the database from the database handle. disconnect is typically only used before exiting the program. The handle is of little use after disconnecting.</p>\n</blockquote>\n\n<p>So no.</p>\n\n<p>Disconnecting just means you have to reconnect. It would be a waste of resources.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1438695940, "last_edit_date": 1438695940, "creation_date": 1438695572, "answer_id": 31810897, "question_id": 31810851, "link": "https://stackoverflow.com/questions/31810851/mysql-disconnect-from-server-for-new-prepare/31810897#31810897", "title": "MySQL disconnect from server for new &quot;prepare&quot;", "body": "<p><strong>No</strong>, you do not need to disconnect every time. That would be very contra-productive.</p>\n\n<p>You can just fire as many queries as you want. But take into account that you are redeclaring <code>$sth</code> if you use <code>my</code> every time.</p>\n\n<hr>\n\n<p>Typically if there are several tables that you need to fill, it would look something like this.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DBI;\n\nmy $dsn = '...';\nmy $dbh = DBI-&gt;connect($dsn);\n\nmy $sth_employee = \n  $dbh-&gt;prepare('select name, title, department_id from employee');\nmy $sth_department = \n  $dbh-&gt;prepare('select name from department where department_id=?');\n\n$sth_employee-&gt;execute;\nwhile (my $res_employee = $sth_employee-&gt;fetchrow_hashref) {\n  $sth_department-&gt;execute($res_employee-&gt;{department_id});\n  ( my $department ) = $sth_department-&gt;fetchrow_array;\n  say $res_employee-&gt;{name};\n  say \"$res_employee-&gt;{title}, $department\";\n  say '=' x 10;\n}\n\n# no need to explicitly finnish handles or disconnect, DBI does that for us\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 3735180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9d3b0ba09d44bb6cf262e2a41c8df24?s=128&d=identicon&r=PG&f=1", "display_name": "user3735180", "link": "https://stackoverflow.com/users/3735180/user3735180"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 31810897, "answer_count": 2, "score": 1, "last_activity_date": 1441057501, "creation_date": 1438695422, "last_edit_date": 1441057501, "question_id": 31810851, "link": "https://stackoverflow.com/questions/31810851/mysql-disconnect-from-server-for-new-prepare", "title": "MySQL disconnect from server for new &quot;prepare&quot;", "body": "<p>I'm working on a Perl script which executes few queries on SQL server.</p>\n\n<p>For example:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare   (  \"select x y z ..   );\n$sth-&gt;execute();\n\n# do some code\n\nmy $sth = $dbh-&gt;prepare   (  \"select a b c ..   );\n$sth-&gt;execute();\n\n# do some code\n\n# etc..\n</code></pre>\n\n<p>It is recommended to disconnect from the server explicitly <code>$dbh-&gt;disconnect</code>. \nDo I need to disconnect after each execution ? Or it is enough to disconnect only once when script is finished ?</p>\n"}, {"tags": ["apache", "perl", "tomcat7"], "comments": [{"owner": {"reputation": 377, "user_id": 4464720, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4bca52696528a2b24db979cc56ade25c?s=128&d=identicon&r=PG&f=1", "display_name": "kiigass", "link": "https://stackoverflow.com/users/4464720/kiigass"}, "edited": false, "score": 0, "creation_date": 1438694253, "post_id": 31809834, "comment_id": 51546091, "body": "Try what happens if your cgi is a binary executeable. I ran into the same issue yesterday with lighty. If the binary exe is run rather than downloaded, you have either a permission problem (does not seem so, as you have 775) or you need to tell the cgi module which handler to use for your script."}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 1, "last_activity_date": 1438694250, "creation_date": 1438694250, "answer_id": 31810432, "question_id": 31809834, "link": "https://stackoverflow.com/questions/31809834/tomcat-downloading-script-rather-than-running-them/31810432#31810432", "title": "Tomcat downloading script rather than running them", "body": "<p>I'm not familiar with Tomcat configuration, but, based on having run many Apache servers over the years, my immediate thought is that you may not have enabled script execution for <code>cgi-bin</code> at that level:</p>\n\n<pre><code>ScriptAlias /cgi-bin/ /filesystem/path/to/cgi-bin/directory\n</code></pre>\n\n<p>Note that <a href=\"https://httpd.apache.org/docs/2.4/mod/mod_alias.html#scriptalias\" rel=\"nofollow\">ScriptAlias</a> must be set in the main apache config or your virtual host config.  It won't work in a <code>.htaccess</code> file.</p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 1652982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f342c0e97deb311271856ac613c16e2a?s=128&d=identicon&r=PG", "display_name": "Native", "link": "https://stackoverflow.com/users/1652982/native"}, "edited": false, "score": 0, "creation_date": 1438697192, "post_id": 31811367, "comment_id": 51548290, "body": "<b>1.</b> <code>echo $PATH</code> outputs: <code>&#47;usr&#47;local&#47;bin:&#47;bin:&#47;usr&#47;bin:&#47;usr&#47;local&#47;sbin:&#47;usr&#47;sbin:&#47;sbin&zwnj;&#8203;:&#47;home&#47;native&#47;bin</code> perl is in /usr/bin/ <b>2.</b> That&#39;s what I thought at first, but I don&#39;t think it&#39;s necessary for tomcat7. I can&#39;t see them in <code>${CATALINA_HOME}&#47;Lib</code> (contents shown above)"}, {"owner": {"reputation": 159, "user_id": 1652982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f342c0e97deb311271856ac613c16e2a?s=128&d=identicon&r=PG", "display_name": "Native", "link": "https://stackoverflow.com/users/1652982/native"}, "edited": false, "score": 0, "creation_date": 1438698506, "post_id": 31811367, "comment_id": 51549377, "body": "<b>concerning 2.</b> According to the documentation: The CGI servlet is now included in catalina.jar, so no renaming is needed in Tomcat 6. (or above)"}], "tags": [], "owner": {"reputation": 1110, "user_id": 151855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e74d169e1b50fccf552d611c31725bb3?s=128&d=identicon&r=PG", "display_name": "Rawheiser", "link": "https://stackoverflow.com/users/151855/rawheiser"}, "is_accepted": false, "score": 1, "last_activity_date": 1438696695, "creation_date": 1438696695, "answer_id": 31811367, "question_id": 31809834, "link": "https://stackoverflow.com/questions/31809834/tomcat-downloading-script-rather-than-running-them/31811367#31811367", "title": "Tomcat downloading script rather than running them", "body": "<ol>\n<li>Is the perl executable in the OS path, so it can be found by the tomcat process?</li>\n<li>I am not sure but the CGI and SSI servlet extensions had to be renamed at one time to have them available. Maybe that is the missing step you are looking for?</li>\n</ol>\n"}], "owner": {"reputation": 159, "user_id": 1652982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f342c0e97deb311271856ac613c16e2a?s=128&d=identicon&r=PG", "display_name": "Native", "link": "https://stackoverflow.com/users/1652982/native"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438696695, "creation_date": 1438692637, "last_edit_date": 1438694599, "question_id": 31809834, "link": "https://stackoverflow.com/questions/31809834/tomcat-downloading-script-rather-than-running-them", "title": "Tomcat downloading script rather than running them", "body": "<p>I'm trying to setup my tomcat to run .pl and .cgi scripts but whenever I access the cgi servlet path, it simply downloads the script.</p>\n\n<p>I know that with old versions, one had to rename two .JAR files, but I don't think it's necessary with Tomcat 7...</p>\n\n<p>Here's my configuration</p>\n\n<hr>\n\n<p><strong>OS</strong>: </p>\n\n<pre><code>Linux version 2.6.32-504.30.3.el6.x86_64 (mockbuild@x86-027.build.eng.bos.redhat.com) (gcc version 4.4.7 20120313 (Red Hat 4.4.7-9) (GCC) ) #1 SMP Thu Jul 9 15:20:47 EDT 2015\n</code></pre>\n\n<hr>\n\n<p><strong>${CATALINA_HOME}/conf/web.xml</strong>:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;cgi&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.catalina.servlets.CGIServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;debug&lt;/param-name&gt;\n      &lt;param-value&gt;0&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;cgiPathPrefix&lt;/param-name&gt;\n      &lt;param-value&gt;WEB-INF/cgi&lt;/param-value&gt;\n    &lt;/init-param&gt;\n     &lt;load-on-startup&gt;5&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;cgi&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/cgi-bin/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>${CATALINA_HOME}/conf/context.xml</strong>:</p>\n\n<pre><code>&lt;Context privileged=\"true\"&gt;\n    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\n&lt;/Context&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Script directories</strong>:   </p>\n\n<pre><code>${CATALINA_HOME}/ROOT/WEB-INF/cgi/test.pl\n\n${CATALINA_HOME}/webapp1/WEB-INF/cgi/test.pl\n</code></pre>\n\n<p><em>note</em>: both of which are set as <strong>0775</strong></p>\n\n<hr>\n\n<p><strong>Contents of ${CATALINA_HOME}/Lib</strong></p>\n\n<pre><code>-rw-r--r--.  1 root root   15979 May  7 13:17 annotations-api.jar\n-rw-r--r--.  1 root root   54466 May  7 13:17 catalina-ant.jar\n-rw-r--r--.  1 root root  130554 May  7 13:17 catalina-ha.jar\n-rw-r--r--.  1 root root 1621907 May  7 13:17 catalina.jar\n-rw-r--r--.  1 root root  259519 May  7 13:17 catalina-tribes.jar\n-rw-r--r--.  1 root root 2310271 May  7 13:17 ecj-4.4.2.jar\n-rw-r--r--.  1 root root   55535 May  7 13:17 el-api.jar\n-rw-r--r--.  1 root root  124750 May  7 13:17 jasper-el.jar\n-rw-r--r--.  1 root root  598396 May  7 13:17 jasper.jar\n-rw-r--r--.  1 root root   87805 May  7 13:17 jsp-api.jar\n-rw-r--r--.  1 root root  198014 May  7 13:17 servlet-api.jar\n-rw-r--r--.  1 root root  210978 May  7 13:17 tomcat7-websocket.jar\n-rw-r--r--.  1 root root    6143 May  7 13:17 tomcat-api.jar\n-rw-r--r--.  1 root root  786806 May  7 13:17 tomcat-coyote.jar\n-rw-r--r--.  1 root root  234043 May  7 13:17 tomcat-dbcp.jar\n-rw-r--r--.  1 root root   71864 May  7 13:17 tomcat-i18n-es.jar\n-rw-r--r--.  1 root root   43793 May  7 13:17 tomcat-i18n-fr.jar\n-rw-r--r--.  1 root root   47036 May  7 13:17 tomcat-i18n-ja.jar\n-rw-r--r--.  1 root root  125623 May  7 13:17 tomcat-jdbc.jar\n-rw-r--r--.  1 root root   31948 May  7 13:17 tomcat-util.jar\n-rw-r--r--.  1 root root   36271 May  7 13:17 websocket-api.jar\n</code></pre>\n\n<hr>\n\n<p>I am also running Apache in front of tomcat. Here is the virtualhost:</p>\n\n<pre><code> &lt;VirtualHost *:80&gt;\n    ServerName localhost\n    ServerAlias staging.website.com\n    ProxyRequests Off\n    ProxyPreserveHost On\n\n    ErrorLog /var/log/httpd/tomcat.error.log\n    CustomLog /var/log/httpd/tomcat.log combined\n\n    &lt;Proxy *&gt;\n           Order deny,allow\n           Allow from all\n    &lt;/Proxy&gt;\n\n    ProxyPass / http://localhost:8080/\n    ProxyPassReverse / http://localhost:8080/\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<hr>\n\n<p>What am I doing wrong? Going by all the tutorials I've gone through, it should work.</p>\n\n<p><strong>NOTE: when I access the perl script directly through tomcat's port(:8080) I get a blank page rather than a download.</strong></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1438693485, "post_id": 31808733, "comment_id": 51545538, "body": "This isn&#39;t supposed to be a &quot;write my code for me&quot; service. Please show us what you have tried."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1438690788, "last_edit_date": 1438690788, "creation_date": 1438689877, "answer_id": 31808878, "question_id": 31808733, "link": "https://stackoverflow.com/questions/31808733/how-to-get-only-integer-values-in-array-and-how-to-add-100-for-each-integer-valu/31808878#31808878", "title": "How to get only integer values in array and how to add 100 for each integer values in array list", "body": "<p>Simply iterate the array. Check if the current value is an integer and if yes, add 100.</p>\n\n<p>The <code>foreach</code> works because it will alias elements in the array. It is not making copies. So you are editing the array elements one by one although you have assigned them to a named variable (thus making your code more readable).</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\n\nmy @array=(\"my\", 214,3871,\"fg\");\n\nforeach my $element (@array) {\n  $element += 100 unless $element =~ /[^0-9]/;\n}\n\np @array;\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>[\n    [0] \"my\",\n    [1] 314,\n    [2] 3971,\n    [3] \"fg\"\n]\n</code></pre>\n\n<hr>\n\n<p>Your question title says you only want the integer values.</p>\n\n<pre><code>my @only_ints_plus_hundred = map { $_ + 100 } grep { !/[^0-9]/ } @array;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62484, "user_id": 20745, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc5d9e7efea07afc78d5408680438507?s=128&d=identicon&r=PG", "display_name": "friedo", "link": "https://stackoverflow.com/users/20745/friedo"}, "edited": false, "score": 3, "creation_date": 1438693954, "post_id": 31809198, "comment_id": 51545864, "body": "The space bar is not your enemy."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438768026, "post_id": 31809198, "comment_id": 51580675, "body": "I think the downvote we both got is for providing a code writing service."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438768340, "post_id": 31809198, "comment_id": 51580851, "body": "@simbabque: You&#39;re certainly right! But, for me, it doesn&#39;t desrve a downvote."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438768684, "post_id": 31809198, "comment_id": 51581058, "body": "I agree. Though I advocate for not providing the code-writing service myself, this one was simple enough not to not do it. Anyway, it&#39;s just one downvote. Let&#39;s move on, we can both take it without getting hurt. :)"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1438767130, "last_edit_date": 1438767130, "creation_date": 1438690775, "answer_id": 31809198, "question_id": 31808733, "link": "https://stackoverflow.com/questions/31808733/how-to-get-only-integer-values-in-array-and-how-to-add-100-for-each-integer-valu/31809198#31809198", "title": "How to get only integer values in array and how to add 100 for each integer values in array list", "body": "<p>You could use the map function:</p>\n\n<pre><code>use Modern::Perl;\nuse Data::Dump qw(dump);\n\nmy @array = (\"my\", 214, 3871, \"fg\");\n@array = map { /^\\d+$/ ? $_+100 : $_ } @array;\ndump@array;\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>(\"my\", 314, 3971, \"fg\") \n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4315985, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6288c8da5c21978f523f9329b38bb253?s=128&d=identicon&r=PG&f=1", "display_name": "Rajendra Urs", "link": "https://stackoverflow.com/users/4315985/rajendra-urs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 0, "accepted_answer_id": 31808878, "answer_count": 2, "score": -2, "last_activity_date": 1438767130, "creation_date": 1438689499, "last_edit_date": 1438698409, "question_id": 31808733, "link": "https://stackoverflow.com/questions/31808733/how-to-get-only-integer-values-in-array-and-how-to-add-100-for-each-integer-valu", "title": "How to get only integer values in array and how to add 100 for each integer values in array list", "body": "<p>I have an array that contains a list of values including strings and integers. Now I want to get only integer values and want to add 100 for each integer value. For example:</p>\n\n<pre><code>@array = ( \"my\", 214, 3871, \"fg\" );\n</code></pre>\n\n<p>Now I want to increase 100 for each integer value.</p>\n\n<p>The final result should be this:</p>\n\n<pre><code>@array = ( \"my\", 314, 3971, \"fg\" );\n</code></pre>\n"}, {"tags": ["perl", "asn.1", "ocsp"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 601691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c035567ce6c0eb58ba0912675a6875?s=128&d=identicon&r=PG", "display_name": "cloonacool", "link": "https://stackoverflow.com/users/601691/cloonacool"}, "edited": false, "score": 0, "creation_date": 1439482469, "post_id": 31979013, "comment_id": 51891166, "body": "This was the solution to the issue I was having."}], "tags": [], "owner": {"reputation": 36, "user_id": 5221736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GK046.jpg?s=128&g=1", "display_name": "Misfit Mountain", "link": "https://stackoverflow.com/users/5221736/misfit-mountain"}, "is_accepted": true, "score": 2, "last_activity_date": 1439436416, "creation_date": 1439436416, "answer_id": 31979013, "question_id": 31808096, "link": "https://stackoverflow.com/questions/31808096/perl-convertasn1-decoding-not-working/31979013#31979013", "title": "perl Convert::ASN1 decoding not working", "body": "<p>The significant point you make here is you say \"it works some times and fails some times\".  To me, that's a clue that you did not use find() to tell Convert::ASN1 where to start in your definition.</p>\n\n<p>You must use find() if there's more than one macro (one typedef) in the ASN.1 that you prepare.  Then use the resulting object from the find() to do your decode().  Remember, too, to always check the return status from find() and decode(); if undef then the error will be in ->error() for the object you used.</p>\n\n<pre><code>my $asn = new Convert::ASN1;\nmy $ok = $asn-&gt;prepare( q&lt; ...your asn.1 definition here... &gt;);\ndie \"*** Could not prepare definition: \".$asn-&gt;error()\n  if !$ok;\nmy $top = $asn-&gt;find(\"OCSPRequest\");\ndie \"*** Could not find top of structure: \".$asn-&gt;error()\n  if !$top;\nmy $result = $top-&gt;decode($your_pdu);   # Use $top, NOT $asn !\ndie \"*** Could not decode PDU: \".$top-&gt;error()\n  if !$result;\n</code></pre>\n\n<p>This is a bit of a guess as your question doesn't give me enough context, but I hope it helps.</p>\n"}], "owner": {"reputation": 27, "user_id": 601691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c035567ce6c0eb58ba0912675a6875?s=128&d=identicon&r=PG", "display_name": "cloonacool", "link": "https://stackoverflow.com/users/601691/cloonacool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1290, "favorite_count": 3, "accepted_answer_id": 31979013, "answer_count": 1, "score": 0, "last_activity_date": 1439436416, "creation_date": 1438687736, "question_id": 31808096, "link": "https://stackoverflow.com/questions/31808096/perl-convertasn1-decoding-not-working", "title": "perl Convert::ASN1 decoding not working", "body": "<p>I am trying to decode asn.1 OCSP request with perl Convert::ASN1\nThe hex dump I get is as follows: </p>\n\n<pre><code>30773075304E304C304A300906052B0E03021A050004146283D6C38BF724E2EE10A7D2829A4F906E48F3F2041423490CF9B7D39B1BD93A60A2A67877894782E96F021100B1C544D7AFA4039D4F482BDDEE975E38A2233021301F06092B060105050730010204120410ABE72957E85AE50E8B9628DB495BD5D5\n</code></pre>\n\n<p>I used an online tool to verifiy that it is a valid asn.1 encoded and the structure is as follows</p>\n\n<pre><code>SEQUENCE {\n   SEQUENCE {\n      SEQUENCE {\n         SEQUENCE {\n            SEQUENCE {\n               SEQUENCE {\n                  OBJECTIDENTIFIER 1.3.14.3.2.26 (id_sha1)\n                  NULL \n               }\n               OCTETSTRING 6283D6C38BF724E2EE10A7D2829A4F906E48F3F2\n               OCTETSTRING 23490CF9B7D39B1BD93A60A2A67877894782E96F\n               INTEGER 0x00B1C544D7AFA4039D4F482BDDEE975E38\n            }\n         }\n      }\n      [2] {\n         SEQUENCE {\n            SEQUENCE {\n               OBJECTIDENTIFIER 1.3.6.1.5.5.7.48.1.2\n               OCTETSTRING 0410ABE72957E85AE50E8B9628DB495BD5D5\n            }\n         }\n      }\n   }\n}\n</code></pre>\n\n<p>I pack the hex up to decode </p>\n\n<pre><code>my $data = \"30773075304E304C304A300906052B0E03021A050004146283D6C38BF724E2EE10A7D2829A4F906E48F3F2041423490CF9B7D39B1BD93A60A2A67877894782E96F021100B1C544D7AFA4039D4F482BDDEE975E38A2233021301F06092B060105050730010204120410ABE72957E85AE50E8B9628DB495BD5D5\";\nmy $asn1Val=pack(\"H*\",$data);\n</code></pre>\n\n<p>I created my asn1.1 schema from this </p>\n\n<pre><code>my  $asn = Convert::ASN1-&gt;new;\n$asn-&gt;prepare( q&lt;\n   OCSPRequest     ::=     SEQUENCE {\n       tbsRequest                  TBSRequest,\n       optionalSignature   [0]     EXPLICIT Signature OPTIONAL\n   }\n\n   TBSRequest      ::=     SEQUENCE {\n       version             [0]     EXPLICIT Version OPTIONAL,   -- DEFAULT v1\n--       requestorName       [1]     EXPLICIT GeneralName OPTIONAL,\n       requestList                 SEQUENCE OF Request,\n       requestExtensions   [2]     EXPLICIT Extensions OPTIONAL\n   }\n\n   Request         ::=     SEQUENCE {\n       reqCert                     CertID,\n       singleRequestExtensions     [0] EXPLICIT Extensions OPTIONAL\n   }\n\n   AlgorithmIdentifier  ::=  SEQUENCE  {\n        algorithm           OBJECT IDENTIFIER,\n        parameters          ANY DEFINED BY algorithm OPTIONAL\n   }\n\n   CertID          ::=     SEQUENCE {\n       hashAlgorithm        AlgorithmIdentifier,\n       issuerNameHash       OCTET STRING, -- Hash of issuer's DN\n       issuerKeyHash        OCTET STRING, -- Hash of issuer's public key\n       serialNumber         CertificateSerialNumber\n   }\n\n   CertificateSerialNumber  ::=  INTEGER\n\n   Extension  ::=  SEQUENCE  {\n        extnID      OBJECT IDENTIFIER,\n        critical    BOOLEAN OPTIONAL, -- DEFAULT FALSE,\n        extnValue   OCTET STRING\n                    -- contains the DER encoding of an ASN.1 value\n                    -- corresponding to the extension type identified\n                    -- by extnID\n        }\n\n   Extensions  ::=  SEQUENCE OF Extension\n\n   Signature       ::=     SEQUENCE {\n       signatureAlgorithm   AlgorithmIdentifier,\n       signature            BIT STRING\n--,       certs             [0] EXPLICIT SEQUENCE OF Certificate OPTIONAL\n   }\n\n   Version     ::=  INTEGER  -- {  v1(0) }\n\n&gt;)\n</code></pre>\n\n<p>When I try to deocode the above it works some times and fails somes time. </p>\n\n<pre><code>asn_dump($data); # This works fine\nmy $decoded=$asn-&gt;decode($data) or print $asn-&gt;error();\nprint Dumper ($decoded); \n</code></pre>\n\n<p>I think the schema is correct but the decoding is failing \nI have not been able to find many examples online. </p>\n"}, {"tags": ["perl", "module", "helpers", "software-distribution"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1438698878, "post_id": 31807423, "comment_id": 51549631, "body": "Don&#39;t see anything in the docs, but you should be able to copy the existing <code>.pm</code> and do a search-and-replace for the package name therein. You&#39;ll also need to add the file to the <code>MANIFEST</code> file."}], "owner": {"reputation": 3160, "user_id": 954777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/heMKU.jpg?s=128&g=1", "display_name": "smonff", "link": "https://stackoverflow.com/users/954777/smonff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1438686843, "creation_date": 1438685769, "last_edit_date": 1438686843, "question_id": 31807423, "link": "https://stackoverflow.com/questions/31807423/add-a-module-to-an-existing-distribution-with-extutilsmodulemaker", "title": "Add a module to an existing distribution with ExtUtils::ModuleMaker", "body": "<p>I work on a Perl distribution using a <a href=\"https://metacpan.org/pod/ExtUtils::ModuleMaker\" rel=\"nofollow\">ExtUtils::ModuleMaker</a> basis. I am in the need of creating other modules (<code>.pm</code> files) in this distribution. I would like to generate them using the same <code>modulemaker</code> template.</p>\n\n<p>I know that it is possible to achieve with <a href=\"https://metacpan.org/pod/Module::Starter\" rel=\"nofollow\">Module::Starter</a> and <a href=\"https://metacpan.org/pod/Module::Starter::Smart\" rel=\"nofollow\">Module::Starter::Smart</a> plugin by adding a <code>--distro</code> parameter:</p>\n\n<pre><code># create a new distribution named 'Foo-Bar'\n$ module-starter --module=Foo::Bar\n\n# ... then add a new module\n$ module-starter --module=Foo::Bar::Me --distro=Foo-Bar\n</code></pre>\n\n<p>Is there such a thing for <code>modulemaker</code>?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1438685267, "post_id": 31807132, "comment_id": 51540100, "body": "What is the output of <code>du -shc &#47;home&#47;*</code>? And what is the output from your code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1438685762, "post_id": 31807132, "comment_id": 51540387, "body": "You&#39;re pushing the same reference every time."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1438685962, "post_id": 31807132, "comment_id": 51540513, "body": "Try to localize a new storate instance (my %storate = ) or just do anony href <code>push( @storage_data, {&quot;data&quot; =&gt; &quot;$1&quot;, &quot;user&quot; =&gt; &quot;$3&quot;} );</code>"}, {"owner": {"reputation": 1, "user_id": 2856027, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ccae1203ca0542bcb733c50c36fe703f?s=128&d=identicon&r=PG&f=1", "display_name": "Anden120", "link": "https://stackoverflow.com/users/2856027/anden120"}, "edited": false, "score": 0, "creation_date": 1438686185, "post_id": 31807132, "comment_id": 51540644, "body": "Thank you. It did the trick."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438685837, "post_id": 31807279, "comment_id": 51540431, "body": "Superfluous quotes around <code>$1</code> and <code>$3</code>? Although I imagine you have your reasons!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438685951, "post_id": 31807279, "comment_id": 51540504, "body": "@Borodin: I prefer to quote the <code>$1</code> variables everytime, even if the context is harmless (as here). They can do weird things when used unquoted as function arguments, though."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438686396, "post_id": 31807279, "comment_id": 51540787, "body": "@Borodin: e.g. <a href=\"http://www.perlmonks.org/?node_id=1052659\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1052659</a>, <a href=\"http://www.perlmonks.org/?node_id=1008823\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1008823</a> ..."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1438685733, "last_edit_date": 1438685733, "creation_date": 1438685297, "answer_id": 31807279, "question_id": 31807132, "link": "https://stackoverflow.com/questions/31807132/perl-inconsistent-output/31807279#31807279", "title": "Perl - Inconsistent output", "body": "<p>You push a reference to <code>%storage</code> to <code>@storage_data</code>, and then change <code>%storage</code>. You should use a different <code>%storage</code> for each iteration of the loop, i.e. prepend <code>my</code> to its assignment.</p>\n\n<pre><code>my %storage = (\n</code></pre>\n\n<p>Do you use <code>strict</code>?</p>\n\n<p>Alternatively, you can store an anonymous hash:</p>\n\n<pre><code>push @storage_data, { data =&gt; \"$1\",\n                      user =&gt; \"$3\",\n                    };\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2856027, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ccae1203ca0542bcb733c50c36fe703f?s=128&d=identicon&r=PG&f=1", "display_name": "Anden120", "link": "https://stackoverflow.com/users/2856027/anden120"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438685733, "creation_date": 1438684900, "last_edit_date": 1438685706, "question_id": 31807132, "link": "https://stackoverflow.com/questions/31807132/perl-inconsistent-output", "title": "Perl - Inconsistent output", "body": "<p>This is the code that is matching users and their home storage capacity, the strange thing is that it yields the same result five times, instead of five unique results as it's meant to.</p>\n\n<pre><code>open( my $storage_input, \"du -shc /home/*|\" );\n\nwhile ( my $line3 = &lt;$storage_input&gt; ) {\n    push( @user_storage, $line3 );\n}\n\nforeach my $line3 ( @user_storage ) {\n    if ( $line3 =~ m/^([0-9](.){1,})M\\s+\\/[a-z]{1,4}\\/([a-z]{4}|[a-z]{1}\\d{2}[a-z]{5})/ ) {\n        %storage = ( \"data\" =&gt; \"$1\", \"user\" =&gt; \"$3\", );\n        push( @storage_data, \\%storage );\n    }\n\n}\n\nprint \"\\n\";\n\nforeach ( my $i = 0 ; $i &lt; scalar( @storage_data ) ; $i++ ) {\n    print $storage_data[$i]{\"user\"};\n    print \" has used \";\n    print $storage_data[$i]{\"data\"};\n    print \" MiB of storage.\\n\";\n}\n</code></pre>\n\n<p>This is the command output that we are matching:</p>\n\n<pre><code>3.4M    /home/jony  \n3.4M    /home/luha  \n40M /home/maho  \n35M /home/mipa  \n3.0M    /home/svkn  \n</code></pre>\n"}, {"tags": ["regex", "perl", "csv", "text-parsing"], "answers": [{"comments": [{"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1438681731, "post_id": 31805749, "comment_id": 51537759, "body": "so the code would look like $line =~ s/(^|;)(([^;]{1,10})([^;]*))/$3/gm ; ?"}], "tags": [], "owner": {"reputation": 15122, "user_id": 4519059, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/MBHID.png?s=128&g=1", "display_name": "shA.t", "link": "https://stackoverflow.com/users/4519059/sha-t"}, "is_accepted": false, "score": 3, "last_activity_date": 1504624428, "last_edit_date": 1504624428, "creation_date": 1438681142, "answer_id": 31805749, "question_id": 31805545, "link": "https://stackoverflow.com/questions/31805545/csv-file-how-to-limit-fields-length-using-regexp-in-perl/31805749#31805749", "title": "CSV file - how to limit fields length using regexp in Perl", "body": "<p>I think you can use a regex like this:</p>\n\n<pre><code>/(^|;)(([^;]{1,10})([^;]*))/g\n</code></pre>\n\n<p>With substitution <code>$3</code>.</p>\n\n<p><a href=\"https://regex101.com/r/cB2fK7/2\" rel=\"nofollow noreferrer\"><strong><code>[Regex Demo]</code></strong></a></p>\n"}, {"comments": [{"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1438684801, "post_id": 31806884, "comment_id": 51539816, "body": "actually it does need to be a regexp, as I don&#39;t want to iterate over the array, which map obviously does I think."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1438684212, "creation_date": 1438684212, "answer_id": 31806884, "question_id": 31805545, "link": "https://stackoverflow.com/questions/31805545/csv-file-how-to-limit-fields-length-using-regexp-in-perl/31806884#31806884", "title": "CSV file - how to limit fields length using regexp in Perl", "body": "<p>Does it need to be done as a regex? I think I'd put a map in your <code>split</code> line and use <code>substr</code>.</p>\n\n<pre><code>my @fields = \n  map { length &gt; 10 ? substr($_, 0, 10) : $_ }\n  split(/;/,$line);\n</code></pre>\n\n<p>That feels more maintainable to me.</p>\n"}, {"comments": [{"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1438685673, "post_id": 31807116, "comment_id": 51540341, "body": "how do I &quot; slurp &quot; whole file in ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 1, "creation_date": 1438686195, "post_id": 31807116, "comment_id": 51540654, "body": "<code>$&#47; = undef; my $csv_str = &lt;$fh&gt;;</code> or use the slurp package."}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1438686332, "post_id": 31807116, "comment_id": 51540743, "body": "won&#39;t it hurt my memory? Some of files I&#39;m parsing are 10M+."}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1438686453, "post_id": 31807116, "comment_id": 51540814, "body": "btw. forgot to mention it earlier, Your regexp is something I was looking for. Although I don&#39;t understand it completely yet :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1438686491, "post_id": 31807116, "comment_id": 51540834, "body": "Long gone are the days where 10 megabytes means anything. Added some comments to the regex."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 1, "last_activity_date": 1438686718, "last_edit_date": 1438686718, "creation_date": 1438684843, "answer_id": 31807116, "question_id": 31805545, "link": "https://stackoverflow.com/questions/31805545/csv-file-how-to-limit-fields-length-using-regexp-in-perl/31807116#31807116", "title": "CSV file - how to limit fields length using regexp in Perl", "body": "<p>It shouldn't be so complicated. Use the features of Perl and<br>\nonly remove anything over 10 characters. No need for a range like {1,10}.  </p>\n\n<p>Slurp the whole file in, do the substitution on the whole file.<br>\nMakes life easier.</p>\n\n<p><code>$csv_str =~ s/(?m)(?:^|;)[^;\\n]{10}\\K[^;\\n]+//g;</code>  </p>\n\n<pre><code> (?m)           # Multi-line mode\n (?: ^ | ; )    # BOL (beginning of line) or semi-colon\n [^;\\n]{10}     # 10 chars, not semi-colon nor linebreak\n \\K             # Clear the match buffer of all previous data\n [^;\\n]+        # This is to be gotten rid of...\n                # 1 or more not semi-colon nor linebreak\n                # On to the next match\n</code></pre>\n\n<p>Matches:  </p>\n\n<pre><code> **  Grp 0 -  ( pos 21 , len 1 ) \nd  \n\n-----------------------\n\n **  Grp 0 -  ( pos 44 , len 37 ) \ny long field which I need to truncate  \n\n-----------------------\n\n **  Grp 0 -  ( pos 92 , len 37 ) \n long field which I need to truncate\"  \n</code></pre>\n"}], "owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 31807116, "answer_count": 3, "score": 0, "last_activity_date": 1504624428, "creation_date": 1438680536, "last_edit_date": 1438681020, "question_id": 31805545, "link": "https://stackoverflow.com/questions/31805545/csv-file-how-to-limit-fields-length-using-regexp-in-perl", "title": "CSV file - how to limit fields length using regexp in Perl", "body": "<p>I'm parsing a semicolon separated CSV file where the line looks as follows</p>\n\n<pre><code>firstField;secondField;thirdField;fourth very long field which I need to truncate;fifth very long field which I need to truncate\"\n</code></pre>\n\n<p>I need to truncate all fields to 10 characters</p>\n\n<p>I'm able to truncate it field by field as in </p>\n\n<pre><code>open my $input, \"&lt;\", \"inputFile.txt\" or die \"Can't open the inputFile.txt\";\nwhile (my $line = &lt;$input&gt;){\n     chomp($line);\n     my @fields = split(';',$line);\n     for $field (@fields){\n         $field =~ s/.{10}\\K.*// if ((defined $field) &amp;&amp; (length $field &gt; 10));\n         }\n     }\n</code></pre>\n\n<p>Is there any way to have a regexp, which will achieve that lets say on line level ?\nsomething like</p>\n\n<pre><code>$line = s/;.{10}\\K.*;?//g\n</code></pre>\n"}, {"tags": ["perl", "date", "unix"], "comments": [{"owner": {"reputation": 604, "user_id": 3451247, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/100000086306445/picture?type=large", "display_name": "KameeCoding", "link": "https://stackoverflow.com/users/3451247/kameecoding"}, "edited": false, "score": 0, "creation_date": 1438678798, "post_id": 31804463, "comment_id": 51535812, "body": "cant you simply store the date of a reference wednesday and then calculate based on that? for example you mark 2014-12-31 was wednesday, you could store that and calculate the rest by divison of number of days etc?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1438681654, "post_id": 31804463, "comment_id": 51537709, "body": "What if today is Wednesday? Do you want today&#39;s date or that of a week ago?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438706865, "post_id": 31804463, "comment_id": 51555324, "body": "@Borodin, He asked for the previous Wednesday, so a week ago."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1438692939, "post_id": 31805317, "comment_id": 51545134, "body": "Is it just me or do your days only have 20 hours? I understand wanting more hours per day, but less? :D"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438693182, "post_id": 31805317, "comment_id": 51545315, "body": "I have no idea where that came from. Thanks, fixed :-/"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438706649, "post_id": 31805317, "comment_id": 51555175, "body": "This code will not always work since not all days have 24 hours. The leading answer sets the time to noon to avoid this problem"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1438693161, "last_edit_date": 1438693161, "creation_date": 1438679863, "answer_id": 31805317, "question_id": 31804463, "link": "https://stackoverflow.com/questions/31804463/perl-how-to-get-date-of-previous-wednesday-from-the-given-date-without-using-d/31805317#31805317", "title": "Perl - How to get date of Previous wednesday from the given date without using DateTime", "body": "<p>There's always the brute force approach.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse POSIX 'strftime';\n\nmy $ONE_DAY = 24 * 60 * 60;\n\n# Get now\nmy $time = time;\n\n# Subtract days until you get to a Wednesday\ndo {\n  $time -= $ONE_DAY;\n} until (localtime($time))[6] == 3;\n\n# Format\nsay strftime '%Y%m%d', localtime $time;\n</code></pre>\n\n<p>But if you're working in a Perl environment where you can't install modules from CPAN, then it is always worth working to get that restriction removed. Modern Perl programming is often a case of plumbing together the right series of CPAN modules. If you don't have access to CPAN then you're just making your life much harder than it needs to be.</p>\n\n<p>If you really can't get the restriction lifted, then look for another job. It's not worth dealing with people who impose such pointless restrictions.</p>\n\n<p><strong>Update:</strong> Just noticed that you're also using a prehistoric version of Perl. You'll need to remove the <code>use 5.010</code> and replace the <code>say</code> with <code>print</code>. And brush up your CV :-/</p>\n\n<p><strong>Update 2:</strong> choroba's solution is better. It deals with any date in the correct format. Mine just deals with the current date. The advice about fixing your working environment still holds though.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1438680805, "post_id": 31805359, "comment_id": 51537095, "body": "The OP&#39;s antique Perl still has <code>POSIX::strftime()</code> available. That would simplify the last last couple of lines in your subroutine."}, {"owner": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "edited": false, "score": 1, "creation_date": 1438694516, "post_id": 31805359, "comment_id": 51546295, "body": "I&#39;d change <code>do { $time -= 60 * 60 * 24 } until (localtime $time)[6] == 3;</code> to something like <code>$time -= ((localtime $time)[6] + 4) % 7 * 24*60*60;</code> to avoid the search loop."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1438680401, "last_edit_date": 1438680401, "creation_date": 1438679994, "answer_id": 31805359, "question_id": 31804463, "link": "https://stackoverflow.com/questions/31804463/perl-how-to-get-date-of-previous-wednesday-from-the-given-date-without-using-d/31805359#31805359", "title": "Perl - How to get date of Previous wednesday from the given date without using DateTime", "body": "<p>Another brute force approach, this time using another core module <a href=\"http://p3rl.org/Time::Local\" rel=\"nofollow\">Time::Local</a>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Time::Local;\n\nsub prev_wednesday {\n    my $date = shift;\n    my ($year, $month, $day) = $date =~ /(....)(..)(..)/;\n    my $time = timelocal(0, 0, 12, $day, $month - 1, $year);\n    do { $time -= 60 * 60 * 24 } until (localtime $time)[6] == 3; # &lt;- Wednesday\n    my ($y, $m, $d) = (localtime $time)[5, 4, 3];\n    return sprintf \"%4d%02d%02d\\n\", 1900 + $y, $m + 1, $d;\n}\n\nprint $_, ' ', prev_wednesday($_), for qw( 20150804 20150805 20150806\n                                           20150101 20000301 20010301 );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438681896, "post_id": 31805978, "comment_id": 51537862, "body": "Time::Piece got added to the core in 5.9.5. The OP doesn&#39;t have it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1438682287, "post_id": 31805978, "comment_id": 51538124, "body": "Your <code>$t-&gt;strftime(&#39;%u&#39;) eq &quot;3&quot;</code> is probably more readable as <code>$t-&gt;day eq &#39;Wed&#39;</code> or <code>$t-&gt;wday == 4</code>."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 2, "last_activity_date": 1438682399, "last_edit_date": 1438682399, "creation_date": 1438681764, "answer_id": 31805978, "question_id": 31804463, "link": "https://stackoverflow.com/questions/31804463/perl-how-to-get-date-of-previous-wednesday-from-the-given-date-without-using-d/31805978#31805978", "title": "Perl - How to get date of Previous wednesday from the given date without using DateTime", "body": "<p>Using <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> :</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse Time::Piece;\nuse Time::Seconds;\nmy $str = '20150804';\nmy $fmt = '%Y%m%d';\nmy $t = Time::Piece-&gt;strptime($str, $fmt);\ndo {\n    $t = $t - ONE_DAY;\n} until ( $t-&gt;day eq 'Wed');\nsay $t-&gt;strftime($fmt);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "edited": false, "score": 0, "creation_date": 1438693027, "post_id": 31806101, "comment_id": 51545206, "body": "The logic here seems faulty. If <code>$wday &gt;= 3</code> you would get invalid results. Instead you need to subtract <code>($wday + 4) % 7</code> days from the timestamp. If you don&#39;t want the current wednesday, you can avoid the if you have by directly subtracting <code>($wday + 3) % 7 + 1</code> days, which would give you 7 instead of 0 if <code>$wday</code> is already 3."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "edited": false, "score": 0, "creation_date": 1438693456, "post_id": 31806101, "comment_id": 51545516, "body": "@Qtax you are right. My test cases didn&#39;t go far enough to see that. Thank you. I&#39;ve updated the answer."}, {"owner": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "edited": false, "score": 0, "creation_date": 1438694172, "post_id": 31806101, "comment_id": 51546017, "body": "Also you need to subtract 1 from the month parameter sent to <code>timelocal</code>, it takes the values 0 to 11, not 1 to 12."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "edited": false, "score": 0, "creation_date": 1438695330, "post_id": 31806101, "comment_id": 51546902, "body": "It seems this is not my day @qtax ;) fixed"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1438706760, "last_edit_date": 1438706760, "creation_date": 1438682045, "answer_id": 31806101, "question_id": 31804463, "link": "https://stackoverflow.com/questions/31804463/perl-how-to-get-date-of-previous-wednesday-from-the-given-date-without-using-d/31806101#31806101", "title": "Perl - How to get date of Previous wednesday from the given date without using DateTime", "body": "<p>Here is a more elegant solution that does not do bruteforce.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::Local 'timelocal';\nuse POSIX 'strftime';\n\nmy $dt = \"20150804\";\nsay getPrevWednesday($dt);\n\n# note you do not want () here, \n# see http://perldoc.perl.org/perlsub.html#Prototypes\nsub getPrevWednesday {\n    my $givenDt = shift;\n\n    # parse the string into a unix timestamp\n    my ( $year, $month, $day ) = $givenDt =~ /(....)(..)(..)/;\n    my $timestamp = timelocal( 0, 0, 12, $day, $month - 1, $year );\n\n    # get the day of week, ignore the rest\n    my ( undef, undef, undef, undef, undef, undef, $wday ) =\n        localtime $timestamp;\n\n    # because we start the week with Sunday on day 0\n    # and to get to the previous Wednesday from Sunday it's\n    # 4 days (Wednesday is 3) we can add 4 to the\n    # number of this day, divide by 7, take the leftover (modulo)\n    # and then subtract that many days\n    # (86_400 is one day in seconds)\n\n    #       v- -6 ------\n    #                           6 % 7 = 6\n    #                   +4 -----v\n    #                   v\n    # 0 1 2 3 4 5 6 0 1 2 3 4 5 6\n    # S M T W T F S S M T W T F S\n    my $prev_wed = $timestamp - ( ( $wday + 4 ) % 7 * 86_400 );\n\n    # go one week back if we got the same day\n    $prev_wed -= ( 7 * 86_400 ) if $prev_wed == $timestamp;\n\n    # debug output\n    warn \"in: \" . localtime($timestamp) . \"\\n\";\n    warn \"out: \" . localtime($prev_wed) . \"\\n\\n\";\n\n    # put it back into your format\n    return strftime('%Y%m%d', localtime $timestamp);\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code># STDOUT\n20150804\n\n# STDERR\nin: Tue Aug  4 12:00:00 2015\nout: Wed Jul 29 12:00:00 2015\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5151897, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ba0d382ac3f01a7c3f00aafdab2cb5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/5151897/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1438706760, "creation_date": 1438677437, "question_id": 31804463, "link": "https://stackoverflow.com/questions/31804463/perl-how-to-get-date-of-previous-wednesday-from-the-given-date-without-using-d", "title": "Perl - How to get date of Previous wednesday from the given date without using DateTime", "body": "<p>All,</p>\n\n<p>I want to find out the date of previous wednesday from the given date.</p>\n\n<p>Eg. I have date as \"20150804\" and i would need \"20150729\".</p>\n\n<p>DateTime is not available and i cannot install it as well.</p>\n\n<p>I looked at few examples but they were using DateTime.</p>\n\n<p>Can you please redirect me where i can get some help.? Thanks.</p>\n\n<p>I am planning to code something like below.</p>\n\n<p>Code:</p>\n\n<pre><code>#!/opt/perl-5.8.0/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $dt=\"20150804\";\nmy $prevWednesday=getPrevWednesday($dt);\n\nsub getPrevWednesday()\n{\n    my $givenDt=shift;\n    ...\n}\n</code></pre>\n"}, {"tags": ["perl", "catalyst"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1438670840, "post_id": 31801897, "comment_id": 51531367, "body": "This question is the follow-up of <a href=\"http://stackoverflow.com/q/31652260/1331451\">your last question in the perl tag</a>. If that one helped you to get here, at least mark the answer accepted please. But it&#39;s very good you made this a new question. :)"}, {"owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438673013, "post_id": 31801897, "comment_id": 51532536, "body": "But no luck doing all this things"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438689832, "post_id": 31802212, "comment_id": 51543038, "body": "When linking to external resources, it&#39;s best to summarize the key points in your answer."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1438669903, "creation_date": 1438669903, "answer_id": 31802212, "question_id": 31801897, "link": "https://stackoverflow.com/questions/31801897/move-working-perl-catalyst-web-app-to-new-server/31802212#31802212", "title": "Move Working Perl Catalyst web app to New server", "body": "<p>You should read the <a href=\"https://metacpan.org/pod/distribution/Catalyst-Runtime/lib/Catalyst/Upgrading.pod\" rel=\"nofollow\">Catalyst::Upgrading</a> guide.</p>\n"}], "owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438673336, "creation_date": 1438668787, "last_edit_date": 1438673336, "question_id": 31801897, "link": "https://stackoverflow.com/questions/31801897/move-working-perl-catalyst-web-app-to-new-server", "title": "Move Working Perl Catalyst web app to New server", "body": "<p>I have a working copy of Perl catalyst web app and I need to move all the files to a new server.\nThe web app is developed in Catlayst 5.7 and the new server has the catalyst 5.9 in it.\nFirstly I created a new catalyst app in the new server and after that I moved the old catalyst files from the other server to the new one inside the newly created app and then I tried to run the myapp_server.pl from scripts folder.\nI got a lot of error and was not able to understand the issue.\nIt will be nice if someone can help me with this issues.\nPlease check the error:</p>\n\n<pre><code>Class::MOP::load_class is deprecated at /usr/local/lib64/perl5/Class/MOP.pm line 69.\n        Class::MOP::load_class(\"wealthe::Script::Server\") called at /usr/share/perl5/vendor_perl/Catalyst/ScriptRunner.pm line 14\n        eval {...} called at /usr/share/perl5/vendor_perl/Catalyst/ScriptRunner.pm line 14\n        Catalyst::ScriptRunner::run(\"Catalyst::ScriptRunner\", \"wealthe\", \"Server\") called at wealthe_server.pl line 8\nClass::MOP::load_class is deprecated at /usr/local/lib64/perl5/Class/MOP.pm line 69.\n        Class::MOP::load_class(\"wealthe\") called at /usr/share/perl5/vendor_perl/Catalyst/ScriptRole.pm line 48\n        Catalyst::ScriptRole::_run_application(Catalyst::Script::Server=HASH(0x274dc98)) called at /usr/share/perl5/vendor_perl/Catalyst/Script/Server.pm line 1                                                                             92\n        Catalyst::Script::Server::run(Catalyst::Script::Server=HASH(0x274dc98)) called at /usr/share/perl5/vendor_perl/Catalyst/ScriptRunner.pm line 20\n        Catalyst::ScriptRunner::run(\"Catalyst::ScriptRunner\", \"wealthe\", \"Server\") called at wealthe_server.pl line 8\nClass::MOP::load_class is deprecated at /usr/local/lib64/perl5/Class/MOP.pm line 69.\n        Class::MOP::load_class(\"Catalyst::Plugin::Crypt::CBC\", undef) called at /usr/share/perl5/vendor_perl/Catalyst.pm line 2836\n        Catalyst::setup_plugins(\"wealthe\", ARRAY(0x2dd09c8)) called at /usr/share/perl5/vendor_perl/Catalyst.pm line 1118\n        Catalyst::setup(\"wealthe\") called at /home/wealth-esolutions/wealthe/script/../lib/wealthe.pm line 66\n        require wealthe.pm called at /usr/local/share/perl5/Module/Runtime.pm line 317\n        Module::Runtime::require_module(\"wealthe\") called at /usr/local/share/perl5/Class/Load.pm line 180\n        Class::Load::try {...} () called at /usr/local/share/perl5/Try/Tiny.pm line 76\n        eval {...} called at /usr/local/share/perl5/Try/Tiny.pm line 72\n        Try::Tiny::try(CODE(0x274d470), Try::Tiny::Catch=REF(0x274d908)) called at /usr/local/share/perl5/Class/Load.pm line 186\n        Class::Load::try_load_class(\"wealthe\", undef) called at /usr/local/share/perl5/Class/Load.pm line 41\n        Class::Load::load_class(\"wealthe\") called at /usr/share/perl5/vendor_perl/Catalyst/ScriptRole.pm line 48\n        Catalyst::ScriptRole::_run_application(Catalyst::Script::Server=HASH(0x274dc98)) called at /usr/share/perl5/vendor_perl/Catalyst/Script/Server.pm line 1                                                                             92\n        Catalyst::Script::Server::run(Catalyst::Script::Server=HASH(0x274dc98)) called at /usr/share/perl5/vendor_perl/Catalyst/ScriptRunner.pm line 20\n        Catalyst::ScriptRunner::run(\"Catalyst::ScriptRunner\", \"wealthe\", \"Server\") called at wealthe_server.pl line 8\nClass::MOP::is_class_loaded is deprecated at /usr/local/lib64/perl5/Class/MOP.pm line 87.\n        Class::MOP::is_class_loaded(\"Catalyst::Stats\") called at /usr/share/perl5/vendor_perl/Catalyst/Utils.pm line 279\n        Catalyst::Utils::ensure_class_loaded(\"Catalyst::Stats\") called at /usr/share/perl5/vendor_perl/Catalyst.pm line 2770\n        Catalyst::setup_stats(\"wealthe\", undef) called at /usr/share/perl5/vendor_perl/Catalyst.pm line 1121\n        Catalyst::setup(\"wealthe\") called at /home/wealth-esolutions/wealthe/script/../lib/wealthe.pm line 66\n        require wealthe.pm called at /usr/local/share/perl5/Module/Runtime.pm line 317\n        Module::Runtime::require_module(\"wealthe\") called at /usr/local/share/perl5/Class/Load.pm line 180\n        Class::Load::try {...} () called at /usr/local/share/perl5/Try/Tiny.pm line 76\n        eval {...} called at /usr/local/share/perl5/Try/Tiny.pm line 72\n        Try::Tiny::try(CODE(0x274d470), Try::Tiny::Catch=REF(0x274d908)) called at /usr/local/share/perl5/Class/Load.pm line 186\n        Class::Load::try_load_class(\"wealthe\", undef) called at /usr/local/share/perl5/Class/Load.pm line 41\n        Class::Load::load_class(\"wealthe\") called at /usr/share/perl5/vendor_perl/Catalyst/ScriptRole.pm line 48\n        Catalyst::ScriptRole::_run_application(Catalyst::Script::Server=HASH(0x274dc98)) called at /usr/share/perl5/vendor_perl/Catalyst/Script/Server.pm line 1                                                                             92\n        Catalyst::Script::Server::run(Catalyst::Script::Server=HASH(0x274dc98)) called at /usr/share/perl5/vendor_perl/Catalyst/ScriptRunner.pm line 20\n        Catalyst::ScriptRunner::run(\"Catalyst::ScriptRunner\", \"wealthe\", \"Server\") called at wealthe_server.pl line 8\nCan't call method \"read\" on an undefined value at /usr/local/share/perl5/Catalyst/Plugin/ConfigLoader/Multi.pm line 62.\nCompilation failed in require at /usr/share/perl5/vendor_perl/Catalyst/ScriptRunner.pm line 20.\n</code></pre>\n\n<p>Please let me know in detail if someone is aware of the issue.\nThanks in advance</p>\n"}, {"tags": ["perl", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "is_accepted": true, "score": 1, "last_activity_date": 1438669621, "last_edit_date": 1438669621, "creation_date": 1438669253, "answer_id": 31802033, "question_id": 31801400, "link": "https://stackoverflow.com/questions/31801400/single-line-commands-from-python/31802033#31802033", "title": "Single line commands from Python", "body": "<p>you need to add a print statement (with surrounding brackets for python 3.4; without for python 2.7).</p>\n\n<pre><code>[root@das~] python -c 'import os ; print(os.uname()[1])'\n</code></pre>\n\n<p>the other line could then be programmed this way (this will replace the input file!):</p>\n\n<pre><code>import fileinput\n\nfor line in fileinput.input('test.txt', inplace=True):\n    if line.startswith('unlock_time'):\n        print('# {}'.format(line))    \n    else:\n        print(line)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4632823, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7f0cb6b055a09a4dbf56f65b5bfdb580?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak", "link": "https://stackoverflow.com/users/4632823/deepak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 31802033, "answer_count": 1, "score": 0, "last_activity_date": 1438669621, "creation_date": 1438666562, "last_edit_date": 1438668057, "question_id": 31801400, "link": "https://stackoverflow.com/questions/31801400/single-line-commands-from-python", "title": "Single line commands from Python", "body": "<p>I am trying to change certain entries in a file using python, which is possible in Perl with the command below , do we have anything similar in python, here the string in the file is replaced successfully. </p>\n\n<pre><code>[root@das~] perl -pi -w -e 's/unlock_time=1800/#unlock_time=1900/g;' /etc/pam.d/common-auth\n</code></pre>\n\n<p>For this i did try simple command in python to start off with, but no luck, any help in this direction would help, the code below does not give any output actually.</p>\n\n<pre><code>[root@das~] python -c 'import os ; os.uname()[1]'\n</code></pre>\n"}, {"tags": ["perl", "csv", "match"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1438660925, "post_id": 31800330, "comment_id": 51527802, "body": "Have you considered placing <code>print &quot;&lt;&lt;&lt;$line&gt;&gt;&gt;\\n&gt;&gt;&gt;$che&lt;&lt;&lt;\\n&quot;;</code> immediately before your <code>if ($line eq $che)...</code> statement to verify that the data looks like you expect?  I&#39;m not sure which <code>read_file()</code> you are using, but does it <code>chomp</code>?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1438661323, "post_id": 31800330, "comment_id": 51527912, "body": "...to be more clear: The first step to determining why one thing does not equal another thing is to look at the two things and see if you can spot a difference.  In your case I suspect the issue is that each line found in <code>$line</code> has a <code>\\n</code> newline at the end.  And your CSV, after being parsed, does not, so they will never be identical. The solution is probably to <code>chomp @lines;</code>.  But to be sure, do as I suggested; print the two items that you&#39;re trying to compare so that you can see the difference."}, {"owner": {"reputation": 1207, "user_id": 2745724, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fa4af16ab5391105b75f58dab26a48cf?s=128&d=identicon&r=PG", "display_name": "Mounarajan", "link": "https://stackoverflow.com/users/2745724/mounarajan"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1438661375, "post_id": 31800330, "comment_id": 51527922, "body": "Yeah david thanks it is not chomping before...after editing the script it is working"}, {"owner": {"reputation": 1207, "user_id": 2745724, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fa4af16ab5391105b75f58dab26a48cf?s=128&d=identicon&r=PG", "display_name": "Mounarajan", "link": "https://stackoverflow.com/users/2745724/mounarajan"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1438661393, "post_id": 31800330, "comment_id": 51527928, "body": "Between you can add it as answer to this question"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1438661567, "post_id": 31800330, "comment_id": 51527979, "body": "I&#39;ve gone ahead and converted the comments to an answer for you. Glad it worked."}], "answers": [{"tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 0, "last_activity_date": 1438661527, "creation_date": 1438661527, "answer_id": 31800567, "question_id": 31800330, "link": "https://stackoverflow.com/questions/31800330/comparing-a-csv-file-with-file-and-finding-the-match-is-not-working/31800567#31800567", "title": "Comparing a csv file with file and finding the match is not working", "body": "<p>The best thing one can do when trying to figure out why two things aren't equal is to print those two things.</p>\n\n<p><code>print \"&lt;&lt;&lt;$line&gt;&gt;&gt;\\n&gt;&gt;&gt;$che&lt;&lt;&lt;\\n\";</code></p>\n\n<p>This will show you visually what the differences are, which most of the time will make it obvious.</p>\n\n<p>In your case the issue is that <code>read_file</code> doesn't <code>chomp</code> input, so each line in <code>@lines</code> has a <code>\\n</code> at the end.  However, your parsed CSV does not.  </p>\n\n<p>If you do this:</p>\n\n<p><code>chomp @lines;</code></p>\n\n<p>It should work fine.</p>\n"}], "owner": {"reputation": 1207, "user_id": 2745724, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/fa4af16ab5391105b75f58dab26a48cf?s=128&d=identicon&r=PG", "display_name": "Mounarajan", "link": "https://stackoverflow.com/users/2745724/mounarajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 31800567, "answer_count": 1, "score": 0, "last_activity_date": 1438661809, "creation_date": 1438660005, "last_edit_date": 1438661809, "question_id": 31800330, "link": "https://stackoverflow.com/questions/31800330/comparing-a-csv-file-with-file-and-finding-the-match-is-not-working", "title": "Comparing a csv file with file and finding the match is not working", "body": "<p>I am comparing csv file with another normal file both the files have lot of similar words(Fields) but it is not matching </p>\n\n<pre><code>my $file = \"sample.csv\";\nopen my $fh, \"&lt;\", $file or die \"$file: $!\";\nmy $csv1 = Text::CSV-&gt;new ({\n      binary    =&gt; 1, # Allow special character. Always set this\n      auto_diag =&gt; 1, # Report irregularities immediately\n});\nmy @lines = read_file(\"brand1.txt\");\n\nmy $count = 0;\nwhile (my $row = $csv1-&gt;getline ($fh)) {\n   $count = $count + 1;\n   foreach my $line(@lines) {\n\n      my $che = $row-&gt;[4];\n      print $count;\n      if ($line eq $che){\n         print $line .\"\\t\". $che;\n      }\n   }\n}\n</code></pre>\n\n<p>This code gives me blank output in terminal.</p>\n\n<p>But comparing two files(without csv file) works with the same script</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1438644285, "post_id": 31798224, "comment_id": 51524131, "body": "What&#39;s the criteria that specified which numbers should be grouped, and which ones shouldn&#39;t?"}, {"owner": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1438644447, "post_id": 31798224, "comment_id": 51524161, "body": "@Stevieb , So all the numbers which are continuous they need to be presented in a grouped format. For example : 0,1,2,3,4 are continuous and hence they are represented as 0-4."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "edited": false, "score": 0, "creation_date": 1438645114, "post_id": 31798328, "comment_id": 51524325, "body": "Thank you. Can you also tell about the package to which Number::Range belongs ? As I am not able to use the above piece of information due to lack of some package !?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "edited": false, "score": 0, "creation_date": 1438645724, "post_id": 31798328, "comment_id": 51524496, "body": "what operating system/distribution are you using?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "edited": false, "score": 0, "creation_date": 1438647171, "post_id": 31798328, "comment_id": 51524832, "body": "which distribution?  &quot;package&quot; means very different things in different linux distributions"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "edited": false, "score": 0, "creation_date": 1438707069, "post_id": 31798328, "comment_id": 51555443, "body": "added Set::IntSpan example"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 7, "last_activity_date": 1438730368, "last_edit_date": 1438730368, "creation_date": 1438644369, "answer_id": 31798328, "question_id": 31798224, "link": "https://stackoverflow.com/questions/31798224/how-can-i-group-sequential-numbers-in-a-perl-array/31798328#31798328", "title": "How can I group sequential numbers in a perl array?", "body": "<pre><code>use Number::Range;\nmy $range = Number::Range-&gt;new();\n$range-&gt;addrange(0,1,2,3,4,8,9,10,12,14,16,17,19);\nmy $range_list = join ', ', map join('-',@$_), $range-&gt;rangeList;\n</code></pre>\n\n<p>(rangeList returns e.g. <code>[0,4],[8,10],[12],[14],[16,17],[19]</code>)</p>\n\n<p>There's also Set::IntSpan, which does more or less the same thing, only with overloading, infinite ranges, and other extras.  Its way of doing this is a little more cumbersome:</p>\n\n<pre><code>use Set::IntSpan 'grep_spans';\n\nmy @array = (0, 1, 2, 3, 4, 8, 9, 10, 12, 14, 16, 17, 19);\n\nmy $set = Set::IntSpan-&gt;new(@array);\nmy @range_list;\ngrep_spans {\n    push @range_list, $_-&gt;[0] == $_-&gt;[1] ? $_-&gt;[0] : \"$_-&gt;[0]-$_-&gt;[1]\";\n} $set;\nmy $range_list = join ', ', @range_list;\n</code></pre>\n\n<p>Here's another way:</p>\n\n<pre><code>my $range_list = List::Util::reduce { $a =~ /^\\z/ ? \"$b\" : $a =~ /-(@{[$b-1]})\\z/ ? ($a =~ s/$1\\z/$b/, $a) : $a =~ /(?&lt;![0-9])@{[$b-1]}\\z/ ? \"$a-$b\" : \"$a, $b\" } '', 0,1,2,3,4,8,9,10,12,14,16,17,19;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "edited": false, "score": 0, "creation_date": 1438646855, "post_id": 31798616, "comment_id": 51524762, "body": "Cool! Thanks  a lot :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "edited": false, "score": 0, "creation_date": 1438646949, "post_id": 31798616, "comment_id": 51524784, "body": "@RaviRaj: You&#39;re welcome. Please also check out my alternative solution that uses the <code>Set::IntSpan</code> module"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438647257, "post_id": 31798616, "comment_id": 51524856, "body": "Set::IntSpan doesn&#39;t include the requested spaces, and doesn&#39;t provide any easy way to iterate over the ranges (or if it does, it is lost in the forest of its documentation)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438647639, "post_id": 31798616, "comment_id": 51524951, "body": "@ysth: Yes, I commented on the missing space after commas. As for iterating over the set, it may well be there but I can&#39;t find it either. I agree that the POD is poor"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438649757, "post_id": 31798616, "comment_id": 51525363, "body": "@ysth: The module does support iteration; in fact it does far too much for an application such as this. I&#39;ve added to my post"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1438652918, "post_id": 31798616, "comment_id": 51526018, "body": "@Borodin Thanks for the mention."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1438649317, "last_edit_date": 1495540283, "creation_date": 1438646352, "answer_id": 31798616, "question_id": 31798224, "link": "https://stackoverflow.com/questions/31798224/how-can-i-group-sequential-numbers-in-a-perl-array/31798616#31798616", "title": "How can I group sequential numbers in a perl array?", "body": "<p>Coincidentally I wrote a subroutine to do exactly this as part of my answer to <a href=\"https://stackoverflow.com/questions/31779141/perl-scripting-using-hashes\">this question</a>. Here it is again using your own data as input. The code assumes that the parameters passed are sorted in numerical order</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @array = (0, 1, 2, 3, 4, 8, 9, 10, 12, 14, 16, 17, 19);\n\nprintf \"output_bus[%s]\\n\", ranges( @array );\n\nsub ranges {\n\n    my @ranges;\n    my ($start, $end);\n\n    for my $n ( @_ ) {\n        if ( not defined $start ) {\n            $start = $end = $n;\n        }\n        elsif ( $n == $end + 1 ) {\n            $end = $n;\n        }\n        else {\n            push @ranges, $start == $end ? $start : \"$start-$end\";\n            $start = $end = $n;\n        }\n    }\n\n    push @ranges, $start == $end ? $start : \"$start-$end\" if defined $start;\n    join ', ', @ranges;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>output_bus[0-4, 8-10, 12, 14, 16-17, 19]\n</code></pre>\n\n<p>Or, as <a href=\"https://stackoverflow.com/users/716443/davido\">DavidO</a> suggested in his solution to that question, the <a href=\"https://metacpan.org/pod/Set::IntSpan\" rel=\"nofollow noreferrer\"><code>Set::IntSpan</code></a> module does this for you without having to think at all</p>\n\n<p>Here's what a solution using that module would look like. The only discrepancy is that the commas aren't followed by a space, but that can be fixed very simply</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Set::IntSpan;\n\nmy @array = (0, 1, 2, 3, 4, 8, 9, 10, 12, 14, 16, 17, 19);\n\nprintf \"output_bus[%s]\\n\", Set::IntSpan-&gt;new(@array);\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>output_bus[0-4,8-10,12,14,16-17,19]\n</code></pre>\n\n<hr>\n\n<p>In case anyone comes here in the hope of discovering how to iterate over a <code>Set::IntSpan</code> object, the code below works fine. The documentation talks about methods <code>start</code>, <code>first</code>, <code>next</code>, <code>current</code>, <code>prev</code>, and <code>last</code>, but doesn't describe them very well. <code>start</code> is a <em>reset</em>, while <code>next</code> will deliver the next element of the set, until the end is reached when it returns <code>undef</code></p>\n\n<p>This C-style <code>for</code> loop iterates over all of the set</p>\n\n<pre><code>for ( my $n = $set-&gt;first; defined $n; $n = $set-&gt;next ) {\n    say $n;\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1438730368, "creation_date": 1438643761, "last_edit_date": 1438656739, "question_id": 31798224, "link": "https://stackoverflow.com/questions/31798224/how-can-i-group-sequential-numbers-in-a-perl-array", "title": "How can I group sequential numbers in a perl array?", "body": "<p>I am trying to write a perl script in which if I have a sample array which looks like below :</p>\n\n<pre><code>@array = (0,1,2,3,4,8,9,10,12,14,16,17,19)\n</code></pre>\n\n<p>then I need to convert/format this array in way so that I get the output in a format which looks like below :</p>\n\n<pre><code>output_bus[0-4, 8-10, 12, 14, 16-17, 19]\n</code></pre>\n"}, {"tags": ["xml", "perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1438637995, "post_id": 31794931, "comment_id": 51522107, "body": "Why the quotes in <code>&#39;XML::LibXML&#39;-&gt;load_xml</code> ? I&#39;m sure you know that they&#39;re optional n a class method call. I also think you need some narrative"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438638298, "post_id": 31794931, "comment_id": 51522236, "body": "@Borodin: regarding the quotes, see <a href=\"http://stackoverflow.com/a/16656174/1030675\">stackoverflow.com/a/16656174/1030675</a>. They are nices than <code>XML::LibXML::</code>, but a bit less powerful."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438638380, "post_id": 31794931, "comment_id": 51522271, "body": "@Borodin: The code was tested, please don&#39;t change it in a way that changes its output."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438639485, "post_id": 31794931, "comment_id": 51522710, "body": "@Borodin: Here&#39;s where I learned to quote class names: <a href=\"http://www.perlmonks.org/?node_id=980498\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=980498</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438642692, "post_id": 31794931, "comment_id": 51523700, "body": "I apologise for my edit, but after all your original solution has no output. I&#39;ve added just a dump and the corresponding output. I hope you can see what I meant by my original changes?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438642987, "post_id": 31794931, "comment_id": 51523771, "body": "@Borodin: I don&#39;t. What I see is <code>is_deeply</code> same as the expected output in the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438643081, "post_id": 31794931, "comment_id": 51523801, "body": "The OP has only his <i>actual</i> output, and it includes <code>A1</code> as a key. Your code explicitly excludes it"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438643409, "post_id": 31794931, "comment_id": 51523868, "body": "@Borodin: So what&#39;s that &quot;<b>Desired output:</b>&quot;?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438643555, "post_id": 31794931, "comment_id": 51523924, "body": "Ah I see my misunderstanding. I overlooked <code>**Desired output**</code> because of the bad markdown. Your solution satisfies that admirably"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438758018, "post_id": 31794931, "comment_id": 51574390, "body": "<i>&quot;Here&#39;s where I learned to quote class names&quot;</i> I think I prefer to keep to the rule that lexical identifiers should never contain upper-case letters. That fixes a few other things as well and makes the code more readable"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1438642573, "last_edit_date": 1438642573, "creation_date": 1438628928, "answer_id": 31794931, "question_id": 31794117, "link": "https://stackoverflow.com/questions/31794117/how-do-i-use-perl-xmllibxml-to-parse-xml-data-using-findnodes-and-findvalue/31794931#31794931", "title": "How do I use Perl XML::LibXML to parse XML data using findnodes and findvalue", "body": "<p>The first XPath expression selects the A1s, the second one selects all the A* and B* in the same row (except the A1 itself).</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nuse XML::LibXML;\n\nmy $xmlstring = &lt;&lt; '__XML__';\n&lt;config&gt;\n    ...\n&lt;/config&gt;\n__XML__\n\nmy $xml = 'XML::LibXML'-&gt;load_xml(string =&gt; $xmlstring);\nmy $root = $xml-&gt;documentElement;\n\nmy %hash;\nfor my $a1 ($root-&gt;findnodes('/config/row/key/A1')) {\n    for my $node ($a1-&gt;findnodes('(../../key/*[not(self::A1)] | ../../value/*)')) {\n        $hash{ $a1-&gt;textContent }{ $node-&gt;getName } = $node-&gt;textContent;\n    }\n}\n\nuse Data::Dump;\ndd \\%hash;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  alpha =&gt; {\n    A2 =&gt; \"beta\",\n    A3 =&gt; \"cat\",\n    A4 =&gt; \"delta\",\n    B1 =&gt; \"eclipse\",\n    B2 =&gt; \"pico\",\n    B3 =&gt; \"penta\",\n    B4 =&gt; \"zeta\",\n  },\n  tom =&gt; {\n    A2 =&gt; \"harry\",\n    A3 =&gt; \"bob\",\n    A4 =&gt; \"ben\",\n    B1 =&gt; \"TAP\",\n    B2 =&gt; \"MAN\",\n    B3 =&gt; \"WORK\",\n    B4 =&gt; \"MAINTAIN\",\n  },\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1438748762, "last_edit_date": 1495541171, "creation_date": 1438629027, "answer_id": 31794951, "question_id": 31794117, "link": "https://stackoverflow.com/questions/31794117/how-do-i-use-perl-xmllibxml-to-parse-xml-data-using-findnodes-and-findvalue/31794951#31794951", "title": "How do I use Perl XML::LibXML to parse XML data using findnodes and findvalue", "body": "<p><strong><em>\"I would like to have <code>&lt;A1&gt;</code> node's value to be considered as key for each section\"</em></strong></p>\n\n<p>This solution creates a hash for each <em>row</em> element and pushes it onto the <code>@rows</code> array. Unlike the original it reads the XML data from a file called <code>config.xml</code></p>\n\n<p>The tags for the <code>A*</code> and <code>B*</code> elements are ignored -- it is simply assumed that the keys and values are in the same order</p>\n\n<p>The main loop iterates over the <code>row</code> elements, and for each row, a list of the <code>key</code> and <code>value</code> child elements is converted to their text values with a <code>map</code>. Then a  hash is built and pushed onto the array</p>\n\n<p>I've used <code>Data::Dump</code> to display the resulting data structure as I believe it is far superior to <code>Data::Dumper</code></p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse XML::LibXML;\n\nmy $doc = XML::LibXML-&gt;load_xml( location =&gt; 'config.xml' );\n\nmy @rows;\n\nfor my $row ($doc-&gt;findnodes('/config/row')) {\n\n    my @keys   = map $_-&gt;textContent, $row-&gt;findnodes('key/*');\n    my @values = map $_-&gt;textContent, $row-&gt;findnodes('value/*');\n\n    my %row;\n    @row{@keys} = @values;\n    push @rows, \\%row;\n}\n\nuse Data::Dump;\ndd \\@rows;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>[\n  { alpha =&gt; \"eclipse\", beta =&gt; \"pico\", cat =&gt; \"penta\", delta =&gt; \"zeta\" },\n  { ben =&gt; \"MAINTAIN\", bob =&gt; \"WORK\", harry =&gt; \"MAN\", tom =&gt; \"TAP\" },\n]\n</code></pre>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Here's a variation that complies with your <em>desired output</em>. Thanks to <a href=\"https://stackoverflow.com/users/1030675/choroba\">choroba</a> for pointing it out to me</p>\n\n<p>It's a very similar approach to my original one above, but it builds a hash instead of an array and uses the elements' tag names as keys instead of the key/value relationship that I guessed you would want</p>\n\n<p>I should say that I'm very doubtful about your choice of data structure; for instance, I see no need to exclude the <code>A1</code> key from the subsidiary hash just because its value is used to identify the row. I would also be surprised if it wouldn't be better to use the <code>key</code> and <code>value</code> strings as keys and values. But it may also be that the XML tag names are badly chosen and your choice is optimal, and I have no way of knowing</p>\n\n<p>Here's the Perl code. which reads from the <code>config.xml</code> file as before. If you would prefer to keep the <code>A1</code> hash element as I described then you can just change the <code>elsif</code> to an <code>if</code> and it will happen</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse XML::LibXML;\n\nmy $doc = XML::LibXML-&gt;load_xml( location =&gt; 'config.xml' );\n\nmy ( %data, $section);\n\nfor my $row ( $doc-&gt;findnodes('/config/row') ) {\n\n    for my $item ( $row-&gt;findnodes('key/* | value/*') ) {\n\n        my ($key, $val) = ( $item-&gt;tagName, $item-&gt;textContent );\n\n        if ( defined $section ) {\n            $data{$section}{$key} = $val\n        }\n        else {\n            $section = $val;\n        }\n    }\n}\n\nuse Data::Dump;\ndd \\%data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  alpha =&gt; {\n    A2 =&gt; \"beta\",\n    A3 =&gt; \"cat\",\n    A4 =&gt; \"delta\",\n    B1 =&gt; \"eclipse\",\n    B2 =&gt; \"pico\",\n    B3 =&gt; \"penta\",\n    B4 =&gt; \"zeta\",\n  },\n  tom =&gt; {\n    A2 =&gt; \"harry\",\n    A3 =&gt; \"bob\",\n    A4 =&gt; \"ben\",\n    B1 =&gt; \"TAP\",\n    B2 =&gt; \"MAN\",\n    B3 =&gt; \"WORK\",\n    B4 =&gt; \"MAINTAIN\",\n  },\n}\n</code></pre>\n"}], "owner": {"reputation": 990, "user_id": 1878947, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/68adee7288f257bb5a2b1696be17042c?s=128&d=identicon&r=PG", "display_name": "chidori", "link": "https://stackoverflow.com/users/1878947/chidori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 0, "accepted_answer_id": 31794951, "answer_count": 2, "score": 1, "last_activity_date": 1438748762, "creation_date": 1438625975, "last_edit_date": 1438655184, "question_id": 31794117, "link": "https://stackoverflow.com/questions/31794117/how-do-i-use-perl-xmllibxml-to-parse-xml-data-using-findnodes-and-findvalue", "title": "How do I use Perl XML::LibXML to parse XML data using findnodes and findvalue", "body": "<p>I am trying to parse XML using XML::LibXML module. The XML data structure has node called <code>&lt;row&gt;</code> which encloses two child nodes <code>&lt;key&gt;</code> and <code>&lt;value&gt;</code>. I want to parse each of these <code>&lt;row&gt;</code> and build a hash data structure. I could come up with below code to achieve it but I feel there would be a better way to do it.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\nuse XML::LibXML;\n\nmy $XML=&lt;&lt;EOF;\n&lt;config&gt;\n    &lt;row&gt;\n        &lt;key&gt;\n            &lt;A1&gt;alpha&lt;/A1&gt;\n            &lt;A2&gt;beta&lt;/A2&gt;\n            &lt;A3&gt;cat&lt;/A3&gt;\n            &lt;A4&gt;delta&lt;/A4&gt;\n        &lt;/key&gt;\n        &lt;value&gt;\n            &lt;B1&gt;eclipse&lt;/B1&gt;\n            &lt;B2&gt;pico&lt;/B2&gt;\n            &lt;B3&gt;penta&lt;/B3&gt;\n            &lt;B4&gt;zeta&lt;/B4&gt;\n        &lt;/value&gt;\n    &lt;/row&gt;\n    &lt;row&gt;\n        &lt;key&gt;\n            &lt;A1&gt;tom&lt;/A1&gt;\n            &lt;A2&gt;harry&lt;/A2&gt;\n            &lt;A3&gt;bob&lt;/A3&gt;\n            &lt;A4&gt;ben&lt;/A4&gt;\n        &lt;/key&gt;\n        &lt;value&gt;\n            &lt;B1&gt;TAP&lt;/B1&gt;\n            &lt;B2&gt;MAN&lt;/B2&gt;\n            &lt;B3&gt;WORK&lt;/B3&gt;\n            &lt;B4&gt;MAINTAIN&lt;/B4&gt;\n        &lt;/value&gt;\n    &lt;/row&gt;\n&lt;/config&gt;\nEOF\n\nmy $parser = XML::LibXML-&gt;new();\nmy $doc  = $parser-&gt;parse_string($XML);\n\nmy %hash;\nmy $i = 1;\n\nforeach my $node ($doc-&gt;findnodes('/config/row/key')) {\n    foreach my $tag ('A1', 'A2','A3','A4') {\n        $hash{'KEY' . $i}{$tag} = $node-&gt;findvalue( $tag );\n    }\n    $i++;\n}\n\n$i = 1;\n\nforeach my $node ($doc-&gt;findnodes('/config/row/value')) {\n    foreach my $tag ('B1', 'B2','B3','B4') {\n        $hash{'KEY' . $i}{$tag} = $node-&gt;findvalue( $tag );\n    }\n    $i++;\n}\n\nprint Dumper \\%hash;\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>$VAR1 = {\n          'KEY2' =&gt; {\n                      'A3' =&gt; 'bob',\n                      'B3' =&gt; 'WORK',\n                      'B1' =&gt; 'TAP',\n                      'A1' =&gt; 'tom',\n                      'B4' =&gt; 'MAINTAIN',\n                      'B2' =&gt; 'MAN',\n                      'A2' =&gt; 'harry',\n                      'A4' =&gt; 'ben'\n                    },\n          'KEY1' =&gt; {\n                      'A3' =&gt; 'cat',\n                      'B3' =&gt; 'penta',\n                      'B1' =&gt; 'eclipse',\n                      'A1' =&gt; 'alpha',\n                      'B4' =&gt; 'zeta',\n                      'B2' =&gt; 'pico',\n                      'A2' =&gt; 'beta',\n                      'A4' =&gt; 'delta'\n                    }\n        };\n</code></pre>\n\n<p>Actually, instead of creating imaginary keys ( KEY1 , KEY2 .. ) , I would like to have <code>&lt;A1&gt;</code> node's value to be considered as key for each  section. Can someone please help me out here.</p>\n\n<p><strong>Desired output:</strong></p>\n\n<pre><code>'tom'   =&gt; {\n             'A3' =&gt; 'bob',\n             'B3' =&gt; 'WORK',\n             'B1' =&gt; 'TAP',\n\n             'B4' =&gt; 'MAINTAIN',\n             'B2' =&gt; 'MAN',\n             'A2' =&gt; 'harry',\n             'A4' =&gt; 'ben'\n           },\n'alpha' =&gt; {\n             'A3' =&gt; 'cat',\n             'B3' =&gt; 'penta',\n             'B1' =&gt; 'eclipse',\n\n             'B4' =&gt; 'zeta',\n             'B2' =&gt; 'pico',\n             'A2' =&gt; 'beta',\n             'A4' =&gt; 'delta'\n           }\n</code></pre>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1438615645, "post_id": 31790707, "comment_id": 51510324, "body": "<code>use feature qw(say)</code> will also enable the say function. I am curious what you are doing that is generating a list of use statements that is too much to manage."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1438616815, "post_id": 31790707, "comment_id": 51511080, "body": "More info here also: <a href=\"http://stackoverflow.com/questions/30814892/how-can-i-export-a-list-of-modules-with-my-own-module\">How can I export a list of modules with my own module?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "edited": false, "score": 0, "creation_date": 1438617933, "post_id": 31791149, "comment_id": 51511775, "body": "<code>do</code> doesn&#39;t apply its use statements to the calling script; I did try that first."}, {"owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "edited": false, "score": 0, "creation_date": 1438618524, "post_id": 31791149, "comment_id": 51512164, "body": "To clarify: If my file contains &quot;use v5.14&quot;, I include it with &quot;do&quot;, then try to &quot;say&quot; something, I&#39;ll get an error that say is not a function."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "edited": false, "score": 0, "creation_date": 1438619497, "post_id": 31791149, "comment_id": 51512752, "body": "You can <code>import</code> the <code>feature</code> pragma from another file. That way you can get all your pragmas from one file, cutting down boilerplate."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1438615966, "last_edit_date": 1438615966, "creation_date": 1438615603, "answer_id": 31791149, "question_id": 31790707, "link": "https://stackoverflow.com/questions/31790707/perl-how-to-do-a-php-style-include/31791149#31791149", "title": "Perl: How to do a PHP-style include?", "body": "<p>The equivalent of PHP's include is <a href=\"http://perldoc.perl.org/functions/do.html\" rel=\"nofollow\"><code>do EXPR</code></a>. There is also <a href=\"http://perldoc.perl.org/functions/require.html\" rel=\"nofollow\"><code>require EXPR</code></a>, which is like <a href=\"http://php.net/manual/function.require-once.php\" rel=\"nofollow\">require_once</a>, and <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow\"><code>use</code></a>, which will also call <code>import</code> on the package.</p>\n\n<p><strong>However</strong> that is probably not what you want. If you have a lot of <code>.pl</code> scripts without packages, you are dealing with legacy code. You need to be carefull what you require and include where.</p>\n"}], "owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1438618438, "answer_count": 1, "score": 0, "last_activity_date": 1438618206, "creation_date": 1438614295, "last_edit_date": 1438618206, "question_id": 31790707, "link": "https://stackoverflow.com/questions/31790707/perl-how-to-do-a-php-style-include", "closed_reason": "Duplicate", "title": "Perl: How to do a PHP-style include?", "body": "<p>In a PHP include, code is parsed as if it was written right into the source file. You get the same result as if you literally copy and pasted file A into file B. </p>\n\n<p>I'm looking for a way to do this in Perl. The number of libraries I have to 'use' in every script is getting annoyingly large, and especially annoying is having to <code>use v5.14</code> just so I can have the <code>say</code> function. I'm actually looking up how to alter the interpreter to always use the latest version of Perl at this moment, compatibility with the rest of the world be damned, but this won't solve the rest of my list of includes.</p>\n\n<p>Edit: none of the linked answers answer the question.</p>\n"}, {"tags": ["perl", "recursion", "while-loop", "vmware"], "comments": [{"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1438612270, "post_id": 31789484, "comment_id": 51508135, "body": "&quot;it works as expected&quot; Does this mean it doesn&#39;t give an infinite loop when you don&#39;t pass in a parameter?"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1438612434, "post_id": 31789484, "comment_id": 51508255, "body": "Can you provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>, perhaps with a trivially mocked <code>$vm_view</code> ?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1438612774, "post_id": 31789484, "comment_id": 51508483, "body": "This is an odd use of recursion. I think <code>while ($val ne &quot;poweredOff&quot;) { sleep 5; }</code> is much easier to understand at a glance, and you don&#39;t have to worry about deep recursion warnings or eating into the stack. (Of course, you have to actually <i>do</i> something with <code>$val</code> or you&#39;ll get an infinite loop, whether you use recursion or iteration.)"}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1438619126, "post_id": 31789484, "comment_id": 51512517, "body": "What value is in <code>$vm_view</code> when you call <code>wait_for_stop();</code>? Without seeing your whole code, we cannot help. As you saw, most answers just assumed you never updated it. We don&#39;t know what&#39;s happening in the background."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1438620513, "post_id": 31789484, "comment_id": 51513329, "body": "<i>&quot;undef ne &quot;poweredOff&quot; -&gt; sleep -&gt; recursion till death&quot;</i> That isn&#39;t what happens. You have a value of <code>undef</code> for <code>$vm_view</code>, but you try to call its <code>runtime</code> method. That will fail immediately with <code>Can&#39;t call method &quot;runtime&quot; on an undefined value</code> before it gets anywhere near the comparison. This can&#39;t be the code that you&#39;re running"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1438620834, "post_id": 31789484, "comment_id": 51513493, "body": "Regarding your choice of recursion, please believe me that it is the <i>wrong choice</i>. There is <i>always</i> a ways of avoiding recursion, and here it is simply standing in for a <code>while</code> loop. Each time a recursive procedure calls itself another stack frame is used up, and if the wait time is long you run the risk of getting an <code>OUT OF MEMORY!</code> error which will kill your program. That&#39;s aside from it being difficult to read, and (as you have discovered) difficult to get right"}, {"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438676783, "post_id": 31789484, "comment_id": 51534632, "body": "@Borodin, it worked with undef(i mean - i made a print of the value just before the if condition, it printed undef, and then continued looping... i use both warnings and strict). As for the recursion.. you are right, and i am not fond of it myself(for personal reasons), but it seemed to be the best option for the current code structure i have (i am working with legacy code i have to make minimal changes to and extend with a library), but i think that i can go through the extra length to adopt a nicer, regular loop. Maybe then i won&#39;t see such unexpected behavior."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1467890754, "post_id": 31789484, "comment_id": 63909365, "body": "@PerlDog: You&#39;ll be glad to know that I&#39;ve finished editing my <code>warnings</code> statements"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1438613945, "post_id": 31790122, "comment_id": 51509225, "body": "&quot;Otherwise, the variable is same every time you call the function and hence you can end up in infinite loop.&quot; <code>$vm_view-&gt;runtime-&gt;powerState-&gt;val</code> will not necessarily have the same value in each iteration. <code>val</code> is a method, so it could be returning a different value with each invocation, for example <code>return time();</code> or <code>return rand();</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438614109, "post_id": 31790122, "comment_id": 51509327, "body": "Of course, if <code>$vm_view</code> is undefined, no method will be called at all."}, {"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438614366, "post_id": 31790122, "comment_id": 51509500, "body": "@ThisSuitIsBlackNot is correct, i am calling a method, so the value gets changed(eventually), what i am trying to catch with my code.  As for what is &quot;expected&quot;, i am trying to detect when the value has changed to what i need(poweredOff), so i am calling the method every 5 seconds. And the infinite loop occurs only when i pass the parameter. It works when the value would be undef(no parameter passed to function)/  PS: Check the update on the post"}, {"owner": {"reputation": 38, "user_id": 5145189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076533502374293/picture?type=large", "display_name": "Chandar Kakarlapudi", "link": "https://stackoverflow.com/users/5145189/chandar-kakarlapudi"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438617461, "post_id": 31790122, "comment_id": 51511472, "body": "Pardon for being so narrow. I have added an update. Thanks @ThisSuitIsBlackNot, for correcting my view."}, {"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 0, "creation_date": 1438619874, "post_id": 31790122, "comment_id": 51512959, "body": "@Chandar Kakarlapudi The SDK documentation could be a little misleading. I have performed a check(priny on everry loop) and the value does get updated. The problem is, after it does, nothing happens(it just hangs there and doesn&#39;t continue, nor does it loop anymore - i was mistaken that i had an infinite loop, i actually have a very long loop and then nothing)"}, {"owner": {"reputation": 38, "user_id": 5145189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076533502374293/picture?type=large", "display_name": "Chandar Kakarlapudi", "link": "https://stackoverflow.com/users/5145189/chandar-kakarlapudi"}, "edited": false, "score": 0, "creation_date": 1438623761, "post_id": 31790122, "comment_id": 51515037, "body": "That&#39;s strange... Is the number of times it is looping (before it hangs) fixed every time you run it? Or is it random? (Wondering if there is anything to do with memory or limit on number of calls or hardware etc.)"}, {"owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "edited": false, "score": 0, "creation_date": 1438676597, "post_id": 31790122, "comment_id": 51534529, "body": "It seems to be rather similar, but it loops until a virtual machine has booted successfully, which is more or less a static value."}], "tags": [], "owner": {"reputation": 38, "user_id": 5145189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1076533502374293/picture?type=large", "display_name": "Chandar Kakarlapudi", "link": "https://stackoverflow.com/users/5145189/chandar-kakarlapudi"}, "is_accepted": false, "score": -1, "last_activity_date": 1438617298, "last_edit_date": 1438617298, "creation_date": 1438612603, "answer_id": 31790122, "question_id": 31789484, "link": "https://stackoverflow.com/questions/31789484/unexpected-behavior-in-nested-recursive-function/31790122#31790122", "title": "Unexpected behavior in nested recursive function", "body": "<p>Update:</p>\n\n<p>I tried reading it here:\n<a href=\"https://www.vmware.com/support/developer/viperltoolkit/doc/perl_toolkit_guide.html#step3\" rel=\"nofollow\">https://www.vmware.com/support/developer/viperltoolkit/doc/perl_toolkit_guide.html#step3</a></p>\n\n<p>It says: </p>\n\n<blockquote>\n  <p>When the script is run, the VI Perl Toolkit runtime checks the\n  environment variables, configuration file contents, and command-line\n  entries (in this order) for the necessary connection-setup details. If\n  none of these overrides are available, the runtime uses the defaults\n  (see Table 1 ) to setup the connection.</p>\n</blockquote>\n\n<p>So, the \"runtime\" is using the default connection details even when a vm object is not defined? May be?\nThat still doesn't answer why it doesn't work when the parameter is passed. \nYou need to understand the VM SDK better. You logic for recursion and usage of function parameters are fine.</p>\n\n<p>Also, the page: <a href=\"https://www.vmware.com/support/developer/viperltoolkit/doc/perl_toolkit_guide.html\" rel=\"nofollow\">https://www.vmware.com/support/developer/viperltoolkit/doc/perl_toolkit_guide.html</a></p>\n\n<p>says - </p>\n\n<blockquote>\n  <p>VI Perl Toolkit views have several characteristics that you should\n  keep in mind as you write your own scripts. Specifically, a view:</p>\n</blockquote>\n\n<ul>\n<li><p>Is a Perl object</p></li>\n<li><p>Includes properties and methods that correlate to the properties and\noperations of the server-side managed object</p></li>\n<li><p>Is a <strong>static copy</strong> of one or more server-side managed objects, and as\nsuch (static), is not updated automatically as the state of objects\non the server changes.</p></li>\n</ul>\n\n<p>So what the \"vm\" function returns is a static copy, which can be updated from the script. May be it is getting updated when you make a call while passing the $vm_view?</p>\n\n<p>Old Answer:\nProblem is not what you missed from Perl docs. The problem is with your understanding of recursion.</p>\n\n<p>The purpose of recursion is to keep running until $vm_view->runtime->powerState->val becomes \"PoweredOff\" and then cascade back. If you don't update the value, it keeps running forever.</p>\n\n<p>When you say:</p>\n\n<blockquote>\n  <p>I get an infinite loop.</p>\n</blockquote>\n\n<p>Are you updating the <code>$vm_view</code> within the if condition?\nOtherwise, the variable is same every time you call the function and hence you can end up in infinite loop.</p>\n\n<blockquote>\n  <p>If I leave it without a parameter, as in the code example above, it\n  works as expected.</p>\n</blockquote>\n\n<p>How can it work as expected? What is expected? There is no way the function can know what value your $vm_view is being updated with.</p>\n\n<p>I have simplified the code, added updating a simple variable (similar to your $vm_view) and tested. Use this to understand what is happening:</p>\n\n<pre><code>sub wait_for_stop\n{\n    my $vm_view = shift;\n\n    if ($vm_view &lt; 10){\n        print \"debug...\\n\";\n        sleep(5);\n        $vm_view++; // update $vm_view-&gt;runtime-&gt;powerState-&gt;val here\n                    // so that it becomes \"poweredOff\" at some point of time\n                    // and breaks the recursion\n        wait_for_stop($vm_view);\n    }\n}\n\nwait_for_stop(1);\n</code></pre>\n\n<p>Let me know in comments how the variable is being updated and I will help resolve.</p>\n"}, {"comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1438616790, "post_id": 31790212, "comment_id": 51511061, "body": "The OP doesn&#39;t want you to improve the code, he wants you to explain the counter-intuitive behavior he&#39;s seeing."}], "tags": [], "owner": {"reputation": 583, "user_id": 2540110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e36a726ac816b85493f5f49f9fa1d3a0?s=128&d=identicon&r=PG", "display_name": "Sir Pakington Esq", "link": "https://stackoverflow.com/users/2540110/sir-pakington-esq"}, "is_accepted": false, "score": 0, "last_activity_date": 1438612862, "creation_date": 1438612862, "answer_id": 31790212, "question_id": 31789484, "link": "https://stackoverflow.com/questions/31789484/unexpected-behavior-in-nested-recursive-function/31790212#31790212", "title": "Unexpected behavior in nested recursive function", "body": "<p>I think you would have a better time not calling <code>wait_for_stop()</code> recursively. This way might serve you better:</p>\n\n<pre><code>sub stop\n{\n    sub wait_for_stop\n    {\n            my $vm_view = shift;\n            if ($vm_view->runtime->powerState->val ne \"poweredOff\")\n            {\n                    debug(\"...\");\n                    #sleep(5);\n                    #wait_for_stop();\n                    return 0;\n            }\n            return 1;\n    }\n    debug (\"Waiting for the VM to stop\");\n    until(wait_for_stop(@$vm_views[0]))\n    {\n         sleep(5);\n    }\n}</code></pre>\n\n<p>Your old way was rather confusing and I don't think you were passing the <code>$vm_view</code> variable through to the recursive subroutine call.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1438657574, "post_id": 31792418, "comment_id": 51527086, "body": "Re &quot;Also, you don&#39;t gain anything by defining a subroutine inside another one&quot;, I can think of one: headaches. It&#39;s indeed a bad idea."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1467890607, "last_edit_date": 1467890607, "creation_date": 1438619597, "answer_id": 31792418, "question_id": 31789484, "link": "https://stackoverflow.com/questions/31789484/unexpected-behavior-in-nested-recursive-function/31792418#31792418", "title": "Unexpected behavior in nested recursive function", "body": "<p>You should always look at your standard tools before going for something a little more exotic like recursion. All you need here is a <code>while</code> loop</p>\n\n<p>It's also worth noting that <code>@$vm_views[0]</code> should be <code>$$vm_views[0])</code> or, better, <code>$vm_views-&gt;[0]</code>. And you don't gain anything by defining a subroutine <em>inside</em> another one -- the effect is the same as if it was declared separately afterwards</p>\n\n<p>An infinite loop is what I would expect if <code>$vm_view-&gt;runtime-&gt;powerState-&gt;val</code> never returns <code>poweredOff</code>, and the code below won't fix that. I don't see any code that tells the VM to stop before you wait for the status change. Is that correct?</p>\n\n<p>I don't understand why you say that your code works correctly when you call <code>wait_for_stop</code> without any parameters. You will get the fatal error</p>\n\n<pre><code>Can't call method \"runtime\" on an undefined value\n</code></pre>\n\n<p>and your program will stop. Is what you have posted the real code?</p>\n\n<p>This will do what you intended. I also think it's easier to read</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $vm_views;\n\nsub stop {\n\n    debug (\"Waiting for the VM to stop\");\n\n    my $vm_view = $vm_views-&gt;[0];\n    while ( $vm_view-&gt;runtime-&gt;powerState-&gt;val ne 'poweredOff' ) {\n        debug('...');\n        sleep 5;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 3237449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/797b23171d48351a4433bff33096d48b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Todorov", "link": "https://stackoverflow.com/users/3237449/adrian-todorov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1467891831, "creation_date": 1438610878, "last_edit_date": 1467891831, "question_id": 31789484, "link": "https://stackoverflow.com/questions/31789484/unexpected-behavior-in-nested-recursive-function", "title": "Unexpected behavior in nested recursive function", "body": "<p>I have some code that behaves rather strangely.</p>\n\n<p>I am inside a function, and I declare a nested one, which should check if something isn't okay. If it's not then it should sleep for five seconds and call itself again.</p>\n\n<pre><code>sub stop {\n\n    sub wait_for_stop {\n        my $vm_view = shift;\n\n        if ( $vm_view-&gt;runtime-&gt;powerState-&gt;val ne \"poweredOff\" ) {\n            debug(\"...\");\n            sleep(5);\n            wait_for_stop();\n        }\n    }\n\n    debug(\"Waiting for the VM to stop\");\n    wait_for_stop( @$vm_views[0] );\n}\n</code></pre>\n\n<p>So, in the call that results in the recursion inside the <code>if</code> condition, if I put the parameter (as the function definition expects it), like this:</p>\n\n<pre><code>wait_for_stop($vm_view);\n</code></pre>\n\n<p>I get an infinite loop.</p>\n\n<p>If I leave it without a parameter, as in the code example above, it works as expected.</p>\n\n<p>Shouldn't <code>$vm_view</code> in the subsequent calls be empty? Or the last used value (<code>$vm_view-&gt;runtime-&gt;powerState-&gt;val</code>)? Either case should result in unexpected behavior and error.</p>\n\n<p>But it works without any parameter. So why is that? Is there something I've missed from perldoc?</p>\n\n<p><em>EDIT1:</em> Actually, the value of <code>$vm_views</code> does get changed, so that's not the reason for the infinite loop.</p>\n\n<h3>General clarifications</h3>\n\n<p>I am using the VMware SDK. The <code>$vm_views</code> object contains the VM details. I am polling one of its methods to detect a change, in this particular case, I need to know when the machine is turned off. So, for lack of a better way, I make a call every 5 seconds until the value is satisfactory.</p>\n\n<p>My purpose is to stop the VM, make modifications that can only be made while it's off, and then launch it. </p>\n\n<h3>Actual question</h3>\n\n<p>When I don't pass a parameter, the block works as expected &ndash; it waits until the value is <code>poweredOff</code> (the VM is off), and continues, which doesn't make much sense, at least to me.</p>\n\n<p>In the case I put <code>$vm_view</code> as parameter, I get an infinite loop (the value will still get changed, since I'm calling a method).</p>\n\n<p>So I am wondering why the function works, when after the first call, <code>$vm_view</code> should be <code>undef</code>, and therefore, be stuck in an infinite loop? [undef ne \"poweredOff\" -> sleep -> recursion till death]</p>\n\n<p>And why, when I pass the expected value, it gets stuck?</p>\n\n<p>PS: To all those saying my recursion is weird and useless in this scenario &ndash; due to a myriad of reasons, I need to use such a format (it's better suited for my needs, since, after I get this bit working, I'll modify it to add various stuff and reuse it, and, for what I have in mind, a function seems to be the best option).</p>\n"}, {"tags": ["bash", "perl", "awk"], "comments": [{"owner": {"reputation": 368, "user_id": 2670066, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a74bd33ab91f3acdb22eb886ec194ec?s=128&d=identicon&r=PG", "display_name": "Amareesh", "link": "https://stackoverflow.com/users/2670066/amareesh"}, "edited": false, "score": 4, "creation_date": 1438609478, "post_id": 31788882, "comment_id": 51506149, "body": "Have you tried anything and getting some error? Please post that"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438610305, "post_id": 31788882, "comment_id": 51506706, "body": "Try <a href=\"https://metacpan.org/pod/List::MoreUtils#uniq-LIST\" rel=\"nofollow noreferrer\"><code>List::MoreUtils::uniq</code></a>.. Example: <code>perl -MList::MoreUtils=uniq -E &#39;@a=uniq(1,1,2,2,3); say &quot;@a&quot;&#39;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438699396, "post_id": 31788882, "comment_id": 51550024, "body": "@H&#229;kon H&#230;gland, That doesn&#39;t produce the requested output."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438700066, "post_id": 31788882, "comment_id": 51550590, "body": "Assuming a number on each line: <code>perl -nle&#39;print $x = $. == 1 || $_ &gt; $x ? $_ : $x+1&#39;</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438700248, "post_id": 31788882, "comment_id": 51550726, "body": "@ikegami Thanks, you are right.. I misread the question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438700298, "post_id": 31788882, "comment_id": 51550760, "body": "Please vote to reopen now that the question has been clarified some :)"}, {"owner": {"reputation": 10152, "user_id": 2229272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oisED.png?s=128&g=1", "display_name": "jas", "link": "https://stackoverflow.com/users/2229272/jas"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438700662, "post_id": 31788882, "comment_id": 51551051, "body": "Thanks, @ikegami, now with the updated edit to the question it&#39;s clear I had the wrong idea --- still I should have seen the output didn&#39;t match and not jumped in."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5143412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73495a2c2ba1e89b7c6e4e97c6a8e29c?s=128&d=identicon&r=PG&f=1", "display_name": "sdji", "link": "https://stackoverflow.com/users/5143412/sdji"}, "edited": false, "score": 0, "creation_date": 1438609942, "post_id": 31789002, "comment_id": 51506455, "body": "it would be good if it could do it for any input file in which the numbers are 1 number per ro...."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 1, "user_id": 5143412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73495a2c2ba1e89b7c6e4e97c6a8e29c?s=128&d=identicon&r=PG&f=1", "display_name": "sdji", "link": "https://stackoverflow.com/users/5143412/sdji"}, "edited": false, "score": 6, "creation_date": 1438610082, "post_id": 31789002, "comment_id": 51506544, "body": "@sdji: Take it as an exercise. Don&#39;t ask for spoonfeeding."}, {"owner": {"reputation": 1, "user_id": 5143412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73495a2c2ba1e89b7c6e4e97c6a8e29c?s=128&d=identicon&r=PG&f=1", "display_name": "sdji", "link": "https://stackoverflow.com/users/5143412/sdji"}, "edited": false, "score": 0, "creation_date": 1438610151, "post_id": 31789002, "comment_id": 51506593, "body": "the output shoudl also 1 column with a numbe rin every ro"}, {"owner": {"reputation": 1, "user_id": 5143412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73495a2c2ba1e89b7c6e4e97c6a8e29c?s=128&d=identicon&r=PG&f=1", "display_name": "sdji", "link": "https://stackoverflow.com/users/5143412/sdji"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1438610206, "post_id": 31789002, "comment_id": 51506629, "body": "@Chankey the q ist really clear and reproducable i use only best pracice notati...that shoudl nto bee too diff...have youa  sugg?"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 1, "user_id": 5143412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73495a2c2ba1e89b7c6e4e97c6a8e29c?s=128&d=identicon&r=PG&f=1", "display_name": "sdji", "link": "https://stackoverflow.com/users/5143412/sdji"}, "edited": false, "score": 0, "creation_date": 1438610375, "post_id": 31789002, "comment_id": 51506755, "body": "@sdji - The question is not clear on those points. Please edit it to reflect what you&#39;re actually trying to do"}, {"owner": {"reputation": 1, "user_id": 5143412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73495a2c2ba1e89b7c6e4e97c6a8e29c?s=128&d=identicon&r=PG&f=1", "display_name": "sdji", "link": "https://stackoverflow.com/users/5143412/sdji"}, "edited": false, "score": 0, "creation_date": 1438613271, "post_id": 31789002, "comment_id": 51508784, "body": "the unique answ is just wrong...the replica has to be repaete...it needs to be 30, 30 plus 1 30 plus 2 not only 30...the answer is wro...."}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1438803340, "last_edit_date": 1438803340, "creation_date": 1438609464, "answer_id": 31789002, "question_id": 31788882, "link": "https://stackoverflow.com/questions/31788882/alternative-match-function-perl/31789002#31789002", "title": "Alternative match function perl", "body": "<p>Use <a href=\"https://stat.ethz.ch/R-manual/R-devel/library/base/html/unique.html\" rel=\"nofollow\">unique</a> in R:</p>\n\n<pre><code>&gt; v&lt;-c(1,7,9,15,22,29,30,30,30,30,40,42,49,50,50,50,55)\n&gt; unique(v)\n\n[1]  1  7  9 15 22 29 30 40 42 49 50 55\n</code></pre>\n\n<p>Or in a perl script, use a hash:</p>\n\n<pre><code>my @list = qw(1 7 9 15 22 29 30 30 30 30 40 42 49 50 50 50 55);\n\nmy %nums;\n\n$nums{$_}++ foreach @list;\n\nsay foreach sort {$a &lt;=&gt; $b } keys %nums;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5143412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73495a2c2ba1e89b7c6e4e97c6a8e29c?s=128&d=identicon&r=PG&f=1", "display_name": "sdji", "link": "https://stackoverflow.com/users/5143412/sdji"}, "edited": false, "score": 0, "creation_date": 1438613326, "post_id": 31789335, "comment_id": 51508814, "body": "it shoudl not be only 30 bur as in the line above with 30 plus 1 30 plus 2 30 plus 3...can you edi?"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "reply_to_user": {"reputation": 1, "user_id": 5143412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73495a2c2ba1e89b7c6e4e97c6a8e29c?s=128&d=identicon&r=PG&f=1", "display_name": "sdji", "link": "https://stackoverflow.com/users/5143412/sdji"}, "edited": false, "score": 0, "creation_date": 1438618947, "post_id": 31789335, "comment_id": 51512407, "body": "@sdji:  edit done, how is that now?"}], "tags": [], "owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "is_accepted": false, "score": 2, "last_activity_date": 1438619797, "last_edit_date": 1438619797, "creation_date": 1438610465, "answer_id": 31789335, "question_id": 31788882, "link": "https://stackoverflow.com/questions/31788882/alternative-match-function-perl/31789335#31789335", "title": "Alternative match function perl", "body": "<p>Here is a bash 4 solution, problem is that  bash does not have a sort builtin.</p>\n\n<p><strong>Edit</strong>\nTrying to follow the comments, maybe this is what is required?</p>\n\n<pre><code>declare -A assoc\nwhile read key\ndo\n    while [[ -n ${assoc[$key]} ]]\n    do\n        (( key++ ))\n    done  \n\n    assoc[$key]=1\n\ndone &lt; vector.txt\n\noldIFS=\"$IFS\"\nIFS=$'\\n'\necho \"${!assoc[*]}\" | sort -n &gt; out.txt\nIFS=\"$oldIFS\"\n</code></pre>\n\n<p>Contents of vector.txt:</p>\n\n<pre><code>1\n7\n9\n15\n22\n29\n30\n30\n30\n30\n40\n42\n49\n50\n50\n50\n55\n</code></pre>\n\n<p>Contents of out.txt:</p>\n\n<pre><code>1\n7\n9\n15\n22\n29\n30\n31\n32\n33\n40\n42\n49\n50\n51\n52\n55\n</code></pre>\n\n<p>Perl solution which does the same thing:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %assoc;\nmy $fname = 'vector.txt';\n\nopen(my $in, $fname) or die \"Unable to open '$fname': $!\";\nwhile (my $key = &lt;$in&gt;) {\n\n    chomp($key);\n    $key++ while exists $assoc{$key};\n    $assoc{$key} = undef;\n\n}\nclose $in;\n\nmy @output = sort {$a &lt;=&gt; $b} keys(%assoc);\nlocal $\" = \"\\n\";\nopen(my $out, '&gt;', 'out.txt') or die \"Unable to open 'out.txt': $!\";\nprint $out \"@output\\n\";\nclose $out;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5143412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73495a2c2ba1e89b7c6e4e97c6a8e29c?s=128&d=identicon&r=PG&f=1", "display_name": "sdji", "link": "https://stackoverflow.com/users/5143412/sdji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "closed_date": 1438610608, "answer_count": 2, "score": -8, "last_activity_date": 1438803340, "creation_date": 1438609161, "last_edit_date": 1438700471, "question_id": 31788882, "link": "https://stackoverflow.com/questions/31788882/alternative-match-function-perl", "closed_reason": "Needs details or clarity", "title": "Alternative match function perl", "body": "<p>I have a file that has a number on each line.</p>\n\n<pre><code>1\n7\n9\n15\n22\n29\n30\n30  &lt;--\n30  &lt;--\n30  &lt;--\n40\n42\n49\n50\n50  &lt;--\n50  &lt;--\n55\n</code></pre>\n\n<p>I can't allow numbers to appear more than a single time. When a duplicate is found, it should replace it with the next unused number instead.</p>\n\n<pre><code>1\n7\n9\n15\n22\n29\n30\n31  &lt;--\n32  &lt;--\n33  &lt;--\n40\n42\n49\n50\n51  &lt;--\n52  &lt;--\n55\n</code></pre>\n\n<p>If I put in a column from a table to a perl, awk sed bash script...how could I come up with that solution? Any idea would be amazing...</p>\n"}, {"tags": ["perl", "foreach", "die"], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 2310442, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QITka.jpg?s=128&g=1", "display_name": "Lucien", "link": "https://stackoverflow.com/users/2310442/lucien"}, "edited": false, "score": 2, "creation_date": 1438594711, "post_id": 31783898, "comment_id": 51497045, "body": "Yes it works this way, but doesn&#39;t explain the streange behavior I&#39;m experiencing :)"}], "tags": [], "owner": {"reputation": 947, "user_id": 2826340, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/23c627dc4dc2acbd66dd4a0003bc25e0?s=128&d=identicon&r=PG&f=1", "display_name": "AMDG", "link": "https://stackoverflow.com/users/2826340/amdg"}, "is_accepted": false, "score": 0, "last_activity_date": 1438594248, "creation_date": 1438594248, "answer_id": 31783898, "question_id": 31783761, "link": "https://stackoverflow.com/questions/31783761/lines-not-executed-in-the-good-order-while-dying-in-foreach-loop/31783898#31783898", "title": "Lines not executed in the good order while dying in foreach loop", "body": "<p>You should use only one print statement, like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\n\n$root = \"C:\\\\Data\\\\Tests\";\n@check = (\"folder1\", \"folder2\", \"folder3\");\nforeach $check (@check){\n    print -d \"$root\\\\$check\" ? \"$check OK\\n\" : die \"$check NOK : not accessible\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 11, "last_activity_date": 1438596415, "last_edit_date": 1592644375, "creation_date": 1438596415, "answer_id": 31784632, "question_id": 31783761, "link": "https://stackoverflow.com/questions/31783761/lines-not-executed-in-the-good-order-while-dying-in-foreach-loop/31784632#31784632", "title": "Lines not executed in the good order while dying in foreach loop", "body": "<blockquote>\n<p>So it looks like in the last loop, the second line is executed before the first..</p>\n<p>Someone knows why ?</p>\n</blockquote>\n<p><code>die &quot;..&quot;</code> unlike <code>print</code> goes to <code>STDERR</code></p>\n<p>Furthermore output is buffered so you might want to disable it in order to get wanted output,</p>\n<pre><code>STDOUT-&gt;autoflush();\nSTDERR-&gt;autoflush();\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 2310442, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QITka.jpg?s=128&g=1", "display_name": "Lucien", "link": "https://stackoverflow.com/users/2310442/lucien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 31784632, "answer_count": 2, "score": 3, "last_activity_date": 1438596415, "creation_date": 1438593850, "question_id": 31783761, "link": "https://stackoverflow.com/questions/31783761/lines-not-executed-in-the-good-order-while-dying-in-foreach-loop", "title": "Lines not executed in the good order while dying in foreach loop", "body": "<p>I just have a strange behavior I would like to understand.</p>\n\n<p>Here is my perl script, where I just check if some folders are present :</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\n\n$root = \"C:\\\\Data\\\\Tests\";\n@check = (\"folder1\", \"folder2\", \"folder3\");\nforeach $check (@check){\n    print $check;\n    print -d \"$root\\\\$check\" ? \" OK\\n\" : die \" NOK : not accessible\";\n}\n</code></pre>\n\n<p>Now, assume that folder3 is missing, so I should have the output:</p>\n\n<pre><code>folder1 OK\nfolder2 OK\nfolder3 NOK : not accessible at C:\\Data\\Tests\\strange.pl line 8.\n</code></pre>\n\n<p>Instead I have :</p>\n\n<pre><code>folder1 OK\nfolder2 OK\n NOK : not accessible at C:\\Data\\Tests\\strange.pl line 8.\nfolder3\n</code></pre>\n\n<p>So it looks like in the last loop, the second line is executed before the first..</p>\n\n<p>Someone knows why ?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 2, "creation_date": 1438593665, "post_id": 31783672, "comment_id": 51496434, "body": "What&#39;s wrong with using another delimiters?"}], "answers": [{"tags": [], "owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "is_accepted": true, "score": 0, "last_activity_date": 1438593571, "creation_date": 1438593571, "answer_id": 31783673, "question_id": 31783672, "link": "https://stackoverflow.com/questions/31783672/matching-forward-slash-within-perl-escaping-forward-slash/31783673#31783673", "title": "Matching forward slash `/` within Perl (Escaping forward slash)", "body": "<p>Use <code>\\</code> before it in order to escape it.</p>\n"}], "owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4618, "favorite_count": 0, "closed_date": 1438593822, "accepted_answer_id": 31783673, "answer_count": 1, "score": 0, "last_activity_date": 1438593571, "creation_date": 1438593571, "question_id": 31783672, "link": "https://stackoverflow.com/questions/31783672/matching-forward-slash-within-perl-escaping-forward-slash", "closed_reason": "Duplicate", "title": "Matching forward slash `/` within Perl (Escaping forward slash)", "body": "<p>I'm trying to match a forward slash <code>/</code> in a Perl find or replace query.</p>\n"}, {"tags": ["regex", "perl", "non-printing-characters"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1438595402, "post_id": 31783590, "comment_id": 51497503, "body": "<a href=\"http://www.perlmonks.org/?node_id=684459\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=684459</a>"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 2837411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c6734889fa25bb9f57dda10be1ba524?s=128&d=identicon&r=PG&f=1", "display_name": "derhelge", "link": "https://stackoverflow.com/users/2837411/derhelge"}, "edited": false, "score": 0, "creation_date": 1438595107, "post_id": 31783926, "comment_id": 51497305, "body": "Cool! Thats a clean answer. Thanks a lot!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 83, "user_id": 2837411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c6734889fa25bb9f57dda10be1ba524?s=128&d=identicon&r=PG&f=1", "display_name": "derhelge", "link": "https://stackoverflow.com/users/2837411/derhelge"}, "edited": false, "score": 0, "creation_date": 1438611323, "post_id": 31783926, "comment_id": 51507443, "body": "I would be happy to add stuff to the answer if the downvoter explains why this is not a useful answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438612613, "post_id": 31783926, "comment_id": 51508374, "body": "You&#39;ve made things very difficult for yourself by processing the string backwards! See the update on my solution. Well done getting it going!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438613459, "post_id": 31783926, "comment_id": 51508903, "body": "@borodin I wanted to avoid the <code>substr</code> operation and chose to work on an array instead. It&#39;s a bit more complicated, but it&#39;s also more verbose. That&#39;s why I said explicit."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438617415, "post_id": 31783926, "comment_id": 51511433, "body": "@simbabque: You can use an array or a string -- either is good. The algorithm in my solution would have a <code>pop @result</code> if the character is a backspace, and a <code>push @result, $c</code> if not"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1438594349, "creation_date": 1438594349, "answer_id": 31783926, "question_id": 31783590, "link": "https://stackoverflow.com/questions/31783590/how-to-apply-backspace-characters-with-perl/31783926#31783926", "title": "How to \u201capply\u201d backspace characters with perl", "body": "<p>Here is a very explicit solution that is probably not the fastest. However, it gets the job done.</p>\n\n<pre><code>sub apply_backspace_characters {\n    my $string = shift;\n\n    # replace the ^H characters with one BS char\n    $string =~ s/\\^H/chr(8)/ge;\n\n    my @output;\n    my $backspace_count = 0; # keep track of how many BS we have seen in a row\n\n    # iterate over string by char from the right\n    foreach my $char ( reverse split //, $string ) {\n        if ( $char eq chr(8) ) {\n            # it's a backspace, increase counter and skip\n            $backspace_count++;\n            next;\n        }\n        if ($backspace_count) {\n            # there are still backspaces on the 'stack', decrease counter and skip\n            $backspace_count--;\n            next;\n        }\n        # no backspaces left, keep this character and put at front\n        # (because we are going backwards)\n        unshift @output, $char;\n    }\n\n    return join '', @output;\n}\n\nsay apply_backspace_characters(\n    \"test&gt;&gt;M^H ^HManagement.^H^H^H^H^H^H^H^H^H^Hanagement.F^H ^HFiles.^H^H^H^H^Hiles.s^H ^Hs.^H ^Hc^H ^H^H ^Hscript.^H ^H^H^H^H^Hripts^H ^H^H ^H^H ^H^H ^H^H ^H^H ^H^H ^Hscripts.^H.s^H ^Hshow_file ^H^H^H^H^H^H^H^H^Hhow_file = transform_factory_to_running^M\"\n);\n</code></pre>\n\n<p>This will output the following.</p>\n\n<pre><code>test&gt;&gt;Management.Files.scripts.show_file = transform_factory_to_running^M\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438612695, "post_id": 31789843, "comment_id": 51508435, "body": "@simbabque:Thanks for the fix"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1438612548, "last_edit_date": 1495535277, "creation_date": 1438611879, "answer_id": 31789843, "question_id": 31783590, "link": "https://stackoverflow.com/questions/31783590/how-to-apply-backspace-characters-with-perl/31789843#31789843", "title": "How to \u201capply\u201d backspace characters with perl", "body": "<p>This is simply done in a loop of substitutions</p>\n\n<p>It repeatedly removes all instances of a backspace at the start of the line (where it has no effect) or a non-backspace character followed by a backspace (emulating the deletion of the preceding character)</p>\n\n<p>Note that I have had to use <code>\\cH</code> instead of <code>\\b</code> inside the regex pattern because the latter is a word boundary anchor in this context</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy $s = 'M^H ^HManagement.^H^H^H^H^H^H^H^H^H^Hanagement.F^H ^HFiles.^H^H^H^H^Hiles.s^H ^Hs.^H ^Hc^H ^H^H ^Hscript.^H ^H^H^H^H^Hripts^H ^H^H ^H^H ^H^H ^H^H ^H^H ^H^H ^Hscripts.^H.s^H ^Hshow_file ^H^H^H^H^H^H^H^H^Hhow_file = transform_factory_to_running^M';\n$s =~ s/\\^H/\\b/g; # convert `^H` to backspace\n\n1 while $s =~ s/(?:^|[^\\cH])\\cH//g;\n\nsay $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>Management.Files.scripts.show_file = transform_factory_to_running^M\n</code></pre>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Here's a version that processes the string as a stream of characters, similar to <a href=\"https://stackoverflow.com/users/1331451/simbabque\">simbabque's</a> solution but going from left to right instead</p>\n\n<p>Essentially any backspace removes a character from the end of the <code>$result</code> buffer, if there is one to remove, while any other character is simply appended</p>\n\n<p>The output is identical to that of the code above</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy $s = 'M^H ^HManagement.^H^H^H^H^H^H^H^H^H^Hanagement.F^H ^HFiles.^H^H^H^H^Hiles.s^H ^Hs.^H ^Hc^H ^H^H ^Hscript.^H ^H^H^H^H^Hripts^H ^H^H ^H^H ^H^H ^H^H ^H^H ^H^H ^Hscripts.^H.s^H ^Hshow_file ^H^H^H^H^H^H^H^H^Hhow_file = transform_factory_to_running^M';\n$s =~ s/\\^H/\\b/g;\n\nsay apply_backspace_characters($s);\n\nsub apply_backspace_characters {\n\n  my $result;\n\n  for my $c ( split //, shift ) {\n    if ( $c eq \"\\b\" ) {\n      substr($result, -1) = '';\n    }\n    else {\n      $result .= $c;\n    }\n  }\n\n  $result;\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 2837411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c6734889fa25bb9f57dda10be1ba524?s=128&d=identicon&r=PG&f=1", "display_name": "derhelge", "link": "https://stackoverflow.com/users/2837411/derhelge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2341, "favorite_count": 0, "accepted_answer_id": 31783926, "answer_count": 2, "score": 2, "last_activity_date": 1438612548, "creation_date": 1438593307, "last_edit_date": 1495542658, "question_id": 31783590, "link": "https://stackoverflow.com/questions/31783590/how-to-apply-backspace-characters-with-perl", "title": "How to \u201capply\u201d backspace characters with perl", "body": "<p>I have a file with multiple backspace characters (<code>^H</code>) in it. I'd like to be able to \"apply\" those backspaces within perl. I found a few solutions, but none of them worked in my case.\nThe critical line is this one:</p>\n\n<pre><code>test&gt;&gt;M^H ^HManagement.^H^H^H^H^H^H^H^H^H^Hanagement.F^H ^HFiles.^H^H^H^H^Hiles.s^H ^Hs.^H ^Hc^H ^H^H ^Hscript.^H ^H^H^H^H^Hripts^H ^H^H ^H^H ^H^H ^H^H ^H^H ^H^H ^Hscripts.^H.s^H ^Hshow_file ^H^H^H^H^H^H^H^H^Hhow_file = transform_factory_to_running^M\n</code></pre>\n\n<p>The result should look like this:</p>\n\n<pre><code>test&gt;&gt;Management.Files.scripts.show_file = transform_factory_to_running^M\n</code></pre>\n\n<p>Within vi i am able to transform the text correctly as suggested in <a href=\"https://stackoverflow.com/a/1298728/2837411\">https://stackoverflow.com/a/1298728/2837411</a>.\nBut the perl solution, which is also suggested in this question: <a href=\"https://stackoverflow.com/a/1298970/2837411\">https://stackoverflow.com/a/1298970/2837411</a> didnt worked for me (using  <code>$_</code>):</p>\n\n<pre><code>s{([^\\x08]+)(\\x08+)}{substr$1,0,-length$2}eg;\n</code></pre>\n\n<p>The output for this is:</p>\n\n<pre><code>test&gt;&gt;Management.Files.sscriptriptscripts.show_file = transform_factory_to_running^M\n</code></pre>\n\n<p>All the backspaces are vanished but it looks like as if a few of them are applied to a another backspace?!</p>\n"}, {"tags": ["html", "oracle", "perl"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1438592518, "post_id": 31783224, "comment_id": 51495771, "body": "Compare that <code>@INC</code> with the one you get from <code>perl -V</code> in the shell?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1438600547, "post_id": 31783224, "comment_id": 51500330, "body": "Your <code>@$connection_details[0]</code> (and the following four lines) are far less confusingly written as <code>$connection_details-&gt;[0]</code>. Or perhaps combine them all as <code>my ($AMDORA_TNS_FM, $AMDORA_USER_FM, $AMDORA_PASSWORD_FM, $AMDORA_SCHEMA_FM, $AMDORA_SERVICE_FM) = @$connection_details</code>."}], "answers": [{"tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 2, "last_activity_date": 1438592564, "creation_date": 1438592564, "answer_id": 31783359, "question_id": 31783224, "link": "https://stackoverflow.com/questions/31783224/dbi-connect-failedinstall-driveroracle-failed-cant-locate-dbd-oracle-pm/31783359#31783359", "title": "DBI-&gt;Connect failed(install_driver(Oracle) failed: Can&#39;t locate DBD/Oracle.pm)", "body": "<p>Looks like you have to set the environment Variable ORACLE_HOME also for the user which runs the apache webserver. And make it available in apache.</p>\n"}], "owner": {"reputation": 1888, "user_id": 2168706, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/JB0GQ.jpg?s=128&g=1", "display_name": "Santosh Sahu", "link": "https://stackoverflow.com/users/2168706/santosh-sahu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1813, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438592564, "creation_date": 1438592146, "last_edit_date": 1438592426, "question_id": 31783224, "link": "https://stackoverflow.com/questions/31783224/dbi-connect-failedinstall-driveroracle-failed-cant-locate-dbd-oracle-pm", "title": "DBI-&gt;Connect failed(install_driver(Oracle) failed: Can&#39;t locate DBD/Oracle.pm)", "body": "<p>I am running a cgi script from an onclick event in html.</p>\n\n<h2>HTML</h2>\n\n<pre><code>&lt;button onclick=\"self.location='http:**link**/test.cgi?myfield=PRD7-QF_P7';\"&gt;Click me&lt;/button&gt;\n</code></pre>\n\n<h2>test.cgi Script</h2>\n\n<pre><code>use DBI;\nuse CGI::Carp qw(carpout fatalsToBrowser);\nBEGIN\n{\n $ENV{'ORACLE_HOME'}='/data/softs/oracle/10.2.0.3/';\n $ENV{'LD_LIBRARY_PATH'}='/data/softs/oracle/10.2.0.3/lib';\n}\n\nmy $cgi = CGI-&gt;new;\n#my $parameter = $cgi-&gt;param(\"myfield\");\nprint \"Content-type: text/html\\n\\n\";\nmy $version = \"2.1\";\nmy $cgi = CGI-&gt;new;\nmy $parameter = $cgi-&gt;param(\"myfield\");\nprint \"Content-type: text/html\\n\\n\";\nprint \"This is a test perl script\\n\\n\";\nprint \"Parameter=${parameter}\\n\";\nmy $connection_details = DBstringToConnection($parameter);\n\nmy $AMDORA_TNS_FM = @$connection_details[0];\nmy $AMDORA_USER_FM = @$connection_details[1];\nmy $AMDORA_PASSWORD_FM = @$connection_details[2];\nmy $AMDORA_SCHEMA_FM = @$connection_details[3];\nmy $AMDORA_SERVICE_FM = @$connection_details[4];\n\nmy $dbhfm = DBI-&gt;connect(\"dbi:Oracle:$AMDORA_TNS_FM\", $AMDORA_USER_FM,$AMDORA_PASSWORD_FM)\n  or die DBI-&gt;errstr;\n</code></pre>\n\n<p>I am setting the Oracle_home and ld_library_path at the start of file.\nWhen i run the cgi script from unix terminal it's working fine. But when i run the script from the browser HTML file, it's giving this error:</p>\n\n<pre><code>install_driver(Oracle) failed: Can't locate DBD/Oracle.pm in @INC (@INC contains: /usr/lib/perl5/5.10.0/x86_64-linux-thread-multi /usr/lib/perl5/5.10.0 /usr/lib/perl5/site_perl/5.10.0/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.10.0 /usr/lib/perl5/vendor_perl/5.10.0/x86_64-linux-thread-multi /usr/lib/perl5/vendor_perl/5.10.0 /usr/lib/perl5/vendor_perl .) at (eval 9) line 3.\n\nPerhaps the DBD::Oracle perl module hasn't been fully installed,\nor perhaps the capitalisation of 'Oracle' isn't right.\nAvailable drivers: DBM, ExampleP, File, Gofer, Proxy, SQLite, Sponge, mysql.\n at /remote/users/sasahu/public_html/dashboard/test.cgi line 47\n</code></pre>\n\n<p>I think DBI->connect will use the DBD::Oracle package for Oracle connection, which works fine in unix terminal, but in the browser it gives the above error.</p>\n\n<p>Could anybody please say how to resolve the problem.\nThanks in Advance.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438625706, "post_id": 31781987, "comment_id": 51516090, "body": "You do not need <code>split</code>. Try <code>@groups=$bin_string=~&#47;1+|0+&#47;g</code>.."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438629900, "post_id": 31781987, "comment_id": 51518133, "body": "That&#39;s of course more elegant! I still wanted to understand what was happening and if there maybe was a way to salvage the regex."}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1452601610, "post_id": 31781987, "comment_id": 57232656, "body": "You&#39;ve got your answer, but I&#39;ll just add that when I read this, my first thought was &quot;whoa, too complicated.&quot;  <code>perl -pe &#39;s&#47;(0+|1+)&#47;\\1 &#47;g&#39; &lt;&lt;&lt; &quot;10000111000011&quot;</code> does the job, or if you want something more generalized, <code>perl -pe &#39;s&#47;((.)\\2*)&#47;\\1 &#47;g&#39;</code>."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "reply_to_user": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1452610657, "post_id": 31781987, "comment_id": 57239460, "body": "@ghoti Absolutely. When I asked this, I was pretty convinced that this wasn&#39;t the best way to solve my problem, but I wanted to know why I saw what I saw. In the end, the question was more about &quot;why is the capture group repeated&quot; than &quot;how can I split my string&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1438588558, "last_edit_date": 1438588558, "creation_date": 1438588245, "answer_id": 31782057, "question_id": 31781987, "link": "https://stackoverflow.com/questions/31781987/split-binary-number-into-groups-of-zeros-and-ones/31782057#31782057", "title": "Split binary number into groups of zeros and ones", "body": "<p>Just do matching instead of splitting.</p>\n\n<pre><code>(\\d)\\1*\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $bin_string = '10000111000011';\nwhile($bin_string =~ m/((\\d)\\2*)/g) {\n    print \"$1\\n\";\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/wqXdum\" rel=\"nofollow\">IDEONE</a></p>\n"}, {"comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 1, "creation_date": 1438627494, "post_id": 31782544, "comment_id": 51516964, "body": "While all answers address the underlying problem, I&#39;ve chosen this one as accepted as it&#39;s the only actually answering the &quot;why did this happen&quot;. The behaviour for <code>split</code> with capturing groups is actually <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">documented</a>. Is there a specific reason you chose your parenthesizing over, say, <code>(?&lt;=0)(?!0)|(?&lt;=1)(?!1)</code>?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 1, "creation_date": 1438634357, "post_id": 31782544, "comment_id": 51520484, "body": "I chose this grouping because I followed the alternation logic: we split using a look-behind, and inside, we have 2 alternatives: 1) zero that should not be followed with a zero, and 2) one not followed with one. Yes, splitting with a regex pattern having capturing groups is documented for languages where this works (it <a href=\"http://ideone.com/LiwxK6\" rel=\"nofollow noreferrer\">does not work in Java</a>)."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1438589974, "creation_date": 1438589974, "answer_id": 31782544, "question_id": 31781987, "link": "https://stackoverflow.com/questions/31781987/split-binary-number-into-groups-of-zeros-and-ones/31782544#31782544", "title": "Split binary number into groups of zeros and ones", "body": "<p>Here is a small fix for your code:</p>\n\n<pre><code>my @groups = split /(?&lt;=0(?!0)|1(?!1))/, $bin_string;\n</code></pre>\n\n<p>The problem you experience is that when using <code>split</code> captured texts are also output in the resulting array. So, the solution is to get rid of the capturing group.</p>\n\n<p>Since you only have <code>0</code> or <code>1</code> in your input, it is pretty easy with an alternation and a lookahead making sure the digits get changed.</p>\n\n<p>See <a href=\"https://ideone.com/V1XksI\" rel=\"nofollow\">demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 32630, "user_id": 1011527, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/950d56c466691980bba71859798bfe65?s=128&d=identicon&r=PG", "display_name": "Jay Blanchard", "link": "https://stackoverflow.com/users/1011527/jay-blanchard"}, "edited": false, "score": 2, "creation_date": 1438620886, "post_id": 31782573, "comment_id": 51513523, "body": "Why should the OP &quot;try this&quot;? A good answer will always have an explanation of what was done and why it was done that way, not only for the OP but for future visitors to SO."}, {"owner": {"reputation": 32630, "user_id": 1011527, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/950d56c466691980bba71859798bfe65?s=128&d=identicon&r=PG", "display_name": "Jay Blanchard", "link": "https://stackoverflow.com/users/1011527/jay-blanchard"}, "edited": false, "score": 1, "creation_date": 1438621161, "post_id": 31782573, "comment_id": 51513678, "body": "Cool. If you&#39;re wondering about DV&#39;s (I didn&#39;t DV this or any of your other answers) look to see if you&#39;ve included an explanation of what you have done. Especially if you&#39;re demonstrating regex you can take things a bit further and provide a detailed explanation. Newbies coming to SO and seeing these answers will be better off and might actually gain understanding to solutions."}, {"owner": {"reputation": 32630, "user_id": 1011527, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/950d56c466691980bba71859798bfe65?s=128&d=identicon&r=PG", "display_name": "Jay Blanchard", "link": "https://stackoverflow.com/users/1011527/jay-blanchard"}, "edited": false, "score": 1, "creation_date": 1438621261, "post_id": 31782573, "comment_id": 51513726, "body": "Just commenting because you asked above :)"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 32630, "user_id": 1011527, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/950d56c466691980bba71859798bfe65?s=128&d=identicon&r=PG", "display_name": "Jay Blanchard", "link": "https://stackoverflow.com/users/1011527/jay-blanchard"}, "edited": false, "score": 0, "creation_date": 1438621338, "post_id": 31782573, "comment_id": 51513765, "body": "@JayBlanchard yeah an explanation is surely helpful....will try to get rid of my laziness :)"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 1, "last_activity_date": 1438621011, "last_edit_date": 1438621011, "creation_date": 1438590105, "answer_id": 31782573, "question_id": 31781987, "link": "https://stackoverflow.com/questions/31781987/split-binary-number-into-groups-of-zeros-and-ones/31782573#31782573", "title": "Split binary number into groups of zeros and ones", "body": "<pre><code>(?&lt;=0)(?=1)|(?&lt;=1)(?=0)\n</code></pre>\n\n<p>Simply split by this.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/fM9lY3/3\" rel=\"nofollow\">https://regex101.com/r/fM9lY3/3</a></p>\n\n<p>The <code>lookarounds</code> will find place where there is <code>0</code> behind and <code>1</code> ahead or <code>1</code> behind and <code>0</code> ahead.Thus resulting in correct split without consuming anything.</p>\n"}], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "accepted_answer_id": 31782544, "answer_count": 3, "score": 4, "last_activity_date": 1438621011, "creation_date": 1438588020, "question_id": 31781987, "link": "https://stackoverflow.com/questions/31781987/split-binary-number-into-groups-of-zeros-and-ones", "title": "Split binary number into groups of zeros and ones", "body": "<p>I have a binary number, for example <code>10000111000011</code>, and want to split it into groups of consecutive 1s and 0s, <code>1 0000 111 0000 11</code>.</p>\n\n<p>I thought that's a great opportunity to use look-arounds: my regex uses a positive look-behind for a digit (which it captures for later backreferencing), then a negative look-ahead for that same digit (using a backreference), so I should get a split whenever a digit is followed by a digit that is not the same.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $bin_string = '10000111000011';\nmy @groups = split /(?&lt;=(\\d))(?!\\g1)/, $bin_string;\n\nsay \"@groups\";\n</code></pre>\n\n<p>However, this results in</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1 1 0000 0 111 1 0000 0 11 1\n</code></pre>\n\n<p>Somehow, the captured digit is inserted at every split. What did go wrong?</p>\n"}, {"tags": ["perl", "unix", "net-sftp"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1438588030, "post_id": 31781570, "comment_id": 51493290, "body": "Are you running it on Windows?"}, {"owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1438590987, "post_id": 31781570, "comment_id": 51494938, "body": "I am running it on Linux."}], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "edited": false, "score": 0, "creation_date": 1439266573, "post_id": 31783076, "comment_id": 51777627, "body": "I have copied the file from system1 to system2, but the uid and gid are not still same even i used &#39;copy_perm&#39; = &gt; 1 while using get() methods. I am checking the files using &#39;ls -ln&#39; command. The only difference is that i am logged in destination system(system2) as a root user and it shows something like, root@system # ls -n /dest/files -rw-r--r--  1 0  0   4424 Jun 10 04:45 /dest/files/file.txt ... While at source side it has uid and gid like -  -rw-r--r--  1 1001 1002   4424 Jun 10 04:45 /dest/files/file.txt"}], "tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": false, "score": 2, "last_activity_date": 1438591725, "creation_date": 1438591725, "answer_id": 31783076, "question_id": 31781570, "link": "https://stackoverflow.com/questions/31781570/not-able-to-use-copy-perm-option-in-netsftpforeign-module/31783076#31783076", "title": "Not able to use &#39;copy_perm&#39; option in Net::SFTP::Foreign module", "body": "<p>That's because <code>copy_perm</code> isn't an option for the <code>new</code> method.  You use it in <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#sftp-get-remote-local-options\" rel=\"nofollow\"><code>get</code></a> and <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#sftp-put-local-remote-opts\" rel=\"nofollow\"><code>put</code></a>.</p>\n"}], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1438591769, "creation_date": 1438586530, "last_edit_date": 1438591769, "question_id": 31781570, "link": "https://stackoverflow.com/questions/31781570/not-able-to-use-copy-perm-option-in-netsftpforeign-module", "title": "Not able to use &#39;copy_perm&#39; option in Net::SFTP::Foreign module", "body": "<p>I want to copy the file from remote host to the local host with the preservation of file permission, hence i tried to use the 'copy_perm' option as per the <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign\" rel=\"nofollow\">documentation of Net::SFTP::Foreign</a> as mentioned below -</p>\n\n<pre><code>my $sftp = Net::SFTP::Foreign-&gt;new(\n    host      =&gt; $host,\n    key_path  =&gt; $ssh_key_path,\n    copy_perm =&gt; 1,\n    more      =&gt; [ -o =&gt; 'Compression yes' ]\n);\n</code></pre>\n\n<p>But I am getting the below error -</p>\n\n<p><strong><em>Invalid option 'copy_perm' or bad combination of options at test.pl at line 101.</em></strong></p>\n\n<p>The line 101 is the Net::SFTP::Foreign object creation as mentioned above.\nDid i miss anything or anyone has faced same issue before?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438574927, "post_id": 31779141, "comment_id": 51488411, "body": "Do all the values after each <code>=</code> line start with the same string? For instance, do all the lines after <code>=IP1</code> always start with <code>abc</code> or can there be a mixture? And are the numbers in brackets always in increasing order?"}, {"owner": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438589376, "post_id": 31779141, "comment_id": 51494083, "body": "No, values after =, start with a different name. There is a mixture. Secondly Yes, the numbers inside the brackets are always in the increasing order."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438589622, "post_id": 31779141, "comment_id": 51494228, "body": "Okay, then are the same values all grouped together -- say, all the <code>abc</code>s and then all the <code>xyz</code>s and then <code>=IP2</code>. And are the numbers in brackets always in sorted order?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438589747, "post_id": 31779141, "comment_id": 51494276, "body": "And can different groups have the same tags? For instance, can both <code>=IP3</code> and <code>=IP4</code> have <code>xyz</code> values?"}, {"owner": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438591998, "post_id": 31779141, "comment_id": 51495482, "body": "Yes , all the abc s and all the xyz s are grouped together. Yes the numbers in the brackets are always in sorted order. Different groups don&#39;t have the same tags."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "edited": false, "score": 0, "creation_date": 1438593738, "post_id": 31779727, "comment_id": 51496470, "body": "Thanks a ton! Well I am pretty new to PERL, so can there be a bit easier lines of code for achieving the same?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "edited": false, "score": 0, "creation_date": 1438630332, "post_id": 31779727, "comment_id": 51518375, "body": "@RaviRaj: It&#39;s <b><i>Perl</i></b> ! And in general it&#39;s a mistake to invent data that you <i>think</i> behaves the same way as your real data; you usually end up with people asking a lot of questions (as I had to) or the OP has to reject perfectly good answers with <i>&quot;thanks, but it&#39;s not quite like that&quot;</i>"}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": false, "score": 1, "last_activity_date": 1438583190, "last_edit_date": 1495535209, "creation_date": 1438578224, "answer_id": 31779727, "question_id": 31779141, "link": "https://stackoverflow.com/questions/31779141/perl-scripting-using-hashes/31779727#31779727", "title": "Perl Scripting | using HASHes", "body": "<p>There are several interesting subproblems.  First, you want to keep track of the most recent header (ie, <code>=IP1</code>).  Second, you want to keep track of lists of numbers that are associated with some keys, and third, you want to generate range strings.</p>\n\n<p>Here's how I would do it:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $tl;\nmy %h;\n\n# First process the lines of the input file.\nwhile(&lt;DATA&gt;) {\n    chomp;\n    next unless length;\n    if(/^(=\\w{2}\\d+)$/) { # Recognize and track a top level heading.\n        $tl = $1;\n        next;\n    }\n    if(/^(\\w+)\\[(\\d+)\\]$/) {  # Or grab a key/value pair.\n        my($k,$v) = ($1,$2);\n        push @{$h{$tl}{$k}}, $v; # push the value into the right bucket.\n        next;\n    }\n    warn \"Unrecognized format cannot be processed at $.: (($_))\\n\";\n}\n\n# Sort the top level headers alphabetically and numerically.\n# Uses a Schwartzian Transform so that we don't need to recompute\n# sort keys repeatedly.\nmy @topkeys = map  {$_-&gt;[0]}\n              sort {$a-&gt;[1] cmp $b-&gt;[1] || $a-&gt;[2] &lt;=&gt; $b-&gt;[2]} \n              map  {\n                my($alpha, $num) = $_ =~ m/^=(\\w+)(\\d+)$/; \n                [$_, $alpha, $num]\n              } keys %h;\n\n# Now iterate through the structure in sorted order, generate range\n# strings on the fly, and print our output.\nforeach my $top (@topkeys) {\n    print \"$top\\n\";\n    foreach my $k (sort keys %{$h{$top}}) {\n        my @vl = sort {$a &lt;=&gt; $b} @{$h{$top}{$k}};\n        my $range = num2range(@vl);\n        print \"$k\\[$range]\\n\";\n    }\n}\n\nsub num2range {\n  local $_ = join ',' =&gt; @_;\n  s/(?&lt;!\\d)(\\d+)(?:,((??{$++1}))(?!\\d))+/$1-$+/g;\n  return $_;\n}\n\n__DATA__\n=IP1\nabc[0]\nabc[1]\nabc[2]\n=IP2\ndef[4]\ndef[8]\ndef[9]\n</code></pre>\n\n<p>The following output is produced:</p>\n\n<pre><code>=IP1\nabc[0-2]\n=IP2\ndef[4,8-9]\n</code></pre>\n\n<p>This solution could be optimized further if answers to some of the questions that <a href=\"https://stackoverflow.com/questions/31779141/perl-scripting-using-hashes#comment51488411_31779141\">Borodin</a> asked as a comment to your original post were answered.  For example, it would be unnecessary to sort our number list before generating a range if we knew that the numbers were already in order.  And some complexity (and computational work) might be eliminated if we knew more about what \"abc\" and \"def\" are.  And if sorted order doesn't matter, we could simplify further while also reducing the amount of work being done.</p>\n\n<p>Also, the <a href=\"http://search.cpan.org/perldoc?Set%3A%3AIntSpan\" rel=\"nofollow noreferrer\">Set::IntSpan</a> module could probably provide a more robust approach to generate a range string, and is probably worth considering if this script is intended to live beyond the \"one off\" lifespan.  If you choose to use Set::IntSpan your <code>num2range</code> sub could look like this:</p>\n\n<pre><code>sub num2range{ return Set::IntSpan-&gt;new(@_) }\n</code></pre>\n\n<p>The <code>Set::IntSpan</code> object has overloaded stringification, so printing it gives a text representation of the range. If you went this route, you could eliminate the code that sorts the lists of numbers -- that's handled by Set::IntSpan internally.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1438592242, "creation_date": 1438592242, "answer_id": 31783251, "question_id": 31779141, "link": "https://stackoverflow.com/questions/31779141/perl-scripting-using-hashes/31783251#31783251", "title": "Perl Scripting | using HASHes", "body": "<p>Okay, here's my take on a solution. Without any better information on the incoming data it may be more complicated than necessary</p>\n\n<p>It keeps the data -- both the <code>=IP</code> headers and the <code>xyz[9]</code> values in the same order that they are first encountered. I've separated out the generation of the number range contraction to subroutine <code>ranges</code></p>\n\n<p>It's simply a matter of reading the data in from the file -- which it expects as a parameter on the command line -- into data structures <code>%data</code> and <code>@order</code> and printing them out again. The <code>@order</code> array and the <code>_order</code> subkey of the hash are there to preserve the sequence that the values are encountered and are added to whenever a new key is inserted into the corresponding hash</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ($key, %data, @order);\n\nwhile ( &lt;&gt; ) {\n\n  chomp;\n\n  if ( /^=/ ) {\n    $key = $_;\n    push @order, $key unless $data{$key};\n    $data{$key} = { _order =&gt; [] };\n  }\n  elsif ( my ($key2, $n) = /([^\\[\\]\\s]+)\\[(\\d+)\\]/ ) {\n    my $data = $data{$key};\n    push @{ $data-&gt;{_order} }, $key2 unless $data-&gt;{$key2};\n    push @{ $data-&gt;{$key2} }, $n; \n  }\n}\n\nfor my $key ( @order ) {\n\n    print $key, \"\\n\";\n\n    my $data = $data{$key};\n\n    for my $key2 ( @{ $data-&gt;{_order} } ) {\n        printf \"%s[%s]\\n\", $key2, ranges( sort { $a &lt;=&gt; $b } @{ $data-&gt;{$key2} } );\n    }\n\n}\n\nsub ranges {\n\n    my @ranges;\n    my ($start, $end);\n\n    for my $n ( @_ ) {\n        if ( not defined $start ) {\n            $start = $end = $n;\n        }\n        elsif ( $n == $end + 1 ) {\n            $end = $n;\n        }\n        else {\n            push @ranges, $start == $end ? $start : \"$start-$end\";\n            $start = $end = $n;\n        }\n    }\n\n    push @ranges, $start == $end ? $start : \"$start-$end\" if defined $start;\n    join ',', @ranges;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>=IP1\nabc[0-2]\n=IP2\ndef[4,8-9]\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 5184091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155986147735121/picture?type=large", "display_name": "Ravi Raj", "link": "https://stackoverflow.com/users/5184091/ravi-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1438592242, "creation_date": 1438573728, "question_id": 31779141, "link": "https://stackoverflow.com/questions/31779141/perl-scripting-using-hashes", "title": "Perl Scripting | using HASHes", "body": "<p>I have an input file which looks like below</p>\n\n<pre><code> =IP1\nabc[0]\nabc[1]\nabc[2]\n=IP2\ndef[4]\ndef[8]\ndef[9]\n</code></pre>\n\n<p>I need to get the output in the below format - </p>\n\n<pre><code>=IP1\nabc[0-2]\n=IP2\ndef[4,8-9]\n</code></pre>\n\n<p>I have been trying to achieve the above using hashes where I read each line of the file and then split(with'[') each line, I keep the first part as key and  read the file again to keep the values in an array for the hash keys. But I am getting stuck in a loop. Can anyone provide help on how to achieve the above ? </p>\n"}, {"tags": ["c#", "perl", "file-upload", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1438580651, "creation_date": 1438580651, "answer_id": 31780160, "question_id": 31778611, "link": "https://stackoverflow.com/questions/31778611/trouble-uploading-file-to-web-server-in-unity/31780160#31780160", "title": "Trouble uploading file to web server in Unity", "body": "<p>There seems to be a mismatch between the two programs.</p>\n\n<p>Your C++ program is setting CGI parameters called 'frameCount' and 'fileUpload'. But your Perl program is expecting parameters called 'photo' and 'email_address'. I can't see how these two programs can possibly work together.</p>\n\n<p>I can't give any help on your C++ code, but your Perl program is written in a fashion that went out of date fifteen year ago.</p>\n\n<ul>\n<li>Instead of \"-w\" on the shebang line, we now put <code>use warnings</code> in our code.</li>\n<li><code>new CGI</code> is a syntax that should largely be avoided (as \"new\" is not a keyword in Perl - it's just a method name). <code>CGI-&gt;new</code> is safer.</li>\n<li><p>You should use the three-argument form of <code>open()</code> along with lexical filehandles.</p>\n\n<p>open ( my $upload_fh, '>', \"$upload_dir/$filename\" )\n  or die \"Can't open $upload_dir/$filename: $!\";</p></li>\n</ul>\n"}], "owner": {"reputation": 1160, "user_id": 2037258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ceaa395c54337c7821f06ce1b7622644?s=128&d=identicon&r=PG", "display_name": "greyBow", "link": "https://stackoverflow.com/users/2037258/greybow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 728, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438580651, "creation_date": 1438568877, "question_id": 31778611, "link": "https://stackoverflow.com/questions/31778611/trouble-uploading-file-to-web-server-in-unity", "title": "Trouble uploading file to web server in Unity", "body": "<p>I'm having trouble getting my files to upload in Unity. I've written a class that saves a screenshot to my local disk and then uploads it to my server through a cgi script. I'm not getting errors but when I check the uploads folder on my web server the file is not there. What am I getting wrong here?</p>\n\n<p>Unity C#</p>\n\n<pre><code>// Saves screenshot as JPG file.\nusing UnityEngine;\nusing System.Collections;\nusing System.IO;\n\npublic class CreateJPG : MonoBehaviour\n{   \n    public int startX = 0;\n    public int endX = 1050;\n    public int startY = 0;\n    public int endY = 700;\n\n    public string screenShotURL= \"http://locomoku.com/projects/samnoble/strangecreatures/cgi-bin/upload.cgi\";\n\n    string fileName;\n    string filePath;\n    // Texture2D tex;\n\n    public void GrabJPG () {\n        StartCoroutine(SaveJPG());\n    }\n\n    IEnumerator SaveJPG()\n    {   \n        // We should only read the screen buffer after rendering is complete\n        yield return new WaitForEndOfFrame();\n\n        // Create a texture the size of the screen, RGB24 format\n        Texture2D tex = new Texture2D(endX, endY, TextureFormat.RGB24, false);\n        tex.ReadPixels(new Rect(startX,startY,endX,endY),0,0);\n        tex.Apply();\n\n        // Encode texture into JPG\n        byte[] bytes = tex.EncodeToJPG(50);\n        Object.Destroy(tex);\n\n        // Get filePrefix from GameSetup array index\n        GameObject init = GameObject.FindGameObjectWithTag(\"Initializer\");\n        GameSetup gameSetup = init.GetComponent&lt;GameSetup&gt;();\n        string prefix = gameSetup.filePrefix;\n        string subDir = gameSetup.subDir;\n\n        string dtString = System.DateTime.Now.ToString(\"MM-dd-yyyy_HHmmssfff\");\n        fileName = prefix+dtString+\".jpg\";\n        filePath = @\"/Users/kenmarold/Screenshots/\"+subDir+\"/\";\n\n        // If screenshot is &gt; 0 x 0 write bytes\n        if(endX &gt; 0 &amp;&amp; endY &gt; 0)\n        {\n            File.WriteAllBytes(filePath+fileName, bytes);\n            Debug.Log(\"Your file was saved at \" + filePath+fileName);\n        }\n\n        // Create a Web Form\n        WWWForm form = new WWWForm();\n        form.AddField(\"frameCount\", Time.frameCount.ToString());\n        form.AddBinaryData(\"fileUpload\", bytes, fileName, \"image/jpg\");\n\n        // Upload to a cgi script\n        WWW w = new WWW(screenShotURL, form);\n        yield return w;\n        if (!string.IsNullOrEmpty(w.error)) {\n            print(w.error);\n        }\n        else {\n            print(\"Finished Uploading \" + fileName);\n        }\n    }\n}\n</code></pre>\n\n<p>CGI Script</p>\n\n<pre><code>#!/usr/bin/perl -wT\n\nuse strict;\nuse CGI;\nuse CGI::Carp qw ( fatalsToBrowser );\nuse File::Basename;\n$CGI::POST_MAX = 1024 * 5000;\n\nmy $safe_filename_characters = \"a-zA-Z0-9_.-\";\nmy $upload_dir = \"/home/locomoku/public_html/projects/samnoble/strangecreatures/uploads\";\nmy $query = new CGI;\nmy $filename = $query-&gt;param(\"photo\");\nmy $email_address = $query-&gt;param(\"email_address\");\n\nif ( !$filename )\n    {\n        print $query-&gt;header ( );\n        print \"There was a problem uploading your photo (try a smaller file).\";\n        exit;\n    }\n\nmy ($name, $path) = fileparse($filename);\n$filename = $name;\n$filename =~ tr/ /_/;\n$filename =~ s/[^$safe_filename_characters]//g;\n\nif ( $filename =~ /^([$safe_filename_characters]+)$/ )\n    {\n        $filename = $1;\n    }\n    else\n    {\n        die \"Filename contains invalid characters\";\n    }\n\nmy $upload_filehandle = $query-&gt;upload(\"photo\");\nopen ( UPLOADFILE, \"&gt;$upload_dir/$filename\" ) or die \"Can't open $upload_dir/$filename: $!\";\nbinmode UPLOADFILE;\n\nwhile ( &lt;$upload_filehandle&gt; )\n    {\n        print UPLOADFILE;\n    }\n\nclose UPLOADFILE;\nprint $query-&gt;header ( );\n</code></pre>\n"}, {"tags": ["perl", "longest-prefix"], "comments": [{"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 3, "creation_date": 1438567963, "post_id": 31778486, "comment_id": 51487058, "body": "If you only have 5000 words in your list, I wouldn&#39;t worry too much about efficiency.  Any reasonable approach will find the match in a tiny fraction of a second.   You can find a list of options <a href=\"http://www.perlmonks.org/?node_id=305753\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1438585750, "post_id": 31778606, "comment_id": 51492066, "body": "isnt the &lt;=&gt; operator used for sorting numbers? in my case I may also have chars in my list like 1#55 etc."}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 1, "creation_date": 1438587050, "post_id": 31778606, "comment_id": 51492766, "body": "That&#39;s because it&#39;s comparing the length of the match, not the match itself."}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 3, "last_activity_date": 1438568829, "creation_date": 1438568829, "answer_id": 31778606, "question_id": 31778486, "link": "https://stackoverflow.com/questions/31778486/perl-best-way-to-do-longest-prefix-match-string/31778606#31778606", "title": "Perl: best way to do longest prefix match (string)", "body": "<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @prefixes = qw(\n    1\n    121\n    12234\n    20345\n    21345\n);\n\nmy $num = '12134';\n\nmy ($longest) = sort { length $b &lt;=&gt; length $a } grep { 0 == index $num, $_ } @prefixes;\n\nprint \"$longest\\n\";\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>121\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438569933, "post_id": 31778681, "comment_id": 51487401, "body": "This may slow down <a href=\"http://stackoverflow.com/q/29217346/176646\">somewhere around 6,553 prefixes</a> but should be fine for the OP&#39;s ~5,000."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1438577097, "last_edit_date": 1438577097, "creation_date": 1438569468, "answer_id": 31778681, "question_id": 31778486, "link": "https://stackoverflow.com/questions/31778486/perl-best-way-to-do-longest-prefix-match-string/31778681#31778681", "title": "Perl: best way to do longest prefix match (string)", "body": "<p>You can get the regex engine to do this for you. It should be very fast</p>\n\n<p>I hope it's obvious that the regex pattern needs to be built only once, and can then be used to find the longest prefix for any number of target strings</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy @prefixes = qw/\n    1\n    121\n    12234\n    20345\n    21345\n/;\n\nmy $target = 12134;\n\nmy $re = join '|', sort { length $b &lt;=&gt; length $a } @prefixes;\n$re = qr/(?:$re)/;\n\nsay $1 if $target =~ /^($re)/;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>121\n</code></pre>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Alternatively, the <code>Tree::Trie</code> module can be used to implement the trie search that the regex engine provides like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Tree::Trie;\n\nmy @prefixes = qw/\n    1\n    121\n    12234\n    20345\n    21345\n/;\n\nmy $target = 12134;\n\nmy $trie = Tree::Trie-&gt;new({ deepsearch =&gt; 'prefix' });\n$trie-&gt;add(@prefixes);\n\nsay scalar $trie-&gt;lookup($target);\n</code></pre>\n\n<p>The output, of course, is the same as that of the previous code</p>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 979, "favorite_count": 0, "accepted_answer_id": 31778606, "answer_count": 2, "score": 2, "last_activity_date": 1438577097, "creation_date": 1438567640, "question_id": 31778486, "link": "https://stackoverflow.com/questions/31778486/perl-best-way-to-do-longest-prefix-match-string", "title": "Perl: best way to do longest prefix match (string)", "body": "<p>I have a list of around 5000 words. I want to find the longest prefix match among those words for a given word. For example, in my list I have :</p>\n\n<pre><code>1\n121\n12234\n20345\n21345\n</code></pre>\n\n<p>Now If I search for 12134 the result will be 121 (longest match). I know it can be done in different ways. But, what should be the most efficient way ?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1438545820, "post_id": 31776027, "comment_id": 51482180, "body": "Please show your data"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438551694, "post_id": 31776027, "comment_id": 51483792, "body": "According to <a href=\"https://en.wikipedia.org/wiki/FASTA_format\" rel=\"nofollow noreferrer\">wikipedia</a> the <code>&quot;&gt;&quot;</code> should be the first symbol on the line.. this information is missing in your question."}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "edited": false, "score": 1, "creation_date": 1438571119, "post_id": 31776027, "comment_id": 51487624, "body": "Future reference: whenever you&#39;re stuck with a regular expression use a tool that highlights and explains parts of what the expressions are doing like regex buddy or <a href=\"http://www.regexplanet.com/advanced/perl/index.html\" rel=\"nofollow noreferrer\">regexplanet.com/advanced/perl/index.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 3, "last_activity_date": 1438545978, "creation_date": 1438545978, "answer_id": 31776087, "question_id": 31776027, "link": "https://stackoverflow.com/questions/31776027/how-do-i-extract-text-in-between-only-the-first-two-occurances-of-a-string/31776087#31776087", "title": "How do I extract text in between only the first two occurances of a string?", "body": "<p>Seems easy enough: <code>/&gt;([^&gt;]*)&gt;/</code></p>\n\n<p>Explanation:</p>\n\n<p>A regex always finds the first (leftmost) match, so the first <code>&gt;</code> is easy. \"Find all text up to the next <code>&gt;</code>\" is equivalent to \"find all following non-<code>&gt;</code> characters\", which is where we get <code>[^&gt;]*</code> from.</p>\n\n<p>The parens <code>( )</code> serve to capture the matched text in <code>$1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 1630337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28dacf6024a164e98131bf58fd67b5a3?s=128&d=identicon&r=PG", "display_name": "justnoxx", "link": "https://stackoverflow.com/users/1630337/justnoxx"}, "is_accepted": false, "score": 3, "last_activity_date": 1438551017, "last_edit_date": 1438551017, "creation_date": 1438549421, "answer_id": 31776571, "question_id": 31776027, "link": "https://stackoverflow.com/questions/31776027/how-do-i-extract-text-in-between-only-the-first-two-occurances-of-a-string/31776571#31776571", "title": "How do I extract text in between only the first two occurances of a string?", "body": "<p>By default, regular expressions are greedy, it means that regexp will try to match as many text as possible. To avoid this you can specify symbols which shouldn't be present between > and >, as it was proposed:</p>\n\n<pre><code>&gt;([^&gt;]*)&gt;/\n</code></pre>\n\n<p>Or you can just switch regexp engine to lazy mode by adding ? to quantifier:</p>\n\n<pre><code>&gt;(.*?)&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&gt;(.+?)&gt;\n</code></pre>\n\n<p>Regexp is simpler, result is same.</p>\n\n<p>So:</p>\n\n<pre><code>if ($content =~ m/&gt;(.*?)&gt;/gs) {\n    print \"Captured: $1\"\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5183065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3469273c15266673bdd3d551ef6990?s=128&d=identicon&r=PG&f=1", "display_name": "user5183065", "link": "https://stackoverflow.com/users/5183065/user5183065"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438570818, "creation_date": 1438545591, "last_edit_date": 1438570818, "question_id": 31776027, "link": "https://stackoverflow.com/questions/31776027/how-do-i-extract-text-in-between-only-the-first-two-occurances-of-a-string", "title": "How do I extract text in between only the first two occurances of a string?", "body": "<p>I am pretty new to computer programming and am trying to write a script that takes all of the text in between the first and second <code>&gt;</code> symbol in a large fasta file and outputs it into a different file. The question that I really need answered is if there is a regex command that allows me to only take the text located in between the first and the second <code>&gt;</code> symbols in the file. </p>\n\n<p>I have found a lot online about taking text in between two strings, but I haven't find anything anywhere on taking text between only the first and second occurrences of those strings when they appear multiple times in a file.  I am running perl version 5.010.</p>\n"}, {"tags": ["perl", "reference", "scalar"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1438545532, "post_id": 31775977, "comment_id": 51482101, "body": "See also, <code>$$$a</code>, <code>$$$$a</code>, <code>$$$$$a</code>, etc."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 7, "last_activity_date": 1438562966, "last_edit_date": 1438562966, "creation_date": 1438545645, "answer_id": 31776036, "question_id": 31775977, "link": "https://stackoverflow.com/questions/31775977/cant-dereference-scalar-in-perl/31776036#31776036", "title": "Can&#39;t dereference scalar in Perl", "body": "<p>Erm, because <code>$a</code> doesn't contain 0 any more, but instead a reference to itself. You overwrote it in the second line!</p>\n\n<p>If you want to set <code>$a</code> to a reference to <code>$a</code>'s <em>original value</em> then you can write</p>\n\n<pre><code>$a = \\\"$a\"\n</code></pre>\n\n<p>which works by using an <em>expression</em> that happens to evaluate to the value of <code>$a</code>, and taking a reference to that. This will fail if <code>$a</code> starts out as something other than a simple string or number, such as a reference or any value which changes when it is stringified. Then you could write an identity function such as</p>\n\n<pre><code>sub i { shift }\n</code></pre>\n\n<p>and use</p>\n\n<pre><code>$a = \\i($a)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1438550061, "creation_date": 1438550061, "answer_id": 31776669, "question_id": 31775977, "link": "https://stackoverflow.com/questions/31775977/cant-dereference-scalar-in-perl/31776669#31776669", "title": "Can&#39;t dereference scalar in Perl", "body": "<p>Your last assignment makes <code>$a</code> to reference to itself, so dereferencing it makes sense as chasing own tail in circular manner,</p>\n\n<pre><code>use warnings;\nuse Data::Dumper;\n\n$a = 0;\n$a = \\$a;\n\nprint Dumper $a;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>$VAR1 = \\$VAR1;\n</code></pre>\n\n<p>You might want to make reference to a list of values which does what you want,</p>\n\n<pre><code>($a) = \\map { $_ } $a;\n\nprint Dumper $a;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>$VAR1 = \\0;\n</code></pre>\n"}], "owner": {"reputation": 768, "user_id": 4623259, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sNAyd.png?s=128&g=1", "display_name": "iPherian", "link": "https://stackoverflow.com/users/4623259/ipherian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 31776036, "answer_count": 2, "score": 2, "last_activity_date": 1438562966, "creation_date": 1438545303, "question_id": 31775977, "link": "https://stackoverflow.com/questions/31775977/cant-dereference-scalar-in-perl", "title": "Can&#39;t dereference scalar in Perl", "body": "<p>Can anyone tell me why this prints <code>REF(*)</code> instead of <code>0</code>?</p>\n\n<pre><code>$a = 0;\n$a = \\$a;\nprint $$a . \"\\n\";\n</code></pre>\n"}, {"tags": ["image", "perl"], "comments": [{"owner": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "edited": false, "score": 2, "creation_date": 1438543006, "post_id": 31775072, "comment_id": 51481429, "body": "By &quot;not want[ing] to install any extra modules, or packages, or do anything like that.&quot; you are essentially making this impossible."}, {"owner": {"reputation": 105, "user_id": 4612801, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153183693657193/picture?type=large", "display_name": "Jarett Lloyd", "link": "https://stackoverflow.com/users/4612801/jarett-lloyd"}, "reply_to_user": {"reputation": 1901, "user_id": 2002471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222d816f24fcb2d01e92937b6af01d34?s=128&d=identicon&r=PG", "display_name": "chicks", "link": "https://stackoverflow.com/users/2002471/chicks"}, "edited": false, "score": 0, "creation_date": 1439174070, "post_id": 31775072, "comment_id": 51735427, "body": "ok  is GD not pure perl, then?  I don&#39;t have a clue about it&#39;s internals.  i just use it."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 4612801, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153183693657193/picture?type=large", "display_name": "Jarett Lloyd", "link": "https://stackoverflow.com/users/4612801/jarett-lloyd"}, "edited": false, "score": 0, "creation_date": 1441108255, "post_id": 31775239, "comment_id": 52535761, "body": "I wasn&#39;t looking for easy.  GD does it....I asked cuz the free host I use doesn&#39;t have and won&#39;t install packages...."}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 105, "user_id": 4612801, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153183693657193/picture?type=large", "display_name": "Jarett Lloyd", "link": "https://stackoverflow.com/users/4612801/jarett-lloyd"}, "edited": false, "score": 1, "creation_date": 1441151016, "post_id": 31775239, "comment_id": 52559471, "body": "Free hosting is\u2026 well, you get what you pay for. Perl is particularly useless if you can&#39;t install modules; get a real web host."}, {"owner": {"reputation": 105, "user_id": 4612801, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153183693657193/picture?type=large", "display_name": "Jarett Lloyd", "link": "https://stackoverflow.com/users/4612801/jarett-lloyd"}, "edited": false, "score": 0, "creation_date": 1441196441, "post_id": 31775239, "comment_id": 52578890, "body": "lol.  i have.  my home windows box, for now.  not accessible to the outside world, yet."}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 3, "last_activity_date": 1438540631, "last_edit_date": 1438540631, "creation_date": 1438540323, "answer_id": 31775239, "question_id": 31775072, "link": "https://stackoverflow.com/questions/31775072/resize-an-image-using-custom-process/31775239#31775239", "title": "resize an image using custom process", "body": "<p>This function does not manipulate image content, and cannot easily be converted to do so. Resizing an image is much more complicated than this.</p>\n\n<p>Since you've specifically requested that we not recommend additional modules, I have nothing to offer. Resizing an image in pure Perl code would be prohibitively slow, and would require far more code than I could possibly include in an answer. If you want to perform manipulations on image content, such as resizing images, use an image manipulation module such as <a href=\"https://metacpan.org/pod/GD\" rel=\"nofollow\">GD</a> or <a href=\"https://metacpan.org/pod/Image::Magick\" rel=\"nofollow\">Image::Magick</a>.</p>\n"}], "owner": {"reputation": 105, "user_id": 4612801, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153183693657193/picture?type=large", "display_name": "Jarett Lloyd", "link": "https://stackoverflow.com/users/4612801/jarett-lloyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 31775239, "answer_count": 1, "score": -1, "last_activity_date": 1438540631, "creation_date": 1438539429, "question_id": 31775072, "link": "https://stackoverflow.com/questions/31775072/resize-an-image-using-custom-process", "title": "resize an image using custom process", "body": "<p>I have created a little subroutine and want to know what needs to be added to it in order to resize an image of pretty much any type (obscure types excluded):</p>\n\n<pre><code>######################\nsub printImage($) {\n  # be sure to do your error checking BEFORE calling this. it'll just\n  # blindly rip along.\n  my $fn = $_[0];\n  my $type = getType($fn); # see sub below\n  my $buffer = \"\";\n\n  print \"content-type: image/$type\\n\"; # these are awful, but ok for now\n  print \"\\n\"; # separate just in case we want to add more to the header.\n\n  binmode STDOUT;\n\n  open my $FH, \"&lt;\", $fn or die \"$!\";\n  while (read ($FH, $buffer, 10240)) {\n    print $buffer; # prefer NOT to print as I read...\n  }\n  close $FH;\n\n  # return $OUTPUT; # this would be better, no?\n}\n</code></pre>\n\n<p>the \"getType\" simply looks at the filename extension, and returns the extension.</p>\n\n<p>what i want to know is how to resize the image using the above function.  i do not want to install any extra modules, or packages, or do anything like that.</p>\n"}, {"tags": ["perl", "module", "bioperl"], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1438615379, "post_id": 31775370, "comment_id": 51510141, "body": "Thanks, you&#39;re right. I&#39;ve updated my answer to reflect this."}, {"owner": {"reputation": 67, "user_id": 4515574, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/18766c10f3f4f8872f47c1769004b522?s=128&d=identicon&r=PG&f=1", "display_name": "eugheugh", "link": "https://stackoverflow.com/users/4515574/eugheugh"}, "edited": false, "score": 0, "creation_date": 1439382652, "post_id": 31775370, "comment_id": 51837513, "body": "Thank you! I just have a question. Would this be the correct format?: sudo module-starter --module=Bio::DB::CCDS \\ --dir=/usr/share/perl5/Bio/DB/    It says --dir is unparseable"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1440531511, "post_id": 31775370, "comment_id": 52309049, "body": "Just leave the optional <code>dir</code> param blank. Except for non-standard installs (which I&#39;m almost certain you don&#39;t want), setting <code>--module</code> takes care of everything by default."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1440531565, "post_id": 31775370, "comment_id": 52309080, "body": "To further, for a basic case, I just set <code>--author</code>, <code>--email</code>, <code>--license</code> and <code>--module</code>"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1438615354, "last_edit_date": 1438615354, "creation_date": 1438541267, "answer_id": 31775370, "question_id": 31774832, "link": "https://stackoverflow.com/questions/31774832/how-do-i-convert-a-perl-program-into-an-installable-module/31775370#31775370", "title": "How do I convert a perl program into an installable module?", "body": "<p>For module naming conventions and other information (whether you're writing it for CPAN or not), start with <a href=\"http://perldoc.perl.org/perlnewmod.html\" rel=\"nofollow\"><code>perlnewmod</code></a>. To make an actual module, first install <a href=\"http://search.cpan.org/~xsawyerx/Module-Starter-1.71/lib/Module/Starter.pm\" rel=\"nofollow\"><code>Module::Starter</code></a> and use <a href=\"http://search.cpan.org/~xsawyerx/Module-Starter-1.71/bin/module-starter\" rel=\"nofollow\"><code>module-starter</code></a> command line utility to create your skeleton.</p>\n"}], "owner": {"reputation": 67, "user_id": 4515574, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/18766c10f3f4f8872f47c1769004b522?s=128&d=identicon&r=PG&f=1", "display_name": "eugheugh", "link": "https://stackoverflow.com/users/4515574/eugheugh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438615354, "creation_date": 1438538026, "question_id": 31774832, "link": "https://stackoverflow.com/questions/31774832/how-do-i-convert-a-perl-program-into-an-installable-module", "title": "How do I convert a perl program into an installable module?", "body": "<p>I have a perl program that I want to convert into a bioperl module. How do I do that? Is there an up-to date tutorial? That's really all I need.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["regex", "windows", "perl"], "answers": [{"comments": [{"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438536729, "post_id": 31774597, "comment_id": 51479482, "body": "how could I tell it to apply the replace on all the files in a specific directory?"}, {"owner": {"reputation": 10469, "user_id": 519360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f90aeb577f276cbaee4db1b7bdf622a?s=128&d=identicon&r=PG", "display_name": "Adam Katz", "link": "https://stackoverflow.com/users/519360/adam-katz"}, "reply_to_user": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438536853, "post_id": 31774597, "comment_id": 51479522, "body": "<code>perl myreplacers.pl *</code> will do that for all files in a specific directory, unless the directory is really really big, in which case use <code>find . -maxdepth 1 -print0 |xargs -0 perl myreplacers.pl</code>"}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438537903, "post_id": 31774597, "comment_id": 51479870, "body": "I&#39;ve run the command line <code>perl myreplacers.pl &quot;My\\Files\\Directory\\&quot;*.txt</code> The result is <code>Can&#39;t open My\\Files\\Directory\\&quot;*.txt: Invalid argument at myreplacers.pl line 5.</code>"}, {"owner": {"reputation": 10469, "user_id": 519360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f90aeb577f276cbaee4db1b7bdf622a?s=128&d=identicon&r=PG", "display_name": "Adam Katz", "link": "https://stackoverflow.com/users/519360/adam-katz"}, "reply_to_user": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438566372, "post_id": 31774597, "comment_id": 51486807, "body": "Oh, Windows. Sorry about that. It&#39;d be easiest to skip the directory; change directories first (<code>cd &quot;My\\Files\\Directory&quot;</code>) and then run <code>perl myreplacers.pl *.txt</code>"}], "tags": [], "owner": {"reputation": 10469, "user_id": 519360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f90aeb577f276cbaee4db1b7bdf622a?s=128&d=identicon&r=PG", "display_name": "Adam Katz", "link": "https://stackoverflow.com/users/519360/adam-katz"}, "is_accepted": false, "score": 1, "last_activity_date": 1438536623, "creation_date": 1438536623, "answer_id": 31774597, "question_id": 31774499, "link": "https://stackoverflow.com/questions/31774499/apply-multiple-find-and-replace-regex-queries-on-multiple-txt-files-using-a-per/31774597#31774597", "title": "Apply multiple find and replace regex queries on multiple .txt files using a Perl code", "body": "<p>Here is a basic <code>perl</code> program (perhaps name it <code>myreplacers.pl</code>) that can do that:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nwhile(&lt;&gt;) {\n  s/regex1/replace1/;\n  s/regex2/replace2/;\n  print;\n}\n</code></pre>\n\n<p>Alter this with appropriate regular expressions and replacement texts and run it like <code>perl myreplacers.pl file1 file2</code> etc.</p>\n"}, {"comments": [{"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438538166, "post_id": 31774619, "comment_id": 51479950, "body": "Yes, this is what I&#39;m trying to do. I&#39;m trying to apply multiple find and replace queries for all the files in a specific directory using perl. I&#39;ve tried this command line <code>perl -i -pe&quot;s&#47;a&#47;b&#47;g; s&#47;c&#47;d&#47;g; s&#47;e&#47;f&#47;g; &quot; &quot;My\\Files\\Directory\\&quot;*.txt</code> and the result was <code>Can&#39;t open My\\Files\\Directory\\&quot;*.txt: Invalid argument.</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438542823, "post_id": 31774619, "comment_id": 51481375, "body": "@omareg94: Okay you&#39;re on WIndows. It always helps to add a Windows tag to your question if that&#39;s the case. I&#39;ve changed my solution to show you a command line solution that will work, as well as a hybrid that lets you put all the substitutions into a source file"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438542894, "post_id": 31774619, "comment_id": 51481401, "body": "@omareg94:  By the way, don&#39;t change the forward slashes for backward ones -- even on Windows"}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438545477, "post_id": 31774619, "comment_id": 51482086, "body": "It runs well now. Just a remaining issue. How could I mention folders that&#39;re having a space in their names? for example <code>E:\\My\\Folder 1\\Folder 2</code>. When I add the double quotes it gives error."}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438547966, "post_id": 31774619, "comment_id": 51482752, "body": "I&#39;ve reached the solution for the containing space directory thanks to <a href=\"http://stackoverflow.com/questions/4285989/in-perl-how-to-handle-filenames-with-spaces\">Ed Guiness</a>. Now the script works as charm using this syntax <code>perl -i.bak -p changes.pl &quot;\\&quot;E:&#47;My&#47;Folder 1&#47;Folder 2&#47;\\&quot;&quot;*.txt</code>"}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438548036, "post_id": 31774619, "comment_id": 51482770, "body": "A last question. How could I apply changes to the files without creating backup files?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438556179, "post_id": 31774619, "comment_id": 51484988, "body": "@omareg94: It&#39;s much neater to add the double quotes in <code>changes.pl</code>. I&#39;ve modified my answer to show how. The command line becomes just <code>perl -i.bak -p changes.pl &quot;E:&#47;My&#47;Folder 1&#47;Folder 2&#47;*.txt&quot;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1438556652, "post_id": 31774619, "comment_id": 51485102, "body": "@omareg94: You can&#39;t use the <code>-i</code> (edit in-place) option on Windows without a parameter, which would be the right way to avoid making a backup. What you could do is to put all the backups in a subdirectory (by something like <code>-i&quot;save&#47;*&quot;</code>) so that it&#39;s simple to delete them. Or it could be done by programming instead of using the command-line option. But your problem has grown substantially since your original question, and what was originally a good approach us no longer relevant. I suggest you ask a new question about this"}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1441790297, "post_id": 31774619, "comment_id": 52811968, "body": "Please take a look at this <a href=\"http://stackoverflow.com/questions/32469663/save-backup-files-to-custom-directory-in-perl-edit-in-place\">question</a> as <code>-i&quot;save&#47;*&quot;</code> doesn&#39;t work for me."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1438555913, "last_edit_date": 1592644375, "creation_date": 1438536734, "answer_id": 31774619, "question_id": 31774499, "link": "https://stackoverflow.com/questions/31774499/apply-multiple-find-and-replace-regex-queries-on-multiple-txt-files-using-a-per/31774619#31774619", "title": "Apply multiple find and replace regex queries on multiple .txt files using a Perl code", "body": "<p>Your question isn't very descriptive. Does this do what you want?</p>\n<p><em><strong>Edited to work on Windows</strong></em></p>\n<pre><code>perl -i.bak -pe&quot;BEGIN {@ARGV = map glob, @ARGV} s/a/b/g; s/c/d/g; s/e/f/g; &quot; My/Files/Directory/*.txt\n</code></pre>\n<hr />\n<h3>Update</h3>\n<p>Unless you have only a few changes to make it is probably best if you put the substitution commands in a file, like this</p>\n<h3>changes.pl</h3>\n<pre><code>BEGIN {\n    @ARGV = map glob(&quot;\\&quot;$_\\&quot;&quot;), @ARGV;\n}\n\ns/a/b/g;\ns/c/d/g;\ns/e/f/g;\n</code></pre>\n<p>Then you can run it on a set of files on the command line like this</p>\n<pre><code>perl -i.bak -p changes.pl My/Files/Directory/*.txt\n</code></pre>\n"}], "owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 31774619, "answer_count": 2, "score": -1, "last_activity_date": 1441761405, "creation_date": 1438536070, "last_edit_date": 1441761405, "question_id": 31774499, "link": "https://stackoverflow.com/questions/31774499/apply-multiple-find-and-replace-regex-queries-on-multiple-txt-files-using-a-per", "title": "Apply multiple find and replace regex queries on multiple .txt files using a Perl code", "body": "<p>I'm trying to find a Perl on Windows code that enables me to apply multiple find and replace regex queries on multiple files in a specific directory. I'm able to apply multiple find and replace regex queries using many text editors (for example UltraEdit).</p>\n"}, {"tags": ["macos", "image", "perl"], "comments": [{"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "edited": false, "score": 0, "creation_date": 1438478254, "post_id": 31767709, "comment_id": 51467138, "body": "Not really a programming question.   You probably want to ask over at <a href=\"http://unix.stackexchange.com/\">unix.stackexchange.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 70, "user_id": 5179278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eaa79d2376e912af40600ef641873f0?s=128&d=identicon&r=PG&f=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/5179278/felipe"}, "is_accepted": false, "score": -2, "last_activity_date": 1438479671, "creation_date": 1438479671, "answer_id": 31767850, "question_id": 31767709, "link": "https://stackoverflow.com/questions/31767709/how-to-preview-all-images-in-a-directory-in-a-single-browser-window/31767850#31767850", "title": "How to preview all images in a directory in a single browser window?", "body": "<p>This is quite easy, you can program something like this in a couple of minutes.\nJust create an array of all the images in ./ create a var s = '' and appen for each img in ./ '><br />' and send it to the webbrowser the server->google is your friend</p>\n"}, {"tags": [], "owner": {"reputation": 3865, "user_id": 1618304, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/nCvjE.png?s=128&g=1", "display_name": "Rowe Morehouse", "link": "https://stackoverflow.com/users/1618304/rowe-morehouse"}, "is_accepted": true, "score": 0, "last_activity_date": 1590268294, "creation_date": 1590268294, "answer_id": 61978630, "question_id": 31767709, "link": "https://stackoverflow.com/questions/31767709/how-to-preview-all-images-in-a-directory-in-a-single-browser-window/61978630#61978630", "title": "How to preview all images in a directory in a single browser window?", "body": "<p>I found a perl CGI script to do this:</p>\n\n<pre><code>#!/usr/bin/perl -wT\n# myscript.pl\n\nuse strict;\nuse CGI;\nuse Image::Size;\n\nmy $q = new CGI;\n\nmy $imageDir = \"./\";\nmy @images;\n\nopendir DIR, \"$imageDir\" or die \"Can't open $imageDir $!\";\n    @images = grep { /\\.(?:png|gif|jpg)$/i } readdir DIR;\n    # @images = grep { /\\.(?:png|gif|jpg|webm|web|mp4|svg)$/i } readdir DIR;)\nclosedir DIR;\n\nprint $q-&gt;header(\"text/html\"),\n      $q-&gt;start_html(\"Images in the directory you specified.\"),\n      $q-&gt;h1(\"Images in the directory your specified.\");\n\nforeach my $image (@images) {\n    my ($width, $height) = imgsize(\"$image\");\n\n      print   $q-&gt;a({-href=&gt;$image},\n              $q-&gt;img({-src=&gt;$image,\n                  -width=&gt;$width,\n                  -height=&gt;$height})\n\n\n    );\n}\n\nprint $q-&gt;end_html;\n</code></pre>\n\n<p>to run on MacOS you'll need to install these modules like this:</p>\n\n<p><code>cpan CGI</code></p>\n\n<p><code>cpan Image::Size</code></p>\n\n<p>Put the sript in the directory that contains the images you want to preview.</p>\n\n<p>\u2026then say <code>perl -wT myscript.pl &gt; output.html</code></p>\n\n<p>Open the generated <code>output.html</code> to see all the images in a single browser window at their natural dimensions. </p>\n\n<p>Related to this question and answer: <a href=\"https://stackoverflow.com/questions/61927403/how-to-run-this-simple-perl-cgi-script-on-mac-from-terminal\">How to run this simple Perl CGI script on Mac from terminal?</a></p>\n"}], "owner": {"reputation": 3865, "user_id": 1618304, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/nCvjE.png?s=128&g=1", "display_name": "Rowe Morehouse", "link": "https://stackoverflow.com/users/1618304/rowe-morehouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 61978630, "answer_count": 2, "score": 0, "last_activity_date": 1590268421, "creation_date": 1438477571, "last_edit_date": 1590268421, "question_id": 31767709, "link": "https://stackoverflow.com/questions/31767709/how-to-preview-all-images-in-a-directory-in-a-single-browser-window", "title": "How to preview all images in a directory in a single browser window?", "body": "<p>What's a good command from term to render all images in a dir into one browser window?</p>\n\n<p>Looking for something like this:</p>\n\n<p><code>python -m SimpleHTTPServer 8080</code></p>\n\n<p>But instead of a list ...</p>\n\n<p>... Would like to see <strong>all the images rendered in a single browser window</strong>, just flowed naturally, at natural dimensions, just scroll down for how many images there are to see them all in their natural rendered state.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1438519801, "post_id": 31766938, "comment_id": 51474745, "body": "If the repo configs are separated with a blank line, you can use paragraph mode to good effect <code>-00</code>. E.g. <code>perl -00 -pi -e&quot;next unless &#47;\\Q[repo-first]&#47;; s&#47;^enabled=\\K0&#47;1&#47;m;&quot; file</code>. Though I have to say that Borodin&#39;s answer will work much better."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1438519900, "post_id": 31766938, "comment_id": 51474770, "body": "Also <code>-0777</code> and <code>BEGIN { undef $&#47; }</code> are mutually exclusive, as they do the same thing."}], "answers": [{"comments": [{"owner": {"reputation": 1467, "user_id": 1005866, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2efb2cc52b0c41088f7ff2c9b590d72?s=128&d=identicon&r=PG", "display_name": "Jimmy Zoto", "link": "https://stackoverflow.com/users/1005866/jimmy-zoto"}, "edited": false, "score": 0, "creation_date": 1438487939, "post_id": 31767349, "comment_id": 51468394, "body": "That&#39;s easy, but this is for a system setup script in a hosted environment, so, unfortunately, it has to be command line."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1467, "user_id": 1005866, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2efb2cc52b0c41088f7ff2c9b590d72?s=128&d=identicon&r=PG", "display_name": "Jimmy Zoto", "link": "https://stackoverflow.com/users/1005866/jimmy-zoto"}, "edited": false, "score": 2, "creation_date": 1438496756, "post_id": 31767349, "comment_id": 51469756, "body": "@JimmyZoto <code>perl &#47;path&#47;to&#47;script</code> (even in a shared hosting environment you can write to files, can&#39;t you?) If that doesn&#39;t work, <code>perl -MConfig::Tiny -we&#39;my $conf = Config::Tiny-&gt;read(&#39;repo-def-file&#39;); $conf-&gt;{&#39;repo-first&#39;}{enabled} = 1; $conf-&gt;write(&#39;repo-def-file&#39;);</code> Alternatively, store the argument to <code>-e</code> in a heredoc in the setup script."}, {"owner": {"reputation": 1467, "user_id": 1005866, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2efb2cc52b0c41088f7ff2c9b590d72?s=128&d=identicon&r=PG", "display_name": "Jimmy Zoto", "link": "https://stackoverflow.com/users/1005866/jimmy-zoto"}, "edited": false, "score": 0, "creation_date": 1438544050, "post_id": 31767349, "comment_id": 51481725, "body": "Probably. But it requires a dependency (which my distro, barebones CentOS, doesn&#39;t have by default) and it&#39;s actually longer on the command line by quite a bit. In code, using Tiny is <i>much</i> more readable, but for this particular case, I think the regex is preferable."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1438480179, "last_edit_date": 1438480179, "creation_date": 1438473586, "answer_id": 31767349, "question_id": 31766938, "link": "https://stackoverflow.com/questions/31766938/perl-multiline-regex-replace-from-cli/31767349#31767349", "title": "Perl multiline regex replace from CLI", "body": "<p>It would be much more convenient to use a module, such as <a href=\"https://metacpan.org/pod/Config::Tiny\" rel=\"nofollow\"><code>Config::Tiny</code></a></p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Config::Tiny;\n\nmy $conf = Config::Tiny-&gt;read( 'repo-def-file' );\n$conf-&gt;{'repo-first'}{enabled} = 1;\n$conf-&gt;write( 'repo-def-file' );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1438522778, "creation_date": 1438522778, "answer_id": 31772460, "question_id": 31766938, "link": "https://stackoverflow.com/questions/31766938/perl-multiline-regex-replace-from-cli/31772460#31772460", "title": "Perl multiline regex replace from CLI", "body": "<p>As explained, a regex is generally the wrong approach, but it does have the advantage of retaining the order and structure of the file</p>\n\n<p>So if you must, then this will do the job</p>\n\n<pre><code>perl -0777 -i -pe's/\\[repo-first\\][^[]+enabled=\\K\\d+/1/' repo-def-file\n</code></pre>\n"}], "owner": {"reputation": 1467, "user_id": 1005866, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2efb2cc52b0c41088f7ff2c9b590d72?s=128&d=identicon&r=PG", "display_name": "Jimmy Zoto", "link": "https://stackoverflow.com/users/1005866/jimmy-zoto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 31772460, "answer_count": 2, "score": 1, "last_activity_date": 1438522778, "creation_date": 1438469225, "question_id": 31766938, "link": "https://stackoverflow.com/questions/31766938/perl-multiline-regex-replace-from-cli", "title": "Perl multiline regex replace from CLI", "body": "<p>I want to permanently enable a Linux repo from the command line in a file that contains the definitions of multiple repos. So the file looks something like :</p>\n\n<pre><code>[repo-first]\nsome config line\nanother config line\nenabled=0\nmore config lines\n\n[repo-second]\nsome config line\nanother config line\nenabled=0\nmore config lines\n</code></pre>\n\n<p>I want to be able to selectively set 'enable=0' to 'enable=1' based on the repo name.</p>\n\n<p>There seem to be multiple ways of sucking in the file and/or ignoring the line separator including -p0e, -0777, \"BEGIN {undef $}...\". My best guess so far is something like :</p>\n\n<pre><code>perl -0777 -e -pi \"BEGIN { undef $/ } s/(\\[repo\\-first\\]\\n(.*\\n)*?enabled\\=)0/$1\\1/mg\" /etc/yum.repos.d/repo-def-file\n</code></pre>\n\n<p>But naturally, this doesn't work. Ideas?</p>\n"}, {"tags": ["perl", "replace"], "comments": [{"owner": {"reputation": 66400, "user_id": 508666, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GLCqP.png?s=128&g=1", "display_name": "PeeHaa", "link": "https://stackoverflow.com/users/508666/peehaa"}, "edited": false, "score": 3, "creation_date": 1438458143, "post_id": 31765469, "comment_id": 51463033, "body": "And what in specific is preventing you from creating said program?"}, {"owner": {"reputation": 4058, "user_id": 1887118, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a850635ea6017cb2b33c5b3b620119cd?s=128&d=identicon&r=PG", "display_name": "nalyd88", "link": "https://stackoverflow.com/users/1887118/nalyd88"}, "edited": false, "score": 2, "creation_date": 1438458292, "post_id": 31765469, "comment_id": 51463086, "body": "Have you tried anything yet?"}, {"owner": {"reputation": 29, "user_id": 4527924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ff9e72808a8c17e2efe6aa5e2054f8?s=128&d=identicon&r=PG&f=1", "display_name": "help", "link": "https://stackoverflow.com/users/4527924/help"}, "edited": false, "score": 0, "creation_date": 1438458334, "post_id": 31765469, "comment_id": 51463099, "body": "sorry i dont get what you meant"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 3, "creation_date": 1438458369, "post_id": 31765469, "comment_id": 51463104, "body": "They meant you didn&#39;t specify what you have tried, haven&#39;t shown any code, your expected output doesn&#39;t follow a strict and recognizable pattern, haven&#39;t specified the rules you wish to apply in replacing the characters, and haven&#39;t asked a question."}, {"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "edited": false, "score": 0, "creation_date": 1438458409, "post_id": 31765469, "comment_id": 51463119, "body": "You should post what you have tried so far, but you might want to look at Perl&#39;s <code>tr</code> operator to get started. <a href=\"http://perldoc.perl.org/functions/tr.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/tr.html</a>"}, {"owner": {"reputation": 29, "user_id": 4527924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ff9e72808a8c17e2efe6aa5e2054f8?s=128&d=identicon&r=PG&f=1", "display_name": "help", "link": "https://stackoverflow.com/users/4527924/help"}, "edited": false, "score": 0, "creation_date": 1438458472, "post_id": 31765469, "comment_id": 51463138, "body": "yup but doesnt work as it takes in the whole word including the special character, if i remove the special character i dont know how to print it back  Thanks for your help as im really new to perl"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438458623, "post_id": 31765469, "comment_id": 51463173, "body": "Are the replacement characters random or are there rules?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1438458702, "post_id": 31765469, "comment_id": 51463191, "body": "&quot;<code>Ab! abc def ghi jklmn?</code>&quot;: Why &quot;Ab&quot; and then &quot;abc&quot;? What dictates when one should start over at &quot;a&quot; again?"}, {"owner": {"reputation": 29, "user_id": 4527924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ff9e72808a8c17e2efe6aa5e2054f8?s=128&d=identicon&r=PG&f=1", "display_name": "help", "link": "https://stackoverflow.com/users/4527924/help"}, "edited": false, "score": 0, "creation_date": 1438459170, "post_id": 31765469, "comment_id": 51463348, "body": "there&#39;s rule. the first letter would be starting from abc base on the word count... retaining the special character, space and capital is also kept"}, {"owner": {"reputation": 29, "user_id": 4527924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ff9e72808a8c17e2efe6aa5e2054f8?s=128&d=identicon&r=PG&f=1", "display_name": "help", "link": "https://stackoverflow.com/users/4527924/help"}, "edited": false, "score": 0, "creation_date": 1438459184, "post_id": 31765469, "comment_id": 51463353, "body": "thanks for your help!"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438459986, "post_id": 31765469, "comment_id": 51463551, "body": "What is the problem with the program you present? Where did you get stuck? If you are looking for a code review, you could also try <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438460000, "post_id": 31765469, "comment_id": 51463556, "body": "<code>@words.length</code>? This is not Perl."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1438460092, "post_id": 31765469, "comment_id": 51463582, "body": "The rule doesn&#39;t match your sample output.  Why is it <code>Jk! klm...</code>? Why does <code>k</code> repeat?"}, {"owner": {"reputation": 64429, "user_id": 1188513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wNdZG.jpg?s=128&g=1", "display_name": "Mathieu Guindon", "link": "https://stackoverflow.com/users/1188513/mathieu-guindon"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1438460328, "post_id": 31765469, "comment_id": 51463648, "body": "@H&#229;konH&#230;gland that would get closed on CR, either as &quot;unclear what you&#39;re asking&quot; or more likely just as &quot;broken code&quot;, since it doesn&#39;t appear that the code is working as intended. Please see <a href=\"http://meta.codereview.stackexchange.com/a/5778/23788\">A guide to Code Review for Stack Overflow users</a>."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4527924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ff9e72808a8c17e2efe6aa5e2054f8?s=128&d=identicon&r=PG&f=1", "display_name": "help", "link": "https://stackoverflow.com/users/4527924/help"}, "edited": false, "score": 0, "creation_date": 1438497494, "post_id": 31765903, "comment_id": 51469867, "body": "Thank you very much! I&#39;m really grateful towards you. I don&#39;t know it&#39;s such a short code to get my intended output. Thanks once again melpomene"}, {"owner": {"reputation": 29, "user_id": 4527924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ff9e72808a8c17e2efe6aa5e2054f8?s=128&d=identicon&r=PG&f=1", "display_name": "help", "link": "https://stackoverflow.com/users/4527924/help"}, "edited": false, "score": 0, "creation_date": 1438499187, "post_id": 31765903, "comment_id": 51470137, "body": "i would like to ask, what is the purpose of adding the eg; at the end of }? Thank you!"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 29, "user_id": 4527924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ff9e72808a8c17e2efe6aa5e2054f8?s=128&d=identicon&r=PG&f=1", "display_name": "help", "link": "https://stackoverflow.com/users/4527924/help"}, "edited": false, "score": 0, "creation_date": 1438506643, "post_id": 31765903, "comment_id": 51471731, "body": "@help See <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlop.pod#s-PATTERN-REPLACEMENT-msixpodualngcer\" rel=\"nofollow noreferrer\"><code>perldoc perlop</code></a>. Basically it tells Perl (<code>g</code>) to replace all occurrences of the pattern (without <code>g</code> it only does the first one) and (<code>e</code>) that the replacement part is a block of Perl code, not a plain string."}, {"owner": {"reputation": 29, "user_id": 4527924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ff9e72808a8c17e2efe6aa5e2054f8?s=128&d=identicon&r=PG&f=1", "display_name": "help", "link": "https://stackoverflow.com/users/4527924/help"}, "edited": false, "score": 0, "creation_date": 1438523041, "post_id": 31765903, "comment_id": 51475586, "body": "Thanks for the explaination:) its very detail  Thanks once again Thumbs up melpomene"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 2, "last_activity_date": 1438460684, "creation_date": 1438460684, "answer_id": 31765903, "question_id": 31765469, "link": "https://stackoverflow.com/questions/31765469/perl-replace-characters-in-a-string-but-retain-special-character-or-space/31765903#31765903", "title": "perl replace characters in a string but retain special character or space", "body": "<p>A couple of things in your code don't make sense:</p>\n\n<ul>\n<li>Missing <code>use strict; use warnings;</code>.</li>\n<li>All variables are global (you should be using <code>my</code> to create variables)</li>\n<li><code>@foo.length</code> is not the number of elements in the array <code>@foo</code>. It's the number of elements in the array <code>@foo</code> concatenated with the number of characters in <code>$_</code> (because arrays in scalar context return their length, <code>.</code> concatenates strings, and <code>length</code> works on <code>$_</code> by default).</li>\n<li><code>join ($char)</code> always returns the empty string: You're joining an empty list (no elements) using <code>$char</code> as a separator.</li>\n</ul>\n\n<p>Here's an attempt to fix all of these issues:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $sentence = readline;\n\n$sentence =~ s{([A-Za-z]+)}{\n    my $word = $1;\n    join '', map {\n        my $base = ord(/^[A-Z]/ ? 'A' : 'a');\n        chr((ord($_) - $base + length($word)) % 26 + $base)\n    } split //, $word\n}eg;\n\nprint $sentence;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438462590, "post_id": 31766115, "comment_id": 51464237, "body": "No, each character is shifted by the length of the word it appears in."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1438464052, "post_id": 31766115, "comment_id": 51464554, "body": "@melpomene: I see. Not the best example is it, with three three-letter words! But then we&#39;re back to the question of what a word might be. In particular, your solution considers hyphenated words as two separate words, but the OP&#39;s code just deletes the hyphen"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1438462263, "creation_date": 1438462263, "answer_id": 31766115, "question_id": 31765469, "link": "https://stackoverflow.com/questions/31765469/perl-replace-characters-in-a-string-but-retain-special-character-or-space/31766115#31766115", "title": "perl replace characters in a string but retain special character or space", "body": "<p>I <em>think</em> what you are doing is rot3 encoding, but if so then your example is wrong</p>\n\n<pre><code>my $sentence = 'Hi! how are you doing?';\n$sentence =~ tr/A-Za-z/D-ZA-Cd-za-c/;\nprint $sentence, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>Kl! krz duh brx grlqj?\n</code></pre>\n\n<p>which is similar, but not identical to</p>\n\n<pre><code>Jk! krz duh brx itnsl?\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4527924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ff9e72808a8c17e2efe6aa5e2054f8?s=128&d=identicon&r=PG&f=1", "display_name": "help", "link": "https://stackoverflow.com/users/4527924/help"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 31765903, "answer_count": 2, "score": 0, "last_activity_date": 1438462846, "creation_date": 1438457853, "last_edit_date": 1438462846, "question_id": 31765469, "link": "https://stackoverflow.com/questions/31765469/perl-replace-characters-in-a-string-but-retain-special-character-or-space", "title": "perl replace characters in a string but retain special character or space", "body": "<p>I would like to create a program that replaces characters and retains the special characters. An example input and output is shown below.</p>\n\n<p>Here's what I did so far:</p>\n\n<pre><code>$sentence = userinput;\n\n@words = split(/ /, $sentence);\n\nfor ($i = 0; $i &lt; @words.length; $i ++){\n    $words[$i] =~ s/\\W//g;\n    @characters = split(//, $words[$i]);\n    #print $words[$i] . \"\\n\";\n\n    $wordlength = length($words[$i]);\n\n\n    for ($j = 0; $j &lt; @characters.length; $j ++){\n\n    $char = $characters[$j];\n\n    for ($x = 0; $x &lt; $wordlength; $x++){\n        $char++;\n        if ($char eq \"aa\"){\n            $char = \"a\";\n        }\n        elsif ($char eq \"AA\"){\n            $char = \"A\";\n        }\n    }\n    print $char;\n    if ($x = 0){\n        $output[$i] = $char;\n    }\n    else {\n        $output[$i] = join ($char);\n    }\n}\n\nprint $output[$i];\n}\n</code></pre>\n\n<p>Input:</p>\n\n<blockquote>\n  <p>Hi! how are you doing?</p>\n</blockquote>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Jk! krz duh brx itnsl?</p>\n</blockquote>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1438440038, "post_id": 31762830, "comment_id": 51458368, "body": "Sorry realized that I understood wrong."}, {"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "reply_to_user": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1438440118, "post_id": 31762830, "comment_id": 51458390, "body": "All good, was wondering why my comment couldn&#39;t be posted, haha."}, {"owner": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 0, "creation_date": 1438440166, "post_id": 31762830, "comment_id": 51458395, "body": "All good means &quot;Happens, it&#39;s alright&quot; or &quot;undelete it please&quot;? :))"}, {"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "reply_to_user": {"reputation": 682, "user_id": 4811285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d60KB.jpg?s=128&g=1", "display_name": "theoden8", "link": "https://stackoverflow.com/users/4811285/theoden8"}, "edited": false, "score": 1, "creation_date": 1438440321, "post_id": 31762830, "comment_id": 51458427, "body": "&quot;All good&quot; means &quot;no hard feelings, my friend, I understand people make mistakes&quot;. =)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1438441044, "post_id": 31762830, "comment_id": 51458622, "body": "The expression <code>print $_[0] unless !$verbose</code> is the kind of thing that sends maintenance programmers looking for you while wielding an axe. Why not <code>print $_[0] if $verbose</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438441209, "post_id": 31762830, "comment_id": 51458666, "body": "@DaveCross: Because this was an adhoc example case I wrote to help explain what I was trying to understand, and it&#39;s easier to say &quot;Dead silence&quot; instead of &quot;This guy shouldn&#39;t be saying anything&quot;. Semantics really don&#39;t matter much in hypothetical examples. I would&#39;ve written &quot;foo&quot;/&quot;bar&quot; instead but I&#39;m just so damn sick of seeing that."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1438441488, "post_id": 31762830, "comment_id": 51458744, "body": "@Alhadis you misunderstood what Dave was referring to.  He was referring to the syntax you used in the print statement."}, {"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "edited": false, "score": 0, "creation_date": 1438441611, "post_id": 31762830, "comment_id": 51458773, "body": "Ah, right. Yeah, sorry, I think I only used an <code>unless</code> statement because I&#39;d just finished writing one elsewhere when it came to scribbling down something hypothetical, haha. My bad, my head&#39;s elsewhere. Split between six different packages, to be precise."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438446649, "post_id": 31762830, "comment_id": 51459626, "body": "@Alhadis: I can&#39;t say your idea of splitting your code across modules sounds ideal, but it&#39;s hard to tell exactly what you mean or to suggest a better alternative unless we can see the code. You may be better of with an object-oriented solution"}, {"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438495138, "post_id": 31762830, "comment_id": 51469491, "body": "@DaveCross HAHAHAH, HOLY MOTHBALLS, I thought you meant <code>if ($verbose){ print $_[0]; }</code>, I had no idea Perl actually let you stick an <code>if</code> statement AFTER a command. <code>print $_[0] if $verbose</code> actually works, holy hell. I can see what you meant, now... I&#39;m loving this language. #stillanewbie"}, {"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438495519, "post_id": 31762830, "comment_id": 51469547, "body": "@Borodin Yeah I know, but I think I had the wrong interpretation of how variables are handled inside/across packages... I guess I mistook it as being analogous to <code>global $verbose;</code> in PHP, probably due to writing the latter language too much. Anyway, this is pretty weird code that I&#39;ll probably hate in six months time when I&#39;m writing Perl more fluently, so I&#39;d prefer not to be judged too harshly on it, haha."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1438516781, "post_id": 31762830, "comment_id": 51474014, "body": "So you knew you could use &quot;unless&quot; there, but didn&#39;t realise you could use &quot;if&quot; instead. Interesting :-)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438518456, "post_id": 31762830, "comment_id": 51474417, "body": "@DaveCross Am I on trial for being a newcomer to Perl, now?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438518991, "post_id": 31762830, "comment_id": 51474540, "body": "No, no. Not at all. I have a professional interest in the way that people learn Perl and was really interested that someone&#39;s understanding could get into that state. No criticism intended at all."}, {"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "edited": false, "score": 0, "creation_date": 1438519269, "post_id": 31762830, "comment_id": 51474617, "body": "Ehh... my native language is JavaScript, and I&#39;m used to conditionals preceding declarations. I&#39;ve been learning Perl in a rather non-linear fashion, and learned about the &quot;unless&quot; operator while seeing it following an assignment. I assumed this was a feature native to Perl&#39;s syntax, and not something that carried over to &quot;if&quot; as well."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "edited": false, "score": 0, "creation_date": 1438441105, "post_id": 31763137, "comment_id": 51458635, "body": "Yep, just realised when I read Borodin&#39;s answer. Thanks! (See the first comment I left there)."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1438440752, "creation_date": 1438440752, "answer_id": 31763137, "question_id": 31762830, "link": "https://stackoverflow.com/questions/31762830/importing-variable-into-perl-package/31763137#31763137", "title": "Importing variable into Perl package", "body": "<p><code>our</code> declares a package variable <em>in the current package</em>. The one in main.pl refers to <code>$main::verbose</code>; the one in Output.pm refers to <code>$Output::verbose</code>.</p>\n\n<p>You can use the full name <code>$main::verbose</code> to access the variable from anywhere, but you can't really \"export\" it because exporting refers to making symbols accessible to users of your module. You're trying to do the opposite.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "edited": false, "score": 1, "creation_date": 1438441001, "post_id": 31763151, "comment_id": 51458608, "body": "Think I&#39;m beginning to grok with Perl, now. What I&#39;m trying to do is probably better accomplished using a specialist package for abstracting options (e.g., $Options::verbose) and having those declarations used across the remainder of an app&#39;s private modules. Got it. Thank you!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1438441026, "last_edit_date": 1438441026, "creation_date": 1438440860, "answer_id": 31763151, "question_id": 31762830, "link": "https://stackoverflow.com/questions/31762830/importing-variable-into-perl-package/31763151#31763151", "title": "Importing variable into Perl package", "body": "<p>An <code>our</code> statement just creates a package variable (whereas <code>my</code> creates a lexical variable). It has nothing to do with exporting</p>\n\n<p>The best option is probably to declare the variable in the <code>Output</code> package and access it as <code>$Output::verbose</code> elsewhere. Like this</p>\n\n<h3>main.pl</h3>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Basename;\nuse lib dirname $0;\nuse Output;\n\n$Output::verbose = 1;\n\nwrite_message \"Hello, world\\n\";\n</code></pre>\n\n<h3>Output.pm</h3>\n\n<pre><code>package Output;\n\nuse strict;\nuse warnings;\n\nuse Exporter 5.57 'import';\nour @EXPORT = qw/ write_message /;\n\nour $verbose;\n\nsub write_message {\n    print $_[0] if $verbose;\n}\n\n1;\n</code></pre>\n\n<p>Note that I have also removed the incorrect quotes from around <code>$0</code>, and ever since version 5.57 of <code>Exporter</code> it has been possible (and preferable) to <em>import</em> it's <code>import</code> subroutine instead of subclassing it</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user458541"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 31763151, "answer_count": 2, "score": 2, "last_activity_date": 1438441026, "creation_date": 1438438620, "question_id": 31762830, "link": "https://stackoverflow.com/questions/31762830/importing-variable-into-perl-package", "title": "Importing variable into Perl package", "body": "<p>I'm writing a basic program whose core logic is split across several project-specific modules for cleanliness (keeping subroutines organised by their purpose in the program's logic).</p>\n\n<p>Suddenly had trouble exposing an option from the <code>main</code> package in one of the modules, and using the <code>our</code> statement appeared to have no effect.</p>\n\n<p>For brevity, I'll copy+paste an isolated test case I wrote to examine this behaviour:</p>\n\n<h2>main.pl</h2>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse File::Basename;\n\n# The variable to be read by the module.\nour $verbose = 1;\n\n# Load Output.pm from directory\nuse lib dirname \"$0\";\nuse Output;\n\nwrite_message \"Hello, world\\n\";\n</code></pre>\n\n<h2>Output.pm</h2>\n\n<pre><code>package Output;\nuse warnings;\nuse strict;\nuse parent \"Exporter\";\nour @EXPORT = qw(write_message);\n\n# Should be imported?\nour $verbose;\n\nsub write_message {\n    print $_[0] unless !$verbose;\n}\n\n1;\n</code></pre>\n\n<p><strong>Expected result:</strong> <code>\"Hello, world\"</code><br>\n<strong>Actual result:</strong> Dead silence</p>\n\n<p>It's quite possible that what I'm trying to achieve isn't even possible in Perl, as this isn't the intended use of modules (and heck, I understand why that'd be the case).</p>\n\n<p>I'm still quite new to Perl and there are some things I'm struggling to wrap my head around. I've seen people recommend using the <code>our</code> declarator to expose a variable across packages, but I can't understand why this isn't working.</p>\n\n<p><strong>PS:</strong> If anybody knows a better approach to splitting an app's program-specific logic between modules, I'd appreciate some pointers too. :) But first and foremost, I'd prefer to learn why <code>our</code>-ing a variable isn't working.</p>\n"}, {"tags": ["facebook", "perl", "cookies", "login"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1438423154, "post_id": 31760326, "comment_id": 51453794, "body": "I do not know why this happens, but in the past, it has helped me to instead use IE6 as browser agent, some sites respond differently then. Cookie jar has worked fine for me when I had to use it."}, {"owner": {"reputation": 21, "user_id": 4842726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c33527175f8afcd1ebf489198bc6e9bf?s=128&d=identicon&r=PG&f=1", "display_name": "courz", "link": "https://stackoverflow.com/users/4842726/courz"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1438441459, "post_id": 31760326, "comment_id": 51458734, "body": "@bytepusher it has nothing to do with the user agent, it can&#39;t set the cookie at the first place i think it has something to do with JS but im waiting for comments.."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1438451697, "post_id": 31760326, "comment_id": 51461196, "body": "that would have been my bet, take a look at WWW::Mechanize::Firefox if you need javascript, I have used that before with some success."}], "answers": [{"tags": [], "owner": {"reputation": 3506, "user_id": 561485, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e49a0ca24d044a34ab889ad72eb7e42?s=128&d=identicon&r=PG", "display_name": "Roemer", "link": "https://stackoverflow.com/users/561485/roemer"}, "is_accepted": false, "score": 0, "last_activity_date": 1438770736, "creation_date": 1438770736, "answer_id": 31829983, "question_id": 31760326, "link": "https://stackoverflow.com/questions/31760326/perl-facebook-login-cookies-error/31829983#31829983", "title": "perl facebook login cookies error", "body": "<p>Please be aware that what you are trying to do is not allowed. You should not scrape Facebook using anything other than the Graph API and access token. You can read more on that in the <a href=\"https://www.facebook.com/apps/site_scraping_tos_terms.php\" rel=\"nofollow\">Automated Data Collection Terms</a>.</p>\n"}], "owner": {"reputation": 21, "user_id": 4842726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c33527175f8afcd1ebf489198bc6e9bf?s=128&d=identicon&r=PG&f=1", "display_name": "courz", "link": "https://stackoverflow.com/users/4842726/courz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438770736, "creation_date": 1438421373, "question_id": 31760326, "link": "https://stackoverflow.com/questions/31760326/perl-facebook-login-cookies-error", "title": "perl facebook login cookies error", "body": "<p>so i just wrote perl script to login facebook and crawl some data from there but when the server response comes with an error that my browser does not allow cookies to be stored, i used cookie jar so far and i had this problem only with facebook, here's the script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse LWP 5.64;\nuse HTTP::Cookies;\n\nmy $browser = LWP::UserAgent-&gt;new();\n$browser-&gt;agent('Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:25.0) Gecko/20100101 Firefox/25.0');\n$browser-&gt;cookie_jar(HTTP::Cookies-&gt;new('file' =&gt; './cookies.lwp', 'autosave' =&gt; 1, ignore_discard =&gt; 1));\n$browser-&gt;default_header('Referer' =&gt; \"http://facebook.com/\");\nmy $email = \"email\";\nmy $pass = \"pass\";\n\nmy $login = $browser-&gt;post(\"https://www.facebook.com/login.php?login_attempt=1\", {\"email\" =&gt; \"$email\", \"pass\" =&gt; \"$pass\", \"locale\" =&gt; \"en_US\" ,\"default_persistent\" =&gt; 0})-&gt;content;\nopen (MYFILE, \"&gt;fbresponse.html\");\nprint MYFILE \"$login\";\nclose (MYFILE);\n\nsystem(\"START fbresponse.html\");\n</code></pre>\n\n<p>any suggestions?</p>\n"}, {"tags": ["android", "perl", "cgi"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438416633, "post_id": 31759432, "comment_id": 51452263, "body": "When you get the 500 error, what gets written to the web server error log?"}, {"owner": {"reputation": 2547, "user_id": 319625, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2249a157f31c182502c41e39fe3f0e02?s=128&d=identicon&r=PG", "display_name": "skeniver", "link": "https://stackoverflow.com/users/319625/skeniver"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438417654, "post_id": 31759432, "comment_id": 51452486, "body": "pro.url.co.uk 80.229.30.33 - - [01/Aug/2015:08:04:35 +0100] &quot;GET /cgi-bin/api.pl HTTP/1.1&quot; 200 72 &quot;-&quot; &quot;Dalvik/2.1.0 (Linux; U; Android 5.0.2; XT1032 Build/LXB22.46-28.1)&quot; 80.229.30.33"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1438418442, "post_id": 31759432, "comment_id": 51452638, "body": "That looks like the access log, not the error log. And can you edit these additions into the question, rather than adding them in comments."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1438472705, "post_id": 31759432, "comment_id": 51466317, "body": "Wait ... that line doesn&#39;t match the Volley request you mentioned, it contains a status code of 200."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5189667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/509dbbef1c17924f81c6cc3fe4704cdc?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Winkler", "link": "https://stackoverflow.com/users/5189667/peter-winkler"}, "is_accepted": false, "score": 1, "last_activity_date": 1438695016, "creation_date": 1438695016, "answer_id": 31810693, "question_id": 31759432, "link": "https://stackoverflow.com/questions/31759432/perl-cgi-script-response-code/31810693#31810693", "title": "Perl CGI script response code", "body": "<p>In the past, I had to include a couple of empty lines after the header to prevent apache from generating a 500 error.</p>\n\n<p>So try this code:</p>\n\n<pre><code>my $cgi = CGI-&gt;new;\nmy $json = JSON-&gt;new-&gt;utf8;\nmy $header_type = \"application/json\";\nmy $header_status = \"200\";\nmy $output = $json-&gt;encode({\n  \"error\" =&gt; \"2000\",\n  \"description\" =&gt; \"an action header is required\",\n});\nprint $cgi-&gt;header(\n  -type =&gt; $header_type,\n  -charset =&gt; \"utf-8\",\n  -status =&gt; $header_status\n),\n \"\\n\\n\",\n $output,\n \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 2547, "user_id": 319625, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2249a157f31c182502c41e39fe3f0e02?s=128&d=identicon&r=PG", "display_name": "skeniver", "link": "https://stackoverflow.com/users/319625/skeniver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438695016, "creation_date": 1438414078, "question_id": 31759432, "link": "https://stackoverflow.com/questions/31759432/perl-cgi-script-response-code", "title": "Perl CGI script response code", "body": "<p>I have a Perl script that accepts HTTP GET requests and returns JSON content back. However, when I call the script from an Android app using Volley, I'm getting the following error:</p>\n\n<pre><code>E/Volley\ufe55 [1178] BasicNetwork.performRequest: Unexpected response code 500 for http://\n</code></pre>\n\n<p>If I use curl to check the script, I get this response:</p>\n\n<pre><code>* Hostname was NOT found in DNS cache\n*   Trying 95.142.152.194...\n* Connected to pro.url.co.uk (127.0.0.1) port 80 (#0)\n&gt; GET /cgi-bin/api.pl HTTP/1.1\n&gt; User-Agent: curl/7.37.1\n&gt; Host: pro.url.co.uk\n&gt; Accept: */*\n&gt; \n&lt; HTTP/1.1 200 OK\n&lt; Date: Sat, 01 Aug 2015 07:18:42 GMT\n* Server Apache is not blacklisted\n&lt; Server: Apache\n&lt; Connection: close\n&lt; Transfer-Encoding: chunked\n&lt; Content-Type: application/json; charset=utf-8\n&lt; Set-Cookie: DYNSRV=lin218; path=/\n&lt; \n{\"error\":\"2000\",\"description\":\"an action header is required\"}\n</code></pre>\n\n<p>Here is the perl code:</p>\n\n<pre><code>my $cgi = CGI-&gt;new;\nmy $json = JSON-&gt;new-&gt;utf8;\nmy $header_type = \"application/json\";\nmy $header_status = \"200\";\nmy $output = $json-&gt;encode({\n  \"error\" =&gt; \"2000\",\n  \"description\" =&gt; \"an action header is required\",\n});\nprint $cgi-&gt;header(\n  -type =&gt; $header_type,\n  -charset =&gt; \"utf-8\",\n  -status =&gt; $header_status\n);\nprint $output;\nprint \"\\n\";\n</code></pre>\n\n<p>I'm not the world's most competent perl dev so if anyone has any hints, it would be most appreciated.</p>\n"}, {"tags": ["regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 4, "creation_date": 1438404906, "post_id": 31758357, "comment_id": 51449926, "body": "Matching balanced pairs is one of the most difficult regex problems. Fortunately, PCRE has an extension to deal with it. This answer might help. <a href=\"https://stackoverflow.com/questions/5410652/regex-delete-contents-of-square-brackets\" title=\"regex delete contents of square brackets\">stackoverflow.com/questions/5410652/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 10, "last_activity_date": 1438446903, "last_edit_date": 1438446903, "creation_date": 1438405570, "answer_id": 31758444, "question_id": 31758357, "link": "https://stackoverflow.com/questions/31758357/pcre-regex-to-remove-empty-braces/31758444#31758444", "title": "PCRE regex to remove empty braces", "body": "<p>Matching balanced pairs using traditional regular expressions is difficult, if not impossible.  Fortunately PCRE and others have an extension to match recursively, <code>(?R)</code> will recursively match the entire pattern.</p>\n\n<pre><code>/\\{(?R)*\\}/\n</code></pre>\n\n<p>That says to match brace pairs which have zero or more brace pairs inside them. See <a href=\"http://perldoc.perl.org/perlretut.html#Recursive-patterns\" rel=\"nofollow\">perlretut->Recursive patterns</a> and <a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow\">perlre->Extended Patterns->?R</a> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1438435453, "creation_date": 1438435453, "answer_id": 31762330, "question_id": 31758357, "link": "https://stackoverflow.com/questions/31758357/pcre-regex-to-remove-empty-braces/31762330#31762330", "title": "PCRE regex to remove empty braces", "body": "<p>Without recursion:</p>\n\n<pre><code>1 while s/\\{\\}//g;\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5179929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7df728e7a0c0b562e2f0b2e588aad77?s=128&d=identicon&r=PG&f=1", "display_name": "user5179929", "link": "https://stackoverflow.com/users/5179929/user5179929"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 1, "accepted_answer_id": 31758444, "answer_count": 2, "score": 7, "last_activity_date": 1438446903, "creation_date": 1438404603, "question_id": 31758357, "link": "https://stackoverflow.com/questions/31758357/pcre-regex-to-remove-empty-braces", "title": "PCRE regex to remove empty braces", "body": "<p>How can one write a regex to remove all pairs of braces that contain nothing?</p>\n\n<p>For example, <code>{}</code> and <code>{{}}</code> should be reduced to an empty string, but <code>{{}</code> becomes <code>{</code> and <code>{{A}{}}</code> becomes <code>{{A}}</code>.</p>\n\n<p>I'm currently running <code>s/\\{\\}//g</code> in a loop until the string length is fixed, but is there a better way to do this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1438402328, "post_id": 31758042, "comment_id": 51449527, "body": "You&#39;re writing the new number at the position that the filehandle was in after you read the old number \u2014 i.e. the end of the file. You should seek back to the beginning."}, {"owner": {"reputation": 79, "user_id": 4967673, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-CFD91-xlwqQ/AAAAAAAAAAI/AAAAAAAAAJc/bWV6hNYshuc/photo.jpg?sz=128", "display_name": "Scra", "link": "https://stackoverflow.com/users/4967673/scra"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1438402685, "post_id": 31758042, "comment_id": 51449573, "body": "What do you mean by &quot;seek back to the beginning&quot;? Do I have to close the file handle and reopen the file again to copy the result of <code>t_count</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1438403755, "post_id": 31758042, "comment_id": 51449762, "body": "<a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"nofollow noreferrer\">perldoc -f seek</a>"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 4967673, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-CFD91-xlwqQ/AAAAAAAAAAI/AAAAAAAAAJc/bWV6hNYshuc/photo.jpg?sz=128", "display_name": "Scra", "link": "https://stackoverflow.com/users/4967673/scra"}, "edited": false, "score": 0, "creation_date": 1438404663, "post_id": 31758333, "comment_id": 51449885, "body": "Thanks for the explanation :)"}], "tags": [], "owner": {"reputation": 193, "user_id": 4429747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a182fa342cf95f33870032e2c49f3db3?s=128&d=identicon&r=PG&f=1", "display_name": "Channel Islander", "link": "https://stackoverflow.com/users/4429747/channel-islander"}, "is_accepted": false, "score": 4, "last_activity_date": 1438404342, "creation_date": 1438404342, "answer_id": 31758333, "question_id": 31758042, "link": "https://stackoverflow.com/questions/31758042/incrementing-integer-stored-in-a-file-perl/31758333#31758333", "title": "Incrementing integer stored in a file: Perl", "body": "<p><code>seek()</code> allows you to move position in the filehandle.</p>\n\n<p><code>seek($fh, 0, SEEK_SET)</code> means move to the position zero bytes away from the start of the file. You have to import the constant from <code>Fcntl</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Fcntl qw/ LOCK_EX SEEK_SET /;\n\nmy $tmp_file = 'test.dat';\nopen (my $tmp, '+&lt;', $tmp_file) or die $!; \nflock($tmp, LOCK_EX);\n\nmy $t_int   = (int(&lt;$tmp&gt;));\nmy $t_count = $t_int + 1;\n\nseek ($tmp, 0, SEEK_SET);\nprint $tmp $t_count;\nclose $tmp or die $!; \n\n__END__\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 930, "user_id": 4511056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb6c2868ac49ca03c83544133f34b3?s=128&d=identicon&r=PG&f=1", "display_name": "Secto Kia", "link": "https://stackoverflow.com/users/4511056/secto-kia"}, "is_accepted": true, "score": 2, "last_activity_date": 1438404485, "creation_date": 1438404485, "answer_id": 31758347, "question_id": 31758042, "link": "https://stackoverflow.com/questions/31758042/incrementing-integer-stored-in-a-file-perl/31758347#31758347", "title": "Incrementing integer stored in a file: Perl", "body": "<p>You need to use seek to go back to the start of the file before you print to the file. Try adding this before you print:\n<code>seek($tmp,0,0);</code></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1438446714, "last_edit_date": 1592644375, "creation_date": 1438439859, "answer_id": 31763001, "question_id": 31758042, "link": "https://stackoverflow.com/questions/31758042/incrementing-integer-stored-in-a-file-perl/31763001#31763001", "title": "Incrementing integer stored in a file: Perl", "body": "<p>This is much more convenient using the core module <a href=\"https://metacpan.org/pod/Tie::File\" rel=\"nofollow noreferrer\"><code>Tie::File</code></a></p>\n<p>Here's an example of how it might work</p>\n<pre><code>use Tie::File;\nuse Fcntl 'LOCK_EX';\n\nmy $tmp_file = 'inc.txt';\n\n{\n    my $tied = tie my @file, 'Tie::File', $tmp_file or die $!;\n    $tied-&gt;flock(LOCK_EX);\n    ++$file[0];\n}\n</code></pre>\n<hr />\n<h3>Update</h3>\n<p>Because of the <code>flock</code> I assume this is to be run in parallel using something like <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow noreferrer\"><code>Parallel::ForkManager</code></a>. This program shows how to increment the number in the file 1,000 times using thirty parallel processes</p>\n<pre><code>use strict;\nuse warnings;\n\nuse Tie::File;\nuse Fcntl 'LOCK_EX';\nuse Parallel::ForkManager;\n\nmy $tmp_file = 'inc.txt';\n\nmy $pm = Parallel::ForkManager-&gt;new(30);\n\nfor (1 .. 1000) {\n\n    next if $pm-&gt;start;\n\n    {\n        my $tied = tie my @file, 'Tie::File', $tmp_file or die $!;\n        $tied-&gt;flock(LOCK_EX);\n        ++$file[0];\n    }\n\n    $pm-&gt;finish;\n}\n\n$pm-&gt;wait_all_children;\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 4967673, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-CFD91-xlwqQ/AAAAAAAAAAI/AAAAAAAAAJc/bWV6hNYshuc/photo.jpg?sz=128", "display_name": "Scra", "link": "https://stackoverflow.com/users/4967673/scra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 31758347, "answer_count": 3, "score": 1, "last_activity_date": 1438446714, "creation_date": 1438401288, "last_edit_date": 1438444762, "question_id": 31758042, "link": "https://stackoverflow.com/questions/31758042/incrementing-integer-stored-in-a-file-perl", "title": "Incrementing integer stored in a file: Perl", "body": "<p>I have a file <code>tmp.txt</code> which contains only an integer <code>0</code>. </p>\n\n<p>I need to read this file and increment it by 1.</p>\n\n<pre><code>open (my $tmp, '+&lt;', $tmp_file) or die \"failed to open\";\nflock($tmp, LOCK_EX);\n$t_int = int(&lt;$tmp&gt;);\n$t_count = $t_int + 1;\nprint \"***********t_count in file $t_int , $t_count**********\\n\";\nprint $tmp $t_count;\nprint \"===========t_count in file $t_int ,  $t_count==========\\n\";\nclose($tmp) or die \"failed to close\";\n</code></pre>\n\n<p>I get the output as follows:</p>\n\n<p>Runnning script for the first time:</p>\n\n<pre><code>***********t_count in file 0 , 1**********\n===========t_count in file 0 ,  1==========\n</code></pre>\n\n<p>Second time:</p>\n\n<pre><code>***********t_count in file 1 , 2**********\n===========t_count in file 1 ,  2==========\n</code></pre>\n\n<p>Third time:</p>\n\n<pre><code>***********t_count in file 12 , 13**********\n===========t_count in file 12 ,  13==========\n</code></pre>\n\n<p>Fourth time:</p>\n\n<pre><code>***********t_count in file 1213 , 1214**********\n===========t_count in file 1213 ,  1214==========\n</code></pre>\n\n<p>Fifth time:</p>\n\n<pre><code>***********t_count in file 12131214 , 12131215**********\n===========t_count in file 12131214 ,  12131215==========\n</code></pre>\n\n<p>and so on...</p>\n\n<p>I don't understand why it is concatenating the previous numbers to the results. Why is this script not correct?</p>\n"}, {"tags": ["perl", "math", "curve"], "comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1438398580, "post_id": 31757695, "comment_id": 51448938, "body": "Are you looking for something like <a href=\"https://en.wikipedia.org/wiki/Spline_interpolation\" rel=\"nofollow noreferrer\">spline interpolation</a>? If so, <a href=\"http://search.cpan.org/~chorny/Math-Spline-0.02/Spline.pm\" rel=\"nofollow noreferrer\">Math::Spline</a> should be useful."}, {"owner": {"reputation": 1792, "user_id": 3105222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eSikW.png?s=128&g=1", "display_name": "FlorianB", "link": "https://stackoverflow.com/users/3105222/florianb"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1438402959, "post_id": 31757695, "comment_id": 51449615, "body": "This is THE answer! :) Please post it and I&#39;ll select it! Thank you :) Wonderful."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1438405687, "post_id": 31757695, "comment_id": 51450039, "body": "Ha, while you were adding the graph, I was tinkering with mine ;) Nice choice of plotter!"}], "answers": [{"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": true, "score": 3, "last_activity_date": 1438405652, "creation_date": 1438405652, "answer_id": 31758452, "question_id": 31757695, "link": "https://stackoverflow.com/questions/31757695/a-module-script-to-get-the-table-of-all-values-from-a-points-based-smooth-curve/31758452#31758452", "title": "A module/script to get the table of all values from a points based smooth curve (RGB curves type of thing)", "body": "<p>Smoothly connecting points can be done by means of <a href=\"https://en.wikipedia.org/wiki/Spline_interpolation\" rel=\"nofollow noreferrer\">spline interpolation</a>, where you calculate a piecewise polynomial. For Perl, there is the module <a href=\"http://search.cpan.org/~chorny/Math-Spline-0.02/Spline.pm\" rel=\"nofollow noreferrer\">Math::Spline</a>.</p>\n\n<p>For your example (slightly modified to make the \"bend\" better visible), it would roughly look like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse Math::Spline;\n\nmy @x = (0, 210, 255);\nmy @y = (0, 124, 255);\nmy $spline = Math::Spline-&gt;new(\\@x, \\@y);\n\nmy @x_interp = (0 .. 255);\nmy @y_interp;\nfor my $x_i (@x_interp) {\n    push @y_interp, $spline-&gt;evaluate($x_i);\n}\n\nsay \"$x_interp[$_]\\t$y_interp[$_]\" for (0 .. 255);\n</code></pre>\n\n<p>The output can be piped to a file and plotted, for example with gnuplot:\n<a href=\"https://i.stack.imgur.com/3BRiV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BRiV.png\" alt=\"spline\"></a></p>\n"}], "owner": {"reputation": 1792, "user_id": 3105222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eSikW.png?s=128&g=1", "display_name": "FlorianB", "link": "https://stackoverflow.com/users/3105222/florianb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 31758452, "answer_count": 1, "score": 1, "last_activity_date": 1438405652, "creation_date": 1438397410, "last_edit_date": 1438403367, "question_id": 31757695, "link": "https://stackoverflow.com/questions/31757695/a-module-script-to-get-the-table-of-all-values-from-a-points-based-smooth-curve", "title": "A module/script to get the table of all values from a points based smooth curve (RGB curves type of thing)", "body": "<p>I would like to generate a table of values for an input/output curve from 0 to 255 based on specific points, and have that curve smooth.</p>\n\n<p>It is basically the same thing we use when editing the brightness of a picture with RGB curves.</p>\n\n<p>e.g. I would define the points 0,0 ; 128,104 ; 255,255 and I would get all values from 0 to 255 with something smooth (non-linear) around 128,104. I would eventually be able to configure how smooth that curve is.</p>\n\n<p>I could program it but it seems like a little bit of pain and I'm quite sure something like this exists as a module or script already.</p>\n\n<p>Thank you!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The answer from <strong>Benjamin W.</strong> produces the following result with the following code:</p>\n\n<pre><code>require Math::Spline;\n\nmy @x = (0, 64, 128, 204, 255);\nmy @y = (0, 12, 64, 224, 255);\n\n$spline = Math::Spline-&gt;new(\\@x,\\@y);\nfor( my $a = 0 ; $a &lt; 256 ; $a++ ){\n    print(\"$a\\t\".$spline-&gt;evaluate($a).\"\\n\");\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ns57J.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ns57J.gif\" alt=\"gnuplot curve from this code\"></a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438421285, "post_id": 31757322, "comment_id": 51453316, "body": "What do you mean by <code>&quot;find out of the pid returned is valid or not&quot;</code>? From the <a href=\"http://linux.die.net/man/1/pgrep\" rel=\"nofollow noreferrer\">documentation</a> <code>&quot;pgrep  looks through the currently running processes and lists the process IDs which match the selection criteria to stdout&quot;</code>.. so any returned PID will be a running process.."}, {"owner": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438474533, "post_id": 31757322, "comment_id": 51466622, "body": "As explained in the example above, the returned value that is supposed to be the pid is not correct. I get 3056, 3059 etc. whereas the actual pid of the process is 1862. So when it returned the different (wrong) pid, how do I check the status ? because obviously $? isn&#39;t working."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1438523395, "post_id": 31757322, "comment_id": 51475668, "body": "You cannot use the return value of <code>pgrep</code> to check for correct process.. The return value simply says if it found any process or not. If it finds one, two, three, or any positive number of processes, the return value will be zero. What you need to do is to check if there is something in the command line (of what you think is the correct process) that separates it from the processes that are not correct, or if there is some other caracteristics (like starting time) that could separate the correct from the other processes.."}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438476565, "post_id": 31762280, "comment_id": 51466909, "body": "In the first solution : [0]; what does this do ? if it returns the 0th entry of the list of processes, imagine what would happen if the process is not running, it will return the pid of the grep process and I am back at square one where I don&#39;t know if the pid returned is the pid of the running process or the pid of grep."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "reply_to_user": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438480588, "post_id": 31762280, "comment_id": 51467446, "body": "No it will not. The list will be empty, so the first element in an empty list is undef, you end up with undef in $pid. What else would you want? I am using your grep criteria. that is why ps -a | grep and not just ps -A. Did you even try it? Also, I highly doubt the first entry would be grep."}, {"owner": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438492457, "post_id": 31762280, "comment_id": 51469049, "body": "Ofcourse, I tried it. <a href=\"http://pastebin.com/6Qry5ZTS\" rel=\"nofollow noreferrer\">link</a>. why would you doubt if the first entry would be grep when the process you&#39;ve given is not running. The first entry then would be grep."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "reply_to_user": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438591862, "post_id": 31762280, "comment_id": 51495426, "body": "I doubt it because I tested it on my system and it worked fine, it has worked fine before, and the link you provide only says you call some text.txt which could be anything. Still, interesting explanation above:)"}], "tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 0, "last_activity_date": 1438435155, "creation_date": 1438435155, "answer_id": 31762280, "question_id": 31757322, "link": "https://stackoverflow.com/questions/31757322/perl-pgrep-returning-multiple-pids/31762280#31762280", "title": "perl pgrep returning multiple pids", "body": "<p>It seems to me that pgrep returns the pid of the newest (-n) child process started by the process you are looking for, at least that is what happens on my system.</p>\n\n<p>I have always used ps for such things, how about:</p>\n\n<pre><code>my $pid = (split(\" \",`ps -A | grep \\\"akonadiserver\\\"`))[0];\n</code></pre>\n\n<p>instead, or </p>\n\n<pre><code>my @pids = map{ $_ =~ /(\\d+)/; $1 }split(\"\\n\", `ps -A | grep \\\"akonadiserver\\\"` );\nprint \"mutiple instances: @pids\\n\" if @pids &gt; 1;\nprint \"pid: \".$pids[0].\"\\n\" if @pids == 1;\n</code></pre>\n\n<p>to get all instances running into an array and then do what you want to with it.</p>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438622278, "post_id": 31775817, "comment_id": 51514269, "body": "This is clean and explanation is spot on. I&#39;m about to conclude with this question but Is there any way to do this without ProcessTable eg. with just sed,awk and pgrep ? Would a hacky way like reading the pid twice and verifying if they are same work in all case ?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438624836, "post_id": 31775817, "comment_id": 51515628, "body": "Do you mean calling <code>awk</code> from within a Perl script? Why would like to avoid <code>Proc::ProcessTable</code>?"}, {"owner": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438627934, "post_id": 31775817, "comment_id": 51517195, "body": "awk or sed or anything from within perl without having to install perl modules. In embedded environments, it might not be possible to perl modules other than the bare minimum."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438629818, "post_id": 31775817, "comment_id": 51518091, "body": "You could try <code>perl -E &#39;@a=grep {$_=~&#47;akonadiserver&#47; &amp;&amp; $_!~&#47;pgrep&#47;} qx{ps -eo pid,cmd --sort=start_time}; say @{[split &quot; &quot;, $a[-1]]}[0]&#39;</code>"}, {"owner": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438637561, "post_id": 31775817, "comment_id": 51521925, "body": "This one again returns the pid for Grep itself. <a href=\"http://pastebin.com/d3kdPuCv\" rel=\"nofollow noreferrer\">pastebin.com/d3kdPuCv</a> . Is it not possible to find this without using ProcessTable ?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438638045, "post_id": 31775817, "comment_id": 51522138, "body": "Interesting, it seems to work here.. try to replace the last part: <code>say @{[split &quot; &quot;, $a[-1]]}[0]</code> with <code>say $a[-1]</code>, then you can see the actual name of the command also.. What command name do you get?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438638281, "post_id": 31775817, "comment_id": 51522227, "body": "Ahhh.. I think I see a problem.. The command does not contain <code>pgrep</code> any more since we use <code>ps</code> now instead.. Try replace <code>pgrep</code> with <code>ps -eo</code>.. Does it work now?"}, {"owner": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "edited": false, "score": 0, "creation_date": 1438638495, "post_id": 31775817, "comment_id": 51522321, "body": "Yes, this helps with my issue. I think you answered the question using ProcessTable. I&#39;ll close this for now."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1438544111, "last_edit_date": 1495541333, "creation_date": 1438544111, "answer_id": 31775817, "question_id": 31757322, "link": "https://stackoverflow.com/questions/31757322/perl-pgrep-returning-multiple-pids/31775817#31775817", "title": "perl pgrep returning multiple pids", "body": "<p>Running <code>`pgrep -n -f akonadiserver`</code> from a Perl script, is equivalent to running <code>sh -c \"pgrep -n -f akonadiserver\"</code> from the terminal.</p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\"><code>perlop</code></a> :</p>\n\n<blockquote>\n  <p><strong>qx/STRING/</strong>:<br>\n  A string which is (possibly) interpolated and then executed as a system command with /bin/sh or its equivalent.</p>\n</blockquote>\n\n<p>The problem is that using the <code>-f</code> option with <code>pgrep</code> will match against the full command line used to invoke the process. This will also include the current <code>pgrep</code> command, since its command line will look like <code>sh -c \"pgrep -n -f akonadiserver\"</code> which will match the string <code>\"akonadiserver\"</code>. Since you also use the <code>-n</code> flag with <code>pgrep</code> it will only return the newest process that matches <code>\"akonadiserver\"</code> and this will most likely be the <code>pgrep</code> command itself (<code>sh -c \"pgrep -n -f akonadiserver\"</code>).. So that explains why you get the wrong process id.</p>\n\n<p>It does not however explain why it still works from the terminal window. The reason is that from the terminal window, the <code>pgrep</code> command is run with <code>bash</code> and not <code>sh</code> (as from the Perl script), see this question for more information about the difference: <a href=\"https://stackoverflow.com/questions/31772778/difference-between-pgrep-in-sh-and-bash\">Difference between pgrep in sh and bash</a>. As a result, running <code>pgrep -f</code> from the terminal window will not include the <code>pgrep</code> command itself, and therefore it will work for your case.</p>\n\n<p>To obtain a reliable result from Perl, you should use <a href=\"https://metacpan.org/pod/Proc::ProcessTable\" rel=\"nofollow noreferrer\"><code>Proc::ProcessTable</code></a>:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse Proc::ProcessTable;\n\nmy $pat = \"akonadiserver\";\nmy $pt = Proc::ProcessTable-&gt;new();\nmy @tab;\nfor my $p ( @{$pt-&gt;table} ){\n    if ($p-&gt;cmndline =~ /\\Q$pat\\E/) {\n        push @tab, {pid =&gt; $p-&gt;pid, start =&gt; $p-&gt;start};\n    }\n}\n\nsay $_-&gt;{pid} for (sort {$b-&gt;{start} &lt;=&gt; $a-&gt;{start}} @tab);\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 994572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca60776ac1049385f572a0651de7a0ae?s=128&d=identicon&r=PG", "display_name": "user994572", "link": "https://stackoverflow.com/users/994572/user994572"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1658, "favorite_count": 0, "accepted_answer_id": 31775817, "answer_count": 2, "score": 2, "last_activity_date": 1438544111, "creation_date": 1438392437, "last_edit_date": 1438392568, "question_id": 31757322, "link": "https://stackoverflow.com/questions/31757322/perl-pgrep-returning-multiple-pids", "title": "perl pgrep returning multiple pids", "body": "<p>I have some a perl code like this to get the pid of the process if it\nexisted. I wanted to know the return status of pgrep so I can find out if the pid is valid or not. Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl -w\nmy $pid=`pgrep -n -f \\\"akonadiserver\\\"`;\nprint \"$? \";\nchomp $pid;\nprint \"Output1: $pid\\n\";\n$pid=`pgrep -n -f \\\"akonadiserver\\\"`;\nmy $evalue=${^CHILD_ERROR_NATIVE};\nchomp $pid;\nprint \"Output2: $pid, $evalue\\n\";\n</code></pre>\n\n<p>But whenever I run it, I get the following:</p>\n\n<pre><code>0 Output1: 3054\nOutput2: 3056, 0\n</code></pre>\n\n<p>another run</p>\n\n<pre><code>0 Output1: 3059\nOutput2: 3061, 0\n</code></pre>\n\n<p>But in the system:</p>\n\n<pre><code>$ pgrep -n -f akonadiserver\n1862\n</code></pre>\n\n<p>Several problems seen here:</p>\n\n<p>1) The pid returned is changing all the time, most likely it is matching\nthe grep process itself. </p>\n\n<p>2) I don't have a way to find out of the pid returned is valid or not. <code>$?</code> \ndoesn't help.</p>\n\n<p>How do I check the return status and how do I use pgrep properly in perl?</p>\n"}, {"tags": ["arrays", "perl", "ternary"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1438378164, "post_id": 31755220, "comment_id": 51444527, "body": "<code>my @departments = map $_, @{ $opts-&gt;{d} };</code> :) No, don&#39;t use that, it&#39;s a weird way of doing <code>my @departments = @{ $opts-&gt;{d} &#47;&#47;= [] };</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438378340, "post_id": 31755308, "comment_id": 51444606, "body": "if you want to avoid the repetition: <code>map { $_ ? @$_ : () } $opts-&gt;{d}</code> or <code>map @$_, grep $_, $opts-&gt;{d}</code>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438379491, "post_id": 31755308, "comment_id": 51445091, "body": "Thanks. I don&#39;t know why it didn&#39;t dawn on me to use <code>()</code> instead of <code>@{[]}</code>."}, {"owner": {"reputation": 906, "user_id": 2901457, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/nxFaL.jpg?s=128&g=1", "display_name": "s_dolan", "link": "https://stackoverflow.com/users/2901457/s-dolan"}, "edited": false, "score": 0, "creation_date": 1438395802, "post_id": 31755308, "comment_id": 51448521, "body": "The slimmed down answer is definitely neat, but as this is in a large system where many developers (and some new to Perl) will be digging in, I&#39;m trying to keep it more readable. I&#39;d also suggest using the <a href=\"http://search.cpan.org/~rjbs/perl-5.22.0/lib/English.pm\" rel=\"nofollow noreferrer\">English</a> module to rename your <code>$_</code> to <code>$ARG</code>."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 4, "last_activity_date": 1438377905, "last_edit_date": 1438377905, "creation_date": 1438377424, "answer_id": 31755308, "question_id": 31755220, "link": "https://stackoverflow.com/questions/31755220/conditionally-instantiate-a-new-perl-array/31755308#31755308", "title": "Conditionally instantiate a new Perl array", "body": "<p>This result in <code>@departments</code> being set to an empty array if the condition fails.</p>\n\n<pre><code>my @departments = $opts-&gt;{'d'} ? @{$opts-&gt;{'d'}} : ();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 2, "last_activity_date": 1438422171, "last_edit_date": 1438422171, "creation_date": 1438377791, "answer_id": 31755374, "question_id": 31755220, "link": "https://stackoverflow.com/questions/31755220/conditionally-instantiate-a-new-perl-array/31755374#31755374", "title": "Conditionally instantiate a new Perl array", "body": "<p>I would use </p>\n\n<p><code>my @departments = @{ $opts-&gt;{d}||[] };</code></p>\n\n<p>If $opts->{d} does not exist, it is not true, thus perl looks for the right side of '||' and finds the empty arrayref, which is then cast into an empty list.</p>\n\n<p>It is not really that different from explicitly checking with if or the '?' operator, as the above answer, but I find it clearer and less distracting to read in code, especially since it is only one line.</p>\n\n<p>Consider alternatively:</p>\n\n<pre><code>$opts-&gt;{d} ||= [];\nmy @departments = @{$opts-&gt;{d}};\n</code></pre>\n\n<p>That would first set an empty arrayref, then cast as array, and would basically do the same thing ( unless you wanted to repeatedly cast into an array, then this method would save you from typing || [] repeatedly ).</p>\n\n<p>I hope this helps, I have seen the notation I suggested often for casting arrays / hashrefs ( <code>my %hash = %{ $hash||{} };</code> )when uncertain whether it has been set.</p>\n"}, {"comments": [{"owner": {"reputation": 906, "user_id": 2901457, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/nxFaL.jpg?s=128&g=1", "display_name": "s_dolan", "link": "https://stackoverflow.com/users/2901457/s-dolan"}, "edited": false, "score": 0, "creation_date": 1438395094, "post_id": 31755387, "comment_id": 51448431, "body": "Right, when I say &quot;conditionally instantiate&quot;, I mean reproduce the following behavior:  <code>my @departments = @{$opts-&gt;{&#39;d&#39;}} if $opts-&gt;{&#39;d&#39;}</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 906, "user_id": 2901457, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/nxFaL.jpg?s=128&g=1", "display_name": "s_dolan", "link": "https://stackoverflow.com/users/2901457/s-dolan"}, "edited": false, "score": 0, "creation_date": 1438404072, "post_id": 31755387, "comment_id": 51449802, "body": "@s_dolan Using <code>my</code> with a statement modifier is <a href=\"http://perldoc.perl.org/perlsyn.html#Statement-Modifiers\" rel=\"nofollow noreferrer\">undefined behavior</a>...don&#39;t do it! &quot;The value of the <code>my</code> variable may be <code>undef</code>, any previously assigned value, or possibly anything else. Don&#39;t rely on it. Future versions of perl might do something different from the version of perl you try it out on. Here be dragons.&quot;"}, {"owner": {"reputation": 906, "user_id": 2901457, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/nxFaL.jpg?s=128&g=1", "display_name": "s_dolan", "link": "https://stackoverflow.com/users/2901457/s-dolan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1438516925, "post_id": 31755387, "comment_id": 51474047, "body": "@ThisSuitIsBlackNot Thanks so much! I will avoid doing that in my code from this point onwards."}], "tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": true, "score": 7, "last_activity_date": 1438378333, "last_edit_date": 1438378333, "creation_date": 1438377838, "answer_id": 31755387, "question_id": 31755220, "link": "https://stackoverflow.com/questions/31755220/conditionally-instantiate-a-new-perl-array/31755387#31755387", "title": "Conditionally instantiate a new Perl array", "body": "<p>Doing this:</p>\n\n<pre><code>my @departments = $opts-&gt;{'d'} ? @{$opts-&gt;{'d'}} : undef;\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>my @departments = $opts-&gt;{'d'} ? @{$opts-&gt;{'d'}} : (undef);\n</code></pre>\n\n<p>which if <code>$opts-&gt;{d}</code> is false will assign a single element, <code>undef</code>, to the array <code>@departments</code>.  You don't want an array that contains a single element.  You want an empty array.</p>\n\n<p>So, what you want to do is assign an empty list to <code>@departments</code>, like so:</p>\n\n<pre><code>my @departments = $opts-&gt;{'d'} ? @{$opts-&gt;{'d'}} : ();\n</code></pre>\n\n<p>One other thing: Your title says \"conditionally instantiate a new Perl array\", and really what we're doing is conditionally filling it.  It's instantiated when you say <code>my @departments</code>.</p>\n"}], "owner": {"reputation": 906, "user_id": 2901457, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/nxFaL.jpg?s=128&g=1", "display_name": "s_dolan", "link": "https://stackoverflow.com/users/2901457/s-dolan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 31755387, "answer_count": 3, "score": 2, "last_activity_date": 1438422171, "creation_date": 1438376999, "last_edit_date": 1438395469, "question_id": 31755220, "link": "https://stackoverflow.com/questions/31755220/conditionally-instantiate-a-new-perl-array", "title": "Conditionally instantiate a new Perl array", "body": "<p>Initially, my code looked like this:</p>\n\n<pre><code>my @departments = @{$opts-&gt;{'d'}} if $opts-&gt;{'d'};\n</code></pre>\n\n<p>I wanted to refactor the in-line <code>if</code> statement according to <a href=\"https://en.wikipedia.org/wiki/Perl_Best_Practices\" rel=\"nofollow\">Perl Best Practices</a>, so now I've got the following code:</p>\n\n<pre><code>my @departments;\nif( $opts-&gt;{'d'} )\n{\n    @departments = @{$opts-&gt;{'d'} };\n}\n</code></pre>\n\n<p><code>$opts</code> is just a hash reference that could possibly have an array ref as the value of a key.</p>\n\n<p>I'd like to do something like the following to keep the code on one line:</p>\n\n<pre><code>my @departments = $opts-&gt;{'d'} ? @{$opts-&gt;{'d'}} : undef;\n</code></pre>\n\n<p>But obviously that will just put one element into <code>@departments</code> with value <code>undef</code>.</p>\n\n<p>The reason I'm performing this action in this way is because I later want to be able to check </p>\n\n<pre><code>if( @departments )\n{\n    my $department_string = join( q{,}, @departments );\n    $big_string . $department_string;\n}\n</code></pre>\n\n<p>to dynamically add to a string.</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1438527723, "last_edit_date": 1438527723, "creation_date": 1438376367, "answer_id": 31755100, "question_id": 31755036, "link": "https://stackoverflow.com/questions/31755036/remove-a-part-in-array-value-without-foreach/31755100#31755100", "title": "remove a part in array value without foreach", "body": "<p><code>$_[0]</code> just refers to the first element in the array you pass to <code>cheat</code>. Your processing algorithm looks correct, you just need to apply it to all of the elements in <code>@_</code>. There are many ways to iterate over a list to produce another list. <code>map</code> is often a good way:</p>\n\n<pre><code>sub cheat {\n    return map {\n        my @o = split(/\\//,$_,3);          # split on $_, not $_[0]\n        my @r = split (/\\//,$o[2],0);\n        $r[0];                             # add to map output, don't return\n    } @_;\n}\n</code></pre>\n\n<p>Or you could keep your existing <code>cheat</code> function and run <code>map</code> outside the function.</p>\n\n<pre><code>@fixed_array = map { cheat($_) } @array;\n</code></pre>\n\n<p><code>foreach</code> would work too -- but you seem reluctant to use it for some reason.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 7, "last_activity_date": 1438377140, "creation_date": 1438377140, "answer_id": 31755250, "question_id": 31755036, "link": "https://stackoverflow.com/questions/31755036/remove-a-part-in-array-value-without-foreach/31755250#31755250", "title": "remove a part in array value without foreach", "body": "<p>You should use the <a href=\"https://metacpan.org/pod/URI\" rel=\"noreferrer\"><code>URI</code></a> module for manipulating URL strings</p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse URI;\n\nmy @a = qw&lt; http://aze.com/azfaz  http://acc.com/azfssz &gt;;\n\nsub host_name {\n  return map { URI-&gt;new($_)-&gt;host } @_;\n}\n\nsay for host_name @a;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>aze.com\nacc.com\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4048442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f412bf74c10abd67451224f41487757c?s=128&d=identicon&r=PG&f=1", "display_name": "imedox", "link": "https://stackoverflow.com/users/4048442/imedox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1438527723, "creation_date": 1438376128, "last_edit_date": 1438381005, "question_id": 31755036, "link": "https://stackoverflow.com/questions/31755036/remove-a-part-in-array-value-without-foreach", "title": "remove a part in array value without foreach", "body": "<p>For example I have this array </p>\n\n<pre><code>my @a = (\"http://aze.com/azfaz\", \"http://acc.com/azfssz\");\n</code></pre>\n\n<p>I want to remove the <code>azfaz</code>/<code>azfssz</code> part in the URLs without using <code>foreach</code></p>\n\n<p>I made this subroutine to remove the last section after the 3 slash <code>/</code> characters</p>\n\n<pre><code>sub cheat {\n    my @o = split( /\\//, $_[0], 3 );\n    my @r = split( /\\//, $o[2], 0 );\n    return $r[0];\n}\n</code></pre>\n\n<p>When I call <code>cheat(@a)</code> it just removes the <code>azfaz</code> from the first site in array and it's not working for the other</p>\n"}, {"tags": ["perl", "pdf"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1438375599, "post_id": 31754669, "comment_id": 51443434, "body": "That&#39;s seems like something you could figure out on your own with some experimentation"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1438377892, "post_id": 31754669, "comment_id": 51444395, "body": "don&#39;t kill too many trees in the process..."}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 1, "creation_date": 1438381410, "post_id": 31754669, "comment_id": 51445732, "body": "Most likely the letter base line is the answer, that at least is true for pdfs in general."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1438424221, "post_id": 31754669, "comment_id": 51454076, "body": "How accurate is your printer?"}, {"owner": {"reputation": 265, "user_id": 1474829, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/a037b05b6f4006d3db06398aba89c6e8?s=128&d=identicon&r=PG", "display_name": "Fred Sullet", "link": "https://stackoverflow.com/users/1474829/fred-sullet"}, "edited": false, "score": 0, "creation_date": 1438540120, "post_id": 31754669, "comment_id": 51480541, "body": "My printer is not per say a killer... Samsung M2070..."}], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 1474829, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/a037b05b6f4006d3db06398aba89c6e8?s=128&d=identicon&r=PG", "display_name": "Fred Sullet", "link": "https://stackoverflow.com/users/1474829/fred-sullet"}, "edited": false, "score": 0, "creation_date": 1438424124, "post_id": 31755388, "comment_id": 51454047, "body": "OK thanks so how do you explain the 1cm y is located at the center of the text while the x is correctly at 1 inch ? I tried Tx 72 AND ty 72 and again the 1 inch y is at the center of the text... strange. when trying tx 0 and Ty 0, I correctly have my text starting horizontally and vertically at the bottom left corner of the page !"}, {"owner": {"reputation": 4411, "user_id": 2105284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759991764080ee52a3dc02b3d88ec4fc?s=128&d=identicon&r=PG", "display_name": "dwarring", "link": "https://stackoverflow.com/users/2105284/dwarring"}, "reply_to_user": {"reputation": 265, "user_id": 1474829, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/a037b05b6f4006d3db06398aba89c6e8?s=128&d=identicon&r=PG", "display_name": "Fred Sullet", "link": "https://stackoverflow.com/users/1474829/fred-sullet"}, "edited": false, "score": 1, "creation_date": 1438458927, "post_id": 31755388, "comment_id": 51463261, "body": "Just quickly: Measuring of hard-copy is not recommended. Acrobat Reader has some pretty good built-in measuring tools. <code>Zoom</code> &amp; <code>Edit &gt;&gt; Analysis &gt;&gt; Measuring Tools</code> are your friends, along with <code>Edit &gt;&gt; Preferences &gt;&gt; Measuring</code>."}, {"owner": {"reputation": 265, "user_id": 1474829, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/a037b05b6f4006d3db06398aba89c6e8?s=128&d=identicon&r=PG", "display_name": "Fred Sullet", "link": "https://stackoverflow.com/users/1474829/fred-sullet"}, "edited": false, "score": 0, "creation_date": 1438540454, "post_id": 31755388, "comment_id": 51480656, "body": "According to Reader distance tool, my text seems correctly positioned on the page. I guess I have to blame my printer ... crazy it is perfectly precise for x and not at all for y coordinate"}, {"owner": {"reputation": 4411, "user_id": 2105284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759991764080ee52a3dc02b3d88ec4fc?s=128&d=identicon&r=PG", "display_name": "dwarring", "link": "https://stackoverflow.com/users/2105284/dwarring"}, "reply_to_user": {"reputation": 265, "user_id": 1474829, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/a037b05b6f4006d3db06398aba89c6e8?s=128&d=identicon&r=PG", "display_name": "Fred Sullet", "link": "https://stackoverflow.com/users/1474829/fred-sullet"}, "edited": false, "score": 0, "creation_date": 1438542415, "post_id": 31755388, "comment_id": 51481253, "body": "Might be something in your printer settings that can help. Most likely it&#39;s scaling and not respecting the media box setting."}, {"owner": {"reputation": 265, "user_id": 1474829, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/a037b05b6f4006d3db06398aba89c6e8?s=128&d=identicon&r=PG", "display_name": "Fred Sullet", "link": "https://stackoverflow.com/users/1474829/fred-sullet"}, "edited": false, "score": 0, "creation_date": 1438712077, "post_id": 31755388, "comment_id": 51558252, "body": "I basically measured directly on the hard copy because I was trying to automize barcodes printing on labels (A4 sheets). Checking my printer settings ( which I never changed) I noticed that the number of lines per inch is set to 6. Does it seem correct?"}, {"owner": {"reputation": 4411, "user_id": 2105284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759991764080ee52a3dc02b3d88ec4fc?s=128&d=identicon&r=PG", "display_name": "dwarring", "link": "https://stackoverflow.com/users/2105284/dwarring"}, "reply_to_user": {"reputation": 265, "user_id": 1474829, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/a037b05b6f4006d3db06398aba89c6e8?s=128&d=identicon&r=PG", "display_name": "Fred Sullet", "link": "https://stackoverflow.com/users/1474829/fred-sullet"}, "edited": false, "score": 0, "creation_date": 1438718300, "post_id": 31755388, "comment_id": 51561543, "body": "I don&#39;t think that setting would explain the variation depending obn exactly where you put the text. Not knowing the driver, I was more thinking of along the lines of something that can be turned off like <code>autocropping</code> or <code>scale-to-fit</code>. Just being hopeful maybe."}, {"owner": {"reputation": 265, "user_id": 1474829, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/a037b05b6f4006d3db06398aba89c6e8?s=128&d=identicon&r=PG", "display_name": "Fred Sullet", "link": "https://stackoverflow.com/users/1474829/fred-sullet"}, "edited": false, "score": 0, "creation_date": 1442839305, "post_id": 31755388, "comment_id": 53234031, "body": "I asked 2 friends to print this pdf file : <a href=\"https://www.dropbox.com/s/zo5oxsv98662k0i/test1.pdf?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/zo5oxsv98662k0i/test1.pdf?dl=0</a>. One of them has a top business printer and none of them has the square printed 1inch from bottom and left. I checked my printer settings again and I see no obvious setting explaining the offset."}], "tags": [], "owner": {"reputation": 4411, "user_id": 2105284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759991764080ee52a3dc02b3d88ec4fc?s=128&d=identicon&r=PG", "display_name": "dwarring", "link": "https://stackoverflow.com/users/2105284/dwarring"}, "is_accepted": false, "score": 2, "last_activity_date": 1438468381, "last_edit_date": 1438468381, "creation_date": 1438377838, "answer_id": 31755388, "question_id": 31754669, "link": "https://stackoverflow.com/questions/31754669/perl-pdf-text-coordinates/31755388#31755388", "title": "perl PDF text coordinates", "body": "<p>Here's a couple of key objects copied and pasted from the output PDF, once uncompressed:</p>\n\n<p>the Page object:</p>\n\n<pre><code>5 0 obj\n&lt;&lt; /Type /Page /Contents [ 7 0 R ] /MediaBox [ 0 0 595 842 ] /Parent 2 0 R\n   /Resources &lt;&lt; /Font &lt;&lt; /HeBoCBA~1438376482 6 0 R &gt;&gt; /ProcSet\n   [/PDF /Text /ImageB /ImageC /ImageI ] &gt;&gt; &gt;&gt;\nendobj\n</code></pre>\n\n<p>The page content:</p>\n\n<pre><code>7 0 obj\n&lt;&lt; /Length 77 &gt;&gt;\nstream\nBT  /HeBoCBA~1438376482 20 Tf 1 0 0 1 72 28 Tm [ (Hello World!) ] TJ  ET\nendstream\nendobj\n</code></pre>\n\n<p>The Media Box is <code>[0 0 595 842]</code>, which is A4.</p>\n\n<p>The instruction <code>1 0 0 1 72 28 Tm</code> (set text matrix) is setting <code>Tx</code> to 72 and <code>Ty</code> to 28.</p>\n\n<p>So looking at the PDF, it does seem to be correctly setting the page size to <code>A4</code> and positioning text from its baseline rather than its center. </p>\n\n<p><em>Update:</em>\nHere's a screen shot showing the appearance of <code>Hello World!</code> on the PDF in Adobe Reader, using the measuring tools at a zoom of 300%.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YAhlu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YAhlu.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 265, "user_id": 1474829, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/a037b05b6f4006d3db06398aba89c6e8?s=128&d=identicon&r=PG", "display_name": "Fred Sullet", "link": "https://stackoverflow.com/users/1474829/fred-sullet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1438468381, "creation_date": 1438374519, "question_id": 31754669, "link": "https://stackoverflow.com/questions/31754669/perl-pdf-text-coordinates", "title": "perl PDF text coordinates", "body": "<p>this a simple hello world test script in perl to generate a PDF file :</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse PDF::API2;\n\n# Create a blank PDF file\n$pdf = PDF::API2-&gt;new();\n\n# Add a blank page\n$page = $pdf-&gt;page();\n\n# Set the page size\n$page-&gt;mediabox('A4');\n\n# Add a built-in font to the PDF\n$font = $pdf-&gt;corefont('Helvetica-Bold');\n\n# Add some text to the page\n$text = $page-&gt;text();\n$text-&gt;font($font, 20);\n$text-&gt;translate(72, 28); # 1inch, 1cm\n$text-&gt;text('Hello World!');\n\n# Save the PDF\n$pdf-&gt;saveas('test.pdf');\n</code></pre>\n\n<p>I was expecting the bottom of my text to be 1cm above the page bottom but it's not (on the other hand, the x position is correctly at 1 inch from the left of the page).</p>\n\n<p>Measuring on the printed page shows that 1cm is at the center of the text (more or less). Does this mean the y-positioning of an object is from its vertical middle ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438372085, "post_id": 31753737, "comment_id": 51441741, "body": "Seems to me it should warn too."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438371986, "post_id": 31753992, "comment_id": 51441690, "body": "But that isn&#39;t what the documentation says, which is basically that you will get a deprecation warning if you use a literal brace in a regex pattern without it being escaped"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1438372467, "post_id": 31753992, "comment_id": 51441941, "body": "That it&#39;s a bug makes a good illustration of <i>why</i> this change is being made."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1438373303, "post_id": 31753992, "comment_id": 51442338, "body": "and for the <code>&#47;(x){x}&#47;</code> - following the logic, should emit the warning, because the <code>&#47;(x){x}&#47;</code> isn&#39;t an unambiguous match... but no warning..."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": -1, "last_activity_date": 1438371748, "creation_date": 1438371748, "answer_id": 31753992, "question_id": 31753737, "link": "https://stackoverflow.com/questions/31753737/deprecated-left-curly-bracket-in-perl-regex-exactly-when/31753992#31753992", "title": "Deprecated left curly bracket in Perl regex - exactly when?", "body": "<p>The logic is to issue the warning when <code>{...}</code> is in a context that could mean \"match something some number of times\", and not to issue it when it means something else.</p>\n\n<p>Let's replace <code>{x}</code> with <code>{3}</code> and think about the regexs mean.</p>\n\n<p>Your first example, <code>/x{3}/</code>  means match <code>x</code> three teams: \"<code>xxx</code>\"</p>\n\n<p>Your last example, <code>/x(x{3})/</code>, means match <code>x</code> and then match <code>x</code> three times, capturing the string of 3 <code>x</code>'s in a group</p>\n\n<p>In <code>/x({3})/</code>, the <code>{3}</code> is in a capture group by itself, and so it does mean \"match something 3 times\". It unambiguously means match <code>x</code> and then match the literal string <code>{3}</code>, putting it into a capture group.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1438403427, "last_edit_date": 1438403427, "creation_date": 1438372101, "answer_id": 31754077, "question_id": 31753737, "link": "https://stackoverflow.com/questions/31753737/deprecated-left-curly-bracket-in-perl-regex-exactly-when/31754077#31754077", "title": "Deprecated left curly bracket in Perl regex - exactly when?", "body": "<p>This is a bug, either in the documentation or in the regex compiler. I'm not sure that it matters much though</p>\n\n<p>At a wild guess, the code for raising the warning has been written for the situation where what's inside the braces doesn't look like <code>\\d+(?:,\\d+)?</code> but not for when there's nothing before the opening brace to quantify</p>\n\n<p>For example, it accepts the braces as text and <em>warns</em> with something like <code>/x{4x}/</code> or <code>/x{4,x}/</code>, but <em>doesn't warn</em> for <code>/{3,4}/</code>, <code>/x({3,4})/</code> or <code>/x(a|{3,4})/</code></p>\n"}, {"comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1438376967, "post_id": 31755160, "comment_id": 51444016, "body": "The comment explains it. Probably, the 5.24 will warn more. ;) Thank you for finding this."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 5, "last_activity_date": 1438720851, "last_edit_date": 1438720851, "creation_date": 1438376688, "answer_id": 31755160, "question_id": 31753737, "link": "https://stackoverflow.com/questions/31753737/deprecated-left-curly-bracket-in-perl-regex-exactly-when/31755160#31755160", "title": "Deprecated left curly bracket in Perl regex - exactly when?", "body": "<p>The warning is only emitted when the curly:</p>\n\n<ul>\n<li>isn't at the beginning of the pattern</li>\n<li>follows an alphabetic character</li>\n<li>is not part of a <a href=\"http://perldoc.perl.org/perlrebackslash.html#All-the-sequences-and-escapes\" rel=\"nofollow\">special escape sequence</a> <code>\\b{}</code>, <code>\\B{}</code>, <code>\\g{}</code>, <code>\\k{}</code>, <code>\\N{}</code>, <code>\\o{}</code>, <code>\\p{}</code>, <code>\\P{}</code>, or <code>\\x{}</code></li>\n<li>is not a part of a quantifier of the form <code>{n}</code>, <code>{n,}</code>, or <code>{n,m}</code>, where <code>n</code> and <code>m</code> are positive integers</li>\n</ul>\n\n<p>See regcomp.c in the Perl source (the below is from 5.22.0):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>        case '{':\n            /* Currently we don't warn when the lbrace is at the start\n             * of a construct.  This catches it in the middle of a\n             * literal string, or when its the first thing after\n             * something like \"\\b\" */\n            if (! SIZE_ONLY\n                &amp;&amp; (len || (p &gt; RExC_start &amp;&amp; isALPHA_A(*(p -1)))))\n            {\n                ckWARNregdep(p + 1, \"Unescaped left brace in regex is deprecated, passed through\");\n            }\n            /*FALLTHROUGH*/\n        default:    /* A literal character */\n          normal_default:\n            if (UTF8_IS_START(*p) &amp;&amp; UTF) {\n                STRLEN numlen;\n                ender = utf8n_to_uvchr((U8*)p, RExC_end - p,\n                                       &amp;numlen, UTF8_ALLOW_DEFAULT);\n                p += numlen;\n            }\n            else\n                ender = (U8) *p++;\n            break;\n        } /* End of switch on the literal */\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>$ perl -e '/{/'    # Beginning of pattern, no warning\n\n$ perl -e '/.{/'   # Doesn't follow alpha, no warning\n\n$ perl -e '/x{3}/' # Valid quantifier, no warning\n\n$ perl -e '/\\x{/'  # Part of special escape sequence \\x{}, different warning\nMissing right brace on \\x{} in regex; marked by &lt;-- HERE in m/\\x{ &lt;-- HERE / at -e line 1.\n\n$ perl -e '/x{/'   # Follows alpha, isn't a quantifier or special escape, warns\nUnescaped left brace in regex is deprecated, passed through in regex; marked by &lt;-- HERE in m/x{ &lt;-- HERE / at -e line 1.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 1626653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/36RNP.jpg?s=128&g=1", "display_name": "khw", "link": "https://stackoverflow.com/users/1626653/khw"}, "is_accepted": false, "score": 0, "last_activity_date": 1482288061, "creation_date": 1482288061, "answer_id": 41254271, "question_id": 31753737, "link": "https://stackoverflow.com/questions/31753737/deprecated-left-curly-bracket-in-perl-regex-exactly-when/41254271#41254271", "title": "Deprecated left curly bracket in Perl regex - exactly when?", "body": "<p>There is a bug in which unescaped left braces weren't reported on.  It is not fixed in any stable release, but is available in the current 5.25 development series.  Stable 5.26, to be released approximately in May should have this fixed.</p>\n\n<p>But the documentation has been clarified, and here it is:</p>\n\n<blockquote>\n  <p>Blockquote\n  The simple rule to remember, if you want to\n           match a literal \"{\" character (U+007B \"LEFT CURLY BRACKET\") in a\n           regular expression pattern, is to escape each literal instance of it\n           in some way. Generally easiest is to precede it with a backslash, like\n           \"{\" or enclose it in square brackets (\"[{]\"). If the pattern\n           delimiters are also braces, any matching right brace (\"}\") should also\n           be escaped to avoid confusing the parser, for example,</p>\n</blockquote>\n\n<pre><code>      qr{abc\\{def\\}ghi}\n\n     Forcing literal \"{\" characters to be escaped will enable the Perl\n     language to be extended in various ways in future releases. To avoid\n     needlessly breaking existing code, the restriction is is not enforced\n     in contexts where there are unlikely to ever be extensions that could\n     conflict with the use there of \"{\" as a literal.\n\n     In this release of Perl, some literal uses of \"{\" are fatal, and some\n     still just deprecated. This is because of an oversight: some uses of a\n     literal \"{\" that should have raised a deprecation warning starting in\n     v5.20 did not warn until v5.26. By making the already-warned uses\n     fatal now, some of the planned extensions can be made to the language\n     sooner.\n\n     The contexts where no warnings or errors are raised are:\n\n     *   as the first character in a pattern, or following \"^\" indicating\n         to anchor the match to the beginning of a line.\n\n     *   as the first character following a \"|\" indicating alternation.\n\n     *   as the first character in a parenthesized grouping like\n\n          /foo({bar)/\n          /foo(?:{bar)/\n\n     *   as the first character following a quantifier\n\n          /\\s*{/\n</code></pre>\n"}], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5594, "favorite_count": 2, "accepted_answer_id": 31755160, "answer_count": 4, "score": 8, "last_activity_date": 1482288061, "creation_date": 1438370766, "last_edit_date": 1438379554, "question_id": 31753737, "link": "https://stackoverflow.com/questions/31753737/deprecated-left-curly-bracket-in-perl-regex-exactly-when", "title": "Deprecated left curly bracket in Perl regex - exactly when?", "body": "<p><a href=\"http://perldoc.perl.org/perlre.html#Quantifiers\"><code>perldoc perlre</code></a> says this:</p>\n\n<blockquote>\n  <p>(If a curly bracket occurs in any other context and does not form part\n  of a backslashed sequence like <code>\\x{...}</code>, it is treated as a regular\n  character. However, a deprecation warning is raised for all such\n  occurrences, and in Perl v5.26, literal uses of a curly bracket will\n  be required to be escaped, say by preceding them with a backslash\n  (<code>\"\\{\"</code>) or enclosing them within square brackets (<code>\"[{]\"</code>). This change\n  will allow for future syntax extensions (like making the lower bound\n  of a quantifier optional), and better error checking of quantifiers.)</p>\n</blockquote>\n\n<p>OK, so the following prints the deprecation message.</p>\n\n<pre><code>perl -lE 'm/x{x}/'\n</code></pre>\n\n<p>Why doesn't the following?</p>\n\n<pre><code>perl -lE 'm/x({x})/'\n</code></pre>\n\n<p>e.g. in the capture group is the <code>{</code> allowed unescaped? Probably not because</p>\n\n<pre><code>perl -lE 'm/x(x{x})/'\n</code></pre>\n\n<p>also prints the warning.</p>\n\n<p>So, what is the exact \"logic\"?</p>\n\n<p>P.S.: I will escape every literal <code>{</code>, but am wondering about the rationale behind the above.</p>\n"}, {"tags": ["perl", "memory-leaks", "xs"], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 839788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a3ea49561a4e8986dee654dd8cfdaf?s=128&d=identicon&r=PG&f=1", "display_name": "gaijin", "link": "https://stackoverflow.com/users/839788/gaijin"}, "edited": false, "score": 0, "creation_date": 1438374640, "post_id": 31753660, "comment_id": 51442989, "body": "Thanks, that worked. In the seconds case, what would be the proper method of free&#39;ing the memory?"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 185, "user_id": 839788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a3ea49561a4e8986dee654dd8cfdaf?s=128&d=identicon&r=PG&f=1", "display_name": "gaijin", "link": "https://stackoverflow.com/users/839788/gaijin"}, "edited": false, "score": 2, "creation_date": 1438454985, "post_id": 31753660, "comment_id": 51462149, "body": "@gaijin In the second example, you can only free the memory in a custom <a href=\"http://perldoc.perl.org/perlxstypemap.html\" rel=\"nofollow noreferrer\">typemap</a> entry."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1438371887, "last_edit_date": 1438371887, "creation_date": 1438370455, "answer_id": 31753660, "question_id": 31753272, "link": "https://stackoverflow.com/questions/31753272/perl-xs-memory-handling-of-strings/31753660#31753660", "title": "Perl XS Memory Handling of Strings", "body": "<p>Among other problems<sup>[1]</sup>, your first snippet allocates memory using <code>New</code>, but never deallocates it.</p>\n\n<p>Among other problems, your second snippet allocates memory using <code>strdup</code>, but never deallocates it.</p>\n\n<p>The underlying problem with your third snippet is that you claim the XS function returns a value and it doesn't. That value would have been assigned to <a href=\"http://perldoc.perl.org/perlxs.html#The-RETVAL-Variable\" rel=\"nofollow\"><code>RETVAL</code></a>, which is automatically created for that very purpose. The variable won't be created if you correctly specify that you don't return anything.</p>\n\n<pre><code>void\nstring3()\nPREINIT:\n    char *str;\nPPCODE:\n    str = strdup(\"Hello World3\");\n    XPUSHs(sv_2mortal(newSVpv(str, 0)));\n    free(str);\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>void\nstring3()\nPPCODE:\n    XPUSHs(sv_2mortal(newSVpv(\"Hello World3\", 0)));\n</code></pre>\n\n<p>Note that I moved your declarations out of <code>PPCODE</code>. In C, declarations can't appear after non-declarations, and the code in <code>PPCODE</code> can appear after non-declarations (depending on the options used to build Perl). Declarations belong in <code>PREINIT</code>. You could also use curlies around the code in <code>PPCODE</code>.</p>\n\n<hr>\n\n<ol>\n<li>One of them is the use of <code>New</code>. You shoudln't be using <code>New</code>. <code>New</code> was deprecated in favour of <code>Newx</code> ages ago. <code>New</code> hasn't even been in the documentation for as long as I can remember.</li>\n</ol>\n"}], "owner": {"reputation": 185, "user_id": 839788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64a3ea49561a4e8986dee654dd8cfdaf?s=128&d=identicon&r=PG&f=1", "display_name": "gaijin", "link": "https://stackoverflow.com/users/839788/gaijin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 31753660, "answer_count": 1, "score": 0, "last_activity_date": 1438371887, "creation_date": 1438369038, "question_id": 31753272, "link": "https://stackoverflow.com/questions/31753272/perl-xs-memory-handling-of-strings", "title": "Perl XS Memory Handling of Strings", "body": "<p>I have an XSUB like this:</p>\n\n<pre><code>char *\nstring4()\nCODE:\n    char *str = strdup(\"Hello World4\");\n    int len = strlen(str) + 1;\n    New(0, RETVAL, len, char);\n    Copy(str, RETVAL, len, char);\n    free(str);\nOUTPUT:\n    RETVAL\n</code></pre>\n\n<p>But this shows up as a memory leak, on the New(), in valgrind and if I run it in a loop the resident memory will continue to grow. </p>\n\n<p>I get the same thing if I use this one too:</p>\n\n<pre><code>char *\nstring2()\nCODE:\n    char *str = strdup(\"Hello World2\");\n    RETVAL = str;\nOUTPUT:\n    RETVAL\n</code></pre>\n\n<p>I'm able to prevent the leak and the increasing memory size by doing:</p>\n\n<pre><code>char *\nstring3()\nPPCODE:\n    char *str = strdup(\"Hello World3\");\n    XPUSHs(sv_2mortal(newSVpv(str, 0)));\n    free(str);\n</code></pre>\n\n<p>but the problem with this solution is that when I compile with -Werror I get the following warnings/errors.</p>\n\n<pre><code>test.c: In function \u2018XS_test_string3\u2019:\n/usr/lib/x86_64-linux-gnu/perl/5.20/CORE/XSUB.h:175:28: error: unused variable \u2018targ\u2019 [-Werror=unused-variable]\n #define dXSTARG SV * const targ = ((PL_op-&gt;op_private &amp; OPpENTERSUB_HASTARG) \\\n                            ^\ntest.c:270:2: note: in expansion of macro \u2018dXSTARG\u2019\n  dXSTARG;\n  ^\ntest.c:269:9: error: unused variable \u2018RETVAL\u2019 [-Werror=unused-variable]\n  char * RETVAL;\n</code></pre>\n\n<p>the c file gets built with an unused RETVAL:</p>\n\n<pre><code>XS_EUPXS(XS_test_string3); /* prototype to pass -Wmissing-prototypes */\nXS_EUPXS(XS_test_string3)\n{\n    dVAR; dXSARGS;\n    if (items != 0)\n       croak_xs_usage(cv,  \"\");\n    PERL_UNUSED_VAR(ax); /* -Wall */\n    SP -= items;\n    {\n    char *  RETVAL;\n    dXSTARG;\n#line 61 \"test.xs\"\n    char *str = strdup(\"Hello World3\");\n    XPUSHs(sv_2mortal(newSVpv(str, 0)));\n    free(str);\n#line 276 \"test.c\"\n    PUTBACK;\n    return;\n    }\n}\n</code></pre>\n\n<p>So is there a better way to handle the returning of allocated strings in XS? Is there a way to return the string using RETVAL and free the memory? I appreciate any help.</p>\n"}, {"tags": ["python", "performance", "perl", "sorting"], "comments": [{"owner": {"reputation": 476, "user_id": 1440839, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45de5817ff1237c5b6781d99ee7eec7c?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1440839/john"}, "edited": false, "score": 0, "creation_date": 1438367295, "post_id": 31752670, "comment_id": 51439230, "body": "Well it appears my question will be voted into oblivion..... If you do not like the question or would like me to improve it in some way.... please let me know and I will be happy to update/modify it."}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1438367433, "post_id": 31752670, "comment_id": 51439296, "body": "I&#39;m not sure why people are downvoting so much either. I was reading this and saw them come in and thought it was a legitimate question. Might be helpful if you can run and include more concrete performance data as well. But, at least to me, it is an interesting and well written question."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 1, "creation_date": 1438367622, "post_id": 31752670, "comment_id": 51439407, "body": "Did you research which type of sort Python is using?    <a href=\"https://en.wikipedia.org/wiki/Timsort\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Timsort</a>. You might also wish to look at <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.sort.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy/reference/generated/numpy.sort.html</a>&zwnj;&#8203;."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1438367793, "post_id": 31752670, "comment_id": 51439496, "body": "Does it improve matters in Perl if you write a sort function rather than using inline code?"}, {"owner": {"reputation": 476, "user_id": 1440839, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45de5817ff1237c5b6781d99ee7eec7c?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1440839/john"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1438367865, "post_id": 31752670, "comment_id": 51439533, "body": "@cdarke Python seems to be running the sort fine (in comparison), I&#39;m not sure what the default sort method is however."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 1, "creation_date": 1438367986, "post_id": 31752670, "comment_id": 51439596, "body": "It&#39;s a Timsort, hence the wikipedia link.  It is suggested that this is a superior algorithm, but I suggest there are probably more factors involved here, inclusion hash lookups."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1438368208, "post_id": 31752670, "comment_id": 51439706, "body": "One big difference: Python, with the <code>key</code> argument to <code>sort</code>, only applies the key function to each list element once (O(n)). Perl, on the other hand, has to retrieve the sort key on each comparison (O(n lg n)). This at least contributes to the increased runtime in Perl."}, {"owner": {"reputation": 476, "user_id": 1440839, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45de5817ff1237c5b6781d99ee7eec7c?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1440839/john"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1438368562, "post_id": 31752670, "comment_id": 51439898, "body": "@cdarke Apologies and many thanks for the info, very interesting. Reading more about the Timsort now. Perhaps there is a Perl implementation. Thanks again!!!"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1438368789, "post_id": 31752670, "comment_id": 51440038, "body": "See <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Schwartzian_transform</a>."}, {"owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 3, "creation_date": 1438368847, "post_id": 31752670, "comment_id": 51440060, "body": "did you isolate the json decoding time from the sort part? Probably it takes different times in both environments"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1438369379, "post_id": 31752670, "comment_id": 51440385, "body": "downvotes (wasn&#39;t me) possibly due to the invalid json, incomplete code, and non-reproducability?"}, {"owner": {"reputation": 476, "user_id": 1440839, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45de5817ff1237c5b6781d99ee7eec7c?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1440839/john"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1438371753, "post_id": 31752670, "comment_id": 51441577, "body": "@ysth All good reasons... :-) I&#39;ve edited the question, for the record the question currently has 4 upvotes, but seeing as the problem has nothing to do with sorting, it will very likely go negative very soon! It seems it is the http get request in the perl code which is taking the majority of the time to complete."}], "answers": [{"comments": [{"owner": {"reputation": 476, "user_id": 1440839, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45de5817ff1237c5b6781d99ee7eec7c?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1440839/john"}, "edited": false, "score": 0, "creation_date": 1438369947, "post_id": 31753182, "comment_id": 51440683, "body": "thanks for taking the time to answer. I have attempted to benchmark using your code, I&#39;ll write the timings above in the question."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 7, "last_activity_date": 1438369085, "last_edit_date": 1438369085, "creation_date": 1438368768, "answer_id": 31753182, "question_id": 31752670, "link": "https://stackoverflow.com/questions/31752670/python-vs-perl-sort-performance/31753182#31753182", "title": "Python vs perl sort performance", "body": "<p>Your benchmark is flawed, you're benchmarking multiple variables, not one.  It is not just sorting data, but it is also doing JSON decoding, and creating strings, and appending to an array.  You can't know how much time is spent sorting and how much is spent doing everything else.</p>\n\n<p>The matter is made worse in that there are several different JSON implementations in Perl each with their own different performance characteristics.  Change the underlying JSON library and the benchmark will change again.</p>\n\n<p>If you want to benchmark sort, you'll have to change your benchmark code to eliminate the cost of loading your test data from the benchmark, JSON or not.</p>\n\n<p>Perl and Python have their own internal benchmarking libraries that can benchmark individual functions, but their instrumentation can make them perform far less well than they would in the real world.  The performance drag from each benchmarking implementation will be different and might introduce a false bias.  These benchmarking libraries are more useful for comparing two functions in the same program.  For comparing between languages, keep it simple.</p>\n\n<p>Simplest thing to do to get an accurate benchmark is to time them within the program using the wall clock.</p>\n\n<pre><code># The current time to the microsecond.\nuse Time::HiRes qw(gettimeofday);\n\nmy @list;\nmy $decoded = decode_json($page);\n\nmy $start_time = gettimeofday;\n\nforeach my $id (sort {$decoded-&gt;{$b}-&gt;{key5} &lt;=&gt; $decoded-&gt;{$a}-&gt;{key5}} keys %{$decoded}) {\n    push(@list,{\"key\"=&gt;$id,\"key1\"=&gt;$decoded-&gt;{$id}{key1}...etc));\n}\n\nmy $end_time = gettimeofday;\n\nprint \"sort and append took @{[ $end_time - $start_time ]} seconds\\n\";\n</code></pre>\n\n<p>(I leave the Python version as an exercise)</p>\n\n<p>From here you can improve your technique.  You can use CPU seconds instead of wall clock.  The array append and cost of creating the string are still involved in the benchmark, they can be eliminated so you're just benchmarking sort.  And so on.</p>\n\n<p>Additionally, you can use <a href=\"https://metacpan.org/pod/Devel::NYTProf\">a profiler</a> to find out where your programs are spending their time.  These have the same raw performance caveats as benchmarking libraries, the results are only useful to find out what percentage of its time a program is using where, but it will prove useful to quickly see if your benchmark has unexpected drag.</p>\n\n<p>The important thing is to benchmark what you think you're benchmarking.</p>\n"}, {"comments": [{"owner": {"reputation": 476, "user_id": 1440839, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45de5817ff1237c5b6781d99ee7eec7c?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1440839/john"}, "edited": false, "score": 0, "creation_date": 1438372205, "post_id": 31753236, "comment_id": 51441801, "body": "Absolutely correct. The sorting in Perl is fine, it appears to be the http get where the issue lies."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438372781, "post_id": 31753236, "comment_id": 51442083, "body": "LWP is quite slow. There&#39;s Net::Curl"}, {"owner": {"reputation": 476, "user_id": 1440839, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45de5817ff1237c5b6781d99ee7eec7c?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1440839/john"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438374047, "post_id": 31753236, "comment_id": 51442717, "body": "@ikegami I&#39;ve just tried with WWW::Curl::Easy, so so much faster. Thank you for the suggestion, very much appreciated!!!"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 6, "last_activity_date": 1438377328, "last_edit_date": 1438377328, "creation_date": 1438368935, "answer_id": 31753236, "question_id": 31752670, "link": "https://stackoverflow.com/questions/31752670/python-vs-perl-sort-performance/31753236#31753236", "title": "Python vs perl sort performance", "body": "<p>Something else is at play here; I can run your sort in half a second.  Improving that is not going to depend on sorting algorithm so much as reducing the amount of code run per comparison; a Schwartzian Transform gets it to a third of a second, a Guttman-Rosler Transform gets it down to a quarter of a second:</p>\n\n<pre><code>#!/usr/bin/perl\nuse 5.014;\nuse warnings;\n\nmy $decoded = { map( (int rand 1e9, { map( (\"key$_\", int rand 1e9), 1..6 ) } ), 1..40000 ) };\n\nuse Benchmark 'timethese';\n\ntimethese( -5, {\n    'original' =&gt; sub {\n        my @list;\n        foreach my $id (sort {$decoded-&gt;{$b}-&gt;{key5} &lt;=&gt; $decoded-&gt;{$a}-&gt;{key5}} keys %{$decoded}) {\n            push(@list,{\"key\"=&gt;$id,%{$decoded-&gt;{$id}}});\n        }\n    },\n    'st' =&gt; sub {\n        my @list;\n        foreach my $id (\n            map $_-&gt;[1],\n            sort { $b-&gt;[0] &lt;=&gt; $a-&gt;[0] }\n            map [ $decoded-&gt;{$_}{key5}, $_ ],\n            keys %{$decoded}\n        ) {\n            push(@list,{\"key\"=&gt;$id,%{$decoded-&gt;{$id}}});\n        }\n    },\n    'grt' =&gt; sub {\n        my $maxkeylen=15;\n        my @list;\n        foreach my $id (\n            map substr($_,$maxkeylen),\n            sort { $b cmp $a }\n            map sprintf('%0*s', $maxkeylen, $decoded-&gt;{$_}{key5}) . $_,\n            keys %{$decoded}\n        ) {\n            push(@list,{\"key\"=&gt;$id,%{$decoded-&gt;{$id}}});\n        }\n    },\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1438369726, "creation_date": 1438369726, "answer_id": 31753463, "question_id": 31752670, "link": "https://stackoverflow.com/questions/31752670/python-vs-perl-sort-performance/31753463#31753463", "title": "Python vs perl sort performance", "body": "<p>Don't create a new hash for each record. Just add the key to the existing one.</p>\n\n<pre><code>$decoded-&gt;{$_}{key} = $_\n   for keys(%$decoded);\n\nmy @list = sort { $b-&gt;{key5} &lt;=&gt; $a-&gt;{key5} } values(%$decoded);\n</code></pre>\n\n<p>Using Sort::Key will make it even faster.</p>\n\n<pre><code>use Sort::Key qw( rukeysort );\n\n$decoded-&gt;{$_}{key} = $_\n   for keys(%$decoded);\n\nmy @list = rukeysort { $_-&gt;{key5} } values(%$decoded);\n</code></pre>\n"}], "owner": {"reputation": 476, "user_id": 1440839, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/45de5817ff1237c5b6781d99ee7eec7c?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1440839/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 1, "accepted_answer_id": 31753182, "answer_count": 3, "score": 5, "last_activity_date": 1438377328, "creation_date": 1438366837, "last_edit_date": 1438374402, "question_id": 31752670, "link": "https://stackoverflow.com/questions/31752670/python-vs-perl-sort-performance", "title": "Python vs perl sort performance", "body": "<p><strong><em>Solution</em></strong></p>\n\n<p>This solved all issues with my Perl code (plus extra implementation code.... :-) ) In conlusion both Perl and Python are equally awesome. </p>\n\n<pre><code>use WWW::Curl::Easy;\n</code></pre>\n\n<p>Thanks to ALL who responded, very much appreciated. </p>\n\n<p><strong><em>Edit</em></strong></p>\n\n<p>It appears that the Perl code I am using is spending the majority of its time performing the http get, for example:</p>\n\n<pre><code>my $start_time = gettimeofday;\n$request = HTTP::Request-&gt;new('GET', 'http://localhost:8080/data.json');\n$response = $ua-&gt;request($request);\n$page = $response-&gt;content;\nmy $end_time = gettimeofday;\nprint \"Time taken @{[ $end_time - $start_time ]} seconds.\\n\";\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>Time taken 74.2324419021606 seconds.\n</code></pre>\n\n<p>My python code in comparison:</p>\n\n<pre><code>start = time.time()\nr = requests.get('http://localhost:8080/data.json', timeout=120, stream=False)\n\nmaxsize = 100000000\ncontent = ''\nfor chunk in r.iter_content(2048):\n    content += chunk\n    if len(content) &gt; maxsize:\n        r.close()\n        raise ValueError('Response too large')\n\nend = time.time()\ntimetaken = end-start\nprint timetaken\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>20.3471381664\n</code></pre>\n\n<p>In both cases the sort times are sub second. So first of all I apologise for the misleading question, and it is another lesson for me to never ever make assumptions.... :-)</p>\n\n<p>I'm not sure what is the best thing to do with this question now. Perhaps someone can propose a better way of performing the request in perl?</p>\n\n<p><strong><em>End of edit</em></strong></p>\n\n<p>This is just a quick question regarding sort performance differences in Perl vs Python. This is not a question about which language is better/faster etc, for the record, I first wrote this in perl, noticed the time the sort was taking, and then tried to write the same thing in python to see how fast it would be. I simply want to know, <strong>how can I make the perl code perform as fast as the python code?</strong></p>\n\n<p>Lets say we have the following json:</p>\n\n<pre><code>[\"3434343424335\": {\n        \"key1\": 2322,\n        \"key2\": 88232,\n        \"key3\": 83844,\n        \"key4\": 444454,\n        \"key5\": 34343543,\n        \"key6\": 2323232\n    },\n\"78237236343434\": {\n        \"key1\": 23676722,\n        \"key2\": 856568232,\n        \"key3\": 838723244,\n        \"key4\": 4434544454,\n        \"key5\": 3432323543,\n        \"key6\": 2323232\n    }\n]\n</code></pre>\n\n<p>Lets say we have a list of around 30k-40k records which we want to sort by one of the sub keys. We then want to build a new array of records ordered by the sub key. </p>\n\n<p>Perl - Takes around 27 seconds</p>\n\n<pre><code>my @list;\n$decoded = decode_json($page);\nforeach my $id (sort {$decoded-&gt;{$b}-&gt;{key5} &lt;=&gt; $decoded-&gt;{$a}-&gt;{key5}} keys %{$decoded}) {\n    push(@list,{\"key\"=&gt;$id,\"key1\"=&gt;$decoded-&gt;{$id}{key1}...etc));\n}\n</code></pre>\n\n<p>Python - Takes around 6 seconds</p>\n\n<pre><code>list = []\ndata = json.loads(content)\ndata2 = sorted(data, key = lambda x: data[x]['key5'], reverse=True)\n\nfor key in data2:\n     tmp= {'id':key,'key1':data[key]['key1'],etc.....}\n     list.append(tmp)\n</code></pre>\n\n<p>For the perl code, I have tried using the following tweaks:</p>\n\n<pre><code>use sort '_quicksort';  # use a quicksort algorithm\nuse sort '_mergesort';  # use a mergesort algorithm\n</code></pre>\n"}, {"tags": ["python", "perl", "cross-language"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 6, "creation_date": 1438365663, "post_id": 31752338, "comment_id": 51438388, "body": "Use JSON or YAML or ..."}, {"owner": {"reputation": 1333, "user_id": 1061751, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/q4c5p.jpg?s=128&g=1", "display_name": "czheo", "link": "https://stackoverflow.com/users/1061751/czheo"}, "edited": false, "score": 0, "creation_date": 1438365714, "post_id": 31752338, "comment_id": 51438417, "body": "Why don&#39;t you consider about using json format?"}, {"owner": {"reputation": 2874, "user_id": 3703613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tRbDM.jpg?s=128&g=1", "display_name": "Brobin", "link": "https://stackoverflow.com/users/3703613/brobin"}, "edited": false, "score": 0, "creation_date": 1438365729, "post_id": 31752338, "comment_id": 51438425, "body": "I&#39;ve never used Perl before, but my suggestion would be to dump it to json. Then in python you can use <code>json.loads</code> to load it to a dict."}, {"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1438365740, "post_id": 31752338, "comment_id": 51438438, "body": "JSON should work. Libraries for it ship with the core distro of both languages."}, {"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1438368358, "post_id": 31752338, "comment_id": 51439798, "body": "As far as I can tell, the only mechanism for this that ships with Perl is <code>Storable</code> which of course Python doesn&#39;t know about. I&#39;ll probably just suck it up and install Perl&#39;s JSON module."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1438372273, "post_id": 31752338, "comment_id": 51441834, "body": "@ysth, It does since 5.14. &quot;JSON::PP was first released with perl v5.13.9&quot;"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438378250, "post_id": 31752338, "comment_id": 51444559, "body": "@ikegami: thanks (this comment will self destruct)"}], "answers": [{"comments": [{"owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 1, "creation_date": 1438367302, "post_id": 31752758, "comment_id": 51439234, "body": "I was hoping to find a solution with only built-in stuff, but I think you&#39;re right that I might as well bite the bullet and grab a CPAN module"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "edited": false, "score": 0, "creation_date": 1438367524, "post_id": 31752758, "comment_id": 51439344, "body": "Just don&#39;t name your Python script <code>json.py</code> or it&#39;ll conflict with the actual json module."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438372425, "post_id": 31752758, "comment_id": 51441912, "body": "If you&#39;re going to install JSON(.pm), you might as well install JSON::XS and use that instead."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 0, "last_activity_date": 1438367450, "last_edit_date": 1438367450, "creation_date": 1438367144, "answer_id": 31752758, "question_id": 31752338, "link": "https://stackoverflow.com/questions/31752338/writing-a-perl-hash-to-disk-to-be-read-by-python/31752758#31752758", "title": "Writing a Perl hash to disk to be read by Python", "body": "<p>I missed the 'builtin' requirement on first read of your question, but I digress. <code>JSON</code> is not a built-in in Perl, so you'll have to install via <code>CPAN</code>. Nonetheless, this is probably one of the most efficient and compatible ways to do it.</p>\n\n<p>Perl:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse JSON;\n\nmy $file = 'data.json';\n\nmy %h = (\n   foo =&gt; 'bar',\n   baz =&gt; ['a', 'b', 'c'],\n   raz =&gt; {\n       ABC =&gt; 123,\n       XYZ =&gt; [4, 5, 6],\n   }\n);\n\nmy $json = encode_json \\%h;\n\nopen my $fh, '&gt;', $file or die $!;\n\nprint $fh $json;\n\nclose $fh or die $!;\n</code></pre>\n\n<p>Python:</p>\n\n<pre><code>import json\n\nfile = 'data.json';\ndata = json.loads(open(file).read())\n\nprint(data)\n</code></pre>\n"}], "owner": {"reputation": 15275, "user_id": 512652, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5ebd7d7a16e74330d299b048ab548999?s=128&d=identicon&r=PG", "display_name": "ajwood", "link": "https://stackoverflow.com/users/512652/ajwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 31752758, "answer_count": 1, "score": 0, "last_activity_date": 1438367450, "creation_date": 1438365462, "last_edit_date": 1438365736, "question_id": 31752338, "link": "https://stackoverflow.com/questions/31752338/writing-a-perl-hash-to-disk-to-be-read-by-python", "title": "Writing a Perl hash to disk to be read by Python", "body": "<p>How can I write a Perl hash to file, in such a way that it can be read from Python?</p>\n\n<p>For example:</p>\n\n<pre><code>#!/usr/bin/perl\nmy %h = (\n   foo =&gt; 'bar',\n   baz =&gt; ['a', 'b', 'c'],\n   raz =&gt; {\n       ABC =&gt; 123,\n       XYZ =&gt; [4, 5, 6],\n   }\n);\n\ndumpHash('/tmp/myhash', %h);\n</code></pre>\n\n<p>... and    </p>\n\n<pre><code>#!/usr/bin/python\nh = readHash('/tmp/myhash')\nprint h\n\n# {\n#  'foo': 'bar', \n#  'baz': ['a', 'b', 'c'],      \n#  'raz': {\n#          'ABC': 123, \n#          'XYZ': [4, 5, 6]\n#         }\n# }\n</code></pre>\n\n<p>I normally use Perl's built-in <code>Storable</code> to serialize hashes. I see Python has a <a href=\"https://pypi.python.org/pypi/storable/\" rel=\"nofollow\">Storable reader</a>, but it's not part of the standard distribution. </p>\n\n<p>Is there a way to do this with standard built-ins from both languages.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5178828, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nEF6-fSmAUk/AAAAAAAAAAI/AAAAAAAAA7E/lcr6O-BS07w/photo.jpg?sz=128", "display_name": "nebj00la", "link": "https://stackoverflow.com/users/5178828/nebj00la"}, "edited": false, "score": 0, "creation_date": 1438453923, "post_id": 31752072, "comment_id": 51461844, "body": "Thanks so much for the explanations!  nebj00la"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1438364435, "creation_date": 1438364435, "answer_id": 31752072, "question_id": 31751937, "link": "https://stackoverflow.com/questions/31751937/pattern-matching-and-processing-between-two-files/31752072#31752072", "title": "Pattern matching and processing between two files", "body": "<p>Create a lookup table from one of the files (either one), then look up the desired value when processing the other file.</p>\n\n<pre><code>my %pencil_by_color;\n\nwhile (&lt;$pencils_fh&gt;) {\n   my ($name, $color) = /^Pencil (\\S+) is (\\S+)\\.$/\n      or die(\"Syntax\");\n\n   !$pencil_by_color{$color}\n      or die(\"Duplicate\");\n\n   $pencil_by_color{$color} = $name;\n}\n\nwhile (&lt;$colors_fh&gt;) {\n   my ($name, $color) = /^(\\S+) likes the color (\\S+)\\.$/\n      or die(\"Syntax\");\n\n   my $pencil = $pencil_by_color{$color}\n      or die(\"Missing\");\n\n   print(\"${name}'s pencil is number ${pencil} because he likes the color ${color}.\\n\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5178828, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nEF6-fSmAUk/AAAAAAAAAAI/AAAAAAAAA7E/lcr6O-BS07w/photo.jpg?sz=128", "display_name": "nebj00la", "link": "https://stackoverflow.com/users/5178828/nebj00la"}, "edited": false, "score": 0, "creation_date": 1438453907, "post_id": 31752853, "comment_id": 51461837, "body": "Thanks so much for the explanations!  nebj00la"}, {"owner": {"reputation": 1792, "user_id": 3105222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eSikW.png?s=128&g=1", "display_name": "FlorianB", "link": "https://stackoverflow.com/users/3105222/florianb"}, "reply_to_user": {"reputation": 3, "user_id": 5178828, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nEF6-fSmAUk/AAAAAAAAAAI/AAAAAAAAA7E/lcr6O-BS07w/photo.jpg?sz=128", "display_name": "nebj00la", "link": "https://stackoverflow.com/users/5178828/nebj00la"}, "edited": false, "score": 0, "creation_date": 1438463430, "post_id": 31752853, "comment_id": 51464425, "body": "You&#39;re very welcome. You can select it as answer and vote up if you want ;) eheh"}, {"owner": {"reputation": 3, "user_id": 5178828, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nEF6-fSmAUk/AAAAAAAAAAI/AAAAAAAAA7E/lcr6O-BS07w/photo.jpg?sz=128", "display_name": "nebj00la", "link": "https://stackoverflow.com/users/5178828/nebj00la"}, "edited": false, "score": 0, "creation_date": 1438628342, "post_id": 31752853, "comment_id": 51517382, "body": "One question: What if there is a case where two people have the same favorite color, and yet there is only one pencil with that color? How would one handle this? An extra subroutine?"}, {"owner": {"reputation": 1792, "user_id": 3105222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eSikW.png?s=128&g=1", "display_name": "FlorianB", "link": "https://stackoverflow.com/users/3105222/florianb"}, "reply_to_user": {"reputation": 3, "user_id": 5178828, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nEF6-fSmAUk/AAAAAAAAAAI/AAAAAAAAA7E/lcr6O-BS07w/photo.jpg?sz=128", "display_name": "nebj00la", "link": "https://stackoverflow.com/users/5178828/nebj00la"}, "edited": false, "score": 0, "creation_date": 1438718749, "post_id": 31752853, "comment_id": 51561800, "body": "The real question is: how would you expect it to react? You can always delete a key after reading it, with delete $colors-&gt;{$2} but I&#39;m not sure that would do what you want since I don&#39;t know what you want :)"}, {"owner": {"reputation": 3, "user_id": 5178828, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nEF6-fSmAUk/AAAAAAAAAAI/AAAAAAAAA7E/lcr6O-BS07w/photo.jpg?sz=128", "display_name": "nebj00la", "link": "https://stackoverflow.com/users/5178828/nebj00la"}, "edited": false, "score": 0, "creation_date": 1438885147, "post_id": 31752853, "comment_id": 51645259, "body": "Thanks for the response. Example would be that colors.txt would say something like &quot;John likes Blue&quot;, and another line would say &quot;Jill likes Blue&quot;. pencils.txt would say something like &quot;Pencil 30 is Blue&quot;. I want something that handles the case where &quot;Pencil 30 is John&#39;s, Pencil 30 is Jills. I need a function, which from what I&#39;ve seen could be an array or hash, that says &quot;1. All matched colors to people first. 2. Duplicates found. Ex. Pencil 1 is Joe&#39;s because he likes Orange. \\n Pencil 2 is Jack&#39;s because he likes Red. John and Jill both like Blue, so pencil 30 could belong to either."}], "tags": [], "owner": {"reputation": 1792, "user_id": 3105222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eSikW.png?s=128&g=1", "display_name": "FlorianB", "link": "https://stackoverflow.com/users/3105222/florianb"}, "is_accepted": true, "score": 0, "last_activity_date": 1438369148, "last_edit_date": 1438369148, "creation_date": 1438367483, "answer_id": 31752853, "question_id": 31751937, "link": "https://stackoverflow.com/questions/31751937/pattern-matching-and-processing-between-two-files/31752853#31752853", "title": "Pattern matching and processing between two files", "body": "<pre><code>#!/usr/bin/perl\n\nmy $filecol = $ARGV[0]; # path to colors.txt\nmy $filepen = $ARGV[1]; # path to pencils.txt\n\ndie(\"USAGE: ./colpen.pl colors.txt pencils.txt\") unless -f $filecol &amp;&amp; -f $filepen;\n\nmy $colors; # hashref of numbers strings for each color string (e.g. $colors-&gt;{green} = \"two\")\nmy $l = \"\"; # line by line reading buffer\n\nopen(PEN, \"&lt;$filepen\") or die(\"Cannot open \\\"$filepen\\\" : $!\");\nwhile(defined($l=&lt;PEN&gt;)){\n    if( $l =~ /(\\w+)\\s+is\\s+(\\w+)/i ){ # matches every line that has \"... Foo is Bar\" while putting \"Foo\" and \"Bar\" in $1 and $2 respectively\n\n        $colors-&gt;{$2} = $1;\n\n    }\n}\nclose(PEN);\n\nopen(COL, \"&lt;$filecol\") or die(\"Cannot open \\\"$filecol\\\" : $!\");\nwhile(defined($l=&lt;COL&gt;)){\n    if( $l =~ /^\\s*(\\w+)\\s.*\\scolor\\s+(\\w+)/i ){ # match in a flexible way a first word, then the next word after \"color\", and put them in $1 and $2\n\n        if( $colors-&gt;{$2} ne \"\" ){\n            print( sname($1).\" pencil is number $colors-&gt;{$2} because he likes the color $2.\\n\");\n        }else{\n            print(\"I have no idea which pencil is \".sname($1).\".\\n\");\n        }\n\n    }\n}\nclose(COL);\n\nexit;\n\nsub sname {\n    # Just an extra :) for names that end with an s.\n\n    return($_[0]) if $_[0] =~ /s$/i;\n    return(\"$_[0]\\'s\");\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5178828, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nEF6-fSmAUk/AAAAAAAAAAI/AAAAAAAAA7E/lcr6O-BS07w/photo.jpg?sz=128", "display_name": "nebj00la", "link": "https://stackoverflow.com/users/5178828/nebj00la"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 31752853, "answer_count": 2, "score": 0, "last_activity_date": 1438369148, "creation_date": 1438363910, "last_edit_date": 1438364514, "question_id": 31751937, "link": "https://stackoverflow.com/questions/31751937/pattern-matching-and-processing-between-two-files", "title": "Pattern matching and processing between two files", "body": "<p>I'm trying to find all of the different ways to perform pattern matching and processing between two files. I'm new to perl, and could use some help.</p>\n\n<p>I've got two files. <code>Colors.txt</code> looks like this:</p>\n\n<pre><code>Joe likes the color green.\nSam likes the color blue.\n</code></pre>\n\n<p><code>Pencils.txt</code> looks like this:</p>\n\n<pre><code>Pencil one is blue.\nPencil two is green.\n</code></pre>\n\n<p>I need to parse these two files, and print the following:</p>\n\n<pre><code>Sam's pencil is number one because he likes the color blue.\nJoe's pencil is number two because he likes the color green.\n</code></pre>\n\n<p>Can someone guide me in the direction of how to process this efficiently?</p>\n"}, {"tags": ["regex", "perl", "nginx", "url-rewriting", "seo"], "comments": [{"owner": {"reputation": 1263, "user_id": 63985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37f4e8db3835c239981602883c8af925?s=128&d=identicon&r=PG", "display_name": "Conor McDermottroe", "link": "https://stackoverflow.com/users/63985/conor-mcdermottroe"}, "edited": false, "score": 0, "creation_date": 1438366195, "post_id": 31751240, "comment_id": 51438682, "body": "Can you give an example of a URI and what it rewrites to?"}, {"owner": {"reputation": 21, "user_id": 5178635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/758307e599b7a9534ea0be6c251b4d35?s=128&d=identicon&r=PG&f=1", "display_name": "Helpnonecoder", "link": "https://stackoverflow.com/users/5178635/helpnonecoder"}, "reply_to_user": {"reputation": 1263, "user_id": 63985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37f4e8db3835c239981602883c8af925?s=128&d=identicon&r=PG", "display_name": "Conor McDermottroe", "link": "https://stackoverflow.com/users/63985/conor-mcdermottroe"}, "edited": false, "score": 0, "creation_date": 1439345630, "post_id": 31751240, "comment_id": 51818896, "body": "i have a few bad urls so here is some that are bad ones domain.com/DVDC/Yes+man&#39;s house.html need to be redirected to domain.com/dvdc/yes-man-s-house.html"}], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 4277620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5a3072c70061910402da089e5dac80?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep", "link": "https://stackoverflow.com/users/4277620/sandeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1442851789, "last_edit_date": 1442851789, "creation_date": 1438597981, "answer_id": 31785120, "question_id": 31751240, "link": "https://stackoverflow.com/questions/31751240/perl-rewrite-old-urls-to-seo-friendly/31785120#31785120", "title": "Perl rewrite old URLS to seo friendly", "body": "<p>You can replace any special character into dash/hyphen</p>\n\n<pre><code>$url=~ s/\\W+/-/g;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5178635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/758307e599b7a9534ea0be6c251b4d35?s=128&d=identicon&r=PG&f=1", "display_name": "Helpnonecoder", "link": "https://stackoverflow.com/users/5178635/helpnonecoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1442851789, "creation_date": 1438361266, "last_edit_date": 1438363091, "question_id": 31751240, "link": "https://stackoverflow.com/questions/31751240/perl-rewrite-old-urls-to-seo-friendly", "title": "Perl rewrite old URLS to seo friendly", "body": "<p>I am trying to fix my old URLS which have bad characters in them for  all .html request</p>\n\n<p>I want to replace the following instance with a dash (<code>-</code>):</p>\n\n<ul>\n<li>Space</li>\n<li>Comas</li>\n<li>Plus signs</li>\n<li>Parentheses</li>\n<li>Apostrophes</li>\n<li>Double dashes with a single dash</li>\n<li>Then all Upper and lower cases</li>\n</ul>\n\n<p>The following has been implemented and is not working on the sever</p>\n\n<p>I've re-written the perl fragment nginx is using as follows:</p>\n\n<pre><code>perl_set $old_uri 'sub {\nmy $r = shift;\nmy $uri = $r-&gt;uri;\n\n$uri = lc $uri;\n$uri =~ s/[+, ()\\']/-/g;\n$uri =~ s/--+/-/g;\n\nreturn $uri;\n}';\n</code></pre>\n\n<p>This is switching everything to lowercase, converting the requested symbols to dashes, then compacting multiple dashes in a row into one</p>\n\n<p>The perl rules for this are</p>\n\n<pre><code>    perl_set $old_uri 'sub {\n    my $r = shift;\n    my $uri = $r-&gt;uri;\n\n    $uri = lc $uri; # Upper to lower\n    $uri =~ s/[^a-z0-9-.\\/]/-/g;\n    $uri =~ s/--+/-/g; # turn double -- to -\n\n    return $uri;\n   }';\n</code></pre>\n\n<p>The location block which calls this is</p>\n\n<pre><code>  location ~ [^a-z0-9-.\\/].*.html {\n        rewrite ^ $old_uri permanent;\n    }\n</code></pre>\n\n<p>Let me know if I need to provide more info</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user447688"}, "edited": false, "score": 0, "creation_date": 1438356318, "post_id": 31749701, "comment_id": 51433320, "body": "I don&#39;t understand the question.  Is there a particular line of your code that is problematic?  Can you define your goal a little more narrowly?"}, {"owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "edited": false, "score": 0, "creation_date": 1438356557, "post_id": 31749701, "comment_id": 51433476, "body": "When my files are viewed, I would like them as &quot;Prostate_Cancer&quot; as opposed to how they appear now as &quot;Prostate Cancer&quot;  @JohnPirie"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438356525, "post_id": 31749822, "comment_id": 51433458, "body": "@Michaela: An I&#39;ve just remembered you wanted some more commentary on my answer to your previous question. I&#39;ll take a look shortly!"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1438359402, "post_id": 31749822, "comment_id": 51435094, "body": "it sounded like they might even want <code>tr&#47; &#47;_&#47;s</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1438360000, "last_edit_date": 1438360000, "creation_date": 1438356313, "answer_id": 31749822, "question_id": 31749701, "link": "https://stackoverflow.com/questions/31749701/how-do-i-convert-spaces-to-underscores-in-perl/31749822#31749822", "title": "How do I convert spaces to underscores in Perl?", "body": "<p>You're presumably talking about the file you open with this</p>\n\n<pre><code>open ($t_out, \"&gt;outputFiles/\".$TRAIT.\".txt\")\n</code></pre>\n\n<p>You can do that using the <em>transliterate</em> operator first <code>tr/ /_/</code> and your <code>open</code> call would be better written like this</p>\n\n<pre><code>my $outfile = \"outputFiles/$TRAIT.txt\";\n$outfile =~ tr/ /_/;\nopen my $t_out, '&gt;', $outfile or die qq{Unable to open \"$outfile\" for output: $!};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 3, "last_activity_date": 1438356370, "creation_date": 1438356370, "answer_id": 31749838, "question_id": 31749701, "link": "https://stackoverflow.com/questions/31749701/how-do-i-convert-spaces-to-underscores-in-perl/31749838#31749838", "title": "How do I convert spaces to underscores in Perl?", "body": "<p>I assume you're referring to the value in the $TRAIT var which is then used as part of the new filename.</p>\n\n<pre><code>$TRAIT = $traitarray[7];\n$TRAIT =~ s/\\s+/_/g;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5161103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e1f1e0bd52efb152aceed1774a8c0f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Michaela", "link": "https://stackoverflow.com/users/5161103/michaela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1438360116, "creation_date": 1438355924, "last_edit_date": 1438360116, "question_id": 31749701, "link": "https://stackoverflow.com/questions/31749701/how-do-i-convert-spaces-to-underscores-in-perl", "title": "How do I convert spaces to underscores in Perl?", "body": "<p>I am writing a code to create files named after one column in an array, and then have all the common values of another column within it. I have successfully done this, but now <strong>I would like to eliminate the white space in-between the file names and convert it into underscores. How do I do that?</strong></p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\n\nmy @traitarray;\nmy $traitarray;\nmy $input ;\nmy %traithash ;\nmy $t_out ;\nmy $TRAIT;\nmy $SNPS;\n\nopen ($input, \"gwas_catalog_v1.0-downloaded_2015-07-08\") || die () ;\n\nwhile(&lt;$input&gt;) {\n    @traitarray = split (/\\t/);\n    $TRAIT = $traitarray[7];\n    $SNPS = $traitarray[21];\n\n        if (!exists $traithash {$TRAIT}) {\n                open ($t_out, \"&gt;outputFiles/\".$TRAIT.\".txt\");\n                print ($t_out \"$SNPS\\n\"); \n                $traithash {$TRAIT} = 1 ;\n                push (@traitarray, $TRAIT) ;\n        }\n        else {\n            print $t_out \"$SNPS\\n\";\n            }\n}\n\nforeach ($traitarray) {\n    close \"$TRAIT.txt\";\n\n}\n</code></pre>\n\n<p>I have tried looking for an answer but many of the questions either include something else as well, or how to go about this within the bash terminal, something I am not comfortable with yet, as I am still new to coding. </p>\n\n<p>The file is  10947980 lines, and has 33 columns.  </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5026, "user_id": 993592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmoKM.jpg?s=128&g=1", "display_name": "ardochhigh", "link": "https://stackoverflow.com/users/993592/ardochhigh"}, "edited": false, "score": 0, "creation_date": 1438354306, "post_id": 31749082, "comment_id": 51432040, "body": "Thanks, you are a lifesaver!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1438354679, "post_id": 31749082, "comment_id": 51432275, "body": "Also: Never ever use <code>$l</code> - its looks too much like <code>$1</code> and that&#39;s a built in. Actually - try and avoid single letter variables at all."}], "tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": true, "score": 5, "last_activity_date": 1438354071, "creation_date": 1438354071, "answer_id": 31749082, "question_id": 31748976, "link": "https://stackoverflow.com/questions/31748976/syntax-of-perl-for-loop/31749082#31749082", "title": "Syntax of Perl for loop", "body": "<p>You need to put parentheses around the list being iterated over (the <code>qw//</code> construct in this case):</p>\n\n<pre><code>for $k (qw(a g c t)) {\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1438354897, "post_id": 31749338, "comment_id": 51432440, "body": "Or because they skipped straight from a pre-5.13.11 version."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1438354916, "post_id": 31749338, "comment_id": 51432457, "body": "@jwodder Then they have one brave sysadmin. :) updated"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 9, "last_activity_date": 1438356093, "last_edit_date": 1438356093, "creation_date": 1438354812, "answer_id": 31749338, "question_id": 31748976, "link": "https://stackoverflow.com/questions/31748976/syntax-of-perl-for-loop/31749338#31749338", "title": "Syntax of Perl for loop", "body": "<p>You probably updated your Perl to 5.18. In that version the <a href=\"http://perldoc.perl.org/5.18.2/perlop.html#Quote-and-Quote-like-Operators\" rel=\"noreferrer\">qw operator</a> <a href=\"http://perldoc.perl.org/perl5180delta.html#qw(...)-can-no-longer-be-used-as-parentheses\" rel=\"noreferrer\">was changed</a> to not behave like it was parentheses. From <a href=\"http://perldoc.perl.org/5.18.2/perlop.html#Quote-and-Quote-like-Operators\" rel=\"noreferrer\">perl5180delta</a>:</p>\n\n<blockquote>\n  <h3>qw(...) can no longer be used as parentheses</h3>\n  \n  <p><code>qw</code> lists used to fool the\n  parser into thinking they were always surrounded by parentheses. This\n  permitted some surprising constructions such as <code>foreach $x qw(a b c)\n  {...}</code> , which should really be written <code>foreach $x (qw(a b c)) {...}</code> .\n  These would sometimes get the lexer into the wrong state, so they\n  didn't fully work, and the similar <code>foreach qw(a b c) {...}</code> that one\n  might expect to be permitted never worked at all. </p>\n  \n  <p>This side effect of\n  qw has now been abolished. It has been deprecated since Perl v5.13.11.\n  It is now necessary to use real parentheses everywhere that the\n  grammar calls for them.</p>\n</blockquote>\n\n<p>So there was a warning since Perl 5.13.11. If you didn't see it, it could be that you upgraded from a version earlier than 5.14.0<sup>*</sup> or because you never looked at your error logs.</p>\n\n<p>The warning would have been the following, which is found in <a href=\"http://perldoc.perl.org/5.16.2/perldiag.html\" rel=\"noreferrer\">perldiag</a> (use grep/<kbd>ctrl</kbd>+f).</p>\n\n<pre><code>Use of qw(...) as parentheses is deprecated\n</code></pre>\n\n<p><sup>*) uneven minor versions in Perl 5 refer to developer releases, even ones to official stable releases</sup></p>\n"}], "owner": {"reputation": 5026, "user_id": 993592, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cmoKM.jpg?s=128&g=1", "display_name": "ardochhigh", "link": "https://stackoverflow.com/users/993592/ardochhigh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 31749082, "answer_count": 2, "score": 3, "last_activity_date": 1438356093, "creation_date": 1438353789, "question_id": 31748976, "link": "https://stackoverflow.com/questions/31748976/syntax-of-perl-for-loop", "title": "Syntax of Perl for loop", "body": "<p>I've inherited a Perl script, and don't have a Perl background (yet). The script is failing:</p>\n\n<pre><code>syntax error at /home/assay/assay/bin/mpprimer/MPprimer/bin/MPprimer_dimer_check.pl line 181, near \"$k qw(a g c t)\"\n</code></pre>\n\n<p>This is the relevant code</p>\n\n<pre><code># create a binding array for each of the four bases\nfor $l (0 .. $pfl-1) {\n    my $mbase = substr($fprimer_r, $l, 1);\n    $primer_hash{$mbase}[$l]=1;\n    for $k qw(a g c t) {\n        $primer_hash{$k}[$l] ||=0;\n    }\n}\n</code></pre>\n\n<p>Any pointers or suggestions would be appreciated.</p>\n"}, {"tags": ["java", "perl", "binary", "bitwise-operators", "bit-shift"], "answers": [{"comments": [{"owner": {"reputation": 81976, "user_id": 15880, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7618ff7a4952a494b8f41bd0df646790?s=128&d=identicon&r=PG", "display_name": "Powerlord", "link": "https://stackoverflow.com/users/15880/powerlord"}, "edited": false, "score": 2, "creation_date": 1438350846, "post_id": 31747862, "comment_id": 51429364, "body": "According to <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>, you can <code>use integer</code> to force Perl to use signed values instead."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438352853, "post_id": 31747862, "comment_id": 51430914, "body": "(The signed integer -1 is 2^32 -1 or 2^64 -1 when treated as an unsigned integer, depending on your build of Perl. Specifically, depending on <code>perl -V:ivsize</code>)"}], "tags": [], "owner": {"reputation": 5498, "user_id": 1228887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dbfa9c3ff51140d2e1a5ff553725a07?s=128&d=identicon&r=PG", "display_name": "twain249", "link": "https://stackoverflow.com/users/1228887/twain249"}, "is_accepted": true, "score": 10, "last_activity_date": 1438352723, "last_edit_date": 1438352723, "creation_date": 1438350683, "answer_id": 31747862, "question_id": 31747697, "link": "https://stackoverflow.com/questions/31747697/bitwise-differences-in-java-perl/31747862#31747862", "title": "Bitwise differences in Java/Perl", "body": "<p>Perl's bit shift is inherently unsigned so -1 is treated as 2^32 -1 and it automatically fills with 0 so <code>-1 &gt;&gt; 1</code> is 2^31-1 and <code>-1 &lt;&lt; 1</code> is 2^32-2. </p>\n\n<p>[Edit] Thanks @Powerlord using <a href=\"https://metacpan.org/pod/integer\" rel=\"nofollow\"><code>integer</code></a> will force perl to use signed values.</p>\n\n<p>Java's bit shift sign extends (if using <code>&gt;&gt;</code>) so <code>-1 &lt;&lt; 1</code> is still -1 and <code>-1 &gt;&gt; 1</code> is -2. If you don't want to sign extend you have to use the logical version <code>&gt;&gt;&gt;</code>.</p>\n"}], "owner": {"reputation": 139, "user_id": 3909489, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/368392c8cd5a495158377e5311d655a5?s=128&d=identicon&r=PG&f=1", "display_name": "Kolibrie", "link": "https://stackoverflow.com/users/3909489/kolibrie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "accepted_answer_id": 31747862, "answer_count": 1, "score": 3, "last_activity_date": 1438352723, "creation_date": 1438350193, "question_id": 31747697, "link": "https://stackoverflow.com/questions/31747697/bitwise-differences-in-java-perl", "title": "Bitwise differences in Java/Perl", "body": "<p>I was messing around and noticed differences that I don't understand between Java and Perl when I bit-shifted -1.</p>\n\n<p>I thought integers are stored in two's complement binary, so if there are 32 bits, -1 is 11...11 (32 times).<br>\nI'd expect <strong>-1 >> 1</strong> to give $2^31 - 1$ = 011...11 = 2147483647.<br>\nI'd expect <strong>-1 &lt;&lt; 1</strong> to give = 11...110 = -2.</p>\n\n<p>What is the reason for these different behaviors and where are these standards stated in different languages?</p>\n\n<p>Code and printouts for Perl &amp; Java below:</p>\n\n<p>In Perl:</p>\n\n<pre><code>print (-1 &gt;&gt; 1, \"\\n\");\nprint (-1 &lt;&lt; 1, \"\\n\");\n</code></pre>\n\n<p><strong>2147483647</strong></p>\n\n<p><strong>4294967294</strong></p>\n\n<p>In Java:</p>\n\n<pre><code>public class Tempy {\n    public static void main(String[] args){\n        System.out.println( -1 &gt;&gt; 1); \n        System.out.println( -1 &lt;&lt; 1);\n    }\n}\n</code></pre>\n\n<p><strong>-1</strong></p>\n\n<p><strong>-2</strong></p>\n"}, {"tags": ["java", "perl", "jdbc", "gpl"], "comments": [{"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 1, "creation_date": 1438349807, "post_id": 31747305, "comment_id": 51428627, "body": "A .jar is a zip file; it just might be that it contains .java files. A rename to .zip should help."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438350600, "post_id": 31747305, "comment_id": 51429193, "body": "<code>unzip -l dbd_jdbc.jar</code> ... <code>src&#47;com&#47;vizdom&#47;dbd&#47;jdbc&#47;SetStatementPropertyRequest.java</code> etc etc etc"}, {"owner": {"reputation": 18805, "user_id": 34771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c1a3f9227c0cb408f8831d27d611ab2?s=128&d=identicon&r=PG", "display_name": "Vatine", "link": "https://stackoverflow.com/users/34771/vatine"}, "edited": false, "score": 0, "creation_date": 1438354150, "post_id": 31747305, "comment_id": 51431915, "body": "I&#39;m voting to close this question as off-topic because it seems to be a request for a legal opinion."}, {"owner": {"reputation": 1023, "user_id": 1549977, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3d7257483a77db85ca8920a66ebad5e9?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1549977/ben"}, "edited": false, "score": 0, "creation_date": 1438365139, "post_id": 31747305, "comment_id": 51438123, "body": "Actually I want to know where the source code is. Got it by now."}], "answers": [{"comments": [{"owner": {"reputation": 1023, "user_id": 1549977, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3d7257483a77db85ca8920a66ebad5e9?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1549977/ben"}, "edited": false, "score": 0, "creation_date": 1438350914, "post_id": 31747438, "comment_id": 51429419, "body": "Thank you - hidden too well for me."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1438352614, "last_edit_date": 1592644375, "creation_date": 1438349470, "answer_id": 31747438, "question_id": 31747305, "link": "https://stackoverflow.com/questions/31747305/where-can-i-find-the-source-code-for-the-java-library-bundled-with-dbdjdbc/31747438#31747438", "title": "Where can I find the source code for the Java library bundled with DBD::JDBC?", "body": "<p>The <a href=\"http://cpansearch.perl.org/src/VIZDOM/DBD-JDBC-0.70/README\" rel=\"nofollow noreferrer\">README file</a> says this (emphasis my own)</p>\n<blockquote>\n<ul>\n<li><p>The DBD::JDBC server component</p>\n<p>The Java classes <em><strong>and their source code</strong></em> are provided in\ndbd_jdbc.jar. Copy this file to a location of your\nchoice. See the DBD::JDBC documentation (JDBC.pod) for\ninstructions on running the server.</p>\n</li>\n</ul>\n</blockquote>\n<p>If you click instead on the <em>distribution</em> <a href=\"http://search.cpan.org/%7Evizdom/DBD-JDBC-0.70/\" rel=\"nofollow noreferrer\"><strong>DBD-JDBC-0.70</strong></a> then you will see a <a href=\"http://search.cpan.org/src/VIZDOM/DBD-JDBC-0.70/\" rel=\"nofollow noreferrer\">[Browse]</a> link that will let you examine the entire contents of the bundle</p>\n"}], "owner": {"reputation": 1023, "user_id": 1549977, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3d7257483a77db85ca8920a66ebad5e9?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1549977/ben"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 1, "closed_date": 1438354150, "accepted_answer_id": 31747438, "answer_count": 1, "score": -1, "last_activity_date": 1438352614, "creation_date": 1438349070, "last_edit_date": 1438350769, "question_id": 31747305, "link": "https://stackoverflow.com/questions/31747305/where-can-i-find-the-source-code-for-the-java-library-bundled-with-dbdjdbc", "closed_reason": "Not suitable for this site", "title": "Where can I find the source code for the Java library bundled with DBD::JDBC?", "body": "<p>There is a <a href=\"https://metacpan.org/pod/DBD::JDBC\" rel=\"nofollow\">DBD::JDBC</a> Perl module. The source code for the module (<code>.pm</code>) is clearly provided.</p>\n\n<p>But the proxy also consists of a jar file. It is packaged within the distribution (<code>.tar.gz</code>). Sadly, I cannot find the source code for this <code>.jar</code>-file.</p>\n\n<p>As it is delivered as one file, isn't this a violation of the GPL? I mean, GPL code may not be bundled with non-GPL (or non-open-source) code, if I am not mistaken.</p>\n\n<p>So there is no link to any source, and googling for the Java class and package names didn't reveal too much. It's not listed on grepcode either.</p>\n\n<p>I <em>could</em> decompile the .jar-file, but this is not what I want. So if someone has any information on this subject, please feel free to solve my issue where to find the source code.</p>\n\n<p>@Mods: If this is not programming specific enough, feel free to move this question to somewhere else.</p>\n"}, {"tags": ["perl", "nginx"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1438349033, "post_id": 31746462, "comment_id": 51428040, "body": "403 is a &quot;Forbidden&quot; (permissions) error code. Does your .cgi file have executable permission?"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1438354305, "post_id": 31746462, "comment_id": 51432038, "body": "@mob - yes :) Its 755, correct path to perl, etc. Very basic &quot;hello world&quot; script. I&#39;ve updated above with the error showing in error_log for the domain"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1438354513, "post_id": 31746462, "comment_id": 51432159, "body": "And every parent directory of your cgi file is readable and executable by the nginx user?"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1438354584, "post_id": 31746462, "comment_id": 51432202, "body": "@mob - everything from /srv/www and above is www-data:www-data... /srv/www &amp; /srv are root:root"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1438355922, "post_id": 31746462, "comment_id": 51433085, "body": "@mob - I just put in the &quot;debug&quot; from the error_log, when set to <code>debug</code>. Not sure if it gives anything away though. I&#39;ve also compared my <b>/etc/init.d/fcgiwrap</b> file, in case there was anything majorly different there - but doesn&#39;t seem to be"}], "answers": [{"tags": [], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "is_accepted": false, "score": 7, "last_activity_date": 1438369294, "creation_date": 1438369294, "answer_id": 31753345, "question_id": 31746462, "link": "https://stackoverflow.com/questions/31746462/perl-nginx-403-errors-again/31753345#31753345", "title": "Perl + nginx 403 errors again", "body": "<p>Eugh, I feel like a total idiot now! In my config, I had:</p>\n\n<pre><code>location ~ \\.cgi$ {\n    gzip off;\n    include /etc/nginx/fastcgi_params;\n    fastcgi_pass unix:/var/run/fcgiwrap.socket;\n    fastcgi_index index.cgi;\n    fastcgi_param SCRIPT_FILENAME /srv/www/site.net/www/cgi-bin$fastcgi_script_name;\n}\n</code></pre>\n\n<p>However, that SCRIPT_FILENAME was wrong... should be:</p>\n\n<pre><code>location ~ \\.cgi$ {\n    gzip off;\n    include /etc/nginx/fastcgi_params;\n    fastcgi_pass unix:/var/run/fcgiwrap.socket;\n    fastcgi_index index.cgi;\n    fastcgi_param SCRIPT_FILENAME /srv/www/site.net/www/$fastcgi_script_name;\n}\n</code></pre>\n\n<p>(notice the missing /cgi-bin on the 2nd to last line). So simple when you can see it! Just thought I'd share it, with the hope it will help someone else out at some point in the future. Duh!</p>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2527, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1438369294, "creation_date": 1438346440, "last_edit_date": 1438355820, "question_id": 31746462, "link": "https://stackoverflow.com/questions/31746462/perl-nginx-403-errors-again", "title": "Perl + nginx 403 errors again", "body": "<p>It seems a never ending battle getting Perl and nginx playing nice :( I've setup a new dev server. I wont bore you with all of the details, but suffice to say I have installed (via apt-get);</p>\n\n<pre><code>sudo apt-get update &amp;&amp; sudo apt-get upgrade\nsudo apt-get install nginx\nsudo apt-get install php5-cli php5-cgi spawn-fcgi php-pear\nsudo apt-get install mysql-server php5-mysql\nsudo apt-get install fcgiwrap\n</code></pre>\n\n<p>I have then configured my site, using:</p>\n\n<pre><code>server {\n\n    listen   80;\n\n    server_name site.net.net www.site.net.net;\n    access_log /srv/www/site.net.net/logs/access.log;\n    error_log /srv/www/site.net.net/logs/error.log;\n    root /srv/www/site.net.net/www;\n\n location / {\n        index  index.html index.htm;\n    }\n\n    location ~ \\.php$ {\n        try_files $uri =404;\n        include /etc/nginx/fastcgi_params;\n        fastcgi_pass 127.0.0.1:9000;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME /srv/www/site.net.net/www$fastcgi_script_name;\n    }\n\n    location ~ \\.cgi$ {\n            try_files $uri =404;\n            gzip off;\n            include /etc/nginx/fastcgi_params;\n            fastcgi_pass unix:/var/run/fcgiwrap.socket;\n            fastcgi_index index.cgi;\n            fastcgi_param SCRIPT_FILENAME /srv/www/site.net.net/www/cgi-bin/$fastcgi_script_name;\n        }\n\n}\n</code></pre>\n\n<p>I've sym-linked the config files into sites-enabled, so that its visible on nginx. I then rebooted nginx, and tried:</p>\n\n<pre><code>index.html - works fine\nindex.php - works fine\nindex.cgi - 403 error\n</code></pre>\n\n<p>I managed to fumble my way through it last time, but I can't figure out what I did different (I know it was a real pig to get configured the first time around)</p>\n\n<p>The only thing showing in the <strong>error_log</strong>, is:</p>\n\n<pre><code>2015/07/31 15:52:25 [error] 10434#0: *7 open() \"/srv/www/site.net/www/favicon.ico\" failed (2: No such file or directory), client: 81.174.134.xx, server: sitenet, request: \"GET /favicon.ico HTTP/1.1\", host: \"site.net\"\n</code></pre>\n\n<p>So not much help :/</p>\n\n<p>Any suggestions from the experts? </p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>If I update the error log to \"debug\" level, i.e:</p>\n\n<pre><code>error_log /srv/www/steampunkjunkiesdev.net/logs/error.log debug;\n</code></pre>\n\n<p>...below is what is outputted (from just 1 request). Not sure if there is anything helpful in there though?</p>\n\n<pre><code>Server: nginx/1.6.2\nDate: Fri, 31 Jul 2015 15:11:49 GMT\nContent-Type: text/html\nTransfer-Encoding: chunked\nConnection: keep-alive\nContent-Encoding: gzip\n\n2015/07/31 16:11:49 [debug] 3557#0: *1 write new buf t:1 f:0 0000000000F049D8, pos 0000000000F049D8, size: 185 file: 0, size: 0\n2015/07/31 16:11:49 [debug] 3557#0: *1 http write filter: l:0 f:0 s:185\n2015/07/31 16:11:49 [debug] 3557#0: *1 http output filter \"/favicon.ico?\"\n2015/07/31 16:11:49 [debug] 3557#0: *1 http copy filter: \"/favicon.ico?\"\n2015/07/31 16:11:49 [debug] 3557#0: *1 image filter\n2015/07/31 16:11:49 [debug] 3557#0: *1 xslt filter body\n2015/07/31 16:11:49 [debug] 3557#0: *1 http postpone filter \"/favicon.ico?\" 0000000000F04AF8\n2015/07/31 16:11:49 [debug] 3557#0: *1 http gzip filter\n2015/07/31 16:11:49 [debug] 3557#0: *1 malloc: 0000000000EED690:12288\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip alloc: n:1 s:5936 a:8192 p:0000000000EED690\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip alloc: n:512 s:2 a:1024 p:0000000000EEF690\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip alloc: n:512 s:2 a:1024 p:0000000000EEFA90\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip alloc: n:512 s:2 a:1024 p:0000000000EEFE90\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip alloc: n:256 s:4 a:1024 p:0000000000EF0290\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip in: 0000000000EF6EE8\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip in_buf:0000000000F04AA8 ni:00000000006DC600 ai:116\n2015/07/31 16:11:49 [debug] 3557#0: *1 malloc: 0000000000EF06A0:4096\n2015/07/31 16:11:49 [debug] 3557#0: *1 deflate in: ni:00000000006DC600 no:0000000000EF06A0 ai:116 ao:4096 fl:0 redo:0\n2015/07/31 16:11:49 [debug] 3557#0: *1 deflate out: ni:00000000006DC674 no:0000000000EF06A0 ai:0 ao:4096 rc:0\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip in_buf:0000000000F04AA8 pos:00000000006DC600\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip in: 0000000000EF6EF8\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip in_buf:0000000000EF6E20 ni:00000000006DCDA0 ai:52\n2015/07/31 16:11:49 [debug] 3557#0: *1 deflate in: ni:00000000006DCDA0 no:0000000000EF06A0 ai:52 ao:4096 fl:4 redo:0\n2015/07/31 16:11:49 [debug] 3557#0: *1 deflate out: ni:00000000006DCDD4 no:0000000000EF0711 ai:0 ao:3983 rc:1\n2015/07/31 16:11:49 [debug] 3557#0: *1 gzip in_buf:0000000000EF6E20 pos:00000000006DCDA0\n2015/07/31 16:11:49 [debug] 3557#0: *1 free: 0000000000EED690\n2015/07/31 16:11:49 [debug] 3557#0: *1 http chunk: 10\n2015/07/31 16:11:49 [debug] 3557#0: *1 http chunk: 121\n2015/07/31 16:11:49 [debug] 3557#0: *1 write old buf t:1 f:0 0000000000F049D8, pos 0000000000F049D8, size: 185 file: 0, size: 0\n2015/07/31 16:11:49 [debug] 3557#0: *1 write new buf t:1 f:0 0000000000EF7058, pos 0000000000EF7058, size: 4 file: 0, size: 0\n2015/07/31 16:11:49 [debug] 3557#0: *1 write new buf t:0 f:0 0000000000000000, pos 00000000006E0240, size: 10 file: 0, size: 0\n2015/07/31 16:11:49 [debug] 3557#0: *1 write new buf t:1 f:0 0000000000EF06A0, pos 0000000000EF06A0, size: 121 file: 0, size: 0\n2015/07/31 16:11:49 [debug] 3557#0: *1 write new buf t:0 f:0 0000000000000000, pos 00000000004B2EB8, size: 7 file: 0, size: 0\n2015/07/31 16:11:49 [debug] 3557#0: *1 http write filter: l:1 f:1 s:327\n2015/07/31 16:11:49 [debug] 3557#0: *1 http write filter limit 0\n2015/07/31 16:11:49 [debug] 3557#0: *1 writev: 327\n2015/07/31 16:11:49 [debug] 3557#0: *1 http write filter 0000000000000000\n2015/07/31 16:11:49 [debug] 3557#0: *1 http copy filter: 0 \"/favicon.ico?\"\n2015/07/31 16:11:49 [debug] 3557#0: *1 http finalize request: 0, \"/favicon.ico?\" a:1, c:1\n2015/07/31 16:11:49 [debug] 3557#0: *1 set http keepalive handler\n2015/07/31 16:11:49 [debug] 3557#0: *1 http close request\n2015/07/31 16:11:49 [debug] 3557#0: *1 http log handler\n2015/07/31 16:11:49 [debug] 3557#0: *1 free: 0000000000EF06A0\n2015/07/31 16:11:49 [debug] 3557#0: *1 free: 0000000000000000\n2015/07/31 16:11:49 [debug] 3557#0: *1 free: 0000000000F03B20, unused: 8\n2015/07/31 16:11:49 [debug] 3557#0: *1 free: 0000000000EF6A40, unused: 2156\n2015/07/31 16:11:49 [debug] 3557#0: *1 free: 0000000000F09E70\n2015/07/31 16:11:49 [debug] 3557#0: *1 hc free: 0000000000000000 0\n2015/07/31 16:11:49 [debug] 3557#0: *1 hc busy: 0000000000000000 0\n2015/07/31 16:11:49 [debug] 3557#0: *1 reusable connection: 1\n2015/07/31 16:11:49 [debug] 3557#0: *1 event timer add: 14: 65000:1438355574073\n2015/07/31 16:11:49 [debug] 3557#0: *1 post event 0000000000F4A118\n2015/07/31 16:11:49 [debug] 3557#0: *1 delete posted event 0000000000F4A118\n2015/07/31 16:11:49 [debug] 3557#0: *1 http keepalive handler\n2015/07/31 16:11:49 [debug] 3557#0: *1 malloc: 0000000000F09E70:1024\n2015/07/31 16:11:49 [debug] 3557#0: *1 recv: fd:14 -1 of 1024\n2015/07/31 16:11:49 [debug] 3557#0: *1 recv() not ready (11: Resource temporarily unavailable)\n2015/07/31 16:11:49 [debug] 3557#0: *1 free: 0000000000F09E70\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1438345783, "creation_date": 1438345783, "answer_id": 31746259, "question_id": 31746173, "link": "https://stackoverflow.com/questions/31746173/perl-work-with-log-file/31746259#31746259", "title": "Perl: work with log file", "body": "<p>Just use two loops:</p>\n\n<pre><code>while () {   # Same as for (;;).\n    for (1 .. 100) {\n        open my $LOGFILE, '&lt;', $logfile or die $!;\n        if ($logline = &lt;LOGFILE&gt;) {\n            # \u689d\u4ef6\n        }\n        sleep 15;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "reply_to_user": {"reputation": 23, "user_id": 5177786, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a523f4485a99204ab2069205adf210d3?s=128&d=identicon&r=PG&f=1", "display_name": "madmax", "link": "https://stackoverflow.com/users/5177786/madmax"}, "edited": false, "score": 0, "creation_date": 1440600192, "post_id": 31746535, "comment_id": 52341864, "body": "@madmax, It&#39;s another question, could you please open a new question for it ?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1438346671, "creation_date": 1438346671, "answer_id": 31746535, "question_id": 31746173, "link": "https://stackoverflow.com/questions/31746173/perl-work-with-log-file/31746535#31746535", "title": "Perl: work with log file", "body": "<p>Like this perhaps</p>\n\n<pre><code>open my $log_fh, '&lt;', $logfile or die $!;\n\nwhile ( &lt;$log_fh&gt; ) {\n    print;\n    sleep 15 unless $. % 100;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1438348106, "last_edit_date": 1438348106, "creation_date": 1438346926, "answer_id": 31746615, "question_id": 31746173, "link": "https://stackoverflow.com/questions/31746173/perl-work-with-log-file/31746615#31746615", "title": "Perl: work with log file", "body": "<p>Use <a href=\"https://metacpan.org/pod/File::Tail\" rel=\"nofollow\">File::Tail</a>:</p>\n\n<blockquote>\n<pre><code>use File::Tail;\nmy $file = File::Tail-&gt;new(name =&gt; $name, maxinterval =&gt; 300, adjustafter =&gt; 7);\nwhile (defined(my $line = $file-&gt;read)) {\n    print \"$line\";\n}\n</code></pre>\n</blockquote>\n\n<p>If that does not satisfy your needs, see <a href=\"https://metacpan.org/pod/perlfunc#tell-FILEHANDLE\" rel=\"nofollow\">tell</a> and <a href=\"https://metacpan.org/pod/perlfunc#seek-FILEHANDLE-POSITION-WHENCE\" rel=\"nofollow\">seek</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 5177786, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a523f4485a99204ab2069205adf210d3?s=128&d=identicon&r=PG&f=1", "display_name": "madmax", "link": "https://stackoverflow.com/users/5177786/madmax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 31746535, "answer_count": 3, "score": 1, "last_activity_date": 1438348106, "creation_date": 1438345507, "last_edit_date": 1438346213, "question_id": 31746173, "link": "https://stackoverflow.com/questions/31746173/perl-work-with-log-file", "title": "Perl: work with log file", "body": "<p>Please help me, how after every 100 lines,my cycle sleep on 15 seconds, and in a specified time reopen log.</p>\n\n<pre><code>open(LOGFILE,$logfile) or die \"error\";\nfor(;;){\n      if($logfile=&lt;LOGFILE&gt;){\n          ......................\n    }\n}\n</code></pre>\n"}, {"tags": ["php", "ajax", "perl", "curl", "simple-html-dom"], "comments": [{"owner": {"reputation": 1475, "user_id": 4853988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/67e7c166b2ffb68918eb6a2b1b758029?s=128&d=identicon&r=PG&f=1", "display_name": "PHPhil", "link": "https://stackoverflow.com/users/4853988/phphil"}, "edited": false, "score": 0, "creation_date": 1438339479, "post_id": 31744154, "comment_id": 51421889, "body": "What page (url)  would you like to scrape?"}, {"owner": {"reputation": 1415, "user_id": 3367442, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5addb6466ba24094292a01f7aab90243?s=128&d=identicon&r=PG", "display_name": "Sahil Patel", "link": "https://stackoverflow.com/users/3367442/sahil-patel"}, "reply_to_user": {"reputation": 1475, "user_id": 4853988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/67e7c166b2ffb68918eb6a2b1b758029?s=128&d=identicon&r=PG&f=1", "display_name": "PHPhil", "link": "https://stackoverflow.com/users/4853988/phphil"}, "edited": false, "score": 0, "creation_date": 1438342048, "post_id": 31744154, "comment_id": 51423460, "body": "PHPhil sorry i can&#39;t declare url"}, {"owner": {"reputation": 1415, "user_id": 3367442, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5addb6466ba24094292a01f7aab90243?s=128&d=identicon&r=PG", "display_name": "Sahil Patel", "link": "https://stackoverflow.com/users/3367442/sahil-patel"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1438344190, "post_id": 31744154, "comment_id": 51424796, "body": "@Sinan&#220;n&#252;r Thanks for advice but you don&#39;t know about me and you have to respect each and every programmer even if he/she fresher. I just want to know how to scrape the Division which is load with AJAX. I can&#39;t get that division id when i print that page content. I am scrapping data from last 4 months so i have enough skill to do this. If you don&#39;t know the answer then please don&#39;t comment."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1438339383, "last_edit_date": 1592644375, "creation_date": 1438339383, "answer_id": 31744232, "question_id": 31744154, "link": "https://stackoverflow.com/questions/31744154/how-to-scrape-ajax-loaded-division/31744232#31744232", "title": "How to scrape ajax loaded division?", "body": "<p>From <a href=\"https://metacpan.org/pod/WWW::Mechanize::FAQ#Which-modules-work-like-Mechanize-and-have-JavaScript-support\" rel=\"nofollow noreferrer\">WWW::Mechanize::FAQ</a></p>\n<blockquote>\n<p>Which modules work like Mechanize and have JavaScript support?</p>\n<p>In no particular order: Gtk2::WebKit::Mechanize, Win32::IE::Mechanize,\nWWW::Mechanize::Firefox, WWW::Scripter, WWW::Selenium</p>\n</blockquote>\n<p>Also see: <a href=\"https://stackoverflow.com/questions/260540/how-do-you-scrape-ajax-pages\">How do you scrape AJAX pages?</a></p>\n"}, {"comments": [{"owner": {"reputation": 1415, "user_id": 3367442, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5addb6466ba24094292a01f7aab90243?s=128&d=identicon&r=PG", "display_name": "Sahil Patel", "link": "https://stackoverflow.com/users/3367442/sahil-patel"}, "edited": false, "score": 0, "creation_date": 1438342858, "post_id": 31744846, "comment_id": 51423913, "body": "i don&#39;t know how to use this. Can you please help me?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "reply_to_user": {"reputation": 1415, "user_id": 3367442, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5addb6466ba24094292a01f7aab90243?s=128&d=identicon&r=PG", "display_name": "Sahil Patel", "link": "https://stackoverflow.com/users/3367442/sahil-patel"}, "edited": false, "score": 0, "creation_date": 1438375737, "post_id": 31744846, "comment_id": 51443482, "body": "Depends on the pay ..."}], "tags": [], "owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "is_accepted": false, "score": 1, "last_activity_date": 1438341309, "creation_date": 1438341309, "answer_id": 31744846, "question_id": 31744154, "link": "https://stackoverflow.com/questions/31744154/how-to-scrape-ajax-loaded-division/31744846#31744846", "title": "How to scrape ajax loaded division?", "body": "<p>Using <a href=\"http://www.seleniumhq.org/\" rel=\"nofollow\">Selenium</a>, e.g. through <a href=\"http://search.cpan.org/dist/Selenium-Remote-Driver/\" rel=\"nofollow\">Selenium::Remote::Driver</a>, you will be operating real browsers to access the site. Sites can be quite sensitive to subtle differences in browser behavior.</p>\n"}], "owner": {"reputation": 1415, "user_id": 3367442, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5addb6466ba24094292a01f7aab90243?s=128&d=identicon&r=PG", "display_name": "Sahil Patel", "link": "https://stackoverflow.com/users/3367442/sahil-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "closed_date": 1438345856, "answer_count": 2, "score": -2, "last_activity_date": 1438342251, "creation_date": 1438339113, "last_edit_date": 1438342251, "question_id": 31744154, "link": "https://stackoverflow.com/questions/31744154/how-to-scrape-ajax-loaded-division", "closed_reason": "Needs more focus", "title": "How to scrape ajax loaded division?", "body": "<p>The title says it all. Please give me some way for how to scrape AJAX loaded Division.</p>\n\n<p>There is one website which has Product Grid Division. I want this division for scrap the data from it but the problem is when i get the page content data in another html page there is no product grid because it's loaded via AJAX after some time. For Scrapping i tried both Perl and CURL with PHP. </p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["regex", "perl", "if-statement"], "comments": [{"owner": {"reputation": 945, "user_id": 1254830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fk2mq.png?s=128&g=1", "display_name": "apgp88", "link": "https://stackoverflow.com/users/1254830/apgp88"}, "edited": false, "score": 1, "creation_date": 1438302305, "post_id": 31736195, "comment_id": 51407471, "body": "can you just use <code>C[^A]</code> ? <a href=\"https://regex101.com/r/tB1rR1/1\" rel=\"nofollow noreferrer\">regex101.com/r/tB1rR1/1</a>"}, {"owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "reply_to_user": {"reputation": 945, "user_id": 1254830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fk2mq.png?s=128&g=1", "display_name": "apgp88", "link": "https://stackoverflow.com/users/1254830/apgp88"}, "edited": false, "score": 0, "creation_date": 1438302408, "post_id": 31736195, "comment_id": 51407499, "body": "I didn&#39;t even know this kind of thing existed, thank you!!!"}, {"owner": {"reputation": 945, "user_id": 1254830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fk2mq.png?s=128&g=1", "display_name": "apgp88", "link": "https://stackoverflow.com/users/1254830/apgp88"}, "edited": false, "score": 0, "creation_date": 1438302496, "post_id": 31736195, "comment_id": 51407526, "body": "No problem. Posting as an answer for future."}, {"owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "edited": false, "score": 0, "creation_date": 1438302613, "post_id": 31736195, "comment_id": 51407558, "body": "Yes I can, but it doesn&#39;t seem to match just &quot;C&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438318590, "post_id": 31736240, "comment_id": 51411290, "body": "That&#39;s a long way of writing <code>&#47;^C(?!A)&#47;</code>, and it matches far more than what the OP asked."}], "tags": [], "owner": {"reputation": 1209, "user_id": 83879, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5c4e03b2704fefb2529a2d63c744145f?s=128&d=identicon&r=PG", "display_name": "golliher", "link": "https://stackoverflow.com/users/83879/golliher"}, "is_accepted": false, "score": 0, "last_activity_date": 1438302922, "last_edit_date": 1438302922, "creation_date": 1438302414, "answer_id": 31736240, "question_id": 31736195, "link": "https://stackoverflow.com/questions/31736195/how-can-i-regex-match-a-character-only-if-not-followed-by-a-different-character/31736240#31736240", "title": "How can I regex match a character only if not followed by a different character?", "body": "<p>I think this does what you ask:</p>\n\n<pre><code>#!/usr/bin/env perl\n@array = (\"CA\", \"C\", \"CB\", \"CZ\");\n\nforeach (@array) {\n  if ($_ =~ m/^C$|^C[^A]/) {\n    print \"true \\n\";\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "edited": false, "score": 0, "creation_date": 1438302974, "post_id": 31736245, "comment_id": 51407641, "body": "I get exactly what I am try to do when I use <code>C[^A]|C$</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "edited": false, "score": 1, "creation_date": 1438320149, "post_id": 31736245, "comment_id": 51411690, "body": "@Chemist not a Programmer , <code>C[^A]|C$</code> will match <code>ACZ</code>."}], "tags": [], "owner": {"reputation": 945, "user_id": 1254830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fk2mq.png?s=128&g=1", "display_name": "apgp88", "link": "https://stackoverflow.com/users/1254830/apgp88"}, "is_accepted": false, "score": -2, "last_activity_date": 1438302469, "creation_date": 1438302469, "answer_id": 31736245, "question_id": 31736195, "link": "https://stackoverflow.com/questions/31736195/how-can-i-regex-match-a-character-only-if-not-followed-by-a-different-character/31736245#31736245", "title": "How can I regex match a character only if not followed by a different character?", "body": "<p>You can use following regex,</p>\n\n<pre><code>C[^A]\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/tB1rR1/1\" rel=\"nofollow\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1438321428, "post_id": 31738268, "comment_id": 51412106, "body": "I&#39;m curious, why do you mix <code>^</code> and <code>\\z</code> (instead of <code>^</code> and <code>$</code> or <code>\\A</code> and <code>\\z</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1438347378, "post_id": 31738268, "comment_id": 51426937, "body": "@Benjamin W., Because <code>$</code> does the wrong thing, and why would I want to use <code>\\A</code> instead of <code>^</code>?"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1438356132, "post_id": 31738268, "comment_id": 51433215, "body": "From perlre: &quot;The <code>\\A</code> and <code>\\Z</code> are just like <code>^</code> and <code>$</code>, except that they won&#39;t match multiple times when the <code>&#47;m</code> modifier is used, while <code>^</code> and <code>$</code> will match at every internal line boundary. To match the actual end of the string and not ignore an optional trailing newline, use <code>\\z</code>.&quot; I understand that you&#39;d usually use <code>\\A</code> and <code>\\z</code> (or <code>\\Z</code>) when dealing with multiline strings, and <code>^</code> and <code>$</code> when dealing with oneline strings. <code>&#47;^.*\\z&#47;</code> matches the last line of a multiline string, but why use <code>\\z</code> when the input is not multiline?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1438356397, "post_id": 31738268, "comment_id": 51433367, "body": "@Benjamin W., Again, because using <code>$</code> would give the wrong result. <code>$</code> is equivalent to <code>(?=\\n?\\z)</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1438357227, "post_id": 31738268, "comment_id": 51433847, "body": "(or <code>(?=\\n|\\z)</code> with <code>&#47;m</code>)"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1438398389, "post_id": 31738268, "comment_id": 51448900, "body": "Please forgive my blindness, but I really don&#39;t see the difference. Both <code>&#47;^C[BZ]?\\z&#47;</code> and <code>&#47;^C[BZ]?$&#47;</code> work for me. You say <code>$</code> is like a positive look-ahead for optional end-of-line and end-of-string, but how does that apply to the examples by the OP? (Also, sorry for spamming here, but the magic &quot;move to chat&quot; link hasn&#39;t appeared yet...)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1438412860, "post_id": 31738268, "comment_id": 51451503, "body": "@Benjamin W., <code>\\n</code> doesn&#39;t match end-of-line, whatever that means. It matches a newline. Do any of the acceptable inputs include newlines?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1438320198, "last_edit_date": 1438320198, "creation_date": 1438318139, "answer_id": 31738268, "question_id": 31736195, "link": "https://stackoverflow.com/questions/31736195/how-can-i-regex-match-a-character-only-if-not-followed-by-a-different-character/31738268#31738268", "title": "How can I regex match a character only if not followed by a different character?", "body": "<p>The simplest solution is the following:</p>\n\n<pre><code>/^C[BZ]?\\z/\n</code></pre>\n\n<p>If you actually want to match strings that start with \"C\", but where the \"C\" isn't followed by \"A\", then you want the following:</p>\n\n<pre><code>/^C(?!A)/\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 31738268, "answer_count": 3, "score": 0, "last_activity_date": 1438320198, "creation_date": 1438302074, "last_edit_date": 1438302689, "question_id": 31736195, "link": "https://stackoverflow.com/questions/31736195/how-can-i-regex-match-a-character-only-if-not-followed-by-a-different-character", "title": "How can I regex match a character only if not followed by a different character?", "body": "<p>I have an array with CA, C, CB, CZ. I want an if statement to match only C, CB, CZ. </p>\n\n<pre><code>@array = (\"CA\", \"C\", \"CB\", \"CZ\");\n\nforeach (@array) {\n if ($_ =~ m/^C|^C.&amp;[^CA]) {\n  print \"true \\n\";\n }\n}\n</code></pre>\n\n<p>This doesn't work, but I think it might be close. What perl regex expressions can I use to achieve my goal? </p>\n"}, {"tags": ["regex", "perl", "lexical-analysis"], "comments": [{"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 1, "creation_date": 1438301806, "post_id": 31735928, "comment_id": 51407361, "body": "You could do a regex for those examples, but there are probably a lot of other examples with new variations. You really need a list of all manufacturers and their abbreviations to be able to get to the find the model names accurately,"}, {"owner": {"reputation": 41024, "user_id": 223478, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OLN6Y.jpg?s=128&g=1", "display_name": "Neil McGuigan", "link": "https://stackoverflow.com/users/223478/neil-mcguigan"}, "reply_to_user": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1438302870, "post_id": 31735928, "comment_id": 51407613, "body": "Understood. I have a list of all brands and models"}, {"owner": {"reputation": 445, "user_id": 4098466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7adf4028d6e536b23711192e22d7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Ryan", "link": "https://stackoverflow.com/users/4098466/kim-ryan"}, "edited": false, "score": 0, "creation_date": 1438304180, "post_id": 31735928, "comment_id": 51407912, "body": "OK, I have parsed this type of data before. You can do it with regexps, but is needs a lot of wrapping code, normalization and error handling to do it properly."}, {"owner": {"reputation": 1860, "user_id": 1036745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pDPQ.png?s=128&g=1", "display_name": "gwillie", "link": "https://stackoverflow.com/users/1036745/gwillie"}, "edited": false, "score": 1, "creation_date": 1438320310, "post_id": 31735928, "comment_id": 51411739, "body": "year regex shouldn&#39;t be <code>\\d{4}</code>, you should stipulate a more narrow range like <code>19[89][0-9]|20[01][0-6]</code> to more accurately match expected input."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1438330615, "post_id": 31735928, "comment_id": 51416642, "body": "You would also have a <code>&#47;i</code> flag on most of your regexes."}, {"owner": {"reputation": 41024, "user_id": 223478, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OLN6Y.jpg?s=128&g=1", "display_name": "Neil McGuigan", "link": "https://stackoverflow.com/users/223478/neil-mcguigan"}, "edited": false, "score": 0, "creation_date": 1438336011, "post_id": 31735928, "comment_id": 51419785, "body": "Absolutely. I am eliding the details of the item matching expressions, and looking more for help on the grouping and value re-writing part. Thanks!"}, {"owner": {"reputation": 2756, "user_id": 49847, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9522af5461d76c09247225af722f0d94?s=128&d=identicon&r=PG", "display_name": "Susheel Javadi", "link": "https://stackoverflow.com/users/49847/susheel-javadi"}, "edited": false, "score": 0, "creation_date": 1438596540, "post_id": 31735928, "comment_id": 51498157, "body": "You should do this using Conditional Random Fields for a much much better accuracy."}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 3151648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3955d4928633c6e32467da0fd3e0bf6?s=128&d=identicon&r=PG&f=1", "display_name": "Belhe001", "link": "https://stackoverflow.com/users/3151648/belhe001"}, "is_accepted": true, "score": 0, "last_activity_date": 1445368157, "creation_date": 1445368157, "answer_id": 33244937, "question_id": 31735928, "link": "https://stackoverflow.com/questions/31735928/tokenizing-product-models/33244937#33244937", "title": "Tokenizing Product Models", "body": "<p>I think you want to extract car trading details.</p>\n\n<p>Here you need NLP ,You can use <a href=\"http://nlp.stanford.edu/software/corenlp.shtml\" rel=\"nofollow\">Stanford Core NLP</a> to design your own NLP regex or you can train a dataset.</p>\n\n<p>but <a href=\"http://nlp.stanford.edu/software/CRF-NER.shtml\" rel=\"nofollow\">Stanford NER</a> is developed model which will give you entities like Date and time , organization also location , person ,percentage and price.</p>\n\n<p>other related tools: <a href=\"https://opennlp.apache.org/\" rel=\"nofollow\">apache openNLP</a> , <a href=\"http://aylien.com/\" rel=\"nofollow\">aylien</a></p>\n"}], "owner": {"reputation": 41024, "user_id": 223478, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OLN6Y.jpg?s=128&g=1", "display_name": "Neil McGuigan", "link": "https://stackoverflow.com/users/223478/neil-mcguigan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 33244937, "answer_count": 1, "score": 2, "last_activity_date": 1466548120, "creation_date": 1438300258, "last_edit_date": 1466548120, "question_id": 31735928, "link": "https://stackoverflow.com/questions/31735928/tokenizing-product-models", "title": "Tokenizing Product Models", "body": "<p>Looking to match some product info, returning structured data and rewriting or looking up the value.</p>\n\n<p>Example input:</p>\n\n<pre><code>\"I have a 1999 Cat (D-6) and an Ingersoll Rand Model Z for sale\"\n</code></pre>\n\n<p>From which I want to create something like</p>\n\n<pre><code>[ { year:1999, brand:\"CATERPILLAR\", model:\"D6\" },\n{ year:null, brand:\"INGERSOLL-RAND\", model:\"MODEL Z\" } ]\n</code></pre>\n\n<p>Based on known data:</p>\n\n<pre><code>/\\d{4}/, YEAR\n...\n/cat(erpill[ae]r)/, BRAND, \"CATERPILLAR\"\n...\n/d[\\-\\s]6/, MODEL, \"D6\"\n</code></pre>\n\n<p>Can this be done with Regex alone? Or do I need a Lexer?</p>\n\n<p>I can figure out the regexes no problem, but confused about the re-writing part, and grouping things together</p>\n"}, {"tags": ["javascript", "ajax", "perl"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5175491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jzz7R.jpg?s=128&g=1", "display_name": "jovial_cynic", "link": "https://stackoverflow.com/users/5175491/jovial-cynic"}, "edited": false, "score": 0, "creation_date": 1438641250, "post_id": 31736936, "comment_id": 51523293, "body": "Thank you so much, harvey.  As I&#39;m going through the code and modifying it, I&#39;m trying to understand exactly how this works.  Since I&#39;m trying to get a stream of data to flow in some manner, it appears as though the only way this works is if the javascript portion of the code makes multiple calls to the server.  This portion here, for example:  <b>ws.send($(&#39;#msg&#39;).val());</b>"}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "reply_to_user": {"reputation": 21, "user_id": 5175491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jzz7R.jpg?s=128&g=1", "display_name": "jovial_cynic", "link": "https://stackoverflow.com/users/5175491/jovial-cynic"}, "edited": false, "score": 0, "creation_date": 1438651525, "post_id": 31736936, "comment_id": 51525732, "body": "You can extend this example very easily, add a global variable <code>my @connections = ();</code>. Create a new websocket end point such eg <code>websocket &#39;&#47;stream =&gt; sub { my $self = shift; push @connections, $self }&#39;</code>. Now you can stream to the clients without having to be polled using as an example <code>foreach my $c (@connections) { $c-&gt;send({text=&gt;&#39;Hello&#39;;}) sleep 2; };</code>. In this way you can send a constant stream of data to all clients, don&#39;t forget to remove connects when clients disconnect. See (this)[<a href=\"https://github.com/kraih/mojo/wiki/Writing-websocket-chat-using-Mojolicious-Lite]\" rel=\"nofollow noreferrer\">github.com/kraih/mojo/wiki/&hellip;</a> for more details."}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": 1, "last_activity_date": 1438308116, "last_edit_date": 1438308116, "creation_date": 1438307722, "answer_id": 31736936, "question_id": 31735039, "link": "https://stackoverflow.com/questions/31735039/infinite-stream-of-data-via-ajax-to-update-fields-in-webpage/31736936#31736936", "title": "Infinite stream of data via AJAX to update fields in webpage?", "body": "<p>There are various frameworks that will help you communicate in real time over a http/json interface. </p>\n\n<p><a href=\"http://mojolicio.us/\" rel=\"nofollow noreferrer\">Mojolicious</a> has excellent Websockets support, and is able to stream data in much the way you want. </p>\n\n<p>In older browsers add one of the shims from <a href=\"https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills#web-sockets\" rel=\"nofollow noreferrer\">Modernizer</a> which will gracefully downgrade websockets to a polling mechanism as needed.</p>\n\n<p>Here's an example echo server using Mojolicious::Lite, part of the same package on Mojolicious but with a simpler api.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Mojolicious::Lite;\n\nget '/' =&gt; 'index';\n\nwebsocket '/echo' =&gt; sub {\n    my $self = shift;\n    $self-&gt;on(message =&gt; sub {\n            my ($self, $msg) = @_;\n            my ($s,$m,$h) = localtime(time);\n            $self-&gt;send({ json =&gt; { text =&gt; $msg, time=&gt; \"$h:$m:$s\" }});\n        });\n};\n\napp-&gt;start;\n\n__DATA__\n@@ index.html.ep\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\" &gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n      $(function () {\n          var log = function (text) { $('#log').val( $('#log').val() + text + \"\\n\"); };\n\n          var ws = new WebSocket('ws://localhost:3000/echo');\n          ws.onopen = function () { log('Connection opened'); };\n\n          ws.onmessage = function (msg) {\n            var res = JSON.parse(msg.data);\n            log(res.time + '&gt; '  + res.text); \n          };\n\n         $('#msg').keydown(function (e) {\n             if (e.keyCode == 13 &amp;&amp; $('#msg').val()) {\n                 ws.send($('#msg').val());\n                 $('#msg').val('');\n             }\n           });\n         });\n    &lt;/script&gt;\n  &lt;/head&gt;\n&lt;body&gt;\n    &lt;input type=\"text\" id=\"msg\" placeholder=\"Type Your Message Here\" /&gt;&lt;br&gt;\n    &lt;textarea id=\"log\" readonly&gt;&lt;/textarea&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>You can start this program using <code>perl app.pl daemon</code>, as well as host it on the various http servers such as apache.</p>\n\n<p>When you start this you should see;</p>\n\n<p><a href=\"https://i.stack.imgur.com/o7S2v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o7S2v.png\" alt=\"Output from script\"></a></p>\n\n<p>Notice how the timestamp is added server side and the complete message sent back.</p>\n"}], "owner": {"reputation": 21, "user_id": 5175491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jzz7R.jpg?s=128&g=1", "display_name": "jovial_cynic", "link": "https://stackoverflow.com/users/5175491/jovial-cynic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438308116, "creation_date": 1438294688, "last_edit_date": 1438303890, "question_id": 31735039, "link": "https://stackoverflow.com/questions/31735039/infinite-stream-of-data-via-ajax-to-update-fields-in-webpage", "title": "Infinite stream of data via AJAX to update fields in webpage?", "body": "<p>Note: This is my first question on here. </p>\n\n<p><strong>Short version of the question:</strong> </p>\n\n<p>If I'm running a server-side script that can output data (real-time sensor readings with values that change very rapidly), is it more appropriate to use AJAX to repeatedly request the most recent script output, or is it more appropriate to have the script output the data in an endless stream and use AJAX to read, parse, and output that data as it streams over? Is the second option even possible, or does AJAX anticipate some kind of end-of-file flag before processing anything?</p>\n\n<p><strong>Very long version of the question:</strong></p>\n\n<p>I am building an in-car computer comprised of an Arduino (to read sensors) and a Raspberry Pi and a 10\" LCD. I'm streaming the data from the Arduino to the Raspberry Pi via serial communication, in the following format:</p>\n\n<pre><code>output-timestamp: value1, value2, value3, value4, value5, etc.\n</code></pre>\n\n<p>With Chrome/Chromium extensions, I can read serial data directly into the browser, which allows me to display the sensor value in real time. And with HTML5, I can display that serial data visually with rotating image layers, simulating the various gauges in a typical car instrument cluster.</p>\n\n<p>HOWEVER. Running raspian on the Raspberry Pi, the version of Chromium available doesn't have HTML5 support. I could either re-write my animations, or I can create a cross-browser solution. I've decided to go with the latter, even though I'm the only one who is going to use this thing.</p>\n\n<p>On the Raspberry, I've written a perl script that grabs the serial data and outputs it when ran. I can tweak the code to either write a single line of data:</p>\n\n<pre><code>output-timestamp: value1, value2, value3, value4, value5, etc.\n</code></pre>\n\n<p>Or I can write it to endlessly stream:</p>\n\n<pre><code>output-timestamp: value1, value2, value3, value4, value5, etc.\noutput-timestamp: value1, value2, value3, value4, value5, etc.\noutput-timestamp: value1, value2, value3, value4, value5, etc.\netc., etc.\n</code></pre>\n\n<p>If I'm going to run an AJAX call to grab the data, is it more appropriate to have the perl script output the data once, and then have AJAX request the most recent version of the script again and again, very rapidly, or should I have the perl script endlessly stream the sensor data and use AJAX to read, parse, and display the data as it streams? And is the second option even possible, or does AJAX waiting for some kind of end-of-file flag before it begins processing?</p>\n\n<p>In either way of doing it, the updates need to happen very rapidly; I'm pulling RPMs, accelerometer signals, speedometer signals, etc., so we're looking at very rapid updates to the display.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438320112, "post_id": 31734949, "comment_id": 51411673, "body": "Dirty fix indeed. That&#39;s crazy awful X_X"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 0, "last_activity_date": 1438294204, "creation_date": 1438294204, "answer_id": 31734949, "question_id": 31734798, "link": "https://stackoverflow.com/questions/31734798/undefined-subroutine-error-in-perl-package/31734949#31734949", "title": "Undefined subroutine error in perl package", "body": "<p>The <code>xmessage</code> sub in your cgi script is defined in the <code>main</code> package, while the <code>XUpload</code> module is (apparently) operating in the <code>XUpload</code> namespace.</p>\n\n<p>Resolving this issue will ultimately involve learning about Perl's namespaces and the <code>Exporter</code> module. But a quick and dirty fix is to create an alias for your sub in the <code>XUpload</code> package. Add this line to your main script:</p>\n\n<pre><code>*XUpload::xmessage = *message;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 2540111, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c63904596a28f1604426491604728868?s=128&d=identicon&r=PG", "display_name": "chown", "link": "https://stackoverflow.com/users/2540111/chown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 31734949, "answer_count": 1, "score": 0, "last_activity_date": 1438294204, "creation_date": 1438293471, "question_id": 31734798, "link": "https://stackoverflow.com/questions/31734798/undefined-subroutine-error-in-perl-package", "title": "Undefined subroutine error in perl package", "body": "<p>This is main file upload.cgi</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse lib '.';\nuse XFSConfig;\nuse XUpload ; \nuse CGI::Carp qw(fatalsToBrowser);\nuse CGI;\nuse Fcntl ':flock';\nuse LWP::UserAgent;\nuse HTTP::Cookies;\nuse HTML::Form;\nuse Encode;\n        sub xmessage\n    {\n       my ($msg) = @_;\n       &amp;lmsg($msg);\n       $msg=~s/'/\\\\'/g;\n       $msg=~s/&lt;br&gt;/\\\\n/g;\n       print\"Content-type: text/html\\n\\n\";\n       print\"&lt;HTML&gt;&lt;HEAD&gt;&lt;Script&gt;alert('$msg');&lt;/Script&gt;&lt;/HEAD&gt;&lt;BODY&gt;&lt;b&gt;$msg&lt;/b&gt;&lt;/BODY&gt;&lt;/HTML&gt;\";\n       exit;\n    }\n\n    sub lmsg\n    {\n       my $msg = shift;\n       open(F,\"&gt;$c-&gt;{htdocs_tmp_dir}/$sid.html\");\n       print F qq[new Object({\"state\":\"error\", \"msg\":\"$msg\"})];\n       close F;\n       &amp;logit($msg);\n    }\n</code></pre>\n\n<p>and this function calls a function </p>\n\n<pre><code> &amp;XUpload::ProcessFile()\n</code></pre>\n\n<p>and XUpload::ProcessFile() function calls a function &amp;xmessage(\"Fatal\"); which is defined in upload.cgi</p>\n\n<p>and now i get this error</p>\n\n<pre><code>Undefined subroutine &amp;XUpload::xmessage called at Modules/XUpload.pm line 17.\n</code></pre>\n\n<p>It seems package XUpload   is unable to find function xmessage defined in upload.cgi at all</p>\n"}, {"tags": ["perl", "rest", "xml-parsing"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 1549994, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c8e377760c8b0c23dc3e0ed12048f0b7?s=128&d=identicon&r=PG", "display_name": "user1549994", "link": "https://stackoverflow.com/users/1549994/user1549994"}, "edited": false, "score": 0, "creation_date": 1438321854, "post_id": 31734216, "comment_id": 51412236, "body": "Thanks for the hint on namespace. You are right that it is not working because of that. I set the XPath context and tried to proceed, but I am stuck at a point. I have modified the code and put it in the original post above. It is currently failing to compile at line 16. I am not sure how to add namespace where the the namespace looks like xmlns:rasd=&quot;...&quot;. I am unable to find any good examples for doing this. If you have a good link for xml:libxml, I would really appreciate it if you could share it."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1438342040, "post_id": 31734216, "comment_id": 51423452, "body": "Read up on <a href=\"https://en.wikipedia.org/wiki/XML_namespace\" rel=\"nofollow noreferrer\">what xmlns means</a>. This statement declares <code>rasd</code> as a shortnand prefix that you can then use in XPath expressions."}, {"owner": {"reputation": 105, "user_id": 1549994, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c8e377760c8b0c23dc3e0ed12048f0b7?s=128&d=identicon&r=PG", "display_name": "user1549994", "link": "https://stackoverflow.com/users/1549994/user1549994"}, "edited": false, "score": 0, "creation_date": 1438359643, "post_id": 31734216, "comment_id": 51435227, "body": "I read upon what xmlns means earlier. I am just not sure about the syntax with XML:Libxml APIS."}], "tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": true, "score": 1, "last_activity_date": 1461119790, "last_edit_date": 1461119790, "creation_date": 1438291064, "answer_id": 31734216, "question_id": 31733444, "link": "https://stackoverflow.com/questions/31733444/parsing-rest-api-xml-response-body-in-perl/31734216#31734216", "title": "Parsing REST api XML response body in Perl", "body": "<blockquote>\n  <p>My concern is would PUT expect the content after I process it with XML::LibXML?</p>\n</blockquote>\n\n<p>I have no idea if the API in question accepts PUT with XML content. You will need to consult the API documentation for this.</p>\n\n<p>XML::LibXML is indeed a perfectly capable tool for the job, but you do need to know your way round the XML you've got, whatever tool you use.</p>\n\n<p>You only asked one question. Did you also mean to ask why XML::LibXML isn't finding any nodes?</p>\n\n<p>If so, the reason is probably that <code>xmlns=\"http://www........ some text\"</code> you're being so coy about. That's not any old attribute, it's an <a href=\"https://metacpan.org/pod/XML::LibXML::Namespace\" rel=\"nofollow\">XML namespace</a>, and there's probably at least one more in the document defining the <code>rasd:</code> prefix as well.</p>\n\n<p>Your query <code>$doc-&gt;findnodes('RasdItemsList/Item')</code> will only find elements with no namespace unless you've set the <a href=\"https://metacpan.org/pod/XML::LibXML::XPathContext\" rel=\"nofollow\">XPath context</a>. A simple workaround would be to write: <code>$doc-&gt;findnodes('*[local-name()=\"RasdItemsList\"]/*[local-name()=\"Item\"]')</code> - this will test the name irrespective of the namespace. However you'll need the actual namespace if you're going to be adding new nodes.</p>\n"}], "owner": {"reputation": 105, "user_id": 1549994, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c8e377760c8b0c23dc3e0ed12048f0b7?s=128&d=identicon&r=PG", "display_name": "user1549994", "link": "https://stackoverflow.com/users/1549994/user1549994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 0, "accepted_answer_id": 31734216, "answer_count": 1, "score": 0, "last_activity_date": 1461119790, "creation_date": 1438288142, "last_edit_date": 1438893519, "question_id": 31733444, "link": "https://stackoverflow.com/questions/31733444/parsing-rest-api-xml-response-body-in-perl", "title": "Parsing REST api XML response body in Perl", "body": "<p>I have two questions: </p>\n\n<p>1) I am trying to parse response of the GET request, add/delete a node and send it back using PUT. Is using XML::LibXML, the right thing to use for doing such operations.  My concern is would PUT expect the content after I process it with XML::LibXML? I tried to use XML::Simple and it did not work.</p>\n\n<p>2) I am trying to use XML::LibXML to parse the XML from the REST API response body that I receive from GET request. It is not able to find anything. It is failing on line 16 saying \"invalid expression at /\"\nHere is the code. </p>\n\n<pre><code>  1  my $disk_name = \"Hard disk 2\";\n  2  my $parser = XML::LibXML-&gt;new();\n  3  my $query;\n  4  my $name=\"\";\n  5  \n  6    my $doc    = $parser-&gt;parse_string ($data_xml); \n  7    my $xpc = XML::LibXML::XPathContext-&gt;new($doc);\n  8    $xpc-&gt;registerNs('x', 'http://www.vmware.com/vcloud/v1.5');\n  9    $xpc-&gt;registerNs('y', 'http://schemas.dmtf..');\n  10    $xpc-&gt;registerNs('z','http://www.vmware.com/vcloud/v1.5');\n  11    \n  12    log(\"loop thr the nodes\");\n  13    log($doc);\n  14    foreach my $item ($xpc-&gt;findnodes('/x:RasdItemsList/x:Item')) {\n  15    log(\"found a match thr libXML\");\n  16      $name = $item-&gt;findnodes(\"/y:rasd:ElementName[text()='$disk_name']\"); \n  17      if($name ne '') {\n  18          log(\"The name of the node is \" . $name-&gt;to_literal);\n  19          $name-&gt;setData('New disk');\n  20      }\n  21    }\n</code></pre>\n\n<p>Here is what the $data_xml looks like: </p>\n\n<pre><code> &lt;RasdItemsList xmlns=\"=\"http://www.vmware.com/vcloud/v1.5\" xmlns:rasd=\"http://schemas.....\" xmlns:xsi=.......some more text&gt;\n          &lt;Link rel=\"edit\" type=\"some text\"/&gt;\n          &lt;Item&gt;\n              &lt;rasd:Address&gt;0&lt;/rasd:Address&gt;\n              &lt;rasd:Description&gt;SCSI Controller&lt;/rasd:Description&gt;\n              &lt;rasd:ElementName&gt;SCSI Controller 0&lt;/rasd:ElementName&gt;\n              &lt;rasd:InstanceID&gt;2&lt;/rasd:InstanceID&gt;\n              &lt;rasd:ResourceSubType&gt;lsilogic&lt;/rasd:ResourceSubType&gt;\n              &lt;rasd:ResourceType&gt;6&lt;/rasd:ResourceType&gt;\n          &lt;/Item&gt;\n          &lt;Item&gt;\n              &lt;rasd:AddressOnParent&gt;0&lt;/rasd:AddressOnParent&gt;\n              &lt;rasd:Description&gt;Hard disk&lt;/rasd:Description&gt;\n              &lt;rasd:ElementName&gt;Hard disk 1&lt;/rasd:ElementName&gt;\n              &lt;rasd:HostResource xmlns:ns12=\"txt\" ns12:capacity=\"59392\" ns12:busSubType=\"lsilogic\" ns12:busType=\"6\"&gt;&lt;/rasd:HostResource&gt;\n              &lt;rasd:InstanceID&gt;2000&lt;/rasd:InstanceID&gt;\n              &lt;rasd:Parent&gt;2&lt;/rasd:Parent&gt;\n              &lt;rasd:ResourceType&gt;17&lt;/rasd:ResourceType&gt;\n          &lt;/Item&gt;\n       ...... some more &lt;Items&gt;\n      &lt;/RasdItemsList&gt;\n</code></pre>\n\n<p>I get the response from the GET request. I split it by \\n and put that in $data_xml. So all the lines above are appended to make a giant string $data_xml. </p>\n\n<p>Thanks in advance for the help.</p>\n"}, {"tags": ["mongodb", "perl"], "answers": [{"tags": [], "owner": {"reputation": 488, "user_id": 1217519, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5e14d5c388c7e67d81603c0cfaa6abc7?s=128&d=identicon&r=PG", "display_name": "ashraf", "link": "https://stackoverflow.com/users/1217519/ashraf"}, "is_accepted": true, "score": 0, "last_activity_date": 1438312443, "creation_date": 1438312443, "answer_id": 31737506, "question_id": 31733224, "link": "https://stackoverflow.com/questions/31733224/update-of-a-subdocuments-field-in-an-array-of-documents-in-mongodb-using-the-po/31737506#31737506", "title": "update of a subdocument&#39;s field in an array of documents in MongoDB using the positional operator with Mango", "body": "<p>Updating while making use of the <a href=\"http://docs.mongodb.org/manual/reference/operator/update/positional/#up._S_\" rel=\"nofollow\">positional ($) operator</a> is supported in the <a href=\"http://search.cpan.org/perldoc?MongoDB\" rel=\"nofollow\">MongoDB official Perl driver</a>. </p>\n\n<p>The following would updates a field in the subdocument of an array embedded in a specific document:</p>\n\n<pre><code>my $oid = MongoDB::OID-&gt;new(\"...\");\n$self-&gt;collection-&gt;update(\n  {_id =&gt; $oid, 'grades.grade' =&gt; 85},\n  {'$set' =&gt; {'grade.$.new_field' =&gt; 'test'}}\n);\n</code></pre>\n"}], "owner": {"reputation": 488, "user_id": 1217519, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5e14d5c388c7e67d81603c0cfaa6abc7?s=128&d=identicon&r=PG", "display_name": "ashraf", "link": "https://stackoverflow.com/users/1217519/ashraf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 31737506, "answer_count": 1, "score": 0, "last_activity_date": 1438312662, "creation_date": 1438287419, "last_edit_date": 1438312662, "question_id": 31733224, "link": "https://stackoverflow.com/questions/31733224/update-of-a-subdocuments-field-in-an-array-of-documents-in-mongodb-using-the-po", "title": "update of a subdocument&#39;s field in an array of documents in MongoDB using the positional operator with Mango", "body": "<p>I have a bunch of documents each containing an array similar to the following:</p>\n\n<pre><code>{\n  _id: 4,\n  grades: [\n     { grade: 80, mean: 75, std: 8 },\n     { grade: 85, mean: 90, std: 5 },\n     { grade: 90, mean: 85, std: 3 }\n  ]\n}\n</code></pre>\n\n<p>and I wish to update the <code>std</code> field of the subdocument that has the corresponding <code>grade=85</code>.\nI'm using the <a href=\"https://metacpan.org/release/ODC/Mango-1.18/\" rel=\"nofollow\">Mango driver</a> and its <code>update</code> method complains or silently ignores the update if I try to use the <a href=\"http://docs.mongodb.org/manual/reference/operator/update/positional/#up._S_\" rel=\"nofollow\">positional ($) operator</a> in statements like the following:</p>\n\n<pre><code>my $result = $self-&gt;collection-&gt;update({_id =&gt; 4, grades =&gt; {grade =&gt; 85}}, {'$set' =&gt; {'grades.$.std' =&gt; 6, 'grades.$.new_field' =&gt; 'test'}});\n</code></pre>\n\n<p>and </p>\n\n<pre><code>my $result = $self-&gt;collection-&gt;update($oid, {grades =&gt; {grade =&gt; 85}}, {'$set' =&gt; {'grades.$.std' =&gt; 6}});\n</code></pre>\n\n<p>and can't get the subdocument updated properly. The Mango <code>update</code> method works when not specifying a positional operator though. Also, <code>find_and_modify</code> was not giving me a better outcome.</p>\n\n<p>When trying to use the <code>$elemMatch</code> operator (although not needed, I think, since I have only one query) I get something along the line of <code>Write error at index 0: The dollar ($) prefixed field '$elemMatch' in 'grades.$elemMatch' is not valid for storage. at ...</code></p>\n\n<p>How can I go about doing this with Mango, please?</p>\n\n<p>If Mango's <code>update</code> method dose not support this, is it supported with the <a href=\"http://search.cpan.org/perldoc?MongoDB\" rel=\"nofollow\">MongoDB official Perl driver</a>?</p>\n"}, {"tags": ["arrays", "regex", "perl", "substring"], "comments": [{"owner": {"reputation": 526, "user_id": 4629630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DX63.png?s=128&g=1", "display_name": "Kaleb", "link": "https://stackoverflow.com/users/4629630/kaleb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438280809, "post_id": 31731251, "comment_id": 51398225, "body": "@ ikegami Is that a better title for the question?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1438280818, "post_id": 31731251, "comment_id": 51398232, "body": "Don&#39;t write <code>[some failed configure]</code> as an example, if that is what it is. Write exactly how the string appears."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1438280908, "post_id": 31731251, "comment_id": 51398290, "body": "This also appears to be an XY-problem. Share some insight into what you are doing and why."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438280953, "post_id": 31731251, "comment_id": 51398323, "body": "@ikegami Because if he is parsing a string, it would be nice to know what the string actually looks like?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1438281156, "post_id": 31731251, "comment_id": 51398443, "body": "The test &quot;Any substring of string1 matches any substring of string2&quot; can be simplified to <code>1</code> (true), as <code>&quot;&quot; eq &quot;&quot;</code> is true for any string1 and string2."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1438281365, "post_id": 31731251, "comment_id": 51398569, "body": "I see what you are asking now that I have worked my way through the text. You are parsing configuration options, and if any option that is listed in the <code>@Failures</code> array appears in the current string you are parsing, you want to exclude that string. I would have to say that the simplest way to do that would be to first parse the options, using whatever method you are using to do that."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1438281586, "post_id": 31731251, "comment_id": 51398716, "body": "For example, if you have a sub <code>parse_cfg</code> that returns a hash, use that on the string to get the values, then compare the key/value pairs, using the <code>@Failures</code> array as the loop condition."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438281816, "post_id": 31731251, "comment_id": 51398857, "body": "Do you see that your specification is incorrect? You ask for <i>any substring of string1 matches any substring of string2</i>. The letter <code>n</code> is a substring of <code>$array[$element]</code>, and it is also a substring of <i>every</i> element of <code>@Failures</code>, but I doubt if that is what you mean"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1438282005, "post_id": 31731251, "comment_id": 51398976, "body": "Please can you change your data examples to compilable Perl. For example the output if <code>Data::Dumper</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438282481, "post_id": 31731251, "comment_id": 51399277, "body": "You&#39;re asking for &quot;whitespace-delimited substrIngs&quot;. I suggest you fix your question, and include some compilable data as I said"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1438282622, "post_id": 31731251, "comment_id": 51399367, "body": "@Kaleb Perl strings aren&#39;t terminated by <code>\\0</code>, and <code>\\0</code> is not whitespace (also, every string is itself a string)."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1438282867, "post_id": 31731251, "comment_id": 51399482, "body": "@Kaleb Would <code>--configure-option1=&quot;foo&quot;</code> be equal to <code>--configure_option1=foo</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 4629630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DX63.png?s=128&g=1", "display_name": "Kaleb", "link": "https://stackoverflow.com/users/4629630/kaleb"}, "edited": false, "score": 0, "creation_date": 1438281256, "post_id": 31731451, "comment_id": 51398504, "body": "No in fact it is not I need to match this &quot;--configure-option2&quot;  from [--configure-option2 --configure-option5] and [--configure-option10 --configure-option2]"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1438281417, "post_id": 31731451, "comment_id": 51398601, "body": "You may as well just write <code>my $escaped_chars = quotemeta($string1)</code> and let the regex engine sort it out"}, {"owner": {"reputation": 526, "user_id": 4629630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DX63.png?s=128&g=1", "display_name": "Kaleb", "link": "https://stackoverflow.com/users/4629630/kaleb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438281593, "post_id": 31731451, "comment_id": 51398718, "body": "@Borodin Thank you for some constructive advice. I will try that and upvote if it works."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 526, "user_id": 4629630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DX63.png?s=128&g=1", "display_name": "Kaleb", "link": "https://stackoverflow.com/users/4629630/kaleb"}, "edited": false, "score": 1, "creation_date": 1438282027, "post_id": 31731451, "comment_id": 51398995, "body": "@Kaleb It&#39;s not a good idea to ask people to stop helping just because you don&#39;t understand what they are saying or asking. Try to answer the questions and give relevant feedback and your question will be answered faster. With relevant info, a question can usually be answered in minutes. In the case where the OP does not understand how to ask, the answer is delayed, and sometimes never comes."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 526, "user_id": 4629630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DX63.png?s=128&g=1", "display_name": "Kaleb", "link": "https://stackoverflow.com/users/4629630/kaleb"}, "edited": false, "score": 0, "creation_date": 1438282192, "post_id": 31731451, "comment_id": 51399080, "body": "@Kaleb: It won&#39;t work - it does the same as ikegami wrote, and I described in my comment on your question"}, {"owner": {"reputation": 526, "user_id": 4629630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DX63.png?s=128&g=1", "display_name": "Kaleb", "link": "https://stackoverflow.com/users/4629630/kaleb"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1438282260, "post_id": 31731451, "comment_id": 51399120, "body": "@TLP Thank You for constructive criticism. I will take it to heart."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1438282391, "post_id": 31731451, "comment_id": 51399211, "body": "@TLP:The problem isn&#39;t that Kaleb doesn&#39;t understand what is being said. On the contrary, I believe he is quite clear that ikegami&#39;s post is a useless joke about the shortcomings of the question"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1438285141, "post_id": 31731451, "comment_id": 51400706, "body": "Updated my answer to match the latest incarnation of the question."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1438285072, "last_edit_date": 1438285072, "creation_date": 1438281093, "answer_id": 31731451, "question_id": 31731251, "link": "https://stackoverflow.com/questions/31731251/comparing-tokens-of-string-with-tokens-of-array-of-strings/31731451#31731451", "title": "Comparing tokens of string with tokens of array of strings", "body": "<pre><code>my $alt = join '|', map quotemeta, split ' ', $string;\nmy $re = qr/(?&lt;!\\S)(?:$alt)(?!\\S)/;\n\nmy $match = grep /$re/, @array;\n</code></pre>\n\n<p>To speed things up some:</p>\n\n<pre><code>my $match = join(' ', @array) =~ /$re/;\n</code></pre>\n\n<p>To speed things up more, and to save memory:</p>\n\n<pre><code>my $match = 0\nfor (@array) {\n   if (/$re/) {\n      $match = 1;\n      last;\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1438282592, "creation_date": 1438282592, "answer_id": 31731889, "question_id": 31731251, "link": "https://stackoverflow.com/questions/31731251/comparing-tokens-of-string-with-tokens-of-array-of-strings/31731889#31731889", "title": "Comparing tokens of string with tokens of array of strings", "body": "<p>Your question is far from clear. Based on what I can read between the lines, I came up with this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Set::CrossProduct;\n\nmy $x = '[--configure-option1 --configure-option2 --configure-option3 --configure-option4]';\n\nmy $y = '[--configure-option20][--configure-option2 --configure-option5][--configure-option10 --configure-option11][--configure-option15 --configure-option22 --configure-option27]';\n\nmy $pat = qr/([a-z0-9-]+)/;\n\nmy @x = ($x =~ /$pat/g);\nmy @y = ($y =~ /$pat/g);\n\nmy $it = Set::CrossProduct-&gt;new([\\@x, \\@y]);\nwhile (my $el = $it-&gt;get) {\n    if ($el-&gt;[0] eq $el-&gt;[1]) {\n        printf \"'%s' appears in both\\n\", $el-&gt;[0];\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>C:\\...\\Temp> perl tt.pl\n'--configure-option2' appears in both</pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438284358, "post_id": 31732131, "comment_id": 51400292, "body": "While <code>any</code> is better than <code>grep</code>, it&#39;s still O(N). If you want to optimized version of this, you&#39;d use my earlier answer. Actually, you&#39;d build a regex instead of splitting."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1438283768, "last_edit_date": 1438283768, "creation_date": 1438283389, "answer_id": 31732131, "question_id": 31731251, "link": "https://stackoverflow.com/questions/31731251/comparing-tokens-of-string-with-tokens-of-array-of-strings/31732131#31732131", "title": "Comparing tokens of string with tokens of array of strings", "body": "<p>I think this goes some way to solving your problem if I have guessed your data format correctly</p>\n\n<p>It converts the <code>@failures</code> array into a hash containing all of the different options that should cause a rejection if they appear. Then it works through the <code>@array</code> (your name, not mine!) and uses <code>grep</code> to check whether any of the constituent options appears in the <code>%failures</code> hash, and prints the result</p>\n\n<p>If speed is an issue then you may want to replace <code>grep</code> with <code>any</code> from <code>List::MoreUtils</code></p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy @array = (\n    '--configure-option1 --configure-option2 --configure-option3 --configure-option4',\n    '--configure-option3 --configure-option4 --configure-option12',\n);\n\nmy @failures = (\n    '--configure-option20',\n    '--configure-option2 --configure-option5',\n    '--configure-option10 --configure-option11',\n    '--configure-option15 --configure-option22 --configure-option27',\n);\n\nmy %failures;\n$failures{$_} = 1 for map split, @failures;\n\nfor my $options ( @array ) {\n    my $reject = grep { $failures{$_} } split ' ', $options;\n    say $options, '  ', $reject ? 'FAIL' : 'PASS';\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>--configure-option1 --configure-option2 --configure-option3 --configure-option4  FAIL\n--configure-option3 --configure-option4 --configure-option12  PASS\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 526, "user_id": 4629630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DX63.png?s=128&g=1", "display_name": "Kaleb", "link": "https://stackoverflow.com/users/4629630/kaleb"}, "edited": false, "score": 0, "creation_date": 1438293593, "post_id": 31734778, "comment_id": 51404958, "body": "None of the solutions provided worked out as intended in the final script. Sinan yours was close but I couldn&#39;t make it quite work. Thanks for your submission though. @ikegami your&#39;s worked to get the first match however everything after that would also report a match even when there was no match. This is what I ended up working out on my own. It works but is probably far from optimal. If you have any optimization suggestions please contribute. Regards, Kaleb"}, {"owner": {"reputation": 526, "user_id": 4629630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DX63.png?s=128&g=1", "display_name": "Kaleb", "link": "https://stackoverflow.com/users/4629630/kaleb"}, "edited": false, "score": 0, "creation_date": 1438294012, "post_id": 31734778, "comment_id": 51405109, "body": "@ikegami Additionally thank you for cleaning up my question. I apologize for my initial lack of clarity on the issue. It is difficult for me to express in words what is going on in my mind. I will try to get better at this in the future."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438319631, "post_id": 31734778, "comment_id": 51411552, "body": "Re &quot;your&#39;s worked to get the first match however everything after that would also report a match even when there was no match. &quot; This makes absolutely no sense. As requested, it only checks if there is a match. It doesn&#39;t get any matches, so it can&#39;t possibly get the first match right and the later matches wrong."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438319804, "post_id": 31734778, "comment_id": 51411594, "body": "Re &quot;It is difficult for me to express in words&quot;, Then don&#39;t use words. If you were the provide all the necessary info (your inputs, your code, your desired output, and your obtained output), further description is almost uneccessary."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1438319989, "post_id": 31734778, "comment_id": 51411636, "body": "Re &quot;If you have any optimization suggestions please contribute.&quot;, Your solution scales insanely badly. I&#39;ve already provided optimized solutions to the question asked."}], "tags": [], "owner": {"reputation": 526, "user_id": 4629630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DX63.png?s=128&g=1", "display_name": "Kaleb", "link": "https://stackoverflow.com/users/4629630/kaleb"}, "is_accepted": true, "score": -2, "last_activity_date": 1438294295, "last_edit_date": 1438294295, "creation_date": 1438293388, "answer_id": 31734778, "question_id": 31731251, "link": "https://stackoverflow.com/questions/31731251/comparing-tokens-of-string-with-tokens-of-array-of-strings/31734778#31734778", "title": "Comparing tokens of string with tokens of array of strings", "body": "<pre><code>    #!/usr/bin/perl\n\n\nmy @pairs = (\n    '--configure-option1 --configure-option2 --configure-option3 --configure-option4',\n    '--configure-option3 --configure-option4 --configure-option12',\n);\n\nmy @failures = (\n    '--configure-option20',\n    '--configure-option2 --configure-option5',\n    '--configure-option10 --configure-option11',\n    '--configure-option15 --configure-option22 --configure-option27',\n);\n\n$all = 0;\n$size = $#pairs + 1;\nmy $string1;\nmy $string2;\n\nwhile ($all &lt; $size) {\n##... Other code happening here\n## Begin test case\n####################################################\n\n        # loop through the existing failure cases. Logic here is that\n        # the failures array will always be &lt; the build array.\n        # (the full build array has thousands of options while the\n        # failures array can not possibly grow larger than that and\n        # ideally will be much smaller than that.\n        foreach $string1 (@failures) {\n\n            $string2 = $pairs[$all];\n\n            # get string1 from the Failures array and parse it up into the\n            # @compare1 array\n            # get string2 from the current configure option and parse it into\n            # @compare2 array\n\n            my @compare1 = split(' ', $string1);\n            my @compare2 = split(' ', $string2);\n\n            # loop through both arrays storing each element in var1 and var2\n            # for comparing\n            foreach my $var1 (@compare1) {\n                foreach my $var2 (@compare2) {\n\n                    #see if var1 and var2 match\n                    if ($var1 eq $var2) {\n                        print \"ALERT!!!!\\n\";\n                        print \"string1 is: \\\"$string1\\\"\\n\";\n                        print \"string2 is: \\\"$string2\\\"\\n\\n\";\n                        print \"found match string1 contains $var1 and string2 contains $var2\\n\\n\";\n                        $reject = 1;\n                    }\n                }\n            }\n        }\n\n        if ($reject eq 1) {\n            print \"\\n$string2\\n\";\n            print \"didn't run this test because it's been rejected\\n\\n\";\n\n            # reset the reject flag\n            $reject = 0;\n        }\n        else {\n            print \"\\n$string2\\n\";\n            print \"This test did run\\n\\n\";\n        }\n\n        $all = $all + 1;\n####################################################\n## End test case\n##... Rest of script\n}\n</code></pre>\n\n<p>Output from Run:</p>\n\n<pre><code>ALERT!!!!\nstring1 is: \"--configure-option2 --configure-option5\"\nstring2 is: \"--configure-option1 --configure-option2 --configure-option3 --configure-option4\"\n\nfound match string1 contains --configure-option2 and string2 contains --configure-option2\n\n\n--configure-option1 --configure-option2 --configure-option3 --configure-option4\ndidn't run this test because it's been rejected\n\n\n--configure-option3 --configure-option4 --configure-option12\nThis test did run\n</code></pre>\n"}], "owner": {"reputation": 526, "user_id": 4629630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DX63.png?s=128&g=1", "display_name": "Kaleb", "link": "https://stackoverflow.com/users/4629630/kaleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 31734778, "answer_count": 4, "score": -3, "last_activity_date": 1438294295, "creation_date": 1438280431, "last_edit_date": 1438285048, "question_id": 31731251, "link": "https://stackoverflow.com/questions/31731251/comparing-tokens-of-string-with-tokens-of-array-of-strings", "title": "Comparing tokens of string with tokens of array of strings", "body": "<p>I have a string containing a list of whitespace-separated tokens.</p>\n\n<pre><code>my $string = \"--configure-option1 --configure-option2 --configure-option3 --configure-option4\";\n</code></pre>\n\n<p>I have an array of similar strings.</p>\n\n<pre><code>my @array = (\n   \"--configure-option20\",\n   \"--configure-option2 --configure-option5\",\n   \"--configure-option10 --configure-option11\",\n   \"--configure-option15 --configure-option22 --configure-option27\",\n);\n</code></pre>\n\n<p>I'd like to determine if any of the tokens in <code>$string</code> are also found in one of the strings in <code>@array</code>.For example, the result is true for the above values since both <code>$string</code> and <code>$array[1]</code> contain the token <code>--configure-option2</code>.</p>\n"}, {"tags": ["python", "perl", "unix", "terminal"], "comments": [{"owner": {"reputation": 96886, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1438279389, "post_id": 31730913, "comment_id": 51397469, "body": "<a href=\"https://stackoverflow.com/questions/8659226/run-a-python-script-in-perl\" title=\"run a python script in perl\">stackoverflow.com/questions/8659226/run-a-python-script-in-p&zwnj;&#8203;erl</a>"}, {"owner": {"reputation": 11, "user_id": 5162377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6942338e88962f16b5ae466eac01362c?s=128&d=identicon&r=PG&f=1", "display_name": "Hari Teja Reddy", "link": "https://stackoverflow.com/users/5162377/hari-teja-reddy"}, "reply_to_user": {"reputation": 96886, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1438279540, "post_id": 31730913, "comment_id": 51397544, "body": "@CoryKramer I want the python script to run in a new terminal window other than the one where the perl script is running."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 96886, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1438279575, "post_id": 31730913, "comment_id": 51397566, "body": "@CoryKramer: That question doesn&#39;t seem to address the <i>in a new terminal window</i> requirement, which I think is the only obscure part"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438279620, "post_id": 31730913, "comment_id": 51397586, "body": "Which Unix are you using?"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1438279642, "post_id": 31730913, "comment_id": 51397598, "body": "Is the terminal window under a Linux GUI like Gnome?  If so, you need a Gnome command to create a new terminal window.  Please clarify which GUI system you are using - they are all different."}, {"owner": {"reputation": 11, "user_id": 5162377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6942338e88962f16b5ae466eac01362c?s=128&d=identicon&r=PG&f=1", "display_name": "Hari Teja Reddy", "link": "https://stackoverflow.com/users/5162377/hari-teja-reddy"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1438279824, "post_id": 31730913, "comment_id": 51397686, "body": "@cdarke Yes, it&#39;s a GUI and I am using Gnome. I also want to supply several inputs to the python script which is running in new terminal from the perl script that is running in previously opened terminal that is hosting the perl script and that triggered the new terminal."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1438279836, "post_id": 31730913, "comment_id": 51397693, "body": "Try something like <code>gnome-terminal -x sh -c python file.py</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1438279918, "post_id": 31730913, "comment_id": 51397735, "body": "Okay I think you should edit your question to include all this information, as it has changed substantially. We shouldn&#39;t really have to ply you with all these questions"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1438280470, "post_id": 31730913, "comment_id": 51398044, "body": "By &quot;inputs&quot;, do you mean that the python program is reading <code>stdin</code>?  It would be simpler to run the python using a pipe, but that is going to be difficult if it is in another window, unless you can use a named pipe."}, {"owner": {"reputation": 11, "user_id": 5162377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6942338e88962f16b5ae466eac01362c?s=128&d=identicon&r=PG&f=1", "display_name": "Hari Teja Reddy", "link": "https://stackoverflow.com/users/5162377/hari-teja-reddy"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1438280609, "post_id": 31730913, "comment_id": 51398127, "body": "@cdarke, Yes!, the python script is using raw_input. If it is the same terminal as well it is fine as long as I can give inputs from the perl script"}], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 4429747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a182fa342cf95f33870032e2c49f3db3?s=128&d=identicon&r=PG&f=1", "display_name": "Channel Islander", "link": "https://stackoverflow.com/users/4429747/channel-islander"}, "is_accepted": false, "score": 0, "last_activity_date": 1438409697, "creation_date": 1438409697, "answer_id": 31758909, "question_id": 31730913, "link": "https://stackoverflow.com/questions/31730913/is-there-a-way-to-run-a-python-script-in-a-new-terminal-window-using-a-perl-scri/31758909#31758909", "title": "Is there a way to run a python script in a new terminal window using a perl Script?", "body": "<p>Given your last comment (\"<em>If it is the same terminal as well it is fine as long as I can give inputs from the perl script</em>\") ...</p>\n\n<p>Have a look at <a href=\"https://metacpan.org/pod/Expect\" rel=\"nofollow\">Expect</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 5162377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6942338e88962f16b5ae466eac01362c?s=128&d=identicon&r=PG&f=1", "display_name": "Hari Teja Reddy", "link": "https://stackoverflow.com/users/5162377/hari-teja-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438409697, "creation_date": 1438279256, "question_id": 31730913, "link": "https://stackoverflow.com/questions/31730913/is-there-a-way-to-run-a-python-script-in-a-new-terminal-window-using-a-perl-scri", "title": "Is there a way to run a python script in a new terminal window using a perl Script?", "body": "<p>I am writing a perl script, Is there a way to run a python program in a new terminal window from the perl script  and then supply regular inputs in the new terminal  through the perl script ?</p>\n"}, {"tags": ["image", "perl", "gdkpixbuf"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1438345614, "post_id": 31730735, "comment_id": 51425730, "body": "Can you provide a full example please?"}], "answers": [{"comments": [{"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1438419952, "post_id": 31746005, "comment_id": 51452979, "body": "Thanks! It looks like this will set me on the right track, and open some more possibilities too, as I&#39;ve never used FFI."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1438344999, "creation_date": 1438344999, "answer_id": 31746005, "question_id": 31730735, "link": "https://stackoverflow.com/questions/31730735/how-can-i-convert-gopixbuf-strings-to-images/31746005#31746005", "title": "How can I convert GOPixbuf strings to images", "body": "<p>You have already found stuff that is helpful. But since there are no Perl bindings for this on CPAN, you would have to make your own if you want to use Perl.</p>\n\n<p>Fortunately, you don't have to know XS to do that. You can use <a href=\"https://metacpan.org/pod/FFI::Platypus\" rel=\"nofollow\">FFI::Platypus</a> to create temporary bindings and only map what you need.</p>\n\n<p>The docs you have probably already found have a <a href=\"https://developer.gnome.org/goffice/unstable/goffice-0.10-Gettings-Started-with-GOffice.html\" rel=\"nofollow\">Getting started with GOffice section</a>. After a quick check I found that on my recent Ubuntu there is a package that contains that lib. It is called <code>libgoffice-0.10-dev</code>.</p>\n\n<p>Now you can set that up and play around with the lib functions. Somewhere in <a href=\"https://developer.gnome.org/goffice/unstable/GOImage.html\" rel=\"nofollow\">https://developer.gnome.org/goffice/unstable/GOImage.html</a> there probably is a method to read and convert it.</p>\n\n<p>One of the good ones might be <a href=\"https://developer.gnome.org/goffice/unstable/GOImage.html#go-image-get-pixbuf\" rel=\"nofollow\"><code>go-image-get-pixbuf</code></a>, which returns a <code>GdkPixbuf</code>. That in turn has a very extensive documentation. Maybe what you need might be <a href=\"https://developer.gnome.org/gdk-pixbuf/stable/gdk-pixbuf-File-saving.html\" rel=\"nofollow\">in this one</a>.</p>\n\n<p>Good luck.</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 31746005, "answer_count": 1, "score": 1, "last_activity_date": 1438344999, "creation_date": 1438278653, "question_id": 31730735, "link": "https://stackoverflow.com/questions/31730735/how-can-i-convert-gopixbuf-strings-to-images", "title": "How can I convert GOPixbuf strings to images", "body": "<p>I have an XML file produced with Gnumeric that contains images, stored as GOPixbuf strings inside XML. They look like this:</p>\n\n<pre><code>eXyA/4KEiP9xcnf/f3+E/3l5ff9xb3L/jo2Q/29wdP+ [truncated]\n</code></pre>\n\n<p>For each string I have width and height, and a rowstride parameter, like in this example:</p>\n\n<pre><code>&lt;GOImage name=\"Image(70)\" type=\"GOPixbuf\" width=\"151\" height=\"135\" rowstride=\"604\"&gt;\n</code></pre>\n\n<p>Is there a reasonable way to convert that to an image - any format will do?</p>\n\n<p>I'm conversant with perl and image conversion tools (imagemagick, gimp) but I have not found any documentation by googling beyond GTK or GOffice docs.</p>\n"}]