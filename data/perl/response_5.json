[{"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 4180345, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd5766ada96891ff3478f96ff856bc4b?s=128&d=identicon&r=PG&f=1", "display_name": "chris202 ", "link": "https://stackoverflow.com/users/4180345/chris202"}, "edited": false, "score": 0, "creation_date": 1423749402, "post_id": 28466529, "comment_id": 45281011, "body": "Actualy, it&#39;s not working for me... it doesn&#39;t recognize the &#39;pairs&#39; as part of the Util"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 181, "user_id": 4180345, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd5766ada96891ff3478f96ff856bc4b?s=128&d=identicon&r=PG&f=1", "display_name": "chris202 ", "link": "https://stackoverflow.com/users/4180345/chris202"}, "edited": false, "score": 1, "creation_date": 1423753426, "post_id": 28466529, "comment_id": 45283890, "body": "it was added in version 1.28 (August 2013); you probably have an older version.  After many years of essentially no feature changes, new stuff started getting added to List::Util a couple of years ago."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 8, "last_activity_date": 1423698550, "last_edit_date": 1423698550, "creation_date": 1423696942, "answer_id": 28466529, "question_id": 28466391, "link": "https://stackoverflow.com/questions/28466391/how-can-i-do-the-reverse-of-zip-mesh-from-listmoreutils/28466529#28466529", "title": "How can I do the reverse of zip/mesh from List::MoreUtils?", "body": "<p>List::Util::pairs.</p>\n\n<pre><code>use List::Util 'pairs';\nmy @zipped = ('1', 'A', '2', 'B', '3', 'C');\nmy ($foo, $bar) = pairs @zipped;\n</code></pre>\n\n<p><code>$foo</code> and <code>$bar</code> will be references to arrays containing <code>('1'..'3')</code> and <code>('A'..'C')</code>, respectively.</p>\n\n<p>Or if there are more than two arrays, use List::MoreUtils::part:</p>\n\n<pre><code>use List::MoreUtils 'part';\nmy @zipped = ('1', 'A', 'a', '2', 'B', 'b', '3', 'C', 'c');\nmy $number_of_arrays = 3;\n\nmy $i = 0;\nmy @arrayrefs = part { $i++ % $number_of_arrays } @zipped;\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 4180345, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd5766ada96891ff3478f96ff856bc4b?s=128&d=identicon&r=PG&f=1", "display_name": "chris202 ", "link": "https://stackoverflow.com/users/4180345/chris202"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1423698550, "creation_date": 1423696374, "last_edit_date": 1423696761, "question_id": 28466391, "link": "https://stackoverflow.com/questions/28466391/how-can-i-do-the-reverse-of-zip-mesh-from-listmoreutils", "title": "How can I do the reverse of zip/mesh from List::MoreUtils?", "body": "<p>I have two arrays:</p>\n\n<pre><code>@foo = (1, 2, 3, 4);\n@bar = ('A', 'B', 'C', 'D');\n</code></pre>\n\n<p>If I zip them with <code>mesh</code>/<code>zip</code> from <a href=\"https://metacpan.org/pod/List::MoreUtils#mesh-ARRAY1-ARRAY2-ARRAY3\"><code>List::MoreUtils</code></a>, I get this:</p>\n\n<pre><code>@zipped = (1, 'A', 2, 'B', 3, 'C', 4, 'D');\n</code></pre>\n\n<p>How can I do this operation backwards, i.e. starting from <code>@zipped</code> how can I get <code>@foo</code> and <code>@bar</code>?</p>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 5, "last_activity_date": 1423693531, "last_edit_date": 1423693531, "creation_date": 1423687941, "answer_id": 28464260, "question_id": 28464064, "link": "https://stackoverflow.com/questions/28464064/perl-identify-all-elements-in-a-hash-that-have-the-highest-value/28464260#28464260", "title": "Perl - Identify all elements in a hash that have the highest value", "body": "<p>You can use an array to keep the keys for highest value,</p>\n\n<pre><code>if ( $val &gt; $o_val ) {\n  $o_val  = $val;\n  @o_keys = $key;\n}\nelsif ($val == $o_val) {\n  push(@o_keys, $key);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1926, "user_id": 2396037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fff799fabee7a56dd5c44abdbff815d3?s=128&d=identicon&r=PG", "display_name": "Slavatron", "link": "https://stackoverflow.com/users/2396037/slavatron"}, "edited": false, "score": 1, "creation_date": 1423692205, "post_id": 28464781, "comment_id": 45256437, "body": "I had no idea what golfing or japhing were until I read your answer. You&#39;ve opened up a whole new world for me to explore."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1423690817, "last_edit_date": 1423690817, "creation_date": 1423689797, "answer_id": 28464781, "question_id": 28464064, "link": "https://stackoverflow.com/questions/28464064/perl-identify-all-elements-in-a-hash-that-have-the-highest-value/28464781#28464781", "title": "Perl - Identify all elements in a hash that have the highest value", "body": "<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %h = map { $_ =&gt; int(rand 10)} 'a' .. 'z';\n\n# see what we've got\nmy @k = sort { $h{$b} &lt;=&gt; $h{$a} } keys %h;\nprint \"$_ =&gt; $h{$_}\\n\" for @k;\n\n# initialize $max with a value from %h\nmy ($max) = values %h;\n# keys with highest values\nmy @argmax;\n\nwhile (my ($k, $v) = each %h) {\n    next if $v &lt; $max;\n    if ($v &gt; $max) {\n        $max = $v;\n        @argmax = ($k);\n    }\n    else {\n        push @argmax, $k\n    }\n}\n\nprint \"@argmax\\n\";\nprint \"@h{ @argmax }\\n\";\n</code></pre>\n\n<p>Of course, if you don't care much about memory, or if you are golfing, or japhing, you could write something like:</p>\n\n<pre><code>my %v;\npush @{ $v{$h{$_}} }, $_ for keys %h;\nmy ($max) = sort { $b &lt;=&gt; $a } keys %v;\nprint \"@{ $v{$max} } =&gt; $max\\n\"\n</code></pre>\n"}], "owner": {"reputation": 1926, "user_id": 2396037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fff799fabee7a56dd5c44abdbff815d3?s=128&d=identicon&r=PG", "display_name": "Slavatron", "link": "https://stackoverflow.com/users/2396037/slavatron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1423693531, "creation_date": 1423687217, "question_id": 28464064, "link": "https://stackoverflow.com/questions/28464064/perl-identify-all-elements-in-a-hash-that-have-the-highest-value", "title": "Perl - Identify all elements in a hash that have the highest value", "body": "<p>I wrote some Perl code that searches for the highest key-value pair in a hash in which the keys are text and the values are numbers:</p>\n\n<pre><code>my $o_val = 0;    # FOR TRACKING HIGHEST VALUE ENCOUNTERED IN THE LOOP\nmy $o_key;        # FOR TRACKING CORRESPONDING KEY TO THE HIGHEST VALUE\nwhile ( my ($key, $val) = each(%NG) ) {\n        if ( $val &gt; $o_val ) {\n                $o_val = $val;\n                $o_key = $key;\n        }\n}\nprint \"$okey\\n\";\n</code></pre>\n\n<p>The problem is that it does nothing to account for the possibility of a tie for highest value. <strong>How can I capture all the key-value pairs that tied for highest value if my measuring variable can potentially change with each iteration of the loop?</strong> </p>\n\n<p>I have the idea that I could write another while loop to run through the same hash after $o_val had been established as the highest value then push each key paired to $o_val into another array, something like:</p>\n\n<pre><code>my @highest;     # ARRAY OF HIGHEST-VALUE KEYS\nwhile ( my ($key, $val) = each(%NG) ) {\n    if ( $val == $o_val ) { push(@highest, $key); }\n}\n</code></pre>\n\n<p>but this seems kinda inefficient. I'm hoping there are some Perl commands I'm not aware of that will let me identify the highest value in the hash without looping through it so I can just use the second piece of code in my question. </p>\n"}, {"tags": ["perl", "mason"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1423681268, "post_id": 28461547, "comment_id": 45250450, "body": "Won&#39;t you be getting the number of elements in the list?"}, {"owner": {"reputation": 2954, "user_id": 2905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb53c993d09b1135375938f9727c28?s=128&d=identicon&r=PG", "display_name": "asjo", "link": "https://stackoverflow.com/users/2905/asjo"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423681714, "post_id": 28461547, "comment_id": 45250694, "body": "Nope, give it a try: perl -E &#39;$x=(1,1,1,17); say $x&#39; - prints 17. If you put parenthesis around the $x, you get the first element, by the way."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 2, "creation_date": 1423683135, "post_id": 28461547, "comment_id": 45251561, "body": "@asjo No it&#39;s definitely the count in this case. See <code>perl -e &#39;@a=(4,5,6);$x=map {$_} @a; print &quot;$x\\n&quot;;&#39;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1423684913, "post_id": 28461547, "comment_id": 45252567, "body": "You&#39;re right that a list in scalar context evaluates to the last element in the list, but in this case, you&#39;re calling a function (<code>map</code>). Different functions return different things in scalar context, so you should consult the <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">documentation for <code>map</code></a>: &quot;In scalar context, returns the total number of elements so generated.&quot; Sobrique and AKHolland are correct."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1423686302, "post_id": 28461547, "comment_id": 45253313, "body": "@ThisSuitIsBlackNot: more correctly, the comma operator in scalar context gets you the last element in the list."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1423687534, "post_id": 28461547, "comment_id": 45253971, "body": "@ysth Thank you, I kind of felt like I was missing something (I thought it was magic)."}, {"owner": {"reputation": 2954, "user_id": 2905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb53c993d09b1135375938f9727c28?s=128&d=identicon&r=PG", "display_name": "asjo", "link": "https://stackoverflow.com/users/2905/asjo"}, "edited": false, "score": 0, "creation_date": 1423688148, "post_id": 28461547, "comment_id": 45254348, "body": "Thanks for putting me straight, my test was too simple. D&#39;oh. (It is confusing to me that map does something else than a list in scalar context, but that is no excuse.)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1423696590, "post_id": 28461547, "comment_id": 45258462, "body": "@asjo: lists don&#39;t ever get produced in scalar context; instead, every operator or builtin function does what seems like the most reasonable thing to do, and the documentation will tell you what that is."}, {"owner": {"reputation": 2954, "user_id": 2905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb53c993d09b1135375938f9727c28?s=128&d=identicon&r=PG", "display_name": "asjo", "link": "https://stackoverflow.com/users/2905/asjo"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1423768872, "post_id": 28461547, "comment_id": 45293726, "body": "@ysth Indeed. One of the warts of Perl 5 I don&#39;t hit that often, fortunately."}], "tags": [], "owner": {"reputation": 2954, "user_id": 2905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb53c993d09b1135375938f9727c28?s=128&d=identicon&r=PG", "display_name": "asjo", "link": "https://stackoverflow.com/users/2905/asjo"}, "is_accepted": true, "score": 3, "last_activity_date": 1423688193, "last_edit_date": 1423688193, "creation_date": 1423678773, "answer_id": 28461547, "question_id": 28461420, "link": "https://stackoverflow.com/questions/28461420/map-perl-looping-from-value/28461547#28461547", "title": "map perl looping from value", "body": "<p><code>map</code> on a list produces another list. You are assigning the result of the <code>map</code> to a scalar, thus getting the number of elements assigned to <code>$x</code>.</p>\n\n<p>Change <code>$x</code> to <code>@x</code>, or put <code>[]</code> around the <code>map</code> (to make <code>$x</code> an array reference).</p>\n"}], "owner": {"reputation": 19084, "user_id": 428705, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b8182c95cf5d0f427920118d6d2e4153?s=128&d=identicon&r=PG", "display_name": "Vivek Goel", "link": "https://stackoverflow.com/users/428705/vivek-goel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 28461547, "answer_count": 1, "score": 3, "last_activity_date": 1423688193, "creation_date": 1423678401, "question_id": 28461420, "link": "https://stackoverflow.com/questions/28461420/map-perl-looping-from-value", "title": "map perl looping from value", "body": "<p>I am not able to understand why following code is not working. </p>\n\n<pre><code>&lt;%method getvivekBox&gt;\n  &lt;%args&gt;\n   $BoxName\n  &lt;/%args&gt;\n\n  &lt;%perl&gt;\n    return {\n      type        =&gt; 'vivek',\n    };\n  &lt;/%perl&gt;\n&lt;/%method&gt;\n\n\n\n\n&lt;%method getAll&gt;\n &lt;%args&gt;\n  $BoxGroup\n  $indexex\n &lt;/%args&gt;\n  &lt;%perl&gt;\n    my $x =  map { $m-&gt;comp('SELF:getvivekBox' , BoxName =&gt; \"$BoxGroup-$_\"); } @$indexex;\n\n    return $x;\n  &lt;/%perl&gt;\n&lt;/%method&gt;\n</code></pre>\n\n<p>I am calling <code>getAll</code> with arguments , box and <code>(1..10)</code>. It is returning 11 but expected behavior for me it should return 10 elements. </p>\n"}, {"tags": ["perl", "unix", "io", "stdin"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423681331, "post_id": 28461019, "comment_id": 45250486, "body": "If you think about it - where would the &#39;other&#39; STDIN be coming from? How would you differentiate? But you could use a pipe or different filestream."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1423680627, "last_edit_date": 1423680627, "creation_date": 1423677267, "answer_id": 28461087, "question_id": 28461019, "link": "https://stackoverflow.com/questions/28461019/separate-stdin-between-parent-and-child-process/28461087#28461087", "title": "Separate STDIN between parent and child process", "body": "<blockquote>\n  <p><em>I am assuming if a child process close stdin then parent's stdin gets closed as well</em></p>\n</blockquote>\n\n<p>No, the child gets a clone of the handle.</p>\n\n<pre><code>$ echo -n 'abcdefghijkl' | perl -e'\n   sub r { sysread(STDIN, my $buf, 3); $buf }  # Unbuffered read.\n   if (fork()) {\n      print \"Parent: $_\\n\" for r();\n      sleep(2);\n      print \"Parent: $_\\n\" while $_ = r();\n   } else {\n      sleep(1);\n      print \"Child: $_\\n\" for r();\n      close(STDIN);\n      print \"Child: Closed STDIN\\n\";\n   }\n'\nParent: abc\nChild: def\nChild: Closed STDIN\nParent: ghi\nParent: jkl\n</code></pre>\n\n<blockquote>\n  <p><em>Can a parent process have its own STDIN separate from child process' STDIN so that a child process can do whatever it wants with STDIN and parent's STDIN does not get affected?</em></p>\n</blockquote>\n\n<p>Yes. For example, <code>foo &lt;file</code> sets the <code>foo</code>'s STDIN rather than having it inherit its parent's.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1423677644, "creation_date": 1423677644, "answer_id": 28461196, "question_id": 28461019, "link": "https://stackoverflow.com/questions/28461019/separate-stdin-between-parent-and-child-process/28461196#28461196", "title": "Separate STDIN between parent and child process", "body": "<p>The child process gets <em>duplicates</em> of the parent's standard handles \u2014 they are copies, and not the same handle. That means the child can close its <code>STDIN</code> and reopen it as you wish, and you will not affect the parent process at all.</p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 28461087, "answer_count": 2, "score": 0, "last_activity_date": 1423680627, "creation_date": 1423677079, "last_edit_date": 1495541141, "question_id": 28461019, "link": "https://stackoverflow.com/questions/28461019/separate-stdin-between-parent-and-child-process", "title": "Separate STDIN between parent and child process", "body": "<p><a href=\"https://stackoverflow.com/questions/26948350/redirect-two-or-more-stdout-to-a-single-stdin\">Redirect two or more STDOUT to a single STDIN</a></p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Standard_streams\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Standard_streams</a> says \"More generally, a child process will inherit the standard streams of its parent process.\"</p>\n\n<p>I am assuming if a child process close stdin then parent's stdin gets closed as well and not gettin any user input for code such as :</p>\n\n<pre><code>if ($select-&gt;can_read(1)) {\n    my $char = getc();\n    if (defined $char) {\n        print \"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; $char\\n\";\n    }\n}\n</code></pre>\n\n<p>Can a parent process have its own STDIN separate from child process' STDIN so that a child process can do whatever it wants with STDIN and parent's STDIN does not get affected?</p>\n"}, {"tags": ["perl", "ssh"], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1423837129, "post_id": 28462263, "comment_id": 45322329, "body": "thank you mickvav... i made some progress with your suggestion. were i could able to do ssh again for concat.txt files and locate them."}], "tags": [], "owner": {"reputation": 137, "user_id": 3679380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYUD4.jpg?s=128&g=1", "display_name": "mickvav", "link": "https://stackoverflow.com/users/3679380/mickvav"}, "is_accepted": false, "score": 0, "last_activity_date": 1423680998, "creation_date": 1423680998, "answer_id": 28462263, "question_id": 28460009, "link": "https://stackoverflow.com/questions/28460009/how-to-use-perl-to-copy-files-from-ssh-server/28462263#28462263", "title": "How to use Perl to copy files from ssh server?", "body": "<p>You should parse paths with something like this <a href=\"http://perldoc.perl.org/File/Basename.html\" rel=\"nofollow\">http://perldoc.perl.org/File/Basename.html</a>\nThan you do ssh again, doing something like 'ls $dirname/*.txt' and parse elements in another cycle using mkdir function to create local dirs and scp to fetch files.</p>\n"}, {"comments": [{"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1423838117, "post_id": 28470574, "comment_id": 45322948, "body": "thank you serenesat, can i use without NET::SCP , actually i&#39;m trying to use scp as a system command and execute it .e.g <code>scp $host:$dirs $concat $testdirname</code>;  however it is not working and the same command  works if i execute on shell manually."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1423855112, "post_id": 28470574, "comment_id": 45333244, "body": "What is not working? What are the errors getting you? can you show us your full command what you are executing manually?"}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1423896920, "post_id": 28470574, "comment_id": 45344758, "body": "the scp command fails if i use it in perl,  my $cmd = &quot;scp -v $host\\:$pathtofile  $destination&quot;;  <code>$cmd</code>;   i get following error for above command,                                                                                    usage: scp [-12346BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file]            [[user@]host1:]file1 ... [[user@]host2:]file2sh: line 1: /cygdrive/C/Data/reports/tests/: is a directory                if i try same command manually it works fine: scp username@hostname:/cygdrive/c/reports/concat.txt  /cydrive/c/Data/reports/test I&#39;m not sure where i&#39;m going wrong."}, {"owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1423908273, "post_id": 28470574, "comment_id": 45346610, "body": "I guess it&#39;s problem with space b/w $pathofile and $destination (some how the space is not taking)  it works fine if i use it as a system command  &quot;system (&quot;scp&quot;,&quot;$host:$dpathtofile&quot;,&quot; &quot;,&quot;$destination&quot;);&quot; i will also try to use Net::SCP as you suggested... thank you"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "edited": false, "score": 0, "creation_date": 1424068083, "post_id": 28470574, "comment_id": 45385535, "body": "@praneeth : If still you have some problem just show us your full perl code. <code>system</code> is a way of executing unix\\linux command through the perl script."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": -1, "last_activity_date": 1431494816, "last_edit_date": 1431494816, "creation_date": 1423721680, "answer_id": 28470574, "question_id": 28460009, "link": "https://stackoverflow.com/questions/28460009/how-to-use-perl-to-copy-files-from-ssh-server/28470574#28470574", "title": "How to use Perl to copy files from ssh server?", "body": "<p>use a <code>CPAN</code> module like <code>Net::SCP</code> or others to securely copy files between servers.</p>\n\n<pre><code>use Net::SCP;\n\n$scp = Net::SCP-&gt;new( { \n    \"host\"=&gt;$hostname, \n    \"user\"=&gt;$username \n} );\n\n$scp-&gt;scp($source, $destination);\n</code></pre>\n\n<p>Have a look here <a href=\"https://metacpan.org/pod/Net::SCP\" rel=\"nofollow\">https://metacpan.org/pod/Net::SCP</a></p>\n"}, {"tags": [], "owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "is_accepted": false, "score": 0, "last_activity_date": 1424931664, "creation_date": 1424931664, "answer_id": 28735776, "question_id": 28460009, "link": "https://stackoverflow.com/questions/28460009/how-to-use-perl-to-copy-files-from-ssh-server/28735776#28735776", "title": "How to use Perl to copy files from ssh server?", "body": "<p>Hello sorry for late replay, i was out of town :)\nhere is the code i tried and it works fine.\n@serenesat, i didn't try with use::scp and i feel system execution looks okay for now.</p>\n\n<pre><code>use File::Basename;\nuse Getopt::Long;\n\nmy $Target = undef;\nmy $build = undef;\nmy $host1 = undef;\nmy $USER = tester;\n\nGetOptions (\n            't|target=s'        =&gt; \\$Target,\n            'b|build=s'     =&gt; \\$build,\n            'h|host1=s' =&gt; \\$host1,\n\n        );\nmy $host = \"$USER\" . \"@\" . \"$host1\";\nmy $Test_dir = \"Test_reports_\" . \"$build\";\nmkdir $Test_dir;\nmy $Results = \"/cygdrive/C/Results/$Test_dir\";\n\n\n\n @tuppaths = `ssh $host \"/usr/bin/find /cygdrive/d/jobs/Results/$Target/$build/ -type f -name *.tup -print\"`;\n\n            print \"TUPPATHS\\n@tuppaths\\n\";\n            foreach my $dirpath(@tuppaths) {\n            my ($tup,$dir) = fileparse($dirpath);\n                my @tupname = split('.tup', $tup);\n                print \"tupnames==&gt;@tupname&lt;===\\n\";\n\n            $testdirname = \"$Results/$tupname[0]\";\n\n            mkdir $testdirname;\n            print \"creating directory for $tupname[0]\\n\";\n\n            #Get the concat text reports\n            #print \"ssh $host /usr/bin/find $dir -type f -name *_concat.txt -print\\n\";\n            @txt_reports = `ssh $host \" /usr/bin/find $dir -type f -name *_concat.txt -print\"`;\n\n\n                foreach my $reportpath (@txt_reports) {\n\n                        my ($concat,$dirs) = fileparse($reportpath);\n\n                        print \"copying $concat to $tupname[0] \\n\";\n                        system (\"scp\",\"$host:$dirs$concat\",\" \",\"$testdirname\"); # scp command to copy concat.txt files to related test directories\n            #Get the xml concat reports     \n            @xml_reports = `ssh $host \" /usr/bin/find $dir -type f -name *_concat.xml -print\"`;\n\n                foreach my $xml_reportpath (@xml_reports) {\n\n                        my ($xml,$dirs) = fileparse($xml_reportpath);\n\n                        print \"copying $concat to $tupname[0] \\n\";\n                        system (\"scp\",\"$host:$dirs$xml\",\" \",\"$testdirname\"); # scp command to copy concat.xml files to related test directories\n\n            #Get fail reports\n            @afrs = `ssh $host \" /usr/bin/find $dir -type d -name atomic_fail_reports -print\"`;             \n\n                        foreach my $pathtoafrs (@afrs) {\n\n                        my ($afr, $afrdir) = fileparse ($pathtoafrs);\n                        #print \"afr =&gt;$afr\\n\";\n                        #print \"afrdir =&gt;$afrdir\\n\";\n                        print \"coyping $tupname[0] AFRs to $tupname[0] directory \\n\";\n                        system (\"scp\",\"-r\",\"$host:$afrdir$afr\",\" \",\"$testdirname\")\n                        }\n\n                }\n\n\n                }\n\n            }\n    print \"Sucessfully Finished copying reports for $build\\n\";\n</code></pre>\n"}], "owner": {"reputation": 112, "user_id": 4555536, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2ceb7a1e2e36a165764963bfdfc8794?s=128&d=identicon&r=PG&f=1", "display_name": "code_seeker", "link": "https://stackoverflow.com/users/4555536/code-seeker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2009, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1431494816, "creation_date": 1423673839, "last_edit_date": 1423676146, "question_id": 28460009, "link": "https://stackoverflow.com/questions/28460009/how-to-use-perl-to-copy-files-from-ssh-server", "title": "How to use Perl to copy files from ssh server?", "body": "<p>My requirement is find for specific files (filename.tup) on remote machine and based on that file copy other files from sub-directories (where the filename.tup file was found).\nhere is my trial script.</p>\n\n<pre><code>use File::Basename ;\n\n@tuppaths=`ssh $host \"/usr/bin/find /cygdrive/d/jobs/Results/$Target/$build/ -type f -name *.tup -print\"`;\n##above cmd will print the file name along with directory path e.g. /jobs/results/xxxxx/xxxxx/20150208_105308_j260_b150208/filename.tup\n\nforeach my $tups (@tuppaths) { \n    my $copytups = $tups; ## this shows all the *.tup with fullpath\n}\n</code></pre>\n\n<p>From here how to go to each directories where each filename.tup is located and search for .txt and .xml files (in sub-dirs of each filename.tup) and copy them to my local machine by creating new directories for each filename.tup.</p>\n\n<p>for copying files planning to use rsync or scp (i tried manually copying through scp and it works).\nPlease guide me how could i do this using perl scripts.</p>\n"}, {"tags": ["perl", "xml-twig"], "comments": [{"owner": {"reputation": 33858, "user_id": 773159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fcd72af6d7d5fdd28fc45289da3792a?s=128&d=identicon&r=PG", "display_name": "Birei", "link": "https://stackoverflow.com/users/773159/birei"}, "edited": false, "score": 3, "creation_date": 1423673432, "post_id": 28459605, "comment_id": 45245842, "body": "Your <code>xml</code> is not well-formed. There cannot be commas between attributes and you forgot to close <code>&lt;STATEMENT&gt;</code>."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1423673986, "post_id": 28459605, "comment_id": 45246189, "body": "The higher version trade doesn&#39;t comply to the condition 4."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423680031, "post_id": 28459605, "comment_id": 45249676, "body": "What happens if multiple <code>TRADE</code> elements have the highest version number?"}, {"owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423726062, "post_id": 28459605, "comment_id": 45267475, "body": "@borodin -In that case all the TRADES will be there..."}, {"owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "edited": false, "score": 0, "creation_date": 1423726150, "post_id": 28459605, "comment_id": 45267526, "body": "@choroba--It comlies..If you see one set of EVENTNAR is right...That is sufficient for the TRADE to be selected"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1423730216, "post_id": 28459605, "comment_id": 45269480, "body": "@karanarora: Someone fixed the data. In your original post, no EVENTNAR was &quot;right&quot;."}, {"owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1423730611, "post_id": 28459605, "comment_id": 45269707, "body": "@choroba sorry for that Sir, BUt can you please suggest some tweak in my code, so that it can work...banging my head since yesterday...Only highest version part is not working...rest all conditions are working.."}, {"owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423730953, "post_id": 28459605, "comment_id": 45269874, "body": "@borodin - when I say all the trades I mean all the highest version TRADES.."}], "answers": [{"comments": [{"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 0, "creation_date": 1423675284, "post_id": 28460245, "comment_id": 45246942, "body": "according to the OP&#39;s previous question, the file may be very big. Would this need to load the entire file in memory?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 1, "creation_date": 1423675364, "post_id": 28460245, "comment_id": 45246985, "body": "@mirod: Unfortunatelly, yes. I can think of a solution using the streaming interface later :-)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 2, "creation_date": 1423677981, "post_id": 28460245, "comment_id": 45248531, "body": "@mirod: here you are."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "edited": false, "score": 0, "creation_date": 1423730167, "post_id": 28460245, "comment_id": 45269450, "body": "@karanarora: The algorithm should be similar. You have to process the whole file to get the maximums or solutions per ref."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1423685930, "last_edit_date": 1423685930, "creation_date": 1423674529, "answer_id": 28460245, "question_id": 28459605, "link": "https://stackoverflow.com/questions/28459605/unable-to-get-highest-version-of-the-trade-in-perl/28460245#28460245", "title": "Unable to get highest version of the TRADE in Perl", "body": "<p>Using <a href=\"http://p3rl.org/XML::XSH2\" rel=\"nofollow\">XML::XSH2</a>, after fixing the input:</p>\n\n<pre><code>open file.xml ;\nrm //TRADE/TRADE ;\n$l = //TRADE[@origin='BANK'][EVENT[@type='PRO'][EVENTNAR[@key='USE'][@val='MY']]] ;\n$h := hash @ref $l ;\nfor my $ref in { keys %$h } {\n    $trades = xsh:lookup('h', $ref);\n    ls $trades[@version=xsh:max($trades/@version)] ;\n} | cat &gt; output1.xml ;\n</code></pre>\n\n<p>For very large files, you can try the streaming interface:</p>\n\n<pre><code>$h = { {} } ;\nstream :f file.xml :F /dev/null select TRADE {\n    rm TRADE ;\n    if (@origin='BANK'\n        and EVENT[@type='PRO'][EVENTNAR[@key='USE'][@val='MY']]\n       ) {\n        $ref = @ref ;\n        $record = xsh:lookup('h', $ref)/@version ;\n        perl { $record ||= -1 } ;\n        if (@version &gt; $record) {\n            $here = . ;\n            perl { $h-&gt;{$ref} = $here } ;\n        }\n    }\n} ;\n\ncreate STATEMENT ;\nfor my $trade in { values %$h } mv $trade into STATEMENT ;\nsave :f output2.xml ;\n</code></pre>\n\n<p>On MSWin, you have to use <code>NUL</code> instead of <code>/dev/null</code>. The program can still be memory hungry - it needs to remember the whole output. If it's too much, you have to change it to process the file twice: in the first run, it'll remember the maximal version for each ref, in the second run, it will output.</p>\n\n<pre><code>$h = { {} } ;\nstream :f file.xml :F /dev/null select TRADE {\n    rm TRADE ;\n    if (@origin='BANK' \n        and EVENT[@type='PRO'][EVENTNAR[@key='USE'][@val='MY']]\n    ) {\n        $ref = @ref ;\n        $record = xsh:lookup('h', $ref) ;\n        perl { $record ||= -1 } ;\n        if (@version &gt; $record) {\n            $record = @version ;\n            perl { $h-&gt;{$ref} = $record } ;\n        }\n    }\n} ;\n\nstream :f file.xml :F output3.xml select TRADE {\n    rm TRADE ;\n    if not(@origin = 'BANK'\n           and EVENT[@type='PRO'][EVENTNAR[@key='USE'][@val='MY']]\n           and xsh:lookup('h', @ref) = @version\n    ) rm . ;\n} ;\n</code></pre>\n\n<p>If the version + ref combinations are unique, you can simplify the condition in the last <code>if not</code>.</p>\n"}], "owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 28460245, "answer_count": 1, "score": 0, "last_activity_date": 1423685930, "creation_date": 1423672698, "last_edit_date": 1423674122, "question_id": 28459605, "link": "https://stackoverflow.com/questions/28459605/unable-to-get-highest-version-of-the-trade-in-perl", "title": "Unable to get highest version of the TRADE in Perl", "body": "<p>I have just started learning Perl and got stuck in precarious scenario. Input Source XML FILE is:</p>\n\n<pre><code>&lt;STATEMENT&gt;\n     &lt;TRADE origin = \"BANK\", ref=\"1\",version=\"1\"&gt;\n      &lt;EVENT type=\"PRO\"&gt;\n       &lt;EVENTNAR key = \"USE\" val = \"MY\"/&gt;\n       &lt;EVENTNAR key = \"USEE\" val = \"MYY\"/&gt;\n      &lt;/EVENT&gt;\n     &lt;/TRADE&gt;\n     &lt;TRADE origin = \"BANK\", ref=\"1\",version=\"2\"&gt;\n      &lt;EVENT type=\"PRO\"&gt;\n       &lt;EVENTNAR key = \"USE\" val = \"MYY\"/&gt;\n       &lt;EVENTNAR key = \"USEE\" val = \"MYY\"/&gt;\n      &lt;/EVENT&gt;\n     &lt;/TRADE&gt;\n     &lt;TRADE origin = \"BANK\", ref=\"2\",version=\"1\"&gt;\n      &lt;EVENT type=\"PRO\"&gt;\n       &lt;EVENTNAR key = \"USE\" val = \"MY\"/&gt;\n       &lt;EVENTNAR key = \"USEE\" val = \"MYY\"/&gt;\n      &lt;/EVENT&gt;\n         &lt;TRADE origin = \"BANK\" ref=\"1\",version=\"1\"&gt;\n           &lt;EVENT type=\"PRO\"&gt;\n              &lt;EVENTNAR key = \"USE\" val = \"MY\"/&gt;\n              &lt;EVENTNAR key = \"USEE\" val = \"MYY\"/&gt;\n           &lt;/EVENT&gt;\n         &lt;/TRADE&gt;\n       &lt;/TRADE&gt;\n    &lt;STATEMENT&gt;\n</code></pre>\n\n<p>Now I need to filter Trades with following 'AND' conditions:   </p>\n\n<ol>\n<li><p>Only trades with origin = \"BANK\"  </p></li>\n<li><p>TRADE should have \"type\" attribute of <code>&lt;EVENT&gt;</code>  = 'PRO'</p></li>\n<li><p>TRADE should have \"key\" attribute of <code>&lt;EVENTNAR&gt;</code> = \"USE\"</p></li>\n<li><p>TRADE should have \"value\" attribute of <code>&lt;EVENTNAR&gt;</code> = \"MY\"</p></li>\n<li><p>Multiple <code>&lt;EVENTNAR&gt;</code> can be there under  <code>&lt;EVENT&gt;</code> of a <code>&lt;TRADE&gt;</code>. At least one    <code>&lt;EVENTNAR&gt;</code> should be legitimate.</p></li>\n<li><p>All sub-trades i.e TRADE inside TRADE should be deleted :</p></li>\n<li><p>The most important of all - Only highest versionno for given ref can be   taken (this is not working)</p></li>\n</ol>\n\n<p>Expected output:</p>\n\n<pre><code> &lt;STATEMENT&gt;\n      &lt;TRADE origin = \"BANK\", ref=\"1\",version=\"2\"&gt;(higher version)\n        &lt;EVENT type=\"PRO\"&gt;\n           &lt;EVENTNAR key = \"USE\" val = \"MYY\"/&gt;\n           &lt;EVENTNAR key = \"USEE\" val = \"MYY\"/&gt;\n        &lt;/EVENT&gt;\n      &lt;/TRADE&gt;\n      &lt;TRADE origin = \"BANK\", ref=\"2\",version=\"1\"&gt;\n        &lt;EVENT type=\"PRO\"&gt;\n          &lt;EVENTNAR key = \"USE\" val = \"MY\"/&gt;\n          &lt;EVENTNAR key = \"USEE\" val = \"MYY\"/&gt;\n        &lt;/EVENT&gt;\n      &lt;/TRADE&gt;\n    &lt;STATEMENT&gt;\n</code></pre>\n\n<p>Following is my code :</p>\n\n<pre><code>use strict;\n  use warnings;\n  use XML::Twig;\n  use Tie::File;\n\n\n    my $SOURCEFILE=$ARGV[0];\n    my $FILELOCATIONIN=$ARGV[1];\n\n\n    open( my $out, '&gt;:utf8', 'out.xml') or die \"cannot create output file out.xml: $!\";\n\n\n    my $twig = XML::Twig-&gt;new(  pretty_print =&gt; 'indented',\n      twig_handlers =&gt; { 'TRADE'=&gt;\\&amp;TRADE_HANDLER,\n                            'TRADE/TRADE' =&gt; \\&amp;DEL_TRADE},\n                         att_accessors =&gt; [ qw/ ref version / ],\n\n     );\n\n    my %max_version;\n\n    $twig-&gt;parsefile($FILELOCATIONIN.'/'.$SOURCEFILE.'.xml');\n\n\n    for my $trade ($twig-&gt;root-&gt;children('TRADE')) {\n      my ($ref, $version) = ($trade-&gt;ref, $trade-&gt;version);\n    if ($version eq $max_version{$ref})\n    {\n     $trade-&gt;flush($out);\n    }\n\n    }\n\n    sub DEL_TRADE{\n    my ( $twig, $TRADE ) = @_;\n    $TRADE-&gt;delete($TRADE);\n    #$twig-&gt;purge();\n    }\n\n\n    sub TRADE_HANDLER {\n        my ( $twig, $trade ) = @_;\n\n        my $org   = $trade-&gt;att('origin');\n\n\n     if ($org eq \"BANK\"  &amp;&amp;  grep {grep {$_-&gt;att('key') eq 'USE' and $_-&gt;att('value') eq 'MY'}\n        $_-&gt;children('EVENTNAR')} $trade-&gt;children('EVENT[@type=\"PRO\"]') )\n\n    {\n        my ($ref, $version) = ($trade-&gt;ref, $trade-&gt;version);\n\n        unless (exists $max_version{$ref} and $max_version{$ref} &gt;= $version) {\n        $max_version{$ref} = $version;}\n\n    }\n\n    else\n    {\n    $twig-&gt;purge();\n    }\n\n    return ;\n    }\n</code></pre>\n\n<p>My output is:</p>\n\n<pre><code>&lt;STATEMENT&gt;\n      &lt;TRADE origin = \"BANK\", ref=\"1\",version=\"1\"&gt;(this shouldn't come )\n         &lt;EVENT type=\"PRO\"&gt;\n          &lt;EVENTNAR key = \"USE\" val = \"MY\"/&gt;\n          &lt;EVENTNAR key = \"USEE\" val = \"MYY\"/&gt;\n         &lt;/EVENT&gt;\n       &lt;/TRADE&gt;\n       &lt;TRADE origin = \"BANK\", ref=\"1\",version=\"2\"&gt;\n        &lt;EVENT type=\"PRO\"&gt;\n          &lt;EVENTNAR key = \"USE\" val = \"MYY\"/&gt;\n          &lt;EVENTNAR key = \"USEE\" val = \"MYY\"/&gt;\n         &lt;/EVENT&gt;\n       &lt;/TRADE&gt;\n    &lt;TRADE origin = \"BANK\", ref=\"2\",version=\"1\"&gt;\n        &lt;EVENT type=\"PRO\"&gt;\n          &lt;EVENTNAR key = \"USE\" val = \"MY\"/&gt;\n          &lt;EVENTNAR key = \"USEE\" val = \"MYY\"/&gt;\n        &lt;/EVENT&gt;\n      &lt;/TRADE&gt;\n     &lt;/STATEMENT&gt;\n</code></pre>\n\n<p>As can be seen, logic of highest version for given ref is not working.</p>\n\n<p>Any suggestions will be highly appreciated.</p>\n"}, {"tags": ["perl", "module", "path"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1423671499, "post_id": 28459112, "comment_id": 45244546, "body": "Do you really need to load <code>DBD::mysql</code>? It should be sufficient to load <code>DBI</code>."}, {"owner": {"reputation": 796, "user_id": 1807271, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EskVD.jpg?s=128&g=1", "display_name": "user1807271", "link": "https://stackoverflow.com/users/1807271/user1807271"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1423671550, "post_id": 28459112, "comment_id": 45244567, "body": "I don&#39;t know. Let me give it a shot....currently testing"}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1423673661, "post_id": 28459112, "comment_id": 45245968, "body": "You don&#39;t/ DBI loads it when it parses the &#39;mysql&#39; out of the DSN string when you call connect()."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 2, "creation_date": 1423676242, "post_id": 28459112, "comment_id": 45247520, "body": "There&#39;s no problem loading it via an explicit use statement like you&#39;re doing.  The only difference between the explicit use statement vs having the DBI module load it via a require statement is the point in time when it gets loaded.  The use statement loads it during the compilation phase, and the require statement used in the DBI module loads it during the runtime phase.  If it fails during the compilation phase, then it will also fail during the runtime phase."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1423676377, "post_id": 28459112, "comment_id": 45247604, "body": "How did you install the module?  What are its file permissions?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423676852, "post_id": 28459112, "comment_id": 45247888, "body": "Add the following before <code>use DBD::mysql;</code>: <code>BEGIN { die &quot;&#47;usr&#47;lib64&#47;perl5 not in @INC\\n&quot; if !grep { $_ eq &#39;&#47;usr&#47;lib64&#47;perl5&#39; } @INC; stat($_) or die(&quot;stat $_: $!\\n&quot;) for qw( &#47; &#47;usr &#47;usr&#47;lib64 &#47;usr&#47;lib64&#47;perl5 &#47;usr&#47;lib64&#47;perl5&#47;DBD &#47;usr&#47;lib64&#47;perl5&#47;DBD&#47;mysql.pm ); open(my $fh, &quot;&lt;&quot;, $_) or die(&quot;open $_: $!\\n&quot;) for &quot;&#47;usr&#47;lib64&#47;perl5&#47;DBD&#47;mysql.pm&quot;; }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 796, "user_id": 1807271, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EskVD.jpg?s=128&g=1", "display_name": "user1807271", "link": "https://stackoverflow.com/users/1807271/user1807271"}, "is_accepted": false, "score": 1, "last_activity_date": 1423678331, "creation_date": 1423678331, "answer_id": 28461406, "question_id": 28459112, "link": "https://stackoverflow.com/questions/28459112/perl-module-in-inc-path-but-cant-be-located-though-present-other-modules-are/28461406#28461406", "title": "Perl module in @INC path, but can&#39;t be located though present. Other modules are found", "body": "<p>I dropped <code>use DBD::mysql;</code> from the code and it ran fine. Thanks!</p>\n"}], "owner": {"reputation": 796, "user_id": 1807271, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EskVD.jpg?s=128&g=1", "display_name": "user1807271", "link": "https://stackoverflow.com/users/1807271/user1807271"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1423678331, "creation_date": 1423671334, "question_id": 28459112, "link": "https://stackoverflow.com/questions/28459112/perl-module-in-inc-path-but-cant-be-located-though-present-other-modules-are", "title": "Perl module in @INC path, but can&#39;t be located though present. Other modules are found", "body": "<p>Perl module DBD::mysql was being found and now is not. I'm getting the error message.</p>\n\n<p><code>Can't locate DBD/mysql.pm in @INC (@INC contains: /usr/local/lib64/perl5 \n/usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /mnt/Lab/Data/IonTorrent/plugins/WH_v2_05/scripts/create_blinded_reports.pl line 13.\nBEGIN failed--compilation aborted at /mnt/Lab/Data/IonTorrent/plugins/WH_v2_05/scripts/create_blinded_reports.pl line 13.</code></p>\n\n<p>I looked to see where the module was located.</p>\n\n<pre><code>$ perldoc -l DBD::mysql\n/usr/lib64/perl5/DBD/mysql.pm\n</code></pre>\n\n<p>the path /usr/lib64/perl5 is there so why can't it find it.</p>\n\n<p>Here is the code.</p>\n\n<pre><code>#!/usr/bin/perl -w \n\n\nuse strict;\nuse DBI;\nuse DBD::mysql; #&lt;----- this is the line that error (I eliminated the header, this is actually line 13.)\nuse File::Slurp;\nuse Data::Dumper;\n\nmy ($server,$run)=@ARGV;\n\n## variables\nmy $wh_report=\"/mnt/Lab/Data/IonTorrent/$server/$run/4_report/wh_report_\".$run.\".txt\";\n</code></pre>\n\n<p>** Also I checked that I was on the correct server.</p>\n\n<p>It also compiles fine.</p>\n\n<pre><code>perl -c create_blinded_reports.pl\ncreate_blinded_reports.pl syntax OK\n</code></pre>\n"}, {"tags": ["perl", "file"], "answers": [{"tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": false, "score": 5, "last_activity_date": 1423675167, "last_edit_date": 1423675167, "creation_date": 1423664812, "answer_id": 28456765, "question_id": 28456614, "link": "https://stackoverflow.com/questions/28456614/how-to-get-the-maximum-number-of-columns-present-in-a-file-in-perl/28456765#28456765", "title": "How to get the maximum number of columns present in a file in perl", "body": "<p>Try using <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a></p>\n\n<p>Read each line through, parse through this module, and compare the number of fields to your variable.</p>\n\n<pre><code>#!/bin/env perl\nuse strict;\nuse warnings;\n\nuse Text::CSV;\n\nmy $csv = Text::CSV-&gt;new;\nmy $max = 0;\n\nopen my $fh, \"&lt;:encoding(utf8)\", \"test.csv\" or die \"test.csv: $!\";\nwhile ( my $row = $csv-&gt;getline( $fh ) ) {\n    my $count = scalar @$rows;\n    $max = $count &gt; $max ? $count : $max;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1423673430, "creation_date": 1423673430, "answer_id": 28459876, "question_id": 28456614, "link": "https://stackoverflow.com/questions/28456614/how-to-get-the-maximum-number-of-columns-present-in-a-file-in-perl/28459876#28459876", "title": "How to get the maximum number of columns present in a file in perl", "body": "<p>One of the main reasons given why people use <code>split</code> on a CSV file rather than <code>Text::CSV</code> is that <code>Text::CSV</code> isn't a standard Perl module, so it might not be available.</p>\n\n<p>Then use <a href=\"http://perldoc.perl.org/Text/ParseWords.html\" rel=\"nofollow\">Text::ParseWords</a>. This is a standard module ans should be readily available:</p>\n\n<pre><code>#! /usr/bin/env perl\n#\n\nuse strict;\nuse warnings;\nuse feature qw(say);\n\nuse Text::ParseWords qw(quotewords);\n\nmy $keep = 0;\nfor my $line ( &lt;DATA&gt; ) {\n    chomp $line;\n    my @columns = quotewords (\"\\s*,\\s*\", $keep, $line );\n    say \"&lt;\" . join( \"&gt;  &lt;\", @columns ) . \"&gt;\";\n}\n__DATA__\n\"a\",\"usa\",\"24-Nov-2011\",\"100.98\",\"Extra1\",\"Extra2\"\n\"B\",\"zim\",\"23-Nov-2011\",\"123\",\"Extra22\"\n\"C\",\"can\",\"23-Nov-2011\",\"123\"\n\"D\",\"can, can, can\",\"23-Nov-2011\",\"123\"\n</code></pre>\n\n<p>This produces:</p>\n\n<pre><code>&lt;a&gt;  &lt;usa&gt;  &lt;24-Nov-2011&gt;  &lt;100.98&gt;  &lt;Extra1&gt;  &lt;Extra2&gt;\n&lt;B&gt;  &lt;zim&gt;  &lt;23-Nov-2011&gt;  &lt;123&gt;  &lt;Extra22&gt;\n&lt;C&gt;  &lt;can&gt;  &lt;23-Nov-2011&gt;  &lt;123&gt;\n&lt;D&gt;  &lt;can, can, can&gt;  &lt;23-Nov-2011&gt;  &lt;123&gt;\n</code></pre>\n\n<p>Note that the commas inside the quotes didn't throw off the parsing. Now, there are no more excuses for using <code>split</code>.</p>\n"}], "owner": {"reputation": 101, "user_id": 4428738, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4c21077a4d2778a198d8f12c9e5d9c53?s=128&d=identicon&r=PG&f=1", "display_name": "ramaswamy", "link": "https://stackoverflow.com/users/4428738/ramaswamy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1423675167, "creation_date": 1423664361, "question_id": 28456614, "link": "https://stackoverflow.com/questions/28456614/how-to-get-the-maximum-number-of-columns-present-in-a-file-in-perl", "title": "How to get the maximum number of columns present in a file in perl", "body": "<p>I have a test.csv file which has data something like this.</p>\n\n<pre><code>\"a\",\"usa\",\"24-Nov-2011\",\"100.98\",\"Extra1\",\"Extra2\"\n\"B\",\"zim\",\"23-Nov-2011\",\"123\",\"Extra22\"\n\"C\",\"can\",\"23-Nov-2011\",\"123\"\n</code></pre>\n\n<p>I want to fetch the maximum number of columns in this file (i,e 6 in this case) and then store this in a variable. </p>\n\n<p>Like       </p>\n\n<pre><code> Variable=6\n</code></pre>\n\n<p>Can you provide me some suggestions on how to proceed.</p>\n"}, {"tags": ["perl", "obfuscation"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423665473, "post_id": 28456149, "comment_id": 45240472, "body": "What are you actually trying to accomplish? It&#39;s easy enough to write illegible and horrible perl code without trying to obfuscate it... typically doing so is deemed bad programming style, and so isn&#39;t really something that users of this site are keen to promote."}, {"owner": {"reputation": 5616, "user_id": 1477299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rQIK0.jpg?s=128&g=1", "display_name": "rlib", "link": "https://stackoverflow.com/users/1477299/rlib"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423667796, "post_id": 28456149, "comment_id": 45242064, "body": "I&#39;m trying to uglify some beautiful code by augmenting it with junk code that does nothing except lurking a reverse engineer into debugging and time waste. It&#39;s like a labyrinth: you have only one (maybe more) path to exit it and much more paths leading to dead end; it&#39;s a purpose of labyrinth to make traveler (reverse engineer) to waste its time on debugging dead-end paths. It&#39;s obvious I think."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1423668100, "post_id": 28456149, "comment_id": 45242272, "body": "If <code>perl -MO=Deparse</code> didn&#39;t exist, maybe."}, {"owner": {"reputation": 5616, "user_id": 1477299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rQIK0.jpg?s=128&g=1", "display_name": "rlib", "link": "https://stackoverflow.com/users/1477299/rlib"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423668561, "post_id": 28456149, "comment_id": 45242603, "body": "Well, maybe analogy from 0x86 be helpful:  Obfuscator features Features list: changing code execution flow (non linear code path) - it&#39;s usefull against all kinds of debuggers, analysis of such code is very &quot;unpleasant&quot; mutation of original instructions into series of other equivalent opcodes - obfuscator can mutate both arithmetic and logical opcodes inserting garbage opcodes between real instructions (so called &quot;junks&quot;) inserting fake instructions between real ones, 32/16/8 opcodes are generated"}, {"owner": {"reputation": 5616, "user_id": 1477299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rQIK0.jpg?s=128&g=1", "display_name": "rlib", "link": "https://stackoverflow.com/users/1477299/rlib"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423668645, "post_id": 28456149, "comment_id": 45242664, "body": "That&#39;s of <a href=\"http://www.pelock.com/products/obfuscator\" rel=\"nofollow noreferrer\">pelock.com/products/obfuscator</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1423668730, "post_id": 28456149, "comment_id": 45242731, "body": "Whilst cute, simply doesn&#39;t apply to an interpreted language."}, {"owner": {"reputation": 5616, "user_id": 1477299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rQIK0.jpg?s=128&g=1", "display_name": "rlib", "link": "https://stackoverflow.com/users/1477299/rlib"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423669231, "post_id": 28456149, "comment_id": 45243079, "body": "Why not? Reversing 1Kb of assembly or 5Mb of garbaged perl code maybe equally hard, especially if you cannot simply debug perl code, as in case of code running in production on cluster. Actually, you maybe want to remember how bad guys leech inframe trafiic from hacked sites. They usually obfuscate iframe JS, not so?"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1423669709, "post_id": 28456149, "comment_id": 45243407, "body": "Going back to the first comment... &quot;What are you actually trying to accomplish?&quot;  Yeah, yeah, you want to obfuscate code and give imagined reverse engineers the middle finger, but why?  That&#39;s a means to an end, not an end unto itself."}, {"owner": {"reputation": 5616, "user_id": 1477299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rQIK0.jpg?s=128&g=1", "display_name": "rlib", "link": "https://stackoverflow.com/users/1477299/rlib"}, "edited": false, "score": 0, "creation_date": 1423670108, "post_id": 28456149, "comment_id": 45243655, "body": "How is this technical problem of obfuscating related to your question &quot;why to give finger&quot;? Strange people, strange answers..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423671498, "post_id": 28456149, "comment_id": 45244545, "body": "I think you&#39;re deeply missing the <code>interpreted language</code> element. In order for perl to run - at all - it compiles it&#39;s script at run time. At which point it de-obfuscates what it&#39;s doing, because it needs to in order to run it."}, {"owner": {"reputation": 5616, "user_id": 1477299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rQIK0.jpg?s=128&g=1", "display_name": "rlib", "link": "https://stackoverflow.com/users/1477299/rlib"}, "edited": false, "score": 0, "creation_date": 1423672902, "post_id": 28456149, "comment_id": 45245487, "body": "Well, I know that Perl does not care of code obfuscation exactly like CPU does not care of it. Obfuscation is targeted at REVERSE ENGINEER who does get confused of garbage code. As I stressed in my initial question I&#39;m not interested in usual semantics obfuscation like making varnames unreadable but in adding junk code that obfuscate logic of execution."}], "answers": [{"comments": [{"owner": {"reputation": 5616, "user_id": 1477299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rQIK0.jpg?s=128&g=1", "display_name": "rlib", "link": "https://stackoverflow.com/users/1477299/rlib"}, "edited": false, "score": 0, "creation_date": 1423748814, "post_id": 28464306, "comment_id": 45280684, "body": "Random lines of perl code can easily screw original file. For example, junk perl file may contain variables of the same name as in original file and change them, which is unacceptable."}, {"owner": {"reputation": 83, "user_id": 3745552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9918dee92bb212a3549c1cb52adc5d85?s=128&d=identicon&r=PG&f=1", "display_name": "doomsday", "link": "https://stackoverflow.com/users/3745552/doomsday"}, "reply_to_user": {"reputation": 5616, "user_id": 1477299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rQIK0.jpg?s=128&g=1", "display_name": "rlib", "link": "https://stackoverflow.com/users/1477299/rlib"}, "edited": false, "score": 0, "creation_date": 1423760880, "post_id": 28464306, "comment_id": 45289036, "body": "assuming you&#39;re writing the junk file yourself that&#39;s easily avoidable, but either way there are numerous solutions to that problem. I was only providing a framework for you to build on, not doing your entire problem for you."}], "tags": [], "owner": {"reputation": 83, "user_id": 3745552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9918dee92bb212a3549c1cb52adc5d85?s=128&d=identicon&r=PG&f=1", "display_name": "doomsday", "link": "https://stackoverflow.com/users/3745552/doomsday"}, "is_accepted": false, "score": 1, "last_activity_date": 1423688075, "creation_date": 1423688075, "answer_id": 28464306, "question_id": 28456149, "link": "https://stackoverflow.com/questions/28456149/junk-perl-code-generator-for-obfuscation/28464306#28464306", "title": "Junk perl code generator for obfuscation", "body": "<p>I'm not sure if you're receiving negative votes from lack of information or what, but this is a relatively easy fix. Assuming you want to do it in Perl:</p>\n\n<p>just create another perl file which reads in your file one line at a time,prints it out to a new file, and appends a line of random nonsense afterwords (in this case, from a large file which is assumed to contain a bunch of random lines of perl code \"obfuscatedlines.txt\")</p>\n\n<p>A small example: </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @randomlines;\nopen (INHANDLE, \"&lt;perlfile.pl\");\nopen (OBHANDLE, \"obfuscatedlines.txt\");\nopen (OUTHANDLE, \"&gt;newfile.pl\");\nwhile(&lt;OBHANDLE&gt;) {push @randomlines, $_;}\nmy $i=0; \nwhile(&lt;INHANDLE&gt;)\n{\n    print OUTHANDLE $_;\n    print OUTHANDLE $randomlines[$i];\n    $i++;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "is_accepted": true, "score": 2, "last_activity_date": 1441692973, "last_edit_date": 1441692973, "creation_date": 1441692642, "answer_id": 32450401, "question_id": 28456149, "link": "https://stackoverflow.com/questions/28456149/junk-perl-code-generator-for-obfuscation/32450401#32450401", "title": "Junk perl code generator for obfuscation", "body": "<p>I don't understand why so many downvotes: this looks like an interesting problem.</p>\n\n<p>I had some spare time and tried something on my own:</p>\n\n<ul>\n<li>Garbage code is in a separate file with blocks separated by #---</li>\n<li>Ofuscator is changing names of variables and functions in garbage code if this exists in original good code (I assumed you define variables with <code>my</code> and functions with <code>sub</code>)</li>\n<li>Ofusctaor is randomly adding content from garbage file (looping if needed)</li>\n</ul>\n\n<p>That looks like this</p>\n\n<p><strong>Good code</strong> (original.pl)</p>\n\n<pre><code>#!perl\nuse strict;\n\nmy $var1='hello';\nmy $var2='there';\n\nsub f {\n    print \"This is a function\";\n    ++$var1\n}\n\nprint $var1;\nprint \"\\n$var2\";\n</code></pre>\n\n<p><strong>Garbage code</strong> (garbage_code.pl)</p>\n\n<pre><code>#!perl\n#---\nmy $var2='__NEW';\nmy $var3=\"This is garbage\";\n#---\nsub g {\n    $var3+=\"changed\";\n    print \"This shall be removed\";\n    return $var3;\n}\n#---\nsub f { \n    return g(shift).$var2;\n}\n#---\nf(\"function name shall be changed\");\n</code></pre>\n\n<p><strong>Offuscator</strong></p>\n\n<pre><code>#!perl\nuse strict;\nuse Data::Dumper;\n\n#-Get Original 'good' code\nopen CODE,\"&lt;original.pl\" or die $!;\nmy @code=&lt;CODE&gt;;\nclose CODE;\n\n#-Get Garbage code\nopen GARBAGE,\"&lt;garbage_code.pl\" or die $!;\nmy @garbage=split(/^#---/m, join(\"\",&lt;GARBAGE&gt;));\nshift @garbage; #Remove header\nmap { s/^.*?(\\w.*?)\\s*$/\\1/s } @garbage; #Trail spaces and EOL at beginning and end\nmap { s/print .*?;//g } @garbage; #Remove print calls\nclose GARBAGE;\n\n#-List variables and functions in good code\nmy %list_var;\nmy %list_func;\nfor my $line (@code) {\n    if ($line=~/my \\s*[\\$@%](\\w+)/) { $list_var{$1}=undef; }\n    elsif ($line=~/sub \\s*(\\w+)/) { $list_func{$1}=undef; }\n    else { }\n}\n\n#-List variables and functions in garbage code\nmy @list_var_garbage;\nmy @list_func_garbage;\nfor my $line (@garbage) {\n    while ($line=~/my \\s*[\\$@%](\\w+)/g) { push(@list_var_garbage,$1); }\n    while ($line=~/sub \\s*(\\w+)/g) { push(@list_func_garbage,$1); }\n}\n\n#-Replace names of variables and functions in garbage code if it exists in good code\n#Get equivalent name\nfor my $type ('var', 'func') {\n    my $rh_list = ($type eq 'var' ? \\%list_var : \\%list_func);\n    my @list_names=(keys %$rh_list, ($type eq 'var' ? @list_var_garbage : @list_func_garbage));\n    for my $name (@list_names) {\n        #Get new name\n        my $new_name=$name;\n        #For names of good code OR new names in garbage code\n        if (!defined $rh_list-&gt;{$new_name}) {\n            while (exists $rh_list-&gt;{$new_name}) { $new_name.=\"1\"; }\n            #Store in hash table\n            $rh_list-&gt;{$new_name}=undef; #to ensure uniqueness of replacements\n            $rh_list-&gt;{$name}=$new_name; #Replacement name in garbage code\n        } else {}\n    }\n}\n#Replace\nmap { s/(?:sub \\s*|&amp;)\\K(\\w+)/$list_func{$1}/g } @garbage;\nmap { s/(\\w+)\\(/$list_func{$1}(/g } @garbage;\nmap { s/[\\$@%]\\K(\\w+)/$list_var{$1}/g } @garbage;\n\n\n#-Function to get garbage content\nmy $i_garbage=0;\nsub get_garbage {\n    return $garbage[ ($i_garbage++) % scalar(@garbage) ].\"\\n\";\n}\n\n\n#-Copy garbage in good code\nmy @new_code;\nfor my $line (@code) {\n    #-Add the line\n    push(@new_code, $line);\n\n    #-Add garbage\n    #Blocks: add garbage at the end\n    if ($line=~/\\{/ .. $line=~/\\}/) {\n        if ($line=~/\\}/) { push(@new_code, get_garbage());  }\n    #Other: randomly add garbage \n    } else {\n        if (int(rand(2))) { push(@new_code, get_garbage()); }\n    }\n}\n\n#Print file with new code\nopen NEW_CODE, \"&gt;new.pl\" or die $!;\nprint NEW_CODE @new_code;\nclose NEW_CODE;\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>#!perl\nuse strict;\nmy $var21='__NEW';\nmy $var3=\"This is garbage\";\n\nsub g {\n    $var3+=\"changed\";\n\n    return $var3;\n}\nmy $var1='hello';\nsub f1 { \n    return g(shift).$var21;\n}\nmy $var2='there';\n\nf1(\"function name shall be changed\");\nsub f {\n    print \"This is a function\";\n    ++$var1\n}\nmy $var21='__NEW';\nmy $var3=\"This is garbage\";\n\nsub g {\n    $var3+=\"changed\";\n\n    return $var3;\n}\nprint $var1;\nprint \"\\n$var2\";\nsub f1 { \n    return g(shift).$var21;\n}\n\nf1(\"function name shall be changed\");\n</code></pre>\n\n<p>It probably does not take into account all cases but this is definitely a good working prototype.</p>\n\n<p>Cheers</p>\n"}], "owner": {"reputation": 5616, "user_id": 1477299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rQIK0.jpg?s=128&g=1", "display_name": "rlib", "link": "https://stackoverflow.com/users/1477299/rlib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 32450401, "answer_count": 2, "score": -4, "last_activity_date": 1441692973, "creation_date": 1423662931, "question_id": 28456149, "link": "https://stackoverflow.com/questions/28456149/junk-perl-code-generator-for-obfuscation", "title": "Junk perl code generator for obfuscation", "body": "<p>Having a code:</p>\n\n<pre><code>Line1 \nLine2\n..\nLineN\n</code></pre>\n\n<p>I want to automatically produce</p>\n\n<pre><code>Line1\nJunkLines2-100\nLine2\nJunkLines102-200\nLine3\n  etc.\n</code></pre>\n\n<p>where JunkLines are Perl junk code that does not change state of program but looks like continuation of legitimate program. </p>\n\n<p>I don't want obfuscate my code with obfuscators that, say, rename variable names to something unreadable - this unreadability is a signal that code is obfuscated. </p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 4, "creation_date": 1423666566, "post_id": 28454626, "comment_id": 45241215, "body": "Why would you arbitrarily give up tons of useful code by not using modules? Whenever I see someone saying &quot;without using modules&quot; it looks like they are saying &quot;using only the left hand&quot;, or &quot;with their eyes closed&quot;. You do know that you can always use modules, even if you do not have root access to the machine you are using."}, {"owner": {"reputation": 171, "user_id": 1939205, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7c83a7083b594f221098a8f1ad4f2013?s=128&d=identicon&r=PG", "display_name": "snoop", "link": "https://stackoverflow.com/users/1939205/snoop"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1423671885, "post_id": 28454626, "comment_id": 45244792, "body": "Without using module because if the same functionality can be possible without module then why one should use it? Also, if we use module we need to install it in order to run that program. So always try to work with basic module. This way dependency will also reduce on module."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1423672208, "post_id": 28454626, "comment_id": 45245016, "body": "Why? Because the modules solve your problem the way it is meant to be solved, they are well tested and thorough. This is one of the many illusions about Perl, that you have to give up huge libraries to reduce dependencies. It just simply is not true. If you have permission to write files, you can use modules. Modules are just files with Perl code in them (or XS files)."}, {"owner": {"reputation": 171, "user_id": 1939205, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7c83a7083b594f221098a8f1ad4f2013?s=128&d=identicon&r=PG", "display_name": "snoop", "link": "https://stackoverflow.com/users/1939205/snoop"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1423672564, "post_id": 28454626, "comment_id": 45245273, "body": "Most of the time some modules are not available by default on most of the Operating System where as some Operating System does. Any non-technical person can simply run the script even if he does not have knowledge about Perl module and all. So this way it will be helpful for these type of peoples without installing module and simply running Perl script he can generate required result."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1423673660, "post_id": 28454626, "comment_id": 45245965, "body": "Yes, I am aware of the arguments that people use to support the illusion. Perhaps there should be a question here on Stackoverflow about this, so we can debunk this myth once and for all."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423760458, "post_id": 28454626, "comment_id": 45288721, "body": "Isn&#39;t that likely to hit &#39;too broad&#39; or &#39;matter of opinion&#39; and get closed? But yes, I would quite like that discussion. Not least because it gives <i>me</i> ammunition when having that same discussion up the line. For better or for worse, I cannot freely download from CPAN and have to work within whatever &#39;system perl&#39; I have on the systems I&#39;m on. Which on RHEL5 is 5.8.8 and whatever was core then."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 4, "last_activity_date": 1423658769, "creation_date": 1423658769, "answer_id": 28454745, "question_id": 28454626, "link": "https://stackoverflow.com/questions/28454626/how-to-write-hash-key-as-column-name-and-value-as-row-into-tab-separated-fil/28454745#28454745", "title": "How to write hash ( key as column name and value as row ) into tab separated file using Perl?", "body": "<p>You can use hash slice to keep hash values in order,</p>\n\n<pre><code>my @keys = (\"Name\", \"Roll No.\", \"Address\", \"City\");\n\nprint join(\"\\t\", @keys), \"\\n\";\nfor my $v (@AoH) {\n\n  print join(\"\\t\", @$v{@keys}), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 1939205, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7c83a7083b594f221098a8f1ad4f2013?s=128&d=identicon&r=PG", "display_name": "snoop", "link": "https://stackoverflow.com/users/1939205/snoop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 1, "accepted_answer_id": 28454745, "answer_count": 1, "score": -1, "last_activity_date": 1423658769, "creation_date": 1423658458, "question_id": 28454626, "link": "https://stackoverflow.com/questions/28454626/how-to-write-hash-key-as-column-name-and-value-as-row-into-tab-separated-fil", "title": "How to write hash ( key as column name and value as row ) into tab separated file using Perl?", "body": "<p>Suppose I have hash content like this:</p>\n\n<pre><code>{\n    'Name' =&gt; 'Jhon',\n    'Roll No.' =&gt; '911',\n    'Address' =&gt; 'CA',\n    'City' =&gt; 'California', \n},\n{\n    'Name' =&gt; 'Jeff',\n    'Roll No.' =&gt; '922',\n    'Address' =&gt; 'CA',\n    'City' =&gt; 'California', \n},\n</code></pre>\n\n<p>I want output like this:</p>\n\n<pre><code>Name    Roll No.    Address    City\nJhon    911    CA    California\nJeff    922    CA    California\n</code></pre>\n\n<p>What will be the easiest way to write csv like this without using any perl module?</p>\n"}, {"tags": ["python", "bash", "perl", "shell", "scripting-language"], "comments": [{"owner": {"reputation": 2347, "user_id": 1717259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f70451a8ea5b380bf1a28fe529b190cc?s=128&d=identicon&r=PG", "display_name": "user1717259", "link": "https://stackoverflow.com/users/1717259/user1717259"}, "edited": false, "score": 1, "creation_date": 1423654961, "post_id": 28453383, "comment_id": 45233984, "body": "Have a look at the unix <code>join</code> command."}, {"owner": {"reputation": 39089, "user_id": 220834, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a8qUy.jpg?s=128&g=1", "display_name": "Don Roby", "link": "https://stackoverflow.com/users/220834/don-roby"}, "edited": false, "score": 0, "creation_date": 1423654992, "post_id": 28453383, "comment_id": 45234003, "body": "Show us your python code and we might be able to help make it more efficient."}, {"owner": {"reputation": 109, "user_id": 4534846, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-SH0xrupEGRM/AAAAAAAAAAI/AAAAAAAACt8/UcXKpoOQWMU/photo.jpg?sz=128", "display_name": "Damien ", "link": "https://stackoverflow.com/users/4534846/damien"}, "edited": false, "score": 0, "creation_date": 1423656692, "post_id": 28453383, "comment_id": 45235005, "body": "here is my python source code : <a href=\"http://pastebin.com/QtTzFPWK\" rel=\"nofollow noreferrer\">pastebin.com/QtTzFPWK</a> , args are : --nomatch file1 file2"}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1423667337, "post_id": 28453383, "comment_id": 45241747, "body": "Given your particular example, <code>cat file1</code> would suffice, as there are no matches between the <code>file1</code> and <code>file2</code> that you quote. You perhaps ought  to give a somewhat more representative example..."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4534846, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-SH0xrupEGRM/AAAAAAAAAAI/AAAAAAAACt8/UcXKpoOQWMU/photo.jpg?sz=128", "display_name": "Damien ", "link": "https://stackoverflow.com/users/4534846/damien"}, "edited": false, "score": 0, "creation_date": 1423656892, "post_id": 28453762, "comment_id": 45235123, "body": "Well my real file is not formatted like this, in file1 id is in column 1, in file2 id is in column 2. How to adapt your code ??"}, {"owner": {"reputation": 109, "user_id": 4534846, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-SH0xrupEGRM/AAAAAAAAAAI/AAAAAAAACt8/UcXKpoOQWMU/photo.jpg?sz=128", "display_name": "Damien ", "link": "https://stackoverflow.com/users/4534846/damien"}, "edited": false, "score": 0, "creation_date": 1423663365, "post_id": 28453762, "comment_id": 45239061, "body": "Thanks i&#39;m going to try it. why do you do twice for line in source ? I cant understand that"}, {"owner": {"reputation": 3322, "user_id": 1381627, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71dbcdf22ed2633fbe36cdb67c98f09e?s=128&d=identicon&r=PG", "display_name": "volcano", "link": "https://stackoverflow.com/users/1381627/volcano"}, "reply_to_user": {"reputation": 109, "user_id": 4534846, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-SH0xrupEGRM/AAAAAAAAAAI/AAAAAAAACt8/UcXKpoOQWMU/photo.jpg?sz=128", "display_name": "Damien ", "link": "https://stackoverflow.com/users/4534846/damien"}, "edited": false, "score": 0, "creation_date": 1423665135, "post_id": 28453762, "comment_id": 45240277, "body": "@Damien, the moment you exhaust <i>File2</i>, you may either set a flag in the first loop and use it to  skip processing of <i>File2</i> - or  finish processing <i>File1</i> in a separate loop. I liked this solution better."}, {"owner": {"reputation": 3322, "user_id": 1381627, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71dbcdf22ed2633fbe36cdb67c98f09e?s=128&d=identicon&r=PG", "display_name": "volcano", "link": "https://stackoverflow.com/users/1381627/volcano"}, "reply_to_user": {"reputation": 109, "user_id": 4534846, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-SH0xrupEGRM/AAAAAAAAAAI/AAAAAAAACt8/UcXKpoOQWMU/photo.jpg?sz=128", "display_name": "Damien ", "link": "https://stackoverflow.com/users/4534846/damien"}, "edited": false, "score": 0, "creation_date": 1423730375, "post_id": 28453762, "comment_id": 45269560, "body": "@Damien, just out of curiosity - how fast it was?"}], "tags": [], "owner": {"reputation": 3322, "user_id": 1381627, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71dbcdf22ed2633fbe36cdb67c98f09e?s=128&d=identicon&r=PG", "display_name": "volcano", "link": "https://stackoverflow.com/users/1381627/volcano"}, "is_accepted": true, "score": 1, "last_activity_date": 1423657462, "last_edit_date": 1423657462, "creation_date": 1423655814, "answer_id": 28453762, "question_id": 28453383, "link": "https://stackoverflow.com/questions/28453383/efficient-way-to-find-to-compare-lines-of-two-huge-but-sorted-files/28453762#28453762", "title": "Efficient way to find to compare lines of two huge but sorted files", "body": "<p>Assuming - as you state - that files are sorted (I did not test it, but it should work)</p>\n\n<pre><code>FILE1_POS = 0\nFILE2_POS = 1\nMAX_POS = 2\n\nmissing = []\nget_rec_no = lambda l, f=FILE1_POS: int(l.split(None, MAX_POS)[f])\nwith open('File1') as source, open('File2') as trgt:\n    trgt = iter(trgt)\n    for line in source:\n        src_rec_no = get_rec_no(line)\n        try:\n            trgt_rec_no = get_rec_no(trgt.next(), FILE2_POS)\n            while trgt_rec_no &lt; src_rec_no:\n               missing.append(src_rec_no)\n               trgt_rec_no = get_rec_no(trgt.next(), FILE2_POS)\n         except StopIteration:\n            break\n    for line in source:\n        missing.append(get_rec_no(line))\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I changed by you request</p>\n"}, {"tags": [], "owner": {"reputation": 1223, "user_id": 2636544, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/GFapU.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/2636544/wes"}, "is_accepted": false, "score": 1, "last_activity_date": 1423656981, "creation_date": 1423656981, "answer_id": 28454155, "question_id": 28453383, "link": "https://stackoverflow.com/questions/28453383/efficient-way-to-find-to-compare-lines-of-two-huge-but-sorted-files/28454155#28454155", "title": "Efficient way to find to compare lines of two huge but sorted files", "body": "<p>If you are having problems because of performance, you may want to look into using something like Hadoop/MapReduce to split the files into a number of smaller files, and then you can run each subprocess on different processors to achieve speedup.  </p>\n\n<p>As a simple example, of splitting the file in two, you could have a subfile which contained all the keys between [A-M], [M-Z].  In this way if you know the key from one file, you know which subfile to search for its possible match.  In theory, you will have cut the search time in half if you split the files in two (however, not exactly in half because there is overhead involved).  </p>\n\n<p>Basically, the programming would involved writing a mapper.py and a reducer.py. If you're not familiar with Hadoop/MapReduce, there are many good tutorials on setting up a MapReduce job in Python, but the one I would suggest is the Udacity course called <a href=\"https://www.udacity.com/course/ud617\" rel=\"nofollow\">\"Intro to Hadoop and MapReduce\"</a> which solves some similar problems using Python and MapReduce.  </p>\n\n<p>Also, you may want to consider editing your tags to include Hadoop MapReduce, in which case you could get some more specific help on writing the mapper.py and reducer.py.</p>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 4534846, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-SH0xrupEGRM/AAAAAAAAAAI/AAAAAAAACt8/UcXKpoOQWMU/photo.jpg?sz=128", "display_name": "Damien ", "link": "https://stackoverflow.com/users/4534846/damien"}, "edited": false, "score": 0, "creation_date": 1423671878, "post_id": 28456056, "comment_id": 45244785, "body": "This is not what i&#39;m trying to do. I want to retreive the list of item that doesnt match with the second file (not join those match))"}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "reply_to_user": {"reputation": 109, "user_id": 4534846, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-SH0xrupEGRM/AAAAAAAAAAI/AAAAAAAACt8/UcXKpoOQWMU/photo.jpg?sz=128", "display_name": "Damien ", "link": "https://stackoverflow.com/users/4534846/damien"}, "edited": false, "score": 0, "creation_date": 1423674916, "post_id": 28456056, "comment_id": 45246740, "body": "Forget for a moment that the command is called <code>join</code>.. the output is the two rows in file1 that aren&#39;t in file2, which is what you asked for.  - &quot;the lines from File1 which don\u2019t appear in File2 (according to the first column, so just the first column is used for comparison).&quot;"}], "tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1423662691, "creation_date": 1423662691, "answer_id": 28456056, "question_id": 28453383, "link": "https://stackoverflow.com/questions/28453383/efficient-way-to-find-to-compare-lines-of-two-huge-but-sorted-files/28456056#28456056", "title": "Efficient way to find to compare lines of two huge but sorted files", "body": "<p>Try this in bash:</p>\n\n<pre><code>join -v 1 -j 1 file1.txt file2.txt\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>8 tim qqjh hjahj@uayua.com\n9 john ajkajk rtaeraer@auiaui.com\n</code></pre>\n\n<p>The parameters are as follows:</p>\n\n<p><code>-j 1</code> is the field to join on, i.e. the first field</p>\n\n<p><code>-v 1</code> means suppress the lines from the first file</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 3065349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d08ad4d842cbb562d595b660d0323?s=128&d=identicon&r=PG&f=1", "display_name": "user3065349", "link": "https://stackoverflow.com/users/3065349/user3065349"}, "reply_to_user": {"reputation": 109, "user_id": 4534846, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-SH0xrupEGRM/AAAAAAAAAAI/AAAAAAAACt8/UcXKpoOQWMU/photo.jpg?sz=128", "display_name": "Damien ", "link": "https://stackoverflow.com/users/4534846/damien"}, "edited": false, "score": 0, "creation_date": 1423728400, "post_id": 28456863, "comment_id": 45268602, "body": "Other than the file size, It&#39;s not clear to me why this wouldn&#39;t work. Presumably, you cannot make the files available for me to try?"}], "tags": [], "owner": {"reputation": 171, "user_id": 3065349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d08ad4d842cbb562d595b660d0323?s=128&d=identicon&r=PG&f=1", "display_name": "user3065349", "link": "https://stackoverflow.com/users/3065349/user3065349"}, "is_accepted": false, "score": 1, "last_activity_date": 1423734198, "last_edit_date": 1423734198, "creation_date": 1423665130, "answer_id": 28456863, "question_id": 28453383, "link": "https://stackoverflow.com/questions/28453383/efficient-way-to-find-to-compare-lines-of-two-huge-but-sorted-files/28456863#28456863", "title": "Efficient way to find to compare lines of two huge but sorted files", "body": "<p>The fact that the files are of a different length doesn't exclude an awk solution. Taking your two inputs: </p>\n\n<pre><code> [ damien $] cat file1\ncat: file1: No such file or directory\n [ damien $] cat file1.txt\n1  robert  youh  xpla@ioaio.fr\n2  patrick  yuad  qqqq@ioaio.fr\n3  bob  fsgfq  ddd@ioaio.fr\n8  tim  qqjh  hjahj@uayua.com\n9  john  ajkajk  rtaeraer@auiaui.com\n [ damien $] cat file2.txt\n1  baby  france  paris\n2  father  usa  detroit\n3  mother  uk  london\n4  baby  italy  milan\n\n [ damien $] \n</code></pre>\n\n<p>consider the following script: </p>\n\n<pre><code> [ damien $] cat n_join.awk\n#!/usr/bin/gawk -f\n\n\nNR==FNR{\n  #  file2[$1]=$0;\n   file2[$1]=1;\n}\nNR!=FNR{\n    if(!($1 in file2)){\n# print current record if not in file2\n        print ;\n    }else{\n# if $1 from file1 has been found.\n# if it's really unique in file1, it\n# can be deleted from file2. Otherwise\n# comment this line:\n        delete file2[$1];\n    }\n}\n [ damien $]\n</code></pre>\n\n<p>which gives the output: </p>\n\n<pre><code>[ damien $] chmod +x n_join.awk\n [ damien $] ./n_join.awk file2.txt file1.txt\n8  tim  qqjh  hjahj@uayua.com\n9  john  ajkajk  rtaeraer@auiaui.com\n [ damien $]\n</code></pre>\n\n<p>note that file2.txt must be passed in first. I have no ideaa if this will work on a file that's 2 million lines long, but would be interested to know if you have the time to try it. :) </p>\n\n<p>If you can make the files available (unlikely), I'll try it myself... :D</p>\n\n<p>EDIT: I understand that you've accepted your answer and have probably moved on with your life, however, I would like to add in some additional information. </p>\n\n<p>If I create two large files of the type that you specify: file1.bit.txt containing 5 million records: </p>\n\n<pre><code> [ damien $] seq 1 1 5000000 &gt; file1.big.txt\n [ damien $] sed -i 's|$| bob  fsgfq  ddd@ioaio.fr|' file1.big.txt\n [ damien $] head file1.big.txt\n1 bob  fsgfq  ddd@ioaio.fr\n2 bob  fsgfq  ddd@ioaio.fr\n3 bob  fsgfq  ddd@ioaio.fr\n4 bob  fsgfq  ddd@ioaio.fr\n5 bob  fsgfq  ddd@ioaio.fr\n6 bob  fsgfq  ddd@ioaio.fr\n7 bob  fsgfq  ddd@ioaio.fr\n8 bob  fsgfq  ddd@ioaio.fr\n9 bob  fsgfq  ddd@ioaio.fr\n10 bob  fsgfq  ddd@ioaio.fr\n [ damien $] tail file1.big.txt\n4999991 bob  fsgfq  ddd@ioaio.fr\n4999992 bob  fsgfq  ddd@ioaio.fr\n4999993 bob  fsgfq  ddd@ioaio.fr\n4999994 bob  fsgfq  ddd@ioaio.fr\n4999995 bob  fsgfq  ddd@ioaio.fr\n4999996 bob  fsgfq  ddd@ioaio.fr\n4999997 bob  fsgfq  ddd@ioaio.fr\n4999998 bob  fsgfq  ddd@ioaio.fr\n4999999 bob  fsgfq  ddd@ioaio.fr\n5000000 bob  fsgfq  ddd@ioaio.fr\n [ damien $]\n [ damien $]\n [ damien $]\n [ damien $]\n</code></pre>\n\n<p>and </p>\n\n<pre><code>[ damien $]\n [ damien $] seq 2 2 5000000 &gt; file2.big.txt\n [ damien $]  sed -i 's|$| baby  france  paris|' file2.big.txt\n [ damien $] head file2.big.txt\n2 baby  france  paris\n4 baby  france  paris\n6 baby  france  paris\n8 baby  france  paris\n10 baby  france  paris\n12 baby  france  paris\n14 baby  france  paris\n16 baby  france  paris\n18 baby  france  paris\n20 baby  france  paris\n [ damien $] tail file2.big.txt\n4999982 baby  france  paris\n4999984 baby  france  paris\n4999986 baby  france  paris\n4999988 baby  france  paris\n4999990 baby  france  paris\n4999992 baby  france  paris\n4999994 baby  france  paris\n4999996 baby  france  paris\n4999998 baby  france  paris\n5000000 baby  france  paris\n [ damien $]\n</code></pre>\n\n<p>with only even numbered keys. Running my script gives: </p>\n\n<pre><code> [ damien $]\n [ damien $] time ./n_join.awk file2.big.txt file1.big.txt &gt; output.big\n\nreal    0m4.154s\nuser    0m3.893s\nsys     0m0.207s\n [ damien $]\n [ damien $] head output.big\n1 bob  fsgfq  ddd@ioaio.fr\n3 bob  fsgfq  ddd@ioaio.fr\n5 bob  fsgfq  ddd@ioaio.fr\n7 bob  fsgfq  ddd@ioaio.fr\n9 bob  fsgfq  ddd@ioaio.fr\n11 bob  fsgfq  ddd@ioaio.fr\n13 bob  fsgfq  ddd@ioaio.fr\n15 bob  fsgfq  ddd@ioaio.fr\n17 bob  fsgfq  ddd@ioaio.fr\n19 bob  fsgfq  ddd@ioaio.fr\n [ damien $] tail output.big\n4999981 bob  fsgfq  ddd@ioaio.fr\n4999983 bob  fsgfq  ddd@ioaio.fr\n4999985 bob  fsgfq  ddd@ioaio.fr\n4999987 bob  fsgfq  ddd@ioaio.fr\n4999989 bob  fsgfq  ddd@ioaio.fr\n4999991 bob  fsgfq  ddd@ioaio.fr\n4999993 bob  fsgfq  ddd@ioaio.fr\n4999995 bob  fsgfq  ddd@ioaio.fr\n4999997 bob  fsgfq  ddd@ioaio.fr\n4999999 bob  fsgfq  ddd@ioaio.fr\n [ damien $] wc -l output.big\n2500000 output.big\n [ damien $]\n</code></pre>\n\n<p>where the whole thing completes in about 4 seconds, which doesn't seem at all prohibitive. Either there's a big difference in the data sets or your script operated significantly differently to mine. Maybe this is useful to somebody. :/ </p>\n\n<p>Ps. I have a  i7-3770 CPU @ 3.40GHz according to /proc/cpuinfo</p>\n"}], "owner": {"reputation": 109, "user_id": 4534846, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-SH0xrupEGRM/AAAAAAAAAAI/AAAAAAAACt8/UcXKpoOQWMU/photo.jpg?sz=128", "display_name": "Damien ", "link": "https://stackoverflow.com/users/4534846/damien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1521, "favorite_count": 0, "accepted_answer_id": 28453762, "answer_count": 4, "score": 2, "last_activity_date": 1423734198, "creation_date": 1423654622, "last_edit_date": 1423678400, "question_id": 28453383, "link": "https://stackoverflow.com/questions/28453383/efficient-way-to-find-to-compare-lines-of-two-huge-but-sorted-files", "title": "Efficient way to find to compare lines of two huge but sorted files", "body": "<p>I'm actually stuck on something, and need some help .. </p>\n\n<p>I have two huge txt files <em>(tab separator)</em>, with this kind of format : </p>\n\n<p><strong>File1 :</strong> </p>\n\n<pre><code>1  robert  youh  xpla@ioaio.fr\n2  patrick  yuad  qqqq@ioaio.fr\n3  bob  fsgfq  ddd@ioaio.fr\n8  tim  qqjh  hjahj@uayua.com\n9  john  ajkajk  rtaeraer@auiaui.com\n</code></pre>\n\n<p><strong>File2 :</strong> </p>\n\n<pre><code>1  baby  france  paris\n2  father  usa  detroit\n3  mother  uk  london\n4  baby  italy  milan\n</code></pre>\n\n<p>Both files are sorted, but <strong>File1</strong> is bigger than <strong>File2</strong>. I need to find the lines from <strong>File1</strong> which don\u2019t appear in <strong>File2</strong> (according to the first column, so just the first column is used for comparison).</p>\n\n<p>I tried many ways : \n- awk : didnt find a way to do it (because of difference of length)\n- python (with for which line statement and fileinput.input ...), my script spent around 5 min to perform 0,3% lines. </p>\n\n<p>Result : I am able to retreive correct result with python (did test on small files), but I can't deal with my very large files.</p>\n\n<p>Any idea to help ?</p>\n\n<p>My files are around 2 millions lines each.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed", "wc"], "answers": [{"tags": [], "owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "is_accepted": true, "score": 6, "last_activity_date": 1423652967, "creation_date": 1423652967, "answer_id": 28452843, "question_id": 28452801, "link": "https://stackoverflow.com/questions/28452801/include-column-with-row-number-in-multiple-rows/28452843#28452843", "title": "Include column with row number in multiple rows", "body": "<p>With awk:</p>\n\n<pre><code>awk '{ print NR, $0 }' filename\n</code></pre>\n\n<p><code>NR</code> is the number of the current record (i.e., line), <code>$0</code> is the whole line, so this will print an ascending number before each line.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1423655868, "post_id": 28452853, "comment_id": 45234492, "body": "Why not <code>print &quot;$. $_&quot;</code>? What do you gain by splitting it out over two lines?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1423655945, "post_id": 28452853, "comment_id": 45234547, "body": "Not a lot. I just have an aversion to using <code>$_</code> if I can avoid it. (Although, given I&#39;m using <code>$.</code> that&#39;s a bit of a moot point in this example)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1423656033, "post_id": 28452853, "comment_id": 45234601, "body": "But you are using <code>$_</code> in your code. You&#39;re just not using it explicitly. Surely that&#39;s worse? :-)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1423656341, "post_id": 28452853, "comment_id": 45234804, "body": "Personally - I&#39;d say no. My <i>opinion</i> is that any time you&#39;re actually using <code>$_</code> you should be writing your code differently to have an explicit named variable. Otherwise you continue the &#39;perl style&#39; of looking like line noise. This has turned into a habit :). But using <code>$.</code> at the same time as eschewing <code>$_</code> is inconsistent, so I have amended it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1423656441, "post_id": 28452853, "comment_id": 45234852, "body": "/me sees <code>use English</code> and shudders :-/"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1423656182, "last_edit_date": 1423656182, "creation_date": 1423653012, "answer_id": 28452853, "question_id": 28452801, "link": "https://stackoverflow.com/questions/28452801/include-column-with-row-number-in-multiple-rows/28452853#28452853", "title": "Include column with row number in multiple rows", "body": "<p>In perl, you would use <code>$.</code> - current line number of current file.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse English;\n\nwhile ( &lt;DATA&gt; ) {\n   # $. and $_ \n   print $INPUT_LINE_NUMBER . \" \" . $ARG;\n}\n\n__DATA__\ndb1              CIRBS                            500           10\ndb2              CITEMP                           500           7\ndb5              IN_DATA                          500           6\ndbb              IN_INDEX                         500           3\n</code></pre>\n\n<p>For a simpler answer <code>cat -n</code> should do this too.</p>\n\n<blockquote>\n<pre><code>  -n, --number\n      number all output lines\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 38442, "user_id": 1331399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a22763d295c9d45db0dd0c692bb4051?s=128&d=identicon&r=PG", "display_name": "Thor", "link": "https://stackoverflow.com/users/1331399/thor"}, "is_accepted": false, "score": 5, "last_activity_date": 1423656140, "creation_date": 1423656140, "answer_id": 28453868, "question_id": 28452801, "link": "https://stackoverflow.com/questions/28452801/include-column-with-row-number-in-multiple-rows/28453868#28453868", "title": "Include column with row number in multiple rows", "body": "<p>With cat:</p>\n\n<pre><code>cat -n infile\n</code></pre>\n\n<p>With nl:</p>\n\n<pre><code>nl -ba infile\n</code></pre>\n\n<p>With grep:</p>\n\n<pre><code>grep -n . infile\n</code></pre>\n\n<p>With GNU sed:</p>\n\n<pre><code>sed = infile | sed 'N; s/\\n/ /'\n</code></pre>\n\n<p>With GNU sed + xargs:</p>\n\n<pre><code>sed = infile | xargs -n2\n</code></pre>\n\n<p>With awk:</p>\n\n<pre><code>awk '{ print NR, $0 }' infile\n</code></pre>\n\n<p>Or: </p>\n\n<pre><code>awk '$0 = NR OFS $0'   infile\n</code></pre>\n\n<p>With perl:</p>\n\n<pre><code>perl -pne 's/^/$. /' infile\n</code></pre>\n"}], "owner": {"reputation": 980, "user_id": 1716704, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/S8zFC.png?s=128&g=1", "display_name": "Kalin Borisov", "link": "https://stackoverflow.com/users/1716704/kalin-borisov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 28452843, "answer_count": 3, "score": 1, "last_activity_date": 1423661172, "creation_date": 1423652834, "last_edit_date": 1423661172, "question_id": 28452801, "link": "https://stackoverflow.com/questions/28452801/include-column-with-row-number-in-multiple-rows", "title": "Include column with row number in multiple rows", "body": "<p>I want to include additional column count to multiple rows and the number to increase for example:</p>\n\n<pre><code>db1              CIRBS                            500           10\ndb2              CITEMP                           500           7\ndb5              IN_DATA                          500           6\ndbb              IN_INDEX                         500           3\n</code></pre>\n\n<p>Final view:</p>\n\n<pre><code>1 db1              CIRBS                            500           10\n2 db2              CITEMP                           500           7\n3 db5              IN_DATA                          500           6\n4 dbb              IN_INDEX                         500           3\n</code></pre>\n"}, {"tags": ["apache", "perl", "error-logging"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 1224306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab6794b51638e79bca39b499bdb1981?s=128&d=identicon&r=PG", "display_name": "Yokall", "link": "https://stackoverflow.com/users/1224306/yokall"}, "edited": false, "score": 0, "creation_date": 1423843898, "post_id": 28501020, "comment_id": 45326646, "body": "Switching to non-threaded apache did the trick.  I was able to do this using apt-get: <code>apt-get install apache2-mpm-prefork</code>.  To check which MPM your apache server is currently using, use this command <code>aptitude search apache2-mpm-</code> and whichever one has an &#39;i&#39; beside it is the one being used.  I found this out here <a href=\"http://articles.slicehost.com/2010/5/20/configuring-the-apache-mpm-on-debian\" rel=\"nofollow noreferrer\">MPM Config</a>"}], "tags": [], "owner": {"reputation": 5054, "user_id": 548515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55624bebc921a03713d00a91c9e58a36?s=128&d=identicon&r=PG", "display_name": "Hans Lub", "link": "https://stackoverflow.com/users/548515/hans-lub"}, "is_accepted": true, "score": 1, "last_activity_date": 1423835028, "creation_date": 1423835028, "answer_id": 28501020, "question_id": 28450175, "link": "https://stackoverflow.com/questions/28450175/errors-for-virtual-host-are-not-written-to-specified-errorlog-but-to-default-er/28501020#28501020", "title": "Errors for virtual host are not written to specified ErrorLog, but to default error_log", "body": "<p>This is (was?) <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=14090\" rel=\"nofollow\">a longstanding bug</a> in <code>mod_cgid</code>. Its status still is \"RESOLVED LATER\" which (apparently) means: \"stop complaining - we'll do it in a later version, not now\". Maybe it has been solved by now (your version, 2.2.22, is 3 years old), but I couldn't find any mention of it.</p>\n\n<p><code>mod_cgid</code> is the default <code>.cgi</code> handler in the threaded version of Apache. If you switch to <code>mod_cgi</code>, e.g. by using a non-threaded apache (like I do) that should solve your problem.</p>\n"}], "owner": {"reputation": 85, "user_id": 1224306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab6794b51638e79bca39b499bdb1981?s=128&d=identicon&r=PG", "display_name": "Yokall", "link": "https://stackoverflow.com/users/1224306/yokall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 28501020, "answer_count": 1, "score": 5, "last_activity_date": 1423837423, "creation_date": 1423645158, "last_edit_date": 1423837423, "question_id": 28450175, "link": "https://stackoverflow.com/questions/28450175/errors-for-virtual-host-are-not-written-to-specified-errorlog-but-to-default-er", "title": "Errors for virtual host are not written to specified ErrorLog, but to default error_log", "body": "<p>I have upgraded to Apache 2.2.22 on a Debian 7 VM.  I have just installed it using apt-get and not made any config changes except to add my VirtualHost</p>\n\n<pre><code>&lt;VirtualHost *:8001 *:80&gt;\n    ServerName devintegration.ie\n    ServerAlias devintegration.ie\n    DocumentRoot /sites/integration/development/docs\n    ScriptAlias /console/ /sites/integration/development/console/\n    ErrorLog /sites/logs/devintegration.ie-error_log\n    CustomLog /sites/logs/devintegration.ie-access_log common\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>The behavior I was used to was that any Perl errors or warns appeared in the error log specified in the virtual host.  The behavior I'm now getting is that the Perl errors go to the common Apache log in /var/log/apache2 directory and the virtual host log just contains \"Premature end of script headers\".</p>\n\n<p>I've done some googling on this but most of the results are about mod_perl.  I did find this page and the last comment suggests that there was a change to how this works but no information was given as to whether it could be changed.  <a href=\"http://httpd.apache.org/docs/2.2/logs.html\" rel=\"nofollow\">Apache Log Forum</a>  \"Any information written to stderr by a CGI script will be copied directly to the error log.\"</p>\n\n<p>Is there a way to configure apache to direct Perl errors and warns to the error log specified in virtual host?</p>\n\n<p>The previous Apache version I was using was 2.2.15.</p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1423650807, "post_id": 28449931, "comment_id": 45231516, "body": "@choroba..Thanks..I did it other way. I removed $i variable and change it to like $k$j because this was only name. But you actually give the output in the format which I wanted."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1423644283, "creation_date": 1423644283, "answer_id": 28449931, "question_id": 28449585, "link": "https://stackoverflow.com/questions/28449585/use-of-uninitalized-value-in-concatenation-or-string-at-xyz-pl-line-27/28449931#28449931", "title": "Use of uninitalized value in concatenation &lt;.&gt; or string at xyz.pl line 27", "body": "<p>You don't populate the arrays anywhere, so they stay empty.</p>\n\n<p>But, in fact, you need no arrays to get the output you want.</p>\n\n<p>Additional advice:</p>\n\n<ul>\n<li><p>Prefer <a href=\"http://p3rl.org/chomp\" rel=\"nofollow\">chomp</a> to <a href=\"http://p3rl.org/chop\" rel=\"nofollow\">chop</a>.</p></li>\n<li><p>Declare the variables when you need them, not at the top of the program/subroutine.</p></li>\n</ul>\n\n<p>How I'd do it:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $OUT, '&gt;', 'output.txt' or die \"Cannot open file.\\n\";\n\nprint \"Enter the number of rows:\\n\";\nmy $p = &lt;STDIN&gt;;\nchomp $p;\n\nprint \"Enter the number of columns:\\n\";\nmy $q = &lt;STDIN&gt;;\nchomp $q;\n\nmy $x = 2 ** $p;\nmy $y = 2 ** $q;\n\nmy $i = 0;\nfor (my $j = 0; $j &lt; $x; $j = $j + 1) {\n    for (my $k = 0; $k &lt; $y; $k = $k + 1) {\n        print {$OUT} \"Xrow$i b$k b_l$k w$j\\n\";\n        ++$i;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423652688, "creation_date": 1423642948, "last_edit_date": 1423652688, "question_id": 28449585, "link": "https://stackoverflow.com/questions/28449585/use-of-uninitalized-value-in-concatenation-or-string-at-xyz-pl-line-27", "title": "Use of uninitalized value in concatenation &lt;.&gt; or string at xyz.pl line 27", "body": "<p>I am writing this perl program and want to create an array which should be stored in output file according to the values of for loop. I am new to this programming.\nThis is my code</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen( my $out_fh, \"&gt;\", \"output.txt\" ) || die(\"Cannot open file.\\n\");\nmy ( $x, $y, $i, $j, $k, $p, $q );\nmy ( @Xrow, @b, @b_l, @w );\n\nprint(\"Enter the number of rows:\\n\");\n$p = &lt;STDIN&gt;;\nchop($p);\n\nprint(\"Enter the number of columns:\\n\");\n$q = &lt;STDIN&gt;;\nchop($q);\n\n$x    = 2**$p;\n$y    = 2**$q;\n@Xrow = ( @b, @b_l, @w );\n\nfor ( $i = 0; $i &lt; $x * $y; $i = $i + 1 ) {\n    for ( $j = 0; $j &lt; $x; $j = $j + 1 ) {\n        for ( $k = 0; $k &lt; $y; $k = $k + 1 ) {\n\n            $Xrow[$i] = \"$b[$j],$b_l[$j],$w[$k]\";\n            foreach (@Xrow) {\n                print $out_fh \"$_\\n\";\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>So output should look like for example p=q=1</p>\n\n<pre><code>Xrow0 b0 b_l0 w0\nXrow1 b1 b_l1 w0\nXrow2 b0 b_l0 w1\nXrow3 b1 b_l1 w1\n</code></pre>\n\n<p>so it should print like this in output file without any braces and \"=\"</p>\n\n<p>But I am getting error like this</p>\n\n<pre><code>Use of uninitialized value in concatenation&lt;.&gt; or string at xyz.pl in line 27\nUse of uninitialized value within @b in concatenation&lt;.&gt; or string at xyz.pl in line 27\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 20096, "user_id": 675129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bcmrv.jpg?s=128&g=1", "display_name": "Celada", "link": "https://stackoverflow.com/users/675129/celada"}, "edited": false, "score": 1, "creation_date": 1423641803, "post_id": 28451447, "comment_id": 45230438, "body": "This question is off-topic because it is about programming, not about Unix &amp; Linux... But the format you describe sounds like CSV. Have you considered just using a library to parse it as CSV?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1423641891, "post_id": 28451447, "comment_id": 45230439, "body": "<a href=\"http://p3rl.org/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a>"}, {"owner": {"reputation": 10419, "user_id": 1151724, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q6fMI.jpg?s=128&g=1", "display_name": "CodeClown42", "link": "https://stackoverflow.com/users/1151724/codeclown42"}, "edited": false, "score": 0, "creation_date": 1423643263, "post_id": 28451447, "comment_id": 45230440, "body": "<i>The catch is that any element may be contained in quotes</i> -- Don&#39;t bother with split or single regexps for this, you can&#39;t do it that way.  You need a state machine (or else just use the module)."}, {"owner": {"user_type": "does_not_exist", "display_name": "sam"}, "reply_to_user": {"reputation": 20096, "user_id": 675129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bcmrv.jpg?s=128&g=1", "display_name": "Celada", "link": "https://stackoverflow.com/users/675129/celada"}, "edited": false, "score": 0, "creation_date": 1423643280, "post_id": 28451447, "comment_id": 45230441, "body": "@celada indeed its a csv formatted input but i want a a subroutine to o/p it the way i want"}, {"owner": {"reputation": 391, "user_id": 2344631, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WDYfQzrarRo/AAAAAAAAAAI/AAAAAAAADE8/dLfjG8491mE/photo.jpg?sz=128", "display_name": "roaima", "link": "https://stackoverflow.com/users/2344631/roaima"}, "edited": false, "score": 2, "creation_date": 1423643428, "post_id": 28451447, "comment_id": 45230442, "body": "Use Text::CSV and avoid reinventing the wheel"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1423651942, "post_id": 28451447, "comment_id": 45232140, "body": "Sounds like you want the <code>parse_line</code> function from <a href=\"https://metacpan.org/pod/Text::ParseWords\" rel=\"nofollow noreferrer\">Text::ParseWords</a> (which has been part of the standard Perl distribution forever)."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1423676704, "post_id": 28451447, "comment_id": 45247804, "body": "Like most things in Perl, &quot;there&#39;s a module for that&quot;."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "sam"}, "edited": false, "score": 0, "creation_date": 1423646601, "post_id": 28451448, "comment_id": 45230443, "body": "Did it compiled for you ? when you pass data in the sub comma ?"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "edited": false, "score": 0, "creation_date": 1423649361, "post_id": 28451448, "comment_id": 45230637, "body": "@sam there was a typo in the code (a cut and paste strange &quot;k&quot;) could you check it again? (<code>perl file</code>)"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1423657778, "post_id": 28451448, "comment_id": 45235676, "body": "What about strings like: <code>--1--,--2--</code>?"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1423660509, "post_id": 28451448, "comment_id": 45237205, "body": "@JESUISCHARLIE, ok, ok, I was trying to avoid obfuscating code. Normally  I use non text marks (<code>$s =~ s&#47;(&quot;.*?&quot;)&#47;$save{++$i}=$1; &quot;\\cA$i\\cA&quot;&#47;ge; </code>) -- you are right of course."}, {"owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "edited": false, "score": 0, "creation_date": 1423670541, "post_id": 28451448, "comment_id": 45243935, "body": "What about strings like <code>one,two,&quot;three and a \\&quot;half\\&quot;&quot;,four</code>?"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "edited": false, "score": 0, "creation_date": 1423674313, "post_id": 28451448, "comment_id": 45246385, "body": "@Oesor, good point. That is why I called it &quot;poor man&#39;s csv&quot;. That specif example is not a problem with &quot;comma&quot;; but <code>&quot;a\\&quot;,&quot;</code> would not work.  It is possible to write a regex covering C-strings, or Pascal-strings but not a universal string. (unfortunately is very easy to have problems with standard tools and CSV)"}], "tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 2, "last_activity_date": 1423673179, "last_edit_date": 1423673179, "creation_date": 1423644009, "answer_id": 28451448, "question_id": 28451447, "link": "https://stackoverflow.com/questions/28451447/i-want-to-write-a-perl-function-sub-called-comma-that-takes-a-string-as-inpu/28451448#28451448", "title": "I want to write a perl function (sub) called &quot;comma&quot; that takes a string as input, splits the string into an array", "body": "<p>Text::CSV is a better idea! Anyway I like to write Perl...</p>\n\n<pre><code>#!/usr/bin/perl\n\nsub comma{ my $s=shift;                              ## poor man's CSV\n  my %save=();\n  my $i=0;\n  $s =~ s/(\".*?\")/$save{++$i}=$1; \"--$i--\"/ge;       ## save strings\n  map {s/--(\\d+)--/$save{$1}/r} split(/\\s*,\\s*/,$s); ## split and restore\n}\n\nwhile(&lt;DATA&gt;){                                       ## testing\n  print join(\"\\n---\",comma($_)),\"\\n\";\n}\n\n__DATA__\none,two,\"three,three and a half\",  four    ,\"five, five and a half\",six\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1423648985, "question_id": 184187}, "owner": {"user_type": "does_not_exist", "display_name": "sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1423673179, "creation_date": 1423641153, "question_id": 28451447, "link": "https://stackoverflow.com/questions/28451447/i-want-to-write-a-perl-function-sub-called-comma-that-takes-a-string-as-inpu", "title": "I want to write a perl function (sub) called &quot;comma&quot; that takes a string as input, splits the string into an array", "body": "<p>I want to write a perl function (sub) called \"comma\" that takes a string as \ninput, splits the string into an array based on commas (ignoring \nwhite space around the comma), and returns an array of strings.  The \ncatch is that any element may be contained in quotes, in which commas \nwill be allowed.</p>\n\n<h2>input:</h2>\n\n<pre><code>hello,\"world, yo\",matt\n</code></pre>\n\n<h2>output:</h2>\n\n<pre><code>hello   \n\"world, yo\"    \nmath\n</code></pre>\n\n<h2>input:</h2>\n\n<pre><code>one,two,\"three,three and a half\",          four              ,\"five, five and a half\",six\n</code></pre>\n\n<h2>output:</h2>\n\n<pre><code>one    \ntwo    \n\"three,three and a half\"    \nfour    \n\"five, five and a half\"     \nsix     \n</code></pre>\n\n<h2>My implemented code</h2>\n\n<pre><code>my $testb = \"hello,'world, yo',matt\";\nprint $_, \"\\n\" for split ',', $testb;\n\nmy $testc = \"one,two,\"three,three and a half\",          four              ,\"five, five and a half\",six\";\nprint $_, \"\\n\" for split ',', $testc;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "edited": false, "score": 0, "creation_date": 1423641492, "post_id": 28449074, "comment_id": 45226502, "body": "What is the output of <code>bin&#47;myexecutable distribute</code>?"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "edited": false, "score": 0, "creation_date": 1423641613, "post_id": 28449074, "comment_id": 45226567, "body": "@g.tsh bunch of strings. Example, &quot;building &lt;name&gt;&quot;"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "edited": false, "score": 0, "creation_date": 1423641646, "post_id": 28449074, "comment_id": 45226580, "body": "@g.tsh is the output of bin/myexecutable messing with me being able to get user input?"}, {"owner": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "edited": false, "score": 0, "creation_date": 1423641721, "post_id": 28449074, "comment_id": 45226609, "body": "<code>while (&lt;$EXE&gt;)</code> is blocking. So the loop (and <code>ReadKey</code>) is executed every time the exe prints a line to <code>STDOUT</code>."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "edited": false, "score": 0, "creation_date": 1423641875, "post_id": 28449074, "comment_id": 45226671, "body": "@g.tsh it prints multiple lines per sec. up to like 100 lines per sec. so ReadKey should work as if it is while (1) loop"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "edited": false, "score": 0, "creation_date": 1423642083, "post_id": 28449074, "comment_id": 45226774, "body": "@g.tsh i m not sure if Readkey uses STDIN and that 2&gt;&amp;1 | is interfering with STDIN? idk..."}, {"owner": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "edited": false, "score": 0, "creation_date": 1423642209, "post_id": 28449074, "comment_id": 45226827, "body": "<code>2&gt;&amp;1</code> redirects <code>STDERR</code> to <code>STDOUT</code>, this part should be ok. I have executed this script. I have only changed <code>$myexe</code> to call <code>yes</code> and removed <code>print &quot;$_\\n&quot;;</code>. This works perfectly fine for me."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "edited": false, "score": 0, "creation_date": 1423642609, "post_id": 28449074, "comment_id": 45227022, "body": "@g.tsh yes that works for me too. hmm i wonder what it is about myexecutable that behaves differntly"}, {"owner": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1423642657, "post_id": 28449074, "comment_id": 45227052, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/70690/discussion-between-g-tsh-and-ealeon\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1423667099, "last_edit_date": 1423667099, "creation_date": 1423666725, "answer_id": 28457454, "question_id": 28449074, "link": "https://stackoverflow.com/questions/28449074/perl-non-blocking-user-input/28457454#28457454", "title": "Perl non-blocking user input", "body": "<p>I'm wary of running a 'busy-wait' loop like you'd get with <code>Term::ReadKey</code>. But what I'd suggest - if you're trying to do two things at once - is that it may be worth considering doing a spot of parallel code. </p>\n\n<p>Something like: </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse threads;\nuse threads::shared;\n\nuse Term::ReadKey;\n\n\nmy $myexe = 'bin/myexecutable';\n\nmy $filter : shared;\n\n\nsub worker {\n    open my $EXE, \"$myexe distribute 2&gt;&amp;1 |\"\n        or die 'Cannot open EXE';\n    while ( my $line = &lt;$EXE&gt; ) {\n\n        #do something with filter here;\n        print \"$filter : $line\";\n    }\n\n}\n\n$filter = 0;\nthreads-&gt;create( \\&amp;worker );\n\nmy $keypress;\nReadMode 4;\n\nwhile ( threads-&gt;list(threads::running) ) {\n    while ( not defined( $keypress = ReadKey(-1) )\n        and threads-&gt;list(threads::running) )\n    {\n        print \"Waiting\\nRunning:\" . threads-&gt;list(threads::running) . \"\\n\";\n        sleep 1;\n    }\n    print \"Got $keypress\\n\";\n    $filter = $keypress;\n}\nReadMode 0;\n\nforeach my $thr ( threads-&gt;list ) {\n    $thr-&gt;join();\n}\n</code></pre>\n\n<p>This is some fairly simple example code - you can extend it in a variety of ways, but the principle is this:</p>\n\n<ul>\n<li>you start a thread to 'do the work'. </li>\n<li>you handle the 'keypress watching' in the 'main' thread. </li>\n</ul>\n\n<p>Because there's a sleep in there, you're not busy-waiting on a keypress (e.g. polling as fast as a processor will spin). </p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 28457454, "answer_count": 1, "score": 2, "last_activity_date": 1423667099, "creation_date": 1423640845, "question_id": 28449074, "link": "https://stackoverflow.com/questions/28449074/perl-non-blocking-user-input", "title": "Perl non-blocking user input", "body": "<pre><code>#!/usr/bin/perl -w\n\nuse Term::ReadKey;\nReadMode('cbreak');\n\nwhile (1) {\n    $char = ReadKey(-1);\n    next unless defined $char;\n    printf(\"Char: $char Decimal: %d\\tHex: %x\\n\", ord($char), ord($char));\n}\nReadMode('normal');\n</code></pre>\n\n<p>The above works great. But i want to be able to get user input while some executable is running. so i ve tried the below but its not working. maybe running an executable while trying to get a user input is messing up? if so, how do i go about doing it?</p>\n\n<p>I am getting output from $myexe and depending on the user input, i would like to filter differnt things from $myexe</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse Term::ReadKey;\nmy $myexe = 'bin/myexecutable';\nopen my $EXE,\n    \"$myexe distribute 2&gt;&amp;1 |\"\n    or die 'Cannot open EXE';\n\nReadMode('cbreak');\nwhile (&lt;$EXE&gt;) {\n    $char = ReadKey(-1);\n    if (defined $char) {\n        print \"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; $char\\n\"; #i would press a key but nothin prints out\n    }\n    print \"$_\\n\";\n}\nReadMode('normal');\n</code></pre>\n"}, {"tags": ["perl", "sockets"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4197829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d196dc31ca4f65e794e2f3183e7decc7?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4197829/mikhail"}, "edited": false, "score": 0, "creation_date": 1423642725, "post_id": 28449356, "comment_id": 45227093, "body": "I used IO::Select to avoid delay when reading from pipes or exchanging with remote server through already opened sockets. But I don&#39;t understand how to avoid socket connection delay with Select ?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 1, "user_id": 4197829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d196dc31ca4f65e794e2f3183e7decc7?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4197829/mikhail"}, "edited": false, "score": 0, "creation_date": 1423647095, "post_id": 28449356, "comment_id": 45229332, "body": "Hmm, not exactly sure about that. Did you set the <code>O_NONBLOCK</code> option before connecting?"}, {"owner": {"reputation": 1, "user_id": 4197829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d196dc31ca4f65e794e2f3183e7decc7?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4197829/mikhail"}, "edited": false, "score": 1, "creation_date": 1423655199, "post_id": 28449356, "comment_id": 45234105, "body": "Thanks! I tried this before IO::Socket::INET-&gt;new(PeerAddr =&gt; $ip , PeerPort =&gt; 80 , Proto =&gt; &#39;tcp&#39; , Blocking =&gt; 0); And it does not work. Now I set O_NONBLOCK on socket handle with fcntl() and connect() goes without delays! Looks like that it is what I need!"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 1, "last_activity_date": 1423642006, "creation_date": 1423642006, "answer_id": 28449356, "question_id": 28448710, "link": "https://stackoverflow.com/questions/28448710/perl-simultaneous-socket-connection/28449356#28449356", "title": "Perl: simultaneous socket connection", "body": "<p>If you want to go low-level, you can use the built-in <code>select()</code> function to work out which sockets are readable/writable.  There's also the <a href=\"https://metacpan.org/pod/IO::Socket\" rel=\"nofollow\">IO::Socket</a> that adds a more convenient API.</p>\n\n<p>But a better answer is to use one of the event modules like <a href=\"https://metacpan.org/pod/AnyEvent\" rel=\"nofollow\">AnyEvent</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4197829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d196dc31ca4f65e794e2f3183e7decc7?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4197829/mikhail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423642006, "creation_date": 1423639530, "last_edit_date": 1423640088, "question_id": 28448710, "link": "https://stackoverflow.com/questions/28448710/perl-simultaneous-socket-connection", "title": "Perl: simultaneous socket connection", "body": "<p>Can I connect to array of hosts simultaneously?\nWhen I try Socket</p>\n\n<pre><code>use Socket;\nsocket($s, AF_INET, SOCK_STREAM, getprotobyname('tcp'));\nmy $addr = sockaddr_in(80, inet_aton(\"192.168.1.1\"));\nconnect($s, $addr);\n</code></pre>\n\n<p>or IO::Socket</p>\n\n<pre><code>use IO::Socket;\nmy $s = IO::Socket::INET-&gt;new(PeerAddr =&gt; $ip , PeerPort =&gt; 80 , Proto =&gt; 'tcp' , Timeout =&gt; 5);\n</code></pre>\n\n<p>Is there any other way except forking and threading to avoid waiting on establishing connection?\nThe final expected result is array of opened socket handles.</p>\n"}, {"tags": ["apache", "perl", "permission-denied", "cgi-bin"], "comments": [{"owner": {"reputation": 12967, "user_id": 1168588, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BxNie.jpg?s=128&g=1", "display_name": "PaulProgrammer", "link": "https://stackoverflow.com/users/1168588/paulprogrammer"}, "edited": false, "score": 8, "creation_date": 1423636266, "post_id": 28447877, "comment_id": 45224348, "body": "how are you using <code>system()</code>?  Are you including the path, e.g.: <code>system(&#39;&#47;bin&#47;ls&#39;)</code> or just <code>system(&#39;ls&#39;)</code>?  If the latter, chances are very good that the environment simply doesn&#39;t have a path."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1423636772, "post_id": 28447877, "comment_id": 45224557, "body": "And if it&#39;s running in a <code>chroot</code> jail, chances are the binary doesn&#39;t exist inside the jail"}, {"owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "reply_to_user": {"reputation": 12967, "user_id": 1168588, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BxNie.jpg?s=128&g=1", "display_name": "PaulProgrammer", "link": "https://stackoverflow.com/users/1168588/paulprogrammer"}, "edited": false, "score": 0, "creation_date": 1423636798, "post_id": 28447877, "comment_id": 45224564, "body": "Hi @PaulProgrammer, Well I just tried both system(&#39;ls&#39;) and system(&#39;/bin/ls&#39;) commands and both are working without issue. What I&#39;m currently doing is trying to run system(&quot;/var/lib/asterisk/bin/module_admin&quot;, &quot;reload&quot;) or system(&quot;amportal a r&quot;). These are reload command for freepbx asterisk service.  my script own by asterisk:asterisk, and /var/lib/asterisk/bin/module_admin also the same."}, {"owner": {"reputation": 12967, "user_id": 1168588, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BxNie.jpg?s=128&g=1", "display_name": "PaulProgrammer", "link": "https://stackoverflow.com/users/1168588/paulprogrammer"}, "edited": false, "score": 2, "creation_date": 1423636901, "post_id": 28447877, "comment_id": 45224606, "body": "That means that you&#39;re probably just not locating your executable correctly."}, {"owner": {"reputation": 870, "user_id": 604464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c71612818ca9b86bc9906d47afd0e2f?s=128&d=identicon&r=PG", "display_name": "ratsbane", "link": "https://stackoverflow.com/users/604464/ratsbane"}, "edited": false, "score": 0, "creation_date": 1424099156, "post_id": 28447877, "comment_id": 45401904, "body": "Can you post the results of ls -l /var/lib/asterisk/bin ?  Apache is probably running as a user who doesn&#39;t have permissions to execute module_admin.  The solution might be as simple as adding execute permission to that executable for group and all, e.g. chmod +x /var/lib/asterisk/bin/module_admin - though there are security implications of this.  Don&#39;t do that if you&#39;re not sure that you want any user on the system to be able to run module_admin."}, {"owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "reply_to_user": {"reputation": 870, "user_id": 604464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c71612818ca9b86bc9906d47afd0e2f?s=128&d=identicon&r=PG", "display_name": "ratsbane", "link": "https://stackoverflow.com/users/604464/ratsbane"}, "edited": false, "score": 0, "creation_date": 1424321022, "post_id": 28447877, "comment_id": 45503694, "body": "@ratsbane Thanks for your reply. Perrmission was 730 for the /var/lib/asterisk/bin/module_admin. I gave 731 but no luck. Both files are owned my asterisk user. I wonder by which user get run my perl script when I run it from web url. Can&#39;t exec &quot;/var/lib/asterisk/bin/module_admin&quot;: Permission denied"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user354134"}, "edited": false, "score": 1, "creation_date": 1496233718, "post_id": 28828449, "comment_id": 75576281, "body": "<a href=\"https://httpd.apache.org/docs/2.4/howto/cgi.html\" rel=\"nofollow noreferrer\">httpd.apache.org/docs/2.4/howto/cgi.html</a> recommends not using suexec at all unless you &quot;know what you&#39;re doing&quot; (which I never do)."}], "tags": [], "owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1425375634, "creation_date": 1425375634, "answer_id": 28828449, "question_id": 28447877, "link": "https://stackoverflow.com/questions/28447877/how-to-allow-perl-cgi-bin-script-to-run-system-commands/28828449#28828449", "title": "How to allow perl cgi-bin script to run system commands?", "body": "<p>Ok, Found the problem and fixed.</p>\n\n<p>Steps I followed:</p>\n\n<pre><code>apt-get install apache2-suexec-custom\na2enmod suexec\n/etc/init.d/apache2 reload\n</code></pre>\n\n<p>Then go to website apache config and added <code>SuexecUserGroup asterisk asterisk</code>\nin here asterisk is the use that I didn't have the permission to run commands.</p>\n\n<p>Then go to <code>/etc/apache2/suexec/www-data</code> and you will see 2 un-comment lines. We need to give correct absolute path for cgi-bin and alias path for the cgi-bin. By default it have <code>/var/www</code> and <code>public_html/cgi-bin</code>.</p>\n\n<p>That's it. This fixed my problem.</p>\n"}], "owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2095, "favorite_count": 0, "accepted_answer_id": 28828449, "answer_count": 1, "score": 0, "last_activity_date": 1425375634, "creation_date": 1423636086, "question_id": 28447877, "link": "https://stackoverflow.com/questions/28447877/how-to-allow-perl-cgi-bin-script-to-run-system-commands", "title": "How to allow perl cgi-bin script to run system commands?", "body": "<p>I'm currently working on developing a perl script as a cgi-bin in my website.</p>\n\n<p>I successfully config it to run without any issues. Here are the config I have done for it.</p>\n\n<pre><code>ScriptAlias /cgi-bin/ /my web directory/cgi-bin/\n    &lt;Directory /my web directory/cgi-bin/&gt;\n        Options ExecCGI\n        AddHandler cgi-script cgi pl\n    &lt;/Directory&gt;\n</code></pre>\n\n<p>But I cannot use system() function in the script to run some system commands.\nIt gives Can't exec, No such file or directory\nor Permission denied.</p>\n\n<p>What should add you apache config to allow cgi-bin to run those commands?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1423634101, "post_id": 28447336, "comment_id": 45223661, "body": "Are you using a Windows machine?  On my Mac (OS X 10.10.2, Perl 5.20.1), the output is 4 bytes, <code>0x02</code>, <code>0x01</code>, (or control-B, control-A) and two newlines."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1423634214, "post_id": 28447336, "comment_id": 45223694, "body": "Works as designed. <a href=\"https://metacpan.org/pod/perldata#Version-Strings\" rel=\"nofollow noreferrer\">metacpan.org/pod/perldata#Version-Strings</a>"}, {"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1423635792, "post_id": 28447336, "comment_id": 45224197, "body": "@JonathanLeffler Yes I&#39;m on windows machine. perl v5.18.2"}], "answers": [{"comments": [{"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "edited": false, "score": 0, "creation_date": 1423635618, "post_id": 28447648, "comment_id": 45224144, "body": "I want to print <code>2.1</code>. First option can do it."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "edited": false, "score": 0, "creation_date": 1423674814, "post_id": 28447648, "comment_id": 45246671, "body": "note that all but the first will take any form of version; the first will be very unhelpful if given a non-v-string version"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 9, "last_activity_date": 1423634984, "creation_date": 1423634984, "answer_id": 28447648, "question_id": 28447336, "link": "https://stackoverflow.com/questions/28447336/how-to-print-v-string/28447648#28447648", "title": "how to print v-string?", "body": "<p>What do you mean by print v-strings?  What output do you want?</p>\n\n<p>You could do this:</p>\n\n<pre><code>printf \"%vd\", $VERSION;  # prints \"2.1\"\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>print version::-&gt;parse($VERSION)-&gt;stringify; # prints \"v2.1\"\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>print version::-&gt;parse($VERSION)-&gt;normal; # prints \"v2.1.0\"\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>print version::-&gt;parse($VERSION)-&gt;numify; # prints \"2.001000\"\n</code></pre>\n\n<p>Or (best choice of all) you could just avoid using v-strings altogether.</p>\n"}, {"tags": [], "owner": {"reputation": 351, "user_id": 7297931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4elw.png?s=128&g=1", "display_name": "Rajesh Kumar Raj", "link": "https://stackoverflow.com/users/7297931/rajesh-kumar-raj"}, "is_accepted": false, "score": 2, "last_activity_date": 1491485346, "creation_date": 1491485346, "answer_id": 43256662, "question_id": 28447336, "link": "https://stackoverflow.com/questions/28447336/how-to-print-v-string/43256662#43256662", "title": "how to print v-string?", "body": "<p>In Simpler terms, V-Strings are used to convert ASCII numbers to characters.</p>\n\n<p>For example, if we need to print a string \"car\" using V-String, we need to lookup ASCII value for each character in ASCII table (<a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">http://www.asciitable.com/</a>)</p>\n\n<p>c = 99,a = 97,r = 114</p>\n\n<p>So,</p>\n\n<pre><code>$var  = v99.97.114;\nprint(\"$var \\n\");\n</code></pre>\n\n<p>The above statement will print \"car\"</p>\n"}], "owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1949, "favorite_count": 0, "accepted_answer_id": 28447648, "answer_count": 2, "score": 4, "last_activity_date": 1491485346, "creation_date": 1423633321, "question_id": 28447336, "link": "https://stackoverflow.com/questions/28447336/how-to-print-v-string", "title": "how to print v-string?", "body": "<p>how to print v-string?</p>\n\n<pre><code>our $VERSION = v2.1;\nprint \"$VERSION\\n\\n\";\n</code></pre>\n\n<p>prints smileys. \n<code>\u263b\u263a</code><br></p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 7, "last_activity_date": 1423630606, "creation_date": 1423630606, "answer_id": 28446876, "question_id": 28446773, "link": "https://stackoverflow.com/questions/28446773/what-are-the-avaialble-compilers-interpreters-for-perl-5/28446876#28446876", "title": "What are the avaialble compilers/interpreters for Perl 5?", "body": "<p>Ignore perlcc; <a href=\"http://www.perlmonks.org/?node_id=654568\">it is no longer part of Perl</a>, and will only confuse you*.</p>\n\n<p>Perl is an interpreted language. Upon startup, the Perl interpreter parses the source code of a script and executes it immediately. While there is an intermediate representation (the optree), it is purely in memory, and is not reused.</p>\n\n<p>There is only one Perl interpreter. There are no alternate implementations.</p>\n\n<p>(If you're curious: perlcc worked by storing the optree as constant data in an executable which linked against the Perl interpreter. This was a dubious optimization; it didn't actually save much startup time, didn't affect runtime at all, and broke many scripts. It wasn't actually transforming the Perl script to C.)</p>\n"}], "owner": {"reputation": 625, "user_id": 3970193, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8603ff901556ada8180282750eda599?s=128&d=identicon&r=PG", "display_name": "Gaara", "link": "https://stackoverflow.com/users/3970193/gaara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 28446876, "answer_count": 1, "score": 2, "last_activity_date": 1423630606, "creation_date": 1423630022, "question_id": 28446773, "link": "https://stackoverflow.com/questions/28446773/what-are-the-avaialble-compilers-interpreters-for-perl-5", "title": "What are the avaialble compilers/interpreters for Perl 5?", "body": "<p>Like C where gcc, borland and many more compilers are available, I am wondering whether any other Compiler/Interpreters are available for Perl 5?</p>\n\n<p>From my reading, I understand there was perlcc which compiled the code into B:OP format and then interpreter was used to convert the optree to machine executable. </p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 3055, "user_id": 2865186, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ehbWg.jpg?s=128&g=1", "display_name": "MattSizzle", "link": "https://stackoverflow.com/users/2865186/mattsizzle"}, "edited": false, "score": 0, "creation_date": 1423626156, "post_id": 28446161, "comment_id": 45221636, "body": "All out-bound requests are made via the primary IP address bound to <code>eth0</code>, as the other IPs are really aliases of that IP address most of the time. If you want to force a specific source address to be used for specific destinations, you can do it with a SNAT rule, but I imagine you will get alot more help on this subject on <a href=\"http://serverfault.com/\">Server Fault</a>"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 4054031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M7O6d.png?s=128&g=1", "display_name": "JOB", "link": "https://stackoverflow.com/users/4054031/job"}, "is_accepted": true, "score": 0, "last_activity_date": 1423626279, "creation_date": 1423626279, "answer_id": 28446254, "question_id": 28446161, "link": "https://stackoverflow.com/questions/28446161/specify-source-ip-connecting-to-mysql/28446254#28446254", "title": "Specify source IP connecting to Mysql", "body": "<p>I wish you showed me how you are trying to connect, I mean the Code, but Basically what you do in php, Define the Host as:</p>\n\n<pre><code>$hostname=$hostip;//$hostipaddress is supposed to be the Static Ip address of your Webserver, \n</code></pre>\n\n<p>If the problem persists, please Define your host Ip address using the parameters and Call it everytime you want to use it, so that it will be taking the current time Ipaddress. I hope that helps you. </p>\n"}], "owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 28446254, "answer_count": 1, "score": 0, "last_activity_date": 1423626279, "creation_date": 1423625634, "question_id": 28446161, "link": "https://stackoverflow.com/questions/28446161/specify-source-ip-connecting-to-mysql", "title": "Specify source IP connecting to Mysql", "body": "<p>I have a webserver with multiple IP addresses.\nWhenver I attempt to connect to a remote DB server using perl DBI ( or even php ) the source IP is the primary IP address of the machine</p>\n\n<p>How can I change the source IP address.\nOne of the secondary IP addresses is alone allowed to connect to the DB. </p>\n"}, {"tags": ["perl", "cross-platform"], "comments": [{"owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "edited": false, "score": 1, "creation_date": 1423625016, "post_id": 28446016, "comment_id": 45221342, "body": "You&#39;ll need to show us what comes before this in the function. My guess is that <code>$1</code> and <code>$2</code> come from a string match. As to <code>cut</code>, see <a href=\"http://linux.die.net/man/1/cut\" rel=\"nofollow noreferrer\">the man page</a>."}, {"owner": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "reply_to_user": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "edited": false, "score": 0, "creation_date": 1423625876, "post_id": 28446016, "comment_id": 45221569, "body": "Thanks. Perl has lots of crazy reserved variables. I wasn&#39;t sure it $1, $2 were in that category. They now become irrelevant."}, {"owner": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "reply_to_user": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "edited": false, "score": 0, "creation_date": 1423626346, "post_id": 28446016, "comment_id": 45221677, "body": "Re man page is how I learned about the delimiter, field and $file values. I&#39;m looking for native Perl code to replace this. Is it as straight forward as open(), &lt;while&gt;, regex the second field, add results to a hash and report size of hash as <code>$count</code> when complete? Or does Perl have a better way of doing this?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423627804, "post_id": 28446016, "comment_id": 45222022, "body": "<i>\u201cmulti-hundreds of megabytes\u201d</i> isn&#39;t too bad. 500MB would take about five seconds to read from disk, and the associated processing time to extract the second field would be insignificant."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423626682, "post_id": 28446184, "comment_id": 45221768, "body": "I don&#39;t see the point of <code>sort</code> here, especially <i>before</i> <code>uniq</code>, if the result is just a line count. Also, <code>sort</code> sorts in <i>ascending</i> order."}, {"owner": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "edited": false, "score": 0, "creation_date": 1423627183, "post_id": 28446184, "comment_id": 45221885, "body": "MattSizzle. I got most of that from cut&#39;s manpage. I&#39;m trying to replace the line with native Perl so that it runs on Windows. Yet, I&#39;m not familiar with Perl."}], "tags": [], "owner": {"reputation": 3055, "user_id": 2865186, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ehbWg.jpg?s=128&g=1", "display_name": "MattSizzle", "link": "https://stackoverflow.com/users/2865186/mattsizzle"}, "is_accepted": false, "score": 0, "last_activity_date": 1423625786, "creation_date": 1423625786, "answer_id": 28446184, "question_id": 28446016, "link": "https://stackoverflow.com/questions/28446016/what-native-perl-code-replaces-cut/28446184#28446184", "title": "What native Perl code replaces `cut`?", "body": "<p>Well $1, and $2 are previously defined variables. No telling how/where/why without additional code, but the command can be broken down as follows:</p>\n\n<pre><code>my $count = `cut -d\\\\  -f 2 $file | sort | uniq | wc -l`;\n</code></pre>\n\n<blockquote>\n  <p>-d, sets the delimiter to \\ (\\ is used to escape the \\ as it is a special character). -f, tells cut to extract the second field (what is between the first and second delimiter)</p>\n</blockquote>\n\n<p><strong>Example</strong>:</p>\n\n<pre><code>cut -d\\\\ -f 2 &lt;&lt;&lt; $(echo \"FIELD 1\\FIELD2\\THE_REMAINDER\")\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>FIELD2\n</code></pre>\n\n<p>The remaining commands that go through the pipes are as follows:</p>\n\n<p><code>sort</code> will take the list of fields and order them descending in value. </p>\n\n<p><code>uniq</code> will remove duplicates.</p>\n\n<p><code>wc -l</code> will give you a final total of the number of entries in your list (really it is the number of lines)</p>\n\n<p>So in order to replicate this with a non-unix based solution you need to complete each of those steps systematically via <code>Perl</code>. This should not be hard to accomplish so I have omitted that part. Feel free to update your question with what you have tried and Im sure there will be a ton of assistance provided as this is a pretty interesting challenge IMHO.</p>\n"}, {"comments": [{"owner": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "edited": false, "score": 0, "creation_date": 1423628054, "post_id": 28446423, "comment_id": 45222067, "body": "Thanks, Borodin. This works. As for the &quot;real version&quot;... this is the real version. It&#39;s three lines out of almost 2,300 lines of code. The other variables are used in other places within its function. These lines set the $count, which is also used elsewhere. Without the external references, this script will now run on non-Posix systems without <code>cut</code>, <code>uniq</code>, <code>wc</code>, etc. but maybe a little slower. That&#39;s fine."}, {"owner": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "edited": false, "score": 0, "creation_date": 1423628156, "post_id": 28446423, "comment_id": 45222090, "body": "Yes. Tested on a small test data set of 200 lines. Testing in production environment will take longer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "edited": false, "score": 0, "creation_date": 1423628256, "post_id": 28446423, "comment_id": 45222122, "body": "As I wrote, it&#39;s likely to be slightly <i>faster</i>. But the <code>$count</code> variable is accessible only between the <code>my</code> declaration and the closing brace on the next line. It&#39;s not available outside the <code>if</code>. The same applies to your original code."}, {"owner": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "edited": false, "score": 0, "creation_date": 1423628663, "post_id": 28446423, "comment_id": 45222210, "body": "Yes, there are two lines of code inside the <code>if</code> that use <code>$count</code> value. I dropped them from this example for brevity. Thank you for the clarification."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1423627988, "last_edit_date": 1423627988, "creation_date": 1423627491, "answer_id": 28446423, "question_id": 28446016, "link": "https://stackoverflow.com/questions/28446016/what-native-perl-code-replaces-cut/28446423#28446423", "title": "What native Perl code replaces `cut`?", "body": "<p><code>$1</code> <code>$2</code> etc. are internal Perl variables that hold the contents of the first, second etc. <em>captures</em> from the most recent successful regex pattern match.</p>\n\n<p>This should do what you want. It uses a hash to keep track of all the unique values for the second column, and sets <code>$count</code> to the number of different keys when the file has been read through. It's likely to be slightly faster than the tool chain equivalent. Note that it's <em>untested</em> as I'm not near a system with Perl at present.</p>\n\n<p>I hope there's something more in the real version of this code, as the only effect this has is to change the values of a couple of local variables which are discarded at the end of the block.</p>\n\n<pre><code>if ( defined $OPTIONS ) {\n    my ($method, $file) = ($1, $2);\n    open my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n    my %count;\n    ++$count{ (split /\\\\/, $_, 3)[1] } while &lt;$fh&gt;;\n    my $count = keys %count;\n}\n</code></pre>\n"}], "owner": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 28446423, "answer_count": 2, "score": 1, "last_activity_date": 1423627988, "creation_date": 1423624770, "question_id": 28446016, "link": "https://stackoverflow.com/questions/28446016/what-native-perl-code-replaces-cut", "title": "What native Perl code replaces `cut`?", "body": "<p>I'm learning Perl as I edit a Perl script to replace Posix OS calls to native Perl functions for cross-platform use on Windows. This code has me stumped:</p>\n\n<pre><code>if (defined($OPTIONS)) {\n    my ($method,$file) = ($1,$2);\n    my $count = `cut -d\\\\  -f 2 $file | sort | uniq | wc -l`;\n}\n</code></pre>\n\n<p>1) Where do <code>$1</code> and <code>$2</code> come from? This code is inside a function but the function doesn't have any arguments. Also, script itself parses over 70 named arguments, so they're not form the command line.</p>\n\n<p>2) Since I don't know what <code>$2</code> is, I'm not sure of the content of <code>$file</code>.</p>\n\n<p>3) Whatever the content of <code>$file</code>, the <code>cut</code> function looks at the second field, as delimited by a backslash, of each line. </p>\n\n<p>4) It looks like the ultimate result is the <code>$count</code> of unique instances of whatever <code>cut</code> found.</p>\n\n<p>Considering <code>$file</code> could be quite large (million lines, multi-hundreds of megabytes), what is the most efficient native Perl code to replace this external call and get the same <code>$count</code> value? Also \"efficient\" is relative. This code is in a tool chain where other stages can run for 2 or 3 days. So, it's not a problem if this code requires 5 or 10 minutes on a large file.</p>\n"}, {"tags": ["regex", "perl", "unit-testing"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1423624334, "post_id": 28445939, "comment_id": 45221144, "body": "What&#39;s your input and expected output?"}, {"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1423624800, "post_id": 28445939, "comment_id": 45221270, "body": "Hello Avinash, My expected output is abcunit, hedhdunit ewedfunit eedunit line by line in an array."}, {"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 0, "creation_date": 1423624888, "post_id": 28445939, "comment_id": 45221298, "body": "What does your data actually look like?"}, {"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1423625117, "post_id": 28445939, "comment_id": 45221370, "body": "unit : abcunit unit : hedhdunit unit : ewedfunit unit : eedunit"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1423625253, "post_id": 28446031, "comment_id": 45221414, "body": "Hey Paul. it is matching both words cause both words have unit in comman. How can I get only second word. Like abcunit"}, {"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1423625566, "post_id": 28446031, "comment_id": 45221487, "body": "Yeah I got it thanks paul."}, {"owner": {"reputation": 38670, "user_id": 870248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/862c89e44433fc911c4af648dbd1c9d0?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Vargas", "link": "https://stackoverflow.com/users/870248/paul-vargas"}, "reply_to_user": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1423625755, "post_id": 28446031, "comment_id": 45221533, "body": "You&#39;re welcome. Do not forget that if an answer solves  your question satisfactorily, you can <a href=\"http://meta.stackoverflow.com/a/5235/227183\">accept it</a>. ;-)"}, {"owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "edited": false, "score": 0, "creation_date": 1423626243, "post_id": 28446031, "comment_id": 45221656, "body": "I would be glad to do that when I will have reputation 15+."}], "tags": [], "owner": {"reputation": 38670, "user_id": 870248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/862c89e44433fc911c4af648dbd1c9d0?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Vargas", "link": "https://stackoverflow.com/users/870248/paul-vargas"}, "is_accepted": false, "score": 1, "last_activity_date": 1423625408, "last_edit_date": 1423625408, "creation_date": 1423624944, "answer_id": 28446031, "question_id": 28445939, "link": "https://stackoverflow.com/questions/28445939/perl-regex-match/28446031#28446031", "title": "Perl Regex match", "body": "<p>You can try the following regular expression:</p>\n\n<pre><code>\\b[a-z]+unit\\b\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Riv39.png\" alt=\"visual regex\"></p>\n\n<p>Explanation of the regular expression:</p>\n\n<pre><code>NODE                     EXPLANATION\n--------------------------------------------------------------------------------\n  \\b                       the boundary between a word char (\\w) and\n                           something that is not a word char\n--------------------------------------------------------------------------------\n  [a-z]+                   any character of: 'a' to 'z' (1 or more\n                           times (matching the most amount possible))\n--------------------------------------------------------------------------------\n  unit                     'unit'\n--------------------------------------------------------------------------------\n  \\b                       the boundary between a word char (\\w) and\n                           something that is not a word char\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "is_accepted": false, "score": 2, "last_activity_date": 1423625347, "creation_date": 1423625347, "answer_id": 28446109, "question_id": 28445939, "link": "https://stackoverflow.com/questions/28445939/perl-regex-match/28446109#28446109", "title": "Perl Regex match", "body": "<p>The following should do what you need.</p>\n\n<pre><code>my @matches = $str =~ /\\b\\w+unit\\b/g;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "closed_date": 1423841139, "answer_count": 2, "score": 1, "last_activity_date": 1423627801, "creation_date": 1423624245, "last_edit_date": 1423627801, "question_id": 28445939, "link": "https://stackoverflow.com/questions/28445939/perl-regex-match", "closed_reason": "Needs more focus", "title": "Perl Regex match", "body": "<p>I want to match only words like \"abcunit\", \"hedhdunit\", \"ewedfunit\"  and get into array from a text file using regex. Can any one please tell how can I get only that word in line. So for I am using /(....unit)/g but the charcters before \"unit\" are varying. Can any one please tell perfect regex for this. Any help will be greatly appreciated.</p>\n\n<p>unit : abcunit</p>\n\n<p>unit : hedhdunit </p>\n\n<p>unit : ewedfunit </p>\n\n<p>unit : eedunit  </p>\n"}, {"tags": ["perl", "error-handling", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423617263, "post_id": 28444823, "comment_id": 45219319, "body": "Well that isn&#39;t what I wrote. You need <code>use &#39;MyModule&#39;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3237949"}, "edited": false, "score": 0, "creation_date": 1423619820, "post_id": 28444823, "comment_id": 45219987, "body": "My old comment is not longer valid it was meant for the previous version of your answer. Anyway it works so thank you."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1423617160, "last_edit_date": 1423617160, "creation_date": 1423616456, "answer_id": 28444823, "question_id": 28444773, "link": "https://stackoverflow.com/questions/28444773/custom-missing-module-message/28444823#28444823", "title": "Custom missing module message", "body": "<p>To catch an exception in Perl you should use the <code>eval</code> operator. If the code passed to <code>eval</code> dies, then the error message is put into <code>$@</code> instead for you to use however you like.</p>\n\n<p>It would look something like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nBEGIN {\n\n  eval 'use Xyz';\n\n  if ( $@ ) {\n    if ( $@ =~ /Can't locate (\\S+)/ ) {\n      warn \"$1 isn't installed\";\n    }\n    else {\n      die $@;\n    }\n  }\n}\n\nsay 'Continuing...';\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Xyz.pm isn't installed at E:\\Perl\\source\\trap use.pl line 9.\nContinuing...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1423620921, "creation_date": 1423620921, "answer_id": 28445471, "question_id": 28444773, "link": "https://stackoverflow.com/questions/28444773/custom-missing-module-message/28445471#28445471", "title": "Custom missing module message", "body": "<p>You can use an <code>@INC</code> hook to do this:</p>\n\n<pre><code>BEGIN { push @INC, sub { Carp::croak \"Couldn't find $_[1]\" } }\nuse Xyz;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3237949"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 28444823, "answer_count": 2, "score": 1, "last_activity_date": 1423620921, "creation_date": 1423616100, "question_id": 28444773, "link": "https://stackoverflow.com/questions/28444773/custom-missing-module-message", "title": "Custom missing module message", "body": "<p>I would like to be able to output a custom error message to STDERR if one of my modules cannot be found.</p>\n\n<p>From what I understand if I import the module with the use command the lack of the module will be discovered prior to my script being executed which poses a significant problem to achieving the result that I am looking for.</p>\n\n<p>Basically what I am looking for is a Perl equivalent of catching the ImportError exception in Python.</p>\n"}, {"tags": ["perl", "file", "usleep"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 4, "creation_date": 1423611470, "post_id": 28443921, "comment_id": 45217537, "body": "Perhaps you should show the code you are asking a question about."}, {"owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "edited": false, "score": 2, "creation_date": 1423611687, "post_id": 28443921, "comment_id": 45217614, "body": "Yeah, that would help"}], "answers": [{"comments": [{"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "edited": false, "score": 2, "creation_date": 1423615399, "post_id": 28443949, "comment_id": 45218801, "body": "Another alternative to Time::HiRes is using the <code>select</code> function. For example, to effect a sleep of 250 milliseconds: <code>select(undef, undef, undef, 0.25);</code> However, Time::HiRes is a core mod, and probably the perferred method."}], "tags": [], "owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "is_accepted": false, "score": 8, "last_activity_date": 1423611352, "creation_date": 1423611352, "answer_id": 28443949, "question_id": 28443921, "link": "https://stackoverflow.com/questions/28443921/cant-exec-usleep-in-perl-language/28443949#28443949", "title": "Cant exec &quot;usleep&quot; in Perl language", "body": "<p>Instead of executing an external program, you may want to look into the <a href=\"https://metacpan.org/pod/Time::HiRes\">Time::HiRes</a> module. This can do what you want in a more straightforward manner.</p>\n\n<pre><code>use Time::HiRes 'usleep';\n\nusleep($microseconds);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4400929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e468f6ee9b4292fda56724f5988275?s=128&d=identicon&r=PG&f=1", "display_name": "Dav36id", "link": "https://stackoverflow.com/users/4400929/dav36id"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1423611352, "creation_date": 1423611170, "question_id": 28443921, "link": "https://stackoverflow.com/questions/28443921/cant-exec-usleep-in-perl-language", "title": "Cant exec &quot;usleep&quot; in Perl language", "body": "<p>Im learning Perl and I have one problem. I designed an easy program, but when I run it this error appears:</p>\n\n<pre><code>Can not exec \"usleep\": The file or directory does not exist at line 22 example.pl.\n\nCan not exec \"usleep\": The file or directory does not exist at line 65 example.pl.\n</code></pre>\n\n<p>How can solve it? Thanks.</p>\n"}, {"tags": ["algorithm", "perl", "matrix"], "comments": [{"owner": {"reputation": 41174, "user_id": 270287, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1GwpB.jpg?s=128&g=1", "display_name": "IVlad", "link": "https://stackoverflow.com/users/270287/ivlad"}, "edited": false, "score": 1, "creation_date": 1423608455, "post_id": 28443343, "comment_id": 45216324, "body": "What exactly isn&#39;t working? Memory issues as in what? Index out of range, out of memory, taking too long - all could be considered &quot;memory issues&quot;..."}], "answers": [{"tags": [], "owner": {"reputation": 41174, "user_id": 270287, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1GwpB.jpg?s=128&g=1", "display_name": "IVlad", "link": "https://stackoverflow.com/users/270287/ivlad"}, "is_accepted": false, "score": 1, "last_activity_date": 1423608775, "creation_date": 1423608775, "answer_id": 28443443, "question_id": 28443343, "link": "https://stackoverflow.com/questions/28443343/needleman-wunsch-algorithm-perl/28443443#28443443", "title": "Needleman Wunsch Algorithm (perl)", "body": "<pre><code>for($x = 1; $x &lt; $len2; $x++) { # going through sequence1\n   for($y = 1; $y &lt; $len1; $y++) { # going through sequence2\n</code></pre>\n\n<p>Wrong, the first loop, as written, goes through <code>sequence2</code> and the second through <code>sequence1</code>.</p>\n\n<p>So it looks like you've inverted your indexes. This can lead to index out of range errors and also slower execution time in some cases.</p>\n\n<p>Possible fix: swap <code>len2</code> and <code>len1</code> in the code above.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1423614920, "last_edit_date": 1423614920, "creation_date": 1423614539, "answer_id": 28444476, "question_id": 28443343, "link": "https://stackoverflow.com/questions/28443343/needleman-wunsch-algorithm-perl/28444476#28444476", "title": "Needleman Wunsch Algorithm (perl)", "body": "<p>I can't see why you're running out of memory, but you have some off-by-one errors. The matrix has one more columns than there are bases in sequence 1, and one more rows than there are bases in sequence 2. That means your indices should run from 0 to <code>$len1</code> and 0 to <code>$len2</code>, but you are stopping one short.</p>\n\n<p>This should help you. It builds the array correctly, but I haven't written the next step which is to track optimum paths through the diagonal.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util 'max';\n\nSTDOUT-&gt;autoflush;\n\nmy ($seq1, $seq2) = qw/ ACTTCAATCGGT ACTGGTCAATCGGT /;\nmy ($len1, $len2) = map length, $seq1, $seq2;\nmy @seq1 = $seq1 =~ /./g;\nmy @seq2 = $seq2 =~ /./g;\n\nmy @matrix;\n$matrix[$_][0] = -$_ for 0 .. $len2;\n$matrix[0][$_] = -$_ for 0 .. $len1;\n\nfor my $x ( 1 .. $len2 ) {     # Rows (bases of sequence 2)\n    for my $y ( 1 .. $len1 ) { # Columns (bases of sequence 1)\n\n        my $match = $seq1[$y-1] eq $seq2[$x-1];\n\n        my @scores = (\n          $matrix[$x-1][$y] - 1,  # Up\n          $matrix[$x][$y-1] - 1,  # Left\n          $match ? $matrix[$x-1][$y-1] + 1 : $matrix[$x-1][$y-1] - 1, # Diagonal\n        );\n\n        $matrix[$x][$y] = max @scores;\n    }        \n}\n\nfor my $i ( 0 .. $len2 ) {\n    my $row = $matrix[$i];\n    print join(' ', map { sprintf '%3d', $_ } @$row), \"\\n\";\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>  0  -1  -2  -3  -4  -5  -6  -7  -8  -9 -10 -11 -12\n -1   1   0  -1  -2  -3  -4  -5  -6  -7  -8  -9 -10\n -2   0   2   1   0  -1  -2  -3  -4  -5  -6  -7  -8\n -3  -1   1   3   2   1   0  -1  -2  -3  -4  -5  -6\n -4  -2   0   2   2   1   0  -1  -2  -3  -2  -3  -4\n -5  -3  -1   1   1   1   0  -1  -2  -3  -2  -1  -2\n -6  -4  -2   0   2   1   0  -1   0  -1  -2  -2   0\n -7  -5  -3  -1   1   3   2   1   0   1   0  -1  -1\n -8  -6  -4  -2   0   2   4   3   2   1   0  -1  -2\n -9  -7  -5  -3  -1   1   3   5   4   3   2   1   0\n-10  -8  -6  -4  -2   0   2   4   6   5   4   3   2\n-11  -9  -7  -5  -3  -1   1   3   5   7   6   5   4\n-12 -10  -8  -6  -4  -2   0   2   4   6   8   7   6\n-13 -11  -9  -7  -5  -3  -1   1   3   5   7   9   8\n-14 -12 -10  -8  -6  -4  -2   0   2   4   6   8  10\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 2860653, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/642340182/picture?type=large", "display_name": "Borys Ostapienko", "link": "https://stackoverflow.com/users/2860653/borys-ostapienko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1256, "favorite_count": 0, "accepted_answer_id": 28444476, "answer_count": 2, "score": 1, "last_activity_date": 1423614920, "creation_date": 1423608376, "last_edit_date": 1423609044, "question_id": 28443343, "link": "https://stackoverflow.com/questions/28443343/needleman-wunsch-algorithm-perl", "title": "Needleman Wunsch Algorithm (perl)", "body": "<p>So my problem is trying to implement the Needleman Wunsch algorithim and the gapscores for the vertical and horizontal run out of memory and do not implement correctly. It is probably a simple loop miscalculation in memory but for the life of me I am unable to see it. Here is the code:</p>\n\n<pre><code>$seq1 = \"ACTTCAATCGGT\";\n$seq2 = \"ACTGGTCAATCGGT\";\n$len1 = length($seq1);\n$len2 = length($seq2);\n</code></pre>\n\n<p>The sequence above.</p>\n\n<pre><code>@matrix = ();\nmy $gapscore = -1;\n\nmy $matchscore = 1;\nmy $mismatchscore = 0;\n$matrix[0][0] = 0;\n\n# initialize 1st row and 1st column of matrix decreasing by $gapscore\nfor ($i = 1; $i &lt; $len1; $i++) {\n    $matrix[$i][0] = $gapscore;\n    $gapscore--;\n}\n\n$gapscore = -1; \n\nfor ($j = 1; $j &lt; $len2; $j++) {\n     $matrix[0][$j] = $gapscore;         \n     $gapscore--;\n\n}\n\n$gapscore = -1; \n</code></pre>\n\n<p>So the code above correctly implements the matrix spots with 0...n and 0...n going horizontally and vertically. The next code attempts to implement the matrix by filling in the rest of the values in the matrix. </p>\n\n<pre><code>for($x = 1; $x &lt; $len2; $x++) { # going through sequence1\n   for($y = 1; $y &lt; $len1; $y++) { # going through sequence2\n\n        my ($diagonal, $horizontal, $vertical); \n\n        my $Firstletter = substr($seq1,$x-1,1);\n        my $Secondletter = substr($seq2,$y-1,1); \n\n\n        # gap scores:\n        $vertical = $matrix[$x-1][$y] + $gapscore;\n        $horizontal = $matrix[$x][$y-1] + $gapscore;\n\n        # matching scores on diagonal:\n        if($Firstletter eq $Secondletter) {\n             $diagonal = $matrix[$x-1][$y-1] + $matchscore;\n        }\n        else {\n             $diagonal = $matrix[$x-1][$y-1] + $mismatchscore;\n        } \n    }\n}\n</code></pre>\n\n<p>The vertical and horizontal variables are causing memory issues. I'm not sure why. If anyone could provide some insight I would greatly appreciate it!</p>\n"}, {"tags": ["regex", "xml", "json", "perl", "xml-parsing"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1423609611, "post_id": 28443160, "comment_id": 45216792, "body": "You might like to read <a href=\"http://www.perlmonks.org/index.pl?node_id=218480\" rel=\"nofollow noreferrer\">this article</a> on using XML::Simple.  One thing that worries me about your code is are there any XML elements that could repeat?  For example, could a <code>&lt;Home&gt;</code> have more than one <code>&lt;Laptop&gt;</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1423609798, "post_id": 28443160, "comment_id": 45216860, "body": "Don&#39;t use XML::Simple. It isn&#39;t. It is for simple XML. Try something like XML::Twig instead."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1423609799, "post_id": 28443160, "comment_id": 45216861, "body": "Re. <i>&quot;I am trying to use only perl built in libraries not any new third party libraries that is the reason i used XML::Simple.&quot;</i> <code>XML::Simple</code> is not a core module...what other non-core modules does your company deem acceptable?"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1423628957, "post_id": 28443160, "comment_id": 45222278, "body": "@GrantMcLean: yes XML might have repeated elements, do you think code wont be able to handle this condition?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1423641300, "post_id": 28443160, "comment_id": 45226420, "body": "Yes, the fact that you have not used either the ForceArray or KeyAttr options recommended in the article I linked means that the shape of the data structure will change significantly when elements are repeated.  <a href=\"http://www.perlmonks.org/index.pl?node_id=218480\" rel=\"nofollow noreferrer\">Read the article</a> :-)"}], "answers": [{"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1423608898, "post_id": 28443303, "comment_id": 45216516, "body": "Yes this should work but only for those XML when path to element &quot;FileName&quot; is always same but if path changes then this wont produce the required value. Can you suggest something which is not hard coded?"}, {"owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1423608993, "post_id": 28443303, "comment_id": 45216554, "body": "You&#39;d have to walk the data structure, but I&#39;d suggest Data::Diver, or getting a XML library in place that supports xpath - <a href=\"http://stackoverflow.com/questions/3700069/how-can-i-check-if-a-key-exists-in-a-deep-perl-hash\" title=\"how can i check if a key exists in a deep perl hash\">stackoverflow.com/questions/3700069/&hellip;</a>"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1423622866, "post_id": 28443303, "comment_id": 45220814, "body": "I am not able to reproduce the the way you mentioned can you give an example?"}], "tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": false, "score": 1, "last_activity_date": 1423608193, "creation_date": 1423608193, "answer_id": 28443303, "question_id": 28443160, "link": "https://stackoverflow.com/questions/28443160/xml-to-json-conversion-using-perl/28443303#28443303", "title": "XML to JSON conversion using perl", "body": "<p>As <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow\">XML::Simple</a> docs note, it 'slurps' the XML into a data structure analogous to the input XML. Thus, to figure out the contents of the XML, just treat it as the hash reference it likely is:</p>\n\n<pre><code>if ($dataXML-&gt;{Person}{Home}{ID} eq 'foo') {\n   # Some action\n   ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1423622762, "post_id": 28444063, "comment_id": 45220776, "body": "so you mean to say that if i use XML::Simple i wont be able to get value of specific element &quot;FileName&quot; and i need to redesign my original perl code...  Initially i started with XML:XML2JSON but was not able to generate the JSON in the format i have showed above..."}, {"owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1423859041, "post_id": 28444063, "comment_id": 45335228, "body": "So you are not only converting from XML to JSON, you are also translating from one data structure to another. I would guess you are having issues merging child elements with elements attributes."}], "tags": [], "owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "is_accepted": false, "score": 1, "last_activity_date": 1423611991, "creation_date": 1423611991, "answer_id": 28444063, "question_id": 28443160, "link": "https://stackoverflow.com/questions/28443160/xml-to-json-conversion-using-perl/28444063#28444063", "title": "XML to JSON conversion using perl", "body": "<p>You should use <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a> instead of XML::Simple. Then use <a href=\"https://metacpan.org/pod/XML::LibXML::XPathContext\" rel=\"nofollow\">xpath</a> to query each document. I'd take a look at the code of <a href=\"https://metacpan.org/pod/XML::XML2JSON\" rel=\"nofollow\">XML::XML2JSON</a> to see if it can be a good fit for the problem\u2026</p>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5302, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1423611991, "creation_date": 1423607560, "last_edit_date": 1423608002, "question_id": 28443160, "link": "https://stackoverflow.com/questions/28443160/xml-to-json-conversion-using-perl", "title": "XML to JSON conversion using perl", "body": "<p>I am using perl for converting an XML file JSON. I was able to write the code for converting the input XML file to Json format.</p>\n\n<p>Here is the sample xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?&gt;\n   &lt;Person SchemaVersion=\"1.0.8\"&gt;\n      &lt;ID&gt;0&lt;/ID&gt;\n\n      &lt;Home ID=\"ABC-XYZ\" State=\"Unknown\"&gt;\n         &lt;Location&gt;\n            &lt;SiteName&gt;&lt;/SiteName&gt;\n            &lt;Number&gt;62&lt;/Number&gt;\n            &lt;MaxSize&gt;0&lt;/MaxSize&gt;\n            &lt;Comment&gt;&lt;/Comment&gt;\n         &lt;/Location&gt;\n\n         &lt;Laptop&gt;\n             &lt;FileName&gt;/usr/temp/RPM_020515_.tar.gz&lt;/FileName&gt;\n         &lt;/Laptop&gt;\n    &lt;/Home&gt;\n  &lt;/Person&gt;\n</code></pre>\n\n<p>sample perl code doing json conversion:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse JSON;\nuse XML::Simple;\n\n# Create the object of XML Simple\nmy $xmlSimple = new XML::Simple(KeepRoot   =&gt; 1);\n\n# Load the xml file in object\nmy $dataXML = $xmlSimple-&gt;XMLin(\"input/path/to/above/XMLFILE\");\n\n# use encode json function to convert xml object in json.\nmy $jsonString = encode_json($dataXML);\n\n# finally print json\nprint $jsonString;\n</code></pre>\n\n<p>Output JSON value:</p>\n\n<pre><code>{\n    \"Person\": {\n       \"ID\": \"0\", \n       \"SchemaVersion\": \"1.0.8\", \n       \"Home\": {\n          \"ID\": \"ABC-XYZ\", \n\n          \"Laptop\": {\n             \"FileName\": \"/usr/temp/RPM_020515_.tar.gz\"\n           }, \n\n          \"Location\": {\n              \"Number\": \"62\", \n              \"MaxSize\": \"0\", \n              \"Comment\": { }, \n              \"SiteName\": { }\n           }, \n\n          \"State\": \"Unknown\"\n       }\n   }\n}\n</code></pre>\n\n<p>Above code is working fine.</p>\n\n<p>My question is and this is where i am actually stuck.</p>\n\n<p>I need to do one more thing along with JSON conversion which is checking if element \"FileName\" in XML is empty or not. if its not extract its value as well.</p>\n\n<pre><code>So output will be two things:\n1. XML To JSON convert ( working fine )\n2. Along with point 1. extract the value of nested element in XML        \n   \"FileName\". I need that for some business logic need in next step.\n</code></pre>\n\n<p>Can some perl experts help me here and suggest me how i can do that in my current perl code.</p>\n\n<p>Thanks for helping in advance. \nThis is my first perl script so please excuse me if this is a too trivial question to ask.</p>\n\n<p>Tried reading the perl docs but not that helpful.</p>\n\n<p>NOTE: I am trying to use only perl built in libraries not any new third party libraries that is the reason i used XML::Simple. Its production code restriction ( very bad boundation ). I hope something for this exists in XML::Simple or JSON.</p>\n"}, {"tags": ["perl", "cgi", "www-mechanize", "lwp"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1423600763, "post_id": 28440793, "comment_id": 45212315, "body": "Do you need to use <code>https:&#47;&#47;scholar.google.com</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423602854, "post_id": 28440793, "comment_id": 45213416, "body": "<a href=\"http://scholar.google.com\" rel=\"nofollow noreferrer\">scholar.google.com</a> redirects me to the https url."}, {"owner": {"reputation": 85, "user_id": 4297531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4f1cf21255c20b1990f64db95e5958b7?s=128&d=identicon&r=PG&f=1", "display_name": "neemie", "link": "https://stackoverflow.com/users/4297531/neemie"}, "edited": false, "score": 0, "creation_date": 1423602977, "post_id": 28440793, "comment_id": 45213498, "body": "Yes, it is the correct URL, and as I mentioned it works occassionally as http and not https secure"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1423651464, "post_id": 28440793, "comment_id": 45231873, "body": "Your code works fine for me here. Which implies that you issue is probably down to your local network configuration. Do you need to do something with proxy settings?"}], "answers": [{"tags": [], "owner": {"reputation": 1070, "user_id": 2575273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc322ece13a23b019d2291c891e0220f?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/2575273/martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1456758793, "last_edit_date": 1456758793, "creation_date": 1456742751, "answer_id": 35697562, "question_id": 28440793, "link": "https://stackoverflow.com/questions/28440793/how-to-access-google-scholar-using-perl/35697562#35697562", "title": "how to access Google Scholar using Perl", "body": "<p>Your code is just fine, but Google Scholar decided not to allow access by \"bots\" like LWP, see <a href=\"http://www.perlmonks.org/bare/?node_id=461130\" rel=\"nofollow\">perlmonks/461130</a> for more information.</p>\n\n<p>Edit: I found a solution by passing user-agent and a cookie id in the header:</p>\n\n<pre><code>use HTTP::Request;\nuse HTTP::Cookies;\nuse LWP::UserAgent;\n\n# randomize cookie id\nuse Digest::MD5 qw(md5_hex);\nmy $googleid = md5_hex(rand());\n\n# escape query string\nuse URI::Escape;\nmy $query= uri_escape('search string');\n\n# create request\nmy $request = HTTP::Request-&gt;new(GET =&gt; 'http://scholar.google.com/scholar?q='.$query);\n\n# disguise as Mozilla\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;agent('Mozilla/5.0');\n\n# use random id for Cookie\nmy $cookies = HTTP::Cookies-&gt;new();\n$cookies-&gt;set_cookie(0,'GSP', 'ID='.$googleid,'/','scholar.google.com');\n$ua-&gt;cookie_jar($cookies);\n\n# submit request\n$response = $ua-&gt;request($request);\nif($response-&gt;is_success){\n    print $response-&gt;code;\n    my $text = $response-&gt;decoded_content;\n    # do something\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4297531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4f1cf21255c20b1990f64db95e5958b7?s=128&d=identicon&r=PG&f=1", "display_name": "neemie", "link": "https://stackoverflow.com/users/4297531/neemie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1456758793, "creation_date": 1423598750, "question_id": 28440793, "link": "https://stackoverflow.com/questions/28440793/how-to-access-google-scholar-using-perl", "title": "how to access Google Scholar using Perl", "body": "<p>I'm using the code below to try to search Google Scholar from my website and it will work once or twice and then I get the error \"Error GETing <a href=\"http://scholar.google.com\" rel=\"nofollow\">http://scholar.google.com</a>: Can't connect to scholar.google.com:80 (Permission denied)\" - the code I'm using is as follows:</p>\n\n<pre><code>use strict;\nuse WWW::Mechanize;\nmy $browser = WWW::Mechanize-&gt;new();\n$browser-&gt;get('http://scholar.google.com');\n$browser-&gt;form_name('f');\n$browser-&gt;field('q','PCR');\n$browser-&gt;submit();\nprint $browser-&gt;content();\n</code></pre>\n\n<p>Any tips or advice is greatly appreciated</p>\n"}, {"tags": ["perl", "terminal", "telnet", "suse", "vt100"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423595587, "post_id": 28439192, "comment_id": 45209322, "body": "Can I suggest not using <code>Net::Telnet</code> - there&#39;s a lot of weaknesses around a plain text protocol such as telnet, and that&#39;s why it&#39;s disabled by default on most servers these days."}, {"owner": {"reputation": 159, "user_id": 3361824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8528c43d25b1c46f6373246d9c4cbe3?s=128&d=identicon&r=PG&f=1", "display_name": "Yarex", "link": "https://stackoverflow.com/users/3361824/yarex"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423723358, "post_id": 28439192, "comment_id": 45266314, "body": "What library would you then recommend to use instead?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423727407, "post_id": 28439192, "comment_id": 45268113, "body": "It was more a question of &quot;don&#39;t use telnet&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 3361824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8528c43d25b1c46f6373246d9c4cbe3?s=128&d=identicon&r=PG&f=1", "display_name": "Yarex", "link": "https://stackoverflow.com/users/3361824/yarex"}, "edited": false, "score": 0, "creation_date": 1423672466, "post_id": 28445138, "comment_id": 45245193, "body": "This is just quick code to test things. I know that telnets default port is 23, but wanted to make sure its explicitly set (defensive programming) I&#39;v used waitfor to retrieve data. Tried cmd too but without much success"}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1423618612, "creation_date": 1423618612, "answer_id": 28445138, "question_id": 28439192, "link": "https://stackoverflow.com/questions/28439192/perl-issue-with-linux-nettelnet-and-vt-100-terminal/28445138#28445138", "title": "Perl Issue with linux @ Net::Telnet and vt-100 terminal", "body": "<p>I only have experience using <code>Net::Telnet</code> for connecting to routers and switches and have never had issues.</p>\n\n<p>While I have no experience with a terminal of this type, a few things stand out. For example <code>TelnetMode =&gt; 0</code> disables telnet control sequences from being interpreted. This should only be done if you're using <code>Net::Telnet</code> to connect to a non-telnet service.</p>\n\n<p>Other stuff that looks off to me: </p>\n\n<ul>\n<li>The default Port is 23 and the default Errmode is 'die' so those are kind of redundant.</li>\n<li>The <code>put</code> function doesn't return output, you need to use <code>cmd</code></li>\n<li>Don't ever use <code>$a</code> and <code>$b</code> as they are special variables used by perl for sorting.</li>\n</ul>\n\n<p>This may not work, but if I were re-writing your script using the idioms that have worked fine for me, I would write it like this...</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Net::Telnet;\n\nmy $prompt = '/.+[:#&gt;] *$/';\nmy $conn = new Net::Telnet (Prompt =&gt; $prompt);\n\n$conn-&gt;open($host); # WILL DIE IF CONNECTION FAILS\n\n# AUTHENTICATION GOES HERE IF NEEDED\n# $conn-&gt;login($username, $password);\n\nprint \"Connected to \".$conn-&gt;host().\":\".$conn-&gt;port().\"\\n\";\n\nmy @lines = $conn-&gt;cmd(\"14\");\nprint for @lines;\n\n$conn-&gt;close;\n</code></pre>\n\n<p>I'm usually parsing <code>@lines</code>... If you just want to print the output, then you don't need an interim variable and can just <code>print for $conn-&gt;cmd(\"14\");</code></p>\n\n<p>If the system is particularly slow, initialise the connection with a longer timeout, ie <code>my $conn = new Net::Telnet (Prompt =&gt; $prompt, Timeout =&gt; 20);</code></p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 159, "user_id": 3361824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8528c43d25b1c46f6373246d9c4cbe3?s=128&d=identicon&r=PG&f=1", "display_name": "Yarex", "link": "https://stackoverflow.com/users/3361824/yarex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 511, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423618612, "creation_date": 1423593316, "last_edit_date": 1423599568, "question_id": 28439192, "link": "https://stackoverflow.com/questions/28439192/perl-issue-with-linux-nettelnet-and-vt-100-terminal", "title": "Perl Issue with linux @ Net::Telnet and vt-100 terminal", "body": "<p>I need help with Net:Telnet. Trying to connect to VT-100 terminal. When using normal telnet from console it works fine. I can connect and issue commands, but when i try the same from perl, it connects, but then nothing happens - i have no output or waitfor just timeouts or displays that prompt is not matched (but it its, beause its always three letters and > sign).\nI'v tried all possible ways -> using methods like print, cmd, put, but without any success and stuck for 2 days on that thing.</p>\n\n<p>Here is my sample code:</p>\n\n<pre><code>use Net::Telnet ();\nmy $conn = new Net::Telnet (TelnetMode =&gt; 0);\n\nunless ($conn-&gt;open(Host =&gt; $host, Port =&gt; 23))\n{\n    die \"Error opening socket:: \".$conn-&gt;errmsg();\n}\n\nprint \"Connected to \".$conn-&gt;host().\", port \".$conn-&gt;port().\"\\n\";\n\n$conn-&gt;prompt('/...&gt;/'); # prompt is 014&gt;\n\nmy $lines = $conn-&gt;put(\"15\\r\"); # command 15 to give me the site name\nmy ($a,$b);\n($a,$b) = $conn-&gt;waitfor(Match=&gt;'/...&gt;/',Timeout=&gt;100);\n\n$conn-&gt;close;\n</code></pre>\n\n<p>When wrong command is entered, normally telnet displays error message and prompt, but from Perl it does nothing. \nInput log is empty, output log is empty and dump log contains only following:</p>\n\n<blockquote>\n  <p>0x00000: 31 35 0d 0a                                         15..</p>\n</blockquote>\n\n<p>I dont know what else to try.</p>\n\n<p>Here is how looks normal telnet session output:</p>\n\n<pre><code>Trying xxx.xxx.xxx.xxx...\nConnected to xxx.xxx.xxx.xxx.\nEscape character is '^]'.\n\n014&gt;15\n15\n014 TMR Name\n\n014&gt;^]\ntelnet&gt; quit\nConnection closed.\n</code></pre>\n\n<p>Any help is appreciated</p>\n"}, {"tags": ["bash", "perl", "vim", "awk"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1423585438, "post_id": 28436578, "comment_id": 45203212, "body": "What&#39;s your expected output?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1423585628, "post_id": 28436578, "comment_id": 45203327, "body": "i&#39;m not the downvoter but i know the reason for the downvote. I think it&#39;s probably because of lack of attempts."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1423585697, "post_id": 28436578, "comment_id": 45203384, "body": "i don&#39;t know how <code>XYZ_Specialty=1122</code> turns to <code>1122</code> after adding the linefeed character at the last."}, {"owner": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1423586341, "post_id": 28436578, "comment_id": 45203841, "body": "it does not turn into 1122, rather a linefeed (o in vim) is appended to the line &quot;Specialty_MOD=ZZZZ&quot;, or &quot;XYZ_Specialty=1122&quot;, and after the LINEFEED is added to the line containing the string &quot;Specialty&quot; it just shows up as blank lines:"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1423587870, "post_id": 28436578, "comment_id": 45204916, "body": "Your question is far from clear. You want a linefeed inserted before the closing quotation mark in all lines that contain <code>Specialty</code>? If you are having a problem with doing this yourself, then please show what you have tried and we will help you to fix it."}, {"owner": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "edited": false, "score": 0, "creation_date": 1423588218, "post_id": 28436578, "comment_id": 45205134, "body": "i actually found the answer, but i want to add a linefeed after the line with the text Specialty_MOD=ZZZZ ignore the Quotation marks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1423589262, "post_id": 28436578, "comment_id": 45205794, "body": "@kamal: I thought it was <i>any</i> line containing <code>Specialty</code>? And what do you mean by <i>&quot;ignore the Quotation marks&quot;</i>? Do you want the linefeed inserted <i>before</i> or <i>after</i> them?"}, {"owner": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "edited": false, "score": 0, "creation_date": 1423593431, "post_id": 28436578, "comment_id": 45208101, "body": "ignore the quotation means, the Quotations are there to indicate the whole string, so ignore &quot;&quot; like they dont exist the text as it appears in the file is XYZ_Specialty=1122 and i need the linefeed right after the last 2"}], "answers": [{"tags": [], "owner": {"reputation": 947, "user_id": 3517257, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jWXl7.jpg?s=128&g=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/3517257/aman"}, "is_accepted": true, "score": 0, "last_activity_date": 1423598146, "creation_date": 1423598146, "answer_id": 28440619, "question_id": 28436578, "link": "https://stackoverflow.com/questions/28436578/append-line-feed-in-vim-repeatedly-after-a-line-containing-a-unique-string/28440619#28440619", "title": "Append LINE FEED in VIM repeatedly after a line containing a unique String", "body": "<p>I am not sure if it is what you need, yet you can use <code>sed</code> in <code>bash</code>. I also assume that your data is stored in a file called <code>temptest2</code></p>\n\n<pre><code>sed \"s/\\(.*Specialty.*\\)\\\"/\\1\\n/g\" temptest2\n</code></pre>\n\n<ul>\n<li>Use <code>-i</code> to save the output to the <code>temptest2</code></li>\n<li>() specify a field for you, which is being called by \\1 and then sed adds <code>\\n</code> to the end of it.</li>\n</ul>\n"}], "owner": {"reputation": 8975, "user_id": 454488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ohaDv.gif?s=128&g=1", "display_name": "kamal", "link": "https://stackoverflow.com/users/454488/kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 28440619, "answer_count": 1, "score": -6, "last_activity_date": 1423598146, "creation_date": 1423585332, "last_edit_date": 1423585400, "question_id": 28436578, "link": "https://stackoverflow.com/questions/28436578/append-line-feed-in-vim-repeatedly-after-a-line-containing-a-unique-string", "title": "Append LINE FEED in VIM repeatedly after a line containing a unique String", "body": "<p>Is there a way to append LINEFEED after every line containing the String </p>\n\n<p>\"Specialty\" here are example of some lines:</p>\n\n<pre><code>\"XYZ_Specialty=1122\"\n\"Specialty_123=AABB\"\n\"Specialty_MOD=ZZZZ\"\n</code></pre>\n\n<p>Now, all the above three lines contain \"Specialty\" and i would like to append LINEFEED in linux after the end of line , as in right after :</p>\n\n<pre><code>1122\nAABB\nZZZZ\n</code></pre>\n\n<p>If not in vim,perhaps in perl , or bash / awk ? </p>\n"}, {"tags": ["perl", "shell", "bioinformatics", "bioperl"], "comments": [{"owner": {"reputation": 33775, "user_id": 315228, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/g17T4.jpg?s=128&g=1", "display_name": "SMA", "link": "https://stackoverflow.com/users/315228/sma"}, "edited": false, "score": 0, "creation_date": 1423584613, "post_id": 28436267, "comment_id": 45202683, "body": "hint: look at join command."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1423588408, "post_id": 28436267, "comment_id": 45205246, "body": "Are there really blank lines in your file? I assume not, but why did you show them like that?"}, {"owner": {"reputation": 15, "user_id": 4551177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-L4GY7d61wI4/AAAAAAAAAAI/AAAAAAAAA3Y/KZzkX8b4jJU/photo.jpg?sz=128", "display_name": "unique379", "link": "https://stackoverflow.com/users/4551177/unique379"}, "edited": false, "score": 0, "creation_date": 1423590870, "post_id": 28436267, "comment_id": 45206710, "body": "No sorry.....there is no blanks."}, {"owner": {"reputation": 15, "user_id": 4551177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-L4GY7d61wI4/AAAAAAAAAAI/AAAAAAAAA3Y/KZzkX8b4jJU/photo.jpg?sz=128", "display_name": "unique379", "link": "https://stackoverflow.com/users/4551177/unique379"}, "edited": false, "score": 0, "creation_date": 1423590984, "post_id": 28436267, "comment_id": 45206787, "body": "Sorry dont know how to use join for multiple files ???? while considering columns for multiple files ??? getting error."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423591289, "post_id": 28436267, "comment_id": 45206945, "body": "Are the files ordered the same, just with some lines omitted? And do you need to preserve that ordering for the output?"}, {"owner": {"reputation": 15, "user_id": 4551177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-L4GY7d61wI4/AAAAAAAAAAI/AAAAAAAAA3Y/KZzkX8b4jJU/photo.jpg?sz=128", "display_name": "unique379", "link": "https://stackoverflow.com/users/4551177/unique379"}, "edited": false, "score": 0, "creation_date": 1423591462, "post_id": 28436267, "comment_id": 45207031, "body": "No indeed...order does not matter for me......but the value from files (4th column) must be correspond to ref.file&#39;s coordinates."}, {"owner": {"reputation": 24144, "user_id": 1286528, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/n4uJp.jpg?s=128&g=1", "display_name": "pogibas", "link": "https://stackoverflow.com/users/1286528/pogibas"}, "edited": false, "score": 1, "creation_date": 1423679515, "post_id": 28436267, "comment_id": 45249355, "body": "All you need when working  with bed files is bedtools: <a href=\"http://bedtools.readthedocs.org/en/latest/\" rel=\"nofollow noreferrer\">bedtools.readthedocs.org/en/latest</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4551177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-L4GY7d61wI4/AAAAAAAAAAI/AAAAAAAAA3Y/KZzkX8b4jJU/photo.jpg?sz=128", "display_name": "unique379", "link": "https://stackoverflow.com/users/4551177/unique379"}, "edited": false, "score": 0, "creation_date": 1423662393, "post_id": 28438842, "comment_id": 45238415, "body": "Thank you so much for your nice code, its work well,  but out put need a new line for each match. becasue its all in one line."}, {"owner": {"reputation": 15, "user_id": 4551177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-L4GY7d61wI4/AAAAAAAAAAI/AAAAAAAAA3Y/KZzkX8b4jJU/photo.jpg?sz=128", "display_name": "unique379", "link": "https://stackoverflow.com/users/4551177/unique379"}, "edited": false, "score": 0, "creation_date": 1423663152, "post_id": 28438842, "comment_id": 45238893, "body": "Thank you so much for your nice code, its work well, but out put needs a new line and a tab for each match. However, i have done. Thanks once again for your valuable time and help."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1423592131, "creation_date": 1423592131, "answer_id": 28438842, "question_id": 28436267, "link": "https://stackoverflow.com/questions/28436267/how-to-compare-and-merge-multiple-files/28438842#28438842", "title": "How to compare and merge multiple files?", "body": "<p>I think something like this should do what you want. We use a hash to gather the 'reference' file and turn it into a set of keys with an empty array.</p>\n\n<p>Then we iterate on the other files, extracting '3 values' as key, and the last value as an actual value. </p>\n\n<p>And then we compare the two, updating the 'reference' hash with either the value or zero. The caveat here - any lines <em>not</em> in your reference file (or duplicates) will just disappear. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse autodie;\n\n\n#read 'reference file' into a hash:\nmy %ref;\nopen( my $ref_fh, \"&lt;\", \"reference_file\" );\nwhile (&lt;$ref_fh&gt;) {\n    my ( $first, $second, $third ) = split;\n\n    #turn the first three fields into space delimited key.\n    $ref{\"$first $second $third\"} = ();\n}\n\n#open each of the files.\nmy @files = qw ( file1 file2 file3 file4 file5 file6 );\nforeach my $input (@files) {\n    open( my $input_fh, \"&lt;\", $input );\n    my %current;\n    while (&lt;$input_fh&gt;) {\n\n        #line by line, extract 'first 3 fields' to use as a key.\n        #then 'value' which we store.\n        my ( $first, $second, $third, $value ) = split;\n        $current{\"$first $second $third\"} = $value;\n    }\n\n    #refer to 'reference file' and insert matching value or zero into\n    #the array.\n    foreach my $key ( keys %ref ) {\n        push( @{ $ref{$key} }, $current{$key} ? $current{$key} : 0 );\n    }\n}\n\nforeach my $key ( keys %ref ) {\n    print join( \" \", $key, @{ $ref{$key} } );\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4551177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-L4GY7d61wI4/AAAAAAAAAAI/AAAAAAAAA3Y/KZzkX8b4jJU/photo.jpg?sz=128", "display_name": "unique379", "link": "https://stackoverflow.com/users/4551177/unique379"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 28438842, "answer_count": 1, "score": -4, "last_activity_date": 1423627319, "creation_date": 1423584418, "last_edit_date": 1492086988, "question_id": 28436267, "link": "https://stackoverflow.com/questions/28436267/how-to-compare-and-merge-multiple-files", "title": "How to compare and merge multiple files?", "body": "<p><strong>reference file</strong></p>\n\n<pre><code>chr1    288598  288656\n\nchr1    779518  779576\n\nchr2    2569592 2569660\n\nchr3    5018399 5018464\n\nchr4    5182842 5182882\n</code></pre>\n\n<p><strong>file1</strong></p>\n\n<pre><code>chr1    288598  288656 12\n\nchr1    779518  779576 14\n\nchr2    2569592 2569660 26\n\nchr3    5018399 5018464 27\n\nchr4    5182842 5182882 37\n</code></pre>\n\n<p><strong>file2</strong></p>\n\n<pre><code>chr1    288598  288656 35\n\nchr2    2569592 2569660 348\n\nchr3    5018399 5018464 4326\n\nchr4    5182842 5182882 68\n</code></pre>\n\n<p>I have six similar files excluding the reference file.</p>\n\n<p>Here first three fields are similar to the reference file. Therefore, I would like export only 4th column from all 6 files and put into the reference file to make a new output. which should be equivalent to the reference files. Where they don't match put zero. </p>\n\n<p><strong>desired output</strong></p>\n\n<pre><code>chr1    288598  288656 23 35 57 68 769 68\n\nchr1    779518  779576 23 0 57 68 768 0\n\nchr2    2569592 2569660 23 35 0 68 79 0\n\nchr3    5018399 5018464 0 36 0 68 769 0\n\nchr4    5182842 5182882 23 0 0 0 0 0\n</code></pre>\n\n<p><strong>Note:</strong> the reference file length is about 2000 ans the other files are not always in same the length (about 500, 400, 200, 100 etc). That is why need zero added.</p>\n\n<p>I tried the answer from <a href=\"https://unix.stackexchange.com/q/113898\">this question</a></p>\n\n<pre><code>paste ref.file file1 file2 file3 file4 file5 file6 |  awk '{OFS=\"\\t\";print $1,$2,$3,$7,$11,$15,$19,$23,$27}' &gt; final.common.out\n</code></pre>\n\n<p>but seems it's not working \u2014 some values are missed. And I can't understand how to add zero where there is no match.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1423591656, "post_id": 28434525, "comment_id": 45207147, "body": "How long is a long time?"}, {"owner": {"reputation": 179, "user_id": 3917903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54c598fe59201776107d8af5a2a0b0c?s=128&d=identicon&r=PG&f=1", "display_name": "Menaka Sankar", "link": "https://stackoverflow.com/users/3917903/menaka-sankar"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1423627034, "post_id": 28434525, "comment_id": 45221850, "body": "The script take 15 mins..."}], "owner": {"reputation": 179, "user_id": 3917903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54c598fe59201776107d8af5a2a0b0c?s=128&d=identicon&r=PG&f=1", "display_name": "Menaka Sankar", "link": "https://stackoverflow.com/users/3917903/menaka-sankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1423591630, "creation_date": 1423579543, "last_edit_date": 1423591630, "question_id": 28434525, "link": "https://stackoverflow.com/questions/28434525/perl-delete-header-and-footer-in-pdf", "title": "perl : Delete Header and footer in pdf", "body": "<p>I want to remove PDF header, footer <em>i.e.</em> crop the header and footer from a document.</p>\n\n<p>I'm using the script below however it has been running for a very long time (24 page PDF).</p>\n\n<pre><code>use strict; \nuse warnings;\nuse PDF::API2; \n\nmy $filename = shift || 'test.pdf';\nmy $oldpdf = PDF::API2-&gt;open($filename);\nmy $newpdf = PDF::API2-&gt;new;\n\nfor my $page_nb (1..$oldpdf-&gt;pages) { \n  my ($page, @cropdata);\n  $page = $newpdf-&gt;importpage($oldpdf, $page_nb);\n  $page-&gt;cropbox('480%','10%','50%','620%');  \n}\n</code></pre>\n\n<p>Is this the correct approach?</p>\n"}, {"tags": ["perl", "url", "html-parsing"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1423583975, "post_id": 28433934, "comment_id": 45202250, "body": "Commenting out <code>use strict</code> and <code>use warnings</code> is a very bad idea. They are there for a reason. Take notice of what they tell you."}, {"owner": {"reputation": 13, "user_id": 4550681, "user_type": "registered", "profile_image": "https://graph.facebook.com/929711220386411/picture?type=large", "display_name": "satayan", "link": "https://stackoverflow.com/users/4550681/satayan"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1423584782, "post_id": 28433934, "comment_id": 45202771, "body": "that&#39;s true, I thought I had that changed already"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1423580639, "creation_date": 1423580639, "answer_id": 28434954, "question_id": 28433934, "link": "https://stackoverflow.com/questions/28433934/perl-get-specific-info-from-url/28434954#28434954", "title": "Perl - get specific Info from URL", "body": "<p>You have to parse the returned HTML using one of the parsers on CPAN. My first choice would be <a href=\"https://metacpan.org/module/HTML::TreeBuilder::XPath\" rel=\"nofollow\"><code>HTML::TreeBuilder::XPath</code></a>, which is a subclass of <a href=\"https://metacpan.org/module/HTML::TreeBuilder\" rel=\"nofollow\"><code>HTML::TreeBuilder</code></a> that allows the resultant data structure to be addressed using XPath expressions.</p>\n\n<p>Looking at the HTML source of the page in question, it looks like you want the contents of the two <code>&lt;a&gt;</code> elements that have <code>id</code> attributes <code>reviewed-filter</code> and <code>unreviewed-filter</code>. This program demonstrates how to do that.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse LWP::Simple;\nuse HTML::TreeBuilder::XPath;\n\nSTDOUT-&gt;autoflush;\n\nmy $organism = &lt;&gt; // 'homo sapiens';\nchomp $organism;\n$organism =~ s/ /%20/g;\n\nmy $url = \"http://www.uniprot.org/uniprot/?query=$organism&amp;sort=score\";\n\nmy $tree = HTML::TreeBuilder::XPath-&gt;new_from_content( get( $url ) );\n\nsay \"Organism Name: $organism\";\nsay '  ', join ' ', $tree-&gt;findnodes_as_strings('//a[@id=\"reviewed-filter\"]/node()');\nsay '  ', join ' ', $tree-&gt;findnodes_as_strings('//a[@id=\"unreviewed-filter\"]/node()');\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Organism Name: homo%20sapiens\n  Reviewed (26,138) Swiss-Prot\n  Unreviewed (919,192) TrEMBL\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4550681, "user_type": "registered", "profile_image": "https://graph.facebook.com/929711220386411/picture?type=large", "display_name": "satayan", "link": "https://stackoverflow.com/users/4550681/satayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423590335, "creation_date": 1423577960, "last_edit_date": 1423590335, "question_id": 28433934, "link": "https://stackoverflow.com/questions/28433934/perl-get-specific-info-from-url", "title": "Perl - get specific Info from URL", "body": "<p>I'm new to Perl and having a hard time understanding how to get a specific value from a search result. Like for example, I'd like to know the number of results in a uniprot search for <code>swiss-prot</code> and <code>trembl</code>. My code goes like this:</p>\n\n<pre><code>#use strict\n#use warnings\nuse LWP::Simple;\n\nprint \"organism name: \";\nmy $SPCount = &lt;STDIN&gt;;\nchomp($SPCount);\n$SPCount =~ s/ /%20/;\n$url = 'http://www.uniprot.org/uniprot/?query='.$SPCount.'&amp;sort=score';\nmy $quelltext = get( $url );\n</code></pre>\n\n<p>Let's say I look for 'homo sapiens', I will get 26,138 swissprot and 919,192 TReMBL results. Should I just parse the HTML document for these numbers? How does that work?</p>\n"}, {"tags": ["regex", "perl", "case-sensitive"], "comments": [{"owner": {"reputation": 37450, "user_id": 363573, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e14a13f1a3b0f11a39496f47c0606cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Stephan", "link": "https://stackoverflow.com/users/363573/stephan"}, "edited": false, "score": 0, "creation_date": 1423578177, "post_id": 28433854, "comment_id": 45197991, "body": "On the other hand, you can make &quot;blah&quot; upper case."}, {"owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "reply_to_user": {"reputation": 37450, "user_id": 363573, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e14a13f1a3b0f11a39496f47c0606cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Stephan", "link": "https://stackoverflow.com/users/363573/stephan"}, "edited": false, "score": 0, "creation_date": 1423578642, "post_id": 28433854, "comment_id": 45198338, "body": "Unfortunately I don&#39;t have control over what I&#39;ll be searching over. This is more of a code reuse question, so I don&#39;t have to make two very similar regex that test either uppercase or lowercase."}], "answers": [{"comments": [{"owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "edited": false, "score": 0, "creation_date": 1423580574, "post_id": 28434308, "comment_id": 45199788, "body": "Good answer, and thanks for including the second comment. It doesn&#39;t work if something in the string is regex specific though, like a \\h character. So my $pat = &#39;ABC\\hXYZ&#39; won&#39;t match &#39;abc xyz&#39;. I&#39;ll mark this as the accepted answer if nothing else prevails."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "edited": false, "score": 3, "creation_date": 1423581178, "post_id": 28434308, "comment_id": 45200268, "body": "@DannySullivan: Yes, it does. <code>my $pat = &#39;ABC\\hXYZ&#39;</code> and <code>say &#39;ok&#39; if &#39;abc xyz&#39; =~ $re2</code> prints <code>ok</code>"}, {"owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "edited": false, "score": 0, "creation_date": 1423582446, "post_id": 28434308, "comment_id": 45201196, "body": "Excellent call, sorry I missed that. This is exactly what I was looking for."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1423579309, "last_edit_date": 1423579309, "creation_date": 1423578938, "answer_id": 28434308, "question_id": 28433854, "link": "https://stackoverflow.com/questions/28433854/override-case-sensitive-regex-in-perl/28434308#28434308", "title": "Override case sensitive regex in Perl", "body": "<p>You can add the <code>/i</code> to the regexp as follows:</p>\n\n<pre><code>use re qw( is_regexp regexp_pattern );\n\nsub make_re_case_insensitive {\n   my ($re) = @_;\n\n   return \"(?i:$re)\" if !is_regexp($re);\n\n   my ($pat, $mods) = regexp_pattern($re);\n   if ($mods !~ /i/) {\n      $re = eval('qr/$pat/'.$mods.'i')\n         or die($@);\n   }\n\n   return $re;\n}\n</code></pre>\n\n<p>But that won't affect <code>qr/(?-i:BLAH)/</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p><em>This is more of a code reuse question, so I don't have to make two very similar regex that test either uppercase or lowercase.</em></p>\n</blockquote>\n\n<pre><code>my $pat = 'BLAH';\nmy $re1 = qr/$pat/x;\nmy $re2 = qr/$pat/xi;\n</code></pre>\n"}], "owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 1, "accepted_answer_id": 28434308, "answer_count": 1, "score": 6, "last_activity_date": 1423579309, "creation_date": 1423577698, "question_id": 28433854, "link": "https://stackoverflow.com/questions/28433854/override-case-sensitive-regex-in-perl", "title": "Override case sensitive regex in Perl", "body": "<p>Is it possible to override the case sensitivity of a previously defined regex in Perl? For instance, if I were to have the following:</p>\n\n<pre><code>my $upper = qr/BLAH/x;\nmy $lower = qr/$upper/xi;\nwarn \"blah\" =~ $lower\n</code></pre>\n\n<p>I'd like the third line to print a positive match.     </p>\n"}, {"tags": ["perl", "perlbrew"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1423580260, "post_id": 28433032, "comment_id": 45199541, "body": "Were other Perl versions installed successfully via Perlbrew?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1423587604, "post_id": 28433032, "comment_id": 45204744, "body": "@choroba This was the first one I tried. My system Perl is 5.18.2. Maybe I should try installing v5.18.4 with Perlbrew?"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1423592236, "post_id": 28433032, "comment_id": 45207467, "body": "Does installing  with <code>install --notest</code> then <code>perlbrew switching</code> and reinstalling change anything?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1423601277, "post_id": 28433032, "comment_id": 45212568, "body": "Can you compile 5.20.1 from source and run tests?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1423647109, "post_id": 28433032, "comment_id": 45229338, "body": "@choroba I downloaded 5.20.1 from <a href=\"https://www.perl.org/get.html\" rel=\"nofollow noreferrer\">perl.org/get.html</a> and run <code>.&#47;Configure -des -Dprefix=$HOME&#47;localperl</code> and then <code>make test</code> it gave <code>Failed 1 test out of 2269, 99.96% okay. </code> But the test that failed was the same as for the Perlbrew installation excpt that only the first of the 86 failed tests in <code>perl5db.t</code> for Perlbrew where reported. I guess it just skipped the rest of the tests in <code>perl5db.t</code> then?.."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1483175995, "creation_date": 1483175995, "answer_id": 41407021, "question_id": 28433032, "link": "https://stackoverflow.com/questions/28433032/installing-perl-5-20-1-with-perlbrew-failed-tests-in-perl5db-t/41407021#41407021", "title": "Installing perl-5.20.1 with Perlbrew. Failed tests in perl5db.t", "body": "<p>This issue was most likely due to a <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=130445\" rel=\"nofollow noreferrer\">bug</a> in <code>perl5db.t</code> which expected the environment variable <code>PERLDB_OPTS</code> to be empty. But for my case it was not empty, but set to <code>NonStop</code> causing malfunction of the test script.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 749, "favorite_count": 1, "accepted_answer_id": 41407021, "answer_count": 1, "score": 2, "last_activity_date": 1483175995, "creation_date": 1423575342, "last_edit_date": 1423642061, "question_id": 28433032, "link": "https://stackoverflow.com/questions/28433032/installing-perl-5-20-1-with-perlbrew-failed-tests-in-perl5db-t", "title": "Installing perl-5.20.1 with Perlbrew. Failed tests in perl5db.t", "body": "<p>I am trying to install Perl v5.20.1 with Perlbrew, but it fails due to failed tests in a script <code>perl5db.t</code>. I am using Ubuntu 14.04 with 64 bit architecture (x86_64).</p>\n\n<p>Running:</p>\n\n<pre><code>$ perlbrew install perl-5.20.1\n</code></pre>\n\n<p>started installation fine and run for some minutes, but then aborted due to failed tests. Output:</p>\n\n<pre><code>Test Summary Report\n-------------------\n../lib/perl5db.t                                                (Wstat: 0 Tests: 119 Failed: 86)\n  Failed tests:  19-56, 58-60, 63-64, 66, 68-72, 74, 76-80\n                82-83, 85-101, 104-108, 110, 112, 114, 116-119\nFiles=2409, Tests=699745, 550 wallclock secs (34.45 usr  3.70 sys + 264.29 cusr 27.76 csys = 330.20 CPU)\nResult: FAIL\n</code></pre>\n\n<p>From <code>~/perl5/perlbrew/build.perl-5.20.1.log</code> I can see that the first failed test is:</p>\n\n<pre><code># Failed test 19 - Can set breakpoint in a line in the middle of the file. at ../lib/perl5db.t line 555\n#      got 'In MyModule.\n# In Main File.\n# '\n# expected /(?^msx:\n#         ^Var=Bar$\n#             .*\n#         ^In\\ MyModule\\.$\n#             .*\n#         ^In\\ Main\\ File\\.$\n#             .*\n#         )/\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>I think I found more details about what causes the problem. I traced the problem by debugging the test script   <code>/home/hakon/perl5/perlbrew/build/perl-5.20.1/lib/perl5db.t</code> in the build directory. </p>\n\n<p>The script <code>perl5db.t</code> is a script to test that the Perl debugger is working. The first failed test occurs when it tests if it can set a breakpoint on a line in the middle of a file. The file <code>/home/hakon/perl5/perlbrew/build/perl-5.20.1/lib/perl5db/t/filename-line-breakpoint</code> looks like:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse MyModule;\n\nmy $x = \"Foo\";\n\nMyModule::function();\n\nprint \"In Main File.\\n\";\n</code></pre>\n\n<p>and the included module <code>MyModule.pm</code> is:</p>\n\n<pre><code>package MyModule;\n\nuse strict;\nuse warnings;\n\nuse vars qw($var);\n\n$var = \"Bar\";\n\nsub function\n{\n    print \"In MyModule.\\n\";\n}\n\n1;\n</code></pre>\n\n<p>The test script then runs Perl on the script using the <code>-d</code> switch and the following commands to the debugger:</p>\n\n<pre><code>b ../lib/perl5db/t/MyModule.pm:12\nc\ndo { use IO::Handle; STDOUT-&gt;autoflush(1); print \"Var=$var\\n\"; }\nc\nq\n</code></pre>\n\n<p>It expects the output from the debugger to be like (that is: matching) :</p>\n\n<pre><code>qr/\n        ^Var=Bar$\n            .*\n        ^In\\ MyModule\\.$\n            .*\n        ^In\\ Main\\ File\\.$\n            .*\n        /msx\n</code></pre>\n\n<p>But it gets:</p>\n\n<pre><code>In MyModule.\nIn Main File.\n</code></pre>\n\n<p>which does not match. So the problem is likely to be the </p>\n\n<pre><code>do { use IO::Handle; STDOUT-&gt;autoflush(1); print \"Var=$var\\n\"; }\n</code></pre>\n\n<p>command, which does not produce any output at all..</p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1423573743, "post_id": 28432448, "comment_id": 45195028, "body": "that doesn&#39;t convert to milliseconds, it just returns the millisecond fraction of the time, which is 0. Please explain better what you wish to achieve here, and we will be able to help you"}, {"owner": {"reputation": 215, "user_id": 2228502, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hW7gt.jpg?s=128&g=1", "display_name": "SajithRu", "link": "https://stackoverflow.com/users/2228502/sajithru"}, "reply_to_user": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1423573959, "post_id": 28432448, "comment_id": 45195164, "body": "I want to convert date string into milliseconds. this is what I tried to do after reading <a href=\"http://stackoverflow.com/questions/7486470/how-to-parse-a-string-into-a-datetime-object-in-perl\">this</a> and this <a href=\"http://stackoverflow.com/questions/4254464/parsing-datetime-in-perl-correct-to-micro-nano-seconds\">this</a> examples. without the millisecond part it returns datetime as <code>2015-01-13T14:16:00</code>"}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1423574616, "post_id": 28432448, "comment_id": 45195586, "body": "You are parsing a datetime with no milliseconds set, therefore you will have 0 milliseconds to return. Any resolution higher than the one you pass in will result in zeros (it doesn&#39;t just make stuff up out of thin air)  It&#39;s still not clear what you want out of this. If you want to convert the datetime into seconds since the epoch, use that.  <code>print sprintf(&quot;%f&quot;, $dt-&gt;epoch + $dt-&gt;millisecond);</code>"}, {"owner": {"reputation": 215, "user_id": 2228502, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hW7gt.jpg?s=128&g=1", "display_name": "SajithRu", "link": "https://stackoverflow.com/users/2228502/sajithru"}, "reply_to_user": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1423575163, "post_id": 28432448, "comment_id": 45195938, "body": "this worked. I needed to convert my String date to milliseconds. can you add it as an answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 1, "creation_date": 1423577985, "post_id": 28432448, "comment_id": 45197854, "body": "@DavidK-J: The expression <code>$dt-&gt;epoch + $dt-&gt;millisecond</code> makes no sense because <code>epoch</code> is in seconds while <code>millisecond</code> is in, well, milliseconds. However, since <code>millisecond</code> is always zero there is no point in adding it, and it sounds like what the OP really wants is just <code>$dt-&gt;epoch</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1423582133, "post_id": 28432448, "comment_id": 45200996, "body": "@Borodin, <code>$dt-&gt;epoch * 1000 + $dt-&gt;millisecond</code> (which is the same as just <code>$dt-&gt;epoch * 1000</code> in this case) would make sense, though, and would be consistent with JS timestamps."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423578921, "post_id": 28433393, "comment_id": 45198537, "body": "I think you mean <code>say 1000 * $dt-&gt;epoch + $dt-&gt;millisecond</code>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1423579304, "last_edit_date": 1423579304, "creation_date": 1423576458, "answer_id": 28433393, "question_id": 28432448, "link": "https://stackoverflow.com/questions/28432448/parse-date-string-to-milliseconds-and-vice-versa/28433393#28433393", "title": "Parse date String to milliseconds and vice versa", "body": "<p>It is impossible to convert a date to milliseconds. A date is a point in time. Milliseconds measure a duration.</p>\n\n<p>The only way your question makes sense is if we assume you mean \"how many milliseconds are there between my given date/time and some other fixed date/time\". Because of the way that Unix measures time, let's assume that the fixed date/time you're measuring from is the Unix Epoch (1970-01-01 00:00:00).</p>\n\n<p>You get the number of seconds since the epoch from a DateTime object with the <code>epoch()</code> method.</p>\n\n<pre><code>say $dt-&gt;epoch;\n</code></pre>\n\n<p>To get the number of milliseconds, just multiply that by a thousand.</p>\n\n<pre><code>say 1000 * $dt-&gt;epoch;\n</code></pre>\n\n<p>Your current timestamp doesn't include milliseconds. If you change to parsing strings that include them, then you can add that value on too.</p>\n\n<pre><code>say $dt-&gt;milliseconds + (1000 * $dt-&gt;epoch);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 215, "user_id": 2228502, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hW7gt.jpg?s=128&g=1", "display_name": "SajithRu", "link": "https://stackoverflow.com/users/2228502/sajithru"}, "edited": false, "score": 0, "creation_date": 1423652790, "post_id": 28434011, "comment_id": 45232631, "body": "thank you. I&#39;ll modify my script to use <code>Time::Piece</code> instead of <code>DateTime</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1423587556, "last_edit_date": 1423587556, "creation_date": 1423578183, "answer_id": 28434011, "question_id": 28432448, "link": "https://stackoverflow.com/questions/28432448/parse-date-string-to-milliseconds-and-vice-versa/28434011#28434011", "title": "Parse date String to milliseconds and vice versa", "body": "<p>I think it's likely that what you want is not milliseconds but <code>epoch</code>, which is the number of <em>seconds</em> since January 1 1970. Your date-time format has neither seconds nor milliseconds, so both of these fields will be reported as zero, and if you <em>really</em> want milliseconds then you can simply multiply the <code>epoch</code> by 1000.</p>\n\n<p>It looks like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse DateTime::Format::Strptime;\n\nmy $strp = DateTime::Format::Strptime-&gt;new(\n    pattern =&gt; '%m-%d-%y:%H.%M',\n    on_error =&gt; 'croak',\n);\n\nmy $dt = $strp-&gt;parse_datetime('01-13-15:14.16');\nsay $dt-&gt;epoch;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>1421158560\n</code></pre>\n\n<p>However, the <code>DateTime</code> module is enormous and slow, and there is a better solution in the core module <a href=\"https://metacpan.org/module/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a>, which would look like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\n\nmy $dt = Time::Piece-&gt;strptime('01-13-15:14.16', '%m-%d-%y:%H.%M');\nsay $dt-&gt;epoch;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>1421158560\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1423668535, "last_edit_date": 1423668535, "creation_date": 1423578260, "answer_id": 28434046, "question_id": 28432448, "link": "https://stackoverflow.com/questions/28432448/parse-date-string-to-milliseconds-and-vice-versa/28434046#28434046", "title": "Parse date String to milliseconds and vice versa", "body": "<p>Adding my comment as an answer:</p>\n\n<p>If you want to convert the datetime value into seconds since the epoch, try one of these:</p>\n\n<pre><code>print sprintf(\"%f\", $dt-&gt;epoch + ($dt-&gt;millisecond/1000));\nprint sprintf(\"%s.%s\", $dt-&gt;epoch, $dt-&gt;millisecond);\n</code></pre>\n\n<p>(My original comment did not account for millisecond being an integer)</p>\n\n<p>Similar for the values in milliseconds, rather than seconds.millis:</p>\n\n<pre><code>print sprintf(\"%d\", ($dt-&gt;epoch * 1000) + $dt-&gt;millisecond);\nprint sprintf(\"%d%04d\", $dt-&gt;epoch, $dt-&gt;millisecond);\n</code></pre>\n\n<p>Remember, that if you don't supply DateTime with a value containing milliseconds (or higher resolution), the value will simply be zero.</p>\n"}], "owner": {"reputation": 215, "user_id": 2228502, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hW7gt.jpg?s=128&g=1", "display_name": "SajithRu", "link": "https://stackoverflow.com/users/2228502/sajithru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3207, "favorite_count": 0, "accepted_answer_id": 28434011, "answer_count": 3, "score": 2, "last_activity_date": 1423668535, "creation_date": 1423573567, "question_id": 28432448, "link": "https://stackoverflow.com/questions/28432448/parse-date-string-to-milliseconds-and-vice-versa", "title": "Parse date String to milliseconds and vice versa", "body": "<p>I have following date in string format and I need to convert it to milliseconds using a Perl script. I have tried to convert it using <code>DateTime::Format::Strptime</code> and it returns 0 after convert to millisecond.</p>\n\n<p>Date String : 01-13-15:14.16</p>\n\n<pre><code>#!/usr/bin/perl\nuse DateTime::Format::Strptime;\n\nmy $strp = DateTime::Format::Strptime-&gt;new(\n    pattern =&gt; '%m-%d-%y:%H.%M',\n    on_error =&gt; 'croak',\n);\n\nmy $dt = $strp-&gt;parse_datetime(\"01-13-15:14.16\");\n\nprint $dt-&gt;millisecond.\"\\n\";\n</code></pre>\n\n<p>How can I convert datetime to milliseconds </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4303128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ece3d601d77828e871bd73ddad27f85?s=128&d=identicon&r=PG&f=1", "display_name": "Racharla Chandra Kanth", "link": "https://stackoverflow.com/users/4303128/racharla-chandra-kanth"}, "edited": false, "score": 0, "creation_date": 1423632680, "post_id": 28444426, "comment_id": 45223294, "body": "Are you maintaining legacy code or writing new software?  -&gt; I&#39;m just developing a small tool that we use internally/in intranet. I just got struck at configuring logout...."}, {"owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "reply_to_user": {"reputation": 11, "user_id": 4303128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ece3d601d77828e871bd73ddad27f85?s=128&d=identicon&r=PG&f=1", "display_name": "Racharla Chandra Kanth", "link": "https://stackoverflow.com/users/4303128/racharla-chandra-kanth"}, "edited": false, "score": 0, "creation_date": 1423859117, "post_id": 28444426, "comment_id": 45335272, "body": "So new software it is."}], "tags": [], "owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "is_accepted": false, "score": 0, "last_activity_date": 1423614260, "creation_date": 1423614260, "answer_id": 28444426, "question_id": 28431679, "link": "https://stackoverflow.com/questions/28431679/how-to-configure-logout-on-a-webpage-that-has-been-authorized-after-a-successful/28444426#28444426", "title": "How to configure logout on a webpage that has been authorized after a successful Active Directory authentication?", "body": "<p>Are you maintaining legacy code or writing new software? </p>\n\n<p>The <code>use CGI;</code> line was historically important to the internet but should not be used anymore on new sotftware. Yet you are not even using CGI anyway as you are reading and parsing the STDIN by hand. You should not be doing that.</p>\n\n<p>I recommend reading the amazing <a href=\"https://metacpan.org/pod/Catalyst::Manual::Tutorial::01_Intro\" rel=\"nofollow\">Catalyst Tutorial</a> to get a glance on how Web Development has evolved since 1994. </p>\n\n<p>The Catalyst Plugin for Active Directory (and Apple, Zimbra, whatever LDAP based system) is the <a href=\"https://metacpan.org/pod/Catalyst::Authentication::Store::LDAP\" rel=\"nofollow\">Catalyst::Authentication::Store::LDAP</a></p>\n\n<p>I really suggest following the Tutorial first (which has support for authentication and authorization) and only after having your initial application working add support for MS AD authentication, it will work almost as a drop in replacement.</p>\n\n<p>The effort of studying the Tutorial will payoff in less than 3 days.</p>\n"}], "owner": {"reputation": 11, "user_id": 4303128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ece3d601d77828e871bd73ddad27f85?s=128&d=identicon&r=PG&f=1", "display_name": "Racharla Chandra Kanth", "link": "https://stackoverflow.com/users/4303128/racharla-chandra-kanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423614260, "creation_date": 1423571200, "last_edit_date": 1423575675, "question_id": 28431679, "link": "https://stackoverflow.com/questions/28431679/how-to-configure-logout-on-a-webpage-that-has-been-authorized-after-a-successful", "title": "How to configure logout on a webpage that has been authorized after a successful Active Directory authentication?", "body": "<p>How to configure logout on a webpage that has been authorized after a successful Active Directory authentication?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>!/usr/bin/perl\n\nuse CGI;\nuse Authen::Simple::ActiveDirectory;\nuse Authen::Simple;\nuse DBI;\nuse DBD::mysql;\n\nread(STDIN, $FormData, $ENV{'CONTENT_LENGTH'});\n\n@pairs = split(/&amp;/, $FormData);\n\nforeach $pair (@pairs)\n{\n    # Separate the name and value:\n    ($name, $value) = split(/=/, $pair);\n\n    # Convert + signs to spaces:\n    $value =~ tr/+/ /;\n\n    # Convert hex pairs (%HH) to ASCII characters:\n    $value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\", hex($1))/eg;\n\n    # Store values in a hash called %FORM:\n    $FORM{$name} = $value;\n}\n\n$username=$FORM{'user'};\n$password=$FORM{'pswd'};\n$result;\n\nmy $ad = Authen::Simple::ActiveDirectory-&gt;new(\n    host =&gt; 'XXXXX.XXXX',\n    principal =&gt; 'XXX.XXXX',\n);\n\nif ( $ad-&gt;authenticate( $username , $password ) ) {\n    $result=\"successfull\";\n    Page-X();\n}\nelse\n{\n    $result=\"unsuccessfull\";\n    print \"Content-Type: text/html\\n\\n\";\n    print \" \\n\";\n    print \"Authentication\";\n    print \"\\n\";\n    print \"\\n\";\n    print \"Check Logins\";\n    print \"\\n\";\n    print \"\\n\";\n}\n</code></pre>\n\n<p>If the user got authenticated successfully, then he will be getting a page-X.\nNow, how can i have him logout from page-X?</p>\n\n<p>Thanks for any help in advance.</p>\n\n<p>Regards,\nChandu</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1423569701, "post_id": 28430263, "comment_id": 45192678, "body": "First try yourself and show us your code. Then we will help you."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1423582917, "post_id": 28433011, "comment_id": 45201514, "body": "Using a hash would reduce the cost to O(N+M) from O(N*M)"}], "tags": [], "owner": {"reputation": 1, "user_id": 3679313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pIiEb.png?s=128&g=1", "display_name": "peabody", "link": "https://stackoverflow.com/users/3679313/peabody"}, "is_accepted": false, "score": 0, "last_activity_date": 1423575259, "creation_date": 1423575259, "answer_id": 28433011, "question_id": 28430263, "link": "https://stackoverflow.com/questions/28430263/how-to-compare-two-files-and-print-matching-in-3rd-file-using-perl/28433011#28433011", "title": "How to compare two files and print matching in 3rd file using Perl", "body": "<pre><code>#!C:\\Perl\\perl\\bin\\perl.exe                                  \n\nuse strict;\nuse warnings;\n\nmy $file1 = \"file1.csv\";\nmy $file2 = \"file2.csv\";\n\nmy @a_file1 = &amp;sub_read ($file1);\nmy @a_file2 = &amp;sub_read ($file2);\n\nforeach my $entry1 (@a_file1) {\n    foreach my $entry2 (@a_file2) {\n        if ($entry1 eq $entry2) {\n            print \"$entry1\\n\";\n        }\n    }   \n}\n\nsub sub_read {\n    my $file = $_[0];\n    my @a_file;\n    open (READ,\"&lt;\",$file) or die \"$!\";\n    while (&lt;READ&gt;) {\n        chomp ($_);\n        my @a_temp = split(/\\,/,$_);\n        foreach my $a (@a_temp) {\n            push (@a_file, $a);\n        }\n    }\n    close (READ);\n    return @a_file;\n}\n</code></pre>\n\n<p>I think this shoudl work.\nTo print the File simply use something like this:</p>\n\n<pre><code>open (WRITE, \"&gt;&gt; $outfile\");\nprint WRITE \"$entry1\\n\";\nclose (WRITE);\n</code></pre>\n\n<p>There are plenty of possibilities to this (using a hash).</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4549446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5157e4e81625cc72cd4c97f6c3d89d72?s=128&d=identicon&r=PG&f=1", "display_name": "Jeevan", "link": "https://stackoverflow.com/users/4549446/jeevan"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1423724384, "post_id": 28455846, "comment_id": 45266736, "body": "Initially store the first file contents line based in a array and then to compare each line of second file with each element of the array.comaprision is by grep to check whether $element exists in the array @file1.hope this helps."}, {"owner": {"reputation": 1, "user_id": 4549446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5157e4e81625cc72cd4c97f6c3d89d72?s=128&d=identicon&r=PG&f=1", "display_name": "Jeevan", "link": "https://stackoverflow.com/users/4549446/jeevan"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1423724450, "post_id": 28455846, "comment_id": 45266768, "body": "alternatives to using grep are    1) if (&quot;$element1&quot; ~ @file1) 2)if ( any(@file1) eq &quot;$element1&quot; )"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1423737852, "post_id": 28455846, "comment_id": 45274069, "body": "This answer would be much improved if it were edited to include the description. As it stands, comments are transient."}], "tags": [], "owner": {"reputation": 1, "user_id": 4549446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5157e4e81625cc72cd4c97f6c3d89d72?s=128&d=identicon&r=PG&f=1", "display_name": "Jeevan", "link": "https://stackoverflow.com/users/4549446/jeevan"}, "is_accepted": false, "score": -1, "last_activity_date": 1423760743, "last_edit_date": 1423760743, "creation_date": 1423662085, "answer_id": 28455846, "question_id": 28430263, "link": "https://stackoverflow.com/questions/28430263/how-to-compare-two-files-and-print-matching-in-3rd-file-using-perl/28455846#28455846", "title": "How to compare two files and print matching in 3rd file using Perl", "body": "<pre><code>open( FILE2, \"file2.csv\" );\nopen( FILE1, \"file1.csv\" );\n\nwhile (&lt;FILE1&gt;) {\n    my $element1 = $_;\n    push( @file1, $element1 );\n}\n\nwhile (&lt;FILE2&gt;) {\n\n    my $element2 = $_;\n\n    if ( grep( /^$element2$/, @file1 ) ) {\n        print \"$element1 exists in file1.csv \\n\";\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3248073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NL3T1.png?s=128&g=1", "display_name": "CrackNRock", "link": "https://stackoverflow.com/users/3248073/cracknrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1423760743, "creation_date": 1423566887, "question_id": 28430263, "link": "https://stackoverflow.com/questions/28430263/how-to-compare-two-files-and-print-matching-in-3rd-file-using-perl", "title": "How to compare two files and print matching in 3rd file using Perl", "body": "<p><strong>file1.csv</strong>\n<br>abc,hello<br/>\n<br>bac,man<br/>\n<br>cac,tan<br/>\n<br/>\n<strong>file2.csv</strong>\n<br>cav,<br/>\n<br>pan, <br/>\n<br>bac,<br/>\n<br>and,<br/><br/>\n<strong>Outfile:</strong> The out file should have following as this match to file2.csv\n<br>bac<br/></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 6, "creation_date": 1423566121, "post_id": 28429982, "comment_id": 45190862, "body": "Well, is it correct or isn&#39;t it? What doesn&#39;t work exactly? What did you try to fix it?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1423566736, "post_id": 28429982, "comment_id": 45191212, "body": "Why not write some tests for it, using <a href=\"https://metacpan.org/pod/Task::Kensho#Task::Kensho::Testing:-Testing\" rel=\"nofollow noreferrer\">one of the many excellent test modules</a>?"}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423567321, "post_id": 28429982, "comment_id": 45191497, "body": "It doesn&#39;t return any value wherein it should return some value since i had mentioned v1 = 3.0.1 and v2 = 4.5.5"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423570902, "post_id": 28431473, "comment_id": 45193371, "body": "why we need to emphasis on using strict and warning always ?"}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "reply_to_user": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423571343, "post_id": 28431473, "comment_id": 45193633, "body": "strict and warnings, to highlight errors in code at compile/translation time. I generally code review samples that I contribute to, and am sorry if you feel pecked from this #1 rule."}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423571707, "post_id": 28431473, "comment_id": 45193822, "body": "between is there any issue with my program can you tell me why its not returning any value"}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "reply_to_user": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423571855, "post_id": 28431473, "comment_id": 45193919, "body": "Your split needed to escape the period. You were splitting on every character, which meant there were no captures."}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423571861, "post_id": 28431473, "comment_id": 45193927, "body": "can you share your i/p for this question as well     <a href=\"http://stackoverflow.com/questions/28427284/given-the-following-subroutine-how-would-you-call-below-subroutine-so-that-it-w\" title=\"given the following subroutine how would you call below subroutine so that it w\">stackoverflow.com/questions/28427284/&hellip;</a>"}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423571954, "post_id": 28431473, "comment_id": 45193986, "body": "didn&#39;t get you can you elaborate also in the other question which i posted the $rest{&#39;message&#39;} doesnt return the value why is it ?"}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "reply_to_user": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 1, "creation_date": 1423572254, "post_id": 28431473, "comment_id": 45194171, "body": "Accept this answer and I might take a look"}, {"owner": {"reputation": 345, "user_id": 1802922, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b4533ea25892543ee9838a3f9fe08ebc?s=128&d=identicon&r=PG", "display_name": "Iceman", "link": "https://stackoverflow.com/users/1802922/iceman"}, "edited": false, "score": 0, "creation_date": 1564429433, "post_id": 28431473, "comment_id": 101020089, "body": "Can someone explain the significance of the &quot;// 0&quot; in the sprintf? On my system, that   gives an error  <code>Unmatched ) in regex; marked by &lt;-- HERE in m&#47; 0) &lt;-- HERE ;         4 = sprintf(&quot;%04d&quot;, 4 &#47; at </code>  It works just well without the &quot;// 0&quot;. perl version v5.16.1"}], "tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": true, "score": 1, "last_activity_date": 1423572434, "last_edit_date": 1423572434, "creation_date": 1423570594, "answer_id": 28431473, "question_id": 28429982, "link": "https://stackoverflow.com/questions/28429982/write-a-program-to-compare-2-versions-using-perl/28431473#28431473", "title": "Write a program to compare 2 versions using perl", "body": "<pre><code>#!/bin/env perl\nuse strict;\nuse warnings;\n\nsub ver_checker {\n    my ($v1, $v2) = @_;\n\n    my @v1_parts = split(/\\./, $v1);\n    my @v2_parts = split(/\\./, $v2);\n\n    my $num_parts = scalar @v1_parts;\n    if (scalar @v2_parts &gt; $num_parts) {\n        $num_parts = scalar @v2_parts;\n    }\n\n    for my $part (0 .. $num_parts-1) {\n        $v1_parts[$part] = sprintf(\"%04d\", $v1_parts[$part] // 0);\n        $v2_parts[$part] = sprintf(\"%04d\", $v2_parts[$part] // 0);\n    }\n\n    return join('', @v1_parts) cmp join('', @v2_parts);\n}\n\nprint ver_checker('3.0.1', '4.5.5').\"\\n\";\nprint ver_checker('3.0', '4.5.5').\"\\n\";\nprint ver_checker('3.0.1', '4').\"\\n\";\nprint ver_checker('5', '4').\"\\n\";\n</code></pre>\n\n<p>A few things to mention:</p>\n\n<ol>\n<li><code>use strict; use warnings;</code> always</li>\n<li>Camel Case Isn't Fun Anymore. Use lowercase_and_underscores</li>\n<li>Escape literals in regular expressions. Your split needed to escape the period</li>\n<li>I find that when comparing something dotted like this, it's easier to pad everything out and compare the string. Your code only considered if the version number was three dotted numbers. I made it more portable by making it choose the longest dotted number and pad both out (ie. <code>3.1</code> vs <code>5.0.1</code> essentially becomes <code>3.1.0</code> vs <code>5.0.1</code>, and pads to <code>000300010000</code> vs <code>000500000001</code>. <code>cmp</code> returns your <code>-1/0/1</code> value.</li>\n</ol>\n\n<p>To clarify why your split wasn't working:\nYour split needed to escape the period. You were splitting on every character, which meant there were no captures. Run this script to see for yourself.</p>\n\n<pre><code>#!/bin/env perl\nuse strict; use warnings;\nuse Data::Dumper;\n\nmy $foo = 'a.b.c';\nmy @split1 = split(/./, $foo); # gives []\nmy @split2 = split(//, $foo); # gives ['a', '.', 'b', '.', 'c']\nmy @split3 = split(/\\./, $foo); # gives [ 'a', 'b', 'c']\nprint Dumper [ \\@split1, \\@split2, \\@split3 ];\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 28431473, "answer_count": 1, "score": 0, "last_activity_date": 1423572434, "creation_date": 1423566001, "question_id": 28429982, "link": "https://stackoverflow.com/questions/28429982/write-a-program-to-compare-2-versions-using-perl", "title": "Write a program to compare 2 versions using perl", "body": "<p>Is the below program correct to compare two versions? \nsay v1 = 3.0.1 and v2 = 4.5.5</p>\n\n<pre><code>sub VerChecker\n{\nmy $v1 = shift;\nmy $v2 = shift;\n\nmy @v1_parts = split (/./, $v1);\nmy @v2_parts = split (/./, $v2);\n\nfor( my $i = 0; $i &lt; @v1_parts; $i++ ) \n{\nif( $v1_parts[$i] &lt; $v2_parts[$i] ) \n{\nreturn -1;\n}\nelsif( $v1_parts[$i] &gt; $v2_parts[$i] )\n{\nreturn 1;\n}\n}\n\n # equal !\n return 0;\n}\n</code></pre>\n\n<p>Can you correct the above code</p>\n"}, {"tags": ["perl", "shell", "awk", "sed", "tr"], "answers": [{"comments": [{"owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "edited": false, "score": 0, "creation_date": 1423569865, "post_id": 28427932, "comment_id": 45192765, "body": "You need <code>gnu awk</code> for this, due to multiple characters in Record Selector."}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": true, "score": 2, "last_activity_date": 1423560365, "last_edit_date": 1423560365, "creation_date": 1423559891, "answer_id": 28427932, "question_id": 28427848, "link": "https://stackoverflow.com/questions/28427848/join-multiple-rows-with-specific-delimiter-to-one-row/28427932#28427932", "title": "Join multiple rows with specific delimiter to one row", "body": "<p>I would set the record separator to <code>--</code> and then loop through the fields:</p>\n\n<pre><code>awk -v RS=\"--\" 'NF{for (i=1;i&lt;=NF;i++) printf (\"%s%s\", $i, (i==NF?\"\\n\":FS) )}' file\n</code></pre>\n\n<h3>Explanation</h3>\n\n<ul>\n<li><code>-v RS=\"--\"</code> set record separator to <code>--</code> instead of the default new line</li>\n<li><code>NF{}</code> whenever there are fields in the record, do what is inside the brackets.</li>\n<li><code>for (i=1;i&lt;=NF;i++) printf (\"%s%s\", $i, (i==NF?\"\\n\":FS) )</code> loop through the fields printing all of them. The separator between them is always <code>FS</code> (its default value is a space) and a new line if we are processing the last one.</li>\n</ul>\n\n<h3>Test</h3>\n\n<p>With extra lines.</p>\n\n<pre><code>$ cat a\n--\n        CATALOG\n        DB1\n        1\n         good\n--\n        USERS\n        DB2\n        3\n         good\n    bad\n$ awk -v RS=\"--\" 'NF{for (i=1;i&lt;=NF;i++) printf (\"%s%s\", $i, (i==NF?\"\\n\":FS) )}' a\nCATALOG DB1 1 good\nUSERS DB2 3 good bad\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "is_accepted": false, "score": 1, "last_activity_date": 1423561937, "creation_date": 1423561937, "answer_id": 28428611, "question_id": 28427848, "link": "https://stackoverflow.com/questions/28427848/join-multiple-rows-with-specific-delimiter-to-one-row/28428611#28428611", "title": "Join multiple rows with specific delimiter to one row", "body": "<pre><code>sed '#n\n/^--$/ b print\nH;$!b\n:print\ns/.*//;x;s/^[[:cntrl:][:space:]]*//;s/[[:cntrl:][:space:]]\\{1,\\}/ /gp' YourFile\n</code></pre>\n\n<ul>\n<li>remove line starting with -- and print buffer content if occur (so last section)</li>\n<li>load in buffer current line </li>\n<li>if not end of file cycle</li>\n<li>print content (so end or new section) after reformat by removing space and new lines</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "is_accepted": false, "score": 1, "last_activity_date": 1423570059, "creation_date": 1423570059, "answer_id": 28431271, "question_id": 28427848, "link": "https://stackoverflow.com/questions/28427848/join-multiple-rows-with-specific-delimiter-to-one-row/28431271#28431271", "title": "Join multiple rows with specific delimiter to one row", "body": "<p>Here is a simple <code>gnu awk</code> (gnu due to multiple characters in RS).</p>\n\n<pre><code>awk -v RS=\"--\" '{$1=$1}NR&gt;1' file\nCATALOG DB1 1 good\nUSERS DB2 3 good\n</code></pre>\n\n<p><code>$1=$1</code> this recreate the file with the new Record Selector, and uses default field space.<br>\n<code>NR&gt;1</code> Then print all line except the first one (blank).</p>\n"}], "owner": {"reputation": 980, "user_id": 1716704, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/S8zFC.png?s=128&g=1", "display_name": "Kalin Borisov", "link": "https://stackoverflow.com/users/1716704/kalin-borisov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 28427932, "answer_count": 3, "score": 1, "last_activity_date": 1423592356, "creation_date": 1423559621, "last_edit_date": 1423592356, "question_id": 28427848, "link": "https://stackoverflow.com/questions/28427848/join-multiple-rows-with-specific-delimiter-to-one-row", "title": "Join multiple rows with specific delimiter to one row", "body": "<p>I want to join multiple rows in that case there always 4 after the delimiter, but that doesn't mean in the future one of then can be with more of 4 rows. Anyway I want to join them in one row when use that delimiter <code>--</code> and to exclude him from the final view example:</p>\n\n<pre><code>--\n        CATALOG\n        DB1\n        1\n         good\n--\n        USERS\n        DB2\n        3\n         good\n</code></pre>\n\n<p>I try several things with <code>tr</code> also <code>awk</code> without success.</p>\n\n<p>The final view which I want to make is:</p>\n\n<pre><code>CATALOG DB1 1 good\nUSERS DB2 3 good\n</code></pre>\n"}, {"tags": ["string", "perl", "unix", "grep"], "comments": [{"owner": {"reputation": 2279, "user_id": 827519, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/43dfb8ba76634e125e17aceafd92d254?s=128&d=identicon&r=PG", "display_name": "wsdookadr", "link": "https://stackoverflow.com/users/827519/wsdookadr"}, "edited": false, "score": 1, "creation_date": 1423587066, "post_id": 28427389, "comment_id": 45204380, "body": "Maybe just parse the logfiles, store the data you need in a database and index the columns you want to search on. grep is ideal for one-offs or small text files. Maybe have a look at <a href=\"http://www.elasticsearch.org/overview/kibana/\" rel=\"nofollow noreferrer\">kibana</a> and <a href=\"http://logstash.net/\" rel=\"nofollow noreferrer\">logstash</a> as well. If you&#39;ll parse and index them periodically you&#39;re trading some disk space(for the index) and the time it takes you to update the index(a small amount of time), and in return you get very fast search queries. As a sidenote, this question isn&#39;t necessarily related to Perl in my opinion."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423778567, "post_id": 28427389, "comment_id": 45298958, "body": "How about the <code>File::Tail</code> perl module - you don&#39;t need to re-read the file every 5 minutes, but you can instead parse events as they arrive."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4383135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16247f84dea2f6d69fee68b09cf78034?s=128&d=identicon&r=PG&f=1", "display_name": "devTom", "link": "https://stackoverflow.com/users/4383135/devtom"}, "is_accepted": false, "score": 0, "last_activity_date": 1423559221, "creation_date": 1423559221, "answer_id": 28427719, "question_id": 28427389, "link": "https://stackoverflow.com/questions/28427389/searching-for-a-string-a-large-log-files/28427719#28427719", "title": "Searching for a string a LARGE log-files", "body": "<p>If the phrase is only in one line, it is simple. Just read the file line-by-line and test the regexp on each line until you find it. \nSomething like : </p>\n\n<pre><code>open(F, '&lt;FILENAME&gt;') or die \"can't open file : $!\";\nwhile (my $line = &lt;F&gt;) {\n    if ($line =~ /&lt;MYREGEXP&gt;/) {\n        // regexp found\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35151, "user_id": 612462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f87274d3ba193a8ce40f090f3644116?s=128&d=identicon&r=PG", "display_name": "Adrian Fr&#252;hwirth", "link": "https://stackoverflow.com/users/612462/adrian-fr%c3%bchwirth"}, "is_accepted": false, "score": 0, "last_activity_date": 1423559265, "creation_date": 1423559265, "answer_id": 28427733, "question_id": 28427389, "link": "https://stackoverflow.com/questions/28427389/searching-for-a-string-a-large-log-files/28427733#28427733", "title": "Searching for a string a LARGE log-files", "body": "<p>Use <a href=\"http://www.gnu.org/software/parallel/\" rel=\"nofollow\">GNU parallel</a> (see <a href=\"https://www.gnu.org/software/parallel/man.html#EXAMPLE:-Parallel-grep\" rel=\"nofollow\">the parallel <code>grep</code> example</a>) to split the input in chunks and experiment with the <code>--jobs</code>, <code>--load</code> and <code>--nice</code> options.</p>\n"}], "owner": {"reputation": 11, "user_id": 4549587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30d9c8debe0b572c1a6f78c14b935825?s=128&d=identicon&r=PG&f=1", "display_name": "liorde", "link": "https://stackoverflow.com/users/4549587/liorde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1423559265, "creation_date": 1423558142, "question_id": 28427389, "link": "https://stackoverflow.com/questions/28427389/searching-for-a-string-a-large-log-files", "title": "Searching for a string a LARGE log-files", "body": "<p>Hello fellow programmers.\nI am in need of a solution for a log-file issue.\nThis is a unix based environment. HP-UX.\nThere is a certain directory that contains log-files which are created daily and are appended as needed with messages and errors.\nThese files can be as large as 1GB of text.\nI need to find a specific phrase.\nHow would you suggest me to do that?</p>\n\n<p>System personnel advised me NOT to use simple GREP as it will cause high CPU usage during the search periods which are every 5 minutes.</p>\n\n<p>What can I do in this case?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "edited": false, "score": 0, "creation_date": 1423558645, "post_id": 28427297, "comment_id": 45186692, "body": "Thank you! Works great. Also thank you for the detailed and full example"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1423582981, "post_id": 28427297, "comment_id": 45201557, "body": "This program suffers from a race condition. If the child outputs a lot to STDERR, both programs will lock up. Use IPC::Run3 or IPC::Run instead."}, {"owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423642773, "post_id": 28427297, "comment_id": 45227110, "body": "@ikegami, thank you for your important note. Can you please write here your solution?"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1423557753, "creation_date": 1423557753, "answer_id": 28427297, "question_id": 28427118, "link": "https://stackoverflow.com/questions/28427118/perl-getting-stderr-of-system-call-separately-from-stdout/28427297#28427297", "title": "Perl: Getting STDERR of system call, separately from STDOUT", "body": "<p>Here is an example.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse IPC::Open3;\n\nmy $cmd = 'ls -la';\n\nmy $pid = open3(\\*WRITER, \\*READER, \\*ERROR, $cmd);\n#if \\*ERROR is 0, stderr goes to stdout\n\nwhile( my $output = &lt;READER&gt; )\n{\n    print \"output-&gt;$output\";\n}\n\nwhile( my $errout = &lt;ERROR&gt; )\n{\n    print \"err-&gt;$errout\";\n}\n\nwaitpid( $pid, 0 ) or die \"$!\\n\";\nmy $retval =  $?;\nprint \"retval-&gt; $retval\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1423741322, "creation_date": 1423741322, "answer_id": 28476560, "question_id": 28427118, "link": "https://stackoverflow.com/questions/28427118/perl-getting-stderr-of-system-call-separately-from-stdout/28476560#28476560", "title": "Perl: Getting STDERR of system call, separately from STDOUT", "body": "<pre><code>use IPC::Run3 qw( run3 );\nrun3 [ 'sh', '-c', $cmd ], undef, my $stdout, my $stderr;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1442013188, "post_id": 32532708, "comment_id": 52924911, "body": "This doesn&#39;t answer the question, though (and therefore shouldn&#39;t be the accepted answer). The question was how to capture STDOUT and STDERR separately. Your answer ignores STDOUT and only captures STDERR."}], "tags": [], "owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "is_accepted": false, "score": 0, "last_activity_date": 1442008637, "creation_date": 1442008637, "answer_id": 32532708, "question_id": 28427118, "link": "https://stackoverflow.com/questions/28427118/perl-getting-stderr-of-system-call-separately-from-stdout/32532708#32532708", "title": "Perl: Getting STDERR of system call, separately from STDOUT", "body": "<p>Actually I found a simpler way to catch only STDERR. Catch STDERR and throw STDOUT away:</p>\n\n<pre><code>$output = `cmd 2&gt;&amp;1 1&gt;/dev/null`;\n</code></pre>\n\n<p>You can also do the opposite - throw STDERR away, such that it is even not printed to the shell:</p>\n\n<pre><code>$output = `cmd 2&gt;/dev/null`; \n</code></pre>\n\n<p>If you need to catch both of them separately, use one of the other answers in this thread. They are very good</p>\n"}], "owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 28476560, "answer_count": 3, "score": 1, "last_activity_date": 1442008637, "creation_date": 1423556937, "question_id": 28427118, "link": "https://stackoverflow.com/questions/28427118/perl-getting-stderr-of-system-call-separately-from-stdout", "title": "Perl: Getting STDERR of system call, separately from STDOUT", "body": "<p>It is usually enough for me in Perl, to get a single string that contains STDOUT combined with STDERR. I do it this way:</p>\n\n<pre><code>my $stdout_and_stderr = `$cmd 2&gt;&amp;1`;\n</code></pre>\n\n<p>But now I need it in 2 separate strings - one for STDOUT and one for STDERR.</p>\n\n<p>How can I do it in Perl?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 18754, "user_id": 342740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lHbcW.gif?s=128&g=1", "display_name": "Prix", "link": "https://stackoverflow.com/users/342740/prix"}, "edited": false, "score": 5, "creation_date": 1423554179, "post_id": 28426453, "comment_id": 45184788, "body": "And where is your code?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 8, "creation_date": 1423554349, "post_id": 28426453, "comment_id": 45184854, "body": "That looks like JSON, so why not use a JSON parser?"}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 2, "last_activity_date": 1423556164, "creation_date": 1423556164, "answer_id": 28426933, "question_id": 28426453, "link": "https://stackoverflow.com/questions/28426453/1-through-9-only-in-perl-can-we-go-further/28426933#28426933", "title": "$1 through $9 only in perl, can we go further?", "body": "<p>You can easily put your matches into an actual array rather than relying on <code>$1</code> and friends:</p>\n\n<p><code>my @matches = $some_string =~ /(some) (regex) with (m)(a)(n)(y) (c)(a)(p)(t)(u)r(e)(s)/;</code></p>\n\n<p>Or, as suggested in a comment, use a JSON parser if you're parsing JSON data.  It will be more reliable than a quick regex-based solution.</p>\n"}, {"tags": [], "owner": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "is_accepted": false, "score": 1, "last_activity_date": 1423568665, "last_edit_date": 1495542611, "creation_date": 1423559202, "answer_id": 28427715, "question_id": 28426453, "link": "https://stackoverflow.com/questions/28426453/1-through-9-only-in-perl-can-we-go-further/28427715#28427715", "title": "$1 through $9 only in perl, can we go further?", "body": "<p>Please use <a href=\"https://stackoverflow.com/a/28426933/1400768\">Dave Sherohman's suggestion</a> about using a JSON parser, or at least use an actual array to store the matches.</p>\n\n<p>Perl imposes no hard limit on the number of captures (or the limit is so high that no reasonable script would run into). <a href=\"https://stackoverflow.com/a/12117671/1400768\">The code in this answer</a> and <a href=\"https://stackoverflow.com/q/12117599/1400768\">even the script in the question</a> shows that you can refer to matched text in capturing group beyond 9 as usual, i.e. group 10 with <code>$10</code>, group 100 with <code>$100</code>.</p>\n\n<p>(In case anyone is confused, <code>$1</code>, <code>$10</code>, ... are variables used <em>outside the regex</em> to refer to content of the capturing group. It's not syntax for backreference (e.g. <code>\\1</code>, <code>\\10</code>, ... or <code>\\g{1}</code>, <code>\\g{10}</code>, ...), which is used in the regex to match the same text captured by the capturing groups).</p>\n"}], "owner": {"reputation": 1, "user_id": 4549414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UI0zZUfQT-8/AAAAAAAAAAI/AAAAAAAAAEw/vfL8ss1eS4A/photo.jpg?sz=128", "display_name": "rashed", "link": "https://stackoverflow.com/users/4549414/rashed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "closed_date": 1423575099, "answer_count": 2, "score": -3, "last_activity_date": 1423568665, "creation_date": 1423554128, "last_edit_date": 1423554172, "question_id": 28426453, "link": "https://stackoverflow.com/questions/28426453/1-through-9-only-in-perl-can-we-go-further", "closed_reason": "Not suitable for this site", "title": "$1 through $9 only in perl, can we go further?", "body": "<p>I have a requirement to match 12 numbers in a sequence but i am getting limited to 9th number. Is there any way to go beyond 9 matches ?</p>\n\n<p>my string is something like</p>\n\n<pre><code>{\"Column5\": \"Null\", \"Column4\": \"Null\", \"Column6\": \"Null\", \"Column1\": \"END\", \"Column3\": \"Null\", \"Column2\": \"Null\"}\n</code></pre>\n\n<p>where columns are fixed but in place of Null there can be any sequence/characters.</p>\n\n<p>I tried matching columns and subsequent strings but i have 12 matches whereas i am limited till only $9.</p>\n\n<p>Any suggestions ?</p>\n"}, {"tags": ["arrays", "perl", "duplicates", "elements"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1423548862, "post_id": 28425216, "comment_id": 45182822, "body": "<code>use strict; use warnings; use Data::Dumper; print Dumper \\%Seen;</code> Aren&#39;t you looking for duplicates using full lines?"}, {"owner": {"reputation": 29, "user_id": 4549136, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/29b7e151217c28585256ad912df0e846?s=128&d=identicon&r=PG&f=1", "display_name": "MANAUWER RAZA", "link": "https://stackoverflow.com/users/4549136/manauwer-raza"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1423549376, "post_id": 28425216, "comment_id": 45183018, "body": "no, not duplicate using full lines, only searching for elements, that are duplicated within a line"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4549136, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/29b7e151217c28585256ad912df0e846?s=128&d=identicon&r=PG&f=1", "display_name": "MANAUWER RAZA", "link": "https://stackoverflow.com/users/4549136/manauwer-raza"}, "edited": false, "score": 0, "creation_date": 1423549247, "post_id": 28425309, "comment_id": 45182965, "body": "the redundant values are still there"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 29, "user_id": 4549136, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/29b7e151217c28585256ad912df0e846?s=128&d=identicon&r=PG&f=1", "display_name": "MANAUWER RAZA", "link": "https://stackoverflow.com/users/4549136/manauwer-raza"}, "edited": false, "score": 1, "creation_date": 1423550639, "post_id": 28425309, "comment_id": 45183453, "body": "@MANAUWERRAZA : have a look at my edited answer. always use <code>use warnings</code> and <code>use strict</code> and three arguments for file operation."}, {"owner": {"reputation": 29, "user_id": 4549136, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/29b7e151217c28585256ad912df0e846?s=128&d=identicon&r=PG&f=1", "display_name": "MANAUWER RAZA", "link": "https://stackoverflow.com/users/4549136/manauwer-raza"}, "edited": false, "score": 0, "creation_date": 1423553068, "post_id": 28425309, "comment_id": 45184340, "body": "thank you, the code written earlier worked too, it was on my sheer part of negligence.."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 29, "user_id": 4549136, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/29b7e151217c28585256ad912df0e846?s=128&d=identicon&r=PG&f=1", "display_name": "MANAUWER RAZA", "link": "https://stackoverflow.com/users/4549136/manauwer-raza"}, "edited": false, "score": 0, "creation_date": 1423555836, "post_id": 28425309, "comment_id": 45185414, "body": "If this helped you, you can select this as an aswer."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 5, "last_activity_date": 1423550521, "last_edit_date": 1423550521, "creation_date": 1423548878, "answer_id": 28425309, "question_id": 28425216, "link": "https://stackoverflow.com/questions/28425216/to-remove-duplicate-elements-from-an-array-in-perl/28425309#28425309", "title": "To remove duplicate elements from an array in Perl", "body": "<p>a hash is for duplicate detection :</p>\n\n<pre><code>my %seen;\nmy @removeduplicate = grep { !$seen{$_}++ } @array;\n</code></pre>\n\n<p>For me below code is working fine :</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %seen;\nopen my $fh, \"&lt;\", 'file.txt' or die \"couldn't open : $!\";\nwhile ( my $line = &lt;$fh&gt;)\n{\n    chomp $line;\n    my @array = split (' ', $line);\n    my @removeduplicate = grep { !$seen{$_}++ } @array;\n    print \"@removeduplicate\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4549136, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/29b7e151217c28585256ad912df0e846?s=128&d=identicon&r=PG&f=1", "display_name": "MANAUWER RAZA", "link": "https://stackoverflow.com/users/4549136/manauwer-raza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1019, "favorite_count": 0, "accepted_answer_id": 28425309, "answer_count": 1, "score": -1, "last_activity_date": 1423557385, "creation_date": 1423548492, "last_edit_date": 1423557385, "question_id": 28425216, "link": "https://stackoverflow.com/questions/28425216/to-remove-duplicate-elements-from-an-array-in-perl", "title": "To remove duplicate elements from an array in Perl", "body": "<p>I have a data set</p>\n\n<pre><code>10-101570715-101609901-hsa-mir-3158-1   10-101600739-101609661-ENSG00000166171  10-101588288-101609668-ENSG00000166171  10-101588325-101609447-ENSG00000166171  10-101594702-101609439-ENSG00000166171  10-101570560-101596651-ENSG00000166171  \n\n10-103389007-103396515-hsa-mir-1307 10-103389041-103396023-ENSG00000173915  10-103389050-103396074-ENSG00000173915  10-103389050-103396441-ENSG00000173915  10-103389050-103396466-ENSG00000173915  10-103389050-103396466-ENSG00000173915\n</code></pre>\n\n<p>Except for the first element in each line, I have multiple values, which are redundant and I want to remove the redundant values. I have written a code but I don't feel its working fine.</p>\n\n<pre><code>open (fh, \"file1\");\nwhile ($line=&lt;fh&gt;)\n{\nchomp ($line);\n@array=$line;\nmy @unique = ();\nmy %Seen   = ();\nforeach my $elem ( @array )\n    {\n    next if $Seen{ $elem }++;\n    push @unique, $elem;\n    }\nprint @unique;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1423547852, "post_id": 28425020, "comment_id": 45182488, "body": "Please take the time to think carefully about the whole question you want to ask before you ask it.  Also, please take the time to indent the code properly.  Select it, then press the <b><code>{}</code></b> button above the edit box."}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1423548479, "post_id": 28425020, "comment_id": 45182705, "body": "Noted @JonathanLeffler"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423548938, "post_id": 28425180, "comment_id": 45182844, "body": "Hi @jonathan leffler,  Can you please explain me the if block with a real time example since i couldn&#39;t get it clearly"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423549250, "post_id": 28425180, "comment_id": 45182967, "body": "No; SO only does batch processing \u2014 no real time.  What don&#39;t you understand?  <code>$thing</code> needs to be a variable containing a string.  If the string contains 4 groups of decimal digits, separated by dots, with no other characters in the string, then the four numbers will be printed.  For a detailed exposition, see <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\"><code>perlretut</code></a>, and later <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perlre</code></a> and <a href=\"http://perldoc.perl.org/perlreref.html\" rel=\"nofollow noreferrer\"><code>perlreref</code></a>.  Or get and read a book on Perl (the Camel book or the Llama Book \u2014 or maybe the Alpaca book after the Llama)."}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423549928, "post_id": 28425180, "comment_id": 45183219, "body": "One question here when you say $thing as a string do you mean we define it in &quot; &quot; just as we do in java ? or by string in perl you mean the same as in java &quot; &quot; in quotes we can have numeric as well as alpha numeric data ?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423550390, "post_id": 28425180, "comment_id": 45183372, "body": "It&#39;s Perl: TMTOWTDI \u2014 there&#39;s more than one way to do it.  In my answer, I showed: <code>$thing = &quot;192.29.36.256&quot;;</code> \u2014 what does that look like?  You could also write: <code>$thing = &#39;192.29.36.256&#39;;</code> or <code>$thing = qq{192.29.36.256};</code> or <code>$thing = q(192.29.36.256);</code>, or <code>$thing = q#192.29.36.256#;</code> \u2014 or, if you&#39;re sadistic, <code>$thing = qq&#39;192.29.36.256&#39;;</code> or <code>$thing = q&quot;192.29.36.256&quot;;</code>, etc.  They&#39;re all strings; the repertoire of options includes some other alternatives too."}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423551758, "post_id": 28425180, "comment_id": 45183866, "body": "Cool thanks for the explanation what i meant was &quot;192sa.232ds.1dsd.wq22&quot; is this incorrect ?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423551826, "post_id": 28425180, "comment_id": 45183893, "body": "It&#39;s a valid string, but it won&#39;t be matched by the regex in the <code>if</code> statement.  There are letters in it, and the expression only accepts digits and dots."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 2, "last_activity_date": 1423548325, "creation_date": 1423548325, "answer_id": 28425180, "question_id": 28425020, "link": "https://stackoverflow.com/questions/28425020/what-is-the-difference-between-these-two-print-statements-in-perl-and-what-is-t/28425180#28425180", "title": "What is the difference between these two print statements in Perl? And what is the if statement doing?", "body": "<p>Normally, you leave the 'sigil' (the <code>@</code> symbol in this case) attached to the variable name.  However, outside of a double quoted string, you can separate them with a space.  Inside a double quoted string, there must not be a space between the sigil and the variable name.  When there is a space between the sigil and the name inside double quotes, the <code>@</code> is an <code>@</code> and the name is a string.</p>\n\n<p>Additionally, in a scalar context, such as string concatenation, <code>@ary</code> produces the size of the array.</p>\n\n<p>Hence, the printing produces:</p>\n\n<pre><code>size = 3\nsize = @ ary \n</code></pre>\n\n<p>Written more orthodoxly, you might have:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @ary = ( 1, 2, 3 ); \nprint \"size = \" . @ary . \"\\n\";\nprint \"size = @ ary\\n\";\nprint \"size = @ary\\n\";\n</code></pre>\n\n<p>And this would produce:</p>\n\n<pre><code>size = 3\nsize = @ ary\nsize = 1 2 3\n</code></pre>\n\n<p>The <code>if</code> statement and its following print statement look at the string in <code>$thing</code> to see whether it is a sequence of four series of digits separated by dots and then prints out the four component numbers.  For example, if you have:</p>\n\n<pre><code>$thing = \"192.29.36.256\";\n</code></pre>\n\n<p>then it will print</p>\n\n<pre><code>192  29  36  256\n</code></pre>\n\n<p>and if you thought that was an I/P address, you'd almost be right, but of course it isn't actually an I/P address.  But the code would also handle <code>\"12031.99023.23412212.23459790523\"</code> too.</p>\n"}], "owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 28425180, "answer_count": 1, "score": -2, "last_activity_date": 1423548467, "creation_date": 1423547574, "last_edit_date": 1423548467, "question_id": 28425020, "link": "https://stackoverflow.com/questions/28425020/what-is-the-difference-between-these-two-print-statements-in-perl-and-what-is-t", "title": "What is the difference between these two print statements in Perl? And what is the if statement doing?", "body": "<p>Code 1</p>\n\n<pre><code>my @ ary = ( 1, 2, 3 );   \nprint \"size = \" . @ ary . \"\\n\" ;  \nprint \"size = @ ary \\n\";  \n</code></pre>\n\n<p>Code 2</p>\n\n<pre><code>if( $thing =~ /^(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)$/ )\n{\nprint \"$1  $2  $3  $4\\n\";\n}\n</code></pre>\n\n<p>Can you please explain me the difference between the two print commands in 'Code 1'?    </p>\n\n<p>And what is the code doing in the <code>if</code> statement in 'Code 2'?</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 27196, "user_id": 18573, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/08b7b48e82ea72294df4a3382ac0da9b?s=128&d=identicon&r=PG", "display_name": "Miserable Variable", "link": "https://stackoverflow.com/users/18573/miserable-variable"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423540889, "post_id": 28423459, "comment_id": 45180602, "body": "I did not know to check settings, but now I saw it was wrong. I was able to change it and now it has gone past the error. If you convert your comment to question, I will accept it."}], "answers": [{"tags": [], "owner": {"reputation": 1442, "user_id": 4115522, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/KR2bz.jpg?s=128&g=1", "display_name": "Reenactor Rob", "link": "https://stackoverflow.com/users/4115522/reenactor-rob"}, "is_accepted": false, "score": 1, "last_activity_date": 1423540003, "creation_date": 1423540003, "answer_id": 28423746, "question_id": 28423459, "link": "https://stackoverflow.com/questions/28423459/how-to-prevent-cpan-fron-using-proxy/28423746#28423746", "title": "How to prevent cpan fron using proxy?", "body": "<p>CPAN uses HTTP:Tiny to download info about the module you are asking for.  It is lightweight so it runs fast.</p>\n\n<p>Either CPAN has not been configured, or the cpan found on your path is configured to use the proxy.  Determine the location of the CPAN program you are executing and proceed from there.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1423543913, "creation_date": 1423543913, "answer_id": 28424375, "question_id": 28423459, "link": "https://stackoverflow.com/questions/28423459/how-to-prevent-cpan-fron-using-proxy/28424375#28424375", "title": "How to prevent cpan fron using proxy?", "body": "<p>While the environment variable is used, <code>cpan</code> first checks its configuration.</p>\n\n<p>To view: <code>o conf http_proxy</code><br>\nTo clear: <code>o conf http_proxy ''</code></p>\n\n<p>Don't forget to use <code>o conf commit</code> to make the change permanent.</p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1423547278, "creation_date": 1423547278, "answer_id": 28424958, "question_id": 28423459, "link": "https://stackoverflow.com/questions/28423459/how-to-prevent-cpan-fron-using-proxy/28424958#28424958", "title": "How to prevent cpan fron using proxy?", "body": "<p>This msg <code>Can't locate XML/XPath.pm in @INC (@INC contains: /usr/lib/perl5/site_perl/5.14/x86_64-cygwin-threads /usr/lib/perl5/site_perl/5.14 /usr/lib/perl5/vendor_perl/5.14/x86_64-cygwin-threads /usr/lib/perl5/vendor_perl/5.14 /usr/lib/perl5/5.14/x86_64-cygwin-threads /usr/lib/perl5/5.14 .)</code> shows that module is not installed.\nIf you are on windows and using a proxy setting. You can use these commands to install module from ppm or cpan. Open a command prompt and run these commands :</p>\n\n<pre><code>set http_proxy=http://xxx.xxx.xxx.x:yyyy (xxx is your system proxy and yyyy is port)\nset http_proxy_user=username (login username)\nset http_proxy_pass=password (login password)\n</code></pre>\n\n<p>To install a module from cpan type:</p>\n\n<pre><code>cpan install modulename\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2155, "user_id": 3756232, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000381325166/picture?type=large", "display_name": "Guru", "link": "https://stackoverflow.com/users/3756232/guru"}, "is_accepted": false, "score": 0, "last_activity_date": 1471441123, "creation_date": 1471441123, "answer_id": 38998285, "question_id": 28423459, "link": "https://stackoverflow.com/questions/28423459/how-to-prevent-cpan-fron-using-proxy/38998285#38998285", "title": "How to prevent cpan fron using proxy?", "body": "<p>The error occurs because you have set http_proxy variable to direct IP, Instead, put http_proxy=<a href=\"http://ipaddress\" rel=\"nofollow\">http://ipaddress</a> , then it will work</p>\n"}], "owner": {"reputation": 27196, "user_id": 18573, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/08b7b48e82ea72294df4a3382ac0da9b?s=128&d=identicon&r=PG", "display_name": "Miserable Variable", "link": "https://stackoverflow.com/users/18573/miserable-variable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2903, "favorite_count": 0, "accepted_answer_id": 28424375, "answer_count": 4, "score": 1, "last_activity_date": 1471441123, "creation_date": 1423538066, "question_id": 28423459, "link": "https://stackoverflow.com/questions/28423459/how-to-prevent-cpan-fron-using-proxy", "title": "How to prevent cpan fron using proxy?", "body": "<p>My knowledge of perl is limited to running commands. I have managed to come up with a shell script to output the gav of a pom.xml, using xpath as follows:</p>\n\n<pre><code> xpath pom.xml  '//project/artifactId/text()'\n</code></pre>\n\n<p>On a new machine right now, this does not work because I do not have the XPath.pm installed:</p>\n\n<pre><code> Can't locate XML/XPath.pm in @INC (@INC contains: /usr/lib/perl5/site_perl/5.14/x86_64-cygwin-threads /usr/lib/perl5/site_perl/5.14 /usr/lib/perl5/vendor_perl/5.14/x86_64-cygwin-threads /usr/lib/perl5/vendor_perl/5.14 /usr/lib/perl5/5.14/x86_64-cygwin-threads /usr/lib/perl5/5.14 .)\n</code></pre>\n\n<p>I seem to remember installing XPath using cpan so I tried the following command, blindly:</p>\n\n<pre><code>cpan XPath\n</code></pre>\n\n<p>This is probably not the correct command to use, but I think that is unrelated to the issue I am facing. The command gives following error:</p>\n\n<pre><code>Going to read '/home/****/.cpan/Metadata'\n  Database was generated on Mon, 25 Aug 2014 00:41:02 GMT\nFetching with HTTP::Tiny:\nhttp://www.perl.org/CPAN/authors/01mailrc.txt.gz\nHTTP::Tiny failed with an internal error: Could not connect to 'proxy:8080': IO::Socket::INET: Bad hostname 'proxy' at /usr/lib/perl5/5.14/HTTP/Tiny.pm line 139\n\nProxy authentication needed!\n (Note: to permanently configure username and password run\n   o conf proxy_user your_username\n   o conf proxy_pass your_password\n     )\nUsername:    C-c C-c\n</code></pre>\n\n<p>Why is <code>HTTP::Tiny</code> looking for host proxy? We do have a corporate proxy with hostname proxy but that is needed only when I am on corporate network or VPN, neither of which is case right now. </p>\n\n<p>How do I convince <code>HTTP::Tiny</code> to connect directly to internet? I do not have an envvar named <code>http_proxy</code> or <code>HTTP_PROXY</code> set. </p>\n"}, {"tags": ["regex", "perl", "sorting", "subdirectory"], "comments": [{"owner": {"reputation": 42687, "user_id": 3191599, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ETGIY.jpg?s=128&g=1", "display_name": "Nate Barbettini", "link": "https://stackoverflow.com/users/3191599/nate-barbettini"}, "edited": false, "score": 7, "creation_date": 1423535778, "post_id": 28423145, "comment_id": 45179212, "body": "Welcome to Stack Overflow! Can you tell us what you&#39;ve tried so far?"}, {"owner": {"reputation": 477, "user_id": 2083642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HfHMb.jpg?s=128&g=1", "display_name": "Manu Mathew", "link": "https://stackoverflow.com/users/2083642/manu-mathew"}, "edited": false, "score": 3, "creation_date": 1423544689, "post_id": 28423145, "comment_id": 45181559, "body": "You can&#39;t just ask someone to do your entire work for you. Try yourself something and tell us what you did. Now you can ask us about some area at which you are in trouble."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 4, "creation_date": 1423545162, "post_id": 28423145, "comment_id": 45181688, "body": "Take a look at the <a href=\"http://perldoc.perl.org/File/Find.html\" rel=\"nofollow noreferrer\">File::Find</a> module. It covers a good chunk of what you&#39;re trying to accomplish."}], "answers": [{"tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": false, "score": 2, "last_activity_date": 1423580134, "creation_date": 1423580134, "answer_id": 28434737, "question_id": 28423145, "link": "https://stackoverflow.com/questions/28423145/perl-traversing-through-directories-and-getting-a-pattern-from-a-file/28434737#28434737", "title": "Perl: Traversing through directories and getting a pattern from a file", "body": "<p>Start with this:</p>\n\n<pre><code>#!/bin/env perl\nuse strict; use warnings;\n\nmy ($dir) = @ARGV;\n$dir // die \"No dir supplied\";\n\ndie \"Dir not found: $dir\" unless (-e $dir);\ndie \"Not a dir: $dir\" unless (-d $dir);\n\nmy @files = &lt;$dir/*/txtfile.txt&gt;;\n\nforeach my $file (@$files) {\n    my $file_contents = undef;\n\n    # read the patten from file..\n    open (my $fh, '&lt;', $file) or die \"Can't open $file. $!\";\n    # Read the file contents here..\n    {\n        local $/ = undef;\n        $file_contents = &lt;$fh&gt;;\n    }\n    close $fh;\n\n    # Do something more\n}\n</code></pre>\n\n<p>This method is called file globbing. There are better ways using purpose-written modules, but this works in a pinch. It's the same kind of thing as entering <code>ls -l mydir/*/txtfile.txt</code> into a terminal window.</p>\n"}], "owner": {"reputation": 53, "user_id": 4548699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2ae935e5ac0f5422f6e1f342a0c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "eshan kanoje", "link": "https://stackoverflow.com/users/4548699/eshan-kanoje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "closed_date": 1424985654, "answer_count": 1, "score": 0, "last_activity_date": 1423580134, "creation_date": 1423535734, "last_edit_date": 1423535912, "question_id": 28423145, "link": "https://stackoverflow.com/questions/28423145/perl-traversing-through-directories-and-getting-a-pattern-from-a-file", "closed_reason": "Needs more focus", "title": "Perl: Traversing through directories and getting a pattern from a file", "body": "<p>I am new to Perl. I have to complete a task. I have been given a directory and in that directory has 130 sub directories. From those directories has report sub- directory and from reports, there is one .txt file that I want to grab the pattern from that file. </p>\n\n<p>Similarly, I have to do it for all and get the pattern. </p>\n\n<p>Can anyone please help with sample code or how to do that? </p>\n\n<p>Any help will be greatly appreciated.</p>\n"}, {"tags": ["perl", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1423535221, "creation_date": 1423535221, "answer_id": 28423066, "question_id": 28422973, "link": "https://stackoverflow.com/questions/28422973/how-to-collect-argv-using-perl-cgi/28423066#28423066", "title": "how to collect ARGV using Perl CGI?", "body": "<blockquote>\n  <p><em>how to collect ARGV using Perl CGI?</em></p>\n</blockquote>\n\n<p><code>@ARGV</code> didn't go anywhere, but CGI doesn't use command line arguments, so there are no command line arguments to collect.</p>\n\n<blockquote>\n  <p><em>can I insert a <code>system($command)</code> into Perl CGI script?</em></p>\n</blockquote>\n\n<p>Yes.</p>\n"}, {"tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1423816154, "last_edit_date": 1423816154, "creation_date": 1423555678, "answer_id": 28426821, "question_id": 28422973, "link": "https://stackoverflow.com/questions/28422973/how-to-collect-argv-using-perl-cgi/28426821#28426821", "title": "how to collect ARGV using Perl CGI?", "body": "<p>You can dual-purpose the script by checking if you are connected to a terminal:</p>\n\n<pre><code>if (-t STDOUT) {\n    # Command LIne mode, use @ARGV;\n}\nelse {\n    # CGI mode, get ARGV equivalent from CGI-&gt;param\n}\n</code></pre>\n\n<p>You will have to adjust the output to work in CGI mode, by adding content headers before you output anything.</p>\n\n<p>If you use <code>system($foo)</code> in a web page, make sure the logic controlling what's in <code>$foo</code> is secure, otherwise you might end up hacked.</p>\n"}], "owner": {"reputation": 85, "user_id": 4297531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4f1cf21255c20b1990f64db95e5958b7?s=128&d=identicon&r=PG&f=1", "display_name": "neemie", "link": "https://stackoverflow.com/users/4297531/neemie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 28423066, "answer_count": 2, "score": 0, "last_activity_date": 1423816154, "creation_date": 1423534509, "question_id": 28422973, "link": "https://stackoverflow.com/questions/28422973/how-to-collect-argv-using-perl-cgi", "title": "how to collect ARGV using Perl CGI?", "body": "<p>I want to run a script from my website using CGI.pm - The script I am running is usally ran from the command line and requires several command line ARGV inputs. How do I deal with this using CGI.pm? - can I insert a system($command) into Perl CGI script? The script can be seen here - <a href=\"http://www.ncbi.nlm.nih.gov/IEB/ToolBox/C_DOC/lxr/source/doc/blast/web_blast.pl\" rel=\"nofollow\">http://www.ncbi.nlm.nih.gov/IEB/ToolBox/C_DOC/lxr/source/doc/blast/web_blast.pl</a></p>\n"}, {"tags": ["perl", "rounding"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4548611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c402162ccda5d3c6e42d5ba69005f13d?s=128&d=identicon&r=PG&f=1", "display_name": "hugobetty", "link": "https://stackoverflow.com/users/4548611/hugobetty"}, "edited": false, "score": 0, "creation_date": 1423624379, "post_id": 28423183, "comment_id": 45221155, "body": "Thanks for your explanation. With a small test that I found that the formline is also uses round-to-even. Thank you!"}, {"owner": {"reputation": 3, "user_id": 4548611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c402162ccda5d3c6e42d5ba69005f13d?s=128&d=identicon&r=PG&f=1", "display_name": "hugobetty", "link": "https://stackoverflow.com/users/4548611/hugobetty"}, "edited": false, "score": 0, "creation_date": 1423624983, "post_id": 28423183, "comment_id": 45221336, "body": "Please help to check below test code and help answer if there is any way that we can control what rounding method to use. Thanks. <code>#!&#47;usr&#47;bin&#47;perl  my $format=&#39;@#######&#39;; my $var1=&#39;15334.5000&#39;; my $var2=&#39;15334.50001&#39;; my $var3=&#39;15335.5000&#39;; my $var4=&#39;15336.5000&#39;; formline $format, $var1; print &quot;var1=$^A\\n&quot;; $^A=&#39;&#39;; formline $format, $var2; print &quot;var2=$^A\\n&quot;; $^A=&#39;&#39;; formline $format, $var3; print &quot;var3=$^A\\n&quot;; $^A=&#39;&#39;; formline $format, $var4; print &quot;var4=$^A\\n&quot;; </code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3, "user_id": 4548611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c402162ccda5d3c6e42d5ba69005f13d?s=128&d=identicon&r=PG&f=1", "display_name": "hugobetty", "link": "https://stackoverflow.com/users/4548611/hugobetty"}, "edited": false, "score": 0, "creation_date": 1423632203, "post_id": 28423183, "comment_id": 45223154, "body": "You could round the value before passing it to the form"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1423536043, "creation_date": 1423536043, "answer_id": 28423183, "question_id": 28422881, "link": "https://stackoverflow.com/questions/28422881/perl5-formline-round-down-the-exact-value-0-5-not-round-up/28423183#28423183", "title": "Perl5 formline round down the exact value 0.5 not round up", "body": "<p>In the absence of a concrete demonstration, I shall point out the two likely culprits:</p>\n\n<ol>\n<li><p>\"We normally should round up\" is absolutely false. There are many different rounding system. <code>sprintf</code>, for example, uses round-to-even.</p>\n\n<pre><code>$ perl -E'say sprintf \"%1\\$.1f =&gt; %1\\$.0f\", $_ for 3.5, 4.5, 5.5, 6.5'\n3.5 =&gt; 4\n4.5 =&gt; 4\n5.5 =&gt; 6\n6.5 =&gt; 6\n</code></pre></li>\n<li><p>The number you think has a fractional component of 5/10 doesn't actually due to floating-point precision error.</p>\n\n<p>Many numbers are periodic in binary, and periodic numbers cannot accurately be stored as floating numbers. For example, 1/10, 2/10, 3/10, 4/10, 6/10, 7/10, 8/10 and 9/10 are all periodic in binary just like 1/3 is periodic in decimal (and binary).</p>\n\n<p>5/10 is actually easy to store as a floating point number (5/10 = 1/2 = 2<sup>-1</sup>), but if you obtained the number through arithmetic, you might not actually have 5/10.</p>\n\n<pre><code>$ perl -E'$x += 0.01 for 1..50; say sprintf \"%.40f\", $x'\n0.5000000000000002220446049250313080847263\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 4548611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c402162ccda5d3c6e42d5ba69005f13d?s=128&d=identicon&r=PG&f=1", "display_name": "hugobetty", "link": "https://stackoverflow.com/users/4548611/hugobetty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 28423183, "answer_count": 1, "score": 0, "last_activity_date": 1423536043, "creation_date": 1423533764, "question_id": 28422881, "link": "https://stackoverflow.com/questions/28422881/perl5-formline-round-down-the-exact-value-0-5-not-round-up", "title": "Perl5 formline round down the exact value 0.5 not round up", "body": "<p>I have noticed that the formline method in Perl 5 have some strange action.\nIf the decimal value greater than 0.5, it will round up. \nIf the decimal value less than 0.5, it will round down.\nBut when the decimal value is exact 0.5, we normally should round up but the formline round down the value.</p>\n\n<p>Does anyone know if that is a bug or predesinged? Thanks.</p>\n"}, {"tags": ["linux", "perl", "centos"], "answers": [{"comments": [{"owner": {"reputation": 1194, "user_id": 982722, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/102305f5ba0c6c32702df3027d4c87c4?s=128&d=identicon&r=PG", "display_name": "mbouzahir", "link": "https://stackoverflow.com/users/982722/mbouzahir"}, "edited": false, "score": 0, "creation_date": 1423566688, "post_id": 28422727, "comment_id": 45191179, "body": "Thank you!  i just had to run perl -MCPAN -e &quot;install Bundle::CPAN, DBI::Shell,Storable&quot;; after this."}], "tags": [], "owner": {"reputation": 191202, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "is_accepted": true, "score": 7, "last_activity_date": 1423532727, "creation_date": 1423532727, "answer_id": 28422727, "question_id": 28422486, "link": "https://stackoverflow.com/questions/28422486/installing-modules-for-perl/28422727#28422727", "title": "installing modules for perl", "body": "<p>A lot of those packages are probably available as pre-built CentOS packages, which would be substantially faster to install.</p>\n\n<p>Perl packages on CentOS provide information about what perl modules they provide. For example, the <code>perl-DateTime</code> package provides the <code>perl(DateTime)</code> virtual package.  This means that if you take your list modules and transform it into a list of dependencies of the form <code>perl(Module::Name)</code>, you can pass that directly to yum.</p>\n\n<p>Transforming your list, I get:</p>\n\n<pre><code>perl(Bundle::CPAN)\nperl(ExtUtils::CBuilder)\nperl(DBI)\nperl(DBD::mysql)\nperl(YAML)\nperl(Params::Validate)\nperl(CGI)\nperl(URI::Escape)\nperl(Time::DaysInMonth)\nperl(DateTime)\nperl(DateTime::TimeZone)\nperl(DateTime::Locale)\nperl(XML::Simple)\nperl(Data::Dumper)\nperl(Module::Build)\nperl(Storable)\nperl(Time::Zone)\nperl(Date::Parse)\nperl(Curses)\nperl(POE)\nperl(Sys::Syslog)\nperl(FCGI)\nperl(DateTime::Set)\nperl(DateTime::Event::Recurrence)\nperl(DateTime::Incomplete)\nperl(Date::Language)\nperl(DateTime::Format::Strptime)\nperl(DBI::Shell)\nperl(JSON)\nperl(CGI::Fast)\nperl(Locale::gettext_pp)\nperl(Text::Template)\nperl(Mail::Sendmail)\nperl(XML::Simple)\n</code></pre>\n\n<p>If I put this in a file called \"modules\" and then run:</p>\n\n<pre><code>yum install $(cat modules)\n</code></pre>\n\n<p>I get a list of 45 packages to be installed.  Give that a shot.  It may not be comprehensive (you may still need to install a few with CPAN), but it should ultimately be much faster.</p>\n"}], "owner": {"reputation": 1194, "user_id": 982722, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/102305f5ba0c6c32702df3027d4c87c4?s=128&d=identicon&r=PG", "display_name": "mbouzahir", "link": "https://stackoverflow.com/users/982722/mbouzahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5612, "favorite_count": 1, "accepted_answer_id": 28422727, "answer_count": 1, "score": 2, "last_activity_date": 1428498980, "creation_date": 1423530964, "last_edit_date": 1428498980, "question_id": 28422486, "link": "https://stackoverflow.com/questions/28422486/installing-modules-for-perl", "title": "installing modules for perl", "body": "<pre><code>perl -MCPAN -e \"install \n\nBundle::CPAN,ExtUtils::CBuilder,DBI,DBD::mysql,YAML,Params::Validate,\nCGI,URI::Escape,Time::DaysInMonth,DateTime,DateTime::TimeZone,DateTime::Locale,\nXML::Simple,Data::Dumper,Module::Build,Storable,Time::Zone,Date::Parse,Curses,\nPOE,Sys::Syslog,FCGI,DateTime::Set,DateTime::Event::Recurrence,DateTime::Incomplete,\nDate::Language,DateTime::Format::Strptime,DBI::Shell,JSON,CGI::Fast,\nLocale::gettext_pp,Text::Template,Mail::Sendmail,XML::Simple\";\n</code></pre>\n\n<p>I have to execute this command to install some modules needed for a voip server.</p>\n\n<p>This command takes too much time to run (hours). Is there a faster way to do it?<br>\nI'm on <code>CentOS 6.5</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 17904, "user_id": 364818, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/5fd80d98f96f9adbde7876cbda181715?s=128&d=identicon&r=PG", "display_name": "Mark Lakata", "link": "https://stackoverflow.com/users/364818/mark-lakata"}, "edited": false, "score": 3, "creation_date": 1423518838, "post_id": 28420083, "comment_id": 45173371, "body": "Look up the &quot;sub&quot; command in perl.  <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlsub.html</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423518842, "post_id": 28420083, "comment_id": 45173378, "body": "Looks like you have the core elements there - you just need to &#39;wrap&#39; your second script in the foreach loop."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1423521014, "post_id": 28420083, "comment_id": 45174491, "body": "@Jason: Your <code>x937.pl</code> program has a few problems. Most seriously <code>$tiff_flag</code> is never modified after it is initialised to zero, so the <code>if</code> block is never entered and no TIFF files are created. That means the <code>$tiff_flag</code> and <code>$count</code> variables can be deleted. There is also no need for the first <code>binmode</code> as the open mode is <code>&lt;:raw</code>,"}, {"owner": {"reputation": 3, "user_id": 4548080, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-227hoa6L30E/AAAAAAAAAAI/AAAAAAAAAPY/6cVHCHgV1xM/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/4548080/jason"}, "edited": false, "score": 0, "creation_date": 1423672832, "post_id": 28420083, "comment_id": 45245434, "body": "Everyone, thank you very much for your help! Very sorry I have not responded until now - was sick yesterday. Maintaining $tiff_flag for future ability to extract Tiff files from x9-37 Image Cash Letter file. Currently not being used, but may be in the future."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1423529180, "post_id": 28421299, "comment_id": 45177479, "body": "Your <code>$outfh</code> is scoped to the <code>unless</code> block, and doesn&#39;t exist at the point of the <code>print</code> and <code>close</code>. It worked for the OP because he used a global file handle. It&#39;s best to stick to the popular idiom <code>open my $outfh, &#39;&gt;&#39;, $outfile or die &quot;Unable to create $outfile: $!&quot;</code> or <code>use autodie</code>"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1423530274, "post_id": 28421299, "comment_id": 45177786, "body": "What is <code>$tiff_flag</code> - is it set outside the program somehow?"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1423530351, "post_id": 28421299, "comment_id": 45177808, "body": "Just noticed Borodin pointed out the same thing in a comment on the OP - the question still stands :)"}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1423554260, "post_id": 28421299, "comment_id": 45184825, "body": "Why is everyone getting so hung up on a flag? There were more fundamental things goi on that needed sorting first"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423575231, "post_id": 28421299, "comment_id": 45195980, "body": "I&#39;m not sure what you mean by <i>\u201cmore fundamental things</i>, but the behaviour of <code>$tiff_flag</code> renders a big chunk (the whole of the inner <code>if</code>) of the <code>while</code> loop ineffective. So your tinkering with the code in there is pointless. If you&#39;re referring to the points you raise in your answer then, while they are valid, none of them prevent the code from working."}, {"owner": {"reputation": 3, "user_id": 4548080, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-227hoa6L30E/AAAAAAAAAAI/AAAAAAAAAPY/6cVHCHgV1xM/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/4548080/jason"}, "edited": false, "score": 0, "creation_date": 1423673017, "post_id": 28421299, "comment_id": 45245570, "body": "@DavidK-J This looks very good. I added &#39;(&#39; in <code>open (my $outfh, &#39;&gt;&#39;, $outfile) or die &quot;Unable to create $outfile&quot;;</code> I believe this is correct.  However, it&#39;s dying on that line. If I comment out the <code>open $outfh</code> and <code>close $outfh</code>, and remove <code>$outfh</code> from the <code>print $outfh decode etc</code> line, then everything will print successfully to screen.  Any suggestions? I feel this is probably basic, but sadly, my understanding is not quite there."}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1423673872, "post_id": 28421299, "comment_id": 45246113, "body": "Maybe you don&#39;t have permission to write to that directory? I updated my code to replace the mysteriously disappeared bracket, and also to add <code>$!</code> to the <code>die</code> output. Running again /should/ shed some light on what&#39;s going on there."}, {"owner": {"reputation": 3, "user_id": 4548080, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-227hoa6L30E/AAAAAAAAAAI/AAAAAAAAAPY/6cVHCHgV1xM/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/4548080/jason"}, "edited": false, "score": 0, "creation_date": 1423674469, "post_id": 28421299, "comment_id": 45246473, "body": "I failed to mention that I am running in Windows. I changed <code>my @files = &lt;$path&#47;*.x937&gt;;</code> to <code>my @files = &lt;$path\\*.x937&gt;;</code>. I hope the omission of my OS has not caused any confusion.  I ran     C:\\TMP&gt; perl test_x937.pl C:\\TMP\\ and received following error: <code>Unable to create output_C:\\TMP\\200000004_20150129_000954_69001.x937.txt. Invalid argument at test_x937.pl line 23.</code>  I think <code>$outfile</code> contains full path - I&#39;m currently trying to research and correct, but any assistance would be much appreciated."}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1423674553, "post_id": 28421299, "comment_id": 45246517, "body": "pretty sure you keep it as a forward slash, but I can&#39;t test that right now ;)"}, {"owner": {"reputation": 3, "user_id": 4548080, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-227hoa6L30E/AAAAAAAAAAI/AAAAAAAAAPY/6cVHCHgV1xM/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/4548080/jason"}, "edited": false, "score": 0, "creation_date": 1423675057, "post_id": 28421299, "comment_id": 45246816, "body": "Leaving forward slash returns the following error:   <code>Unable to create output_C:\\TMP\\&#47;200000004_20150129_000954_69001.x937.txt. Invalid argument at test_x937.pl line 23.</code>   Think filename vs path is currently the main issue. I&#39;ll let you know if I get it figured out."}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1423675961, "post_id": 28421299, "comment_id": 45247359, "body": "Updated again, untested (no Windows here). Might need some fiddling."}, {"owner": {"reputation": 3, "user_id": 4548080, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-227hoa6L30E/AAAAAAAAAAI/AAAAAAAAAPY/6cVHCHgV1xM/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/4548080/jason"}, "edited": false, "score": 0, "creation_date": 1423683365, "post_id": 28421299, "comment_id": 45251714, "body": "@DavidK-J One minor change and it works perfectly:   change <code>$file</code> to <code>$fname</code> in <code>open (my $infh, &#39;&lt;:raw&#39;, $file) or die &quot;Error opening &#39;$file&#39;. $!&quot;;</code>  Thank you for all your help!"}], "tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": true, "score": 0, "last_activity_date": 1423675921, "last_edit_date": 1423675921, "creation_date": 1423523620, "answer_id": 28421299, "question_id": 28420083, "link": "https://stackoverflow.com/questions/28420083/modify-perl-script-to-run-for-each-file-with-specified-extension-in-a-given-dire/28421299#28421299", "title": "Modify Perl script to run for each file with specified extension in a given directory", "body": "<p>I think I managed to generate this correctly (on iPad, sat on the sofa) ... There could be some typos <code>; )</code></p>\n\n<p>Usage: <code>perl test_x397.pl &lt;path&gt;</code></p>\n\n<p>test_x397.pl</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict; use warnings;\nuse Encode;\n\nmy ($path) = @ARGV;\n$path // die \"No path specified\";\n(-e $path) or die \"Path not found: $path\";\n(-d $path) or die \"Not a directory: $path\";\n\nmy @files = &lt;$path/*.x937&gt;;\n\nforeach my $file (@files) {\n   process($file);\n}\n\nsub process {\n    my ($fname) = @_;\n\n    my ($dir, $file) = $fname =~ m{^(.*)/(.+)$};\n\n    my $tiff_flag = 0;\n    my $count = 0;\n    my $outfile = sprintf(\"%s/output_%s.txt\", $dir, $file);\n\n    open (my $outfh, '&gt;', $outfile) or die \"Unable to create $outfile. $!\";\n\n    open (my $infh, '&lt;:raw', $file) or die \"Error opening '$file'. $!\";\n\n\n    my $buffer = undef;\n\n    while (read ($infh,$buffer,4)) {\n        my $rec_len = unpack(\"N\", $buffer);\n        die \"Bad record length: $rec_len\" unless ($rec_len &gt; 0);\n        read ($infh, $buffer, $rec_len);\n\n        if (substr($buffer, 0, 2) eq \"\\xF5\\xF2\") {\n            if ($tiff_flag) {\n                $count++;\n                my $tiff_filename = sprintf('%s/output_%s_img%04d.tiff', $dir, $file, $count);\n                open (my $tiffh, '&gt;', $tiff_filename) or die \"Can't create image file $!\";\n                binmode($tiffh) or die 'Error setting binary mode on image file';\n                print $tiffh substr($buffer, 117);\n                close $tiffh;\n            }\n            $buffer = substr($buffer, 0, 117);\n        }\n        print $outfh decode ('cp1047', $buffer) . \"\\n\";\n    }\n    close $infh;\n    close $outfh;\n}\n</code></pre>\n\n<p>A few things to note:</p>\n\n<ol>\n<li>Always use the three argument version of open</li>\n<li>Using a scalar filehandle makes it easier to pass it around (not necessary in this example but good practice)</li>\n<li>Don't modify $_. It can lead to nasty surprises in larger programs</li>\n<li>You already used sprintf to make part of your tiff filename, so why not use it for the whole thing.</li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 4548080, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-227hoa6L30E/AAAAAAAAAAI/AAAAAAAAAPY/6cVHCHgV1xM/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/4548080/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 28421299, "answer_count": 1, "score": -5, "last_activity_date": 1423675921, "creation_date": 1423518649, "last_edit_date": 1423529005, "question_id": 28420083, "link": "https://stackoverflow.com/questions/28420083/modify-perl-script-to-run-for-each-file-with-specified-extension-in-a-given-dire", "title": "Modify Perl script to run for each file with specified extension in a given directory", "body": "<p>I need to modify a Perl script <code>x937.pl</code> to run on all files with extension <code>.x937</code> within a specific directory. Currently, I use a separate script <code>test.pl</code> that calls my main script, and runs it for each file of that type. However, I need to combine both into one script.</p>\n\n<p>Ideally, I would be able to specify a directory path in the script, and loop through all <code>*.x937</code> files in that directory.</p>\n\n<p><strong>test.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Encode;\n\nmy @files = &lt;*.x937&gt;;\n\nforeach my $file (@files) {\n    system('x937.pl', $file);\n}\n</code></pre>\n\n<p><strong>x937.pl</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Encode;\nuse warnings;\n\nmy $tiff_flag = 0;\nmy $count     = 0;\nmy $file      = \"output_$ARGV[0].txt\";\n\nunless ( open OPUT, '&gt;' . $file ) {\n    die \"Unable to create $file\";\n}\n\nopen FILE, '&lt;:raw', $ARGV[0] or die \"Error opening '$ARGV[0]' $!\";\nbinmode( FILE ) or die 'Error setting binary mode on input file';\n\nwhile ( read( FILE, $_, 4 ) ) {\n    my $rec_len = unpack( \"N\", $_ );\n    die \"Bad record length: $rec_len\" unless ( $rec_len &gt; 0 );\n    read( FILE, $_, $rec_len );\n    if ( substr( $_, 0, 2 ) eq \"\\xF5\\xF2\" ) {\n        if ( $tiff_flag ) {\n            $count++;\n            open( TIFF, '&gt;', 'output_' . $ARGV[0] . '_img' . sprintf( \"%04d\", $count ) . '.tiff' )\n                    or die \"Can't create image file $!\";\n            binmode( TIFF ) or die 'Error setting binary mode on image file';\n            print TIFF substr( $_, 117 );\n            close TIFF;\n        }\n        $_ = substr( $_, 0, 117 );\n    }\n    print OPUT decode( 'cp1047', $_ ) . \"\\n\";\n}\nclose FILE;\n\nclose OPUT;\n</code></pre>\n"}, {"tags": ["perl", "stat", "activestate"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423518239, "post_id": 28419929, "comment_id": 45173068, "body": "The built-in <a href=\"http://perldoc.perl.org/functions/stat.html\" rel=\"nofollow noreferrer\"><code>stat</code></a> is not the same as <code>stat</code> from <a href=\"https://metacpan.org/pod/File::stat\" rel=\"nofollow noreferrer\"><code>File::stat</code></a> (which is not the same as <a href=\"https://metacpan.org/pod/File::Stat\" rel=\"nofollow noreferrer\"><code>File::Stat</code></a>)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423518577, "post_id": 28419929, "comment_id": 45173231, "body": "<a href=\"http://stackoverflow.com/a/28420020/176646\">ikegami already did.</a>"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423518768, "post_id": 28419929, "comment_id": 45173332, "body": "&quot;Use it appropriately&quot; isn&#39;t an answer."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423519567, "post_id": 28419929, "comment_id": 45173771, "body": "&quot;Remove <code>use File::stat;</code>&quot; <i>is</i> an answer, and &quot;<code>File::stat</code> replaces <code>stat</code> with one that has a different interface&quot; is no different from what I said in my comment (except for the links). Regardless, you have two answers now, no need for me to add another."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423520525, "post_id": 28419929, "comment_id": 45174267, "body": "Except for the links. Right. His answer wasn&#39;t quite thorough enough to be a good comment. But as you mention, Sobrique did a fine job."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1423518454, "creation_date": 1423518454, "answer_id": 28420020, "question_id": 28419929, "link": "https://stackoverflow.com/questions/28419929/unexpected-output-from-perl-script/28420020#28420020", "title": "Unexpected output from perl script", "body": "<p>File::stat replaces <code>stat</code> with one that has a different interface. Remove <code>use File::stat;</code> or use its <code>stat</code> appropriately.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 7, "last_activity_date": 1566591350, "last_edit_date": 1566591350, "creation_date": 1423518584, "answer_id": 28420065, "question_id": 28419929, "link": "https://stackoverflow.com/questions/28419929/unexpected-output-from-perl-script/28420065#28420065", "title": "Unexpected output from perl script", "body": "<p>This works fine:</p>\n\n<pre><code>#!perl\n\nuse strict;\nuse warnings;\n\nmy $filename = 'c:\\Users\\username\\Documents\\asdf23rasdf.pl';\nmy ($dev,  $ino,   $mode,  $nlink, $uid,     $gid, $rdev,\n    $size, $atime, $mtime, $ctime, $blksize, $blocks\n) = stat($filename);\nprint($mtime);\n</code></pre>\n\n<p>As alluded to in the comments - Perl's built-in <code>stat</code> works like the above. You don't need to use <code>File::Stat</code> or <code>File::stat</code> in order to do that. They just provide different interfaces to the same functionality.</p>\n\n<p>If you want to do it with <code>File::stat</code> it goes like this:</p>\n\n<pre><code>use File::stat;\n\nmy $filename = 'c:\\Users\\username\\Documents\\asdf23rasdf.pl';\nmy $stats = stat($filename);\nprint( $stats -&gt; mtime);\n</code></pre>\n"}], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 28420065, "answer_count": 2, "score": 1, "last_activity_date": 1566591578, "creation_date": 1423518064, "last_edit_date": 1566591578, "question_id": 28419929, "link": "https://stackoverflow.com/questions/28419929/unexpected-output-from-perl-script", "title": "Unexpected output from perl script", "body": "<p>The following script produces no output:</p>\n\n<pre><code>use File::stat;\nuse Time::localtime;\nmy $filename = 'c:\\testfile';\nmy ($dev,$ino,$mode,$nlink,$uid,$gid,$rdev,$size,\n              $atime,$mtime,$ctime,$blksize,$blocks)\n                  = stat($filename);\nprint(\"$mtime\");\n</code></pre>\n\n<p><code>c:\\testfile</code> exists. </p>\n\n<p>I've seen several answers on SO -- <a href=\"https://stackoverflow.com/questions/397495/how-can-i-compare-file-creation-time-to-the-current-time-in-perl\">this, for example</a> -- which seem to suggest that the array returned by <code>stat()</code> should have something meaningful in it, but I haven't seen that to be the case in practice. </p>\n\n<p>This is 64 bit <a href=\"https://en.wikipedia.org/wiki/ActivePerl\" rel=\"nofollow noreferrer\">ActivePerl</a> on Windows 7.</p>\n\n<p>Does stat not do what those answers seemed to imply, or do Perl's file date/time functions not work under Windows (or 64 bit Windows, or some such?)</p>\n"}, {"tags": ["perl", "sqlplus"], "comments": [{"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 2, "creation_date": 1423513828, "post_id": 28418695, "comment_id": 45170652, "body": "Would <code>tee</code> work in this case? <a href=\"http://en.wikipedia.org/wiki/Tee_%28command%29\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Tee_%28command%29</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423518915, "post_id": 28418695, "comment_id": 45173415, "body": "I would suggest rather than using <code>system</code> you may want to consider using the <code>DBI</code> module."}], "answers": [{"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 2, "last_activity_date": 1423514166, "creation_date": 1423514166, "answer_id": 28418867, "question_id": 28418695, "link": "https://stackoverflow.com/questions/28418695/perl-execute-sql-print-output-to-a-file-and-write-to-screen/28418867#28418867", "title": "Perl execute sql, print output to a file AND write to screen", "body": "<p>You can capture the results yourself and send them to both targets.</p>\n\n<pre><code>my $output = `sqlplus -s schema/pwd\\@dbname \\@$sql_file`;\nprint $output;\nopen( my $file, '&gt;', $log_file ) or die $!;\nprint {$file} $output;\nclose $file;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 0, "last_activity_date": 1423514882, "creation_date": 1423514882, "answer_id": 28419047, "question_id": 28418695, "link": "https://stackoverflow.com/questions/28418695/perl-execute-sql-print-output-to-a-file-and-write-to-screen/28419047#28419047", "title": "Perl execute sql, print output to a file AND write to screen", "body": "<p>You can effectively <code>tee</code> the output of the command, and save some memory, by reading its <code>STDOUT</code> using a pipe:</p>\n\n<pre><code>open(my $cmdfh, \"sqlplus -s schema/pwd\\@dbname \\@$sql_file |\") or die $!;\nopen(my $logfh, '&gt;', $log_file ) or die $!;\n\nwhile (&lt;$cmdfh&gt;) { \n    print; \n    print {$logfh} $_;\n}\n\nclose $logfh;\nclose $cmdfh;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4547880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65c00562edb4dfa3de2655da5ca169d5?s=128&d=identicon&r=PG&f=1", "display_name": "PeteG", "link": "https://stackoverflow.com/users/4547880/peteg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1423514882, "creation_date": 1423513615, "last_edit_date": 1423513773, "question_id": 28418695, "link": "https://stackoverflow.com/questions/28418695/perl-execute-sql-print-output-to-a-file-and-write-to-screen", "title": "Perl execute sql, print output to a file AND write to screen", "body": "<p>I call a SQL file thru my perl script, which writes the output to a log file, as:</p>\n\n<pre><code>system(\"sqlplus -s schema/pwd\\@dbname \\@$sql_file &gt; $log_file\");\n</code></pre>\n\n<p>However, I would like to have the output written to the screen as well. Is there a way to do this (other than re-executing the command sans writing to the log file)?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1423512551, "post_id": 28418334, "comment_id": 45169983, "body": "Using a hash to check for duplicates is the idiomatic way to do it."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423514824, "post_id": 28418399, "comment_id": 45171191, "body": "Bonus: This method preserves the input&#39;s order (while <code>keys %seen</code> doesn&#39;t)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1423514873, "last_edit_date": 1423514873, "creation_date": 1423512615, "answer_id": 28418399, "question_id": 28418334, "link": "https://stackoverflow.com/questions/28418334/remove-almost-repeats-in-a-perl-array/28418399#28418399", "title": "Remove ALMOST repeats in a perl Array", "body": "<p>The following assigns a list without duplicates to <code>@filtered</code>:</p>\n\n<pre><code>my %seen;\nmy @filtered = grep { !$seen{$_}++ } @array;\n</code></pre>\n\n<p>In your case, a minor tweek is needed. The substring between quotes is what determines if you've already seen that item, so it needs to be used in lieu of <code>$_</code>.</p>\n\n<pre><code>my %seen;\nmy @filtered = grep { /^\"([^\"]+)\"/ &amp;&amp; !$seen{$1}++ } @array;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 347, "user_id": 3791546, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/05ae7bc65dfb648d4e6e02b3f31e82d8?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Miller", "link": "https://stackoverflow.com/users/3791546/evan-miller"}, "edited": false, "score": 0, "creation_date": 1423521048, "post_id": 28418520, "comment_id": 45174514, "body": "I am interested in adding the Time::Piece to parse dates. Is there a quick and easy method to doing this? I can&#39;t seem to find any clear examples around."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 347, "user_id": 3791546, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/05ae7bc65dfb648d4e6e02b3f31e82d8?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Miller", "link": "https://stackoverflow.com/users/3791546/evan-miller"}, "edited": false, "score": 0, "creation_date": 1423521269, "post_id": 28418520, "comment_id": 45174626, "body": "There&#39;s a section on it in the man page: <a href=\"http://search.cpan.org/~rjbs/Time-Piece-1.29/Piece.pm#Date_Parsing\" rel=\"nofollow noreferrer\">search.cpan.org/~rjbs/Time-Piece-1.29/Piece.pm#Date_Parsing</a> - it supports <code>strptime</code> which&#39;ll turn a formatted time into a numeric representation"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1423513038, "creation_date": 1423513038, "answer_id": 28418520, "question_id": 28418334, "link": "https://stackoverflow.com/questions/28418334/remove-almost-repeats-in-a-perl-array/28418520#28418520", "title": "Remove ALMOST repeats in a perl Array", "body": "<p>For duplicate detection, a hash is the tool for the job. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nmy @array = (\n    \"\\\"Foo in Bar\\\" on Mon 09 Feb 2015 08:07:44 AM PST\",\n    \"\\\"Foo in Bar\\\" on Mon 09 Feb 2015 08:07:47 AM MST\",\n    \"\\\"Foo in Bar\\\" on Mon 09 Feb 2015 08:07:49 AM MST\",\n    \"\\\"Apple in Pie\\\" on Mon 09 Feb 2015 10:22:32 AM MST\",\n    \"\\\"Foo in Bar\\\" on Mon 09 Feb 2015 08:07:51 AM MST\",\n    \"\\\"Rock in Out\\\" on Mon 09 Feb 2015 11:17:41 AM PST\"\n);\n\nmy %seen;\n\nforeach my $element (@array) {\n    my ($first_bit) = ( $element =~ m/^(.*) on/ );\n    $seen{$first_bit} = $element;\n}\n\nforeach my $first_bit ( keys %seen ) {\n    print $seen{$first_bit}, \"\\n\";\n}\n</code></pre>\n\n<p>We iterate the array, selecting the 'first bit' out of the string (I'm grabbing anything in front of 'on' in this example - you may want to match something different).</p>\n\n<p>By using that as a hash key, and duplicates overwrite, and then we just print one element. You could test for existence of <code>$seen{$first_bit}</code> if you want the first occurrence, rather than the last. You could use <code>Time::Piece</code> to parse dates and sort if that was important to you. </p>\n"}], "owner": {"reputation": 347, "user_id": 3791546, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/05ae7bc65dfb648d4e6e02b3f31e82d8?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Miller", "link": "https://stackoverflow.com/users/3791546/evan-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 28418399, "answer_count": 2, "score": 0, "last_activity_date": 1423514873, "creation_date": 1423512352, "question_id": 28418334, "link": "https://stackoverflow.com/questions/28418334/remove-almost-repeats-in-a-perl-array", "title": "Remove ALMOST repeats in a perl Array", "body": "<p>I have an array with the following elements:</p>\n\n<pre><code>my @array = (\"\\\"Foo in Bar\\\" on Mon 09 Feb 2015 08:07:44 AM PST\",\n\"\\\"Foo in Bar\\\" on Mon 09 Feb 2015 08:07:47 AM MST\",\n\"\\\"Foo in Bar\\\" on Mon 09 Feb 2015 08:07:49 AM MST\",\n\"\\\"Apple in Pie\\\" on Mon 09 Feb 2015 10:22:32 AM MST\",\n\"\\\"Foo in Bar\\\" on Mon 09 Feb 2015 08:07:51 AM MST\",\n\"\\\"Rock in Out\\\" on Mon 09 Feb 2015 11:17:41 AM PST\") \n</code></pre>\n\n<p>I want to sort this array so that all elements with a repeated string (inside the \"\") will be removed. The reason why this is a little unique is because the time associated with each string is a little different, but not much.</p>\n\n<p>Here is what I want the output to look like:</p>\n\n<pre><code>\"\\\"Foo in Bar\\\" on Mon 09 Feb 2015 08:07:49 AM MST\",\n\"\\\"Apple in Pie\\\" on Mon 09 Feb 2015 10:22:32 AM MST\",\n\"\\\"Rock in Out\\\" on Mon 09 Feb 2015 11:17:41 AM PST\"\n</code></pre>\n\n<p>I don't really care about sorting the time, just removing the repeats inside the \"\". </p>\n\n<p>This was my thought process so far:</p>\n\n<pre><code>    my @row;\n    foreach my $row (@array) {\n        my $name = $row;\n        $name =~ s/\\son.*//;\n        next if (grep {$_ =~ /($name)/} @row);\n        push(@row,$row);\n    }\n</code></pre>\n\n<p>There has to be a better way to do this. Also, I am having issues with my method (the grep doesn't seem to be working as intended, it won't go to the next statement).</p>\n"}, {"tags": ["perl", "postgresql", "psql"], "answers": [{"tags": [], "owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "is_accepted": true, "score": 3, "last_activity_date": 1423513976, "creation_date": 1423513976, "answer_id": 28418805, "question_id": 28418295, "link": "https://stackoverflow.com/questions/28418295/why-does-psql-add-a-symbol-to-the-hostname-in-this-user-defined-function/28418805#28418805", "title": "Why does psql add a &#39;+&#39; symbol to the hostname in this user defined function", "body": "<p>Perl's backticks include the trailing newline so when you say:</p>\n\n<pre><code>my $hostname = `hostname`\n</code></pre>\n\n<p>you get a trailing newline in <code>$hostname</code>. The <code>+</code> you're seeing in the <code>psql</code> output is just <code>psql</code>'s way of indicating that there is a newline in the field.</p>\n\n<p>You probably want to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\"><code>chomp</code></a> inside the function:</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION hostname()                                                             \nRETURNS text AS\n$BODY$\n    my $hostname = `hostname`;\n    chomp($hostname);\n    return $hostname;\n$BODY$\nLANGUAGE 'plperlu';\n</code></pre>\n\n<p>I also changed the return type to <code>text</code> since there's no need to include an arbitrary limit and you almost always want <code>text</code> instead of <code>varchar(n)</code> with PostgreSQL anyway.</p>\n\n<p>You might want to read up on the <code>linestyle</code> option for <code>\\pset</code> in the <a href=\"http://www.postgresql.org/docs/current/static/app-psql.html\" rel=\"nofollow\">fine manual</a>.</p>\n"}], "owner": {"reputation": 1603, "user_id": 324491, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5754d96a3d5eae39acd2e264ded9505b?s=128&d=identicon&r=PG", "display_name": "cdated", "link": "https://stackoverflow.com/users/324491/cdated"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 28418805, "answer_count": 1, "score": 0, "last_activity_date": 1423513976, "creation_date": 1423512224, "question_id": 28418295, "link": "https://stackoverflow.com/questions/28418295/why-does-psql-add-a-symbol-to-the-hostname-in-this-user-defined-function", "title": "Why does psql add a &#39;+&#39; symbol to the hostname in this user defined function", "body": "<pre><code>map=# CREATE OR REPLACE FUNCTION hostname()                                                             \nRETURNS varchar(128) AS\n$BODY$\nreturn `hostname`;                                                                                \n$BODY$\nLANGUAGE 'plperlu';\nCREATE FUNCTION\n\nmap=# select hostname from hostname();                                                                  \n     hostname \n    ----------\n     topiary +\n\n\n(1 row)\n</code></pre>\n"}, {"tags": ["perl", "bugzilla", "template-toolkit"], "answers": [{"tags": [], "owner": {"reputation": 2954, "user_id": 2905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb53c993d09b1135375938f9727c28?s=128&d=identicon&r=PG", "display_name": "asjo", "link": "https://stackoverflow.com/users/2905/asjo"}, "is_accepted": false, "score": 0, "last_activity_date": 1423511744, "creation_date": 1423511744, "answer_id": 28418166, "question_id": 28418084, "link": "https://stackoverflow.com/questions/28418084/perl-syntax-to-access-the-constant-variable-in-cgi-script/28418166#28418166", "title": "perl syntax to access the constant variable in cgi script", "body": "<p>'.' probably means something different in Template::Toolkit.</p>\n\n<p>In Perl you just use BUGZILLA_VERSION:</p>\n\n<pre><code>$ perl -E 'use constant BUGZILLA_VERSION=&gt;\"4.0.11\"; say BUGZILLA_VERSION' \n4.0.11\n$ \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "is_accepted": true, "score": 1, "last_activity_date": 1423513434, "creation_date": 1423513434, "answer_id": 28418636, "question_id": 28418084, "link": "https://stackoverflow.com/questions/28418084/perl-syntax-to-access-the-constant-variable-in-cgi-script/28418636#28418636", "title": "perl syntax to access the constant variable in cgi script", "body": "<pre><code> print \"buzilla version  :  \".Bugzilla::Constants::BUGZILLA_VERSION.\" &lt;br/&gt;\";\n</code></pre>\n"}], "owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 1, "accepted_answer_id": 28418636, "answer_count": 2, "score": 0, "last_activity_date": 1598206468, "creation_date": 1423511509, "last_edit_date": 1598206468, "question_id": 28418084, "link": "https://stackoverflow.com/questions/28418084/perl-syntax-to-access-the-constant-variable-in-cgi-script", "title": "perl syntax to access the constant variable in cgi script", "body": "<p>recently I was debugging a piece of code and found the following usage in the template tool kit usage in the template.</p>\n<pre><code> #Constants.pm\n # Bugzilla version\n use constant BUGZILLA_VERSION =&gt; &quot;4.0.11&quot;;\n\n\n #template file index.html.tmpl\n [% PROCESS global/header.html.tmpl\n  header_addl_info = &quot;version $constants.BUGZILLA_VERSION&quot;\n  style_urls = [ 'skins/standard/index.css' ] \n %]\n\n #index.cgi\n use Bugzilla::Constants;\n .......\n\n print &quot;buzilla version  :  $constants.BUGZILLA_VERSION &lt;br/&gt;&quot;;\n</code></pre>\n<p>When I am using the same syntax in the main cgi script , giving error 500</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 384, "user_id": 172629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4sG2u.png?s=128&g=1", "display_name": "Sven", "link": "https://stackoverflow.com/users/172629/sven"}, "edited": false, "score": 1, "creation_date": 1423510475, "post_id": 28418488, "comment_id": 45170200, "body": "Do you have control over the script and can modify it or do you look for something purely on the database layer?"}, {"owner": {"reputation": 427, "user_id": 2267422, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/T3FOc.jpg?s=128&g=1", "display_name": "Timothy B.", "link": "https://stackoverflow.com/users/2267422/timothy-b"}, "reply_to_user": {"reputation": 384, "user_id": 172629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4sG2u.png?s=128&g=1", "display_name": "Sven", "link": "https://stackoverflow.com/users/172629/sven"}, "edited": false, "score": 0, "creation_date": 1423511900, "post_id": 28418488, "comment_id": 45170201, "body": "Sven, it&#39;s my script. I wrote it. It uses the Perl MySQL DBI."}, {"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1423513386, "post_id": 28418488, "comment_id": 45170406, "body": "You will have to look into either a front-end or back-end solution. Front-end meaning that you disable the Submit button upon clicking it and back-end meaning that you devise a double-submit prevention feature. Without knowing the details of your script, this question is nearly impossible to concisely answer"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1423513394, "post_id": 28418488, "comment_id": 45170412, "body": "Please show the relevant section of your Perl script. As a workaround, you could <a href=\"http://stackoverflow.com/questions/635937/how-do-i-specify-unique-constraint-for-multiple-columns-in-mysql\">create a unique constraint across all columns</a> except <code>id</code>, but that&#39;s just a band-aid; you should really figure out the root cause."}, {"owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "edited": false, "score": 1, "creation_date": 1423513419, "post_id": 28418488, "comment_id": 45170425, "body": "One thing: if you POST forms to insert new rows, you should redirect user to next page. So user can&#39;t accidentally reload page/run it twice."}, {"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423513490, "post_id": 28418488, "comment_id": 45170473, "body": "@ThisSuitIsBlackNot even as a band-aid, that workaround would cause far more problems than it would solve and I would caution Timothy 100% against taking that advice."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 1, "creation_date": 1423513625, "post_id": 28418488, "comment_id": 45170547, "body": "@MonkeyZeus It was a haphazard remark, so I don&#39;t doubt it could be mistaken, but please elaborate."}, {"owner": {"reputation": 427, "user_id": 2267422, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/T3FOc.jpg?s=128&g=1", "display_name": "Timothy B.", "link": "https://stackoverflow.com/users/2267422/timothy-b"}, "edited": false, "score": 0, "creation_date": 1423517792, "post_id": 28418488, "comment_id": 45172803, "body": "Through experience I&#39;ve noticed that Perl CGI scripts can run concurrently within the same user session. I&#39;m not sure why this happens. In the case of the &quot;submit order&quot; script I create a temporary &quot;lock file&quot; based on session ID. If the file is detected the script aborts (and assumes the previously running instance will finish the job). Perhaps the problem I&#39;m having is one of interleaved database updates."}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423518337, "post_id": 28418488, "comment_id": 45173115, "body": "Seconding @ThisSuitIsBlackNot... show us the Perl code!"}], "answers": [{"tags": [], "owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "is_accepted": false, "score": 0, "last_activity_date": 1423519071, "creation_date": 1423519071, "answer_id": 28420194, "question_id": 28418488, "link": "https://stackoverflow.com/questions/28418488/mysql-insert-creating-more-than-one-row/28420194#28420194", "title": "MySQL insert creating more than one row", "body": "<p>If you installed Perl, Apache, and MySQL from CentOS repositories and didn't make any radical configuration changes, it's highly unlikely you've found a bug in the platform. Are you using mod_perl or PSGI or is it definitely CGI? Have you installed any Perl modules from CPAN sources or has everything been installed through yum? </p>\n\n<p>A stupid solution you might consider implementing is generating some kind of nonce (one-time-use string or number) in your script, adding a column for it and a unique index on that column to your table, and inserting it along with the rest of the form data. If you catch a duplicate key error, just disregard it. That won't explain what's happening but it will prevent it from happening.</p>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1243296000, "open_beta_date": 1241049600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon@2.png", "twitter_account": "ServerFault", "favicon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/serverfault/Img/apple-touch-icon.png", "audience": "system and network administrators", "site_url": "https://serverfault.com", "api_site_parameter": "serverfault", "logo_url": "https://cdn.sstatic.net/Sites/serverfault/Img/logo.png", "name": "Server Fault", "site_type": "main_site"}, "on_date": 1423512936, "question_id": 666265}, "owner": {"reputation": 427, "user_id": 2267422, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/T3FOc.jpg?s=128&g=1", "display_name": "Timothy B.", "link": "https://stackoverflow.com/users/2267422/timothy-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423519071, "creation_date": 1423509365, "question_id": 28418488, "link": "https://stackoverflow.com/questions/28418488/mysql-insert-creating-more-than-one-row", "title": "MySQL insert creating more than one row", "body": "<p>I'm using MySQL on a CentOS server from a website running Apache and Perl. I'm seeing this behavior (mocked up):</p>\n\n<pre><code>mysql&gt; describe product;\n+-------+------------------+------+-----+---------+----------------+\n| Field | Type             | Null | Key | Default | Extra          |\n+-------+------------------+------+-----+---------+----------------+\n| id    | int(10) unsigned | NO   | PRI | NULL    | auto_increment |\n| name  | varchar(10)      | YES  |     | NULL    |                |\n+-------+------------------+------+-----+---------+----------------+\n2 rows in set (0.00 sec)\n\nmysql&gt; insert into product (name) values ('Widget');\nQuery OK, 1 row affected (0.00 sec)\n\nmysql&gt; insert into product (name) values ('Thing');\nQuery OK, 1 row affected (0.00 sec)\n\nmysql&gt; select * from product;\n+----+--------+\n| id | name   |\n+----+--------+\n|  1 | Widget |\n|  2 | Widget |\n|  3 | Thing  |\n+----+--------+\n3 rows in set (0.00 sec)\n</code></pre>\n\n<p>My theory is that the Perl CGI script may be executed concurrently (perhaps due to double click, browser refresh, etc.) so the insert gets performed twice. This is fairly rare but causes problems when it happens.</p>\n\n<p>In cases where this happens, all columns except 'id' have identical values. Other than column 'id' duplicate values are allowed.</p>\n\n<p>Is there a way to prevent this behavior?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1423507204, "post_id": 28416818, "comment_id": 45166937, "body": "Closer to OP&#39;s intent may be: <code>$line =~ s&#47;(.*&gt;)(.*)([([].*)&#47;$2&#47;;</code>"}], "tags": [], "owner": {"reputation": 113, "user_id": 2853127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481b69a847037e0713b77370ac0e8271?s=128&d=identicon&r=PG&f=1", "display_name": "PrgmError", "link": "https://stackoverflow.com/users/2853127/prgmerror"}, "is_accepted": false, "score": 0, "last_activity_date": 1423506841, "creation_date": 1423506841, "answer_id": 28416818, "question_id": 28416733, "link": "https://stackoverflow.com/questions/28416733/substitute-multiple-substrings-in-perl/28416818#28416818", "title": "Substitute multiple substrings in Perl", "body": "<p>Try this:</p>\n\n<pre><code>$line =~ s/(.*&gt;)(.*)(\\(.*)/$2/;\n</code></pre>\n\n<p>What this does is that it matches the entire line for that pattern, and substitutes the entire line with $2 which is the song title. </p>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 4547483, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b009bfbb23df0d9f292e79b331eb03f6?s=128&d=identicon&r=PG", "display_name": "thechucklingatom", "link": "https://stackoverflow.com/users/4547483/thechucklingatom"}, "edited": false, "score": 0, "creation_date": 1423509161, "post_id": 28416881, "comment_id": 45167986, "body": "Thank you very much! I think I understand how to do the rest of the punctuation as well now."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 1, "last_activity_date": 1428936577, "last_edit_date": 1428936577, "creation_date": 1423507045, "answer_id": 28416881, "question_id": 28416733, "link": "https://stackoverflow.com/questions/28416733/substitute-multiple-substrings-in-perl/28416881#28416881", "title": "Substitute multiple substrings in Perl", "body": "<p><strong>Substitute multiple substrings in Perl:</strong></p>\n\n<pre><code>$line =~ s/.*&gt;|(\\(.*)|(\\[.*)//g;\n</code></pre>\n\n<p>In a Perl regex, the <code>g</code> modifier continually applies the RegEx until it stops matching.</p>\n\n<p>Though as the last two conditions are nearly identical, I'd probably consolidate it to:</p>\n\n<pre><code>$line =~ s/.*&gt;|([([].*)//g;\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4547483, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b009bfbb23df0d9f292e79b331eb03f6?s=128&d=identicon&r=PG", "display_name": "thechucklingatom", "link": "https://stackoverflow.com/users/4547483/thechucklingatom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 28416881, "answer_count": 2, "score": 0, "last_activity_date": 1428936577, "creation_date": 1423506483, "last_edit_date": 1428936475, "question_id": 28416733, "link": "https://stackoverflow.com/questions/28416733/substitute-multiple-substrings-in-perl", "title": "Substitute multiple substrings in Perl", "body": "<p>I am trying to match Strings that look like this in Perl</p>\n\n<pre><code>%TRMMHDT128F422F115&lt;SEP&gt;SOJEZBM12A6D4FEA96&lt;SEP&gt;Thursday&lt;SEP&gt;A Hole In The World (Album Version) [etc]\n</code></pre>\n\n<p>The strings will not always have the parentheses and/or brackets at the end. What I want to do is remove all the fluff around the song, and eventually all the punctuation in the song. I can do this currently in two passes with these statements:</p>\n\n<pre><code>$line =~ s/.*&gt;//;\n$line =~ s/(\\(.*)|(\\[.*)//;\n</code></pre>\n\n<p>I would like to do this all at once, but if I add a pipe <code>|</code> after the first expression and before the second it will not remove anything in the parentheses or brackets. Like so:</p>\n\n<pre><code>$line =~ s/.*&gt;|(\\(.*)|(\\[.*)//;\n</code></pre>\n\n<p>Now in a regex tester this matches everything I would like it to match but it isn't substituting everything. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1423505903, "post_id": 28416215, "comment_id": 45166241, "body": "(It will also match <code>New Los Angeles</code>, etc)"}], "answers": [{"tags": [], "owner": {"reputation": 29876, "user_id": 476716, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4e325890903afc8269eb2c1aa57587b3?s=128&d=identicon&r=PG", "display_name": "OrangeDog", "link": "https://stackoverflow.com/users/476716/orangedog"}, "is_accepted": true, "score": 8, "last_activity_date": 1423504700, "creation_date": 1423504700, "answer_id": 28416231, "question_id": 28416215, "link": "https://stackoverflow.com/questions/28416215/is-there-a-way-to-make-perl-regex-searches-case-insensitive/28416231#28416231", "title": "Is there a way to make Perl regex searches case-insensitive?", "body": "<pre><code>my $cities = qr/San Fransisco|Los Angeles/i;\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/perlre.html#Modifiers\">Perl regular expression modifiers</a></p>\n"}, {"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 8, "last_activity_date": 1423505434, "last_edit_date": 1423505434, "creation_date": 1423504714, "answer_id": 28416234, "question_id": 28416215, "link": "https://stackoverflow.com/questions/28416215/is-there-a-way-to-make-perl-regex-searches-case-insensitive/28416234#28416234", "title": "Is there a way to make Perl regex searches case-insensitive?", "body": "<p>It's not that you want to make the scalar <code>$cities</code> case-insensitive, but the regular expression it is referencing.  Use the <code>/i</code> modifier.</p>\n\n<pre><code>my $cities = qr/San Fransisco|Los Angeles/i;\n</code></pre>\n\n<p>You may find it useful to read the Perl regular expression tutorial: <code>perldoc perlretut</code>.</p>\n"}], "owner": {"reputation": 387, "user_id": 3842777, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bFxen.jpg?s=128&g=1", "display_name": "JDE876", "link": "https://stackoverflow.com/users/3842777/jde876"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 808, "favorite_count": 0, "accepted_answer_id": 28416231, "answer_count": 2, "score": 3, "last_activity_date": 1537825740, "creation_date": 1423504617, "last_edit_date": 1537825740, "question_id": 28416215, "link": "https://stackoverflow.com/questions/28416215/is-there-a-way-to-make-perl-regex-searches-case-insensitive", "title": "Is there a way to make Perl regex searches case-insensitive?", "body": "<p>Example:</p>\n\n<pre><code>my $cities = qr/San Francisco|Los Angeles/;\n</code></pre>\n\n<p>The scalar <code>$cities</code> will match <code>San Francisco</code> and <code>Los Angeles</code> but will not match <code>SAN FRANCISCO</code>, <code>LOS ANGELES</code>, <code>san francisco</code>, or <code>los angeles</code>.  Is there a way to make these variables case insensitive without having to create a capitalized version of them?</p>\n"}, {"tags": ["regex", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1423502186, "post_id": 28415394, "comment_id": 45164141, "body": "If everything is fixed width, the safest way is to read the line, bust up the fields based on the widths you know, and then rewrite the fields back out with new delimiters."}, {"owner": {"reputation": 6263, "user_id": 3034614, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/drTmM.png?s=128&g=1", "display_name": "mlegge", "link": "https://stackoverflow.com/users/3034614/mlegge"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1423502970, "post_id": 28415394, "comment_id": 45164616, "body": "@AndyLester As specified in the question, I unfortunately cannot rely on the files to have the same fwf structure, and the number of fields prohibits efficient reconstruction for each one."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1423507526, "post_id": 28415394, "comment_id": 45167115, "body": "What if you have <code>123 Bob Jones Chuck Smith 456</code>? Are Bob and Chuck different people?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1423512497, "post_id": 28415394, "comment_id": 45169952, "body": "When you say &quot;character&quot; above, do you mean &quot;alphabetic&quot; or something else (e.g. does it include characters like <code>.</code>, <code>$</code>, <code>[</code>, etc.)? When you say &quot;numeric&quot; do you mean &quot;whole number&quot; or something else (e.g. does it include numbers like <code>-8</code>, <code>0.5</code> and <code>3e7</code>)? That one line you provided really is a pretty hopeless sample input set to test against."}], "answers": [{"comments": [{"owner": {"reputation": 6263, "user_id": 3034614, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/drTmM.png?s=128&g=1", "display_name": "mlegge", "link": "https://stackoverflow.com/users/3034614/mlegge"}, "edited": false, "score": 0, "creation_date": 1423502718, "post_id": 28415463, "comment_id": 45164455, "body": "Great, thank you. How would the solution differ if there were multiple spaces between fields? (see edited question)"}, {"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 1, "creation_date": 1423502911, "post_id": 28415463, "comment_id": 45164582, "body": "Same, in Perl <code>perl -pe &#39;s&#47;[^a-z]\\K +| +(?=[^a-z])&#47;|&#47;gi&#39;</code>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1423505342, "post_id": 28415463, "comment_id": 45165946, "body": "that won&#39;t actually work in general to do what the OP says they want <code>replace the white spaces between character and numeric fields as well as numeric and numeric fields while leaving the white spaces between character values</code>. It just produces the expected output from the given sample input but will fail with other inputs (e.g. replace &quot;4797&quot; with &quot;BILL&quot;). The OP should have done a better job of thinking about what their input might be instead of just providing 1 line with just 1 possible case in it."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 1, "creation_date": 1423505949, "post_id": 28415463, "comment_id": 45166262, "body": "Probably: <code>sed -r &#39;s&#47;([[:alpha:]]) +([[:digit:]])|([[:digit:]]) +(.)&#47;\\1\\3|\\2\\4&#47;g&#39;</code> would be better but I can check this after seeing more input samples."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1423513827, "post_id": 28415463, "comment_id": 45170651, "body": "Beats me, I have only a vague idea what the question is. What&#39;s a &quot;character&quot; field? It probably doesn&#39;t contain digits but idk if there&#39;s any other characters it can/can&#39;t contain. What&#39;s a &quot;numeric&quot; field? It may be all digits or may contain negative signs or decimal points or....."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 6263, "user_id": 3034614, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/drTmM.png?s=128&g=1", "display_name": "mlegge", "link": "https://stackoverflow.com/users/3034614/mlegge"}, "edited": false, "score": 0, "creation_date": 1423514206, "post_id": 28415463, "comment_id": 45170865, "body": "@mkemp6: May I know what&#39;s wrong with the answer? Even your updated question&#39;s output is correctly coming with the <code>sed</code> commands I provided."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1423514959, "post_id": 28415463, "comment_id": 45171274, "body": "@EdMorton: I have also added an <code>awk</code> answer here. OP has also edited the question to provide more sample data."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1423515476, "post_id": 28415463, "comment_id": 45171573, "body": "Yup I had a very similar gawk solution in mind: <code>FPAT=&#39;[^[:alpha:][:space:]]+|[[:alpha:]]+[[:space:]]*[[:alph&zwnj;&#8203;a:]]*&#39;</code> but yours is better as I was assuming a single space inside the alphabetic fields."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1423516695, "post_id": 28415463, "comment_id": 45172202, "body": "++ for &quot;&lt;&lt;&lt; &quot;  for the trip down &quot;olde tyme shell&quot; lane :-) (was in the original response)."}, {"owner": {"reputation": 6263, "user_id": 3034614, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/drTmM.png?s=128&g=1", "display_name": "mlegge", "link": "https://stackoverflow.com/users/3034614/mlegge"}, "edited": false, "score": 1, "creation_date": 1423517158, "post_id": 28415463, "comment_id": 45172437, "body": "@anubhava I had simplified my question to try it to make it more useful to the SO community, the perl script dealt with some irregularities -- but I do like your awk +1"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1423514827, "last_edit_date": 1423514827, "creation_date": 1423502264, "answer_id": 28415463, "question_id": 28415394, "link": "https://stackoverflow.com/questions/28415394/replace-spaces-when-surrounded-by-numeric-values-but-not-by-alpha-character/28415463#28415463", "title": "Replace spaces when surrounded by numeric values, but not by alpha-character", "body": "<p>Using <code>sed</code>:</p>\n\n<pre><code>sed -r 's/([^[:alpha:]]) +| +([^[:alpha:]])/\\1|\\2/g' file\n708|447|4797|JOHN SMITH|18000\n708|447|4797|JOHN SMITH|18000\n708|447|4797|JOHN SMITH|18000\n708|-3.00|4797|JOHN SMITH|18000\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong> Using <code>gnu-awk</code>:</p>\n\n<pre><code>awk -v OFS='|' 'BEGIN { \n  FPAT=\"[^[:alpha:] ]+[[:alpha:]]+( +[[:alpha:]]+)*\"\n} {$1=$1} 1' file\n708|447|4797|JOHN SMITH|18000\n708|447|4797|JOHN SMITH|18000\n708|447|4797|JOHN SMITH|18000\n708|-3.00|4797|JOHN SMITH|18000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1423505606, "post_id": 28415518, "comment_id": 45166076, "body": "I get <code>Quantifier follows nothing in regex; marked by &lt;-- HERE in m&#47;(?&lt;=[A-Za-z])h+(?=[A-Za-z])(* &lt;-- HERE SKIP)(*F)|h&#47; at -e line 1.</code> from version <code>v5.8.4 built for sun4-solaris-64int</code>. Different error messages from other versions too."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1423502448, "creation_date": 1423502448, "answer_id": 28415518, "question_id": 28415394, "link": "https://stackoverflow.com/questions/28415394/replace-spaces-when-surrounded-by-numeric-values-but-not-by-alpha-character/28415518#28415518", "title": "Replace spaces when surrounded by numeric values, but not by alpha-character", "body": "<p>Some other ways through Perl,</p>\n\n<pre><code>$ echo '708 447 4797 JOHN SMITH 18000' | perl -pe 's/(?&lt;=[A-Za-z])\\h+(?=[A-Za-z])(*SKIP)(*F)|\\h/|/g' \n708|447|4797|JOHN SMITH|18000\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>$ echo '708 447 4797 JOHN SMITH 18000' | perl -pe 's/(?&lt;![A-Za-z])\\h+|\\h+(?![A-Za-z])/|/g' \n708|447|4797|JOHN SMITH|18000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1423515936, "post_id": 28416055, "comment_id": 45171811, "body": "Does <code>(?&lt;=\\d)</code> ... <code>(?=\\d)</code> make this match more reliably?  (<i>i.e.</i> the use of &quot;zero-width positive look-behind&quot; in general) or is it a choice made for readability documentation ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1423517060, "post_id": 28416055, "comment_id": 45172391, "body": "@G.Cito: It&#39;s similar to <code>\\d</code> ... <code>\\d</code>, except that it isn&#39;t part of the matched string. In the case of a substitution, as here, without using look-behind and look-ahead you would have to capture the digit and replace it using <code>$1</code> or <code>$2</code> in the substitution string. But there&#39;s no simple way to tell which of the alternations matched, so we can&#39;t know whether the replacement text should be <code>$1|</code> or <code>|$2</code> without using an executable replacement. Also, if the string is <code>AAA 9 AAA</code> then ` (\\d) \\h+ | \\h+ (\\d)` will match the space followed by <code>9</code> first, but the second space won&#39;t be found."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1423518121, "post_id": 28416055, "comment_id": 45173000, "body": "Excellent explanation. There is often much more thought required than at first seems necessary in order to for make a regexe robust <i>vis-a-vis</i> pesky and constantly unpredictable text. They are deceptively simple but powerful: towhit [Jamie Zawinsky] (<a href=\"http://en.wikiquote.org/wiki/Jamie_Zawinski\" rel=\"nofollow noreferrer\">en.wikiquote.org/wiki/Jamie_Zawinski</a>). ;-)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1423504112, "creation_date": 1423504112, "answer_id": 28416055, "question_id": 28415394, "link": "https://stackoverflow.com/questions/28415394/replace-spaces-when-surrounded-by-numeric-values-but-not-by-alpha-character/28416055#28416055", "title": "Replace spaces when surrounded by numeric values, but not by alpha-character", "body": "<p>This is all that is necessary</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $s = '708 447 4797 JOHN SMITH 18000';\n$s =~ s/ (?&lt;=\\d) \\h+ | \\h+ (?=\\d) /|/axg;\nsay $s;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>708|447|4797|JOHN SMITH|18000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 2, "last_activity_date": 1423551433, "last_edit_date": 1423551433, "creation_date": 1423507188, "answer_id": 28416925, "question_id": 28415394, "link": "https://stackoverflow.com/questions/28415394/replace-spaces-when-surrounded-by-numeric-values-but-not-by-alpha-character/28416925#28416925", "title": "Replace spaces when surrounded by numeric values, but not by alpha-character", "body": "<p>With this regex:</p>\n\n<pre><code>(?&lt;=\\d)[[:blank:]]+(?!$)|[[:blank:]]+(?=\\d)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/uK9vD0/2\" rel=\"nofollow\">DEMO</a></p>\n\n<p>Perl demo:</p>\n\n<pre><code>$ cat /tmp/nums.txt\n708 447 4797 JOHN SMITH 18000\n708 447 4797 JOHN SMITH    18000\n708  447  4797  JOHN SMITH  18000\n708 -3.00 4797 JOHN SMITH 18000\n\n$ perl -pe 's/(?&lt;=\\d)[[:blank:]]+(?!$)|[[:blank:]]+(?=\\d)/|/g' /tmp/nums.txt\n708|447|4797|JOHN SMITH|18000\n708|447|4797|JOHN SMITH|18000\n708|447|4797|JOHN SMITH|18000\n708|-3.00|4797|JOHN SMITH|18000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "is_accepted": false, "score": 1, "last_activity_date": 1423513909, "last_edit_date": 1423513909, "creation_date": 1423513019, "answer_id": 28418516, "question_id": 28415394, "link": "https://stackoverflow.com/questions/28415394/replace-spaces-when-surrounded-by-numeric-values-but-not-by-alpha-character/28418516#28418516", "title": "Replace spaces when surrounded by numeric values, but not by alpha-character", "body": "<p>While I like anubhava's sed solution, it seems more obvious to me to convert all spaces into your new separator, then identify what needs to be switched back.  The following produces the output you want from your sample data and also adapts to Ed Morton's concern about handling nearby alpha fields:</p>\n\n<pre><code>sed -r 's/ +/|/g; s/([[:alpha:]])\\|([[:alpha:]])/\\1 \\2/g'\n</code></pre>\n\n<p>It has the advantage of being a little shorter and easier to read.  (Okay, not much easier. It's still sed, after all.)</p>\n\n<p>One possible concern would be that this does not <em>preserve</em> whitespace inside text fields.  That is, <code>JOHN  SMITH</code> would be converted to <code>JOHN SMITH</code>.</p>\n\n<p>A way to avoid this would be this:</p>\n\n<pre><code>sed -r 's/([[:digit:]]) +/\\1|/g; s/ +([[:digit:]])/|\\1/g'\n</code></pre>\n\n<p>which I believe is just about equivalent to anubhava's solution except that it matches your requirements of separating fields around numeric content rather than around non-alphabetic content.</p>\n\n<p>You'd think that this sort of thing would be easy in <code>awk</code> as well, but as it turns out, awk's <code>sub()</code> and <code>gsub()</code> do not support backreferences.  If you happen to be using <code>gawk</code> however, the <code>gensub()</code> function may work:</p>\n\n<pre><code>gawk '{gsub(/ +/,\"|\"); print gensub(/([[:alpha:]])\\|([[:alpha:]])/, \"\\\\1 \\\\2\", \"g\", $0);}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>gawk '{print gensub(/([[:digit:]]) +/,\"\\\\1|\",\"g\",gensub(/ +([[:digit:]])/,\"|\\\\1\",\"g\",$0));}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1423533353, "last_edit_date": 1423533353, "creation_date": 1423516448, "answer_id": 28419498, "question_id": 28415394, "link": "https://stackoverflow.com/questions/28415394/replace-spaces-when-surrounded-by-numeric-values-but-not-by-alpha-character/28419498#28419498", "title": "Replace spaces when surrounded by numeric values, but not by alpha-character", "body": "<p>This is what occurred to me as an admittedly quick lazy stab at it: </p>\n\n<pre><code>perl -pe 's/(\\d)\\h+|\\h+(\\d)/$1|$2/g' &lt;&lt;&lt; \"123 49 5440 G.  Cito 1967 23456\" \n123|49|5440|G.  Cito|1967|23456\n</code></pre>\n\n<p>I read it as follows: \"Replace a digit followed by more than one horizontal space OR more than one horizontal space followed by a digit; with the original digit and |\".  It would preserve multiple spaces in alphabetical part of the string but would put \"<code>|</code>\" at the beginning if there were space before the <code>123</code> in this case.</p>\n\n<p><strong>NB</strong>: the quick/easy approach above in this response has an issue - see Borodin's response to my question about his/her solution. The fix is to use (as Borodin notes)  <code>(?&lt;=)</code> <code>(?=)</code> <a href=\"http://www.perlmonks.org/?node_id=518444\" rel=\"nofollow\">zero-width look around</a> which allows the expression inside (<code>\\d</code>) to work as a \"boundary\" and not get included in the match so <code>$1</code>, <code>$2</code>, <code>\\1</code> and <code>\\2</code> are not needed and only the horizontal space is replaced with <code>|</code>. </p>\n\n<pre><code>perl -pe 's/(?&lt;=\\d)\\h+|\\h+(?=\\d)/|/g' &lt;&lt;&lt;\"9 AAA 9 AAA 54 G. Cito 1967 123\"\n9|AAA|9|AAA|54|G. Cito|1967|123\n</code></pre>\n\n<p>Thanks @Borodin!</p>\n"}], "owner": {"reputation": 6263, "user_id": 3034614, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/drTmM.png?s=128&g=1", "display_name": "mlegge", "link": "https://stackoverflow.com/users/3034614/mlegge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 2, "accepted_answer_id": 28415463, "answer_count": 6, "score": 3, "last_activity_date": 1423551433, "creation_date": 1423502041, "last_edit_date": 1423513943, "question_id": 28415394, "link": "https://stackoverflow.com/questions/28415394/replace-spaces-when-surrounded-by-numeric-values-but-not-by-alpha-character", "title": "Replace spaces when surrounded by numeric values, but not by alpha-character", "body": "<p>In a fixed width file containing only alpha-numeric characters, I would like to replace the white spaces between alpha-character and numeric fields (including signed decimal, but not scientific notation) as well as numeric and numeric fields while leaving the white spaces between alpha-character values.</p>\n\n<p>I am aware of the <code>FIELDWIDTHS</code> option using <code>awk</code> but the type of files I have have too many fields with too many unique structures to make a generalization.</p>\n\n<p>Here is a toy example:</p>\n\n<pre><code>708 447 4797 JOHN SMITH 18000 \n</code></pre>\n\n<p>Needs to be formatted as follows:</p>\n\n<pre><code>708|447|4797|JOHN SMITH|18000 \n</code></pre>\n\n<p>Looking for any portable solution using <code>sed</code>, <code>perl</code>, <code>awk</code> etc.</p>\n\n<p>EDIT:</p>\n\n<p>To clarify the question and generalize for better overall usability, here are more lines to test the solutions with. Please continue with the assumption that any alpha-characters that have a space are indeed meant to be kept together (i.e. assume no occurrences of <code>Bob Jones Chuck Smith</code>).</p>\n\n<pre><code>708 447 4797 JOHN SMITH 18000\n708 447 4797 JOHN SMITH    18000\n708  447  4797  JOHN SMITH  18000\n708 -3.00 4797 JOHN SMITH 18000\n</code></pre>\n\n<p>Should result in:</p>\n\n<pre><code>708|447|4797|JOHN SMITH|18000\n708|447|4797|JOHN SMITH|18000\n708|447|4797|JOHN SMITH|18000\n708|-3.00|4797|JOHN SMITH|18000\n</code></pre>\n"}, {"tags": ["perl", "salesforce"], "comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 1, "creation_date": 1423509378, "post_id": 28415305, "comment_id": 45168119, "body": "I&#39;m voting to close this question as off-topic because this question would probably fit better on <a href=\"http://salesforce.stackexchange.com/\">salesforce.stackexchange.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4488543, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gL0Wd_k7SgI/AAAAAAAAAAI/AAAAAAAAD1Q/LgneOgD-npI/photo.jpg?sz=128", "display_name": "Ben Pelcyger", "link": "https://stackoverflow.com/users/4488543/ben-pelcyger"}, "edited": false, "score": 0, "creation_date": 1423516164, "post_id": 28419016, "comment_id": 45171930, "body": "It stopped working mysteriously half way through Friday.  Thank you for your suggestion, I&#39;ll try out sending the request directly!"}], "tags": [], "owner": {"reputation": 17585, "user_id": 41455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4788a6e08db703f60f249356c95d5775?s=128&d=identicon&r=PG", "display_name": "superfell", "link": "https://stackoverflow.com/users/41455/superfell"}, "is_accepted": false, "score": 0, "last_activity_date": 1423514802, "creation_date": 1423514802, "answer_id": 28419016, "question_id": 28415305, "link": "https://stackoverflow.com/questions/28415305/salesforce-api-mysterious-behavior-custom-object/28419016#28419016", "title": "Salesforce API mysterious behavior (custom object)", "body": "<p>The perl module you mention is pretty old and based on an old API version, your custom object is likely using a feature which makes it incompatible with older api versions, and so won't appear in them. You could possibly update the module to a newer API version (or see if it has a property to indicate which salesforce API version to use), or switch to something else, I'd imagine that calling the Salesforce REST/JSON API from Perl ought to be pretty straightforward.</p>\n"}], "owner": {"reputation": 1, "user_id": 4488543, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gL0Wd_k7SgI/AAAAAAAAAAI/AAAAAAAAD1Q/LgneOgD-npI/photo.jpg?sz=128", "display_name": "Ben Pelcyger", "link": "https://stackoverflow.com/users/4488543/ben-pelcyger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423514802, "creation_date": 1423501775, "question_id": 28415305, "link": "https://stackoverflow.com/questions/28415305/salesforce-api-mysterious-behavior-custom-object", "title": "Salesforce API mysterious behavior (custom object)", "body": "<p>A Custom object is not visible to the API (using WWW::SalesForce Perl Module), but IS visible using the debug console.  </p>\n\n<p>When I say \"not visible\", it is not queriable, and does not appear in the list returned to the </p>\n\n<pre><code>$sf-&gt;describeGlobal(); \n</code></pre>\n\n<p>command.  </p>\n\n<p>The object has all related API attributes checked off.  Has anyone else had this experience and been able to resolve?  </p>\n"}, {"tags": ["bash", "perl", "shell", "exit-code"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1423497447, "post_id": 28413618, "comment_id": 45160940, "body": "Re. <i>&quot;perl does not invoke a shell to execute external command&quot;</i> Not true. See the documentation for <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\"><code>system</code></a>: &quot;If there is only one scalar argument, the argument is checked for shell metacharacters, and if there are any, the entire argument is passed to the system&#39;s command shell for parsing (this is <code>&#47;bin&#47;sh -c</code> on Unix platforms, but varies on other platforms). If there are no shell metacharacters in the argument, it is split into words and passed directly to <code>execvp</code>, which is more efficient.&quot;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423497578, "post_id": 28413618, "comment_id": 45161049, "body": "<i>(continued)</i> Note that this is exactly what the accepted answer says on the question you linked."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1423497905, "post_id": 28413618, "comment_id": 45161289, "body": "The answer you reference states: <code>Perl does not *necessarily* invoke a shell.</code>  Emphasis is mine."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1423498232, "post_id": 28413618, "comment_id": 45161503, "body": "The second answer you reference (re: assigning PIPESTATUS to variable) is clearly Bash code, not Perl."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423507429, "post_id": 28413618, "comment_id": 45167069, "body": "Thank you guys. You helped a lot. @ThisSuitIsBlackNot So the another question is what are those shell metacharacters?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1423508722, "post_id": 28413618, "comment_id": 45167756, "body": "@WakanTanka <code>&amp;;`&#39;\\&quot;|*?~&lt;&gt;^()[]{}$\\n\\r</code>(from the <a href=\"http://www.w3.org/Security/Faq/wwwsf4.html#CGI-Q7\" rel=\"nofollow noreferrer\">W3C&#39;s FAQ on CGI security</a>)"}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423508843, "post_id": 28413618, "comment_id": 45167825, "body": "@ThisSuitIsBlackNot thanks"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423595410, "post_id": 28413618, "comment_id": 45209221, "body": "A couple of points regarding your latest edit: I don&#39;t know why you want to avoid using modules, but you&#39;re really limiting yourself if you do that. This may not be your particular issue, but just in case it is, <a href=\"http://stackoverflow.com/questions/3735836/how-can-i-install-perl-modules-without-root-privileges\">you don&#39;t need admin rights to install modules</a>. Also, you make your command more readable using <code>q</code> and single quotes: <code>my $cmd = q{ bash -c &#39;exit 255 | true 2&gt;&amp;1 &gt;&#47;dev&#47;null; echo ${PIPESTATUS[0]}&#39; };</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423595615, "post_id": 28413618, "comment_id": 45209338, "body": "Also note that <a href=\"http://stackoverflow.com/a/28414533/176646\">ikegami&#39;s solution</a> to the linked duplicate uses <a href=\"http://perldoc.perl.org/IPC/Open3.html\" rel=\"nofollow noreferrer\"><code>IPC::Open3</code></a>, which is a core module, so you could use it without having to install anything."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1423498784, "post_id": 28414127, "comment_id": 45161872, "body": "This returns the exit code of the last command in the pipeline. The OP wants the exit code of the first command."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423507356, "post_id": 28414127, "comment_id": 45167023, "body": "@ThisSuitIsBlackNot for me this return 0 which actually is exit code of first command."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1423508531, "post_id": 28414127, "comment_id": 45167659, "body": "@WakanTanka You&#39;re still getting the exit code of the last command; it just may coincidentally be the same as the exit code of the first command in some cases. You can&#39;t get the exit code of the first command in the pipeline this way. Note that the above snippet prints <code>0</code>, while <code>false</code> returns <code>1</code>. See the linked duplicate question for ways around this, especially <a href=\"http://stackoverflow.com/a/28414533/176646\">ikegami&#39;s answer</a>, which was originally written in answer to <i>this</i> question."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423508820, "post_id": 28414127, "comment_id": 45167811, "body": "@ThisSuitIsBlackNot ah I see you are absolutely right. This answer from the very first link (How can I check the status of the first program in pipeline in Perl&#39;s system()? ) seems also correct. <code>perl -e &#39;system(&quot;set -o pipefail;false | true&quot;);print $?&gt;&gt;8,&quot;\\n&quot;&#39;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 1, "creation_date": 1423509013, "post_id": 28414127, "comment_id": 45167910, "body": "@WakanTanka That will only work on systems where <code>&#47;bin&#47;sh</code> points to <code>bash</code>, which is not the case everywhere. Relying on the shell is unportable enough as it is; expecting <code>bash</code> to be the default shell on every system restricts you even more. Much better to use <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\"><code>IPC::Run</code></a> or similar as recommended in the other answers."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423593581, "post_id": 28414127, "comment_id": 45208192, "body": "@ThisSuitIsBlackNot please check my edited question. Thank you"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 2, "creation_date": 1423595101, "post_id": 28414127, "comment_id": 45209048, "body": "@WakanTanka You&#39;ve changed your question into a completely different question. Please don&#39;t do that, since it invalidates existing answers and is confusing for future visitors. As to whether your &quot;hack&quot; is good enough: that&#39;s entirely up to you. I avoid <code>system</code> and backticks (especially if a shell is involved) if at all possible, since they are unportable, error prone, difficult to debug, and less efficient than pure Perl. But I don&#39;t know what constraints you have, and maybe that hack is good enough for what you&#39;re doing. Entirely up to you."}], "tags": [], "owner": {"reputation": 287, "user_id": 4441356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9TJCclEDZ1Y/AAAAAAAAAAI/AAAAAAAAAJI/x4bj_-poTdQ/photo.jpg?sz=128", "display_name": "CapEnt", "link": "https://stackoverflow.com/users/4441356/capent"}, "is_accepted": false, "score": 0, "last_activity_date": 1423498630, "last_edit_date": 1423498630, "creation_date": 1423498268, "answer_id": 28414127, "question_id": 28413618, "link": "https://stackoverflow.com/questions/28413618/bash-like-pipestatus-equivalent-for-perl/28414127#28414127", "title": "Bash like PIPESTATUS equivalent for perl", "body": "<p>The return value of system must be shifted right by 8, as <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\">perldoc says</a>. Like:</p>\n\n<pre><code>perl -e 'my $code = system(\"false | true\"); print $? &gt;&gt; 8 . \"\\n\"'\n</code></pre>\n"}], "owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 777, "favorite_count": 0, "closed_date": 1423499284, "answer_count": 1, "score": 1, "last_activity_date": 1423593536, "creation_date": 1423496793, "last_edit_date": 1495540452, "question_id": 28413618, "link": "https://stackoverflow.com/questions/28413618/bash-like-pipestatus-equivalent-for-perl", "closed_reason": "Duplicate", "title": "Bash like PIPESTATUS equivalent for perl", "body": "<p>My goal is to capture the exit code of external command issued from perl. The trick is that the external command is actually composed of two commands where first command is piped to second command. For my purposes I need exit code of first command. Bash uses for this purpose <a href=\"https://unix.stackexchange.com/a/73180/48949\">several</a> <a href=\"https://stackoverflow.com/a/1221844/1616488\">possible</a> ways e.g.</p>\n\n<pre><code>$ false | true; echo \"${PIPESTATUS[0]}\"\n1\n$ true | false; echo \"${PIPESTATUS[0]}\"\n0\n</code></pre>\n\n<p>After reading about this problematic I've found that perl <code>system</code> command is able to get exit code of process so I've tried following:</p>\n\n<pre><code>$ exit 10 | true\n$ echo ${PIPESTATUS[0]}\n10\n$ true | false\n$ echo $?\n1\n$ perl -e 'my $code = system(\"true | false\"); print $code . \"\\n\"'\n256\n$ perl -e 'my $code = system(\"bash -c \\\"true | false\\\"\"); print $code . \"\\n\"'\n256\n$ perl -e 'my $code = system(\"bash -c \\\"exit 2\\\"\"); print $code . \"\\n\"'\n512\n$ perl -e 'my $code = system(\"bash 2&gt;&amp;1 &gt;/dev/null\"); print $code . \"\\n\"'\n$ exit 10\nexit\n2560\n</code></pre>\n\n<p>As you can see I am getting weird return codes (256, 512, 2560) from <code>system</code> command. I think it is related to my another <a href=\"https://stackoverflow.com/questions/28413580/perl-what-is-the-return-value-of-perl-system-function\">question</a>. So far the only possible way that I am able to access return code of first command is using <code>qw</code> or backtickss ``. This seems as a a little overkill for me since I need one <code>echo</code> to capture the <code>PIPESTATUS[0]</code> value.</p>\n\n<pre><code>$ perl -e 'my $res = qx/true | false 2&gt;&amp;1 &gt;\\/dev\\/null; echo \\${PIPESTATUS[0]}/; print $res'\n0\n$ perl -e 'my $res = qx/false | true 2&gt;&amp;1 &gt;\\/dev\\/null; echo \\${PIPESTATUS[0]}/; print $res'\n1\n$ perl -e 'my $res = qx\"false | true 2&gt;&amp;1 &gt;/dev/null; echo \\${PIPESTATUS[0]}\"; print $res'\n1\n$ perl -e 'my $res = qx\"true | false 2&gt;&amp;1 &gt;/dev/null; echo \\${PIPESTATUS[0]}\"; print $res'\n0\n$ perl -e 'my $res = qx(false | true 2&gt;&amp;1 &gt;/dev/null; echo \\${PIPESTATUS[0]}); print $res'\n1\n$ perl -e 'my $res = `false | true 2&gt;&amp;1 &gt;/dev/null; echo \\${PIPESTATUS[0]}`; print $res'\n1\n</code></pre>\n\n<p>I am also wondering why this approach is even working because <a href=\"https://stackoverflow.com/questions/4225102/which-shell-does-a-perl-system-call-use\">here</a> is mentioned that perl does not invoke a shell to execute external command. So where does <code>PIPESTATUS</code> (which is a pure bash variable) comes from? Also I would expect that following command will work since bash is explicitly issued, but it returns nothing:</p>\n\n<pre><code>$ perl -e 'my $res = `bash -c \"false | true 2&gt;&amp;1 &gt;/dev/null; echo \\${PIPESTATUS[0]}\"`; print $res'\n\n$\n</code></pre>\n\n<p>The third miss understanding is based on <a href=\"https://stackoverflow.com/a/2993790/1616488\">this</a> answer that I can directly access <code>PIPESTATUS</code> variable via assigning it to variable and then access as a regular perl variable e.g.</p>\n\n<pre><code>status=(${PIPESTATUS[@]})\nprint $status\n</code></pre>\n\n<p>However the following command does not work for me.</p>\n\n<pre><code>$ perl -e 'my $res = `false | true 2&gt;&amp;1 &gt;/dev/null;`; status=(${PIPESTATUS[@]})'\nsyntax error at -e line 1, near \"@]}\"\nMissing right curly or square bracket at -e line 1, at end of line\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p><strong>@EDIT</strong> in reply to ThisSuitIsBlackNot, tjd  and CapEnt</p>\n\n<p>Return codes and bit shifting explained:</p>\n\n<pre><code>$ perl -e 'my $code = system(\"true | false\"); print $code &gt;&gt; 8; print \"\\n\"'\n1\n$ perl -e 'my $code = system(\"bash -c \\\"true | false\\\"\"); print $code &gt;&gt; 8; print  \"\\n\"'\n1\n$ perl -e 'my $code = system(\"bash -c \\\"exit 2\\\"\"); print $code &gt;&gt; 8; print \"\\n\"'\n2\n</code></pre>\n\n<p>Some systems have <code>/bin/sh</code> pointed to <code>bash</code> ...</p>\n\n<pre><code># Linux arch 3.18.6-1-ARCH #1 SMP PREEMPT Sat Feb 7 08:59:29 CET 2015 i686 GNU/Linux\n$ ls -la `which sh`\nlrwxrwxrwx 1 root root 4 Dec 30 23:11 /usr/bin/sh -&gt; bash\n\n$ perl -e 'my $cmd = \"exit 255 | true 2&gt;&amp;1 &gt;/dev/null; echo \\${PIPESTATUS[0]}\"; system($cmd);'\n255\n</code></pre>\n\n<p>some not ...</p>\n\n<pre><code># SunOS andromeda 5.9 Generic_122300-61 sun4u sparc SUNW,Sun-Fire-V490\n$ ls -la `which sh`\n-r-xr-xr-x   4 root     root       95504 Jul 16  2009 /bin/sh\n\n$ perl -e 'my $cmd = \"exit 255 | true 2&gt;&amp;1 &gt;/dev/null; echo \\${PIPESTATUS[0]}\"; system($cmd);'\nsh: bad substitution\n</code></pre>\n\n<p>a little hack that will use <code>bash</code> regardless of what <code>/bin/sh</code> is pointing to:</p>\n\n<pre><code># Linux arch 3.18.6-1-ARCH #1 SMP PREEMPT Sat Feb 7 08:59:29 CET 2015 i686 GNU/Linux\n# SunOS andromeda 5.9 Generic_122300-61 sun4u sparc SUNW,Sun-Fire-V490\n$ perl -e 'my $cmd = \"bash -c \\\"exit 255 | true 2&gt;&amp;1 &gt;/dev/null; echo \\\\\\${PIPESTATUS[0]}\\\"\"; system($cmd);'\n255\n</code></pre>\n\n<p>Here you can see that bash is invoked in both cases (in 2nd case <code>bash</code> is children of <code>sh</code>)</p>\n\n<pre><code># Linux arch 3.18.6-1-ARCH #1 SMP PREEMPT Sat Feb 7 08:59:29 CET 2015 i686 GNU/Linux\n$ perl -e 'my $code = system(\"bash -c \\\"ps -elf | grep $$\\\"\");'\n0 S wakatana     1576   282  0  80   0 -  1606 wait   16:46 pts/1    00:00:00 perl -e my $code = system(\"bash -c \\\"ps -elf | grep $$\\\"\");\n0 S wakatana     1577  1576  0  80   0 -  1333 wait   16:46 pts/1    00:00:00 bash -c ps -elf | grep 1576\n0 S wakatana     1579  1577  0  80   0 -  1167 pipe_w 16:46 pts/1    00:00:00 grep 1576\n\n# SunOS andromeda 5.9 Generic_122300-61 sun4u sparc SUNW,Sun-Fire-V490\n$ perl -e 'my $code = system(\"bash -c \\\"ps -elf | grep $$\\\"\");'\n 8 S wakatana 24641 24640  0  60 20        ?    314        ? 16:01:45 pts/196  0:00 bash -c ps -elf | grep 24639\n 8 S wakatana 24640 24639  0  50 20        ?    139        ? 16:01:45 pts/196  0:00 sh -c bash -c \"ps -elf | grep 24639\n 8 S wakatana 24643 24641  0  50 20        ?    128        ? 16:01:45 pts/196  0:00 grep 24639\n 8 S wakatana 24639 24633  0  50 20        ?    383        ? 16:01:45 pts/196  0:00 perl -e my $code = system(\"bash -c\n</code></pre>\n\n<p>As  ThisSuitIsBlackNot pointed out, probably the best solution is to use <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a> but I am wondering if this is OK in case when I need pure perl (without modules)</p>\n"}, {"tags": ["perl", "external", "execution", "exit-code"], "comments": [{"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 8, "creation_date": 1423497059, "post_id": 28413580, "comment_id": 45160659, "body": "The doc you linked continues: &quot;The return value is the exit status of the program as returned by the wait call. To get the actual exit value, shift right by eight (see below). &quot; In your case, <code>256 &gt;&gt; 8</code> is <code>1</code>."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 0, "creation_date": 1423499628, "post_id": 28413580, "comment_id": 45162440, "body": "@Paul Roub Oh I see, thank you very much. Can you please explain why <code>system(&quot;exit 2&quot;)</code> returns -1 one thing that comes to my mind right now is because exit is bash internal command. Am I right?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1423500089, "post_id": 28413580, "comment_id": 45162755, "body": "That is also in the documentation for <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\"><code>system</code></a>. -1 means <code>system</code> itself failed, and the error is in <code>$!</code>. In this case, it&#39;s probably an inability to find an executable named <code>exit</code>."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1423507191, "post_id": 28413580, "comment_id": 45166930, "body": "Thank you guys. You helped a lot."}], "owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "closed_date": 1423498672, "answer_count": 0, "score": 1, "last_activity_date": 1423507244, "creation_date": 1423496689, "last_edit_date": 1423507244, "question_id": 28413580, "link": "https://stackoverflow.com/questions/28413580/perl-what-is-the-return-value-of-perl-system-function", "closed_reason": "Duplicate", "title": "Perl - What is the return value of perl system function", "body": "<p>I am playing with perl's <code>system</code> function but I am confused of what is the return value of this function. Consider following examples:</p>\n\n<pre><code>[wakatana@arch ~]$ grep root /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\n[wakatana@arch ~]$ echo $?\n0\n[wakatana@arch ~]$ grep roots /etc/passwd\n[wakatana@arch ~]$ echo $?\n1\n\n[wakatana@arch ~]$ perl -e 'my $code = system(\"grep root /etc/passwd 2&gt;&amp;1 1&gt;/dev/null\"); print $code . \"\\n\"'\n0\n[wakatana@arch ~]$ perl -e 'my $code = system(\"grep roots /etc/passwd 2&gt;&amp;1 1&gt;/dev/null\"); print $code . \"\\n\"'\n256\n</code></pre>\n\n<p>Why is the second perl returning 256 instead of 1 ?</p>\n\n<p>Here is excerpt from <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\">perldoc</a>:</p>\n\n<p>\"Return value of -1 indicates a failure to start the program or an error of the wait(2) system call (inspect $! for the reason)\"</p>\n\n<p>It seems that something went wrong during execution of external command so I've also tried following commands to figure out what is going on, but I am still lost.</p>\n\n<pre><code># Seems that regular bash command, in this case exit, is equivalent to blablabla\n[wakatana@arch ~]$ perl -e 'my $code = system(\"exit 2\"); print $code . \"\\n\"'\n-1\n[wakatana@arch ~]$ perl -e 'my $code = system(blablabla); print $code . \"\\n\"'\n-1\n[wakatana@arch ~]$ perl -e 'my $code = system(\"grep roots /etc/passwd 2&gt;&amp;1 1&gt;/dev/null\") or die $!'\n[wakatana@arch ~]$\n</code></pre>\n\n<p>Can somebody please explain this behavior.</p>\n\n<p><strong>@EDIT</strong> in reply to: Paul Roub and ikegami</p>\n\n<p>Mystery solved:</p>\n\n<pre><code>2[wakatana@arch ~]$ perl -e 'my $code = system(\"bash -c \\\"exit 2\\\"\"); print $code &gt;&gt; 8; print \"\\n\"'\n2\n[wakatana@arch ~]$ perl -e 'my $code = system(\"exit 2\"); print $! . \"\\n\"'\nNo such file or directory\n[wakatana@arch ~]$ perl -e 'my $code = system(blablabla); print $! . \"\\n\"'\nNo such file or directory\n[wakatana@arch ~]$ perl -e 'my $code = system(\"grep roots /etc/passwd 2&gt;&amp;1 1&gt;/dev/null\"); print $code &gt;&gt; 8; print \"\\n\"'\n1\n</code></pre>\n"}, {"tags": ["perl", "xml-twig"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "edited": false, "score": 0, "creation_date": 1423497369, "post_id": 28413673, "comment_id": 45160882, "body": "great insight. But my requirement is that the original file should remain untouched. The output file should have all legitimate TRADES. Can you please advise. Also, i don;t want any output to be reflected on screen. That&#39;s why I used PURGE."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "edited": false, "score": 0, "creation_date": 1423502953, "post_id": 28413673, "comment_id": 45164606, "body": "I think that&#39;s what the code I posted does. Did you try it?"}, {"owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "edited": false, "score": 0, "creation_date": 1423503954, "post_id": 28413673, "comment_id": 45165189, "body": "your code is giving right output. Sorry for being novice. But can you please tell me why my purge is not working. Please."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "edited": false, "score": 0, "creation_date": 1423504384, "post_id": 28413673, "comment_id": 45165453, "body": "from the docs, <code>purge</code>: <i>...deletes all elements that have been completely parsed so far.</i> so all the TRADE elements that you have kept are purged from the memory. You really need to use <code>flush</code>, likely to a filehandle, if you want to output the TRADE elements that you want to keep."}, {"owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "edited": false, "score": 0, "creation_date": 1423592161, "post_id": 28413673, "comment_id": 45207425, "body": "One question, If I need to add one more condition at twig_roots level...How can I do? For example apart from the origin not equal to COMPUTER which is mentioned above, say there is one more condition that &lt;event&gt; tag which is inside &lt;TRADE&gt; tag should have some specific attribute value. Then how to do that??"}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "edited": false, "score": 0, "creation_date": 1423592818, "post_id": 28413673, "comment_id": 45207774, "body": "you want to delete only the <code>TRADE</code> elements that include an <code>event</code> element with a specific attribute vallue? The in the handler do <code>if( $_-&gt;descendants( &#39;event[@att=&quot;val&quot;]&#39;) { $_-&gt;delete; } else { $_-&gt;flush( $out); }</code>"}], "tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": true, "score": 5, "last_activity_date": 1423500368, "last_edit_date": 1423500368, "creation_date": 1423496963, "answer_id": 28413673, "question_id": 28413001, "link": "https://stackoverflow.com/questions/28413001/twig-purge-is-giving-empty-file/28413673#28413673", "title": "$twig-&gt;purge is giving empty file", "body": "<p>You should probably use <code>flush</code> (to a filehanlde) instead of <code>purge</code>: <code>flush</code> outputs the twig that has been parsed so far and frees the memory, while <code>purge</code> only frees the memory.</p>\n\n<p>That said if all you want is remove the TRADE elements that don't have the proper attribute, you could do something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nopen( my $out, '&gt;:utf8', \"out.xml\") or die \"cannot create output file out.xml: $!\";\n\nmy $twig = XML::Twig-&gt;new( pretty_print =&gt; 'indented',\n                           twig_roots =&gt; { 'TRADE[@origin != \"COMPUTER\"]' \n                                              =&gt; sub { $_-&gt;delete; } \n                                         },\n                           twig_print_outside_roots =&gt; $out,\n                         )\n\n                    -&gt;parsefile('1510.xml');\n</code></pre>\n\n<p>This will leave some extra empty lines in the file, you can remove them later. The <code>twig_roots</code> handler is triggered for all elements you need to remove, and it deletes them, while the <code>twig_print_outside_roots</code> option causes all other elements to be printed as_is.</p>\n"}], "owner": {"reputation": 163, "user_id": 3024254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/14432a1a96c460a868890105fa263eda?s=128&d=identicon&r=PG&f=1", "display_name": "karan arora", "link": "https://stackoverflow.com/users/3024254/karan-arora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 1, "accepted_answer_id": 28413673, "answer_count": 1, "score": 3, "last_activity_date": 1423505143, "creation_date": 1423494961, "last_edit_date": 1423505143, "question_id": 28413001, "link": "https://stackoverflow.com/questions/28413001/twig-purge-is-giving-empty-file", "title": "$twig-&gt;purge is giving empty file", "body": "<p>I may be asking a basic question but it's killing me.</p>\n\n<p>Following is my code snippet</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse XML::Twig;\n\n\nmy $twig = new XML::Twig( twig_handlers =&gt; { TRADE =&gt; \\&amp;TRADE } );\n\n$twig-&gt;parsefile('1510.xml');\n\n$twig-&gt;set_pretty_print('indented');\n\n$twig-&gt;print_to_file('out.xml');\n\nsub TRADE {\n    my ( $twig, $TRADE ) = @_;\n    #added delete in place of cut\n     $TRADE-&gt;cut($TRADE) unless\n     $TRADE-&gt;att('origin') eq \"COMPUTER\";\n}\n</code></pre>\n\n<p>This is working as expected. It is giving me all TRADES having 'origin' equals 'COMPUTER'.</p>\n\n<p>But I need to handle XML files spanning to 1 GB.\nIn that case it 'segmentation error' as it consumes huge memory.</p>\n\n<p>Hence, in order to resolve the issue I am trying to implement 'purge' concept of XML::Twig</p>\n\n<p>Hence I modified the code to :</p>\n\n<pre><code>#!/usr/bin/perl\n\n    use strict;\n    use warnings;\n    use XML::Twig;\n\n\n    my $twig = new XML::Twig( twig_handlers =&gt; { TRADE =&gt; \\&amp;TRADE } );\n\n    $twig-&gt;parsefile('1510.xml');\n\n    $twig-&gt;set_pretty_print('indented');\n\n    $twig-&gt;print_to_file('out.xml');\n\n    sub TRADE {\n        my ( $twig, $TRADE ) = @_;\n        #added delete in place of cut\n         $TRADE-&gt;cut($TRADE) unless\n         $TRADE-&gt;att('origin') eq \"COMPUTER\";\n\n         $twig-&gt;purge; \n    }\n</code></pre>\n\n<p>This is giving me empty file. I am trying to flush those twigs which are used in order to use memory efficiently.</p>\n\n<p>I don't know why it is giving me blank output file.</p>\n\n<p>Sample XML :</p>\n\n<pre><code>&lt;TRADEEXT&gt;\n &lt;TRADE origin = 'COMPUTER'/&gt;\n &lt;TRADE origin = 'COMP'/&gt;\n &lt;TRADE origin = 'COMPP'/&gt;  \n&lt;/TRADEEXT&gt;\n</code></pre>\n\n<p>output file:</p>\n\n<pre><code>&lt;TRADEEXT&gt;\n &lt;TRADE origin = 'COMPUTER'/&gt;\n&lt;/TRADEEXT&gt;\n</code></pre>\n"}, {"tags": ["perl", "shell", "proxy", "terminal", "lwp-useragent"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423501472, "post_id": 28412814, "comment_id": 45163708, "body": "This looks fine. Is it different from the actual code that you are running?"}, {"owner": {"reputation": 80, "user_id": 2481392, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qMTwl.png?s=128&g=1", "display_name": "perLHawk", "link": "https://stackoverflow.com/users/2481392/perlhawk"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423553485, "post_id": 28412814, "comment_id": 45184506, "body": "(My original code is much more complicated.) But when I run this simple example, the output is the same. In other words, this simple program causes described behavior."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1423614028, "post_id": 28412814, "comment_id": 45218379, "body": "Could it be due to proxy configuration? Are the proxies connected somehow to do load balancing or can they select which interface is used?"}, {"owner": {"reputation": 80, "user_id": 2481392, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qMTwl.png?s=128&g=1", "display_name": "perLHawk", "link": "https://stackoverflow.com/users/2481392/perlhawk"}, "edited": false, "score": 0, "creation_date": 1423641877, "post_id": 28412814, "comment_id": 45226674, "body": "I don&#39;t think so. Please see on my new findings!"}], "answers": [{"comments": [{"owner": {"reputation": 80, "user_id": 2481392, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qMTwl.png?s=128&g=1", "display_name": "perLHawk", "link": "https://stackoverflow.com/users/2481392/perlhawk"}, "edited": false, "score": 0, "creation_date": 1423553055, "post_id": 28418893, "comment_id": 45184332, "body": "In my simple example is no reason to use HTTP::Request."}, {"owner": {"reputation": 80, "user_id": 2481392, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qMTwl.png?s=128&g=1", "display_name": "perLHawk", "link": "https://stackoverflow.com/users/2481392/perlhawk"}, "edited": false, "score": 0, "creation_date": 1423553606, "post_id": 28418893, "comment_id": 45184547, "body": "When I changed code to your suggestion, output is the same."}], "tags": [], "owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "is_accepted": false, "score": -1, "last_activity_date": 1423514249, "creation_date": 1423514249, "answer_id": 28418893, "question_id": 28412814, "link": "https://stackoverflow.com/questions/28412814/lwpuseragent-proxy-in-perl-session/28418893#28418893", "title": "LWP::UserAgent proxy in Perl session", "body": "<p>I don't know what's going on here, exactly, and in fact I think you may have found a bug in LWP (if what you're showing us is what you're actually executing). However, is there a reason why you're building the GET request from HTTP::Request instead of directly through the User Agent object? In other words, instead of doing this:</p>\n\n<pre><code>my $req = HTTP::Request-&gt;new(GET =&gt; $url);\nreturn $ua-&gt;request($req)-&gt;as_string;\n</code></pre>\n\n<p>Do this:</p>\n\n<pre><code>my $res = $ua-&gt;get($url);\nreturn $res-&gt;as_string;\n</code></pre>\n\n<p>In theory, the two methods should be equivalent, but I wonder if the proxy settings aren't correctly propagating to HTTP::Request when you do it this way.</p>\n"}], "owner": {"reputation": 80, "user_id": 2481392, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qMTwl.png?s=128&g=1", "display_name": "perLHawk", "link": "https://stackoverflow.com/users/2481392/perlhawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1423641763, "creation_date": 1423494341, "last_edit_date": 1423641763, "question_id": 28412814, "link": "https://stackoverflow.com/questions/28412814/lwpuseragent-proxy-in-perl-session", "title": "LWP::UserAgent proxy in Perl session", "body": "<p>I need to change the proxy server in one Perl run (process). But <a href=\"https://metacpan.org/module/LWP::UserAgent\" rel=\"nofollow\"><code>LWP::UserAgent</code></a> is always remembering the <em>first</em> proxy value.</p>\n\n<p>When I start my program with proxy <code>x.x.x.2</code>, this address is always used as proxy.</p>\n\n<p>What is wrong?</p>\n\n<p>The simple program Example:</p>\n\n<pre><code>getHTTP('http://my.com/', \"http://x.x.x.1:3128\");\ngetHTTP('http://my.com/', \"http://x.x.x.2:3128\");\ngetHTTP('http://my.com/', \"\");\ngetHTTP('http://my.com/', \"http://x.x.x.3:3128\");\n\nsub getHTTP {\n    my ($url, $proxy) = @_;\n    use LWP::UserAgent;\n\n    my $ua = LWP::UserAgent-&gt;new;\n    $ua-&gt;proxy(http =&gt; $proxy);\n    my $req = HTTP::Request-&gt;new(GET =&gt; $url);\n    return $ua-&gt;request($req)-&gt;as_string;\n}\n</code></pre>\n\n<p>Output from HTTP log:</p>\n\n<pre><code>x.x.x.1 - - [09/Feb/2015:15:28:06 +0100] \"GET / HTTP/1.0\" 200 3467\nx.x.x.1 - - [09/Feb/2015:15:29:07 +0100] \"GET / HTTP/1.0\" 200 3467\ny.y.y.y - - [09/Feb/2015:15:29:08 +0100] \"GET / HTTP/1.0\" 200 3467\nx.x.x.1 - - [09/Feb/2015:15:29:09 +0100] \"GET / HTTP/1.0\" 200 3467\n</code></pre>\n\n<p>(<em>y.y.y.y is my no proxy address</em>)</p>\n\n<p>OS: Debian GNU/Linux 7</p>\n\n<p><strong>NEW findings:</strong>\nWhen I run next perl or shell scripts. The same result as above.</p>\n\n<p>proxy.sh:</p>\n\n<pre><code>curl -x \"http://x.x.x.1:3128\" http://my.com/\ncurl -x \"http://x.x.x.2:3128\" http://my.com/\ncurl -x \"http://x.x.x.3:3128\" http://my.com/\n</code></pre>\n\n<p><em>Result: always x.x.x.1 proxy</em></p>\n\n<p>proxy.pl:</p>\n\n<pre><code>`curl -x \"http://x.x.x.4:3128\" http://my.com/`;\n`curl -x \"http://x.x.x.5:3128\" http://my.com/`;\n`curl -x \"http://x.x.x.6:3128\" http://my.com/`;\n</code></pre>\n\n<p><em>Result: always x.x.x.4 proxy</em></p>\n\n<p>It looks like the proxy settings cannot change in one shell process.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1423490744, "post_id": 28411571, "comment_id": 45156593, "body": "This is platform/terminal dependent. What platform are you on?"}, {"owner": {"reputation": 1792, "user_id": 445663, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b84cd841840d10fb222cda401de23992?s=128&d=identicon&r=PG", "display_name": "comatose", "link": "https://stackoverflow.com/users/445663/comatose"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423491800, "post_id": 28411571, "comment_id": 45157296, "body": "The platform is Linux"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423492653, "post_id": 28411571, "comment_id": 45157782, "body": "And are you after an X window, or a terminal?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423493995, "post_id": 28411571, "comment_id": 45158672, "body": "OK. Very hard to get a scroll bar on a terminal, because it&#39;s something the &#39;remote thing&#39; is handling, not the bit you have control over. You can move the cursor around to print text though, that&#39;s not too hard."}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1423496222, "post_id": 28411571, "comment_id": 45160137, "body": "You could use <code>GNU screen</code> <a href=\"http://www.gnu.org/software/screen/\" rel=\"nofollow noreferrer\">gnu.org/software/screen</a> to split the screen and then kick off a socket listener (using <code>IO::Socket</code> or something) in the other terminal and send messages to it."}], "owner": {"reputation": 1792, "user_id": 445663, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b84cd841840d10fb222cda401de23992?s=128&d=identicon&r=PG", "display_name": "comatose", "link": "https://stackoverflow.com/users/445663/comatose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1423490636, "creation_date": 1423490636, "question_id": 28411571, "link": "https://stackoverflow.com/questions/28411571/perl-print-to-two-stdout-windows", "title": "perl: print to two stdout windows", "body": "<p>We have a perl command line tool that when run prints its output on screen. Now what I want to do is to split the output screen in two halves horizontally. And then some of the information I want to write/display in the upper half of the screen and some in the lower half. Each of these two halves should behave in a normal way, for example they should automatically get a scroll bar if the output exceeds the current display area.\nI looked at Cap and Screen modules, they allow you to print at different locations of a window. But I want is to get basically 2 windows, and then write normally to any window I like.\nAny perl modules or tips that can help me achieve this behaviour ?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 541, "user_id": 3143161, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ea198236954fde8cf57427aa1c17cad?s=128&d=identicon&r=PG&f=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/3143161/franco"}, "edited": false, "score": 0, "creation_date": 1423485262, "post_id": 28409209, "comment_id": 45153260, "body": "i have no way to do it with the while? See every line i am reading i am also inserting into a DB ... so at the moment i can literally get all the errors correclty but i cannot store the message of the error...if I want to catch ABSOLUTELY EVERYTHING after a specific flag how do i do it? with \\.?"}, {"owner": {"reputation": 541, "user_id": 3143161, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ea198236954fde8cf57427aa1c17cad?s=128&d=identicon&r=PG&f=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/3143161/franco"}, "edited": false, "score": 0, "creation_date": 1423485444, "post_id": 28409209, "comment_id": 45153365, "body": "Letssay i hade a line like this 2014-12-10 12:25:13,688 INFO [SOAP (User:&quot;userid&quot;, ThreadId: 11)] com.whatever.whichever.program.cache (myMethod.PYTHON:59) - CRITICAL ERROR ; hereSometest#: 368; some other#: 23   and i wanted to catch EVERYTHING ELSE UNTIL THE END OF THE LINE could i use simply \\D+\\S+ or \\. ???"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 541, "user_id": 3143161, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ea198236954fde8cf57427aa1c17cad?s=128&d=identicon&r=PG&f=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/3143161/franco"}, "edited": false, "score": 0, "creation_date": 1423485509, "post_id": 28409209, "comment_id": 45153407, "body": "Either you can read <code>&lt;$fh&gt;</code> again to get the next line. If you want to grab everything between two patterns, you can use a range operator."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 541, "user_id": 3143161, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ea198236954fde8cf57427aa1c17cad?s=128&d=identicon&r=PG&f=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/3143161/franco"}, "edited": false, "score": 0, "creation_date": 1423488047, "post_id": 28409209, "comment_id": 45154908, "body": "<code>(.*)$</code> will capture &#39;everything else until end of line&#39; but not necessarily if you&#39;re doing multiline patterns, which is part of the problem here."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 541, "user_id": 3143161, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ea198236954fde8cf57427aa1c17cad?s=128&d=identicon&r=PG&f=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/3143161/franco"}, "edited": false, "score": 1, "creation_date": 1423488980, "post_id": 28409209, "comment_id": 45155487, "body": "<code>\\D+\\S+</code> will capture one or more non digits, followed by one or more non spaces. That probably won&#39;t do what you want."}, {"owner": {"reputation": 541, "user_id": 3143161, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ea198236954fde8cf57427aa1c17cad?s=128&d=identicon&r=PG&f=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/3143161/franco"}, "edited": false, "score": 0, "creation_date": 1424094054, "post_id": 28409209, "comment_id": 45398868, "body": "i tried to use your implementation but I quiet do not get the way i meant to do it?   while ( &lt;$fh&gt; ) {     my @fields = #pattern;     my $next_line = &lt;$fh&gt;;     #etc.     }"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1423485474, "last_edit_date": 1423485474, "creation_date": 1423482975, "answer_id": 28409209, "question_id": 28409111, "link": "https://stackoverflow.com/questions/28409111/perl-regex-all-entire-next-line-to-be-stored-into-a-variable-only-the-next-line/28409209#28409209", "title": "Perl regex all entire next line to be stored into a variable (only the NEXT line)", "body": "<p>There's a flaw with your logic here - you're doing <code>while ( &lt;$fh&gt; )</code> but that works one line at a time. So no regular expression can match. Similarly - if you're wanting to use multi-line regular expressions - you need to specify that in the flags. </p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perldoc perlre</a>:</p>\n\n<blockquote>\n  <p>m</p>\n  \n  <p>Treat string as multiple lines. That is, change \"^\" and \"$\" from matching the start of the string's first line and the end of its last line to matching the start and end of each line within the string.</p>\n  \n  <p>s</p>\n  \n  <p>Treat string as single line. That is, change \".\" to match any character whatsoever, even a newline, which normally it would not match.\n  Used together, as /ms, they let the \".\" match any character whatsoever, while still allowing \"^\" and \"$\" to match, respectively, just after and just before newlines within the string.</p>\n</blockquote>\n\n<p>(But well done on using lexical filehandles and <code>x</code> to specify your RE - that makes it lots clearer)</p>\n\n<p>Following on from comments - whilst <code>while</code> is per line, you could cheat - if you're sure you definitely only want 'next line' when the pattern matches - grab it separately. </p>\n\n<p>How about instead:</p>\n\n<pre><code>while ( &lt;$fh&gt; ) {\n    my @fields = #pattern;\n    my $next_line = &lt;$fh&gt;;\n    #etc.    \n}\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 3143161, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ea198236954fde8cf57427aa1c17cad?s=128&d=identicon&r=PG&f=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/3143161/franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423485474, "creation_date": 1423482643, "last_edit_date": 1423482938, "question_id": 28409111, "link": "https://stackoverflow.com/questions/28409111/perl-regex-all-entire-next-line-to-be-stored-into-a-variable-only-the-next-line", "title": "Perl regex all entire next line to be stored into a variable (only the NEXT line)", "body": "<p>My Perl script fetches a file log (created by Apache log4j), somehow the regex command <code>\\.</code>  next line  is not storing the all entire row into a variable; it is working fine untill ErrorType my variable message is empty and <code>@nextline</code> should contain the all entire next line (any characters any letter any special signs).</p>\n\n<p>I tried <code>\\. (\\D+\\S+)</code></p>\n\n<p>Perl regex:</p>\n\n<pre><code>while (&lt;$fh&gt;) {\n    my @fields = m{^\n        (\\d{4}-\\d{2}-\\d{2}\\s\\d{2}:\\d{2}:[\\d,]+)\n        \\s (INFO | INFO\\s | VERBOSE) \\s\n        \\[(?: SOAP | GUI )\\s[(]User:[\"](\\w+)\",\\sThreadId:\\s\\d+\\)] \n        \\s com.whatever.whichever.(\\S+) \\s \\(\\S+\\.PYTHON\\:\\d+\\) \\s\n        - (?! \\sUser )   \n        \\s (\\D+\\S+) \n        \\. (\\D+\\S+)   #the all entire next line\n    $}x\n\n    printf('$date=%s; $lovelforlogs=%s; $userid=%s; $methodused=%s; $Errortype=%s; $nextline=%s',@fields );\n\nprint \"\\n\";\n</code></pre>\n\n<p>Example log entries:</p>\n\n<pre><code>2014-12-10 12:25:13,688 INFO [SOAP (User:\"userid\", ThreadId: 11)] com.whatever.whichever.program.cache (myMethod.PYTHON:59) - CRITICAL ERROR\n; hereSometest#: 368; some other#: 23\nat org.JBOSS.xpath.compiler.XPathParser.error(XPathParser.PYTHON:610)\n    at org.JBOSS.xpath.compiler.XPathParser.initXPath(XPathParser.PYTHON:145)\n    at org.JBOSS.xpath.XPath.&lt;init&gt;(XPath.PYTHON:227)\n    at org.JBOSS.xalan.processor.StylesheetHandler.createXPath(StylesheetHandler.PYTHON:155)\n    at org.JBOSS.xalan.processor.XSLTAttributeDef.processEXPR(XSLTAttributeDef.PYTHON:763)\n    at org.JBOSS.xa\n2015-01-21 12:23:51,681 INFO  [SOAP (User:\"userid\", ThreadId: 83)] com.whatever.whichever.program.cache (myMethod.PYTHON:690) - ERROR\ncom.whatever.whicever.program.exceptions.InvalidParameterException: F20176 VALUE is WRONG [G00097]\nat org.JBOSS.xpath.compiler.XPathParser.error(XPathParser.PYTHON:610)\n    at org.JBOSS.xpath.compiler.XPathParser.initXPath(XPathParser.PYTHON:145)\n    at org.JBOSS.xpath.XPath.&lt;init&gt;(XPath.PYTHON:227)\n    at org.JBOSS.xalan.processor.StylesheetHandler.createXPath(StylesheetHandler.PYTHON:155)\n    at org.JBOSS.xalan.processor.XSLTAttributeDef.processEXPR(XSLTAttributeDef.PYTHON:763)\n    at org.JBOSS.xa\n2015-01-27 12:24:37,079 VERBOSE [SOAP (User:\"userid\", ThreadId: 70)] com.whatever.whichever.program.cache (myMethod.PYTHON:2066) - Unchecked error\nAxisFault\nat org.JBOSS.xpath.compiler.XPathParser.error(XPathParser.PYTHON:610)\n    at org.JBOSS.xpath.compiler.XPathParser.initXPath(XPathParser.PYTHON:145)\n    at org.JBOSS.xpath.XPath.&lt;init&gt;(XPath.PYTHON:227)\n    at org.JBOSS.xalan.processor.StylesheetHandler.createXPath(StylesheetHandler.PYTHON:155)\nat org.JBOSS.xalan.processor.XSLTAttributeDef.processEXPR(XSLTAttributeDef.PYTHON:763)\nat org.JBOSS.xa\n</code></pre>\n\n<p>Result should be:</p>\n\n<pre><code>date=2014-12-10 12:25:13,688 lovelforlogs=INFO userid=userid methodused=myMethod Errortype=CRITICAL ERROR message=; hereSometest#: 368; some other#: 23\ndate=2014-12-10 12:25:13,688 lovelforlogs=INFO userid=userid methodused=myMethod Errortype=ERROR ERROR message=com.whatever.whicever.program.exceptions.InvalidParameterException: F20176 VALUE is WRONG [G00097]\ndate=2015-01-27 12:24:37,079 lovelforlogs=VERBOSE userid=userid methodused=myMethod Errortype=Unchecked error message=AxisFault\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48006, "user_id": 96588, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/425fed56a46504d37ec907d99b09ecde?s=128&d=identicon&r=PG", "display_name": "l0b0", "link": "https://stackoverflow.com/users/96588/l0b0"}, "edited": false, "score": 0, "creation_date": 1423473552, "post_id": 28406170, "comment_id": 45146861, "body": "It&#39;s been a while, but doesn&#39;t that get you a <i>reference</i> to the hash? As in, dereference using <code>%$value</code>?"}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423473848, "post_id": 28406170, "comment_id": 45147006, "body": "Could get you can you elloborate"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1423492764, "post_id": 28406170, "comment_id": 45157854, "body": "&quot;According to me the above code is invalid....&quot; Well, you&#39;re wrong. It&#39;s a hash because it has curly brackets and key-value pairs. If you put <code>%value</code> on the left-hand side it would be wrong. You would store <code>undef</code> in the slot for the key which is the stringified representation of the anonymous hashref -&gt; <code>$value{&#39;HASH(0xABCDEF999)&#39;} = undef</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423474320, "post_id": 28406367, "comment_id": 45147263, "body": "HI @quentin                                                                  when i am trying to print the below it return me with an error                  print &quot;$value{&#39;1&#39;}\\n&quot;;"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423474348, "post_id": 28406367, "comment_id": 45147273, "body": "@iamnewbie \u2014 Of course it does. That isn&#39;t how I said you accessed the value."}, {"owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1423474367, "post_id": 28406367, "comment_id": 45147282, "body": "Try using this $value -&gt; {&#39;1&#39;} and check whether it works or not ?"}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423474965, "post_id": 28406367, "comment_id": 45147618, "body": "Check my o/p below     <code>#!&#47;usr&#47;bin&#47;perl my $value = { 1 =&gt; &quot;Apple&quot;, 2 =&gt; &quot;Orange&quot;, 3 =&gt; &quot;Banana&quot; }; print $value-&gt;{&quot;1&quot;};  root@ubuntu-OptiPlex-390:~&#47;sammy&#47;new# .&#47;q1.pl Apple root@ubuntu-OptiPlex-390:~&#47;sammy&#47;new# </code>"}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "reply_to_user": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1423475951, "post_id": 28406367, "comment_id": 45148156, "body": "@praveen Can you please also tell me whats the difference in below 2 declaration   my $thing1 = [ 1, 2, 3 ]; my @ thing2 = ( 1, 2, 3 );"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1423476004, "post_id": 28406367, "comment_id": 45148194, "body": "Pretty much the same thing."}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423476274, "post_id": 28406367, "comment_id": 45148377, "body": "but technically whats the difference according to me @ points to address and $ points to the value ?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1423476323, "post_id": 28406367, "comment_id": 45148418, "body": "<code>$</code> is a scalar. <code>@</code> is an array."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423489795, "post_id": 28406367, "comment_id": 45156000, "body": "@iamnewbie, Always use <code>use strict; use warnings;</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423489918, "post_id": 28406367, "comment_id": 45156075, "body": "@ikegami is it correct to say that hash elements order doesn&#39;t change until hash itself isn&#39;t changed (hint: <code>values()</code> always returns corresponding values)?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1423490241, "post_id": 28406367, "comment_id": 45156282, "body": "@Quentin yes, but order should change only when hash is altered."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1423490276, "post_id": 28406367, "comment_id": 45156304, "body": "@\u0421\u0443\u0445\u043e\u043927, Yes. Subsequent iterations of the hash (keys/values/each) will return the same order as previous iterations of a hash if the hash hasn&#39;t been changed in between. e.g. <code>@b{keys(%a)} = values(%a);</code> is a fine way to add the elements of one hash to another. That&#39;s documented."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423490328, "post_id": 28406367, "comment_id": 45156343, "body": "@ikegami \u2014 I must have missed that. Where in the docs is that?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1423490425, "post_id": 28406367, "comment_id": 45156410, "body": "Ah, so it is. Thanks."}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423503613, "post_id": 28406367, "comment_id": 45165001, "body": "@ikegami     #What is the difference between below 2 line     my @ ary = ( 1, 2, 3 );       # variable     print &quot;size = &quot; . @ ary . &quot;\\n&quot;;      #first statement           print &quot;size = @ ary \\n&quot;;             #Second statement       # tell me the difference between above two statements"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423503803, "post_id": 28406367, "comment_id": 45165093, "body": "@iamnewbie \u2014 If you have a new question, then please <a href=\"http://stackoverflow.com/questions/ask\">ask it in the right place</a>."}, {"owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "edited": false, "score": 0, "creation_date": 1423504300, "post_id": 28406367, "comment_id": 45165399, "body": "the thing is when i try to post my code there it ask me to put comments for your code when i put comments for my code it still says add more comments to help understand your code,, i am new with this web and really sad with the way its structured .. :("}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423505695, "post_id": 28406367, "comment_id": 45166125, "body": "No, it doesn&#39;t say anything about commenting your code. It says this this box is to be used to leave comments about the answer. You are using it to ask new questions. Ask questions <a href=\"http://stackoverflow.com/questions/ask\">here</a>"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 5, "last_activity_date": 1423473871, "creation_date": 1423473871, "answer_id": 28406367, "question_id": 28406170, "link": "https://stackoverflow.com/questions/28406170/what-kind-of-data-structure-is-it-in-the-following-code-and-how-would-you-refer/28406367#28406367", "title": "What kind of data structure is it in the following code, and how would you reference the first element?", "body": "<p>It a hash reference. See <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"noreferrer\">perldoc perlref</a>.</p>\n\n<p>There isn't a \"first\" element because hashes don't have an fixed order. You'd access the value of <code>1</code> by using <code>$value-&gt;{\"1\"}</code>.</p>\n\n<p>You use the <a href=\"http://en.wikipedia.org/wiki/Fat_comma\" rel=\"noreferrer\">fat comma</a> (<code>=&gt;</code>) because:</p>\n\n<ul>\n<li>It puts quotes around the LHS automatically</li>\n<li>It gives a strong visual indicator as to which bits of the data are keys and which are values</li>\n</ul>\n\n<p>A hash reference is a scalar value, so you need <code>$</code>. <code>%value</code> would be used if you were storing a hash directly, but then you'd use <code>()</code> instead of <code>{}</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 4510458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-7Z2lk9aBLu4/AAAAAAAAAAI/AAAAAAAAEMo/b7rRqGRLeb4/photo.jpg?sz=128", "display_name": "iamnewbie", "link": "https://stackoverflow.com/users/4510458/iamnewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 28406367, "answer_count": 1, "score": -1, "last_activity_date": 1423475286, "creation_date": 1423473131, "last_edit_date": 1423475286, "question_id": 28406170, "link": "https://stackoverflow.com/questions/28406170/what-kind-of-data-structure-is-it-in-the-following-code-and-how-would-you-refer", "title": "What kind of data structure is it in the following code, and how would you reference the first element?", "body": "<p>What kind of data structure is being created in the following code snippet, and how would you reference the first element?</p>\n\n<pre><code>my $value= { 1 =&gt; \"Apple\", 2 =&gt; \"Orange\", 3 =&gt; \"Banana\" };\n</code></pre>\n\n<p>Why do we use <code>=&gt;</code>, can you explain?</p>\n\n<p>According to me the above code is invalid and instead it should be my <code>%value</code> then it becomes hash.</p>\n"}, {"tags": ["php", "perl", "cgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1423474701, "post_id": 28406162, "comment_id": 45147457, "body": "<a href=\"https://metacpan.org/pod/PHP\" rel=\"nofollow noreferrer\">metacpan.org/pod/PHP</a>"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1423487731, "post_id": 28406162, "comment_id": 45154731, "body": "Why do you want to do this?"}], "answers": [{"comments": [{"owner": {"reputation": 5871, "user_id": 1225432, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b00425343288854a37baa4280bd0796?s=128&d=identicon&r=PG&f=1", "display_name": "chinna_82", "link": "https://stackoverflow.com/users/1225432/chinna-82"}, "edited": false, "score": 0, "creation_date": 1423474892, "post_id": 28406590, "comment_id": 45147573, "body": "Edited : exec(&#39;C:/php D:/PPC/phptest.php&#39;);.. still same"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 5871, "user_id": 1225432, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b00425343288854a37baa4280bd0796?s=128&d=identicon&r=PG&f=1", "display_name": "chinna_82", "link": "https://stackoverflow.com/users/1225432/chinna-82"}, "edited": false, "score": 0, "creation_date": 1423475653, "post_id": 28406590, "comment_id": 45147976, "body": "@chinna_82 : see my edited answer. And remember there is a difference between exec and backtick."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 0, "last_activity_date": 1423475465, "last_edit_date": 1423475465, "creation_date": 1423474607, "answer_id": 28406590, "question_id": 28406162, "link": "https://stackoverflow.com/questions/28406162/perl-call-php-file-from-perl/28406590#28406590", "title": "Perl - Call PHP file from Perl", "body": "<p>First of all use <code>use warnings</code> and <code>use strict</code> in your perl script and then run your perl script from command prompt to check it is working fine or not.</p>\n\n<p>Use the backtick operator:</p>\n\n<pre><code>my $php = `/path/to/yourscript.php`;\n</code></pre>\n"}], "owner": {"reputation": 5871, "user_id": 1225432, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b00425343288854a37baa4280bd0796?s=128&d=identicon&r=PG&f=1", "display_name": "chinna_82", "link": "https://stackoverflow.com/users/1225432/chinna-82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 28406590, "answer_count": 1, "score": 0, "last_activity_date": 1423475465, "creation_date": 1423473112, "last_edit_date": 1423474232, "question_id": 28406162, "link": "https://stackoverflow.com/questions/28406162/perl-call-php-file-from-perl", "title": "Perl - Call PHP file from Perl", "body": "<p><strong>phptest.php</strong></p>\n\n<pre><code>&lt;?php\necho \"&lt;h2&gt;PHP is Fun!&lt;/h2&gt;\";\necho \"Hello world!&lt;br&gt;\";\necho \"I'm about to learn PHP!&lt;br&gt;\";\necho \"This \", \"string \", \"was \", \"made \", \"with multiple parameters.\";\n?&gt;\n</code></pre>\n\n<p><strong>perltest.cgi</strong></p>\n\n<pre><code>#!C:\\\\Perl\\\\bin\\\\perl.exe\nuse DBI;\nuse Archive::Zip;\nuse File::Spec::Functions qw( catfile );\nuse CGI;\n\nrequire \"header.cgi\";\n\nmy $query = new CGI;\nprint $query-&gt;header ( );\nexec('C:\\php phptest.php');\n</code></pre>\n\n<p>I'm trying to execute php file from perl. What I get is a just blank page without any error message. Both files are located in the same folder. When i try to run the php file in browser I get as per below screen shot.\n<img src=\"https://i.stack.imgur.com/uKhKW.png\" alt=\"enter image description here\">\nand from CMD.\n<img src=\"https://i.stack.imgur.com/ieyr9.png\" alt=\"enter image description here\">\nPlease advice where I did wrong. </p>\n"}, {"tags": ["mysql", "xml", "database", "perl", "xml-parsing"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423491434, "post_id": 28401517, "comment_id": 45157061, "body": "Sample of your XML would be necessary to give a good answer.  Otherwise this is an opinion based answer, which is potentially offtopic for StackOverflow. I would suggest looking at <code>perl</code> and <code>XML::Twig</code> as good options for XML parsing. (And if you can give an XML sample and desired output, I can knock you up an example)."}], "answers": [{"comments": [{"owner": {"reputation": 906, "user_id": 1707308, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/881969f6035e7071917af1de75525290?s=128&d=identicon&r=PG", "display_name": "Jcmoney1010", "link": "https://stackoverflow.com/users/1707308/jcmoney1010"}, "edited": false, "score": 0, "creation_date": 1423536160, "post_id": 28413252, "comment_id": 45179328, "body": "The player XML files, and the files that are viewable online all seem to be pretty standard formatting, I didn&#39;t see many changes from file to file. The issue arises in the Inning by Inning files, which for some reason don&#39;t seem to be viewable online(but were somehow downloadable via a perl parsing script). I can add 2 files for comparison, but they were fairly big and ugly. Will the perl script you provided help with the inconsistent field names? ex: file one lists batter column as <code>batter</code> and file 2 lists it as <code>batter22</code>. Thanks in advance!"}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "reply_to_user": {"reputation": 906, "user_id": 1707308, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/881969f6035e7071917af1de75525290?s=128&d=identicon&r=PG", "display_name": "Jcmoney1010", "link": "https://stackoverflow.com/users/1707308/jcmoney1010"}, "edited": false, "score": 0, "creation_date": 1423561515, "post_id": 28413252, "comment_id": 45188239, "body": "Maybe some URLs to the files you are looking at, and the field names you are seeing would help. I just took a look at the innings for the same game, and the attributes are totally consistent (batter, pitcher, etc)."}, {"owner": {"reputation": 906, "user_id": 1707308, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/881969f6035e7071917af1de75525290?s=128&d=identicon&r=PG", "display_name": "Jcmoney1010", "link": "https://stackoverflow.com/users/1707308/jcmoney1010"}, "edited": false, "score": 0, "creation_date": 1423617340, "post_id": 28413252, "comment_id": 45219340, "body": "After reading your last comment, I went back to check the raw data files, and you are right, the files themselves are consistent. I did not realize this at first, because I was importing them into Excel for easier viewing. Apparently, Excel was renaming the header rows. unfortunately, I have been unable to get the above code to work, so I&#39;m still stuck. I keep getting an error message of &quot;directory of file doesn&#39;t exist&quot; or &quot;Permission Denied&quot;. This is my first attempt at perl, so i may just be doing it wrong."}, {"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "reply_to_user": {"reputation": 906, "user_id": 1707308, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/881969f6035e7071917af1de75525290?s=128&d=identicon&r=PG", "display_name": "Jcmoney1010", "link": "https://stackoverflow.com/users/1707308/jcmoney1010"}, "edited": false, "score": 0, "creation_date": 1423778274, "post_id": 28413252, "comment_id": 45298808, "body": "Did you download the XML? You&#39;ll have to pass in the correct filename, or use &lt;insert your favourite HTTP package&gt; to download it.. You can also pass in an XML string."}], "tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": false, "score": 2, "last_activity_date": 1423495694, "creation_date": 1423495694, "answer_id": 28413252, "question_id": 28401517, "link": "https://stackoverflow.com/questions/28401517/importing-xml-data-into-database/28413252#28413252", "title": "Importing XML Data into Database", "body": "<p>The files are pretty standard as far as XML goes.., you just have to figure what each file represents.</p>\n\n<p>I did a quick look around a Red Sox v Royals game from September 14. (Go Sox!)\nIn year_2014/month_09/day_14/gid_2014_09_14_bosmlb_kcamlb_1/players.xml\nI can see that Ortiz has an id of 120074. </p>\n\n<p>If I look in batters for his player Id, I can see his stats for that game.\n(year_2014/month_09/day_14/gid_2014_09_14_bosmlb_kcamlb_1/batters/120074.xml)</p>\n\n<p>It goes on. Basically, in order to load these files into a database, you will have perform some level of processing for them to make any sense.\nThe IDs don't appear to change between games, but I only took a cursory glance.</p>\n\n<p>As for loading the data, XML::Simple in perl can take an XML and spit out a perl data structure very easily. Unless you need something more heavy duty, this should cover you.</p>\n\n<p>Loading the players.xml:</p>\n\n<pre><code>#!/bin/env perl\nuse strict; use warnings;\n\nuse Data::Dumper;\nuse XML::Simple;\n\nmy $players_xml = XMLin('players.xml');\n\nprint Dumper $xml;\n</code></pre>\n\n<p>Gives you something like:</p>\n\n<pre><code>$VAR1 = {\n    'venue' =&gt; 'Kauffman Stadium',\n    'date' =&gt; 'September 14, 2014',\n    'team' =&gt; {\n        'Boston Red Sox' =&gt; {\n            'id' =&gt; 'BOS',\n            'player' =&gt; {\n                '605141' =&gt; {\n                    'avg' =&gt; '.283',\n                    'team_abbrev' =&gt; 'BOS',\n                    'parent_team_id' =&gt; '111',\n                    'hr' =&gt; '4',\n                    'team_id' =&gt; '111',\n                    'status' =&gt; 'A',\n                    'last' =&gt; 'Betts',\n                    'rl' =&gt; 'R',\n                    'parent_team_abbrev' =&gt; 'BOS',\n                    'first' =&gt; 'Mookie',\n                    'rbi' =&gt; '12',\n                    'game_position' =&gt; '2B',\n                    'num' =&gt; '50',\n                    'position' =&gt; '2B',\n                    'current_position' =&gt; '2B',\n                    'boxname' =&gt; 'Betts',\n                    'bats' =&gt; 'R',\n                    'bat_order' =&gt; '1'\n                },\n                ...\n</code></pre>\n\n<p>It's then trivial to navigate these hashes and insert DB rows as you like.</p>\n"}], "owner": {"reputation": 906, "user_id": 1707308, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/881969f6035e7071917af1de75525290?s=128&d=identicon&r=PG", "display_name": "Jcmoney1010", "link": "https://stackoverflow.com/users/1707308/jcmoney1010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423495694, "creation_date": 1423445464, "last_edit_date": 1423489347, "question_id": 28401517, "link": "https://stackoverflow.com/questions/28401517/importing-xml-data-into-database", "title": "Importing XML Data into Database", "body": "<p>Being the sports nerd that I am, I'm looking to take daily XML files that are produced by the Major League Baseball Website, and import them into either an Access or MySQL database. The issue I'm running into, is that almost every XML file they produce is just slightly different than the last. For example, one game file may have a field named <code>batter23</code> that is next to <code>event22</code> while the other file calls it <code>batter24</code>and is next to <code>pitcher25</code>. I know that XML files can be inconsistent, but I know there has to be a way to consistently get the data into a database. Is there anyway to standardize these XML files? Some code that will parse each file in a list, and organize them into a specific style and giving them consistent field names? Currently I import the XML file into a Excel sheet first, where I change the file type to a CSV, but from there the field names and column locations are still different from file to file.</p>\n\n<p>My goal is to have all the files in a structure where I can quickly import them into a database each day, without having to manually change column locations, or field names. I'm open to any and all options, but my experience in most languages are rookie level at best, so forgive me for my lack of knowledge. </p>\n"}, {"tags": ["perl", "translation", "gettext"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423448121, "post_id": 28400310, "comment_id": 45138978, "body": "Automated translation is really not at the point where you can use that as your primary mechanism. No idea what differences exists between #1 or #2, or what you mean by &quot;sync issues&quot;."}, {"owner": {"reputation": 403, "user_id": 2965906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cd5DD.jpg?s=128&g=1", "display_name": "hildred", "link": "https://stackoverflow.com/users/2965906/hildred"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423451121, "post_id": 28400310, "comment_id": 45139581, "body": "@ikegami gettext does not do machine translation, it allows for translators to not need to work with code. As for sync, when there is a change that affects a message, that message needs retranslated. #1 is simpler than #2 in that it is only concerned with Boolean answers."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423451227, "post_id": 28400310, "comment_id": 45139601, "body": "I went from not understanding #1 and #2 to also not understanding #3 since I thought that was automated translation"}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 0, "creation_date": 1423483564, "post_id": 28400310, "comment_id": 45152365, "body": "There is actually no way to <i>completely</i> automate what you&#39;re trying to do. A crude approach would be to ask your translators to use some kind of format that you can then parse to check the answer. E.g.: &quot;Continue [y/N] ?&quot; could become &quot;Continue [\\\\1y/\\\\0N] ?&quot; and you have to parse the string knowing that the letter after \\\\1 is yes and the one after \\\\0 is no. Yes, I agree that is quite ugly and requires some cooperation from translators, but there&#39;s not much of a choice. Also, you have to be careful when using multi-byte languages."}], "answers": [{"tags": [], "owner": {"reputation": 403, "user_id": 2965906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cd5DD.jpg?s=128&g=1", "display_name": "hildred", "link": "https://stackoverflow.com/users/2965906/hildred"}, "is_accepted": false, "score": 0, "last_activity_date": 1423764215, "creation_date": 1423764215, "answer_id": 28484614, "question_id": 28400310, "link": "https://stackoverflow.com/questions/28400310/how-do-i-internationalize-input/28484614#28484614", "title": "How do I internationalize input?", "body": "<p>After much reading, I believe I have found the answer: the context variants of the <code>gettext</code> calls like <code>pgettext</code>.</p>\n\n<pre><code>echo gettext(\"Which install procedure do you want?\");\necho pgettext(\"Which install procedure do you want?\", \"Novice\");\necho pgettext(\"Which install procedure do you want?\", \"Intermediate\");\necho pgettext(\"Which install procedure do you want?\", \"Expert\");\necho pgettext(\"Which install procedure do you want?\", \"Automated\");\nans=getc();\nif(ans == pgettext(\"Which install procedure do you want?|Novice\",\"N\") ){\n    do novice;\n}elseif(ans == pgettext(\"Which install procedure do you want?|Intermediate\",\"I\") ){\n. . . \n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 2965906, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cd5DD.jpg?s=128&g=1", "display_name": "hildred", "link": "https://stackoverflow.com/users/2965906/hildred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1423764215, "creation_date": 1423435821, "question_id": 28400310, "link": "https://stackoverflow.com/questions/28400310/how-do-i-internationalize-input", "title": "How do I internationalize input?", "body": "<p>I have three variations of this question in increasing difficulty. All questions assume gettext prompts looking for a single letter response. I am currently writing in perl, but a answer in C is acceptable as I have and can write XS modules. you can assume there are no input method problems, and that the locale variables are set correctly.</p>\n\n<ol>\n<li><p>So, let us say that I have a program that asks <code>gettext(\"are you sure you want to do that (Yes/No)?\")</code> and it has been translated into Spanish (<code>... (Si/No)?\"</code>), french, and valspeak (<code>... (No problemo/Stop right there)?\"</code> How can I tell if the letter I receive from input means yes or no?</p></li>\n<li><p>Let us assume that we are displaying a menu with a question like <code>gettext(\"Which install procedure do you want?\")</code> with options like <code>gettext(\"(N)ovice\")</code>, <code>gettext(\"(I)ntermediate\")</code>, <code>gettext(\"(E)xpert\")</code>, and <code>gettext(\"(A)utomated\")</code>. In English I would accept <code>[niea]</code>. What do I accept if the user speaks Russian? or Chinese? or Swahili?</p></li>\n<li><p>My actual project involves translating boot menus from a general format to formats that work with multiple bootloaders. Given that for each menu entry I have a set of key value pairs (menu text, hot key, and action among others) I see three possible ways of generating menus in languages I do not speak.</p>\n\n<ol>\n<li>(easy) Have the whole menu translated. Advantages are that the file is simple, the action and related keys can be ignored, no work to implement. Disadvantages are that there are no translation tools to help with this and languages may get out of sync.</li>\n<li>(medium) Add language specific key values like menu_fr, hotkey_fr, menu_ch... Advantages are that it is simple to implement and that everything is right there. Disadvantages are again that sync issues arise.</li>\n<li>(unknown) Use gettext with the main menu in English. Advantages include plenty of translator tools, established workflow, menu entries are not difficult to implement, and since I am already using gettext for progress messages most of the implementation is fairly straightforward. The disadvantage is that I do not know how to recognize hot-keys.</li>\n</ol></li>\n</ol>\n\n<p>What is the best solution?</p>\n"}, {"tags": ["bash", "perl", "error-handling", "output", "backticks"], "comments": [{"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 1, "creation_date": 1423431453, "post_id": 28399568, "comment_id": 45134946, "body": "Using <code>2&gt;&#47;dev&#47;null</code> is the correct method. Are you sure it&#39;s not working?"}, {"owner": {"reputation": 989, "user_id": 1617711, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5c08c2582fae5e1d7d205e04636a1ad4?s=128&d=identicon&r=PG&f=1", "display_name": "yonetpkbji", "link": "https://stackoverflow.com/users/1617711/yonetpkbji"}, "reply_to_user": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1423432106, "post_id": 28399568, "comment_id": 45135119, "body": "Yes I&#39;m definitely getting the error (exactly as shown above) and I thought 2&gt;/dev/null was the correct way to do it, that&#39;s why it was confusing me as well. The error can only be coming from this backtick command as well as it is the only &#39;meaningful&#39; thing the script is doing (ie theres no other connection orientated or backtick commands going on in the script). So i cant understand why 2&gt;/dev/null does not catch the error."}], "answers": [{"tags": [], "owner": {"reputation": 138, "user_id": 1978027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83313946d94bb8bbcbb78b76cea66574?s=128&d=identicon&r=PG", "display_name": "FunkyShu", "link": "https://stackoverflow.com/users/1978027/funkyshu"}, "is_accepted": false, "score": 2, "last_activity_date": 1423440289, "last_edit_date": 1423440289, "creation_date": 1423435968, "answer_id": 28400323, "question_id": 28399568, "link": "https://stackoverflow.com/questions/28399568/perl-stop-error-appearing-in-command-line-output/28400323#28400323", "title": "Perl - stop error appearing in command line output", "body": "<p>Consider using <a href=\"https://metacpan.org/module/IPC::Run3\" rel=\"nofollow\"><code>IPC::Run3</code></a>:</p>\n\n<pre><code>use IPC::Run3;    # Exports run3() by default\n\nrun3 \\@cmd, \\$in, \\$out, \\$err;\n</code></pre>\n\n<p>It separates out stdin, stdout, and stderr into different references. At minimum, it should help you figure out what is going on.</p>\n"}, {"tags": [], "owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "is_accepted": true, "score": 4, "last_activity_date": 1460698430, "last_edit_date": 1460698430, "creation_date": 1423437639, "answer_id": 28400565, "question_id": 28399568, "link": "https://stackoverflow.com/questions/28399568/perl-stop-error-appearing-in-command-line-output/28400565#28400565", "title": "Perl - stop error appearing in command line output", "body": "<p>Try to <strong>reopen</strong> <code>STDERR</code> in your program like this:</p>\n\n<pre><code>open STDERR, '&gt;/dev/null';    \n# your command\n</code></pre>\n\n<p>Errors of your <code>qx</code>-command will not be shown. So you don't have to worry about how will you call your program.</p>\n\n<p>P.S. Also you can save your <code>STDERR</code> if you need it:</p>\n\n<pre><code>open OLDERR, \"&gt;&amp;\", \\*STDERR; # or die \"$!\";\nopen STDERR, \"&gt;/dev/null\"; # or die \"$!\";\n# your command\nopen STDERR, \"&gt;&amp;OLDERR\"; # restoring your stderr\nclose OLDERR;\n# other code\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 4544146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d58fc597cb1b9ed6162a8850e3ed55d?s=128&d=identicon&r=PG&f=1", "display_name": "mstang", "link": "https://stackoverflow.com/users/4544146/mstang"}, "is_accepted": false, "score": -1, "last_activity_date": 1424670393, "last_edit_date": 1424670393, "creation_date": 1423448470, "answer_id": 28401883, "question_id": 28399568, "link": "https://stackoverflow.com/questions/28399568/perl-stop-error-appearing-in-command-line-output/28401883#28401883", "title": "Perl - stop error appearing in command line output", "body": "<p>Are you sure these are errors and not output from OpenSSL (coming to STDOUT instead of STDERR)?  If all your expected output starts with <code>EXP</code> like your example you could try adding a  </p>\n\n<pre><code>| grep EXP\n</code></pre>\n\n<p>to test.</p>\n"}], "owner": {"reputation": 989, "user_id": 1617711, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5c08c2582fae5e1d7d205e04636a1ad4?s=128&d=identicon&r=PG&f=1", "display_name": "yonetpkbji", "link": "https://stackoverflow.com/users/1617711/yonetpkbji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 1, "accepted_answer_id": 28400565, "answer_count": 3, "score": 0, "last_activity_date": 1561155506, "creation_date": 1423430917, "last_edit_date": 1561155506, "question_id": 28399568, "link": "https://stackoverflow.com/questions/28399568/perl-stop-error-appearing-in-command-line-output", "title": "Perl - stop error appearing in command line output", "body": "<p><strong>What I am doing:</strong></p>\n\n<p>I have the following backticks command that executes in a simple foreach loop and saves the command output to a variable and I then perform string matching actions on that variable:</p>\n\n<pre><code>$ciphertestoutput = `echo -n | openssl s_client -cipher $tlsCipher -connect $ipaddress:443 2&gt;/dev/null`;\n</code></pre>\n\n<p><strong>The problem:</strong></p>\n\n<p>However, when I run my script in the output I get an error message that I cannot seem to stop appearing. I am not bothered that the error happens, but I do not want the error showing in the middle of the pretty command line output I have made.</p>\n\n<p><strong>My output and the error:</strong></p>\n\n<pre><code>EXP-DES-CBC-SHA CIPHER IS SUPPORTED on 192.168.1.22:443\n\nEXP-EDH-DSS-DES-CBC-SHA CIPHER IS NOT SUPPORTED on 192.168.1.22.443\n\nEXP-RC2-CBC-MD5 CIPHER IS NOT SUPPORTED on 192.168.1.22:443\nconnect: Connection refused          &lt;--- the error I cant get rid of\nconnect:errno=111                    &lt;--- the error I cant get rid of\n\nEXP-RC4-MD5 CIPHER IS NOT SUPPORTED on 192.168.1.22:443\n</code></pre>\n\n<p><strong>What I have tried:</strong></p>\n\n<p>I have tried and experimented with all manner of ways I know of to suppress error messages in the output, but nothing I try prevents this error from appearing. I have done many similar things in the past and have never come across this issue with backticks. Is there something obvious I am missing here?</p>\n"}, {"tags": ["linux", "perl", "awk", "grep"], "comments": [{"owner": {"reputation": 9225, "user_id": 3248346, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/377f7423a286949201e0aa8cb2257fcc?s=128&d=identicon&r=PG&f=1", "display_name": "M.K.", "link": "https://stackoverflow.com/users/3248346/m-k"}, "edited": false, "score": 0, "creation_date": 1423404147, "post_id": 28394755, "comment_id": 45125973, "body": "have you heard of unix pipelines?"}, {"owner": {"reputation": 21, "user_id": 4543096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32bcd1770b3081269851e9fa1e3eb8ef?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/4543096/sue"}, "reply_to_user": {"reputation": 9225, "user_id": 3248346, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/377f7423a286949201e0aa8cb2257fcc?s=128&d=identicon&r=PG&f=1", "display_name": "M.K.", "link": "https://stackoverflow.com/users/3248346/m-k"}, "edited": false, "score": 0, "creation_date": 1423404242, "post_id": 28394755, "comment_id": 45126008, "body": "err nope..i&#39;m totally new in this environment"}, {"owner": {"reputation": 9225, "user_id": 3248346, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/377f7423a286949201e0aa8cb2257fcc?s=128&d=identicon&r=PG&f=1", "display_name": "M.K.", "link": "https://stackoverflow.com/users/3248346/m-k"}, "edited": false, "score": 0, "creation_date": 1423404292, "post_id": 28394755, "comment_id": 45126022, "body": "what about unix shell scripts? bash programming?"}, {"owner": {"reputation": 21, "user_id": 4543096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32bcd1770b3081269851e9fa1e3eb8ef?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/4543096/sue"}, "reply_to_user": {"reputation": 9225, "user_id": 3248346, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/377f7423a286949201e0aa8cb2257fcc?s=128&d=identicon&r=PG&f=1", "display_name": "M.K.", "link": "https://stackoverflow.com/users/3248346/m-k"}, "edited": false, "score": 0, "creation_date": 1423405631, "post_id": 28394755, "comment_id": 45126395, "body": "yup..still learning on it..i know the basic format.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423405905, "post_id": 28394755, "comment_id": 45126473, "body": "Can I take it that there&#39;s always a space after the name in <code>File 2</code>?"}, {"owner": {"reputation": 21, "user_id": 4543096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32bcd1770b3081269851e9fa1e3eb8ef?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/4543096/sue"}, "edited": false, "score": 0, "creation_date": 1423406011, "post_id": 28394755, "comment_id": 45126510, "body": "owh..sorry...the name should be File1 and File2...very sorry for the mistakes"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423410255, "post_id": 28394755, "comment_id": 45127875, "body": "@Sue: Thanks, but I meant to ask if there was always a space (or a tab) after the name in lines like <code>Name1 ....description...</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4543096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32bcd1770b3081269851e9fa1e3eb8ef?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/4543096/sue"}, "edited": false, "score": 0, "creation_date": 1423407147, "post_id": 28395106, "comment_id": 45126866, "body": "thanks glenn jackman!! the command works perfectly when i try it on local Redhat but when i run it on Redhat server, all content in file2 are printed :( any idea why it is like this?"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 21, "user_id": 4543096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32bcd1770b3081269851e9fa1e3eb8ef?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/4543096/sue"}, "edited": false, "score": 0, "creation_date": 1423415748, "post_id": 28395106, "comment_id": 45129582, "body": "Are there any blank lines in file1?"}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 1, "last_activity_date": 1423406021, "creation_date": 1423406021, "answer_id": 28395106, "question_id": 28394755, "link": "https://stackoverflow.com/questions/28394755/compare-two-files-and-print-n-lines-after-the-matching-word/28395106#28395106", "title": "Compare two files and print N lines after the matching word", "body": "<p>You can pass grep a file containing patterns (<code>-f</code> option), so</p>\n\n<pre><code>$ grep -F -f file1 -A3 file2\nName1 ....description...\nlineA\nlineB\nlineC\nName3 ....description...\nlineA\nlineB\nlineC\n</code></pre>\n\n<p>Using <code>-F</code> to indicate the patterns are fixed strings, not regular expressions.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1423406116, "creation_date": 1423406116, "answer_id": 28395126, "question_id": 28394755, "link": "https://stackoverflow.com/questions/28394755/compare-two-files-and-print-n-lines-after-the-matching-word/28395126#28395126", "title": "Compare two files and print N lines after the matching word", "body": "<p>This should work for you. It reads all of the names from <code>File1</code> into a hash, so that the values from <code>File2</code> can be quickly checked.</p>\n\n<p><code>File2</code> is read line by line, and the first field checked against the hash to see if it is one of the wanted names. If so, then the current line and the three following lines are printed.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\nuse autodie;\n\nmy %names;\n\nopen my $fh, '&lt;', 'File1';\n\nwhile ( &lt;$fh&gt; ) {\n  chomp;\n  ++$names{$_};\n}\n\nopen $fh, '&lt;', 'File2';\n\nwhile ( &lt;$fh&gt; ) {\n  my ($name) = split;\n  if ( $names{$name} ) {\n    print;\n    print scalar &lt;$fh&gt; for 1 .. 3;\n  }\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Name1 ....description...\nlineA\nlineB\nlineC\nName3 ....description...\nlineA\nlineB\nlineC\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 1967512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3JRO.jpg?s=128&g=1", "display_name": "Allen Supynuk", "link": "https://stackoverflow.com/users/1967512/allen-supynuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1424197864, "creation_date": 1424197864, "answer_id": 28568571, "question_id": 28394755, "link": "https://stackoverflow.com/questions/28394755/compare-two-files-and-print-n-lines-after-the-matching-word/28568571#28568571", "title": "Compare two files and print N lines after the matching word", "body": "<p>I would have used xargs:</p>\n\n<pre><code>cat File1 | xargs -I NAME grep -A3 NAME File2\n</code></pre>\n\n<p>The canonical way to look for a NAME in File2 and show the matching line and the three lines after it is:</p>\n\n<pre><code>grep -A3 NAME File2\n</code></pre>\n\n<p>The way to generate such a command for each line of File 1, using the line as NAME is:</p>\n\n<pre><code>cat File1 | xargs -I NAME &lt;COMMAND with NAME in it&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4543096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32bcd1770b3081269851e9fa1e3eb8ef?s=128&d=identicon&r=PG&f=1", "display_name": "Sue", "link": "https://stackoverflow.com/users/4543096/sue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1106, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1424197864, "creation_date": 1423403970, "last_edit_date": 1423406185, "question_id": 28394755, "link": "https://stackoverflow.com/questions/28394755/compare-two-files-and-print-n-lines-after-the-matching-word", "title": "Compare two files and print N lines after the matching word", "body": "<p>I need to search a name from <code>File1</code> against <code>File2</code>. If the matching name is found, I need to print it together with three lines after it.</p>\n\n<p><strong>\u2014 File1 \u2014</strong></p>\n\n<pre><code>Name1\nName2\nName3\n</code></pre>\n\n<p><strong>\u2014 File2 \u2014</strong></p>\n\n<pre><code>Topic1 ....description...\nlineA\nlineB\nlineC\nName1 ....description...\nlineA\nlineB\nlineC\nName3 ....description...\nlineA\nlineB\nlineC\nTopic2 ....description...\nlineA\nlineB\nlineC\nTopic3 ....description...\nlineA\nlineB\nlineC\n</code></pre>\n\n<p><strong>\u2014 Expected result \u2014</strong></p>\n\n<pre><code>Name1 ....description...\nlineA\nlineB\nlineC\nName3 ....description...\nlineA\nlineB\nlineC\n</code></pre>\n\n<ul>\n<li><p>I tried to use awk to find matching between two files and only succeeded in printing <code>Name1 ....description...</code> (without <code>lineA</code> - <code>lineC</code>)</p>\n\n<pre><code>awk 'BEGIN { while ( getline &lt; \"File1\" ) arr[$0]++ }( $1 in arr )' File2\n</code></pre></li>\n<li><p>I know grep command can be used to print certain lines using pattern</p>\n\n<pre><code>grep -A3 /pattern/ file\n</code></pre></li>\n</ul>\n\n<p>My problem now is I don't know how to combine these two commands. Perhaps someone can suggest a Perl script to run these flow?</p>\n"}, {"tags": ["mysql", "perl"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1423402659, "creation_date": 1423402659, "answer_id": 28394546, "question_id": 28393986, "link": "https://stackoverflow.com/questions/28393986/mysql-perl-select-join-and-update-tables/28394546#28394546", "title": "mysql perl select join and update tables", "body": "<p>MySQL will do all of this for you \u2014 there is no need to involve Perl or multiple SQL statements.</p>\n\n<p>Like this (untested, because I don't have a MySQL server installed at present).</p>\n\n<pre><code>my $update = $dbh-&gt;prepare(&lt;&lt;__SQL__);\nUPDATE Product\nJOIN Deal ON Product.id = Deal.product_id\nJOIN Tariff ON Tariff.id = Deal.tariff_id\nSET Product.pm_available = 1\nWHERE Tariff.length &gt; 0\n__SQL__\n\n$update-&gt;execute;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 4544146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d58fc597cb1b9ed6162a8850e3ed55d?s=128&d=identicon&r=PG&f=1", "display_name": "mstang", "link": "https://stackoverflow.com/users/4544146/mstang"}, "is_accepted": false, "score": 0, "last_activity_date": 1423451425, "last_edit_date": 1423451425, "creation_date": 1423450544, "answer_id": 28402115, "question_id": 28393986, "link": "https://stackoverflow.com/questions/28393986/mysql-perl-select-join-and-update-tables/28402115#28402115", "title": "mysql perl select join and update tables", "body": "<p>Slight mod to what you were doing,  1st query joins all three tables summing the length from the tariffs table (it will be null or zero if there are none).  Then iterating through the results updating the products table.  </p>\n\n<p>The MYSQL only answer offered earlier assumes you are running this script on the same machine as the mysql server (won't work if you're not).  I think it would also have potential problems one of which being that it will not set your available to 0 in any case so once available has been flagged it will never unflag no matter what.</p>\n\n<pre><code>my $dbh = DBI-&gt;connect($dbiconnect,$dbiuser,$dbipass,{AutoCommit=&gt;1,RaiseError=&gt;1,PrintError=&gt;0});\nmy $ih = $dbh-&gt;prepare(q{UPDATE products SET available = ? WHERE id = ?}) or die $dbh-&gt;errstr;\nmy $sh = $dbh-&gt;prepare(q{\n    SELECT p.id,sum(t.length)\n    FROM ((products p \n    LEFT JOIN deals d) ON p.id = d.product_id)\n    LEFT JOIN tariffs t ON d.tariff_id = t.id)\n    GROUP BY p.id;\n}) or die $dbh-&gt;errstr;\n\nwhile (my @data = $sh-&gt;fetchrow_array()) {\n    my $id = $data[0];\n    my $length = $data[1];\n    if($length &gt; 0){\n        $ih-&gt;execute(\"1\", \"$id\");\n    }else{\n        $ih-&gt;execute(\"0\", \"$id\");\n    }\n    $ih-&gt;finish;\n    usleep($delay);\n}\n$sh-&gt;finish;\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 239309, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5dd8e98933852ae3b97631442af48c82?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/239309/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1423451425, "creation_date": 1423398954, "question_id": 28393986, "link": "https://stackoverflow.com/questions/28393986/mysql-perl-select-join-and-update-tables", "title": "mysql perl select join and update tables", "body": "<p>I have 3 tables as shown below, what I would like help with is understanding the joins (if needed) to execute the following query:</p>\n\n<p>My product is in Product table (id,1) It's also available in Deal Table (product_id,1) it has a tariff_id of 10. Because the length in the Tariff table is 0, I don't update available.</p>\n\n<p>Product table (id,2). It's also available in Deal Table (product_id,2) it has a tariff_id of 15. Because the length in the Tariff table is 24 (>0), I need to update available to 1.</p>\n\n<p>Product table (id,3) is in Product Table and Deal Table, but in the Deal Table it has 2 tariffs associated with it (25 and 10). Again this time because the length of one of the tariffs is 12 (>0), I need to update available to 1.</p>\n\n<p>Exactly the same as above for Product table (id,4).</p>\n\n<p>Product Table (id,5). Is not in the Deal Table so no update required.</p>\n\n<pre><code>Product table\n-------------------------\n   id   |   pm_available\n-------------------------\n    1           0\n    2           0\n    3           0\n    4           0\n    5           0\n\nDeal Table\n------------------------------------------\n   id    |    product_id   |    tariff_id\n------------------------------------------\n   1              1                10\n   2              2                15\n   3              3                25\n   4              3                10\n   5              4                20\n   6              4                25\n   7              4                10\n\nTariff table\n----------------------------\n    id     |    length\n----------------------------\n    10            0\n    15            24\n    20            0\n    25            12\n</code></pre>\n\n<p>The updated Product Table should look like this</p>\n\n<pre><code>Product table\n-------------------------\n   id   |   pm_available\n-------------------------\n    1           0\n    2           1\n    3           1\n    4           1\n    5           0\n</code></pre>\n\n<p>There are over 3000 products and 1 million deals. A product_id can appear in the Deals Table hundreds of times. So I thought if I select one product from Product Table pass that into a second query, the second query would check to see if 1) The product existed in the Deals Table. 2) If it exists what tariff is it linked to. 3) Check if the length of that tariff was greater than 0, if so, do the update.</p>\n\n<p>I have this current script but it doesn't work correctly, I get updates to 'available' when I shouldn't. </p>\n\n<pre><code>my $dbh = DBI-&gt;connect($dbiconnect,$dbiuser,$dbipass,{AutoCommit=&gt;1,RaiseError=&gt;1,PrintError=&gt;0});\nmy $shh = $dbh-&gt;prepare(q{SELECT id FROM products }) or die $dbh-&gt;errstr;\nmy $ih = $dbh-&gt;prepare(q{UPDATE products SET available = ? WHERE id = ?}) or die $dbh-&gt;errstr;\nmy $sh = $dbh-&gt;prepare(q{\n    SELECT d.id\n    FROM deals d\n    JOIN tariffs t ON d.tariff_id = t.id\n    JOIN products p ON d.product_id = p.id\n    WHERE d.product_id = ?\n    AND t.length &gt; 1\n    LIMIT 0,1\n}) or die $dbh-&gt;errstr;\n\n$shh-&gt;execute or die $dbh-&gt;errstr;\n\nmy @data;\n\nwhile (@data = $shh-&gt;fetchrow_array()) {\n\n    my $id = $data[0];\n\n    $sh-&gt;execute(\"$id\");\n\n    if($sh-&gt;rows &gt; 0){\n        $ih-&gt;execute(\"1\", \"$id\");\n        $ih-&gt;finish;\n\n    } else {\n        $ih-&gt;execute(\"0\", \"\");\n        $ih-&gt;finish;\n\n    }\n    $sh-&gt;finish;\n\n    usleep($delay);\n}\n$shh-&gt;finish;\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 6, "creation_date": 1423398181, "post_id": 28393651, "comment_id": 45124283, "body": "Please do yourself a favor and use at least <code>use strict</code> and even better <code>use warnings</code>. These help you to better detect problems yourself. And proper indentation helps too. Also, you set <code>$imge</code> to <code>&quot;&quot;</code> after you called the LinkExtor and this way you delete anything which was in <code>$imge</code> before you print the variable."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1423414885, "last_edit_date": 1423414885, "creation_date": 1423403602, "answer_id": 28394686, "question_id": 28393651, "link": "https://stackoverflow.com/questions/28393651/program-doesnt-recognise-global-variable-in-perl/28394686#28394686", "title": "Program doesn&#39;t recognise global variable in Perl", "body": "<p>You are setting <code>$imge</code> to a null string after you call <code>$LinkExtor-&gt;parse($URL)</code>.</p>\n\n<p>Please take note of these points</p>\n\n<ul>\n<li><p>You <em>must always</em> <code>use strict</code> and <code>use warnings</code>, and declare all of your variables with <code>my</code> as close as possible to their first point of use</p></li>\n<li><p>Indent your code properly, especially when asking for help with it. It will help you to see the structure better in your own programs, and it is a simple matter of courtesy to present something half readable if you ask for assistance</p></li>\n<li><p>Perl variable names should contain only <em>lower-case</em> letters, numbers, or underscores. Capitals are reserved for global identifiers like package names</p></li>\n<li><p>You are missing the point of hashes. There is no need to search through a hash's keys \u2014 you can access a hash element directly in the same way as you can access an array element , so you inner <code>foreach</code> loop should be just <code>$imge = \"$links{src}\\n\"</code></p></li>\n<li><p>I assume you want to print every <code>&lt;img&gt;</code> elemen't <code>src</code> atttribute, so you should <em>append</em> the value of the attribute to <code>$imge</code>. As it stands you are just replacing the value each time you find a new one, so only the <em>last</em> value will be printed</p></li>\n</ul>\n\n<p>This refactoring should work for you, although I haven't been able to test it.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse LWP::Simple;\nuse HTML::LinkExtor;\n\nmy $user = 'a***.***';\nmy $pass = '***733 ';\nmy $home = 'http://37.48.90.31';\nmy $url  = get(\"$home/c/test.cgi?u=$user&amp;p=$pass\");\n\nmy $link_extor = HTML::LinkExtor-&gt;new(\\&amp;links);\n\nmy $imge;\n$link_extor-&gt;parse($url);\nprint $imge;\n\nsub links {\n  my ($tag, %links) = @_;\n  $imge .= \"$links{src}\\n\" if $tag eq 'img' and exists $links{src};\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4542734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea614d9309508ce0e54061aeb46e3e07?s=128&d=identicon&r=PG&f=1", "display_name": "amiel", "link": "https://stackoverflow.com/users/4542734/amiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1423433014, "creation_date": 1423396723, "last_edit_date": 1423433014, "question_id": 28393651, "link": "https://stackoverflow.com/questions/28393651/program-doesnt-recognise-global-variable-in-perl", "title": "Program doesn&#39;t recognise global variable in Perl", "body": "<pre><code>use LWP::Simple;\nuse HTML::LinkExtor;\n\n$user = 'a***.***'; # Enter your username here\n$pass = '***733 '; # Enter your password here\n$home = \"http://37.48.90.31\";\n$URL = get(\"$home/c/test.cgi?u=$user&amp;p=$pass\");\n$LinkExtor = HTML::LinkExtor-&gt;new(\\&amp;links);\n$LinkExtor-&gt;parse($URL);\n$imge=\"\";\nsub links\n  {\n    ($tag,%links)= @_;\n     if ($tag eq \"img\") {\n        foreach $key (keys %links) {\n          if ($key eq \"src\") \n          {\n          $imge = \"$links{$key}\\n\";\n\n          }\n\n    }\n\n    }\n\n}\n\nprint  $imge;\n</code></pre>\n\n<p>It doesn't print anything why?</p>\n\n<p>According to what I understood of Perl it should know <code>$imge</code> even though it is in a function.</p>\n\n<p>I am new to Perl so I would be glad if someone can tell me what is wrong.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1423381646, "post_id": 28391061, "comment_id": 45120553, "body": "@Zaid I am a medical student. So no, this is not homework."}, {"owner": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 1, "creation_date": 1423384944, "post_id": 28391061, "comment_id": 45121146, "body": "About your edit the first answer covers that too. <code>[]</code> is a collection of allowed chars. And the <code>+</code> afterwards means that one of the chars before must been there at least one time."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1423389596, "post_id": 28391061, "comment_id": 45122081, "body": "So <code>501.887 ,65,3.87:654&#47;876</code> will match the regex I have mentioned? @rekire"}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1423381292, "post_id": 28391126, "comment_id": 45120487, "body": "I know what the characters represent. What I did not get was how the <code>[]</code> works with <code>+</code>. Will it accept any number of characters in any combination as long as I include it in the square brackets?"}, {"owner": {"reputation": 7686, "user_id": 1602049, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/84787ebc102aac57806f98fa87aa10d0?s=128&d=identicon&r=PG", "display_name": "nitishagar", "link": "https://stackoverflow.com/users/1602049/nitishagar"}, "reply_to_user": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 1, "creation_date": 1423385098, "post_id": 28391126, "comment_id": 45121176, "body": "@CRags Yes in case of <code>[]</code> you are repeating entire container not just that character matched multiple times, so it will match combinations."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1423389372, "post_id": 28391126, "comment_id": 45122031, "body": "Thanks, got it. I will read from the website you have linked too"}], "tags": [], "owner": {"reputation": 7686, "user_id": 1602049, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/84787ebc102aac57806f98fa87aa10d0?s=128&d=identicon&r=PG", "display_name": "nitishagar", "link": "https://stackoverflow.com/users/1602049/nitishagar"}, "is_accepted": true, "score": 1, "last_activity_date": 1423375592, "creation_date": 1423375592, "answer_id": 28391126, "question_id": 28391061, "link": "https://stackoverflow.com/questions/28391061/how-is-this-regex-processessed/28391126#28391126", "title": "How is this regex [...]+ processessed?", "body": "<p>I suggest you use <a href=\"https://regex101.com/\" rel=\"nofollow\">regex101.com</a> to try the regular expression. Below is the breakdown for  the expression you provided:</p>\n\n<pre><code>`[]` match a single character present in the list\n`+` matches one or more of the above\n`\\d` match a digit [0-9]\n`\\s` match any white space character `[\\r\\n\\t\\f ]`\n`\\.` matches the character . literally\n`,:` a single character in the list ,: literally\n`\\/` matches the character / literally\n</code></pre>\n\n<p>You'll get the following matches (if you run this with <code>g</code>- global option) - (REGEX sample - <a href=\"https://regex101.com/r/iU8hB4/1\" rel=\"nofollow\">ref</a>):</p>\n\n<pre><code>`335.31, 312.52 `\n`1.532 `\n`: `\n`./1243/453 /48.1`\n` 543, 546 `\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "closed_date": 1423378545, "accepted_answer_id": 28391126, "answer_count": 1, "score": -2, "last_activity_date": 1423381877, "creation_date": 1423374971, "last_edit_date": 1423381877, "question_id": 28391061, "link": "https://stackoverflow.com/questions/28391061/how-is-this-regex-processessed", "closed_reason": "Duplicate", "title": "How is this regex [...]+ processessed?", "body": "<p>I am new to perl (beginner, learning perl for past 1 week during spare time). This is my first programming language.</p>\n\n<p>I want to know how this regex []+ works in perl. I have 3 questions.</p>\n\n<ol>\n<li>What will this do: <code>if /[\\d\\s\\.,:\\/]+/</code>?</li>\n</ol>\n\n<p>I learned <code>if /.../</code> matches pattern. </p>\n\n<ol start=\"2\">\n<li><p>So will it match the following? </p></li>\n<li><p>And which parts of the following will not match?</p>\n\n<ul>\n<li>335.31, 312.52</li>\n<li>Dave1.532</li>\n<li>Path: \"./1243/453 /48.1\"</li>\n<li>543, 546</li>\n</ul></li>\n</ol>\n\n<p>Edit:</p>\n\n<p>This is not a duplicate of the linked question as I am specifically asking how <code>[]+</code> works. The answer in the linked post does not cover this.</p>\n\n<p>I know what each character in the regex I have written above represents and how each character work. What I want to know is how <code>[]+</code> will influence the regular expression. Specifically how the <code>+</code> will influence the <code>[]</code>.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 2128074, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ab56180fb867269e38dd83de481542c6?s=128&d=identicon&r=PG", "display_name": "user2128074", "link": "https://stackoverflow.com/users/2128074/user2128074"}, "edited": false, "score": 0, "creation_date": 1423375426, "post_id": 28391070, "comment_id": 45119446, "body": "Thank you for your answers. Unfortunately, the perl version we use at our school is pretty old so state would not work, also, i need to have the subroutine return an array with a multitude of items in the array, so i don&#39;t know whether the lexical closure one will work. Is there any other way?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "reply_to_user": {"reputation": 173, "user_id": 2128074, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ab56180fb867269e38dd83de481542c6?s=128&d=identicon&r=PG", "display_name": "user2128074", "link": "https://stackoverflow.com/users/2128074/user2128074"}, "edited": false, "score": 0, "creation_date": 1423375509, "post_id": 28391070, "comment_id": 45119464, "body": "<code>return ( $someAddition, [@array] );</code>  Perl&#39;s return values don&#39;t have to be homogeneous entities."}, {"owner": {"reputation": 173, "user_id": 2128074, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ab56180fb867269e38dd83de481542c6?s=128&d=identicon&r=PG", "display_name": "user2128074", "link": "https://stackoverflow.com/users/2128074/user2128074"}, "edited": false, "score": 0, "creation_date": 1423375648, "post_id": 28391070, "comment_id": 45119495, "body": "Sorry if i didn&#39;t explain it correctly , but  $someAddition is part of the array i am returning."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "reply_to_user": {"reputation": 173, "user_id": 2128074, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ab56180fb867269e38dd83de481542c6?s=128&d=identicon&r=PG", "display_name": "user2128074", "link": "https://stackoverflow.com/users/2128074/user2128074"}, "edited": false, "score": 0, "creation_date": 1423375834, "post_id": 28391070, "comment_id": 45119531, "body": "Then the closure method should work.  But if you prefer using package globals instead, see the third example, provided in my most recent edit."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "reply_to_user": {"reputation": 173, "user_id": 2128074, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ab56180fb867269e38dd83de481542c6?s=128&d=identicon&r=PG", "display_name": "user2128074", "link": "https://stackoverflow.com/users/2128074/user2128074"}, "edited": false, "score": 0, "creation_date": 1423376061, "post_id": 28391070, "comment_id": 45119585, "body": "You can read about closures in <a href=\"http://perldoc.perl.org/perlsub.html#Persistent-Private-Variables\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlsub.html#Persistent-Private-Variables</a>"}, {"owner": {"reputation": 173, "user_id": 2128074, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ab56180fb867269e38dd83de481542c6?s=128&d=identicon&r=PG", "display_name": "user2128074", "link": "https://stackoverflow.com/users/2128074/user2128074"}, "edited": false, "score": 0, "creation_date": 1423376224, "post_id": 28391070, "comment_id": 45119618, "body": "Thank you for the highly educative and informative examples of the various ways which it could be done. Thank you once again."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423404533, "post_id": 28391070, "comment_id": 45126100, "body": "Apart from <code>state</code>, you&#39;ve picked the most clumsy ways of implementing a state variable. A closure can also be created by just declaring a <i>lexical</i> variable before the subroutine definition. If you want to be careful about keeping it private then you can enclose the variable declaration and subroutine definition in a pair of braces."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1423425047, "post_id": 28391070, "comment_id": 45132963, "body": "&quot;just declaring a lexical variable before the subroutine definition&quot; is sensitive to where that function definition appears within the source code.  The lexical&#39;s declaration and definition must appear before the first time the sub is called.  I consider this clumsy too.  A subroutine returning a function that has been closed over eliminates this sensitivity."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423500003, "post_id": 28391070, "comment_id": 45162705, "body": "@DavidO: Unless the lexical needs to be initialised, its declaration only needs to appear before the definition of the subroutine. Ideally immediately preceding it."}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 5, "last_activity_date": 1485385325, "last_edit_date": 1485385325, "creation_date": 1423375041, "answer_id": 28391070, "question_id": 28390908, "link": "https://stackoverflow.com/questions/28390908/preserve-a-variables-value-across-multiple-subroutine-calls-in-perl/28391070#28391070", "title": "Preserve a variable&#39;s value across multiple subroutine calls in perl", "body": "<p>There are several ways to do it.  I'll demonstrate two of them:</p>\n\n<p>First, in modern versions of Perl you can use <code>state</code>:</p>\n\n<pre><code>use feature qw/state/; \n\nprint someRoutine(100,200), \"\\n\";\nprint someRoutine(100,200), \"\\n\";\n\nsub someRoutine {\n    state $someAddition = 0;\n    foreach my $someSum ( @_ ) {\n        $someAddition += $someSum;\n    }\n    return $someAddition;\n}\n</code></pre>\n\n<p>In this version, the <code>$someAddition</code> variable will be initialized to zero once, and only once.  From that point on, the value will be retained between calls.</p>\n\n<p>Another version is using a lexical closure.  Here's an example:</p>\n\n<pre><code>my $summer = makeSummer();\nprint $summer-&gt;(100,200), \"\\n\";\nprint $summer-&gt;(100,200), \"\\n\";\n\nsub makeSummer {\n    my $someAddition = 0;\n    return sub {\n        $someAddition += $_ foreach @_;\n        return $someAddition;\n    }\n}\n</code></pre>\n\n<p>The second version is a little more complex, but has two advantages.  First, you can start a fresh summation simply by calling the <code>makeSummer</code> routine to manufacture a new closure.  Second, it will work on any version of Perl 5, not just versions recent enough to have the newer <code>state</code> keyword.</p>\n\n<p>If you are not concerned with initializing the stateful variable before the sub is declared, you can also do this:</p>\n\n<pre><code>my $someAddition;\nsub someRoutine {\n    $someAddition = 0 unless defined $someAddition;\n    foreach my $someSum( @_ ) {\n        $someAddition += $someSum;\n    }\n    return $someAddition;\n}\n</code></pre>\n\n<p>A fourth method makes use of package globals.  I save this one for last because it's the most prone to abuse and mistakes.  But here you go;</p>\n\n<pre><code>our $someAddition = 0;\n\nsomeRoutine(100,200);\nprint \"$someAddition\\n\";\n\nsomeRoutine(100,200);\nprint \"$someAddition\\n\";\n\nsub someRoutine {\n    $someAddition += $_ foreach @_;\n}\n</code></pre>\n\n<p>In this last version, <code>$someAddition</code> is a package global, and its global scope makes it available both inside and outside of any subroutines living within the same namespace.</p>\n"}, {"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 3, "last_activity_date": 1423376865, "creation_date": 1423376865, "answer_id": 28391240, "question_id": 28390908, "link": "https://stackoverflow.com/questions/28390908/preserve-a-variables-value-across-multiple-subroutine-calls-in-perl/28391240#28391240", "title": "Preserve a variable&#39;s value across multiple subroutine calls in perl", "body": "<p>Take a look at <a href=\"http://perldoc.perl.org/perlsub.html#Persistent-Private-Variables\" rel=\"nofollow\">Persistent Private Variables</a> in \"man perlsub\". </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1423404667, "last_edit_date": 1423404667, "creation_date": 1423404226, "answer_id": 28394801, "question_id": 28390908, "link": "https://stackoverflow.com/questions/28390908/preserve-a-variables-value-across-multiple-subroutine-calls-in-perl/28394801#28394801", "title": "Preserve a variable&#39;s value across multiple subroutine calls in perl", "body": "<ul>\n<li><p>I assume you're at least using a variant of Perl 5? It has been bad practice to use ampersands <code>&amp;</code> on subroutine calls since the first version of Perl 5 twenty-two years ago.</p></li>\n<li><p>It is also vital that you <code>use strict</code> and <code>use warnings</code> at the top of <em>every</em> Perl program, and declare your variables ay their first point of use with <code>my</code>. It is a measure that will uncover many simple coding errors that you can otherwise easily overlook.</p></li>\n<li><p>Perl variable names should use only lower-case letters, digits, and underscores. Capital letters are reserved for global identifiers such as package names.</p></li>\n</ul>\n\n<p>By far the simplest and most common way of creating a <em>static</em> variable is just to declare it outside the subroutine. Like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $some_list  = some_routine(100, 200);\nmy $some_list2 = some_routine(100, 200);\n\nmy $some_addition;\n\nsub some_routine {\n  $some_addition += $_ for @_;\n  return $some_addition\n}\n\nprint $some_list, \"\\n\";\nprint $some_list2, \"\\n\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>300\n600\n</code></pre>\n\n<p>If you want to protect the variable from being accessed by any following code other than the subroutine, then just enclose them in braces, like this</p>\n\n<pre><code>{\n  my $some_addition;\n\n  sub some_routine {\n    $some_addition += $_ for @_;\n    return $some_addition\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 2128074, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ab56180fb867269e38dd83de481542c6?s=128&d=identicon&r=PG", "display_name": "user2128074", "link": "https://stackoverflow.com/users/2128074/user2128074"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 970, "favorite_count": 0, "accepted_answer_id": 28391070, "answer_count": 3, "score": 2, "last_activity_date": 1485385325, "creation_date": 1423373311, "last_edit_date": 1423378263, "question_id": 28390908, "link": "https://stackoverflow.com/questions/28390908/preserve-a-variables-value-across-multiple-subroutine-calls-in-perl", "title": "Preserve a variable&#39;s value across multiple subroutine calls in perl", "body": "<p>Just wanted to know what was the best way to reserve the value of a variable across multiple calls to the same subroutine . i.e</p>\n\n<pre><code>$someList  = &amp;someRoutine(100, 200);\n$someList2 = &amp;someRoutine(100, 200);\n\nsub someRoutine {\n    $someAddition = 0;\n    foreach $someSum (@_){\n        $someAddition += $someSum;\n    }\n    return $someAddition\n}\n\nprint $someList;\nprint $someList2;\n</code></pre>\n\n<p>Basically, someList should print 300 and someList2 should print 600. How do i make it so that someList2 prints 600? i want $someAddition to be preserved across multiple subroutine calls.</p>\n"}, {"tags": ["python", "perl", "random", "cut", "sequences"], "comments": [{"owner": {"reputation": 1, "user_id": 4542014, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155188864590296/picture?type=large", "display_name": "juneau ", "link": "https://stackoverflow.com/users/4542014/juneau"}, "reply_to_user": {"reputation": 102512, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1423361735, "post_id": 28389727, "comment_id": 45117102, "body": "I don&#39;t know enough about coding yet to even try anything. I am completely lost about how to approach this problem. Sorry."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423369532, "post_id": 28389727, "comment_id": 45118468, "body": "So what exactly do you want? One random subsequence from each original sequence? Or more? What output format do you want? Your input looks like FASTA; do you want the output to be the same, or is just one sequence per line okay? Are the starting positions and lengths to be evenly distributed, or do you want something else?"}, {"owner": {"reputation": 1, "user_id": 4542014, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155188864590296/picture?type=large", "display_name": "juneau ", "link": "https://stackoverflow.com/users/4542014/juneau"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423433961, "post_id": 28389727, "comment_id": 45135735, "body": "@Borodin, it can be one or more random subsequences from each original sequence, so whichever is easier. Yes, fasta output would be ideal. The starting positions and lengths do not necessarily have to be evenly distributed, so again, however it is easiest to write a script. The biggest constraint is that the sequences need to be between 50-100 amino acids (or characters) in length. Also, if possibly, it would be ideal that the script would generate new random sequences each time it was run. Thanks so much."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423448703, "post_id": 28389727, "comment_id": 45139085, "body": "I think there must still be more to your requirement. You haven&#39;t described anything that can&#39;t be solved by just printing the first fifty characters of each sequence."}, {"owner": {"reputation": 1, "user_id": 4542014, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155188864590296/picture?type=large", "display_name": "juneau ", "link": "https://stackoverflow.com/users/4542014/juneau"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423490081, "post_id": 28389727, "comment_id": 45156177, "body": "@Borodin, well I do want to randomize it. I want to be able to run the script multiple times with a different output each time (I need multiple trials to compare). So the starting position should vary. Does this give enough information? I&#39;m not sure what else I am leaving out."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4542014, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155188864590296/picture?type=large", "display_name": "juneau ", "link": "https://stackoverflow.com/users/4542014/juneau"}, "edited": false, "score": 0, "creation_date": 1423434261, "post_id": 28389882, "comment_id": 45135818, "body": "I tried to save that as a script and run it on the original file, but it created a binary file for the output. I&#39;m not sure if I&#39;m using it correctly."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 1, "user_id": 4542014, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155188864590296/picture?type=large", "display_name": "juneau ", "link": "https://stackoverflow.com/users/4542014/juneau"}, "edited": false, "score": 0, "creation_date": 1423438712, "post_id": 28389882, "comment_id": 45136958, "body": "Just place this in your main file and pass the sequences as arguments."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1423362038, "creation_date": 1423362038, "answer_id": 28389882, "question_id": 28389727, "link": "https://stackoverflow.com/questions/28389727/randomly-remove-portions-of-a-sequence-to-create-shorter-sequence/28389882#28389882", "title": "randomly remove portions of a sequence to create shorter sequence", "body": "<p>Use a randomly generated start for a slice:</p>\n\n<pre><code>from random import *\n\ndef fifty_slice(sequence):\n    i = randrange(0, len(sequence) - 50)\n    return sequence[i:i+50]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1679, "user_id": 567606, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/190e2f0f068f06e1db6cc500ec0651cc?s=128&d=identicon&r=PG", "display_name": "tourdownunder", "link": "https://stackoverflow.com/users/567606/tourdownunder"}, "is_accepted": false, "score": -1, "last_activity_date": 1423362057, "creation_date": 1423362057, "answer_id": 28389885, "question_id": 28389727, "link": "https://stackoverflow.com/questions/28389727/randomly-remove-portions-of-a-sequence-to-create-shorter-sequence/28389885#28389885", "title": "randomly remove portions of a sequence to create shorter sequence", "body": "<p>I think you are after implementing a tree data structure in python. </p>\n\n<p>Each line of your 20 K sequences each are parent nodes, and then you can create code that creates children for each of the random sub sequences. Each of the children can also become parents if needed, though I don't think the problem you described requires this. </p>\n\n<p>see <a href=\"https://github.com/caesar0301/treelib\" rel=\"nofollow\">https://github.com/caesar0301/treelib</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4542014, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155188864590296/picture?type=large", "display_name": "juneau ", "link": "https://stackoverflow.com/users/4542014/juneau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1423362057, "creation_date": 1423360492, "last_edit_date": 1423360532, "question_id": 28389727, "link": "https://stackoverflow.com/questions/28389727/randomly-remove-portions-of-a-sequence-to-create-shorter-sequence", "title": "randomly remove portions of a sequence to create shorter sequence", "body": "<p>I am new to programming and would appreciate your help!</p>\n\n<p>I have a file with ~20K sequences with the following format:</p>\n\n<pre><code>&gt;sequence_1\nMAADTPGKPSASPMAGAPASASRTPDKPRSAAEHRKSSKPVMEKRRRARINESLAQLKTLILDALRKESSRHSKLEKADILEMTVRHLRSLRRVQVTAALSADPAVLGKYRAGFHECLAEVNRFLAGCEGVPADVRSRLLGHLAACLRQLGPSRRPASLSPAAPAEAPAPEVYAGRPLLPSLGGPFPLLAPPLLPGLTRALPAAPRAGPQGPGGPWRPWLR\n\n&gt;sequence_2\nMGWDLTVKMLAGNEFQVSLSSSMSVSELKAQITQKIGVHAFQQRLAVHPSGVALQDRVPLASQGLGPGSTVLLVVDKCDEPLSILVRNNKGRSSTYEVRLTQTVAHLKQQVSGLEGVQDDLFWLTFEGKPLEDQLPLGEYGLKPLSTVFMNLRLRGGGTEPGGRS\n</code></pre>\n\n<p>I want to create random fragments of these sequences of lengths ~ 50-100 characters. I need to keep the original order intact (so I am not randomizing the characters). </p>\n\n<p>Examples of sequences I could make from >sequence_1 would be:</p>\n\n<pre><code>MAADTPGKPSASPMAGAPASASRTPDKPRSAAEHRKSSKPVMEKRRRARINESLAQLKTLILDALR\n</code></pre>\n\n<p>or</p>\n\n<pre><code>MTVRHLRSLRRVQVTAALSADPAVLGKYRAGFHECLAEVNRFLAGCEGVPADVRSRLLGHLAACLRQLGPSRRPASLSPAAPAEAPAPEVYAGRPLLPSLGGPFPLLAPPLLPGLTRALPAAPRAGPQGPGGPW\n</code></pre>\n\n<p>The best analogy I can think of is randomly cutting these sequences into smaller lengths. I'm really unsure how to even go about this, or if it is possible with a script. I'd also appreciate any explanation for responses so I can learn.</p>\n"}, {"tags": ["perl", "hive", "command-line-interface"], "comments": [{"owner": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "edited": false, "score": 0, "creation_date": 1423348692, "post_id": 28388195, "comment_id": 45114075, "body": "The output gets me thinking if the regex replacement applies the patterns iteratively and therefore sees the argument string change from preceding replacements."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423348971, "post_id": 28388195, "comment_id": 45114183, "body": "I think your problem will be because <code>\\tNULL\\t</code> &#39;eats&#39; 2 tabs. What are you <i>trying</i> to extract from that line? Have you considered instead of what you&#39;re doing, using <code>split ( &#47;\\t&#47; )</code>; as an option?"}, {"owner": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423349568, "post_id": 28388195, "comment_id": 45114379, "body": "@Sobrique, thanks I tried this   <b>New code</b> <code>my %replace = (     &quot;\\tNULL\\t&quot; =&gt; &quot;\\t\\t&quot;,     &quot;^NULL\\t&quot;  =&gt; &quot;\\t&quot;,     &quot;\\tNULL\\$&quot; =&gt; &quot;\\t&quot; );</code>  New Output <code>NULL&lt;TAB&gt;NULL&lt;TAB&gt;NULL&lt;TAB&gt;NULL&lt;TAB&gt;2015-02-08</code>"}, {"owner": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423349590, "post_id": 28388195, "comment_id": 45114383, "body": "Thanks @Sobrique. I changed the &#39;b&#39;, &#39;a&#39; and &#39;c&#39; back to the same number as &lt;TAB&gt; characters as in the search regex, but the output is similar. I changed them to a, b, c so I could tell which one of the regexes were being processed. Also, good point about the &#39;split&#39;. My only concern is that loses the sense of the NULL token i.e. if the tab is between a quoted string, it would split that out too - technically though I could reconstruct it by examining the array - so yeah, that might work. So nothing terse ha?"}, {"owner": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423351096, "post_id": 28388195, "comment_id": 45114830, "body": "The output I am looking to achieve is  <code>&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;&lt;TAB&gt;2015-02-08</code>  Basically, I want to remove all <b>NULL tokens</b>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423352470, "post_id": 28388195, "comment_id": 45115193, "body": "So couldn&#39;t you just: <code>s&#47;NULL&#47;&#47;g;</code> or am I missing something obvious?"}, {"owner": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423355547, "post_id": 28388195, "comment_id": 45115918, "body": "Yeah, just replacing NULL with empty string misses the sense of the <b>token NULL **. meaning that will remove NULL even when its part of a **&quot;field&quot;</b>  like so -   <code>CONTRACT NULLIFIED&lt;TAB&gt;NULL&lt;TAB&gt;</code>  with the replace you shared would return  <code>CONTRACT &lt;TAB&gt;&lt;TAB&gt;</code>  when I want  <code>CONTRACT NULLIFIED&lt;TAB&gt;&lt;TAB&gt;</code>  Does that make sense?"}, {"owner": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423367175, "post_id": 28388195, "comment_id": 45118057, "body": "Nobody got nothing??"}, {"owner": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423368852, "post_id": 28388195, "comment_id": 45118351, "body": "This looks like its working - I would appreciate if someone sees a reason why this would not work, sharing why - Thanks in advance!  <code>sed -e &quot;:a;s&#47;\\tNULL\\t&#47;\\t*\\t&#47;;ta&quot; -e &quot;s&#47;^NULL\\t&#47;*\\t&#47;g&quot;   -e &quot;s&#47;\\tNULL$&#47;\\t*&#47;g&quot; hout</code>"}, {"owner": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423368986, "post_id": 28388195, "comment_id": 45118375, "body": "If that does, credit&#39;s due to <a href=\"http://stackoverflow.com/a/12733083/2889133\">Janito Vaqueiro Ferreira Filho</a>"}], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "edited": false, "score": 0, "creation_date": 1423415910, "post_id": 28395564, "comment_id": 45129642, "body": "ah - so like i thought, the regex utility is able to see the argument string &#39;evolve&#39; as its applying the replace. Thanks I will give your perl regex a try - the sed I noted above seems to be working, but is slowing things down a lot, hopefully, the perl solution is at least as accuracte, and much faster!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "edited": false, "score": 0, "creation_date": 1423416367, "post_id": 28395564, "comment_id": 45129783, "body": "Not exactly - regex works through the string, and it doesn&#39;t so much &#39;evolve&#39; as know it&#39;s &#39;already seen that bit&#39;. So if it&#39;s already matched against a tab, it&#39;ll ignore it again."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1423408458, "last_edit_date": 1495535610, "creation_date": 1423408458, "answer_id": 28395564, "question_id": 28388195, "link": "https://stackoverflow.com/questions/28388195/replace-null-token-in-hive-cli-output/28395564#28395564", "title": "replace NULL token in Hive CLI output", "body": "<p>The root of your problem here is that your patterns overlap. You have a delimiter either side of your 'NULL' which you then modify and move on. </p>\n\n<p>So something like this:</p>\n\n<pre><code>my $string = \"NULL\\tNULL\\tNULL\\tsome_value\\tNULL\\n\";\nprint $string;\n\n$string =~ s/(\\A|\\t)NULL(\\t|\\Z)/$1$2/g;\nprint $string;\n$string =~ s/(\\A|\\t)NULL(\\t|\\Z)/$1$2/g;\nprint $string;\n</code></pre>\n\n<p>You need two passes to process it, because the pattern 'grabs' too much for the next iteration to match. \nSo with reference to: <a href=\"https://stackoverflow.com/questions/14259677/matching-two-overlapping-patterns-with-perl\">Matching two overlapping patterns with Perl</a></p>\n\n<p>What you probably need is:</p>\n\n<pre><code>$string =~ s/(\\A|\\t)NULL(?=(\\t|\\Z))/$1/g;\n</code></pre>\n\n<p>You can use the same model if you're wanting to apply it to separate patterns. </p>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 4544146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d58fc597cb1b9ed6162a8850e3ed55d?s=128&d=identicon&r=PG&f=1", "display_name": "mstang", "link": "https://stackoverflow.com/users/4544146/mstang"}, "is_accepted": false, "score": 0, "last_activity_date": 1423453990, "creation_date": 1423453990, "answer_id": 28402561, "question_id": 28388195, "link": "https://stackoverflow.com/questions/28388195/replace-null-token-in-hive-cli-output/28402561#28402561", "title": "replace NULL token in Hive CLI output", "body": "<p>I do this a lot creating output files from hive cli, it may be \"simple\" but I just pipe my output though this sed string:</p>\n\n<p>hive -f test.hql | sed 's/NULL//g' > test.out</p>\n\n<p>Works fine for me.</p>\n"}], "owner": {"reputation": 314, "user_id": 2889133, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f362ba108e7b00c5237bff88394be3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bi Act", "link": "https://stackoverflow.com/users/2889133/bi-act"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 360, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1423453990, "creation_date": 1423347980, "last_edit_date": 1423358713, "question_id": 28388195, "link": "https://stackoverflow.com/questions/28388195/replace-null-token-in-hive-cli-output", "title": "replace NULL token in Hive CLI output", "body": "<p>I am trying to deliver the output of Hive CLI to my (closed source) application, and want to replace all \"NULL\" tokens with empty string. This is because Hive returns NULL even for numeric fields which the application raises exceptions for. I thought this should be a simple sed, or perl regex, but cant solve the problem so far. </p>\n\n<p>Here's an example of the data record - </p>\n\n<pre><code>NULL&lt;TAB&gt;NULL&lt;TAB&gt;NULL&lt;TAB&gt;NULL&lt;TAB&gt;NULL&lt;TAB&gt;NULL&lt;TAB&gt;NULL&lt;TAB&gt;NULL&lt;TAB&gt;2015-02-08\n</code></pre>\n\n<p>The perl code I tried is </p>\n\n<pre><code>my %replace = (\n    \"\\tNULL\\t\" =&gt; \"b\",\n    \"^NULL\\t\"  =&gt; \"a\",\n    \"\\tNULL\\$\" =&gt; \"c\"\n);\n\nmy $regex = join \"|\", keys %replace;\n#$regex = qr/$regex/;\n\nmy $filename = hout;\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n  or die \"Could not open file '$filename' $!\";\n\nwhile (my $row = &lt;$fh&gt;) {\n  chomp $row;\n  $row =~ s/($regex)/$replace{$1}/g;\n  print \"$row\\n\";\n}\n</code></pre>\n\n<p>This is the output I get - </p>\n\n<pre><code>NULLbNULLbNULLbNULL&lt;TAB&gt;2015-02-08\n</code></pre>\n\n<p>In other words, in a stream of 'fields' delimited by a 'character', I want to replace any field that is equal to the string \"NULL\" with an empty string, so the delimiters surrounding the field (or start of line + delimiter, or delimiter + end of line) become adjacent. </p>\n\n<p>Any guidance would be much appreciated! Thanks!</p>\n\n<p>P.S. I dont need a perl solution per se; just any terse solution would be awesome (I tried sed as well with similar results) </p>\n"}, {"tags": ["arrays", "perl", "input"], "comments": [{"owner": {"reputation": 1424, "user_id": 1569434, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ab465466399300a1bca26583161ba468?s=128&d=identicon&r=PG", "display_name": "Lizz", "link": "https://stackoverflow.com/users/1569434/lizz"}, "edited": false, "score": 0, "creation_date": 1423347773, "post_id": 28388107, "comment_id": 45113783, "body": "what&#39;s the error message?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4541706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/680f4ac24e75523f0130904d77a8227e?s=128&d=identicon&r=PG&f=1", "display_name": "twistylittlepassages", "link": "https://stackoverflow.com/users/4541706/twistylittlepassages"}, "edited": false, "score": 0, "creation_date": 1423349184, "post_id": 28388209, "comment_id": 45114257, "body": "Thanks so much @Birei, I was having trouble wrapping my head around the logic. I ended up doing something similar to what you suggested."}], "tags": [], "owner": {"reputation": 33858, "user_id": 773159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fcd72af6d7d5fdd28fc45289da3792a?s=128&d=identicon&r=PG", "display_name": "Birei", "link": "https://stackoverflow.com/users/773159/birei"}, "is_accepted": true, "score": 0, "last_activity_date": 1423348118, "creation_date": 1423348118, "answer_id": 28388209, "question_id": 28388107, "link": "https://stackoverflow.com/questions/28388107/testing-numeric-user-input-against-array-elements/28388209#28388209", "title": "Testing numeric user input against array elements", "body": "<p>You have a logic error. You choose a number but for every loop through the array it makes you choose another one, so if in the second loop you enter number <code>2</code> it will be right regardless of your first input, and same number <code>3</code> for third loop. </p>\n\n<p>You should put the error message out of the <code>foreach</code> loop and ask for a number inside the <code>while</code>. Besides that, the <code>last</code> only goes out of the nearest loop, so you need to use a label to go out of the <code>while</code>. Something similar to following dirty solution:</p>\n\n<pre><code>my @number_choices = (1, 2, 3, 4); \n\nmy $num;  \nmy $found = 0;  \n\nLOOP:\nwhile ( $found == 0 )   \n{   \n    $number_chosen = &lt;STDIN&gt;;  \n    chomp ($number_chosen);  \n     foreach $num (@number_choices)  \n     {   \n          if ($number_chosen == $num)  \n          {   \n                $found = 1;  \n                last LOOP;\n           }   \n\n      }   \n      print \"I'm sorry, that number is not valid. Please pick a number: \" . join(', ', @number_choices) . \"\\n\";  \n }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4541706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/680f4ac24e75523f0130904d77a8227e?s=128&d=identicon&r=PG&f=1", "display_name": "twistylittlepassages", "link": "https://stackoverflow.com/users/4541706/twistylittlepassages"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 28388209, "answer_count": 1, "score": 0, "last_activity_date": 1456281909, "creation_date": 1423347424, "last_edit_date": 1456281909, "question_id": 28388107, "link": "https://stackoverflow.com/questions/28388107/testing-numeric-user-input-against-array-elements", "title": "Testing numeric user input against array elements", "body": "<p>I'm making a simple fortune teller program for a class. I wanted to start by having the user choose between four numbers, like on a paper fortune teller (cootie catcher, as it were). </p>\n\n<p>I created an array, @number_choices = ( 1, 2, 3, 4 ); and I wanted to make sure the user input was equal to one of the numbers in the array. Here is what I have so far, which is not working at all (when I run the program, it prints the error message no matter what number I enter, except for sometimes 2 or 1):</p>\n\n<pre><code>    my $number_chosen = &lt;STDIN&gt;;  \n    chomp ($number_chosen);  \n\n    my $num;  \n    my $found = 0;  \n\n    while ( $found == 0 )   \n    {  \n         foreach $num (@number_choices)  \n         {  \n              if ($number_chosen == $num)  \n              {  \n                    $found = 1;  \n                    last;  \n               }  \n\n              else  \n              {  \n                    print \"I'm sorry, that number is not valid. Please pick a number: \" . join(', ', @number_choices) . \"\\n\";  \n                    $number_chosen = &lt;STDIN&gt;;  \n                    chomp ($number_chosen);  \n               }  \n          }  \n     }  \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1423346465, "post_id": 28387930, "comment_id": 45113377, "body": "<code>my</code> declares <i>local</i> variables."}, {"owner": {"reputation": 399, "user_id": 4442013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34dd1b761516acf4a240689b39000f58?s=128&d=identicon&r=PG&f=1", "display_name": "jeff_h", "link": "https://stackoverflow.com/users/4442013/jeff-h"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1423347026, "post_id": 28387930, "comment_id": 45113545, "body": "Thanks for that information :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423352790, "post_id": 28387930, "comment_id": 45115292, "body": "In <code>open_save</code> you open a filehandle, but scope it to within that subroutine. So it&#39;s instantly closed and the variable is invalid."}, {"owner": {"reputation": 399, "user_id": 4442013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34dd1b761516acf4a240689b39000f58?s=128&d=identicon&r=PG&f=1", "display_name": "jeff_h", "link": "https://stackoverflow.com/users/4442013/jeff-h"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423431061, "post_id": 28387930, "comment_id": 45134818, "body": "@Sobrique Thanks a lot man that makes it a lot clearer :D"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1423352676, "creation_date": 1423352676, "answer_id": 28388883, "question_id": 28387930, "link": "https://stackoverflow.com/questions/28387930/cant-use-an-undefined-value-as-a-symbol-reference-on-line-12/28388883#28388883", "title": "Can&#39;t use an undefined value as a symbol reference on line 12", "body": "<p><code>my</code> creates and returns a new variable. You pass this new variable to <code>close</code>, which quite legitimately complains that it's not a file handle.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nsub open_save {\n    my ($filename) = @_;\n    open(my $fh, '&gt;', $filename)\n       or die \"Can't open file '$filename': $!\\n\";\n    return $fh;\n}\n\nsub close_save {\n    my ($fh) = @_;\n    close $fh;\n}\n\n{\n    my $filename = 'save.txt';\n    ...\n    my $fh = open_save($filename);\n    print $fh \"$name\\n\";\n    close_save($fh);\n}\n</code></pre>\n"}], "owner": {"reputation": 399, "user_id": 4442013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/34dd1b761516acf4a240689b39000f58?s=128&d=identicon&r=PG&f=1", "display_name": "jeff_h", "link": "https://stackoverflow.com/users/4442013/jeff-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3976, "favorite_count": 0, "accepted_answer_id": 28388883, "answer_count": 1, "score": 1, "last_activity_date": 1423352676, "creation_date": 1423346395, "question_id": 28387930, "link": "https://stackoverflow.com/questions/28387930/cant-use-an-undefined-value-as-a-symbol-reference-on-line-12", "title": "Can&#39;t use an undefined value as a symbol reference on line 12", "body": "<p>So I am trying to teach myself perl as a new language.  I find the best way to learn a new language is to set myself a project.  This project is a text game.  I have just started this evening.  I need to take input from the user and then write it to a file.  As I am going to be doing this over and over again, I thought it would be best to put the code in subroutines, as you can see below.</p>\n\n<p>The only problem is that I keep getting the following error:\n    Can't use an undefined value as a symbol reference at book1.pl line 12, &lt;> line 2.</p>\n\n<p>Any help would be greatly appreciated :)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nmy $filename = 'save.txt';\nsub open_save{\n    open(my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\n}\nsub close_save{\n    close my $fh;\n}\nprint \"Welcome to the 40K universe\\nWhat is your first name?\";\nmy $first_name = &lt;&gt;;\nprint\"What is your surname?\";\nmy $surname = &lt;&gt;;\nmy $name = $first_name . $surname;\nopen_save();\nprint \"$name\";\nclose_save();\n</code></pre>\n"}, {"tags": ["apache", "perl", "network-programming"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423345211, "post_id": 28387457, "comment_id": 45112960, "body": "<code>$?</code> is a piece of magic perl, that&#39;s losely the &#39;status of the last command&#39;. So in this case - that ping you did.  Can you try printing what the value of that <code>$pingcmd $router</code> and try running it? I suspect it&#39;s either: invalid or the name isn&#39;t resolving."}, {"owner": {"reputation": 21, "user_id": 4541366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e054e8197faacec3c3e744cc992e901?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Lucas", "link": "https://stackoverflow.com/users/4541366/jonathan-lucas"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423346976, "post_id": 28387457, "comment_id": 45113529, "body": "<code>$pingcmd $router</code> resolves to /bin/ping -c 1 main, which when run from the command line returns no errors: --- main ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 4ms rtt min/avg/max/mdev = 3.811/3.811/3.811/0.000 ms  Is this what you meant?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423348543, "post_id": 28387457, "comment_id": 45114009, "body": "Yep. But the fact that <code>$?</code> is 512 after running it implies something is going wrong within the script."}, {"owner": {"reputation": 21, "user_id": 4541366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e054e8197faacec3c3e744cc992e901?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Lucas", "link": "https://stackoverflow.com/users/4541366/jonathan-lucas"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423354997, "post_id": 28387457, "comment_id": 45115810, "body": "@Sobrique - - Are the ticks around $pingcmd $router after <code>if ($pingcmd =~ &#47;\\d$&#47;) {</code> shorthand for system() in perl?  Is there a quick/efficient way to determine what that error code means for the input command, i.e. ping?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423402987, "post_id": 28387457, "comment_id": 45125620, "body": "<a href=\"http://stackoverflow.com/questions/799968/whats-the-difference-between-perls-backticks-system-and-exec\" title=\"whats the difference between perls backticks system and exec\">stackoverflow.com/questions/799968/&hellip;</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423411328, "post_id": 28387457, "comment_id": 45128180, "body": "You can probably capture the output of the ping command by changing it to: <code>my $result =  `$pingcmd $router 2&gt;&amp;1`; print $result;</code>"}, {"owner": {"reputation": 21, "user_id": 4541366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e054e8197faacec3c3e744cc992e901?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Lucas", "link": "https://stackoverflow.com/users/4541366/jonathan-lucas"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423578244, "post_id": 28387457, "comment_id": 45198043, "body": "@Sobrique - this returned the output that actually makes sense to me.  Looks like there is an issue with the permissions, as I suspected.  The output from <code>print $result;</code> is <code>ping: icmp open socket: Permission denied</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423579325, "post_id": 28387457, "comment_id": 45198845, "body": "Ah so the ping is failing, and the return code reflects that? Yes. That suggests you need a privilege to ping - perhaps the <code>ping</code> command isn&#39;t setuid"}, {"owner": {"reputation": 21, "user_id": 4541366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e054e8197faacec3c3e744cc992e901?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Lucas", "link": "https://stackoverflow.com/users/4541366/jonathan-lucas"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423599017, "post_id": 28387457, "comment_id": 45211377, "body": "@Sobrique - after verifying that the ping command was not working for the apache user, using <code>su -s &#47;bin&#47;bash apache</code>, I applied <code>chmod +a &#47;bin&#47;ping</code>.  I then was able to use the ping command with the apache user.  I also came across some SELinux-y related issues with ping permissions, so I disabled that for testing as well.  However, I still receive the same &#39;Permission denied&#39; output."}, {"owner": {"reputation": 21, "user_id": 4541366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e054e8197faacec3c3e744cc992e901?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Lucas", "link": "https://stackoverflow.com/users/4541366/jonathan-lucas"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423600544, "post_id": 28387457, "comment_id": 45212204, "body": "Sorry, meant <code>chmod a+x &#47;bin&#47;ping</code>"}, {"owner": {"reputation": 21, "user_id": 4541366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e054e8197faacec3c3e744cc992e901?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Lucas", "link": "https://stackoverflow.com/users/4541366/jonathan-lucas"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423601151, "post_id": 28387457, "comment_id": 45212505, "body": "I have also tried a few other options, e.g. <code>chown root:root &#47;bin&#47;ping</code> + <code>chmod u+s &#47;bin&#47;ping</code>.  However, even though the apache user is allowed to run the ping command, I get the same error when trying to run the $pingcmd in the perl script.  Perhaps the permission issue is not with the ping command itself, but with something else?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4541366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e054e8197faacec3c3e744cc992e901?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Lucas", "link": "https://stackoverflow.com/users/4541366/jonathan-lucas"}, "edited": false, "score": 1, "creation_date": 1423579501, "post_id": 28398170, "comment_id": 45198965, "body": "Unfortunately, <code>print $pingret</code> returns the same 512 that <code>$?</code> returned, which was the original problem.  But this was on the right track.  I was able to get a comprehensible return when using <code>$pingcmd $router 2&gt;&amp;1</code>, which returns <code>ping: icmp open socket: Permission denied</code>."}], "tags": [], "owner": {"reputation": 137, "user_id": 3679380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYUD4.jpg?s=128&g=1", "display_name": "mickvav", "link": "https://stackoverflow.com/users/3679380/mickvav"}, "is_accepted": false, "score": 1, "last_activity_date": 1423422719, "creation_date": 1423422719, "answer_id": 28398170, "question_id": 28387457, "link": "https://stackoverflow.com/questions/28387457/rancid-looking-glass-perl-script-hitting-an-odd-error-router-unavailable/28398170#28398170", "title": "Rancid/ Looking Glass perl script hitting an odd error: $router unavailable", "body": "<p>May be you put in something like</p>\n\n<p>my $pingret=<code>$pingcmd ...</code>;\nprint 'Ping result was:'.$pingret;</p>\n\n<p>And check the returned strings?</p>\n"}], "owner": {"reputation": 21, "user_id": 4541366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e054e8197faacec3c3e744cc992e901?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Lucas", "link": "https://stackoverflow.com/users/4541366/jonathan-lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423422719, "creation_date": 1423343575, "last_edit_date": 1592644375, "question_id": 28387457, "link": "https://stackoverflow.com/questions/28387457/rancid-looking-glass-perl-script-hitting-an-odd-error-router-unavailable", "title": "Rancid/ Looking Glass perl script hitting an odd error: $router unavailable", "body": "<p>I am attempting to set up a small test environment (homelab) using CentOS 6.6, Rancid 3.1, Looking Glass, and some Cisco Switches/Routers, with httpd acting as the handler.  I have picked up a little perl by means of this endeavor, but python (more 2 than 3) is my background.  Right now, everything on the rancid side of things works without issue: bin/clogin successfully logs into all of the equipment in the router.db file, and logging of the configs is working as expected.  All switches/routers to be accessed are available and online, verified by ssh connection to devices as well as using bin/clogin.</p>\n<p>Right now, I have placed the lg.cgi and lgform.cgi files into var/www/cgi-bin/ which allows the forms to be run as cgi scripts.  I had to modify the files to split on ';' instead of ':' due to the change in the .db file in Rancid 3.1:<code>@record = split('\\:', $_);</code> was replaced with: <code>@record = split('\\;', $_);</code> etc.  Once that change was made, I was able to load the lgform.cgi with the proper router.db parsing.  At this point, it seemed like everything should be good to go.  When I attempt to ping from one of those devices out to 8.8.8.8, the file correctly redirects to lg.cgi, and the page loads, but with</p>\n<pre><code>main is unavailable. Try again later.\n</code></pre>\n<p>as the error, where 'main' is the router hostname.  Using this output, I was able to find the function responsible for this output.  Here it is before I added anything:</p>\n<pre><code>sub DoRsh\n{\n    my ($router, $mfg, $cmd, $arg) = @_;\n    my($ctime) = time();\n    my($val);\n\n    my($lckobj) = LockFile::Simple-&gt;make(-delay =&gt; $lock_int,\n                -max =&gt; $max_lock_wait, -hold =&gt; $max_lock_hold);\n    if ($pingcmd =~ /\\d$/) {\n        `$pingcmd $router`;\n    } else {\n        `$pingcmd $router 56 1`;\n    }\n    if ($?) {\n        print &quot;$router is unreachable.  Try again later.\\n&quot;; \n        return(-1);\n    }\n    if ($LG_SINGLE) {\n        if (! $lckobj-&gt;lock(&quot;$cache_dir/$router&quot;)) {\n            print &quot;$router is busy.  Try again later.\\n&quot;;\n            return(-1);\n        }\n    }\n    $val = &amp;DoCmd($router, $mfg, $cmd, $arg);\n    if ($LG_SINGLE) {\n        $lckobj-&gt;unlock(&quot;$cache_dir/$router&quot;);\n    }\n    return($val);\n}\n</code></pre>\n<p>In order to dig in a little deeper, I peppered that function with several print statements.  Here is the modified function, followed by the output from the loaded lg.cgi page:</p>\n<pre><code>sub DoRsh\n{\n    my ($router, $mfg, $cmd, $arg) = @_;\n    my($ctime) = time();\n    my($val);\n\n    my($lckobj) = LockFile::Simple-&gt;make(-delay =&gt; $lock_int,\n                -max =&gt; $max_lock_wait, -hold =&gt; $max_lock_hold);\n    if ($pingcmd =~ /\\d$/) {\n        `$pingcmd $router`;\n    } else {\n        `$pingcmd $router 56 1`;\n    }\n    print &quot;About to test the ($?) branch.\\n&quot;;\n    print &quot;Also who is the remote_user?:' $remote_user'\\n&quot;;\n    print &quot;What about the ENV{REMOTE_USER} '$ENV{REMOTE_USER}'\\n&quot;;\n    print &quot;Here is the ENV{HOME}:  '$ENV{HOME}'\\n&quot;;\n    if ($?) {\n        print &quot;$lckobj  is the lock object.\\n&quot;;\n        print &quot;@_ something else to look at.\\n&quot;;\n        print &quot;$? whatever this is suppose to be....\\n&quot;;\n        print &quot;Some variables:\\n&quot;;\n        print &quot;$mfg is the mfg.\\n&quot;;\n        print &quot;$cmd was the command passed in with $arg as the argument.\\n&quot;;\n        print &quot;$pingcmd $router\\n&quot;;\n        print &quot;$cloginrc - Is the cloginrc pointing correctly?\\n&quot;;\n        print &quot;$LG_SINGLE  the next value to be tested.\\n&quot;;\n        print &quot;$router is unreachable.  Try again later.\\n&quot;; \n        return(-1);\n    }\n    if ($LG_SINGLE) {\n        if (! $lckobj-&gt;lock(&quot;$cache_dir/$router&quot;)) {\n            print &quot;$router is busy.  Try again later.\\n&quot;;\n            return(-1);\n        }\n    }\n    $val = &amp;DoCmd($router, $mfg, $cmd, $arg);\n    if ($LG_SINGLE) {\n        $lckobj-&gt;unlock(&quot;$cache_dir/$router&quot;);\n    }\n    return($val);\n}\n</code></pre>\n<p>OUTPUT:</p>\n<blockquote>\n<p>About to test the (512) branch.</p>\n<p>Also who is the remote_user?:' '</p>\n<p>What about the ENV{REMOTE_USER} ''</p>\n<p>Here is the ENV{HOME}:  '.'</p>\n<p>LockFile::Simple=HASH(0x1a13650)  is the lock object.</p>\n<p>main cisco ping 8.8.8.8 something else to look at.</p>\n<p>512 whatever this is suppose to be....</p>\n<p>Some variables:</p>\n<p>cisco is the mfg.</p>\n<p>ping was the command passed in with 8.8.8.8 as the argument.</p>\n<p>/bin/ping -c 1 main</p>\n<p>./.cloginrc - Is the cloginrc pointing correctly?</p>\n<p>1  the next value to be tested.</p>\n<p>main is unreachable.  Try again later.</p>\n</blockquote>\n<p>I can provide the code for when DoRsh is called, if necessary, but it looks mostly like this:<code>&amp;DoRsh($router, $mfg, $cmd, $arg);</code>.</p>\n<p>From what I can tell the '$?' special variable (or at least according to\n<a href=\"http://www.tutorialspoint.com/perl/perl_special_variables.htm\" rel=\"nofollow noreferrer\">this reference</a> it is a special var) is returning the 512 value, which is causing that fork to test true.  The problem is I don't know what that 512 means, nor where it is coming from.  Using the <a href=\"http://www.tutorialspoint.com/perl/perl_special_variables.htm\" rel=\"nofollow noreferrer\">ref site's</a> description (&quot;The status returned by the last pipe close, backtick (``) command, or system operator.&quot;) and the formation of the conditional tree above, I can see that it is some error of some kind, but I don't know how else to proceed with this inspection.  I'm wondering if maybe it is in response to some permission issue, since the remote_user variable is null, when I didn't expect it to be.  Any guidance anyone may be able to provide would be helpful.  Furthermore, if there is any information that I may have skipped over, that I didn't think to include, or that may prove helpful, please ask, and I will provide to the best of my ability</p>\n"}, {"tags": ["perl", "dependencies", "openshift", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 841, "user_id": 4490818, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/dYJ6n.jpg?s=128&g=1", "display_name": "Mike Storey", "link": "https://stackoverflow.com/users/4490818/mike-storey"}, "edited": false, "score": 0, "creation_date": 1423608305, "post_id": 28418501, "comment_id": 45216267, "body": "I have a php application, and one small but critical components of that application runs as a Perl script to generate some output. The Perl script requires the listed perl modules. I&#39;ve tried running the cpan installs manually, but as you suspected I don&#39;t have the proper access. I would also be concerned that I would loose that type of configuration after a subsequent re-deploy of the app. Is there any way to add a Perl cartridge to my application?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2879327"}, "is_accepted": false, "score": 0, "last_activity_date": 1423512986, "creation_date": 1423512986, "answer_id": 28418501, "question_id": 28385934, "link": "https://stackoverflow.com/questions/28385934/openshift-perl-dependencies-not-loading-from-openshift-cpan-txt/28418501#28418501", "title": "Openshift Perl dependencies not loading from .openshift/cpan.txt", "body": "<p>Since you are using the PHP cartridge, you will not be able to automatically install Perl modules using the above methods.  That only works on the Perl cartridge.  You can try sshing into your gear and running the \"perl -MCPAN -e shell\" manually, but you might not have write access to the ~/.cpan directory on your gear, so that may not work either.  If you can provide more information about what you are trying to do someone might have a suggested solution.</p>\n"}], "owner": {"reputation": 841, "user_id": 4490818, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/dYJ6n.jpg?s=128&g=1", "display_name": "Mike Storey", "link": "https://stackoverflow.com/users/4490818/mike-storey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423512986, "creation_date": 1423334574, "question_id": 28385934, "link": "https://stackoverflow.com/questions/28385934/openshift-perl-dependencies-not-loading-from-openshift-cpan-txt", "title": "Openshift Perl dependencies not loading from .openshift/cpan.txt", "body": "<p>I have reviewed the dependency documentation found here:<br/>\n<a href=\"https://help.openshift.com/hc/en-us/articles/202185484-Adding-dependencies-to-applications\" rel=\"nofollow\">https://help.openshift.com/hc/en-us/articles/202185484-Adding-dependencies-to-applications</a></p>\n\n<p>And reviewed the information on .openshift/cpan.txt replacing deplist.txt found here:<br/>\n<a href=\"https://developers.openshift.com/en/perl-overview.html#_template_repository_layout\" rel=\"nofollow\">https://developers.openshift.com/en/perl-overview.html#_template_repository_layout</a></p>\n\n<p>I have attempted to use the following file in both locations</p>\n\n<pre><code>File::Slurp\nFile::Path\nFile::Basename\nDBI\nXML::Simple\nMoose\n</code></pre>\n\n<p>However the build does not seem to recognize these dependencies. The build does not report errors, but the cpan modules are not available. </p>\n\n<pre><code>[myapp-mydomain.rhcloud.com]\\&gt; perl -e \"use File::Slurp\" \nCan't locate File/Slurp.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at -e line 1.\nBEGIN failed--compilation aborted at -e line 1.\n</code></pre>\n\n<p>This is a php application with mySql and phpMyAdmin cartridges but I have not found any way to add a \"Perl Cartridge\" and I saw a post (can't find the link) that indicated it was not necessary as perl was available with all apps. I think I'm missing something somewhere, maybe a Perl cartridge or configuration file is necessary, or maybe headers other content needed in the cpan.txt file? The documentation indicates that the cpan.txt file should \"look something like this\" - but I could not find anything that gave a real file format spec.</p>\n\n<p>Thanks in advance for your help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1423328666, "post_id": 28384854, "comment_id": 45107497, "body": "<code>s&#47;(&lt;quote-verse&gt;)([\\d,:]+)[\\D+](&lt;\\&#47;quote-verse&gt;)&#47;$1$2$3&#47;;</code>"}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1423329364, "post_id": 28384854, "comment_id": 45107720, "body": "@DavidO I executed <code>perl -pi.bak -e &#39;s&#47;(&lt;quote-verse&gt;)([\\d,:]+)[\\D+](&lt;\\&#47;quote-verse&gt;)&#47;$1$2$3&#47;g&#39; file.txt</code> and the resultant file showed no change"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1423329636, "post_id": 28384854, "comment_id": 45107812, "body": "<code>[\\D+]</code> should be <code>\\D+</code> probably."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1423329818, "post_id": 28384854, "comment_id": 45107876, "body": "@TLP I tried without the square brackets first (I wrote the code on my own after seeing DavidO&#39;s comment so forgot to add the brackets) but it did not change anything"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1423333470, "post_id": 28384854, "comment_id": 45109142, "body": "@CRags Concerning your problem: There is a long-standing meme on this site that you should not parse XML with regexes. You should use a parser instead. The answer most often referred to is this: <a href=\"http://stackoverflow.com/a/1732454/725418\">stackoverflow.com/a/1732454/725418</a> With that said, it is possible to parse a limited set of XML with regexes, just so long as you know that you could be messing your format up. Is it your intent to change the tag (to <code>&lt;quote&gt;</code>) as well, or is that a typo?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423334558, "post_id": 28384854, "comment_id": 45109489, "body": "There&#39;s a lot of hazards to it. I would suggest <code>XML::Twig</code> and will happily offer a workable example with a bit more XML to start off with."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1423341301, "post_id": 28384854, "comment_id": 45111698, "body": "@TLP You&#39;re correct, the <code>[]</code> braces weren&#39;t serving any useful function. Originally I had `[^\\d,:]+, but then paired it back and should have removed the last remnants. :)"}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1423342625, "post_id": 28384854, "comment_id": 45112092, "body": "@TLP no the tag is correct. I just want the strings to be removed leaving only digits behind."}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1423367634, "post_id": 28387568, "comment_id": 45118143, "body": "should there be a semicolon where sub_quote_handler bracket ends?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 1, "creation_date": 1423402838, "post_id": 28387568, "comment_id": 45125578, "body": "Not required. Can if you want though."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1423344634, "last_edit_date": 1423344634, "creation_date": 1423344284, "answer_id": 28387568, "question_id": 28384854, "link": "https://stackoverflow.com/questions/28384854/remove-non-digit-characters-perl/28387568#28387568", "title": "Remove non-digit characters perl", "body": "<p>You have XML. Therefore you want an XML parser. <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.48/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a> is a good one. \nThe reason there's a lot of people saying 'don't use regular expressions to parse XML' is because whilst it <em>does</em> work in a limited scope. But XML is a specification, and certain things are valid, some are not. If you make code that's built on assumptions that aren't always true, what you end up with is brittle code - code that will break one day without warning, if someone alters their perfectly valid XML into a slightly different but still perfectly valid XML. </p>\n\n<p>So with that in mind:</p>\n\n<p>This works:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nsub quote_verse_handler {\n    my ( $twig, $quote ) = @_;\n    my $text = $quote-&gt;text;\n    $text =~ s/(\\d)\\D+$/$1/;\n    $quote-&gt;set_text($text);\n}\n\nmy $parser = XML::Twig-&gt;new(\n    twig_handlers =&gt; { 'quote-verse' =&gt; \\&amp;quote_verse_handler },\n    pretty_print  =&gt; 'indented'\n);\n\n\n#$parser -&gt; parsefile ( 'your_file.xml' );\nlocal $/;\n$parser-&gt;parse(&lt;DATA&gt;);\n$parser-&gt;print;\n\n\n__DATA__\n&lt;xml&gt;\n&lt;verse-no&gt;quote&lt;/verse-no&gt;\n        &lt;quote-verse&gt;1:26,27 Man Created to Continually Develop&lt;/quote-verse&gt;\n        &lt;quote&gt;When Adam came from the Creator's hand, he bore, in his physical, mental, and\n            spiritual nature, a likeness to his Maker. \"God created man in His own image\"\n            (Genesis 1:27), and it was His purpose that the longer man lived the more fully\n            he should reveal this image-the more fully reflect the glory of the Creator. All\n            his faculties were capable of development; their capacity and vigor were\n            continually to increase. Ed 15\n        &lt;/quote&gt;\n   &lt;/xml&gt;\n</code></pre>\n\n<p>What this does is - run through your file. Each time it encounters a section <code>quote-verse</code> it calls the handler, and gives it 'that bit' of the XML to do stuff with. We apply a regular expression, to chop off the trailing bit of the line, and then update the XML accordingly. </p>\n\n<p>Once parse is finished, we spit out the finished product. </p>\n\n<p>You'll probably want to replace:</p>\n\n<pre><code>local $/;\n$parser -&gt; parse ( &lt;DATA&gt; );\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>$parser -&gt; parsefile ( 'your_file_name' );\n</code></pre>\n\n<p>You may also find:</p>\n\n<pre><code>$parser -&gt; print_to_file( 'output_filename' ); \n</code></pre>\n\n<p>to be useful. </p>\n"}], "owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 1, "accepted_answer_id": 28387568, "answer_count": 1, "score": 0, "last_activity_date": 1423344634, "creation_date": 1423328393, "question_id": 28384854, "link": "https://stackoverflow.com/questions/28384854/remove-non-digit-characters-perl", "title": "Remove non-digit characters perl", "body": "<p>I have a file which has multiple quotes like the one below:</p>\n\n<pre><code>  &lt;verse-no&gt;quote&lt;/verse-no&gt;\n            &lt;quote-verse&gt;1:26,27 Man Created to Continually Develop&lt;/quote-verse&gt;\n            &lt;quote&gt;When Adam came from the Creator\u2019s hand, he bore, in his physical, mental, and\n                spiritual nature, a likeness to his Maker. \u201cGod created man in His own image\u201d\n                (Genesis 1:27), and it was His purpose that the longer man lived the more fully\n                he should reveal this image\u2014the more fully reflect the glory of the Creator. All\n                his faculties were capable of development; their capacity and vigor were\n                continually to increase. Ed 15\n            &lt;/quote&gt;\n</code></pre>\n\n<p>I want to remove all strings from <code>&lt;quote-verse&gt;.....&lt;/quote-verse&gt;</code> line so that the end result will be <code>&lt;quote&gt;1:26,27&lt;/quote&gt;</code>.</p>\n\n<p>I have tried <code>perl -pi.bak -e 's#\\D*$&lt;\\/quote-verse&gt;#&lt;\\/quote-verse&gt;#g' file.txt</code></p>\n\n<p>This does nothing. I am a beginner in perl (self taught) with less than 10 days experience. Please tell me what's wrong and how to proceed.</p>\n"}, {"tags": ["python", "perl", "cmd"], "comments": [{"owner": {"reputation": 5196, "user_id": 3832377, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/hF21J.jpg?s=128&g=1", "display_name": "Alexander Craggs", "link": "https://stackoverflow.com/users/3832377/alexander-craggs"}, "edited": false, "score": 0, "creation_date": 1423322223, "post_id": 28383712, "comment_id": 45105492, "body": "Not a duplicate, none of the questions work because I am working with CMD.  At least, none of the three answers given there work"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 4, "creation_date": 1423322266, "post_id": 28383712, "comment_id": 45105504, "body": "Make your python program read the output from the perl program from <code>sys.stdin</code> and pipe the perl program&#39;s <code>stdout</code> to it: <code>perl hello.pl | python python.py Arg1 Arg2 Arg3</code>"}, {"owner": {"reputation": 5196, "user_id": 3832377, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/hF21J.jpg?s=128&g=1", "display_name": "Alexander Craggs", "link": "https://stackoverflow.com/users/3832377/alexander-craggs"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1423322318, "post_id": 28383712, "comment_id": 45105524, "body": "Wait, you are able to pipe in cmd?  Okay, thanks for the solution.  Considering this is a duplicate, should I delete?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1423322396, "post_id": 28383712, "comment_id": 45105548, "body": "@martineau I re-opened the question so you can turn your comment into an answer. @Popey: Of course you can pipe in <code>cmd</code> ... Where have you been?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1423322445, "post_id": 28383712, "comment_id": 45105569, "body": "Worked for me in cmd console but from one python program to another (I don&#39;t have perl installed)."}, {"owner": {"reputation": 5196, "user_id": 3832377, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/hF21J.jpg?s=128&g=1", "display_name": "Alexander Craggs", "link": "https://stackoverflow.com/users/3832377/alexander-craggs"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1423322556, "post_id": 28383712, "comment_id": 45105609, "body": "Hm, it did work, thanks @martineau - @ Sinan, I&#39;ve been living in a place without cmd =)"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1423322724, "post_id": 28383712, "comment_id": 45105666, "body": "Thank you @Sinan (&amp; Popey)."}], "answers": [{"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 5, "last_activity_date": 1481304111, "last_edit_date": 1481304111, "creation_date": 1423322588, "answer_id": 28383858, "question_id": 28383712, "link": "https://stackoverflow.com/questions/28383712/in-windows-cmd-exe-shell-how-can-i-pipe-the-output-of-a-perl-script-to-a-pytho/28383858#28383858", "title": "In Windows&#39; cmd.exe shell, how can I pipe the output of a Perl script to a Python script?", "body": "<p>Make your python program read the output from the perl program from <code>sys.stdin</code> and pipe the perl program's stdout to it:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl hello.pl | python python.py Arg1 Arg2 Arg3\n</code></pre>\n\n<p>I tested this going from one python program to another and in the second python program just did:</p>\n\n<pre><code>import sys\n\ninp = sys.stdin.readline()\nprint(inp)\n</code></pre>\n"}], "owner": {"reputation": 5196, "user_id": 3832377, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/hF21J.jpg?s=128&g=1", "display_name": "Alexander Craggs", "link": "https://stackoverflow.com/users/3832377/alexander-craggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 28383858, "answer_count": 1, "score": 1, "last_activity_date": 1481304111, "creation_date": 1423321695, "last_edit_date": 1423322576, "question_id": 28383712, "link": "https://stackoverflow.com/questions/28383712/in-windows-cmd-exe-shell-how-can-i-pipe-the-output-of-a-perl-script-to-a-pytho", "title": "In Windows&#39; cmd.exe shell, how can I pipe the output of a Perl script to a Python script?", "body": "<p>Let's say I have an example <code>perl</code> program, that I can run from CMD (Windows 7) using the command:</p>\n\n<pre><code>perl hello.pl\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre>Hello World!</pre>\n\n<p>I can place this in a file using:</p>\n\n<pre><code>perl hello.pl &gt; output.txt\n</code></pre>\n\n<p>However, what I would like to do, is give it to another application, for this I need it to be fed to a Python application.  I give arguments to my Python application using the syntax:</p>\n\n<pre><code>python python.py Arg1 Arg2 Arg3\n</code></pre>\n\n<p>Assuming my Perl program only gives one parameter, is there a way to run a Python application once it has finished with this parameter?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4540406, "user_type": "registered", "profile_image": "https://graph.facebook.com/757163027686406/picture?type=large", "display_name": "Vikas Dubey", "link": "https://stackoverflow.com/users/4540406/vikas-dubey"}, "edited": false, "score": 0, "creation_date": 1423312960, "post_id": 28381980, "comment_id": 45103029, "body": "Hi, thanks for the help.  &quot;conf%1$04d.gro&quot; , in this thing , what&#39;s the meaning of 1 here."}, {"owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "reply_to_user": {"reputation": 19, "user_id": 4540406, "user_type": "registered", "profile_image": "https://graph.facebook.com/757163027686406/picture?type=large", "display_name": "Vikas Dubey", "link": "https://stackoverflow.com/users/4540406/vikas-dubey"}, "edited": false, "score": 0, "creation_date": 1423314013, "post_id": 28381980, "comment_id": 45103278, "body": "Use the first parameter, i.e. we&#39;re using $i twice and we have tell sprintf that, see the linked page"}], "tags": [], "owner": {"reputation": 28136, "user_id": 3906760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/289d797f9cfa60788698c79e8bf25241?s=128&d=identicon&r=PG&f=1", "display_name": "MrTux", "link": "https://stackoverflow.com/users/3906760/mrtux"}, "is_accepted": false, "score": -1, "last_activity_date": 1496598834, "last_edit_date": 1496598834, "creation_date": 1423311221, "answer_id": 28381980, "question_id": 28381935, "link": "https://stackoverflow.com/questions/28381935/perl-formatting-issues-in-a-script/28381980#28381980", "title": "Perl formatting issues in a script", "body": "<p>A bit hacky, but it does the trick:</p>\n\n<p>Insert the following line as the first line into your loop:</p>\n\n<pre><code>while (length($i) &lt; 4) { $i = '0'.$i; }\n</code></pre>\n\n<p>The nicer way would incorporate <a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/functions/sprintf.html</a>:</p>\n\n<pre><code>$cmd = sprintf('g_dist -s pull.tpr -f conf%1$04d.gro -n index.ndx -o dist%1$04d.xvg &lt; groups.txt &amp;&gt;/dev/null', $i);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 5, "last_activity_date": 1423325409, "creation_date": 1423325409, "answer_id": 28384326, "question_id": 28381935, "link": "https://stackoverflow.com/questions/28381935/perl-formatting-issues-in-a-script/28384326#28384326", "title": "Perl formatting issues in a script", "body": "<p>The <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"noreferrer\">range operator</a> is \"magic\", and can be used to increment strings like this:</p>\n\n<pre><code>for my $num ( '0001' .. '0010' ) {\n    my $conf = \"conf$num.gro\";\n    my $dist = \"dist$num.xvg\";\n    ....\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4540406, "user_type": "registered", "profile_image": "https://graph.facebook.com/757163027686406/picture?type=large", "display_name": "Vikas Dubey", "link": "https://stackoverflow.com/users/4540406/vikas-dubey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 28384326, "answer_count": 2, "score": -1, "last_activity_date": 1496598834, "creation_date": 1423310958, "last_edit_date": 1496598687, "question_id": 28381935, "link": "https://stackoverflow.com/questions/28381935/perl-formatting-issues-in-a-script", "title": "Perl formatting issues in a script", "body": "<p>Consider:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nfor (my $i=0; $i&lt;=500; $i++)\n{\n    print \"Processing configuration $i...\\n\";\n    system(\"g_dist -s pull.tpr -f conf${i}.gro -n index.ndx -o dist${i}.xvg &lt; groups.txt &amp;&gt;/dev/null\");\n}\n</code></pre>\n\n<hr>\n\n<p>I have a system command which is needed to do formatting, so basically this command gives input files to Gromacs. My files are not like conf1.gro, conf2.gro, etc. They are like 0001conf1.gro, 0002conf2.gro, etc. So I wanted to edit this command like:</p>\n\n<p>I tried using \"%04d\" since all the numbers are four-digit numbers, but I don't how to properly use zero-based here...</p>\n"}, {"tags": ["perl", "replace", "constants", "heredoc"], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1423311636, "post_id": 28379450, "comment_id": 45102654, "body": "The <code>&#47;r</code> option wasn&#39;t added until <a href=\"http://perldoc.perl.org/perl5140delta.html#Regular-Expressions\" rel=\"nofollow noreferrer\">5.14.0</a>."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423327950, "post_id": 28379450, "comment_id": 45107271, "body": "Thanks for the clarification."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1424163858, "post_id": 28379450, "comment_id": 45428147, "body": "You can use <a href=\"http://p3rl.org/Syntax::Construct\" rel=\"nofollow noreferrer\">Syntax::Construct</a> if you don&#39;t remember the version for each new non-<a href=\"http://perldoc.perl.org/feature.html\" rel=\"nofollow noreferrer\">feature</a> feature."}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": true, "score": 7, "last_activity_date": 1423323782, "last_edit_date": 1423323782, "creation_date": 1423291718, "answer_id": 28379450, "question_id": 28379316, "link": "https://stackoverflow.com/questions/28379316/what-is-the-perl-syntax-to-remove-extraneous-spaces-from-a-perl-heredoc-in-use/28379450#28379450", "title": "What is the perl syntax to remove extraneous spaces from a perl heredoc in &#39;use constant&#39;", "body": "<p>Here's an example that will strip the leading whitespace from each line of a heredoc before assigning it to a constant:</p>\n\n<pre><code>use constant FOO =&gt; &lt;&lt;'STRING' =~ s/^\\s+//mgr;\n    abcde\n    fghij\nSTRING\n\nprint FOO, \"\\n\";\n</code></pre>\n\n<p>The <code>/r</code> modifier was new in Perl 5.14, and signifies that the target string isn't modified, but instead that it's copied internally, the copy is modified, and returned as the return value of the substitution operator.  For example:</p>\n\n<pre><code>my $new_string = $string =~ s/foo/bar/r;\n</code></pre>\n\n<p><code>$new_string</code> would contain the modified string, and <code>$string</code> would be left alone.</p>\n\n<p>Applying this to your code, it might look like this:</p>\n\n<pre><code>use constant FIND_OBJECTS_SQL =&gt; &lt;&lt;'    END_SQL' =~ s/\\s+/ /gr;\n    ...\n    END_SQL\n</code></pre>\n\n<p>This is very similar to the last example you demonstrated, but adds the <code>/r</code> modifier so that the substitution has a useful return value, and so that it doesn't attempt to modify the HERE-doc's string literal.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1423323920, "creation_date": 1423323920, "answer_id": 28384087, "question_id": 28379316, "link": "https://stackoverflow.com/questions/28379316/what-is-the-perl-syntax-to-remove-extraneous-spaces-from-a-perl-heredoc-in-use/28384087#28384087", "title": "What is the perl syntax to remove extraneous spaces from a perl heredoc in &#39;use constant&#39;", "body": "<p><code>s///r</code> returns a modified string instead of modifying the string being matched.</p>\n\n<pre><code>use constant CONSTANT =&gt; &lt;&lt;'EOI' =~ s/\\s+/ /gr;\n...\nEOI\n</code></pre>\n\n<p><code>s///r</code> has been available since 5.14. If you need to support older versions of Perl, you could use</p>\n\n<pre><code>use constant CONSTANT =&gt; do { ( my $s = &lt;&lt;'EOI' ) =~ s/\\s+/ /g; $s };\n...\nEOI\n</code></pre>\n"}], "owner": {"reputation": 779, "user_id": 906886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0sY0h.jpg?s=128&g=1", "display_name": "Tai Paul", "link": "https://stackoverflow.com/users/906886/tai-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 28379450, "answer_count": 2, "score": 3, "last_activity_date": 1423323920, "creation_date": 1423290569, "last_edit_date": 1423321592, "question_id": 28379316, "link": "https://stackoverflow.com/questions/28379316/what-is-the-perl-syntax-to-remove-extraneous-spaces-from-a-perl-heredoc-in-use", "title": "What is the perl syntax to remove extraneous spaces from a perl heredoc in &#39;use constant&#39;", "body": "<p>I have the following structure through various pieces of code in my code base.  The use of the heredoc is good for myself and others to be able to understand the code but provides unnecessary bulk for transferring the data over a network to the database.</p>\n\n<pre><code>   use constant FIND_OBJECTS_SQL =&gt; &lt;&lt;'    END_SQL';\n       select object_name\n             ,object_type\n             ,0 PAC_REF\n             ,owner\n       from   all_objects\n       where  (object_name like upper(:1)\n            or object_name = upper(:1))\n       and    object_type not in ('SYNONYM'\n                                 ,'PACKAGE BODY')\n   END_SQL\n\n   $object_data = $dbh-&gt;selectall_arrayref(FIND_OBJECTS_SQL, $object_name);\n</code></pre>\n\n<p>What is the syntax to apply the \"s/\\s+/ /g\" search and replace operator to the assignment.</p>\n\n<p>The following two attempts do not work.</p>\n\n<pre><code>use constant FIND_OBJECTS_SQL =&gt; s/\\s+/ /g &lt;&lt;'    END_SQL';\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>Use of uninitialized value $_ in substitution (s///) at U:\\junk.pl line 5.\nArgument \"    END_SQL\" isn't numeric in left bitshift (&lt;&lt;) at U:\\junk.pl line 5.\n</code></pre>\n\n<p>and </p>\n\n<pre><code>use constant FIND_OBJECTS_SQL =&gt; &lt;&lt;'    END_SQL' =~ s/\\s+/ /g;\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>Can't modify constant item in substitution (s///) at U:\\junk.pl line 15, near \"s/\\s+/ /g;\"  \n</code></pre>\n"}, {"tags": ["perl", "caching", "optimization", "dictionary"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423253911, "post_id": 28374013, "comment_id": 45088533, "body": "What happens if your process dies for some reason? If you don&#39;t store the state somewhere more permanent, you could lose a lot of information."}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423254018, "post_id": 28374013, "comment_id": 45088583, "body": "It&#39;s started and monitored by upstart so if it dies unexpectedly it will immediately restart and then it will just store the current state at start up. There is a little bit of a race condition in there but it is negligible for my case."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423254075, "post_id": 28374013, "comment_id": 45088609, "body": "So what exactly are you trying to optimize?"}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423254370, "post_id": 28374013, "comment_id": 45088745, "body": "Memory usage vs run time/processing power needed. Essentially, I&#39;m looking for what would be a faster choice; what would be a less memory intensive choice; what would require less cycles, etc."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1423254715, "post_id": 28374013, "comment_id": 45088920, "body": "Depends an awful lot on use case at that point. Trying to optimise if you&#39;re just looking at a flag file isn&#39;t very important."}], "answers": [{"tags": [], "owner": {"reputation": 22, "user_id": 3317456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QVS7j.jpg?s=128&g=1", "display_name": "d1rtyw0rm", "link": "https://stackoverflow.com/users/3317456/d1rtyw0rm"}, "is_accepted": false, "score": -2, "last_activity_date": 1423254473, "creation_date": 1423254473, "answer_id": 28374210, "question_id": 28374013, "link": "https://stackoverflow.com/questions/28374013/for-a-long-running-program-is-it-preferable-to-store-data-in-memory-or-in-a-fil/28374210#28374210", "title": "For a long running program, is it preferable to store data in memory or in a file cache?", "body": "<p>so it's not a UNIQUE identifier, it's an incremental variable ... :P</p>\n\n<p>The 2 methods are good it always depend on your needs.</p>\n\n<p>Do you want to keep the count even if there is a reboot ... yes ... file\nno ...\nmemory</p>\n\n<p>It's just my point of view ... and i don't think with that kind of program that you need super fast memory performance ... after all there is a sleep in it ! :P</p>\n\n<p>Have a good day</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1423254660, "creation_date": 1423254660, "answer_id": 28374265, "question_id": 28374013, "link": "https://stackoverflow.com/questions/28374013/for-a-long-running-program-is-it-preferable-to-store-data-in-memory-or-in-a-fil/28374265#28374265", "title": "For a long running program, is it preferable to store data in memory or in a file cache?", "body": "<p>Why you should use memory:</p>\n\n<ul>\n<li>it's faster. </li>\n</ul>\n\n<p>Why you should use disk:</p>\n\n<ul>\n<li>It's bigger.</li>\n<li>It's more persistent. </li>\n</ul>\n\n<p>If your long running process will accumulate data, then you probably want to make sure it's flushed to disk. Otherwise - sooner or later - you'll exhaust main memory, and create knock on impact. (Whilst this can be a problem on disk, it's much less likely). </p>\n\n<p>If your process is just keeping track of a 'marker' to see what you've done so far, then that's not an issue. Stick with a memory based, unless you particularly need to persist the marker across reboots/resets.</p>\n\n<p>I would also suggest having a look at <code>inotify</code> instead of a while loop, as that can be a good alternative. </p>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "is_accepted": false, "score": 0, "last_activity_date": 1423315155, "creation_date": 1423315155, "answer_id": 28382578, "question_id": 28374013, "link": "https://stackoverflow.com/questions/28374013/for-a-long-running-program-is-it-preferable-to-store-data-in-memory-or-in-a-fil/28382578#28382578", "title": "For a long running program, is it preferable to store data in memory or in a file cache?", "body": "<p>Are you scripts supposed to run on Linux or any other OS providing a kernel subsystem similar to Linux's Inotify? If you are supposed to support only Linux based OS you probably search for <a href=\"https://metacpan.org/search?q=Inotify&amp;size=20\" rel=\"nofollow\">Inotify on metacpan</a>. Personally I'd take a look at <a href=\"https://metacpan.org/pod/POEx::Inotify\" rel=\"nofollow\">POEx::Inotify</a>, because POE is really an amazing ecosystem\u2026</p>\n"}], "owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 28374265, "answer_count": 3, "score": 0, "last_activity_date": 1423315155, "creation_date": 1423253665, "question_id": 28374013, "link": "https://stackoverflow.com/questions/28374013/for-a-long-running-program-is-it-preferable-to-store-data-in-memory-or-in-a-fil", "title": "For a long running program, is it preferable to store data in memory or in a file cache?", "body": "<p>I have a perl script that is continuously monitoring various directories for new files. To accomplish this, it runs forever in a <code>while(1)</code> block with a <code>sleep</code> command at the end. Currently, I am storing identifying information in a hash that maps the directory to a unique identifier. When a new file is placed into the directory, that identifier is incremented so I can see there is a new file whenever the greatest identifier is larger than the mapped value. This works well, but now I am wondering if it would be possible to optimize my code since it will be running 24/7. </p>\n\n<p>I have previously used <code>File::Cache</code> with perl to store data in a file rather than in memory. <strong>Would using file caching be a better solution rather than storing the (relatively small) hashmap in memory?</strong> </p>\n"}, {"tags": ["perl", "oop"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1423253252, "post_id": 28373405, "comment_id": 45088211, "body": "you want to add extra methods to specific objects, not to all objects of the class?  is there a reason you can&#39;t subclass?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423255526, "post_id": 28373405, "comment_id": 45089335, "body": "Objects don&#39;t have methods, classes have methods."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1423258961, "post_id": 28373405, "comment_id": 45090916, "body": "@ikegami: It depends on your model. All you <i>really</i> care about is that an instance has all the methods that are specified by its class. Ruby has both class methods (which can be invoked only on a class, not on an instance) and instance methods, which are defined in the class but are available only through instances of that class. It also has <i>singleton methods</i> which are unique to a given instance, which is what this OP seems to need."}], "answers": [{"comments": [{"owner": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "edited": false, "score": 0, "creation_date": 1423255207, "post_id": 28373893, "comment_id": 45089160, "body": "I kind of have to take it on faith that this is one of those exceptional cases as a 15 year perl guy told me to do it this way instead of the working way I originally solved the problem... :(  however, now when I run <code>*{$class.&#39;::add_me&#39;} = \\&amp;add_me;</code> I get the error: <code>Can&#39;t use string (&#39;MYCLASSNAME&quot;...) as a symbol ref while &quot;strict refs&quot; in use</code>   (where MYCLASSNAME is the value of $class)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423255618, "post_id": 28373893, "comment_id": 45089378, "body": "Re &quot; In order to assign a method to a single object, you have to put that object into its own class&quot;, or use an autoloader. <code>sub AUTOLOAD { ...; my $method = $self-&gt;{methods}-&gt;{$method_name} or die ...; $self-&gt;$method(@_); }</code>"}, {"owner": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423256317, "post_id": 28373893, "comment_id": 45089734, "body": "@ikegami whoops.... ah, didnt see the edit (or perhaps didnt read completely).  ams try now."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "edited": false, "score": 2, "creation_date": 1423256561, "post_id": 28373893, "comment_id": 45089843, "body": "@Rooster As I pointed out in the answer, that&#39;s a symbolic reference.  <code>strict</code> does not allow them (with good reason) and you have to temporary turn that restriction off.  &quot;Something a guy told me to do&quot; isn&#39;t a great rationale, I don&#39;t care how many years they&#39;ve been at it, if you don&#39;t understand the rationale you probably shouldn&#39;t be messing with it.  This is one of those &quot;solutions&quot; that&#39;s likely to cause more problems.  How about ask a question about the original problem?  If you link it here in the comments I&#39;ll have a look."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1423256781, "post_id": 28373893, "comment_id": 45089949, "body": "@ikegami An AUTOLOAD will slow down every method call, they&#39;re very bug prone, they&#39;re hard to make seamless (for example, making <code>can()</code> work) and you have to inject that AUTOLOAD into the calling class and deal with the possibility that you&#39;re masking an existing AUTOLOAD (or will get masked in a &quot;clever&quot; subclass).  I avoid them whenever possible and tear them out when I find them.  Make that your own answer and we can discuss it further."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "edited": false, "score": 2, "creation_date": 1423257030, "post_id": 28373893, "comment_id": 45090059, "body": "@Rooster Re. <i>&quot;I kind of have to take it on faith that this is one of those exceptional cases as a 15 year perl guy told me to do it this way&quot;</i> The nice thing about Stack Overflow is that there are lots of &quot;15 year perl guys&quot; (and likely even 16, 17, 18+ year perl guys), who don&#39;t hesitate to point out each others&#39; mistakes. You don&#39;t have to listen to just one guy when you have a whole group of people available to help."}, {"owner": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423257243, "post_id": 28373893, "comment_id": 45090173, "body": "@ThisSuitIsBlackNot yeah.  except he&#39;s the boss...  I&#39;m willing to argue for different approaches, I just want to have my bases covered before hand.  But yes indeed you are right :)"}, {"owner": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "edited": false, "score": 0, "creation_date": 1423257335, "post_id": 28373893, "comment_id": 45090218, "body": "@Schwern woud you need to do anything different if the method being added to the class is being read in from an eval?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "edited": false, "score": 1, "creation_date": 1423257517, "post_id": 28373893, "comment_id": 45090311, "body": "@Rooster No, so long as you wind up with a code reference.  eval&#39;ing code is a <i>huge</i> red flag.  You <i>really</i> should post your original problem, your solution is raising pretty much every Unnecessary Code Generation red flag."}, {"owner": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "edited": false, "score": 0, "creation_date": 1423258357, "post_id": 28373893, "comment_id": 45090676, "body": "@Schwern updated the question to explain the full scope of the problem."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "edited": false, "score": 0, "creation_date": 1423258685, "post_id": 28373893, "comment_id": 45090807, "body": "@Rooster It would work better to turn that edit into a new question, there&#39;s much to dig into."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "edited": false, "score": 0, "creation_date": 1423259115, "post_id": 28373893, "comment_id": 45090979, "body": "@Rooster I added a simpler way to solve your problem.  I still think letting the user inject code is a bad idea.  We&#39;ll see what happens for the full problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423259281, "post_id": 28373893, "comment_id": 45091060, "body": "@Schwern, Yes, it will slow the method calls of that class. // No, <code>can</code> is not hard to support. (It&#39;s the same code as <code>AUTOLOAD</code>.) // No, you don&#39;t need to insert AUTOLOAD into the calling class (nor would that help at all). // No, nothing stops you from calling the parent&#39;s AUTOLOAD if it has one. // No, I don&#39;t want repeat your post plus my comment on AUTOLOAD as an answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423259396, "post_id": 28373893, "comment_id": 45091125, "body": "@Schwern: <i>&quot;An AUTOLOAD will slow down every method call&quot;</i> I don&#39;t see why. perl looks for an <code>AUTOLOAD</code> method only when it has searched the <code>@ISA</code> list for a class that can supply the wanted method. The autoloaded method will be slow to call, but it won&#39;t affect the speed of the standard methods."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1423259428, "post_id": 28373893, "comment_id": 45091143, "body": "@Borodin, It will slow down every call to the &quot;loaded&quot; methods. I think that&#39;s what he meant."}, {"owner": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "edited": false, "score": 0, "creation_date": 1614370245, "post_id": 28373893, "comment_id": 117374643, "body": "@Schwern wow this answer makes so much more sense 6 years later :D"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 9, "last_activity_date": 1423259398, "last_edit_date": 1423259398, "creation_date": 1423253278, "answer_id": 28373893, "question_id": 28373405, "link": "https://stackoverflow.com/questions/28373405/add-new-method-to-existing-object-in-perl/28373893#28373893", "title": "Add new method to existing object in perl", "body": "<p>If you just want to attach functionality to a specific object, and don't need inheritance, you can store a code ref in the object and call it.</p>\n\n<pre><code># Store the code in the object, putting it in its own\n# nested hash to reduce the chance of collisions.\n$obj-&gt;{__actions}{something} = sub { ... };\n\n# Run the code\nmy @stuff = $obj-&gt;{__actions}{something}-&gt;(@args);\n</code></pre>\n\n<p>Problem is, you need to check that <code>$obj-&gt;{__actions}{something}</code> contains a code reference.  What I would suggest is to wrap a method around this procedure.</p>\n\n<pre><code>sub add_action {\n    my($self, $action, $code) = @_;\n\n    $self-&gt;{__actions}{$action} = $code;\n\n    return;\n}\n\nsub take_action {\n    my($self, $action, $args) = @_;\n\n    my $code = $self-&gt;{__actions}{$action};\n    return if !$code or ref $code ne 'CODE';\n\n    return $code-&gt;(@$args);\n}\n\n$obj-&gt;add_action( \"something\", sub { ... } );\n$obj-&gt;take_action( \"something\", \\@args );\n</code></pre>\n\n<hr>\n\n<p>If you already know the class name you want to inject a method into, write the subroutine as normal but use the fully qualified name.</p>\n\n<pre><code>sub Some::Class::new_method {\n    my $self = shift;\n\n    ...\n}\n</code></pre>\n\n<p>Note that any globals inside that subroutine will be in the surrounding package, <em>not</em> in Some::Class.  If you want persistent variables use <code>state</code> inside the subroutine or <code>my</code> outside the subroutine.</p>\n\n<hr>\n\n<p>If you don't know the name at compile time, you'll have to inject the subroutine into the symbol table, so you were close with that last one.</p>\n\n<pre><code>sub inject_method {\n    my($object, $method_name, $code_ref) = @_;\n\n    # Get the class of the object\n    my $class = ref $object;\n\n    {\n        # We need to use symbolic references.\n        no strict 'refs';\n\n        # Shove the code reference into the class' symbol table.\n        *{$class.'::'.$method_name} = $code_ref;\n    }\n\n    return;\n}\n\ninject_method($obj, \"new_method\", sub { ... });\n</code></pre>\n\n<p>Methods in Perl are associated with a class, not an object.  In order to assign a method to a single object, you have to put that object into its own class.  Similar to the above, but you have to create a subclass for every instance.</p>\n\n<pre><code>my $instance_class = \"_SPECIAL_INSTANCE_CLASS_\";\nmy $instance_class_increment = \"AAAAAAAAAAAAAAAAAA\";\nsub inject_method_into_instance {\n    my($object, $method_name, $code_ref) = @_;\n\n    # Get the class of the object\n    my $old_class = ref $object;\n\n    # Get the special instance class and increment it.\n    # Yes, incrementing works on strings.\n    my $new_class = $instance_class . '::' . $instance_class_increment++;\n\n    {\n        # We need to use symbolic references.\n        no strict 'refs';\n\n        # Create its own subclass\n        @{$new_class.'::ISA'} = ($old_class);\n\n        # Shove the code reference into the class' symbol table.\n        *{$new_class.'::'.$method_name} = $code_ref;\n\n        # Rebless the object to its own subclass\n        bless $object, $new_class;\n    }\n\n    return;\n}\n</code></pre>\n\n<p>I left out the code to check whether or not the instance has already had this treatment by checking if its class matches <code>/^${instance_class}::/</code>.  I leave that as an exercise for you.  Creating a new class for every object is not cheap and will cost memory.</p>\n\n<hr>\n\n<p>There are valid reasons to do this, but they are exceptional.  You should really, really question whether you should be doing this sort of <a href=\"https://en.wikipedia.org/wiki/Monkey_patch\" rel=\"noreferrer\">monkey patching</a>.  In general, <a href=\"https://en.wikipedia.org/wiki/Action_at_a_distance\" rel=\"noreferrer\">action at a distance</a> should be avoided.</p>\n\n<p>Can you accomplish the same thing using a subclass, delegation or role?</p>\n\n<p>There already exist Perl OO systems which will do this for you and much much more.  You should be using one.  <a href=\"https://metacpan.org/pod/Moose::Role#APPLYING-ROLES\" rel=\"noreferrer\">Moose</a>, Moo (via <a href=\"https://metacpan.org/pod/Role::Tiny#apply_roles_to_object\" rel=\"noreferrer\">Role::Tiny</a>) and <a href=\"https://metacpan.org/pod/Mouse\" rel=\"noreferrer\">Mouse</a> can all add roles to an instance.</p>\n"}], "owner": {"reputation": 9288, "user_id": 671943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4HS79.jpg?s=128&g=1", "display_name": "Rooster", "link": "https://stackoverflow.com/users/671943/rooster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1678, "favorite_count": 2, "accepted_answer_id": 28373893, "answer_count": 1, "score": 5, "last_activity_date": 1423259398, "creation_date": 1423251297, "last_edit_date": 1423258337, "question_id": 28373405, "link": "https://stackoverflow.com/questions/28373405/add-new-method-to-existing-object-in-perl", "title": "Add new method to existing object in perl", "body": "<p>I have this perl object.  After the object is instantiated, I'm trying to add a new method to the object within a loader method, that can then be called later.  </p>\n\n<p>I've tried a whole bunch of stuff that hasn't worked.  Examples include:</p>\n\n<pre><code>sub loader {\n    my ($self) = @_;\n\n    sub add_me {\n        my ($self, $rec) = @_\n\n        warn \"yayyyyyy\";\n        return $rec;\n    }\n\n    #here are the things I've tried that dont work:\n    # &amp;{$self-&gt;{add_me}} = \\&amp;add_me;\n    # \\&amp;{$self-&gt;{add_me}} = \\&amp;add_me;\n    # assuming the class definition is in Holder::Class try to add it to symblol table\n    # *{Holder::Class::add_me} = \\&amp;add_me;\n\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The reason that I need to do this is I'm adding a hook in my code where the user of my software will have the ability to inject their own sub to edit a data structure as they will.</p>\n\n<p>To do this, they will be able to edit a secondary file that will only contain one sub and get the data structure in question passed in, so something like:</p>\n\n<pre><code>sub inject_a_sub {\n    my ($self, $rec) = @_;\n\n    #do stuff to $rec\n\n    return $rec;\n}\n</code></pre>\n\n<p>then inside my original object upon its instantiation, I check to see if the above mentioned file exists, and if so read its contents and eval them.  Lastly,  I want to make the eval'd code which is just a sub, a method of my object.  To be precise, my object is already inheriting a method called <code>do_something</code> and i want to make the sub read in by the eval override the <code>do_something</code> method being inherited so that when called the sub from the external file runs.</p>\n\n<p>its a weird problem :/</p>\n\n<p>and it hurts me :(</p>\n\n<p>Obi wan kenobi you're my only hope!</p>\n\n<p>Cheers!</p>\n"}, {"tags": ["regex", "perl", "www-mechanize"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1423245365, "post_id": 28371815, "comment_id": 45084119, "body": "Do you want to match URLs that contain both <code>smallThumb</code> <i>and</i> <code>zoom</code>? Or do you want to get two separate lists, one containing the <code>smallThumb</code> images and one containing the <code>zoom</code> images?"}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 1, "creation_date": 1423245374, "post_id": 28371815, "comment_id": 45084124, "body": "What code have you already tried? Please see <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>, <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 2490242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4187ffa52b328d145d8aa91708b224c1?s=128&d=identicon&r=PG", "display_name": "Gyan Dixit", "link": "https://stackoverflow.com/users/2490242/gyan-dixit"}, "edited": false, "score": 0, "creation_date": 1423288997, "post_id": 28372042, "comment_id": 45097926, "body": "Thanks Andy for the reply . I was already doing the monkeying stuff but  the result is not the desired one. I want to retain urls with smallThumb and also the urls when I replace smallthumb with zoom using regex.Any help Guru."}, {"owner": {"reputation": 19, "user_id": 2490242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4187ffa52b328d145d8aa91708b224c1?s=128&d=identicon&r=PG", "display_name": "Gyan Dixit", "link": "https://stackoverflow.com/users/2490242/gyan-dixit"}, "edited": false, "score": 0, "creation_date": 1423289813, "post_id": 28372042, "comment_id": 45098050, "body": "i have my @smallthumbs={a.smallThumb.jpg , b.smallThumb.jpg} and I want my @smallandzoom={a.smallThumb.jpg , b.smallThumb.jpg,a.zoom.jpg , b.zoom.jpg}"}], "tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 1, "last_activity_date": 1423246677, "last_edit_date": 1423246677, "creation_date": 1423246066, "answer_id": 28372042, "question_id": 28371815, "link": "https://stackoverflow.com/questions/28371815/how-can-i-change-my-regex-to-get-a-different-set-of-images-with-wwwmechanize/28372042#28372042", "title": "How can I change my regex to get a different set of images with WWW::Mechanize?", "body": "<p>You can do this:</p>\n\n<pre><code>my @smallthumbs = $mech-&gt;find_all_images(url_regex =&gt; qr/smallThumb/i);\nmy @zooms       = $mech-&gt;find_all_images(url_regex =&gt; qr/zoom/i);\nmy @allimages = (@smallthumbs, @zooms);\n</code></pre>\n\n<p>The risk here is that you could have a URL that fits in both categories and get a dupe.</p>\n\n<p>You can also go monkeying with the regex.</p>\n\n<pre><code>my @smallthumbs_or_zooms = $mech-&gt;find_all_images( url_regex =&gt; qr/smallThumb|zoom/i );\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 2490242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4187ffa52b328d145d8aa91708b224c1?s=128&d=identicon&r=PG", "display_name": "Gyan Dixit", "link": "https://stackoverflow.com/users/2490242/gyan-dixit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423246677, "creation_date": 1423245231, "last_edit_date": 1423245931, "question_id": 28371815, "link": "https://stackoverflow.com/questions/28371815/how-can-i-change-my-regex-to-get-a-different-set-of-images-with-wwwmechanize", "title": "How can I change my regex to get a different set of images with WWW::Mechanize?", "body": "<p>I am making a web scraper for a website where I have to download images. I am currently using <code>WWW::Mechanize</code> and doing:</p>\n\n<pre><code>my @images=$mech-&gt;find_all_images(url_regex =&gt; qr/smallThumb/i);\n</code></pre>\n\n<p>which gives me all the images that have <code>smallThumb</code> in the URL.</p>\n\n<p>How can I change <code>smallThumb</code> to <code>zoom</code> while retaining the previous links that have <code>smallThumb</code>?</p>\n"}, {"tags": ["perl", "utf-8", "catalyst"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1423243643, "post_id": 28371247, "comment_id": 45083249, "body": "Do you have <code>use utf8;</code> in your controller file?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1423245196, "post_id": 28371247, "comment_id": 45084042, "body": "It looks like you don&#39;t have <code>ENCODING =&gt; &#39;utf-8&#39;</code> in your TT config."}, {"owner": {"reputation": 2764, "user_id": 1995281, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/698d2867566864946d7b6304ae753a99?s=128&d=identicon&r=PG", "display_name": "J33nn", "link": "https://stackoverflow.com/users/1995281/j33nn"}, "edited": false, "score": 0, "creation_date": 1423246479, "post_id": 28371247, "comment_id": 45084650, "body": "Configuration is fine. For some reason template file content is corrupted. When I remove everything from template file and place there only variable it works..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423246834, "post_id": 28371247, "comment_id": 45084859, "body": "@J33nn Wait, so when your template contains <code>[% some_variable %]&lt;br&gt; test: \u0105\u0119\u015b\u0107</code>, you get <code>&#196;&#196;&#197;&#196; test: \u0105\u0119\u015b\u0107</code>, but when your template contains only <code>[% some_variable %]</code> and nothing else, you get <code>\u0105\u0119\u015b\u0107</code>? That doesn&#39;t make any sense."}, {"owner": {"reputation": 2764, "user_id": 1995281, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/698d2867566864946d7b6304ae753a99?s=128&d=identicon&r=PG", "display_name": "J33nn", "link": "https://stackoverflow.com/users/1995281/j33nn"}, "edited": false, "score": 0, "creation_date": 1423247303, "post_id": 28371247, "comment_id": 45085121, "body": "I&#39;ve found that if I have for example this char <code>&#223;</code> (even commented out <code>&lt;!-- &#223; --&gt;</code>) if totally mess up encoding."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1423257443, "post_id": 28371247, "comment_id": 45090271, "body": "I think you need to reduce the misbehaving application to a minimum that displays the same behaviour. It shouldn&#39;t be difficult. You may well find the problem yourself in the process, but you will then have something you can post here that others can work with,"}], "answers": [{"tags": [], "owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "is_accepted": false, "score": 2, "last_activity_date": 1423611473, "last_edit_date": 1423611473, "creation_date": 1423315579, "answer_id": 28382662, "question_id": 28371247, "link": "https://stackoverflow.com/questions/28371247/perl-catalyst-encoding-issue/28382662#28382662", "title": "Perl Catalyst encoding issue", "body": "<p>Please take a look at the good documentation provided by the Catalyst Wiki at <a href=\"http://wiki.catalystframework.org/wiki/tutorialsandhowtos/using_unicode.view\" rel=\"nofollow\">Using Unicode</a> and also <a href=\"https://metacpan.org/pod/Catalyst::View::TT#Unicode-Catalyst-v5.90080\" rel=\"nofollow\">Catalyst::View::TT</a>. The <a href=\"http://www.perl.com/pub/2012/04/perlunicook-standard-preamble.html\" rel=\"nofollow\">Perl Unicode Cookbook</a> may help you get a better understanding on Perl support of UTF-8, usually better than most other languages available today.</p>\n\n<p>You may need to save your templates with the UTF-8 BOM mark using your editor, so your text editor does encode properly your template file when saving, or if not setting BOM, then at least define file encoding as UTF-8 every time you save it.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 1375132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1279d6bd0b4754cd7e879507c92b26f6?s=128&d=identicon&r=PG", "display_name": "John Napiorkowski", "link": "https://stackoverflow.com/users/1375132/john-napiorkowski"}, "is_accepted": false, "score": 1, "last_activity_date": 1424732332, "creation_date": 1424732332, "answer_id": 28685218, "question_id": 28371247, "link": "https://stackoverflow.com/questions/28371247/perl-catalyst-encoding-issue/28685218#28685218", "title": "Perl Catalyst encoding issue", "body": "<p>There's been a ton of fixes to unicode support and UTF-8 in general with the most recent stable release of Catalyst (5.90084).  Catalyst now is UTF-8 by default, but of course there's always some hard edges.  You should review the most recent docs on the subject to see what is going wrong.</p>\n\n<p>If you template contains multibyte character than you do indeed need to set the BOM or review the documentation for your template view of choice.</p>\n"}], "owner": {"reputation": 2764, "user_id": 1995281, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/698d2867566864946d7b6304ae753a99?s=128&d=identicon&r=PG", "display_name": "J33nn", "link": "https://stackoverflow.com/users/1995281/j33nn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1424732332, "creation_date": 1423243154, "question_id": 28371247, "link": "https://stackoverflow.com/questions/28371247/perl-catalyst-encoding-issue", "title": "Perl Catalyst encoding issue", "body": "<p>Well this is strange and hard to explain what's wrong but I'll try do my best.</p>\n\n<p>For some reason values to template changes their encoding (I'm pretty sure they are). </p>\n\n<p>Controller file (encoded in UTF-8):</p>\n\n<pre><code>print STDERR \"\u0105\u0119\u015b\u0107\";\n$c-&gt;stash-&gt;{some_variable} = \"\u0105\u0119\u015b\u0107\"; # some unicode chars\n</code></pre>\n\n<p>Template file (encoded in UTF-8):</p>\n\n<pre><code>[% some_variable %]&lt;br&gt;\ntest: \u0105\u0119\u015b\u0107\n</code></pre>\n\n<p>As output in browser I'm getting:</p>\n\n<pre><code>\u00c4\u00c4\u00c5\u00c4\ntest: \u0105\u0119\u015b\u0107\n</code></pre>\n\n<p>Output on console (with UTF-8 encoding enabled):</p>\n\n<pre><code>\u0105\u0119\u015b\u0107\n</code></pre>\n"}, {"tags": ["perl", "user-interface", "excel", "user-experience", "vba"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1423237040, "post_id": 28369256, "comment_id": 45079320, "body": "If you set up perl as a file association, then you can double click on the script to run it. Although you would then need to handle the command line arguments differently."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1423237086, "post_id": 28369256, "comment_id": 45079347, "body": "What OS are you using?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1423237130, "post_id": 28369256, "comment_id": 45079380, "body": "Given reference to Excel and VB, I would assume Windows...."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1423237288, "post_id": 28369256, "comment_id": 45079473, "body": "@Sobrique I have assumed Linux/OSX many times when users mention <code>bash</code> and <code>script.sh</code> only to find out that they are on Windows under cygwin. Likewise, I have assumed Windows when users mention Excel only to find they are on Macs."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1423238566, "post_id": 28369256, "comment_id": 45080287, "body": "Why resort to VB? You could write your own GUI in Perl using <a href=\"https://metacpan.org/pod/distribution/Tk/Tk.pod\" rel=\"nofollow noreferrer\"><code>Tk</code></a>, <a href=\"https://metacpan.org/pod/Win32::GUI\" rel=\"nofollow noreferrer\"><code>Win32::GUI</code></a>, <a href=\"http://www.wxperl.it/\" rel=\"nofollow noreferrer\"><code>wxPerl</code></a>, or something similar."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1423241217, "post_id": 28369256, "comment_id": 45081973, "body": "If you can set up a web server, it might be easiest to just set up some ugly HTML forms with file uploads."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1423242732, "post_id": 28369256, "comment_id": 45082755, "body": "<a href=\"http://stackoverflow.com/a/705925/622310\">This solution</a> may help"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423242768, "post_id": 28369256, "comment_id": 45082773, "body": "Of course it&#39;s possible to run a a program (Perl) from another program (even if it has a GUI)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423242994, "post_id": 28369256, "comment_id": 45082887, "body": "Simple solution: Create a shortcut in the <code>SentTo</code> directory"}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 1, "creation_date": 1423244868, "post_id": 28369256, "comment_id": 45083859, "body": "If you&#39;re willing to use Windows for this, it&#39;s very easy to embed the Perl line you&#39;ve shown in a BAT script, which users could just double-click and run.  No other user-interaction necessary.  Unfortunately, it&#39;s not so easy to do this on a Mac (and I am a Mac user!), without something more complex, like the aforementioned Tk, or something more Mac-friendly like Platypus."}, {"owner": {"reputation": 1354, "user_id": 1653270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c57d3d99827c5e6cdf0880292769472?s=128&d=identicon&r=PG", "display_name": "michael501", "link": "https://stackoverflow.com/users/1653270/michael501"}, "edited": false, "score": 0, "creation_date": 1423249241, "post_id": 28369256, "comment_id": 45086163, "body": "see this : <a href=\"http://stackoverflow.com/questions/15951837/excel-vba-wait-for-shell-command-to-complete\" title=\"excel vba wait for shell command to complete\">stackoverflow.com/questions/15951837/&hellip;</a>"}, {"owner": {"reputation": 4071, "user_id": 3806046, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5fedf50ce7cd2659bca902e9a2969158?s=128&d=identicon&r=PG&f=1", "display_name": "jkeuhlen", "link": "https://stackoverflow.com/users/3806046/jkeuhlen"}, "edited": false, "score": 0, "creation_date": 1423252047, "post_id": 28369256, "comment_id": 45087595, "body": "I&#39;m not a mac user so this is just a thought but I believe you can add a shebang line at the top of the perl script, add an executable flag, and then just double click to run it like any other program."}], "answers": [{"tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1598221540, "last_edit_date": 1598221540, "creation_date": 1423249750, "answer_id": 28373018, "question_id": 28369256, "link": "https://stackoverflow.com/questions/28369256/how-can-i-run-a-perl-script-without-using-the-command-line/28373018#28373018", "title": "How can I run a Perl script without using the command line?", "body": "<p>You can do this in VBA with the <code>Shell</code> command. This is an example in a Windows environment. I'm not sure how well the commands work in a OSX environment.</p>\n<p>Thanks to <a href=\"https://stackoverflow.com/questions/67835/deleting-a-file-in-vba#67860\">Onorio Catenacci</a> for some code stolen outright.</p>\n<pre><code>Public Const CmdPath = &quot;C:\\Windows\\system32\\cmd.exe&quot;\nPublic Const PerlExecPath = &quot;C:\\path\\to\\perl\\bin\\perl.exe&quot;\nPublic Const ScriptPath = &quot;C:\\Temp\\script.pl&quot;\nPublic Const OutputDir = &quot;C:\\Temp&quot;\n\nFunction FileExists(ByVal FileToTest As String) As Boolean\n   FileExists = (Dir(FileToTest) &lt;&gt; &quot;&quot;)\nEnd Function\n\nFunction GetWorkbookIfLoaded(ByVal FileName As String) As Workbook\n   Dim lWbName As String\n   lWbName = Dir(FileName)\n   If lWbName = &quot;&quot; Then\n       lWbName = FileName\n   End If\n   On Error Resume Next\n   Set GetWorkbookIfLoaded = Workbooks(lWbName)\n   On Error GoTo 0\nEnd Function\n\nFunction DeleteFile(ByVal FileToDelete As String)\n   Dim lUserOK As Boolean\n   Dim lReturn As Boolean\n   Dim lWbName As String\n   Dim oBk As Workbook\n   \n   lUserOK = True\n   lWbName = Dir(FileToDelete)\n   \n   lReturn = (lWbName = &quot;&quot;)\n   \n   If Not lReturn Then\n      Set oBk = GetWorkbookIfLoaded(lWbName)\n      \n      If Not oBk Is Nothing Then\n         oBk.Close\n         Set oBk = GetWorkbookIfLoaded(lWbName)\n         lUserOK = (oBk Is Nothing)\n      End If\n      \n      If lUserOK Then\n          SetAttr FileToDelete, vbNormal\n          Kill FileToDelete\n          lReturn = True\n      End If\n      \n   End If\n   DeleteFile = lReturn\n   \nEnd Function\n\nSub CreateNewExcel()\n    Dim lProceed    As Boolean\n    Dim lRetVal     As Double\n    Dim lMsgResult  As VbMsgBoxResult\n    Dim lOutputPath As String\n    Dim lCommand    As String\n    \n    lOutputPath = OutputDir &amp; &quot;\\output.tab&quot;\n    lCommand _\n        = CmdPath &amp; &quot; /C &quot; &amp; PerlExecPath &amp; &quot; -e &quot; _\n        &amp; Chr(34) &amp; &quot;print qq[${\\(scalar localtime)}\\t1\\t2\\t3\\t4\\n]&quot; _\n        &amp; Chr$(34) &amp; &quot; &gt; &quot; &amp; lOutputPath\n        \n    lProceed = DeleteFile(lOutputPath)\n    If Not lProceed Then Exit Sub\n    \n    DoEvents\n    \n    lRetVal = Shell(lCommand, vbHide)\n    Application.Wait (Now + TimeValue(&quot;0:00:01&quot;))\n    \n    If lRetVal = 0 Or Not FileExists(lOutputPath) Then\n        MsgBox (&quot;Failed to run script&quot;)\n    Else\n        Workbooks.Open (lOutputPath)\n    End If\n       \nEnd Sub\n</code></pre>\n<p>I had to throw in an <code>Application.Wait</code> call because the test for the file existence would sometimes catch the not-yet-deleted file, or not catch the not-fully-created file.</p>\n<p>I did find some stuff on <a href=\"https://stackoverflow.com/questions/6136798/vba-shell-function-in-office-2011-for-mac#12320294\">executing stuff in an Apple environment</a> elsewhere on StackOverflow.</p>\n"}, {"comments": [{"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1423287826, "post_id": 28374379, "comment_id": 45097724, "body": "+1 for Automator.  For some reason I always forget about this tool, but it does provide a great option for non-Terminal-friendly users."}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 1, "last_activity_date": 1423255057, "creation_date": 1423255057, "answer_id": 28374379, "question_id": 28369256, "link": "https://stackoverflow.com/questions/28369256/how-can-i-run-a-perl-script-without-using-the-command-line/28374379#28374379", "title": "How can I run a Perl script without using the command line?", "body": "<p>This sounds like a perfect application for an OSX <code>Folder Action</code>. Basically, you start the <code>Automator</code> and tell it you want to create a <code>Folder Action</code> and it gives you a split screen where the things you can do are on the left and you develop your script on the right.</p>\n\n<p>Drag the action <code>Run shell script</code> from the left side to the right and select which folder it is to apply to at the top. Then change it from running <code>bash</code> to using the Perl interpreter in <code>/usr/bin/perl</code> and paste your script in.</p>\n\n<p>Then all you need to do is drop a file on the folder and it will run the Perl script on it.</p>\n\n<p>You could share that folder with your Windows users using Samba in <code>System Preferences-&gt; Sharing</code> so they benefit from the power of OS X.</p>\n"}], "owner": {"reputation": 1926, "user_id": 2396037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fff799fabee7a56dd5c44abdbff815d3?s=128&d=identicon&r=PG", "display_name": "Slavatron", "link": "https://stackoverflow.com/users/2396037/slavatron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1012, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1598221540, "creation_date": 1423236885, "last_edit_date": 1531161705, "question_id": 28369256, "link": "https://stackoverflow.com/questions/28369256/how-can-i-run-a-perl-script-without-using-the-command-line", "title": "How can I run a Perl script without using the command line?", "body": "<p>I have written a few Perl scripts that allow me to do my job faster. Each of these scripts is run with a command like this:</p>\n\n<pre><code>perl PerlScript.pl InFile &gt; OutFile\n</code></pre>\n\n<p>Both InFile and OutFile are generally tab-delimited files that the rest of my workplace only sees as Excel file. My coworkers would benefit from using these scripts but they are intimidated by the idea of running programs from a command line. <strong>Is there some way to run a Perl script from a more user-friendly interface like a GUI?</strong> My ideal solution would allow them to drag an Excel file into a folder and click a button with the mouse which would produce a new Excel file they could drag back to wherever they need it.</p>\n\n<p>I know nothing about Visual Basic other than that it exists but I have an inkling it might be useful to this problem. Is it possible to run Perl scripts within a Visual Basic script? Is it reasonable to think that someone who is afraid of the command line and computer science in general will be able to comfortably run Visual Basic scripts?</p>\n\n<p>NOTE: I use a Mac OS as do most of my coworkers. A Windows-specific solution would be good because we have a few Windows computers dedicated to tasks that, for whatever reason, are easier done on a Windows OS.</p>\n"}, {"tags": ["perl", "parsing", "logging"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1423236319, "post_id": 28368801, "comment_id": 45078885, "body": "the line meaning a single line (and stop looking when you find it)?  can you explain what your code is meant to do?  it seems a lot more complicated than your description of what you want"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423236554, "post_id": 28368801, "comment_id": 45079028, "body": "can you give an input sample and what you&#39;re expecting to extract?"}, {"owner": {"reputation": 3, "user_id": 4065975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150b625839b54288c42b5faa33e48623?s=128&d=identicon&r=PG&f=1", "display_name": "said serty", "link": "https://stackoverflow.com/users/4065975/said-serty"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1423241110, "post_id": 28368801, "comment_id": 45081908, "body": "@ysth/ @Sobrique : No, it looks for all occurences for a pattern"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1423242305, "post_id": 28368801, "comment_id": 45082530, "body": "so you want not just the next line after, but any non-[ lines after each match?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4065975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150b625839b54288c42b5faa33e48623?s=128&d=identicon&r=PG&f=1", "display_name": "said serty", "link": "https://stackoverflow.com/users/4065975/said-serty"}, "edited": false, "score": 0, "creation_date": 1423581437, "post_id": 28371022, "comment_id": 45200474, "body": "Hi, thanks for the code but it doesn&#39;t take in consideration if it begins with : <code>code</code>[2/5/15 14:55:18:025 UTC] 0000003a JDBCException W org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, S QLState: null *********************************************************** Start Server *******************************  0000003a JDBCException O OK  0000003a JDBCException O OK [2/5/15 14:55:18:025 UTC] 0000003a JDBCException W org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, S QLState: null <code>code</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 3, "user_id": 4065975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150b625839b54288c42b5faa33e48623?s=128&d=identicon&r=PG&f=1", "display_name": "said serty", "link": "https://stackoverflow.com/users/4065975/said-serty"}, "edited": false, "score": 0, "creation_date": 1423582468, "post_id": 28371022, "comment_id": 45201223, "body": "I&#39;m not sure what you mean; can you put that in your sample input (and output, if it is supposed to be included?)"}, {"owner": {"reputation": 3, "user_id": 4065975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150b625839b54288c42b5faa33e48623?s=128&d=identicon&r=PG&f=1", "display_name": "said serty", "link": "https://stackoverflow.com/users/4065975/said-serty"}, "edited": false, "score": 0, "creation_date": 1423583331, "post_id": 28371022, "comment_id": 45201800, "body": "I put it; now i have to ignore lines between Start and Stop and take the same logic in other lines."}, {"owner": {"reputation": 3, "user_id": 4065975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150b625839b54288c42b5faa33e48623?s=128&d=identicon&r=PG&f=1", "display_name": "said serty", "link": "https://stackoverflow.com/users/4065975/said-serty"}, "edited": false, "score": 0, "creation_date": 1423645935, "post_id": 28371022, "comment_id": 45228662, "body": "thanks for the flipflop ysth; this is new for me I also do it with an if"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1423587576, "last_edit_date": 1423587576, "creation_date": 1423242483, "answer_id": 28371022, "question_id": 28368801, "link": "https://stackoverflow.com/questions/28368801/how-to-parse-specific-lines-in-perl/28371022#28371022", "title": "How to parse specific lines in perl?", "body": "<p>Pretty simple; you just need to keep track of whether you are currently in part of a matching multiline record, and use the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">flipflop operator (scalar context <code>..</code>)</a> to exclude the Start/End server ranges of lines:</p>\n\n<pre><code>open(my $fh, '&lt;', 'SystemOut_15.02.05_17.00.02.log') or die \"Error opening file : $!\";\nmy $match = 0;\nwhile ( my $line = &lt;$fh&gt; ) {\n    unless ( $line =~ /^\\*+ Start Server \\*+$/ .. $line =~ /^\\*+ End Server \\*+$/ ) { \n        if ( $line =~ /^\\[/ ) {\n            $match = $line =~ m/ E | W /;\n        }\n        print $line if $match;\n    }\n}\nclose $fh;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "is_accepted": false, "score": 1, "last_activity_date": 1423316930, "creation_date": 1423316930, "answer_id": 28382901, "question_id": 28368801, "link": "https://stackoverflow.com/questions/28368801/how-to-parse-specific-lines-in-perl/28382901#28382901", "title": "How to parse specific lines in perl?", "body": "<p>You'd probably benefit from reading the good code samples provided by the nice POE::Wheel::FollowTail guys available on <a href=\"http://poe.perl.org/?POE_Cookbook/Watching_Logs\" rel=\"nofollow\">Watching Logs</a> and <a href=\"http://poe.perl.org/?POE_Cookbook/Tail_Following_Web_Server\" rel=\"nofollow\">Tail following web server</a>.</p>\n\n<p>As your log file has multi-line records your task is not as simple as one would initially guess. You'll need to create a pattern to identify the beginning of record ([2/5/15 14:55:18:025 UTC] 0000003a JDBCException O ), I'd test if a <strong>DateTime String</strong> followed by <strong>HEX</strong> number and <strong>JDBCException</strong> inside brackets can be a safe choice, and if all lines starting with spaces are continuing the same record (this would require testing).</p>\n\n<p>You should probably only capture each record and send them to be processed by another event or even sending each record to be processed on a child process using something like <a href=\"https://metacpan.org/pod/POE::Wheel::Run\" rel=\"nofollow\">POE::Wheel::Run</a> for that, supposing you'd need to have both a lexical parser (log taillor) and a semantic parser (interpreting the log records).</p>\n\n<p>I am not aware of a multiline <a href=\"https://metacpan.org/pod/POE::Filter\" rel=\"nofollow\">filter</a>, but you'd probably benefit from reading the code of <a href=\"https://metacpan.org/pod/POE::Filter::RecordBlock\" rel=\"nofollow\">POE::Filter::RecordBlock</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 4065975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150b625839b54288c42b5faa33e48623?s=128&d=identicon&r=PG&f=1", "display_name": "said serty", "link": "https://stackoverflow.com/users/4065975/said-serty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 28371022, "answer_count": 2, "score": 0, "last_activity_date": 1423646078, "creation_date": 1423235496, "last_edit_date": 1423646078, "question_id": 28368801, "link": "https://stackoverflow.com/questions/28368801/how-to-parse-specific-lines-in-perl", "title": "How to parse specific lines in perl?", "body": "<p>I have alog from a application server, i need to get the line with \"E\" flag or \"W\", if there is a line after the flaged line i need to get it too.</p>\n\n<p>I try to figure out a script :</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $msg;\nmy $line;\nmy $line2;\nmain(@ARGV);\n\nsub rec {\n    #$msg= $line;\n    print $line;\n    while ( $line2 = &lt;FH&gt;) {\n        if ( $line2 !~ m/^\\[/ ){\n            #$msg = $msg.$line2;\n            print $line2;\n        } else {\n            if($line2 =~ m/ E | W /) { rec(); }\n            last;\n        }\n\n    }\n    #print $msg;\n}\nsub main {\n    open(FH,'SystemOut_15.02.05_17.00.02.log') or die \"Error openong file : $!\";\n    while ( $line = &lt;FH&gt;) {\n        if($line =~ m/ E | W / and $line =~ m/^\\[/){\n                rec();\n        }\n    }\n    close FH;\n  }\n</code></pre>\n\n<p>Thanks in advance.</p>\n\n<p>sample of log :</p>\n\n<pre><code>[2/5/15 14:55:18:025 UTC] 0000003a JDBCException W org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, S\nQLState: null\n*********************************************************** Start Server *******************************\n 0000003a JDBCException O OK\n 0000003a JDBCException O OK\n********************************************************** End Server *******************************\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException W org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, S\nQLState: null\n                                                    org.hibernate.util.JDBCExceptionReporter\n                                                    org.hibernate.util.JDBCExceptionReporter\n                                                    org.hibernate.util.JDBCExceptionReporter\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException E org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, S\nQLState: null\n                                                    org.hibernate.util.JDBCExceptionReporter\n                                                    org.hibernate.util.JDBCExceptionReporter\n                                                    org.hibernate.util.JDBCExceptionReporter\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException W org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, S\nQLState: null\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException E org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, S\nQLState: null\n                                                    org.hibernate.util.JDBCExceptionReporter\n                                                    org.hibernate.util.JDBCExceptionReporter\n                                                    org.hibernate.util.JDBCExceptionReporter\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException O OK\n</code></pre>\n\n<p>What i need to get :</p>\n\n<pre><code>    [2/5/15 14:55:18:025 UTC] 0000003a JDBCException W org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, S\nQLState: null\n[2/5/15 14:55:18:025 UTC] 0000003a JDBCException W org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, SQLState: null\n                                                        org.hibernate.util.JDBCExceptionReporter\n                                                        org.hibernate.util.JDBCExceptionReporter\n                                                        org.hibernate.util.JDBCExceptionReporter\n    [2/5/15 14:55:18:025 UTC] 0000003a JDBCException E org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, SQLState: null\n                                                        org.hibernate.util.JDBCExceptionReporter\n                                                        org.hibernate.util.JDBCExceptionReporter\n                                                        org.hibernate.util.JDBCExceptionReporter\n    [2/5/15 14:55:18:025 UTC] 0000003a JDBCException W org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, SQLState: null\n    [2/5/15 14:55:18:025 UTC] 0000003a JDBCException E org.hibernate.util.JDBCExceptionReporter logExceptions SQL Error: 17006, SQLState: null\n                                                        org.hibernate.util.JDBCExceptionReporter\n                                                        org.hibernate.util.JDBCExceptionReporter\n                                                        org.hibernate.util.JDBCExceptionReporter\n</code></pre>\n\n<p>one strong method to ignore lines between start and stop is to use the flipflop as indicated by ysth; other (weak) method :</p>\n\n<pre><code>open(my $fh, '&lt;', 'test2.log') or die \"Error opening file : $!\";\nmy $match = 0;\nwhile ( my $line = &lt;$fh&gt; ) {\n    if ( $line =~ /^\\*+/ ){\n        $match = 0;  ## initialize match if line start with star\n    }\n    if ( $line =~ /^\\[/ ) {\n          $match = $line =~ m/ E | W /;\n    }\n    print $line if $match;\n}\nclose $fh;\n</code></pre>\n"}, {"tags": ["regex", "perl", "network-programming", "cisco"], "comments": [{"owner": {"reputation": 531, "user_id": 1448902, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5822b2c222ce9df3b5b3a6d430325f82?s=128&d=identicon&r=PG", "display_name": "theglossy1", "link": "https://stackoverflow.com/users/1448902/theglossy1"}, "edited": false, "score": 0, "creation_date": 1423245083, "post_id": 28367963, "comment_id": 45083974, "body": "Just to verify that the asterisk isn&#39;t screwing things up, try changing it to something else that isn&#39;t also a key character in a regular expression, like an underscore, and see if it makes a difference..."}], "answers": [{"tags": [], "owner": {"reputation": 2078, "user_id": 2616428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ieQ7.jpg?s=128&g=1", "display_name": "pajaja", "link": "https://stackoverflow.com/users/2616428/pajaja"}, "is_accepted": false, "score": 0, "last_activity_date": 1423313882, "creation_date": 1423313882, "answer_id": 28382384, "question_id": 28367963, "link": "https://stackoverflow.com/questions/28367963/scripting-the-cisco-banner-with-netappliancesession/28382384#28382384", "title": "Scripting the cisco banner with Net::Appliance::Session", "body": "<p>If you look at the regexp that matches the prompt before sending a new command you'll see that it requires a specific string that closely matches user, privileged or config mode of a router.</p>\n\n<p>When you send the <code>banner login +</code> command you get the <code>Enter TEXT message.  End with the character '+'</code> followed by blank line from a router (instead of <code>Router(config)#</code> that your script expects. After a while it just times out since there is no match for the regexp.</p>\n\n<p>The easiest solution is to try to send the whole banner in one command. Try concatenating your banner with a <code>\\r</code> in one string and sending it as a one command that looks like (note the double quotes):</p>\n\n<pre><code>$session_obj-&gt;cmd(\"banner login + line1 \\r line2 \\r line3\\r +\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 613, "user_id": 571469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/721def7e724bf501bddd523a41ca58a2?s=128&d=identicon&r=PG", "display_name": "mrlayance", "link": "https://stackoverflow.com/users/571469/mrlayance"}, "is_accepted": true, "score": 0, "last_activity_date": 1423504181, "creation_date": 1423504181, "answer_id": 28416084, "question_id": 28367963, "link": "https://stackoverflow.com/questions/28367963/scripting-the-cisco-banner-with-netappliancesession/28416084#28416084", "title": "Scripting the cisco banner with Net::Appliance::Session", "body": "<p>Took way too long to figure this out...  spaces are not your friend.</p>\n\n<pre><code>$session_obj-&gt;cmd(\"banner login + \\rline1\\rline2\\rline3\\r+\");\n</code></pre>\n\n<p>Example with my orginal problem:</p>\n\n<pre><code>$session_obj-&gt;cmd('*************************************************************************\\r*                          test                                         *\\r*                                                                  *\\r*************************************************************************');\n</code></pre>\n"}], "owner": {"reputation": 613, "user_id": 571469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/721def7e724bf501bddd523a41ca58a2?s=128&d=identicon&r=PG", "display_name": "mrlayance", "link": "https://stackoverflow.com/users/571469/mrlayance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 28416084, "answer_count": 2, "score": -1, "last_activity_date": 1423504181, "creation_date": 1423232908, "last_edit_date": 1423316552, "question_id": 28367963, "link": "https://stackoverflow.com/questions/28367963/scripting-the-cisco-banner-with-netappliancesession", "title": "Scripting the cisco banner with Net::Appliance::Session", "body": "<p>Has anyone ran into this issue?  When the script gets to the banner text the script just hangs.  </p>\n\n<p>I am using <code>Net::Appliance::Session</code></p>\n\n<p>Here is the error I get in debug.  The rest of the script inserts code perfectly.  I did test what I read about adding a # to the banner for each line.  Same result.</p>\n\n<pre><code>banner login +\n[   4.092880] tr   nope, doesn't (yet) match (?-xism:[\\/a-zA-Z0-9._\\[\\]-]+ ?(?:\\(config[^)]*\\))? ?[#&gt;] ?$)\n[   4.093124] du   SEEN:\nbanner login +\n[   4.093304] tr   nope, doesn't (yet) match (?-xism:[\\/a-zA-Z0-9._\\[\\]-]+ ?(?:\\(config[^)]*\\))? ?[#&gt;] ?$)\n[   4.305872] du   SEEN:\nEnter TEXT message.  End with the character '+'\n[   4.306121] tr   nope, doesn't (yet) match (?-xism:[\\/a-zA-Z0-9._\\[\\]-]+ ?(?:\\(config[^)]*\\))? ?[#&gt;] ?$)\nWe had an issue when accessing the device : 10.49.216.74\nThe reported error was : read timed-out at /usr/lib/perl5/site_perl/5.10.0/Net/CLI/Interact/Transport/Wrapper/Net_Telnet.pm line 35\n</code></pre>\n\n<p>Here is a snip of code.</p>\n\n<pre><code>            my $session_obj = Net::Appliance::Session-&gt;new(\n                host =&gt; $ios_device_ip,\n                transport =&gt; 'Telnet',\n                personality =&gt; 'ios',\n                timeout =&gt; 60,\n        );\n\n#interace\n        $session_obj-&gt;set_global_log_at('debug');\n        eval {\n                 # try to login to the ios device, ignoring host check\n                $session_obj-&gt;connect(\n                username =&gt; $ios_username,\n                password =&gt; $ios_password,\n                #SHKC =&gt; 0\n        );\n        # get our running config\n        $version_info = $session_obj-&gt;begin_privileged;\n        $session_obj-&gt;cmd('conf t');\n        $session_obj-&gt;cmd('line con 0');\n        $session_obj-&gt;cmd('exec-character-bits 8');\n        $session_obj-&gt;cmd('international');\n        $session_obj-&gt;cmd('line vty 0 4');\n        $session_obj-&gt;cmd('exec-character-bits 8');\n        $session_obj-&gt;cmd('international');\n        $session_obj-&gt;cmd('line vty 5 15');\n        $session_obj-&gt;cmd('exec-character-bits 8');\n        $session_obj-&gt;cmd('international');\n        $session_obj-&gt;cmd('exit');\n        $session_obj-&gt;cmd('no banner login');\n        $session_obj-&gt;cmd('banner login +');\n        $session_obj-&gt;cmd('*************************************************************************');\n        $session_obj-&gt;cmd('*                          test                                         *');\n        $session_obj-&gt;cmd('*                                                                       *');\n        $session_obj-&gt;cmd('*************************************************************************');\n        $session_obj-&gt;cmd('+');\n        $session_obj-&gt;cmd('no banner MOTD');\n        $session_obj-&gt;cmd('banner motd +');\n        $session_obj-&gt;cmd('*************************************************************************');\n        $session_obj-&gt;cmd('*                          test                                         *');\n        $session_obj-&gt;cmd('*                                                                       *');\n        $session_obj-&gt;cmd('*************************************************************************');\n        $session_obj-&gt;cmd('+');\n        $session_obj-&gt;cmd('exit');\n        $session_obj-&gt;cmd('write memory');\n        $session_obj-&gt;end_privileged;\n        # close down our session\n        $session_obj-&gt;close;\n};\n</code></pre>\n"}, {"tags": ["perl", "spreadsheet", "import-from-excel"], "comments": [{"owner": {"reputation": 6715, "user_id": 70945, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4ef069c6258d4b4d35c4b3b39425376b?s=128&d=identicon&r=PG&f=1", "display_name": "weismat", "link": "https://stackoverflow.com/users/70945/weismat"}, "edited": false, "score": 2, "creation_date": 1423232428, "post_id": 28367500, "comment_id": 45076491, "body": "xls is a binary format - you will need sth like <a href=\"http://search.cpan.org/~dougw/Spreadsheet-ParseExcel-0.65/lib/Spreadsheet/ParseExcel.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~dougw/Spreadsheet-ParseExcel-0.65/lib/&hellip;</a> to read the binary format."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423240922, "post_id": 28367500, "comment_id": 45081776, "body": "What platform are you on? You can drive Excel using <code>Win32::OLE</code>. You can  also <i>probably</i> unpick an <code>xlsx</code> because that&#39;s a zip file holding XML."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 3930179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8accad02d8b7e05b7b0f769d79a71999?s=128&d=identicon&r=PG&f=1", "display_name": "chaya", "link": "https://stackoverflow.com/users/3930179/chaya"}, "edited": false, "score": 0, "creation_date": 1423233668, "post_id": 28368109, "comment_id": 45077236, "body": "I have tried above code  I am getting following error :                                        Can&#39;t locate Spreadsheet/ParseExcel.pm in @INC (@INC contains: /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/site_perl/5.8.8 /usr/lib/perl5/site_perl /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.8 /usr/lib/perl5/vendor_perl /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi /usr/lib/perl5/5.8.8 .) at excel.pl line 3."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1423234179, "post_id": 28368109, "comment_id": 45077572, "body": "Yes. Spreadsheet::ParseExcel is a CPAN module. You&#39;ll need to install it. Also, you might consider upgrading your version of Perl. 5.8.8 was released nine years ago. The current version is 5.20."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1423234378, "post_id": 28368109, "comment_id": 45077699, "body": "It means you don&#39;t have installed Spreadsheet::ParseExcel module in your system. Have a look on this how to install perl modules: <a href=\"http://www.cpan.org/modules/INSTALL.html\" rel=\"nofollow noreferrer\">cpan.org/modules/INSTALL.html</a>"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1423233315, "creation_date": 1423233315, "answer_id": 28368109, "question_id": 28367500, "link": "https://stackoverflow.com/questions/28367500/spread-sheet-file-reading-into-database-in-perl-script/28368109#28368109", "title": "Spread sheet file reading into database in Perl script", "body": "<p>CPAN module <code>Spreadsheet::ParseExcel</code> is your friend to read excel.\nFrom doc :    </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Spreadsheet::ParseExcel;\nmy $parser   = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook = $parser-&gt;parse('Book1.xls');\nif ( !defined $workbook )\n{\n    die $parser-&gt;error(), \".\\n\";\n}\nfor my $worksheet ( $workbook-&gt;worksheets() )\n{\n    my ( $row_min, $row_max ) = $worksheet-&gt;row_range();\n    my ( $col_min, $col_max ) = $worksheet-&gt;col_range();\n\n    for my $row ( $row_min .. $row_max )\n    {\n        for my $col ( $col_min .. $col_max )\n        {\n            my $cell = $worksheet-&gt;get_cell( $row, $col );\n            next unless $cell;\n\n            print \"Row, Col    = ($row, $col)\\n\";\n            print \"Value       = \", $cell-&gt;value(),       \"\\n\";\n            print \"Unformatted = \", $cell-&gt;unformatted(), \"\\n\";\n            print \"\\n\";\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "is_accepted": false, "score": 0, "last_activity_date": 1423317548, "creation_date": 1423317548, "answer_id": 28383004, "question_id": 28367500, "link": "https://stackoverflow.com/questions/28367500/spread-sheet-file-reading-into-database-in-perl-script/28383004#28383004", "title": "Spread sheet file reading into database in Perl script", "body": "<p>You'd probably benefit from the good work shared on CPAN for that: <a href=\"https://metacpan.org/search?q=Excel&amp;size=20\" rel=\"nofollow\">enter link description here</a>. If you are using a GNU/Linux OS you may check what modules are available as compiled packages (i.e. you can install using aptitude or emerge or MacPorts for example). </p>\n\n<p>Also you'd need to consider that Excel is a software supporting several spreadsheet formats, with several versions for each. </p>\n\n<p>In some business scenarios you may consider connecting your spreadsheets to some RDBMS server so the excel files turns into a frontend to a shared data store. </p>\n"}], "owner": {"reputation": 353, "user_id": 3930179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8accad02d8b7e05b7b0f769d79a71999?s=128&d=identicon&r=PG&f=1", "display_name": "chaya", "link": "https://stackoverflow.com/users/3930179/chaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1423317548, "creation_date": 1423231426, "last_edit_date": 1423232467, "question_id": 28367500, "link": "https://stackoverflow.com/questions/28367500/spread-sheet-file-reading-into-database-in-perl-script", "title": "Spread sheet file reading into database in Perl script", "body": "<p>I am new to perl. I need to read the excel file and insert into Database.. Here is my trial code :</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse DBI;\nuse warnings;\nmy $dbh = DBI-&gt;connect(\"DBI:mysql:database=afscp;host=135.75.60.120;    mysql_socket=/var/lib/mysql/mysql.sock\",\"blrdev_rw\",\"W.mZk8\", {'RaiseError'  =&gt; 1});\nmy $insert_table_2= $dbh-&gt;prepare(q{INSERT INTO employee_perl  (emp_id,first_nm,last_nm,team_code) VALUES (?, ?,?,?)}) or die $dbh-&gt;errstr;\nopen (FILE, \"Excel/Book1.xls\") or die \"Couldn't read file: $!\"; \n\nwhile (&lt;FILE&gt;)\n    {\n        chomp;\n        my @fields = split(',', $_);\n\n        my $emp_id = shift(@fields);\n        my $fname = shift(@fields);\n        my $lname = shift(@fields);\n       my $team_code = shift(@fields);      \n       $insert_table_2-&gt;execute($emp_id,$fname,$lname,$team_code) or   die        $dbh-&gt;errstr;\n    }\n\nclose (FILE);  \n$dbh-&gt;disconnect();\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 59167, "user_id": 134713, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/5143bb3f979be36f8508d2605b215a4d?s=128&d=identicon&r=PG", "display_name": "Vijay", "link": "https://stackoverflow.com/users/134713/vijay"}, "edited": false, "score": 0, "creation_date": 1423225671, "post_id": 28365558, "comment_id": 45072681, "body": "the line seems to be a junk. you are extracting values on both LHS and RHS which has no meaning."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423225734, "post_id": 28365558, "comment_id": 45072712, "body": "Not completely - calling <code>keys</code> in a void context does do <i>something</i> but I very much doubt it&#39;s what the original coder intended."}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1423226781, "post_id": 28365990, "comment_id": 45073227, "body": "More on keys/bucket topic <a href=\"http://stackoverflow.com/questions/6723172/what-is-4-16-in-hashes\" title=\"what is 4 16 in hashes\">stackoverflow.com/questions/6723172/what-is-4-16-in-hashes</a>"}, {"owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 0, "creation_date": 1423228685, "post_id": 28365990, "comment_id": 45074326, "body": "<a href=\"http://blog.codinghorror.com/code-tells-you-how-comments-tell-you-why/\" rel=\"nofollow noreferrer\">This article</a> comes to mind, particularly the final point."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 0, "creation_date": 1423228918, "post_id": 28365990, "comment_id": 45074444, "body": "@RobEarl you mean, to explain above why one would like to manually assign number of buckets in the first place?"}, {"owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 2, "creation_date": 1423229194, "post_id": 28365990, "comment_id": 45074595, "body": "No, to tell other programmers that&#39;s what the code is doing"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1423334997, "post_id": 28365990, "comment_id": 45109653, "body": "@\u0421\u0443\u0445\u043e\u043927 if you just create a hash a default number of buckets are allocated. If you assign values into it, it may eventually need to allocate more buckets, at which point every key will need to be rehashed across the new set of buckets. If you keep adding keys this may happen again. Also, I <i>think</i> when bucket allocation is increased it is always doubled, which might waste memory. Having said that, the pre-allocation of buckets is not commonly used and is likely to be a premature optimisation"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1423335400, "post_id": 28365990, "comment_id": 45109796, "body": "@GrantMcLean also, it is unclear what big means in <code>This can gain you a measure of efficiency if you know the hash is going to get big. </code>"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 8, "last_activity_date": 1423229190, "last_edit_date": 1592644375, "creation_date": 1423226353, "answer_id": 28365990, "question_id": 28365558, "link": "https://stackoverflow.com/questions/28365558/what-is-the-meaning-of-this-line-keyss-c-fields/28365990#28365990", "title": "What is the meaning of this line keys(%S)=@C_fields;?", "body": "<p><code>keys(%S)=@C_fields;</code> is identical to <code>keys(%S) = scalar @C_fields;</code></p>\n<p>and from <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\"><code>perldoc -f keys</code></a></p>\n<blockquote>\n<p>Used as an lvalue, keys allows you to <strong>increase the number of hash buckets allocated for the given hash</strong>. This can gain you a measure of efficiency if you know the hash is going to get big. (This is similar to pre-extending an array by assigning a larger number to $#array.) If you say</p>\n<p><code>keys %hash = 200;</code></p>\n<p>then %hash will have at least 200 buckets allocated for it--256 of them, in fact, since it rounds up to the next power of two.</p>\n</blockquote>\n<p>So hash <code>%S</code> will get number of buckets which are at least size of <code>@C_fields</code> array.</p>\n"}], "owner": {"reputation": 107, "user_id": 2563207, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/38c892b99c2da139679efe8ca65e5053?s=128&d=identicon&r=PG", "display_name": "user2563207", "link": "https://stackoverflow.com/users/2563207/user2563207"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1423229190, "creation_date": 1423224728, "question_id": 28365558, "link": "https://stackoverflow.com/questions/28365558/what-is-the-meaning-of-this-line-keyss-c-fields", "title": "What is the meaning of this line keys(%S)=@C_fields;?", "body": "<p>I have one general question in Perl.What is the meaning of below line  </p>\n\n<pre><code>keys(%S)=@C_fields; \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 24943, "user_id": 19784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611fd46d3d001c7c6b047468de453b18?s=128&d=identicon&r=PG", "display_name": "Kyle Burton", "link": "https://stackoverflow.com/users/19784/kyle-burton"}, "edited": false, "score": 1, "creation_date": 1423226667, "post_id": 28365469, "comment_id": 45073168, "body": "Those lines of output are not the error - they are make telling you that an earlier part of the build failed.  You should have more information that proceeded those 4 lines, can you post them?"}, {"owner": {"reputation": 521, "user_id": 4457122, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8d5207dec465f5def6e98789ac366851?s=128&d=identicon&r=PG&f=1", "display_name": "anand", "link": "https://stackoverflow.com/users/4457122/anand"}, "reply_to_user": {"reputation": 24943, "user_id": 19784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611fd46d3d001c7c6b047468de453b18?s=128&d=identicon&r=PG", "display_name": "Kyle Burton", "link": "https://stackoverflow.com/users/19784/kyle-burton"}, "edited": false, "score": 0, "creation_date": 1423462769, "post_id": 28365469, "comment_id": 45142412, "body": "this outcome come while compiling  IPTables::IPv4 module in ubuntu 12.04 while configuration of packetfence, please follow this link for clear visualization:   <a href=\"http://stackoverflow.com/questions/6649078/perl-iptables-module-installation-error\" title=\"perl iptables module installation error\">stackoverflow.com/questions/6649078/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 4457122, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8d5207dec465f5def6e98789ac366851?s=128&d=identicon&r=PG&f=1", "display_name": "anand", "link": "https://stackoverflow.com/users/4457122/anand"}, "edited": false, "score": 0, "creation_date": 1455731822, "post_id": 28408592, "comment_id": 58624195, "body": "Issue was with version, its solved"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1423481019, "creation_date": 1423481019, "answer_id": 28408592, "question_id": 28365469, "link": "https://stackoverflow.com/questions/28365469/error-installing-perl-module-iptablesipv4/28408592#28408592", "title": "Error installing perl module IPTables::IPv4", "body": "<p>This is a problem with a module building, not a perl fault. The place to address that would really be with the module 'owner'. </p>\n\n<p>You can find test reports:</p>\n\n<p><a href=\"http://static.cpantesters.org/distro/I/IPTables-IPv4.html\" rel=\"nofollow\">http://static.cpantesters.org/distro/I/IPTables-IPv4.html</a></p>\n\n<p>And module ratings:\n<a href=\"http://cpanratings.perl.org/dist/IPTables-IPv4\" rel=\"nofollow\">http://cpanratings.perl.org/dist/IPTables-IPv4</a></p>\n\n<p>This would seem to imply that this module isn't finished and working, so you're on a road to nowhere. You may need to seek alternatives. (Or roll up your sleeves and take on the challenge of writing one yourself). </p>\n"}], "owner": {"reputation": 521, "user_id": 4457122, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8d5207dec465f5def6e98789ac366851?s=128&d=identicon&r=PG&f=1", "display_name": "anand", "link": "https://stackoverflow.com/users/4457122/anand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "closed_date": 1423658361, "accepted_answer_id": 28408592, "answer_count": 1, "score": -3, "last_activity_date": 1423481019, "creation_date": 1423224406, "last_edit_date": 1423225521, "question_id": 28365469, "link": "https://stackoverflow.com/questions/28365469/error-installing-perl-module-iptablesipv4", "closed_reason": "Duplicate", "title": "Error installing perl module IPTables::IPv4", "body": "<p>While installing perl module <code>IPTables::IPv4</code>, I got stuck with this error:  </p>\n\n<pre><code>make[1]: *** [libip4tc.o] Error 1 \nmake[1]: Leaving directory `/root/.cpan/build/IPTables-IPv4-0.98/libiptc' \nmake: *** [libiptc/libiptc.a] Error 2 \n/usr/bin/make -- NOT OK \n</code></pre>\n\n<p>Does anyone know how to fix this?</p>\n"}, {"tags": ["perl", "io-redirection"], "comments": [{"owner": {"reputation": 5054, "user_id": 548515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55624bebc921a03713d00a91c9e58a36?s=128&d=identicon&r=PG", "display_name": "Hans Lub", "link": "https://stackoverflow.com/users/548515/hans-lub"}, "edited": false, "score": 1, "creation_date": 1423226901, "post_id": 28364807, "comment_id": 45073306, "body": "Very OK question. In general: don&#39;t use tag names (&quot;perl&quot;) in your title. I changed the title to state the programming problem, instead of the effect you want to achieve with it."}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1423256374, "post_id": 28365048, "comment_id": 45089758, "body": "<code>system</code> calls always write to file descriptors 1 and 2. These usually correspond to <code>STDOUT</code> and <code>STDERR</code> in Perl, but it is possible to manipulate them to map to other file descriptors."}, {"owner": {"reputation": 839, "user_id": 2261349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e843e82fbb2a5a476808321e72c720c?s=128&d=identicon&r=PG", "display_name": "Znik", "link": "https://stackoverflow.com/users/2261349/znik"}, "edited": false, "score": 0, "creation_date": 1483617619, "post_id": 28365048, "comment_id": 70173886, "body": "not exactly. manipulation with STDOUT &amp; STDERR give any effect only on most internat printings inside Perl. Unfortunately it doesn&#39;t affect externally called commands. Only physically reopenning works everywhere, system streams 1 &amp; 2 must be reopenned and assigned into selected stream, file, terminal or .... /dev/null  ."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1423223035, "creation_date": 1423223035, "answer_id": 28365048, "question_id": 28364807, "link": "https://stackoverflow.com/questions/28364807/redirecting-stdout-and-stderr-to-a-file-except-for-standard-output-error-of-sys/28365048#28365048", "title": "Redirecting STDOUT and STDERR to a file, except for standard output/error of system()", "body": "<p>Given you're reassigning <code>STDIN</code> and <code>STDOUT</code> then the short answer is no. You're capturing <em>everything</em> on <code>STDOUT</code> which includes your intermediate output.</p>\n\n<p>You could probably close/reopen <code>STDOUT</code> for the bit where you didn't want it logging. \nBut I'd suggest instead that you might want to consider what you're trying to accomplish - would a 'print_and_log' subroutine do what you're after? </p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423225959, "post_id": 28365805, "comment_id": 45072815, "body": "Hmm, nice line of thinking. Hadn&#39;t considered that approach. Certainly would lend itself to some more complicated tasks well."}, {"owner": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "edited": false, "score": 0, "creation_date": 1423491134, "post_id": 28365805, "comment_id": 45156859, "body": "Thanks, this worked wonderfully. It took some time to capture return value of the shell script (exit EXITCODE), but using $? &gt;&gt; 255 helped along with using eval like you suggested.."}], "tags": [], "owner": {"reputation": 5054, "user_id": 548515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55624bebc921a03713d00a91c9e58a36?s=128&d=identicon&r=PG", "display_name": "Hans Lub", "link": "https://stackoverflow.com/users/548515/hans-lub"}, "is_accepted": true, "score": 4, "last_activity_date": 1423226343, "last_edit_date": 1423226343, "creation_date": 1423225565, "answer_id": 28365805, "question_id": 28364807, "link": "https://stackoverflow.com/questions/28364807/redirecting-stdout-and-stderr-to-a-file-except-for-standard-output-error-of-sys/28365805#28365805", "title": "Redirecting STDOUT and STDERR to a file, except for standard output/error of system()", "body": "<p>I agree with  Sobrique's advice to use a special function <code>print_and_log</code>. But if you <em>really</em> want to do it the way you set out to do, you can <code>dup</code>  <code>STDOUT</code> and <code>STDERR</code>, redirect them to your log and then use <code>open3</code> to run your tool with the dup'ed original standard output and error file descriptors</p>\n\n<pre><code>use  IPC::Open3;\n\n# dup the old standard output and error \nopen(OLDOUT, \"&gt;&amp;STDOUT\") or die \"Can't dup STDOUT: $!\\n\";\nopen(OLDERR, \"&gt;&amp;STDERR\") or die \"Can't dup STDERR: $!\\n\";\n\n# reopen stdout and stderr\nopen (STDOUT, \"|tee $transcript_file\") or die \"Can't reopen STDOUT: $!\\n\";\nopen (STDERR, \"&gt;&amp;STDOUT\")              or die \"Can't reopen STDERR: $!\\n\";\n\n# print statements now write to log\nprint \"Logging important info: blah!\\n\";\nprint STDERR \"OOPS!\\n\";\n\n# run your command; output will go to original stdout\n# this will die() instead of returning say -1, so use eval() to catch errors\nmy $pid = open3(\"&gt;&amp;OLDOUT\", \"&lt;&amp;STDIN\", \"&gt;&amp;OLDERR\", $command); \n\n# wash those dishes....\nwaitpid( $pid, 0 );\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 28365805, "answer_count": 2, "score": 3, "last_activity_date": 1423227146, "creation_date": 1423222236, "last_edit_date": 1423227146, "question_id": 28364807, "link": "https://stackoverflow.com/questions/28364807/redirecting-stdout-and-stderr-to-a-file-except-for-standard-output-error-of-sys", "title": "Redirecting STDOUT and STDERR to a file, except for standard output/error of system()", "body": "<p>I am trying to run a Perl script in Linux and log all output to STDOUT and STDERR to a file using:</p>\n\n<pre><code>open (STDOUT, \"| tee -i $transcript_file\");\nopen (STDERR, \"| tee -ai $transcript_file\");\n</code></pre>\n\n<p>The script that uses this works roughly as follows:</p>\n\n<ol>\n<li>Create an environment for running a tool. Has many <code>print</code>, <code>warn</code> and possibly <code>die</code> statements.</li>\n<li>Run the tool (Currently using <code>system</code> command). This produces a lot of output which I want to appear on STDOUT, but not in the logfile (The tool creates its own logfile).</li>\n<li>Analyze the results, cleanup and exit. Has many <code>print</code>, <code>warn</code> and possibly <code>die</code> statements.</li>\n</ol>\n\n<p>Everything works correctly except I would like to exclude the output of step 2 from the log. Is there a simple way to achieve this?</p>\n\n<p>Thanks,</p>\n\n<p>PS: This is my first question on stackoverflow. Please help me in asking questions correctly if I have not done so.</p>\n"}, {"tags": ["windows", "perl", "ntfs"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1423218941, "post_id": 28363759, "comment_id": 45069168, "body": "Do you get any error messages?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1423219025, "post_id": 28363759, "comment_id": 45069214, "body": "Know issue on Windows: <a href=\"http://stackoverflow.com/questions/1880321/why-does-the-260-character-path-length-limit-exist-in-windows\" title=\"why does the 260 character path length limit exist in windows\">stackoverflow.com/questions/1880321/&hellip;</a>"}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423219952, "post_id": 28363759, "comment_id": 45069752, "body": "@Sobrique, this <i>max path length</i> is a Windows issue, not an NTFS issue. <code>Win32::LongPath</code> is specifically designed to get around the Windows issue and use the full potential of NTFS. Besides, the script will create the directories until their length is 255 characters, it just seems impossible to create a file within the directories."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1423270244, "post_id": 28363759, "comment_id": 45094643, "body": "Try using backslashes rather than forward slashes; Windows long path support doesn&#39;t allow forward slashes.  (Of course, Win32::LongPath might be doing the conversion for you.)"}], "answers": [{"comments": [{"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 0, "creation_date": 1423461946, "post_id": 28378292, "comment_id": 45142183, "body": "This is exactly it: I/Perl created the files, but tried to look at them using <i>file explorer</i> (which, as you pointed out, and I should have known) a pointless, futile excersice."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 4, "last_activity_date": 1423318591, "last_edit_date": 1592644375, "creation_date": 1423280504, "answer_id": 28378292, "question_id": 28363759, "link": "https://stackoverflow.com/questions/28363759/creating-a-file-using-perl-on-windows-in-a-directory-the-length-of-whose-name-ex/28378292#28378292", "title": "Creating a file using Perl on Windows in a directory the length of whose name exceeds 220 characters", "body": "<h2>TL;DR</h2>\n<p>The root of your problem is the method by which you are trying to verify that the files have been created. For more information, read the detailed explanation below.</p>\n<p>Here are the facts:</p>\n<ol>\n<li><code>perl</code> does not give any errors when using <code>mkdirL</code> or <code>openL</code> calls.</li>\n<li><code>perl</code> can open files created, and read the contents, using <code>openL</code>.</li>\n</ol>\n<p>Therefore the problem is due to the fact that whatever tool you are using, is either using ANSI versions of Windows API calls, or specifying relative paths, or a combination of both, and therefore their paths are restricted to 260 characters.</p>\n<p>To test this, I ran the script under <code>D:\\t</code>. Lo and behold, GVim failed to open a file when <code>$i = 250</code>:</p>\n<p><img src=\"https://i.stack.imgur.com/1aiHy.png\" alt=\"With run under D:\\t, GVim fails to open file at $i=250\" /></p>\n<p><code>D:\\t</code> is four characters, <code>\\test</code> is another five. Therefore, 250 + 9 = <strong>259</strong>, which hits <strong>260</strong> the moment you add another <code>\\</code>.</p>\n<h3>Using <code>shortpathL</code></h3>\n<p>Try this:</p>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Win32::LongPath;\n\n`cmd /c rd /s /q test`;\n\nmkdirL('test') or die &quot;$^E&quot;;\n\nmy $dir_length = 255;\nmy $dir_name = 'test/'\n             . sprintf(&quot;%04d&quot;, $dir_length)\n             . ('a' x ($dir_length - 4))\n;\n\nmkdirL($dir_name) or die &quot;$^E&quot;;\n\nmy $file_name = &quot;$dir_name/&quot; . ('z' x 200) . '.txt';\n\nprintf &quot;% 3d\\n&quot;, length $file_name;\n\nopenL(\\my $fh, '&gt;', $file_name) or die &quot;$^E&quot;;\n\nprint $fh &quot;Hello!\\n&quot; or die &quot;$^E&quot;;\n\nclose $fh or die &quot;$^E&quot;;\n\nsystem 'notepad.exe', shortpathL($file_name);\n</code></pre>\n<p>You will get:</p>\n<p><img src=\"https://i.stack.imgur.com/qS6wL.png\" alt=\"Notepad can open when given short path\" /></p>\n<p>Therefore, give the short path to any external programs which you cannot rely on to use the Unicode interface.</p>\n<h3>Long winded explanation</h3>\n<p>Now that I have had a chance to actually try this on a <a href=\"http://blog.nu42.com/2014/11/64-bit-perl-5201-with-visual-studio.html\" rel=\"nofollow noreferrer\">64-bit Windows 8.1 system</a>, I cannot replicate the problem.</p>\n<p>Here is the code I used:</p>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Win32::LongPath;\n\n`cmd /c rd /s /q test`;\n\nmkdirL('test')\n    or die &quot;$^E&quot;;\n\nfor my $i (200 .. 255) {\n    my $dir_name = 'test/' . sprintf(&quot;%04d&quot;, $i) . ('a' x ($i-4));\n    mkdirL($dir_name) or die &quot;$^E&quot;;\n\n    my $file_name = &quot;$dir_name/&quot; . ('_' x 200) . '.txt';\n\n    printf &quot;% 3d\\n&quot;, length $file_name;\n\n    openL(\\my $fh, '&gt;', $file_name)\n        or die &quot;$^E&quot;;\n\n    print $fh 'Hello!' or die &quot;$^E&quot;;\n\n    close $fh or die &quot;$^E&quot;;\n}\n</code></pre>\n<p>Here is the output:</p>\n<pre>C:\\&hellip;\\Temp> perl tt.pl          \n 410                                                   \n 411                                                   \n 412                                                   \n 413                                                   \n 414                                                   \n 415                                                   \n&hellip;\n 460    \n 461    \n 462    \n 463    \n 464    \n 465</pre>\n<p>I am also attaching a couple of screenshots:</p>\n<p><img src=\"https://i.stack.imgur.com/mnngs.png\" alt=\"Explorer window showing the directories created\" /></p>\n<p><img src=\"https://i.stack.imgur.com/CbYoF.png\" alt=\"GVim Window showing one of the files\" /></p>\n<p>Now, I can report that Explorer has trouble navigating into any directory after <code>C:\\...\\Temp\\test\\0220aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</code></p>\n<p>and GVim cannot open files in subsequent directories. That is, <code>system 'c:/.../gvim.exe', $file_name;</code> issued from within the script results in</p>\n<p><img src=\"https://i.stack.imgur.com/qf7JD.png\" alt=\"GVim having trouble with 221 character directory name\" /></p>\n<p>Presumably GVim runs into the following from <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">Naming Files, Paths, and Namespaces</a></p>\n<blockquote>\n<p>Because you cannot use the <code>&quot;\\\\?\\&quot;</code> prefix with a relative path, relative paths are always limited to a total of MAX_PATH characters.</p>\n</blockquote>\n<p>By coincidence, the length of the path of my <code>%TEMP%</code> directory happens to be 33 characters. Add to that 5 (length of <code>\\test</code>), and we have 38. Add that to 221, and we get <strong>259</strong>. Now, the moment you add a directory separator to that string, you hit <strong>260</strong>.</p>\n<p>Which brings me to, <em><strong>what is the length of the full path of the working directory under which you are creating <code>test</code>?</strong></em></p>\n<p>In better news, <code>perl</code> is able to read back everything written:</p>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Win32::LongPath;\n\n`cmd /c rd /s /q test`;\n\nmkdirL('test')\n    or die &quot;$^E&quot;;\n\nfor my $i (220 .. 255) {\n    my $dir_name = 'test/' . sprintf(&quot;%04d&quot;, $i) . ('a' x ($i-4));\n    mkdirL($dir_name) or die &quot;$^E&quot;;\n\n    my $file_name = &quot;$dir_name/&quot; . ('_' x 200) . '.txt';\n\n    printf &quot;% 3d\\n&quot;, length $file_name;\n\n    openL(\\my $fh, '&gt;', $file_name)\n        or die &quot;$^E&quot;;\n\n    print $fh 'Hello!' or die &quot;$^E&quot;;\n\n    close $fh or die &quot;$^E&quot;;\n\n    openL(\\my $in, '&lt;', $file_name)\n        or die &quot;$^E&quot;;\n\n    print &lt;$in&gt;, &quot;\\n&quot; or die &quot;$^E&quot;;\n\n    close $in or die &quot;$^E&quot;;\n}\n</code></pre>\n<p>outputs:</p>\n<pre>&hellip;\n 459  \nHello!\n 460  \nHello!\n 461  \nHello!\n 462  \nHello!\n 463  \nHello!\n 464  \nHello!\n 465  \nHello!</pre>\n<p>Because <code>Win32::LongPath</code> internally normalizes paths so they follow the &quot;<em>To specify an extended-length path, use the <code>&quot;\\\\?\\&quot;</code> prefix</em>&quot; recommendation, and then uses the Unicode version of API calls, e.g. <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa363858%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">CreateFileW</a>, <code>openL</code> does not run into such issues.</p>\n<blockquote>\n<p>In the ANSI version of this function, the name is limited to <code>MAX_PATH</code> characters. To extend this limit to 32,767 wide characters, call the Unicode version of the function and prepend <code>&quot;\\\\?\\&quot;</code> to the path. For more information, see <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">Naming Files, Paths, and Namespaces</a>.</p>\n</blockquote>\n<p><em><strong>How are you verifying if the files have been correctly created?</strong></em></p>\n<p>Also, see &quot;<a href=\"https://stackoverflow.com/questions/10119108/why-is-perl-system-call-failing-to-invoke-internal-windows-command/10122803#10122803\">Why is Perl system call failing to invoke internal Windows command?</a>&quot; for the explanation of <a href=\"https://stackoverflow.com/questions/10119108/why-is-perl-system-call-failing-to-invoke-internal-windows-command/10122803#10122803\"><code>qx{cmd /c rd /s /q test}</code></a></p>\n"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 1, "accepted_answer_id": 28378292, "answer_count": 1, "score": 5, "last_activity_date": 1423318591, "creation_date": 1423218814, "last_edit_date": 1495535123, "question_id": 28363759, "link": "https://stackoverflow.com/questions/28363759/creating-a-file-using-perl-on-windows-in-a-directory-the-length-of-whose-name-ex", "title": "Creating a file using Perl on Windows in a directory the length of whose name exceeds 220 characters", "body": "<p>I'm experiencing a problem where I cannot create a file under a directory the length of whose name exceeds 220 characters.</p>\n\n<p>The following is a test script that reproduces the observed behavior, at least on my machine:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Win32::LongPath;\n\nprint system ('rmdir /s /q test');\nmkdirL('test');\n\nfor my $i (200 .. 255) {\n\n  my $dir_name = 'test/' . sprintf(\"%04d\", $i) . ('a' x ($i-4));\n  mkdirL($dir_name);\n\n  openL(\\my $fh, '&gt;', \"$dir_name/\" . ('_' x 200) . '.txt') or die \"$^E\";\n  print $fh 'Hello!';\n# closeL $fh;\n}\n</code></pre>\n\n<p>This script will create a <code>_________.....___.txt</code> file under <code>0220aaaa...aaa/</code> but not under <code>0221aaaa...aaa/</code>.</p>\n\n<p>Is there a reason for this problem and how can I change the script so that the <code>*.txt</code> file is created in all directories?</p>\n\n<h3>Update:</h3>\n\n<p>The script, when run, doesn't die or produce any error messages.</p>\n\n<h3>Update 2:</h3>\n\n<p>This question does <em>not</em> already have an answer in <a href=\"https://stackoverflow.com/questions/1880321/why-does-the-260-character-path-length-limit-exist-in-windows\">Why does the 260 character path length limit exist in Windows?</a> As the other question, and its answers, clearly show, this path length limit is a Windows issue, not an <em>NTFS</em> issue. NTFS allows paths with a length of up to 32K characters.</p>\n\n<p>In fact, my test script is able to create directories up to 255 characters (as expected from the NTFS specification), it just seems impossible to store files within a directory when the directory name is longer than 220 characters.</p>\n"}, {"tags": ["apache", "perl", "cgi"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423219827, "post_id": 28363478, "comment_id": 45069680, "body": "Displaying your file rather than running it means that apache is treating it as &#39;readable&#39; rather than &#39;runnable&#39;. I can&#39;t answer your question directly, but would suggest you double check you script aliases, and that you&#39;ve done a config test  (and I know it&#39;s daft,  but you did restart apache right?)"}, {"owner": {"reputation": 19585, "user_id": 3115685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206073fe8f46ef1f9261d75c80c19c6f?s=128&d=identicon&r=PG&f=1", "display_name": "arco444", "link": "https://stackoverflow.com/users/3115685/arco444"}, "edited": false, "score": 0, "creation_date": 1423220818, "post_id": 28363478, "comment_id": 45070217, "body": "Are you trying to use a CGI script written in Perl or <code>mod_perl</code>? They are two different things and execute files differently. If using the first method, make sure the file is executable and follow instructions from <a href=\"http://httpd.apache.org/docs/2.4/mod/mod_alias.html#scriptalias\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1423239097, "post_id": 28363478, "comment_id": 45080629, "body": "&quot;I&#39;ve made a toto.php, and it works, I can execute my page. So the other CGI should work, no ?&quot; \u2014 PHP generally runs with mod_php, not CGI."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423244267, "post_id": 28363478, "comment_id": 45083559, "body": "Questions about setting up a web server do not belong on StackOverflow. (They belong on <a href=\"http://serverfault.com/?\">serverfault.com/?</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": false, "score": 0, "last_activity_date": 1423239043, "creation_date": 1423239043, "answer_id": 28369997, "question_id": 28363478, "link": "https://stackoverflow.com/questions/28363478/how-to-make-apache-execute-a-cgi-smokeping-rather-than-display-it-but-it-wo/28369997#28369997", "title": "How to make Apache execute a CGI (smokeping) rather than display it ? (but it works for PHP)", "body": "<p>Have you set up the appropriate file association in your Apache config?</p>\n\n<pre><code>AddHandler cgi-script .cgi .pl \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 1899523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62f19f7436b12bc44fc5f6b5cbfe4e59?s=128&d=identicon&r=PG", "display_name": "Antoine", "link": "https://stackoverflow.com/users/1899523/antoine"}, "is_accepted": true, "score": 0, "last_activity_date": 1423475210, "creation_date": 1423475210, "answer_id": 28406780, "question_id": 28363478, "link": "https://stackoverflow.com/questions/28363478/how-to-make-apache-execute-a-cgi-smokeping-rather-than-display-it-but-it-wo/28406780#28406780", "title": "How to make Apache execute a CGI (smokeping) rather than display it ? (but it works for PHP)", "body": "<p>@arco444 I don't know if it was written for CGI or mod_perl, but it seams that with mod_perl it's working.</p>\n\n<p>After many try, it's able to execute my code with this option (they were either .cgi nor .pl extension) :</p>\n\n<pre><code>&lt;Directory /var/www/html/smokeping/ &gt;\n        SetHandler cgi-script\n        Options ExecCGI\n&lt;/Directory&gt;\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 1899523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/62f19f7436b12bc44fc5f6b5cbfe4e59?s=128&d=identicon&r=PG", "display_name": "Antoine", "link": "https://stackoverflow.com/users/1899523/antoine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 0, "accepted_answer_id": 28406780, "answer_count": 2, "score": 0, "last_activity_date": 1423475210, "creation_date": 1423218036, "question_id": 28363478, "link": "https://stackoverflow.com/questions/28363478/how-to-make-apache-execute-a-cgi-smokeping-rather-than-display-it-but-it-wo", "title": "How to make Apache execute a CGI (smokeping) rather than display it ? (but it works for PHP)", "body": "<p>I'm under a Redhat 5.11 and try to use Smokeping (a Perl CGI) into apache.</p>\n\n<p>Whatever the change I make, the source code of smokeping is displayed rather than executed :</p>\n\n<ul>\n<li>I have already followed this documentation : <a href=\"http://httpd.apache.org/docs/2.2/fr/howto/cgi.html\" rel=\"nofollow\">http://httpd.apache.org/docs/2.2/fr/howto/cgi.html</a></li>\n<li>mod_perl, mod_alias and mod_cgi seams installed (I can see perl_module (shared),  alias_module (shared) and cgi_module (shared), when I run httpd -M)</li>\n<li>I've made a toto.php, and it works, I can execute my page. So the other CGI should work, no ? I have placed this file in the exact same path as smokeping, in the path of my conf.d/smokeping.conf configuration (ScriptAlias /cgi-bin/ /var/www/html/smokeping/ )</li>\n<li>I've made a toto.pl, but it doesn't works, the code is display rather than executed too.</li>\n<li>I've added Options +ExecCGI in the Directory Field...</li>\n<li>Perl 5.8.8 is already installed</li>\n</ul>\n\n<p>Why smokeping doesn't works or why my very simple perl CGI aren't executed ? Have you an idea please ?</p>\n"}]