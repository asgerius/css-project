[{"tags": ["perl", "filter", "perl-module", "template-toolkit"], "comments": [{"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1482360555, "post_id": 41272871, "comment_id": 69747899, "body": "I&#39;m not sure to get you right but if it&#39;s a static call to the file (not to be dynamically changed based on something you compute) then you should be able to call something like this: use &#39;/usr/local/bin/multimarkdown&#39;;"}, {"owner": {"reputation": 1677, "user_id": 1816138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ed2ddfe3ce5e547c20fafa0c82b3e970?s=128&d=identicon&r=PG", "display_name": "Sherwood Botsford", "link": "https://stackoverflow.com/users/1816138/sherwood-botsford"}, "reply_to_user": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1482361526, "post_id": 41272871, "comment_id": 69748276, "body": "Use, I think, will attempt to parse whatever the argument is as a perl script.  See <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/use.html</a>  I can&#39;t see that working."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482362087, "post_id": 41272871, "comment_id": 69748450, "body": "I hope you have a good reason? It seems to be a very bad idea to replace a simple Perl procedure call with some code that needs to create one and possibly two new processes and arrange to pass the parameters and receive the result. Does your <code>multimarkdown</code> even accept simple text input, or does it require a file?"}, {"owner": {"reputation": 1677, "user_id": 1816138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ed2ddfe3ce5e547c20fafa0c82b3e970?s=128&d=identicon&r=PG", "display_name": "Sherwood Botsford", "link": "https://stackoverflow.com/users/1816138/sherwood-botsford"}, "edited": false, "score": 0, "creation_date": 1482363173, "post_id": 41272871, "comment_id": 69748768, "body": "The simple reason is that the perl version of MMD hasn&#39;t been updated in years.  Fletcher Penny, the author, wrote the current version using a PEG grammar (I think that&#39;s the word).  It accepts input from stdin, writes output to stdout.  The existing version writes non-xhtml compliant code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1482364027, "post_id": 41272871, "comment_id": 69748969, "body": "@SherwoodBotsford: It&#39;s good to say stuff like that in your question. Very often a good answer is about discovering what the OP really needs and providing that instead of what they asked for. I guess you need <i>multimarkdown</i> and <i>markdown</i> won&#39;t do? Have you raised a bug report for <code>Text::MultiMarkdown</code>? Would it change your mind if I fixed it?"}, {"owner": {"reputation": 1677, "user_id": 1816138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ed2ddfe3ce5e547c20fafa0c82b3e970?s=128&d=identicon&r=PG", "display_name": "Sherwood Botsford", "link": "https://stackoverflow.com/users/1816138/sherwood-botsford"}, "edited": false, "score": 0, "creation_date": 1482367901, "post_id": 41272871, "comment_id": 69749930, "body": "AFAIK Text::Multimarkdown is a reinvention of FP&#39;s several times ago version.  I think you would have to reverse engineer the syntax of FP&#39;s current version.  Backporting grammar + c code back to perl doesn&#39;t make a lot of sense.  In general for TT2, having a recipe to use an arbitrary well behaved program (reads from stdin, writes to stdout) as a filter in TT2 would be a win.  An even better win would be a TT2 Filter module that was called [% FILTER /usr/local/bin/whatever %]"}, {"owner": {"reputation": 1677, "user_id": 1816138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ed2ddfe3ce5e547c20fafa0c82b3e970?s=128&d=identicon&r=PG", "display_name": "Sherwood Botsford", "link": "https://stackoverflow.com/users/1816138/sherwood-botsford"}, "edited": false, "score": 0, "creation_date": 1482368110, "post_id": 41272871, "comment_id": 69749986, "body": "I&#39;m not a programmer.  I&#39;m a tree farmer who hacks a bit of perl to maintain his website.  TT2 allows me to write markdown, not html.  TT2 and a week of learning some of it&#39;s scripting allowed me to create an automatic menu generating system.  Fletch will support HTML5 if it doesn&#39;t already.  This gives me more options for diagrams, and smarter pages."}, {"owner": {"reputation": 1677, "user_id": 1816138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ed2ddfe3ce5e547c20fafa0c82b3e970?s=128&d=identicon&r=PG", "display_name": "Sherwood Botsford", "link": "https://stackoverflow.com/users/1816138/sherwood-botsford"}, "edited": false, "score": 0, "creation_date": 1482368311, "post_id": 41272871, "comment_id": 69750038, "body": "The existing version of Text::Multimarkdown does not behave consistently with nested lists, does not treat &lt;div&gt; and &lt;DIV&gt; as equivalent wraps things that are html in &lt;p&gt; tags."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1482418419, "post_id": 41272871, "comment_id": 69773538, "body": "I have been using <a href=\"https://github.com/jgm/cmark\" rel=\"nofollow noreferrer\">cmark</a> via <a href=\"https://metacpan.org/pod/CommonMark\" rel=\"nofollow noreferrer\">CommonMark</a> and <a href=\"https://metacpan.org/pod/Template::Plugin::CommonMark\" rel=\"nofollow noreferrer\">Template::Plugin::CommonMark</a> in case it helps."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482507167, "post_id": 41272871, "comment_id": 69810537, "body": "@SherwoodBotsford: <i>&quot;I&#39;m not a programmer. I&#39;m a tree farmer ... who hacks a bit of perl to maintain his website&quot;</i> and <i>&quot;The existing version of <code>Text::Multimarkdown</code> does not behave consistently&quot;</i>. You must make up your mind whom you are. If you claim to have found a bug in Perl or its core modules then say so; otherwise Stack Overflow is not for you"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482507447, "post_id": 41272871, "comment_id": 69810696, "body": "@SherwoodBotsford: You have posted many comments without naming a recipient. They will go unanswered."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 3, "last_activity_date": 1482362947, "last_edit_date": 1482362947, "creation_date": 1482362329, "answer_id": 41273535, "question_id": 41272871, "link": "https://stackoverflow.com/questions/41272871/how-can-i-replace-the-use-of-a-perl-module-with-a-call-to-an-external-program/41273535#41273535", "title": "How can I replace the use of a perl module with a call to an external program?", "body": "<p>Here is a simple example of a filter that calls an external program ( <code>perl</code> ) to replace all occurences of \"Hello\" with \"Bye\". It uses <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\"><code>IPC::Run3</code></a>:</p>\n\n<pre><code>package Template::Plugin::MultiMarkdown;\nuse strict;\nuse base qw (Template::Plugin::Filter);\n\nuse IPC::Run3;\nour $VERSION = 0.03;\n\nsub init {\n    my $self = shift;\n    $self-&gt;{_DYNAMIC} = 1;\n    $self-&gt;install_filter($self-&gt;{_ARGS}-&gt;[0] || 'multimarkdown');\n    return $self;\n}\n\nsub filter {\n    my ($self, $text, $args, $config) = @_;\n    my $out;\n    run3 ['perl', '-pE', 's/Hello/Bye/g'], \\$text, \\$out; \n    return $out;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1482506529, "creation_date": 1482506529, "answer_id": 41303955, "question_id": 41272871, "link": "https://stackoverflow.com/questions/41272871/how-can-i-replace-the-use-of-a-perl-module-with-a-call-to-an-external-program/41303955#41303955", "title": "How can I replace the use of a perl module with a call to an external program?", "body": "<p>Your ideas and design are wrong. You mustn't extend the purview of any subclass beyond its parent. Overloading a method to use a system call is horrible.</p>\n"}], "owner": {"reputation": 1677, "user_id": 1816138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ed2ddfe3ce5e547c20fafa0c82b3e970?s=128&d=identicon&r=PG", "display_name": "Sherwood Botsford", "link": "https://stackoverflow.com/users/1816138/sherwood-botsford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1482506529, "creation_date": 1482358782, "last_edit_date": 1482505595, "question_id": 41272871, "link": "https://stackoverflow.com/questions/41272871/how-can-i-replace-the-use-of-a-perl-module-with-a-call-to-an-external-program", "title": "How can I replace the use of a perl module with a call to an external program?", "body": "<p>Here's what I'm starting with</p>\n\n<pre><code>#$Id: MultiMarkdown.pm 4103 2009-03-02 20:41:50Z andrew $\n\npackage Template::Plugin::MultiMarkdown;\n\nuse strict;\nuse base qw (Template::Plugin::Filter);\n\nuse Text::MultiMarkdown;\n\nour $VERSION = 0.03;\n\nsub init {\n    my $self = shift;\n    $self-&gt;{_DYNAMIC} = 1;\n    $self-&gt;install_filter($self-&gt;{_ARGS}-&gt;[0] || 'multimarkdown');\n    return $self;\n}\n\nsub filter {\n    my ($self, $text, $args, $config) = @_;\n    my $m = Text::MultiMarkdown-&gt;new(%{$config || {}});\n    return $m-&gt;markdown($text);\n}\n\n1;\n</code></pre>\n\n<hr>\n\n<p>I want to change the reference to the Perl moudule <a href=\"https://metacpan.org/pod/Text::MultiMarkdown\" rel=\"nofollow noreferrer\"><code>Text::MultiMarkdown</code></a> \nto use an executable <code>/usr/local/bin/multimarkdown</code></p>\n\n<p>I think I need to change:</p>\n\n<pre><code>use Text::MultiMarkdown; \n</code></pre>\n\n<p>To</p>\n\n<pre><code>use IPC::run3\n</code></pre>\n\n<p>and then the <code>my $m</code> line involves a call to <code>run3</code>, but then I'm lost.</p>\n\n<p>I have found some mentions of how to write a filter on both the Template Toolkit mailing list, and on Perl Monks, but in both cases the answer assumes that I know something that I don't and it goes right over my head, hence the request here.</p>\n\n<p>I asked a similar question earlier, but the answer given didn't seem to apply to using an external program.</p>\n"}, {"tags": ["sql", "oracle", "perl", "cgi"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1482356520, "post_id": 41272217, "comment_id": 69746154, "body": "Please show how you open/create your <code>$dbh</code>, especially the <code>RaiseError</code> and <code>PrintError</code> flags. Depending on them, an <code>execute or die</code> could help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1482358393, "post_id": 41272217, "comment_id": 69747022, "body": "@PerlDuck: <code>die</code> is almost never the right thing to do in a web application. You should get a page of HTML out there no matter what happens."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1482359064, "post_id": 41272217, "comment_id": 69747286, "body": "@Borodin Yes, true. But he&#39;s doing it in <code>eval</code>. I just wanted to give an idea <i>where</i> the error handling should happen. Nice hat, b.t.w. :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482434405, "post_id": 41272217, "comment_id": 69783042, "body": "My phone doesn&#39;t show the hats and my neighbors are listening to loud weird music :-("}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482487324, "post_id": 41272217, "comment_id": 69800726, "body": "You are welcome to wait for late answers if you wish, but please read <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1482487392, "post_id": 41272217, "comment_id": 69800762, "body": "@PerlDuck: Thanks. I don&#39;t really know what it means :-/"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1482487553, "post_id": 41272217, "comment_id": 69800841, "body": "<i>All around my hat I will wear the green willow; And all around my hat for a twelve month and a day; If anybody should ask me the reason why I&#39;m wearing it; It\u2019s all for my true love who&#39;s far, far away.</i>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482514802, "post_id": 41272217, "comment_id": 69814103, "body": "@Borodin <a href=\"http://winterbash2016.stackexchange.com/just-here-for-the-hat\" rel=\"nofollow noreferrer\">They say</a> it&#39;s awarded when you <i>\u201cown any hat while the entire site collectively has at least 20 distinct hats\u201d</i>. To me that sounds like &quot;you get a hat because you already have a hat&quot;. I have one too, but prefer to wear my halfmoon shaped one. Don&#39;t know why I received it, perhaps for participating here after sunset."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1482358288, "creation_date": 1482358288, "answer_id": 41272774, "question_id": 41272217, "link": "https://stackoverflow.com/questions/41272217/return-code-in-the-cgi-while-inserting-into-oracle-database/41272774#41272774", "title": "return code in the CGI while inserting into Oracle database", "body": "<p>It's not useful to <code>die</code> inside CGI code. You're supposed to be generating an HTML response page, and just giving up half-way through isn't a useful thing to do</p>\n\n<p>Similarly, you don't want to enable the <code>RaiseError</code> option in yuour DBI connection, which is simply asking DBI to <code>die</code> for you if it encounters an error</p>\n\n<p>If you don't <code>die</code> or have <code>RaiseError</code> enabled, then you don't need <code>eval</code></p>\n\n<p>It's useful to enable <code>PrintError</code>, which gets DBI to use <code>warn</code> to record the same message. That will appear in the server log file for later diagnosis</p>\n\n<p>A call to <code>$sth-&gt;execute</code> will return a <em>false</em> value if it fails, and on that basis you can print an error message together with the error string</p>\n\n<p>You should also use <em>placeholders</em> in your <code>prepare</code> statement. It's simply a matter of putting question marks <code>?</code> in place of the column values and passing the real values in your call to <code>execute</code></p>\n\n<p>The logic should look something like this</p>\n\n<pre><code>my $dbh = DBI-&gt;connect($dsn, $user, $pass, { RaiseError =&gt; 0, PrintError =&gt; 1 });\n\nmy $sth = $dbh-&gt;prepare( \"insert into $table (COLUMN1, COLUMN2, COLUMN3) VALUES (?, ?, ?)\" );\n\nif ( $sth ) {\n\n    my $ret = $sth-&gt;execute( $value1, $value2, $value3 );\n\n    if ( $ret ) {\n        print \"Successfully inserted\\n\";\n    }\n    else {\n        print \"Insert failed:\\n\";\n        print $sth-&gt;errstr, \"\\n\";\n    }\n}\nelse {\n    print \"Failed to prepare statement handle:\\n\";\n    print $dbh-&gt;errstr, \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 6231061, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9958b32fce40fbf945c9dcdb09f30b2f?s=128&d=identicon&r=PG&f=1", "display_name": "Rob12897", "link": "https://stackoverflow.com/users/6231061/rob12897"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482358288, "creation_date": 1482355897, "last_edit_date": 1482357080, "question_id": 41272217, "link": "https://stackoverflow.com/questions/41272217/return-code-in-the-cgi-while-inserting-into-oracle-database", "title": "return code in the CGI while inserting into Oracle database", "body": "<p>I have a Perl CGI script that inserts <code>value1</code>, <code>value2</code>, <code>value3</code> into an Oracle database</p>\n\n<pre><code>eval {\n\n    my $sth = $dbh-&gt;prepare(\n        \"insert into $table (COLUMN1, COLUMN2, COLUMN3) VALUES ('$value1','$value2','$value3')\"\n    );\n\n    if ( defined( $sth ) ) {\n        $sth-&gt;execute();\n    }\n    else {\n        die( \"Sth not defined\" );\n    }\n};\n\nprint \"Successfully inserted\";\n</code></pre>\n\n<p>For unique value1, value2, value3 I have no problem inserting these values, but if I try to insert duplicate values I am getting</p>\n\n<blockquote>\n  <p>Unique Constraint violated Error on execute()</p>\n</blockquote>\n\n<p>in the logs. But the page still says Successfully inserted.</p>\n\n<p>So I was thinking if I can get the return code of </p>\n\n<pre><code>$sth-&gt;execute();\n</code></pre>\n\n<p>Then may be I can use that info to display whether it was successfully inserted or display that an error was encountered.</p>\n\n<p>Or are there any other ways that I can use to display the error when duplicate data is being inserted?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1482346339, "post_id": 41269888, "comment_id": 69740736, "body": "Can you provide a precise criterion for being &quot;<i>similar</i>&quot;?"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482346580, "post_id": 41269888, "comment_id": 69740863, "body": "amplicon_exon element has to contain the full string of failedamplicons element before the &quot;.&quot;. for example: <code>OCP1_FGFR3_8:intron:FGFR3:GENE_ID=FGFR3;PURPOSE=CNV;CNV_ID=F&zwnj;&#8203;GFR3;CNV_HS=1</code> contains <code>OCP1_FGFR3_8</code> thanks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1482347305, "post_id": 41269888, "comment_id": 69741244, "body": "@user3781528: I have tidied your Perl code so that I could read it. Please post legible code in the future."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1482350999, "post_id": 41269888, "comment_id": 69743273, "body": "@user3781528 FYI: a quick way to tidy code is to install Perl::Tidy. It comes with a program, <code>perltidy</code>, which you can use to tidy your Perl scripts. <a href=\"https://metacpan.org/pod/distribution/Perl-Tidy/lib/Perl/Tidy.pod\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/Perl-Tidy/lib/Perl/Tidy.pod</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1482351229, "post_id": 41270118, "comment_id": 69743393, "body": "I change the regex so that  meta-characters in <code>$to_match</code> are escaped. For more details, see <a href=\"http://perldoc.perl.org/perlre.html#Quoting-metacharacters\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#Quoting-metacharacters</a>"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 4, "last_activity_date": 1482351201, "last_edit_date": 1482351201, "creation_date": 1482347007, "answer_id": 41270118, "question_id": 41269888, "link": "https://stackoverflow.com/questions/41269888/perl-find-similar-elements-from-two-arrays/41270118#41270118", "title": "Perl find similar elements from two arrays", "body": "<p><a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> and <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\">grep</a> are your friends, as is the idiomatic approach to iterating over a list. Simply iterate over the first array, extract just the part you want to match on (by using <code>split</code> to split the element on a <code>.</code> character, then taking only the first entry), then using a regex, <code>grep</code> for that part of the string in the second array from the beginning of the element up to the <code>:</code>:</p>\n\n<pre><code>for my $elem (@failedamplicons){\n    my $to_match = (split /\\./, $elem)[0];\n    if (my ($matched) = grep {$_ =~ /^\\Q$to_match:/} @amplicon_exon){\n        print \"$matched\\n\";\n    }        \n}\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 41270118, "answer_count": 1, "score": 2, "last_activity_date": 1482351201, "creation_date": 1482346111, "last_edit_date": 1482347376, "question_id": 41269888, "link": "https://stackoverflow.com/questions/41269888/perl-find-similar-elements-from-two-arrays", "title": "Perl find similar elements from two arrays", "body": "<p>I would like to retrieve elements from <code>@amplicon_exon</code> array that contain similar element (<em>like</em>) to <code>@failedamplicons</code> array. Each element in <code>@failedamplicons</code> is unique and can only match a single element from <code>@amplicon_exon</code>. I've tried two for loops but get repeat values. Is there a better way of finding and retrieving similar values from the two arrays?</p>\n\n<pre><code>@failedamplicons: example:\nOCP1_FGFR3_8.87\nOCP1_AR_14.89\n\n@amplicon_exon: example:\nTEST_Focus_ERBB2_2:22:ERBB2:GENE_ID=ERBB2;PURPOSE=CNV,Hotspot;CNV_ID=ERBB2;CNV_HS=1\nOCP1_FGFR3_8:intron:FGFR3:GENE_ID=FGFR3;PURPOSE=CNV;CNV_ID=FGFR3;CNV_HS=1\nOCP1_CDK6_14:intron:CDK6:GENE_ID=CDK6;PURPOSE=CNV;CNV_ID=CDK6;CNV_HS=1\n</code></pre>\n\n<p>Here is two for loop code:   </p>\n\n<pre><code>my $i = 0;\nmy $j = 0;\n\nfor ( $i = 0; $i &lt; @amplicon_exon; $i++ ) {\n\n    for ( $j = 0; $j &lt; @failedamplicons; $j++ ) {\n\n        my $fail_amp = ( split /\\./, $failedamplicons[$j] )[0];\n\n        #print \"the failed amp before match is $fail_amp\\n\";\n\n        if ( index( $amplicon_exon[$i], $fail_amp ) != -1 ) {\n\n            #print \"the amplicon exon that matches $amplicon_exon[$i] and sample is $sample_id\\n\";\n            print \"the failed amp that matches $fail_amp and sample is $sample_id\\n\";\n\n            my @parts = split /:/, $amplicon_exon[$i];\n            my $exon_amp = $parts[1];\n\n            next unless $parts[3] =~ /Hotspot/;    #includes only Hotspot amplicons\n            my $gene_res   = $parts[2];\n            my $depth      = ( split /\\./, $failedamplicons[$j] )[1];\n            my @total_amps = (\n                $run_name, $sample_id, $gene_res, $depth, $fail_amp, $run_date, $matrix_status\n            );\n\n            my $lines = join \"\\t\", @total_amps;\n\n            push( @finallines, $lines );\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1482342696, "post_id": 41268809, "comment_id": 69738640, "body": "I believe OP is referring to <a href=\"https://metacpan.org/pod/feature#The-unicode_eval-and-evalbytes-features\" rel=\"nofollow noreferrer\">this documentation</a>."}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1482343283, "post_id": 41268809, "comment_id": 69738959, "body": "You might get better / more answers and less downvotes if you showed more effort on your own, i.e., tell us what particularly you don&#39;t understand."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1482343322, "post_id": 41268809, "comment_id": 69738975, "body": "It&#39;s actually straightforward question. &quot;There&#39;s only a small difference between them; what is it?&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482344830, "post_id": 41268809, "comment_id": 69739852, "body": "I think I know the difference, but I gotta run. I&#39;ll answer late tonight or tomorrow."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 6, "last_activity_date": 1482345781, "last_edit_date": 1592644375, "creation_date": 1482345376, "answer_id": 41269677, "question_id": 41268809, "link": "https://stackoverflow.com/questions/41268809/explain-the-3-different-flavors-of-string-eval-in-perl/41269677#41269677", "title": "Explain the 3 different flavors of string eval in perl", "body": "<p><code>use feature qw( unicode_eval )</code> is there to fix confusing quirks with vanilla <code>eval</code> that cannot be fixed without breaking backwards compatibility.</p>\n<blockquote>\n<p>eval behaves differently depending on the internal encoding of the string, sometimes treating its argument as a string of bytes, and sometimes as a string of characters.</p>\n<p>Source filters activated within eval leak out into whichever file scope is currently being compiled.</p>\n</blockquote>\n<p>With <code>use feature qw( unicode_eval )</code> this changes. Now <code>eval</code> will always treat its code as characters (ie. UTF-8) and will not leak. This is most likely the behavior you want.</p>\n<p>For those who <em>really, really</em> want code that's interpreted as bytes (ie. ASCII) there is <code>evalbytes</code>, but you probably don't need that.</p>\n<p><em><strong>tl;dr</strong></em>: If you're using 5.16 or newer and you're using <code>eval</code> (which you probably shouldn't), <code>use feature qw( unicode_eval )</code> and <code>eval</code>. It supports UTF-8 and it fixes <code>eval</code> quirks.</p>\n<p>Or just <a href=\"https://metacpan.org/pod/utf8::all\" rel=\"noreferrer\"><code>use utf8::all</code></a> and forget about it.</p>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 1626653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/36RNP.jpg?s=128&g=1", "display_name": "khw", "link": "https://stackoverflow.com/users/1626653/khw"}, "is_accepted": false, "score": 1, "last_activity_date": 1487910831, "creation_date": 1487910831, "answer_id": 42430836, "question_id": 41268809, "link": "https://stackoverflow.com/questions/41268809/explain-the-3-different-flavors-of-string-eval-in-perl/42430836#42430836", "title": "Explain the 3 different flavors of string eval in perl", "body": "<p>I ended up doing a bunch of experiments to get the answer to this question.  I had already ruled out Schwern's answer before I posted the question.  The documentation that was somewhat garbled was in perlfunc.  (That and the documentation in feature.pm largely overlapped.)  The result is that I've changed the documentation to reflect what I found.  This is now in perl 5.25.10, and should be in 5.26.  I changed the feature.pm documentation to be just a short summary with no detail, linking to perlfunc for the meat of the behavior.   Here is a link to the difference listing of the commit that changed this.  I believe that it adequately describes the way things actually work.  But patches are welcome.</p>\n\n<p><a href=\"https://perl5.git.perl.org/perl.git/commitdiff/9891e9b7d5c8747ecfb7ce7038187b087bd8c655\" rel=\"nofollow noreferrer\">commit diff</a></p>\n\n<p>The text is weak on the flaws that existed before the features were added.  I examined all the emails I could find on the subject from the perl5-porters email list, but didn't find anything beyond what I wrote in the patch</p>\n"}], "owner": {"reputation": 428, "user_id": 1626653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/36RNP.jpg?s=128&g=1", "display_name": "khw", "link": "https://stackoverflow.com/users/1626653/khw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487910831, "creation_date": 1482342184, "last_edit_date": 1482343076, "question_id": 41268809, "link": "https://stackoverflow.com/questions/41268809/explain-the-3-different-flavors-of-string-eval-in-perl", "title": "Explain the 3 different flavors of string eval in perl", "body": "<p>I don't understand the explanations in the Perl documentation for the 3 different string eval types.  It doesn't help that the docs are garbled, with text missing, so that the beginning of a sentence doesn't fit with its end.</p>\n\n<p>The three flavors are </p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\"><code>eval</code></a></li>\n<li><a href=\"http://perldoc.perl.org/functions/evalbytes.html\" rel=\"nofollow noreferrer\"><code>evalbytes</code></a><sup>[1]</sup></li>\n<li><a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\"><code>eval</code></a> with <a href=\"http://perldoc.perl.org/feature.html#The-%27unicode_eval%27-and-%27evalbytes%27-features\" rel=\"nofollow noreferrer\"><code>use feature qw( unicode_eval );</code></a></li>\n</ul>\n\n<hr>\n\n<ol>\n<li>Requires <code>use feature qw( eval_bytes );</code> to use, or <code>CORE::evalbytes</code>.</li>\n</ol>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1482341825, "post_id": 41268649, "comment_id": 69738171, "body": "then <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> ruturns less than 2 elements. Make sure your input file always has 2 or more elements on each line"}, {"owner": {"reputation": 23, "user_id": 7326917, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vqUfSSs6N1Q/AAAAAAAAAAI/AAAAAAAAAF0/M5YZrdTVjXY/photo.jpg?sz=128", "display_name": "Muhammad Hassan", "link": "https://stackoverflow.com/users/7326917/muhammad-hassan"}, "edited": false, "score": 0, "creation_date": 1482343143, "post_id": 41268649, "comment_id": 69738877, "body": "sym.txt: <a href=\"http://pastebin.com/tr8ABJq8\" rel=\"nofollow noreferrer\">pastebin.com/tr8ABJq8</a>"}, {"owner": {"reputation": 23, "user_id": 7326917, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vqUfSSs6N1Q/AAAAAAAAAAI/AAAAAAAAAF0/M5YZrdTVjXY/photo.jpg?sz=128", "display_name": "Muhammad Hassan", "link": "https://stackoverflow.com/users/7326917/muhammad-hassan"}, "edited": false, "score": 0, "creation_date": 1482343231, "post_id": 41268649, "comment_id": 69738930, "body": "jump.txt <a href=\"http://pastebin.com/C8KkG3Vp\" rel=\"nofollow noreferrer\">pastebin.com/C8KkG3Vp</a>"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1482351696, "post_id": 41268649, "comment_id": 69743632, "body": "Change <code>print if ($keys{$col2});</code> to <code>print if (exists $keys{$col2});</code>. Since the hash is only used for validation, testing for existence of the key is sufficient for the task."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1482353757, "post_id": 41269081, "comment_id": 69744777, "body": "I would note <code>split (&#39; &#39;, $_);</code> is the default, so you can simply <code>split;</code> instead."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 0, "last_activity_date": 1482344122, "last_edit_date": 1482344122, "creation_date": 1482343267, "answer_id": 41269081, "question_id": 41268649, "link": "https://stackoverflow.com/questions/41268649/getting-error-use-of-uninitialized-value-col2-in-hash-element-at-lol-pl-line-13/41269081#41269081", "title": "Getting error Use of uninitialized value $col2 in hash element at lol.pl line 13, &lt;$f2&gt; line 1", "body": "<p>When you use <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow noreferrer\"><code>warnings</code></a> (as you should) you will get a warning when you try to use an uninitialized variable:</p>\n\n<pre><code>perl -wE 'my $x; say $x'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Use of uninitialized value $x in say at -e line 1.\n</code></pre>\n\n<p>In a list assignment, extra values are silently ignored and if you have too many variables, the extras get the value <code>undef</code>.</p>\n\n<pre><code>perl -wE 'my ($x, $y) = (2); say $y'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Use of uninitialized value $y in say at -e line 1.\n</code></pre>\n\n<p>In your case, it is likely that the problem is this line:</p>\n\n<pre><code>my(undef, $col2, undef) = split(' ', $_);\n</code></pre>\n\n<p>If <code>split</code> returns only a single item (or zero items), <code>$col2</code> will be undefined.</p>\n\n<p>See also documentation on <em>\"List value constructors\"</em> in <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\"><code>perldata</code></a></p>\n\n<p><strong>Edit:</strong></p>\n\n<p>To get the desired output (seems like you need <code>$col1</code> and not <code>$col2</code>):</p>\n\n<pre><code>my $col1  = (split(' ', $_))[0];\nprint if $keys{$col1};\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7326917, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vqUfSSs6N1Q/AAAAAAAAAAI/AAAAAAAAAF0/M5YZrdTVjXY/photo.jpg?sz=128", "display_name": "Muhammad Hassan", "link": "https://stackoverflow.com/users/7326917/muhammad-hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 0, "accepted_answer_id": 41269081, "answer_count": 1, "score": 0, "last_activity_date": 1482353657, "creation_date": 1482341630, "last_edit_date": 1482353657, "question_id": 41268649, "link": "https://stackoverflow.com/questions/41268649/getting-error-use-of-uninitialized-value-col2-in-hash-element-at-lol-pl-line-13", "title": "Getting error Use of uninitialized value $col2 in hash element at lol.pl line 13, &lt;$f2&gt; line 1", "body": "<p>I made a program to filter out the rows containing a value from a text file...i am getting this error</p>\n\n<blockquote>\n  <p>Use of uninitialized value $col2 in hash element at lol.pl line 13,\n   line 1.</p>\n</blockquote>\n\n<pre><code>use strict;\nuse warnings;\nmy %keys;\nopen( my $f1, '&lt;', 'jump.txt' ) or die(\"Cannot open jump.txt: $!\");\nwhile (&lt;$f1&gt;) {\n    chomp;\n    $keys{$_} = 1;\n}\nclose($f1);\nopen( my $f2, '&lt;', 'sym.txt' ) or die(\"Cannot open sym.txt: $!\");\nwhile (&lt;$f2&gt;) {\n    my ( undef, $col2, undef ) = split( ' ', $_ );\n    print if ( $keys{$col2} );\n}\nclose($f2);\n</code></pre>\n\n<p>jump.txt:</p>\n\n<pre><code>a\nb\nc\n</code></pre>\n\n<p>sym.txt:</p>\n\n<pre><code>a   1\nb   2\nc   3\nd   4\ne   5\n</code></pre>\n\n<p>desired output:</p>\n\n<pre><code>a   1\nb   2\nc   3\n</code></pre>\n"}, {"tags": ["json", "regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482338461, "post_id": 41267491, "comment_id": 69736315, "body": "Tip: That <code>\\1</code> should be <code>$1</code>. And no need to escape all those <code>&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 64388, "user_id": 1064245, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e1ed9c48a989a39ff2a14b1d36c177a?s=128&d=identicon&r=PG&f=1", "display_name": "M A", "link": "https://stackoverflow.com/users/1064245/m-a"}, "is_accepted": false, "score": 2, "last_activity_date": 1482339456, "last_edit_date": 1482339456, "creation_date": 1482337913, "answer_id": 41267579, "question_id": 41267491, "link": "https://stackoverflow.com/questions/41267491/regex-lookahead-non-capturing-with-if-then/41267579#41267579", "title": "Regex lookahead non capturing with if/then", "body": "<p>The below regex includes a check on partial wrapping of quotes (i.e. only at the beginning or the end of the value), missing wrapping on both ends, or empty value:</p>\n\n<pre><code>perl -pi -e 's/\\\"AcqDateTime\\\": (|(?&lt;!\\\")[^\\\"].*|.*[^\\\"](?!\\\")),/\\\"AcqDateTime\\\": \\\"\\1\\\",/g' t.json\n</code></pre>\n\n<p>where <code>(|(?&lt;!\\\")[^\\\"].*|.*[^\\\"](?!\\\"))</code> includes:</p>\n\n<ul>\n<li>an empty string value, as in the case of <code>{ \"AcquisitionDateTime\": }</code> or </li>\n<li><code>(?&lt;!\\\")[^\\\"].*</code>: a value that doesn't start with a quote, as in <code>{ \"AcquisitionDateTime\": 2016\" }</code>, or</li>\n<li><code>.*[^\\\"](?!\\\")</code>: a value that doesn't end with a quote, as in <code>{ \"AcquisitionDateTime\": \"2016 }</code>.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1756, "user_id": 214898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CqVR3.jpg?s=128&g=1", "display_name": "Master DJon", "link": "https://stackoverflow.com/users/214898/master-djon"}, "edited": false, "score": 0, "creation_date": 1485067461, "post_id": 41267786, "comment_id": 70765774, "body": "Why not only use <code>[^&quot;]+</code> ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1756, "user_id": 214898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CqVR3.jpg?s=128&g=1", "display_name": "Master DJon", "link": "https://stackoverflow.com/users/214898/master-djon"}, "edited": false, "score": 0, "creation_date": 1485068759, "post_id": 41267786, "comment_id": 70765987, "body": "@Master DJon, My answer already explains step by step how I obtained what I used. What you suggest will match the comma, so it definitely won&#39;t work. You could maybe remove the <code>\\s</code>, although there could theoretically be spaces before the comma that shouldn&#39;t be included in the double-quotes."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1482339093, "last_edit_date": 1482339093, "creation_date": 1482338565, "answer_id": 41267786, "question_id": 41267491, "link": "https://stackoverflow.com/questions/41267491/regex-lookahead-non-capturing-with-if-then/41267786#41267786", "title": "Regex lookahead non capturing with if/then", "body": "<p>A good start to match the time stamp would be</p>\n\n<pre><code>\\S+\n</code></pre>\n\n<p>But that also matches the comma, so we switch to</p>\n\n<pre><code> [^\\s,]+\n</code></pre>\n\n<p>Now, you want to avoid matching quotes too.</p>\n\n<pre><code> [^\\s\",]+\n</code></pre>\n\n<p>That's all you need.</p>\n\n<pre><code>perl -i -pe's/\"AcqDateTime\":\\s*+\\K([^\\s\",]+)/\"$1\"/g' t.json\n</code></pre>\n"}], "owner": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 41267786, "answer_count": 2, "score": 6, "last_activity_date": 1482339456, "creation_date": 1482337628, "last_edit_date": 1482338100, "question_id": 41267491, "link": "https://stackoverflow.com/questions/41267491/regex-lookahead-non-capturing-with-if-then", "title": "Regex lookahead non capturing with if/then", "body": "<p>I have some broken JSON files that I want to fix.\nThe issue is that one of the fields, AcquisitionDateTime, is malformed:</p>\n\n<pre><code>{\n    \"AcquisitionDateTime\": 2016-04-28T17:09:39.515625,\n}\n</code></pre>\n\n<p>What I want to do is wrap the value within parentheses. I can do that easily with a regex:</p>\n\n<pre><code>perl -pi -e 's/\\\"AcqDateTime\\\": (.*),/\\\"AcqDateTime\\\": \\\"\\1\\\",/g' t.json\n</code></pre>\n\n<p>Now, I want to extend the regex so that, in case a JSON is not broken, the content doesn't get wrapped twice in \"\". The problem I'm facing is that I don't know how to mix the lookahead, the if/then statements and the capturing groups. Here's my attempt:</p>\n\n<pre><code>Lookahead, if you find a \", then capture what is between it. Else capture everything.\nperl -pi -e 's/\\\"AcqDateTime\\\": (?(?=\\\")\\\"(.*)\\\"|(.*)),/\\\"AcqDateTime:\\\" \\\"\\1\\\",/g' t.json\n</code></pre>\n\n<p>This is the part I'm interested in correcting:</p>\n\n<pre><code>Lookahead for a \\\"  -&gt; if yes, then capture without it. \\\"(.*)\\\" Else capture all (.*)\n(?(?=\\\")\\\"(.*)\\\"|(.*)),\n</code></pre>\n\n<p>Would somebody explain to me what I'm doing wrong?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "cpan"], "answers": [{"tags": [], "owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "is_accepted": false, "score": 0, "last_activity_date": 1482339971, "creation_date": 1482339971, "answer_id": 41268192, "question_id": 41267430, "link": "https://stackoverflow.com/questions/41267430/how-can-i-navigate-word-tables-using-win32ole-perl-package/41268192#41268192", "title": "How can I navigate Word tables using WIN32::OLE perl package?", "body": "<p>You could use OLE to access the individual cells of the table, after first getting the dimensions using the <a href=\"https://msdn.microsoft.com/en-us/library/office/ff821526.aspx\" rel=\"nofollow noreferrer\">Columns</a> object and <a href=\"https://msdn.microsoft.com/en-us/library/office/ff839587.aspx\" rel=\"nofollow noreferrer\">Rows</a> collection.</p>\n\n<p>Or you could post-process the text into a Perl array, and iterate that.\nInstead of</p>\n\n<pre><code>my $text = $table-&gt;ConvertToText(wdSeparateByTabs)-&gt;Text;\n$text =~ s/\\r/\\n/g;\nprint $text, \"\\n\";\n</code></pre>\n\n<p>something like</p>\n\n<pre><code>my %fruit; # population of look-up table of fruit omitted\n\nmy $text = $table-&gt;ConvertToText(wdSeparateByTabs)-&gt;Text;\nmy @lines = split /\\r/, $text;\nfor my $line ( @lines ) {\n    my @fields = split /\\t/, $lines;\n\n    next unless exists $fruit{$fields[0]};\n\n    print \"$line\\n\";\n}\n</code></pre>\n\n<p>Refinements for case sensitivity, etc., can be added as needed.</p>\n"}], "owner": {"reputation": 669, "user_id": 1854603, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/5ad51d222e092ea29c7b24e2918b7b76?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1854603/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482339971, "creation_date": 1482337408, "question_id": 41267430, "link": "https://stackoverflow.com/questions/41267430/how-can-i-navigate-word-tables-using-win32ole-perl-package", "title": "How can I navigate Word tables using WIN32::OLE perl package?", "body": "<p>I have a directory with hundreds of word docs, each containing a standardized set of tables. I need to parse these tables and extract the data in them. I developed the script that spits out the entire tables. </p>\n\n<pre><code>#!/usr/bin/perl;\nuse strict;\nuse warnings;\n\nuse Carp qw( croak );\nuse Cwd qw( abs_path );\nuse Path::Class;\nuse Win32::OLE qw(in);\nuse Win32::OLE::Const 'Microsoft Word';\n$Win32::OLE::Warn = 3;\n=d\nmy $datasheet_dir = \"./path/to/worddocs\";\nmy @files = glob \"$datasheet_dir/*.doc\";\nprint \"scalar: \".scalar(@files).\"\\n\";\nforeach my $f (@files){\n    print $f.\"\\n\";\n}\n=cut\n#my $file = $files[0];\nmy $file = \"word.doc\";\nprint \"file: $file\\n\";\n\nrun(\\@files);\n\nsub run {\n    my $argv = shift;\n    my $word = get_word();\n\n    $word-&gt;{DisplayAlerts} = wdAlertsNone;\n    $word-&gt;{Visible}       = 1;\n\n    for my $word_file ( @$argv ) {\n        print_tables($word, $word_file);\n    }\n\n    return;\n}\n\nsub print_tables {\n    my $word = shift;\n    my $word_file = file(abs_path(shift));\n\n    my $doc = $word-&gt;{Documents}-&gt;Open(\"$word_file\");\n    my $tables = $word-&gt;ActiveDocument-&gt;{Tables};\n\n    for my $table (in $tables) {\n        my $text = $table-&gt;ConvertToText(wdSeparateByTabs)-&gt;Text;\n        $text =~ s/\\r/\\n/g;\n        print $text, \"\\n\";\n    }\n\n    $doc-&gt;Close(0);\n    return;\n}\n\nsub get_word {\n    my $word;\n    eval { $word = Win32::OLE-&gt;GetActiveObject('Word.Application'); 1 }\n        or die \"$@\\n\";\n    $word and return $word;\n    $word = Win32::OLE-&gt;new('Word.Application', sub { $_[0]-&gt;Quit })\n        or die \"Oops, cannot start Word: \", Win32::OLE-&gt;LastError, \"\\n\";\n    return $word;\n}\n</code></pre>\n\n<p>Is there a way to navigate the cells? I want to only return rows that have a specific value in the first column?</p>\n\n<p>For example, for the following table, I want to only grep the rows that have fruit in the first column.</p>\n\n<pre><code>apple       pl\nbanana      xml\nCalifornia  csv\npickle      txt\nIllinois    gov\npear        doc\n</code></pre>\n"}, {"tags": ["perl", "perlscript"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1482336219, "post_id": 41267036, "comment_id": 69734906, "body": "If you already have code you&#39;ve tried, please edit your question and paste it in. That way we can see that you&#39;ve made an effort, and guide you to a solution (as opposed to writing the code for you in its entirety)."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482337137, "post_id": 41267036, "comment_id": 69735522, "body": "<a href=\"http://stackoverflow.com/questions/36822986/print-files-and-subdirectories-of-given-directory/36823076#36823076\">Look into this</a> and Please Include something to show efforts, You can&#39;t just ask us to write code here."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1482355994, "post_id": 41271862, "comment_id": 69745889, "body": "csay, welcome to SO! We highly appreciate that you spent effort to help because that&#39;s the whole purpose of this site. Your code would work (as far as I can see), but the OP asked for a Perl solution. (Actually he asked us to write the code for him, which is not very well received here.) Your post is well written, properly formatted and explains your solution. I like that \u2013 and I wished the OP had the same attitude!"}], "tags": [], "owner": {"reputation": 31, "user_id": 7323472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a511cdf391b63ffb4c3e11ecac40ef?s=128&d=identicon&r=PG&f=1", "display_name": "csay", "link": "https://stackoverflow.com/users/7323472/csay"}, "is_accepted": false, "score": 1, "last_activity_date": 1482357041, "last_edit_date": 1482357041, "creation_date": 1482354193, "answer_id": 41271862, "question_id": 41267036, "link": "https://stackoverflow.com/questions/41267036/perl-list-files-and-directories-recursively-but-exclude-some-directories-and-fi/41271862#41271862", "title": "Perl: List files and directories recursively but exclude some directories and files that passed", "body": "<p>In Linux, you can make use of the Linux \"find\" and \"grep\" commands and run those Linux commands in Perl using qx to store Linux command result in Perl. </p>\n\n<p>e.g. </p>\n\n<pre><code>$cmd = \"find . | grep -v 'dir1\\|dir2\\|...\\|dirn'\";\n$result=qx($cmd);\n</code></pre>\n\n<p>The above command combinations do the following: </p>\n\n<ol>\n<li>The find  command will list the all the directory and\nfiles recursively.</li>\n<li>The pipe \"|\" will pass the find  result to grep command</li>\n<li>The grep -v command will print on screen only the string not exist\nin the \"dir1\", \"dir2\"...\"dirn\" to be ignored</li>\n<li>At last, the qx command will execute the find and grep Linux\ncommands and stored the output to $result variable.</li>\n</ol>\n\n<p>You can do the similar thing in Windows. The only difference is to use the Windows command line.</p>\n\n<p>e.g. </p>\n\n<pre><code>$result=qx('dir /b/s | find /v \"workspace\" | find /v \"TVM\"')\n</code></pre>\n\n<p>The above command will list all the directory recursively except the directory has name \"workspace\" or \"TVM\". </p>\n"}], "owner": {"reputation": 1, "user_id": 7326382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338b1231a4ef10cb4acca40b282f1a93?s=128&d=identicon&r=PG&f=1", "display_name": "Baabla", "link": "https://stackoverflow.com/users/7326382/baabla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 1, "answer_count": 1, "score": -5, "last_activity_date": 1482357041, "creation_date": 1482336088, "last_edit_date": 1482356311, "question_id": 41267036, "link": "https://stackoverflow.com/questions/41267036/perl-list-files-and-directories-recursively-but-exclude-some-directories-and-fi", "title": "Perl: List files and directories recursively but exclude some directories and files that passed", "body": "<p>Please give any suggestion or snippet or anything that may work.</p>\n\n<p>I have already tried wanted function but how do I exclude some directory while recursing?</p>\n"}, {"tags": ["perl", "tcp", "hl7", "mirth"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482335721, "post_id": 41266785, "comment_id": 69734515, "body": "Re &quot;<i>You are putting the UTF-8 encoding layer on STDOUT</i>&quot;, ...twice. (Harmless, but why?!)"}, {"owner": {"reputation": 501, "user_id": 2515337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/23df530af23257756e35736c00f2dc60?s=128&d=identicon&r=PG", "display_name": "GrSrv", "link": "https://stackoverflow.com/users/2515337/grsrv"}, "edited": false, "score": 0, "creation_date": 1482341118, "post_id": 41266785, "comment_id": 69737788, "body": "@mob Please change the code to : <code>my $msgutf8 = Encode::encode(&quot;UTF-8&quot;, $msg);</code> so that I can accept."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 0, "last_activity_date": 1482341170, "last_edit_date": 1482341170, "creation_date": 1482335318, "answer_id": 41266785, "question_id": 41266398, "link": "https://stackoverflow.com/questions/41266398/perl-utf8-characters-gets-distorted-while-trasnmitting/41266785#41266785", "title": "Perl : UTF8 characters gets distorted while trasnmitting", "body": "<p>You are putting the UTF-8 encoding layer on STDOUT, but you don't put that layer on the HL7 channel (whatever that is) and you don't encode your message in UTF-8. That is why you see the <code>Wide print ...</code> warning. Write a UTF-8 encoded string to the HL7 connection.</p>\n\n<pre><code>my $msg = getHl7Message();\n# $msg is not encoded.   \n# map{chr}split//,$msg should produce some values larger than 255\n\nprint($msg);\n# this is ok because the :utf8 layer was applied to STDOUT.\n# Behind the scenes, the string $msg is encoded before it is output\n# to the terminal.\n\nmy $msgutf8 = Encode::encode(\"UTF-8\", $msg);\n# Now $msgutf8 is a UTF-8 encoded \"octet string\".\n# map{chr}split//,$msgutf8 should only produce vals between 0 and 255,\n# and is safe to transmit\n\nmy $hl7msg = new Net::HL7::Message($msgutf8); \n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 2515337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/23df530af23257756e35736c00f2dc60?s=128&d=identicon&r=PG", "display_name": "GrSrv", "link": "https://stackoverflow.com/users/2515337/grsrv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 1, "accepted_answer_id": 41266785, "answer_count": 1, "score": 0, "last_activity_date": 1482341170, "creation_date": 1482334244, "question_id": 41266398, "link": "https://stackoverflow.com/questions/41266398/perl-utf8-characters-gets-distorted-while-trasnmitting", "title": "Perl : UTF8 characters gets distorted while trasnmitting", "body": "<p>I have a script which sends HL7 messages to Mirth. Here is the program:</p>\n\n<pre><code>use Net::HL7;\nuse Net::HL7::Connection;\nuse open ( \":encoding(UTF-8)\", \":std\" );\nbinmode(STDOUT, \":utf8\");\n\n\nmy $conn = new Net::HL7::Connection('127.0.0.1', 7010);\nmy $msg = getHl7Message(); # Too many things happening in getHl7Message()\nprint($msg)                # All characters are correct in $msg when printed\n\nmy $hl7msg = new Net::HL7::Message($msg); \n\nprint($hl7msg-&gt;toString(1)) #All characters are correct\nmy $response = $conn-&gt;send($hl7msg); #sent to Mirth\n</code></pre>\n\n<p>Now, when I check mirth, all characters outside of ASCII set are distorted.</p>\n\n<p>What shall I do? Net::HL7::Connection uses IO::Socket internally.</p>\n\n<p>I am also receiving this warning:\n<code>Wide character in print at /usr/local/share/perl5/Net/HL7/Connection.pm line 143.</code>\nI tried executing with -CS but still no gain.</p>\n\n<p>Some info:</p>\n\n<pre><code>[user@server gs]$ lsb_release -a\nLSB Version:    :base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch\nDistributor ID: OracleServer\nDescription:    Oracle Linux Server release 6.6\nRelease:    6.6\nCodename:   n/a\n</code></pre>\n\n<p>/etc/environment and /etc/default/locale was empty. I added these two lines </p>\n\n<pre><code>LC_ALL=en_US.UTF-8\nLANG=en_US.UTF-8\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[user@server gs]$ locale\nLANG=en_US.UTF-8\nLC_CTYPE=\"en_US.UTF-8\"\nLC_NUMERIC=\"en_US.UTF-8\"\nLC_TIME=\"en_US.UTF-8\"\nLC_COLLATE=\"en_US.UTF-8\"\nLC_MONETARY=\"en_US.UTF-8\"\nLC_MESSAGES=\"en_US.UTF-8\"\nLC_PAPER=\"en_US.UTF-8\"\nLC_NAME=\"en_US.UTF-8\"\nLC_ADDRESS=\"en_US.UTF-8\"\nLC_TELEPHONE=\"en_US.UTF-8\"\nLC_MEASUREMENT=\"en_US.UTF-8\"\nLC_IDENTIFICATION=\"en_US.UTF-8\"\nLC_ALL=en_US.UTF-8\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 474, "user_id": 5905325, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4Uf-a54iNo/AAAAAAAAAAI/AAAAAAAAAdA/jc13jE20tww/photo.jpg?sz=128", "display_name": "murphy", "link": "https://stackoverflow.com/users/5905325/murphy"}, "edited": false, "score": 2, "creation_date": 1482330023, "post_id": 41264874, "comment_id": 69730565, "body": "is the source sequence guaranteed to be sorted?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482330054, "post_id": 41264874, "comment_id": 69730584, "body": "is there a inline or separate line may be also available"}, {"owner": {"reputation": 23, "user_id": 7326088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710ced0e5ca6f3ee93aa2ab9d2a0857?s=128&d=identicon&r=PG&f=1", "display_name": "Markpw", "link": "https://stackoverflow.com/users/7326088/markpw"}, "edited": false, "score": 0, "creation_date": 1482330186, "post_id": 41264874, "comment_id": 69730680, "body": "Yes, the sequence is always sorted, unless a number is of course missing :)"}, {"owner": {"reputation": 23, "user_id": 7326088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710ced0e5ca6f3ee93aa2ab9d2a0857?s=128&d=identicon&r=PG&f=1", "display_name": "Markpw", "link": "https://stackoverflow.com/users/7326088/markpw"}, "edited": false, "score": 0, "creation_date": 1482330241, "post_id": 41264874, "comment_id": 69730718, "body": "I can extract the data, so that each number goes on a new line also."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1482330957, "post_id": 41264874, "comment_id": 69731227, "body": "&quot;I can extract the data, so that each number goes on a new line also.&quot;. You should update your question with this information..."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7326088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710ced0e5ca6f3ee93aa2ab9d2a0857?s=128&d=identicon&r=PG&f=1", "display_name": "Markpw", "link": "https://stackoverflow.com/users/7326088/markpw"}, "edited": false, "score": 0, "creation_date": 1482330486, "post_id": 41265014, "comment_id": 69730886, "body": "So this would push all the values from the text file into numbers, correct?  Then the next step would be to find the missing values from there."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 23, "user_id": 7326088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710ced0e5ca6f3ee93aa2ab9d2a0857?s=128&d=identicon&r=PG&f=1", "display_name": "Markpw", "link": "https://stackoverflow.com/users/7326088/markpw"}, "edited": false, "score": 0, "creation_date": 1482330867, "post_id": 41265014, "comment_id": 69731167, "body": "@Markpw: Yes. Exactly"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482330965, "post_id": 41265014, "comment_id": 69731232, "body": "@simbabque: I answered part of the question. It seemed to be a particular issue for the OP given his machinations with <code>s&#47;^\\s+|\\s+$&#47;&#47;g</code>. It&#39;s strange to receive downvotes for not answering absolutely everything asked!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482330993, "post_id": 41265014, "comment_id": 69731252, "body": "That&#39;s why I commented, but didn&#39;t vote."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1482331997, "post_id": 41265014, "comment_id": 69731933, "body": "@simbabque: I didn&#39;t imagine you had. You are smarter than that."}, {"owner": {"reputation": 23, "user_id": 7326088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710ced0e5ca6f3ee93aa2ab9d2a0857?s=128&d=identicon&r=PG&f=1", "display_name": "Markpw", "link": "https://stackoverflow.com/users/7326088/markpw"}, "edited": false, "score": 0, "creation_date": 1482406626, "post_id": 41265014, "comment_id": 69766094, "body": "@Borodin: Thank you it works alright, the only issue I got now is when I reach a certain amount of numbers it simply returns first and last value.  When I test it with small arrays it works fine, but working with thousands of items..How would I go about optimising to data that size?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 23, "user_id": 7326088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710ced0e5ca6f3ee93aa2ab9d2a0857?s=128&d=identicon&r=PG&f=1", "display_name": "Markpw", "link": "https://stackoverflow.com/users/7326088/markpw"}, "edited": false, "score": 0, "creation_date": 1482414913, "post_id": 41265014, "comment_id": 69771249, "body": "@Markpw: Can you put your data on line and post a link to it? This should work fine with any amount of data. Also, have you seen the solution in the duplicate question?"}, {"owner": {"reputation": 23, "user_id": 7326088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710ced0e5ca6f3ee93aa2ab9d2a0857?s=128&d=identicon&r=PG&f=1", "display_name": "Markpw", "link": "https://stackoverflow.com/users/7326088/markpw"}, "edited": false, "score": 0, "creation_date": 1482420218, "post_id": 41265014, "comment_id": 69774759, "body": "@Borodin: Sure thank you. <a href=\"https://github.com/Marpw/missingNumbers\" rel=\"nofollow noreferrer\">github.com/Marpw/missingNumbers</a>  The test input runs through fine - no missing values. &lt;- I tested this with missing a few numbers and it works great.  With test_2 I changed the very last value to something a lot higher so the output should show the numbers between the second to last and last item missing.   With test_3 I found that up to 1000, it runs through fine. Anything over it  just outputs the range instead."}, {"owner": {"reputation": 23, "user_id": 7326088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710ced0e5ca6f3ee93aa2ab9d2a0857?s=128&d=identicon&r=PG&f=1", "display_name": "Markpw", "link": "https://stackoverflow.com/users/7326088/markpw"}, "edited": false, "score": 0, "creation_date": 1482420245, "post_id": 41265014, "comment_id": 69774782, "body": "Is there a limit maybe in the Number::Range module?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1482331236, "last_edit_date": 1482331236, "creation_date": 1482330190, "answer_id": 41265014, "question_id": 41264874, "link": "https://stackoverflow.com/questions/41264874/perl-finding-missing-numbers-in-an-incremental-list-of-values/41265014#41265014", "title": "Perl - Finding missing numbers in an incremental list of values", "body": "<blockquote>\n  <p>Is there an easy way to extract these values directly from the text file</p>\n</blockquote>\n\n<p>The simplest way would be to do this. It removes all whitespace as well as extracting the numbers</p>\n\n<pre><code>my @numbers = do{\n    open my $fh, '&lt;', 'document.txt' or die $!;\n    local $/;\n    &lt;$fh&gt; =~ /\\d+/g;\n};\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>and find any missing values</p>\n</blockquote>\n\n<p>Some people seem to think that an answer which helps only partially is completely useless. Here is the rest</p>\n\n<p>I would use a module like <code>Number::Range</code>, like this</p>\n\n<p>It passes the <code>@numbers</code> array straight into the constructor, and then uses the <code>rangeList</code> method to obtain the start and end pairs of all contiguous subsequences. The range of values that covers all of these is from the start of the first sequence to the end of the last one. This is constructed as a new array <code>$all</code>, and the original range deleted from it. That leaves just the gaps in the original range</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Number::Range;\n\nmy @numbers = do {\n    open my $fh, '&lt;', 'document.txt' or die $!;\n    local $/;\n    &lt;$fh&gt; =~ /\\d+/g;\n};\n\nmy $range = Number::Range-&gt;new(@numbers);\n\nmy @sections = $range-&gt;rangeList;\nmy $all = Number::Range-&gt;new(\"$sections[0][0]..$sections[-1][-1]\");\n$all-&gt;delrange($range-&gt;range);\n\nsay scalar $all-&gt;range;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>120002\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1482331006, "post_id": 41265184, "comment_id": 69731264, "body": "Might want to update the answer that also shows how to extract the numbers if they are all on the same line per the OP, just to cover all bases."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1482331070, "post_id": 41265184, "comment_id": 69731310, "body": "@stevieb <a href=\"http://stackoverflow.com/a/41265014/1331451\">Borodin already did that</a>, and <a href=\"http://stackoverflow.com/questions/41264874/perl-finding-missing-numbers-in-an-incremental-list-of-values/41265014?noredirect=1#comment69730718_41264874\">the OP knows how to get it into the format I used</a>."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482332979, "post_id": 41265184, "comment_id": 69732613, "body": "<code>$last ||= $current - 1;</code> <code>||</code> means?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1482335006, "post_id": 41265184, "comment_id": 69734015, "body": "@ssr <code>||=</code> combines the <a href=\"http://perldoc.perl.org/perlop.html#C-style-Logical-Or\" rel=\"nofollow noreferrer\"><i>logical or</i></a> (which is <code>||</code>) and the assignment operator <code>=</code>. If the value on the left is true, nothing happens. If it&#39;s false, the value on the right is assigned to the value on the left. So this basically reads <i>if <code>$last</code> is not set, set it to <code>$current</code> minus one</i>. You could also express it as <code>$last = $current - 1 unless $last</code>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1482330676, "creation_date": 1482330676, "answer_id": 41265184, "question_id": 41264874, "link": "https://stackoverflow.com/questions/41264874/perl-finding-missing-numbers-in-an-incremental-list-of-values/41265184#41265184", "title": "Perl - Finding missing numbers in an incremental list of values", "body": "<p>If you have only integer numbers, you can just iterate the whole thing and keep the most recent number around, then check if the current number is one more. I left out the parsing.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @missing;\nmy $last;\nwhile ( my $current = &lt;DATA&gt; ) {\n    $last ||= $current - 1; # start out with one less than the first\n\n    push @missing, $current unless $last + 1 == $current;\n    $last = $current;\n}\n\np @missing;\n__DATA__\n120000\n120001\n120003\n120004\n120005\n</code></pre>\n\n<p>You need to initialize <code>$last</code> inside of the loop and set it to one less than the first number, or you will always have the first one included. </p>\n\n<p><code>@missing</code> will contain <code>120003</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 7326088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710ced0e5ca6f3ee93aa2ab9d2a0857?s=128&d=identicon&r=PG&f=1", "display_name": "Markpw", "link": "https://stackoverflow.com/users/7326088/markpw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 1, "closed_date": 1482331921, "answer_count": 2, "score": -2, "last_activity_date": 1482331236, "creation_date": 1482329778, "last_edit_date": 1482329909, "question_id": 41264874, "link": "https://stackoverflow.com/questions/41264874/perl-finding-missing-numbers-in-an-incremental-list-of-values", "closed_reason": "Duplicate", "title": "Perl - Finding missing numbers in an incremental list of values", "body": "<p>I need to find a way to find either none, one or more than one missing value in large sequences (200,000 plus) </p>\n\n<p>The values are extracted from a document and placed into a text file. \nBecause of the extraction, there would be blank spaces in between the values, so something like this could be used: <code>$str =~ s/^\\s+|\\s+$//g</code> </p>\n\n<p>The extraction looks something like this (seperated by 2, 3 or 4 blank spaces):</p>\n\n<pre><code>120000  120001    120003  120004  120005\n</code></pre>\n\n<p>Is there an easy way to extract these values directly from the text file and find any missing values using Perl?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482323745, "post_id": 41262899, "comment_id": 69726397, "body": "You could use <b>mysql-shell-output-formats</b> to get the output in <code>json</code> format directly <a href=\"https://dev.mysql.com/doc/refman/5.7/en/mysql-shell-output-formats.html\" rel=\"nofollow noreferrer\">JSON Format Output</a>"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482323815, "post_id": 41262899, "comment_id": 69726430, "body": "Or use this <a href=\"http://search.cpan.org/~yosty/DBIx-JSON-0.02/lib/DBIx/JSON.pm#get_json\" rel=\"nofollow noreferrer\">DBIx::JSON</a>"}, {"owner": {"reputation": 4453, "user_id": 1199519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P3mAz.png?s=128&g=1", "display_name": "mr.nothing", "link": "https://stackoverflow.com/users/1199519/mr-nothing"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482323911, "post_id": 41262899, "comment_id": 69726486, "body": "@martinclayton, I understand this, but it seems <code>fetchall_hashref</code> doesn&#39;t  have any signature containing number of rows for batch processing. Correct me, please, if I&#39;m wrong."}, {"owner": {"reputation": 4453, "user_id": 1199519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P3mAz.png?s=128&g=1", "display_name": "mr.nothing", "link": "https://stackoverflow.com/users/1199519/mr-nothing"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482324103, "post_id": 41262899, "comment_id": 69726596, "body": "@AbhiNickz, It is really huge database table over 200 million entries. Does it provide any possibility to decompose data in chunks? Moreover I need to make some processing after the fetch (rename, etc)..."}, {"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 0, "creation_date": 1482324346, "post_id": 41262899, "comment_id": 69726757, "body": "Instead of passing in undef for the first parameter, pass an empty hash reference, then you should get a ref to an array of hash refs back. i.e. fetchall_arrayref({}, $max_rows).  The docs for fetchall_arrayref say that if the first parameter is undefined, you will get an array of array refs."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482329934, "post_id": 41262899, "comment_id": 69730498, "body": "Note that <code>fetchall_arrayref</code> is <i>slower</i> than <code>fetchrow_arrayref</code> when more than a few columns are involved. You would probably be better of using a simple <code>while ( my $res = $sth-&gt;fetchrow_hashref ) { ... }</code>. In any case you should not try to optimise your code until it is finished and complete and you have found it to be too slow, and even then you should <i>profile</i> your code to see where the bottlenecks are."}], "answers": [{"comments": [{"owner": {"reputation": 4453, "user_id": 1199519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P3mAz.png?s=128&g=1", "display_name": "mr.nothing", "link": "https://stackoverflow.com/users/1199519/mr-nothing"}, "edited": false, "score": 0, "creation_date": 1482325993, "post_id": 41263438, "comment_id": 69727842, "body": "Thanks for your help, but for now it says <code>Can&#39;t use an undefined value as an ARRAY reference</code> for some reason... Did I missed something?"}, {"owner": {"reputation": 4453, "user_id": 1199519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P3mAz.png?s=128&g=1", "display_name": "mr.nothing", "link": "https://stackoverflow.com/users/1199519/mr-nothing"}, "edited": false, "score": 0, "creation_date": 1482326098, "post_id": 41263438, "comment_id": 69727903, "body": "Just a guess: It seems <code>rowcache</code> should be initialized to some value?"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 4453, "user_id": 1199519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P3mAz.png?s=128&g=1", "display_name": "mr.nothing", "link": "https://stackoverflow.com/users/1199519/mr-nothing"}, "edited": false, "score": 2, "creation_date": 1482326207, "post_id": 41263438, "comment_id": 69727976, "body": "@mr.nothing Try to initialize the rowcache with <code>my $rowcache = [];</code>."}, {"owner": {"reputation": 4453, "user_id": 1199519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P3mAz.png?s=128&g=1", "display_name": "mr.nothing", "link": "https://stackoverflow.com/users/1199519/mr-nothing"}, "edited": false, "score": 0, "creation_date": 1482326404, "post_id": 41263438, "comment_id": 69728123, "body": "unfortunately, no luck. Will try to investigate it further."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 4453, "user_id": 1199519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P3mAz.png?s=128&g=1", "display_name": "mr.nothing", "link": "https://stackoverflow.com/users/1199519/mr-nothing"}, "edited": false, "score": 0, "creation_date": 1482326845, "post_id": 41263438, "comment_id": 69728399, "body": "@mr.nothing Initializing it with <code>[]</code> should do the trick. In what line do you get that error? Maybe it&#39;s not related and occurs in code you have not shown us."}, {"owner": {"reputation": 4453, "user_id": 1199519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P3mAz.png?s=128&g=1", "display_name": "mr.nothing", "link": "https://stackoverflow.com/users/1199519/mr-nothing"}, "edited": false, "score": 0, "creation_date": 1482327169, "post_id": 41263438, "comment_id": 69728628, "body": "ah, looked at the doc @nwellnhof provided and there is a tiny thing at the end of the line <code>while( my $row = ( shift(@$rows) || shift(@{$rows=$sth-&gt;fetchall_arrayref(undef,10_000) !!! ||[] !!! }) ))</code> That do the trick after all. Thanks once again!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1482329680, "post_id": 41263438, "comment_id": 69730325, "body": "@nwellnhof: Using an undefined scalar as an array reference will autovifify an empty anonymous array and set the scalar to refer to it. No error will be raised. The problem is that <code>fetchall_arrayref</code> is returning <code>undef</code> when it reaches the end of the table"}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 4, "last_activity_date": 1482325401, "creation_date": 1482325401, "answer_id": 41263438, "question_id": 41262899, "link": "https://stackoverflow.com/questions/41262899/dbi-convert-fetched-arrayref-to-hash/41263438#41263438", "title": "DBI convert fetched arrayref to hash", "body": "<p>If you want <a href=\"https://metacpan.org/pod/DBI#fetchall_arrayref\" rel=\"nofollow noreferrer\"><code>fetchall_arrayref</code></a> to return an array of hashrefs, the first parameter should be a hashref. Otherwise, an array of arrayrefs is returned resulting in the \"Not a HASH reference\" error. So in order to return full rows as hashref, simply pass an empty hash:</p>\n\n<pre><code>$rowcache = $sth-&gt;fetchall_arrayref({}, $max_rows)\n</code></pre>\n"}], "owner": {"reputation": 4453, "user_id": 1199519, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P3mAz.png?s=128&g=1", "display_name": "mr.nothing", "link": "https://stackoverflow.com/users/1199519/mr-nothing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 41263438, "answer_count": 1, "score": 2, "last_activity_date": 1482327956, "creation_date": 1482323530, "last_edit_date": 1482327956, "question_id": 41262899, "link": "https://stackoverflow.com/questions/41262899/dbi-convert-fetched-arrayref-to-hash", "title": "DBI convert fetched arrayref to hash", "body": "<p>I'm trying to write a program to fetch a big MySQL table, rename some fields and write it to JSON. Here is what I have for now:</p>\n\n<pre><code>use strict;\n\nuse JSON;\nuse DBI;\n\n# here goes some statement preparations and db initialization\n\nmy $rowcache;\nmy $max_rows       = 1000;\nmy $LIMIT_PER_FILE = 100000;\n\nwhile ( my $res = shift( @$rowcache )\n    || shift( @{ $rowcache = $sth-&gt;fetchall_arrayref( undef, $max_rows ) } ) ) {\n\n    if ( $cnt % $LIMIT_PER_FILE == 0 ) {\n\n        if ( $f ) {\n            print \"CLOSE $fname\\n\";\n            close $f;\n        }\n\n        $filenum++;\n        $fname = \"$BASEDIR/export-$filenum.json\";\n\n        print \"OPEN $fname\\n\";\n        open $f, \"&gt;$fname\";\n    }\n\n    $res-&gt;{some_field} = $res-&gt;{another_field}\n    delete $res-&gt;{another_field}\n\n    print $f $json-&gt;encode( $res ) . \"\\n\";\n\n    $cnt++;\n}\n</code></pre>\n\n<p>I used the database row caching technique from\n<a href=\"http://www.perlmonks.org/?node_id=273952\" rel=\"nofollow noreferrer\"><em>Speeding up the DBI</em></a>\nand everything seems good.</p>\n\n<p>The only problem I have for now is that on <code>$res-&gt;{some_field} = $res-&gt;{another_field}</code>, the row interpreter complains and says that <code>$res</code> is <code>Not a HASH reference</code>.  </p>\n\n<p>Please could anybody point me to my mistakes?</p>\n"}, {"tags": ["perl", "editor", "sublimetext3", "sublime-text-plugin"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482323550, "post_id": 41262787, "comment_id": 69726279, "body": "Do you want to know <code>perl</code> <code>sub</code> calling from which location means <b>lineno, package and filename</b>? then you can use this in perl <code>my ($package, $filename, $line) = caller;</code> <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow noreferrer\">caller</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1482326422, "post_id": 41262787, "comment_id": 69728134, "body": "@AbhiNickz I think this is not about how to programmatically do something, but about how to get an IDE to do stuff in the user interface."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482326498, "post_id": 41262787, "comment_id": 69728197, "body": "Take a look at <a href=\"http://www.activestate.com/komodo-edit\" rel=\"nofollow noreferrer\">Komodo Edit</a>. I use the commercial version Komodo IDE, which does that. Possibly the free version can do it too."}, {"owner": {"reputation": 43, "user_id": 7225657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf079372614d44444b97545c0e2913fa?s=128&d=identicon&r=PG&f=1", "display_name": "cynkiller", "link": "https://stackoverflow.com/users/7225657/cynkiller"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482396028, "post_id": 41262787, "comment_id": 69759369, "body": "@simbabque Thanks for the advice! I can give it a try."}], "owner": {"reputation": 43, "user_id": 7225657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf079372614d44444b97545c0e2913fa?s=128&d=identicon&r=PG&f=1", "display_name": "cynkiller", "link": "https://stackoverflow.com/users/7225657/cynkiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482323119, "creation_date": 1482323119, "question_id": 41262787, "link": "https://stackoverflow.com/questions/41262787/is-there-any-plugin-in-sublime3-for-display-perl-function-calling-relations", "title": "Is there any plugin in sublime3 for display Perl function calling relations?", "body": "<p>I've using sublime for C coding for a while. With the help of cscope I can easily find the function/symbol calling chain (function/symbol called by which function) and jump freely. But recently I am reading perl code and cannot find a easy way to jump to the source of calling function. Don't want to search the whole project to find each time.</p>\n\n<p>Is there any plugin to help display perl function calling relation?\nOr is there any open source editors on mac to accomplish this?\nThanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 196, "user_id": 2348454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e479a097f0bcd980bc2b7aa083596f17?s=128&d=identicon&r=PG", "display_name": "jhilmer", "link": "https://stackoverflow.com/users/2348454/jhilmer"}, "edited": false, "score": 3, "creation_date": 1482322103, "post_id": 41262425, "comment_id": 69725297, "body": "I suggest you use the DateTime package: <a href=\"http://search.cpan.org/~drolsky/DateTime-1.41/lib/DateTime.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~drolsky/DateTime-1.41/lib/DateTime.pm</a>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1482322768, "post_id": 41262425, "comment_id": 69725790, "body": "Defining a named sub inside a sub is wrong."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482327062, "post_id": 41262425, "comment_id": 69728552, "body": "Do you really have times in the format <code>9:10:8</code>? Where in the world is it that a time with <code>hour:minute:second</code> does not have leading zeroes?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1482328331, "creation_date": 1482328331, "answer_id": 41264381, "question_id": 41262425, "link": "https://stackoverflow.com/questions/41262425/how-to-find-the-difference-of-time-in-hours-between-local-time-and-user-defined/41264381#41264381", "title": "How to find the difference of time in hours between local time and user-defined time?", "body": "<p>You can use <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a>, which is included with Perl. It gives you a convenient way to parse dates into Time::Piece objects, which are essentially epoch timestamps with syntactic sugar. The nice thing about them is that you can use them in math and you'll get seconds.</p>\n\n<p>Because you only have times, we need to have the same date for both the entry and the exit time. One way to do that would be to check today's date and use it in both variables. But it's easier to just leave it out. Time::Piece will assume it's <code>1970-01-01</code>, which is fine, because we don't care. It's only important that both timestamps have the same date as long as you cannot park over night.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::Piece;\n\nmy $entry = Time::Piece-&gt;strptime( '9:10:8', '%H:%M:%S' );\n</code></pre>\n\n<p>We use <a href=\"https://metacpan.org/pod/Time::Piece#Date-Parsing\" rel=\"nofollow noreferrer\">the <code>strptime</code> method</a> to parse the entry time. The second argument is a pattern of <a href=\"http://www.unix.com/man-page/FreeBSD/3/strftime\" rel=\"nofollow noreferrer\">placeholders</a>. <code>%H</code> is hours in 24 hour notation, <code>%M</code> is minutes and <code>%S</code> is seconds. This also works without the leading zeroes.</p>\n\n<p>We now have an entry date of <code>1970-01-01 09:10:08</code>, or <code>Thu Jan  1 09:10:08 1970</code> if you just <code>print $entry</code>.</p>\n\n<p>Next we need to get the exit time.</p>\n\n<pre><code>my ( $sec, $min, $hour ) = localtime;\nmy $exit = Time::Piece-&gt;strptime( \"$hour:$min:$sec\", '%H:%M:%S' );\n</code></pre>\n\n<p>Because just using <code>localtime</code> in scalar context would give us today's date, we have to do an extra step. Your code already got the seconds, minutes and hours of this moment. We just use that as a string in the right format and feed it into <code>strptime</code> the same way we did for <code>$entry</code>. Now we have the exit timestamp, which is <code>Thu Jan  1 14:46:56 1970</code> while I write this.</p>\n\n<p>Getting the duration is a simple matter of subtraction. Converting it to hours is just a division by 60 for minutes and by 60 for hours.</p>\n\n<pre><code>my $duration = $exit - $entry;\nmy $duration_in_hours = $duration / 60 / 60;\n</code></pre>\n\n<p>The <code>$duration_in_hours</code> is <code>5.61333333333333</code> for me right now. If you want people to pay for every started hour, you'd have to round up. </p>\n\n<pre><code>my $fee_started_hours = int( $duration_in_hours + 1 ) * $hourly_fee;\n</code></pre>\n\n<p>I prefer to only pay for full hours of parking, so I'd like rounding down more.</p>\n\n<pre><code>my $fee_full_hours = int( $duration_in_hours ) * $hourly_fee;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 7147198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a24a165898b98d8999e2e5f7642e5b0?s=128&d=identicon&r=PG&f=1", "display_name": "sireesh", "link": "https://stackoverflow.com/users/7147198/sireesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482328331, "creation_date": 1482321812, "last_edit_date": 1482322578, "question_id": 41262425, "link": "https://stackoverflow.com/questions/41262425/how-to-find-the-difference-of-time-in-hours-between-local-time-and-user-defined", "title": "How to find the difference of time in hours between local time and user-defined time?", "body": "<pre><code>#!/usr/bin/perl\n\nsub parkingcharge {\n\n    sub exittime\n    {\n        ($sec, $min, $hour) = localtime();\n        print \"exit time:$hour:$min:$sec\\n\";\n    }\n\n    my $exit  = exittime();\n    my $entry = \"9:10:8\";\n\n    print \"\\nvehicle entry time is :$entry\\n\";\n    print \"\\nvehicle exit time is :$exit\\n\";\n\n    my $parkingCharge = ($entry - $exit);\n\n    print \"\\ntotal parking charge is : $parkingCharge\\n\";\n}\n\nparkingcharge();\n</code></pre>\n\n<p>The output appears like this</p>\n\n<pre><code>exit time:5:46:57\n\nvehicle entry time is :9:10:8\n\nvehicle exit time is :1\n\ntotal parking charge is : 8\n</code></pre>\n\n<p>I want to find the parking charge in a Perl vehicle management program. The rate is $2 per hour, so I want to find the difference between entry time and exit time in hours and multiply by 2. The code I have written produces the wrong result.</p>\n\n<p>How to take the difference between times in hours?</p>\n"}, {"tags": ["linux", "perl", "awk", "grep"], "comments": [{"owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 2, "creation_date": 1482320351, "post_id": 41261929, "comment_id": 69724212, "body": "try with <code>dos2unix inputfile</code>"}, {"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 0, "creation_date": 1482321397, "post_id": 41261929, "comment_id": 69724878, "body": "See <a href=\"http://stackoverflow.com/questions/14680100/removing-control-characters-from-a-file\" title=\"removing control characters from a file\">stackoverflow.com/questions/14680100/&hellip;</a>"}, {"owner": {"reputation": 9, "user_id": 7325404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a83c9405a9728ad15a467024e3c8b134?s=128&d=identicon&r=PG&f=1", "display_name": "StevenH", "link": "https://stackoverflow.com/users/7325404/stevenh"}, "edited": false, "score": 0, "creation_date": 1482321450, "post_id": 41261929, "comment_id": 69724906, "body": "i have updated the question, with a link to a sample file i have, i still get the ^I characters in the beginning of each line..."}, {"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 1, "creation_date": 1482321507, "post_id": 41261929, "comment_id": 69724930, "body": "<code>^I</code> is the tab. Remove it with awk like: <code>awk &#39;{gsub(&#47;\\t&#47;,&quot;&quot;) 1} file</code>. Since I is the 9th character in alphabet, it represents the character decimal 9. The bell is <code>^G</code> the 7th etc.. You can also remove it like: <code>gsub(&#47;\\x09&#47;,&quot;&quot;)</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1482323958, "post_id": 41261929, "comment_id": 69726518, "body": "I&#39;m pretty sure you should be able to just ignore it, as it&#39;s irrelevant to the XML semantics. Just use an XML Parser in the first placfe."}, {"owner": {"reputation": 9, "user_id": 7325404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a83c9405a9728ad15a467024e3c8b134?s=128&d=identicon&r=PG&f=1", "display_name": "StevenH", "link": "https://stackoverflow.com/users/7325404/stevenh"}, "edited": false, "score": 0, "creation_date": 1482325491, "post_id": 41261929, "comment_id": 69727509, "body": "an example with an xml parser? i am not sure i have understood"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1482344361, "post_id": 41261929, "comment_id": 69739600, "body": "What you have in the linked file are just tabs.  I don&#39;t know why you show them as <code>^I</code> here (but that does stand for a tab).  They are considered as white space and easily understood by many environments.  If you need to do some work with that file, use an XML parser, which will deal with tabs just by the way. If you want to just remove those, <code>perl -pe &#39;s&#47;^\\t+&#47;&#47;&#39; input &gt; output</code> will strip all leading tabs. An editor may replace tabs with spaces, so it looks like they are there but there is no tab character in fact.  Then you can use <code>s&#47;^\\s+&#47;&#47;</code> instead, to remove all leading white space."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1482366405, "post_id": 41261929, "comment_id": 69749565, "body": "Using an xml parser would mean that you load a module, like <a href=\"http://search.cpan.org/dist/XML-LibXML/LibXML.pod\" rel=\"nofollow noreferrer\">XML::LibXML</a> or <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow noreferrer\">XML::Twig</a>, and use its methods and functions to open and work with a file. See linked docs, and many SO posts."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1482540382, "post_id": 41261929, "comment_id": 69821940, "body": "It&#39;s unclear what you&#39;re trying to do and why, and what tool(s) you&#39;re using, and what you&#39;ve tried so far. I&#39;m voting to close this question because &quot;How should I handle this?&quot; can&#39;t be answered without knowing what you mean by &quot;this&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 157, "user_id": 6276643, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6dooC.jpg?s=128&g=1", "display_name": "ProgAndPlay", "link": "https://stackoverflow.com/users/6276643/progandplay"}, "is_accepted": false, "score": 0, "last_activity_date": 1482859545, "creation_date": 1482859545, "answer_id": 41349482, "question_id": 41261929, "link": "https://stackoverflow.com/questions/41261929/how-to-remove-control-characters-from-a-text-file/41349482#41349482", "title": "How to remove control characters from a text file", "body": "<p>You could try this:</p>\n\n<pre><code>while (&lt;&gt;) {\n   s/\\cX//g; # removes ^X's\n   s/\\cI//g; # removes ^I's\n   ...  \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1547454173, "creation_date": 1547454173, "answer_id": 54177868, "question_id": 41261929, "link": "https://stackoverflow.com/questions/41261929/how-to-remove-control-characters-from-a-text-file/54177868#54177868", "title": "How to remove control characters from a text file", "body": "<blockquote>\n  <p>When I search for <code>[:cntrl:]</code> characters, I get letters like the <strong>l</strong>\n  in the below row:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;^M$\n</code></pre>\n</blockquote>\n\n<p><code>man 7 regex</code> says:</p>\n\n<blockquote>\n  <p>Within a bracket expression, the name of a character class enclosed  in\n         \"[:\"  and  \":]\" stands for the list of all characters belonging to that\n         class.</p>\n</blockquote>\n\n<p>So, since the <code>[:cntrl:]</code> has to be <em>within a bracket expression</em>, you have to search for <code>[[:cntrl:]]</code>.</p>\n\n<p>The <code>[:cntrl:]</code> alone is just a bracket expression which <em>matches any single character from the list</em> <code>:</code>, <code>c</code>, <code>n</code>, <code>t</code>, <code>r</code>, <code>l</code>, hence it matches the <code>l</code> in <code>&lt;?xml \u2026</code>.</p>\n"}], "owner": {"reputation": 9, "user_id": 7325404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a83c9405a9728ad15a467024e3c8b134?s=128&d=identicon&r=PG&f=1", "display_name": "StevenH", "link": "https://stackoverflow.com/users/7325404/stevenh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 632, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1547455005, "creation_date": 1482320228, "last_edit_date": 1547455005, "question_id": 41261929, "link": "https://stackoverflow.com/questions/41261929/how-to-remove-control-characters-from-a-text-file", "title": "How to remove control characters from a text file", "body": "<p>I have a file, from which I need to extract all control characters, but I cannot understand what is going on.</p>\n\n<pre><code>$ cat -v -e -t values.xml | head -n 10\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;^M$\n^I^I^I&lt;HHDGSID&gt;1&lt;/HHDGSID&gt;^M$\n^I^I^I&lt;SEHJJE&gt;1&lt;/SEHJJE&gt;^M$\n^I^I^I&lt;ADRTYPE&gt;0&lt;/ADRTYPE&gt;^M$\n^I^I^I&lt;TESTJGHJTE&gt;30/10/2000&lt;/TESTJGHJTE&gt;^M$\n</code></pre>\n\n<p>When I search for <code>[:cntrl:]</code> characters, I get letters like the <code>l</code>\nin the below row:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;^M$\n</code></pre>\n\n<p>How should I handle this?</p>\n\n<p>Here is a sample of <a href=\"https://1drv.ms/u/s!Ao8bJWafvltknCQqwySQPy_WgTFD\" rel=\"nofollow noreferrer\">my file</a>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n            &lt;SOME&gt;1&lt;/SOME&gt;\n            &lt;SOMEEXTRA&gt;1&lt;/SOMEEXTRA&gt;\n            &lt;ADRTYPE&gt;0&lt;/ADRTYPE&gt;\n            &lt;SOMEEXTRADATE&gt;30/10/2000&lt;/SOMEEXTRADATE&gt;\n            &lt;SOMEEXTRACDATE&gt;30/10/2000&lt;/SOMEEXTRACDATE&gt;\n            &lt;CODE&gt;0&lt;/CODE&gt;\n            &lt;CEBY&gt;1&lt;/CEBY&gt;\n        &lt;/ORD&gt;\n</code></pre>\n"}, {"tags": ["perl", "tcl"], "comments": [{"owner": {"reputation": 253206, "user_id": 12960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53d539b59c19087182f0b1c53bb52de?s=128&d=identicon&r=PG", "display_name": "Brian Agnew", "link": "https://stackoverflow.com/users/12960/brian-agnew"}, "edited": false, "score": 0, "creation_date": 1482313961, "post_id": 41259764, "comment_id": 69719853, "body": "I think you need to be much more specific re. what you&#39;ve currently <i>tried</i> in Perl"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482313981, "post_id": 41259764, "comment_id": 69719867, "body": "Yes. Include the Perl code you already have so we don&#39;t redo your work."}, {"owner": {"reputation": 7044, "user_id": 667820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wl7er.png?s=128&g=1", "display_name": "Henk Langeveld", "link": "https://stackoverflow.com/users/667820/henk-langeveld"}, "edited": false, "score": 0, "creation_date": 1482314076, "post_id": 41259764, "comment_id": 69719948, "body": "You&#39;re trying to process zip files.  <a href=\"http://perldoc.perl.org/IO/Uncompress/Unzip.html#Walking-through-a-zip-file\" rel=\"nofollow noreferrer\">IO::Uncompress::Unzip</a> might help."}, {"owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1482315503, "post_id": 41259764, "comment_id": 69721007, "body": "I share my code please see my attempt"}, {"owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1482318053, "post_id": 41259764, "comment_id": 69722860, "body": "@<a href=\"http://stackoverflow.com/users/667820/henk-langeveld\">stackoverflow.com/users/667820/henk-langeveld</a> please see my attempt."}], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 0, "last_activity_date": 1482362245, "creation_date": 1482362245, "answer_id": 41273520, "question_id": 41259764, "link": "https://stackoverflow.com/questions/41259764/convert-tcl-code-into-perl/41273520#41273520", "title": "Convert TCL code into Perl", "body": "<p>This may be a more direct translation: untested:</p>\n\n<pre><code>use File::Temp          qw/ tempfile /;\nuse Archive::Zip        qw/ :ERROR_CODES /;\nuse Archive::Zip::MemberRead;\nuse autodie;\n\nsub extract_from_zip_by_ext {\n    my ($fileName, $ext) = @_;\n    my @suffixlist = qw( HDR hdr zip ZIP ) ;\n    my $zip = Archive::Zip-&gt;new($fileName);\n    my $tmpname_base = new File::Temp( UNLINK =&gt; 1 );\n    my $tmpname = \"$tmpname_base.$ext\";\n\n    for my $member($zip-&gt;members) {\n        my $memberFilename = $member-&gt;fileName;\n        if ($memberFilename =~ /\\.$ext$/i) {\n            my $contents;\n            my $fh = Archive::Zip::MemberRead-&gt;new($zip, $memberFilename);\n            $fh-&gt;read($contents, $member-&gt;uncompressedSize);\n            $fh-&gt;close();\n\n            open my $ftmp, \"&gt;\", $tmpname;\n            print $ftmp $contents;\n            close $ftmp\n\n            return $tmpname;\n        }\n    }\n}\n</code></pre>\n\n<p>Since you're using <code>UNLINK =&gt; 1</code>, your file is probably deleted when you return from the sub. </p>\n\n<p>Note the <code>use</code> commands are executed at compile time, even if you put them in a subroutine, so you might as well collect them at the top of the code.</p>\n"}], "owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482362245, "creation_date": 1482313842, "last_edit_date": 1482323344, "question_id": 41259764, "link": "https://stackoverflow.com/questions/41259764/convert-tcl-code-into-perl", "title": "Convert TCL code into Perl", "body": "<p>I have a TCL script in which one \"proc\" I want to convert into Perl \"Sub\", I'm not tcl expert. I know Perl but the in proc some commands are use which I cant convert into Perl.</p>\n\n<pre class=\"lang-tcl prettyprint-override\"><code>proc extract_from_zip_by_ext {zip ext} {\n    set low_ext [string tolower $ext]\n\n    foreach f [zipread_list $zip] {\n        set filename [lindex $f 0]\n\n        if {[string match -nocase \"*.${ext}\" $filename]} {\n\n            #\n            # We leave base alone rather than renaming it to\n            # base.low_ext to make sure no other process uses\n            # the same name.\n            #\n            set tmpname_base [::fileutil::tempfile]\n            set tmpname \"${tmpname_base}.${low_ext}\"\n\n            set filebytes [zipread_extract $zip $filename]\n\n            set fp [open $tmpname w]\n            fconfigure $fp -translation binary\n            puts -nonewline $fp $filebytes\n            close $fp\n\n            file delete -force $tmpname_base\n            return $tmpname\n        }\n    }\n\n    return {}\n}\n</code></pre>\n\n<p>This proc takes zip file name and ext of file inside zip (ex .txt) there are other files are also in zip (ex .doc) but ignore those file and get only .txt and somewhere temp file created with original file name write all content from .txt files of all zip files and return temp file so we can access its name as well as data from all .txt from all zip</p>\n\n<p>above logic is what I understand from tcl but some how I couldn't interpret in Perl</p>\n\n<p>My try so far:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub extract_from_zip_by_ext ($$){\n    my($fileName, $ext) = @_;\n    # say \"$fileName $ext\\n\";\n    use Archive::Zip qw( :ERROR_CODES ) ; \n    use File::Temp qw/ tempfile tempdir /;\n    use Archive::Zip::MemberRead;\n    use File::Basename;\n\n    my @suffixlist = qw( HDR hdr zip ZIP) ;\n    my $zip = Archive::Zip-&gt;new($fileName);\n    my $unzipOutput;\n    my ($dtgFname,$dtgFpath,$dtgFsuffix) = fileparse($fileName, @suffixlist);\n    # say \"$dtgFname\\n\";\n    my $tmpname_base = new File::Temp( UNLINK =&gt; 1 );\n    my $tmpname = ${dtgFname}.${ext};\n\n    open FH, \"&gt;&gt;\", $tmpname or die \"cant write $tmpname: $!\\n\";\n    for my $member($zip-&gt;members){\n        $unzipOutput = $member-&gt;fileName;       \n        if($unzipOutput =~ /\\.$ext$/i){ \n            my $fh = Archive::Zip::MemberRead-&gt;new($zip, $unzipOutput);          \n            while (defined(my $line = $fh-&gt;getline())){\n                say FH $line;\n                # say \"$tmpname\\n\";\n                return ($tmpname, $line);\n            }\n        }\n    }\n    close FH;\n}\n</code></pre>\n"}, {"tags": ["perl", "tie", "bless"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1482309306, "post_id": 41258330, "comment_id": 69716829, "body": "I don&#39;t think I would want to work in a place that asks this kind of interview question."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482309433, "post_id": 41258330, "comment_id": 69716904, "body": "I am a perl developer and using it in day to day life. So my concern is not for interview, but for knowing it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482309612, "post_id": 41258330, "comment_id": 69717012, "body": "DId you read <a href=\"http://perldoc.perl.org/perltie.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perltie.html</a> as well?"}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482309669, "post_id": 41258330, "comment_id": 69717044, "body": "fortunately I was just reading the same doc and this link too <code>http:&#47;&#47;www.perlmonks.org&#47;bare&#47;?node_id=461198</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482310520, "post_id": 41258330, "comment_id": 69717554, "body": "That&#39;s not very detailed about <code>tie</code>. Some example uses of <code>tie</code> are to use an array for a file, where each row represents a line in a file, and if you change array elements, stuff magically happens on disk, or tying a hash to some function so you can call <code>$tied_hash{$arg}</code> and it will call a function with <code>$arg</code> under the hood. But I&#39;ve never built anything with <code>tie</code> myself."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482314240, "post_id": 41258330, "comment_id": 69720053, "body": "Here is an abstract similarity.  A <code>tie</code> associates (or, equips) a variable with some behavior, action. So when you just read a tied scalar, things happen -- anything you code.  Perhaps a database entry is made, or a text message sent.  The <code>bless</code> associates a variable (reference) with a package.  So now when you use that reference (an object) anything you coded may happen.  So both associate a variable with actions."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482319088, "post_id": 41258330, "comment_id": 69723499, "body": "<code>bless</code> allows you to calls methods on the blessed object.   <code>tie</code> allows you to override built-in operations on variables, namely reading from/assigning to scalars, and list and hash operations like indexing, exists, delete etc. So in some sense, <code>tie</code> works on a variable and <code>bless</code> works on a thing that is stored in a variable."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482325456, "post_id": 41258330, "comment_id": 69727492, "body": "tie is an interesting one - it lets you do all sorts of clever things, but I&#39;m not honestly sure it&#39;s good style to make a &#39;standard&#39; variable do funky things like that, because it&#39;s action at a distance. Future programmers might expect <code>$funky_tied_var</code> to behave in a way that it doesn&#39;t.  But for testing, it can be really pretty handy to have &#39;magic&#39; going on."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1482328300, "creation_date": 1482328300, "answer_id": 41264372, "question_id": 41258330, "link": "https://stackoverflow.com/questions/41258330/what-is-difference-between-bless-and-tie-in-perl/41264372#41264372", "title": "What is difference between bless and tie in perl?", "body": "<p>I would probably answer your interview question like this:</p>\n\n<p>Tie and bless serve similar functions, in that they associate custom behaviour with a variable. The difference comes in terms of focus - <code>tie</code> is about adding new behaviour to a 'standard' data structure, where <code>bless</code> is about creating a 'new' data structure altogether. </p>\n\n<p>You are therefore more limited with <code>tie</code> to the fundamental operations of the data type you're working with, where a <code>bless</code>ed data structure has an almost unlimited scope of possiblity. But the tradeoff is that <code>tie</code>ed variables can serve as drop in replacements - if you extend a 'hash' by <code>tie</code>ing it to a file or a database, it can still function in the same way without any sort of code revision needed. </p>\n\n<p>This strength is also in many ways it's weakness though - where a future programmer when confronted with an object and a method call in some code, would know they need to look to the class to understand what's going on - they might not realise that a tied hash (or scalar) is doing 'something special'. </p>\n\n<p>I would therefore suggest that as a matter of style <code>tie</code> should be reserved for a diagnostic and testing role - it may be handy to log when a value changes in a hash, but shouldn't be used to make things behave in unexpected ways. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1482334683, "last_edit_date": 1482334683, "creation_date": 1482334271, "answer_id": 41266411, "question_id": 41258330, "link": "https://stackoverflow.com/questions/41258330/what-is-difference-between-bless-and-tie-in-perl/41266411#41266411", "title": "What is difference between bless and tie in perl?", "body": "<p><code>bless</code> is used to construct an object.</p>\n\n<p><code>tie</code> allows code to provide a variable for interface. e.g. It might look like you are assigning to a variable, but you are really calling a sub. <code>tie</code> and other forms of magic are primarily used to provide \"clever\" interfaces (e.g. altering <code>%ENV</code> alters the environment, altering <code>%SIG</code> sets signal handlers, <code>$!</code> mirrors both <code>errno</code> and <code>perror</code>, etc). It can also be used to extend the usefulness of existing code (e.g. creating something that looks like a file handle allows one to reuse code that expects to get its input from a file handle).</p>\n"}], "owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 1, "accepted_answer_id": 41266411, "answer_count": 2, "score": 2, "last_activity_date": 1482334683, "creation_date": 1482309115, "last_edit_date": 1482331969, "question_id": 41258330, "link": "https://stackoverflow.com/questions/41258330/what-is-difference-between-bless-and-tie-in-perl", "title": "What is difference between bless and tie in perl?", "body": "<p>I was practicing some interview questions where I found this. I had a look at <code>perldoc -f tie</code> but couldn't get it. I know about <code>bless</code> and is using in my programs.<br> <br>Can anyone tell me what is <code>tie</code> and how it is related and different from <code>bless</code>, and its usage? I will appreciate any simple example.<br><br>PS: I am a perl developer and using it in day to day life. My concern is not for interview, but for knowing it</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1482302266, "post_id": 41256523, "comment_id": 69713327, "body": "Ah. Of course. I tried replacing the offending section with <code>sleep 1; $exp-&gt;send(&quot;\\x10&quot;); sleep 1; $exp-&gt;send(&quot;\\x0D&quot;); sleep 1;</code>, but it doesn&#39;t appear to drive the line editor."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1482303949, "post_id": 41256523, "comment_id": 69714133, "body": "Well you need to send newlines also after it. I just demonstrated the important part. Check update."}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1482304578, "post_id": 41256523, "comment_id": 69714438, "body": "What did you see when you ran it? I tried replacing my <code>$exp-&gt;send(&quot;\\cm\\cp&quot;);</code> with what you suggested and I can&#39;t get <code>bash</code> to echo <code>hi</code> twice.  ... nevermind you have to actually expect a prompt in between..."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1482304724, "post_id": 41256523, "comment_id": 69714502, "body": "In my case it worked as expected. I was executing <code>date</code> command and it get executed twice."}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1482304786, "post_id": 41256523, "comment_id": 69714528, "body": "I forgot to call <code>$exp-&gt;expect(&#39;$ &#39;)</code> in between sending the control characters. I&#39;m still not completely clear why that&#39;s necessary but that may be a question for another day."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1482304946, "post_id": 41256523, "comment_id": 69714597, "body": "<code>$exp-&gt;expect(&#39;$ &#39;)</code> is needed for the prompt. Before running any command  it is good idea to check for prompt."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1482304112, "last_edit_date": 1482304112, "creation_date": 1482302000, "answer_id": 41256523, "question_id": 41256133, "link": "https://stackoverflow.com/questions/41256133/perl-expect-pm-send-control-character-to-subprocess/41256523#41256523", "title": "Perl Expect.pm send control character to subprocess", "body": "<p>The characters escapes you are searching are specific to Perl regex. For your purpose, I would suggest you to pass the <a href=\"http://www.nthelp.com/ascii.htm\" rel=\"nofollow noreferrer\"><code>hex value</code></a> for <code>ctrl-M</code> and <code>ctrl-P</code>.</p>\n\n<pre><code>$exp-&gt;send(\"\\x10\"); # ctrl+P\n\n$exp-&gt;send(\"\\x0D\"); # ctrl+M\n</code></pre>\n\n<p>Update(tested):</p>\n\n<pre><code>$exp-&gt;send(\"\\x10\"); # ctrl+P\n$exp-&gt;send(\"\\n\"); # send newline\nsleep 2;\n\n# wait for prompt\n$exp-&gt;expect($timeout, '$ ');\n\n$exp-&gt;send(\"\\x0D\"); # ctrl+M\n$exp-&gt;send(\"\\n\"); # send newline\n</code></pre>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 41256523, "answer_count": 1, "score": 0, "last_activity_date": 1482304112, "creation_date": 1482300133, "question_id": 41256133, "link": "https://stackoverflow.com/questions/41256133/perl-expect-pm-send-control-character-to-subprocess", "title": "Perl Expect.pm send control character to subprocess", "body": "<p>I am trying to write a script that uses the <code>bash</code> line editor to recall a previously entered command. Here's the simple session I'm trying to automate.</p>\n\n<pre><code>$ bash --norc --noprofile\nbash4.4$ echo hi\nhi\nbash4.4$\n</code></pre>\n\n<p>then type '^P^M'</p>\n\n<pre><code>bash4.4$ echo hi\nhi\n</code></pre>\n\n<p>Here is my first attempt at scripting this using the Expect.pm module off CPAN. The two <code>sleep 1</code>s are in there to guard against the possibility of race conditions when invoking the line editor since I'm not sure what perl sees when that happens.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings FATAL =&gt; 'all';\nuse autodie;\nuse Expect;\n\nmy $timeout = 10;\n\nmy $exp = Expect-&gt;new();\n\n$exp-&gt;spawn('bash --norc --noprofile');\n\n# wait for first prompt\n$exp-&gt;expect($timeout, '$ ');\n# send echo hi\n$exp-&gt;send(\"echo hi\\n\");\n# wait for prompt again\n$exp-&gt;expect($timeout, '$ ');\n# use history recall ^P, then send ^M\nsleep 1;\n$exp-&gt;send(\"\\cp\\cm\");\nsleep 1;\nprint \"okay done!\\n\";\n</code></pre>\n\n<p>It works up until I hit <code>\"\\cp\\cm\"</code> (I've also tried <code>\"\\cP\\cM\"</code>). According to the perl documentation, <code>\\cX</code> introduces an ASCII control character. (<a href=\"http://perldoc.perl.org/perlrebackslash.html#Character-Escapes\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlrebackslash.html#Character-Escapes</a>)</p>\n\n<blockquote>\n  <p>Control characters \\c is used to denote a control character; the\n  character following \\c determines the value of the construct. For\n  example the value of \\cA is chr(1), and the value of \\cb is chr(2),\n  etc. The gory details are in Regexp Quote-Like Operators in perlop. A\n  complete list of what chr(1), etc. means for ASCII and EBCDIC\n  platforms is in OPERATOR DIFFERENCES in perlebcdic.</p>\n</blockquote>\n\n<p>This is what I actually get when I run the script, which strongly suggests that the control characters are not getting passed to the subprocess properly and possibly aren't passed at all.</p>\n\n<pre><code>% perl bash.pl\nbash-4.4$ echo hi\nhi\nbash-4.4$ okay done!\n</code></pre>\n\n<p>What's going on here? How do I pass a control character to a process with Expect.pm?</p>\n"}, {"tags": ["perl", "replace", "sed"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482306461, "post_id": 41255578, "comment_id": 69715419, "body": "You can use this to remove <b>CR</b> &amp; <b>LF</b> <code>$_ =~ s&#47;\\x{0A}&#47;&#47;g; # remove line feed</code> <code>$_ =~ s&#47;\\x{0D}&#47;&#47;g; # remove carriage return</code>"}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1482310130, "post_id": 41255578, "comment_id": 69717316, "body": "You didn&#39;t ask a question :-) Do you want to replace sequential CRLFs with a single CRLF? Or are you trying to do something more complex?"}, {"owner": {"reputation": 21, "user_id": 7323957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62ec4763e1fa751f9b5b0c4d271b59b?s=128&d=identicon&r=PG&f=1", "display_name": "noobuserpm", "link": "https://stackoverflow.com/users/7323957/noobuserpm"}, "edited": false, "score": 0, "creation_date": 1482366029, "post_id": 41255578, "comment_id": 69749472, "body": "I....didn&#39;t ask a question. My bad. I guess my question is how do I know when to which syntax? And if I can&#39;t determine which syntax, what&#39;s the simplest expression that I can work &quot;forwards&quot; from?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482335804, "post_id": 41263478, "comment_id": 69734578, "body": "<code>-0777</code> is the proper way of reading the entire file. <code>-0</code> only reads until a a NUL."}, {"owner": {"reputation": 66, "user_id": 7012962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb2d1debd8230d248bcc4aefb43b4353?s=128&d=identicon&r=PG&f=1", "display_name": "Mariusz", "link": "https://stackoverflow.com/users/7012962/mariusz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482336849, "post_id": 41263478, "comment_id": 69735346, "body": "Yes, that&#39;s right. If the csv file contains null values it should be <code>-0777</code> to be sure to read entire file. I&#39;ve corrected the answer. Thanks."}, {"owner": {"reputation": 21, "user_id": 7323957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62ec4763e1fa751f9b5b0c4d271b59b?s=128&d=identicon&r=PG&f=1", "display_name": "noobuserpm", "link": "https://stackoverflow.com/users/7323957/noobuserpm"}, "edited": false, "score": 0, "creation_date": 1482354280, "post_id": 41263478, "comment_id": 69745039, "body": "Thank you! I was experimenting with the minimum code that would actually change the output2 file and what I got so far was <code>perl -p0e &quot;s&#47;\\n\\n(.+)\\n&#47;\\1 &#47;g&quot; output.csv &gt; output2.csv</code>. It didn&#39;t like <code>^(.+)</code> or <code>[^\\d]</code> or <code>[^0-9]</code> which was really surprising to me. I tried out your option change and it appeared to work great. I have to iron out a couple outliers, but I believe that option change was the big problem. Just so you know I upvoted you, but my rep stinks."}], "tags": [], "owner": {"reputation": 66, "user_id": 7012962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb2d1debd8230d248bcc4aefb43b4353?s=128&d=identicon&r=PG&f=1", "display_name": "Mariusz", "link": "https://stackoverflow.com/users/7012962/mariusz"}, "is_accepted": true, "score": 0, "last_activity_date": 1482336895, "last_edit_date": 1482336895, "creation_date": 1482325567, "answer_id": 41263478, "question_id": 41255578, "link": "https://stackoverflow.com/questions/41255578/finding-split-lines-and-removing-the-crlf-between-them/41263478#41263478", "title": "finding split lines and removing the CRLF between them", "body": "<p>Try this to get rid of all splits.</p>\n\n<pre><code>perl -p0777e \"s/\\n\\n?([^0-9])/ \\1/g\" output.csv &gt; output2.csv\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7323957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62ec4763e1fa751f9b5b0c4d271b59b?s=128&d=identicon&r=PG&f=1", "display_name": "noobuserpm", "link": "https://stackoverflow.com/users/7323957/noobuserpm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 41263478, "answer_count": 1, "score": 0, "last_activity_date": 1482336895, "creation_date": 1482297309, "last_edit_date": 1495542295, "question_id": 41255578, "link": "https://stackoverflow.com/questions/41255578/finding-split-lines-and-removing-the-crlf-between-them", "title": "finding split lines and removing the CRLF between them", "body": "<p>I apologize as this is a noob s// question, but I'm frustrated as to the inconsistency of operation across different applications/tools. I don't know enough about the differences. I've researched and looked at this below link's thread and have been banging my head against a wall for hours.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3214855/perl-remove-carriage-return-and-append-next-line\">Perl - remove carriage return and append next line</a></p>\n\n<p>The issue is that I'm data cleaning (boo) and I believe I have found a generic solution that reduces 7+ s// operations into one. But I can't get the operation to work via command line when it works in notepad++ and this online tool regex101.com. </p>\n\n<p>Here is some similar data:</p>\n\n<pre><code>1429,12/6/2016,11:07:24 AM,T,527:472,281,2,176,-,205,Error,[CR][LF]\n[CR][LF]\nanchorstring::anchorstring2 message payload[CR][LF]\nimportant data here =999, source=001, xyz=687[CR][LF]\n1430,12/6/2016,11:07:24 AM,T,527:472,281,11,1844,-,81,Message,writing data[CR][LF]\n</code></pre>\n\n<p>I added the [CR][LF] because using notepad++ I can see them. I cannot get rid of them via a command line perl expression.</p>\n\n<p>Obviously the three lines that don't start with a number are bad lines that need to be pulled back into line 1429.</p>\n\n<p>I've tried: </p>\n\n<pre><code>perl -p0e \"s/(\\cM\\cJ)?\\cM\\cJ(^[^\\d].+)/\\2 /g\" output.csv &gt; output2.csv\n\nperl -p0e \"s/(\\r\\n)?\\r\\n(^[^\\d].+)/\\2 /g\" output.csv &gt; output2.csv\n\nsed -r s/\"\\r\\n(^[^\\d].+)\"/\"\\1 \"/g output.csv &gt; output2.csv\n\nperl -p0e \"s/\\n(^[^\\d]+.+)/\\1 /g\" output.csv &gt; output2.csv\n</code></pre>\n\n<p>ad nauseum... </p>\n\n<p>The frustrating thing is that it works when I use the regex find&amp;replace operator in notepad++ and the regex101 tool says it should find and replace it. </p>\n\n<p><code>perl -p00e \"s/(,Error,)\\n\\n/\\1/g\" output.csv &gt; output2.csv</code> worked to get rid of the CRLFs but that anchors to \"Error\" and not all of the splits have that. </p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl", "cgi", "dbi"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7323472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a511cdf391b63ffb4c3e11ecac40ef?s=128&d=identicon&r=PG&f=1", "display_name": "csay", "link": "https://stackoverflow.com/users/7323472/csay"}, "is_accepted": false, "score": 1, "last_activity_date": 1482393716, "last_edit_date": 1482393716, "creation_date": 1482357713, "answer_id": 41272643, "question_id": 41255346, "link": "https://stackoverflow.com/questions/41255346/timeout-issue-during-insert-duplicate-value-on-table/41272643#41272643", "title": "Timeout issue during insert duplicate value on table", "body": "<p>Your code need the module \"CGI::Carp - CGI routines for writing to the HTTPD (or other) error log\". So that the Perl error will be logged in HTTPD log. Please study a bit in <a href=\"http://perldoc.perl.org/CGI/Carp.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/CGI/Carp.html</a> to learn how to use it.</p>\n\n<p>Then, you might insert below code right after the execution of the insert record statement. I supposed the $sth->errstr will contain the unique constraint error. You might test it intentionally inserting a duplicate record and print it (<code>print $sth-&gt;errstr;</code>). </p>\n\n<pre><code>if( $sth-&gt;err ) { # an error has occurred\n   die \"Insert error: \". $sth-&gt;errstr;\n}\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 3748944, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4bcc4d704b14945b7e14aed5065b9981?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Kovtunenko", "link": "https://stackoverflow.com/users/3748944/oleksandr-kovtunenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1482393716, "creation_date": 1482296127, "last_edit_date": 1592644375, "question_id": 41255346, "link": "https://stackoverflow.com/questions/41255346/timeout-issue-during-insert-duplicate-value-on-table", "title": "Timeout issue during insert duplicate value on table", "body": "<p>Before running script I inserted into the table values.</p>\n<p><code>INSERT INTO table4 VALUES('art','best')</code> the table has <strong>unique constraint</strong> on first field . There are sample of my cgi code:</p>\n<pre><code>cat action.pl\n#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse subs;\nuse CGI;\nuse DBI;\nuse DBD::Oracle;\n$|++;\nmy $dbh;\n\n\nmy $db_name=&quot;Oracle:xe&quot;;\nmy $user=&quot;SYSTEM&quot;;\nmy $password=&quot;ps&quot;;\n\nmy %first_table_object=(\n    column_names =&gt; [ &quot;filed1&quot; , &quot;field2&quot; ],\n    table_name =&gt;  [ &quot;table4&quot; ]\n);\n\n\nmy %second_table_object=(\n    column_names =&gt; [ &quot;BETA&quot; , &quot;PAST&quot; ],\n    table_name =&gt;  [ &quot;table3&quot; ]\n);\nprint qq(Content-type: text/html\\n\\n);\nmy $html = &lt;&lt;EOT;\nEOT\n;\nprint $html;\neval{\n    $dbh = DBI-&gt;connect(&quot;DBI:$db_name&quot;,$user, $password,\n                       {\n                            'RaiseError' =&gt; 1,\n                            ShowErrorStatement =&gt; 1,\n                            PrintError=&gt;1 \n                        });\n};\nif( $@ ){\n    print $@;\n    die(&quot;couldn't connect $@&quot;);\n}\n\nmy $query = new CGI;\nmy $value1= $query-&gt;param('textbox');\nmy $value2= $query-&gt;param('dropDownvalue');\nmy $index=$query-&gt;param('index');\nmy $sth;\neval{\n    my %current_hash_obj;\n    if ( $index == 0 ){\n        # We may change to INSERT INTO table_name(column1,column2)  VALUES ( ?, ? )\n        $sth = $dbh-&gt;prepare(&quot;INSERT INTO $first_table_object{table_name}[0] ($first_table_object{column_names}[0] , $first_table_object{column_names}[1] )  VALUES ( ?, ? )&quot;) or die $dbh-&gt;errstr;\n    }\n    else{\n        # we may change to INSERT INTO table_name(column1,column2)  VALUES ( ?, ? )\n        $sth = $dbh-&gt;prepare(&quot;INSERT INTO $second_table_object{table_name}[0] ($second_table_object{column_names}[0] , $second_table_object{column_names}[1] )  VALUES ( ?, ? )&quot;) or die $dbh-&gt;errstr ;\n    }\n    if(defined($sth)){\n        $sth-&gt;execute($value1,$value2);\n    }\n    else{\n        $dbh-&gt;disconnect;\n        die(&quot;Sth not defined&quot;);\n     }\n    #$dbh-&gt;do(&quot;INSERT INTO $inserted_table VALUES (  $value1, $value2 )&quot;);\n};\n\nif( $@ ){\n    print $@;\n    $dbh-&gt;disconnect;\n    die(&quot;ERROR $@&quot;);\n}\nprint &quot;Succesfuly inserted&quot;;\n</code></pre>\n<p>I run CGI script by calling</p>\n<pre><code>http://127.0.0.1/cgi-bin/action.pl?index=0&amp;dropDownvalue=TYPE_MISC$&amp;textbox=art&amp;_=1482294800012\n</code></pre>\n<p>and I got this in the log</p>\n<blockquote>\n<p><code>[Tue Dec 20 23:48:48 2016] [warn] [client 127.0.0.1] Timeout waiting for output from CGI script /var/www/cgi-bin/action.pl</code></p>\n<p><code>[Tue Dec 20 23:48:48 2016] [error] [client 127.0.0.1] (70007)The timeout specified has expired: ap_content_length_filter: apr_bucket_read() failed</code></p>\n</blockquote>\n<p>How can I resolve <strong>timeout issue</strong>? I would like to see <strong>unique constraint error</strong> instead of <strong>timeout error</strong>?</p>\n"}, {"tags": ["python", "regex", "perl", "escaping", "tokenize"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1482294450, "post_id": 41254940, "comment_id": 69710651, "body": "You&#39;re using all raw strings. The backslash is literal."}, {"owner": {"reputation": 13302, "user_id": 4082217, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/15ad55dad62ce17d0852311c0e3fa92c?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Yusuf", "link": "https://stackoverflow.com/users/4082217/mohammad-yusuf"}, "edited": false, "score": 1, "creation_date": 1482294609, "post_id": 41254940, "comment_id": 69710695, "body": "Check this: <a href=\"http://stackoverflow.com/questions/7063420/perl-compatible-regular-expression-pcre-in-python\" title=\"perl compatible regular expression pcre in python\">stackoverflow.com/questions/7063420/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482319424, "post_id": 41254940, "comment_id": 69723707, "body": "The backslashes are not required in the Perl version either."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1482340589, "post_id": 41268209, "comment_id": 69737524, "body": "As a side note, if you&#39;re trying to encode HTML/XML entities, you should use a module instead of writing a bunch of regexes. Perl has <a href=\"https://metacpan.org/pod/HTML::Entities\" rel=\"nofollow noreferrer\">HTML::Entities</a>, among others; a quick search for Python 2 turns up <a href=\"https://docs.python.org/2/library/cgi.html#cgi.escape\" rel=\"nofollow noreferrer\">cgi.escape</a>."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1482388600, "post_id": 41268209, "comment_id": 69755641, "body": "I think using Python XML escape is a good idea too! But too bad in the case of this task, it&#39;s best to keep it because of a downstream task later."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1482345103, "last_edit_date": 1482345103, "creation_date": 1482340042, "answer_id": 41268209, "question_id": 41254940, "link": "https://stackoverflow.com/questions/41254940/backslashes-and-escaping-chars-in-python-vs-perl-regexes/41268209#41268209", "title": "Backslashes and escaping chars in Python vs Perl regexes", "body": "<p>In both Perl and Python, you have to escape the following regex metacharacters if you want to match them literally outside of a character class<sup>1</sup>:</p>\n\n<pre><code>{}[]()^$.|*+?\\\n</code></pre>\n\n<p>Inside a character class, you have to escape metacharacters according to these rules<sup>2</sup>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>     Perl                          Python\n-------------------------------------------------------------\n-    unless at beginning or end    unless at beginning or end\n]    always                        unless at beginning\n\\    always                        always\n^    only if at beginning          only if at beginning\n$    always                        never\n</code></pre>\n\n<p>Note that neither single quote <code>'</code> nor ampersand <code>&amp;</code> must be escaped, whether inside or outside a character class.</p>\n\n<p>However, both Perl and Python will ignore the backslash if you use it to escape a punctuation character that isn't a metacharacter (e.g. <code>\\'</code> is equivalent to <code>'</code> inside a regex).</p>\n\n<hr>\n\n<p>You seem to be getting tripped up by Python's <a href=\"https://docs.python.org/2/reference/lexical_analysis.html#string-literals\" rel=\"nofollow noreferrer\">raw strings</a>:</p>\n\n<blockquote>\n  <p>When an <code>'r'</code> or <code>'R'</code> prefix is present, a character following a backslash is included in the string without change, and all backslashes are left in the string.</p>\n</blockquote>\n\n<p><code>r\"\\'\"</code> is the string <code>\\'</code> (literal backslash, literal single quote), while <code>r'\\&amp;apos;'</code> is the string <code>\\&amp;apos;</code> (literal backslash, literal ampersand, etc.).</p>\n\n<p>So this:</p>\n\n<pre><code>re.sub(r\"\\'\", r'\\&amp;apos;', text)\n</code></pre>\n\n<p>replaces all single quotes with the literal text <code>\\&amp;apos;</code>.</p>\n\n<hr>\n\n<p>Putting it all together, your Perl substitution is better written:</p>\n\n<pre><code>$text =~ s/'/&amp;apos;/g;\n</code></pre>\n\n<p>And your Python substitution is better written:</p>\n\n<pre><code>re.sub(r\"'\", r'&amp;apos;', text)\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>Python 2, Python 3, and current versions of Perl treat non-escaped curly braces as literal curly braces if they aren't part of a quantifier. However, this will be a syntax error in future versions of Perl, and recent versions of Perl give a warning.</p></li>\n<li><p>See <a href=\"http://perldoc.perl.org/perlretut.html#Using-character-classes\" rel=\"nofollow noreferrer\">perlretut</a>, <a href=\"http://perldoc.perl.org/perlre.html#Version-8-Regular-Expressions\" rel=\"nofollow noreferrer\">perlre</a>, and the Python docs for the <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">re module</a>.</p></li>\n</ol>\n"}], "owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 41268209, "answer_count": 1, "score": 1, "last_activity_date": 1482345103, "creation_date": 1482293274, "question_id": 41254940, "link": "https://stackoverflow.com/questions/41254940/backslashes-and-escaping-chars-in-python-vs-perl-regexes", "title": "Backslashes and escaping chars in Python vs Perl regexes", "body": "<p>The goal is to deal with the task of tokenization in NLP and porting the script from the <a href=\"https://github.com/alvations/mosesdecoder/blob/master/scripts/tokenizer/tokenizer.perl\" rel=\"nofollow noreferrer\">Perl script</a> to this <a href=\"https://github.com/alvations/nltk/blob/3d685b77b0b848e5d73bd7f5b926ca8f919b25aa/nltk/tokenize/moses.py\" rel=\"nofollow noreferrer\">Python script</a>.</p>\n\n<p>The main issues comes with erroneous backslashes that happens when we run the Python port of the tokenizer. </p>\n\n<p>In Perl, we could need to escape the single quotes and the ampersand as such:</p>\n\n<pre><code>my($text) = @_; # Reading a text from stdin\n\n$text =~ s=n't = n't =g; # Puts a space before the \"n't\" substring to tokenize english contractions like \"don't\" -&gt; \"do n't\".\n\n$text =~ s/\\'/\\&amp;apos;/g;  # Escape the single quote so that it suits XML.\n</code></pre>\n\n<p>Porting the regex literally into Python</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; from six import text_type\n&gt;&gt;&gt; sent = text_type(\"this ain't funny\")\n&gt;&gt;&gt; escape_singquote = r\"\\'\", r\"\\&amp;apos;\" # escape the left quote for XML\n&gt;&gt;&gt; contraction = r\"n't\", r\" n't\" # pad a space on the left when \"n't\" pattern is seen\n&gt;&gt;&gt; text = sent\n&gt;&gt;&gt; for regexp, substitution in [contraction, escape_singquote]:\n...     text = re.sub(regexp, substitution, text)\n...     print text\n... \nthis ai n't funny\nthis ai n\\&amp;apos;t funny\n</code></pre>\n\n<p>The escaping of the ampersand somehow added it as a literal backslash =(</p>\n\n<p>To resolve that, I could do:</p>\n\n<pre><code>&gt;&gt;&gt; escape_singquote = r\"\\'\", r\"&amp;apos;\" # escape the left quote for XML\n&gt;&gt;&gt; text = sent\n&gt;&gt;&gt; for regexp, substitution in [contraction, escape_singquote]:\n...     text = re.sub(regexp, substitution, text)\n...     print text\n... \nthis ai n't funny\nthis ai n&amp;apos;t funny\n</code></pre>\n\n<p>But seemingly without escaping the single quote in Python, we get the desired result too:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; from six import text_type\n&gt;&gt;&gt; sent = text_type(\"this ain't funny\")\n&gt;&gt;&gt; escape_singquote = r\"\\'\", r\"\\&amp;apos;\" # escape the left quote for XML\n&gt;&gt;&gt; contraction = r\"n't\", r\" n't\" # pad a space on the left when \"n't\" pattern is seen\n&gt;&gt;&gt; escape_singquote = r\"'\", r\"&amp;apos;\" # escape the left quote for XML\n&gt;&gt;&gt; text = sent\n&gt;&gt;&gt; for regexp, substitution in [contraction, escape_singquote]:\n...     text = re.sub(regexp, substitution, text)\n...     print text\n... \nthis ai n't funny\nthis ai n&amp;apos;t funny\n</code></pre>\n\n<p>Now that's puzzling...</p>\n\n<p>Given the context above, so the question is <strong>for which characters do we need to escape in Python and which characters in Perl?</strong> Regex in Perl and Python is not that equivalent right?</p>\n"}, {"tags": ["html", "perl", "parsing"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1482284834, "post_id": 41253792, "comment_id": 69708399, "body": "The output is not wrong, because I need to extract only the content from &lt;tr&gt; tags that contains <code>data_2=&quot;0&quot;</code>"}, {"owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "reply_to_user": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1482284994, "post_id": 41253792, "comment_id": 69708439, "body": "I guess that I do not see that anywhere in the question.  Also,  do you mean that you want <code>data_2=&quot;1&quot;</code>?   That would seem to better match your proposed output"}, {"owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1482285035, "post_id": 41253792, "comment_id": 69708449, "body": "My mistake, sorry. I mean data_2=&quot;1&quot;"}, {"owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "reply_to_user": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "edited": false, "score": 0, "creation_date": 1482285239, "post_id": 41253792, "comment_id": 69708500, "body": "Changed to match additional restriction"}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 3, "creation_date": 1482292232, "post_id": 41253792, "comment_id": 69710125, "body": "Where is the parsing-HTML-with-regex police?"}], "tags": [], "owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "is_accepted": true, "score": 0, "last_activity_date": 1482285203, "last_edit_date": 1482285203, "creation_date": 1482283627, "answer_id": 41253792, "question_id": 41253640, "link": "https://stackoverflow.com/questions/41253640/extract-text-between-html-tags-tr-tr/41253792#41253792", "title": "Extract text between HTML tags (&lt;tr&gt; &lt;/tr&gt;)", "body": "<p>Editing answer to include new restriction on which <code>&lt;tr&gt;'s</code> are wanted</p>\n\n<pre><code>my $HTML = '\n&lt;tr data_1=\"15,12,2016\" data_2=\"1\"&gt;\n&lt;td class=\"cl_1\"&gt;11111&lt;/td&gt;\n&lt;td class=\"cl_2\"&gt;11111&lt;/td&gt;\n&lt;td class=\"cl_3\"&gt;&lt;strong&gt;11111&lt;/strong&gt;&lt;/td&gt;\n&lt;td class=\"cl_4\" colspan=\"3\"&gt;11111&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr data_1=\"16,12,2016\" data_2=\"0\"&gt;\n&lt;td class=\"cl_1\"&gt;22222&lt;/td&gt;\n&lt;td class=\"cl_2\"&gt;22222&lt;/td&gt;\n&lt;td class=\"cl_3\"&gt;&lt;strong&gt;22222&lt;/strong&gt;&lt;/td&gt;\n&lt;td class=\"cl_4\" colspan=\"3\"&gt;22222&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr data_1=\"15,12,2016\" data_2=\"1\"&gt;\n&lt;td class=\"cl_1\"&gt;33333&lt;/td&gt;\n&lt;td class=\"cl_2\"&gt;33333&lt;/td&gt;\n&lt;td class=\"cl_3\"&gt;&lt;strong&gt;33333&lt;/strong&gt;&lt;/td&gt;\n&lt;td class=\"cl_4\" colspan=\"3\"&gt;33333&lt;/td&gt;\n&lt;/tr&gt;\n';\n\nwhile($HTML =~ /&lt;tr[^&gt;]*data_2=\\\"1\\\"[^&gt;]*&gt;(.*?)&lt;\\/tr&gt;/msg) {\n    print \"$1\\n\\n\"; }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;td class=\"cl_1\"&gt;11111&lt;/td&gt;\n&lt;td class=\"cl_2\"&gt;11111&lt;/td&gt;\n&lt;td class=\"cl_3\"&gt;&lt;strong&gt;11111&lt;/strong&gt;&lt;/td&gt;\n&lt;td class=\"cl_4\" colspan=\"3\"&gt;11111&lt;/td&gt;\n\n&lt;td class=\"cl_1\"&gt;33333&lt;/td&gt;\n&lt;td class=\"cl_2\"&gt;33333&lt;/td&gt;\n&lt;td class=\"cl_3\"&gt;&lt;strong&gt;33333&lt;/strong&gt;&lt;/td&gt;\n&lt;td class=\"cl_4\" colspan=\"3\"&gt;33333&lt;/td&gt;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6634654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76f66c4cfb1bbceaecbab001de34c85?s=128&d=identicon&r=PG&f=1", "display_name": "tr0in", "link": "https://stackoverflow.com/users/6634654/tr0in"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 41253792, "answer_count": 1, "score": 1, "last_activity_date": 1482356519, "creation_date": 1482282387, "last_edit_date": 1482356519, "question_id": 41253640, "link": "https://stackoverflow.com/questions/41253640/extract-text-between-html-tags-tr-tr", "title": "Extract text between HTML tags (&lt;tr&gt; &lt;/tr&gt;)", "body": "<p>I'm trying to extract the text between all <code>&lt;tr&gt; &lt;/tr&gt;</code> tags in a string and print them.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $HTML = '\n&lt;tr data_1=\"15,12,2016\" data_2=\"1\"&gt;\n&lt;td class=\"cl_1\"&gt;11111&lt;/td&gt;\n&lt;td class=\"cl_2\"&gt;11111&lt;/td&gt;\n&lt;td class=\"cl_3\"&gt;&lt;strong&gt;11111&lt;/strong&gt;&lt;/td&gt;\n&lt;td class=\"cl_4\" colspan=\"3\"&gt;11111&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr data_1=\"16,12,2016\" data_2=\"0\"&gt;\n&lt;td class=\"cl_1\"&gt;22222&lt;/td&gt;\n&lt;td class=\"cl_2\"&gt;22222&lt;/td&gt;\n&lt;td class=\"cl_3\"&gt;&lt;strong&gt;22222&lt;/strong&gt;&lt;/td&gt;\n&lt;td class=\"cl_4\" colspan=\"3\"&gt;22222&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr data_1=\"15,12,2016\" data_2=\"1\"&gt;\n&lt;td class=\"cl_1\"&gt;33333&lt;/td&gt;\n&lt;td class=\"cl_2\"&gt;33333&lt;/td&gt;\n&lt;td class=\"cl_3\"&gt;&lt;strong&gt;33333&lt;/strong&gt;&lt;/td&gt;\n&lt;td class=\"cl_4\" colspan=\"3\"&gt;33333&lt;/td&gt;\n&lt;/tr&gt;\n';\n\nwhile($HTML =~ /data_2=\"1\"&gt;(.*)&lt;\\/tr&gt;(\\R)/sg) {\n    print \"$1\\n\\n\";\n}\n</code></pre>\n\n<p>The output should be:</p>\n\n<pre><code>&lt;td class=\"cl_1\"&gt;11111&lt;/td&gt;\n&lt;td class=\"cl_2\"&gt;11111&lt;/td&gt;\n&lt;td class=\"cl_3\"&gt;&lt;strong&gt;11111&lt;/strong&gt;&lt;/td&gt;\n&lt;td class=\"cl_4\" colspan=\"3\"&gt;11111&lt;/td&gt;\n\n&lt;td class=\"cl_1\"&gt;33333&lt;/td&gt;\n&lt;td class=\"cl_2\"&gt;33333&lt;/td&gt;\n&lt;td class=\"cl_3\"&gt;&lt;strong&gt;33333&lt;/strong&gt;&lt;/td&gt;\n&lt;td class=\"cl_4\" colspan=\"3\"&gt;33333&lt;/td&gt;\n</code></pre>\n\n<p>How do I do that and extract the content from each <code>&lt;tr&gt;</code> tag?</p>\n"}, {"tags": ["multithreading", "perl", "fork", "multitasking"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482274147, "post_id": 41252427, "comment_id": 69705567, "body": "Why would you fork 200 processes when you only have 16 CPUs???"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1482276116, "post_id": 41252427, "comment_id": 69706200, "body": "@ThisSuitIsBlackNot, Because most are sleeping waiting for an HTTP  response."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1482276198, "post_id": 41252427, "comment_id": 69706222, "body": "@ajmcello, You&#39;d be better off using a client capable of performing multiple requests without creating an entire process to do it (e.g. <a href=\"http://search.cpan.org/perldoc?Net::Curl::Multi\" rel=\"nofollow noreferrer\">Net::Curl::Multi</a>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482276373, "post_id": 41252427, "comment_id": 69706261, "body": "@ajmcello, Is that suppose to be an answer to ThisSuitIsBlackNot? Because that doesn&#39;t answer the question at all. If anything, very quick responses suggest using a smaller number of workers."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1482276577, "post_id": 41252427, "comment_id": 69706315, "body": "@ajmcello, If you actually want help with this (other than suggestions that you aren&#39;t using the right tool as provided above), you&#39;ll have to specify what&#39;s failing, and for what reason (i.e. with what error)."}, {"owner": {"reputation": 165655, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1482276649, "post_id": 41252427, "comment_id": 69706337, "body": "What&#39;s your resource limit on user processes set to? (You don&#39;t specify your platform, but maybe <code>ulimit -Su</code> will tell you.)"}, {"owner": {"reputation": 31, "user_id": 7286024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c539d636c96b2d7cb305a83f1b5598d7?s=128&d=identicon&r=PG&f=1", "display_name": "ajmcello", "link": "https://stackoverflow.com/users/7286024/ajmcello"}, "edited": false, "score": 0, "creation_date": 1482276662, "post_id": 41252427, "comment_id": 69706342, "body": "They are either sleeping or exiting because they established a connection and finished or met the timeout value. Perhaps ASYNC or something is a better way to go but I&#39;m a below average, novice perl user."}, {"owner": {"reputation": 31, "user_id": 7286024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c539d636c96b2d7cb305a83f1b5598d7?s=128&d=identicon&r=PG&f=1", "display_name": "ajmcello", "link": "https://stackoverflow.com/users/7286024/ajmcello"}, "reply_to_user": {"reputation": 165655, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1482276735, "post_id": 41252427, "comment_id": 69706370, "body": "@davidschwartz it&#39;s run as root."}, {"owner": {"reputation": 165655, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1482276846, "post_id": 41252427, "comment_id": 69706397, "body": "While root is permitted to raise its own resource limits, it still has resource limit settings. What are they?"}, {"owner": {"reputation": 31, "user_id": 7286024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c539d636c96b2d7cb305a83f1b5598d7?s=128&d=identicon&r=PG&f=1", "display_name": "ajmcello", "link": "https://stackoverflow.com/users/7286024/ajmcello"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482277383, "post_id": 41252427, "comment_id": 69706547, "body": "@ikegami it works but it&#39;s slow. I had an old way of doing this which had a maxprox value that worked when set, regardless of the value set. At 500 or 800 processes, the program would complete in 30-60 minutes. When it runs with 20 or 30, even though maxproc or maxkids is set higher, the program takes 24 hours to run. So it seems the more sub processing I get, the faster it runs. The old program, or the old way, I lost and had rewrite."}, {"owner": {"reputation": 31, "user_id": 7286024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c539d636c96b2d7cb305a83f1b5598d7?s=128&d=identicon&r=PG&f=1", "display_name": "ajmcello", "link": "https://stackoverflow.com/users/7286024/ajmcello"}, "reply_to_user": {"reputation": 165655, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1482277696, "post_id": 41252427, "comment_id": 69706629, "body": "@DavidSchwartz maxproc is set to 225252c everything else is unlimited or very very high."}, {"owner": {"reputation": 31, "user_id": 7286024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c539d636c96b2d7cb305a83f1b5598d7?s=128&d=identicon&r=PG&f=1", "display_name": "ajmcello", "link": "https://stackoverflow.com/users/7286024/ajmcello"}, "edited": false, "score": 0, "creation_date": 1482278249, "post_id": 41252427, "comment_id": 69706789, "body": "I&#39;d prefer to continue using Mojolicious. I&#39;m not sure Net::Curl::Multi is going to work as I set user agent and a proxy, however it might if I can set those. I haven&#39;t used libcurl at all and am looking at it now."}, {"owner": {"reputation": 31, "user_id": 7286024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c539d636c96b2d7cb305a83f1b5598d7?s=128&d=identicon&r=PG&f=1", "display_name": "ajmcello", "link": "https://stackoverflow.com/users/7286024/ajmcello"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482278796, "post_id": 41252427, "comment_id": 69706931, "body": "It looks like libcurl supports those, so I will try using Net::Curl::Multi and see if that doesn&#39;t have the hard limits I encountered with Parallel::ForkManager. Thanks @ikegami"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1482281535, "post_id": 41253458, "comment_id": 69707678, "body": "if there are tens of thousands of urls, running out of client ports becomes an issue; how would you modify this code to impose a limit on number of urls to be fetching at once?"}, {"owner": {"reputation": 31, "user_id": 7286024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c539d636c96b2d7cb305a83f1b5598d7?s=128&d=identicon&r=PG&f=1", "display_name": "ajmcello", "link": "https://stackoverflow.com/users/7286024/ajmcello"}, "edited": false, "score": 0, "creation_date": 1482281689, "post_id": 41253458, "comment_id": 69707713, "body": "What happens if a URL is slow or times out with Mojo::IOLoop::Delay? Will it hang up MIOLD until the URL is finished to go into the next? Does MIOLD process in parallel or simultaneously or is it synchronous?"}, {"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1482285859, "post_id": 41253458, "comment_id": 69708642, "body": "I would control the execution flow by declaring a global variable called &quot;our $counter = 0;&quot; then increment the counter before calling the non-blocking function and decrement it in the callback once the execution is finished. When $counter reached the defined maximum wait before fetching new URLs. It&#39;s just an idea, might work or not."}, {"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "reply_to_user": {"reputation": 31, "user_id": 7286024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c539d636c96b2d7cb305a83f1b5598d7?s=128&d=identicon&r=PG&f=1", "display_name": "ajmcello", "link": "https://stackoverflow.com/users/7286024/ajmcello"}, "edited": false, "score": 0, "creation_date": 1482287186, "post_id": 41253458, "comment_id": 69708949, "body": "@ajmcello the requests are concurrent. When a timeout occurs the callback of the bad URL will response after the connection is dropped. The other URLs are being executed without interruption."}], "tags": [], "owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "is_accepted": false, "score": 0, "last_activity_date": 1482281492, "last_edit_date": 1482281492, "creation_date": 1482280856, "answer_id": 41253458, "question_id": 41252427, "link": "https://stackoverflow.com/questions/41252427/cant-fork-more-than-200-processes-sometimes-less-depending-on-memory-cpu-us/41253458#41253458", "title": "Can&#39;t fork more than 200 processes, sometimes, less, depending on memory, cpu usage", "body": "<p>For your example code (fetching a URL) I would never use Forkmanager. I would use Mojo::IOLoop::Delay or non-blocking calling style.</p>\n\n<pre><code>use Mojo::UserAgent;\nuse feature 'say';\n\nmy $ua = Mojo::UserAgent-&gt;new;\n\n$ua-&gt;inactivity_timeout(15);\n$ua-&gt;connect_timeout(15);\n$ua-&gt;request_timeout(15);\n$ua-&gt;max_connections(0);\n\nmy @url = (\"http://stackoverflow.com/questions/41253272/joining-a-view-and-a-table-in-mysql\",\n           \"http://stackoverflow.com/questions/41252594/develop-my-own-website-builder\",\n           \"http://stackoverflow.com/questions/41251919/chef-mysql-server-configuration\",\n           \"http://stackoverflow.com/questions/41251689/sql-trigger-update-error\",\n           \"http://stackoverflow.com/questions/41251369/entity-framework-how-to-add-complex-objects-to-db\",\n           \"http://stackoverflow.com/questions/41250730/multi-dimensional-array-from-matching-mysql-columns\",\n           \"http://stackoverflow.com/questions/41250528/search-against-property-in-json-object-using-mysql-5-6\",\n           \"http://stackoverflow.com/questions/41249593/laravel-time-difference\",\n           \"http://stackoverflow.com/questions/41249364/variable-not-work-in-where-clause-php-joomla\");\n\nforeach my $linkarray (@url) {\n    # Run all requests at the same time\n    $ua-&gt;get($linkarray =&gt; sub {\n    my ($ua, $tx) = @_;\n    say $tx-&gt;res-&gt;dom-&gt;at('title')-&gt;text;\n   });\n}\nMojo::IOLoop-&gt;start unless Mojo::IOLoop-&gt;is_running;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8236, "user_id": 2580516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e83e511e401770207ffbb0d31b8ffb4?s=128&d=identicon&r=PG", "display_name": "Warren Dew", "link": "https://stackoverflow.com/users/2580516/warren-dew"}, "is_accepted": false, "score": -1, "last_activity_date": 1482293948, "creation_date": 1482293948, "answer_id": 41255024, "question_id": 41252427, "link": "https://stackoverflow.com/questions/41252427/cant-fork-more-than-200-processes-sometimes-less-depending-on-memory-cpu-us/41255024#41255024", "title": "Can&#39;t fork more than 200 processes, sometimes, less, depending on memory, cpu usage", "body": "<p>Most likely you are running into an operating system limit on threads or processes.  The quick and dirty way to fix this would be to increase the limit, which is usually configurable.  That said, rewriting the code not to use so many short lived threads is a more scalable solution.</p>\n"}], "owner": {"reputation": 31, "user_id": 7286024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c539d636c96b2d7cb305a83f1b5598d7?s=128&d=identicon&r=PG&f=1", "display_name": "ajmcello", "link": "https://stackoverflow.com/users/7286024/ajmcello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1482293948, "creation_date": 1482274032, "last_edit_date": 1482276277, "question_id": 41252427, "link": "https://stackoverflow.com/questions/41252427/cant-fork-more-than-200-processes-sometimes-less-depending-on-memory-cpu-us", "title": "Can&#39;t fork more than 200 processes, sometimes, less, depending on memory, cpu usage", "body": "<p>Here's the guts of the program using Parallel::ForkManager. It seems to stop at 200 proccesses, sometimes its around 30, depending on the size of the pgsql query that collects URLs to send to Mojo::UserAgent. There seems to be some hard limits somewhere? Is there a better way to write this so that I don't run into those limits? The machine its running on has 16 CPUs and 128GB of memory, so it can certainly run more than 200 proccesses that will die after the Mojo::UserAgent timeout, which is generally 2 seconds.</p>\n\n<pre><code>use Parallel::ForkManager;\nuse Mojo::Base-strict;\nuse Mojo::UserAgent;\nuse Mojo::Pg;\nuse Math::Random::Secure qw(rand irand);\nuse POSIX qw(strftime);\nuse Socket;\nuse GeoIP2::Database::Reader;\nuse File::Spec::Functions qw(:ALL);\nuse File::Basename qw(dirname);\n\nuse feature 'say';\n\n\n$max_kids = 500;\nsub do_auth {\n...\n        push( @url, $authurl );\n}\n\n\ndo_auth();\n\nmy $pm = Parallel::ForkManager-&gt;new($max_kids);\n\nLINKS:\nforeach my $linkarray (@url) {\n    $pm-&gt;start and next LINKS;    # do the fork\n    my $ua = Mojo::UserAgent-&gt;new( max_redirects =&gt; 5, timeout =&gt; $timeout );\n    $ua-&gt;get($url);\n    $pm-&gt;finish;\n}\n\n$pm-&gt;wait_all_children;\n</code></pre>\n"}, {"tags": ["algorithm", "perl"], "comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482272651, "post_id": 41252191, "comment_id": 69705038, "body": "Note that tag suggestions are welcome, as I wasn&#39;t sure how to tag this."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1482273208, "post_id": 41252191, "comment_id": 69705252, "body": "Seeing labels on your loops that aren&#39;t used are a sign something&#39;s awry here. What else have you tried?"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1482274566, "post_id": 41252191, "comment_id": 69705702, "body": "@tadman I added those because I was going to add some loop exits in case a match (<i>containment</i>) was found, but of course I could only add that after I have a subroutine that matches. Perhaps the subroutine could return <code>1</code> when a match occurred when <code>$first</code> is in <code>$second</code>, <code>2</code> when <code>$second</code> is in <code>$first</code> and <code>0</code> when no matches were found. In case of <code>1</code> or <code>2</code>, remove the corresponding item."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488392992, "post_id": 41252191, "comment_id": 72214326, "body": "A polite reminder, <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a> If there are still questions feedback would be good."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488397001, "post_id": 41252191, "comment_id": 72216746, "body": "@zdim I&#39;m sorry, completely forgot about this. +1 and accepted, I&#39;m sorry for the wait! I&#39;ll award you the bounty because of the extensiveness. It&#39;s a great answer!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488398036, "post_id": 41252191, "comment_id": 72217329, "body": "@BramVanroy That&#39;s completely OK -- there are things other than SO :)  Thank you very much for the response! I&#39;d also suggest to make sure to review all material on this page.  It&#39;s a good question, and there&#39;s a lot in all answers :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1488398396, "post_id": 41252191, "comment_id": 72217552, "body": "@BramVanroy I just realized the bounty thing -- that is very <i>very</i> nice of you.  Thank you very much for caring. Hopefully this also brings yet more and better answers."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488399932, "post_id": 41252191, "comment_id": 72218456, "body": "@zdim No problem at all. You put <i>a lot</i> of effort in testing, writing, benchmarking. It&#39;s the least I can do! (I doubt anyone can come up with a better answer! I&#39;ll award you the bounty as soon as I can.) Thanks again!"}], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482311653, "post_id": 41252759, "comment_id": 69718244, "body": "In fact, the input data does not contain duplicates, this is a certainty. Therefore, it seems to me that we can just check the size of two paths and if they are the same, skip the <code>is_contained</code> because that would simply not be possible. <a href=\"http://ideone.com/e7WKR8\" rel=\"nofollow noreferrer\">Something like this</a>, but I&#39;m sure you can write it in a better way. Question, though, in your sort block you the result of split in list context, shouldn&#39;t this be in a scalar context?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482311678, "post_id": 41252759, "comment_id": 69718262, "body": "@BramVanroy  Yes, that would help, probably only a little.  (How often can that happen?)  But it should be added, first thing in the sub.  There are certainly other low-level tweaks to speed it up, but that shouldn&#39;t make a difference. The algorithm is simple and doesn&#39;t waste time (as far as I can tell).  However, the question is whether there is some higher level one, for example some graph theory based theorem or such.  Before all this, I&#39;d test. This may well be good enough."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 1, "creation_date": 1482311845, "post_id": 41252759, "comment_id": 69718377, "body": "@BramVanroy  OK, good to know -- I&#39;ll add that check. As for context -- with <code>@a &gt; @b</code> there is the scalar context, imposed by <code>&gt;</code>.  So lengths of arrays are taken and compared."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482312363, "post_id": 41252759, "comment_id": 69718723, "body": "@BramVanroy  I added the test for equal-length paths, in the function.  If it&#39;s before, it saves a function call -- but only rarely, when they happen to be of equal length.  Most of the time it does an extra <code>split</code> (twice)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482313363, "post_id": 41252759, "comment_id": 69719392, "body": "@BramVanroy I passed up on hashes right away since in this problem order is important.  Hashes are great for coordinated lookups and such, but order is thrown away.  I don&#39;t exactly understand what you are saying -- I will think about it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482313429, "post_id": 41252759, "comment_id": 69719446, "body": "@BramVanroy  Btw, typically how many strings do you need to process this way, and (typically) how long are they?  How much do their lengths vary?"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482314368, "post_id": 41252759, "comment_id": 69720161, "body": "After trying some stuff out, I indeed couldn&#39;t get around the fact that hashes aren&#39;t ordered, which would always get you in trouble I think. So never mind what I said before. The amount of strings that need to compared at a time this way is small, somewhere between 10 and 12. However, this process is repeated millions of times (for different strings). How long are they: from what I&#39;ve seen in my data, paths can be from 1 to 10 items long. (But each item can be a number in the millions, e.g. <code>12346579&#47;1263&#47;13256897&#47;65498746&#47;6548979</code>.)"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482314743, "post_id": 41252759, "comment_id": 69720432, "body": "Thank you for your extensive help so far by the way! This should be one of my last questions. You said that the length comparison would cause an extra split (twice), but I don&#39;t see why that&#39;s the case. The split is done any way in the subroutine, right?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 1, "creation_date": 1482315010, "post_id": 41252759, "comment_id": 69720624, "body": "@BramVanroy  Yes, it is done in the subroutine.  To check path lengths I need two splits, one for each string (or regex&#39;s on <code>&#47;</code>).  So if I do a check for equal lengths before the sub and it fails -- vast majority of cases -- then I go in the sub and do the splits, as normal analysis.  So the check before the sub is just an excessive split(s) (or regex), most of the time.  And when it helps, it only saves a single subroutine call (in comparison with having the check inside of it), or a single processing pop (when there is no check)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482389281, "post_id": 41252759, "comment_id": 69755959, "body": "@BramVanroy  I added a line of code that mysteriously disappeared when I pasted the code here.  It exits from the inner-most loop in the sub once a match is found (of course). The line is <code>last;</code>.  It improves the runtime by about 5% (but it&#39;d be a bit more with longer strings).  I&#39;m benchmarking, may add code if there is any significant improvement."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482398977, "post_id": 41252759, "comment_id": 69761171, "body": "@BramVanroy  I added an alternate procedure for checking whether a path is contained in another.  It is slower for this data set, but is probably faster if data is different (commented).  I benchmarked all this carefully, and the main solution is faster by 10-15% than the alternate, and by around 35% than the regex-trie based one (what surprised me).  Again, <i>on this data set</i>.  By what you said your real data isn&#39;t very different, but all this should be checked with the actual data."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482399127, "post_id": 41252759, "comment_id": 69761269, "body": "@BramVanroy    Also, benchmarks confirmed that low-level tweaks don&#39;t matter.  It&#39;s a small number of short strings (your real data is). What does matter is doing repeated processing in parallel on 30+ cores on a server (or 8 or so on a desktop/laptop)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1482539473, "last_edit_date": 1495535390, "creation_date": 1482276051, "answer_id": 41252759, "question_id": 41252191, "link": "https://stackoverflow.com/questions/41252191/compare-strings-and-remove-more-general-pattern-in-perl/41252759#41252759", "title": "Compare strings and remove more general pattern in Perl", "body": "<p>I expect that there are general algorithms that can account for this problem, and probably libraries that can be leveraged.  However, here is a hand-rolled one.</p>\n\n<p>First, we sort the array by the number of terms in the path . Then we go up that array, comparing each element with all longer ones. This way each path is excluded at earliest opportunity.</p>\n\n<p>The comparison is between arrays obtained by splitting on <code>/</code>. It checks whether all elements of the smaller array are in the larger one as <em>an exact sub-sequence</em>, so that the larger one would yield the smaller one by only removing elements (without rearrangements).</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @arr = qw(902/904 903/900 903/902/900 903/904/902/901 \n             903/904/902/908/900 903);\nmy @sorted = sort { (split '/', $a) &gt; (split '/', $b) } @arr;\nmy @primes;\n\nOUTER:\nfor my $i (0..$#sorted) {\n    for my $j ($i+1..$#sorted) {\n        next OUTER if is_contained($sorted[$i], $sorted[$j]);\n    }\n    push @primes, $sorted[$i];\n} \nprint \"@primes\\n\";\n\nsub is_contained \n{\n    my ($small, $large) = @_;\n    my @small = split '/', $small;\n    my @large = split '/', $large;\n\n    # There can be no duplicates so equal-length paths are distinct\n    return 0 if @small == @large;\n\n    # Indices of elements of @small in @large cannot decrease\n    my ($match, $index) = (0, 0);\n    for my $sm (@small) {\n        for my $i (0..$#large) {\n            $sm == $large[$i] || next;\n            return 0 if $i &lt; $index;  # out of order\n            $index = $i;\n            $match = 1;\n            last;\n        }\n        return 0 if not $match;       # $sm from @small not in @large\n        $match = 0;\n    }\n    return 1;\n}\n</code></pre>\n\n<p>Prints the line: <code>902/904 903/904/902/901 903/904/902/908/900</code>.  </p>\n\n<p>A note on how we check that the <code>@smaller</code> matches a subsequence in <code>@larger</code>. </p>\n\n<p>Once a <code>@smaller</code> element is found in <code>@larger</code>, its index in <code>@larger</code>\ncannot be lower than the one found previously. An element must come <em>after</em> the previous one, not before. See a different procedure below.</p>\n\n<p>So with <code>2/7/5</code> and <code>1/2/5/7/8</code>, first <code>2</code> is found at index <em>1</em>, then <code>7</code> at index <em>3</em>, then <code>5</code> but at index <em>2</em>. The subsequence <code>2-5-7</code> does not match <code>2-7-5</code>.  I added <code>902/904</code> to data to test for this.</p>\n\n<hr>\n\n<p>This is an alternate procedure for checking whether a path is contained in another.  </p>\n\n<p>Once it finds an element of <code>@smaller</code> in <code>@larger</code> it searches for the next one <em>starting from the next index</em> in <code>@larger</code>.  This way it skips the searched part of the path, but it cannot detect out-of-order elements early either. </p>\n\n<p>With the example of <code>2/7/5</code> and <code>1/2/5/7/8</code>, after it found <code>7</code> at index <em>3</em> it starts from index <em>4</em> and detects failure by <em>not finding</em> a <code>5</code> in the rest of the target path.</p>\n\n<pre><code>sub is_contained_2 \n{\n    my @large = split '/', $_[0];\n    my @small = split '/', $_[1];\n\n    # Is @small found in @large as an exact sub-sequence?\n    my ($match, $j) = (0, 0); \n    for my $sm (@small) {\n        for my $i ($j..$#large) {\n            $sm == $large[$i] || next;\n            $j = $i+1, $match = 1;\n            last;\n        }\n        return 0 if not $match;\n        $match = 0;\n    }\n    return 1;\n}\n</code></pre>\n\n<p>This is <em>slower</em> (by 10-15%) for this data set, see benchmark with a comment below.</p>\n\n<hr>\n\n<p>I benchmarked the two array-based versions here and <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>'s regex+trie. So far I have used <em>only the specific data set</em> from the question, with <code>902/904</code> added.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Benchmark qw(cmpthese);\nmy $secs_to_run = shift || 10; \nmy @arr = ('902/904', '903/900', '903/902/900', '903/904/902/901', \n           '903/904', '/902/908/900', '903');\n\n# sorted array checked shorter-to-longer, manual iterations\nsub contained {  \n    my ($rarr) = @_; my @arr = @$arr;\n    # program copied from this post\n    return \\@primes;\n}\nsub is_contained { ... }   # copied\n\n# Same program, but using is_contained_2()\nsub contained_2 {  ... }\nsub is_contained_2 { ... }\n\n# Regex-trie, copied from ikegami's post\nsub add { my $p = \\shift; $p = \\( $$p-&gt;{$_} ) for @_, ''; }\nsub as_pat { my $trie = shift; ... }  # copied\n\nsub regex_trie { \n    my ($rpaths) = @_; my @paths = @$rpaths;\n    # program copied from ikegami's post\n    return \\@filtered_paths;\n}\n\ncmpthese(-$secs_to_run, {\n    containted  =&gt; sub { my $rprimes   = contained(\\@arr)  },\n    cont_next   =&gt; sub { my $rprimes   = contained_2(\\@arr)  },\n    regex_trie  =&gt; sub { my $rfiltered = regex_trie(\\@arr)  },\n});\n</code></pre>\n\n<p>With <code>bench_cont.pl 300</code>, on a newer workstation-laptop (2.5GHz) with v5.16</p>\n\n<pre>\n              Rate regex_trie  cont_next containted\nregex_trie 15264/s         --       -15%       -27%\ncont_next  17946/s        18%         --       -14%\ncontainted 20939/s        37%        17%         --\n</pre>\n\n<p>on an older server (2.8GHz) with v5.16</p>\n\n<pre>\n              Rate regex_trie  cont_next containted\nregex_trie 11750/s         --       -13%       -27%\ncont_next  13537/s        15%         --       -16%\ncontainted 16042/s        37%        19%         --\n</pre>\n\n<p>on an older server (3.5GHz) with v5.10</p>\n\n<pre>\n              Rate  cont_next regex_trie containted\ncont_next  12266/s         --       -17%       -17%\nregex_trie 14832/s        21%         --        -0%\ncontainted 14845/s        21%         0%         --\n</pre>\n\n<p>This surprised me, as I expected the regex-based solution to be fastest. </p>\n\n<p>I expect the trend to reverse for data composed of longer paths, having more distinct (not contained) paths, with containment found later in the path, and with a few out-of-order dismissals.</p>\n\n<p>I'll add tests once I get to generate such data, or once it is provided.</p>\n\n<hr>\n\n<p>To track some of the processing change the body to</p>\n\n<pre><code>use feature 'say';\n\nOUTER:\nfor my $i (0..$#sorted) {\n    say \"Check $sorted[$i]\";\n    for my $j ($i+1..$#sorted) {\n        my $is_inside = is_contained($sorted[$i], $sorted[$j]);\n        say \"\\t$is_inside: $sorted_arr[$i] inside $sorted_arr[$j]\";\n        next OUTER if $is_inside;\n    }\n    push @primes, $sorted[$i];\n}\nsay \"\\nNot contained: @primes\";\n</code></pre>\n\n<p>This prints</p>\n\n<pre>\nCheck 903\n        0: 903 vs. 902/904\n        1: 903 vs. 903/900\nCheck 902/904\n        0: 902/904 vs. 903/900\n        0: 902/904 vs. 903/902/900\n        0: 902/904 vs. 903/904/902/901\n        0: 902/904 vs. 903/904/902/908/900\nCheck 903/900\n        1: 903/900 vs. 903/902/900\nCheck 903/902/900\n        0: 903/902/900 vs. 903/904/902/901\n        1: 903/902/900 vs. 903/904/902/908/900\nCheck 903/904/902/901\n        0: 903/904/902/901 vs. 903/904/902/908/900\nCheck 903/904/902/908/900\n\nNot contained: 902/904 903/904/902/901 903/904/902/908/900\n</pre>\n"}, {"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482312203, "post_id": 41252969, "comment_id": 69718622, "body": "Some time ago I&#39;ve dug into the theory of prefix trees, but I&#39;d never think to use them for this use case -- I&#39;ve never used in practice either. I very much like it (+1) but it is, as you probably would agree on, not the most readable solution! As I&#39;m sharing my code with others, this might not be ideal."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482452196, "post_id": 41252969, "comment_id": 69789828, "body": "I did benchmark them, expecting yours to be faster, as needed iterations go in C (along with a lot of other code economy).  However, the result is that the array-based one is faster by around 35%. Even the added alternate (array) version, which continues search from the previously found index, is slower than the main one (by 10-15%) and a little faster than regex.  I don&#39;t understand why.  This is a specific data set, but still.  I used <code>Benchmark</code>, copy-pasted codes, and ran it a number of times, even for 5 minutes each."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482452309, "post_id": 41252969, "comment_id": 69789860, "body": "Cool, but as always, I want to see the benchmark code before I put any stock in it -- too easy to get wrong"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1482524611, "post_id": 41252969, "comment_id": 69817845, "body": "Added a benchmark to my answer, for this data set only.  I&#39;ll run it with other data, once I get to generate (longer and more complex) data, or if @BramVanroy can supply a few batches of his realistic data.  (Which in my understanding isn&#39;t too different.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1482436833, "last_edit_date": 1482436833, "creation_date": 1482277238, "answer_id": 41252969, "question_id": 41252191, "link": "https://stackoverflow.com/questions/41252191/compare-strings-and-remove-more-general-pattern-in-perl/41252969#41252969", "title": "Compare strings and remove more general pattern in Perl", "body": "<p>If <code>a/b/c</code> is path, you want to remove the paths for which the following is true:</p>\n\n<pre><code>\"/$path\" =~ m{ ^ (?:/a)?+ (?:/b)?+ (?:/c)?+ \\z }x  &amp;&amp;  $path ne 'a/b/c'\n</code></pre>\n\n<p>That can also be written as</p>\n\n<pre><code>\"/$path\" =~ m{ ^ (?:/a)?+ (?:/b)?+ (?:/c)?+ \\z (?&lt;! ^ /a/b/c ) }x\n</code></pre>\n\n<p>If both <code>a/b/c</code>, <code>a/i/j</code>, <code>a/x/y</code> and <code>d/e/f</code> are paths, you want to remove the paths for which the following is true:</p>\n\n<pre><code>\"/$path\" =~ m{\n      ^ (?:/a)?+ (?:/b)?+ (?:/c)?+ \\z (?&lt;! ^ /a/b/c )\n   |  ^ (?:/a)?+ (?:/i)?+ (?:/j)?+ \\z (?&lt;! ^ /a/i/j )\n   |  ^ (?:/a)?+ (?:/x)?+ (?:/y)?+ \\z (?&lt;! ^ /a/x/y )\n   |  ^ (?:/d)?+ (?:/e)?+ (?:/f)?+ \\z (?&lt;! ^ /d/e/f )\n}x\n</code></pre>\n\n<p>We removed alot of the backtracking by using the possessive modifier (<code>+</code>), but there is still a possibility for backtracking because of the common prefixes. So let's remove them!</p>\n\n<pre><code>\"/$path\" =~ m{\n   ^\n   (?: (?:/a)?+ (?: (?:/b)?+ (?:/c)?+ \\z (?&lt;! ^ /a/b/c )\n                |   (?:/i)?+ (?:/j)?+ \\z (?&lt;! ^ /a/i/j )\n                |   (?:/x)?+ (?:/y)?+ \\z (?&lt;! ^ /a/x/y )\n                )\n   |   (?:/d)?+ (?:/e)?+ (?:/f)?+ \\z (?&lt;! ^ /d/e/f )\n   )\n}x\n</code></pre>\n\n<p>Now we have an efficient solution!</p>\n\n<hr>\n\n<p>The following uses a <a href=\"https://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">trie</a> to do this to remove the common prefixes.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nsub add {\n   my $p = \\shift;\n   $p = \\( $$p-&gt;{$_} ) for @_, '';\n}\n\nsub as_pat {\n   my $trie = shift;\n\n   my @sub_pats =\n      map { $_ eq '' ? '' : $_ . as_pat($trie-&gt;{$_}) }\n         keys(%$trie);\n\n   if (@sub_pats == 1) {\n      return $sub_pats[0];\n   } else {\n      return '(?:'.join('|', @sub_pats).')';\n   }\n}\n\n\nmy @paths = ( \"903/900\", \"903/902/900\", \"903/904/902/901\", \"903/904/902/908/900\", \"903\" );\n\nmy $trie;\nadd($trie, map({ \"(?:/\\Q$_\\E)?+\" } split qr{/}), \"\\\\z(?&lt;!^/\\Q$_\\E)\" )\n   for @paths;\n\nmy $pat = as_pat($trie);\nmy $re = qr{^(?:$pat)};\n\nmy @filtered_paths = grep { \"/$_\" !~ /$re/ } @paths;\n\nsay for @filtered_paths;\n</code></pre>\n\n<p>Say N is the number of paths, and O(M) bounds the length of the paths. Like earlier answers, this one completes in O(N<sup>2</sup> * M<sup>2</sup>) time, so it doesn't scale any better. However, I believe you will find mine faster should you benchmark them.</p>\n"}, {"tags": [], "owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "is_accepted": false, "score": 1, "last_activity_date": 1482278013, "creation_date": 1482278013, "answer_id": 41253084, "question_id": 41252191, "link": "https://stackoverflow.com/questions/41252191/compare-strings-and-remove-more-general-pattern-in-perl/41253084#41253084", "title": "Compare strings and remove more general pattern in Perl", "body": "<p>To optimize what you have so far, I'd suggest that you <em>pre-split</em> all elements of the array (and then re-merge them later):</p>\n\n<pre><code>@arr = map [split \"/\", $_], @arr;\n</code></pre>\n\n<p>With that done:</p>\n\n<pre><code>sub contains(\\@\\@) {\n    my ($larger_ref, $smaller_ref) = @_;\n\n    return '' if @$larger_ref &lt;= @$smaller_ref;\n\n    my ($i, $j) = 0;\n    while ($i &lt; @$larger_ref &amp;&amp; $j &lt;= @$smaller_ref) {\n        ++$j if $larger_ref-&gt;[$i] == $smaller_ref-&gt;[$j];\n        ++$i;\n    }\n\n    return $j == @$smaller_ref;\n}\n\nI: for (my $i = 0; $i &lt; @arr; ++$i) {\n    J: for (my $j = 0; $j &lt; @arr; ++$j) {\n        next J if $j == $i;\n        next I if contains @{$arr[$j]}, @{$arr[i]};\n    }\n    push @res, join '/', @{$arr[$i]};\n}\n</code></pre>\n\n<p>There are some potential further optimizations you can make in <code>contains</code> (for example, it might make sense to abort early if/when <code>@$larger_ref - $i &lt; @$smaller_ref - $j</code>), but you'd want to test: they might turn out to be pessimizations.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1482436075, "last_edit_date": 1482436075, "creation_date": 1482428871, "answer_id": 41289061, "question_id": 41252191, "link": "https://stackoverflow.com/questions/41252191/compare-strings-and-remove-more-general-pattern-in-perl/41289061#41289061", "title": "Compare strings and remove more general pattern in Perl", "body": "<p>Say N is the number of paths, and O(M) bounds the length of the paths, the earlier answers complete in O(N<sup>2</sup> * M<sup>2</sup>) time.</p>\n\n<p>The following solution is O(N * 2<sup>M</sup>). This means it can handle very large numbers of paths much much more efficiently, as long as the paths are rather short (because it effectively becomes O(N<sup>2</sup>) vs O(N)). It does require far more memory than the solutions in the earlier answers.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nsub fetch {\n   my $trie = shift;\n   for (@_, '') {\n      return () if !$trie;\n      $trie = $trie-&gt;{$_}\n   }\n\n   return $trie;\n}\n\n\nsub add {\n   local *_helper = sub {\n      my $trie_ptr = \\shift;\n      my $exact    =  shift;\n      if (@_) {\n         my $lead = shift(@_);\n         _helper($$trie_ptr-&gt;{$lead}, $exact, @_);\n         _helper($$trie_ptr, 0, @_);\n      } else {\n         if ($exact) {\n            $$trie_ptr-&gt;{''} ||= 1;\n         } else {\n            $$trie_ptr-&gt;{''} = 2;\n         }\n      }\n   };\n\n   my $trie_ptr = \\shift;\n   return _helper($$trie_ptr, 1, @_);\n}\n\n\nmy @paths = ( \"903/900\", \"903/902/900\", \"903/904/902/901\", \"903/904/902/908/900\", \"903\" );\n\nmy @split_paths = map [ split qr{/} ], @paths;\n\nmy $trie;\nadd($trie, @$_)\n   for @split_paths;\n\nuse Data::Dumper qw( Dumper );\nlocal $Data::Dumper::Sortkeys = 1;\nprint(Dumper($trie));\n\nmy @filtered_paths =\n   map join('/', @$_),\n      grep { fetch($trie, @$_) == 1 }\n         @split_paths;\n\nsay for @filtered_paths;\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 41252759, "answer_count": 4, "score": 3, "last_activity_date": 1488397027, "creation_date": 1482272637, "last_edit_date": 1482309721, "question_id": 41252191, "link": "https://stackoverflow.com/questions/41252191/compare-strings-and-remove-more-general-pattern-in-perl", "title": "Compare strings and remove more general pattern in Perl", "body": "<p>I have an array of strings that numbers, possibly separated by forward slashes, e.g. <code>754</code> or <code>754/128</code>. These strings can have an undefined length, in other words: something such as the following is possible: <code>1234/34/21/120/3</code>. In the array I want to only keep the more specialised patterns that <em>contain</em> other patterns. For instance, in the first example above <code>754/128</code> contains <code>754</code>, so <code>754</code> can be removed from the array.</p>\n\n<p>This concept of <em>containing</em> is as broad as one would expect, maybe even broader: it is similar to how you look at a directed graph where each slash in the pattern refers to a step forward. the contained pattern can be of arbitrary length as long as it is inside the containing pattern one way or another. This means that the <em>small</em> path can occur in any (chronologically correct) form. For instance, <code>903/900</code> is contained in <code>903/902/900</code> even though the pattern is 'split open'. One way to visualise this is: in the small path we go from point A to point B. In the larger path we also go from pont A to B but we make a stop at C. The larger path visits <em>more</em> places than the small path without missing out on anything. As a consequence, the smaller path can occur in any split-up form - as long as the order of the path is respected. As an example:</p>\n\n<pre><code>2/5 - 1/2/3/4/5\n# included\n5/2 - 1/2/3/4/5\n# not included\n</code></pre>\n\n<p>What I mean here is that the position of the 'contained' items should be identical in the large path. For instance: <code>1/3/2</code> 'matches' in <code>1/5/3/4/2</code> because the order is identical in the small and large path: <code>1</code> comes in a position before <code>3</code>, which in turn is in some position before <code>2</code>. <code>1/2/3</code>, <code>2/1/3</code> and so on would NOT match the larger path <code>1/5/3/4/2</code> even though they are valid paths with the same items. This is because the order of occurrence is different.</p>\n\n<p>The above example also illustrates that the items in the small pattern can occur <em>any where</em> in the large pattern; not only in the first and last position or in subsequent positions. In other words, all included paths for <code>1/2/3/4</code> are:</p>\n\n<pre><code>1/2\n1/2/3\n1/3\n1/4\n2/3\n2/3/4\n2/4\n3/4\n</code></pre>\n\n<p>I am looking for an <strong>efficient</strong> way to remove paths in a given array that are included in others from that same array.</p>\n\n<p>I got <a href=\"http://ideone.com/MeHg0d\" rel=\"nofollow noreferrer\">this far</a>, but I'm not sure how I should efficiently check the <em>contains</em> relationship between two items. </p>\n\n<pre><code>#!/usr/bin/perl\n\nmy @arr = (\"903/900\", \"903/902/900\", \"903/904/902/901\", \"903/904/902/908/900\", \"903\");\nmy @res = ();\n\nOUTER: for (my $i = 0; $i &lt; @arr; $i++) {\n    my $first = $arr[$i];\n    my $j = $i+1;\n    INNER: while($j &lt; @arr) {\n        my $second = $arr[$j];\n        &amp;compare_paths($first, $second);\n        $j++;\n    }\n}\n\nsub compare_paths {\n    my ($first, $second) = @_;\n\n    @first_items = split(/\\//, $first);\n    @second_items = split(/\\//, $second);\n\n    # Compare values from 1 and 2\n}\n</code></pre>\n\n<p>The expected output for the code above would be</p>\n\n<pre><code>@res = (\"903/904/902/901\", \"903/904/902/908/900\");\n</code></pre>\n\n<p>Reasons for removal:</p>\n\n<ul>\n<li><code>903/900</code> contained in <code>903/902/900</code></li>\n<li><code>903/902/900</code> contained in <code>903/904/902/908/900</code></li>\n<li><code>903</code> contained in <code>903/904/902/901</code></li>\n</ul>\n\n<p>How can I implement such algorithm efficiently? My main idea would be to check if an item of <code>@first_items</code> is a present in <code>$second</code>, if not continue, but if so check if a second item is also present and if so: check its substring position. This has to be larger than the first items substring position. Continue for each item (and the other way around for <code>@second_items</code> and <code>$first</code>) until all strings are matched. (If it helps for speed, the initial array can be swapped for a hash with the former array as the keys.)</p>\n"}, {"tags": ["perl", "selenium", "automated-tests"], "comments": [{"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "edited": false, "score": 0, "creation_date": 1482270269, "post_id": 41251445, "comment_id": 69704001, "body": "so your port is 443 in your example..."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1482271783, "post_id": 41251445, "comment_id": 69704701, "body": "<code>remote_server_addr</code> is supposed to be a hostname or an IP, not a URL."}, {"owner": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "edited": false, "score": 1, "creation_date": 1482281263, "post_id": 41251445, "comment_id": 69707591, "body": "If you call <code>$driver-&gt;debug_on()</code>, that will trigger behavior that prints out responses from the remote server. That may contain some helpful information."}], "answers": [{"tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": false, "score": 1, "last_activity_date": 1482297808, "creation_date": 1482297808, "answer_id": 41255679, "question_id": 41251445, "link": "https://stackoverflow.com/questions/41251445/perl-and-seleniumremotedriver/41255679#41255679", "title": "Perl and Selenium::Remote::Driver", "body": "<p>Try running the below code:</p>\n\n<pre><code>#!/usr/bin/perl  \nuse warnings;\nuse strict;\nuse Selenium::Remote::Driver;\n\nmy $host = \"10.10.1.1\"; //Enter your server IP in this place\nmy $driver = new Selenium::Remote::Driver('remote_server_addr' =&gt;  $host,\n                                           'port' =&gt; '4444', \n                                           'auto_close' =&gt; 0);\n$driver-&gt;get('http://www.google.com');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3946, "user_id": 65706, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6e0652a12b8a5b2577f91f0e192ea3f9?s=128&d=identicon&r=PG", "display_name": "Yordan Georgiev", "link": "https://stackoverflow.com/users/65706/yordan-georgiev"}, "is_accepted": false, "score": 1, "last_activity_date": 1538647770, "creation_date": 1538647770, "answer_id": 52644074, "question_id": 41251445, "link": "https://stackoverflow.com/questions/41251445/perl-and-seleniumremotedriver/52644074#52644074", "title": "Perl and Selenium::Remote::Driver", "body": "<p>The problem in this type of questions is that the variety of configurations and binaries in your setup might be so broad that the it is hard to actually provide a straight and correct answer for YOUR SETUP. \nThis answer has the following assumptions: </p>\n\n<ul>\n<li>you have downloaded the selenium-server-standalone.jar into /usr/lib/</li>\n<li>you have jdk 1.8 ( run the <code>java -version</code> in the shell</li>\n<li>you have installed and configured the xvfb-run ( it is a fight on it's own )\nSo : </li>\n</ul>\n\n<p>```</p>\n\n<pre><code> # ssh to your server , obs the -X !\n ssh -X user-name@server-name\n\n # start the selenium-server-standalone on the server\n xvfb-run -e /dev/stdout java -Dwebdriver.chrome.driver=/usr/bin/chromedriver -jar /usr/lib/selenium-server-standalone.jar &amp;\n\n  # one liner test - this is one veery long one \n perl -e 'use strict ; use warnings ; use Data::Printer ; my $host=\"127.0.0.1\"; use Selenium::Remote::Driver;my $driver = Selenium::Remote::Driver-&gt;new( \"browser_name\" =&gt;\"chrome\", \"error_handler\" =&gt; sub { print $_[1]; croak 'goodbye'; }, \"remote_server_addr\" =&gt; \"$host\",\"port\"=&gt; \"4444\");$driver-&gt;debug_on();$driver-&gt;get(\"http://www.google.com\"); print $driver-&gt;get_title();$driver-&gt;quit();' &amp;\n</code></pre>\n\n<p>```</p>\n\n<p>Here is the code in the one-liner as a perl script</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict ;\nuse warnings ;\nuse Carp ;\nuse Data::Printer ;\n use Selenium::Remote::Driver;\n\nmy $host=\"127.0.0.1\";\nmy $driver = Selenium::Remote::Driver-&gt;new(\n    \"browser_name\" =&gt;\"chrome\"\n  , \"error_handler\" =&gt; sub { print $_[1]; croak 'goodbye' ; }\n  , \"remote_server_addr\" =&gt; \"$host\"\n  , \"port\"=&gt; \"4444\") ;\n$driver-&gt;debug_on() ;\n$driver-&gt;get(\"http://www.google.com\");\nprint $driver-&gt;get_title();\n$driver-&gt;quit();\n</code></pre>\n\n<p>The output should look something like: \n```</p>\n\n<pre><code>        Prepping get\n        Executing get\n        REQ: POST, http://127.0.0.1:4444/wd/hub/session/ddb9c2575ab026cdb8c640bdc554181b/url, {\"url\":\"http://www.google.com\"}\n        RES: {\"sessionId\":\"ddb9c2575ab026cdb8c640bdc554181b\",\"status\":0,\"value\":null}\n\n        Prepping getTitle\n        Executing getTitle\n        REQ: GET, http://127.0.0.1:4444/wd/hub/session/ddb9c2575ab026cdb8c640bdc554181b/title, {}\n        RES: {\"sessionId\":\"ddb9c2575ab026cdb8c640bdc554181b\",\"status\":0,\"value\":\"Google\"}\n\n        GooglePrepping quit\n        Executing quit\n        REQ: DELETE, http://127.0.0.1:4444/wd/hub/session/ddb9c2575ab026cdb8c640bdc554181b, {}\n        RES: {\"sessionId\":\"ddb9c2575ab026cdb8c640bdc554181b\",\"status\":0,\"value\":null}\n</code></pre>\n\n<p>```</p>\n"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1236, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1538647770, "creation_date": 1482268860, "last_edit_date": 1482351432, "question_id": 41251445, "link": "https://stackoverflow.com/questions/41251445/perl-and-seleniumremotedriver", "title": "Perl and Selenium::Remote::Driver", "body": "<p>EDITED AGAIN</p>\n\n<p>I have a server on AWS somewhere in Northern Virginia and this is my monitoring server. I ssh into this Ubuntu server from another State to do system administration. I want to do web automation tests on this server which will test a web application on the Internet hitting a URL and verify that I can selenium test a login and authenticate successfully. This  server is on an AWS cloud I'm not quite sure which Perl module to use since I'm accessing it remotely.</p>\n\n<p>There are two CPAN modules: Selenium::Remote::Driver and WWW::Selenium. I have tried both and they are giving me issues. And I really don't know which is appropriate for my scenario. When I use Selenium::Remote::Driver, I get the following error:</p>\n\n<pre><code>Selenium server did not return proper status at     /usr/local/share/perl/5.18.2/Selenium/Remote/Driver.pm line 401.\n</code></pre>\n\n<p>When I use WWW::Selenium, I get this error:</p>\n\n<pre><code>Failed to start new browser session: org.openqa.selenium.server.RemoteCommandException: Error while launching browser\n</code></pre>\n\n<p>I was able to launch firefox manually from the AWS monitoring server by exporting the DISPLAY but it was really slow. I have heard that I can use a headless browser but I would have to export the DISPLAY by:</p>\n\n<pre><code>export DISPLAY=:5\n</code></pre>\n\n<p>But remember, I'm sshing into this AWS/Selenium server from my desktop so I'm assuming I use the above command on the AWS/Selenium Server while I'm ssh into it from my desktop? Actually, at this point, I'm not sure I'm doing here.  Can somebody help?</p>\n"}, {"tags": ["arrays", "perl", "split"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1482263551, "post_id": 41249977, "comment_id": 69700649, "body": "Did you mean to say <code>$counter == $number_of_group_one</code>?"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1482264047, "post_id": 41249977, "comment_id": 69700921, "body": "Yes! I will now update my post. That also changes the output. The first array is double the input, the second is empty (for most of my input files, not all)."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1482265012, "post_id": 41250268, "comment_id": 69701421, "body": "I&#39;d use <code>my @lines1 = splice @lines, @lines&#47;2;</code>. Removing the second half is more straightfoward than removing from the first half."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1482263695, "creation_date": 1482263695, "answer_id": 41250268, "question_id": 41249977, "link": "https://stackoverflow.com/questions/41249977/split-an-array-into-two-predetermined-sizes-might-not-always-be-equal/41250268#41250268", "title": "Split an array into two. Predetermined sizes, might not always be equal", "body": "<p>This is a good use case for <code>splice</code>:</p>\n\n<pre><code> my @lines = read_lines($filename);\n my @lines1 = splice @lines, 0, @lines/2;\n</code></pre>\n\n<p>will put (about) half of your lines from <code>@lines</code> into <code>@lines1</code>, removing them (and leaving about half of the lines) from <code>@lines</code>.</p>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 41250268, "answer_count": 1, "score": 0, "last_activity_date": 1482264067, "creation_date": 1482262491, "last_edit_date": 1482264067, "question_id": 41249977, "link": "https://stackoverflow.com/questions/41249977/split-an-array-into-two-predetermined-sizes-might-not-always-be-equal", "title": "Split an array into two. Predetermined sizes, might not always be equal", "body": "<p>I need to iterate over many files in a directory and split each file into two parts. I need to keep lines intact (I can't split on bite size). I also can't always assume that the file has an equal number of lines. I could use the \"split\" function, but am looking for a faster way of going through my files and to avoid the standard output names \"xaa\" and \"xab\" it generates. </p>\n\n<p>The easiest would be to make two subsequent substrings of an array in the sizes specified ($number_of_group_one and $number_of_group_two). I can't find out how to do this. Instead I am trying to push the lines into different arrays- filling one up until a certain number of lines and then \"spill over\" into the other array until there are no more lines left to push. However, this approach yields two output arrays that both have exactly double the number of input lines. Here is my code: </p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy ($directory) = @ARGV;\nmy $dir = \"$directory\";\nmy @arrayoffiles = glob \"$dir/*\";\nmy @arrayoflines_one;\nmy @arrayoflines_two;\nmy $counter = 0;\n\nforeach my $filename(@arrayoffiles){\n    my @arrayoflines_one;\n    my @arrayoflines_two;\n    my @lines = read_lines($filename);\n    my $NumberofLines = @lines;\n    my $number_of_group_one = int($NumberofLines/2);\n    my $number_of_group_two = ($NumberofLines - $number_of_group_one);\n    foreach my $line (@lines){\n            $counter++;\n            push (@arrayoflines_one, $line, \"\\n\");\n            if ($counter == $number_of_group_one){\n                    push (@arrayoflines_two, $line, \"\\n\");\n            }\n    }\n}\n\nsub read_lines {\n    my ($file) = @_;\n    open my $in, '&lt;', $file or die $!;\n    local $/ = undef; #slurps the whole file in as one\n    my $content = &lt;$in&gt;;\n    return split /\\s/, $content;\n    close $in;\n}\n</code></pre>\n\n<p>I hope this is clear. Thanks for your help! </p>\n"}, {"tags": ["perl", "mechanize"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482258136, "post_id": 41248151, "comment_id": 69697781, "body": "Generally you want to show details of what you are doing -- in this case, that code that you say you have.  Code, always.  A short (minimal) version that makes the question concrete and specific. Otherwise I find your question to be OK."}, {"owner": {"reputation": 309, "user_id": 6608329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIts1.jpg?s=128&g=1", "display_name": "Q&#39;&#39;", "link": "https://stackoverflow.com/users/6608329/q"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482258274, "post_id": 41248151, "comment_id": 69697865, "body": "Thanks for the comment zdim. In this case my question concerned a programming approach as opposed to a problem with a specific piece of code, and that&#39;s why I didn&#39;t post my existing code."}, {"owner": {"reputation": 309, "user_id": 6608329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIts1.jpg?s=128&g=1", "display_name": "Q&#39;&#39;", "link": "https://stackoverflow.com/users/6608329/q"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482258319, "post_id": 41248151, "comment_id": 69697887, "body": "...But I accept your criticism and will post code excerpts in all cases from now on"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482258435, "post_id": 41248151, "comment_id": 69697939, "body": "I understand that.  It&#39;s not really criticism, more information.  Always show your code."}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 6608329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIts1.jpg?s=128&g=1", "display_name": "Q&#39;&#39;", "link": "https://stackoverflow.com/users/6608329/q"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482258475, "post_id": 41248343, "comment_id": 69697964, "body": "Agreed.  I have removed this unnecessary text from the answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1482258544, "post_id": 41248343, "comment_id": 69697998, "body": "Note that people <i>do not</i> have to provide explanations for their votes. Sometimes they&#39;ll convey their assessment by votes alone, and it&#39;s up to you to figure out why you get +/-. Perhaps not ideal, but it is some feedback.  I&#39;ve banged my head against that many times. Occasionally, you&#39;ll get votes which are hard to understand, but overall there are good reasons."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482259174, "post_id": 41248343, "comment_id": 69698319, "body": "Stating that one needs <code>$mech-&gt;res()</code> doesn&#39;t explain why it helps.  One can figure that out from the code, but why not state that. I edited, please clean up/adjust as you like. (Or revert to the previous version, if you don&#39;t like it. :)  You can manipulate version control by clicking on <i>edited ...</i> above the user name."}, {"owner": {"reputation": 309, "user_id": 6608329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIts1.jpg?s=128&g=1", "display_name": "Q&#39;&#39;", "link": "https://stackoverflow.com/users/6608329/q"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482259681, "post_id": 41248343, "comment_id": 69698603, "body": "I prefer your adjustments, thanks for taking the time to help improve my question/answer. I will take this on board for future questions. Cheers."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482325295, "post_id": 41248343, "comment_id": 69727379, "body": "If you want to go into more detail, maybe include where it gets that information. There sometimes is an HTTP header in the response that contains the original filename, and the type can also be inferred from the content type header."}], "tags": [], "owner": {"reputation": 309, "user_id": 6608329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIts1.jpg?s=128&g=1", "display_name": "Q&#39;&#39;", "link": "https://stackoverflow.com/users/6608329/q"}, "is_accepted": false, "score": 1, "last_activity_date": 1482259065, "last_edit_date": 1482259065, "creation_date": 1482256047, "answer_id": 41248343, "question_id": 41248151, "link": "https://stackoverflow.com/questions/41248151/get-information-about-file-attachment-via-perl-mechanize/41248343#41248343", "title": "Get information about file attachment via perl Mechanize", "body": "<p>To achieve an inspection of the filetype you have to use <code>$mech-&gt;res()</code>.  It returns an <a href=\"http://search.cpan.org/~ether/HTTP-Message-6.11/lib/HTTP/Response.pm\" rel=\"nofollow noreferrer\">HTTP::Response</a> object, and this class provides the <code>filename</code> method.</p>\n\n<p>Example:</p>\n\n<pre><code>foreach (@media)\n{   \n    print \"Fetching \" . $_-&gt;url() . \"\\n\";\n    $m-&gt;get($_);\n    my $res = $m-&gt;res();\n    if($res-&gt;is_success)\n    {\n        my $filename = $res-&gt;filename();\n        print \"$filename\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 6608329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIts1.jpg?s=128&g=1", "display_name": "Q&#39;&#39;", "link": "https://stackoverflow.com/users/6608329/q"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1482259065, "creation_date": 1482255269, "question_id": 41248151, "link": "https://stackoverflow.com/questions/41248151/get-information-about-file-attachment-via-perl-mechanize", "title": "Get information about file attachment via perl Mechanize", "body": "<p><strong>BACKGROUND</strong></p>\n\n<p>I am experimenting with Mechanize on a web forum.  The forum has some file attachments in its threads.  The attachment can be of various media types.  Each attachment has a link to a server-side program called \"attachment.php?\" and a unique id which identifies the file.  When you visit it in a normal browser, a file is returned and the browser decides what to do with it.  If it's an image, the file is displayed in the browser window and the titlebar is set to the filename.  If it's another type of file, the browser will ask if you want to download the file (and it automatically sets the filename to the name of the file).</p>\n\n<p><strong>QUESTION</strong></p>\n\n<p>My question is how can I explore the details of such file attachments with Mechanize so that I can determine filetype and filename?\nI've already successfully downloaded a file using my program, but I have to tell Mechanize what the filename should be.  I would prefer to keep the original filename, but to do that I have to be able to discover it somehow.  I know it can be done because my browser is able to determine the filetype and filename.\nAs a secondary objective I would also like to query the size of the file, if this is possible.</p>\n\n<p>I hope my question makes sense and thank you in advance to anyone who takes the time to answer.</p>\n"}, {"tags": ["multithreading", "perl", "pipe", "stdout", "filehandle"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482245521, "post_id": 41244512, "comment_id": 69689955, "body": "I think we need more detail - you -shouldn&#39;t- be getting mixed up lines from <code>$out</code> - my <i>guess</i> would be to look to where <code>@log</code> is scoped, or what <code>$cmd</code> is actually doing. However I can&#39;t tell without a bit more code. Perl threading is broadly pretty good, but I&#39;d strongly suggest that for a log-coalescing operation <code>Thread::Queue</code> is the tool for the job."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482246100, "post_id": 41244512, "comment_id": 69690405, "body": "Also consider <code>IPC::Open2</code> (or 3) or <code>IPC::Run</code>. And  bear in mind just because you&#39;re using <code>stdbuf</code> that doesn&#39;t mean you don&#39;t get perl output  buffering kicking in."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1482251233, "post_id": 41244512, "comment_id": 69693839, "body": "Are you saying you are getting the output from two children from one <code>$out</code>? I believe you are mistaken if so. Re-evaluate how you can to that conclusion."}, {"owner": {"reputation": 11, "user_id": 7321212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e7724d92d5c459f84200e54bcbca9a?s=128&d=identicon&r=PG&f=1", "display_name": "Bitstacker", "link": "https://stackoverflow.com/users/7321212/bitstacker"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482330126, "post_id": 41244512, "comment_id": 69730629, "body": "@Sobrique: As requested, I have added more Detail. Also I explained that the mlog and xlog methods actually use Thread::Queue but are called sparsely to avoid lock contention."}, {"owner": {"reputation": 11, "user_id": 7321212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e7724d92d5c459f84200e54bcbca9a?s=128&d=identicon&r=PG&f=1", "display_name": "Bitstacker", "link": "https://stackoverflow.com/users/7321212/bitstacker"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482330175, "post_id": 41244512, "comment_id": 69730673, "body": "@ikegami: Yes, that is exactly what I am saying. I have added some more info on how I came to that conclusion."}, {"owner": {"reputation": 11, "user_id": 7321212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e7724d92d5c459f84200e54bcbca9a?s=128&d=identicon&r=PG&f=1", "display_name": "Bitstacker", "link": "https://stackoverflow.com/users/7321212/bitstacker"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482332804, "post_id": 41244512, "comment_id": 69732477, "body": "@Sobrique: I specifically did not want to use open2 or open3, since open2() can not do stderr and open3() would complicate the code somewhat due to the need of using select() to avid possible deadlock situations. Thanks for pointing me to IPC::Run which I had not yet considered. It seems to actually allow asyncronous execution, which I need because in my use case it is crucial to write away the log output from the workers pseudo-synchronously, preferably with less than 2s delay."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482338845, "post_id": 41244512, "comment_id": 69736549, "body": "<code>IO::Select</code> with a zero delay&#39;s pretty good for switching filehandles with low latency. You&#39;ll usually need to have a non-zero delay at the end to flush the file handles through though."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482338895, "post_id": 41244512, "comment_id": 69736574, "body": "As for reading the  wrong <code>$out</code> - the only thing I can think of is that maybe <code>$cmd</code> has a race condition in it. Either that, or the <code>$cmd</code> getting passed isn&#39;t the one you think."}], "owner": {"reputation": 11, "user_id": 7321212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e7724d92d5c459f84200e54bcbca9a?s=128&d=identicon&r=PG&f=1", "display_name": "Bitstacker", "link": "https://stackoverflow.com/users/7321212/bitstacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482336406, "creation_date": 1482243783, "last_edit_date": 1482336406, "question_id": 41244512, "link": "https://stackoverflow.com/questions/41244512/perl-multithreading-capturing-stdio-of-subthread-childs-with-mixed-results", "title": "perl multithreading: capturing stdio of subthread childs with &quot;mixed&quot; results", "body": "<p>I wrote a massively multithreaded application in perl which basically scans a file- or directory-structure for changes (either using inotify or polling). When it detects changes, it launches subthreads that execute programs with the changed files as an argument, according to a configuration.</p>\n\n<p>This works quite nice so far, with the exception that my application also tries to capture stdout and stderr of the externally executed programs and write them to log files in a structured manner.</p>\n\n<p>I am, however, experiencing an occasional but serious mixup of output here, in the way that every when and then (usually under heavy workload, of course, so that the normal tests always run fine) stdout from a program on thread A gets into the stdout pipe FH of another program running on thread B at the very same time.</p>\n\n<p>My in-thread code to run the externally executed programs and capture the output from them looks like this:</p>\n\n<pre><code>my $out;\n$pid = open($out, \"( stdbuf -oL \".$cmd.\" | stdbuf -oL sed -e 's/^/:::LOG:::/' ) 2&gt;&amp;1 |\") or xlog('async execution failed for: '.$cmd, LOG_LEVEL_NORMAL, LOG_ERROR);\n\n# catch all worker output here\nwhile(&lt;$out&gt;)\n{\n    if( $_ =~ /^:::LOG:::/ )\n    {\n        push(@log, $wname.':::'.$acnt.':::'.time().$_);\n    } else {\n        push(@log, $wname.':::'.$acnt.':::'.time().':::ERR:::'.$_);\n    }\n    if (time() - $last &gt; 1)\n    {\n       mlog($acnt, @log);\n       $last = time();\n       @log = ();\n    }\n}\nclose($out); \nwaitpid($pid, 0);\npush(@log, $wname.':::'.$acnt.':::'.time().':::LOG:::--- thread finished ---');\n</code></pre>\n\n<p>stdbuf is being used here to suppress buffering delays whereever possible and the sed pipe is being used to avoid the need of handling multiple fds in the reader while still being able to separate normal output from errors.\nCaptured log lines are being stuffed into a local array by the while loop and every other second contents of that array are handed over to a thread-safe global logging method using semaphores that makes sure nothing gets mixed up.</p>\n\n<p>To avoid unneccesary feedback loops from you: I certainly have made sure (using debug output) that the output <em>really is</em> mixed up on the thread level already and is not a result of locking mistakes later in the output chain!</p>\n\n<p>My Question is: how can it be, that the thread-locally defined $out FH from thread A does receive output that definitely comes from a totally different program running in thread B and therefor should end up in the separately defined thread-local $out FH of thread B? Did I make a grave mistake at some point here or is it just that perl threading is a mess? And, finally, what would be a recommended way to separate the data properly (and preferably in some elegant way)?</p>\n\n<hr>\n\n<p>Update: due to popular demand I have added the full thread method here:</p>\n\n<pre><code>sub async_command {\n    my $wname  = shift;\n    my $cmd    = shift;\n    my $acnt   = shift;\n    my $delay  = shift;\n    my $errlog = shift;\n    my $last   = time();\n    my $pid    = 0;\n    my @log;\n    my $out;\n\n    push(@log, $wname.':::'.$acnt.':::'.$last.':::LOG:::--- thread started ---'.($delay ? ' (sleeping for '.$delay.' seconds)':''));\n    push(@log, $wname.':::'.$acnt.':::'.$last.':::ERR:::--- thread started ---') if ($errlog);\n\n    if ($delay) { sleep($delay); }\n\n    # Start worker with output pipe. stdbuf prevents unwanted buffering\n    # sed tags stdout vs stderr \n    $pid = open($out, \"( stdbuf -oL \".$cmd.\" | stdbuf -oL sed -e 's/^/:::LOG:::/' ) 2&gt;&amp;1 |\") or xlog('async execution failed for: '.$cmd, LOG_LEVEL_NORMAL, LOG_ERROR);\n\n    # catch all worker output here\n    while(&lt;$out&gt;)\n    {\n        if( $_ =~ /^:::LOG:::/ )\n        {\n            push(@log, $wname.':::'.$acnt.':::'.time().$_);\n        } else {\n            push(@log, $wname.':::'.$acnt.':::'.time().':::ERR:::'.$_);\n        }\n        if (time() - $last &gt; 1)\n        {\n            mlog($acnt, @log);\n            $last = time();\n            @log = ();\n        }\n    }\n    close($out);\n    waitpid($pid, 0);\n    push(@log, $wname.':::'.$acnt.':::'.time().':::LOG:::--- thread finished ---');\n    push(@log, $wname.':::'.$acnt.':::'.time().':::ERR:::--- thread finished ---') if ($errlog);\n\n    mlog($acnt, @log);\n\n    byebye();\n}\n</code></pre>\n\n<p>So... here you can see that @log as well as $out are thread-local variables. The xlog (global log) and mlog-methods (worker logs) actually use Thread::Queue for further processing. I just dont want to use it more than once a second per thread to avoid too much locking overhead.</p>\n\n<p>I have duplicated the push(@log... statements into xlog() calls for debugging. Since the worker name $wname is somewhat tied to the $cmd executed and $acnt is a number unique for each thread, I came to see clearly that there is log output being read from the $out FH that definitely comes from a different $cmd than the one executed in this thread, while $acnt and $wname stay the ones that actually belong to the thread. Also I can see that these log lines then do NOT appear on the $out FH in the other thread where they should be.</p>\n"}, {"tags": ["perl", "sudo"], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 2, "last_activity_date": 1482238774, "creation_date": 1482238774, "answer_id": 41242975, "question_id": 41242781, "link": "https://stackoverflow.com/questions/41242781/how-to-run-command-in-perl-without-sudo/41242975#41242975", "title": "How to run command in Perl without sudo?", "body": "<p>From <code>man sudo</code>:</p>\n\n<blockquote>\n  <p>sudo -v [-AknS] [-g group] [-h host] [-p prompt] <strong>[-u user]</strong></p>\n</blockquote>\n\n<p>Use the <code>-u</code> flag to specify a user who isn't the superuser but has the permissions needed to do what you want to do.</p>\n\n<hr>\n\n<p>I wouldn't want Jenkins running test code as a regular user though (nor as the super user).</p>\n\n<p>A better approach would be to set the ownership and permissions of the files and directories that Jenkins needs to access to grant permission using a <em>group</em>, make Jenkins run as a member of that group, and then remove <code>sudo</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 3848751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21f562f44f3c28edecab9cbe5442329?s=128&d=identicon&r=PG&f=1", "display_name": "Sergun_spb", "link": "https://stackoverflow.com/users/3848751/sergun-spb"}, "is_accepted": false, "score": 3, "last_activity_date": 1482239238, "creation_date": 1482239238, "answer_id": 41243112, "question_id": 41242781, "link": "https://stackoverflow.com/questions/41242781/how-to-run-command-in-perl-without-sudo/41243112#41243112", "title": "How to run command in Perl without sudo?", "body": "<p>You should use sudo  <code>my $command = \"sudo -u $username /usr/local/bin/pod spec lint $POD_SPEC_FILE_ABS --verbose\";\n</code></p>\n"}], "owner": {"reputation": 5023, "user_id": 3021358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/xI263.png?s=128&g=1", "display_name": "snaggs", "link": "https://stackoverflow.com/users/3021358/snaggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482239238, "creation_date": 1482238160, "last_edit_date": 1482238524, "question_id": 41242781, "link": "https://stackoverflow.com/questions/41242781/how-to-run-command-in-perl-without-sudo", "title": "How to run command in Perl without sudo?", "body": "<p>I have problematic use case:</p>\n\n<p>I run Perl script with <code>sudo</code> (from Jenkins):</p>\n\n<blockquote>\n  <p>sudo /usr/bin/perl /Users/snaggs/scripts/build_ios.pl ${BUILD_NUMBER}\n  $Version $isPublish</p>\n</blockquote>\n\n<p>The script runs several commands from CLI.</p>\n\n<p>one of them is: <code>$ pod spec lint</code> that fails with error: <code>Cannot run pod as root</code>.</p>\n\n<pre><code>my $command = \"/usr/local/bin/pod spec lint $POD_SPEC_FILE_ABS --verbose\";      \nmy $podResults = `$command`; \n</code></pre>\n\n<p>I don't want to remove <code>sudo</code>. </p>\n\n<p>How can I run specific command into the script without super user?</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1482237123, "post_id": 41242179, "comment_id": 69684271, "body": "Arguments passed in <code>perl</code> script gets saved in <code>@ARGV</code> <code>array</code> So when you are printing it gives values from that array and printing it as different arguments given because It does not preserving the space between your arguments, Space is used to identify the different arguments."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482237454, "post_id": 41242179, "comment_id": 69684463, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1267829/perl-script-that-has-command-line-arguments-with-spaces\">Perl script that has command line arguments with spaces</a>"}, {"owner": {"reputation": 411, "user_id": 4960470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea16c4162a2524feca19d535f3bf1e67?s=128&d=identicon&r=PG&f=1", "display_name": "user333869", "link": "https://stackoverflow.com/users/4960470/user333869"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482237872, "post_id": 41242179, "comment_id": 69684713, "body": "passing arguments on the command line works OK as I have described  above. What doesn&#39;t work is to pass arguments throug a variable."}, {"owner": {"reputation": 411, "user_id": 4960470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea16c4162a2524feca19d535f3bf1e67?s=128&d=identicon&r=PG&f=1", "display_name": "user333869", "link": "https://stackoverflow.com/users/4960470/user333869"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482238295, "post_id": 41242179, "comment_id": 69684968, "body": "passing arguments on the command line works OK as I have described  above. so it is not a duplicate of the above question."}], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 4960470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea16c4162a2524feca19d535f3bf1e67?s=128&d=identicon&r=PG&f=1", "display_name": "user333869", "link": "https://stackoverflow.com/users/4960470/user333869"}, "edited": false, "score": 0, "creation_date": 1482244251, "post_id": 41243584, "comment_id": 69689063, "body": "I tried the array with bash and it works. Unfortunately I need to use ksh for backwards compatibility and it doesn&#39;t work there. So I am looking for an easy way to get my perl program distinguish between input from STDIN which I would use to invoke it from ksh scripts and input from command line parameters which I then would use for interactive invocations."}, {"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 0, "creation_date": 1482244572, "post_id": 41243584, "comment_id": 69689262, "body": "Which version of Korn shell are you using?  Might be worth adding details to the question."}], "tags": [], "owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "is_accepted": false, "score": 2, "last_activity_date": 1482242941, "last_edit_date": 1482242941, "creation_date": 1482240741, "answer_id": 41243584, "question_id": 41242179, "link": "https://stackoverflow.com/questions/41242179/passing-parameters-from-shell-script-to-perl-program-doesnt-preserve-spaces/41243584#41243584", "title": "passing parameters from shell script to perl program doesn&#39;t preserve spaces", "body": "<p>If you're using bash you might consider using an <a href=\"http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_10_02.html\" rel=\"nofollow noreferrer\">array variable</a> to hold the arguments to prevent the loss of information when the variable is substituted into the <code>test.pl</code> command invocation:</p>\n\n<pre><code>declare -a X=(\"a b\" \"c d\" e)\ntest.pl \"${X[@]}\"\n</code></pre>\n\n<p>If it helps, you can build up the array piece-by-piece:</p>\n\n<pre><code>X=(\"a b\")\nX+=(\"c d\")\nX+=(\"e\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482242791, "post_id": 41243708, "comment_id": 69688080, "body": "I think you have a syntax error, Don&#39;t you mean <code>.&#47;test.pl &quot;$X&quot;</code> or <code>&#47;usr&#47;bin&#47;perl test.pl &quot;$x&quot;</code>."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482243113, "post_id": 41243708, "comment_id": 69688304, "body": "You are absolutely right. Otherwise this only works when test.pl is in the PATH i guess"}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 2, "last_activity_date": 1482243132, "last_edit_date": 1482243132, "creation_date": 1482241115, "answer_id": 41243708, "question_id": 41242179, "link": "https://stackoverflow.com/questions/41242179/passing-parameters-from-shell-script-to-perl-program-doesnt-preserve-spaces/41243708#41243708", "title": "passing parameters from shell script to perl program doesn&#39;t preserve spaces", "body": "<p>The problem is the shell. executing </p>\n\n<pre><code>./test.pl \"$X\"\n</code></pre>\n\n<p>will give one argument to the shell. One solution would be to use</p>\n\n<pre><code>/bin/bash -c \"./test.pl $X\"\n</code></pre>\n\n<p>HTH\nGeorg</p>\n"}, {"tags": [], "owner": {"reputation": 411, "user_id": 4960470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea16c4162a2524feca19d535f3bf1e67?s=128&d=identicon&r=PG&f=1", "display_name": "user333869", "link": "https://stackoverflow.com/users/4960470/user333869"}, "is_accepted": true, "score": 0, "last_activity_date": 1482313239, "creation_date": 1482313239, "answer_id": 41259543, "question_id": 41242179, "link": "https://stackoverflow.com/questions/41242179/passing-parameters-from-shell-script-to-perl-program-doesnt-preserve-spaces/41259543#41259543", "title": "passing parameters from shell script to perl program doesn&#39;t preserve spaces", "body": "<p>Thanks @all for the hints.\nParameter passing from shells seems to be not as easy as I had thought.\nThus I have added another parameter to my perl program, which tells it to read the parameters from a file instead of the command line.\nThis works like desired and circumvents shell interpretations.</p>\n"}], "owner": {"reputation": 411, "user_id": 4960470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea16c4162a2524feca19d535f3bf1e67?s=128&d=identicon&r=PG&f=1", "display_name": "user333869", "link": "https://stackoverflow.com/users/4960470/user333869"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1185, "favorite_count": 0, "accepted_answer_id": 41259543, "answer_count": 3, "score": 4, "last_activity_date": 1482313239, "creation_date": 1482236201, "last_edit_date": 1482237699, "question_id": 41242179, "link": "https://stackoverflow.com/questions/41242179/passing-parameters-from-shell-script-to-perl-program-doesnt-preserve-spaces", "title": "passing parameters from shell script to perl program doesn&#39;t preserve spaces", "body": "<p>I have a perl script test.pl which reads arguments from the command line  </p>\n\n<pre><code>#!/usr/bin/perl -w  \nfor( @ARGV ) { print( \"$_\\n\" ) } ;\n</code></pre>\n\n<p>This works well when I pass parameters like  \"a b\" \"c d\" e on the command line<br>\nThe result is:</p>\n\n<pre><code>a b\nc d\ne\n</code></pre>\n\n<p>If I declare a variable</p>\n\n<pre><code>X='\"a b\" \"c d\" e'\n</code></pre>\n\n<p>and then run</p>\n\n<pre><code>test.pl $X\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>\"a\nb\"\n\"c\nd\"\ne\n</code></pre>\n\n<p>I need to run the perl script from various shell scripts as a helper function and the parameters are calculated by those scripts.<br>\nThe parameter count is not fixed so I have to pass it as a list.<br>\nAlas I cannot find a way to get the perl program handle my parameters as desired.<br>\nI have thought of passing the parameters through file but then the manual invocation of the perl script from the command line becomes awkward.<br>\nHow can I get the perl script preserve the spaces in the paramters?</p>\n"}, {"tags": ["bash", "perl", "curl", "soap"], "comments": [{"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1482224633, "post_id": 41238274, "comment_id": 69676381, "body": "What is your question exactly?"}, {"owner": {"reputation": 1, "user_id": 7319944, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zX0LMRAub-Y/AAAAAAAAAAI/AAAAAAAADSc/CRaXpGWCFxw/photo.jpg?sz=128", "display_name": "Mihkel", "link": "https://stackoverflow.com/users/7319944/mihkel"}, "reply_to_user": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1482225143, "post_id": 41238274, "comment_id": 69676680, "body": "How to make script replacing the value in tag and posting it consistently to server url."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482225194, "post_id": 41238274, "comment_id": 69676709, "body": "What you have tried?"}, {"owner": {"reputation": 1, "user_id": 7319944, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zX0LMRAub-Y/AAAAAAAAAAI/AAAAAAAADSc/CRaXpGWCFxw/photo.jpg?sz=128", "display_name": "Mihkel", "link": "https://stackoverflow.com/users/7319944/mihkel"}, "edited": false, "score": 0, "creation_date": 1482227945, "post_id": 41238274, "comment_id": 69678623, "body": "I know how to post one query using CURL: curl -d @post.xml -H &quot;Content-type: text/xml; charset=UTF-8&quot; <a href=\"http://myserver.test:8080/service\" rel=\"nofollow noreferrer\">myserver.test:8080/service</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7319944, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zX0LMRAub-Y/AAAAAAAAAAI/AAAAAAAADSc/CRaXpGWCFxw/photo.jpg?sz=128", "display_name": "Mihkel", "link": "https://stackoverflow.com/users/7319944/mihkel"}, "edited": false, "score": 0, "creation_date": 1482234539, "post_id": 41240908, "comment_id": 69682731, "body": "Gives:  Can&#39;t modify concatenation (.) or string in scalar assignment at autoposter.pl line 7, near &quot;&quot;request.xml&quot;;&quot; Execution of autoposter.pl aborted due to compilation errors."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 1, "user_id": 7319944, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zX0LMRAub-Y/AAAAAAAAAAI/AAAAAAAADSc/CRaXpGWCFxw/photo.jpg?sz=128", "display_name": "Mihkel", "link": "https://stackoverflow.com/users/7319944/mihkel"}, "edited": false, "score": 0, "creation_date": 1482239954, "post_id": 41240908, "comment_id": 69686056, "body": "you couldn&#39;t post comment as answer. Delete that answer."}, {"owner": {"reputation": 1, "user_id": 7319944, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zX0LMRAub-Y/AAAAAAAAAAI/AAAAAAAADSc/CRaXpGWCFxw/photo.jpg?sz=128", "display_name": "Mihkel", "link": "https://stackoverflow.com/users/7319944/mihkel"}, "edited": false, "score": 0, "creation_date": 1482248254, "post_id": 41240908, "comment_id": 69691932, "body": "I have right now: <code>#!&#47;usr&#47;bin&#47;perl use strict; use warnings;  #File opening my $queryfile = &quot;xsk_revoke.xml&quot;;  open(QRY, $queryfile) || die &quot;Can&#39;t open&#47;found: $!\\n&quot;;  local $&#47;; $_=&lt;QRY&gt;; my $qrytext=$_;  close(QRY); my $infile = &quot;iccid.txt&quot;;  open (INPUT, $infile) || die &quot;Can&#39;t open $infile: $!&quot;;  while(&lt;INPUT&gt;) { my $mtch_no = $_; $qrytext=~s&#47;(&lt;ICCID\\&gt;)([^&lt;&gt;]*)(&lt;\\&#47;ICCID&gt;)&#47;$1$mtch_no$3&#47;g; }  open(OUT, &quot;&gt;$queryfile&quot;) || die &quot;Can&#39;t open&#47;found: $!\\n&quot;;  print OUT $qrytext;  close(OUT);</code>  How to delete curl posted value after?"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1482241133, "last_edit_date": 1482241133, "creation_date": 1482232088, "answer_id": 41240908, "question_id": 41238274, "link": "https://stackoverflow.com/questions/41238274/perl-or-bash-script-for-posting-soap/41240908#41240908", "title": "Perl or bash script for posting SOAP", "body": "<p>May be the request based on this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\n#File opening Structure and learn make it simplify these lines.\nmy $queryfile = \"request.xml\";\nopen(QRY, $queryfile) || die \"Can't open/found: $!\\n\";\nlocal $/; $_=&lt;QRY&gt;; my $qrytext=$_;\nclose(QRY);\n\nwhile(&lt;DATA&gt;)\n{\n    my $mtch_no = $_;\n    $qrytext=~s/(&lt;ICCID xmlns=\\\"\\\"&gt;)([^&lt;&gt;]*)(&lt;\\/ICCID&gt;)/$1$mtch_no$3/g;\n\n    # And delete the value from `text.txt` file\n    # You can do your work here (post the request here)\n}\n\nopen(OUT, \"&gt;$queryfile\") || die \"Can't open/found: $!\\n\";\nprint OUT $qrytext;\nclose(OUT);\n\n__DATA__\n89370010100004370782\n89370010164904370786\n89370010100004370793\n</code></pre>\n\n<p>There is also one way to tie the text in a file none other than module <code>tie::file</code> for single shot for I/O. I hope this can be helpful.</p>\n"}], "owner": {"reputation": 1, "user_id": 7319944, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zX0LMRAub-Y/AAAAAAAAAAI/AAAAAAAADSc/CRaXpGWCFxw/photo.jpg?sz=128", "display_name": "Mihkel", "link": "https://stackoverflow.com/users/7319944/mihkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482243665, "creation_date": 1482224324, "last_edit_date": 1482243665, "question_id": 41238274, "link": "https://stackoverflow.com/questions/41238274/perl-or-bash-script-for-posting-soap", "title": "Perl or bash script for posting SOAP", "body": "<p>I need to create bash or perl script for posting SOAP request. The case is that it must read specific numbers from file (line by line) and post request for each row until end of file. So basically in <code>request.xml</code> query file i need to replace the value of on tag \n<code>&lt;ICCID xmlns=\"\"&gt;VALUE NEEDS TO BE REPACED HERE&lt;/ICCID&gt;</code></p>\n\n<p>And in the <code>text.txt</code> file where the values must be read has content like:</p>\n\n<p>89370010100004370782\n89370010164904370786\n89370010100004370793\n...and so on</p>\n\n<p>My XML file:</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsk=\"http://www.mskj.it/xsk\"&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;xsk:CertChangeStatusRequest id=\"63791\" time=\"2016-10-21T14:17:47.831Z\"&gt;\n     &lt;ApplicationID&gt;TEST&lt;/ApplicationID&gt;\n     &lt;ServiceID&gt;TEST&lt;/ServiceID&gt;\n     &lt;ICCID&gt;&lt;/ICCID&gt;\n     &lt;ChangeStatus&gt;Revoke&lt;/ChangeStatus&gt;\n     &lt;ReasonCode&gt;0&lt;/ReasonCode&gt;\n     &lt;Comment&gt;test&lt;/Comment&gt;\n      &lt;/xsk:CertChangeStatusRequest&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>I thought of using curl for posting SOAP.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482224016, "post_id": 41237978, "comment_id": 69675983, "body": "What problem you are facing with this code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7208927"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482224077, "post_id": 41237978, "comment_id": 69676023, "body": "Am getting the numerator values instead  of denominator values.@AbhiNickz"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482224389, "post_id": 41237978, "comment_id": 69676228, "body": "What value you are getting in <code>$table_data{2}{&#39;ENTRY&#39;}</code>, I am getting the correct denominator value if <code>$table_data{2}{&#39;ENTRY&#39;} == 4&#47;16</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7208927"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482224923, "post_id": 41237978, "comment_id": 69676554, "body": "Am getting the above tabular form output whenever i run the above code.In s_max values i should get 16 instead of 4.@AbhiNickz"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1482226109, "post_id": 41237978, "comment_id": 69677310, "body": "@upworkonline What <code>$num</code> has? Just print the <code>$num</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7208927"}, "edited": false, "score": 0, "creation_date": 1482226372, "post_id": 41237978, "comment_id": 69677490, "body": "$num has numerator values@mkHun"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1482226793, "post_id": 41237978, "comment_id": 69677791, "body": "@upworkonline I don&#39;t know what is the actual problem. Bcz it is working correctly. print the whole line and check it <code>print $table_data{2}{&#39;ENTRY&#39;};</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7208927"}, "edited": false, "score": 0, "creation_date": 1482227009, "post_id": 41237978, "comment_id": 69677937, "body": "can you post the sample code which you have tried@mkHun"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1482227218, "post_id": 41237978, "comment_id": 69678085, "body": "@upworkonline I tried with perl oneliner <code>perl -e &#39;my $s = &quot;0&#47;16&quot; ;my($num,$s_max)=split q(&#47;), $s; print $s_max; &#39;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7208927"}, "edited": false, "score": 0, "creation_date": 1482227480, "post_id": 41237978, "comment_id": 69678266, "body": "Okay i will check it again@mkHun"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7323472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a511cdf391b63ffb4c3e11ecac40ef?s=128&d=identicon&r=PG&f=1", "display_name": "csay", "link": "https://stackoverflow.com/users/7323472/csay"}, "is_accepted": false, "score": 1, "last_activity_date": 1482354491, "last_edit_date": 1482354491, "creation_date": 1482351126, "answer_id": 41271152, "question_id": 41237978, "link": "https://stackoverflow.com/questions/41237978/how-to-split-the-denominator-value-from-one-column-and-store-it-in-another-colum/41271152#41271152", "title": "How to split the denominator value from one column and store it in another column using perl?", "body": "<p>Seems your code \"<code>my($num,$s_max)=split /\\//,$table_data{2}{'ENTRY'};</code>\" is right. </p>\n\n<p>Somehow the value <code>$s_max</code> at the time it's writing to the DB is incorrect. Since you did not post the portion of code to show the part <code>$s_max</code> writing back to the DB, you need to check what value is in <code>$s_max</code> (e.g. printing the <code>$s_max</code> value) at the time right before writing it back to DB. From there, please try to trace back why an incorrect value is assigned to <code>$s_max</code>. Then, the problem would be solved. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7208927"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1482354491, "creation_date": 1482223302, "last_edit_date": 1482224978, "question_id": 41237978, "link": "https://stackoverflow.com/questions/41237978/how-to-split-the-denominator-value-from-one-column-and-store-it-in-another-colum", "title": "How to split the denominator value from one column and store it in another column using perl?", "body": "<hr>\n\n<p>My example code output:</p>\n\n<pre><code>time         | name        | status    | s_used     | s_max     |\n+------------+-------------+-----------+------------+-----------+\n| 1482222363 | asf         | Closed    | 0/16       |         0 |\n| 1482222363 | as0         | Available | 4/16       |         4 |\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>I have attached the part of my output which is generated using <code>perl</code> <code>cgi</code> script and <code>mysql</code> database.</p></li>\n<li><p>My query is how to take denominator value from the column <strong>s_used</strong> and store only the <strong>denominator</strong> values in the <strong>s_max</strong> column using perl.</p></li>\n</ol>\n\n<p>3.I had attached the following part of code which i tried.</p>\n\n<pre><code>if($i == 4){                    \n    if(/s_used/){\n        print;\n    }\n    else{\n        chomp();\n        my($num,$s_max)=split /\\//,$table_data{2}{'ENTRY'};\n        print $s_max;\n    }\n}  \n</code></pre>\n\n<p>Code Explanation:</p>\n\n<ol>\n<li><p><code>$i == 4</code> is the column where should I store the variable.</p></li>\n<li><p>I got <code>time</code> column from the sql database <code>$time</code>, <code>name</code> I got from <code>$table_data{0}{'ENTRY'}</code>, <code>status</code> from <code>$table_data{1}{'ENTRY'}</code>, <code>s_used</code> from <code>$table_Data{2}{'ENTRY'}</code>.</p></li>\n</ol>\n\n<p>Expected output: </p>\n\n<pre><code>time         | name        | status    | s_used     | s_max     |\n+------------+-------------+-----------+------------+-----------+\n| 1482222363 | asf         | Closed    | 0/16       |         16 |\n| 1482222363 | as0         | Available | 4/16       |         16 |\n</code></pre>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1482216583, "post_id": 41236113, "comment_id": 69672403, "body": "So you are asking how to work around an unknown spam filter at the recipient? That&#39;s not really a programming question."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1482216801, "post_id": 41236113, "comment_id": 69672506, "body": "I&#39;m voting to close this question as off-topic because it is not about programming but about working around (unknown) spam filters at the recipient."}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1482215823, "creation_date": 1482215823, "answer_id": 41236247, "question_id": 41236113, "link": "https://stackoverflow.com/questions/41236113/e-mail-sent-through-mimelite-containing-hyperlink-going-into-junk/41236247#41236247", "title": "E-Mail sent through `MIME::Lite` containing hyperlink going into junk", "body": "<p><a href=\"http://www.perlmonks.org/?node_id=585436\" rel=\"nofollow noreferrer\">I have referred from this site</a>:</p>\n\n<p>You have a choice. Firstly, you can send a plain text attachment that contains the URL. As doward explained, most modern mail programs will recognise the the URL and turn it into a clickable link when the mail is displayed. In this case, your mail looks like this:</p>\n\n<pre><code>my $message_body = &lt;&lt;END_OF_BODY;\nThis is a list of things to bring\n* Fresh flowers from Flowershop X\n    http://www.example.com/flowers\n\n* Today's Arrangement instructions from instruction home page\n    http://www.example.com/arrangement/\nEND_OF_BODY\n</code></pre>\n\n<p>That's the only way it can work in plain text. You can just include the URL and rely on the mail program to make it clickable.</p>\n\n<p>Alternatively, you can create a HTML version of the mail which contains real  tags. In this case, your mail looks something like this:</p>\n\n<pre><code>my $message_body = &lt;&lt;END_OF_BODY;\n&lt;p&gt;This is a list of things to bring&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Fresh flowers from &lt;a href=\"http://www.example.com/flowers/\"&gt;Flowershop X&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;Today's Arrangement instructions from &lt;a href=\"http://www.example.com/arrangement/\"&gt;instruction home page&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\nEND_OF_BODY\n</code></pre>\n\n<p>In this second example, you would need to set the content type of the attachment as 'text/html' so that the mail program that is displaying it knows how to treat it.</p>\n\n<p>As several people have mentioned in this thread, if you want HTML mail, then the best approach is to have two attachments, one of which is an HTML version and the other of which is the plain text version. In this case, you need to find out how your Mail-building module of choice (and I can only repeat once more my recommendation for the Perl Email Project) builds MIME messages with more than one attachment.</p>\n"}], "owner": {"reputation": 79, "user_id": 6638110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YAtkh.png?s=128&g=1", "display_name": "confused", "link": "https://stackoverflow.com/users/6638110/confused"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482396713, "creation_date": 1482215101, "last_edit_date": 1482396713, "question_id": 41236113, "link": "https://stackoverflow.com/questions/41236113/e-mail-sent-through-mimelite-containing-hyperlink-going-into-junk", "title": "E-Mail sent through `MIME::Lite` containing hyperlink going into junk", "body": "<p>I am trying to send a HTML E-Mail using <code>MIME:Lite</code> and I want to send a hyperlink through it. When I send it without hyperlink it goes to <code>Inbox</code> but with hyperlink it goes into <code>Junk</code>. Here is my code.</p>\n\n<pre><code>#!/grid/common/pkgs/perl/latest/bin/perl\n\nuse MIME::Lite;\n$to = 'gpreeti@xyz.com';\n$cc = 'mohitsha@xyz.com';\n$from = 'gpreeti@xyz.com';\n$subject = 'Test Email';\nmy $message = &lt;&lt;END ;\n&lt;p&gt; Hi, can you this Link in your inbox&lt;/p&gt;\n&lt;a href='http://etpv/cgi-bin/status_tracker/tracksql.cgi?curr_tab=inbox'&gt;Click here to view it&lt;/a&gt;\n&lt;br &gt;&lt;br &gt;\n&lt;p&gt;Thanks,&lt;br &gt;Preeti&lt;/p&gt;\nEND\n$msg = MIME::Lite-&gt;new(\n                 From     =&gt; $from,\n                 To       =&gt; $to,\n                 Cc       =&gt; $cc,\n                 Subject  =&gt; $subject,\n                 Data     =&gt; $message\n                 );\n\n$msg-&gt;attr(\"content-type\" =&gt; \"text/html\");\n$msg-&gt;send;\nprint \"Email Sent Successfully\\n\";\n</code></pre>\n\n<p>Anyone can suggest the way to do it?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1482213985, "post_id": 41235820, "comment_id": 69671323, "body": "<code>\\Q\\E</code> check these escape modifiers"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1482490338, "last_edit_date": 1482490338, "creation_date": 1482214218, "answer_id": 41235931, "question_id": 41235820, "link": "https://stackoverflow.com/questions/41235820/how-to-escape-all-special-characters-in-a-string-along-with-single-and-double-q/41235931#41235931", "title": "How to escape all special characters in a string (along with single and double quotes)?", "body": "<p>This is what <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a> is for, if I understand your quest.  From linked docs</p>\n\n<blockquote>\n  <p>Returns the value of EXPR with all non-\"word\" characters backslashed. (That is, all characters not matching <code>/[A-Za-z_0-9]/</code> will be preceded by a backslash in the returned string, regardless of any locale settings.) This is the internal function implementing the <code>\\Q</code> escape in double-quoted strings.</p>\n</blockquote>\n\n<p>Its use is very simple</p>\n\n<pre><code>my $myVar = q(this#@#!~`%^&amp;*()[]}{;'\".,&lt;&gt;?/\\\\);\nprint \"$myVar\\n\";\n\nmy $quoted_var = quotemeta $myVar;\nprint \"$quoted_var\\n\";\n</code></pre>\n\n<p>Note that we <em>must</em> manually <em>escape the last backslash</em>, to prevent it from escaping the closing delimiter. Or you can tack on an extra space at the end, and then strip it (by <a href=\"http://perldoc.perl.org/functions/chop.html\" rel=\"nofollow noreferrer\">chop</a>). </p>\n\n<pre><code>my $myVar = q(this#@#!~`%^&amp;*()[]}{;'\".,&lt;&gt;?/\\ );\nchop $myVar;\n</code></pre>\n\n<p>Now transform <code>$myVar</code> like above, using <code>quotemeta</code>.</p>\n\n<p>I take the outside pair of <code>\"</code> to merely indicate what you'd like in the variable. But if they are in fact meant to be in the variable then simply put it all inside <code>q()</code>, since then the last character is <code>\"</code>.  The only problem is a backslash immediately preceding the closing delimiter.</p>\n\n<p>If you need this in a regex context then you use <code>\\Q</code> to start and <code>\\E</code> to end escaping.</p>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1482214341, "creation_date": 1482214341, "answer_id": 41235955, "question_id": 41235820, "link": "https://stackoverflow.com/questions/41235820/how-to-escape-all-special-characters-in-a-string-along-with-single-and-double-q/41235955#41235955", "title": "How to escape all special characters in a string (along with single and double quotes)?", "body": "<p><a href=\"http://www.perlmonks.org/bare/?node_id=468052\" rel=\"nofollow noreferrer\">Giving Thanks to</a>:</p>\n\n<p>What's between \\Q and \\E is treated as normal characters, not regexp characters. For example,</p>\n\n<pre><code> '.' =~ /./;      # match\n 'a' =~ /./;      # match\n '.' =~ /\\Q.\\E/;  # match\n 'a' =~ /\\Q.\\E/;  # no match\n</code></pre>\n\n<p>It doesn't stop variables from being interpolated.</p>\n\n<pre><code> $search = '.';\n '.' =~ /$search/;      # match\n 'a' =~ /$search/;      # match\n '.' =~ /\\Q$search\\E/;  # match\n 'a' =~ /\\Q$search\\E/;  # no match\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 6431194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb4b0f7153db0f076b1c03b099de7f3?s=128&d=identicon&r=PG&f=1", "display_name": "Pradnya Deshmukh", "link": "https://stackoverflow.com/users/6431194/pradnya-deshmukh"}, "edited": false, "score": 0, "creation_date": 1482217093, "post_id": 41235971, "comment_id": 69672641, "body": "$var=q($var);    $var = quotemeta($var); In this its also escaping $ in &#39;$var&#39; so its not replacing value of $var ?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 61, "user_id": 6431194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb4b0f7153db0f076b1c03b099de7f3?s=128&d=identicon&r=PG&f=1", "display_name": "Pradnya Deshmukh", "link": "https://stackoverflow.com/users/6431194/pradnya-deshmukh"}, "edited": false, "score": 0, "creation_date": 1482217262, "post_id": 41235971, "comment_id": 69672704, "body": "@PradnyaDeshmukh Instead use <code>qq($var);</code>"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 8, "last_activity_date": 1482214921, "last_edit_date": 1482214921, "creation_date": 1482214419, "answer_id": 41235971, "question_id": 41235820, "link": "https://stackoverflow.com/questions/41235820/how-to-escape-all-special-characters-in-a-string-along-with-single-and-double-q/41235971#41235971", "title": "How to escape all special characters in a string (along with single and double quotes)?", "body": "<p>Use <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"noreferrer\">q</a> to store the characters and use the <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"noreferrer\">quotemeta</a> to escape the all character</p>\n\n<pre><code>my $myVar=q(\"this#@#!~`%^&amp;*()[]}{;'\".,&lt;&gt;?/\\\");\n$myVar = quotemeta($myVar);\n\nprint $myVar;\n</code></pre>\n\n<p>Or else use regex substitution to escape the all character</p>\n\n<pre><code>my $myVar=q(\"this#@#!~`%^&amp;*()[]}{;'\".,&lt;&gt;?/\\\");\n$myVar =~s/(\\W)/\\\\$1/g;\nprint $myVar;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 6431194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb4b0f7153db0f076b1c03b099de7f3?s=128&d=identicon&r=PG&f=1", "display_name": "Pradnya Deshmukh", "link": "https://stackoverflow.com/users/6431194/pradnya-deshmukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15940, "favorite_count": 3, "accepted_answer_id": 41235971, "answer_count": 3, "score": 6, "last_activity_date": 1482490338, "creation_date": 1482213608, "last_edit_date": 1482213705, "question_id": 41235820, "link": "https://stackoverflow.com/questions/41235820/how-to-escape-all-special-characters-in-a-string-along-with-single-and-double-q", "title": "How to escape all special characters in a string (along with single and double quotes)?", "body": "<p>E.g:</p>\n\n<pre><code>$myVar=\"this#@#!~`%^&amp;*()[]}{;'\".,&lt;&gt;?/\\\";\n</code></pre>\n\n<p>I am not able to export this variable and use it as it is in my program.</p>\n\n<p>Can anyone help with this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 279739, "user_id": 16076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D29fm.jpg?s=128&g=1", "display_name": "Mitch Wheat", "link": "https://stackoverflow.com/users/16076/mitch-wheat"}, "edited": false, "score": 1, "creation_date": 1482208067, "post_id": 41234882, "comment_id": 69669296, "body": "how about write some tests?"}, {"owner": {"reputation": 33, "user_id": 6515191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cd792b66ede42477e1092f241b1027f?s=128&d=identicon&r=PG&f=1", "display_name": "CarAndre", "link": "https://stackoverflow.com/users/6515191/carandre"}, "reply_to_user": {"reputation": 279739, "user_id": 16076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D29fm.jpg?s=128&g=1", "display_name": "Mitch Wheat", "link": "https://stackoverflow.com/users/16076/mitch-wheat"}, "edited": false, "score": 1, "creation_date": 1482209551, "post_id": 41234882, "comment_id": 69669732, "body": "I tried to use thisuse strict; use warnings;   my $filename = &#39;data.txt&#39;; open(my $fh, &#39;&lt;:encoding(UTF-8)&#39;, $filename)   or die &quot;Could not open file &#39;$filename&#39; $!&quot;;   while (my $row = &lt;$fh&gt;) {   chomp $row;   print &quot;$row\\n&quot;; }"}, {"owner": {"reputation": 33, "user_id": 6515191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cd792b66ede42477e1092f241b1027f?s=128&d=identicon&r=PG&f=1", "display_name": "CarAndre", "link": "https://stackoverflow.com/users/6515191/carandre"}, "reply_to_user": {"reputation": 279739, "user_id": 16076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D29fm.jpg?s=128&g=1", "display_name": "Mitch Wheat", "link": "https://stackoverflow.com/users/16076/mitch-wheat"}, "edited": false, "score": 1, "creation_date": 1482209680, "post_id": 41234882, "comment_id": 69669759, "body": "I tried this code but I got error at (^  use strict; use warnings;   my $filename = &#39;data.txt&#39;; open(my $fh, &#39;&lt;:encoding(UTF-8)&#39;, $filename)   or die &quot;Could not open file &#39;$filename&#39; $!&quot;;   while (my $row = &lt;$fh&gt;) {         if (^x*$){                 print &quot;This is&quot;;         } }"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1482211915, "post_id": 41234882, "comment_id": 69670515, "body": "What is the question?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1482243487, "creation_date": 1482243487, "answer_id": 41244435, "question_id": 41234882, "link": "https://stackoverflow.com/questions/41234882/perl-programming/41244435#41244435", "title": "Perl Programming", "body": "<p>You're talking about regular expressions and how to use them in Perl. Your question seems to be whether the answers you picked to homework are correct.</p>\n\n<p>The code you've added should do what you want, but it has syntax errors.</p>\n\n<pre><code>if ( ^x*$ ) {\n    print \"This is\";\n}\n</code></pre>\n\n<p>Your <em>pattern</em> is correct, but you don't know how to use a regular expression in Perl. You're missing the actual operator to tell Perl that you want a regular expression.</p>\n\n<p>The short form is this, where I've highlighted the important part with <code>#</code></p>\n\n<pre><code>if ( /^x*$/ ) {\n     #    #\n</code></pre>\n\n<p>The slashes <code>//</code> tell Perl that it should match a pattern. The long form of it is:</p>\n\n<pre><code>if ( $_ =~ m/^x*$/ ) {\n     ## ## ##    #\n</code></pre>\n\n<p><code>$_</code> is the variable that you are matching against a pattern. The <code>=~</code> is the <em>matching operator</em>. The <code>m//</code> constructs a pattern to match with. If you use <code>//</code> you can leave out the <code>m</code>, but it's clearer to put it in.</p>\n\n<p>The <code>$_</code> is called <em>topic</em>. It's like a default variable that stuff goes into in Perl if you don't specify another variable.</p>\n\n<pre><code>while ( &lt;$fh&gt; ) {\n    print $_ if $_ =~ m/foo/; # print all lines that contain foo\n}\n</code></pre>\n\n<p>This code can be written as <code>$_</code>, because a lot of commands in Perl assume that you mean <code>$_</code> when you don't explicitly name a variable.</p>\n\n<pre><code>while ( &lt;$fh&gt; ) {    # puts each line in $_\n    print if m/foo/; # prints $_ if $_ contains foo\n}\n</code></pre>\n\n<p>You code looks like you wanted to do that, but in fact you have a <code>$row</code> in your loop. That's good, because it is more explicit. That means it's easier to read. So what you need to do for your match is:</p>\n\n<pre><code>while ( my $row = &lt;$fh&gt; ) {\n    if ( $row =~ m/^x*$/ ) {\n        print \"This is\";\n    }\n}\n</code></pre>\n\n<p>Now you will <em>iterate</em> each line of the file behind the <code>$fh</code> filehandle, and check if it matches the pattern <code>^x*$</code>. If it does, you print _\"This is\". That doesn't sound very useful.</p>\n\n<p>Consider this example, where I am using the <code>__DATA__</code> section instead of a file.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( my $row = &lt;DATA&gt; ) {\n    if ( $row =~ m/^x*$/ ) {\n        print \"This is\";\n    }\n}\n\n__DATA__\nfoo\nxxx\n\nx\nxxxxx\nbar\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>This isThis isThis isThis is\n</code></pre>\n\n<p>It really does not seem to be very useful. It would make more sense to include the line that matched.</p>\n\n<pre><code>if ( $row =~ m/^x*$/ ) {\n    print \"match: $row\";\n}\n</code></pre>\n\n<p>Now we get this:</p>\n\n<pre><code>match: xxx\nmatch: \nmatch: x\nmatch: xxxxx\n</code></pre>\n\n<p>That's almost what we expected. It matches a single <code>x</code>, and a bunch of <code>x</code>s. It did not match <code>foo</code> or <code>bar</code>. But it does match an empty line.</p>\n\n<p>That's because you picked the wrong pattern. </p>\n\n<p>The <code>*</code> multiplier means  <em>match as many as possible, as least <strong>none</strong></em>.<br>\nThe <code>+</code> multiplier means <em>match as many as possible, at least <strong>one</strong></em>.</p>\n\n<p>So your pattern should be the one with <code>+</code>, or it will match if there is nothing, because <em>start of the line</em>, no <code>x</code>, <em>end of the line</em> matches an empty line.</p>\n\n<p>While you're at it, you could also rename your variable. Unless you're dealing with CSV, which has rows of data, you have <em>lines</em>, not <em>rows</em>. So <code>$line</code> would be a better name for your variable. Giving variables good, descriptive names is very important because it makes it easier to understand your program.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'data.txt';\n\nopen( my $fh, '&lt;:encoding(UTF-8)', $filename ) \n    or die \"Could not open file '$filename' $!\";\n\nwhile ( my $line = &lt;$fh&gt; ) {\n    if ( $line =~ m/^x+$/ ) {\n        print \"match: $line\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6515191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cd792b66ede42477e1092f241b1027f?s=128&d=identicon&r=PG&f=1", "display_name": "CarAndre", "link": "https://stackoverflow.com/users/6515191/carandre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": -10, "last_activity_date": 1482243487, "creation_date": 1482207868, "last_edit_date": 1482242278, "question_id": 41234882, "link": "https://stackoverflow.com/questions/41234882/perl-programming", "title": "Perl Programming", "body": "<p>I have these questions. But I don't know how to prove it or if I'm right. Are my answers right?</p>\n\n<p>Find all complete lines of a file which contain only a row of any number of the letter x</p>\n\n<ul>\n<li>x* </li>\n<li>^x+$</li>\n<li>^x*$  &lt;-This one</li>\n<li>^xxxxx$</li>\n</ul>\n\n<p>Find all complete lines of a file which contain a row consisting only the letter x but ignoring any leading or trailing space on the line.</p>\n\n<ul>\n<li>^\\s* x+\\s*$ &lt;--This one</li>\n<li>^\\s(x*)\\s$</li>\n<li>\\s* x+\\s* </li>\n<li>^\\s+x+\\s+$</li>\n</ul>\n\n<p>I tried to use this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'data.txt';\n\nopen( my $fh, '&lt;:encoding(UTF-8)', $filename ) or die \"Could not open file '$filename' $!\";\n\nwhile ( my $row = &lt;$fh&gt; ) {\n    chomp $row;\n    print \"$row\\n\";\n}\n</code></pre>\n\n<p>I tried this code but I got error at <code>(^</code></p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'data.txt';\n\nopen( my $fh, '&lt;:encoding(UTF-8)', $filename ) or die \"Could not open file '$filename' $!\";\n\nwhile ( my $row = &lt;$fh&gt; ) {\n\n    if ( ^x*$ ) {\n        print \"This is\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 355, "user_id": 2136535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7d8c4c2a5eb6626d261943980df64bd?s=128&d=identicon&r=PG", "display_name": "Bob Mathews", "link": "https://stackoverflow.com/users/2136535/bob-mathews"}, "is_accepted": false, "score": 0, "last_activity_date": 1482204889, "creation_date": 1482204889, "answer_id": 41234490, "question_id": 41234040, "link": "https://stackoverflow.com/questions/41234040/perl-read-mathtype-equation/41234490#41234490", "title": "Perl read mathtype equation", "body": "<p>One place to start would seem to be the MathType SDK: <a href=\"http://www.dessci.com/en/reference/sdk/default.htm\" rel=\"nofollow noreferrer\">http://www.dessci.com/en/reference/sdk/default.htm</a></p>\n"}], "owner": {"reputation": 681, "user_id": 3510773, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/up9pt.jpg?s=128&g=1", "display_name": "Newbie", "link": "https://stackoverflow.com/users/3510773/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1482204889, "creation_date": 1482201508, "question_id": 41234040, "link": "https://stackoverflow.com/questions/41234040/perl-read-mathtype-equation", "title": "Perl read mathtype equation", "body": "<p>I read a word document containing Mathtype equation using Perl and then print it to txt file. It replace every euation with \"SOH\" charactor. How can I convert only equations from MathType to tex or latex like:</p>\n\n<pre><code>$y=\\frac{2-x}{x-1} $ \n</code></pre>\n\n<p>Here's my code:</p>\n\n<pre><code>#!perl\nuse warnings;\nuse strict;\nuse Win32::OLE 'CP_UTF8';\n$Win32::OLE::CP = CP_UTF8;\nbinmode STDOUT, 'encoding(CP932)';\n\nmy $document_name = 'C:\\\\Strawberry\\\\tam_dev\\\\input\\\\deso7.doc';\nopen (my $fh1, '&gt;:encoding(UTF-8)', 'C:\\\\Strawberry\\\\tam_dev\\\\output\\\\deso7.txt');\nmy $word = Win32::OLE-&gt;GetActiveObject('Word.Application') || Win32::OLE-&gt;new('Word.Application','Quit') or die Win32::OLE-&gt;LastError();\n$word-&gt;{visible} = 1;\nmy $document = $word-&gt;Documents-&gt;Open($document_name) or die Win32::OLE-&gt;LastError();\nmy $paragraphs = $document-&gt;Paragraphs ();\nmy $n_paragraphs = $paragraphs-&gt;Count ();\nfor my $p (1..$n_paragraphs) {\n    my $paragraph = $paragraphs-&gt;Item ($p);\n    print $fh1 $paragraph-&gt;Range-&gt;Text ();\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1482197235, "post_id": 41233360, "comment_id": 69666687, "body": "&quot;Any idea on how to resolve this?&quot; <i>Come to terms with the fact that Perl is not Pascal</i>."}], "answers": [{"comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 5, "creation_date": 1482196803, "post_id": 41233473, "comment_id": 69666589, "body": "It&#39;s better to suppress warnings locally: <code>{ no warnings; $[ = 1; }</code>. Leave the <code>-w</code> in place, or better, replace it by <code>use warnings;</code>."}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1482197256, "post_id": 41233473, "comment_id": 69666693, "body": "@KeithThompson True. On the other hand, it&#39;s futureproofing in case any of the other obsolete features used in the script get deprecated later on\u2026"}, {"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 7, "creation_date": 1482197540, "post_id": 41233473, "comment_id": 69666756, "body": "@duskwuff: I think you and I might define &quot;futureproofing&quot; differently. :-P"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 0, "creation_date": 1482205958, "post_id": 41233473, "comment_id": 69668803, "body": "@ruakh I mean, pragmatically speaking\u2026 whether the problem is &quot;fixed&quot; with a lexical <code>no warnings</code> or with <code>-X</code>, the script is probably not getting rewritten in modern Perl either way. One of the two solutions means the OP has to ask again when Perl deprecates something new, the other lets the script keep working until it&#39;s broken beyond repair\u2026"}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 2, "last_activity_date": 1482196363, "creation_date": 1482196363, "answer_id": 41233473, "question_id": 41233360, "link": "https://stackoverflow.com/questions/41233360/how-can-i-resolve-the-warning-use-of-assignment-to-is-deprecated/41233473#41233473", "title": "How can I resolve the warning &quot;Use of assignment to $[ is deprecated&quot;?", "body": "<p>Short-term: You can silence this warning by replacing the <code>-w</code> flag (enable some warnings) in the first line with <code>-X</code> (disable all warnings).</p>\n\n<p>Long-term: This script probably just needs to be rewritten entirely. The use of the <code>$[</code> variable (array base index) has been discouraged since the release of Perl 5.0 (in 1994!!); its presence in this file means that it must be very old indeed.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1587543001, "post_id": 41233555, "comment_id": 108548826, "body": "Thanks to @ArborealAnole and their proposed edit, which I misunderstood and rejected and so they posted an answer (which I did get), for bringing it to my attention that in v5.30 on can&#39;t anymore assign (non-zero) to this variable (even though its status hasn&#39;t changed)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 10, "last_activity_date": 1602450728, "last_edit_date": 1602450728, "creation_date": 1482196959, "answer_id": 41233555, "question_id": 41233360, "link": "https://stackoverflow.com/questions/41233360/how-can-i-resolve-the-warning-use-of-assignment-to-is-deprecated/41233555#41233555", "title": "How can I resolve the warning &quot;Use of assignment to $[ is deprecated&quot;?", "body": "<p>The use of <code>$[</code> has been discouraged, deprecated, and <a href=\"https://perl6.org/archive/rfc/355.html\" rel=\"nofollow noreferrer\">all but disallowed</a>. See <a href=\"http://search.cpan.org/%7Erjbs/perl-5.24.0/pod/perlvar.pod#$%5B\" rel=\"nofollow noreferrer\">it in perlvar</a> (it is in <a href=\"http://perldoc.perl.org/perlvar.html#Deprecated-and-removed-variables\" rel=\"nofollow noreferrer\">Deprecated and Removed Variables</a> section<sup>\u2020</sup>) and see the core <a href=\"http://search.cpan.org/%7Erjbs/perl-5.24.0/ext/arybase/arybase.pm\" rel=\"nofollow noreferrer\">arybase</a> where it's been moved.</p>\n<p>Still, if you must, you can disable this particular <a href=\"http://perldoc.perl.org/warnings.html#Category-Hierarchy\" rel=\"nofollow noreferrer\">warning category</a> \u00a0 (<em>Update: only in pre-v5.30)<sup>\u2020</sup></em></p>\n<pre><code>use strict;\nuse warnings;\n\n# Restrict the scope as much as possible\n{ \n    no warnings 'deprecated';\n    $[ = 1;                               # NOT possible in v5.30+\n    \n    # ...\n}\n</code></pre>\n<p>Now it will not print that warning, and it will work since it is still legal.  (<em>Not in v5.30+</em>) <sup>\u2020</sup></p>\n<p>Note that this also changes other offsets, for strings for example, but <em>not</em> yet some others. It is a very, very old &quot;feature,&quot; please read the documentation.</p>\n<p>I'd strongly recommend <strong>rewriting the script</strong>, if at all possible.</p>\n<hr />\n<p><sup>\u2020</sup>\u2009 Still the same status <a href=\"https://perldoc.perl.org/perlvar.html#$%5B\" rel=\"nofollow noreferrer\">in v5.30</a> \u00a0 ... but: \u00a0 &quot;<em>Assigning non-zero to <code>$[</code> is no longer possible</em>&quot;.</p>\n<p>Thus you <em>cannot</em> anymore assign, regardless of warnings or errors (those can be suppressed or handled).  Then either <strong>rewrite the script</strong> or use <a href=\"https://metacpan.org/pod/Array::Base\" rel=\"nofollow noreferrer\">Array::Base</a> if you must work with that offset, as in <a href=\"https://stackoverflow.com/a/41234840/4653379\">mob's answer</a></p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 6, "last_activity_date": 1482207525, "creation_date": 1482207525, "answer_id": 41234840, "question_id": 41233360, "link": "https://stackoverflow.com/questions/41233360/how-can-i-resolve-the-warning-use-of-assignment-to-is-deprecated/41234840#41234840", "title": "How can I resolve the warning &quot;Use of assignment to $[ is deprecated&quot;?", "body": "<p>The module <a href=\"http://metacpan.org/pod/Array::Base\" rel=\"noreferrer\"><code>Array::Base</code></a> implements the array index offset feature in modern versions of perl. For a self-constrained script, beginning the script with</p>\n\n<pre><code>use Array::Base (1);\n</code></pre>\n\n<p>should behave pretty similarly to an older script that says</p>\n\n<pre><code>$[ = 1;\n</code></pre>\n\n<p>at the top, but see the docs for some <a href=\"https://metacpan.org/pod/Array::Base#Differences-from\" rel=\"noreferrer\">potentially important disclaimers</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 68, "user_id": 13295603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5Lop.jpg?s=128&g=1", "display_name": "ArborealAnole", "link": "https://stackoverflow.com/users/13295603/arborealanole"}, "is_accepted": false, "score": 1, "last_activity_date": 1587368133, "last_edit_date": 1587368133, "creation_date": 1587365447, "answer_id": 61316633, "question_id": 41233360, "link": "https://stackoverflow.com/questions/41233360/how-can-i-resolve-the-warning-use-of-assignment-to-is-deprecated/61316633#61316633", "title": "How can I resolve the warning &quot;Use of assignment to $[ is deprecated&quot;?", "body": "<p><a href=\"https://perldoc.perl.org/perlvar.html#Deprecated-and-removed-variables\" rel=\"nofollow noreferrer\">Since Perl v5.30</a>, assignment to <code>$[</code> of anything but <code>0</code> produces an error. The workaround in zdim's answer no longer applies. The module <a href=\"http://metacpan.org/pod/Array::Base\" rel=\"nofollow noreferrer\">Array::Base</a> mentioned by mob still works however.</p>\n"}], "owner": {"reputation": 789, "user_id": 3586305, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/464ee72c175d2c8cbb8488ec020ef5b8?s=128&d=identicon&r=PG&f=1", "display_name": "jms1980", "link": "https://stackoverflow.com/users/3586305/jms1980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6979, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1602450728, "creation_date": 1482195472, "last_edit_date": 1482197696, "question_id": 41233360, "link": "https://stackoverflow.com/questions/41233360/how-can-i-resolve-the-warning-use-of-assignment-to-is-deprecated", "title": "How can I resolve the warning &quot;Use of assignment to $[ is deprecated&quot;?", "body": "<p>I have a program that I downloaded from an older computer to a newer one.  It has the following snippet of code:</p>\n\n<pre><code>#!/bin/perl -w\n\nuse strict;\n\n$[ = 1;    # set array base to 1\n$, = ' ';    # set output field separator\n$\\ = \"\\n\";    # set output record separator\n</code></pre>\n\n<p>However, when I try to run the script I get the following error message:</p>\n\n<pre><code>Use of assignment to $[ is deprecated at ./test.pl line 5.\n</code></pre>\n\n<p>Any idea on how to resolve this?</p>\n\n<p>I am using the following version of perl:</p>\n\n<pre><code>This is perl 5, version 16, subversion 3 (v5.16.3) built for x86_64-linux-thread-multi\n</code></pre>\n"}, {"tags": ["regex", "linux", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1482194913, "post_id": 41233275, "comment_id": 69666152, "body": "Like <a href=\"https://regex101.com/r/cndjLc/1\" rel=\"nofollow noreferrer\"><code>&#47;^\\s*(?:\\d+\\s+){3}((?!ram\\d+\\s)\\S+)\\s.*&#47;</code></a> perhaps."}], "answers": [{"comments": [{"owner": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482195484, "post_id": 41233318, "comment_id": 69666276, "body": "Thanks for comment. But regex you provided is hardcoded for field 3 right? What if the line to be captured is something like:  3    64   78150744 sdf 157 735 2168 1720 1745 437 17432 440 0 1960 2160   Do you think it will still capture sdf and exclude all ram?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482195626, "post_id": 41233318, "comment_id": 69666310, "body": "@JavaRed  The example you provided is hard-coded with three numbers, separated by spaces.  Then the pattern to accept (<code>sdf</code>) or to exclude (<code>ram</code>) comes.  If that&#39;s not always the case then it would be even better to split and manipulate an array, than to fiddle with a regex of growing complexity.  If the <code>sdf</code> in your comment above is <code>ram</code>, yes the code in my answer will skip that line.  It&#39;s the fourth field on which it&#39;s checking."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482195755, "post_id": 41233318, "comment_id": 69666349, "body": "@JavaRed  Are you saying that you can have <code>ram</code> anywhere on the line, and that you still have to skip the line?  (That&#39;s in fact much easier.)  The <code>split</code> in my answer splits the line by spaces, returning all fields into an array.  In your example from the comment above, it will have the first three numbers, then <code>sdf</code> in the fourth field, then 11 more fields with numbers.  Arrays start at <code>0</code> index.  So we check the fourth field (<code>$fields[3]</code>) and if it&#39;s <code>&#47;^ram&#47;</code> we move onto the next line.  If not, we process.  Is this not what you need?"}, {"owner": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482196148, "post_id": 41233318, "comment_id": 69666449, "body": "yes I try to modify a long code and as I understood disk name could be anywhere in the line. So regex should capture any character containing disk format eg  sda1 sd3 hd1 hd4 sdd12 etc but it should exclude all device name starting by ram regardless the field."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482196236, "post_id": 41233318, "comment_id": 69666467, "body": "@JavaRed Ah.  Then, if you have on line <code>sda1 ... hd1 ... ram1 ... sdd12</code> -- do you skip the whole line or do you just exclude the <code>ram</code> field (and keep and process others)?"}, {"owner": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482196645, "post_id": 41233318, "comment_id": 69666554, "body": "For example:  1) 3    64   78150744 hdb 157 735 2168 1720 1745 437 17432 440 0 1960 2160  (capture hdb)  2) 223 6675576 sdh 546456  (capture sdh) 3) 8233 33333333 sde23  (capture sde23) 4) 34343 343 12121 ram1 (skip ram1) 5)  45454 ram2 3434343 445 (skip ram2) 6) 1 6 16384 ram6 (skip ram6)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482197389, "post_id": 41233318, "comment_id": 69666727, "body": "@JavaRed  So each example is one line, and each line contains <b>only one</b> <code>hdb</code> or <code>sdh</code> or <code>ram</code> ... is that correct? In your example 2), 3), and 5), the disk is <i>not the fourth</i> thing on the line.  This disagrees with your regex in the question.  If the disk is always the fourth field on the line, and there can only be one disk label per line, the code in the answer does what you want.  Try it, test it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482205993, "post_id": 41233318, "comment_id": 69668814, "body": "@JavaRed  I updated the answer with a few comments, meant to clarify what the code does."}, {"owner": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482217857, "post_id": 41233318, "comment_id": 69672942, "body": "Thanks, It looks like working after a couple of trials."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482218446, "post_id": 41233318, "comment_id": 69673235, "body": "@JavaRed  Great, glad to hear that :)  Let me know if more explanations or additions would be useful."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1482226645, "last_edit_date": 1482226645, "creation_date": 1482195104, "answer_id": 41233318, "question_id": 41233275, "link": "https://stackoverflow.com/questions/41233275/regex-matching-a-word-excluding-some-others/41233318#41233318", "title": "Regex matching a word excluding some others", "body": "<p>By the example you show it's easier to <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> the line, and then you can also process easily.</p>\n\n<p>I take it that the fourth field is always the criterion for whether to process or exclude the line.</p>\n\n<p>Assuming that <code>$fh</code> is the filehandle for the file you are processing</p>\n\n<pre><code>while (&lt;$fh&gt;) \n{\n    my @fields = split;\n\n    # Skip this line if the fourth field starts with 'ram'\n    next if $fields[3] =~ /^ram/;\n\n    # Process as needed\n    # Numbers are at indices 0, 1, 2, and disk device name is $fields[3]\n}\n</code></pre>\n\n<p>The <code>split</code> above is the same as <code>split ' ', $_</code>, where <code>' '</code> is any amount of any white space. </p>\n"}, {"comments": [{"owner": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "edited": false, "score": 0, "creation_date": 1482197828, "post_id": 41233350, "comment_id": 69666840, "body": "Should I add this at the end of my regex?  if (/^\\s*(?:\\d+\\s+){3}(\\S+)\\s.*/)"}], "tags": [], "owner": {"reputation": 63, "user_id": 5211564, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-GcHorIO1Izw/AAAAAAAAAAI/AAAAAAAAABk/Pee-bLYB_Gw/photo.jpg?sz=128", "display_name": "Marcus Woy", "link": "https://stackoverflow.com/users/5211564/marcus-woy"}, "is_accepted": false, "score": 0, "last_activity_date": 1482195368, "creation_date": 1482195368, "answer_id": 41233350, "question_id": 41233275, "link": "https://stackoverflow.com/questions/41233275/regex-matching-a-word-excluding-some-others/41233350#41233350", "title": "Regex matching a word excluding some others", "body": "<p>If you want special execute ram than i think this short regex helps?</p>\n\n<p><strong>[^r]+ram\\w{1,2}</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/j5Dry.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j5Dry.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 638, "user_id": 2103312, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6008140e285ec0d3a4705d2a1a7905cf?s=128&d=identicon&r=PG", "display_name": "JavaRed", "link": "https://stackoverflow.com/users/2103312/javared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 41233318, "answer_count": 2, "score": 1, "last_activity_date": 1482226645, "creation_date": 1482194782, "question_id": 41233275, "link": "https://stackoverflow.com/questions/41233275/regex-matching-a-word-excluding-some-others", "title": "Regex matching a word excluding some others", "body": "<p>I try to create a regex who capture a word in a line, (basically it's a disk device name) but excluding all names with some format. For example:</p>\n\n<pre><code>if (/^\\s*(?:\\d+\\s+){3}(\\S+)\\s.*/)\n</code></pre>\n\n<p>This regex is matching:</p>\n\n<pre><code>8       80 7814026584 sdf\n</code></pre>\n\n<p>sdf in this line. But there are some ram disks I want to exclude. eg ram1, ram2, ram3, ..ram15 etc. How I can exclude all device starting by \"ram\"?</p>\n"}, {"tags": ["javascript", "ajax", "perl", "file-upload"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1482184448, "post_id": 41231546, "comment_id": 69662705, "body": "First order of business when troubleshooting web apps that appear to do nothing is to open your browser&#39;s developer tools and check that a request is actually being made, the correct parameters are being sent, and the expected response comes back. That will help you find the broken link in the chain."}, {"owner": {"reputation": 43, "user_id": 5278779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5hLJa.jpg?s=128&g=1", "display_name": "Satch", "link": "https://stackoverflow.com/users/5278779/satch"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482185047, "post_id": 41231546, "comment_id": 69662988, "body": "The console says <code>jquery.js:9664 XHR finished loading: POST &quot;http:&#47;&#47;myserver&#47;upload-images&#47;basic.html&quot;</code>, no error !"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482185381, "post_id": 41231546, "comment_id": 69663141, "body": "What was the response code? Does the request body actually include the file contents? What was the value of the Content-Type header in the request? Is there anything in the response body? This info should all be available in the network tab of the dev tools."}, {"owner": {"reputation": 43, "user_id": 5278779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5hLJa.jpg?s=128&g=1", "display_name": "Satch", "link": "https://stackoverflow.com/users/5278779/satch"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482188375, "post_id": 41231546, "comment_id": 69664291, "body": "Response code is 200. Inside the &quot;post&quot; panel, I can see that the file (actually a png file) is well sent to the server. The response body contains the whole content of <code>basic.html</code>. I cannot find the Content-Type header in the dev tool of Chrome and Firefox..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482197556, "post_id": 41231546, "comment_id": 69666762, "body": "Wait, why are you posting to an HTML page? The request should be going to a Perl script that can process it."}, {"owner": {"reputation": 43, "user_id": 5278779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5hLJa.jpg?s=128&g=1", "display_name": "Satch", "link": "https://stackoverflow.com/users/5278779/satch"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482232135, "post_id": 41231546, "comment_id": 69681312, "body": "No, I&#39;m not posting to the HTML page but to upload.pl. The full code of basic.html is here <a href=\"http://github.com/blueimp/jQuery-File-Upload/blob/master/basic.html\" rel=\"nofollow noreferrer\">github.com/blueimp/jQuery-File-Upload/blob/master/basic.html</a> and I only changed lines 114 and 115 to point to the perl handler like mentionned above."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482244729, "post_id": 41231546, "comment_id": 69689351, "body": "The <code>POST &quot;http:&#47;&#47;myserver&#47;upload-images&#47;basic.html&quot;</code> in your first comment makes it seem like you are posting to an HTML page. When you look at the request in the dev tools, what URL is it going to?"}, {"owner": {"reputation": 43, "user_id": 5278779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5hLJa.jpg?s=128&g=1", "display_name": "Satch", "link": "https://stackoverflow.com/users/5278779/satch"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482258623, "post_id": 41231546, "comment_id": 69698049, "body": "Yes I guess because it&#39;s ajax and you can notice in the whole <code>basic.html</code> code that <code>upload.pl</code> is the final destination (js part). By the way, I also tried to insert <code>data-url=&quot;http:&#47;&#47;myserver&#47;upload-images&#47;upload.pl&quot;</code> inside the &lt;input&gt; tag and to apply the minimal setup guide here: <a href=\"https://github.com/blueimp/jQuery-File-Upload/wiki/Basic-plugin\" rel=\"nofollow noreferrer\">github.com/blueimp/jQuery-File-Upload/wiki/Basic-plugin</a> but no file is uploaded ! If I switch to the php handler, everything is ok, but I&#39;d like to use Perl !! Everything I found on the net is useless regarding this module. I&#39;m wondering if only 1 person is using it with success... ?"}], "owner": {"reputation": 43, "user_id": 5278779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5hLJa.jpg?s=128&g=1", "display_name": "Satch", "link": "https://stackoverflow.com/users/5278779/satch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482193293, "creation_date": 1482183995, "last_edit_date": 1482193293, "question_id": 41231546, "link": "https://stackoverflow.com/questions/41231546/upload-files-using-perl-module-jqueryfileupload", "title": "Upload files using perl module jQuery::File::Upload", "body": "<p>I'm trying to use <a href=\"https://github.com/blueimp/jQuery-File-Upload/\" rel=\"nofollow noreferrer\">Sebastian Tschan's perfect upload scripts</a> with the <a href=\"http://search.cpan.org/~srchulo/jQuery-File-Upload-0.05/lib/jQuery/File/Upload.pm\" rel=\"nofollow noreferrer\">Perl handler</a>.</p>\n\n<p>The script seems to work well but no file is uploaded. There is no error message in either the console or the error log.</p>\n\n<p>I try to use the basic version. Here is what I've done.</p>\n\n<h3>Inside <code>basic.html</code> I set</h3>\n\n<pre><code>var url = window.location.hostname === 'http://myserver/upload-images/upload.pl';\n</code></pre>\n\n<h3><code>main.js</code> line 21</h3>\n\n<pre><code>  url: 'http://myserver/upload-images/upload.pl'\n</code></pre>\n\n<h3><code>upload.pl</code> looks like this</h3>\n\n<pre><code>#!C:\\Strawberry\\PERL\\BIN\\perl.exe\n\nuse jQuery::File::Upload;\n\n# simplest implementation\nmy $j_fu = jQuery::File::Upload-&gt;new;\n$j_fu-&gt;handle_request;\n$j_fu-&gt;print_response;\n</code></pre>\n\n<p>The result is the same when I set</p>\n\n<pre><code>$j_fu-&gt;upload_dir('C:/Program Files (x86)/Apache Group/Apache2/htdocs/upload-images/files');\n$j_fu-&gt;upload_url_base('http://myserver/upload-images/files');\n</code></pre>\n\n<p>I have an Apache server on Windows, and I thought it could be a permissions problem or something like that. But when I try to use the same method on my production server (setting <code>chmod 777</code> on the <code>files</code> directory) I have the same problem. No file is uploaded and there is no error message at all.</p>\n\n<p><code>jQuery::File::Upload</code> is properly installed, as well as <code>Image::Magick</code> on both servers.</p>\n\n<p>Can someone help me please?</p>\n"}, {"tags": ["perl", "unit-testing", "modulino"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1482183760, "post_id": 41231429, "comment_id": 69662371, "body": "You can&#39;t run just part of a program, test script or otherwise."}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482184747, "post_id": 41231429, "comment_id": 69662858, "body": "@ikegami I kind of can by calling just the sub I want, but I am looking for a way to do that without modifying my test."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1482184775, "post_id": 41231429, "comment_id": 69662873, "body": "Your program runs all tests, and you can&#39;t run just part of a program."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 8, "last_activity_date": 1482186149, "last_edit_date": 1482186149, "creation_date": 1482185516, "answer_id": 41231849, "question_id": 41231429, "link": "https://stackoverflow.com/questions/41231429/how-can-i-debug-a-single-perl-unit-test-sub/41231849#41231849", "title": "How can I debug a single Perl unit test sub?", "body": "<p>To avoid running all of your tests, <code>caller</code> must be defined when your test script is loaded. Try something like this:</p>\n\n<pre><code>$ perl -Ilib -de 1\nDB&lt;1&gt;   do 't/my-test.t'\nDB&lt;2&gt;   set_up()\nDB&lt;3&gt;   b test_something_else\nDB&lt;4&gt;   test_something_else()\n    ... step through test_something_else() function ...\nDB&lt;16&gt;   done_testing()\n</code></pre>\n"}], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 41231849, "answer_count": 1, "score": 3, "last_activity_date": 1497409755, "creation_date": 1482183406, "last_edit_date": 1497409755, "question_id": 41231429, "link": "https://stackoverflow.com/questions/41231429/how-can-i-debug-a-single-perl-unit-test-sub", "title": "How can I debug a single Perl unit test sub?", "body": "<p>I have the usual MakeMaker module with a <code>t/</code> tests directory, and I can run a single test file with e.g., <code>prove -I lib t/my-test.t</code>.</p>\n\n<p>My tests use <code>Test::Class</code> and <code>Test::More</code> and subs (with the modulino technique from Effective Perl), like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse base 'Test::Class';  \nuse Test::More;\n\n__PACKAGE__-&gt;runtests() unless caller;\n\nsub set_up : Test(setup) {\n    # ...\n} \n\nsub test_something : Test {\n    is(MyModule::some_sub(1), 1);\n}\n\n# ...more test subs...\n</code></pre>\n\n<p>Now I want to use the Perl debugger to investigate a test sub that shows a problem in my module. I want to only run <code>test_something</code> in the debugger, without running all the other test subs in the <code>.t</code> file.</p>\n\n<p><code>prove</code> does not seem to have such an option.</p>\n\n<p><code>perl -d -I lib t/my-test.t</code> runs all tests, unless I change my modulino to call the setup method and then the actual test method instead of <code>__PACKAGE__-&gt;runtests()</code>:</p>\n\n<pre><code>unless (caller) { \n    set_up(); \n    test_something();  \n    done_testing();  \n}\n</code></pre>\n\n<p>How can I run only one test sub without modifying the code?</p>\n"}, {"tags": ["linux", "perl", "daemon"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1482181606, "post_id": 41230901, "comment_id": 69661294, "body": "Why don&#39;t you make it HTTP-based so you don&#39;t have to invent an entirely new server (which is far outside your skill set right now)?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1482182137, "post_id": 41230901, "comment_id": 69661566, "body": "@cocosushiTS: You could write your own server from scratch, or you could use existing modules to create an HTTP server"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1482182900, "post_id": 41230901, "comment_id": 69661940, "body": "@cocosushiTS: You may create your own server using any inter-process communication that you choose. Sockets is one way, but they work at a very low level and you will have to design a simple protocol. Since there is so much ready-made software to implement an HTTP server, it makes sense to write something that will respond to an HTTP request, which is mostly plain text"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1482183379, "post_id": 41230901, "comment_id": 69662180, "body": "@cocodushiTS: There is no standard way to send commands to a daemon process. You have to write that process so that it waits for commands using your choice of inter-process communication, and write your &quot;simple script&quot; to send commands in the form that your daemon expects."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1482183459, "post_id": 41230901, "comment_id": 69662229, "body": "@cocosushi TS, Overkill? No. Writing everything from scratch because you think it&#39;s going to be more efficient is what&#39;s overkill. Get the application running first, and if you still think there&#39;s a reason to integrate the server logic then, do it then."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1482188359, "post_id": 41230901, "comment_id": 69664285, "body": "You could use the technique in the example you link to in order to send messages to your daemon - maybe send it a SIGHUP (with <code>kill -HUP &lt;pid of daemon&gt;</code>) to make it re-read the file of sites it has to block and send SIGUSR1 to make it print how long it has to run etc...."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 5646103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8789dd3ad52dc784f7bed48672532a9d?s=128&d=identicon&r=PG&f=1", "display_name": "cocosushi", "link": "https://stackoverflow.com/users/5646103/cocosushi"}, "edited": false, "score": 0, "creation_date": 1482181750, "post_id": 41230987, "comment_id": 69661381, "body": "It&#39;s exactly what I was looking for. Thanks ! :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 91, "user_id": 5646103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8789dd3ad52dc784f7bed48672532a9d?s=128&d=identicon&r=PG&f=1", "display_name": "cocosushi", "link": "https://stackoverflow.com/users/5646103/cocosushi"}, "edited": false, "score": 0, "creation_date": 1482182967, "post_id": 41230987, "comment_id": 69661973, "body": "@cocosushiTS: Are you sure? Have you ever done any programming with Sockets? It&#39;s not trivial to get right."}], "tags": [], "owner": {"reputation": 32602, "user_id": 7050130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd06b6898f66b91234471a40cffae45?s=128&d=identicon&r=PG", "display_name": "Mark Adelsberger", "link": "https://stackoverflow.com/users/7050130/mark-adelsberger"}, "is_accepted": false, "score": -2, "last_activity_date": 1482181541, "creation_date": 1482181541, "answer_id": 41230987, "question_id": 41230901, "link": "https://stackoverflow.com/questions/41230901/run-a-perl-script-in-the-background-and-send-it-commands/41230987#41230987", "title": "Run a Perl script in the background and send it commands", "body": "<p>There are a few ways to communicate with a daemon, but I would think UNIX domain sockets would make the most sense.  In perl, <code>IO::Socket::UNIX</code> would be a thing to look at.</p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 5646103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8789dd3ad52dc784f7bed48672532a9d?s=128&d=identicon&r=PG&f=1", "display_name": "cocosushi", "link": "https://stackoverflow.com/users/5646103/cocosushi"}, "edited": false, "score": 0, "creation_date": 1482344996, "post_id": 41248561, "comment_id": 69739946, "body": "It is indeed an easier and more comprehensive way to do it than with Sockets. Thank you so much :) !"}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": true, "score": 1, "last_activity_date": 1482256808, "creation_date": 1482256808, "answer_id": 41248561, "question_id": 41230901, "link": "https://stackoverflow.com/questions/41230901/run-a-perl-script-in-the-background-and-send-it-commands/41248561#41248561", "title": "Run a Perl script in the background and send it commands", "body": "<p>I would probably use the bones of the answer you refer to, but add:</p>\n\n<ul>\n<li><p>a handler for <code>SIGHUP</code> which re-reads the config file of IPs to suppress, and,</p></li>\n<li><p>a handler for <code>SIGUSR1</code> which reports how much time there is remaining.</p></li>\n</ul>\n\n<p>So, it would look like this roughly:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Proc::Daemon;\n\nProc::Daemon::Init;\n\nmy $continue = 1;\n################################################################################\n# Exit on SIGTERM\n################################################################################\n$SIG{TERM} = sub { $continue = 0 };\n\n################################################################################\n# Re-read config file on SIGHUP\n################################################################################\n$SIG{HUP} = sub {\n   # Re-read some config file - probably using same sub that we used at startup\n   open(my $fh, '&gt;', '/tmp/status.txt');\n   print $fh \"Re-read config file\\n\";\n   close $fh;\n};\n\n################################################################################\n# Report remaining time on SIGUSR1\n################################################################################\n$SIG{USR1} = sub {\n   # Subtract something from something and report difference\n   open(my $fh, '&gt;', '/tmp/status.txt');\n   print $fh \"Time remaining = 42\\n\";\n   close $fh;\n};\n\n################################################################################\n# Main loop\n################################################################################\nwhile ($continue) {\n     sleep 1;\n}\n</code></pre>\n\n<p>You would then send the HUP signal or USR1 signal with:</p>\n\n<pre><code>pkill -HUP daemon.pl\n</code></pre>\n\n<p>or</p>\n\n<pre><code>pkill -USR1 daemon.pl \n</code></pre>\n\n<p>and look in <code>/tmp/status.txt</code> for the output from the daemon. The above commands assume you stored the Perl script as <code>daemon.pl</code> - adjust if you used a different name.</p>\n\n<p>Or you could have the daemon write its own <code>pid</code> in a file on startup and use the <code>-F</code> option to <code>pkill</code>.</p>\n"}], "owner": {"reputation": 91, "user_id": 5646103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8789dd3ad52dc784f7bed48672532a9d?s=128&d=identicon&r=PG&f=1", "display_name": "cocosushi", "link": "https://stackoverflow.com/users/5646103/cocosushi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "accepted_answer_id": 41248561, "answer_count": 2, "score": -1, "last_activity_date": 1482256808, "creation_date": 1482181144, "last_edit_date": 1495542816, "question_id": 41230901, "link": "https://stackoverflow.com/questions/41230901/run-a-perl-script-in-the-background-and-send-it-commands", "title": "Run a Perl script in the background and send it commands", "body": "<p>I want to make a script that will prevent requests to certain domains for a certain amount of time,\nand kill specific processes during the same amount of time. </p>\n\n<p>I would like to have something like a daemon, to which I could send commands.\nFor example, to see how much time is left, with <code>some_script timeleft</code>,\nto start the daemon which would be created by something like <code>some_script start</code>,\nor to add a new domain/process, etc.</p>\n\n<p>What I'm stuck on is :</p>\n\n<ul>\n<li><p>How to create a daemon? I have seen <a href=\"https://stackoverflow.com/questions/766397/how-can-i-run-a-perl-script-as-a-system-daemon-in-linux#766412\">this</a></p></li>\n<li><p>I don't know how to send a command to a daemon from a command line</p></li>\n</ul>\n\n<p>I hope I have been clear enough in my explanation.</p>\n"}, {"tags": ["xml", "perl", "structure"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1482176182, "post_id": 41229705, "comment_id": 69658650, "body": "How many <code>SiteDevices</code> entries are in the output? Just one?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482176591, "post_id": 41229705, "comment_id": 69658861, "body": "This looks suspiciously like parsed XML. Is it by any chance? If so, I&#39;d suggest you&#39;d be <i>far</i> better off working upstream and using a better parser. Add an example of the XML, and it&#39;ll be much easier to give you a better example."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1482176659, "creation_date": 1482176659, "answer_id": 41229898, "question_id": 41229705, "link": "https://stackoverflow.com/questions/41229705/in-perl-how-do-i-loop-through-this-structure/41229898#41229898", "title": "In perl how do I loop through this structure?", "body": "<p>I believe the following loop will do what you are trying to accomplish. It fetches each device from the tree, then extracts out its address, and prints both:</p>\n\n<pre><code>for my $device (keys %{ $output-&gt;{SiteDevices}{device} }){\n    print \"$device: $output-&gt;{SiteDevices}{device}{$device}{address}\\n\";\n}\n</code></pre>\n\n<p>In your tests, you're trying to use the key name as a hash/hash reference, which won't work. You need to put the extracted key back into the hash to perform further extractions.</p>\n\n<p>Output, based on the single record I extracted out of your question:</p>\n\n<pre><code>129644: 1.2.3.7\n129645: 1.2.3.8\n130408: 1.2.3.9\n137642: 1.2.3.11\n1136: 1.2.3.5\n135975: 1.2.3.10\n1102: 1.2.3.4\n20491: 1.2.3.6\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 3912754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/059415b75a38a295679230c4e0dbe034?s=128&d=identicon&r=PG&f=1", "display_name": "robamcclellan", "link": "https://stackoverflow.com/users/3912754/robamcclellan"}, "edited": false, "score": 1, "creation_date": 1482177362, "post_id": 41229943, "comment_id": 69659279, "body": "I want to Thank you for this! I have been hitting my head on a table for a couple days trying to figure this out. And you fixed it in a matter of seconds. I&#39;m going to go read up a bit more how twig works because I did a dump of it and it has a crazy amount of info in it. But the loop prints the required info!!!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87, "user_id": 3912754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/059415b75a38a295679230c4e0dbe034?s=128&d=identicon&r=PG&f=1", "display_name": "robamcclellan", "link": "https://stackoverflow.com/users/3912754/robamcclellan"}, "edited": false, "score": 1, "creation_date": 1482178676, "post_id": 41229943, "comment_id": 69659934, "body": "@robamcclellan: Note that Sobrique has used the XPath <code>&#47;&#47;devices</code>, which finds all <code>devices</code> nodes anywhere in the document. It&#39;s my guess he chose that because we haven&#39;t seen your XML data and so don&#39;t know the name of the root element. Ordinarily it would be best to use something like <code>&#47;root&#47;SiteDevices&#47;device</code> to isolate the nodes more specifically, but we can&#39;t tell what <code>root</code> should be."}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 87, "user_id": 3912754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/059415b75a38a295679230c4e0dbe034?s=128&d=identicon&r=PG&f=1", "display_name": "robamcclellan", "link": "https://stackoverflow.com/users/3912754/robamcclellan"}, "edited": false, "score": 1, "creation_date": 1482228452, "post_id": 41229943, "comment_id": 69678949, "body": "@robamcclellan you probably don&#39;t want to dump the XML::Twig (or any XML::Twig::Elt) object. Think of it as a sausage ;--) You could use the <code>_dump</code> method to get tree representation, but really, pretty printing the XML will be just as informative. Look at <a href=\"http://xmltwig.org/xmltwig/quick_ref.html\" rel=\"nofollow noreferrer\">xmltwig.org/xmltwig/quick_ref.html</a> for a first list of useful methods"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1482230322, "last_edit_date": 1495539943, "creation_date": 1482176855, "answer_id": 41229943, "question_id": 41229705, "link": "https://stackoverflow.com/questions/41229705/in-perl-how-do-i-loop-through-this-structure/41229943#41229943", "title": "In perl how do I loop through this structure?", "body": "<p>You mention this is parsed XML. It looks like you've parsed it with <code>XML::Simple</code> and <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">that's just not a good idea.</a></p>\n\n<p>Why not instead:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig; \n\n## get xml somehow here. parsefile if it's a file already. \nmy $twig = XML::Twig -&gt; new -&gt; parse ( $your_xml );\n\nforeach my $device ( $twig -&gt; get_xpath('//devices' ) ) {\n   print $device -&gt; att('name'), \" =&gt; \"; \n   print $device -&gt; att('address'),\"\\n\";\n}\n</code></pre>\n\n<p>The useful thing here is <code>xpath</code> - it's not a regular expression, but it's sort of similar - and it applies to XML. In this case <code>//device</code> says 'find a <code>&lt;device&gt;</code> node anywhere in the tree. (And then we extract attributes). </p>\n\n<p>That may work for your scenario, but you can be more specific by specifying a longer path:</p>\n\n<ul>\n<li><code>./device</code> - directly below the current node. </li>\n<li><code>.//device</code> - anywhere below the current node.</li>\n<li><code>/root/SiteDevices/device</code> - nodes specifically matching this 'tree'. </li>\n</ul>\n\n<p>You can also use <code>xpath</code> to search on attributes:</p>\n\n<ul>\n<li><code>.//device[@name=\"1136\"]</code> will find something with the appropriate value and attribute. </li>\n</ul>\n\n<p>See <a href=\"http://xmltwig.org/xmltwig/quick_ref.html\" rel=\"nofollow noreferrer\">XML Twig</a> quick reference for some guides on how to do this. </p>\n"}], "owner": {"reputation": 87, "user_id": 3912754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/059415b75a38a295679230c4e0dbe034?s=128&d=identicon&r=PG&f=1", "display_name": "robamcclellan", "link": "https://stackoverflow.com/users/3912754/robamcclellan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 41229943, "answer_count": 2, "score": 2, "last_activity_date": 1482230322, "creation_date": 1482175897, "question_id": 41229705, "link": "https://stackoverflow.com/questions/41229705/in-perl-how-do-i-loop-through-this-structure", "title": "In perl how do I loop through this structure?", "body": "<p>I am creating an xml to pass to an API and the API returns this (data dumped):</p>\n\n<pre><code>    (\n    \"Data::Dump\",\n    {\n      SiteDevices =&gt; {\n        \"device\"  =&gt; {\n                       1102   =&gt; { address =&gt; \"1.2.3.4\", riskfactor =&gt; \"1.0\", riskscore =&gt; \"0.0\" },\n                       1136   =&gt; { address =&gt; \"1.2.3.5\", riskfactor =&gt; \"1.0\", riskscore =&gt; \"0.0\" },\n                       20491  =&gt; { address =&gt; \"1.2.3.6\", riskfactor =&gt; \"1.0\", riskscore =&gt; \"0.0\" },\n                       129644 =&gt; { address =&gt; \"1.2.3.7\", riskfactor =&gt; \"1.0\", riskscore =&gt; \"0.0\" },\n                       129645 =&gt; { address =&gt; \"1.2.3.8\", riskfactor =&gt; \"1.0\", riskscore =&gt; \"0.0\" },\n                       130408 =&gt; { address =&gt; \"1.2.3.9\", riskfactor =&gt; \"1.0\", riskscore =&gt; \"0.0\" },\n                       135975 =&gt; { address =&gt; \"1.2.3.10\", riskfactor =&gt; \"1.0\", riskscore =&gt; \"0.0\" },\n                       137642 =&gt; { address =&gt; \"1.2.3.11\", riskfactor =&gt; \"1.0\", riskscore =&gt; \"0.0\" },\n                     },\n        \"site-id\" =&gt; 27,\n      },\n      success =&gt; 1,\n    },\n)\n</code></pre>\n\n<p>I want to loop through and print the devices and IPs associated with them and I for the life of me can\u2019t come up with any code to do it. What the heck am I missing?! I tried to loop through a hash, a hash of hashes, etc.  Can never get it to work. If any of you have a second and can provide an answer so I can shake my head in shame that\u2019d be awesome.</p>\n\n<p>I have tried: </p>\n\n<pre><code>foreach my $key (keys %{ $output-&gt;{\u2018SiteDevices\u2019}-&gt;{\u2018device\u2019} }) {\n         print $key \n         print $key-&gt;{\u2018address\u2019} \n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>foreach my $key (keys %{ $output{\u2018SiteDevices\u2019}{\u2018device\u2019} }) {\n         print $key \n         print $key{\u2018address\u2019} \n}\n</code></pre>\n\n<p>but neither works. </p>\n"}, {"tags": ["perl", "cgi", "fastcgi"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482177607, "post_id": 41223926, "comment_id": 69659411, "body": "Re &quot;<i>because CGI needs to read stuff from the environment</i>&quot;, Yes, but FCGI sets up the environment appropriate. That&#39;s not the issue."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1482155789, "last_edit_date": 1482155789, "creation_date": 1482155005, "answer_id": 41223926, "question_id": 41223608, "link": "https://stackoverflow.com/questions/41223608/accept-post-parameters-with-fcgi/41223926#41223926", "title": "Accept POST parameters with FCGI", "body": "<p>You can't use <a href=\"http://p3rl.org/CGI\" rel=\"nofollow noreferrer\">CGI.pm</a> and <a href=\"http://p3rl.org/FCGI\" rel=\"nofollow noreferrer\">FCGI.pm</a> together like this. You need some glue-code in between, because CGI needs to read stuff from the environment, and it can't in the way you invoke it.</p>\n\n<p>There is a module <a href=\"http://perldoc.perl.org/CGI/Fast.html\" rel=\"nofollow noreferrer\">CGI::Fast</a> included with Perl that does this for you. Instead of using <a href=\"http://p3rl.org/CGI\" rel=\"nofollow noreferrer\">CGI</a> and <a href=\"http://p3rl.org/CGI\" rel=\"nofollow noreferrer\">FCGI</a>, you just use <a href=\"https://metacpan.org/pod/CGI::Fast\" rel=\"nofollow noreferrer\">CGI::Fast</a> and change a bit of code. </p>\n\n<pre><code>use strict;\nuse warnings;\nuse CGI::Fast;\n\nmy $count;\nwhile (my $q = CGI::Fast-&gt;new) {\n    # $q is a fresh CGI object for the current request\n\n    print(\"Content-type: text/html\\r\\n\\r\\n\", ++$count);\n    print \"name = \" . $q-&gt;param(\"name\") ; \n    print \"\\n\";\n}\n</code></pre>\n\n<p>If you already have a CGI script, you could put that in a function and call it inside of that loop. </p>\n\n<p>If you're interested in how CGI::Fast works, feel free to <a href=\"https://metacpan.org/source/LEEJO/CGI-Fast-2.12/lib/CGI/Fast.pm\" rel=\"nofollow noreferrer\">take a look at its source code on CPAN</a>. The main thing is that the environment and the file handles (for STDOUT and STDERR) need to be mapped to each new request, while your implementation has CGI always parse the first one.</p>\n\n<p>Please note that the examples in both the perldoc and on CPAN that I have linked are very out-of-date and don't represent modern Perl code.</p>\n\n<hr>\n\n<p>Today, you would <a href=\"https://www.youtube.com/watch?v=jKOqtRMT85s\" rel=\"nofollow noreferrer\">probably not use CGI</a> any more, as it has been removed from current Perl releases. Instead, you could take a look at <a href=\"https://metacpan.org/pod/distribution/PSGI/PSGI.pm\" rel=\"nofollow noreferrer\">the PSGI interface specification</a> and <a href=\"https://metacpan.org/pod/Plack\" rel=\"nofollow noreferrer\">Plack</a> on how to implement it. The good thing about that is that it provides a clear interface across different deployment-technologies (such as CGI and Fast CGI). You can just let your program run as a simple CGI with Apache or nginx, or as a persistent FCGI process with Apache or other webservers, or as a standalone application through various Plack webservers that are written in Perl and are tailored for specific purposes.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1482177317, "creation_date": 1482177317, "answer_id": 41230044, "question_id": 41223608, "link": "https://stackoverflow.com/questions/41223608/accept-post-parameters-with-fcgi/41230044#41230044", "title": "Accept POST parameters with FCGI", "body": "<p>Once a CGI.pm object is created for a request, it's reused there on out.</p>\n\n<p>You can reset CGI.pm by adding the following to the end of the loop:</p>\n\n<pre><code>CGI::_reset_globals();\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 2310463, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/98a27d366b881c4820205abcbd06d28b?s=128&d=identicon&r=PG", "display_name": "Africa Matjie", "link": "https://stackoverflow.com/users/2310463/africa-matjie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1482177317, "creation_date": 1482153884, "last_edit_date": 1482169349, "question_id": 41223608, "link": "https://stackoverflow.com/questions/41223608/accept-post-parameters-with-fcgi", "title": "Accept POST parameters with FCGI", "body": "<p>I am trying to get URL parameters using <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow noreferrer\"><code>CGI</code></a> and <a href=\"https://metacpan.org/pod/FCGI\" rel=\"nofollow noreferrer\"><code>FCGI</code></a>.</p>\n\n<p>When executing the script on my browser I am only getting parameters of my first request, but the request <code>$count</code> does increment.</p>\n\n<pre><code>use CGI;\nuse FCGI;\n\nmy $fcgiRequest = FCGI::Request();\nwhile ($fcgiRequest-&gt;Accept() &gt;= 0)\n{\n    print(\"Content-type: text/html\\r\\n\\r\\n\", ++$count); \n    my $q = new CGI;  \n    print \"name = \" . $q-&gt;param(\"name\") ; \n    print \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["python", "bash", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482143089, "post_id": 41220349, "comment_id": 69639401, "body": "Can you clarify what exactly you need from this data?  How many of each (of <code>USER03</code> and <code>SEQ</code>) is missing, or together?  What else?  You didn&#39;t specify what you need."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1482143689, "post_id": 41220349, "comment_id": 69639809, "body": "Do you actually need to separate all the individual <code>BEGIN</code>,<code>END</code> blocks out into individual files, because you could easily generate all the answers you seem to need in a single pass with <code>awk</code> or <code>Perl</code>?"}, {"owner": {"reputation": 752, "user_id": 5794310, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DiqV9.jpg?s=128&g=1", "display_name": "Enrique", "link": "https://stackoverflow.com/users/5794310/enrique"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482143761, "post_id": 41220349, "comment_id": 69639850, "body": "@zdim As I said, there are chunks of text that have USER03 and SEQ and other pieces of text without them. Basically what I want is to separate those pieces to be able to classify them."}, {"owner": {"reputation": 752, "user_id": 5794310, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DiqV9.jpg?s=128&g=1", "display_name": "Enrique", "link": "https://stackoverflow.com/users/5794310/enrique"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1482143900, "post_id": 41220349, "comment_id": 69639925, "body": "@MarkSetchell Yes, but using the condition if SEQ exists in the chunk of test or not."}, {"owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "edited": false, "score": 0, "creation_date": 1482144098, "post_id": 41220349, "comment_id": 69640053, "body": "&#39;USER03=&#39;,  is this always empty?"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1482144106, "post_id": 41220349, "comment_id": 69640057, "body": "<b>Why</b> do you need separate files? There is no reason to generate them in order to get any results you have indicated above."}, {"owner": {"reputation": 752, "user_id": 5794310, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DiqV9.jpg?s=128&g=1", "display_name": "Enrique", "link": "https://stackoverflow.com/users/5794310/enrique"}, "reply_to_user": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "edited": false, "score": 0, "creation_date": 1482144274, "post_id": 41220349, "comment_id": 69640147, "body": "@\u5b8f\u6770\u674e Sometimes yes but sometimes no. Anyway, I could use just SEQ= to classify them."}, {"owner": {"reputation": 752, "user_id": 5794310, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DiqV9.jpg?s=128&g=1", "display_name": "Enrique", "link": "https://stackoverflow.com/users/5794310/enrique"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1482144552, "post_id": 41220349, "comment_id": 69640339, "body": "@MarkSetchell Well... After that I use an R script to do a Quality Control. For example: How many SEQ do i have, frequency table of the Taxonomy, how many modifications etc..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482144666, "post_id": 41220349, "comment_id": 69640405, "body": "It&#39;s quite easy in perl, but what are you looking to get out? You can certainly set <code>$&#47;</code> to <code>END</code> and iterate record by record in perl, which works very nicely. But otherwise, this looks like an <code>XY problem</code> - I would suggest you backtrack and explain the goal."}, {"owner": {"reputation": 752, "user_id": 5794310, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DiqV9.jpg?s=128&g=1", "display_name": "Enrique", "link": "https://stackoverflow.com/users/5794310/enrique"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482144863, "post_id": 41220349, "comment_id": 69640521, "body": "@Sobrique I&#39;d like to have a file with only chunks that have SEQ and another file with chunks of text that do not have SEQ."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482144968, "post_id": 41220349, "comment_id": 69640593, "body": "So two files? That&#39;s <i>really</i> easy."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1482145153, "post_id": 41220349, "comment_id": 69640720, "body": "@enrique Do you want just filenames or the content of the filenames in two different files whether grep or not?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482145192, "post_id": 41220349, "comment_id": 69640739, "body": "And that is the sole criterion?  Can <code>SEQ=</code> have nothing and how does that count, or can it only happen that the <code>SEQ</code> line is missing altogether?  What about those <code>USER03</code> then?"}], "answers": [{"comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1482177257, "post_id": 41221120, "comment_id": 69659227, "body": "I suspect OP may not realise he can avoid the <code>for</code> loop he currently has and just use <code>.&#47;YourScript *.txt</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1482176557, "last_edit_date": 1482176557, "creation_date": 1482145175, "answer_id": 41221120, "question_id": 41220349, "link": "https://stackoverflow.com/questions/41220349/splitting-files-based-on-some-pattern-and-the-information-inside-the-chunk/41221120#41221120", "title": "Splitting files based on some pattern and the information inside the chunk", "body": "<p>Based on your comment: \"I'd like to have a file with only chunks that have SEQ and another file with chunks of text that do not have SEQ\"</p>\n\n<p>In Perl, I'd do it like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nopen ( my $has_seq, '&gt;', 'SEQ' ) or die $!;\nopen ( my $no_seq, '&gt;', 'NO_SEQ' ) or die $!;\nmy $seq_count = 0;\nmy $no_seq_count = 0;\n\nlocal $/ = 'END'; \n\n#iterate stdin or files specified on command line, just like sed/grep\nwhile ( &lt;&gt; ) {\n    #check if this chunk contains the word 'SEQ'.\n    #regex match, so it'll match this text anywhere. \n    #maybe need to tighen up to ^SEQ= or similar? \n    if ( m/SEQ/ ) { \n        #choose output filehandle\n        $seq_count++;\n        select $has_seq;\n    }\n    else { \n       $no_seq_count++;\n       select $no_seq;\n    }\n    #print current block to selected filehandle. \n    print;\n}\n\nselect \\*STDOUT; \nprint \"SEQ: $seq_count\\n\"; \nprint \"No SEQ: $no_seq_count\\n\";\n</code></pre>\n\n<p>This'll create two files (called creatively \"SEQ\" and \"NO_SEQ\") and split the results from your source.</p>\n"}], "owner": {"reputation": 752, "user_id": 5794310, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DiqV9.jpg?s=128&g=1", "display_name": "Enrique", "link": "https://stackoverflow.com/users/5794310/enrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 41221120, "answer_count": 1, "score": 1, "last_activity_date": 1482176557, "creation_date": 1482142755, "last_edit_date": 1495540426, "question_id": 41220349, "link": "https://stackoverflow.com/questions/41220349/splitting-files-based-on-some-pattern-and-the-information-inside-the-chunk", "title": "Splitting files based on some pattern and the information inside the chunk", "body": "<p>I'm working with a lot of files with this structure:</p>\n\n<pre><code>BEGIN\nTITLE=id=PRD000012;PRIDE_Exp_Complete_Ac_1645.xml;spectrum=1393\nPEPMASS=946.3980102539062\nCHARGE=3.0+\nUSER03=\nSEQ=DDDIAAL\nTAXONOMY=9606\n272.228 126847.000\n273.252 33795.000\nEND\nBEGIN IONS\nTITLE=id=PRD000012;PRIDE_Exp_Complete_Ac_1645.xml;spectrum=1383\nPEPMASS=911.3920288085938\nCHARGE=2.0+\nUSER03=\nSEQ=QGKFEAAETLEEAAMR\nTAXONOMY=9606\n1394.637    71404.000\n1411.668    122728.000\nEND\nBEGIN IONS\nTITLE=id=PRD000012;PRIDE_Exp_Complete_Ac_1645.xml;spectrum=2965\nPEPMASS=946.3900146484375\nCHARGE=3.0+\nTAXONOMY=9606\n1564.717    92354.000\n1677.738    33865.000\nEND\n</code></pre>\n\n<p>This structure is repeated thousands of times but with different data inside. As you can see, between some begin-end, sometimes SEQ and USER03 are not there. This is because the protein is not identified ... And here comes my problem.</p>\n\n<p>I would like to know how many proteins are identified and how many are unidentified. To do this I decided to use bash due to it is easier to manage files with it. </p>\n\n<pre><code>for i in $(ls *.txt ); do\n    echo $i\n\n    awk '/^BEGIN/{n++;w=1} n&amp;&amp;w{print &gt; \"./cache/out\" n \".txt\"} /^END/{w=0}' $i\n\ndone\n</code></pre>\n\n<p>I found this here (<a href=\"https://stackoverflow.com/questions/23991963/split-a-file-into-multiple-files-based-on-a-pattern-and-name-the-new-files-by-th\">Split a file into multiple files based on a pattern and name the new files by the search pattern in Unix?</a>)</p>\n\n<p>And then use the outputs and classify them: </p>\n\n<pre><code>for i in $(ls cache/*.txt ); do\n    echo $i\n\n    if grep -q 'SEQ' $i; then\n        mv $i ./archive_identified\n    else\n        mv $i ./archive_unidentified\n    fi\ndone\n</code></pre>\n\n<p>After this, I'd like to take some data (Example: spectrum, USER03, SEQ, TAXONOMY) from classified files.</p>\n\n<pre><code>for i in $( ls archive_identified/*.txt ); do\n    echo $i\n    grep 'SEQ' $i | cut -d \"=\" -f2- | tr ',' '\\n' &gt;&gt; ./sequences_ide.txt\n    grep 'TAXONOMY' $i | cut -d \"=\" -f2- | tr ',' '\\n' &gt;&gt; ./taxonomy_ide.txt\n    grep 'USER' $i | cut -d \"=\" -f2- &gt;&gt; ./modifications_ide.txt\n    grep 'TITLE' $i | sed 's/^.*\\(spectrum.*\\)/\\1/g' | cut -d \"=\" -f2-  &gt;&gt; ./spectrum.txt\n\ndone\n\nfor i in $( ls archive_unidentified/*.txt ); do\n    echo $i\n    grep 'TAXONOMY' $i | cut -d \"=\" -f2- | tr ',' '\\n' &gt;&gt; ./taxonomy_unide.txt\n    grep 'TITLE' $i | sed 's/^.*\\(spectrum.*\\)/\\1/g' | cut -d \"=\" -f2-  &gt;&gt; ./spectrum_unide.txt\n\ndone\n</code></pre>\n\n<p>The problem is that the first part of the script takes too much time (I ran the script 7 days ago in a LSF and it still keeps running)  due to the large size of the data (12-15gb each file) and generate thousand of files . Is there any way to do this in Python or Perl?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "edited": false, "score": 0, "creation_date": 1482205273, "post_id": 41218236, "comment_id": 69668609, "body": "Comments are not for extended discussion; this conversation has been <a href=\"http://chat.stackoverflow.com/rooms/130997/discussion-on-question-by-j-j-b-what-is-the-correct-way-to-run-this-command-in-p\">moved to chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 1, "last_activity_date": 1482144159, "last_edit_date": 1495540423, "creation_date": 1482144159, "answer_id": 41220790, "question_id": 41218236, "link": "https://stackoverflow.com/questions/41218236/what-is-the-correct-way-to-run-this-command-in-perl-no-errors-returning/41220790#41220790", "title": "What is the correct way to run this command in Perl, no errors returning", "body": "<p>Change the system with backticks when you want store the output of a command in a variable:</p>\n\n<pre><code>my $return = `forever --uid nodejs-34534 -a start server.js`;\n</code></pre>\n\n<p>See this to understand <code>system</code> and <code>backticks</code>:\n<a href=\"https://stackoverflow.com/a/800105/4248931\">https://stackoverflow.com/a/800105/4248931</a></p>\n"}], "owner": {"reputation": 6020, "user_id": 5963307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ca39c0cc9e58b5a0331fa1c6d86fbd2?s=128&d=identicon&r=PG&f=1", "display_name": "J J B", "link": "https://stackoverflow.com/users/5963307/j-j-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 41220790, "answer_count": 1, "score": -3, "last_activity_date": 1536269102, "creation_date": 1482134929, "last_edit_date": 1536269102, "question_id": 41218236, "link": "https://stackoverflow.com/questions/41218236/what-is-the-correct-way-to-run-this-command-in-perl-no-errors-returning", "title": "What is the correct way to run this command in Perl, no errors returning", "body": "<p>I'm trying to start a <a href=\"https://nodejs.org/en/\" rel=\"nofollow noreferrer\">NodeJS</a> server using <a href=\"https://github.com/foreverjs/forever\" rel=\"nofollow noreferrer\">forever</a> in Perl as a specific user.</p>\n\n<p>This is the first time I've programmed in Perl, so it's probably straightforward to resolve. I've looked through lots of examples, but all I see is conflicting information regarding the functions <code>system</code> and <code>exec</code>.</p>\n\n<p>In my Perl Module file, I have tried both <code>system</code> and <code>exec</code>.</p>\n\n<p><strong>Using <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system</a>:</strong></p>\n\n<pre><code>sub start_server {\n    my ( $result ) = @_;\n\n    my $return = system(\"forever --uid nodejs-34534 -a start /path/to/server.js\");\n\n    $result-&gt;data($return);\n\n    return 1;\n}\n</code></pre>\n\n<p>How should I run the command <code>forever --uid nodejs-34534 -a start /path/to/server.js</code> in Perl? It's not returning anything or displaying any errors and running other commands for example <code>echo \"$user\"</code> works fine and returns the current username of the user running the Perl script.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>After many comments below with lots of pointers in the right direction that I was using the wrong functions to get the required output. I should have been using array variable and backticks, thanks to @zdim for pointing that out. That solved the problem of not seeing the output of the commands that are executed.</p>\n\n<p><strong>Corrected using backticks:</strong></p>\n\n<pre><code>sub start_server {\n    my ( $result ) = @_;\n\n    my @output = `forever --uid nodejs-34534 -a start /path/to/server.js`;\n\n    $result-&gt;data( \\@output );\n\n    return 1;\n}\n</code></pre>\n\n<p>Then another problem came to light, the command was being called but then being stopped after the output is received, after @Borodin stated that I should create a script and module with just what's needed and test if that works on its own. After creating the cut back module and running it, the executed command stayed alive, so now I know that the problem with it not staying alive is down to the Perl API I'm trying to extend.</p>\n\n<p>Are there any ideas of how I can work out why the Perl API I'm extending is stopping the process?</p>\n"}, {"tags": ["perl", "session", "dancer"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482143677, "post_id": 41211811, "comment_id": 69639798, "body": "A bit unrelated: are you aware of the[ Dancer advent calendar](<a href=\"http://advent.perldancer.org/2016\" rel=\"nofollow noreferrer\">advent.perldancer.org/2016</a>)? It&#39;s a bit hard to find because they still haven&#39;t linked it on the Dancer project homepage."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482263757, "post_id": 41211811, "comment_id": 69700779, "body": "@simbabque Yes, thank you. During my research I more than once noticed that page but didn&#39;t pay the attention it deserves. I thought it was some lottery. My fault. It&#39;s actually a a collection of 20 (as of today) <i>Do&#39;s, Don&#39;ts, and best practice</i>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1482264433, "post_id": 41211811, "comment_id": 69701147, "body": "This year they are really high quality."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1482097289, "post_id": 41212635, "comment_id": 69625137, "body": "Neither <code>session-&gt;{userdata}</code> nor <code>session-&gt;{userdata}{fname}</code> works (1st gives an empty hash, 2nd gives undef). But <code>session(&#39;userdata&#39;)-&gt;{fname}</code> works. But anyway, your answer helped a lot and I can now dig further."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1482097313, "post_id": 41212635, "comment_id": 69625151, "body": "I wanted to use YAML in production code because it&#39;s simple and <a href=\"http://search.cpan.org/dist/Dancer2/lib/Dancer2/Session/YAML.pm\" rel=\"nofollow noreferrer\">they say</a> it <i>&quot;\u2026 can perfectly be used in production environments \u2026&quot;</i> but I&#39;m new to Dancer and still evaluating. I already have a session management (handcrafted CGI, Cookies, and MySQL) and want to switch to Dancer2. Perhaps I can marry them. I&#39;ll see."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1482104565, "post_id": 41212635, "comment_id": 69626898, "body": "@PerlDuck: My apologies. <code>session(&#39;name&#39;)</code> and <code>session-&gt;{var}</code> were identical in the original <i>Dancer</i>. I didn&#39;t think that would have changed."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1482143421, "post_id": 41212635, "comment_id": 69639640, "body": "The good thing about YAML is that it&#39;s human-readable, which makes it ideal for development. That&#39;s not necessarily something you need in production, unless it is. If your app is some internal tool and your users are notorious for breaking things, it might be useful. If you store a lot of objects in the session on the other hand and want stuff to be fast (those two are not related), it&#39;s probably less useful and a database or nosql solution might be a better approach. All the file sessions don&#39;t require additional dependencies, which can be another plus."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1482263069, "post_id": 41212635, "comment_id": 69700396, "body": "@Borodin Thank you. But only <code>session(&#39;userdata&#39;)-&gt;{fname}</code> works \u2013 <code>session-&gt;{userdata}{fname}</code> does not (it gave undef). I&#39;m using Dancer2 0.204001 and Perl v5.22.1 if that helps."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1482277246, "last_edit_date": 1482277246, "creation_date": 1482093505, "answer_id": 41212635, "question_id": 41211811, "link": "https://stackoverflow.com/questions/41211811/dancer2-fetching-nested-data-from-hash-stored-in-yaml-session/41212635#41212635", "title": "Dancer2: fetching nested data from hash stored in YAML session", "body": "<p>The Template Toolkit syntax is completely independent of Perl Dancer2, and you should expect any form of addressing to carry over. The origin of the data as a YAML file is also irrelevant, as the Dancer session is just a Perl hash structure</p>\n\n<p><strike>\nThe manual doesn't make it very clear, but</p>\n\n<pre><code>session('userdata')\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>session-&gt;{userdata}\n</code></pre>\n\n<p>So you can use </p>\n\n<pre><code>session-&gt;{userdata}{fname}\n</code></pre>\n\n<p>to read the subsidiary fields</p>\n\n<p></strike></p>\n\n<p>(Or possibly <code>session('username')-&gt;{fname}</code> if you prefer, but that looks a bit icky to me!)</p>\n\n<p><em>Note that you shouldn't use the YAML session engine in production code, as it's very slow</em></p>\n"}], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 41212635, "answer_count": 1, "score": 3, "last_activity_date": 1482277246, "creation_date": 1482087725, "question_id": 41211811, "link": "https://stackoverflow.com/questions/41211811/dancer2-fetching-nested-data-from-hash-stored-in-yaml-session", "title": "Dancer2: fetching nested data from hash stored in YAML session", "body": "<p>I'm using Dancer2 and the YAML session engine. I stored a complete hash in a session with the following code:</p>\n\n<pre><code>post '/login' =&gt; sub {\n    # ...\n    my $userdata = {\n        fname =&gt; 'John',\n        lname =&gt; 'Doe',\n        uid =&gt; 1234,\n    };\n    # ...\n    session userdata =&gt; $userdata;\n    # ...\n}\n</code></pre>\n\n<p>The omitted code checks the login data against a database and returns that <code>$userdata</code> hashref.\nThis code creates a session file under $appdir/sessions with this content:</p>\n\n<p><strong>session file</strong></p>\n\n<pre><code>userdata:\n  fname: John\n  lname: Doe\n  uid: 1234\n</code></pre>\n\n<p>How can I retrieve single values from this session in my <code>app.pm</code> file?\nIt works great in the template files (*.tt) and <code>&lt;% session.userdata.fname %&gt;</code> yields <code>John</code>, as expected.\nHowever, I want to fetch the first name in <code>app.pm</code>, like so:</p>\n\n<pre><code>get '/userdetails' =&gt; sub {\n    my $firstname = session('userdata.fname'); # gives undef\n    # do sth. with $firstname\n}\n</code></pre>\n\n<p>Is that feasable? Or do I have to</p>\n\n<pre><code>my $userdata = session('userdata'); # fetch complete hash\n# do sth. with $userdata-&gt;{fname}\n</code></pre>\n\n<p>I tried</p>\n\n<ul>\n<li><code>session('userdata.fname')</code></li>\n<li><code>session('userdata/fname')</code></li>\n<li><code>session('userdata:fname')</code></li>\n<li><code>session('userdata fname')</code></li>\n<li>RTFM (YAML's and Dancer2's)</li>\n</ul>\n\n<p>but none of them worked and gave <code>undef</code>. The manuals and tutorials only fetch \"first level values\", not nested ones.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1482087465, "post_id": 41211658, "comment_id": 69622357, "body": "show sample data?  what you show isn&#39;t XML"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1482088134, "post_id": 41211658, "comment_id": 69622545, "body": "You probably want something like that <code>perl -i -p0e &#39;s&#47;m_description=&quot;\\K([^&quot;]*)&#47;$1=~s%\\r\\n%&amp;#13;&amp;#10;%gr&#47;ge&#39;</code> (<code>-0</code> is roughly the same as <code>BEGIN{undef $&#47;}</code>)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1482090841, "post_id": 41211658, "comment_id": 69623282, "body": "I think you need a rolled up copy of the XML spec to prod people with. Almost like XML, but not quite is pretty filthy. A perl one liner will be hard to read. Writing it as a script in which you extract and reformat the description would be easier."}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1482101441, "post_id": 41211658, "comment_id": 69626194, "body": "Get an XML parser. Using a regex for XML is just ugly."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1482119270, "post_id": 41211658, "comment_id": 69629861, "body": "@Robert, They <a href=\"http://stackoverflow.com/q/12099614/589924\">can&#39;t</a>. The XML was incorrectly built, and they are trying to fix it so that an XML parser can be used."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482107135, "post_id": 41211870, "comment_id": 69627439, "body": "<code>m_description=&quot;\\K</code> is more efficient and less noisy than <code>(?&lt;=m_description=&quot;)</code>. Requires 5.10+"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1482107225, "post_id": 41211870, "comment_id": 69627453, "body": "<code>my $replacement=$1; $replacement=~s!\\n!&amp;#10;!g; $replacement=~s!\\r!&amp;#13;!g; $replacement</code> can also be written as <code>$1 =~ s!\\n!&amp;#10;!gr =~ s!\\r!&amp;#13;!gr</code> if you have 5.14+"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482116041, "post_id": 41211870, "comment_id": 69629126, "body": "what ikegami said.  I was just too lazy to look up those two required perl versions."}, {"owner": {"reputation": 75, "user_id": 1881454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4126735fcfbc74ec9363316d5988e286?s=128&d=identicon&r=PG", "display_name": "drobert", "link": "https://stackoverflow.com/users/1881454/drobert"}, "edited": false, "score": 0, "creation_date": 1482172830, "post_id": 41211870, "comment_id": 69656988, "body": "Awesome! Thanks so much."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1482088131, "creation_date": 1482088131, "answer_id": 41211870, "question_id": 41211658, "link": "https://stackoverflow.com/questions/41211658/replace-strings-only-within-a-regex-match-in-perl/41211870#41211870", "title": "Replace strings only within a regex match in perl", "body": "<p><code>.</code> should already match <code>\\n</code> (because you specify the <code>/s</code> flag) and <code>\\r</code>.</p>\n\n<p>To do the replacement in the results, use <code>/e</code>:</p>\n\n<pre><code>perl -i -0777 -pe's/(?&lt;=m_description=\")(.*?)(?=\")/ my $replacement=$1; $replacement=~s!\\n!&amp;#10;!g; $replacement=~s!\\r!&amp;#13;!g; $replacement /sge' tmp.xml\n</code></pre>\n\n<p>I've also changed it to use lookbehind/lookahead to make the code simpler and to use -0777 to set <code>$/</code> to slurp mode and to remove the useless <code>/m</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1482139076, "creation_date": 1482139076, "answer_id": 41219256, "question_id": 41211658, "link": "https://stackoverflow.com/questions/41211658/replace-strings-only-within-a-regex-match-in-perl/41219256#41219256", "title": "Replace strings only within a regex match in perl", "body": "<p>OK, so whilst this looks like an XML problem, it isn't. The XML problem is the person generating it. You should probably give them a prod with a rolled up copy of the spec as your first port of call for \"fixing\" this. </p>\n\n<p>But failing that - I'd do a two pass approach, where I read the text, find all the 'blobs' that match a description, and then replace them all. </p>\n\n<p>Something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $text = do { local $/ ;  &lt;DATA&gt; }; \n\n#filter text for 'description' text: \nmy @matches = $text =~ m{m_description=\\\"([^\\\"]+)\\\"}gms;\n\nprint Dumper \\@matches; \n\n#Generate a search-and-replace hash\nmy %replace = map { $_ =&gt; s/[\\r\\n]+/&amp;#13;&amp;#10;/gr } @matches; \nprint Dumper \\%replace;\n\n#turn the keys of that hash into a search regex\nmy $search = join ( \"|\", keys %replace ); \n   $search = qr/\\\"($search)\\\"/ms; \n\nprint \"Using search regex: $search\\n\";\n#search and replace text block\n$text =~ s/m_description=$search/m_description=\"$replace{$1}\"/mgs;\n\nprint \"New text:\\n\";\nprint $text;\n\n__DATA__\npreceding lines \nstuff m_description=\"Over\nany number\nof lines\" other stuff\nmore lines\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 1881454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4126735fcfbc74ec9363316d5988e286?s=128&d=identicon&r=PG", "display_name": "drobert", "link": "https://stackoverflow.com/users/1881454/drobert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 1, "accepted_answer_id": 41211870, "answer_count": 2, "score": 0, "last_activity_date": 1482173435, "creation_date": 1482086793, "last_edit_date": 1482173435, "question_id": 41211658, "link": "https://stackoverflow.com/questions/41211658/replace-strings-only-within-a-regex-match-in-perl", "title": "Replace strings only within a regex match in perl", "body": "<p>I have an XML document with text in attribute values. I can't change how the the XML file is generated, but need to extract the attribute values without loosing \\r\\n. The XML parser of course strips them out.</p>\n\n<p>So I'm trying to replace \\r\\n in attribute values with entity references &#13;&#10; I'm using perl to do this because of it's non-greedy matching. But I need help getting the replace to happen only within the match.  Or I need an easier way to do this :)</p>\n\n<p>Here's is what I have so far:</p>\n\n<pre><code>perl -i -pe 'BEGIN{undef $/;} s/m_description=\"(.*?)\"/m_description=\"$1\"/smg' tmp.xml\n</code></pre>\n\n<p>This matches what I need to work with: (.*?). But I don't know to expand that pattern to match \\r\\n inside it, and do the replacement in the results. If I knew how many \\r\\n I have I could do it, but it seems I need a variable number of capture groups or something like that? There's a lot to regex I don't understand and it seems like there should be something do do this.</p>\n\n<p>Example:</p>\n\n<pre><code>preceding lines \nstuff m_description=\"Over\nany number\nof lines\" other stuff\nmore lines\n</code></pre>\n\n<p>Should go to:</p>\n\n<pre><code>preceding lines \nstuff m_description=\"Over&amp;#13;&amp;#10;any number&amp;#13;&amp;#10;of lines\" other stuff\nmore lines\n</code></pre>\n\n<p><strong>Solution</strong></p>\n\n<p>Thanks to Ikegam and ysth for the solution I used, which for 5.14+ is:</p>\n\n<pre><code>perl -i -0777 -pe's/m_description=\"\\K(.*?)(?=\")/ $1 =~ s!\\n!&amp;#10;!gr =~ s!\\r!&amp;#13;!gr /sge' tmp.xml\n</code></pre>\n"}, {"tags": ["linux", "perl", "centos6", "file-management", "inode"], "comments": [{"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1482047694, "post_id": 41206408, "comment_id": 69612002, "body": "zdim, it is great to hear about those modules. Vikas, not sure if you are looking for a generic file system monitor that zdim is suggesting.  If you can share your Perl code, probably we can figure out why it is consuming so much memory &amp; cpu."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 6724868, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UftqrX8-jZo/AAAAAAAAAAI/AAAAAAAABfk/iwZXrpC_O8Q/photo.jpg?sz=128", "display_name": "vikas chib", "link": "https://stackoverflow.com/users/6724868/vikas-chib"}, "edited": false, "score": 0, "creation_date": 1484296049, "post_id": 41206434, "comment_id": 70460438, "body": "In my script I am using the File::Monitor to watch the files but if I run my script more than 3 days , then it will consume more CPU usage. I want a way by which we can track the inode of the linux so that when a new inode is created I can easily get the file name using that inode. So, Is there any way to track a inode"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 83, "user_id": 6724868, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UftqrX8-jZo/AAAAAAAAAAI/AAAAAAAABfk/iwZXrpC_O8Q/photo.jpg?sz=128", "display_name": "vikas chib", "link": "https://stackoverflow.com/users/6724868/vikas-chib"}, "edited": false, "score": 0, "creation_date": 1484301502, "post_id": 41206434, "comment_id": 70463486, "body": "@vikaschib Thank you for feedback!  This is why I firstly recommended <i>this module</i> -- it implements the <code>inotify</code> system, which is precisely what you ask about. I would not recommend doing that by hand (except for fun.)  As for increased CPU usage ... sounds like it may be that module&#39;s problem?  I&#39;d suggest: (1) Try this one (2) Can you schedule the script to not run for that long continuously? Perhaps exit and restart (by a cron job?) (3) If the problem persists, post another question, as that  is something else."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 10, "last_activity_date": 1536735828, "last_edit_date": 1536735828, "creation_date": 1482047374, "answer_id": 41206434, "question_id": 41206408, "link": "https://stackoverflow.com/questions/41206408/how-to-get-the-filename-along-with-absolute-path-to-the-file-whenever-a-new-fil/41206434#41206434", "title": "how to get the filename along with absolute path to the file, whenever a new file is created using inode in linux?", "body": "<p>It seems that you want to monitor a directory for changes.  This is a complex job, but for which there are good modules. The easiest one to recommend is probably <a href=\"http://search.cpan.org/~mlehmann/Linux-Inotify2-1.22/Inotify2.pm\" rel=\"nofollow noreferrer\">Linux::Inotify2</a> </p>\n\n<blockquote>\n  <p>This module implements an interface to the Linux 2.6.13 and later Inotify file/directory change notification system.</p>\n</blockquote>\n\n<p>This seems to be along the lines of what you wanted.</p>\n\n<p>Any such monitor needs additional event handling. This example uses <a href=\"http://search.cpan.org/~mlehmann/AnyEvent-7.13/lib/AnyEvent.pm\" rel=\"nofollow noreferrer\">AnyEvent</a>. </p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse AnyEvent;\nuse Linux::Inotify2;\n\nmy $dir = 'dir_to_watch';\n\nmy $inotify = Linux::Inotify2-&gt;new  or die \"Can't create inotify object: $!\";\n\n$inotify-&gt;watch( $dir, IN_MODIFY | IN_CREATE, sub {\n    my $e = shift;\n    my $name = $e-&gt;fullname;\n    say \"$name modified\" if $e-&gt;IN_MODIFY;    # Both show the new file\n    say \"$name created\"  if $e-&gt;IN_CREATE;    # but see comments below\n});\n\nmy $inotify_w = AnyEvent-&gt;io (\n    fh =&gt; $inotify-&gt;fileno, poll =&gt; 'r', cb =&gt; sub { $inotify-&gt;poll }\n);\n\n1 while $inotify-&gt;poll;\n</code></pre>\n\n<p>If you only care about <em>new</em> files then you only need one constant above. \nFor both types of events the <code>$name</code> has the name of the new file. From <code>man inotify</code> on my system</p>\n\n<blockquote>\n  <p>... the <code>name</code> field in the returned <code>inotify_event</code> structure identifies the name of the file within the directory.</p>\n</blockquote>\n\n<p>The <code>inotify_event</code> structure is suitably represented by a <code>Linux::Inotify2::Watcher</code> object.</p>\n\n<p>Using <code>IN_CREATE</code> seems to be an obvious solution for your purpose. I tested by creating two files, with two redirected <code>echo</code> commands separated by semi-colon on the same command line, and also by <code>touch</code>-ing a file. The written files are detected as separate events, and so is the <code>touch</code>-ed file.</p>\n\n<p>Using <code>IN_MODIFY</code> may also work since it monitors (in <code>$dir</code>)</p>\n\n<blockquote>\n  <p>... any file system object in the watched object (always a directory), that is files, directories, symlinks, device nodes etc. ...</p>\n</blockquote>\n\n<p>As for tests, both files written by <code>echo</code> as above are reported, as separate events. But a <code>touch</code>-ed file is <em>not</em> reported, since data didn't change (the file wasn't written to).</p>\n\n<p>Which is better suited for your need depends on details. For example, a tool may open a log file as it starts, only to write to it much later. The two ways above will behave differently in that case. All this should be investigated carefully under your specific conditions.</p>\n\n<p>We may think of a race condition, since while the code executes other file(s) could slip in. But the module is far better than that and it does report new changes after the handler completes. I tested by creating files while that code runs (and sleeps) and they are reported.</p>\n\n<p>Some other notable frameworks for event-driven programming are <a href=\"http://search.cpan.org/~rcaputo/POE-1.367/lib/POE.pm\" rel=\"nofollow noreferrer\">POE</a> and <a href=\"http://search.cpan.org/~pevans/IO-Async-0.70/lib/IO/Async.pm\" rel=\"nofollow noreferrer\">IO::Async</a>.</p>\n\n<p>The <a href=\"http://search.cpan.org/~andya/File-Monitor-1.00/lib/File/Monitor.pm\" rel=\"nofollow noreferrer\">File::Monitor</a> does this kind of work, too.</p>\n"}], "owner": {"reputation": 83, "user_id": 6724868, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UftqrX8-jZo/AAAAAAAAAAI/AAAAAAAABfk/iwZXrpC_O8Q/photo.jpg?sz=128", "display_name": "vikas chib", "link": "https://stackoverflow.com/users/6724868/vikas-chib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 1, "accepted_answer_id": 41206434, "answer_count": 1, "score": 3, "last_activity_date": 1536735828, "creation_date": 1482047044, "question_id": 41206408, "link": "https://stackoverflow.com/questions/41206408/how-to-get-the-filename-along-with-absolute-path-to-the-file-whenever-a-new-fil", "title": "how to get the filename along with absolute path to the file, whenever a new file is created using inode in linux?", "body": "<p>I doing some experiments with my linux OS (CentOS) and I want to track all the tool logs created under the same environment, tool generates the respective logs (.log extn) for tracking these changes I wrote a perl watcher which actually monitoring the directory that I set and when the new file is created it will show at the output but This is consuming a lot of memory and CPU utilization as i have set 2sec as the sleep period.</p>\n\n<p>My QUESTION \"Is there any better of way doing this ?\" I thought of using inode table for tracking all the changes in the system. can this solve my issue ? and if yes then could please let us know the solution towards the same ?</p>\n"}, {"tags": ["string", "perl", "quotes", "bareword"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 12, "creation_date": 1482030842, "post_id": 41205050, "comment_id": 69609592, "body": "If it&#39;s inside <code>q</code> or <code>qq</code>, it <i>is</i> quoted, so you can&#39;t call it a bareword. (<code>q</code> is exactly equivalent to single quotes, <code>qq</code> is exactly equivalent to double quotes)."}, {"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1482031716, "post_id": 41205050, "comment_id": 69609715, "body": "@ThisSuitIsBlackNot, I call it bare word in q// because of their appearance. And yes, I&#39;m asking about runtime errors."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1482033542, "post_id": 41205050, "comment_id": 69609951, "body": "Another example came up in  <a href=\"http://stackoverflow.com/questions/41094827/where-are-perl-constants-replaced-by-their-values/41094880#41094880\">where-are-perl-constants-replaced-by-their-values</a>."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 3, "creation_date": 1482054520, "post_id": 41205050, "comment_id": 69613310, "body": "So... ehm... in your mind, what does a <i>quoting</i> operator do, if not <i>quote</i> its content?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1482072263, "post_id": 41205050, "comment_id": 69617578, "body": "Your comment <i>&quot;I call it bare word in <code>q&#47;&#47;</code> because of their appearance&quot;</i> worries me. Can you explain what you mean about their appearance, and how it&#39;s different from the appearance of <code>&#39;&#39;</code> and <code>&quot;&quot;</code>? I could begin to understand if you had said <code>qw&#47;&#47;</code> but even that&#39;s something very different. I think you&#39;re misleading yourself somehow and I can&#39;t follow your train of thought."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482072600, "post_id": 41205050, "comment_id": 69617656, "body": "<i>&quot;Please exclude use cases where &#39;use strict&#39; would catch them&quot;</i> Why are you interested in code <i>without</i> <code>use strict</code>? You shouldn&#39;t be working with code like that unless you have legacy code that is too big to risk refactoring."}, {"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482080580, "post_id": 41205050, "comment_id": 69620181, "body": "@Borodin, by appearance, I refer to the &quot;textual appearance&quot; on the screen, on paper, in front of our eyes. Perhaps, single and double quotes are the exception because I think it&#39;s obvious they are not bare words by their appearance.   I asked to exclude cases detected by &quot;use strict&quot; because they can be caught at compile time. I&#39;m only interested in problematic cases where none of the Perl facilities can help and thus go unnoticed and blow up in runtime."}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "edited": false, "score": 0, "creation_date": 1482033400, "post_id": 41205216, "comment_id": 69609937, "body": "When I run the above code, I don&#39;t get the line of &quot;Ambiguous use of -bar&quot;.   The version of my Perl is: This is perl 5, version 22, subversion 2 (v5.22.2) built for cygwin-thread-multi.  And your example of (%h{foo-bar}) is a use case that I&#39;m looking for. Are there other cases?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "edited": false, "score": 1, "creation_date": 1482034053, "post_id": 41205216, "comment_id": 69610018, "body": "@Ltf4an The warning was spurious, so it was <a href=\"http://perldoc.perl.org/perl5220delta.html#Diagnostic-Removals\" rel=\"nofollow noreferrer\">removed in 5.22.0</a>. That&#39;s not the important part, though."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "edited": false, "score": 1, "creation_date": 1482034598, "post_id": 41205216, "comment_id": 69610082, "body": "@Ltf4an Yes, there are similar pitfalls with the fat comma operator: <code>perl -Mstrict -MData::Dumper -e&#39;sub foo { 1 } sub bar { 1 } my %h = (  foo.bar =&gt; 1 ); print Dumper \\%h&#39;</code>"}, {"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "edited": false, "score": 0, "creation_date": 1482081020, "post_id": 41205216, "comment_id": 69620317, "body": "Per your comment above, I&#39;ve updated the description to use the term &quot;pitfall.&quot; I think it&#39;s more descriptive of what I&#39;m looking for."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482108912, "post_id": 41205216, "comment_id": 69627790, "body": "When the last time you write <code>sub foo.bar { ... }</code>? The only real problem is <code>$hash{CONSTANT}</code>."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 5, "last_activity_date": 1482081335, "last_edit_date": 1482081335, "creation_date": 1482031942, "answer_id": 41205216, "question_id": 41205050, "link": "https://stackoverflow.com/questions/41205050/what-are-the-pitfalls-in-using-bare-words-in-perl/41205216#41205216", "title": "What are the pitfalls in using bare words in Perl?", "body": "<p>Yes, you can shoot yourself in the foot by not quoting things properly:</p>\n\n<pre><code>$ perl -MData::Dumper -e'\n    my %h;\n    $h{\"foo-bar\"} = 1;\n    print Dumper \\%h\n'\n$VAR1 = {\n          'foo-bar' =&gt; 1\n        };\n\n$ perl -MData::Dumper -e'\n    my %h;\n    $h{foo-bar} = 1;\n    print Dumper \\%h\n'\n$VAR1 = {\n          '0' =&gt; 1  # oops!\n        };\n</code></pre>\n\n<p>However, strict mode turns this from an uncaught logic error into a syntax error:</p>\n\n<pre><code>$ perl -Mstrict -MData::Dumper -e'\n    my %h; \n    $h{foo-bar} = 1; \n    print Dumper \\%h\n'\nBareword \"foo\" not allowed while \"strict subs\" in use at -e line 1.\nBareword \"bar\" not allowed while \"strict subs\" in use at -e line 1.\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>...unless:</p>\n\n<pre><code>$ perl -Mstrict -MData::Dumper -e'\n    sub foo { 1 }\n    sub bar { 1 }\n\n    my %h;\n    $h{foo-bar} = 1;\n    print Dumper \\%h\n'\nAmbiguous use of -bar resolved as -&amp;bar() at -e line 1.\n$VAR1 = {\n          '1' =&gt; 1  # oops!\n        };\n</code></pre>\n\n<p>Moral of the story? Always <code>use strict;</code>, and always quote hash keys that aren't <a href=\"http://perldoc.perl.org/perldata.html#Identifier-parsing\" rel=\"nofollow noreferrer\">identifiers</a> (identifiers contain letters, numbers, and underscores only, and the first character cannot be a number).</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1482250236, "last_edit_date": 1482250236, "creation_date": 1482107416, "answer_id": 41214341, "question_id": 41205050, "link": "https://stackoverflow.com/questions/41205050/what-are-the-pitfalls-in-using-bare-words-in-perl/41214341#41214341", "title": "What are the pitfalls in using bare words in Perl?", "body": "<blockquote>\n  <p><em>Please exclude use cases where 'use strict' would catch them as errors at compile time.</em></p>\n</blockquote>\n\n<p><code>use strict;</code> entirely prevents the use of <a href=\"http://perldoc.perl.org/perldata.html#Barewords\" rel=\"nofollow noreferrer\">barewords</a>. Allowing barewords allows typos to fail very silently and/or subtly.</p>\n\n<p>The documentation claims lowercase barewords could be misinterpreted as function calls in future versions of Perl, but that's not true. New functions would need to be enabled like <code>say</code>.</p>\n\n<hr>\n\n<p>That said, I think you actually mean to talk about auto-quoted hash keys. There is a potential for confusion in that one might write <code>$hash{foo}</code> expecting it to be equivalent to <code>$hash{foo()}</code>. But not only is <code>foo</code> (as opposed to <code>foo()</code>) a weird way to call a sub in the first place, noone would want to write <code>$hash{foo()}</code> in the first place. (An argument would surely be required.)</p>\n\n<p>The only thing preventing the chance of the code being misinterpreted from being infinitesimally small is the possibility of constants being used as hash keys. <code>$hash{CONSTANT}</code> would fail. One would need to use <code>$hash{(CONSTANT)}</code>, <code>$hash{+CONSTANT}</code>, or some other form of disambiguation.</p>\n"}], "owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 41214341, "answer_count": 2, "score": 2, "last_activity_date": 1482265847, "creation_date": 1482029786, "last_edit_date": 1482265847, "question_id": 41205050, "link": "https://stackoverflow.com/questions/41205050/what-are-the-pitfalls-in-using-bare-words-in-perl", "title": "What are the pitfalls in using bare words in Perl?", "body": "<p>I understand that bare words can be used as strings in quoting operators (q//, qq//), hash keys, etc. I'm personally not too thrilled about this because I can't get over the mental expectation that a literal string should be quoted, as in C, C++. However, if I were to adopt mixed uses of quoted strings and bare words, I want to make sure that I don't accidentally shoot myself in the foot where bare words would not behave correctly at runtime. </p>\n\n<p>Please exclude use cases where 'use strict' would catch them as errors at compile time. I always enable 'strict' mode, so I'm not concerned about these cases.</p>\n\n<p>Below is a code illustration based on the answers and comments provided:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nuse constant SIZE =&gt; \"const_size\";\n\nsub size {\n    return \"getsize\";\n}\n\nmy $href = {\n    size =&gt; 1,\n    getsize =&gt; 2,\n    const_size =&gt; \"CONST_SIZE\",\n    SIZE =&gt; \"LARGE\",\n};\n\nprint \"constant SIZE:\", SIZE, \"\\n\";\nprint \"1. \\$href-&gt;{size}:\", $href-&gt;{size}, \"\\n\";\nprint \"1a. \\$href-&gt;{size()}:\", $href-&gt;{size()}, \"\\n\";\nprint \"2. \\$href-&gt;{getsize}:\", $href-&gt;{getsize}, \"\\n\";\nprint \"3. \\$href-&gt;{SIZE}:\", $href-&gt;{SIZE}, \"\\n\";\nprint \"3a. \\$href-&gt;{(SIZE)}:\", $href-&gt;{(SIZE)}, \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ ./bare_word.pl\nconstant SIZE:const_size\n1. $href-&gt;{size}:1\n1a. $href-&gt;{size()}:2\n2. $href-&gt;{getsize}:2\n3. $href-&gt;{SIZE}:LARGE\n3a. $href-&gt;{(SIZE)}:CONST_SIZE\n</code></pre>\n\n<p>It appears that with respect to <strong>hash keys</strong>, bare words behave as expected in all cases. To override the behavior, we'd need to explicitly disambiguate.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 5, "creation_date": 1482011312, "post_id": 41203292, "comment_id": 69605905, "body": "Description sounds complicated...better to provide more info. Replace strings with real data and advise possible output . Solution could be as simple as <code>grep -A 2 &quot;KEY&quot; file</code> - find key and get two following lines. But is  it so simple what you want? I suspect not. Give a better description."}, {"owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "edited": false, "score": 0, "creation_date": 1482011422, "post_id": 41203292, "comment_id": 69605932, "body": "I think you mean that you want to join 2 lines when the second line starts with KEY."}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "reply_to_user": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "edited": false, "score": 0, "creation_date": 1482015302, "post_id": 41203292, "comment_id": 69607035, "body": "@WalterA If it is like this , does he means <code>grep -B 1 &quot;KEY&quot; file</code> ...?"}, {"owner": {"reputation": 183, "user_id": 3562566, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43bc59d7d43bf8dfc10b3c9034b0fd97?s=128&d=identicon&r=PG&f=1", "display_name": "dan sawyer", "link": "https://stackoverflow.com/users/3562566/dan-sawyer"}, "edited": false, "score": 0, "creation_date": 1482015664, "post_id": 41203292, "comment_id": 69607121, "body": "The grep -B 1 &quot;KEY&quot; option does not work."}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 3562566, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43bc59d7d43bf8dfc10b3c9034b0fd97?s=128&d=identicon&r=PG&f=1", "display_name": "dan sawyer", "link": "https://stackoverflow.com/users/3562566/dan-sawyer"}, "edited": false, "score": 0, "creation_date": 1482012824, "post_id": 41203498, "comment_id": 69606312, "body": "Forgive my ignorance, where is the conditional KEY coded? Yes, there are never 2 KEY lines in a row. All lines have at least one space character."}, {"owner": {"reputation": 439, "user_id": 7078860, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3i_2BR_HDNE/AAAAAAAAAAI/AAAAAAAAAIk/IE6tuymgBT8/photo.jpg?sz=128", "display_name": "Ferenc D&#243;sa-R&#225;cz", "link": "https://stackoverflow.com/users/7078860/ferenc-d%c3%b3sa-r%c3%a1cz"}, "edited": false, "score": 0, "creation_date": 1482020257, "post_id": 41203498, "comment_id": 69608016, "body": "I didn&#39;t know how your KEY input looked like, whether it was the actual string &#39;KEY&#39; or just about anything separated by a space from the subsequent string. So I assumed the more general second. The third rule (in the edited version of the entire awk script) catches lines with a space in them, and whatever precedes them is the KEY."}], "tags": [], "owner": {"reputation": 439, "user_id": 7078860, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3i_2BR_HDNE/AAAAAAAAAAI/AAAAAAAAAIk/IE6tuymgBT8/photo.jpg?sz=128", "display_name": "Ferenc D&#243;sa-R&#225;cz", "link": "https://stackoverflow.com/users/7078860/ferenc-d%c3%b3sa-r%c3%a1cz"}, "is_accepted": false, "score": 0, "last_activity_date": 1482020019, "last_edit_date": 1482020019, "creation_date": 1482012261, "answer_id": 41203498, "question_id": 41203292, "link": "https://stackoverflow.com/questions/41203292/bash-combine-lines-with-key-at-beginning-of-second-line/41203498#41203498", "title": "bash combine lines with KEY at beginning of second line", "body": "<p>Something like this (awk script)?</p>\n\n<pre><code>BEGIN {previous=\"\"}\n/^[[:alnum:]]+$/ {if (previous) {print previous} previous=$0}\n/ / {print previous, $0; previous=\"\"}\nEND {if (previous) {print previous}}\n</code></pre>\n\n<p>I was assuming here that (a) the lines with KEY are always preceded by at least one line without KEY and (b) a line with a KEY is a line with a space character in it.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 2, "last_activity_date": 1482016721, "creation_date": 1482016721, "answer_id": 41203986, "question_id": 41203292, "link": "https://stackoverflow.com/questions/41203292/bash-combine-lines-with-key-at-beginning-of-second-line/41203986#41203986", "title": "bash combine lines with KEY at beginning of second line", "body": "<p>sed is for simple substitutions on individual lines, that is all, so this would be a completely inappropriate task for sed.</p>\n\n<p>This will work on all UNIX installations with no need to install non-standard tools like perl:</p>\n\n<pre><code>$ awk '{printf \"%s%s\", (/^KEY/ ? OFS : ors), $0; ors=ORS} END{print \"\"}' file\n...\nstring\nstring KEY string\nstring\n...\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 3562566, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43bc59d7d43bf8dfc10b3c9034b0fd97?s=128&d=identicon&r=PG&f=1", "display_name": "dan sawyer", "link": "https://stackoverflow.com/users/3562566/dan-sawyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "closed_date": 1482019896, "accepted_answer_id": 41203986, "answer_count": 2, "score": -2, "last_activity_date": 1482022680, "creation_date": 1482010483, "last_edit_date": 1482022680, "question_id": 41203292, "link": "https://stackoverflow.com/questions/41203292/bash-combine-lines-with-key-at-beginning-of-second-line", "closed_reason": "Needs details or clarity", "title": "bash combine lines with KEY at beginning of second line", "body": "<p>The source is a text file. There are lines that start with KEY, in that case the objective is that line is combined with the line preceding it. There are also cases where not KEY is present. In that case the line is transferred with out change to the output There is no pattern to either the unmatched strings or the 'line pairs', they each may occur individually or in groups of 2 or more lines. </p>\n\n<p>Example of input text file:</p>\n\n<pre><code>1234 abc \nabcdef\nabcdef1\nKEY xyx\nany arbitrary string not starting with KEY \ndef 987 \n</code></pre>\n\n<p>The objective is to combine the 'line pairs' into a single line while leaving the lines that do not meet the criteria unaltered.</p>\n\n<p>Desired output</p>\n\n<pre><code>1234 abc \nabcdef\nabcdef1KEY xyx\nany arbitrary string not starting with KEY \ndef 987 \n</code></pre>\n\n<p>There are solutions where the KEY is in the first line of a 'line pair'. The preferred solutions are sed, perl, and awk in that order. However a higher preference is a solution! </p>\n"}, {"tags": ["perl", "debugging", "perldb"], "answers": [{"tags": [], "owner": {"reputation": 2359, "user_id": 6197439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/692e93967f23c403a2eb62c0cf99bb53?s=128&d=identicon&r=PG&f=1", "display_name": "sdbbs", "link": "https://stackoverflow.com/users/6197439/sdbbs"}, "is_accepted": false, "score": 1, "last_activity_date": 1481995683, "last_edit_date": 1495535440, "creation_date": 1481995683, "answer_id": 41201191, "question_id": 41201072, "link": "https://stackoverflow.com/questions/41201072/perl-debugger-actions-in-pie-one-liner-mode/41201191#41201191", "title": "Perl debugger actions in -pie one-liner mode?", "body": "<p>Got it via <a href=\"https://stackoverflow.com/questions/39148894/how-to-run-x-command-within-a-action-in-the-perl-debugger\">How to run `x` command within a &lt; action in the perl debugger?</a>, it's <code>{ p $_</code>:</p>\n\n<pre><code>  DB&lt;1&gt; { p $_\n  DB&lt;2&gt; n\nmain::(-e:1):   s/ice/dice/\nauto(-1)  DB&lt;2&gt; p $_\n    \"'iceberg'\"\n\n  DB&lt;3&gt; n\nmain::(-e:0):   BEGIN { require 'perl5db.pl' };LINE: while (&lt;&gt;) {\nauto(-1)  DB&lt;3&gt; p $_\n    \"'diceberg'\"\n\n  DB&lt;4&gt; n\nmain::(-e:1):   s/ice/dice/\nauto(-1)  DB&lt;4&gt; p $_\n    \"'ice cliff'\"\n\n  DB&lt;5&gt; n\nmain::(-e:0):   BEGIN { require 'perl5db.pl' };LINE: while (&lt;&gt;) {\nauto(-1)  DB&lt;5&gt; p $_\n    \"'dice cliff'\"\n</code></pre>\n"}], "owner": {"reputation": 2359, "user_id": 6197439, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/692e93967f23c403a2eb62c0cf99bb53?s=128&d=identicon&r=PG&f=1", "display_name": "sdbbs", "link": "https://stackoverflow.com/users/6197439/sdbbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481995683, "creation_date": 1481994873, "question_id": 41201072, "link": "https://stackoverflow.com/questions/41201072/perl-debugger-actions-in-pie-one-liner-mode", "title": "Perl debugger actions in -pie one-liner mode?", "body": "<p>Consider this:</p>\n\n<pre><code>cat &gt; mytestfile.txt &lt;&lt;'EOF'\n    \"'iceberg'\"\n    \"'ice cliff'\"\n    \"'ice field'\"\n    \"'inlet'\"\n    \"'island'\"\n    \"'islet'\"\n    \"'isthmus'\"\nEOF\n\nperl -dpi -e 's/ice/dice/' mytestfile.txt\n</code></pre>\n\n<p>When the debugger runs, I try to add an action to print <code>$_</code>, but:</p>\n\n<pre><code>$ perl -dpi -e 's/ice/dice/' mytestfile.txt \n\nLoading DB routines from perl5db.pl version 1.39_10\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(-e:0):   BEGIN { require 'perl5db.pl' };LINE: while (&lt;&gt;) {\n  DB&lt;1&gt; n\nmain::(-e:1):   s/ice/dice/\n  DB&lt;1&gt; n\nmain::(-e:0):   BEGIN { require 'perl5db.pl' };LINE: while (&lt;&gt;) {\n  DB&lt;1&gt; print $_\n\n  DB&lt;2&gt; n\nmain::(-e:1):   s/ice/dice/\n  DB&lt;2&gt; print $_\n\n  DB&lt;3&gt; n\nmain::(-e:0):   BEGIN { require 'perl5db.pl' };LINE: while (&lt;&gt;) {\n  DB&lt;3&gt; p $_\n    \"'ddiceberg'\"\n\n  DB&lt;4&gt; print \"$_\"\n\n...\n  DB&lt;1&gt; a 0 print \"$_\";\n  DB&lt;2&gt; L  \n  DB&lt;3&gt; L a\n  DB&lt;4&gt; n\n...\n  DB&lt;6&gt; a 1 print \"$_\"\n  DB&lt;7&gt; L a\n-e:\n 1: s/ice/dice/\n    action:  print \"$_\"\n  DB&lt;8&gt; n\nmain::(-e:1):   s/ice/dice/\n  DB&lt;8&gt; n\nmain::(-e:0):   BEGIN { require 'perl5db.pl' };LINE: while (&lt;&gt;) {\n  DB&lt;8&gt; n\nmain::(-e:1):   s/ice/dice/\n  DB&lt;8&gt; n\nmain::(-e:0):   BEGIN { require 'perl5db.pl' };LINE: while (&lt;&gt;) {\n  DB&lt;8&gt; n\n...\n  DB&lt;8&gt; a 1 p $_\n  DB&lt;9&gt; L a\n-e:\n 1: s/ice/dice/\n    action:  p $_\n  DB&lt;10&gt; n\nmain::(-e:1):   s/ice/dice/\nCan't locate object method \"p\" via package \"    \"'ice cliff'\"\n\" (perhaps you forgot to load \"    \"'ice cliff'\"\n\"?) at (eval 13)[/usr/share/perl/5.18/perl5db.pl:732] line 1, &lt;&gt; line 3.\n  DB&lt;10&gt; n\nmain::(-e:0):   BEGIN { require 'perl5db.pl' };LINE: while (&lt;&gt;) {\nCan't locate object method \"p\" via package \"    \"'dice cliff'\"\n\" (perhaps you forgot to load \"    \"'dice cliff'\"\n\"?) at (eval 14)[/usr/share/perl/5.18/perl5db.pl:732] line 1, &lt;&gt; line 3.\n</code></pre>\n\n<p>... there are problems:</p>\n\n<ul>\n<li>If I do <code>print $_</code>, I get an empty string - if I do <code>p $_</code>, I do get an actual printout of the variable</li>\n<li>I cannot add an action on line 0</li>\n<li>On line 1, the action executes - but it doesn't look like it if <code>print $_</code> is used as the action, since as mentioned it returns empty string; but <code>p $_</code> even if it prints in interactive mode, it raises an error when used as an action.</li>\n</ul>\n\n<p>So how can I have something like \"dollar-underscore\" <code>$_</code> printed each loop as an action of a debugged <code>-pie</code> script?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482006672, "post_id": 41200765, "comment_id": 69604685, "body": "<code>split &#47;\\s+&#47;</code> is almost never correct. You usually want <code>split &#39; &#39;</code> ( a single literal space ) or just <code>split</code>, because that is the default."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1481994662, "post_id": 41200962, "comment_id": 69601239, "body": "The code between the curlies is called a BLOCK, and is essentially a full anonymous sub. If you want to have it a little bit faster, you can use <a href=\"https://metacpan.org/pod/List::Util#first\" rel=\"nofollow noreferrer\"><code>first</code> from List::Util</a> instead of <code>grep</code>, which will stop iterating after the first match. But quite honestly you&#39;d need a lot of columns and values for this to make a difference."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1481995974, "post_id": 41200962, "comment_id": 69601632, "body": "Golfed a little: <code>$ perl -awe &#39;print unless grep { $seen{$_}++ } @F&#39; input.txt</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1482006809, "post_id": 41200962, "comment_id": 69604720, "body": "This won&#39;t work if the same value appears twice in a line. The second time it is tested it will already have been &quot;seen&quot; earlier in the line."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1482090640, "post_id": 41200962, "comment_id": 69623227, "body": "@Borodin Nicely spotted. I haven&#39;t thought about that. Depending on their needs, the OP should consider your solution."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482519042, "post_id": 41200962, "comment_id": 69815942, "body": "Just a note -- the pattern <code>&#39; &#39;</code> in <code>split</code> uses any amount of any white space, so it is the same as <code>&#47;\\s+&#47;</code>. Also, it is the default so here you can say <code>split</code>. Comes handly for picking values from the list, for example, <code>(split)[N]</code>. Lots of nice uses.  It is quite liberating once you get used to it."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482520258, "post_id": 41200962, "comment_id": 69816375, "body": "@zdim <code>&#39; &#39;</code> and <code>&#47;\\s+&#47;</code> aren&#39;t exactly the same: <code>split(&#47;\\s+&#47;, &#39; col1&#39;)</code> gives <b>two</b> elements (empty string plus <code>&quot;col1&quot;</code>), but <code>split(&#39; &#39;, &#39; col1&#39;)</code> gives only <b>one</b> because it also eliminates empty fields at the beginning. I don&#39;t like this <i>side effect</i> because it&#39;s not clear and anybody not familiar with <code>split</code>&#39;s manpage would expect <code>&#39; &#39;</code> to split at <i>exactly one space</i> but, surprise, surprise, it does more than it pretends."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482524259, "post_id": 41200962, "comment_id": 69817738, "body": "@PerlDuck  Yes, you are right, using manual regex patterns keeps spaces while the default prunes them.  I know what you mean, that&#39;s why I had used the explicit <code>&#47;\\s+&#47;</code> for a long time.  However, for me the relieving part is that <code>&#39; &#39;</code> is <i>the default</i>, even as it is surprising.  It&#39;d be nice to be able to escape the need to know (the often picky) details. The only downside to me is that I often have to make a note in posts here :). Anyway, I won&#39;t bug you with this particular thing again :)."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482526241, "post_id": 41200962, "comment_id": 69818377, "body": "Hey, @zdim, you didn&#39;t bug me at all! :-) I think the both of us are experienced Perl programmers and we know <code>split</code> in and out. I really love Perl but sometimes (in very rare cases) I just don&#39;t like its built-in magic when apparently obvious code does something unexpected. And <code>split(&#39; &#39;)</code> is one such thing. When I write code at work and use <code>&#39; &#39;</code> then I often spend a comment when it&#39;s likely that my code is read by colleagues not so familiar with <code>split</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482533507, "post_id": 41200962, "comment_id": 69820394, "body": "@PerlDuck Well, yes, I know (I hope so) -- it was partly a joke.  The other part -- sometimes people are just unaware of details, when it may be good to bring them up. But if they do know and have their preference then there is no need to mention it.  As for the little details, I view Perll still as a low-level language. Yes, there are high-level tools and one can write fairly clean code but there are always little things to be aware of.  I like that, for me it&#39;s a good thing.  You <i>can</i> go low, you can stay high. (I like C++ in a similar way. There you <i>build</i> high-level tools.)"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 4, "last_activity_date": 1481994212, "creation_date": 1481994212, "answer_id": 41200962, "question_id": 41200765, "link": "https://stackoverflow.com/questions/41200765/delete-repeated-value-containing-lines-after-keeping-the-first-line/41200962#41200962", "title": "Delete repeated value containing lines after keeping the first line", "body": "<p>You also need to iterate over the <code>@cols</code> and examine every item instead of just the first one, <code>$cols[0]</code>.\nYou need something like</p>\n\n<pre><code>unless ($seen{$cols[0]}++ || $seen{$cols[1]}++ || $seen{$cols[2]}++ ...) {\n    push @lines, $_;\n}\n</code></pre>\n\n<p>Of course that would be bad style and impossible if you don't know the number of columns in advance.</p>\n\n<p>I would do it with <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\"><code>grep</code></a>:</p>\n\n<pre><code>my %seen;\nmy @lines;\n\nwhile (&lt;DATA&gt;) {\n    my @cols = split /\\s+/;\n    unless ( grep { $seen{$_}++ } @cols ) {\n        push @lines, $_;\n    }\n}\n\nprint @lines;\n\n\n__DATA__\na   b   c\ns   t   e\na   b   c\nf   q   y\nr   e   x\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a   b   c\ns   t   e\nf   q   y\n</code></pre>\n\n<p><code>grep</code> processes the code between the curlies <code>{ $seen{$_}++ }</code> for each element in the list <code>@cols</code> and returns (in scalar context) the number of items that evaluated to true.</p>\n\n<p>It's not the fastest approach because it always iterates over the whole array (even if the first evaluation would be sufficient for your particular test). But give it a try; perhaps it's fast enough for you.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1482007506, "last_edit_date": 1482007506, "creation_date": 1482007084, "answer_id": 41202821, "question_id": 41200765, "link": "https://stackoverflow.com/questions/41200765/delete-repeated-value-containing-lines-after-keeping-the-first-line/41202821#41202821", "title": "Delete repeated value containing lines after keeping the first line", "body": "<p>As I wrote in my comments, <code>split /\\s+/</code> is very rarely correct</p>\n\n<p>And the solution you have mishandles lines with duplicate fields</p>\n\n<p>It's also more efficient to replace <code>grep</code> with <code>any</code> from the core <code>List::Util</code> module</p>\n\n<p>I suggest that you store the fields of each line in a hash <code>%cols</code>, like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'any';\n\nmy ( @lines, %seen );\n\nwhile ( &lt;DATA&gt; ) {\n\n    my %cols = map { $_ =&gt; 1 } split;\n\n    push @lines, $_ unless any { $seen{$_}++ } keys %cols;\n}\n\nprint for @lines;\n\n__DATA__\na   b   c\np   p   p\np   q   r\ns   t   e\na   b   c\nf   q   y\nr   e   x\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>a   b   c\np   p   p\ns   t   e\n</code></pre>\n\n<p>Even this may not be what you want, as the line <code>f q y</code> is omitted because <code>q</code> has already been \"seen\" in the omitted line <code>p q r</code>. You will have to clarify the required behaviour in this situation</p>\n"}], "owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "accepted_answer_id": 41202821, "answer_count": 2, "score": 1, "last_activity_date": 1482007506, "creation_date": 1481992679, "last_edit_date": 1481993136, "question_id": 41200765, "link": "https://stackoverflow.com/questions/41200765/delete-repeated-value-containing-lines-after-keeping-the-first-line", "title": "Delete repeated value containing lines after keeping the first line", "body": "<p>I have a tab separated large file like this:</p>\n\n<p>input.txt</p>\n\n<pre><code>a   b   c\ns   t   e\na   b   c\nf   q   y\nr   e   x\n</code></pre>\n\n<p>to delete the repeated lines (rows) in this file, i use:</p>\n\n<pre><code>my %seen;\nmy @lines;\n\nwhile (&lt;&gt;) {\n    my @cols = split /\\s+/;\n    unless ($seen{$cols[0]}++) {\n        push @lines, $_;\n    }\n}\n\nprint @lines;\n</code></pre>\n\n<p>the output here is:</p>\n\n<pre><code>a   b   c\ns   t   e\nf   q   y\nr   e   x\n</code></pre>\n\n<p>Now if I want to delete those lines too that contain repeted values (means: that value once appear anywhere in upper rows/columns, here \"e\") and keep only the uppermost value containing line, please suggest what will be the most preffered approach keeping in mind that my input file is very large with many columns and rows.</p>\n\n<p>model output that I want for the above input.txt would be:</p>\n\n<pre><code>a   b   c\ns   t   e\nf   q   y\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["perl", "sorting"], "comments": [{"owner": {"reputation": 985, "user_id": 1437501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2d65100a83f4e213217cd04546f312?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1437501/matthias"}, "edited": false, "score": 0, "creation_date": 1481983852, "post_id": 41199277, "comment_id": 69598256, "body": "This question is answered in the documentation <a href=\"http://p3rl.org/sort\" rel=\"nofollow noreferrer\">p3rl.org/sort</a> in the 3rd sentence..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1481984978, "post_id": 41199277, "comment_id": 69598552, "body": "It looks like you are using a rather old resource to learn Perl. You should always have <code>use strict</code> and <code>use warnings</code> at the top of all your programs and declare your variables with <code>my</code>. Please take a look at the list of tutorials, books and other resources we have compiled in <a href=\"http://stackoverflow.com/tags/perl/info\">the tag wiki</a> here on SO. Learning from a high quality resource will make your life a lot easier. Have fun with Perl. :)"}], "answers": [{"comments": [{"owner": {"reputation": 577, "user_id": 3888438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCzk1.jpg?s=128&g=1", "display_name": "kapil", "link": "https://stackoverflow.com/users/3888438/kapil"}, "edited": false, "score": 0, "creation_date": 1481983433, "post_id": 41199371, "comment_id": 69598116, "body": "what are $a and $b here?"}, {"owner": {"reputation": 2313, "user_id": 194547, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9daed16ecfea23c493a3b79603c51069?s=128&d=identicon&r=PG", "display_name": "varnie", "link": "https://stackoverflow.com/users/194547/varnie"}, "reply_to_user": {"reputation": 577, "user_id": 3888438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCzk1.jpg?s=128&g=1", "display_name": "kapil", "link": "https://stackoverflow.com/users/3888438/kapil"}, "edited": false, "score": 1, "creation_date": 1481983547, "post_id": 41199371, "comment_id": 69598147, "body": "$a and $b are exempt global variables. they are exempt in that Perl allows them to be used (anywhere) without being declared. They are set by the sort function. Please refer to the docs page, there&#39;re a few examples which might help you (for example, declaring your own standalone &quot;explicit&quot; sort function, if you want to)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 577, "user_id": 3888438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCzk1.jpg?s=128&g=1", "display_name": "kapil", "link": "https://stackoverflow.com/users/3888438/kapil"}, "edited": false, "score": 1, "creation_date": 1481985073, "post_id": 41199371, "comment_id": 69598578, "body": "@kapil for each pair of values inside <code>@num</code>, two are compared at a time. <code>$a</code> is the left one of the two, and <code>$b</code> is the right one."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481987823, "post_id": 41199371, "comment_id": 69599393, "body": "<i>&quot;what are <code>$a</code> and <code>$b</code> here?&quot;</i> Please <i>read the documentation</i> that you have been linked to twice. The downvotes your question received are probably because all of this is laid out clearly in the documentation; please make use of it. The question has also been answered before on Stack Overflow, and you should search for an existing solution before involving people in additional effort."}], "tags": [], "owner": {"reputation": 2313, "user_id": 194547, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9daed16ecfea23c493a3b79603c51069?s=128&d=identicon&r=PG", "display_name": "varnie", "link": "https://stackoverflow.com/users/194547/varnie"}, "is_accepted": true, "score": 3, "last_activity_date": 1481983299, "creation_date": 1481983299, "answer_id": 41199371, "question_id": 41199277, "link": "https://stackoverflow.com/questions/41199277/sort-function-not-working-properly-in-perl/41199371#41199371", "title": "sort function not working properly in perl", "body": "<pre><code>@num=sort { $a &lt;=&gt; $b } @num;\n</code></pre>\n\n<p>will produce what you want. Have a look at the relevant docs page: <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/functions/sort.html</a></p>\n\n<p>It doesn't sort as you want because</p>\n\n<blockquote>\n  <p>If SUBNAME or BLOCK is omitted, sorts in standard string comparison order.</p>\n</blockquote>\n\n<p>according to the docs!</p>\n"}], "owner": {"reputation": 577, "user_id": 3888438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCzk1.jpg?s=128&g=1", "display_name": "kapil", "link": "https://stackoverflow.com/users/3888438/kapil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "closed_date": 1481987898, "accepted_answer_id": 41199371, "answer_count": 1, "score": -2, "last_activity_date": 1481987715, "creation_date": 1481982675, "last_edit_date": 1481987715, "question_id": 41199277, "link": "https://stackoverflow.com/questions/41199277/sort-function-not-working-properly-in-perl", "closed_reason": "Duplicate", "title": "sort function not working properly in perl", "body": "<p>I wrote a Perl program</p>\n\n<pre><code>$number = &lt;&gt;;                       # get the number of numbers\n$values = &lt;STDIN&gt;;                  # accept number separated by spaces\n\n@num    = split( \" \", $values );    # split the number separated by spaces\n@num    = sort @num;\n\nfor ( $i = 0; $i &lt; $number; $i++ ) {\n    print $num[$i], \"\\n\";\n}\n</code></pre>\n\n<p>I gave the input as</p>\n\n<pre><code>4\n1 7 8 100\n</code></pre>\n\n<p>The output i got was </p>\n\n<pre><code>1 100 7 8\n</code></pre>\n\n<p>which is wrong</p>\n"}, {"tags": ["perl", "opengl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481984873, "post_id": 41199270, "comment_id": 69598526, "body": "In the github link that is line 154. That script is not a particularly good example of Perl. Which Perl version did you install on your Windows? Strawberry or ActivePerl? Which version number? In way older versions, that particular syntax was ok, but at some point <code>defined(@array)</code> was deprecated. Your Perl is so new that this is actually an error now. Try just removing the <code>defined</code> so the line says <code>if (@center) {</code>. The <code>@center</code> will return its number of elements, which would be 3, which is true, and then it will go into the block."}, {"owner": {"reputation": 14305, "user_id": 3369042, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HtYUn.jpg?s=128&g=1", "display_name": "S.M_Emamian", "link": "https://stackoverflow.com/users/3369042/s-m-emamian"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481985106, "post_id": 41199270, "comment_id": 69598588, "body": "your answer true. please post your comment as an answer."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481985602, "post_id": 41199663, "comment_id": 69598737, "body": "I cannot find which release deprecated the behaviour."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1481988332, "post_id": 41199663, "comment_id": 69599525, "body": "<a href=\"http://search.cpan.org/~rjbs/perl-5.22.0/pod/perldelta.pod#defined(@array)_and_defined(%hash)_are_now_fatal_errors\" rel=\"nofollow noreferrer\">Deprecated in <b>Perl v5.6.1</b> and fatal in <b>Perl v5.22.0</b></a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481989206, "post_id": 41199663, "comment_id": 69599787, "body": "Thanks @Borodin. It still says <i>deprecated</i> in the 5.24 perldoc I quoted."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1481985325, "creation_date": 1481985325, "answer_id": 41199663, "question_id": 41199270, "link": "https://stackoverflow.com/questions/41199270/how-to-convert-blender-blend-or-obj-file-to-h-file/41199663#41199663", "title": "How to convert Blender blend (or obj) file to .h file?", "body": "<blockquote>\n  <p>Can't use 'defined(@array)' (Maybe you should just omit the defined()?) </p>\n</blockquote>\n\n<p>This tells you that the syntax <code>defined(@array)</code> is not valid, and even gives a hint. All you need to do is remove the <code>defined()</code>. Your code would then read</p>\n\n<pre><code>if(@center) {\n    $xcen = $center[0];\n    $ycen = $center[1];\n    $zcen = $center[2];\n}\n</code></pre>\n\n<p>The <code>if</code> evaluation forces the array into <em>scalar context</em>, which makes it return its number of elements. That's probably 3, or 0. If it's 0 then it's a false value and the block is skipped. 3 on the other hand is a true value and the block will be executed.</p>\n\n<p>The <code>defined(@array)</code> syntax <a href=\"http://perldoc.perl.org/functions/defined.html\" rel=\"nofollow noreferrer\">was deprecated from Perl</a>. </p>\n\n<blockquote>\n  <p>Use of defined on aggregates (hashes and arrays) is deprecated. It used to report whether memory for that aggregate had ever been allocated. This behavior may disappear in future versions of Perl. </p>\n</blockquote>\n\n<p>The version of Perl you installed is newer than the version the author of your script used, and this is a rare occasion of an incompatible change.</p>\n"}], "owner": {"reputation": 14305, "user_id": 3369042, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HtYUn.jpg?s=128&g=1", "display_name": "S.M_Emamian", "link": "https://stackoverflow.com/users/3369042/s-m-emamian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 41199663, "answer_count": 1, "score": -1, "last_activity_date": 1481985325, "creation_date": 1481982627, "last_edit_date": 1481982940, "question_id": 41199270, "link": "https://stackoverflow.com/questions/41199270/how-to-convert-blender-blend-or-obj-file-to-h-file", "title": "How to convert Blender blend (or obj) file to .h file?", "body": "<p>I would like to convert a 3d model (<code>.obj</code> like blender) to <code>.h</code> file. there is a tool at github but when I run it, I got a message error :</p>\n\n<p>tool:\n<a href=\"https://github.com/HBehrens/obj2opengl/\" rel=\"nofollow noreferrer\">https://github.com/HBehrens/obj2opengl/</a></p>\n\n<p>my commend line:</p>\n\n<pre><code>C:\\Users\\***&gt;perl C:\\Users\\***\\Desktop\\vuforia\\obj2opengl.pl C:\\\nUsers\\***\\Desktop\\vuforia\\cc.obj\n</code></pre>\n\n<p><code>cc.obj</code> is an export of blender software .</p>\n\n<p>error :</p>\n\n<pre><code>Can't use 'defined(@array)' (Maybe you should just omit the defined()?) at C:\\Users\\***\\Desktop\\vuforia\\obj2opengl.pl line 118.\n</code></pre>\n\n<p>line 118 :</p>\n\n<pre><code>if(defined(@center)) { //line 118\n    $xcen = $center[0];\n    $ycen = $center[1];\n    $zcen = $center[2];\n}\n</code></pre>\n\n<p>I don't know where is the problem. \nmy OS is windows 64 . I installed perl before .</p>\n"}, {"tags": ["perl", "google-text-to-speech"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481969883, "post_id": 41197013, "comment_id": 69594593, "body": "I don&#39;t think the sample rate has something to do with that. Thats the quality of the digital encoding of the sound. Look it up on Wikipedia. It&#39;s a value in Hz. You might know it from DVDs. I think the speed is either controlled by the api and you have to find it in the docs, or you cannot change it."}, {"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 1, "creation_date": 1481974516, "post_id": 41197013, "comment_id": 69595705, "body": "The script uses <a href=\"http://sox.sourceforge.net\" rel=\"nofollow noreferrer\">sox</a> to post-process the response from Google, you could use options there to manipulate the file and change the speed."}, {"owner": {"reputation": 11, "user_id": 7309711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7daf2d4875bec4b7702df497b3039fdf?s=128&d=identicon&r=PG&f=1", "display_name": "Koga Miyata", "link": "https://stackoverflow.com/users/7309711/koga-miyata"}, "edited": false, "score": 0, "creation_date": 1481994167, "post_id": 41197013, "comment_id": 69601111, "body": "I tried messing with sox, if I use sox ... speed 1.5 or so it comes to the speed I want, but sounds like a child on Helium, thats not good... Raising the speach speed on an Android Device does not do that, thus lets me suspect thers a Api Command for that, but I cannot find any..."}], "owner": {"reputation": 11, "user_id": 7309711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7daf2d4875bec4b7702df497b3039fdf?s=128&d=identicon&r=PG&f=1", "display_name": "Koga Miyata", "link": "https://stackoverflow.com/users/7309711/koga-miyata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 774, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482008150, "creation_date": 1481965557, "last_edit_date": 1482008150, "question_id": 41197013, "link": "https://stackoverflow.com/questions/41197013/google-text-to-speech-api-how-to-set-the-speech-speed", "title": "Google Text-to-Speech API: how to set the speech speed?", "body": "<p>I am using <a href=\"https://github.com/Glutanimate/simple-google-tts/blob/master/speak.pl\" rel=\"nofollow noreferrer\">this Perl script</a>\nfor Google Text-to-Speech (TTS) on Debian</p>\n\n<p>It works like a charm, except the Google voice talks really slowly. I want to change that and make it talk faster.</p>\n\n<p>Lines 174-179 control the breaks between words and sentences, but the words themselves come at a specific speed from Google.</p>\n\n<p>I guess it could be changed somewhere around line 366 where the TTS call happens.</p>\n\n<p>There is also <code>$sample_rate</code> all over that script, which might have something to do with that, but I cannot figure it out.</p>\n\n<p>Any ideas how to speed it up?</p>\n"}, {"tags": ["perl", "poe"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481950207, "post_id": 41193634, "comment_id": 69590707, "body": "What do you mean by &quot;<i>child should re-fire</i>&quot; ?  Normally a child process exits when it completes its task. If you allow that, you can spawn another child, I guess, but you do that anyway.  Should new processes continue where the old ones left off (after 10 seconds)? Can you clarify this?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481951282, "post_id": 41193634, "comment_id": 69590854, "body": "I should add -- i don&#39;t use POE, so the above comment may be naive in some sense. (For example, it may keep a pool of processes and re-use them, or something like that.) If that is the case please let me know."}, {"owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481967823, "post_id": 41193634, "comment_id": 69594066, "body": "Once a child is completed in wheel I want $_[KERNEL]-&gt;delay() to wait 10 seconds then re-create the child process. For instance if I want to ping 10 hosts perpetually, but wait 10 seconds between pinging any given host would be the best way I can think of explaining it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481969289, "post_id": 41193634, "comment_id": 69594454, "body": "That last ping example sounds like you want to ping one, then wait. The ping the next, then wait. Should that be program wide, or per child? The whole idea of POE is that stuff is concurrent so the children don&#39;t wait for each other. What good is that break, if I get it at all? Can you edit and explain that part a bit more?"}, {"owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "edited": false, "score": 0, "creation_date": 1481969999, "post_id": 41193634, "comment_id": 69594633, "body": "The next_task event creates 1 child per $_[HEAP]-&gt;{devices}. At this point they would be pinging independently of one and other. As each child completes, I am trying to leverage $_[KERNEL]-&gt;delay to wait, then recreate the child. This is attempted in the sig_child handler. I am on a tablet atm, will try to clarify via edit asap once I am back at a compter"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482006236, "post_id": 41193634, "comment_id": 69604582, "body": "@Mose To use your example, is this the goal -- start (say) three processes, where each pings their host.  As one exits, after 10 seconds start another child which will ping the host of the one that exited.  As another exits, again after 10 seconds start a new process that pings that child&#39;s host.  Is this what you mean by &quot;<i>recreate the child</i>&quot;, so to create a process that continues what the previous one was doing?"}, {"owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482033893, "post_id": 41193634, "comment_id": 69609992, "body": "@zdim yes. I want the program to continually ping the same hosts, each host is a child process, each child process has a 10 second delay before restarting. Overall I&#39;m trtying to keep a maximum child process count of 3 at any given time ( so as hosts are added the program does not get out of hand as the list grows).    Sorry if I&#39;m not expalining this well, this is my first attempt at POE. The POE cookbook I linked does just about everything I need except restarting children"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482137301, "post_id": 41193634, "comment_id": 69635906, "body": "@Mose I don&#39;t see how one can &quot;<i>restart the child</i>&quot; -- once the child exits and is reaped, it&#39;s gone. It is no more.  What you can do, if I get it right, is to have each child return some ID of hosts that it worked with. Then 10 seconds after it exited you start another child with this info, so it knows to keep working with the same host.  You can do that with <code>alarm</code> (or <code>delay</code>). But you have new children springing up anyway, if new hosts come up.  So you&#39;d need to coordinate that, to distinguish between a new host and when you are returning to an old one.  Does this fit?"}, {"owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482161629, "post_id": 41193634, "comment_id": 69650785, "body": "@zdim Thats what I am trying to do in sig_child via $_[KERNEL]-&gt;delay. Perhaps the verbage I am using isn&#39;t correct, I do realize once the child is reaped it is gone, however I am not seeing how I can leverage the delay call to re-create it. Right now sig_child will call the spawn method, but will only do so for the last device in the list. I would have expected that the output of &#39;spawn&#39; would be 1 per device. If that where the case I could pass the device name back into a POE wheel after waiting 10 seconds.  I&#39;m finally back in front of my PC today, I&#39;ll try and make a more sensible example."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1483047305, "post_id": 41193634, "comment_id": 69977322, "body": "@Mose I just now noticed the edit.  I&#39;ll try to look into this further, time permitting."}, {"owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1483059812, "post_id": 41193634, "comment_id": 69980890, "body": "@zdim I managed to figure it out by forgoing the delay_adjust and scheduling a new delay. Will post the solution when able, hectic with the holidays so I haven&#39;t had a chance to follow up"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1483065389, "post_id": 41193634, "comment_id": 69982071, "body": "@Mose Oh, great :)  Thank you for letting me know!  It is a good idea to post it when you get around to it."}], "owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1482195655, "creation_date": 1481929338, "last_edit_date": 1482195655, "question_id": 41193634, "link": "https://stackoverflow.com/questions/41193634/perl-poe-alarm-delay-queueing", "title": "Perl POE: Alarm/Delay queueing", "body": "<p>This is my first attempt at the <a href=\"http://poe.perl.org\" rel=\"nofollow noreferrer\">Perl Object Environment</a> (POE). I am attempting to create a program that will run as a service that obtains a list of devices via couchdb, spawns child processes to ping them in 60 second intervals, while restricting the maximum number of concurrent child processes to 3.</p>\n\n<p>I am able to successfully re-queue child processes after a delay (1 min), however, I am not sure how to manage multiple alarms/delays that call the same event. I am attempting to store them in <code>$_[HEAP]-&gt;{timers}-&gt;{$_}</code> where <code>$_</code> is a given host.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse POE qw(Wheel::Run Filter::Reference);\nuse CouchDB::Client;\nuse Data::Dumper;\n\nuse constant MAX_CONCURRENT_TASKS =&gt; 3;\n\nour $couch      = CouchDB::Client-&gt;new(uri =&gt; 'http://192.168.1.100:5984/')-&gt;newDB('devices');\n\nPOE::Session-&gt;create(\n        inline_states =&gt; {\n                _start      =&gt; sub {\n                        push (@{$_[HEAP]-&gt;{devices}}, $couch-&gt;newDoc($_-&gt;id)-&gt;retrieve-&gt;id) for @{$couch-&gt;listDocs};\n                        $_[KERNEL]-&gt;delay_set('refresh', 60);\n                        $_[HEAP]-&gt;{timers}-&gt;{$_} = $_[KERNEL]-&gt;delay_set('spawn', 1, $_) for @{$_[HEAP]-&gt;{devices}};\n                }, \n                refresh =&gt; sub { \n                        undef @{$_[HEAP]-&gt;{devices}};\n                        $_[KERNEL]-&gt;delay_set('refresh', 60); \n                        push (@{$_[HEAP]-&gt;{devices}}, $couch-&gt;newDoc($_-&gt;id)-&gt;retrieve-&gt;id) for @{$couch-&gt;listDocs};\n                        print \"\\nRefreshing device list.\\n\\n\";\n                }, \n                spawn   =&gt; sub { \n                        if (keys(%{$_[HEAP]-&gt;{task}}) &lt; MAX_CONCURRENT_TASKS) { \n                                print \"Starting $_[ARG0].\\t # of tasks running: \". keys(%{$_[HEAP]-&gt;{task}}),$/;\n                                my $host = $_[ARG0];\n                                my $task = POE::Wheel::Run-&gt;new(        \n                                        Program      =&gt; sub { \\&amp;do_stuff($host) },\n                                        StdoutFilter =&gt; POE::Filter::Reference-&gt;new(),\n                                        StdoutEvent  =&gt; \"task_result\",\n                                        StderrEvent  =&gt; \"task_debug\",\n                                        CloseEvent   =&gt; \"task_done\"\n                                );\n                                $_[HEAP]-&gt;{task}-&gt;{$task-&gt;ID} = $task;\n                                $_[KERNEL]-&gt;sig_child($task-&gt;PID, \"sig_child\", $_[ARG0]) \n                        } else { \n                                $_[KERNEL]-&gt;delay_adjust($_[HEAP]-&gt;{timers}-&gt;{$_[ARG0]}, 5);\n                        }\n                        print Dumper 'spawn', sort $_[HEAP]-&gt;{timers};\n                },\n                task_result =&gt; sub { \n                        print \"Result for $_[ARG0]-&gt;{task}: $_[ARG0]-&gt;{status}\\n\";\n                },\n                task_done   =&gt; sub { \n                        delete $_[HEAP]-&gt;{task}-&gt;{$_[ARG0]};\n                },\n                task_debug  =&gt; sub { \n                        print \"Debug: $_[ARG0]\\n\";\n                },\n                sig_child   =&gt; sub { \n                        delete $_[HEAP]-&gt;{$_[ARG1]};\n                        $_[HEAP]-&gt;{timers}-&gt;{$_[ARG3]} = $_[KERNEL]-&gt;delay_set('spawn', 60, $_[ARG3]) if $_[ARG3] ~~ $_[HEAP]-&gt;{devices};  \n                        $_[KERNEL]-&gt;alarm_remove($_[HEAP]-&gt;{timers}-&gt;{$_[ARG0]});\n                }\n        }\n);\nsub do_stuff {\n        binmode(STDOUT);\n        my $filter = POE::Filter::Reference-&gt;new();\n\n        sleep(rand 5);\n\n        my %result = (\n                task   =&gt; shift,\n                status =&gt; \"complete.\",\n        );\n\n        my $output = $filter-&gt;put([\\%result]);\n        print @$output;\n}\nPOE::Kernel-&gt;run();\nexit 0;\n</code></pre>\n\n<p>Any advice/strategies would be welcome.</p>\n\n<p>Edit 1: I found out that <code>$_[KERNEL]-&gt;delay</code> wasn't setting timers on a per child basis. I am able to get this to work by using <code>$_[KERNEL]-&gt;delay_set</code> instead. What I am unable to piece together now, is how to restrict the program from running more than 3 processes at a given time. </p>\n\n<p>I am creating the initial timers in <code>_start</code>. As <code>spawn</code> is being called <code>$_[KERNEL]-&gt;delay_adjust</code> should extend the delay by 5 seconds if the child process count is 3 or higher.</p>\n\n<p>Apologies for the time it took to respond to questions, this lives on my work PC and this edit is on Monday, my first day back.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1481923093, "post_id": 41192532, "comment_id": 69584878, "body": "You de-reference an array using the <code>$</code> sigil when you want a single value, not the <code>@</code> sigil. Try <code>foreach my $field ( values %{ $fields[0] } ) { ... }</code>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1481923105, "post_id": 41192532, "comment_id": 69584884, "body": "What are you trying to accomplish? <code>@fields[0]</code> should probably be <code>$fields[0]</code> to get the first element of <code>@fields</code>."}, {"owner": {"reputation": 219, "user_id": 4443546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e190ec77103696a393d612c0af363f2c?s=128&d=identicon&r=PG&f=1", "display_name": "busy", "link": "https://stackoverflow.com/users/4443546/busy"}, "edited": false, "score": 0, "creation_date": 1481923970, "post_id": 41192532, "comment_id": 69585232, "body": "This does not work - looks like <code>@fields[0]</code> is and multi array - as I am getting  <code>Not a HASH reference</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481925093, "post_id": 41192532, "comment_id": 69585602, "body": "Could you please provide the output of <code>use Data::Dumper; print(Dumper(\\@fields));</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481928698, "post_id": 41192532, "comment_id": 69586772, "body": "Can you please show the <i>full</i> output of ikegami&#39;s command?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481929327, "post_id": 41192532, "comment_id": 69586942, "body": "Is that really the full output? It doesn&#39;t start with <code>$VAR1 = [</code>?"}, {"owner": {"reputation": 219, "user_id": 4443546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e190ec77103696a393d612c0af363f2c?s=128&d=identicon&r=PG&f=1", "display_name": "busy", "link": "https://stackoverflow.com/users/4443546/busy"}, "edited": false, "score": 0, "creation_date": 1481929837, "post_id": 41192532, "comment_id": 69587083, "body": "yes, I had to take it via movable type backend, so &#39;@fields[0]&#39; as there is double array on this. so making it &#39;my @fl = $fields[0]&#39; and then using it in &#39;foreach&#39; - but still this does not work."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1481930481, "post_id": 41192532, "comment_id": 69587256, "body": "There&#39;s no hash there, so it doesn&#39;t make sense to use <code>values</code>. Also, what you&#39;ve shown won&#39;t work even on old versions of perl: <code>perl -e&#39;@fields = ([&#39;id&#39;, &#39;entry&#39;, &#39;selection&#39;, &#39;status&#39;]); values @fields[0]&#39;</code> gives the error &quot;Type of arg 1 to values must be hash (not array slice)&quot; on 5.8.8. Can you please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can run on our own machines that demonstrates the problem?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1482026250, "post_id": 41192532, "comment_id": 69608989, "body": "@ThisSuitIsBlackNot newer perls can use values/keys/each on arrays.  values doens&#39;t make much sense, though"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1482027967, "post_id": 41192532, "comment_id": 69609217, "body": "@ysth Wow, I did not realize that, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 7, "last_activity_date": 1481923126, "creation_date": 1481923126, "answer_id": 41192560, "question_id": 41192532, "link": "https://stackoverflow.com/questions/41192532/experimental-values-on-scalar-is-now-forbidden-perl/41192560#41192560", "title": "Experimental values on scalar is now forbidden - perl", "body": "<p>You de-reference an array using the <code>$</code> sigil when you want a single value, not the <code>@</code> sigil. </p>\n\n<p>Try using:</p>\n\n<pre><code>foreach my $field ( values %{ $fields[0] } ) {\n  ....\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": true, "score": 17, "last_activity_date": 1481924050, "creation_date": 1481924050, "answer_id": 41192741, "question_id": 41192532, "link": "https://stackoverflow.com/questions/41192532/experimental-values-on-scalar-is-now-forbidden-perl/41192741#41192741", "title": "Experimental values on scalar is now forbidden - perl", "body": "<p>This was added in Perl 5.14 but removed in 5.23:</p>\n\n<blockquote>\n  <p>Experimental  <code>%s</code> on  scalar is  now forbidden  (F) An  experimental\n  feature  added in  Perl 5.14  allowed  each, keys,  push, pop,  shift,\n  splice, unshift, and values to be  called with a scalar argument. This\n  experiment  is  considered unsuccessful,  and  has  been removed.  The\n  postderef feature may meet your needs better.</p>\n</blockquote>\n\n<p>So if you were  using it on a reference, dereference  it first. There is\nsome confusion arriving here though because of your original code:</p>\n\n<pre><code>foreach my $field ( values @fields[0]) {\n</code></pre>\n\n<p>Here <code>@fields[0]</code>  is actually a slice,  which is valid, and  works. But\nwith strict and warnings you would get something like:</p>\n\n<pre><code>Scalar value @fields[0] better written as $fields[0] at - line x.\n</code></pre>\n\n<p>In fact, if you're accessing an item (like a reference, probably in your\ncase) you should  be using <code>$fields[0]</code> instead. So  first correct that,\nand then dereference to conform to the standard requirement for <code>values</code>\n(being a list.  It accepted a scalar only as  an experimental feature in\nthe past).</p>\n\n<pre><code>foreach my $field ( values %{$fields[0]})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "is_accepted": false, "score": 1, "last_activity_date": 1498670690, "last_edit_date": 1498670690, "creation_date": 1481965945, "answer_id": 41197062, "question_id": 41192532, "link": "https://stackoverflow.com/questions/41192532/experimental-values-on-scalar-is-now-forbidden-perl/41197062#41197062", "title": "Experimental values on scalar is now forbidden - perl", "body": "<p>I've not tested, but based on written definition of an AoA reference, I think:</p>\n\n<pre><code>foreach my $field ( @{ $fields[0] } ) {...}\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 4443546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e190ec77103696a393d612c0af363f2c?s=128&d=identicon&r=PG&f=1", "display_name": "busy", "link": "https://stackoverflow.com/users/4443546/busy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14113, "favorite_count": 1, "accepted_answer_id": 41192741, "answer_count": 3, "score": 6, "last_activity_date": 1498670690, "creation_date": 1481923000, "last_edit_date": 1481929105, "question_id": 41192532, "link": "https://stackoverflow.com/questions/41192532/experimental-values-on-scalar-is-now-forbidden-perl", "title": "Experimental values on scalar is now forbidden - perl", "body": "<p>Experimental values on scalar is now forbidden in old software:</p>\n\n<pre><code>$link = Winners::Links-&gt;new();\nmy @fields = $link-&gt;column_names;     \nforeach my $field ( values @fields[0]) {\n</code></pre>\n\n<p>I tried to make :</p>\n\n<pre><code> foreach my $field ( values {@fields[0]}) {\n\n foreach my $field ( values %{@fields[0]}) {\n\n foreach my $field ( values %@fields[0]) {\n</code></pre>\n\n<p>Non of them works. Any Idea how it should be done? Thx.</p>\n\n<p>Here is more on @fields object definition:</p>\n\n<pre><code>[[\n  'id',\n  'entry',\n  'selection',\n  'status'\n]]\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1481918313, "post_id": 41191573, "comment_id": 69583029, "body": "Thanks, it works! I tried <code>PERL_MM_OPT= perl Makefile.PL INSTALL_BASE=&#47;home&#47;hakon&#47;perl&#47;debug&#47;lib</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1481918351, "post_id": 41191573, "comment_id": 69583043, "body": "Alternatively, <code>PERL_MM_OPT=INSTALL_BASE=&#47;home&#47;hakon&#47;perl&#47;debug&#47;lib perl Makefile.PL</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1481918428, "last_edit_date": 1481918428, "creation_date": 1481917958, "answer_id": 41191573, "question_id": 41191384, "link": "https://stackoverflow.com/questions/41191384/install-base-seems-to-be-ignored-by-makefile-pl/41191573#41191573", "title": "INSTALL_BASE seems to be ignored by Makefile.PL", "body": "<p>You are passing <code>INSTALL_BASE=/home/hakon/perl5</code> to MakeMaker using env var <code>PERL_MM_OPT</code>. Unset it; it's overriding your command-line option.</p>\n\n<p>Alternatively, set the env var instead of passing an argument.</p>\n\n<pre><code>export PERL_MM_OPT='INSTALL_BASE=/home/hakon/perl/debug/lib'\nexport PERL_MB_OPT='--install_base /home/hakon/perl/debug/lib'\ncpan/cpanm/Makefile.PL/Build.PL ...\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 41191573, "answer_count": 1, "score": 0, "last_activity_date": 1481918428, "creation_date": 1481917146, "last_edit_date": 1495541324, "question_id": 41191384, "link": "https://stackoverflow.com/questions/41191384/install-base-seems-to-be-ignored-by-makefile-pl", "title": "INSTALL_BASE seems to be ignored by Makefile.PL", "body": "<p>I am trying out some some custom modifications for the <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow noreferrer\"><code>Template</code></a> module. I downloaded it using:</p>\n\n<pre><code>$ cpan -g Template\n</code></pre>\n\n<p>Next, I wanted to install it into a custom folder such that my debug\nversion did not overwrite the original installation.</p>\n\n<p>I did a quick Google search, and found <a href=\"https://stackoverflow.com/q/540640/2173773\"><code>How can I install a CPAN module into a local directory?</code></a>. According to that answer, I determined that I should be using <code>INSTALL_BASE</code>, for example:</p>\n\n<pre><code>perl Makefile.PL INSTALL_BASE=/home/hakon/perl/debug/lib\nmake\nmake install\n</code></pre>\n\n<p>But this does not work, it still installs (and overwrites) into the <code>PERL5LIB</code> directory where I have the installed the original module using <code>cpanm</code>. My path to \n<code>PERL5LIB</code> is <code>/home/hakon/perl5</code>. When I inspect the <code>Makefile</code> created by <code>Makefile.PL</code>,  I can see that on line 21 there is:</p>\n\n<pre><code>#     INSTALL_BASE =&gt; q[/home/hakon/perl/debug/lib]\n</code></pre>\n\n<p>(note the comment in front), whereas on line 86 I have:</p>\n\n<pre><code>INSTALL_BASE = /home/hakon/perl5\n</code></pre>\n\n<p><a href=\"http://pastebin.com/tTiJGFhU\" rel=\"nofollow noreferrer\">Here</a> is the whole Makefile.</p>\n"}, {"tags": ["perl", "template-toolkit"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1481914320, "post_id": 41190464, "comment_id": 69581125, "body": "<a href=\"https://metacpan.org/pod/Template::FAQ#If-Im-using-TT-to-write-out-a-TT-template-is-there-a-good-way-to-escape-and\" rel=\"nofollow noreferrer\">metacpan.org/pod/&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481915860, "post_id": 41190464, "comment_id": 69581864, "body": "@melpomene: Please enhance that and submit it as an answer."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481914068, "post_id": 41190624, "comment_id": 69580990, "body": "That&#39;s not actually what your link says."}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481914214, "post_id": 41190624, "comment_id": 69581073, "body": "Yes, you&#39;re right - a bit too hasty posting. Will remove."}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481953857, "post_id": 41190624, "comment_id": 69591246, "body": "Undeleted in response to Borodin&#39;s comment on the OP."}], "tags": [], "owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "is_accepted": false, "score": 0, "last_activity_date": 1481913869, "creation_date": 1481913869, "answer_id": 41190624, "question_id": 41190464, "link": "https://stackoverflow.com/questions/41190464/how-to-escape-and-characters-in-tt2/41190624#41190624", "title": "How to escape [ and % characters in TT2", "body": "<p><a href=\"http://search.cpan.org/~abw/Template-Toolkit-2.25/lib/Template/FAQ.pod#If_I%27m_using_TT_to_write_out_a_TT_template,_is_there_a_good_way_to_escape_[%25_and_%25]?\" rel=\"nofollow noreferrer\">If I'm using TT to write out a TT template, is there a good way to escape [% and %]?</a></p>\n\n<p>So <code>something[\\%0d]</code> should work.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1481917244, "last_edit_date": 1481917244, "creation_date": 1481914206, "answer_id": 41190704, "question_id": 41190464, "link": "https://stackoverflow.com/questions/41190464/how-to-escape-and-characters-in-tt2/41190704#41190704", "title": "How to escape [ and % characters in TT2", "body": "<p>You could use</p>\n\n<pre><code>[% \"[%\" %]\n</code></pre>\n\n<p>in lieu of</p>\n\n<pre><code>[%\n</code></pre>\n\n<p>It would look like this:</p>\n\n<pre><code>$ tpage &lt;&lt;&lt;'slv_agent_cfg[% \"[%\" %]0d]'\nslv_agent_cfg[%0d]\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$ tpage &lt;&lt;&lt;'slv_agent_cfg[% \"[%0d]\" %]'\nslv_agent_cfg[%0d]\n</code></pre>\n\n<hr>\n\n<p>A shorter solution would be to use</p>\n\n<pre><code>[[%%]%\n</code></pre>\n\n<p>in lieu of</p>\n\n<pre><code>[%\n</code></pre>\n\n<p>It would look like this:</p>\n\n<pre><code>$ tpage &lt;&lt;&lt;'slv_agent_cfg[[%%]%0d]'\nslv_agent_cfg[%0d]\n</code></pre>\n\n<hr>\n\n<p>If you find yourself needing to escape too many instances, you could switch the <a href=\"http://search.cpan.org/perldoc?Template::Manual::Config#TAG_STYLE\" rel=\"nofollow noreferrer\">tag style</a>.</p>\n\n<hr>\n\n<p>Finally, you could alter the program to avoid the sequence in the first place. For example, you might be able to replace</p>\n\n<pre><code>\"slv_agent_cfg[%0d]\"\n</code></pre>\n\n<p>with</p>\n\n<pre><code>\"slv_agent_cfg[\\%0d]\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{\"slv_agent_cfg[\",\"%0d]\"}\n</code></pre>\n\n<p>I don't know Verilog, so the specifics may not be correct, but you get the idea.</p>\n"}], "owner": {"reputation": 747, "user_id": 590222, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fba5be60a41679337637cdfba23bb4b1?s=128&d=identicon&r=PG", "display_name": "justrajdeep", "link": "https://stackoverflow.com/users/590222/justrajdeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 41190704, "answer_count": 2, "score": 1, "last_activity_date": 1481917244, "creation_date": 1481913255, "question_id": 41190464, "link": "https://stackoverflow.com/questions/41190464/how-to-escape-and-characters-in-tt2", "title": "How to escape [ and % characters in TT2", "body": "<p>I am using <a href=\"http://template-toolkit.org/\" rel=\"nofollow noreferrer\">TT2</a>. I want to print <code>something[%0d]</code> from my template file. But i cannot seem to find any escape character for template toolkit usage.</p>\n\n<p>Any suggestions as to how to skip <code>%</code> and <code>[</code> to be processed under <code>TT</code>?</p>\n\n<p>The exact line is:</p>\n\n<pre><code>printer.print_object(.name($sformatf(\"[% item %]_slv_agent_cfg[%0d]:\", i)), .value([% item %]_slv_agent_cfg[i]));\n</code></pre>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["linux", "perl", "windows-10", "windows-subsystem-for-linux"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1481908126, "post_id": 41189089, "comment_id": 69578317, "body": "Probably this issue: <a href=\"https://github.com/Microsoft/BashOnWindows/issues/186\" rel=\"nofollow noreferrer\">github.com/Microsoft/BashOnWindows/issues/186</a>"}, {"owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "edited": false, "score": 0, "creation_date": 1481908153, "post_id": 41189089, "comment_id": 69578335, "body": "yes! I&#39;ve just found it as well"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1481908179, "post_id": 41189089, "comment_id": 69578345, "body": "@VasilyA By the way, you can just do <code>cpan LWP</code>. No need to mess around with <code>perl -MCPAN -e ...</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481908217, "post_id": 41189089, "comment_id": 69578356, "body": "@melpomene oh, true. I missed that line."}, {"owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "edited": false, "score": 0, "creation_date": 1481908489, "post_id": 41189089, "comment_id": 69578511, "body": "following that github post, I&#39;ve edited <code>&#47;usr&#47;lib&#47;perl&#47;5.18.2&#47;Config.pm</code> to have <code>dont_use_nlink =&gt; 1,</code>, now it gives another error message. I will update my post now"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481909259, "post_id": 41189089, "comment_id": 69578934, "body": "@melpomene, Would you care to write up an answer?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481909274, "post_id": 41189089, "comment_id": 69578944, "body": "@Vasily A, If you have a new problem, ask it as a new question."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481909378, "post_id": 41189089, "comment_id": 69579001, "body": "@ikegami I don&#39;t feel competent enough for that. I&#39;ve never used WSL, and according to the link the bug is closed, so I&#39;m not sure what to recommend."}, {"owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "edited": false, "score": 0, "creation_date": 1481909428, "post_id": 41189089, "comment_id": 69579018, "body": "Finally it worked out! I&#39;ve added an answer, will be grateful if someone can explain what does the last line (<code>eval</code>) do."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1481909453, "post_id": 41189567, "comment_id": 69579031, "body": "That third command is for using local::lib, which is unrelated to the issue at hand."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1481909542, "post_id": 41189567, "comment_id": 69579062, "body": "The first command installs <code>local::lib</code>, <code>cpanm</code>, and some build tools (make, gcc, etc). It&#39;s not directly related either."}, {"owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "edited": false, "score": 0, "creation_date": 1481909594, "post_id": 41189567, "comment_id": 69579089, "body": "well, just editing <code>Config.pm</code> did not work for me, I only succeeded after running all three commands."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481909690, "post_id": 41189567, "comment_id": 69579140, "body": "@VasilyA What error did you get after editing Config.pm?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481910882, "post_id": 41189567, "comment_id": 69579629, "body": "You might need/want them for unrelated reasons."}, {"owner": {"reputation": 7981, "user_id": 173497, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/88cc632c2ca44292d6c8fd6688381402?s=128&d=identicon&r=PG", "display_name": "Kenny Evitt", "link": "https://stackoverflow.com/users/173497/kenny-evitt"}, "edited": false, "score": 0, "creation_date": 1539964063, "post_id": 41189567, "comment_id": 92704171, "body": "The first command failed for me just now \u2013 <code>E: Unable to locate package ... liblocal-lib-perl ... cpanminus</code> for <code>Ubuntu 18.04.1 LTS</code> (according to <code>sudo lsb_release -a</code>)."}], "tags": [], "owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "is_accepted": true, "score": 5, "last_activity_date": 1481910190, "last_edit_date": 1481910190, "creation_date": 1481909377, "answer_id": 41189567, "question_id": 41189089, "link": "https://stackoverflow.com/questions/41189089/installing-perl-modules-in-windows-subsystem-for-linux/41189567#41189567", "title": "Installing perl modules in [Windows Subsystem for Linux]", "body": "<p>The solution found at <a href=\"https://github.com/Microsoft/BashOnWindows/issues/186#issuecomment-240591395\" rel=\"noreferrer\">github.com/Microsoft/BashOnWindows/issues/186</a>:<br>\n1. run <code>sudo apt-get install liblocal-lib-perl cpanminus build-essential</code><br>\n2. edit <code>/usr/lib/perl/5.18.2/Config.pm</code> (around line 94) to have <code>dont_use_nlink =&gt; 1</code><br>\n3. <code>eval \"$(perl -I$HOME/perl5/lib/perl5 -Mlocal::lib)\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 7, "last_activity_date": 1486055468, "last_edit_date": 1486055468, "creation_date": 1481910605, "answer_id": 41189841, "question_id": 41189089, "link": "https://stackoverflow.com/questions/41189089/installing-perl-modules-in-windows-subsystem-for-linux/41189841#41189841", "title": "Installing perl modules in [Windows Subsystem for Linux]", "body": "<p>On unix file systems, a directory's <code>.</code> is a hardlink to itself, and a directory's <code>..</code> is a hardlink to its parent directory. So when you <code>stat</code> a directory, the link count returned by <code>stat</code> will be at least <code>1 (name) + 1 (.) + $num_sub_dirs (..)</code>.</p>\n\n<pre><code>$ ls -ld .\ndrwx------ 5 ikegami ikegami 46 Dec 16 12:03 .    # 5 = Could have up to three subdirs\n\n$ ls -l .\ntotal 0\ndrwx------ 2 ikegami ikegami 10 Dec 16 12:03 a    # 2 = No subdirs\ndrwx------ 3 ikegami ikegami 24 Dec 16 12:03 b    # 3 = Could have up to one subdir\ndrwx------ 2 ikegami ikegami 10 Dec 16 12:03 c    # 2 = No subdirs\n</code></pre>\n\n<p>File::Find relies on that information to optimize itself when possible.</p>\n\n<p>Perl and File::Find know this isn't the case for the FAT and NTFS file systems, so the optimization is disabled on Windows. However, VSL looks like a Linux system to them, so they incorrectly assume they are dealing with a unix file system.</p>\n\n<p>The best fix is to edit the file named by the output of the following command:</p>\n\n<pre><code>perl -MConfig -e'CORE::say $INC{\"Config.pm\"}'\n</code></pre>\n\n<p>Change</p>\n\n<pre><code>dont_use_nlink =&gt; undef\n</code></pre>\n\n<p>to</p>\n\n<pre><code>dont_use_nlink =&gt; 1\n</code></pre>\n\n<p>You can verify the change using</p>\n\n<pre><code>$ perl -V:dont_use_nlink\ndont_use_nlink='1';\n</code></pre>\n\n<hr>\n\n<p>This answer is based on <a href=\"https://github.com/Microsoft/BashOnWindows/issues/186\" rel=\"nofollow noreferrer\">this bug report</a>.</p>\n"}], "owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3918, "favorite_count": 0, "accepted_answer_id": 41189567, "answer_count": 2, "score": 5, "last_activity_date": 1486055468, "creation_date": 1481907517, "last_edit_date": 1481913236, "question_id": 41189089, "link": "https://stackoverflow.com/questions/41189089/installing-perl-modules-in-windows-subsystem-for-linux", "title": "Installing perl modules in [Windows Subsystem for Linux]", "body": "<p>I would like to use a Perl script in Linux environment under Windows 10 (<a href=\"https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux\" rel=\"nofollow noreferrer\">WSL</a>). I have enabled WSL, installed compilers (<code>gcc</code> and <code>make</code>), executed <code>sudo apt-get install build-essential</code>. Perl is working and I can run simple scripts. Problems start when I try to install a perl module. For example, I was trying to add <code>LWP</code> by running <code>perl -MCPAN -e'install \"LWP\"'</code>. It gives lots of error/warning messages, starting with <code>Warning: the following files are missing in your kit:</code>. The full output is too big to paste it here, so I have to put it elsewhere: <a href=\"http://pastebin.com/RRRedwbG\" rel=\"nofollow noreferrer\">http://pastebin.com/RRRedwbG</a>. In short, no matter the package, all the .pm and .t files are deemed to be missing.</p>\n"}, {"tags": ["perl", "firefox", "ssl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481906581, "post_id": 41188749, "comment_id": 69577538, "body": "So many times we see <b><i>doesn&#39;t work</i></b> as an explanation of the problem, and I don&#39;t understand why. No one ever called their service station and asked <i>&quot;My car doesn&#39;t work; what do you think is wrong?&quot;</i> So why does software get treated the same way? Could you also say what you mean by <i>&quot;it fails because of Firefox certificate dialog&quot;</i>?"}, {"owner": {"reputation": 223, "user_id": 3756659, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7ced503630a8fe8e719680a6443fe9e5?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian_Z071", "link": "https://stackoverflow.com/users/3756659/fabian-z071"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481907222, "post_id": 41188749, "comment_id": 69577850, "body": "Firefox will show a warning page for an unknown self signed certificate, This page leads to webdriver error: Error while executing command: get: An unknown server-side error occurred while processing the command.: Reached error page: about:certerror?e=nssBadCert&amp;u=https://..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481914054, "post_id": 41188749, "comment_id": 69580986, "body": "And what call call does your software make to raise the error, and what is the return value and error string?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1481915653, "creation_date": 1481915653, "answer_id": 41191040, "question_id": 41188749, "link": "https://stackoverflow.com/questions/41188749/selenium-webdriver-use-existing-firefox-profile/41191040#41191040", "title": "Selenium/Webdriver: use existing Firefox profile?", "body": "<p>I have no experience using <code>Selenium::Firefox::Profile</code>, but looking at <a href=\"https://metacpan.org/source/GEMPESAW/Selenium-Remote-Driver-1.00/lib/Selenium/Firefox/Profile.pm\" rel=\"nofollow noreferrer\"><strong>the source</strong></a>, it doesn't offer any way of using the settings of an existing profile, but will always use Firefox's default settings, and allow changes to be made to that by calls to <code>set_preference</code> and <code>set_boolean_preference</code></p>\n\n<p>What is clear is the the <code>new</code> constructor expects only a hash of parameters, and the only significant element of that hash has the key <code>profile_dir</code></p>\n\n<p>That means that your call <code>Selenium::Firefox::Profile-&gt;new('default-1480098066829')</code> will have resulted in</p>\n\n<blockquote>\n  <p>odd number of elements in hash assignment</p>\n</blockquote>\n\n<p>which you should have reported when you asked for help. If you didn't see that message then you don't have <code>use warnings</code> in place, which would be pretty shabby of you</p>\n\n<p>You could try <code>Selenium::Firefox::Profile-&gt;new( profile_dir =&gt; '&lt;my Firefox profile folder&gt;' )</code>, but I would be surprised if that changes much. By default, the module uses <code>File::Temp</code> to create a new temporary folder and puts the new profile in there</p>\n\n<p>You will probably have to find the names of the options that are missing from the default profile and add them explicitly, unless someone more knowledgeable than me has a better idea</p>\n"}], "owner": {"reputation": 223, "user_id": 3756659, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7ced503630a8fe8e719680a6443fe9e5?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian_Z071", "link": "https://stackoverflow.com/users/3756659/fabian-z071"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 412, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481915653, "creation_date": 1481906168, "last_edit_date": 1481906442, "question_id": 41188749, "link": "https://stackoverflow.com/questions/41188749/selenium-webdriver-use-existing-firefox-profile", "title": "Selenium/Webdriver: use existing Firefox profile?", "body": "<p>I use Perl and Selenium / Webdriver to write user interface tests. I know that I can use the <a href=\"https://metacpan.org/pod/Selenium::Firefox::Profile\" rel=\"nofollow noreferrer\"><code>Selenium::Firefox::Profile</code></a> module to create profiles for Firefox.</p>\n\n<p>I would like to use my default profile, or one created with Firefox profile manager. Is it possible to use an existing Firefox profile for tests? </p>\n\n<p>This doesn't work:</p>\n\n<pre><code>my $ff_profile = Selenium::Firefox::Profile-&gt;new('default-1480098066829');\n\nmy $driver = Selenium::Remote::Driver-&gt;new(\n    'remote_server_addr' =&gt; 'localhost',\n    'browser_name'       =&gt; 'firefox',\n    'firefox_profile'    =&gt; $ff_profile,\n    'port'               =&gt; '5555',\n    'marionette_enabled' =&gt; 1,\n);\n</code></pre>\n\n<p>My default profile accepts a self-signed SSL certificate for an intranet page which must be tested. When Webdriver opens the page with a new profile, it fails because of Firefox certificate dialog.</p>\n\n<p>If I cannot use my default profile, is there some way to add this certificate to Webdriver's new profile?</p>\n"}, {"tags": ["perl", "outlook", "office365", "imap", "mail-server"], "comments": [{"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481896328, "post_id": 41184993, "comment_id": 69571441, "body": "Maybe the message returned by the module is unclear? You could try to split: create the object first, then connect, then authenticate. In addition, if your already have the object, the module documentation tells that you can access to more errors."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481896923, "post_id": 41184993, "comment_id": 69571808, "body": "There might be something: when I use your code without the username and password, I can see the &quot;Read:   * OK The Microsoft Exchange IMAP4 service is ready. &quot; line. Are you sure of your credentials?"}, {"owner": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 0, "creation_date": 1481901792, "post_id": 41184993, "comment_id": 69574796, "body": "I&#39;m not sure why you can&#39;t connect, but the <code>starttls</code> call is redundant and will cause an error as well: your connection is already secure."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481903372, "post_id": 41184993, "comment_id": 69575732, "body": "It looks like it fails in <code>IO::Socket::SSL-&gt;new</code>. Please run your code with <code>perl -MIO::Socket::SSL=debug4</code> to get more details what goes wrong and add these to the question. Also it might help if you add the versions of the modules (IO::Socket::SSL, Mail::IMAPClient) and of Perl to the question."}, {"owner": {"reputation": 13, "user_id": 5206591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0m9nEAbde9c/AAAAAAAAAAI/AAAAAAAAACQ/EI7oVutBwlk/photo.jpg?sz=128", "display_name": "Rusel Fichi", "link": "https://stackoverflow.com/users/5206591/rusel-fichi"}, "edited": false, "score": 0, "creation_date": 1482139998, "post_id": 41184993, "comment_id": 69637455, "body": "I tried different ways of how to connect and this was the more logical and recomended way, i have change the order of connection and authentication and got the same result, i didnt add starttls but i still got the same result, i activate debug4 to the IO::Socket::SSL Module but i dont see any new output. Module Versions IO::Socket::SSL = 2.039 ,  Mail::IMAPClient = 3.38."}], "answers": [{"comments": [{"owner": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 1, "creation_date": 1481901732, "post_id": 41186478, "comment_id": 69574766, "body": "You can fix the error here by removing the <code>starttls</code> call which is redundant and unnecessary."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 0, "creation_date": 1481904255, "post_id": 41186478, "comment_id": 69576225, "body": "Thanks! Do you mean that, for this module, setting the Ssl option is implcitely using TLS? that would make sense as SSL is considered obsolete."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481922039, "post_id": 41186478, "comment_id": 69584512, "body": "I doubt that this solves the OP problem. According to the error message it is failing inside the <code>Mail::IMAPClient::connect</code> called from <code>Mail::IMAPClient-&gt;new</code> already, i.e. the (wrong) starttls is never reached. Looking at the source of <code>connect</code> it fails in <code>IO::Socket::SSL-&gt;new</code> but unfortunately Mail::IMAPClient does not propagate the exact errors from this stage to the user."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481923887, "post_id": 41186478, "comment_id": 69585197, "body": "Well, then I&#39;m dry. I hope someone find what the problem is. thanks for your input."}, {"owner": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 0, "creation_date": 1482001515, "post_id": 41186478, "comment_id": 69603328, "body": "Yes, setting SSL begins the connection as SSL/TLS.  StartTLS upgrades an existing connection."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1482006911, "post_id": 41186478, "comment_id": 69604753, "body": "You and Stefen Ullrich don&#39;t seem to agree."}, {"owner": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 0, "creation_date": 1482073121, "post_id": 41186478, "comment_id": 69617803, "body": "I&#39;m referring to your solution; the original poster is having some other issue before getting here."}, {"owner": {"reputation": 13, "user_id": 5206591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0m9nEAbde9c/AAAAAAAAAAI/AAAAAAAAACQ/EI7oVutBwlk/photo.jpg?sz=128", "display_name": "Rusel Fichi", "link": "https://stackoverflow.com/users/5206591/rusel-fichi"}, "edited": false, "score": 1, "creation_date": 1482141584, "post_id": 41186478, "comment_id": 69638459, "body": "I have tried removing <b>starttls</b> but it didnt work @DavidVerdin, it seems that the only way to fix it is to try upgrading the connection with <b>TLS</b> of somehow..."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1482142928, "post_id": 41186478, "comment_id": 69639277, "body": "Oh. You did run my exact script and it did not work?"}, {"owner": {"reputation": 13, "user_id": 5206591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0m9nEAbde9c/AAAAAAAAAAI/AAAAAAAAACQ/EI7oVutBwlk/photo.jpg?sz=128", "display_name": "Rusel Fichi", "link": "https://stackoverflow.com/users/5206591/rusel-fichi"}, "edited": false, "score": 1, "creation_date": 1482164623, "post_id": 41186478, "comment_id": 69652674, "body": "No, It did not work, i checked my credencials directly on outlook and it works fine, i really dont know what else to do!"}], "tags": [], "owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "is_accepted": false, "score": 0, "last_activity_date": 1481904118, "last_edit_date": 1481904118, "creation_date": 1481898362, "answer_id": 41186478, "question_id": 41184993, "link": "https://stackoverflow.com/questions/41184993/unable-to-connect-to-outlook-office365-com-for-processing-emails-with-perl-modul/41186478#41186478", "title": "Unable to connect to outlook.office365.com for processing emails with Perl Module Mail::IMAPClient", "body": "<p>EDIT: thanks to Max, finally a solution: removing startls allows to reach the login step.</p>\n\n<pre><code>use Mail::IMAPClient;\nuse Email::MIME;\n\nmy $username = 'user';\nmy $password = 'pass';\nmy $server = 'outlook.office365.com';\n\n\nprint \"Anon connect to IMAP\\n\";\nmy $imap = Mail::IMAPClient-&gt;new(\n    Server =&gt; $server,\n    Port =&gt; 993,\n    Ssl =&gt; 1,\n    Authmechanism =&gt; \"PLAIN\",\n    Debug =&gt; 1,\n)or die \"Cannot connect to $mailhost as $username: $@\";\n\n$imap-&gt;User($username);\n$imap-&gt;Password($password);\n\nprint \"Logging In\\n\";\n$imap-&gt;login() or die \"imap login failed: $@\\n\";\n</code></pre>\n\n<p>On my machine, it outputs this: </p>\n\n<pre><code>Anon connect to IMAP\nStarted at Fri Dec 16 16:59:31 2016\nUsing Mail::IMAPClient version 3.38 on perl 5.022001\nRead:   * OK The Microsoft Exchange IMAP4 service is ready. [RABCADYAUABSADAAMgAwADEAQwBBADAAMAAyADcALgBlAHUAcgBwAHIAZAAwADIALgBwAHIAbwBkAC4AbwB1AHQAbABvAG8AawAuAGMAbwBtAA==]\nupgrading connection to TLS \nSending: 1 CAPABILITY\nSent 14 bytes\nRead:   * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\n        1 OK CAPABILITY completed.\nLogging In\nSending: 2 AUTHENTICATE PLAIN\nSent 22 bytes\nRead:   +\nSending: [Redact: Count=2 Showcredentials=OFF]\nSent 18 bytes\nRead:   2 NO AUTHENTICATE failed.\nERROR: 2 NO AUTHENTICATE failed. at /usr/local/share/perl/5.22.1/Mail/IMAPClient.pm line 3261.\n        Mail::IMAPClient::authenticate(Mail::IMAPClient=HASH(0x14f6a30), \"PLAIN\", undef) called at /usr/local/share/perl/5.22.1/Mail/IMAPClient.pm line 562\n        Mail::IMAPClient::login(Mail::IMAPClient=HASH(0x14f6a30)) called at imapt.pl line 30\nimap login failed: 2 NO AUTHENTICATE failed.\n</code></pre>\n\n<p>Which is normal, as I don't have a valid account.</p>\n"}], "owner": {"reputation": 13, "user_id": 5206591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0m9nEAbde9c/AAAAAAAAAAI/AAAAAAAAACQ/EI7oVutBwlk/photo.jpg?sz=128", "display_name": "Rusel Fichi", "link": "https://stackoverflow.com/users/5206591/rusel-fichi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2610, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481904118, "creation_date": 1481893209, "last_edit_date": 1481895921, "question_id": 41184993, "link": "https://stackoverflow.com/questions/41184993/unable-to-connect-to-outlook-office365-com-for-processing-emails-with-perl-modul", "title": "Unable to connect to outlook.office365.com for processing emails with Perl Module Mail::IMAPClient", "body": "<p>I have searched for days but finally run out of options, one of my clients move its emails accounts to <strong>\"outlook.office365.com\"</strong>, now all my perl scripts fails because they have a different set of configurations on their platform, so i had to rewrite all of my perl scripts to make everything work again, i was aible to send emails with the module <strong>\"Email::Sender::Transport::SMTP::TLS\"</strong> but i didnt had the same luck using my old modules to read and proccess emails such as <strong>\"Mail::POP3Client\"</strong>.</p>\n\n<p>This is the code a try:</p>\n\n<pre><code>use Mail::IMAPClient;\nuse Email::MIME;\n\nmy $username = 'user';\nmy $password = 'pass';\nmy $server = 'outlook.office365.com';\n\n\nprint \"Anon connect to IMAP\\n\";\nmy $imap = Mail::IMAPClient-&gt;new(\n    Server =&gt; $server,\n    Username =&gt; $username,\n    Password =&gt; $password,\n    Port =&gt; 993,\n    Ssl =&gt; 1,\n    Authmechanism =&gt; \"PLAIN\",\n    Debug =&gt; 1,\n)or die \"Cannot connect to $mailhost as $username: $@\";\n\nprint \"upgrading connection to TLS \\n\";\n$imap-&gt;starttls\n(\n    SSL_verify_mode =&gt; 0,\n) or die \"starttls failed: $@\\n\";\n\n$imap-&gt;User($username);\n$imap-&gt;Password($password);\n\nprint \"Logging In\\n\";\n$imap-&gt;login() or die \"imap login failed: $@\\n\";\n</code></pre>\n\n<p>This is a solution that i have found on stackoverflow but it doesnt work for me, i checked my firewall configuration and everything is ok.</p>\n\n<p>This is the output:</p>\n\n<pre><code>Anon connect to IMAP\nStarted at Fri Dec 16 13:54:25 2016\nUsing Mail::IMAPClient version 3.38 on perl 5.022001\nConnecting with IO::Socket::SSL PeerAddr outlook.office365.com PeerPort 993 Proto tcp Timeout 600 Debug 1\nERROR: Unable to connect to outlook.office365.com:  at C:/Perl64/site/lib/Mail/IMAPClient.pm line 370.\n        Mail::IMAPClient::connect(Mail::IMAPClient=HASH(0xcac170)) called at C:/Perl64/site/lib/Mail/IMAPClient.pm line 314\n        Mail::IMAPClient::new(\"Mail::IMAPClient\", \"Server\", \"outlook.office365.com\", \"Username\", \"user\", \"Password\", \"pass\", \"Port\", 993, ...) called at dont.pl line 10\nCannot connect to  as user: Unable to connect to outlook.office365.com:  at dont.pl line 10.\n</code></pre>\n\n<p>To check my SSL connection:</p>\n\n<pre><code>openssl s_client -connect outlook.office365.com:993\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>* OK The Microsoft Exchange IMAP4 service is ready. \n</code></pre>\n\n<p>So any ideas?, what is wrong with this code?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1481894012, "post_id": 41184590, "comment_id": 69570069, "body": "What if your string is <code>\\\\$name</code>?"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1481894744, "post_id": 41184590, "comment_id": 69570501, "body": "Change the regex to <code>(?:^|[^\\\\])\\K\\$([a-z]+)</code>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481894806, "post_id": 41184590, "comment_id": 69570545, "body": "@shawnhcorey: No, there must be either start of string or <code>\\</code> char before <code>$</code>. You suggest start of string and any char <i>other than</i> <code>\\</code> before <code>$</code>. The original issue is that a character class is used instead of a grouping construct, and that issue is addressed in my answer below."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1481896036, "post_id": 41184590, "comment_id": 69571266, "body": "@WiktorStribi\u017cew: you should read the question one more time (in particular the first example that is &quot;ok&quot;). I think the word &quot;character&quot; in the title doesn&#39;t stand for a backslash, but for a character that isn&#39;t a backslash."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1481896105, "post_id": 41184590, "comment_id": 69571306, "body": "@CasimiretHippolyte: Even if that is so amd the title is not aligned with what OP tried, it makes no difference: the point is to use a grouping construct. Or alternation inside a positive lookbehind, but since <code>\\K</code> is used, it is all the same. But to account for those who understand the question that way, I added an update to my (already accepted) answer below."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1481909671, "post_id": 41184590, "comment_id": 69579127, "body": "@WiktorStribi\u017cew No, the first example by the OP has <code>$name</code> replaced but <code>\\$escape</code> <b>not replaced</b>, which is what my regex does. What is not clear if the OP only allows backslashes before a dollar sign. If he wants backslashes before other characters, the regex has to be changed."}], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 0, "last_activity_date": 1525862908, "last_edit_date": 1525862908, "creation_date": 1481891966, "answer_id": 41184635, "question_id": 41184590, "link": "https://stackoverflow.com/questions/41184590/how-can-i-match-start-of-the-line-or-a-character-in-perl/41184635#41184635", "title": "How can I match start of the line or a character in Perl?", "body": "<blockquote>\n  <p>How can I match <em>start of the line or a character</em> in Perl?</p>\n</blockquote>\n\n<p>The circumflex inside a character class loses the meaning of the start-of-string anchor. Instead of a character class, you need to use a non-capturing group:</p>\n\n<pre><code>$str =~ s/(?:^|\\\\)\\K\\$([a-z]+)/Bob/g;\n          ^^^^^^^^\n</code></pre>\n\n<p>This <code>(?:^|\\\\)</code> will either assert the position at the string start or will match <code>\\</code>.</p>\n\n<p>For those who understand the question as <em>match only if the <code>$</code> symbol is not escaped</em>, the solution will be </p>\n\n<pre><code>$str =~ s/(?&lt;!\\\\)(?:\\\\\\\\)*\\K\\$([a-z]+)/Bob/g;\n</code></pre>\n\n<p>Here, the <code>(?&lt;!\\\\)</code> zero-width assertion is a negative lookbehind that fails the match if <code>$</code> is preceded with <code>\\</code> symbol and <code>(?:\\\\\\\\)*</code> will consume any escaped backslashes (if present) before <code>$</code> while <code>\\K</code> match reset operator will discard all these backslashes from the match value.</p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1481896534, "creation_date": 1481896534, "answer_id": 41185989, "question_id": 41184590, "link": "https://stackoverflow.com/questions/41184590/how-can-i-match-start-of-the-line-or-a-character-in-perl/41185989#41185989", "title": "How can I match start of the line or a character in Perl?", "body": "<p>If your goal is to match <code>$</code> that are not escaped by a backslash, you can change your pattern to:</p>\n\n<pre><code>(?&lt;!\\\\)(?:\\\\{2})*\\K\\$([a-z]+)\n</code></pre>\n\n<p>This way you don't have to use an alternation since the negative lookbehind matches a position not preceded by a backslash (that includes the start of the string).</p>\n\n<p>In addition, <code>(?:\\\\{2})*</code> prevents to miss cases when a backslash before a <code>$</code> is itself escaped with an other backslash. For example: <code>\\\\$name</code></p>\n"}], "owner": {"reputation": 49, "user_id": 4770696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b887ecdb54cd7c4119a7424b68120edd?s=128&d=identicon&r=PG", "display_name": "user9247", "link": "https://stackoverflow.com/users/4770696/user9247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 725, "favorite_count": 0, "accepted_answer_id": 41184635, "answer_count": 2, "score": 2, "last_activity_date": 1525862908, "creation_date": 1481891810, "question_id": 41184590, "link": "https://stackoverflow.com/questions/41184590/how-can-i-match-start-of-the-line-or-a-character-in-perl", "title": "How can I match start of the line or a character in Perl?", "body": "<p>For example, this is ok:</p>\n\n<pre><code>my $str = 'I am $name. \\$escape';\n$str =~ s/[^\\\\]\\K\\$([a-z]+)/Bob/g;\nprint $str; # 'I am Bob. \\$escape';\n</code></pre>\n\n<p>But below is not what I was expected.</p>\n\n<pre><code>my $str = '$name';\n$str =~ s/[^\\\\]\\K\\$([a-z]+)/Bob/g;\nprint $str; # '$name';\n</code></pre>\n\n<p>How can I correct this?</p>\n"}, {"tags": ["perl", "hash", "reference"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481895939, "post_id": 41183984, "comment_id": 69571194, "body": "I would also urge - don&#39;t use Storable to store stuff. There&#39;s open formats that are generally better because they&#39;re portable, like JSON or YAML. (XML perhaps, but only if you actually need the functionality of XML, which is overkill for <i>most</i> applications)"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481897190, "post_id": 41183984, "comment_id": 69571971, "body": "@Sobrique The only goal of the stored hash is to be used in another script. Even in such a case, do you think it is better to encode as JSON in the first script, and then read JSON in a new hash in the second script? I don&#39;t know a lot about storage and efficiency, but speed wise this seems not very efficient. The data will never be used outside these two scripts, so I don&#39;t think a universal data type is required. What do you think, considering efficiency of the scripts?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481897846, "post_id": 41183984, "comment_id": 69572323, "body": "Unless your data is huge, it makes marginal amounts of difference. If your data is huge, then dumping the data structure this way is not a great plan anyway. For interoperability, support and diagnostics, the human readable options IMO are just better for style reasons."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1481900368, "post_id": 41183984, "comment_id": 69573937, "body": "I&#39;m in agreement with @Sobrique ...although <code>Storable</code> is great, I have run into issues in the past across different versions of the distribution. <code>JSON</code> is just as easy or easier to use, and it&#39;s format is a very consistent standard. It&#39;s also cross-language. Also, &quot;The data will never be used outside these two scripts&quot;... I always assume the opposite, just to be safe."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481901196, "post_id": 41183984, "comment_id": 69574435, "body": "Re &quot;<i>but speed wise this seems not very efficient</i>&quot;, I don&#39;t see why it wouldn&#39;t be efficient. JSON is extremely simple to parse."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481902646, "post_id": 41183984, "comment_id": 69575314, "body": "@ikegami I thought that because of the sheer size the encoding / parsing process would take up too much time. But because so many of you are suggesting this, I&#39;ll be using JSON. Thanks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481904158, "post_id": 41183984, "comment_id": 69576175, "body": "What size are you talking about? The parser would be extremely tiny due to the simplicity I just mentioned. (YAML would be another good choice if JSON is too limiting.)"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481904592, "post_id": 41183984, "comment_id": 69576421, "body": "@ikegami The data I&#39;m working with would result in a hash of around 17 million keys. Luckily I&#39;ve found a way to split this up in smaller chunks that still make sense in the global data structure."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481904715, "post_id": 41183984, "comment_id": 69576490, "body": "I don&#39;t see how that&#39;s relevant to what we were discussing."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481927818, "post_id": 41183984, "comment_id": 69586515, "body": "@ikegami You asked &#39;what size are you talking about&#39;, well, a hash of around 17 million keys."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481929638, "post_id": 41183984, "comment_id": 69587025, "body": "Yes, and I don&#39;t know why you think that has anything to do with efficiency"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481964243, "post_id": 41183984, "comment_id": 69593137, "body": "@ikegami The larger the hash, the longer it&#39;d take to encode/decode it to/from JSON, no? Chunking it up makes it (in the whole picture) more manageable and efficient for me."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481992880, "post_id": 41183984, "comment_id": 69600825, "body": "What are you talking about??? First of all, we were trying to appease your reservations about using JSON. If JSON is faster than Storable, then the larger the hash, the more time you save by switching to JSON. Secondly, why do you pretend were talking about chunking? What does that even mean? If you&#39;re planning on splitting the data across multiple files, then you will be <i>slowing</i> things down by adding overhead."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1482002205, "post_id": 41183984, "comment_id": 69603504, "body": "@ikegami Calm down, I think you misinterpreted what I was trying to convey. You explained that JSON would be a good choice, and I accepted that as I said. I will be using JSON. However, due to the size of the hash (17 million+) and the structure of my input data (multiple files), I&#39;ll be outputting JSON for each file. Because I&#39;ll need those input files and those JSON files both in script 2, it&#39;s easy to have a 1-on-1 relation between JSON and input. I&#39;ll take the overhead, in turn for easier data management."}], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1481891450, "post_id": 41184317, "comment_id": 69568582, "body": "Well, no. The first part doesn&#39;t compile because I left out a bunch - as I clearly stated. It seemed to me (correctly so) that the error was in the code that I showed, which has nothing to do with any other code I could&#39;ve provided. The problem was fixed by using <code>:raw</code>. Thanks. (Not sure why the question desever a down vote though.) Network store wasn&#39;t necessary indeed. But I do need <code>store_fd</code> because I am writing to the (already opened) file in multiple places in the script. At least that&#39;s how I understand that option."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1481892170, "post_id": 41184317, "comment_id": 69569041, "body": "@BramVanroy: One of the reason&#39;s to vote to close a question is &quot;Questions seeking debugging help (<b>&quot;why isn&#39;t this code working?&quot;</b>) must include the desired behavior, a <i>specific problem or error and the shortest code necessary</i> to reproduce it <b>in the question itself</b>.&quot; (Emphasis original.) So you are in line for a close vote instead of just a down vote. You had no idea where the issue was, and you should have published a working example that displayed the same issue. Please also read <a href=\"http://stackoverflow.com/questions/how-to-ask\"><i>How do I ask a good question?</i></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 2, "creation_date": 1481892867, "post_id": 41184317, "comment_id": 69569418, "body": "@BramVanroy:  <i>&quot;I do need store_fd because I am writing to the (already opened) file in multiple places in the script&quot;</i>  In that case you need to use <code>fd_retrieve</code> instead. <code>retrieve</code> will repeatedly fetch the first data structure stored."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481920267, "post_id": 41184317, "comment_id": 69583812, "body": "If those two scripts communicate through the file, maybe a file is not the right option. How about using a socket instead?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1481890905, "creation_date": 1481890905, "answer_id": 41184317, "question_id": 41183984, "link": "https://stackoverflow.com/questions/41183984/using-storable-to-store-hash-and-use-it-in-another-script/41184317#41184317", "title": "Using Storable to store hash and use it in another script", "body": "<p>You really must show the code that has given you the problems that you describe, otherwise it becomes very hard to help you. The code in your question doesn't compile. If you want to make changes to the program before you publish it, the <em>test it again</em> to make sure that it at least compiles, and also display the problems you're reporting</p>\n\n<p>The main problem is that you are writing binary data to a file opened as text. If you change <code>open( my $fh, \"&gt;\",  'hash.hash')</code> to <code>open( my $fh, \"&gt;:raw\",  'hash.hash')</code> then everything should work</p>\n\n<p>This variant of your own code correctly stores and retrieves some sample data</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Storable qw/ nstore_fd retrieve /;\n\nuse constant STORAGE =&gt; 'hash.hash';\n\nmy %hash = ( a =&gt; 'b', c =&gt; 'd' );\n\n{\n    open my $fh, '&gt;:raw',  STORAGE or die $!;\n    nstore_fd \\%hash, $fh;\n}\n\nmy $hash_ref = retrieve STORAGE;\n\nuse Data::Dump;\n\ndd $hash_ref;\n\nmy @keys = keys % { $hash_ref }; # throws error\ndd \\@keys;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{ a =&gt; \"b\", c =&gt; \"d\" }\n[\"a\", \"c\"]\n</code></pre>\n\n<p>However, you've made some strange choices. There's no need to use an <code>nstore</code> function to store the data in \"network order\", and you could have avoided the problem altogether if you had let the module open the file itself</p>\n\n<p>Here's a variant that just uses <code>store</code> and <code>retrieve</code>. The output is identical to that of the code above</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Storable qw/ store retrieve /;\n\nuse constant STORAGE =&gt; 'hash.hash';\n\nmy %hash = ( a =&gt; 'b', c =&gt; 'd' );\n\nstore \\%hash, STORAGE;\n\nmy $hash_ref = retrieve STORAGE;\n\nuse Data::Dump;\n\ndd $hash_ref;\n\nmy @keys = keys % { $hash_ref }; # throws error\ndd \\@keys;\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 41184317, "answer_count": 1, "score": 0, "last_activity_date": 1481890905, "creation_date": 1481889758, "question_id": 41183984, "link": "https://stackoverflow.com/questions/41183984/using-storable-to-store-hash-and-use-it-in-another-script", "title": "Using Storable to store hash and use it in another script", "body": "<p>I am storing a hash in a script like so (part of code left out):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse utf8;\n\nuse Storable qw(nstore_fd);\n\nopen( my $fh, \"&gt;\",  'hash.hash');\nmy $hash_ref = \\%hash;\nnstore_fd($hash_ref, $fh);\nclose $fh;\n</code></pre>\n\n<p>Which creates a file <code>hash.hash</code>. In another file, then, I try to 'import' the hash and read its values to be used (e.g. looping the hash, reading values, checking existence ...).</p>\n\n<p>I tried something simple, i.e. read the hash, dereference and read its keys, and print those out. However I get the error <code>Not a HASH reference at CreateSql.pl line 12.</code> It is a scalar. But I don't see why. <a href=\"http://perldoc.perl.org/Storable.html\" rel=\"nofollow noreferrer\">The documentation</a> of the module states that a reference is returned.</p>\n\n<blockquote>\n  <p>To retrieve data stored to disk, use retrieve with a file name. The\n  objects stored into that file are recreated into memory for you, and a\n  reference to the root object is returned.</p>\n</blockquote>\n\n<p>So what did I do wrong, and how do I get access to the stored hash?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse utf8;\n\nuse Data::Dumper;\nuse Storable qw(retrieve);\n\nmy ($hash_path) = @ARGV;\n\nmy $hash_ref = retrieve($hash_path);\n\nmy @keys = keys % { $hash_ref }; # throws error\nprint Dumper(\\@keys);\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481881240, "post_id": 41180915, "comment_id": 69562433, "body": "Please check the environment settings for the <code>Strawberry perl</code> path."}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1481883465, "last_edit_date": 1592644375, "creation_date": 1481882526, "answer_id": 41181766, "question_id": 41180915, "link": "https://stackoverflow.com/questions/41180915/need-help-for-cpan-installation-and-module-directory/41181766#41181766", "title": "Need help for cpan installation and module directory", "body": "<p>Please confirm these process done by you in your machine.</p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/m0Ylz.jpg\" rel=\"nofollow noreferrer\">Go the System properties and Click <code>ENVIRONMENT Variables</code></a></p>\n<p><a href=\"https://i.stack.imgur.com/knAcr.jpg\" rel=\"nofollow noreferrer\">Add your Strawberry perl path in <code>USER variables</code></a> <code>C:\\Strawberry\\perl\\bin</code></p>\n<p><a href=\"https://i.stack.imgur.com/HQq9A.jpg\" rel=\"nofollow noreferrer\">Add your Strawberry perl path in <code>SYSTEM variables</code></a> <code>C:\\Strawberry\\perl\\bin</code></p>\n</blockquote>\n<p>I hope this is clear for you.</p>\n"}], "owner": {"reputation": 1, "user_id": 7305945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f276849be74f76feb3f0ede4d53dc9bf?s=128&d=identicon&r=PG&f=1", "display_name": "DarkV", "link": "https://stackoverflow.com/users/7305945/darkv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481883465, "creation_date": 1481879901, "last_edit_date": 1481881304, "question_id": 41180915, "link": "https://stackoverflow.com/questions/41180915/need-help-for-cpan-installation-and-module-directory", "title": "Need help for cpan installation and module directory", "body": "<p>I'm trying to install <code>perl</code> module. But, I have this error: </p>\n\n<blockquote>\n  <p>\"Can't find C:\\Strawberry\\perl\\bin\\cpan.bat on PATH, '.' not in PATH\".</p>\n</blockquote>\n\n<p>And, when I use <code>cpan</code> from strawberry directory and try to install module, <code>perl</code> can't find it.</p>\n"}, {"tags": ["perl", "makefile", "gnu-make"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481878091, "post_id": 41179721, "comment_id": 69560671, "body": "what do you want to do later with the captured line?  show that part of your Makefile too.  you are capturing into a shell variable, but then trying to echo a makefile variable (and even if you tried to echo the shell variable, that wouldn&#39;t work because make runs each line in a separate shell process)."}, {"owner": {"reputation": 867, "user_id": 1694076, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/f334fdd3c7883b8ec7371d5bfdc7cccc?s=128&d=identicon&r=PG", "display_name": "chris yo", "link": "https://stackoverflow.com/users/1694076/chris-yo"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481879385, "post_id": 41179721, "comment_id": 69561409, "body": "i have updated with more details. I haven&#39;t figured out how to do regex on $result yet, so would be glad for any hints."}], "answers": [{"comments": [{"owner": {"reputation": 867, "user_id": 1694076, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/f334fdd3c7883b8ec7371d5bfdc7cccc?s=128&d=identicon&r=PG", "display_name": "chris yo", "link": "https://stackoverflow.com/users/1694076/chris-yo"}, "edited": false, "score": 0, "creation_date": 1481877549, "post_id": 41179831, "comment_id": 69560385, "body": "hmm.. nothing also gets displayed with this."}, {"owner": {"reputation": 867, "user_id": 1694076, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/f334fdd3c7883b8ec7371d5bfdc7cccc?s=128&d=identicon&r=PG", "display_name": "chris yo", "link": "https://stackoverflow.com/users/1694076/chris-yo"}, "edited": false, "score": 0, "creation_date": 1481878977, "post_id": 41179831, "comment_id": 69561174, "body": "thanks! it works now. must I always refer to result as $$result? I want to check if it is empty or not. if I add this line &quot;ifeq($(strip $$(result)),)&quot;, i get this error: &quot;/bin/sh: -c: line 2: syntax error near unexpected token <code>$(result),&#39; &#47;bin&#47;sh: -c: line 2: </code>ifeq ($(result),) \\&#39;&quot;"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 1, "last_activity_date": 1481879396, "last_edit_date": 1481879396, "creation_date": 1481875544, "answer_id": 41179831, "question_id": 41179721, "link": "https://stackoverflow.com/questions/41179721/how-can-i-store-output-string-to-a-variable-and-display-in-console/41179831#41179831", "title": "How can I store output string to a variable AND display in console", "body": "<p>You are capturing into a shell variable, but then trying to echo a makefile variable (and even if you tried to echo the shell variable, that wouldn't work because make runs each line in a separate shell process).</p>\n\n<p>Changing it to echo the shell varible and all to run in one shell should work:</p>\n\n<pre><code>foo:\n    result=`$(PERL) parse.pl report.log`; \\\n    echo $$result\n</code></pre>\n\n<p>but whatever you later need to do to use the captured result would also need to be in the same shell execution.</p>\n\n<p>Apparently you can capture into a makefile variable too, which may be more convenient:</p>\n\n<pre><code>foo:\n    $(eval result := $(shell $(PERL) parse.pl report.log))\n    echo $(result)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69991, "user_id": 939557, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3VPea.png?s=128&g=1", "display_name": "MadScientist", "link": "https://stackoverflow.com/users/939557/madscientist"}, "is_accepted": false, "score": 0, "last_activity_date": 1481916531, "creation_date": 1481916531, "answer_id": 41191243, "question_id": 41179721, "link": "https://stackoverflow.com/questions/41179721/how-can-i-store-output-string-to-a-variable-and-display-in-console/41191243#41191243", "title": "How can I store output string to a variable AND display in console", "body": "<p>The critical thing to keep in mind with make is first, that the entire makefile is parsed before any rules are run, and second a makefile has two completely distinct syntaxes in it: makefile syntax for most of it, and shell syntax for the recipes.  The shell syntax is run by the shell, not by make: make just starts a shell, hands over the recipe, and waits for the shell to exit to see if it worked or not.</p>\n\n<p>As a result of this you CANNOT combine make constructs like <code>ifeq</code> with shell commands and their results: it cannot work because all the make constructs are parsed first, while the makefile is being read in, and the shell commands are not run until much later, when the target is to be built.</p>\n\n<p>In your case you need to write the entire thing in <em>shell</em> syntax, because you want things to depend on the shell invocation.</p>\n\n<p>So, like this:</p>\n\n<pre><code>foo:\n        result=`$(PERL) parse.pl report.log`; \\\n        echo $$result; \\\n        if [ \"$$result\" = \"\" ]; then \\\n            echo filepath; \\\n            exit 1; \\\n        fi\n</code></pre>\n\n<p>Note how each line ends with a backslash, so it's appended to the previous line instead of being a separate line: make runs each separate line in a different shell.</p>\n\n<p>Alternatively if you have a new-enough GNU make you can use the <a href=\"https://www.gnu.org/software/make/manual/html_node/One-Shell.html\" rel=\"nofollow noreferrer\">one shell</a> feature:</p>\n\n<pre><code>.ONESHELL:\nfoo:\n        result=`$(PERL) parse.pl report.log`\n        echo $$result\n        if [ \"$$result\" = \"\" ]; then\n            echo filepath\n            exit 1\n        fi\n</code></pre>\n"}], "owner": {"reputation": 867, "user_id": 1694076, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/f334fdd3c7883b8ec7371d5bfdc7cccc?s=128&d=identicon&r=PG", "display_name": "chris yo", "link": "https://stackoverflow.com/users/1694076/chris-yo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 41179831, "answer_count": 2, "score": 0, "last_activity_date": 1481916531, "creation_date": 1481875120, "last_edit_date": 1481879339, "question_id": 41179721, "link": "https://stackoverflow.com/questions/41179721/how-can-i-store-output-string-to-a-variable-and-display-in-console", "title": "How can I store output string to a variable AND display in console", "body": "<p>I have a perl script that prints a message. This script is being called by GNU make. In my GNU make, I want to display the message printed out by the script AND store it in a variable also. </p>\n\n<p>I'm doing it this way.  </p>\n\n<pre><code> result=`$(PERL) parse.pl report.log` #parse the report\n echo $(result) #echo the message here\n ifneq ($(strip $$(result)),) #check if message is empty\n   #if not empty, search for filepath string pattern and exit\n   echo filepath\n   exit 1\n endif\n</code></pre>\n\n<p>But it is not displaying the string message from parse.pl.</p>\n"}, {"tags": ["perl", "reference", "pass-by-value"], "comments": [{"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1481876037, "post_id": 41179399, "comment_id": 69559719, "body": "Even thinking about the amount of time spent here is a huge mistake. You should think which code is more readable. And in the case your result is so huge, that copying does have a real impact, you should be returning a reference."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1481878867, "post_id": 41179399, "comment_id": 69561117, "body": "&quot;Premature optimisation is the root of all evil&quot;. Don&#39;t even think about this, it&#39;s trivial. Except when it&#39;s not, but for that you use a code profiler."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1481879036, "post_id": 41179399, "comment_id": 69561225, "body": "It&#39;s not necessarily micro-optimization. I don&#39;t know the answer, and I&#39;m curious to learn what it is, just because."}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1482074485, "post_id": 41179399, "comment_id": 69618232, "body": "Context: I was working with a function that called <code>WWW::Mechanize::content</code> and passed the result to another function. I was wondering if I wrote <code>my $content_ref = \\$mech-&gt;content; foo($content_ref)</code> or <code>my $content = $mech-&gt;content; foo(\\$content);</code> made a difference, purely out of interest. Now I understand the later will copy the scalar, but not the underlying data, so the difference is negligible."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1482172333, "last_edit_date": 1482172333, "creation_date": 1481880451, "answer_id": 41181084, "question_id": 41179399, "link": "https://stackoverflow.com/questions/41179399/does-assigning-the-result-of-a-subroutine-result-in-a-copy-of-the-data/41181084#41181084", "title": "Does assigning the result of a subroutine result in a copy of the data?", "body": "<p>The data copy appears to happen</p>\n\n<pre><code>sub maketext {\n    my $text = 'text';\n    say \\$text;\n    return $text;\n}\n\nmy $bar_ref = \\maketext();\nsay $bar_ref;\n</code></pre>\n\n<p>This prints</p>\n\n<pre>\nSCALAR(0x11f5818)\nSCALAR(0x11cfa68)\n</pre>\n\n<p>The addresses of data created in the sub and of what <code>$bar_ref</code> points to are not the same.</p>\n\n<p>On the face of it, as the function returns the data has to be copied, and the reference to that is taken.</p>\n\n<p>The other possibility would be that the reference to the original data is kept even as it goes out of scope, like it happens in closures.  However, here the function returns <em>first</em> and its return is then manipulated. So I don't see how any mechanism would know what is done with data, so the data is duly copied. </p>\n\n<p>You are creating an anonymous scalar reference, but out of the function return.</p>\n\n<hr>\n\n<p>A way to create a reference to a scalar without having the corresponding variable around is</p>\n\n<pre><code>my $scalar_ref = \\do { my $var };\n</code></pre>\n\n<p>or with <code>do { \\my $var }</code>, or in your case with a sub </p>\n\n<pre><code>sub anon_scalar_ref {\n    # ...\n    return \\my $var;\n}\n</code></pre>\n\n<p>However, I don't see what use you'd have of this.  Perhaps you want to do</p>\n\n<pre><code>sub maketext {\n    # ... define $text ...\n    return \\$text;\n}\n</code></pre>\n\n<p>When you assign the return of this to a variable no extra data copies are made, since it is the reference that is returned.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1481891690, "creation_date": 1481891690, "answer_id": 41184547, "question_id": 41179399, "link": "https://stackoverflow.com/questions/41179399/does-assigning-the-result-of-a-subroutine-result-in-a-copy-of-the-data/41184547#41184547", "title": "Does assigning the result of a subroutine result in a copy of the data?", "body": "<p>Perl <em>has to copy</em> the data. Otherwise any subsequent modification to the variable <code>$foo</code> would be an attempt to modify the string constant <code>'text'</code>, which would cause your code to die.</p>\n\n<p>That is what happens in</p>\n\n<pre><code>for ( 'text' ) {\n    $_ = 'test';\n}\n</code></pre>\n\n<p>which raises the error</p>\n\n<blockquote>\n  <p>Modification of a read-only value attempted</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1482045580, "post_id": 41187087, "comment_id": 69611639, "body": "Your first sentence is &quot;Yes, it copies&quot;, but after reading the COW part of your answer, it seems like the definition of &quot;data&quot; in my question needs to be more specific. From this answer I understand the <i>scalar</i> is copied, but not the underlying string buffer (until the value is modified).  I notice from the lvalue sub, that although it avoids the copy, it will create a new scalar every call (still with the same PV), whereas the non-lvalue version reuses the same variable."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1482106775, "post_id": 41187087, "comment_id": 69627384, "body": "<code>my</code> variables are indeed reused when possible (determined at the time the sub exits). If a <code>my</code> variable is returned from an lvalue sub, it&#39;s obviously not possible to reuse it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1482250162, "post_id": 41187087, "comment_id": 69693205, "body": "Note that COW is relatively new, but there was another optimization in place before that: buffer stealing from temps. That means it that is a &quot;temporary&quot; is returned from a sub, it&#39;s buffer will be &quot;stolen&quot; rather than copied. A temporary is a constructed value (e.g. one obtained from concatenation, substr, etc)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1481900651, "last_edit_date": 1481900651, "creation_date": 1481900339, "answer_id": 41187087, "question_id": 41179399, "link": "https://stackoverflow.com/questions/41179399/does-assigning-the-result-of-a-subroutine-result-in-a-copy-of-the-data/41187087#41187087", "title": "Does assigning the result of a subroutine result in a copy of the data?", "body": "<p>Yes, it copies.</p>\n\n<pre><code>use Devel::Peek qw( Dump );\n\nsub maketext {\n    my $text = 'text';\n    Dump($text);\n    return $text;\n}\n\nmy $ref = \\maketext();\nDump($$ref);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>SV = PV(0x8b18a0) at 0x8dbe38   &lt;-- $text is at 0x8dbe38\n  REFCNT = 1\n  FLAGS = (POK,IsCOW,pPOK)\n  PV = 0x8d9f70 \"text\"\\0        &lt;-- String buffer at 0x8d9f70\n  CUR = 4\n  LEN = 10\n  COW_REFCNT = 1\nSV = PV(0x8b1920) at 0x8b0cc8   &lt;-- $$ref is at 0x8b0cc8\n  REFCNT = 1\n  FLAGS = (POK,IsCOW,pPOK)\n  PV = 0x8d9f70 \"text\"\\0        &lt;-- String buffer at 0x8d9f70\n  CUR = 4\n  LEN = 10\n  COW_REFCNT = 1\n</code></pre>\n\n<p>However, the string buffer isn't copied thanks to the copy-on-write (COW) feature. In fact, it wasn't even copied when you did <code>my $text = 'text';</code> for the very same reason. That means that the constant, <code>$text</code> and <code>$$ref</code> are all sharing the same string buffer (until an one of their string buffers is edited) even though they are entirely different scalars.</p>\n\n<p>You can get away from from having the returned value copied by using an lvalue sub.</p>\n\n<pre><code>use Devel::Peek qw( Dump );\n\nsub maketext :lvalue {\n    my $text = 'text';\n    Dump($text);\n    return $text;\n}\n\nmy $ref = \\maketext();\nDump($$ref);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>SV = PV(0xe43c80) at 0xe6e238\n[...]\nSV = PV(0xe43c80) at 0xe6e238\n[...]\n</code></pre>\n"}], "owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 1, "accepted_answer_id": 41181084, "answer_count": 3, "score": 3, "last_activity_date": 1482172333, "creation_date": 1481873773, "question_id": 41179399, "link": "https://stackoverflow.com/questions/41179399/does-assigning-the-result-of-a-subroutine-result-in-a-copy-of-the-data", "title": "Does assigning the result of a subroutine result in a copy of the data?", "body": "<p>I'm trying to understand if assigning the result of a subroutine results in the copying of that data.</p>\n\n<pre><code>sub maketext { 'text' };\n\nmy $foo = maketext();\nmy $foo_ref = \\$foo;\n\nmy $bar_ref = \\maketext();\n</code></pre>\n\n<p>In the above example, will the creation of <code>$foo_ref</code> result in one more copy than the creation of <code>$bar_ref</code>?</p>\n\n<p>How can I convince myself of their equivalence or unequivalence?</p>\n"}, {"tags": ["linux", "perl", "unzip"], "comments": [{"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481873278, "post_id": 41178571, "comment_id": 69558504, "body": "You put your &quot;%28&quot; replacement strings between double quotes. They are therefore compouted as the hash called &quot;28&quot;. You should replace this by simple quotes. using use strict;use warnings; at the beginning of your script would catch this kind of errors at compile time. That may not be the only error but I think it is one."}, {"owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "reply_to_user": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481879623, "post_id": 41178571, "comment_id": 69561537, "body": "I am getting output for some of the projects around 13 projects. But after that unzip not happening."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481881685, "post_id": 41178571, "comment_id": 69562725, "body": "And might it be possibly because the 14th project has special characters that the 13 first don&#39;t?"}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481881854, "post_id": 41178571, "comment_id": 69562823, "body": "I spotted another error: you put &quot;my&quot; just before your substitution, line 11. I don&#39;t what kind of weird behaviour it can trigger, but that&#39;s certainly not what you want to do. Seriously, you should add &quot;use warnings;&quot; at the beginning of your script. It really helps avoiding that kind of problem."}, {"owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "reply_to_user": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481882067, "post_id": 41178571, "comment_id": 69562980, "body": "Yes that was an error. Removed it."}, {"owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "reply_to_user": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481882237, "post_id": 41178571, "comment_id": 69563100, "body": "Even i tried removing the 14th project , but again i am facing the same issue. There is no special characters with this project name."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481882789, "post_id": 41178571, "comment_id": 69563462, "body": "I think you should add &quot;or die &#39;unzip failed: $UnzipError\\n&quot;;&#39; just after your call to unzip. Like that you know why it fails."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 1, "creation_date": 1481884988, "post_id": 41178571, "comment_id": 69564804, "body": "@DavidVerdin Double quotes don&#39;t interpolate hashes. <code>&quot;%28&quot;</code> is the same as <code>&#39;%28&#39;</code>."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481885267, "post_id": 41178571, "comment_id": 69564947, "body": "Another day, another thing I learn. thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481884317, "post_id": 41182052, "comment_id": 69564409, "body": "Oh. Reading your code, I realize that you expect your zip files to be below several level of recursive directories. As far as I understanf, glob will only check the first directory level. So if your zip is in dir1/dir2/file.zip and you check dir1, you won&#39;t find the zip file. In that case, using File::find would be better."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481885222, "post_id": 41182052, "comment_id": 69564922, "body": "I made a new version with File::Find."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481885332, "post_id": 41182052, "comment_id": 69564974, "body": "And it still has global variables, which is bad. But that&#39;s a quick fix."}, {"owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "edited": false, "score": 0, "creation_date": 1481891241, "post_id": 41182052, "comment_id": 69568454, "body": "I just need to check the first directory level for zip file. Zip file is directly under /home/test/prroot/Projects/projectname/ . There are many zip files under that . But i just need to get one of them and read file inside that zip file."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "edited": false, "score": 0, "creation_date": 1481895819, "post_id": 41182052, "comment_id": 69571148, "body": "OK. Now is the time to admit that I don&#39;t understand. could you please produce a sample of your directory hierachy and the output of the error produced by your script? It is very difficult to help you without more informations."}], "tags": [], "owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "is_accepted": false, "score": 0, "last_activity_date": 1481885959, "last_edit_date": 1481885959, "creation_date": 1481883391, "answer_id": 41182052, "question_id": 41178571, "link": "https://stackoverflow.com/questions/41178571/why-i-am-getting-iouncompressunzipunzip-input-filename-is-undef-or-null-s/41182052#41182052", "title": "Why i am getting IO::Uncompress::Unzip::unzip: input filename is undef or null string message?", "body": "<p>'As I don't know how your data look like, I provide a - slightly - improved version of your script here (adding the error handling).</p>\n\n<pre><code>#!usr/bin/perl\nuse IO::Uncompress::Unzip qw(unzip $UnzipError);\nuse File::Find;\nuse strict;use warnings;\nmy $propath =\"/home/test/prroot/Projects/\";\nmy $proj = \"/home/Ras/projectroot/projects.txt\";\nmy $output_dir = \"/home/Ras/projectroot/xmlres/\";\nmy @projlist = `cat $proj`;\nmy $projname;\nforeach my $pr (@projlist){\n    chomp($pr);\n    $projname = $pr;\n    $projname =~ s/ /\\_/g;\n    $projname =~ tr/ /_/;\n    $projname =~ s/\\(/%28/g;\n    $projname =~ s/\\)/%29/g;\n    $projname =~ s/\\&amp;/%26/g;\n    $projname =~ s/\\,/%2C/g;\n    print \"$dir\\n\";\n\n    find({ wanted =&gt; \\&amp;find_zip}, $dir);\n}\n\nsub find_zip {\n    my $filename = $File::Find::name;\n    print \"$filename\\n\";\n    if ($filename =~ /zip$/ ) {\n        unless( unzip $filename =&gt; $output_dir.'result'.$projname.'.xml', Name =&gt; \"data\" ) {\n            warn \"$filename: $UnzipError\";\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "edited": false, "score": 0, "creation_date": 1482485549, "post_id": 41186082, "comment_id": 69799774, "body": "Unzip was giving data error. I did a modification in my script and it helped."}], "tags": [], "owner": {"reputation": 1323, "user_id": 2030808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRrvi.png?s=128&g=1", "display_name": "pmqs", "link": "https://stackoverflow.com/users/2030808/pmqs"}, "is_accepted": false, "score": 0, "last_activity_date": 1481896882, "creation_date": 1481896882, "answer_id": 41186082, "question_id": 41178571, "link": "https://stackoverflow.com/questions/41178571/why-i-am-getting-iouncompressunzipunzip-input-filename-is-undef-or-null-s/41186082#41186082", "title": "Why i am getting IO::Uncompress::Unzip::unzip: input filename is undef or null string message?", "body": "<p>First thing to check is that the script is attempting to unzip all the files you expect. </p>\n\n<p>Then see if unzip is complaining.</p>\n\n<p>Try this</p>\n\n<pre><code>   print \"About to unzip '$input' to '$output'\\n\" ;\n   my $status = unzip $input =&gt; $output, Name =&gt; \"data\"\n       or die \"unzip from '$input' to '$output' failed: $UnzipError\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "is_accepted": true, "score": 0, "last_activity_date": 1482485892, "creation_date": 1482485892, "answer_id": 41298824, "question_id": 41178571, "link": "https://stackoverflow.com/questions/41178571/why-i-am-getting-iouncompressunzipunzip-input-filename-is-undef-or-null-s/41298824#41298824", "title": "Why i am getting IO::Uncompress::Unzip::unzip: input filename is undef or null string message?", "body": "<p>Unzip was giving data error. I did a modification in my script and it helped. </p>\n\n<pre><code>my $status = `unzip -p $input \"data\" &gt; $output`\n</code></pre>\n\n<p>By adding above line replacing unzip $input => $output, Name => \"data\" helped in solving the issue.\nWithout going for extraction of zip file, it is just reading the data content and i am able to meet the requirement. Thanks for all your help</p>\n"}], "owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 41298824, "answer_count": 3, "score": 0, "last_activity_date": 1482485892, "creation_date": 1481870098, "last_edit_date": 1481881956, "question_id": 41178571, "link": "https://stackoverflow.com/questions/41178571/why-i-am-getting-iouncompressunzipunzip-input-filename-is-undef-or-null-s", "title": "Why i am getting IO::Uncompress::Unzip::unzip: input filename is undef or null string message?", "body": "<p>I am having  a folder with many zip files. I need to get any of these zip file, extract it  and get a particular file from the ziped file. I am using IO::Uncompress::Unzip module for this.\nI have my perl script as below:</p>\n\n<pre><code>#!usr/bin/perl\nuse IO::Uncompress::Unzip qw(unzip $UnzipError);\nuse strict;\nmy $propath =\"/home/test/prroot/Projects/\";\nmy $proj = \"/home/Ras/projectroot/projects.txt\";\nmy @projlist = `cat $proj`;\nforeach my $pr(@projlist){\nchomp($pr);\nmy $projname = $pr;\nmy $projtemp = $pr;\n$projname =~ s/ /\\_/g;\nmy $replace1 = \"%28\"; #escaping special characters from project name\nmy $replace2 = \"%29\";\nmy $replace3 = \"%26\";\nmy $replace4 = \"%2C\";\n$projname =~ tr/ /_/;\n$projname =~ s/\\(/$replace1/g;\n$projname =~ s/\\)/$replace2/g;\n$projname =~ s/\\&amp;/$replace3/g;\n$projname =~ s/\\,/$replace4/g;\nchomp($projname);\nmy $dir = $propath.$projname;\nchomp($dir);\nmy @res = glob \"$dir/*.zip\";\nmy @res1 = split '/',$res[$#res];\nmy $out = chdir $dir;\nmy $input = \"$res1[$#res1]\";\nmy $output = \"/home/Ras/projectroot/xmlres/result$projname.xml\";\nmy $status = unzip $input =&gt; $output, Name =&gt; \"data\";\n\n}\n</code></pre>\n\n<p>The file /home/Ras/projectroot/projects.txt includes more than 100 project names. For each project name there is a folder under the path /home/test/prroot/Projects/. Inside the projectname folder there are zip files. I need to read particular file named data from the zip file. I am able to read the output for 13 files as /home/Ras/projectroot/xmlres/result$projname.xml. But after that no result. Please help me on this. </p>\n"}, {"tags": ["regex", "xml", "perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1481868319, "post_id": 41178109, "comment_id": 69556504, "body": "Your code does not compile. It also never reads the file. Could you copy and past in the real code?"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481879008, "post_id": 41178330, "comment_id": 69561204, "body": "Please don&#39;t recommend <a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><code>XML::Simple</code></a> - even the  documentation for it suggests using something else. <code>XML::LibXML</code> and <code>XML::Twig</code> are both far better choices."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481885652, "post_id": 41178330, "comment_id": 69565189, "body": "@Sobrique Okie doke."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1481885710, "last_edit_date": 1481885710, "creation_date": 1481869015, "answer_id": 41178330, "question_id": 41178109, "link": "https://stackoverflow.com/questions/41178109/regex-for-file-operation-in-perl-not-working/41178330#41178330", "title": "regex for file operation in perl not working", "body": "<p>First off, your code is using some unusually outdated techniques. <code>select $fh</code> has a global effect and is best avoided.</p>\n\n<p>In general to edit a file you need to open it for reading, read it in, alter it, and write it back out again. To avoid pulling the whole file into memory, the file can be very big, you generally do this line by line. </p>\n\n<p>You can't write to the same file you're reading from (well, you can, but it makes a mess), so instead you write to a temp file and then when you're done rename to be the original.</p>\n\n<pre><code># This forces you to declare all variables protecting against typos\nuse strict;\n# This lets you know when you've done something you probably shouldn't.\nuse warnings;\n# This will error if file operations failed, no more \"or die $!\"\nuse autodie;\n\nmy $file = \"file1.xml\";\nmy $tmp  = $file.\".new\";  # file1.xml.new\n\nopen my $in,  \"&lt;\", $file;  # open the XML file for reading\nopen my $out, \"&gt;\", $tmp;   # open a temp file for writing\n\n# Read the file line by line\nwhile(my $line = &lt;$in&gt;) {\n    # Change the line.\n    $line =~ s{this}{that}g;\n\n    # Write it to the temp file.\n    print $out $line;\n}\n\n# If you don't do this, it might not have finished writing.\nclose $out;\nclose $in;\n\n# Overwrite the old file with the new one.\nrename $temp, $file;\n</code></pre>\n\n<p><strong><em>HOWEVER</em></strong> you're editing XML. XML is structured and you should not try to read and edit it with regexes. You instead need to parse it with an XML library like <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a> or <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a>.</p>\n\n<p>You say you can't use any external library, but I bet you can, it's just a matter of figuring out how. You'll have a much easier time of it if you do. Generally the reason is that you don't have admin privileges. The simplest solution is to install <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a> and install your own copy of Perl that you can manage. Perlbrew makes this easy.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1481885686, "last_edit_date": 1495541805, "creation_date": 1481879336, "answer_id": 41180754, "question_id": 41178109, "link": "https://stackoverflow.com/questions/41178109/regex-for-file-operation-in-perl-not-working/41180754#41180754", "title": "regex for file operation in perl not working", "body": "<p>Please, <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">never ever use regular expressions to parse XM</a>L. XML is contextual, and regular expressions are not. Therefore it's only <em>ever</em> going to be a dirty hack. </p>\n\n<p>I would recommend <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a> if you need to modify an XML file. It supports <code>xpath</code>, which is <em>like</em> regular expressions, but inherently handles the context problem. </p>\n\n<p><code>XML::Twig</code> also does 'parsefile_inplace' for in place editing of your file:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nsub modify_setId {\n    my ( $twig, $setId ) = @_;\n    $setId -&gt; set_text('3232');\n    $twig -&gt; flush; \n}\n\nmy $twig = XML::Twig -&gt; new ( twig_handlers =&gt; { 'setId' =&gt; \\&amp;modify_setId } );\n$twig -&gt; set_pretty_print('indented'); \n$twig -&gt; parsefile_inplace('test.xml');\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4939337, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/12ed56dd4920ac0dd84f67a591522349?s=128&d=identicon&r=PG&f=1", "display_name": "Husk01inJun", "link": "https://stackoverflow.com/users/4939337/husk01injun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 41180754, "answer_count": 2, "score": 0, "last_activity_date": 1481885710, "creation_date": 1481867903, "last_edit_date": 1481873189, "question_id": 41178109, "link": "https://stackoverflow.com/questions/41178109/regex-for-file-operation-in-perl-not-working", "title": "regex for file operation in perl not working", "body": "<p>I have a xml file contain data's like:</p>\n\n<pre><code> &lt;get&gt;9090&lt;/get&gt;&lt;br&gt;\n &lt;setId&gt;setIdHere&lt;/set&gt;\n &lt;mainId&gt;121&lt;/mainId&gt;\n</code></pre>\n\n<p>As I'm not using any external lib/packages, however I'm need to do some changes using I/O.</p>\n\n<p>I need to change the string <code>setIdHere</code> with <code>something</code>. Please find the perl code below:</p>\n\n<pre><code>my $filename=\"file1.xml\";\nmy $idVal=3232;\nopen(my $fh , '&gt;&gt;' ,$fileName);\nselect $fh or die $!;\ns/setIdHere/$idVal;\nprint;\nselect STDOUT;\nclose($fh);\n</code></pre>\n\n<p>The above code is appending the value in the end, but I want to replace it with the string <code>setIdHere</code>.</p>\n\n<p>I'm new to perl not sure what's wrong with the above code.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["arrays", "perl", "scope", "strict"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481861772, "post_id": 41176906, "comment_id": 69554695, "body": "<code>[]</code> creates a reference to an empty array. <code>my @array;</code> is enough to initialize an array."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481861848, "post_id": 41176906, "comment_id": 69554715, "body": "I&#39;m voting to close this as off-topic due to a simple typographical error."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1481862232, "post_id": 41176906, "comment_id": 69554799, "body": "Compare: <code>@relAuthorList</code> vs. <code>@relAuthorlList</code> and <code>@metaAuthorList</code> vs. <code>@metaAuthorlList</code> (extra &quot;l&quot;s after &quot;Author&quot;)."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1481884939, "post_id": 41176906, "comment_id": 69564776, "body": ":) Just <b>TRUST</b> to error messages."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481865813, "post_id": 41177007, "comment_id": 69555683, "body": "or just <code>if (@relAuthorList )</code>"}, {"owner": {"reputation": 3, "user_id": 1522444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77a124e7bc1d4affcb0b3eace118a42?s=128&d=identicon&r=PG", "display_name": "user1522444", "link": "https://stackoverflow.com/users/1522444/user1522444"}, "edited": false, "score": 0, "creation_date": 1481866074, "post_id": 41177007, "comment_id": 69555762, "body": "Thank you. Apparently, I&#39;m here for comic relief!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481900601, "post_id": 41177007, "comment_id": 69574056, "body": "I say the camel case made it harder to spot this. Variable names are the only place where we don&#39;t like camels. That&#39;s why the Perl best practices suggest using snake case instead, which makes your var <code>@rel_author_list</code>, and your typo would have been <code>@rel_authorl_list</code>. That would have been way easier to spot."}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 2, "last_activity_date": 1481860543, "last_edit_date": 1481860543, "creation_date": 1481860180, "answer_id": 41177007, "question_id": 41176906, "link": "https://stackoverflow.com/questions/41176906/why-isnt-this-in-scope-why-is-use-strict-blocking-this/41177007#41177007", "title": "Why isn&#39;t this in scope? Why is use strict blocking this?", "body": "<p>strict worked here. The declaration of the 2 arrays is spelled differently than their spelling in the lines 87 and 105.</p>\n\n<p>Also, your checks for the arrays <code>!= 0</code> would allow an empty array (<code>== -1</code>). If you're checking for more than 1 element, the test would be <code>&gt;=1</code> if I understand your intent here. Maybe you meant <code>@relAuthorList != 0</code> (which says count of items is 1 or more).</p>\n"}], "owner": {"reputation": 3, "user_id": 1522444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77a124e7bc1d4affcb0b3eace118a42?s=128&d=identicon&r=PG", "display_name": "user1522444", "link": "https://stackoverflow.com/users/1522444/user1522444"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 41177007, "answer_count": 1, "score": 0, "last_activity_date": 1481860543, "creation_date": 1481859500, "question_id": 41176906, "link": "https://stackoverflow.com/questions/41176906/why-isnt-this-in-scope-why-is-use-strict-blocking-this", "title": "Why isn&#39;t this in scope? Why is use strict blocking this?", "body": "<p>The language is Perl. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n[...]\nwhile ( my $res = $async-&gt;wait_for_next_response )\n{\n    [...]\n    if ($res-&gt;is_success)\n    {\n        [...]\n        my @relAuthorList = ($res-&gt;content =~ /&lt;a +rel=\\\"author\\\" +href=\\\".*?\\\".*?&gt;.*?&lt;\\/a&gt;/gi);\n        if (@relAuthorList)\n        {\n            if ($#relAuthorlList != 0) # Line 87\n            {\n                [...]\n            }\n            [...]\n        }\n        my @metaAuthorList = ($res-&gt;content =~ /&lt;meta +name=\\\"author\\\" +content=\\\".*?\\\" *?&gt;/gi);\n        if (@metaAuthorList)\n        {\n            if ($#metaAuthorlList != 0) # Line 105\n            {\n                [...]\n            }\n            [...]\n        }\n        [...]\n    }\n    [...]\n}\n</code></pre>\n\n<p>When I run it, I get these errors: </p>\n\n<pre><code>$ ./findAuthorCanonical\nGlobal symbol \"@relAuthorlList\" requires explicit package name at ./findAuthorCanonical line 87.\nGlobal symbol \"@metaAuthorlList\" requires explicit package name at ./findAuthorCanonical line 105.\nExecution of ./findAuthorCanonical aborted due to compilation errors.\n$\n</code></pre>\n\n<p>I'm stumped. Strict is on. I'm using the <code>my</code> keyword to declare the array variables. I'm returning results from the <code>=~</code> operator as lists into arrays. I'm testing the arrays to make sure they have elements in them before I try to get the last index using the <code>$#array</code> as outlined in perldata.</p>\n\n<p>When I turn strict off, it works as expected.</p>\n\n<p>I've tried predeclaring them as arrays before I put any contents in them: </p>\n\n<pre><code>my @relAuthorList = [];\nmy @metaAuthorList = [];\n</code></pre>\n\n<p>That didn't work either. </p>\n\n<p>Most of the answers around this involve scoping errors, but I can't see any I've made here. Some involve forgetting to declare a variable with <code>my</code> but I've done that. I've seen one that involves a type mismatch, trying to treat a scalar as an array. I couldn't find anything relevant to this.</p>\n\n<p>So I ask: What am I doing wrong here?</p>\n"}, {"tags": ["perl", "xs"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1481844901, "post_id": 41174771, "comment_id": 69550719, "body": "Thanks for clarifying this! What about the quoted text in parenthesis: <i><code>&quot;needed for hash or array element parameters that must be created if they didn&#39;t exist&quot;</code></i>? What does this refer to? Does it mean that <code>set</code> magic is not applied to scalars or something else?"}, {"owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1481845502, "post_id": 41174771, "comment_id": 69550884, "body": "<code>my @array; modifies_arguments($array[42])</code> would only create the array element when it is actually modified, cf. autovivification. If the array is magical, then this would involve set magic on the array itself. However, this still applies to scalars, as in the <code>$ref</code> example above."}], "tags": [], "owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "is_accepted": true, "score": 6, "last_activity_date": 1482311766, "last_edit_date": 1482311766, "creation_date": 1481843113, "answer_id": 41174771, "question_id": 41173797, "link": "https://stackoverflow.com/questions/41173797/why-include-svsetmagic-on-output-variables-in-an-xsub/41174771#41174771", "title": "Why include SvSETMAGIC() on output variables in an XSUB?", "body": "<p>All of Perl's data structures support magic, not just <code>SV</code>s (despite the name) and specifically for hashes and arrays this is the basis for things like the <code>tie</code> mechanism or things like <code>fieldhash</code> which implements an analogue of weak references at the level of hash entries.</p>\n\n<p>Since the <code>OUTPUT</code> directive indicates which arguments would presumably be modified by the C body of the XSUB, and a variable containing set magic might be passed in, setting the value as per the typemap without invoking the set handler may result in inconsistent behaviour.</p>\n\n<pre><code>use Scalar::Util qw(weaken);\n\nmy $foo;\nmy $ref = \\$foo;\nweaken($ref);\n</code></pre>\n\n<p>As an example of magic, <code>weaken</code> decrements the reference count of <code>$foo</code>, and adds magic pointing back to <code>$ref</code> so that it is cleared it when <code>$foo</code> gets garbage collected.</p>\n\n<p>Additionally, it also adds set magic to <code>$ref</code>, to tear down this back referencing, otherwise when <code>$foo</code> is destroyed, <code>$ref</code> would be cleared even though at this point it's no longer pointing at <code>$foo</code>.</p>\n\n<p>If you use $ref as an argument, it gets aliased on the stack (which is why <a href=\"http://perldoc.perl.org/perlsub.html#DESCRIPTION\" rel=\"nofollow noreferrer\"><code>$_[0]</code> is assignable</a>):</p>\n\n<pre><code>modifies_arguments($ref);\n\nsub modifies_arguments {\n    $_[0] = \"blah\"; # set magic is invoked to tear down the back referencing\n} \n</code></pre>\n\n<p>If <code>modifies_arguments</code> is a pure Perl it's easy to see why this is appropriate, but the same assumptions about correctness must of course hold for XSUBs, which is why <code>OUTPUT</code> is used to mark which arguments will have their value set to whatever the C level argument variable had at the end of the function body, and have set magic triggered.</p>\n\n<p>This does not apply to <code>RETVAL</code>, since that is not technically an assignment, but rather pushing a new SV onto the stack, and any set magic will be handled after the function returns by the assignment op (if any).</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1481849648, "creation_date": 1481849648, "answer_id": 41175729, "question_id": 41173797, "link": "https://stackoverflow.com/questions/41173797/why-include-svsetmagic-on-output-variables-in-an-xsub/41175729#41175729", "title": "Why include SvSETMAGIC() on output variables in an XSUB?", "body": "<p>It's quite simple. Whenever you assign to a scalar, you need to call <code>SvSETMAGIC()</code> on it afterwards in case it has magic associated with it.</p>\n\n<p>Assigning to <code>RETVAL</code> doesn't assign to a Perl variable, so calling <code>SvSETMAGIC(RETVAL)</code> (unless you've actually modified <code>RETVAL</code>) would be wrong. If the returned value is assigned to another scalar in the caller, then the assignment will call <code>SvGETMAGIC</code> on the returned value before the assignment, and <code>SvSETMAGIC</code> on the assigned variable after the assignment.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 1, "accepted_answer_id": 41174771, "answer_count": 2, "score": 9, "last_activity_date": 1482311766, "creation_date": 1481838147, "question_id": 41173797, "link": "https://stackoverflow.com/questions/41173797/why-include-svsetmagic-on-output-variables-in-an-xsub", "title": "Why include SvSETMAGIC() on output variables in an XSUB?", "body": "<p>Reading the <a href=\"http://perldoc.perl.org/perlxs.html\" rel=\"nofollow noreferrer\">perlxs documentation</a>, I came to the section on the <code>OUTPUT</code> keyword:</p>\n\n<blockquote>\n  <p><strong>xsubpp</strong> emits an automatic <code>SvSETMAGIC()</code> for all parameters in the\n  OUTPUT section of the XSUB, except RETVAL. This is the usually desired\n  behavior, as it takes care of properly invoking 'set' magic on output\n  parameters (needed for hash or array element parameters that must be\n  created if they didn't exist).</p>\n</blockquote>\n\n<p>I am not sure I understand why is <code>set</code> magic is desired (and why it is not desired for <code>RETVAL</code>)? And why is <code>set</code> magic needed for hash and array element parameters? </p>\n"}, {"tags": ["perl", "strawberry-perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1481835860, "post_id": 41173248, "comment_id": 69547020, "body": "&quot;It would not install due to the error and I manually ran the makefile and forced installation.&quot; Forcing installation almost never works. (There&#39;s a reason the tests were failing!) You should <a href=\"https://stackoverflow.com/posts/41173248/edit\">edit</a> your question to show the output from the build."}, {"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1481840762, "post_id": 41173248, "comment_id": 69549192, "body": "How are you installing PAR::Packer?  Using portable versions of Strawberry Perl 5.24.0.1 (32-bit &amp; 64-bit), I used the command <code>cpan PAR::Packer</code> and was able to successfully install the module.  And I was able to successfully use the pp utility to create an executable from a Perl script."}, {"owner": {"reputation": 21, "user_id": 3022554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4393a3f5db7c0274ee3588306b680273?s=128&d=identicon&r=PG&f=1", "display_name": "notorious_pd", "link": "https://stackoverflow.com/users/3022554/notorious-pd"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481901145, "post_id": 41173248, "comment_id": 69574397, "body": "@ThisSuitIsBlackNot, I understand that forcing it was unlikely to work.  I had tried to install PAR::Packer earlier and the installation seemed to work, however,it failed in the same way when I tried to run pp.  I uninstalled, and reinstalled perl, and when I tried to install <code>PAR::Packer</code> again it failed the unit tests."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481901292, "post_id": 41173248, "comment_id": 69574492, "body": "Please show the output from the failing tests."}, {"owner": {"reputation": 21, "user_id": 3022554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4393a3f5db7c0274ee3588306b680273?s=128&d=identicon&r=PG&f=1", "display_name": "notorious_pd", "link": "https://stackoverflow.com/users/3022554/notorious-pd"}, "reply_to_user": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1481901386, "post_id": 41173248, "comment_id": 69574553, "body": "@dasgar, my initial attemps have been with the cpan command: <code>cpan PAR::Packer</code>.  When this didn&#39;t work, I ran the following as an attempt to force: <code>cpan look PAR::Packer perl MakeFile.pl dmake -f Makefile install</code>"}, {"owner": {"reputation": 21, "user_id": 3022554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4393a3f5db7c0274ee3588306b680273?s=128&d=identicon&r=PG&f=1", "display_name": "notorious_pd", "link": "https://stackoverflow.com/users/3022554/notorious-pd"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481901637, "post_id": 41173248, "comment_id": 69574707, "body": "@ThisSuitIsBlackNot, shall I post the entire thing?  The entire output is about 1000 lines.  Thanks for your help."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481902045, "post_id": 41173248, "comment_id": 69574957, "body": "Find the first failure in the log and post the output from there down. There&#39;s a test summary toward the end, but that doesn&#39;t have enough detail, so you&#39;ll need to go further back in the log. If that&#39;s not enough, you can always post the full output later."}, {"owner": {"reputation": 21, "user_id": 3022554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4393a3f5db7c0274ee3588306b680273?s=128&d=identicon&r=PG&f=1", "display_name": "notorious_pd", "link": "https://stackoverflow.com/users/3022554/notorious-pd"}, "edited": false, "score": 0, "creation_date": 1481902869, "post_id": 41173248, "comment_id": 69575449, "body": "I changed the question to reflect difficulty in installation rather than use, and ended up posting about a third of the output."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481904412, "post_id": 41173248, "comment_id": 69576322, "body": "Ah, I didn&#39;t realize the tests were showing the same error as you got when running pp. I see similar errors with Strawberry in one test <a href=\"http://www.cpantesters.org/cpan/report/ca15d83f-6c19-1014-9833-216e2dace4d3\" rel=\"nofollow noreferrer\">CPAN Testers</a>, so it&#39;s not just you. How did you install Strawberry? Did you copy it or any modules from another machine?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481905071, "post_id": 41173248, "comment_id": 69576674, "body": "Also, have you successfully installed any other modules with cpan?"}, {"owner": {"reputation": 21, "user_id": 3022554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4393a3f5db7c0274ee3588306b680273?s=128&d=identicon&r=PG&f=1", "display_name": "notorious_pd", "link": "https://stackoverflow.com/users/3022554/notorious-pd"}, "edited": false, "score": 0, "creation_date": 1481906176, "post_id": 41173248, "comment_id": 69577309, "body": "No problem -- I was trying to show the minimal situation that caused the error, hence the forced installation.  I installed Strawberry from the msi directly from their site, completely clean installation.  Any modules not included in the distro were installed using the cpan command line.  I have been able to install others.  I just did Data::Dumper and Win32::GUI with no trouble."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481907255, "post_id": 41173248, "comment_id": 69577862, "body": "In that case, it seems like a bug, not anything you did wrong. I would file a detailed <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=PAR-Packer\" rel=\"nofollow noreferrer\">bug report</a> for PAR::Packer."}], "owner": {"reputation": 21, "user_id": 3022554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4393a3f5db7c0274ee3588306b680273?s=128&d=identicon&r=PG&f=1", "display_name": "notorious_pd", "link": "https://stackoverflow.com/users/3022554/notorious-pd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 813, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1481902768, "creation_date": 1481835602, "last_edit_date": 1481902768, "question_id": 41173248, "link": "https://stackoverflow.com/questions/41173248/why-do-i-get-cant-locate-loadable-object-for-module-io-in-inc-when-i-try-to", "title": "Why do I get &quot;Can&#39;t locate loadable object for module IO in @INC&quot; when I try to install PAR::Packer with Strawberry Perl?", "body": "<p>I am trying to package a Perl script into a standalone form under Windows 7.  The Perl distro is Strawberry Perl, and the script runs fine under that.</p>\n\n<p>When I went to install PAR::Packer, many of the unit tests failed with the same error.  I have also uninstalled and reinstalled Strawberry Perl.</p>\n\n<p>The Strawberry Perl version is 5.24.0.1, and the PAR::Packer version is 1.035.</p>\n\n<p>Here is the partial output when I attempt to install from cpan:</p>\n\n<pre><code>c:\\Users\\peter\\Desktop\\SW_Convert_V8&gt;cpan PAR::Packer\nLoading internal null logger. Install Log::Log4perl for logging messages\nCPAN: CPAN::SQLite loaded ok (v0.211)\nDatabase was generated on Thu, 15 Dec 2016 19:29:58 GMT\n\nRunning install for module 'PAR::Packer'\nCPAN: Digest::SHA loaded ok (v5.95)\nCPAN: Compress::Zlib loaded ok (v2.069)\nChecksum for C:\\STRAWB~1\\cpan\\sources\\authors\\id\\R\\RS\\RSCHUPP\\PAR-Packer-1.035.tar.gz ok\nCPAN: Archive::Tar loaded ok (v2.06)\nCPAN: File::Temp loaded ok (v0.2304)\nCPAN: YAML::XS loaded ok (v0.62)\nCPAN: CPAN::Meta::Requirements loaded ok (v2.140)\nCPAN: Parse::CPAN::Meta loaded ok (v1.4417)\nCPAN: CPAN::Meta loaded ok (v2.150005)\nCPAN: Module::CoreList loaded ok (v5.20160507)\nConfiguring R/RS/RSCHUPP/PAR-Packer-1.035.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nPrototype mismatch: sub main::prompt: none vs ($;$) at C:/Strawberry/perl/lib/ExtUtils/MakeMaker.pm line 240.\nGenerating a dmake-style Makefile\nWriting Makefile for PAR::Packer\nWriting MYMETA.yml and MYMETA.json\n  RSCHUPP/PAR-Packer-1.035.tar.gz\n  C:\\Strawberry\\perl\\bin\\perl.exe Makefile.PL -- OK\nRunning make for R/RS/RSCHUPP/PAR-Packer-1.035.tar.gz\n---- Unsatisfied dependencies detected during ----\n----      RSCHUPP/PAR-Packer-1.035.tar.gz     ----\n    Module::Signature [requires,optional]\n    Tk::Getopt [requires,optional]\n    Tk::EntryCheck [requires,optional]\n    Tk::ColoredButton [requires,optional]\n    Tk [requires,optional]\ncp lib/PAR/Filter.pm blib\\lib\\PAR\\Filter.pm\ncp lib/PAR/Filter/Bytecode.pm blib\\lib\\PAR\\Filter\\Bytecode.pm\ncp lib/PAR/StrippedPARL/Base.pm blib\\lib\\PAR\\StrippedPARL\\Base.pm\ncp lib/PAR/Filter/PodStrip.pm blib\\lib\\PAR\\Filter\\PodStrip.pm\ncp lib/PAR/Filter/Bleach.pm blib\\lib\\PAR\\Filter\\Bleach.pm\ncp lib/PAR/Packer.pm blib\\lib\\PAR\\Packer.pm\ncp lib/PAR/Filter/PatchContent.pm blib\\lib\\PAR\\Filter\\PatchContent.pm\ncp lib/pp.pm blib\\lib\\pp.pm\ncp lib/App/Packer/PAR.pm blib\\lib\\App\\Packer\\PAR.pm\ncp lib/PAR/Filter/Obfuscate.pm blib\\lib\\PAR\\Filter\\Obfuscate.pm\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" par_pl2c.pl my_par_pl &lt; ..\\script\\par.pl &gt; my_par_pl.c\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" sha1.c.PL\ngcc -c -s -O2 -DWIN32  -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fwrapv -fno-strict-aliasing -mms-bitfields  -I\"C:\\STRAWB~1\\perl\\lib\\CORE\"  -DPARL_EXE=\\\"parl.exe\\\" -DPAR_PAC\nKER_VERSION=\\\"1.035\\\" -s -O2 main.c\nwindres -i winres/pp.rc -o ppresource.coff --input-format=rc --output-format=coff --target=pe-i386\ng++ main.o ppresource.coff -s   -s -L\"C:\\STRAWB~1\\perl\\lib\\CORE\" -L\"C:\\STRAWB~1\\c\\lib\"  \"C:\\STRAWB~1\\perl\\lib\\CORE\\libperl524.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libmoldname.a\" \"C:\\STRAWB~1\\c\\i686-\nw64-mingw32\\lib\\libkernel32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libuser32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libgdi32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libwinspool.a\" \"C:\\STRAWB~1\\c\\i686-w\n64-mingw32\\lib\\libcomdlg32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libadvapi32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libshell32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libole32.a\" \"C:\\STRAWB~1\\c\\i686-w\n64-mingw32\\lib\\liboleaut32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libnetapi32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libuuid.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libws2_32.a\" \"C:\\STRAWB~1\\c\\i686-w64\n-mingw32\\lib\\libmpr.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libwinmm.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libversion.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libodbc32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw3\n2\\lib\\libodbccp32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libcomctl32.a\" -o par.exe\nrem\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" encode_append.pl Dynamic.in par.exe Dynamic.pm\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" embed_files.pl -c 32768 par.exe \"C:\\STRAWB~1\\perl\\bin\\perl524.dll\" \"C:\\Strawberry\\perl\\bin\\libgcc_s_sjlj-1.dll\" \"C:\\Strawberry\\perl\\bin\\libwinpthread-1.dll\" \"C:\\Straw\nberry\\perl\\bin\\libstdc++-6.dll\" &gt; boot_embedded_files.c\n# using \"objdump\" recusrively to find DLLs needed by par.exe\n# embedding \"par.exe\" as \"par.exe\"\n# embedding \"C:/Strawberry/c/bin/libwinpthread-1.dll\" as \"libwinpthread-1.dll\"\n# embedding \"C:/Strawberry/c/bin/libstdc++-6.dll\" as \"libstdc++-6.dll\"\n# embedding \"C:/Strawberry/perl/bin/perl524.dll\" as \"perl524.dll\"\n# embedding \"C:/Strawberry/c/bin/libgcc_s_sjlj-1.dll\" as \"libgcc_s_sjlj-1.dll\"\ngcc -c -s -O2 -DWIN32  -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fwrapv -fno-strict-aliasing -mms-bitfields  -I\"C:\\STRAWB~1\\perl\\lib\\CORE\"  -DPARL_EXE=\\\"parl.exe\\\" -DPAR_PAC\nKER_VERSION=\\\"1.035\\\" -s -O2 boot.c\nIn file included from mktmpdir.h:85:0,\n                 from mktmpdir.c:1,\n                 from boot.c:10:\nsha1.c: In function 'sha_transform':\nsha1.c:146:2: warning: right shift count &gt;= width of type\n  T &gt;&gt;= 32;\n  ^\ng++ boot.o  -static-libgcc -s   -s -L\"C:\\STRAWB~1\\perl\\lib\\CORE\" -L\"C:\\STRAWB~1\\c\\lib\"  \"C:\\STRAWB~1\\perl\\lib\\CORE\\libperl524.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libmoldname.a\" \"C:\\STRAWB~1\\c\\i686-\nw64-mingw32\\lib\\libkernel32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libuser32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libgdi32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libwinspool.a\" \"C:\\STRAWB~1\\c\\i686-w\n64-mingw32\\lib\\libcomdlg32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libadvapi32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libshell32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libole32.a\" \"C:\\STRAWB~1\\c\\i686-w\n64-mingw32\\lib\\liboleaut32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libnetapi32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libuuid.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libws2_32.a\" \"C:\\STRAWB~1\\c\\i686-w64\n-mingw32\\lib\\libmpr.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libwinmm.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libversion.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libodbc32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw3\n2\\lib\\libodbccp32.a\" \"C:\\STRAWB~1\\c\\i686-w64-mingw32\\lib\\libcomctl32.a\"  ppresource.coff -o boot.exe\nrem\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" encode_append.pl Static.in boot.exe Static.pm\ncp Static.pm ..\\blib\\lib\\PAR\\StrippedPARL\\Static.pm\ncp Dynamic.pm ..\\blib\\lib\\PAR\\StrippedPARL\\Dynamic.pm\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" -Mblib=.. run_with_inc.pl boot.exe -q -B -Oparl.exe\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" -MExtUtils::Command -e cp -- parl.exe ..\\blib\\script\\parl.exe\nrem ..\\blib\\script\\parl.exe\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" -Mblib=.. run_with_inc.pl par.exe -q -B -Oparldyn.exe\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" -MExtUtils::Command -e cp -- parldyn.exe ..\\blib\\script\\parldyn.exe\nrem ..\\blib\\script\\parldyn.exe\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" \"-Iinc\" -MExtUtils::Command -e cp -- script/par.pl blib\\script\\par.pl\npl2bat.bat blib\\script\\par.pl\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" \"-Iinc\" -MExtUtils::Command -e cp -- script/pp blib\\script\\pp\npl2bat.bat blib\\script\\pp\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" \"-Iinc\" -MExtUtils::Command -e cp -- script/tkpp blib\\script\\tkpp\npl2bat.bat blib\\script\\tkpp\n  RSCHUPP/PAR-Packer-1.035.tar.gz\n  C:\\STRAWB~1\\c\\bin\\dmake.exe -- OK\nRunning make test\n'No tests defined for myldr extension.'\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'inc', 'blib\\lib', 'blib\\arch')\" t/00-pod.t t/10-parl-generation.t t\n/20-pp.t t/30-current_exec.t t/40-packer_cd_option.t t/80-doublecolon.t t/90-rt101800.t t/90-rt103861.t t/90-rt104560.t t/90-rt104635.t t/90-rt59710.t\nt/00-pod.t ............... skipped: Set environment variable PERL_TEST_POD=1 to test POD\nt/10-parl-generation.t ... ok\nt/20-pp.t ................ Can't locate loadable object for module IO in @INC (@INC contains: CODE(0x1e59984) .) at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/File.pm line 133.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/File.pm line 133.\nCompilation failed in require at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nCompilation failed in require at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nCompilation failed in require at -e line 158.\nCan't locate File/Temp.pm in @INC (you may need to install the File::Temp module) (@INC contains: .) at -e line 6.\nEND failed--call queue aborted.\n\nt/20-pp.t ................ 1/34 #   Failed test 'pp_hello_1\n# [430]\n# Test 1_0 The command string \" a.exe \" in directory C:\\STRAWB~1\\cpan\\build\\PAR-Packer-1.035-cDPIgz\\contrib\\automated_pp_test\\pp_switch_tests\\temp1,did not produce :: \"hello\" ::\n# Instead, it produced :: 'a.exe' is not recognized as an internal or external command,\n# operable program or batch file. ::\n# End of [430] results\n#\n# Did \"c:\\strawb~1\\perl\\bin\\perl.exe\" \"C:\\STRAWB~1\\cpan\\build\\PAR-Packer-1.035-cDPIgz\\blib\\script\\pp\" \"hello.pl\"  produce a.exe?\n# '\n#   at automated_pp_test.pl line 6867.\nCan't locate loadable object for module IO in @INC (@INC contains: CODE(0x1e498c4) .) at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/File.pm line 133.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/File.pm line 133.\nCompilation failed in require at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nCompilation failed in require at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nCompilation failed in require at -e line 158.\nCan't locate File/Temp.pm in @INC (you may need to install the File::Temp module) (@INC contains: .) at -e line 6.\nEND failed--call queue aborted.\nt/20-pp.t ................ 2/34 Can't locate loadable object for module IO in @INC (@INC contains: CODE(0x1e38cc4) .) at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/File.pm line 133.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/File.pm line 133.\nCompilation failed in require at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nCompilation failed in require at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nCompilation failed in require at -e line 158.\nCan't locate File/Temp.pm in @INC (you may need to install the File::Temp module) (@INC contains: .) at -e line 6.\nEND failed--call queue aborted.\n\nt/20-pp.t ................ 3/34 #   Failed test 'pp_minus_o_foo_foo_dot_pl_bar_dot_pl\n# [430]\n# Test 3_0 The command string \" foo.exe \" in directory C:\\STRAWB~1\\cpan\\build\\PAR-Packer-1.035-cDPIgz\\contrib\\automated_pp_test\\pp_switch_tests\\temp0,did not produce :: \"hello foo\" ::\n# Instead, it produced :: 'foo.exe' is not recognized as an internal or external command,\n# operable program or batch file. ::\n# End of [430] results\n#\n# Did \"c:\\strawb~1\\perl\\bin\\perl.exe\" \"C:\\STRAWB~1\\cpan\\build\\PAR-Packer-1.035-cDPIgz\\blib\\script\\pp\" -o foo.exe \"foo.pl\" \"bar.pl\"  produce foo.exe?\n# '\n#   at automated_pp_test.pl line 6960.\nt/20-pp.t ................ 5/34 Can't locate loadable object for module IO in @INC (@INC contains: CODE(0x1d696ac) .) at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/File.pm line 133.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/File.pm line 133.\nCompilation failed in require at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nCompilation failed in require at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nCompilation failed in require at -e line 158.\nCan't locate File/Temp.pm in @INC (you may need to install the File::Temp module) (@INC contains: .) at -e line 6.\nEND failed--call queue aborted.\nt/20-pp.t ................ 6/34 Can't locate loadable object for module IO in @INC (@INC contains: CODE(0x1ec9b34) .) at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/File.pm line 133.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/File.pm line 133.\nCompilation failed in require at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nCompilation failed in require at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nCompilation failed in require at -e line 158.\nCan't locate File/Temp.pm in @INC (you may need to install the File::Temp module) (@INC contains: .) at -e line 6.\nEND failed--call queue aborted.\nt/20-pp.t ................ 10/34 Can't locate loadable object for module IO in @INC (@INC contains: CODE(0x4c99f4) .) at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/File.pm line 133.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/File.pm line 133.\nCompilation failed in require at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nCompilation failed in require at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nCompilation failed in require at -e line 158.\nCan't locate File/Temp.pm in @INC (you may need to install the File::Temp module) (@INC contains: .) at -e line 6.\nEND failed--call queue aborted.\n\nt/20-pp.t ................ 11/34 #   Failed test 'pp_minus_e_print_hello\n# [430]\n# Test 11_0 The command string \" a.exe \" in directory C:\\STRAWB~1\\cpan\\build\\PAR-Packer-1.035-cDPIgz\\contrib\\automated_pp_test\\pp_switch_tests\\temp2,did not produce :: \"hello\" ::\n# Instead, it produced :: 'a.exe' is not recognized as an internal or external command,\n# operable program or batch file. ::\n# End of [430] results\n#\n# Did \"c:\\strawb~1\\perl\\bin\\perl.exe\" \"C:\\STRAWB~1\\cpan\\build\\PAR-Packer-1.035-cDPIgz\\blib\\script\\pp\" -e \"print qq[hello\n# ];\" produce a.exe?\n# '\n#   at automated_pp_test.pl line 7327.\nt/20-pp.t ................ 13/34 C:\\Users\\admin\\AppData\\Local\\Temp\\a4UGhRjY21 syntax OK\nCan't locate loadable object for module IO in @INC (@INC contains: CODE(0x1e0b134) .) at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/File.pm line 133.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/File.pm line 133.\nCompilation failed in require at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nCompilation failed in require at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nCompilation failed in require at -e line 158.\nCan't locate File/Temp.pm in @INC (you may need to install the File::Temp module) (@INC contains: .) at -e line 6.\nEND failed--call queue aborted.\n\nt/20-pp.t ................ 14/34 #   Failed test 'pp_minus_c_hello\n# [430]\n# Test 14_0 The command string \" a.exe \" in directory C:\\STRAWB~1\\cpan\\build\\PAR-Packer-1.035-cDPIgz\\contrib\\automated_pp_test\\pp_switch_tests\\temp2,did not produce :: \"hello\" ::\n# Instead, it produced :: 'a.exe' is not recognized as an internal or external command,\n# operable program or batch file. ::\n# End of [430] results\n#\n# Did \"c:\\strawb~1\\perl\\bin\\perl.exe\" \"C:\\STRAWB~1\\cpan\\build\\PAR-Packer-1.035-cDPIgz\\blib\\script\\pp\" -c \"hello.pl\"  produce a.exe?\n# '\n#   at automated_pp_test.pl line 7461.\nCan't locate loadable object for module IO in @INC (@INC contains: CODE(0x4c9e74) .) at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Handle.pm line 269.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/Seekable.pm line 101.\nCompilation failed in require at c:/Strawberry/perl/lib/IO/File.pm line 133.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/lib/IO/File.pm line 133.\nCompilation failed in require at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/vendor/lib/Archive/Zip.pm line 7.\nCompilation failed in require at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nBEGIN failed--compilation aborted at c:/Strawberry/perl/site/lib/PAR/Heavy.pm line 19.\nCompilation failed in require at -e line 158.\nCan't locate File/Temp.pm in @INC (you may need to install the File::Temp module) (@INC contains: .) at -e line 6.\nEND failed--call queue aborted.\n</code></pre>\n"}, {"tags": ["perl", "encoding", "endianness", "utf-16le"], "comments": [{"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1481835012, "post_id": 41173102, "comment_id": 69546610, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2610849/finding-if-the-system-is-little-endian-or-big-endian-with-perl\">Finding if the system is little endian or big endian with perl</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 2, "creation_date": 1481835360, "post_id": 41173102, "comment_id": 69546765, "body": "@EliSadoff This question asks how to find whether a particular <i>file</i> is big or little endian, not whether the system is."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1481835439, "post_id": 41173102, "comment_id": 69546802, "body": "why is &quot;my $fh&quot; in quotes?! :-O"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1481835487, "post_id": 41173102, "comment_id": 69546830, "body": "If the interpreter dies, just use <a href=\"http://p3rl.org/eval\" rel=\"nofollow noreferrer\">eval</a> or <a href=\"http://p3rl.org/Try::Tiny\" rel=\"nofollow noreferrer\">Try::Tiny</a>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1481835640, "post_id": 41173102, "comment_id": 69546907, "body": "Have you tried just UTF-16 instead of UTF-16BE and UTF-16LE?"}, {"owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "edited": false, "score": 1, "creation_date": 1481835679, "post_id": 41173102, "comment_id": 69546924, "body": "I don&#39;t know how you could possibly know (Imagine a file of random binary data, for example) unless you knew what the contents of the file were <i>supposed</i> to look like. Only then could you check."}, {"owner": {"reputation": 99, "user_id": 1400161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9982983bfef6b69e6bce9f308e72d9?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/1400161/pradeep"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481837326, "post_id": 41173102, "comment_id": 69547695, "body": "@ThisSuitIsBlackNot, you are right, the question is not for system but for rthe file i am reading.  I tried only &quot;UTF-16&quot; also but in that case it dies for both files which have BE/LE data in them."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481837628, "post_id": 41173102, "comment_id": 69547854, "body": "It sounds like the files have no BOM, so you&#39;re stuck trying one encoding and switching to the other if it fails."}, {"owner": {"reputation": 99, "user_id": 1400161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9982983bfef6b69e6bce9f308e72d9?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/1400161/pradeep"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1481837652, "post_id": 41173102, "comment_id": 69547871, "body": "@choroba   edited &quot;my $fh&quot; to be my &quot;$fh&quot;. I  manually wrote the code here to simplify things."}, {"owner": {"reputation": 99, "user_id": 1400161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9982983bfef6b69e6bce9f308e72d9?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/1400161/pradeep"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481924059, "post_id": 41173102, "comment_id": 69585266, "body": "@ThisSuitIsBlackNot  some files are with BOM some without. And yes, in UTF-16, UTF-16BE, UTF-16BE."}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1481837771, "post_id": 41173290, "comment_id": 69547940, "body": "Don&#39;t test <code>$@</code>, return 1 from <code>eval</code> and test the return value."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1481835786, "creation_date": 1481835786, "answer_id": 41173290, "question_id": 41173102, "link": "https://stackoverflow.com/questions/41173102/how-to-check-in-perl-if-a-file-is-written-as-little-endian-or-big-endian/41173290#41173290", "title": "how to check in perl if a file is written as little endian or big endian?", "body": "<p>You don't show any code, but in general it's impossible to tell what endianness a file is unless you know what values you should be reading from the file. Many file formats, for instance, reserve a few bytes at the beginning to indicate what the format is, and if this applies to the data you are dealing with then you can just <code>read</code> those bytes, and change the open mode if you don't get what you're expecting</p>\n\n<p>Alternatively, since your program dies if the wrong format is chosen, then you can use that to test whether the chosen format is correct. Something like this should suit</p>\n\n<pre><code>my $file = $ARGV[0];\n\nopen my $fh, '&lt;:raw:encoding(UTF-16LE):crlf', $file or die $!;\n\neval { do_stuff_that_may_crash() };\n\nif ( $@ ) {\n    if ( $@ =~ /Malformed HI surrogate/ ) {\n        open my $fh, '&lt;:raw:encoding(UTF-16BE):crlf', $file or die $!;\n        do_stuff_that_may_crash();\n    }\n    else {\n        die $@;\n    }\n}\n</code></pre>\n\n<p>but since it sounds like <code>do_stuff_that_may_crash()</code> is pretty much all of your program, you should probably find a better criterion</p>\n"}, {"comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1481864208, "post_id": 41175860, "comment_id": 69555267, "body": "Could you explain (decode) the heuristics values (reason) for 4,5,6 ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1481912268, "post_id": 41175860, "comment_id": 69580177, "body": "Improved the list. (Numbers have changed.) Explanations added."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1481912256, "last_edit_date": 1481912256, "creation_date": 1481850845, "answer_id": 41175860, "question_id": 41173102, "link": "https://stackoverflow.com/questions/41173102/how-to-check-in-perl-if-a-file-is-written-as-little-endian-or-big-endian/41175860#41175860", "title": "how to check in perl if a file is written as little endian or big endian?", "body": "<p>Most UTF-16le files are valid UTF-16be files, and vice-versa. For example, there's no way to tell if <code>0A 00</code> indicates U+000A (UTF-16le) or U+0A00 (UTF-16be). So, assuming there's no <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">BOM</a>, you have to guess.</p>\n\n<p>Possible heuristics (in descending order of reliability):</p>\n\n<ol>\n<li>U+FFFE is not a character (guaranteed).\n\n<ul>\n<li>If the file starts with <code>FF FE</code>, then it must be UTF-16le.</li>\n<li>If the file starts with <code>FE FF</code>, then it must be UTF-16be.</li>\n</ul></li>\n<li>&#x20;\n\n<ul>\n<li>If the file isn't valid UTF-16be, then it must be UTF-16le.</li>\n<li>If the file isn't valid UTF-16le, then it must be UTF-16be.</li>\n</ul></li>\n<li>&#x20;\n\n<ul>\n<li>If the file contains non-characters when decoded using UTF-16be, then it must be UTF-16le.</li>\n<li>If the file contains non-characters when decoded using UTF-16le, then it must be UTF-16be.</li>\n</ul></li>\n<li>U+0A00 isn't currently assigned, but U+000A (LINE FEED) is quite common.<br>U+0D00 isn't currently assigned, but U+000D (CARRIAGE RETURN) is quite common.\n\n<ul>\n<li>If the file contains <code>0A 00</code> or <code>0D 00</code>, then it's probably UTF-16le.</li>\n<li>If the file contains <code>00 0A</code> or <code>00 0D</code>, then it's probably UTF-16be.</li>\n</ul></li>\n<li>&#x20;\n\n<ul>\n<li>If the file contains unassigned characters when decoded using UTF-16be, then it's probably UTF-16le.</li>\n<li>If the file contains unassigned characters when decoded using UTF-16le, then it's probably UTF-16be.</li>\n</ul></li>\n<li>Heuristics based on knowledge of the file format. (<a href=\"https://www.w3.org/TR/REC-xml/#sec-guessing-no-ext-info\" rel=\"nofollow noreferrer\">Example</a>)</li>\n<li>A file is likely to contain more ASCII characters than characters numbers U+xx00\n\n<ul>\n<li>If the file contains many <code>xx 00</code> and few <code>00 xx</code>, then it's probably UTF-16le.</li>\n<li>If the file contains many <code>00 xx</code> and few <code>xx 00</code>, then it's probably UTF-16be.</li>\n</ul></li>\n</ol>\n\n<p>Notes:</p>\n\n<ul>\n<li>#4 and #5 say \"it's probably\" instead of \"it must be\" because what's unassigned today could be assigned tomorrow.</li>\n<li>#3 includes #1, but #1 is a cheap test.</li>\n<li>#5 includes #4, but #4 is almost as reliable as #5 without maintaining a long list of unassigned characters that changes over time.</li>\n</ul>\n\n<p>You could slurp in the file using <code>:raw</code>, perform some or all of the above tests on it to determine the encoding, then use <code>decode</code> and <code>s/\\r\\n/\\n/g</code>.</p>\n"}], "owner": {"reputation": 99, "user_id": 1400161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9982983bfef6b69e6bce9f308e72d9?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/1400161/pradeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1481912256, "creation_date": 1481834980, "last_edit_date": 1481838036, "question_id": 41173102, "link": "https://stackoverflow.com/questions/41173102/how-to-check-in-perl-if-a-file-is-written-as-little-endian-or-big-endian", "title": "how to check in perl if a file is written as little endian or big endian?", "body": "<p>Actually i have to parse some files which can be in any form of endian (Big or Little). Perl interpreter dies if I use one encoding and parse other.</p>\n\n<pre><code>open (my $fh, \"&lt;:raw:encoding(UTF-16LE):crlf\", $ARGV[0]) or die cannot open file for reading : $! \\n\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>open (my $fh, \"&lt;:raw:encoding(UTF-16BE):crlf\", $ARGV[0]) or die cannot open file for reading : $! \\n\";\n</code></pre>\n\n<p>output (for a file in LE and perl's encoding being BE)</p>\n\n<pre><code>UTF-16BE:Malformed HI surrogate dc00 at toASCII.pl line 123.\n</code></pre>\n"}, {"tags": ["javascript", "python", "regex", "perl"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1481832272, "post_id": 41172463, "comment_id": 69545200, "body": "regex are bad with nesting. You should consider a real html parser."}, {"owner": {"reputation": 49378, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1481832398, "post_id": 41172463, "comment_id": 69545270, "body": "<a href=\"http://stackoverflow.com/a/1732454/6779307\">stackoverflow.com/a/1732454/6779307</a>"}, {"owner": {"reputation": 7, "user_id": 5619430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/631fddb5cd9898d6d564753ae150e00a?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Ellis", "link": "https://stackoverflow.com/users/5619430/zach-ellis"}, "edited": false, "score": 1, "creation_date": 1481832884, "post_id": 41172463, "comment_id": 69545525, "body": "So how should I answer the question? Just say plz no regex for html parsing?"}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1481833722, "post_id": 41172463, "comment_id": 69545961, "body": "Where are the questions from? Question 2 seems like the exact reason you wouldnt use a regex for this."}, {"owner": {"reputation": 49378, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1481833761, "post_id": 41172463, "comment_id": 69545977, "body": "Where did the question come from?  If it&#39;s from some coursework where you have to have a regex solution, then you can probably hack together some regex that works most of the time for simplistic inputs"}, {"owner": {"reputation": 7, "user_id": 5619430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/631fddb5cd9898d6d564753ae150e00a?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Ellis", "link": "https://stackoverflow.com/users/5619430/zach-ellis"}, "edited": false, "score": 0, "creation_date": 1481834126, "post_id": 41172463, "comment_id": 69546160, "body": "It was a quiz a recruitment office sent me and I barely got any experience with regex while getting my CS degree."}, {"owner": {"reputation": 49378, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1481834214, "post_id": 41172463, "comment_id": 69546205, "body": "Here&#39;s one I came up with.  There are inputs that will break it, but it works for the two you gave.  <a href=\"https://regex101.com/r/x2uUUO/3\" rel=\"nofollow noreferrer\">regex101.com/r/x2uUUO/3</a>"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1481834793, "post_id": 41172463, "comment_id": 69546496, "body": "What is the language? Javascript, Perl or Python?"}, {"owner": {"reputation": 7, "user_id": 5619430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/631fddb5cd9898d6d564753ae150e00a?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Ellis", "link": "https://stackoverflow.com/users/5619430/zach-ellis"}, "reply_to_user": {"reputation": 49378, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1481835366, "post_id": 41172463, "comment_id": 69546767, "body": "I was testing these using regex101.com, so I was using python syntax, but they probably wanted it in perl.   And Thanks @PatrickHaugh, &lt;a href=\\&quot;(.*?)\\&quot;.*&gt;(.*)&lt;/a&gt; pretty much gave me the results I was looking for. I&#39;m such a noob at this that I don&#39;t really know if it matters that the results are split into group 1 and 2."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481835885, "post_id": 41172463, "comment_id": 69547037, "body": "@Jean-Fran&#231;oisFabre: <i>&quot;regex are bad with nesting&quot;</i>, it isn&#39;t the (only/main) problem. With regex engines that supports recursion or the .net regex engine that are able to deal with nested structures, or with html strings/targets without nested tags, the html syntax stays unpredictable <i>(eg: an attribute value can be enclosed between single, double, no quotes or doesn&#39;t exist...)</i>, very permissive, with several versions, and user-agents are very tolerant to deal with that."}], "answers": [{"tags": [], "owner": {"reputation": 411831, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 0, "last_activity_date": 1481833949, "creation_date": 1481833949, "answer_id": 41172865, "question_id": 41172463, "link": "https://stackoverflow.com/questions/41172463/regular-expression-to-extract-all-the-links-and-the-corresponding-link-text/41172865#41172865", "title": "Regular Expression to extract all the links and the corresponding link text", "body": "<p>If you were to solve it with an <em>HTML parser</em> like <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\"><code>BeautifulSoup</code></a>, it would simply come down to locating the <code>a</code> element, using dictionary-like access to the <code>href</code> attribute and <code>get_text()</code> for getting a text of an element:</p>\n\n<pre><code>In [1]: from bs4 import BeautifulSoup\n\nIn [2]: l = [\n    \"\"\"text1 &lt;a href=\"http://example.com\"&gt;hello, world&lt;/a&gt; text2\"\"\", \n    \"\"\"text1 &lt;a href=\"http://example.com\" onclick=\"javascript:alert('&lt;b&gt;text2&lt;/b&gt;')\"&gt;hello, world&lt;/a&gt; text3\"\"\"\n]\n\nIn [3]: for s in l:\n            soup = BeautifulSoup(s, \"html.parser\")\n            link = soup.a\n            print(link[\"href\"] + \"\\t\" + link.get_text())\n    ...:     \nhttp://example.com  hello, world\nhttp://example.com  hello, world\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "is_accepted": false, "score": 1, "last_activity_date": 1481922135, "creation_date": 1481922135, "answer_id": 41192382, "question_id": 41172463, "link": "https://stackoverflow.com/questions/41172463/regular-expression-to-extract-all-the-links-and-the-corresponding-link-text/41192382#41192382", "title": "Regular Expression to extract all the links and the corresponding link text", "body": "<p>With regular expressions, sometimes it's better to look at what you shouldn't capture than what you should to get what you want. This perl regex should reliably capture simple links and their related text:</p>\n\n<pre><code>#!perl\n\nuse strict;\nuse warnings;\n\nmy $sample = q{text1 &lt;a href=\"http://example.com\"&gt;hello, world&lt;/a&gt; text2};\n\nmy ($link, $link_text) = $sample =~ m{&lt;a href=\"([^\"]*)\"[^&gt;]*&gt;(.*?)&lt;/a&gt;};\n\nprint \"$link \\t $link_text\\n\";\n\n1;\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>http://example.com &lt;tab&gt; hello, world\n</code></pre>\n\n<p>To break down what it's doing:</p>\n\n<p>The first capture, <code>([^\"]*)</code>, is looking for 0 or more characters inside of the href attribute that are not a double-quote. The square brackets are used to list a ranges of characters and the leading carat tells the regex to look for any character that is not in this range.</p>\n\n<p>Similarly, I use <code>[^&gt;]*&gt;</code> to find the <code>a</code> tag's closing bracket without needing to worry about what other attributes may be in the tag. </p>\n\n<p>Lastly, <code>(.*?)</code> is a 0 or more non-greedy capture (indicated by the question mark) to capture all text inside of that link only. Without the non-greedy indicator it will match all text to the very last closing <code>&lt;/a&gt;</code> tag in the document.</p>\n\n<p>Hopefully this will help you solve part 2 of the assignment. :)</p>\n"}], "owner": {"reputation": 7, "user_id": 5619430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/631fddb5cd9898d6d564753ae150e00a?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Ellis", "link": "https://stackoverflow.com/users/5619430/zach-ellis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1481922135, "creation_date": 1481832222, "last_edit_date": 1481836642, "question_id": 41172463, "link": "https://stackoverflow.com/questions/41172463/regular-expression-to-extract-all-the-links-and-the-corresponding-link-text", "title": "Regular Expression to extract all the links and the corresponding link text", "body": "<p>I'm brand new to regular expressions, and I am trying to solve the two following problems:</p>\n\n<ol>\n<li><p>Write a regular expression that extracts all the links and the corresponding link text from an HTML page. For example, if you wanted to parse:</p>\n\n<pre><code> text1 &lt;a href=\"http://example.com\"&gt;hello, world&lt;/a&gt; text2\n</code></pre></li>\n</ol>\n\n<p>and get the result </p>\n\n<pre><code>http://example.com &lt;tab&gt; hello, world\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Do the same thing, but also handle cases where &lt;...> are nested:</p>\n\n<pre><code>  text1 &lt;a href=\"http://example.com\" onclick=\"javascript:alert('&lt;b&gt;text2&lt;/b&gt;')\"&gt;hello, world&lt;/a&gt; text3\n</code></pre></li>\n</ol>\n\n<p>So far I am still on the first question, and I've tried going about this several ways. I think my best answer to the first has been the regex <code>(?&lt;=a href=\\\")(.*)(?=&lt;/a&gt;)</code> which gives me: <code>http://example.com\"&gt;hello, world</code></p>\n\n<p>This seems good enough to me, but I don't know how I'm supposed to approach the second part. Any help or insight would be greatly appreciated.</p>\n"}, {"tags": ["linux", "perl", "compilation"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481831983, "post_id": 41172164, "comment_id": 69545068, "body": "What commands did you run? Which versions of perl did you try?"}, {"owner": {"reputation": 1, "user_id": 7303475, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210252324976624/picture?type=large", "display_name": "Cliff Warren", "link": "https://stackoverflow.com/users/7303475/cliff-warren"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481832823, "post_id": 41172164, "comment_id": 69545478, "body": "Perl 5.24 and 5.18. Manually I try compiling by typing &quot;./Configure&quot;, or if I use perlbrew it is the same. Example: perlbrew install perl-5.18.2"}, {"owner": {"reputation": 1, "user_id": 7303475, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210252324976624/picture?type=large", "display_name": "Cliff Warren", "link": "https://stackoverflow.com/users/7303475/cliff-warren"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481833021, "post_id": 41172164, "comment_id": 69545596, "body": "When I ask the Configure tool to use gcc instead of cc, it gives me a slightly different list of &quot;libraries&quot;, but ultimately the end is the same, it dies on libgdbm.so."}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1481834890, "post_id": 41172164, "comment_id": 69546549, "body": "This may help you: <a href=\"http://unix.stackexchange.com/questions/193864/how-to-fix-skipping-incompatible-usr-lib-libc-a\" title=\"how to fix skipping incompatible usr lib libc a\">unix.stackexchange.com/questions/193864/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 7303475, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210252324976624/picture?type=large", "display_name": "Cliff Warren", "link": "https://stackoverflow.com/users/7303475/cliff-warren"}, "edited": false, "score": 0, "creation_date": 1481836487, "post_id": 41172164, "comment_id": 69547311, "body": "Awesome! This is the first that I noticed that my list of libraries includes both 64 bit and 32 (unmarked) versions. I eliminated the non-64 ones and now I&#39;m compiling. Not sure if that is all of my issues, but that is it for this particular detail."}], "answers": [{"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1539869348, "creation_date": 1539869348, "answer_id": 52875209, "question_id": 41172164, "link": "https://stackoverflow.com/questions/41172164/perl-compile-libgdbm-incompatibility/52875209#52875209", "title": "Perl compile, libgdbm incompatibility", "body": "<p>This is the first that I noticed that my list of libraries includes both 64 bit and 32 (unmarked) versions. I eliminated the non-64 ones and now I'm compiling. Not sure if that is all of my issues, but that is it for this particular detail. \u2013 Cliff Warren</p>\n"}], "owner": {"reputation": 1, "user_id": 7303475, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210252324976624/picture?type=large", "display_name": "Cliff Warren", "link": "https://stackoverflow.com/users/7303475/cliff-warren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539869348, "creation_date": 1481831065, "question_id": 41172164, "link": "https://stackoverflow.com/questions/41172164/perl-compile-libgdbm-incompatibility", "title": "Perl compile, libgdbm incompatibility", "body": "<p>I'm trying to compile Perl (any version) on a Linux RHEL 6.8 system. Whether I compile manually or use perlbrew, the result is the same. It dies when encountering the libgdbm.so.2.0.0 file. </p>\n\n<p>Here is the tail of the transcript:</p>\n\n<p>Checking your choice of C compiler and flags for coherency...\nI've tried to compile and run the following simple program:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main() { printf(\"Ok\\n\"); return(0); }\n\nI used the command:\n\n        cc -o try -O2 -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -fstack-protector -L/usr/local/lib try.c -lnsl -lgdbm -ldb -ldl -lm -lcrypt -lut\nil -lc\n         ./try\n\nand I got the following output:\n\n/usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-redhat-linux/4.4.7/../../../libgdbm.so when searching for -lgdbm\n/usr/bin/ld: skipping incompatible /usr/lib/libgdbm.so when searching for -lgdbm\n/usr/bin/ld: cannot find -lgdbm\ncollect2: ld returned 1 exit status\nI can't compile the test program.\n(The supplied flags or libraries might be incorrect.)\n\nYou have a BIG problem.  Shall I abort Configure [y]\nOk.  Stopping Configure.\n</code></pre>\n\n<p>Any ideas? I don't think that version of libgdbm is old.</p>\n"}, {"tags": ["linux", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1481829044, "post_id": 41171565, "comment_id": 69543517, "body": "You might want to ask for help with a smaller example that you could then develop and enhance yourself to apply to your bigger problem. Not many people will be willing to read through all of that text trying to figure out the patterns to look for and what to do with them."}, {"owner": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "edited": false, "score": 1, "creation_date": 1481830271, "post_id": 41171565, "comment_id": 69544184, "body": "Even if somebody may consider answering this question which shows no effort to solve it, this is too big for them to read. :("}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1481832212, "post_id": 41171565, "comment_id": 69545174, "body": "Welcome to the site!  See <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> for more about what readers might be looking for in a question.  Personally, I would use <code>awk</code> because I&#39;m familiar with it.  It looks like you want to unwrap columns from blocks of lines that begin with <code>Avail</code>=<code>Yes</code>.  You can find <code>Avail</code> and <code>Yes</code>, start accumulating, print whenever you get to the next <code>Yes</code>, and then print the last block when you see an empty line or end of file (<code>END {}</code> in awk)."}], "answers": [{"comments": [{"owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "edited": false, "score": 1, "creation_date": 1481870764, "post_id": 41172598, "comment_id": 69557506, "body": "why a down vote ? question was reply with explaination about using awk, that suite perfectly this kind of need"}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1481832727, "creation_date": 1481832727, "answer_id": 41172598, "question_id": 41171565, "link": "https://stackoverflow.com/questions/41171565/sed-awk-perl-formatting-multiple-paragraphs/41172598#41172598", "title": "sed/awk/perl formatting multiple paragraphs", "body": "<p>To get you started, here's basically how you'd start to isolate the individual fields on each line using GNU awk for FIELDWIDTHS:</p>\n\n<pre><code>$ cat tst.awk\nBEGIN { origFS=FS }\n/---/ {\n    origFS=FS\n    split($0,f,/\\s+|-+/,s)\n    FIELDWIDTHS=\"\"\n    for (i=1; i in s; i++) {\n        FIELDWIDTHS = (i&gt;1 ? FIELDWIDTHS \" \" : \"\") length(s[i])\n    }\n}\n/^\\s*$/ {\n    FIELDWIDTHS=\"\"\n    FS=origFS\n}\n{\n    for (i=1; i&lt;=NF; i++) {\n        printf \"&lt;%s&gt;\", $i, (i&lt;NF?OFS:ORS)\n    }\n    print \"\"\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>$ awk -f tst.awk file\n&lt;User:&gt;&lt;x0000001&gt;\n&lt;Forced&gt;&lt;into&gt;&lt;restricted&gt;&lt;environment:&gt;&lt;No&gt;\n\n&lt;Role&gt;&lt;Name&gt;&lt;Avail&gt;&lt;Restricted&gt;&lt;Env&gt;\n&lt;---------------&gt;&lt;-----&gt;&lt;--------------&gt;\n&lt;  &gt;&lt;login/Corp_All &gt;&lt;  &gt;&lt;Yes  &gt;&lt; &gt;&lt;None          &gt;&lt; &gt;\n&lt;  &gt;&lt;_Example-Role--&gt;&lt;  &gt;&lt;Yes  &gt;&lt; &gt;&lt;_Example-Role-&gt;&lt;-&gt;\n&lt;  &gt;&lt;ALL_Servers-Win&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;ALL_Servers-Wi&gt;&lt;n&gt;\n&lt;  &gt;&lt;/US_All        &gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;/US_All  &gt;&lt;&gt;\n&lt;  &gt;&lt;Domain_GLOBAL-R&gt;&lt;o &gt;&lt;Yes  &gt;&lt; &gt;&lt;Domain_GLOBAL-&gt;&lt;R&gt;\n&lt;  &gt;&lt;le-CORE_Group-A&gt;&lt;L &gt;&lt;     &gt;&lt; &gt;&lt;le-CORE_Group-&gt;&lt;A&gt;\n&lt;  &gt;&lt;L-MacOS/Domain_&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;L-MacOS/Domain&gt;&lt;_&gt;\n&lt;  &gt;&lt;GLOBAL         &gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;GLOBAL      &gt;&lt;&gt;\n\n&lt;Effective&gt;&lt;rights:&gt;\n&lt;Password&gt;&lt;login&gt;\n&lt;Non&gt;&lt;password&gt;&lt;login&gt;\n&lt;Allow&gt;&lt;normal&gt;&lt;shell&gt;\n\n\n&lt;PAM&gt;&lt;Application&gt;&lt;Avail&gt;&lt;Source&gt;&lt;Roles&gt;\n&lt;---------------&gt;&lt;-----&gt;&lt;--------------------&gt;\n&lt;*              &gt;&lt;  &gt;&lt;Yes  &gt;&lt; &gt;&lt;login/US_All        &gt;&lt; &gt;\n&lt;Privileged comm&gt;&lt;an&gt;&lt;ds:&gt;&lt;&gt;&lt;&gt;&lt;&gt;\n&lt;  Name         &gt;&lt;  &gt;&lt;  Ava&gt;&lt;i&gt;&lt;l Command           &gt;&lt; &gt;\n&lt;  -------------&gt;&lt;--&gt;&lt;  ---&gt;&lt;-&gt;&lt;- ------------------&gt;&lt;-&gt;\n&lt;  &gt;&lt;CORP_GLOBAL-Com&gt;&lt;  &gt;&lt;Yes  &gt;&lt; &gt;&lt;/usr/bin/getfacl    &gt;&lt;  &gt;&lt;CORP_GLOBAL-Role-COR&gt;&lt; &gt;\n&lt;  &gt;&lt;mand-CORE_SVR_I&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;                    &gt;&lt;  &gt;&lt;E_SVR_INFRA_ALL-LNX/&gt;&lt; &gt;\n&lt;  &gt;&lt;NFRA_ALL-V042-S&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;                    &gt;&lt;  &gt;&lt;CORP_GLOBAL         &gt;&lt; &gt;\n&lt;  &gt;&lt;00042/CORP_GLOB&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;                    &gt;&lt;  &gt;&lt;                    &gt;&lt; &gt;\n&lt;  &gt;&lt;AL             &gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;                    &gt;&lt;  &gt;&lt;                    &gt;&lt; &gt;\n&lt;  &gt;&lt;CORP_GLOBAL-Com&gt;&lt;  &gt;&lt;Yes  &gt;&lt; &gt;&lt;/usr/bin/dzdo -l    &gt;&lt;  &gt;&lt;CORP_GLOBAL-Role-COR&gt;&lt; &gt;\n&lt;  &gt;&lt;mand-CORE_SVR_I&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;                    &gt;&lt;  &gt;&lt;E_SVR_INFRA_ALL-LNX/&gt;&lt; &gt;\n&lt;  &gt;&lt;NFRA_ALL-V042-S&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;                    &gt;&lt;  &gt;&lt;CORP_GLOBAL         &gt;&lt; &gt;\n&lt;  &gt;&lt;00048/CORP_GLOB&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;                    &gt;&lt;  &gt;&lt;                    &gt;&lt; &gt;\n&lt;  &gt;&lt;AL             &gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;                    &gt;&lt;  &gt;&lt;                    &gt;&lt; &gt;\n&lt;  &gt;&lt;CORP_GLOBAL-Com&gt;&lt;  &gt;&lt;Yes  &gt;&lt; &gt;&lt;/bin/cp temp_auth   &gt;&lt;  &gt;&lt;CORP_GLOBAL-Role-COR&gt;&lt; &gt;\n&lt;  &gt;&lt;mand-CORE_SVR_I&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;/home/sudocfg/author&gt;&lt;  &gt;&lt;E_SVR_INFRA_ALL-LNX/&gt;&lt; &gt;\n&lt;  &gt;&lt;NFRA_ALL-V042-S&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;ized_keys           &gt;&lt;  &gt;&lt;CORP_GLOBAL         &gt;&lt; &gt;\n&lt;  &gt;&lt;00085/CORP_GLOB&gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;                    &gt;&lt;  &gt;&lt;                    &gt;&lt; &gt;\n&lt;  &gt;&lt;AL             &gt;&lt;  &gt;&lt;     &gt;&lt; &gt;&lt;               &gt;&lt;&gt;&lt;&gt;&lt;&gt;\n</code></pre>\n\n<p>You're going to want to buy the book Effective Awk Programming, 4th Edition, by Arnold Robbins and have it handy for reference as you start tinkering with that to see how it works and then building on it.</p>\n"}, {"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1540367789, "creation_date": 1540367789, "answer_id": 52963668, "question_id": 41171565, "link": "https://stackoverflow.com/questions/41171565/sed-awk-perl-formatting-multiple-paragraphs/52963668#52963668", "title": "sed/awk/perl formatting multiple paragraphs", "body": "<blockquote>\n  <p>I can handle one-liners, but for a report like this? I wouldn't know where to even begin.</p>\n</blockquote>\n\n<p>Indeed this seems hardly possible with a one-liner (unless it's one very long line). But to begin with, the problem can be analyzed and a possible solution outlined.</p>\n\n<ul>\n<li>Identify what parts of the input constitute the tables (where column lines are to be combined): We could use the lines of hyphens between column headers and text to identify the start of a table, and a short line or an unfitting line, where the gaps between the columns are not blank, to identify the end.</li>\n<li>Read a table in line by line, split each line into the columns (whose margins can be derived from the hyphen lines), and, if the current line is a wrapped continuation line of the preceding line (i. e. if it has empty columns), concatenate each column's texts. In the course of this, the required column widths can be determined from the maximum combined text lengths.</li>\n<li>Write the table out, using the before determined column widths.</li>\n</ul>\n\n<p>The following Perl program implements a solution. Note however that, since it uses <code>seek</code>, it cannot work on piped input, but only on a file.\n</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>#!/usr/bin/perl -wn\nif (/---/)  # here comes a table\n{\n    seek ARGV, $priprior, 0;    # set position back to header line\n    push @gap, $-[1] while /(?&lt;=-) *( )-/g; # find the column gaps\n    $tabrow = -1;               # index of current table row: no rows yet\n    @maxlng = (0)x($#gap+2);    # maximum length of text in each column\n    while (&lt;&gt;)                  # read the table, starting with headers\n    {   # check for end of table:\n        last if length() &lt;= $gap[-1] or substr($_, $gap[-1], 1) ne ' ';\n        $offset = 0;    # first column start\n        $contin = 0;    # is it a continuation line?\n        foreach $i (0..$#gap+1)\n        {   # extract column:\n            if ($i &lt;= $#gap)    # not last column?\n            {   $column[$i] = substr $_, $offset, $gap[$i]-$offset;\n                $offset = $gap[$i];\n            }\n            else                # last column\n            {   $column[$i] = substr $_, $offset;\n            }\n            $column[$i] =~ s/\\s+$//;        # remove trailing whitespace\n            $contin += $column[$i] eq ''    # column empty?\n        }\n        ++$tabrow unless $contin;\n        foreach $i (0..$#gap+1)\n        {   # ugly fix to restore the space in \"temp_auth /home/...\", where\n            # the column is wrapped early: --------------------\n                                         # ...\n                                         # /bin/cp temp_auth   \n                                         # /home/sudocfg/author\n                                         # ized_keys           \n            $table[$tabrow][$i] .= ' ' if $contin and length($table[1][$i])&gt;\n                                                length($table[$tabrow][$i]);\n            # now that's fixed, proceed with normal unwrapping of the column\n            $column[$i] =~ s/^ +// if $contin or $i;    # remove leading spaces\n            $table[$tabrow][$i] .= $column[$i];\n               $maxlng[$i] = length $table[$tabrow][$i] # update maximum length\n            if $maxlng[$i] &lt; length $table[$tabrow][$i];\n        }\n        undef $_; last if eof\n    }\n    foreach $e (@table)\n    {\n        foreach $i (0..$#gap+1) { printf \"%-*s\", $maxlng[$i]+1, $$e[$i]; }\n        print \"\\n\";\n    }\n    undef @gap; undef @table;\n}\nelse { print $previous_line if $previous_line }\n$previous_line = $_;\n$priprior = $prior;\n$prior = tell ARGV;\n\nEND { print $previous_line if $previous_line }\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5190526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9abf762abc4b1876db742bdb8d4377f9?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/5190526/nathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540367789, "creation_date": 1481828759, "last_edit_date": 1481833246, "question_id": 41171565, "link": "https://stackoverflow.com/questions/41171565/sed-awk-perl-formatting-multiple-paragraphs", "title": "sed/awk/perl formatting multiple paragraphs", "body": "<p></p>\n\n<p>dzinfo gives me output formatted like this;</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>User: x0000001\nForced into restricted environment: No\n\n  Role Name        Avail Restricted Env \n  ---------------  ----- -------------- \n  login/Corp_All   Yes   None           \n  _Example-Role--  Yes   _Example-Role-- \n  ALL_Servers-Win        ALL_Servers-Win \n  /US_All                /US_All  \n  Domain_GLOBAL-Ro Yes   Domain_GLOBAL-Ro \n  le-CORE_Group-AL       le-CORE_Group-AL \n  L-MacOS/Domain_        L-MacOS/Domain_\n  GLOBAL                 GLOBAL      \n\n    Effective rights:\n    Password login\n    Non password login\n    Allow normal shell\n\n\nPAM Application  Avail Source Roles         \n---------------  ----- -------------------- \n*                Yes   login/US_All         \nPrivileged commands:\n  Name             Avail Command               Source Roles         \n  ---------------  ----- --------------------  -------------------- \n  CORP_GLOBAL-Com  Yes   /usr/bin/getfacl      CORP_GLOBAL-Role-COR \n  mand-CORE_SVR_I                              E_SVR_INFRA_ALL-LNX/ \n  NFRA_ALL-V042-S                              CORP_GLOBAL          \n  00042/CORP_GLOB                                                   \n  AL                                                                \n  CORP_GLOBAL-Com  Yes   /usr/bin/dzdo -l      CORP_GLOBAL-Role-COR \n  mand-CORE_SVR_I                              E_SVR_INFRA_ALL-LNX/ \n  NFRA_ALL-V042-S                              CORP_GLOBAL          \n  00048/CORP_GLOB                                                   \n  AL                                                                \n  CORP_GLOBAL-Com  Yes   /bin/cp temp_auth     CORP_GLOBAL-Role-COR \n  mand-CORE_SVR_I        /home/sudocfg/author  E_SVR_INFRA_ALL-LNX/ \n  NFRA_ALL-V042-S        ized_keys             CORP_GLOBAL          \n  00085/CORP_GLOB                                                   \n  AL                                                                \n</code></pre>\n\n<p>What tool would be the best choice to format a report like this? And how could I match/combine and format the columns/lines to something like the following?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>User: x0000001\nForced into restricted environment: No\n\n  Role Name                                             Avail   Restricted Env \n  ---------------                                       -----   -------------- \n  login/Corp_All                                        Yes     None           \n  _Example-Role--ALL_Servers-Win/US_All                 Yes     _Example-Role--ALL_Servers-Win/US_All \n  Domain_GLOBAL-Role-CORE_Group-ALL-MacOS/Domain_GLOBAL Yes     Domain_GLOBAL-Role-CORE_Group-ALL-MacOS/Domain_GLOBAL \n\n    Effective rights:\n    Password login\n    Non password login\n    Allow normal shell\n\n  PAM Application  Avail Source Roles         \n  ---------------  ----- -------------------- \n  *                Yes   login/US_All         \n\nPrivileged commands:\n  Name                                                              Avail   Command                                             Source Roles        \n  ---------------                                                   -----   --------------------                                -------------------- \n  CORP_GLOBAL-Command-CORE_SVR_INFRA_ALL-V042-S00042/CORP_GLOBAL    Yes     /usr/bin/getfacl                                    CORP_GLOBAL-Role-CORE_SVR_INFRA_ALL-LNX/CORP_GLOBAL\n  CORP_GLOBAL-Command-CORE_SVR_INFRA_ALL-V042-S00048/CORP_GLOBAL    Yes     /usr/bin/dzdo -l                                    CORP_GLOBAL-Role-CORE_SVR_INFRA_ALL-LNX/CORP_GLOBAL \n  CORP_GLOBAL-Command-CORE_SVR_INFRA_ALL-V042-S00085/CORP_GLOBAL    Yes     /bin/cp temp_auth /home/sudocfg/authorized_keys     CORP_GLOBAL-Role-CORE_SVR_INFRA_ALL-LNX/CORP_GLOBAL\n</code></pre>\n\n<p>The text in each column can vary greatly, so I'd like to have the width automatically adjust.</p>\n\n<p>I can handle one-liners, but for a report like this? I wouldn't know where to even begin.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1481825879, "post_id": 41170776, "comment_id": 69541871, "body": "use <code>s&#47;...&#47;...&#47;</code> instead of <code>tr&#47;  &#47;  &#47;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1481852956, "post_id": 41173493, "comment_id": 69552829, "body": "Cool, I didn&#39;t know about <code>\\K</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1481836740, "creation_date": 1481836740, "answer_id": 41173493, "question_id": 41170776, "link": "https://stackoverflow.com/questions/41170776/need-perl-one-liner-to-split-string-in-specific-column-of-text-file/41173493#41173493", "title": "Need perl one-liner to split string in specific column of text file", "body": "<p></p>\n\n<p>There's no need for such complexity. This will do what you ask</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -pe 's/\\.[^.]*\\K\\./\\t/' myfile\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>AGREE   FIND_008903.FIND_008907 FIND_008903.FIND_008904 0.5026 0.2524\nAGREE   FIND_000499.FIND_000503 FIND_000499.FIND_000502 0.5699 0.2790\nAGREE   FIND_004339.FIND_004342 FIND_004339.FIND_004341 0.5307 0.2562\nAGREE   FIND_008097.FIND_008100 FIND_008097.FIND_008098 0.5000 0.2456\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5438127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5ff96d24ecb7309b3940b7ac7a7fe4?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Hwang", "link": "https://stackoverflow.com/users/5438127/stephen-hwang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 41173493, "answer_count": 1, "score": 0, "last_activity_date": 1481836740, "creation_date": 1481825721, "question_id": 41170776, "link": "https://stackoverflow.com/questions/41170776/need-perl-one-liner-to-split-string-in-specific-column-of-text-file", "title": "Need perl one-liner to split string in specific column of text file", "body": "<p>I have the following tab delimited file</p>\n\n<pre><code>AGREE   FIND_008903.FIND_008907.FIND_008903.FIND_008904 0.5026 0.2524\nAGREE   FIND_000499.FIND_000503.FIND_000499.FIND_000502 0.5699 0.2790\nAGREE   FIND_004339.FIND_004342.FIND_004339.FIND_004341 0.5307 0.2562\nAGREE   FIND_008097.FIND_008100.FIND_008097.FIND_008098 0.5000 0.2456\n</code></pre>\n\n<p>I need a perl one-liner to replace the 2nd period so that the result is </p>\n\n<pre><code>AGREE   FIND_008903.FIND_008907   FIND_008903.FIND_008904 0.5026 0.2524\nAGREE   FIND_000499.FIND_000503   FIND_000499.FIND_000502 0.5699 0.2790\nAGREE   FIND_004339.FIND_004342   FIND_004339.FIND_004341 0.5307 0.2562\nAGREE   FIND_008097.FIND_008100   FIND_008097.FIND_008098 0.5000 0.2456\n</code></pre>\n\n<p>I've tried this but it replaces all periods.</p>\n\n<pre><code>&gt; perl -pe 'tr/(\\w+\\.\\w+)\\.(\\w+\\.\\w+)/$1\\t$2/s' /share/nas04/bioinformatics_group/data/studies/phenx/FIND/Stephen/Processed/king/FIND_AA.ld_pruned.ibd_king_comparison\n\n\nAGREE   FIND_008903$FIND_008907$FIND_008903$FIND_008904 0$5026 0$2524\nAGREE   FIND_000499$FIND_000503$FIND_000499$FIND_000502 0$5699 0$2790\nAGREE   FIND_004339$FIND_004342$FIND_004339$FIND_004341 0$5307 0$2562\nAGREE   FIND_008097$FIND_008100$FIND_008097$FIND_008098 0$5000 0$2456\n</code></pre>\n\n<p>I appreciate any guidance.</p>\n"}, {"tags": ["perl", "www-mechanize"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1481823936, "creation_date": 1481823936, "answer_id": 41170312, "question_id": 41169803, "link": "https://stackoverflow.com/questions/41169803/wwwmechanize-fill-in-form-fields-with-unkown-name/41170312#41170312", "title": "WWW::Mechanize - fill in form fields with unkown name", "body": "<p><code>WWW::Mechanize</code> uses the <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow noreferrer\"><code>HTML::Form</code></a> module to process forms in the page. That module doesn't extract the <code>tabindex</code> attribute, so you have no access to it when using Mechanize</p>\n\n<p>However, a call to <code>$mech-&gt;forms</code> will return a list of <code>HTML::Form</code> obiects for the page, which have an <code>inputs</code> method that returns a list of input objects for the form</p>\n\n<p>If a list of input names (which may not be in <code>tabindex</code> order) is a help to you, then you can do what you want this way</p>\n\n<p>Unfortunately your requirement is vague, so it is hard to show some example code</p>\n"}], "owner": {"reputation": 1459, "user_id": 2766646, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/cb2e74c36b21f8b15d3bf580994dc6e9?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/2766646/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481823936, "creation_date": 1481822099, "question_id": 41169803, "link": "https://stackoverflow.com/questions/41169803/wwwmechanize-fill-in-form-fields-with-unkown-name", "title": "WWW::Mechanize - fill in form fields with unkown name", "body": "<p>With WWW::Mechanize I want to submit a form. The problem is, that every time the form loads, the input field names are different.</p>\n\n<pre><code>&lt;input type=\"text\" name=\"field[347483]\" tabindex=\"1\"&gt;\n&lt;input type=\"text\" name=\"field[938377]\" tabindex=\"2\"&gt;\n</code></pre>\n\n<p>The only thing I know in advance is the tabindex, not the number between [ and ].</p>\n\n<p>Is there a way to fill in the fields with their tabindex? Or is there some way to tell it to \"use the first field named field[*]\" or something like that?</p>\n"}, {"tags": ["perl", "unit-testing", "subroutine"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1481817763, "post_id": 41168317, "comment_id": 69537264, "body": "why not just check to ensure that the object&#39;s attribute was set correctly through the attr directly, or better, through a getter? eg: <code>my $p=&#39;blah&#39;; $obj-&gt;my_sub($p); is $obj-&gt;{field}, $p, &quot;my_sub() set the field attr ok&quot;;</code>"}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1481818042, "post_id": 41168317, "comment_id": 69537445, "body": "Indeed. I realize that I should have phrased my question differently. The actual issue is to be able to evaluate if the subroutine ended correctly, not only for field affectations, but whenever a subroutine is not supposed to return value. Is it clearer this way?"}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1481818295, "post_id": 41168317, "comment_id": 69537601, "body": "Oh. reading the question, I understand there is no such thing as a generic answer isn&#39;t it? I need to be explicit for my return value or test nay actions it is supposed to have done to my object."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1481818451, "post_id": 41168317, "comment_id": 69537700, "body": "That&#39;s correct."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481822190, "post_id": 41168317, "comment_id": 69539906, "body": "On a separate note, that test should probably be <code>$possible_value =~ &#47;\\A\\w+\\z&#47;</code>, so that the pattern is a regex instead of a single-quoted string, and it checks that the <i>whole string</i> consists of &quot;word&quot; characters. What you had will test only that it contained at least one &quot;word&quot; character."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481833120, "post_id": 41168317, "comment_id": 69545646, "body": "Indeed. That was just a quick example but you&#39;re right nonetheless!"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481818056, "post_id": 41168448, "comment_id": 69537460, "body": "With a caveat though - sometimes <code>$possible_value</code> might be evaluated as &#39;true&#39; and other times false. I&#39;m not convinced that&#39;s good, and would tend to prefer an explicit return."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481818137, "post_id": 41168448, "comment_id": 69537498, "body": "@Sobrique I prefer <i>always</i> doing an explicit return"}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481818480, "post_id": 41168448, "comment_id": 69537715, "body": "Thank you. Just to be clear - and sorry for being dense: If I add the explicit retunr at the end, will the ok() test evaluate to true or should I not use this test anyway?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 2, "creation_date": 1481818699, "post_id": 41168448, "comment_id": 69537848, "body": "@David If you have <code>return;</code> it will return <code>undef</code>. You should have <code>return;</code> so you know what you return when no return value is needed. That gives you a stable interface. But <code>return</code> is not a true value, so <code>ok foo()</code> will fail. As ysth said, you can get rid of that specific test, because all it does is check if the return value is a true value, and that is not a useful test."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 1, "creation_date": 1481818889, "post_id": 41168448, "comment_id": 69537974, "body": "@DavidVerdin instead, since you are essentially writing a setter method, you&#39;d want a test that checks if the value got set correctly. You&#39;d do that by calling the getter. If there is a <code>$object-&gt;field</code> then you could do <code>is $object-&gt;field, q{turlututu}, q{field got set correctly};</code>. You can also reach into the underlying hashref, but I would not recommend that. It might also make sense to add another test that checks that <code>field</code> wasn&#39;t set if the exception is thrown. But that&#39;s essentially what stevieb said. Have you looked at Moose?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481819067, "post_id": 41168448, "comment_id": 69538078, "body": "@David sometimes setters return the old value that gets overwritten. That might also be a good idea."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481819103, "post_id": 41168448, "comment_id": 69538097, "body": "Thanks. Yes I have looked at moose and it looked damn cool. However I heard two critics regarding moose: 1- &quot;It requires a third of CPAN&quot; and 2- &quot;it is not performance-friendly&quot;. Are these critics valid according to you?"}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481819206, "post_id": 41168448, "comment_id": 69538168, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/130713/discussion-between-david-verdin-and-simbabque\">continue this discussion in chat</a>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481821668, "post_id": 41168448, "comment_id": 69539620, "body": "to be clear, <code>return;</code> returns nothing in list context and <code>undef</code> in scalar context."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481823383, "post_id": 41168448, "comment_id": 69540602, "body": "No way, the lack of <code>return</code> is not a problem. The problem is how the sub is called."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481825559, "post_id": 41168448, "comment_id": 69541719, "body": "@ikegami not sure who you are talking to or what your point is.  can you explain?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481827170, "post_id": 41168448, "comment_id": 69542492, "body": "@ysth, You said &quot;<i>A sub that has no need to return a value should end with <code>return;</code></i>&quot;. There&#39;s no reason to do that (except as documentation). A sub that doesn&#39;t have a return value should not have its return value checked, so adding <code>return;</code> doesn&#39;t matter. The bug here is not the lack of <code>return</code>, but doing <code>ok(my_sub())</code>. Note that <code>ok(my_sub())</code> will still fail with a <code>return;</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481850715, "post_id": 41168448, "comment_id": 69552285, "body": "@ikegami: I believe in programming defensively.  The sub should guard against those who do try to use the return value by making it something predictable.  And there wasn&#39;t a bug per se in the original code, since the sub would have returned turlututu.  IMO the correct fix is adding an explicit return <i>and</i> removing the ok."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481851549, "post_id": 41168448, "comment_id": 69552469, "body": "Adding <code>return;</code> is not coding defensively since <code>undef</code> is just as meaningless as any other value. <i>Maybe</i> you&#39;d have a point if you had recommended adding <code>return 1;</code>, a true value to indicate the sub succeeded."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481851889, "post_id": 41168448, "comment_id": 69552568, "body": "adding return; prevents the return from being unpredictable (for the unwanted few who use the return value).  setting the return value to 1 just for those unwanted few is dumb, and defeats the self-documentation of a <code>return;</code> at the end showing that a sub doesn&#39;t have return values."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 1, "last_activity_date": 1481818097, "last_edit_date": 1481818097, "creation_date": 1481817860, "answer_id": 41168448, "question_id": 41168317, "link": "https://stackoverflow.com/questions/41168317/evaluating-the-success-failure-of-a-subroutine/41168448#41168448", "title": "Evaluating the success/failure of a subroutine", "body": "<p>A sub that has no need to return a value should end with</p>\n\n<pre><code>return;\n</code></pre>\n\n<p>In your case, without it, you will be returning the value of $possible_value, which is the last thing executed.  This doesn't look like a useful thing to return.</p>\n\n<p>Assuming you add the explicit return:</p>\n\n<p>Your <code>throws_ok</code> test looks fine.  You should then test that the field was correctly set.  Your <code>ok</code> test isn't needed, since your sub won't be returning anything.</p>\n"}, {"comments": [{"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481818577, "post_id": 41168553, "comment_id": 69537775, "body": "Thanks. I&#39;ll make sur to check that the object was correctly modified and stop wondering if there exists a magical generic evaluation method."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1481818166, "creation_date": 1481818166, "answer_id": 41168553, "question_id": 41168317, "link": "https://stackoverflow.com/questions/41168317/evaluating-the-success-failure-of-a-subroutine/41168553#41168553", "title": "Evaluating the success/failure of a subroutine", "body": "<p>In this case, I'd just check to ensure that the object's attribute was set correctly. That's all this particular sub does. If it's set ok, the sub ended correctly. If it wasn't set, something went wrong before the sub ended.</p>\n\n<pre><code>my $p='blah'; \n$obj-&gt;my_sub($p); \n\nis $obj-&gt;{field}, $p, \"my_sub() set the field attr ok\";\n</code></pre>\n\n<p>It would be better if the <code>field</code> attribute had a getter so you're not breaking encapsulation, but I digress.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481820854, "post_id": 41168981, "comment_id": 69539154, "body": "You should include a link for the Perl::Critic quote."}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1481821050, "post_id": 41168981, "comment_id": 69539271, "body": "I just ran <code>perlcritic -1 --verbose 11</code> from my command line, but here is the cpan page for the module it&#39;s from: <a href=\"http://search.cpan.org/~thaljef/Perl-Critic/lib/Perl/Critic/Policy/Subroutines/RequireFinalReturn.pm\" rel=\"nofollow noreferrer\">Perl::Critic::Policy::Subroutines::RequireFinalReturn</a>"}], "tags": [], "owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "is_accepted": false, "score": 1, "last_activity_date": 1481821260, "last_edit_date": 1481821260, "creation_date": 1481819425, "answer_id": 41168981, "question_id": 41168317, "link": "https://stackoverflow.com/questions/41168317/evaluating-the-success-failure-of-a-subroutine/41168981#41168981", "title": "Evaluating the success/failure of a subroutine", "body": "<p>Perl returns the result of the last executed code by default. </p>\n\n<p>For example:</p>\n\n<pre><code>print main();\n\nsub main {\n    my $var = 9 * 7;\n}\n</code></pre>\n\n<p><code>print</code> will output 63. If your code may be affected by the output of a given subroutine, then you need to set a return value (it's generally considered a best practice to always set an explicit return at the end of a subroutine/method).</p>\n\n<pre><code>print main();\n\nsub main {\n    my $var = 9 * 7;\n    return;\n}\n</code></pre>\n\n<p><code>print</code> will output nothing.</p>\n\n<p>Personally, I always try to set a return value depending on the context of what the subroutine will be returning to, but if you're writing code other people will be using, then it's generally safest to just do <code>return;</code>.</p>\n\n<p>An additional explanation from Perl::Critic (<a href=\"http://search.cpan.org/~thaljef/Perl-Critic/lib/Perl/Critic/Policy/Subroutines/RequireFinalReturn.pm\" rel=\"nofollow noreferrer\">link to the specific policy</a>):</p>\n\n<blockquote>\n  <p>Subroutine \"main\" does not end with \"return\" at line 8, near 'sub main {'.</p>\n  \n  <p>Subroutines::RequireFinalReturn (Severity: 4)</p>\n  \n  <p>Require all subroutines to terminate explicitly with one of the\n      following: <code>return',</code>carp', <code>croak',</code>die', <code>exec',</code>exit', <code>goto', or\n  </code>throw'.</p>\n  \n  <p>Subroutines without explicit return statements at their ends can be\n      confusing. It can be challenging to deduce what the return value will\n      be.</p>\n  \n  <p>Furthermore, if the programmer did not mean for there to be a\n      significant return value, and omits a return statement, some of the\n      subroutine's inner data can leak to the outside. Consider this case:</p>\n\n<pre><code>   package Password;\n    # every time the user guesses the password wrong, its value\n    # is rotated by one character\n    my $password;\n    sub set_password {\n        $password = shift;\n    }\n    sub check_password {\n        my $guess = shift;\n        if ($guess eq $password) {\n            unlock_secrets();\n        } else {\n            $password = (substr $password, 1).(substr $password, 0, 1);\n        }\n    }\n    1;\n</code></pre>\n  \n  <p>In this case, the last statement in check_password() is the assignment.\n      The result of that assignment is the implicit return value, so a wrong\n      guess returns the right password! Adding a `return;' at the end of that\n      subroutine solves the problem.</p>\n  \n  <p>The only exception allowed is an empty subroutine.</p>\n  \n  <p>Be careful when fixing problems identified by this Policy; don't blindly\n      put a `return;' statement at the end of every subroutine.</p>\n</blockquote>\n"}], "owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 652, "favorite_count": 0, "accepted_answer_id": 41168448, "answer_count": 3, "score": 1, "last_activity_date": 1481821260, "creation_date": 1481817492, "last_edit_date": 1481818202, "question_id": 41168317, "link": "https://stackoverflow.com/questions/41168317/evaluating-the-success-failure-of-a-subroutine", "title": "Evaluating the success/failure of a subroutine", "body": "<p>There's something quite unclear to me about subs return value.\nI like to test my modules, sub by sub, and check whether they issue the correct return value or the correct exception if the case arise.</p>\n\n<p>For example, let's say I have the following code (X::Argument::BadFormat is an exception handler derived from Exception::Class):</p>\n\n<pre><code>    package My::Module;\n\n    use strict;\n    use warnings;\n\n    sub new{#does things unrelated to the current question}\n\n    sub my_sub {\n        my ($self,$possible_value) = @_;\n\n        if ($possible_value =~ q{\\w}) { #Affect value to current object\n            $self-&gt;{field} = $possible_value;\n        }else{ #throw an exception\n            X::Argument::BadFormat-&gt;throw(\n                arg             =&gt; 'possible_value',\n                expected_format =&gt; 'something that looks like a word',\n                received_value  =&gt; $possible_value,\n            );\n        }\n    }\n</code></pre>\n\n<p>In the test file, I will run tests such as:</p>\n\n<pre><code>my $object = My::Module-&gt;new();\nthrows_ok(sub {$object-&gt;my_sub('*')}, 'X::Argument::BadFormat', 'Faulty value will raise an exception');\nok($object-&gt;my_sub('turlututu'));\n</code></pre>\n\n<p>It is easy to test when:</p>\n\n<ul>\n<li>the sub returns a value,</li>\n<li>the test conditions must raise an exception,</li>\n</ul>\n\n<p>However, when I just set the value of a field in the current object, I have no reason to return anything.</p>\n\n<p>In that case:</p>\n\n<ul>\n<li>is the simple execution of the code enough to evaluate the sub output as \"true\" ?</li>\n<li>Shall I add an explicit \"return 1;\" ?</li>\n<li>does the sub actually return the last evaluation, in this case the sucess of the</li>\n<li>test in the \"if\"? Something else I did not think about but which is\nobvious to everybody?</li>\n</ul>\n"}, {"tags": ["perl", "distance", "pdb", "calculation"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481811394, "post_id": 41165755, "comment_id": 69533033, "body": "what is your expected output?"}, {"owner": {"reputation": 103, "user_id": 4832526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tWtPxdPmt8Y/AAAAAAAAAAI/AAAAAAAAAEA/zaIvO1Z6Qnk/photo.jpg?sz=128", "display_name": "pradeep pant", "link": "https://stackoverflow.com/users/4832526/pradeep-pant"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481870750, "post_id": 41165755, "comment_id": 69557500, "body": "GLN-HIS &quot;distance value&quot; GLN-ASN &quot;distance value&quot; GLN-GLU &quot;distance value&quot; ... HIS-ASN &quot;distance value&quot; HIS-GLU &quot;distance value&quot; HIS-VAL &quot;distance value&quot; ... ASN-GLU &quot;distance value&quot; ASN-VAL &quot;distance value&quot; ... so on... @ssr1012"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4832526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tWtPxdPmt8Y/AAAAAAAAAAI/AAAAAAAAAEA/zaIvO1Z6Qnk/photo.jpg?sz=128", "display_name": "pradeep pant", "link": "https://stackoverflow.com/users/4832526/pradeep-pant"}, "edited": false, "score": 0, "creation_date": 1481870382, "post_id": 41174976, "comment_id": 69557328, "body": "Should I insert these lines in place of  &quot;push @line, $_;  &quot; keeping other parts of the code as it is? Please post the full code after adding these lines."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "reply_to_user": {"reputation": 103, "user_id": 4832526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tWtPxdPmt8Y/AAAAAAAAAAI/AAAAAAAAAEA/zaIvO1Z6Qnk/photo.jpg?sz=128", "display_name": "pradeep pant", "link": "https://stackoverflow.com/users/4832526/pradeep-pant"}, "edited": false, "score": 1, "creation_date": 1481909295, "post_id": 41174976, "comment_id": 69578953, "body": "@pradeep pant I added the code preceding the 2 for loops. sub <code>process</code> is your sub <code>proc</code> (You&#39;ll need to edit your <code>proc</code> sub to either print the distances or return a suitable string to print)"}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 1, "last_activity_date": 1481909307, "last_edit_date": 1481909307, "creation_date": 1481844332, "answer_id": 41174976, "question_id": 41165755, "link": "https://stackoverflow.com/questions/41165755/calculating-distances-in-pdb-file/41174976#41174976", "title": "Calculating distances in PDB file", "body": "<p>To get the pairs, read the file into an array, <code>@data_array</code>. Then loop over the entries.</p>\n\n<p><strong>Update:</strong> Added file opening and load @data_array. </p>\n\n<pre><code>open my $fh, '&lt;', 'atom_file.pdb' or die $!;\n\nmy @data_array = &lt;$fh&gt;;\n\nclose $fh or die $!;\n\nfor my $i (0 .. $#data_array) {\n    for my $j ($i+1 .. $#data_array) {\n        process(@data_array[$i,$j]);    \n    }   \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1481873717, "creation_date": 1481873717, "answer_id": 41179385, "question_id": 41165755, "link": "https://stackoverflow.com/questions/41165755/calculating-distances-in-pdb-file/41179385#41179385", "title": "Calculating distances in PDB file", "body": "<p>May be try this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @alllines = ();\nwhile(&lt;DATA&gt;) {  push(@alllines, $_);  }\n\n#Each Current line\nfor(my $i=0; $i&lt;=$#alllines+1; $i++)\n{\n    #Each Next line \n    for(my $j=$i+1; $j&lt;=$#alllines; $j++)\n    {\n        if($alllines[$i])\n        {\n            #Split the line into tab delimits\n            my ($line1_tb_1,$line1_tb_2,$line1_tb_3) = split /\\t/, $alllines[$i];\n            print \"Main_Line: $line1_tb_1\\t$line1_tb_2\\t$line1_tb_3\";\n            if($alllines[$j])\n            {\n                #Split the line into tab delimits\n                my ($line_nxt_tb1,$line_nxt_tb2,$line_nxt_tb3) = split /\\t/, $alllines[$j];\n\n                print \"Next_Line: $line_nxt_tb1\\t$line_nxt_tb2\\t$line_nxt_tb3\";\n\n                #Do it your coding/regex here\n            }\n        }\n        #system 'pause'; Testing Purpose!!!\n    }\n}\n\n__DATA__\ntab1    123 456\ntab2    789 012\ntab3    345 678\ntab4    901 234\ntab5    567 890\n</code></pre>\n\n<p>I hope this will help you.</p>\n"}], "owner": {"reputation": 103, "user_id": 4832526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tWtPxdPmt8Y/AAAAAAAAAAI/AAAAAAAAAEA/zaIvO1Z6Qnk/photo.jpg?sz=128", "display_name": "pradeep pant", "link": "https://stackoverflow.com/users/4832526/pradeep-pant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 41174976, "answer_count": 2, "score": 0, "last_activity_date": 1481909307, "creation_date": 1481809654, "last_edit_date": 1495539946, "question_id": 41165755, "link": "https://stackoverflow.com/questions/41165755/calculating-distances-in-pdb-file", "title": "Calculating distances in PDB file", "body": "<p>With reference to the question <a href=\"https://stackoverflow.com/questions/13645439/calculating-the-distance-between-atomic-coordinates\">Calculating the distance between atomic coordinates</a>, where the input is</p>\n\n<pre><code>ATOM    920  CA  GLN A 203      39.292 -13.354  17.416  1.00 55.76           C \nATOM    929  CA  HIS A 204      38.546 -15.963  14.792  1.00 29.53           C\nATOM    939  CA  ASN A 205      39.443 -17.018  11.206  1.00 54.49           C  \nATOM    947  CA  GLU A 206      41.454 -13.901  10.155  1.00 26.32           C\nATOM    956  CA  VAL A 207      43.664 -14.041  13.279  1.00 40.65           C \n.\n.\n.\n\nATOM    963  CA  GLU A 208      45.403 -17.443  13.188  1.00 40.25           C  \n</code></pre>\n\n<p>there is <a href=\"https://stackoverflow.com/a/13646575/1331451\">an answer</a> reported as</p>\n\n<blockquote>\n<pre><code>use strict;\nuse warnings;\n\nmy @line;\nwhile (&lt;&gt;) {\n    push @line, $_;            # add line to buffer\n    next if @line &lt; 2;         # skip unless buffer is full\n    print proc(@line), \"\\n\";   # process and print \n    shift @line;               # remove used line \n}\n\nsub proc {\n    my @a = split ' ', shift;   # line 1\n    my @b = split ' ', shift;   # line 2\n    my $x = ($a[6]-$b[6]);      # calculate the diffs\n    my $y = ($a[7]-$b[7]);\n    my $z = ($a[8]-$b[8]);\n    my $dist = sprintf \"%.1f\",                # format the number\n                   sqrt($x**2+$y**2+$z**2);   # do the calculation\n    return \"$a[3]-$b[3]\\t$dist\"; # return the string for printing\n}\n</code></pre>\n</blockquote>\n\n<p>The output of above code is the distance between the first CA to the second one and second to third and so on... </p>\n\n<p>How to modify this code to find the distance between first CA to rest of the CAs (2, 3, ..) and from second CA to rest of the CAs (3, 4, ..) and so on and printing only those which is less then 5 Angstrom?\nI found that <code>push @line, $_;</code> statement should be altered to increase the array size but not clear how to do that.</p>\n"}, {"tags": ["perl", "drag-and-drop", "listbox", "tk", "listboxitems"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481783500, "post_id": 41157594, "comment_id": 69516870, "body": "<a href=\"http://computer-programming-forum.com/33-perl/cca97818685975c1.htm\" rel=\"nofollow noreferrer\">Check this</a>"}], "owner": {"reputation": 33, "user_id": 5609260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca577c43ed6a918de6580a69add8249?s=128&d=identicon&r=PG", "display_name": "markh", "link": "https://stackoverflow.com/users/5609260/markh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1481800546, "creation_date": 1481782463, "last_edit_date": 1481800546, "question_id": 41157594, "link": "https://stackoverflow.com/questions/41157594/how-to-reorder-entries-in-a-perl-tk-listbox-using-drag-and-drop", "title": "How to reorder entries in a Perl Tk listbox using drag and drop?", "body": "<p>I have a scrollable listbox and I'd like to allow drag and drop to rearrange the order of entries. i.e. select a listbox entry and drag it to a different position in the same listbox.</p>\n\n<p>Any working examples please?</p>\n"}, {"tags": ["linux", "database", "perl", "shell", "strace"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 3, "creation_date": 1481781054, "post_id": 41157238, "comment_id": 69515984, "body": "I don&#39;t think an strace is of any value without the source code.  Then again, if the source is Perl I doubt an strace is going to be helpful.  You need to run your Perl in the debugger and set a breakpoint where you detect that no jobs are available and wait until it triggers in a situation where you know jobs are available.  Then look at the program&#39;s variables to figure out what is happening."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481781625, "post_id": 41157238, "comment_id": 69516189, "body": "Or, pepper your Perl script with print statements at places you think are useful.  Or, post the script here -- reduced to a minimal version that still has that problem.  This (strace) has very little use for people who have no clue about your script."}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1481782675, "post_id": 41157238, "comment_id": 69516535, "body": "_llseek seems like a suspect.  Would need to see the script to understand what is going on."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481830013, "post_id": 41157238, "comment_id": 69544066, "body": "I doubt the llseek is a problem. It seeks to the current position, probably to clear buffers, but I bet it doesn&#39;t matter that it fails on pipes."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1481831243, "creation_date": 1481831243, "answer_id": 41172206, "question_id": 41157238, "link": "https://stackoverflow.com/questions/41157238/trouble-understanding-strace-of-a-process/41172206#41172206", "title": "Trouble understanding strace of a process", "body": "<p>That creates a child process (<code>clone</code>), tries to obtain data from it (<code>read 6</code>). The child closed the pipe, so the read returns EOF (<code>0</code>). This is taken to be a sign that the child has exited, so it tries to reap the child (<code>waitpid</code>). This fails (<code>-1</code>), which means <code>$SIG{CHLD}</code> must have been set to <code>IGNORE</code>. The status might have been useful.</p>\n\n<p>The presence of the <code>8</code>/<code>9</code> pipe indicates the child will call <code>exec</code>. The pipe is used to notify the parent of an error manipulating file handles or calling <code>exec</code>. The child would have set <code>9</code> to close-on-exec, so receiving an EOF without any data from this pipe (as is the case here) indicates the <code>exec</code> was successful.</p>\n"}], "owner": {"reputation": 1, "user_id": 7300246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e0eaa31e59f6654639daf21590b7b9d?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7300246/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481831243, "creation_date": 1481780812, "last_edit_date": 1481830236, "question_id": 41157238, "link": "https://stackoverflow.com/questions/41157238/trouble-understanding-strace-of-a-process", "title": "Trouble understanding strace of a process", "body": "<p>I have a perl script running as daemon. It hits a database every 10 seconds and if there are any jobs in the queue, it spawns a separate shell to execute an individual job. But very often script fails to fetch jobs from database.</p>\n\n<p>Ideally there should be calls to DB like </p>\n\n<pre><code>read(3, \"\\3def\\3job\\rqueueb\\7JobTy\"..., 55) = 55\nread(3, \";\\0\\0\\6\", 4)                   = 4\n</code></pre>\n\n<p>Below is the strace of this daemon/process. Is it waiting for something? I appreciate any help.</p>\n\n<pre><code>pipe([6, 7])                            = 0\npipe([8, 9])                            = 0\nclone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0) = 31858\nclose(9)                                = 0\nclose(7)                                = 0\nread(8, \"\", 4)                          = 0\nclose(8)                                = 0\nfcntl64(6, F_GETFL)                     = 0 (flags O_RDONLY)\nfstat64(6, {st_mode=S_IFIFO|0600, st_size=0, ...}) = 0\nmmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xfffffffff7783000\n_llseek(6, 0, 0xffd4e540, SEEK_CUR)     = -1 ESPIPE (Illegal seek)\nfstat64(6, {st_mode=S_IFIFO|0600, st_size=0, ...}) = 0\nread(6, \"\", 4096)                       = 0\nclose(6)                                = 0\nmunmap(0xf7783000, 4096)                = 0\nrt_sigaction(SIGHUP, {SIG_IGN, [], 0}, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGINT, {SIG_IGN, [], 0}, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGQUIT, {SIG_IGN, [], 0}, {SIG_DFL, [], 0}, 8) = 0\nwaitpid(31858, 0xffd4e670, 0)           = -1 ECHILD (No child processes)\nrt_sigaction(SIGHUP, {SIG_DFL, [], 0}, NULL, 8) = 0\nrt_sigaction(SIGINT, {SIG_DFL, [], 0}, NULL, 8) = 0\nrt_sigaction(SIGQUIT, {SIG_DFL, [], 0}, NULL, 8) = 0\n</code></pre>\n\n<p>And this is immediately repeated (at least) twice more.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1481774460, "post_id": 41156011, "comment_id": 69514117, "body": "Check that there is no trailing whitespace after the <code>HERE</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7159794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f7a00a9ea9f6109e1516c639765ee9?s=128&d=identicon&r=PG&f=1", "display_name": "jkittle1209", "link": "https://stackoverflow.com/users/7159794/jkittle1209"}, "edited": false, "score": 0, "creation_date": 1481775378, "post_id": 41156288, "comment_id": 69514315, "body": "I made the change and got this error:   - 255 perl returned nonzero status Status: 500 Content-type: text/html   &lt;/p&gt; quote.cgi: Bareword found where operator expected at /kunden/homepages/2/d654570224/htdocs/MrKittles/quote.cgi line 8, near &quot;&lt;H3&gt;Item&quot; quote.cgi: \t(Missing operator before Item?) quote.cgi: syntax error at /kunden/homepages/2/d654570224/htdocs/MrKittles/quote.cgi line 7, near &quot;BODY&gt;&quot; [Wed Dec 14 23:15:44 2016] quote.cgi: Search pattern not terminated at /kunden/homepages/2/d654570224/htdocs/MrKittles/quote.cgi line 8. STDOUT OK STDERR OK"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 1, "user_id": 7159794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f7a00a9ea9f6109e1516c639765ee9?s=128&d=identicon&r=PG&f=1", "display_name": "jkittle1209", "link": "https://stackoverflow.com/users/7159794/jkittle1209"}, "edited": false, "score": 1, "creation_date": 1481776105, "post_id": 41156288, "comment_id": 69514502, "body": "The line numbers from your error message do NOT match up with the code you provided above.  Could you provide the actual code?"}, {"owner": {"reputation": 1, "user_id": 7159794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f7a00a9ea9f6109e1516c639765ee9?s=128&d=identicon&r=PG&f=1", "display_name": "jkittle1209", "link": "https://stackoverflow.com/users/7159794/jkittle1209"}, "edited": false, "score": 0, "creation_date": 1482100805, "post_id": 41156288, "comment_id": 69626065, "body": "This is exactly my code."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1481774979, "creation_date": 1481774979, "answer_id": 41156288, "question_id": 41156011, "link": "https://stackoverflow.com/questions/41156011/cant-find-string-terminator-here-anywhere-before-eof/41156288#41156288", "title": "Can&#39;t find string terminator HERE anywhere before EOF", "body": "<p>Your cgi file is not compiling because you have some trailing whitespace after the here-doc closing string <code>HERE</code>.</p>\n\n<p>According to <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">perldoc perlop #Quote-and-Quote-like-Operators</a> in the <code>&lt;&lt;EOF</code> section:</p>\n\n<blockquote>\n  <p>The terminating string must appear by itself (unquoted and with no surrounding whitespace) on the terminating line.</p>\n</blockquote>\n\n<p>To fix, just remove the extra whitespace characters.</p>\n"}], "owner": {"reputation": 1, "user_id": 7159794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f7a00a9ea9f6109e1516c639765ee9?s=128&d=identicon&r=PG&f=1", "display_name": "jkittle1209", "link": "https://stackoverflow.com/users/7159794/jkittle1209"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "closed_date": 1481805997, "answer_count": 1, "score": 0, "last_activity_date": 1481776708, "creation_date": 1481772870, "last_edit_date": 1592644375, "question_id": 41156011, "link": "https://stackoverflow.com/questions/41156011/cant-find-string-terminator-here-anywhere-before-eof", "closed_reason": "Duplicate", "title": "Can&#39;t find string terminator HERE anywhere before EOF", "body": "<p>I am having trouble getting this script to work, It seems to work fine locally but not on the server for 1 and 1.</p>\n<p><strong>The error I am getting is:</strong></p>\n<blockquote>\n<p>Can't find string terminator HERE anywhere before EOF</p>\n</blockquote>\n<p><strong>I also seem to be getting this error:</strong></p>\n<blockquote>\n<p>255 perl returned nonzero status</p>\n<p>Status: 500</p>\n<p>Content-type: text/html**</p>\n</blockquote>\n<p>I am new to CGI, but I could not find anything online about this particular issue.</p>\n<p>Here is the HTML:</p>\n<pre><code>        &lt;div class=&quot;form&quot;&gt;&lt;h1&gt;Free Quote&lt;/h1&gt;\n\n        &lt;form action=&quot;/quote.cgi&quot;&gt;\n            First Name: &lt;input type=&quot;text&quot; name=&quot;fName&quot; placeholder=&quot;John&quot;&gt; &lt;br&gt;\n            Last Name: &lt;input type=&quot;text&quot; name=&quot;lName&quot; placeholder=&quot;Smith&quot;&gt;&lt;br&gt;\n            &lt;br&gt;\n            Company: &lt;input type=&quot;text&quot; name=&quot;company&quot; placeholder=&quot;Mr Kittles&quot;&gt;&lt;br&gt;\n            Phone Number: &lt;input type=&quot;text&quot; name=&quot;number&quot; placeholder=&quot;xxx-xxx-xxx&quot;&gt;&lt;br&gt;\n            E-Mail: &lt;input type=&quot;text&quot; name=&quot;email&quot; placeholder=&quot;Something@gmail.com&quot;&gt;&lt;br&gt;&lt;br&gt;\n            Tell us what you you are looking for:&lt;br&gt;&lt;br&gt;&lt;textarea name=&quot;message&quot; rows=&quot;10&quot; cols=&quot;35&quot; placeholder=&quot;Tell us all about your website.  Include type of business, colors, current web address if possible, and anything else you think is relevant for us to do some research before we call you back.&quot;&gt;&lt;/textarea&gt;&lt;br&gt;&lt;br&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n    \n        &lt;/form&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>And here is the CGI</p>\n<pre><code>#! /usr/bin/perl\n\nuse CGI qw(:standard);\nuse CGI::Carp qw(fatalsToBrowser);\nuse strict;\nuse warnings;\n\nprint &quot;Content-type: text/html\\n\\n&quot;;\n\n\nmy $fName = param('fName');\nmy $lName = param('lName');\nmy $company = param('company');\nmy $number = param('number');\nmy $email = param('email');\n\n\nprint &lt;&lt;HERE;\n&lt;HTML&gt;\n&lt;BODY&gt;\n&lt;H3&gt;Item has been registered and added to inventory.txt&lt;/H3&gt;\n\nHERE\n\nopen (INVENTORY, &quot;&gt;&gt;tet.txt&quot;) or die &quot;File error, $!&quot;;\nprint INVENTORY &quot;$fName|$lName|$company|$number|$email\\n&quot;;\nclose INVENTORY;\n</code></pre>\n"}]