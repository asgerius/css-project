[{"tags": ["linux", "eclipse", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1550702188, "post_id": 54796139, "comment_id": 96370582, "body": "What you had is sometimes called &quot;wall of text.&quot;  It can be difficult to decide to delve into all that and read.  I broke it up, along with a couple of other minor edits related to long and somewhat winding sentences; please go through it to check how it reads. (If you don&#39;t like this you can &quot;rollback&quot; to a previous version, after you click on &quot;edited ...&quot; link above my username)"}], "answers": [{"tags": [], "owner": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "is_accepted": false, "score": 2, "last_activity_date": 1550703266, "creation_date": 1550703266, "answer_id": 54796548, "question_id": 54796139, "link": "https://stackoverflow.com/questions/54796139/eclipse-workspace-as-projects-system-root-referece/54796548#54796548", "title": "Eclipse workspace as project&#39;s system root referece", "body": "<p>No. Good practice is to have paths like that configurable at runtime, usually via an environment variable or command line argument, specifically to accommodate changes between development, sandbox, and production environments.</p>\n"}], "owner": {"reputation": 21, "user_id": 11092591, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2qCzsyucgwU/AAAAAAAAAAI/AAAAAAAABAs/KJVuEBpuGRQ/photo.jpg?sz=128", "display_name": "Rocklandcitizen", "link": "https://stackoverflow.com/users/11092591/rocklandcitizen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1550703266, "creation_date": 1550701276, "last_edit_date": 1550702110, "question_id": 54796139, "link": "https://stackoverflow.com/questions/54796139/eclipse-workspace-as-projects-system-root-referece", "title": "Eclipse workspace as project&#39;s system root referece", "body": "<p>Is there a way to set up a project in Eclipse so that if my code has a reference to the system root directory then it will point to my workspace instead? (I am not seeing anything in the Run Configurations that would help me with this.) Something like the equivalent of making a sym link <code>/</code> that points to my workspace directory. </p>\n\n<p>I'm working on a perl project that has absolute references to the hosting Linux file system in what would be the production environment. Those directories don't exist in my development Eclipse environment. My workspace is located in an NFS space mounted on a cluster of servers that run Eclipse I access in my laptop via client software. </p>\n\n<p>So root can be any server's local space within the cluster and I don't have any access to anything above the workspace, and so I can't create the directory structures I need.  I would rather not hard-code alternate directory paths to accommodate differences between the sandbox and production environments and having to comment them out when deploying to the prod environment. </p>\n\n<p>I'm not finding a straightforward answer online. Maybe I'm not articulating the question correctly and help with that would also be appreciated if that is the case.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 1, "creation_date": 1550732890, "post_id": 54796093, "comment_id": 96379105, "body": "Doesn&#39;t look like a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. E.g. where are <code>sample</code> and <code>$search_pattern</code> defined? Furthermore: <code>my $workbook</code> is defined twice, i.e. the code won&#39;t compile due to <code>&quot;my&quot; variable $workbook masks earlier declaration in same scope...</code> error. The code won&#39;t compile due to <code>Unknown regexp modifier &quot;&#47;D&quot;...</code> error."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 1, "creation_date": 1550733375, "post_id": 54796093, "comment_id": 96379310, "body": "Your input is unclear. Is it (a) every line starts with <code>&gt;sp|</code> (i.e. incorrect line split in your question) or (b) every 2nd line starts with <code>&gt;sp|</code> and the search pattern should apply to the other lines (i.e. the ones that don&#39;t start with <code>&gt;sp|</code>)?"}, {"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "reply_to_user": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550760976, "post_id": 54796093, "comment_id": 96396564, "body": "@Stefan Becker every other line starts with <code>&gt;sp</code> which should be ignored. Yes the search pattern should apply to other line that does not have <code>&gt;sp| </code>"}, {"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "reply_to_user": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550761141, "post_id": 54796093, "comment_id": 96396698, "body": "@Stefan Becker sample is in the question now. If I could do it why would I ask for a help? I posted all I could do, but glad to explain whatever question you may have"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1550766549, "post_id": 54796093, "comment_id": 96400503, "body": "Ok, so now you are showing us a program that reads from an Excel file rather than a text file, and prints to the screen. How are those related? Let&#39;s go step by step. What kind of input do you actually have? Text files or XLSX files?"}, {"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1550766613, "post_id": 54796093, "comment_id": 96400539, "body": "@simbabque I have xls file, but I can always convert it to text if it is very different. I am extremely sorry for confusion. I mentioned it as xlsx in the very beginning of my question."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1550767793, "post_id": 54796093, "comment_id": 96401235, "body": "Programming is all about being exact. Let&#39;s take a step back and see what you actually want to do. Can you describe that in words please? No technical terms. Just what you have now, and what you want to have in the end."}, {"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1550768842, "post_id": 54796093, "comment_id": 96401864, "body": "@simbabque I have a xls files with many rows and a column. I don&#39;t want to change anything in the row that starts with  <code>&gt;sp</code> but the other rows. so lets look at <code>Cell (1, 0) = MVEAIVEFDYQAQHDDELTISVGEIITNIRKEDGGWW</code> I want to color the D anywhere in this cell , so it will be MVEAIVEF<code>D</code>YQAQH<code>DD</code>ELTISVGEIITNIRKE<code>D</code>GGWW"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1550772335, "post_id": 54796093, "comment_id": 96403645, "body": "OK, great. You&#39;ve got code that parses your input XLS file. Now add Excel::Writer::XLSX to the mix, create a new workbook and worksheet there. Make sure you use different variable names, because <code>$workbook</code> and <code>$worksheet</code> are already taken. Also create the format in the new output workbook. Inside of the <code>while</code> loop, where you iterate over the input rows, now write them to the new output worksheet. Look at the content to decide whether you want to pass them through with <code>-&gt;write_string</code>, or if you need <code>-&gt;write_rich_string</code>..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "edited": false, "score": 0, "creation_date": 1550772350, "post_id": 54796093, "comment_id": 96403651, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/188837/discussion-between-simbabque-and-nik\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "edited": false, "score": 0, "creation_date": 1550762682, "post_id": 54805090, "comment_id": 96397856, "body": "can you tell me which part of my code I should discard?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "edited": false, "score": 0, "creation_date": 1550763541, "post_id": 54805090, "comment_id": 96398455, "body": "@nik if you edit your question and change the code in there so it at least compiles, I can try."}, {"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "edited": false, "score": 0, "creation_date": 1550766454, "post_id": 54805090, "comment_id": 96400452, "body": "I am editing my effort, please comment anytime you get a chance"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1550745599, "creation_date": 1550745599, "answer_id": 54805090, "question_id": 54796093, "link": "https://stackoverflow.com/questions/54796093/how-can-i-color-strings-in-a-xlsx-file/54805090#54805090", "title": "how can I color strings in a xlsx file", "body": "<p>For Excel::Writer::XLSX you need to use the <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX#write_rich_string(-$row,-$column,-$format,-$string,-...,-$cell_format-)\" rel=\"nofollow noreferrer\"><code>write_rich_string</code> method</a> if you want to change individual parts of a single cell rather than a whole cell.</p>\n\n<p>The syntax is a bit weird.</p>\n\n<pre><code>my $highlight = $workbook-&gt;add_format;\n$highlight-&gt;set_bg_color('yellow');\n\n$worksheet-&gt;write_rich_string( 'A1', 'ABC', $highlight, 'D', 'EFG' );\n</code></pre>\n\n<p>Break your string into segments, and precede each segment you want highlighted with the <code>$highlight</code> format object. Segments that have no object in front of them are not formatted.</p>\n\n<p>This way of writing it makes it more clear. Remember Perl has list flattening, so empty lists <code>()</code> and extra commas just disappear, and the <code>=&gt;</code> is a <em>fat comma</em>, the same as a <code>,</code>.</p>\n\n<pre><code>$worksheet-&gt;write_rich_string(\n    'A1',                  # cell\n     ()         =&gt; 'ABC',  # unformatted segment\n     $highlight =&gt; 'D',    # highlighted\n     ()         =&gt; 'EFG',  # unformatted\n);\n</code></pre>\n\n<p>I am on Linux and don't have access to a real Excel. It seems Libre Office does not support this, or I am doing it wrong, so this is untested.</p>\n"}], "owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550766561, "creation_date": 1550701057, "last_edit_date": 1550766561, "question_id": 54796093, "link": "https://stackoverflow.com/questions/54796093/how-can-i-color-strings-in-a-xlsx-file", "title": "how can I color strings in a xlsx file", "body": "<p>I have a xls file which I want to color some strings differently </p>\n\n<p>My xlsx file is like below lets call it <strong>sample.xlsx</strong></p>\n\n<pre><code>&gt;sp|Q96B97|SH3K1_HUMAN SH3 domain-containing kinase-binding protein 1 OS=Homo sapiens OX=9606 GN=SH3KBP1 PE=1 SV=2\nMVEAIVEFDYQAQHDDELTISVGEIITNIRKEDGGWW\n&gt;sp|Q9UBS4|DJB11_HUMAN DnaJ homolog subfamily B member 11 OS=Homo sapiens OX=9606 GN=DNAJB11 PE=1 SV=1\nKLALQLHPDRNPDDPQAQEKFQDLGAAYEVLSDSEKRKQYD\n&gt;sp|P61916|NPC2_HUMAN NPC intracellular cholesterol transporter 2 OS=Homo sapiens OX=9606 GN=NPC2 PE=1 SV=1\nCQLSKGQSYSVNVTFTSNIQSKSSKAVVHGILMGVP\n</code></pre>\n\n<p>I want to read it and then save it when I color some letters. I want to color <strong>D</strong> in a yellow color </p>\n\n<pre><code>&gt;sp|Q96B97|SH3K1_HUMAN SH3 domain-containing kinase-binding protein 1 OS=Homo sapiens OX=9606 GN=SH3KBP1 PE=1 SV=2\nMVEAIVEF**D**YQAQH**DD**ELTISVGEIITNIRKE**D**GGWW\n&gt;sp|Q9UBS4|DJB11_HUMAN DnaJ homolog subfamily B member 11 OS=Homo sapiens OX=9606 GN=DNAJB11 PE=1 SV=1\nKLALQLHPDRNP**DD**PQAQEKFQ**D**LGAAYEVLS**D**SEKRKQY**D**\n&gt;sp|P61916|NPC2_HUMAN NPC intracellular cholesterol transporter 2 OS=Homo sapiens OX=9606 GN=NPC2 PE=1 SV=1\nCQLSKGQSYSVNVTFTSNIQSKSSKAVVHGILMGVP\n</code></pre>\n\n<p>I have tried to make it with no success</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Spreadsheet::WriteExcel; \nuse Excel::Writer::XLSX;\n\n# Create an Excel workbook and worksheet\nmy $workbook = Spreadsheet::WriteExcel-&gt;new('output.xls'); \nmy $workbook  = Excel::Writer::XLSX-&gt;new( 'sample.xlsx' );\nif ( !defined $workbook ) {\n    die $parser-&gt;error(), \".\\n\";\n}\nmy $worksheet = $workbook-&gt;add_worksheet();\nmy $highlight = $workbook-&gt;add_format();\n$highlight-&gt;set_bg_color('yellow');\nmy $row = 0;\nwhile (&lt;sample&gt;) {\n  chomp;\n  next unless /$search_pattern/D;\n  my $col = 0;\n  my @fields = split;\n  foreach my $field (@fields) {\n    if ( $field =~ /$search_pattern/D ) {\n      $worksheet-&gt;write_string($row, $col, $field, $highlight);\n    }\n    else {\n      $worksheet-&gt;write_string($row, $col, $field);\n    }\n    $col++;\n  }\n  $row++;\n}\n$workbook-&gt;close()\n</code></pre>\n\n<p>every other line starts with <code>&gt;sp</code> which should be ignored. The search pattern should apply to other line that does not have <code>&gt;sp|</code></p>\n\n<p><strong>Edited</strong> </p>\n\n<p>Now I can read the xls and print them </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Excel::Reader::XLSX;\n\n    my $reader   = Excel::Reader::XLSX-&gt;new();\n    my $workbook = $reader-&gt;read_file( 'sample.xlsx' );\n    if ( !defined $workbook ) {\n        die $reader-&gt;error(), \"\\n\";\n    }\n    for my $worksheet ( $workbook-&gt;worksheets() ) {\n        my $sheetname = $worksheet-&gt;name();\n        print \"Sheet = $sheetname\\n\";\n        while ( my $row = $worksheet-&gt;next_row() ) {\n            while ( my $cell = $row-&gt;next_cell() ) {\n                my $row   = $cell-&gt;row();\n                my $col   = $cell-&gt;col();\n                my $value = $cell-&gt;value();\n                print \"  Cell ($row, $col) = $value\\n\";\n            }\n        }\n    }\n\n#Sheet = Sheet1\n#  Cell (0, 0) = &gt;sp|Q96B97|SH3K1_HUMAN SH3 domain-containing kinase-binding protein 1 OS=Homo sapiens OX=9606 GN=SH3KBP1 PE=1 SV=2\n#  Cell (1, 0) = MVEAIVEFDYQAQHDDELTISVGEIITNIRKEDGGWW\n#  Cell (2, 0) = &gt;sp|Q9UBS4|DJB11_HUMAN DnaJ homolog subfamily B member 11 OS=Homo sapiens OX=9606 GN=DNAJB11 PE=1 SV=1\n#  Cell (3, 0) = KLALQLHPDRNPDDPQAQEKFQDLGAAYEVLSDSEKRKQYD\n#  Cell (4, 0) = &gt;sp|P61916|NPC2_HUMAN NPC intracellular cholesterol transporter 2 OS=Homo sapiens OX=9606 GN=NPC2 PE=1 SV=1\n#  Cell (5, 0) = CQLSKGQSYSVNVTFTSNIQSKSSKAVVHGILMGVP\n</code></pre>\n\n<p>Now here I want to focus on the <strong>Cell(1,0)</strong> and <strong>Cell (3, 0)</strong> and <strong>Cell (5, 0)</strong></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 2, "creation_date": 1550692190, "post_id": 54793690, "comment_id": 96366419, "body": "Applying hash de-reference <code>%{}</code> on the non-existing value <code>$hash2{&#39;James&#39;}</code> triggers <a href=\"https://perldoc.perl.org/perlref.html#Using-References\" rel=\"nofollow noreferrer\">autovivification</a> of an empty hash reference and hence also adds the key <code>James</code> to <code>%hash2</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550695726, "post_id": 54793690, "comment_id": 96368021, "body": "@StefanBecker not all dereferences, just those that are considered updatish.  Which perhaps unfortunately has always included keys"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550706355, "post_id": 54793690, "comment_id": 96371866, "body": "Actaully, you create 4 hash elements without assigning to them: <code>$hash1{&quot;James&quot;}</code>, <code>$hash1{&quot;John&quot;}</code>, <code>$hash2{&quot;James&quot;}</code> and <code>$hash2{&quot;John&quot;}</code>. This is all due to autovivification. Just like <code>$hash1{&quot;James&quot;}{&quot;1 Main Street&quot;}</code> in lvalue context is short for <code>${ $hash1{&quot;James&quot;} &#47;&#47;= {} }{&quot;1 Main Street&quot;}</code>, <code>%{$hash2{$name}}</code> in lvalue context is short for <code>%{ $hash2{$name} &#47;&#47;= {} }</code>."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 10157177, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cifsisoxCms/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qgl7bNfO7PoxgxvnAkalc7y4NiXw/mo/photo.jpg?sz=128", "display_name": "James Finnegan", "link": "https://stackoverflow.com/users/10157177/james-finnegan"}, "edited": false, "score": 0, "creation_date": 1550694761, "post_id": 54793896, "comment_id": 96367575, "body": "Thanks for the help"}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1550690868, "creation_date": 1550690868, "answer_id": 54793896, "question_id": 54793690, "link": "https://stackoverflow.com/questions/54793690/hash-adding-value-without-assignment/54793896#54793896", "title": "Hash adding value without assignment", "body": "<p>The second value is being created when you are trying to read non-existan key from hash 2.</p>\n\n<pre><code>my %hash1 = ();\nmy %hash2 = ();\n\n$hash1{\"James\"}{\"1 Main Street\"}++;\n$hash1{\"John\"}{\"2 Elm Street\"}++;\n$hash2{\"John\"}{\"3 Oak Street\"}++;\n\nforeach my $name (keys %hash1) {\n print \"Hash1  Name $name\\n\";\n foreach my $address (keys %{$hash1{$name}}) {\n   print \"Hash1  Address $address\\n\";\n   next unless exists $hash2{$name}; # check if the key exists in second hash before trying to use the key in $hash2\n   foreach my $address (keys %{$hash2{$name}}) { #second value gets created here\n     print \"Hash2  Address $address\\n\";\n   }\n } \n}\n\nprint \"\\n\";\nforeach my $name (keys %hash2) {\n print \"Hash2  Name $name\\n\";\n foreach my $address (keys %{$hash2{$name}}) {\n   print \"Hash2  Address $address\\n\";\n }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1550698441, "creation_date": 1550698441, "answer_id": 54795574, "question_id": 54793690, "link": "https://stackoverflow.com/questions/54793690/hash-adding-value-without-assignment/54795574#54795574", "title": "Hash adding value without assignment", "body": "<p>When you used an undefined value as if it's a reference, Perl makes the reference sort that you wanted then tries to perform the operation. This is called \"auto-vivification\".</p>\n\n<p>Here's a small demonstration. A variable starts out as undefined. You then treat it as an array reference (the dereference to get the 0th element):</p>\n\n<pre><code>use Data::Dumper;\n\nmy $empty;\nprint Dumper( $empty );\n\nmy $value = $empty-&gt;[0];\nprint Dumper( $empty );\n</code></pre>\n\n<p>Perl converts <code>$empty</code> to an array reference then tries to get the 0th element from that. You are left with an array reference where you formerly had <code>undef</code>:</p>\n\n<pre><code>$VAR1 = undef;\n$VAR1 = [];\n</code></pre>\n\n<p>This is intended behavior. </p>\n\n<p>Take it one step further. Put that <code>undef</code> inside an array and treat that element as if it's an array reference:</p>\n\n<pre><code>use Data::Dumper;\n\nmy @array = ( 1, undef, 'red' );\nprint Dumper( \\@array );\n\nmy $value = $array[1]-&gt;[0];\nprint Dumper( \\@array );\n</code></pre>\n\n<p>Now the second element is an empty array reference:</p>\n\n<pre><code>$VAR1 = [\n          1,\n          undef,\n          'red'\n        ];\n$VAR1 = [\n          1,\n          [],\n          'red'\n        ];\n</code></pre>\n\n<p>Take it another step further. Don't store the <code>undef</code> value. Instead, access an array position past the last item in the array:</p>\n\n<pre><code>use Data::Dumper;\n\nmy @array = ( 1, 'red' );\nprint Dumper( \\@array );\n\nmy $value = $array[2]-&gt;[0];\nprint Dumper( \\@array );\n</code></pre>\n\n<p>Now you get an array reference element in your array. It's one element longer now:</p>\n\n<pre><code>$VAR1 = [\n          1,\n          'red'\n        ];\n$VAR1 = [\n          1,\n          'red',\n          []\n        ];\n</code></pre>\n\n<p>Had you gone further out (say, element 5), the interstitial elements up to the element you wanted would have been \"filled in\" with <code>undef</code>:</p>\n\n<pre><code>use Data::Dumper;\n\nmy @array = ( 1, 'red' );\nprint Dumper( \\@array );\n\nmy $value = $array[5]-&gt;[0];\nprint Dumper( \\@array );\n\n$VAR1 = [\n          1,\n          'red'\n        ];\n$VAR1 = [\n          1,\n          'red',\n          undef,\n          undef,\n          undef,\n          []\n        ];\n</code></pre>\n\n<p>A hash works the same way, and that's what you are seeing. When you want to check if there is a second-level key under <code>James</code>, Perl needs to create the <code>James</code> key and give it an empty hash ref value to it can check that. That second-level key is not there, but the first-level key of 'James' sticks around:</p>\n\n<pre><code>use Data::Dumper;\n\nmy %hash = (\n    John =&gt; { Jay =&gt; '137' },\n    );\nprint Dumper( \\%hash );\n\nif( exists $hash{James}{Jay} ) {\n    print $hash{James}{Jay};\n    }\nprint Dumper( \\%hash );\n</code></pre>\n\n<p>Now you see an extra key:</p>\n\n<pre><code>$VAR1 = {\n          'John' =&gt; {\n                      'Jay' =&gt; '137'\n                    }\n        };\n$VAR1 = {\n          'James' =&gt; {},\n          'John' =&gt; {\n                      'Jay' =&gt; '137'\n                    }\n        };\n</code></pre>\n\n<p>In this case, you don't like this feature, but you can turn it off with the <code>no autovivification</code> pragma. It's a CPAN module that you need to install first:</p>\n\n<pre><code>no autovivification;\nuse Data::Dumper;\n\nmy %hash = (\n    John =&gt; { Jay =&gt; '137' },\n    );\nprint Dumper( \\%hash );\n\nif( exists $hash{James}{Jay} ) {\n    print $hash{James}{Jay};\n    }\nprint Dumper( \\%hash );\n</code></pre>\n\n<p>You don't get the extra key:</p>\n\n<pre><code>$VAR1 = {\n          'John' =&gt; {\n                      'Jay' =&gt; '137'\n                    }\n        };\n$VAR1 = {\n          'John' =&gt; {\n                      'Jay' =&gt; '137'\n                    }\n        };\n</code></pre>\n\n<p>You might also like to read <a href=\"https://stackoverflow.com/a/3706155/2766176\">How can I check if a key exists in a deep Perl hash?</a>. I show a method that allows you to inspect a nested hash without creating intermediate levels.</p>\n"}], "owner": {"reputation": 133, "user_id": 10157177, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cifsisoxCms/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qgl7bNfO7PoxgxvnAkalc7y4NiXw/mo/photo.jpg?sz=128", "display_name": "James Finnegan", "link": "https://stackoverflow.com/users/10157177/james-finnegan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "closed_date": 1550766140, "answer_count": 2, "score": 0, "last_activity_date": 1550698441, "creation_date": 1550690003, "question_id": 54793690, "link": "https://stackoverflow.com/questions/54793690/hash-adding-value-without-assignment", "closed_reason": "Duplicate", "title": "Hash adding value without assignment", "body": "<p>I've got a script which contains 2 hashes and while printing out the contents I'm finding that the script is assigning a value to the 2nd hash without me doing it.  I read through the 1st hash, then the 2nd, and then read through the entire 2nd hash after.  It should only contain 1 entry in hash2, but it now contains 2 entries.  How is the value James in hash2 getting assigned here?</p>\n\n<pre><code>my %hash1 = ();\nmy %hash2 = ();\n\n$hash1{\"James\"}{\"1 Main Street\"}++;\n$hash1{\"John\"}{\"2 Elm Street\"}++;\n$hash2{\"John\"}{\"3 Oak Street\"}++;\n\nforeach my $name (keys %hash1) {\n print \"Hash1  Name $name\\n\";\n foreach my $address (keys %{$hash1{$name}}) {\n   print \"Hash1  Address $address\\n\";\n   foreach my $address (keys %{$hash2{$name}}) {\n     print \"Hash2  Address $address\\n\";\n   }\n } \n}\n\nprint \"\\n\";\nforeach my $name (keys %hash2) {\n print \"Hash2  Name $name\\n\";\n foreach my $address (keys %{$hash2{$name}}) {\n   print \"Hash2  Address $address\\n\";\n }\n}\n</code></pre>\n\n<p>output looks like this:</p>\n\n<pre><code>Hash1  Name James\nHash1  Address 1 Main Street\nHash1  Name John\nHash1  Address 2 Elm Street\nHash2  Address 3 Oak Street\n\nHash2  Name James\nHash2  Name John\nHash2  Address 3 Oak Street\n</code></pre>\n"}, {"tags": ["perl", "functional-programming"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1550680002, "post_id": 54785472, "comment_id": 96360169, "body": "Tip: <code>$cmd-&gt;();</code> is generally preferred over <code>&amp;{$cmd}();</code>."}, {"owner": {"reputation": 5667, "user_id": 784669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2fa0d64ff94bb8f99068c033a9f6fa7?s=128&d=identicon&r=PG", "display_name": "josch", "link": "https://stackoverflow.com/users/784669/josch"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550757314, "post_id": 54785472, "comment_id": 96393946, "body": "@ikegami why? Is it not more explicit to say: I first make something callable out of my scalar using <code>&amp;</code> before calling it with <code>()</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550773453, "post_id": 54785472, "comment_id": 96404164, "body": "A code deference is not more explicit than a code dereference because they&#39;re the same thing. The arrow notation is preferred because it&#39;s a lot easier to read."}], "answers": [{"comments": [{"owner": {"reputation": 5667, "user_id": 784669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2fa0d64ff94bb8f99068c033a9f6fa7?s=128&d=identicon&r=PG", "display_name": "josch", "link": "https://stackoverflow.com/users/784669/josch"}, "edited": false, "score": 0, "creation_date": 1550664637, "post_id": 54785589, "comment_id": 96350440, "body": "<code>\\&amp;$</code> was indeed not one of the permutations of special characters that I tried. Thanks!"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 6, "last_activity_date": 1550663063, "creation_date": 1550663063, "answer_id": 54785589, "question_id": 54785472, "link": "https://stackoverflow.com/questions/54785472/type-of-arg-1-must-be-block-or-sub-not-subroutine-entry/54785589#54785589", "title": "Type of arg 1 must be block or sub {} (not subroutine entry)", "body": "<p>Did you try:</p>\n\n<pre><code>runner \\&amp;$work, \"hello\";\n</code></pre>\n\n<p>Or just stop using prototypes and do:</p>\n\n<pre><code>runner $work, \"hello\";\n</code></pre>\n\n<p>Prototypes in Perl are for when you want some type of magical parsing of calls to your sub, like some builtins get.  They are ill suited for just parameter checking such as other languages have.</p>\n"}], "owner": {"reputation": 5667, "user_id": 784669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2fa0d64ff94bb8f99068c033a9f6fa7?s=128&d=identicon&r=PG", "display_name": "josch", "link": "https://stackoverflow.com/users/784669/josch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 54785589, "answer_count": 1, "score": 3, "last_activity_date": 1550663063, "creation_date": 1550662742, "question_id": 54785472, "link": "https://stackoverflow.com/questions/54785472/type-of-arg-1-must-be-block-or-sub-not-subroutine-entry", "title": "Type of arg 1 must be block or sub {} (not subroutine entry)", "body": "<p>the following Python code demonstrates what I want to do in Perl:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def runner(cmd, arg):\n    print(\"runner:\", arg)\n    cmd()\n\ndef run_hooks1(arg):\n    def work():\n        print(\"work\", arg)\n\n    if (arg):\n        work()\n    else:\n        runner(work, \"hello\")\n\nrun_hooks1(True)\nrun_hooks1(False)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>work True\nrunner: hello\nwork False\n</code></pre>\n\n<p>I thought it would be simple enough to port this to Perl. So I started with this code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub runner(&amp;$) {\n    my $cmd = shift;\n    my $arg = shift;\n    print STDOUT \"runner: $arg\\n\";\n    &amp;{$cmd}();\n}\n\nsub run_hooks1($) {\n    my $arg = shift;\n\n    sub work() {\n        print STDOUT \"work: $arg\\n\";\n    }\n\n    if ($arg) {\n        work();\n    } else {\n        runner \\&amp;work, \"hello\";\n    }\n}\n\nrun_hooks1(0);\nrun_hooks1(1);\n</code></pre>\n\n<p>Unfortunately, this results in:</p>\n\n<pre><code>Variable \"$arg\" will not stay shared at test.pl line 17.\nrunner: hello\nwork: 0\nwork: 0\n</code></pre>\n\n<p>Due to this warning, I rewrote <code>run_hooks</code> like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub run_hooks1($) {\n    my $arg = shift;\n\n    my $work = sub {\n        print STDOUT \"work: $arg\\n\";\n    };\n\n    if ($arg) {\n        &amp;{$work}();\n    } else {\n        runner &amp;work, \"hello\";\n    }\n}\n</code></pre>\n\n<p>But now I'm getting:</p>\n\n<pre><code>Type of arg 1 to main::runner must be block or sub {} (not subroutine entry) at test.pl line 23, near \"\"hello\";\"\nExecution of test.pl aborted due to compilation errors.\n</code></pre>\n\n<p>I tried multiple other ways to pass the <code>work</code> function to <code>runner</code> but to no avail.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550666290, "post_id": 54786520, "comment_id": 96351497, "body": "The documentation says Exchange but my memory says GMail. I could be misremembering; it&#39;s been a while."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 4, "last_activity_date": 1550666875, "last_edit_date": 1550666875, "creation_date": 1550666084, "answer_id": 54786520, "question_id": 54785453, "link": "https://stackoverflow.com/questions/54785453/error-imapclient-with-message-string-function/54786520#54786520", "title": "Error IMAPClient with message_string() function", "body": "<p>The error message tells you exactly how to cope with this.  Some IMAP servers calculate the message size incorrectly -- in particular, many (such as notably GMail) examine the local message size, then change the line terminators to CRLF when sending the message over IMAP, resulting in a slightly different actual size than what the server told the client to expect.  By default, IMAPClient will throw an error when this happens, but you can tell it not to by saying <code>IgnoreSizeErrors =&gt; 1</code> when you create an instance.</p>\n\n<pre><code>my $imap = Mail::IMAPClient-&gt;new(\n #Debug    =&gt; 1,\n  User     =&gt; 'xxxxx',\n  Password =&gt; 'yyyyy',\n  Uid      =&gt; 1,\n  Peek     =&gt; 1,  # set \\Seen flag\n  Socket   =&gt; IO::Socket::SSL-&gt;new(\n                Proto    =&gt; 'tcp',\n                PeerAddr =&gt; 'zzzzzzz',\n                PeerPort =&gt; 993,\n              ),\n  # See here\n  IgnoreSizeErrors =&gt; 1\n);\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10955982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fXlUjyZGvU4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM1ntguuklLWl7NMRK18InSOUcfEg/mo/photo.jpg?sz=128", "display_name": "Red_Developper", "link": "https://stackoverflow.com/users/10955982/red-developper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 54786520, "answer_count": 1, "score": 1, "last_activity_date": 1550666875, "creation_date": 1550662678, "last_edit_date": 1550666572, "question_id": 54785453, "link": "https://stackoverflow.com/questions/54785453/error-imapclient-with-message-string-function", "title": "Error IMAPClient with message_string() function", "body": "<p>you have an idea on how to solve this problem that I met with the function message_string () of Mail::IMAPClient library, here is my code:</p>\n\n<pre><code>     #!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse Mail::IMAPClient;\nuse IO::Socket::SSL;\n\n\n\n # Create the object connexion with socket SSL + LOG ON\nmy $imap = Mail::IMAPClient-&gt;new(\n #Debug    =&gt; 1,\n  User     =&gt; 'xxxxx',\n  Password =&gt; 'yyyyy',\n  Uid      =&gt; 1,\n  Peek     =&gt; 1,  # set \\Seen flag\n  Socket   =&gt; IO::Socket::SSL-&gt;new(\n                Proto    =&gt; 'tcp',\n                PeerAddr =&gt; 'zzzzzzz',\n                PeerPort =&gt; 993,\n              )\n);\n   die \"$0: connect: $@\" if defined $@;\n\n\nmy $nm=$imap-&gt;unseen_count(\"INBOX\") ;\n# Select INBOX dossier\n$imap-&gt;select(\"INBOX\");\n\n\n\n\n      my $msg = $imap-&gt;message_string('47') or die \" $@\\n\";\n</code></pre>\n\n<p>the error obtained is the following:</p>\n\n<pre><code>message_string() expected 304627 bytes but received 304718 you may need the IgnoreSizeErrors option\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 5, "creation_date": 1550650900, "post_id": 54781191, "comment_id": 96342126, "body": "What do you mean by not accepted. Did you get a syntax error or was this rejected by a code review or what?"}, {"owner": {"reputation": 99, "user_id": 5985980, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1039509692788914/picture?type=large", "display_name": "Suneeldatta Kolipakula", "link": "https://stackoverflow.com/users/5985980/suneeldatta-kolipakula"}, "reply_to_user": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1550652836, "post_id": 54781191, "comment_id": 96343105, "body": "actually its showing a warning that shift @_ should not be used when your variable is declared as my . But when i declared variable as our it didn&#39;t show that warning."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1550653158, "post_id": 54781191, "comment_id": 96343274, "body": "@SuneeldattaKolipakula: Please edit your question to add a small, complete runnable program that exhibits the problem, along with the <b>exact text</b> of the warning you are getting."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1550655529, "post_id": 54781191, "comment_id": 96344716, "body": "You need to tell us the exact warning. Please <a href=\"https://stackoverflow.com/posts/54781191/edit\">edit</a> your question and copy/paste the exact warning into it. This sounds like a custom linter. Is this for school?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1550655629, "post_id": 54781191, "comment_id": 96344770, "body": "@SuneeldattaKolipakula: Your question has been closed. But if you <a href=\"https://stackoverflow.com/posts/54781191/edit\">edit it</a> to add the information we&#39;re asking for, then I&#39;ll be happy to vote to re-open it. All is not lost :-)"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 5985980, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1039509692788914/picture?type=large", "display_name": "Suneeldatta Kolipakula", "link": "https://stackoverflow.com/users/5985980/suneeldatta-kolipakula"}, "edited": false, "score": 0, "creation_date": 1550652769, "post_id": 54781959, "comment_id": 96343068, "body": "actually its showing a warning that shift @_ should not be used when your variable is declared as my."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 99, "user_id": 5985980, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1039509692788914/picture?type=large", "display_name": "Suneeldatta Kolipakula", "link": "https://stackoverflow.com/users/5985980/suneeldatta-kolipakula"}, "edited": false, "score": 1, "creation_date": 1550657787, "post_id": 54781959, "comment_id": 96346119, "body": "@SuneeldattaKolipakula: You say &quot;its showing&quot;. But <b>what</b> is producing that error? It doesn&#39;t sound like any of <a href=\"https://perldoc.perl.org/perldiag.html\" rel=\"nofollow noreferrer\">Perl&#39;s standard diagnostic messages</a> (but, of course, it&#39;s hard to be sure from such a vague description)."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1550651725, "creation_date": 1550651725, "answer_id": 54781959, "question_id": 54781191, "link": "https://stackoverflow.com/questions/54781191/why-we-should-not-use-my-when-we-want-to-shift/54781959#54781959", "title": "Why we should not use my when we want to shift?", "body": "<p>What problems are you seeing? There's no reason for your code not to work.</p>\n\n<p>I often write code like this:</p>\n\n<pre><code>my $self = shift;\n</code></pre>\n\n<p>The only effective difference from your code is that I don't explicitly give <code>shift()</code> an argument. Inside a subroutine, calling <code>shift()</code> without an argument will shift a value from <code>@_</code>. Outside of a subroutine, calling <code>shift()</code> without an argument will shift a value from <code>@ARGV</code>.</p>\n\n<p>It's possible that you're using <code>@_</code> when you meant <code>@ARGV</code>, but without more context it's impossible to be sure.</p>\n"}], "owner": {"reputation": 99, "user_id": 5985980, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1039509692788914/picture?type=large", "display_name": "Suneeldatta Kolipakula", "link": "https://stackoverflow.com/users/5985980/suneeldatta-kolipakula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "closed_date": 1550654158, "answer_count": 1, "score": -3, "last_activity_date": 1550651725, "creation_date": 1550648664, "last_edit_date": 1550650218, "question_id": 54781191, "link": "https://stackoverflow.com/questions/54781191/why-we-should-not-use-my-when-we-want-to-shift", "closed_reason": "Not suitable for this site", "title": "Why we should not use my when we want to shift?", "body": "<p>Why we should not use <code>my</code> for the variable  when we are using <code>shift</code> to initialize that??</p>\n\n<p>example :</p>\n\n<pre><code>my $Value= shift @_ ;\n</code></pre>\n\n<p>why above statement was not accepted??</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550637514, "post_id": 54778617, "comment_id": 96336909, "body": "The package needs namespace <code>package f::temp;</code>, for how you set it up.  (Or, with <code>package temp;</code> you do <code>use temp;</code> and <code>use lib &quot;$Bin&#47;f&quot;;</code>) See <a href=\"https://stackoverflow.com/a/54433246/4653379\">this post</a>, for example.  (Note, a convention is to use CamelCase, so capitalized names.)"}, {"owner": {"reputation": 109, "user_id": 5150258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69927e49295ace4e794431e90a14490e?s=128&d=identicon&r=PG&f=1", "display_name": "backstreetrover", "link": "https://stackoverflow.com/users/5150258/backstreetrover"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550640824, "post_id": 54778617, "comment_id": 96337775, "body": "Indeed! That explains it. After posting, i played around and realized that the following hack works: <code>BEGIN { require f::temp ; temp-&gt;import ; }</code> Thanks for the link, wasn&#39;t aware of this naming requirement. Now I realize why my hack works, but not original code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1550642992, "post_id": 54778617, "comment_id": 96338583, "body": "Re &quot;<i>following hack works</i>&quot;  --- great to see that you are trying things out, but that&#39;s really a &quot;hack&quot; (in the sense of &quot;don&#39;t do that&quot;), and I don&#39;t see why it works (it picks up <code>Exporter::import</code> ... somehow?).  A normal, correct way is: (1) Correct naming, as in the linked post (2) Bring in <code>Exporter</code>&#39;s sub <code>import</code>, which pushes the module&#39;s symbols to the caller.  This is nicely done by <code>use Exporter qw(import);</code>, but it can be done via inheritance as you have it (see linked post and that question itself)"}, {"owner": {"reputation": 109, "user_id": 5150258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69927e49295ace4e794431e90a14490e?s=128&d=identicon&r=PG&f=1", "display_name": "backstreetrover", "link": "https://stackoverflow.com/users/5150258/backstreetrover"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550643113, "post_id": 54778617, "comment_id": 96338640, "body": "<i>I don&#39;t see why it works</i> - It works because <code>require f::temp</code> will source the temp.pm file. Now since my original wrong code for temp.pm had <code>package temp</code>, this means <code>temp-&gt;import</code> is calling the import method of the temp package which it just sourced. How does the import method come to exist in package temp? - through inheritance since I have <code>our @ISA = qw(Exporter)</code> so all methods of Exporter are also available in package temp. Anyhow thanks for pointing me in the right direction. I dont want to do any hackery."}, {"owner": {"reputation": 109, "user_id": 5150258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69927e49295ace4e794431e90a14490e?s=128&d=identicon&r=PG&f=1", "display_name": "backstreetrover", "link": "https://stackoverflow.com/users/5150258/backstreetrover"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550643177, "post_id": 54778617, "comment_id": 96338663, "body": "guess are posts crossed each other. Thanks Anyhow"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1550643194, "post_id": 54778617, "comment_id": 96338669, "body": "yeah ... I totally skipped that you had inheritance (&quot;old&quot; way), so it does pick up the <code>import</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1550643393, "post_id": 54778617, "comment_id": 96338750, "body": "I nearly marked this as dupe of the linked post (which it is) -- but I&#39;m glad I didn&#39;t since this was good work on your part to figure out that way to do it. (Once :)"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 5150258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69927e49295ace4e794431e90a14490e?s=128&d=identicon&r=PG&f=1", "display_name": "backstreetrover", "link": "https://stackoverflow.com/users/5150258/backstreetrover"}, "edited": false, "score": 0, "creation_date": 1550641642, "post_id": 54779415, "comment_id": 96338081, "body": "I think you are mixing things up.<code>use f::temp</code> is shorthand for <code>BEGIN { require f::temp ; f::temp-&gt;import }</code>. The issue was as zdim pointed out that my package naming was wrong"}, {"owner": {"reputation": 109, "user_id": 5150258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69927e49295ace4e794431e90a14490e?s=128&d=identicon&r=PG&f=1", "display_name": "backstreetrover", "link": "https://stackoverflow.com/users/5150258/backstreetrover"}, "edited": false, "score": 1, "creation_date": 1550642751, "post_id": 54779415, "comment_id": 96338462, "body": "Ok .. I see what you mean <code>use Exporter qw(import)</code> would also work in test.pm instead of <code>require Exporter</code>. But my usage of <code>require Exporter</code> also works since I have additionally done <code>our ISA = qw(Exporter)</code> thereby f/test.pm will get all methods of Exporter through inheritance"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1550685589, "post_id": 54779415, "comment_id": 96363214, "body": "Yeah this answer isn&#39;t really the problem. There is no reason to call Exporter&#39;s import method except to import the import method, which is preferable to inheriting from Exporter, but not necessary when doing so."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1550640701, "creation_date": 1550640701, "answer_id": 54779415, "question_id": 54778617, "link": "https://stackoverflow.com/questions/54778617/exporter-modules-default-import-routine-not-behaving-as-expected/54779415#54779415", "title": "Exporter modules default import routine not behaving as expected", "body": "<p><code>use Exporter ...</code> is shorthand for</p>\n\n<pre><code>BEGIN {\n    require Exporter;\n    Exporter-&gt;import(...);\n}\n</code></pre>\n\n<p>By saying <code>require Exporter</code> instead, you are skipping the call to <code>Exporter</code>'s <code>import</code> method.</p>\n\n<p>You'll also have to sort out the correct package/file name problem as zdim's comment alludes to.</p>\n"}], "owner": {"reputation": 109, "user_id": 5150258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69927e49295ace4e794431e90a14490e?s=128&d=identicon&r=PG&f=1", "display_name": "backstreetrover", "link": "https://stackoverflow.com/users/5150258/backstreetrover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550640701, "creation_date": 1550635162, "question_id": 54778617, "link": "https://stackoverflow.com/questions/54778617/exporter-modules-default-import-routine-not-behaving-as-expected", "title": "Exporter modules default import routine not behaving as expected", "body": "<p>I have the following perl module: </p>\n\n<pre><code>#!/usr/bin/env perl\npackage temp;\nrequire Exporter;\nour @ISA = ('Exporter');\nour @EXPORT = qw(temp_print);\nsub temp_print {\n  my ($p) = @_ ;\n  print \"$p\\n\" ;\n}\n\n1;\n</code></pre>\n\n<p>This file is present here: ./f/temp.pm\nMy main file is called test.pl and looks like this</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse FindBin qw($Bin);\nuse lib $Bin;\nuse f::temp ;\n\ntemp_print(\"hi\");\n</code></pre>\n\n<p>When I try to execute test.pl, it doesn't seem to be importing temp_print into the main package:</p>\n\n<pre><code>% ./test.pl\nUndefined subroutine &amp;main::temp_print called at ./test.pl line 8.\n</code></pre>\n\n<p>I'm not sure what I am missing. This seems to be pretty basic, but can't seem to figure why the subroutines from my package are not being imported.  Could you help me figure out what's wrong? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 5, "creation_date": 1550626919, "post_id": 54777517, "comment_id": 96334582, "body": "<code>perl -le &#39;print join(&quot;,&quot;, $ARGV[0]..$ARGV[1])&#39; 2 4</code> produces <code>2,3,4</code>.  If your numbers will stretch into the millions, there are probably better ways to do it, but at least it sets you in an alternative direction using a more compact notation."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 5, "creation_date": 1550627090, "post_id": 54777517, "comment_id": 96334618, "body": "The bare word <code>VALUE</code> in your code is puzzling \u2014 don&#39;t forget to use <code>use strict;</code> and <code>use warnings;</code> when you write Perl scripts.  Experts use them to make sure they&#39;ve not made any silly errors; novices should use them for the same reason."}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 8268057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d444d5263ee1bffff880278c3b5f43?s=128&d=identicon&r=PG&f=1", "display_name": "hanktank45", "link": "https://stackoverflow.com/users/8268057/hanktank45"}, "is_accepted": false, "score": 0, "last_activity_date": 1550628441, "creation_date": 1550628441, "answer_id": 54777793, "question_id": 54777517, "link": "https://stackoverflow.com/questions/54777517/perl-counter-print-list-with-commas-except-last-item/54777793#54777793", "title": "Perl counter print list with commas except last item", "body": "<p>I figured it out:</p>\n\n<pre><code>while($COUNTER &lt;= $ARGV[1]){\n        print $COUNTER;\n        $COUNTER += 1;\nif ($COUNTER &lt;= $ARGV[1]){\n        print \", \";\n}\nelse {\n        print \"\\n\";\n}\n</code></pre>\n\n<p>I needed to change the if to $COUNTER and &lt;= and it printed correctly. Thank you for the join suggestion, that would have worked if I had designed the script more efficiently</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1550651380, "creation_date": 1550651380, "answer_id": 54781862, "question_id": 54777517, "link": "https://stackoverflow.com/questions/54777517/perl-counter-print-list-with-commas-except-last-item/54781862#54781862", "title": "Perl counter print list with commas except last item", "body": "<p>Rewriting your code to simplify it:</p>\n\n<pre><code># Prefer 'if' over 'unless' in most circumstances.\nif (@ARGV != 2) {\n    # Consider using 'die' instead of 'print' and 'exit'.\n    print \"error: incorrect number of arguments\\n\",\n          \"usage: inlist.pl a b (where a &lt; b)\\n\";\n\n    # Not sure what VALUE is, but I assume you've\n    # defined it somewhere.\n    exit VALUE;\n}\n\nif ($ARGV[0] &gt; $ARGV[1]) {\n    # Consider using 'die' instead of 'print' and 'exit'.\n    print \"error: first argument must be less than second argument\\n\",\n          \"usage: intlist.pl a b (where a &lt; b)\\n\";\n\n    exit VALUE;\n}\n\n# Removed 'else' branch as it's unnecessary.\n# Use 'join' instead of a complicated loop.\nprint join(',', $ARGV[0] .. $ARGV[1]), \"\\n\";\n\n# This looks like a successful execution to me, so\n# that should probably be 'exit 0'.\nexit VALUE;\n</code></pre>\n\n<p>If I was writing it for myself, I'd make it a little shorter:</p>\n\n<pre><code>my %errors = (\n  NUMBER =&gt; 'incorrect number of arguments',\n  RANGE  =&gt; 'first argument must be less than second argument',\n);\n\nmy $usage = 'usage: inlist.pl a b (where a &lt; b)';\n\ndie \"$errors{NUMBER}\\n$usage\\n\" if @ARGV != 2;\ndie \"$errors{RANGE}\\n$usage\\n\"  if $ARGV[0] &gt; $ARGV[1];\n\nprint join(',', $ARGV[0] .. $ARGV[1]), \"\\n\";\n\nexit 0;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8268057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d444d5263ee1bffff880278c3b5f43?s=128&d=identicon&r=PG&f=1", "display_name": "hanktank45", "link": "https://stackoverflow.com/users/8268057/hanktank45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550651380, "creation_date": 1550626435, "question_id": 54777517, "link": "https://stackoverflow.com/questions/54777517/perl-counter-print-list-with-commas-except-last-item", "title": "Perl counter print list with commas except last item", "body": "<p>I am encountering an issue while trying to execute a perl script that takes 2 number arguments, well say $ARGV[0] is 2, and $ARGV[1] is 4. I need to print a list that shows 2,3,4 with no comma after the last item. Below is my script as it is now:</p>\n\n<pre><code>unless ((@ARGV)==2){\n        print \"error: incorrect number of arguments\",\n        \"\\n\",\n        \"usage: inlist.pl a b (where a &lt; b)\",\n        \"\\n\";\n                exit VALUE;\n}\n\nif ($ARGV[0] &gt; $ARGV[1]){\n        print \"error: first argument must be less than second argument\",\n        \"\\n\",\n        \"usage: intlist.pl a b (where a &lt; b)\",\n        \"\\n\";\n                exit VALUE;\n}\nelse {\n\n        $COUNTER=$ARGV[0];\n\n        while($COUNTER &lt;= $ARGV[1]){\n print $COUNTER;\n                $COUNTER += 1;\n        if ($COUNTERELATIONAL &lt; $ARGV[1]){\n                print \", \";\n        }\n        else {\n                print \"\\n\";\n        }\n$COUNTERSYNTAX\n        }\n}\nexit VALUE;\n</code></pre>\n\n<p>I tried using join but to no avail I keep getting as return of 2,3,4,</p>\n\n<p>I feel like i must be missing something simple</p>\n"}, {"tags": ["html", "perl", "html-table"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550628542, "post_id": 54777361, "comment_id": 96334956, "body": "Did you try ... <code>$body-&gt;link</code>? (or <code>$body-&gt;anchor</code>...?)  Or perhaps <code>$td-&gt;anchor</code> (or <code>link</code>), where you&#39;d need to make <code>$td</code> first? Docs do show method signatures, in a (rather condensed :) paragraph. Note that the module appears to last have been active 4 and a half years ago."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550628564, "post_id": 54777361, "comment_id": 96334962, "body": "It seems that you have data in a flat file and want to write it in a HTML table?  The <code>HTML::Template</code> can be useful for that.  May be the best way to generate HTML in general."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550630966, "post_id": 54777992, "comment_id": 96335469, "body": "Great.  I&#39;d add a statement on what those <code>$1</code> and <code>$2</code> are, to complete the it as an answer. (If that solves it you can mark it as accepted as well, but perhaps leave it first, for a day or so, as other people are more likely to visit the page if the question isn&#39;t listed as &quot;asnwered&quot; (green); then there may be other useful answers)."}], "tags": [], "owner": {"reputation": 65, "user_id": 2518568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a875fb624b66b624e79dc65d73de1f6f?s=128&d=identicon&r=PG", "display_name": "pdp1231", "link": "https://stackoverflow.com/users/2518568/pdp1231"}, "is_accepted": true, "score": 2, "last_activity_date": 1550692212, "last_edit_date": 1550692212, "creation_date": 1550630087, "answer_id": 54777992, "question_id": 54777361, "link": "https://stackoverflow.com/questions/54777361/how-do-i-add-link-to-cells-using-htmltagtree/54777992#54777992", "title": "How do I add link to cells using HTML::TagTree?", "body": "<p>After some tries I think I found one way of doing it:</p>\n\n<pre><code>my $new_row = $table-&gt;tr();\nmy $text = $html-&gt;object();\n$text-&gt;a($original_text,\"href=second_page.html\");\n$new_row-&gt;td($text,'style=text-align:center');  \n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 2518568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a875fb624b66b624e79dc65d73de1f6f?s=128&d=identicon&r=PG", "display_name": "pdp1231", "link": "https://stackoverflow.com/users/2518568/pdp1231"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 54777992, "answer_count": 1, "score": 1, "last_activity_date": 1550692212, "creation_date": 1550625300, "last_edit_date": 1550626549, "question_id": 54777361, "link": "https://stackoverflow.com/questions/54777361/how-do-i-add-link-to-cells-using-htmltagtree", "title": "How do I add link to cells using HTML::TagTree?", "body": "<p>I am using HTML::TagTree as it seems to create the html file for table easily. I want to add html links to the text within some cells. </p>\n\n<p>From the documentation provided <a href=\"https://metacpan.org/pod/HTML::TagTree\" rel=\"nofollow noreferrer\">here</a>, I am not able to get a clear answer about how to add a new tag for the text inside a cell. Here's my code.</p>\n\n<p>Main line to focus on: $new_row->td($1,'style=text-align:center'<em>,'a:href=\"second_page.html\"'</em>)</p>\n\n<p>I don't think I clearly understand how to add more tags and attributes. Can someone please help? </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse HTML::TagTree;\n\nmy $filename = 'list.txt';\nmy $html = HTML::TagTree-&gt;new('html');   # Define the top of the tree of objects.\nmy $head = $html-&gt;head();                # Put a 'head' branch on the tree.\nmy $body = $html-&gt;body();                # Put a 'body' branch on the tree\n$head-&gt;title(\"Report\");\n$head-&gt;meta('', 'name=author CONTENT=\"xxx\"');\n$body-&gt;div-&gt;h1('Main page name');           # Example of method chaining to create\n                                         # a long branch.\nmy $table = $body-&gt;table('', 'width=100% border=1');\nmy $row1 = $table-&gt;tr();\n$row1-&gt;td('Feature Code','style=background-color:khaki;text-align:center');\n$row1-&gt;td('Feature Name','style=background-color:khaki;text-align:center');\n$row1-&gt;td('% completed','style=background-color:khaki;text-align:center');\n\nopen(my $fh, '&lt;', $filename)\n  or die \"Could not open file '$filename' $!\";\n\nwhile (my $row = &lt;$fh&gt;){\n    if($row =~ m/([.\\d]+): (.+)/){\n        my $new_row = $table-&gt;tr();\n        $new_row-&gt;td($1,'style=text-align:center','a:href=\"page_for_each_item.html\"');  \n        $new_row-&gt;td($2);  \n    }\n}\n\n\n# Print to STDOUT the actual HTML representation of the tree\n$html-&gt;print_html();\n</code></pre>\n"}, {"tags": ["linux", "perl", "stderr"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1550605743, "post_id": 54773733, "comment_id": 96327742, "body": "Backticks tend to run <code>&#47;bin&#47;sh</code> in Linux, not <code>tcsh</code>. Check <code>perl -MConfig -wle &#39;print $Config{sh}&#39;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1550605912, "post_id": 54773895, "comment_id": 96327850, "body": "So as I understand, there is no way to do it without any additional modules?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1550605992, "post_id": 54773895, "comment_id": 96327892, "body": "@TTaJTa4 It is of course possible (by doing the same things Capture::Tiny does), but it is rather dirty. I will add an example using IPC::Open3, which is a core module but still more ugly than using Capture::Tiny."}, {"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1550606101, "post_id": 54773895, "comment_id": 96327943, "body": "I think I&#39;ll try the modules, but can you add an example which shows how to do it without any (for the sake of education :) )? Even without the core module"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1550606611, "post_id": 54773895, "comment_id": 96328186, "body": "@TTaJTa4 I cannot see a point to reimplementing this without making use of the core modules you have available, but the source code of Capture::Tiny and IPC::Open3 are freely available."}, {"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1550607071, "post_id": 54773895, "comment_id": 96328408, "body": "Learnt alot from you to! I tried to run: <code>cmd = &quot;ldd &quot;.shell_quote($file).&#39; 2&gt;&#39;.shell_quote($stderr_file);</code> and then <code>$cmd;</code> but it does not work (does not print to the <code>STDERR</code>). why?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1550607469, "post_id": 54773895, "comment_id": 96328589, "body": "@TTaJTa4 Does bypassing the shell work? There are any number of reasons that command would not successfully write to that file, such as misidentifying the file relative to your current directory, or a permissions issue."}, {"owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1550608218, "post_id": 54773895, "comment_id": 96328917, "body": "Sorry for the long comment section. does <code>2&gt;</code> overrides the previous content of the file? this commend was executed in a loop. So maybe this is the issue?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "edited": false, "score": 0, "creation_date": 1550608261, "post_id": 54773895, "comment_id": 96328937, "body": "@TTaJTa4 Yes, this could definitely be the problem - <code>&gt;</code> is a clobbering operator, so it will clear the file immediately, and then append output. Try <code>&gt;&gt;</code> to append without clobbering."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1550621185, "post_id": 54773895, "comment_id": 96333321, "body": "Your IPC::Open3 code is buggy. It will deadlock if the child outputs a sufficient amount to its STDERR. Use IPC::Run or IPC::Run3 instead."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550623770, "post_id": 54773895, "comment_id": 96333904, "body": "@ikegami I agree. Unfortunately neither of those are core either, so you might as well use the Capture::Tiny solution in this case."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 2, "last_activity_date": 1550623901, "last_edit_date": 1550623901, "creation_date": 1550605694, "answer_id": 54773895, "question_id": 54773733, "link": "https://stackoverflow.com/questions/54773733/redirect-stderr-to-a-file-from-perl-in-linux/54773895#54773895", "title": "Redirect STDERR to a file from Perl in Linux", "body": "<p>When interpolating strings into shell commands that are intended to be single arguments, you should always use <a href=\"https://metacpan.org/pod/String::ShellQuote\" rel=\"nofollow noreferrer\">String::ShellQuote</a> to avoid bugs where the shell parses unintended metacharacters in your strings (including space characters). It only implements bourne shell quoting though, so it may not be compatible with tcsh either - but Perl is usually configured to use /bin/sh, which should be bourne shell compatible.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse String::ShellQuote;\nmy $cmd = 'ldd ' . shell_quote($file) . ' 2&gt;' . shell_quote($stderr_file);\n</code></pre>\n\n<p>As an alternative, you can avoid the shell entirely by using the list form of system() and redirecting STDERR within Perl. <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a> makes this easy.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Capture::Tiny 'capture';\nuse Path::Tiny;\nmy ($out, $err, $exit_code) = capture { system 'ldd', $file };\n# error checking for system() call here\npath($stderr_file)-&gt;spew_raw($err);\n</code></pre>\n\n<p>(Path::Tiny is just an example, you can also use File::Slurper or open the file and write to it yourself with appropriate error checking.)</p>\n\n<p>The core module <a href=\"https://perldoc.pl/IPC::Open3\" rel=\"nofollow noreferrer\">IPC::Open3</a> can also be used to capture STDERR separately and avoid the shell, somewhat more manually.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IPC::Open3;\nuse Symbol 'gensym';\nmy $pid = open3 undef, my $stdout, my $stderr = gensym, 'ldd', $file;\nmy ($out, $err);\n{\n  local $/;\n  $out = readline $stdout;\n  $err = readline $stderr;\n}\nwaitpid $pid, 0;\nmy $exit_code = $? &gt;&gt; 8;\n</code></pre>\n\n<p>This can run into deadlocks if the process outputs a sufficient amount to STDERR. I highly recommend making use of Capture::Tiny instead as above, or <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a> or <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\">IPC::Run3</a> for more flexibility.</p>\n"}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 1, "accepted_answer_id": 54773895, "answer_count": 1, "score": 0, "last_activity_date": 1550623901, "creation_date": 1550605004, "question_id": 54773733, "link": "https://stackoverflow.com/questions/54773733/redirect-stderr-to-a-file-from-perl-in-linux", "title": "Redirect STDERR to a file from Perl in Linux", "body": "<p>So, I was trying to catch the error messages from running some basic Linux command, using Perl. For example, I try to catch the <code>STDERR</code> when running the <code>ldd</code> command:</p>\n\n<pre><code># The stderr_file already exists\nmy $cmd = \"ldd $file 2&gt;$stderr_file\";\nmy $output = `$cmd`;\n</code></pre>\n\n<p>But, even if the output of the <code>ldd</code> command does contain error messages such as <code>ldd: warning: you do not have execution permission for</code>, it won't print them in to the <code>$stderr_file</code>, and I wonder why.</p>\n\n<p>Then I tried to run the command myself: <code>ldd /some/path/to/file 2&gt;./error.log</code> and it failed with: <code>ldd: ./2: No such file or directory</code>.</p>\n\n<p>I suspect that the reason is due to the fact my Linux uses <code>Tcsh</code> because if I switch to <code>Bash</code>, the command works.</p>\n\n<p>How should I approach this issue and solve it?</p>\n\n<p>Also, I read some previous thread but didn't find any related thread or method to solve it.</p>\n"}, {"tags": ["perl", "grep"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1550607407, "post_id": 54773635, "comment_id": 96328560, "body": "And <a href=\"https://www.perlmonks.org/?node_id=322751\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=322751</a>, though with a lot of digression"}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 0, "last_activity_date": 1550604902, "creation_date": 1550604902, "answer_id": 54773700, "question_id": 54773635, "link": "https://stackoverflow.com/questions/54773635/perl-grep-over-array-indexes/54773700#54773700", "title": "Perl grep over array indexes", "body": "<p><code>$_</code> is the <a href=\"https://perldoc.pl/variables/$_\" rel=\"nofollow noreferrer\">default variable</a>. It is a global variable which happens to get set by default in various operations, like a for/foreach loop, and used by default by various functions. This allows you to write things like <code>print foreach @array;</code>.</p>\n\n<p>The <code>for</code> is a <a href=\"https://perldoc.pl/perlsyn#Statement-Modifiers\" rel=\"nofollow noreferrer\">statement modifier</a> which is just another way to wrap the preceding statement in a <a href=\"https://perldoc.pl/perlsyn#Foreach-Loops\" rel=\"nofollow noreferrer\">foreach loop</a>.</p>\n\n<p><a href=\"https://perldoc.pl/functions/split\" rel=\"nofollow noreferrer\">split</a> is a function which splits its argument using the given pattern, and returns a list of strings, which that foreach loop then iterates over, and aliases each element locally to <code>$_</code>.</p>\n\n<p>So that statement could be expanded to:</p>\n\n<pre><code>foreach my $digit (split //, $number) {\n  $sum += $digit;\n}\n</code></pre>\n\n<p>It could also be simplified using <a href=\"https://perldoc.pl/List::Util#sum\" rel=\"nofollow noreferrer\">sum from List::Util</a>:</p>\n\n<pre><code>use List::Util 'sum';\nmy $sum = sum split //, $number;\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 5300462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/868114835114f81f4f4e0ead28a6181e?s=128&d=identicon&r=PG&f=1", "display_name": "John D", "link": "https://stackoverflow.com/users/5300462/john-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 54773700, "answer_count": 1, "score": 0, "last_activity_date": 1550604902, "creation_date": 1550604610, "last_edit_date": 1550604834, "question_id": 54773635, "link": "https://stackoverflow.com/questions/54773635/perl-grep-over-array-indexes", "title": "Perl grep over array indexes", "body": "<p>I've been trying to work out the following code, which ultimately returns the array  indexes of numbers in a list that have odd digit sums. </p>\n\n<pre><code>my @input_numbers = (1,2,4,8,16,32,64);\nmy @indices_of_odd_digit_sums = grep {\nmy $number = $input_numbers[$_];\nmy $sum;\n$sum += $_ for split //, $number;\n$sum % 2;\n} 0..$#input_numbers;\n\nprint \"@indices_of_odd_digit_sums\";\n</code></pre>\n\n<p>I think have worked out that the script is using <code>$input_numbers[$_]</code>, as the grep is putting the array indices (0..6) into <code>$_</code></p>\n\n<p>This way $number is assigned the actual value of the list item. </p>\n\n<p>I'm a bit unsure about what <code>$_</code> is in the line:</p>\n\n<pre><code>$sum += $_ for split //, $number;\n</code></pre>\n\n<p>Is $_ now each digit in the actual number? So for 16, it is first 1 and then 6. I'm not familiar with the 'for split' syntax.</p>\n\n<p>Thanks for any help offered</p>\n\n<p>John</p>\n"}, {"tags": ["perl", "matrix", "pdl"], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 3752927, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f0d8aad08c87abac3043cf23f85cb3c9?s=128&d=identicon&r=PG&f=1", "display_name": "Alexglvr", "link": "https://stackoverflow.com/users/3752927/alexglvr"}, "edited": false, "score": 0, "creation_date": 1550604291, "post_id": 54772146, "comment_id": 96327071, "body": "Thank you for your answer. Yes your right, but just to know, is there a solution around making vectors [Xi, Yi] and pushing them into a matrix as row?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 357, "user_id": 3752927, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f0d8aad08c87abac3043cf23f85cb3c9?s=128&d=identicon&r=PG&f=1", "display_name": "Alexglvr", "link": "https://stackoverflow.com/users/3752927/alexglvr"}, "edited": false, "score": 0, "creation_date": 1550604942, "post_id": 54772146, "comment_id": 96327375, "body": "Can you include the code used to populate the matrix into the question?"}, {"owner": {"reputation": 357, "user_id": 3752927, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f0d8aad08c87abac3043cf23f85cb3c9?s=128&d=identicon&r=PG&f=1", "display_name": "Alexglvr", "link": "https://stackoverflow.com/users/3752927/alexglvr"}, "edited": false, "score": 0, "creation_date": 1550742457, "post_id": 54772146, "comment_id": 96384448, "body": "any idea? In my programme strcture, It would really help to be able to push vectors into a matrix..."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1550598512, "creation_date": 1550598512, "answer_id": 54772146, "question_id": 54771821, "link": "https://stackoverflow.com/questions/54771821/perl-pdl-points-coordinates-and-matrix-construction/54772146#54772146", "title": "Perl PDL : points coordinates and matrix construction", "body": "<p>You can call</p>\n\n<pre><code>$m-&gt;transpose\n</code></pre>\n\n<p>on the 2&times;n matrix.</p>\n"}, {"tags": [], "owner": {"reputation": 357, "user_id": 3752927, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f0d8aad08c87abac3043cf23f85cb3c9?s=128&d=identicon&r=PG&f=1", "display_name": "Alexglvr", "link": "https://stackoverflow.com/users/3752927/alexglvr"}, "is_accepted": false, "score": 1, "last_activity_date": 1550744467, "creation_date": 1550744467, "answer_id": 54804671, "question_id": 54771821, "link": "https://stackoverflow.com/questions/54771821/perl-pdl-points-coordinates-and-matrix-construction/54804671#54804671", "title": "Perl PDL : points coordinates and matrix construction", "body": "<p>The choroba answer works.\nHere is another solution that works too and which fits perfectly my needs</p>\n\n<pre><code>my @Points\n\nfile read loop {\n push(@Points, vpdl [$PointX, $PointY]);\n}\n\nmy $PointsMatrix = PDL::Matrix-&gt;pdl(\\@Points); #nx2 Matrix\n</code></pre>\n\n<p>If it can Help !</p>\n"}], "owner": {"reputation": 357, "user_id": 3752927, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f0d8aad08c87abac3043cf23f85cb3c9?s=128&d=identicon&r=PG&f=1", "display_name": "Alexglvr", "link": "https://stackoverflow.com/users/3752927/alexglvr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1550744467, "creation_date": 1550597204, "last_edit_date": 1550606077, "question_id": 54771821, "link": "https://stackoverflow.com/questions/54771821/perl-pdl-points-coordinates-and-matrix-construction", "title": "Perl PDL : points coordinates and matrix construction", "body": "<p>I have a text file with points coordinates.</p>\n\n<pre><code>X1 Y1\nX2 Y2\nX3 Y3\n...\nXn Yn\n</code></pre>\n\n<p>The idea is to build a matrix of this coordinates.</p>\n\n<p>I coded a first version that reads the X and Y values, push them into respectively @Xs and @Yx array, and then create the matrix using </p>\n\n<pre><code>$Points = PDL::Matrix-&gt;pdl([\\@Xs, \\@Ys]);\n</code></pre>\n\n<p>I then get a 2 x n Matrix :</p>\n\n<pre><code>[\n [X1, X2, X3, .., Xn]\n [Y1, Y2, Y3, .., Yn]\n]\n</code></pre>\n\n<p>I now would like to build a n x 2 Matrix instead :</p>\n\n<pre><code>[\n [X1, Y1]\n [X2, Y2]\n ...\n [Xn, Yn]\n]\n</code></pre>\n\n<p>but I don't see how I can do it as the push fonction seems not to exist for PDL::Matrix</p>\n\n<p>Thank you for your help,</p>\n\n<p>EDIT 1 :</p>\n\n<p>Here is what I would like to do :</p>\n\n<pre><code>sub GetCoordinates {\n  my (@hl) = @_;\n  my $Point;\n  my $Points;\n\n  foreach my $v (@hl) \n  {\n    my %values = ($v =~ m/${regex_Coordinates}/g);\n\n    if ($values{X} &amp;&amp; $values{Y}) \n    {\n        $Point = mpdl [$values{X},$values{Y}];\n        push($Points, $Point);                  # DOES NOT EXIST\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550597472, "post_id": 54771784, "comment_id": 96323762, "body": "Is this your real code? It has very basic errors.  In principle, you can indeed just put objects in an array or a hash; they are references.  Then you can use them as you attempted.  Please clarify whether this is your code and if not show us the real code."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1550597517, "post_id": 54771784, "comment_id": 96323786, "body": "<code>@tc = (&quot;TC_1&quot;,&quot;TC_2&quot;)</code> to create an array or <code>$tc = [&quot;TC_1&quot;,&quot;TC_2&quot;]</code> to create an array reference."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550597558, "post_id": 54771784, "comment_id": 96323814, "body": "<code>foreach (keys %obj_list)</code> and then you use (non-existent) <code>$key</code>"}, {"owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "edited": false, "score": 0, "creation_date": 1550597613, "post_id": 54771784, "comment_id": 96323847, "body": "sorry i was typing pseudo code here and i made the mistakes. i will correct the same and give the exact code here"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1550597803, "creation_date": 1550597803, "answer_id": 54771975, "question_id": 54771784, "link": "https://stackoverflow.com/questions/54771784/how-to-store-and-retrieve-perl-objects/54771975#54771975", "title": "how to store and retrieve perl objects", "body": "<p>Your code is <em>basically</em> correct - other than a few syntax errors.</p>\n\n<pre><code># Use ( ... ) to initialise an array.\nmy @tc = (\"TC_1\",\"TC_2\");\nmy %obj_list = ();\nforeach my $test (@tc) {\n  $obj_list{$test} = Test-&gt;new($test);\n}\n\nforeach (keys %obj_list) {\n  if (some specific condition is satisfied for a test) {\n    # This version is incorrect\n    # $obj_list-&gt;$key-&gt;action();\n\n    # This version will work, except you have the\n    # key in $_, not $key.\n    $obj_list{$_}-&gt;action(); \n  }\n}\n</code></pre>\n\n<p>Adding <code>use strict</code> and <code>use warnings</code> to your code would have helped you find some of these problems.</p>\n"}], "owner": {"reputation": 125, "user_id": 4577205, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a2a3d629d3c27d219184e5901e9e617c?s=128&d=identicon&r=PG&f=1", "display_name": "pupil", "link": "https://stackoverflow.com/users/4577205/pupil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 54771975, "answer_count": 1, "score": 0, "last_activity_date": 1550597974, "creation_date": 1550597048, "last_edit_date": 1550597974, "question_id": 54771784, "link": "https://stackoverflow.com/questions/54771784/how-to-store-and-retrieve-perl-objects", "title": "how to store and retrieve perl objects", "body": "<p>Problem : I want to have a list of objects stored so that i can call the corresponding methods at latter point in time  </p>\n\n<pre><code>my @tc = (\"TC_1\",\"TC_2\");\nmy %obj_list = ();\nforeach my $test (@tc) {\n     $obj_list{$test} = Test-&gt;new($test);\n }\n</code></pre>\n\n<p>In the same module file at latter stage where i need to call the corresponding methods of those objects</p>\n\n<pre><code>foreach my $test (keys %obj_list) {\n         if (some specific condition is satisfied for a test) {\n         1 --&gt; $obj_list-&gt;$test-&gt;action();\n         2 --&gt; $obj_list{$test}-&gt;action(); \n      }\n }\n</code></pre>\n\n<p>I tried 1 and 2 and they are not working. Could some one tell me what i could be doing wrong here.Any inputs would be of great help.</p>\n"}, {"tags": ["regex", "shell", "perl", "sed"], "comments": [{"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1550591595, "post_id": 54770207, "comment_id": 96320414, "body": "What have you tried? How has it failed?"}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1550591773, "post_id": 54770207, "comment_id": 96320514, "body": "perl -pe &#39;/^&quot;\\s+(\\d+)/&quot;=$1 &quot;/s+\\&quot;&quot;=$2&quot;&#39; file.."}, {"owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1550591791, "post_id": 54770207, "comment_id": 96320523, "body": "I am very beginner to perl"}], "answers": [{"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 0, "last_activity_date": 1550592196, "creation_date": 1550592196, "answer_id": 54770399, "question_id": 54770207, "link": "https://stackoverflow.com/questions/54770207/perl-or-sed-command-to-find-2-strings-and-replace-the-first-string-with-string-2/54770399#54770399", "title": "perl or sed command to find 2 strings and replace the first string with string 2", "body": "<p>Try this:</p>\n\n<pre><code>perl -i.bak -pe '\n    if (/.*\\/(.+)\\.txt/) {\n        $file = $1;\n        s/(?&lt;=\").*?(?=\")/$file/\n    }\n' file1 file2 file3 ...\n</code></pre>\n\n<p>That will <em>first</em> capture the \"orig\" file name (assuming they all have \".txt\" extension), <em>then</em> replace the \"tmp\" placeholder.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 0, "last_activity_date": 1550595283, "creation_date": 1550595283, "answer_id": 54771287, "question_id": 54770207, "link": "https://stackoverflow.com/questions/54770207/perl-or-sed-command-to-find-2-strings-and-replace-the-first-string-with-string-2/54771287#54771287", "title": "perl or sed command to find 2 strings and replace the first string with string 2", "body": "<p>With any sed in any shell on any UNIX box:</p>\n\n<pre><code>$ sed 's/\\([^\"]*\"\\)[^\"]*\\(.*\\/\\([^.]*\\)\\)/\\1\\3\\2/' file\nBegin(\"ORIG_FILE1\",\"derived from file \\\"/disks/setup/ORIG_FILE1.txt\\\"\");\nBegin(\"ORIG_FILE2\",\"derived from file \\\"/disks/setup/ORIG_FILE2.txt\\\"\");\nBegin(\"ORIG_FILE4\",\"derived from file \\\"/disks/setup/ORIG_FILE4.txt\\\"\");\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7712945"}, "is_accepted": false, "score": 0, "last_activity_date": 1554710256, "creation_date": 1554710256, "answer_id": 55568672, "question_id": 54770207, "link": "https://stackoverflow.com/questions/54770207/perl-or-sed-command-to-find-2-strings-and-replace-the-first-string-with-string-2/55568672#55568672", "title": "perl or sed command to find 2 strings and replace the first string with string 2", "body": "<p>by gnu sed as your data in 'd',</p>\n\n<pre><code> sed -E 's~^(Begin\\(\")\\w+(\".+/)(\\w+)(\\.\\w+\\\\\"\"\\);)~\\1\\3\\2\\3\\4~' d\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6852330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12569605e55d6833c0966d8d48849622?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer_99999", "link": "https://stackoverflow.com/users/6852330/programmer-99999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 54771287, "answer_count": 3, "score": 0, "last_activity_date": 1554710256, "creation_date": 1550591507, "last_edit_date": 1550591652, "question_id": 54770207, "link": "https://stackoverflow.com/questions/54770207/perl-or-sed-command-to-find-2-strings-and-replace-the-first-string-with-string-2", "title": "perl or sed command to find 2 strings and replace the first string with string 2", "body": "<p>I have multiple files with below text.</p>\n\n<p>Content of File 1:</p>\n\n<pre><code>Begin(\"tmp1\",\"derived from file \\\"/disks/setup/ORIG_FILE1.txt\\\"\");\n</code></pre>\n\n<p>Content of File 2:</p>\n\n<pre><code>Begin(\"tmp1\",\"derived from file \\\"/disks/setup/ORIG_FILE2.txt\\\"\");\n</code></pre>\n\n<p>Content of File 3:</p>\n\n<pre><code>Begin(\"tmp9\",\"derived from file \\\"/disks/setup/ORIG_FILE4.txt\\\"\");\n</code></pre>\n\n<p>and so on.....</p>\n\n<p>Is there any command in perl or sed to find a line with \"Begin\" and in that line search from the first string between \"...\" (i.e. \"tmp1\" in our case) and store it in a variable then search for the last string between /..\\\"\" i.e. (ORIG_FILE1.txt here) and store it in the variable 2 and then remove \".txt\" from the variable 2 and then replace variable 1 with variable 2 and update the file.</p>\n\n<p>So output files will look like:</p>\n\n<p>Content of File 1:</p>\n\n<pre><code>Begin(\"ORIG_FILE1\",\"derived from file \\\"/disks/setup/ORIG_FILE1.txt\\\"\");\n</code></pre>\n\n<p>Content of File 2:</p>\n\n<pre><code>Begin(\"ORIG_FILE2\",\"derived from file \\\"/disks/setup/ORIG_FILE2.txt\\\"\");\n</code></pre>\n\n<p>Content of File 3:</p>\n\n<pre><code>Begin(\"ORIG_FILE4\",\"derived from file \\\"/disks/setup/ORIG_FILE4.txt\\\"\");\n</code></pre>\n\n<p>and so on.....</p>\n\n<p>Can somebody please help me here?</p>\n"}, {"tags": ["python", "linux", "bash", "perl", "awk"], "comments": [{"owner": {"reputation": 4501, "user_id": 3000629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90fb422369282d49c15629eb3ceb845?s=128&d=identicon&r=PG&f=1", "display_name": "Poshi", "link": "https://stackoverflow.com/users/3000629/poshi"}, "edited": false, "score": 1, "creation_date": 1550588604, "post_id": 54769143, "comment_id": 96318444, "body": "And the problem with your code is...?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1550589196, "post_id": 54769143, "comment_id": 96318811, "body": "Please post your data as <b>CSV text</b> in your question, not as images. Makes it a lot easier to copy and paste so we can test solutions."}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 1, "creation_date": 1550590025, "post_id": 54769143, "comment_id": 96319381, "body": "your last columns don&#39;t match!"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550590095, "post_id": 54769143, "comment_id": 96319428, "body": "<i>Combination of first 2 columns would be unique identifier</i> but you have multiple <code>(def,pqr)</code> rows in your files..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1550590235, "post_id": 54769143, "comment_id": 96319526, "body": "In <code>perl</code> the tool for the job is a <a href=\"https://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">&quot;hash slice&quot;</a>. Give it a try and see how you get along."}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 8345855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/246851aaa24b9428db28018aa64afc60?s=128&d=identicon&r=PG&f=1", "display_name": "clarktwain", "link": "https://stackoverflow.com/users/8345855/clarktwain"}, "is_accepted": false, "score": 0, "last_activity_date": 1550589408, "creation_date": 1550589408, "answer_id": 54769524, "question_id": 54769143, "link": "https://stackoverflow.com/questions/54769143/merging-multiple-csv-files-based-on-columns/54769524#54769524", "title": "Merging multiple CSV files based on columns", "body": "<p>Check out the pandas library. <code>.merge</code> should give you what you need, but it's hard to say since you haven't posted any code. Anyway: <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.merge.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.merge.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "is_accepted": false, "score": 1, "last_activity_date": 1550590040, "creation_date": 1550590040, "answer_id": 54769732, "question_id": 54769143, "link": "https://stackoverflow.com/questions/54769143/merging-multiple-csv-files-based-on-columns/54769732#54769732", "title": "Merging multiple CSV files based on columns", "body": "<p>Read the first file into a hash (what Python calls a <code>dict</code>), keyed on the combination of the first two columns</p>\n\n<p>Read the 2nd file into the same hash, also keyed by the combination of the first two columns. You will need to decide how to merge variant data for the same column</p>\n\n<p>Repeat for the 3rd file.</p>\n\n<p><code>Text::CSV</code> is your friend here....</p>\n"}, {"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 0, "last_activity_date": 1550590775, "creation_date": 1550590775, "answer_id": 54769963, "question_id": 54769143, "link": "https://stackoverflow.com/questions/54769143/merging-multiple-csv-files-based-on-columns/54769963#54769963", "title": "Merging multiple CSV files based on columns", "body": "<p>Completely untested due to lack of usable test data and the stuff in your images not matching your description of the data with regards to unique keys, but since merging multiple tables is basically a database problem, here's a script that uses sqlite to do all the heavy lifting:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/sh\n# Usage: ./join.sh filea.csv fileb.csv filec.csv\n\nfilea=$1\nfileb=$2\nfilec=$3\n\nsqlite3 -batch -noheader -csv &lt;&lt;EOF\nCREATE TABLE a(element, identifier, a1, a2, a3\n             , PRIMARY KEY(element, identifier)) WITHOUT ROWID;\nCREATE TABLE b(element, identifier, b1, b2, b3\n             , PRIMARY KEY(element, identifier)) WITHOUT ROWID;\nCREATE TABLE c(element, identifier, c1, c2, c3\n             , PRIMARY KEY(element, identifier)) WITHOUT ROWID;\n.import \"$filea\" a\n.import \"$fileb\" b\n.import \"$filec\" c\nSELECT a.element, a.identifier, a1, a2, a3, b1, b2, b3, c1, c2, c3\nFROM a\nJOIN b ON a.element = b.element AND a.identifier = b.identifier\nJOIN c ON a.element = c.element AND a.identifier = c.identifier\nORDER BY a.element, a.identifier;\nEOF\n</code></pre>\n\n<p>(Side note: Man, I wish <a href=\"https://linux.die.net/man/1/join\" rel=\"nofollow noreferrer\">join(1)</a> supported multiple-field keys)</p>\n"}, {"comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1550591216, "post_id": 54770040, "comment_id": 96320187, "body": "That won&#39;t do what OP wants; it just prints out the first line with a unique first two columns, doesn&#39;t merge lines that share the same values for those two columns..."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550591283, "post_id": 54770040, "comment_id": 96320238, "body": "And you need an array variable name in that. Just <code>[$1$2]</code> by itself is a syntax error."}, {"owner": {"reputation": 1, "user_id": 7182437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bEGZD.jpg?s=128&g=1", "display_name": "indigo", "link": "https://stackoverflow.com/users/7182437/indigo"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550591622, "post_id": 54770040, "comment_id": 96320426, "body": "Saw the update from OP after I posted the answer. Will update the answer too. And, that piece of code works without any errors, though now that is irrelevant."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550591737, "post_id": 54770040, "comment_id": 96320490, "body": "It certainly has an error- at least with gawk and mawk and nawk. Are you using some other awk implementation?"}, {"owner": {"reputation": 1, "user_id": 7182437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bEGZD.jpg?s=128&g=1", "display_name": "indigo", "link": "https://stackoverflow.com/users/7182437/indigo"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550592163, "post_id": 54770040, "comment_id": 96320744, "body": "I am not a systematic programmer. But, I just know that it had worked for me. I have been learning things by exploring and trying out. I have used it several times on Linux and MAC command line."}], "tags": [], "owner": {"reputation": 1, "user_id": 7182437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bEGZD.jpg?s=128&g=1", "display_name": "indigo", "link": "https://stackoverflow.com/users/7182437/indigo"}, "is_accepted": false, "score": -1, "last_activity_date": 1550591007, "creation_date": 1550591007, "answer_id": 54770040, "question_id": 54769143, "link": "https://stackoverflow.com/questions/54769143/merging-multiple-csv-files-based-on-columns/54770040#54770040", "title": "Merging multiple CSV files based on columns", "body": "<p>With the information provided, the below code should work for you:</p>\n\n<pre><code>cat file1.csv file2.csv file3.csv | awk -F, '![$1$2]++' &gt; out_file.csv\n</code></pre>\n\n<p>N.B. - In case there are more than 2 columns in any of the files, the data corresponding to the first occurrence of the unique identifier (i.e. combination of first 2 columns) will appear in the output file.</p>\n"}], "owner": {"reputation": 77, "user_id": 2751086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0a36ccd3b65989f73adc8eaf4b9408?s=128&d=identicon&r=PG&f=1", "display_name": "engineer2014", "link": "https://stackoverflow.com/users/2751086/engineer2014"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1550591798, "answer_count": 4, "score": -3, "last_activity_date": 1550591616, "creation_date": 1550588317, "last_edit_date": 1550591616, "question_id": 54769143, "link": "https://stackoverflow.com/questions/54769143/merging-multiple-csv-files-based-on-columns", "closed_reason": "Not suitable for this site", "title": "Merging multiple CSV files based on columns", "body": "<p>I have below 3 CSV files. I want to merge them based on columns.\nCombination of first 2 columns would be unique identifier.</p>\n\n<p>I am okay with any scripting language, but performance should be good.</p>\n\n<p>File 1 :</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ahc0q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ahc0q.png\" alt=\"enter image description here\"></a></p>\n\n<p>File 2 :</p>\n\n<p><a href=\"https://i.stack.imgur.com/KYMNx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KYMNx.png\" alt=\"enter image description here\"></a></p>\n\n<p>File 3: </p>\n\n<p><a href=\"https://i.stack.imgur.com/M5bWE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M5bWE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Output :</p>\n\n<p><a href=\"https://i.stack.imgur.com/usvEK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usvEK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Output in text format for testing:</p>\n\n<p>abc,xxx,a1,b1,c1,p1,q1,r1,x3,y3,z3</p>\n\n<p>abc,yyy,a2,b2,c2,p2,q2,r2,x4,y4,z4</p>\n\n<p>def,zzz,a3,b3,c3,p3,q3,r3,x1,y1,z1</p>\n\n<p>def,pqr,a4,b4,c4,p4,q4,r4,x2,y2,z2</p>\n"}, {"tags": ["perl", "cpan", "minicpan"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1550598257, "post_id": 54768605, "comment_id": 96324173, "body": "I&#39;m not familiar with how CPAN::Mini works, but that cpanm syntax just requires a release with version 0.001 to be present, not to be indexed - though it may rely on metacpan knowing about it, in which case it won&#39;t work for a minicpan."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1550598282, "post_id": 54768605, "comment_id": 96324184, "body": "If you&#39;re up for trying more alternatives, check out <a href=\"http://metacpan.org/pod/App::opan\" rel=\"nofollow noreferrer\">App::opan</a>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1550611747, "post_id": 54768605, "comment_id": 96330432, "body": "I think when you do <code>cpanm -M ${MIRROR} Foo@0.001</code> it will only use the first version it finds in the local mirror file <code>02packages.details.txt.gz</code>. So it is not possible to install a specific version from a local mirror using <code>cpanm</code>. You could try ask at <a href=\"https://github.com/miyagawa/cpanminus/issues\" rel=\"nofollow noreferrer\">the issue tracker</a> to get more help."}, {"owner": {"reputation": 357, "user_id": 430968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db7c6ecdbe97a1e844c88ecf587f61f?s=128&d=identicon&r=PG", "display_name": "j1n3l0", "link": "https://stackoverflow.com/users/430968/j1n3l0"}, "edited": false, "score": 0, "creation_date": 1550656035, "post_id": 54768605, "comment_id": 96345006, "body": "I have edited the question to indicate that the releases are all present but only the first one on the index is ever available. I am able to download older versions of modules from CPAN. I am trying to do the same (at least for my modules) on a local mirror."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1550656596, "post_id": 54768605, "comment_id": 96345302, "body": "@j1n3l0  <i>&quot;but only the first one on the index is ever available</i>&quot; : Yes that was my impression also, I think this is a shortcoming of <code>cpanm</code>. It simply picks the first version it finds in the local mirror, even if there are more versions available."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1550670719, "post_id": 54768605, "comment_id": 96354215, "body": "Part of the problem here is that anything which parses <code>02packages.details.txt.gz</code> will only expect to find the latest version of a module there, since that&#39;s essentially what that file is supposed to be tracking.  You can still give <code>cpanm</code> the full path to the module that you want to install, so you can bypass the index and still be able to install multiple versions."}], "owner": {"reputation": 357, "user_id": 430968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db7c6ecdbe97a1e844c88ecf587f61f?s=128&d=identicon&r=PG", "display_name": "j1n3l0", "link": "https://stackoverflow.com/users/430968/j1n3l0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1550655835, "creation_date": 1550586652, "last_edit_date": 1550655835, "question_id": 54768605, "link": "https://stackoverflow.com/questions/54768605/is-it-possible-to-add-multiple-versions-of-a-module-to-a-minicpan-index", "title": "Is it possible to add multiple versions of a module to a minicpan index?", "body": "<p>I'm setting up a <a href=\"https://metacpan.org/pod/CPAN::Mini\" rel=\"nofollow noreferrer\">CPAN::Mini</a> mirror and I want to be able to download multiple versions of modules from the mirror. How do I get it to index more that the latest version of modules I inject:</p>\n\n<pre><code>$ mcpani -v --add --module Foo --authorid DUMMY --modversion 0.001 --file Foo/Foo-0.001.tar.gz\n$ mcpani -v --add --module Foo --authorid DUMMY --modversion 0.002 --file Foo/Foo-0.002.tar.gz\n$ mcpani -v --update\n</code></pre>\n\n<p>such that I can do:</p>\n\n<pre><code>$ cpanm -M ~/CPAN Foo@0.001\n</code></pre>\n\n<p><b>NOTE:</b></p>\n\n<p>The different versions of the module are present within the mirror:</p>\n\n<pre><code>$ find ~/CPAN -name 'Foo-0.00[12].tar.gz'\n~/CPAN/authors/id/D/DU/DUMMY/Foo-0.001.tar.gz\n~/CPAN/authors/id/D/DU/DUMMY/Foo-0.002.tar.gz\n</code></pre>\n\n<p>Even if I edit the index file by hand, only the first one listed is available for download:</p>\n\n<pre><code>$ zgrep '^Foo\\s' ~/CPAN/modules/02packages.details.txt.gz \nFoo                               0.002  D/DU/DUMMY/Foo-0.002.tar.gz\nFoo                               0.001  D/DU/DUMMY/Foo-0.001.tar.gz\n</code></pre>\n\n<p>I have used <a href=\"https://metacpan.org/pod/CPAN::Mini::Inject\" rel=\"nofollow noreferrer\">CPAN::Mini::Inject</a> in my examples here but I have tried the following with the same outcome:</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/distribution/CPAN-Site/bin/cpansite\" rel=\"nofollow noreferrer\">cpansite</a></li>\n<li><a href=\"https://metacpan.org/pod/App::opan\" rel=\"nofollow noreferrer\">App::opan</a></li>\n<li><a href=\"https://metacpan.org/pod/OrePAN2\" rel=\"nofollow noreferrer\">OrePAN2</a></li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1550579893, "post_id": 54766218, "comment_id": 96313111, "body": "What didn&#39;t work? Also note that you can <code>my @lines = &lt;$handle&gt;;</code> and <code>print {$handle} @reordered;</code>."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550581806, "post_id": 54766218, "comment_id": 96314208, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13416337/what-s-the-best-way-to-shuffle-an-array-in-perl\">What\u2019s the best way to shuffle an array in Perl?</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550582598, "post_id": 54766218, "comment_id": 96314687, "body": "What exactly is your question?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550582993, "post_id": 54766218, "comment_id": 96314980, "body": "Checking your <code>unlink</code> and <code>rename</code> calls for failure might be informative."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1550582827, "post_id": 54766775, "comment_id": 96314850, "body": "Is this a comment or an answer? /// Tie::File is NEVER the answer, especially here. It&#39;ll just make your program crazy slow and make it gobble up oodles memory for nothing, because your version is no shorter than a version that uses File::Slurper."}, {"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550583517, "post_id": 54766775, "comment_id": 96315304, "body": "@ikegami from the documentation of Tie::File The file is not loaded into memory, so this will work even for gigantic files."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550584124, "post_id": 54766775, "comment_id": 96315699, "body": "No, it won&#39;t. On top of the fixed-size buffer, Tie::File keeps an index of every line it encounters. This takes 28 bytes per line on a 64-bit build of Perl (not counting the memory allocator&#39;s overhead). If the average line is short (e.g. computer code), visiting every line as in your post will cause Tie::File to actually use up more memory than loading the file into a scalar! Even if the lines are long, we&#39;re still talking about a prohibitively gigantic amount of memory for gigantic files. All while taking 30x longer (for some tasks, including trivial ones)."}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": -1, "last_activity_date": 1550580603, "creation_date": 1550580603, "answer_id": 54766775, "question_id": 54766218, "link": "https://stackoverflow.com/questions/54766218/how-to-shuffle-the-lines-inside-the-file-using-perl-script/54766775#54766775", "title": "How to shuffle the lines inside the file using perl Script", "body": "<p>You can use the <code>Tie::File</code> module. This lets you access the contents of a file as an array.</p>\n\n<pre><code>use List::Util qw(shuffle);\nuse Tie::File;\n\ntie my @lines, 'Tie::File', \"C:/Users/SravanthiBekkam/Desktop/pearl/data.txt\";\n@lines = shuffle @lines;\nuntie @lines;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1550584362, "post_id": 54767862, "comment_id": 96315843, "body": "<code>perl -i shuffle_file data.txt</code>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1550584266, "creation_date": 1550584266, "answer_id": 54767862, "question_id": 54766218, "link": "https://stackoverflow.com/questions/54766218/how-to-shuffle-the-lines-inside-the-file-using-perl-script/54767862#54767862", "title": "How to shuffle the lines inside the file using perl Script", "body": "<p>This is a great example of a program that gets a lot shorter if you a) use more Perlish idioms and b) make use of I/O indirection to get rid of all that opening and reading files.</p>\n\n<pre><code>use List::Util qw(shuffle);\n\nprint shuffle &lt;&gt;;\n</code></pre>\n\n<p>This reads a file from <code>STDIN</code> and writes a shuffled version to <code>STDOUT</code>. So, if it was in a file called <code>shuffle_file</code>, you could call it like this:</p>\n\n<pre><code>$ shuffle_file &lt; data.txt &gt; temp.txt\n</code></pre>\n\n<p>Of course, you'd need to then do the renaming yourself. But that seems a small price to pay for not having to write all that tedious extra code :-)</p>\n\n<p>Oh, and I think the problem with your original code is that you're calling <code>rename()</code> passing it closed filehandles - when it requires filenames.</p>\n\n<pre><code>rename($filepath2, $filepath1);\n</code></pre>\n\n<p>(There also seems to be some confusion over the name of <code>$filepath1</code> - sometimes you just call it <code>$filepath</code>.)</p>\n"}], "owner": {"reputation": 61, "user_id": 10717966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e912cd9d509512cefba2a02a489392bd?s=128&d=identicon&r=PG&f=1", "display_name": "sravs", "link": "https://stackoverflow.com/users/10717966/sravs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1550584266, "creation_date": 1550578829, "last_edit_date": 1550579014, "question_id": 54766218, "link": "https://stackoverflow.com/questions/54766218/how-to-shuffle-the-lines-inside-the-file-using-perl-script", "title": "How to shuffle the lines inside the file using perl Script", "body": "<p>I have a text file and i want shuffle the lines using the Perl Script. I kept the whole file into array and used  shuffle in util  and i want to write that shuffled data into anther file and renamed it as the old file name.</p>\n\n<p>I wrote the piece of code:</p>\n\n<pre><code>use List::Util qw(shuffle);\nmy @lines;\nmy @reordered;\nmy $filepath1 =\"C:/Users/SravanthiBekkam/Desktop/pearl/data.txt\";\nmy $filepath2 =\"C:/Users/SravanthiBekkam/Desktop/pearl/temp.txt\";\nmy $fhandle; \nmy $handle;\nopen ( $fhandle, \"&lt;\", $filepath);\n\nwhile (&lt;$fhandle&gt;) {\n\n    push(  @lines, $_);\n}\n@reordered = shuffle(@lines);\nopen ( $handle, \"&gt;\", $filepath2);\nforeach  (@reordered) {\n    print $handle  \"$_\\n\";\n}\nclose $fhandle;\nclose $handle;\nunlink $fhandle;\nrename($handle, $fhandle);\n</code></pre>\n\n<p>In the above code I stored the file into the <code>@lines</code> array and shuffled the array and rewriting into the another file and am removing the previous file and renaming the appended file as original file. </p>\n\n<p>Expected to shuffle the lines in a same file or write into another at least.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550582679, "post_id": 54763580, "comment_id": 96314735, "body": "I edited your question to make the inputs &amp; outputs more readable. Please check if I haven&#39;t inadvertently removed some information that is relevant."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1550640725, "post_id": 54767914, "comment_id": 96337744, "body": "Thanks a lot @StefanBecker, your code is working fine but I need to print the data in a separate output file and it should be the same data that we are comparing (after the keyword) not the complete line.  Secondly one thing more for file 1: Print the data not matching with file 2 but while comparing for file 2 I need just number of instances when data is not matching (number of lines)"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1550642096, "post_id": 54767914, "comment_id": 96338241, "body": "(a) just use <code>perl script.pl log1.txt log2.txt &gt;output.txt</code>, (b) your example indicates that the output file should contain whole lines, not the comparison string, (c) again, your example indicates to print not-found lines from log1 in log2, then not-found lines from log2 in log1. Answers can only be based on what input, problem description and expected output are presented in the question."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1550642229, "post_id": 54767914, "comment_id": 96338290, "body": "Please up-vote and accept the answer if it fulfills the original question. What you describe in your comment sounds like something you can figure out yourself given the code in my answer, i.e. IMHO it doesn&#39;t warrant another question."}, {"owner": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1550655807, "post_id": 54767914, "comment_id": 96344879, "body": "perl script.pl log1.txt log2.txt &gt;output.txt This is not working fine, please help me out in printing comparison string not the whole line in a separate output file."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "edited": false, "score": 0, "creation_date": 1550656989, "post_id": 54767914, "comment_id": 96345586, "body": "Can you be more specific &quot;what is not working&quot;? Is there an error message? <code>&gt;output.txt</code> redirects the standard output from the perl script into the file, i.e. everything the script prints goes into that file. This should work with every command line tool on any OS. Using the file names from your question <code>perl script.pl x.log y.log &gt;file.txt</code> with the Perl code stored in <code>script.pl</code>"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 1, "last_activity_date": 1550584402, "creation_date": 1550584402, "answer_id": 54767914, "question_id": 54763580, "link": "https://stackoverflow.com/questions/54763580/compare-lines-with-a-pattern-in-two-files/54767914#54767914", "title": "compare lines with a pattern in two files", "body": "<p>If I understood your input data correctly you want</p>\n\n<ul>\n<li>read lines from file 1\n\n<ul>\n<li>filter the lines that contain the filter keyword <code>mti_clk_chk:</code></li>\n<li>store everything after the keyword for comparison</li>\n</ul></li>\n<li>same with file 2</li>\n<li>print out lines from file 1 whose comparison string can't be found in file 2</li>\n<li>vice versa for file 2</li>\n</ul>\n\n<p>The proposed solution for your question:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse autodie;\nuse feature qw(say);\n\ndie \"usage: $0 &lt;log1&gt; &lt;log2&gt;\\n\"\n    if @ARGV &lt; 2;\nmy($log1, $log2) = @ARGV;\n\n# log file extractor function\nsub extractor($) {\n    my($file) = @_;\n    my %lines;\n    my @order;\n\n    # Parse log file contents\n    open(my $fh, '&lt;', $file);\n    while (&lt;$fh&gt;) {\n        chomp;\n        if (my($key) = /mti_clk_chk:\\s*(.+)$/) {\n            die \"duplicate log line '$_' detected at ${file}:$.!\\n\"\n                if exists $lines{$key};\n            $lines{$key} = $_;\n            push(@order, $key);\n        }\n    }\n    close($fh);\n\n    return((\\%lines, \\@order));\n}\n\n# parse log files\nmy($lines_log1, $order_log1) = extractor($log1);\nmy($lines_log2, $order_log2) = extractor($log2);\n\n# lines in log1 but not in log2\nsay foreach (\n    map  { $lines_log1-&gt;{$_} }\n    grep { ! exists $lines_log2-&gt;{$_} }\n    @{ $order_log1 }\n);\n\n# separator in output\nsay \"\";\n\n# lines in log2 but not in log1\nsay foreach (\n    map  { $lines_log2-&gt;{$_} }\n    grep { ! exists $lines_log1-&gt;{$_} }\n    @{ $order_log2 }\n);\n\nexit 0;\n</code></pre>\n\n<p>Test run with the two lines you have given as example. I added some junk at the start and the end to make sure it does not end up in the desired output.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cat dummy1.txt\ntest1\nINFO @1102266 PHResourceLayer_Z4: mti_clk_chk:################ start of test ################ ; T=1102266\nINFO @1102334 PHResourceLayer_Z4: mti_clk_chk:Checking the period of MTI, MTI10 clk from SV; T=1102334\ntest1\n\n$ cat dummy2.txt\ntest2\nUVM_INFO @1092507 reporter Z4_COREA: mti_clk_chk: ################ start of test ################ ; T=1092507\nUVM_INFO @1092563 reporter Z4_COREA: mti_clk_chk: Checking the period of MTI, MTI10 clk from SV; T=1092563\ntest2\n\n$ perl dummy.pl dummy1.txt dummy2.txt\nINFO @1102266 PHResourceLayer_Z4: mti_clk_chk:################ start of test ################ ; T=1102266\nINFO @1102334 PHResourceLayer_Z4: mti_clk_chk:Checking the period of MTI, MTI10 clk from SV; T=1102334\n\nUVM_INFO @1092507 reporter Z4_COREA: mti_clk_chk: ################ start of test ################ ; T=1092507\nUVM_INFO @1092563 reporter Z4_COREA: mti_clk_chk: Checking the period of MTI, MTI10 clk from SV; T=1092563\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8738411, "user_type": "registered", "profile_image": "https://graph.facebook.com/1612844115439133/picture?type=large", "display_name": "Rahul Agarwal", "link": "https://stackoverflow.com/users/8738411/rahul-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 54767914, "answer_count": 1, "score": 0, "last_activity_date": 1550584402, "creation_date": 1550570814, "last_edit_date": 1550582618, "question_id": 54763580, "link": "https://stackoverflow.com/questions/54763580/compare-lines-with-a-pattern-in-two-files", "title": "compare lines with a pattern in two files", "body": "<p>lets take an example</p>\n\n<p>If my data set is like this. \nLOG 1 (x.log) contains</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO @1102266 PHResourceLayer_Z4: mti_clk_chk:################ start of test ################ ; T=1102266\nINFO @1102334 PHResourceLayer_Z4: mti_clk_chk:Checking the period of MTI, MTI10 clk from SV; T=1102334\n</code></pre>\n\n<p>LOG 2 (y.log) contains</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>UVM_INFO @1092507 reporter Z4_COREA: mti_clk_chk: ################ start of test ################ ; T=1092507\nUVM_INFO @1092563 reporter Z4_COREA: mti_clk_chk: Checking the period of MTI, MTI10 clk from SV; T=1092563\n</code></pre>\n\n<p>Then for first line I have to check </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>################ start of test ################ ; T=1102266\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>################ start of test ################ ; T=1092507\n</code></pre>\n\n<p>as value of T are not same so it should give these details in output file stating the details are not matching.</p>\n\n<p>Similarily for line 2 we have to match</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Checking the period of MTI, MTI10 clk from SV; T=1102334\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Checking the period of MTI, MTI10 clk from SV; T=1092563\n</code></pre>\n\n<p>Here also values of T are not matching so pass it to output file.</p>\n\n<p>I have to compare details line by line in two log files having certain keyword <code>mti_clk_chk</code>. Till now I'm able to parse it line by line with required keyword from both files into a third file. Now I want to compare the data present after the keyword following colon(<code>:</code>) and in output file I have to print the mismatched lines from first data-set on comparing it with second data-set and number of lines in second data set that are not present in first data-set. Data after parsing two log files is given below. Please help me out how to compare details provided in each line between two set of data.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>open(FILE, \"&lt;x.log\");\nmy @array = &lt;FILE&gt;;\nclose(FILE);\n\nopen(FILE, \"&lt;y.log\");\nmy @array1 = &lt;FILE&gt;;\nclose(FILE);\n\nopen(FILE, \"&gt;&gt;file.txt\");\nmy @array2 = &lt;FILE&gt;;\nforeach $_ (@array &amp; @array1) {\n         @array2 = grep {$_ =~ \"mti_clk_chk:\"} (@array);\n                  print FILE \"@array2\";\n          print FILE \"\\n \\n \\n\";\n\n         @array2 = grep {$_ =~ \"mti_clk_chk:\"} (@array1);\n                  print FILE \"@array2\";\n                  close(FILE);\nexit;\n}\n</code></pre>\n\n<p>Sample data in file.txt after parsing two input logs (x.log and y.log) </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO @576892 mti_clk_chk: run_stimulus called; T=576892\nINFO @1102266 PHResourceLayer_Z4: mti_clk_chk:################ start of test ################ ; T=1102266\nINFO @1102334 PHResourceLayer_Z4: mti_clk_chk:Checking the period of MTI, MTI10 clk from SV; T=1102334\nINFO @1102372 mti_clk_chk: Checking period of MTI CLk; T=1102372\nINFO @1102377 mti_clk_chk: Period value of MTI Clock: 3.125000 ns; T=1102377\nINFO @1102377 mti_clk_chk: MTI Clock is being generated correctly ; T=1102377\nINFO @1102377 mti_clk_chk: Checking period of MTI10 CLk; T=1102377\nINFO @1102418 mti_clk_chk: Period value of MTI10 Clock: 31.250000 ns; T=1102418\nINFO @1102418 mti_clk_chk: MTI10 Clock is being generated correctly ; T=1102418\nINFO @1102717 PHResourceLayer_Z4: mti_clk_chk: All clock period Checking done; T=1102717\nINFO @1148661 mti_clk_chk: C-Code exit execution. code=&lt;aa&gt;; T=1148661\nINFO @1148661 mti_clk_chk: ************************ SV END******************** ; T=1148661\n\nUVM_INFO @0 reporter testbench.top_level_module.\\mti_clk_chk::main : MTI_CLK_CHK_STIM Started .....; T=0\nUVM_INFO @0 reporter testbench.top_level_module.\\mti_clk_chk::main : run_stimulus called; T=0\nUVM_INFO @1092507 reporter Z4_COREA: mti_clk_chk: ################ start of test ################ ; T=1092507\nUVM_INFO @1092563 reporter Z4_COREA: mti_clk_chk: Checking the period of MTI, MTI10 clk from SV; T=1092563\nUVM_INFO @1092598 reporter testbench.top_level_module.\\mti_clk_chk::main : Checking period of MTI CLk; T=1092598\nUVM_INFO @1092605 /proj/rru2_verif/usr/Tilak/SV_UVM/testbench/data_ipdss/v_ms_mti_stim_vip/testbench/classes_v/mti_clk_chk.sv(147) uvm_test_top.default_env.default_sequencer100@@mti_clk_chk mti_clk_chk:INFO: Period value of MTI Clock: 3.125000 ns; T=1092605\nUVM_INFO @1092605 reporter testbench.top_level_module.\\mti_clk_chk::main : MTI Clock is being generated correctly ; T=1092605\nUVM_INFO @1092605 reporter testbench.top_level_module.\\mti_clk_chk::main : Checking period of MTI10 CLk; T=1092605\nUVM_INFO @1092655 /proj/rru2_verif/usr/Tilak/SV_UVM/testbench/data_ipdss/v_ms_mti_stim_vip/testbench/classes_v/mti_clk_chk.sv(165) uvm_test_top.default_env.default_sequencer100@@mti_clk_chk mti_clk_chk:INFO: Period value of MTI10 Clock: 31.250000 ns; T=1092655\nUVM_INFO @1092655 reporter testbench.top_level_module.\\mti_clk_chk::main : MTI10 Clock is being generated correctly ; T=1092655\nUVM_INFO @1092850 reporter Z4_COREA: mti_clk_chk: All clock period Checking done; T=1092850\nUVM_INFO @1092886 /proj/rru2_verif/usr/Tilak/SV_UVM/testbench/data_ipdss/v_ms_mti_stim_vip/testbench/classes_v/mti_clk_chk.sv(186) uvm_test_top.default_env.default_sequencer100@@mti_clk_chk mti_clk_chk:INFO: ************************ SV END******************** ; T=1092886\n</code></pre>\n"}, {"tags": ["perl", "template-toolkit"], "answers": [{"comments": [{"owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "edited": false, "score": 0, "creation_date": 1550577116, "post_id": 54764962, "comment_id": 96311374, "body": "yes - this is the way i did it as workaround (beside that i just import the created hash in the given one)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1550576066, "last_edit_date": 1550576066, "creation_date": 1550574829, "answer_id": 54764962, "question_id": 54762573, "link": "https://stackoverflow.com/questions/54762573/template-toolkit-how-return-a-hash-from-a-macro-block/54764962#54764962", "title": "Template Toolkit: how return a hash from a MACRO BLOCK", "body": "<p>I could not find a way when I was faced with the same problem.</p>\n\n<p>As a workaround, you can pass in a reference and have the macro modify the referenced variable. This works for both arrays and hashes.</p>\n\n<p>Example definition:</p>\n\n<pre><code>[%\n   # usage: newOb={}; MakeSomeThing(newOb, something)\n   MACRO MakeSomeThing(rv, something) BLOCK;\n      rv.a = 'a';\n      rv.b = something;\n      rv.c = 'c';\n   END;\n%]\n</code></pre>\n\n<p>Example use:</p>\n\n<pre><code>[%\n   newOb = {};\n   MakeSomeThing(newOb, 'foo');\n   dumper.dump({'newOb' =&gt; newOb});\n%]\n</code></pre>\n"}], "owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 54764962, "answer_count": 1, "score": 5, "last_activity_date": 1550576066, "creation_date": 1550567808, "last_edit_date": 1550570199, "question_id": 54762573, "link": "https://stackoverflow.com/questions/54762573/template-toolkit-how-return-a-hash-from-a-macro-block", "title": "Template Toolkit: how return a hash from a MACRO BLOCK", "body": "<p>Is it possible to write macros or blocks that return a hash to the caller?</p>\n\n<p>I tried to modularize some template code:</p>\n\n<pre><code>[%- \nMACRO MakeSomeThing(something) BLOCK;\n  s = {  a =&gt; 'a',\n         b =&gt; something,\n         c =&gt; 'c'\n      };\n  # RETURN s;  # not allowed\n  # s;         # just returns the hash ref string (HASH(0x32e42e4))\nEND;\n\n\n  newOb =  MakeSomeThing('foo');\n  dumper.dump({'newOb' =&gt; newOb});\n%]\n</code></pre>\n\n<p>Is there some way to implement a similar pattern?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1550597963, "post_id": 54761118, "comment_id": 96324031, "body": "Also make sure you understand the <a href=\"https://perldoc.pl/functions/each\" rel=\"nofollow noreferrer\">caveats with each</a> which are more fully documented in 5.28. Namely that several operations within your while loop can cause it to break by resetting the <code>each</code> iterator, or a previous iteration might remain unfinished. An alternative is iterating with <code>foreach</code> through the keys instead."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 2, "creation_date": 1550565379, "post_id": 54761362, "comment_id": 96304190, "body": "You could use that, but most people find it&#39;s just find it noisier. See the &quot;which should you use?&quot; section of <a href=\"https://stackoverflow.com/a/44060022/589924\">this answer</a> (at the bottom)."}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1559573318, "post_id": 54761362, "comment_id": 99453913, "body": "I prefer the <code>for my $key (keys %{$val}) {...}</code> syntax."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1550564424, "last_edit_date": 1550564424, "creation_date": 1550563497, "answer_id": 54761362, "question_id": 54761118, "link": "https://stackoverflow.com/questions/54761118/how-to-solve-the-experimental-values-on-scalar-is-now-forbidden-problem-in-per/54761362#54761362", "title": "how to solve the \u201cExperimental values on scalar is now forbidden\u201d problem in perl", "body": "<p><code>each</code> takes a hash, not a reference.<sup>[1]</sup> Therefore,</p>\n\n<pre><code>while (my ($ip, $val2) = each($val))\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>while (my ($ip, $val2) = each(%$val))\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>Perl 5.12, 5.14 and 5.16 allowed a reference to be used. This was a mistake.</p>\n\n<p>Perl 5.18, 5.20 and 5.22 still allowed it, but warned if you did.</p>\n\n<p>Perl 5.24 reverted this addition.</p></li>\n</ol>\n"}], "owner": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "accepted_answer_id": 54761362, "answer_count": 1, "score": 1, "last_activity_date": 1550565009, "creation_date": 1550562529, "last_edit_date": 1550565009, "question_id": 54761118, "link": "https://stackoverflow.com/questions/54761118/how-to-solve-the-experimental-values-on-scalar-is-now-forbidden-problem-in-per", "title": "how to solve the \u201cExperimental values on scalar is now forbidden\u201d problem in perl", "body": "<p>In Perl 5.26.2 I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Experimental each on scalar is now forbidden at a.plx line 67.\nType of arg 1 to each must be hash or array (not private variable) at a.plx   \nline 67, near \"$val)\"\nExecution of a.plx aborted due to compilation errors.\n</code></pre>\n\n<p>Where line 67 is the while in</p>\n\n<pre><code> 67 while (my ($ip, $val2) = each($val))\n 68 {\n       ......\n    }\n</code></pre>\n"}, {"tags": ["regex", "linux", "perl", "unix", "sed"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1550555005, "post_id": 54759531, "comment_id": 96299957, "body": "Try this: <code>system(&quot;sed -i $vars&#39;s&#47;abc&#47;xyz&#47;&#39; filename.txt&quot;).</code>"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1550555222, "post_id": 54759531, "comment_id": 96300037, "body": "@anubhava I guess you meant <code>system(&quot;sed -i &#39;${vars}s&#47;abc&#47;xyz&#47;&#39; filename.txt&quot;)</code>. Better and safer would be to use <code>system(qw{sed -i}, &quot;${vars}s&#47;abc&#47;xyz&#47;&quot;,  qw{filename.txt})</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550564311, "post_id": 54759531, "comment_id": 96303698, "body": "A suggestion.  It is altogether about a dozen lines of code to do this nicely in straight Perl, but I would recommend that you do that. This &quot;one line&quot; entails far more complexity with possible failures and murky error reporting, may depend on systems/version, is less efficient  ... it&#39;s just not worth it, I think"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1550555821, "post_id": 54759646, "comment_id": 96300263, "body": "Putting <code>sed -i -e</code> as a single argument looks weird, shouldn&#39;t you be using <code>system(qw(sed), qw(-i), qw(-e), ...)</code> if only for legibility?"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550555919, "post_id": 54759646, "comment_id": 96300305, "body": "Well, IMHO then better would be <code>system(&#39;sed&#39;, &#39;-i&#39;, &#39;-e&#39;, ...)</code>. But quoting is the whole point of the <code>qw()</code> operator, isn&#39;t it?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550556093, "post_id": 54759646, "comment_id": 96300354, "body": "Yeah but the resulting extra parentheses in <code>system((&#39;sed&#39;, &#39;-i&#39;, &#39;-e&#39;), ...)</code> are what I&#39;m getting at. I have no problem with using <code>qw(sed -i -e)</code> if you merge that with the following arguments into a single list."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1550556248, "post_id": 54759646, "comment_id": 96300414, "body": "@tripleee the extra parentheses are an artifact of <a href=\"https://metacpan.org/pod/B::Deparse\" rel=\"nofollow noreferrer\">B::Deparse</a>. So in reality you get those all the time when you use <code>qw()</code> but as you don&#39;t see them, you don&#39;t bother :-)"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 1, "last_activity_date": 1550555797, "last_edit_date": 1550555797, "creation_date": 1550555483, "answer_id": 54759646, "question_id": 54759531, "link": "https://stackoverflow.com/questions/54759531/how-to-pass-a-variable-line-number-in-sed-substitute-command/54759646#54759646", "title": "How to pass a variable line number in sed substitute command", "body": "<p>Better and safer is to use the LIST variant of <code>system</code>, because it avoids unsafe shell command line parsing. The command, <code>sed</code> in your case, will receive the command line arguments un-alterated and without the need to quote them.</p>\n\n<p>NOTE: I added <code>-MO=Deparse</code> just to illustrate what the one-liner compiles to.</p>\n\n<p>NOTE: I added <code>-e</code> to be on the safe side as you have <code>-i</code> on the command line which expects a parameter.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code> $ perl -MO=Deparse -e 'system(qw{sed -i -e}, \"${vars}s/abc/xyz/\", qw{filename.txt})'\n system(('sed', '-i', '-e'), \"${vars}s/abc/xyz/\", 'filename.txt');\n -e syntax OK\n</code></pre>\n\n<hr>\n\n<p>Of course in reality it would be easier just to do the processing in Perl itself instead of calling <code>sed</code>...</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1550575134, "creation_date": 1550575134, "answer_id": 54765072, "question_id": 54759531, "link": "https://stackoverflow.com/questions/54759531/how-to-pass-a-variable-line-number-in-sed-substitute-command/54765072#54765072", "title": "How to pass a variable line number in sed substitute command", "body": "<p>Shelling out to <code>sed</code> from within <code>perl</code> is a road to unnecessary pain. You're introducing additional quoting and variable expansion layers, and that's at best making your code less clear, and at worst introducing bugs accidentally.</p>\n\n<p>Why not just do it in native <code>perl</code> which is considerably more effective. Perl even allows you to do in place editing if you want.</p>\n\n<p>But it's as simple as:</p>\n\n<pre><code>open ( my $input, '&lt;', 'filename.txt'); \nopen ( my $output, '&gt;', 'filename.txt.new'); \n\nselect $output; \nwhile ( &lt;$input&gt; ) {\n   if ( $. == $vars ) { \n       s/abc/xyz/\n   }\n   print;\n }\n</code></pre>\n\n<p>Or if you're really keen on the in place edit, you can look into setting `$^I: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/31024980/perl-in-place-editing-within-a-script-rather-than-one-liner\">Perl in place editing within a script (rather than one liner)</a></p>\n\n<p>But I'd suggest 'just' renaming the file after you're done is as easy. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11078656"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1550575134, "creation_date": 1550554842, "last_edit_date": 1550554919, "question_id": 54759531, "link": "https://stackoverflow.com/questions/54759531/how-to-pass-a-variable-line-number-in-sed-substitute-command", "title": "How to pass a variable line number in sed substitute command", "body": "<p>I am  trying to do a <code>sed</code> operation like this</p>\n\n<pre><code>sed -i '100s/abc/xyz/' filename.txt\n</code></pre>\n\n<p>I wanted 100 in a variable say $var from a perl script. So, I am trying like this </p>\n\n<pre><code>system(\"sed -i \"${vars}s/abc/xyz/\" filename.txt\"). \n</code></pre>\n\n<p>This is throwing some error. </p>\n\n<p>Again when I am doing like this putting system command in single quotes:</p>\n\n<pre><code>system('sed -i \"${vars}s/abc/xyz/\" filename.txt')\n</code></pre>\n\n<p>this is substituting wrongly. What can be done? </p>\n"}, {"tags": ["perl", "walmart-api"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1550554206, "post_id": 54757716, "comment_id": 96299738, "body": "Link to docs, please?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1550554290, "post_id": 54757716, "comment_id": 96299759, "body": "Are you sure it wants a form and not just the XML doc?"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 10759740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aa69b17ab54deb4330b263ea093c485?s=128&d=identicon&r=PG&f=1", "display_name": "R Y", "link": "https://stackoverflow.com/users/10759740/r-y"}, "edited": false, "score": 3, "creation_date": 1550592982, "post_id": 54769751, "comment_id": 96321253, "body": "Would you look at that, <a href=\"https://developer.walmart.com/#/apicenter/marketPlace/latest#bulkCreateUpdateItems\" rel=\"nofollow noreferrer\">their documentation</a> says <code>multipart&#47;formdata</code>.  That&#39;s wrong.  You should report that to them, I bet they&#39;d appreciate it."}], "tags": [], "owner": {"reputation": 61, "user_id": 4300351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O1UAA7xsbMk/AAAAAAAAAAI/AAAAAAAAAKM/N9QdbNPkUQc/photo.jpg?sz=128", "display_name": "Mike Carville GleTech", "link": "https://stackoverflow.com/users/4300351/mike-carville-gletech"}, "is_accepted": true, "score": 1, "last_activity_date": 1550590093, "creation_date": 1550590093, "answer_id": 54769751, "question_id": 54757716, "link": "https://stackoverflow.com/questions/54757716/perl-connecting-to-walmart-api-to-load-items-unsupported-media-type-error/54769751#54769751", "title": "Perl: Connecting to Walmart API to load items Unsupported Media type error", "body": "<p>Thanks for everyone that looked. The problem seems to be solved</p>\n\n<p>It was one minor typo</p>\n\n<p>multipart/formdata needed to be multipart/form-data</p>\n\n<p>With that change now we are getting a feed id that shows up in the Seller area</p>\n"}], "owner": {"reputation": 61, "user_id": 4300351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O1UAA7xsbMk/AAAAAAAAAAI/AAAAAAAAAKM/N9QdbNPkUQc/photo.jpg?sz=128", "display_name": "Mike Carville GleTech", "link": "https://stackoverflow.com/users/4300351/mike-carville-gletech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 54769751, "answer_count": 1, "score": 0, "last_activity_date": 1550590093, "creation_date": 1550540595, "last_edit_date": 1550556498, "question_id": 54757716, "link": "https://stackoverflow.com/questions/54757716/perl-connecting-to-walmart-api-to-load-items-unsupported-media-type-error", "title": "Perl: Connecting to Walmart API to load items Unsupported Media type error", "body": "<p>We are trying using the marketplace.walmartapis.com api to bulk list items and it is returning unsupported media type for xml item feed</p>\n\n<p>We are using Perl and are able to perform other commands to update inventory and pricing, check orders, lookup feeds and skus etc. The token SHOULD be good, as we ran two calls back to back using the same token and the first call (item inventory) worked as expected before trying to send the xml file. It is only when we try to send the xml batch file that we run into the problem.</p>\n\n<p>We assume the issue is with the header/authentication and have tried many different combinations. But obviously we are missing something. </p>\n\n<p>What is being sent:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>POST https://marketplace.walmartapis.com/v3/feeds?feedType=item HTTP/1.1\n</code></pre>\n\n<p>Headers:</p>\n\n<pre class=\"lang-http prettyprint-override\"><code>Authorization: Basic MDc4......\nContent-Length: 2277\nAccept: application/xml\nContent-Type: multipart/formdata\nHost: marketplace.walmartapis.com\nWM_QOS.CORRELATION_ID: TB123456V32\nWM_SEC.ACCESS_TOKEN: eyJra...\nWM_SVC.NAME: Walmart Marketplace\nBoundary: 1234ran4321dom5678boundary\n</code></pre>\n\n<p>formdata payload:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>--1234ran4321dom5678boundary\nContent-Disposition: formdata; name=\"xml\"\nContent-length: 2151\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;MPItemFeed xmlns=\"http://walmart.com/\"&gt;\n  &lt;MPItemFeedHeader&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n    &lt;requestBatchId&gt;......&lt;/requestBatchId&gt;\n    &lt;feedDate&gt;2019-02-18T19:45:17&lt;/feedDate&gt;\n    &lt;mart&gt;WALMART_US&lt;/mart&gt;\n  &lt;/MPItemFeedHeader&gt;\n  &lt;MPItem&gt;\n    &lt;processMode&gt;CREATE&lt;/processMode&gt;\n    &lt;sku&gt;....&lt;/sku&gt;\n    &lt;productIdentifiers&gt;\n      &lt;productIdentifier&gt;\n        &lt;productIdType&gt;UPC&lt;/productIdType&gt;\n        &lt;productId&gt;..........&lt;/productId&gt;\n      &lt;/productIdentifier&gt;\n    &lt;/productIdentifiers&gt;\n    &lt;MPProduct&gt;\n      &lt;productName&gt;.....................&lt;/productName&gt;\n      &lt;category&gt;\n        &lt;SportAndRecreation&gt;\n          &lt;SportAndRecreationOther&gt;\n            &lt;shortDescription&gt;........................&lt;/shortDescription&gt;\n            &lt;keyFeatures&gt;\n              &lt;keyFeaturesValue&gt;I...............&lt;/keyFeaturesValue&gt;\n            &lt;/keyFeatures&gt;\n            &lt;brand&gt;............&lt;/brand&gt;\n            &lt;manufacturer&gt;.............&lt;/manufacturer&gt;\n            &lt;manufacturerPartNumber&gt;.............&lt;/manufacturerPartNumber&gt;\n            &lt;modelNumber&gt;..&lt;/modelNumber&gt;\n            &lt;mainImageUrl&gt;............&lt;/mainImageUrl&gt;\n            &lt;count&gt;1&lt;/count&gt;\n            &lt;isProp65WarningRequired&gt;No&lt;/isProp65WarningRequired&gt;\n            &lt;sportsLeague&gt;\n               &lt;sportsLeagueValue&gt;....&lt;/sportsLeagueValue&gt;\n            &lt;/sportsLeague&gt;\n            &lt;keywords&gt;................&lt;/keywords&gt;\n            &lt;isMemorabilia&gt;......&lt;/isMemorabilia&gt;\n            &lt;isCollectible&gt;...........&lt;/isCollectible&gt;\n          &lt;/SportAndRecreationOther&gt;\n        &lt;/SportAndRecreation&gt;\n      &lt;/category&gt;\n    &lt;/MPProduct&gt;\n    &lt;/MPOffer&gt;\n        &lt;price&gt;21.95&lt;/price&gt;\n        &lt;StartDate&gt;2019-02-23T19:45:17&lt;/StartDate&gt;\n        &lt;EndDate&gt;2019-04-19T19:45:17&lt;/EndDate&gt;\n        &lt;ShippingWeight&gt;\n          &lt;measure&gt;2&lt;/measure&gt;\n          &lt;unit&gt;lb&lt;/unit&gt;\n        &lt;/ShippingWeight&gt;\n        &lt;ProductTaxCode&gt;2038345&lt;/ProductTaxCode&gt;\n    &lt;/MPOffer&gt;\n  &lt;/MPItem&gt;\n&lt;/MPItemFeed&gt;\n--1234ran4321dom5678boundary--\n</code></pre>\n\n<p>back from Walmart.pm</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$HASH = {\n      \"error\" =&gt; {\n                 \"category\" =&gt; \"DATA\",\n                 \"causes\" =&gt; {},\n                 \"code\" =&gt; \"UNSUPPORTED_MEDIA_TYPE.GMP_GATEWAY_API\",\n                 \"errorIdentifiers\" =&gt; {},\n                 \"info\" =&gt; \"Unsupported Media Type.\",\n                 \"severity\" =&gt; \"ERROR\"\n               },\n      \"xmlns:ns2\" =&gt; \"http://walmart.com/\"\n};\n</code></pre>\n\n<p>Any pointers in the right direction would be appreciated.</p>\n"}, {"tags": ["perl", "awk", "sed", "string-matching"], "answers": [{"comments": [{"owner": {"reputation": 11476, "user_id": 8572380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a5d854aa543e6bf01abe8351d38782?s=128&d=identicon&r=PG&f=1", "display_name": "tshiono", "link": "https://stackoverflow.com/users/8572380/tshiono"}, "edited": false, "score": 1, "creation_date": 1550543045, "post_id": 54757834, "comment_id": 96297313, "body": "Excellent solution! BTW your script coincidentally starts with removing extra whitespaces in the end of lines as mine."}, {"owner": {"reputation": 33, "user_id": 11081645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9KTEsD3gsHU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNt564oHmOwA513gF6btjnEuhqfWg/mo/photo.jpg?sz=128", "display_name": "Walit Gemilang", "link": "https://stackoverflow.com/users/11081645/walit-gemilang"}, "edited": false, "score": 1, "creation_date": 1550546050, "post_id": 54757834, "comment_id": 96297952, "body": "great solution Ed Morton, it really works! appreciate if you could explain a little bit on the function used in this awk script, quite new with substr call"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 33, "user_id": 11081645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9KTEsD3gsHU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNt564oHmOwA513gF6btjnEuhqfWg/mo/photo.jpg?sz=128", "display_name": "Walit Gemilang", "link": "https://stackoverflow.com/users/11081645/walit-gemilang"}, "edited": false, "score": 0, "creation_date": 1550556137, "post_id": 54757834, "comment_id": 96300379, "body": "@WalitGemilang you&#39;re welcome. The man page describes better than I could what substr() does, see <a href=\"https://www.gnu.org/software/gawk/manual/gawk.html#String-Functions\" rel=\"nofollow noreferrer\">gnu.org/software/gawk/manual/gawk.html#String-Functions</a>"}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 2, "last_activity_date": 1550542951, "last_edit_date": 1550542951, "creation_date": 1550541729, "answer_id": 54757834, "question_id": 54757144, "link": "https://stackoverflow.com/questions/54757144/how-to-join-multi-lines-if-pattern-matches-within-multi-segment/54757834#54757834", "title": "How to join multi lines if pattern matches within multi segment", "body": "<pre><code>$ cat tst.awk\n{ sub(/[[:space:]]+$/,\"\") }\n$0 == \"segment\" {\n    for (keyNr=1; keyNr&lt;=numKeys; keyNr++) {\n        key = keys[keyNr]\n        print line[key]\n    }\n    print\n    numKeys = 0\n    next\n}\n/^[+]/ {\n    key = substr($0,2,1)\n    line[key] = line[key] OFS $2\n    next\n}\n{\n    key = substr($0,1,1)\n    line[key] = $0\n    keys[++numKeys] = key\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>$ awk -f tst.awk file\nsegment\nbob is working eating drinking\nlinda is studying\njohn is reading listening\nsegment\njohn is driving\nlinda is cooking washing\nbob is sleeping snoring\nsegment\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11476, "user_id": 8572380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a5d854aa543e6bf01abe8351d38782?s=128&d=identicon&r=PG&f=1", "display_name": "tshiono", "link": "https://stackoverflow.com/users/8572380/tshiono"}, "is_accepted": false, "score": 1, "last_activity_date": 1550542067, "creation_date": 1550542067, "answer_id": 54757880, "question_id": 54757144, "link": "https://stackoverflow.com/questions/54757144/how-to-join-multi-lines-if-pattern-matches-within-multi-segment/54757880#54757880", "title": "How to join multi lines if pattern matches within multi segment", "body": "<p>If <code>perl</code> is your option, please try the following:</p>\n\n<pre><code>perl -ne '\n    s/\\s+$//;\n    if (/^segment/) {\n        push(@ary, $_);\n        print(join(\"\\n\", @ary), \"\\n\");\n        undef @ary;\n    } elsif (/^(\\S)\\S*\\s+is/) {\n        push(@ary, $_);\n        $index{$1} = $#ary;\n    } elsif (/^\\+(\\S)\\s+(\\S+)/) {\n        $ary[$index{$1}] .= \" $2\";\n    }\n' file.txt\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>segment\nbob is working eating drinking\nlinda is studying\njohn is reading listening\nsegment\njohn is driving\nlinda is cooking washing\nbob is sleeping snoring\nsegment\n</code></pre>\n\n<ul>\n<li><code>-n</code> option tells <code>perl</code> to iterate over the input file as <code>awk -n</code>.</li>\n<li><code>s/\\s+$//</code> removes trailing newline character(s) and whitespace(s) if any.</li>\n<li>The <code>if (/^segment/)</code> portion flushes the contents in <code>@ary</code> and\nreset the array for the next segment.</li>\n<li>The next <code>elsif (/^(\\S)\\S*\\s+is/)</code> portion matches with the line\nlike <code>bob is working</code> then add the line into <code>@ary</code> by memorizing the\nindex of the arrary with the initial like \"b\".</li>\n<li>The next <code>elsif (/^\\+(\\S)\\s+(\\S+)/)</code> portion matches with the line\nlike <code>+b eating</code> then add the action <code>eating</code> to the element of <code>@ary</code>\nindexed via \"b\".</li>\n</ul>\n\n<p>I could write a script with <code>awk</code> as well but the script would be\nlonger. I prefer <code>perl</code> for its flexibility (and the weirdness).<br>\nHope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "is_accepted": false, "score": 0, "last_activity_date": 1554729335, "last_edit_date": 1554729335, "creation_date": 1550547971, "answer_id": 54758566, "question_id": 54757144, "link": "https://stackoverflow.com/questions/54757144/how-to-join-multi-lines-if-pattern-matches-within-multi-segment/54758566#54758566", "title": "How to join multi lines if pattern matches within multi segment", "body": "<p>Probably not the shortest but here's a straightforward sed version:</p>\n\n<pre><code>sed &lt;file -E '\n    :l;\n    /(^|\\n)segment[ \\t]*$/!{\n        N;\n        s/(^|\\n)(.)([^\\n]*)[ \\t](.*)\\n[+]\\2[ \\t]+([^\\n]*)/\\1\\2\\3\\5\\4/;\n        bl;\n    }\n'\n</code></pre>\n\n<ul>\n<li>if not match segment line,\n\n<ul>\n<li>append next line to pattern space</li>\n<li>search for lines starting with x and +x and append tail of latter to former</li>\n<li>jump back to top</li>\n</ul></li>\n<li>otherwise, implicit print, delete pattern space and start next cycle</li>\n</ul>\n"}], "owner": {"reputation": 33, "user_id": 11081645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9KTEsD3gsHU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNt564oHmOwA513gF6btjnEuhqfWg/mo/photo.jpg?sz=128", "display_name": "Walit Gemilang", "link": "https://stackoverflow.com/users/11081645/walit-gemilang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "accepted_answer_id": 54757834, "answer_count": 3, "score": 3, "last_activity_date": 1554729335, "creation_date": 1550534791, "last_edit_date": 1550624585, "question_id": 54757144, "link": "https://stackoverflow.com/questions/54757144/how-to-join-multi-lines-if-pattern-matches-within-multi-segment", "title": "How to join multi lines if pattern matches within multi segment", "body": "<p>My file contains:</p>\n\n<pre><code>segment  \nbob is working  \nlinda is studying  \njohn is reading  \n+b eating  \n+b drinking  \n+j listening  \nsegment  \njohn is driving  \nlinda is cooking  \nbob is sleeping  \n+b snoring  \n+l washing  \nsegment  \n</code></pre>\n\n<p>I want to process the file with something like <code>sed</code>, <code>awk</code>, or anything to become:</p>\n\n<pre><code>segment  \nbob is working eating drinking  \nlinda is studying  \njohn is reading listening  \nsegment  \njohn is driving  \nlinda is cooking washing  \nbob is sleeping snoring  \nsegment  \n</code></pre>\n\n<p>I have tried:</p>\n\n<pre><code>sed 'N;s/\\n\\s*+b//;P;D' file\n</code></pre>\n\n<p>However, only the lines with <code>+b</code> processed</p>\n\n<p>I would appreciate any help.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 10355878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fq41uP128GE/AAAAAAAAAAI/AAAAAAAAACI/tjD-s2Y8UAI/photo.jpg?sz=128", "display_name": "Bill Wimsatt", "link": "https://stackoverflow.com/users/10355878/bill-wimsatt"}, "edited": false, "score": 0, "creation_date": 1550535153, "post_id": 54757065, "comment_id": 96295786, "body": "Thank you! Yes, I was looking for a way of processing a range but got impatient and brute forced my way through."}], "tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 2, "last_activity_date": 1550534751, "last_edit_date": 1550534751, "creation_date": 1550534086, "answer_id": 54757065, "question_id": 54756883, "link": "https://stackoverflow.com/questions/54756883/parse-subsections-of-a-file-to-independent-groups/54757065#54757065", "title": "Parse subsections of a file to independent groups", "body": "<p>The <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a> (<code>..</code>) is useful here.</p>\n\n<p>This example just prints out the lines in blocks starting with VALUE and ending with a semicolon to give you a starting point:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw/say/;\n\nwhile (&lt;&gt;) {\n  chomp;\n  my $match = /^\\s*VALUE (\\w+)/ .. /^\\s*;$/;\n  if ($match ne \"\" &amp;&amp; $match == 1) {\n    say \"Code type: $1\";\n  } elsif ($match !~ /^$|E0/) {\n    say $_; # to-do: print out in your 'code: XX description: YY' format\n  }\n}\n</code></pre>\n\n<p>It takes advantage of the scalar range operator's return value to determine if the current line is a <code>VALUE</code> one, an ending semicolon, or not:</p>\n\n<blockquote>\n  <p>The value returned is either the empty string for false, or a sequence number (beginning with 1) for true. The sequence number is reset for each range encountered. The final sequence number in a range has the string \"E0\" appended to it, which doesn't affect its numeric value, but gives you something to search for if you want to exclude the endpoint. </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1560409255, "last_edit_date": 1560409255, "creation_date": 1550538053, "answer_id": 54757476, "question_id": 54756883, "link": "https://stackoverflow.com/questions/54756883/parse-subsections-of-a-file-to-independent-groups/54757476#54757476", "title": "Parse subsections of a file to independent groups", "body": "<p>Here is an approach similar to yours, simplified and cleaned up a bit. It's quite fine for this job.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Data::Dump qw(dd);\n\nmy $file = shift || die \"Usage: $0 file\\n\";\n\nopen my $fh, '&lt;', $file or die \"Can't open $file: $!\";\n\nmy (%data, $group_val, $in_group);\n\nwhile (&lt;$fh&gt;) \n{\n    if (/^\\s*VALUE\\s*(.*)/) {\n        $group_val = $1;\n        $in_group = 1;\n        next;\n    }\n    elsif (/^\\s*;\\s*$/) {\n        $in_group = 0;\n    }    \n    next if not $in_group;\n\n    push @{$data{$group_val}}, [ map { s/^\\s+|\\s+$//gr } split /\\s*=\\s*/ ];\n\n    #say \"$group_val: @refval\";\n}\n\ndd \\%data;\n</code></pre>\n\n<p>The <code>[ ]</code> in the last line creates an anonymous array and this reference is added to the arrayref for <code>$group_val</code> key of the hash with all results, <code>%data</code>.  Inside <code>[ ]</code> a pair of values is obtained from <code>$_</code> (input line) split on <code>=</code> (with possible spaces around), which are cleaned up of spaces in <code>map</code>. </p>\n\n<p>I print data using <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\">Data::Dump</a>, for convenient viewing. The output is as expected: for key <code>HHP001X</code> the value is an arrayref, with arrayref elements (<code>[10, '10 Household']</code>,...), etc. (I don't see what <code>OTHER</code> in expected output is about, and I see no <code>Survey...</code> in the sample).  </p>\n\n<p>I store data in the hash so that one can work with <code>VALUE</code>s as keys, but if their order from the file need be kept then we'd need to either also record the order (in an array) so that the hash can be sorted by it, or to use an array (of arrayrefs) instead of a hash to store data.</p>\n"}], "owner": {"reputation": 31, "user_id": 10355878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fq41uP128GE/AAAAAAAAAAI/AAAAAAAAACI/tjD-s2Y8UAI/photo.jpg?sz=128", "display_name": "Bill Wimsatt", "link": "https://stackoverflow.com/users/10355878/bill-wimsatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1560409255, "creation_date": 1550532728, "last_edit_date": 1550534066, "question_id": 54756883, "link": "https://stackoverflow.com/questions/54756883/parse-subsections-of-a-file-to-independent-groups", "title": "Parse subsections of a file to independent groups", "body": "<p>I have a file that contains several subgroups of codes and description. I need parse each section that starts with \"VALUE\" until I see a semi-colon \";\".</p>\n\n<p>The file is .sas. The VALUE statement tells me the type of reference data and all following lines are instances until a semi-colon denotes the end of that group. I have written something that works but as an old java developer it is very procedural and ugly. I am sure there is a much more efficient perl approach to this problem. By efficient, I mean that I am brute forcing the validation with many IF/ELSE statements. </p>\n\n<p>Here is a snippet of a .sas file I am parsing (NOTE: this is an incomplete file but has the use case):</p>\n\n<pre><code>*********************************************************************\n MARCH 20, 2018  2:05 PM\n\n This is an example of a SAS program that creates a SAS\n file from the 2017 NHIS Public Use HOUSEHLD.DAT ASCII file\n\n This is stored in HOUSEHLD.SAS\n*********************************************************************;\n\n* USER NOTE: PLACE NEXT STATEMENT IN SUBSEQUENT PROGRAMS;\nLIBNAME  NHIS     \"C:\\NHIS2017\";\n\n* USER NOTE: PLACE NEXT STATEMENT IN SUBSEQUENT PROGRAMS\n             IF YOU ALLOW PROGRAM TO PERMANENTLY STORE FORMATS;\nLIBNAME  LIBRARY  \"C:\\NHIS2017\";\n\nFILENAME ASCIIDAT 'C:\\NHIS2017\\HOUSEHLD.dat';\n\n* DEFINE VARIABLE VALUES FOR REPORTS;\n\n*  USE THE STATEMENT \"PROC FORMAT LIBRARY=LIBRARY\"\n     TO PERMANENTLY STORE THE FORMAT DEFINITIONS;\n\n*  USE THE STATEMENT \"PROC FORMAT\" IF YOU DO NOT WISH\n      TO PERMANENTLY STORE THE FORMATS;\n\nPROC FORMAT LIBRARY=LIBRARY;\n*PROC FORMAT;\n\n   VALUE $GROUPC\n      ' '&lt; - HIGH   = \"Range of Values\"\n   ;\n   VALUE GROUPN\n      LOW - HIGH   = \"Range of Values\"\n   ;\n   VALUE HHP001X\n      10                 = \"10 Household\"\n      20                 = \"20 Person\"\n      25                 = \"25 Income Imputation\"\n      30                 = \"30 Sample Adult\"\n      38                 = \"38 Functioning and Disability\"\n      40                 = \"40 Sample Child\"\n      60                 = \"60 Family\"\n      63                 = \"63 Family Disability Questions\"\n      65                 = \"65 Paradata\"\n      70                 = \"70 Injury/Poisoning Episode\"\n      75                 = \"75 Injury/Poisoning Verbatim\"\n   ;\n\n   VALUE HHP008X\n      01                 = \"01 House, apartment, flat, condo\"\n      02                 = \"02 HU in nontransient hotel, motel\"\n      03                 = \"03 HU-permanent in transient hotel, motel\"\n      04                 = \"04 HU in rooming house\"\n      05                 = \"05 Mobile home/trailer w/no permanent rooms added\"\n      06                 = \"06 Mobile home/trailer w/1+ permanent rooms added\"\n      07                 = \"07 HU not specified above\"\n      08                 = \"08 Quarters not HU in room or board house\"\n      09                 = \"09 Unit not permanent-transient hotel, motel\"\n      10                 = \"10 Unoccupied site for mobile home/trailer/tent\"\n      11                 = \"11 Student quarters in college dormitory\"\n      12                 = \"12 Group quarter unit not specified above\"\n      98                 = \"98 Not ascertained\"\n   ;\n   VALUE HHP009X\n      1                  = \"1 Refused\"\n      2                  = \"2 No one home - repeated calls\"\n      3                  = \"3 Temporarily absent\"\n      4                  = \"4 Language problem\"\n      5                  = \"5 Other\"\n   ;\n   VALUE HHP015X\n      1                  = \"1 Northeast\"\n      2                  = \"2 Midwest\"\n      3                  = \"3 South\"\n      4                  = \"4 West\"\n   ;\n\nDATA NHIS.HOUSEHLD;\n   * CREATE A SAS DATA SET;\n   INFILE ASCIIDAT PAD LRECL=47;\n</code></pre>\n\n<p>Here is my  script</p>\n\n<pre><code>#!/usr/bin/perl\n\n# This script looks through a file for the word \"VALUE\"\n# If it finds the word, it will identify the value type and\n# then process code/description rows until it finds a semi-colon. \n# A semi-colon resets a new search for a value type to begin\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nmy $file = 'HOUSEHLD.sas';\nmy $cnt = 0; \nmy $i = 0;\nmy $size = 0;\nmy $valgrp = \"\";\n\nopen my $fh, '&lt;', $file || die \"Could not open $file: $!\";\n\nwhile (my $line = &lt;$fh&gt;) { \n    chomp $line; \n\n    $cnt = ($line =~ s/(VALUE )/$1/g);\n\n    $line =~ s/^\\s+|\\s+$//g; #strip leading and trailing spaces\n\n\n    #does the array contain only one instance of 'VALUE'\n    #check if we are in a refernce value group\n    if ($valgrp eq \"t\") {\n        my @refval = split(\"=\", $line); \n        if ($line ne \";\" ){\n            print \"code: $refval[0]\";\n            print \" description: $refval[1]\\n\";\n        }\n        # when you see a semi-colon you are at the end of referecnce block\n        elsif ($refval[0] eq \";\") { \n            $valgrp =\"f\";\n        }\n    }\n\n    if ($cnt == 1) {\n\n        my @row = split(\" \", $line);    \n\n        if ( $row[0] eq \"VALUE\" &amp;&amp; scalar(@row) == 2 ) {\n            print \"code type: $row[1]\\n\";\n            $valgrp = \"t\";\n        }\n\n    }\n\n}\n\nclose ($fh);\n</code></pre>\n\n<p>This is expected (but not final output). I will be creating a .csv file or placing directly into MySQL Table created by the VALUE Type. The first two VALUE types are not valid but they are here while I am working through the file. Not sure if $GROUPC and GROUPN are always the first two and whether I code some type of ignore. </p>\n\n<pre><code>code type: $GROUPC\ncode: ' '&lt; - HIGH    description:  \"Range of Values\"\ncode type: GROUPN\ncode: LOW - HIGH    description:  \"Range of Values\"\ncode type: HHP001X\ncode: 10                  description:  \"10 Household\"\ncode: 20                  description:  \"20 Person\"\ncode: 25                  description:  \"25 Income Imputation\"\ncode: 30                  description:  \"30 Sample Adult\"\ncode: 38                  description:  \"38 Functioning and Disability\"\ncode: 40                  description:  \"40 Sample Child\"\ncode: 60                  description:  \"60 Family\"\ncode: 63                  description:  \"63 Family Disability Questions\"\ncode: 65                  description:  \"65 Paradata\"\ncode: 70                  description:  \"70 Injury/Poisoning Episode\"\ncode: 75                  description:  \"75 Injury/Poisoning Verbatim\"\ncode type: HHP002X\ncode: .                    description:  '.'\ncode: OTHER               description:  \"Survey Year\"\n</code></pre>\n"}, {"tags": ["perl", "batch-file"], "comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1550528082, "post_id": 54756117, "comment_id": 96293800, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3424778/perl-process-queue\">perl process queue</a>"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1550528370, "post_id": 54756117, "comment_id": 96293901, "body": "You need <b>GNU Parallel</b>."}, {"owner": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1550528618, "post_id": 54756117, "comment_id": 96293974, "body": "@pilcrow I looked at the suggestion given but there is no working example of how to use use Forks::Super. How would it work in my case? I don&#39;t get it"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1550535998, "post_id": 54756117, "comment_id": 96295960, "body": "As an unrelated note, your for loop example can be written more perlish as: <code>foreach my $file (@files) {...}</code> (note foreach and for are in practice synonyms)"}], "answers": [{"comments": [{"owner": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "edited": false, "score": 0, "creation_date": 1550529466, "post_id": 54756260, "comment_id": 96294251, "body": "I have strawberry installed and this is what I get -- Can&#39;t locate IO/Async/Loop.pm in @INC (you may need to install the IO::Async::Loop module)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "edited": false, "score": 0, "creation_date": 1550530457, "post_id": 54756260, "comment_id": 96294567, "body": "IO::Async and Future::Utils are both non-core modules, so need to be installed."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 3, "last_activity_date": 1550530479, "last_edit_date": 1550530479, "creation_date": 1550528633, "answer_id": 54756260, "question_id": 54756117, "link": "https://stackoverflow.com/questions/54756117/perl-execute-10-system-processes-async/54756260#54756260", "title": "Perl: execute 10 system processes async", "body": "<p>The <a href=\"https://metacpan.org/pod/Future::Utils#APPLYING-A-FUNCTION-TO-A-LIST\" rel=\"nofollow noreferrer\">fmap_scalar function from Future::Utils</a> can handle all of the logic of keeping a certain amount of processes running, and <a href=\"https://metacpan.org/pod/IO::Async::Process\" rel=\"nofollow noreferrer\">IO::Async::Process</a> can run and manage each process asynchronously (given it's windows, I'm not sure if all of this will work sensibly):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::Async::Loop;\nuse Future::Utils 'fmap_scalar';\n\nmy @commands = ...;\n\nmy $loop = IO::Async::Loop-&gt;new;\n\nmy $f = fmap_scalar {\n  my $cmd = shift;\n  my $f = $loop-&gt;new_future;\n  $loop-&gt;open_process(command =&gt; $cmd, on_finish =&gt; sub { $f-&gt;done($_[1]) });\n  return $f;\n} foreach =&gt; \\@commands, concurrent =&gt; 10;\n\nmy @exit_codes = $f-&gt;get; # starts the loop until all processes are done\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "edited": false, "score": 0, "creation_date": 1550531568, "post_id": 54756493, "comment_id": 96294925, "body": "good working script - for completeness add system($batch_file); after running line as that will do the actual execution of my run_*.bat files"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "edited": false, "score": 0, "creation_date": 1550532320, "post_id": 54756493, "comment_id": 96295129, "body": "@SamB Thank you for edits, I&#39;ve tweaked them a little for what I think you meant.  I commented out the line to actually run the jobs, as I always do; I like to leave it to people to check things before they enable their actual bulk runs!  Another fluid part is where the folder is in relation to the script, etc, but you can adjust that."}, {"owner": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "edited": false, "score": 0, "creation_date": 1550532905, "post_id": 54756493, "comment_id": 96295265, "body": "One thing needs to be mentioned here it waits for all children i.e. it will process the next 10 only after every file in the first 10 batch is processed. Sorry I accepted the answer too soon."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "edited": false, "score": 0, "creation_date": 1550533019, "post_id": 54756493, "comment_id": 96295300, "body": "@SamB Um, no it doesn&#39;t -- <code>wait_all_childern</code> only tells it to &quot;reap&quot; all child processes <i>after it&#39;s all done</i> (as all code that forks must; on windows it&#39;s probably going to <code>join</code> threads).  While it&#39;s working it starts a new process as soon as one exits; it always keeps it at 10.  (Can&#39;t see that with just printing because it&#39;s so fast!)"}, {"owner": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "edited": false, "score": 0, "creation_date": 1550533097, "post_id": 54756493, "comment_id": 96295320, "body": "let me test it out more thoroughly. thank you for the great answer though."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "edited": false, "score": 0, "creation_date": 1550533163, "post_id": 54756493, "comment_id": 96295334, "body": "@SamB  By all means, of course, please! :)   Also see links if you wish more explanation, and let me know if yet more would be useful"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "edited": false, "score": 0, "creation_date": 1550533528, "post_id": 54756493, "comment_id": 96295406, "body": "@SamB  For instance, the first link in my answer (<a href=\"https://stackoverflow.com/a/41891334/4653379\">this one</a>) has an example that shows far more on how the jobs come and go -- you can just copy-paste it I think.  (Also, <a href=\"https://stackoverflow.com/a/39071940/4653379\">this post</a> has <i>a lot</i> more detail on how the module works.)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1550600986, "last_edit_date": 1550600986, "creation_date": 1550530034, "answer_id": 54756493, "question_id": 54756117, "link": "https://stackoverflow.com/questions/54756117/perl-execute-10-system-processes-async/54756493#54756493", "title": "Perl: execute 10 system processes async", "body": "<p>A simple way to run processes in parallel and in a queue is with <a href=\"https://metacpan.org/pod/Parallel::ForkManager\" rel=\"nofollow noreferrer\">Parallel::ForkManager</a></p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Parallel::ForkManager;    \n\nmy $pm = Parallel::ForkManager-&gt;new(10); \n\n# Prepare the list of your batch files (better get names from disk)\nmy @batch_files = map { \"Commands_To_Run/run_$_.bat\" } 1..100;\n\nforeach my $batch_file (@batch_files)\n{\n    $pm-&gt;start and next;\n    # Run batch job\n    say \"Running: $batch_file\";\n    #system($batch_file);        # uncomment to actually run the jobs\n    $pm-&gt;finish;\n}\n$pm-&gt;wait_all_children;\n</code></pre>\n\n<p>This is a minimal but working script. See, for example, <a href=\"https://stackoverflow.com/a/41891334/4653379\">this post</a> and <a href=\"https://stackoverflow.com/a/40434889/4653379\">this post</a> for more on how jobs go and in particular on how to return data from jobs.</p>\n\n<p>Note: This is not a core module, so you'd likely need to install it</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1550561710, "last_edit_date": 1550561710, "creation_date": 1550556717, "answer_id": 54759858, "question_id": 54756117, "link": "https://stackoverflow.com/questions/54756117/perl-execute-10-system-processes-async/54759858#54759858", "title": "Perl: execute 10 system processes async", "body": "<p>Parallel::ForkManager relies on <code>fork</code>, a feature of Unix systems that is <em>badly</em> emulated by Perl (using threads) on Windows systems. I would recommend using threads directly instead. Less can go wrong that way.</p>\n\n<pre><code>use threads; \nuse Thread::Queue 3.01 qw( );\n\nsub worker {\n   my ($command) = @_;\n   system($command);\n}\n\n{\n   my $q = Thread::Queue-&gt;new();\n   for (1..10) {\n      async {\n         while (my $job = $q-&gt;dequeue()) {\n            worker($job);\n         }\n      }\n   }\n\n   $q-&gt;enqueue($_) for @commands;\n   $q-&gt;end();\n   $_-&gt;join for threads-&gt;list;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1550561930, "last_edit_date": 1550561930, "creation_date": 1550561301, "answer_id": 54760816, "question_id": 54756117, "link": "https://stackoverflow.com/questions/54756117/perl-execute-10-system-processes-async/54760816#54760816", "title": "Perl: execute 10 system processes async", "body": "<p>Just putting it out there, but it could be possible doing this with a batch file as well, this should loop through all <code>.bat</code> files, checking process count and only kick of new ones if processes are not less or equal to 9 (if equal to 9 it will still kick of one):</p>\n\n<pre><code>@echo off\nsetlocal enabledelayedexpansion\nset cnt=1\nfor %%i in (*.bat) do (\n    set id=%%i\n    call :check\n)\n\n:check\nfor /f \"tokens=1,*\" %%a in ('tasklist /FI \"WINDOWTITLE eq _process*\" ^| find /I /C \"cmd.exe\"') do set procs=%%a\n    if !procs! leq 9 (\n    if not \"!id!\"==\"%0\" start \"_process!cnt!\" !id!\n    set /a cnt+=1\n   ) else (\n     goto check\n )\n</code></pre>\n"}], "owner": {"reputation": 25477, "user_id": 1058419, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/b5acg.jpg?s=128&g=1", "display_name": "Sam B", "link": "https://stackoverflow.com/users/1058419/sam-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 54756493, "answer_count": 4, "score": 2, "last_activity_date": 1550600986, "creation_date": 1550527823, "last_edit_date": 1550528569, "question_id": 54756117, "link": "https://stackoverflow.com/questions/54756117/perl-execute-10-system-processes-async", "title": "Perl: execute 10 system processes async", "body": "<p>This question is for running perl on windows 2012 server.</p>\n\n<p>So I have a folder called Commands_To_Run and under there are 100 batch files e.g.</p>\n\n<pre><code>Commands_To_Run\n - run_1.bat\n - run_2.bat\n - run_3.bat \n...\n - run_100.bat\n</code></pre>\n\n<p>Each of these run*.bat files take about 30 mins to complete. If I run these batch files serially using a FOR loop then it takes me 100 * 30 min to run. (Too long!)</p>\n\n<p>What I want to is write a perl script that will execute 10 batch files at a time. Once any one of the batch files complete the next batch file would get executed. </p>\n\n<p>For example I would like to execute run1.bat through run10.bat. Let's say run7.bat finishes then I want to run next run11.bat and so on. So there are 10 files running at any given time. </p>\n\n<p>I thought about using this perl script to run batch file but this will run all 100 at the same time and it will kill my windows CPU &amp; processing.</p>\n\n<pre><code>for ($x=0; $x &lt; scalar(@files); $x++ ) {\n    $file=@files[$x];\n    chomp $file;\n    $cmd=\"start $file \";\n    print \"Runnung Command is: $cmd\\n\";\n    system($cmd);\n}\n</code></pre>\n\n<p>I looked at the suggestion given but there is no working example of how to use use Forks::Super </p>\n"}, {"tags": ["apache", "perl", "mod-proxy", "dancer", "mod-fastcgi"], "comments": [{"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1550521963, "post_id": 54753699, "comment_id": 96291449, "body": "its better if you stop working with fastcgi, cause they already abandoned working on it, means that no futur updates in the futur, all I can say that if you insist on using it, better use some old ubuntu that supports fastcgi"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1550527726, "post_id": 54753699, "comment_id": 96293683, "body": "The great thing about using Dancer2 to write your application is that you can switch it to a mod_proxy deployment (or several other options) with no code changes."}, {"owner": {"reputation": 1466, "user_id": 2689696, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/303b6001169b9992aee46c054b3c49bc?s=128&d=identicon&r=PG&f=1", "display_name": "tejas", "link": "https://stackoverflow.com/users/2689696/tejas"}, "reply_to_user": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1550547012, "post_id": 54753699, "comment_id": 96298144, "body": "@MobrineHayde That was the point of the question, or do you mean ishouldn&#39;t use mod_proxy_fcgi and just go with mod_proxy?"}, {"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1550681127, "post_id": 54753699, "comment_id": 96360843, "body": "@tejas Yeah, I think you need to stick with it ( mod_proxy ) if you wanna keep updating your script"}], "owner": {"reputation": 1466, "user_id": 2689696, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/303b6001169b9992aee46c054b3c49bc?s=128&d=identicon&r=PG&f=1", "display_name": "tejas", "link": "https://stackoverflow.com/users/2689696/tejas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1550549199, "creation_date": 1550516271, "last_edit_date": 1550549199, "question_id": 54753699, "link": "https://stackoverflow.com/questions/54753699/how-do-i-configure-dancer2-with-mod-proxy-fastcgi", "title": "How do I configure Dancer2 with mod_proxy_fastcgi", "body": "<p>The <a href=\"https://metacpan.org/pod/distribution/Dancer2/lib/Dancer2/Manual/Deployment.pod\" rel=\"nofollow noreferrer\">Dancer2 Manual</a> gives examples for mod_proxy and mod_fastcgi but in Ubuntu 18.04 the mod_fastcgi <a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=835374\" rel=\"nofollow noreferrer\">is removed</a>.</p>\n\n<p>So are there any examples out there using Dancer2 with <a href=\"https://httpd.apache.org/docs/trunk/mod/mod_proxy_fcgi.html\" rel=\"nofollow noreferrer\">mod_proxy_fcgi</a>?</p>\n\n<p>Edit: If I have to use mod_proxy instead, how do I startup my dancer2 application using, say starman or plackup</p>\n"}, {"tags": ["forms", "perl", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1550510577, "post_id": 54752306, "comment_id": 96286932, "body": "What is <code>$POST</code>? That&#39;s not part of CGI.pm. Your code has syntax errors. Please <a href=\"https://stackoverflow.com/posts/54752306/edit\">edit</a> your question and show your <b>real code</b>."}], "answers": [{"comments": [{"owner": {"reputation": 1102, "user_id": 4208719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd078e79ba74af02fe5692190dbc73d3?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro ", "link": "https://stackoverflow.com/users/4208719/pedro"}, "edited": false, "score": 0, "creation_date": 1550511033, "post_id": 54752412, "comment_id": 96287132, "body": "Yes, after posting the question I notice the error of why i was just getting the first value of the array...thanks a lot for your help and the tips"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1550510604, "creation_date": 1550510604, "answer_id": 54752412, "question_id": 54752306, "link": "https://stackoverflow.com/questions/54752306/how-to-read-multiple-check-boxes-in-perl-cgi/54752412#54752412", "title": "How to read multiple check boxes in PERL-CGI", "body": "<p>There are a few obvious problems in your code.</p>\n\n<ol>\n<li>You're using <code>==</code> when you're trying to do a string comparison. Use <code>eq</code> instead.</li>\n<li>Your <code>if</code> syntax is wrong. In Perl, you need to use braces - <code>if (...) { ... }</code>.</li>\n<li>You are explicitly asking for the first element from the array of checkboxes. You need <code>@{ $POST-&gt;{sections} }</code> to get all of the values.</li>\n</ol>\n\n<p>So, all in all, your subroutine should probably look like this:</p>\n\n<pre><code>sub post\n{ \n  if ($id1 eq 'active') {\n    my @sections = @{ $POST-&gt;{sections} };\n    # Do something else with @sections\n  }\n}\n</code></pre>\n\n<p>Also, I'd ask you to seriously reconsider using CGI in 2019. Please read <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">CGI::Alternatives</a> and think about using more modern technologies.</p>\n"}], "owner": {"reputation": 1102, "user_id": 4208719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd078e79ba74af02fe5692190dbc73d3?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro ", "link": "https://stackoverflow.com/users/4208719/pedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 54752412, "answer_count": 1, "score": 1, "last_activity_date": 1550510604, "creation_date": 1550510168, "question_id": 54752306, "link": "https://stackoverflow.com/questions/54752306/how-to-read-multiple-check-boxes-in-perl-cgi", "title": "How to read multiple check boxes in PERL-CGI", "body": "<p>I have a form that have multiple checkboxes(All that apply) and I'm trying to read all the values selected....the user click submit it reloads the page and check for \"post\" and if is a new entry....but it only reads the first value selected and I don'w know what am I doing wrong ;/</p>\n\n<pre><code>&lt;label class=\"checkbox-inline\"&gt;&lt;input type=\"checkbox\" name=\"sections\" value=\"Cars\"&gt;Cars&lt;/label&gt;\n&lt;label class=\"checkbox-inline\"&gt;&lt;input type=\"checkbox\" name=\"sections\" value=\"Trucks\"&gt;Trucks&lt;/label&gt;\n&lt;label class=\"checkbox-inline\"&gt;&lt;input type=\"checkbox\" name=\"sections\" value=\"Airplanes\"&gt;Airplanes&lt;/label&gt;\n&lt;label class=\"checkbox-inline\"&gt;&lt;input type=\"checkbox\" name=\"sections\" value=\"Cell Phones\"&gt;Cell Phones&lt;/label&gt; \n\nsub post\n{ \n  if($id1 == 'active')\n  my @sections = $POST-&gt;{sections}-&gt;[0];\n\n}\n</code></pre>\n"}, {"tags": ["perl", "arguments"], "answers": [{"comments": [{"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1550504379, "post_id": 54750698, "comment_id": 96283562, "body": "thanks for the quick answer. works like a charm (will mark it as resolved in a few minutes)"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1550504641, "post_id": 54750698, "comment_id": 96283733, "body": "You forgot the <code>= @_</code> if I&#39;m not mistaken ;)"}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 1, "creation_date": 1550504779, "post_id": 54750698, "comment_id": 96283811, "body": "I prefer <code>&quot;pandora=s&quot; =&gt; sub { my $value = $_[1]; Salt($value) },</code>, since the first argument isn&#39;t used anyways, or even <code>&quot;pandora=s&quot; =&gt; sub { Salt($_[1]) },</code>. With the sub being this short, directly using <code>$_[1]</code> actually makes what&#39;s happening less obfuscated - as long as you have drilled into your head the two arguments that sub{} calls in GetOptions get."}, {"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "reply_to_user": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1550504953, "post_id": 54750698, "comment_id": 96283919, "body": "@Silvar there can be three arguments if you have a hash. This code is trying to be explanatory, not short. I would skip the redundant assignments too.  :)"}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1550505054, "post_id": 54750698, "comment_id": 96283983, "body": "@jhnc Huh, you learn (or get reminded of) something new every day. I&#39;m not in the habit of using hashes in GetOptions, so had forgotten or had never bothered to learn their use. Maybe next time I&#39;ll keep this in mind if the use case could benefit from it. Thanks."}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1550618601, "post_id": 54750698, "comment_id": 96332643, "body": "@ysth Read jhnc&#39;s comment 3 above this; we were discussing arguments to the sub{}s in GetOptions in general, and not the question or solution at hand."}], "tags": [], "owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "is_accepted": true, "score": 6, "last_activity_date": 1550513235, "last_edit_date": 1550513235, "creation_date": 1550504317, "answer_id": 54750698, "question_id": 54750507, "link": "https://stackoverflow.com/questions/54750507/getoptlong-subroutines-in-getoptions/54750698#54750698", "title": "Getopt::Long &amp; subroutines in GetOptions", "body": "<pre><code>\"pandora=s\" =&gt; sub { my ($optname, $optval) = @_; Salt($optval) },\n</code></pre>\n\n<p>It can handle hashes too.</p>\n\n<p>See the <a href=\"https://metacpan.org/pod/Getopt::Long#User-defined-subroutines-to-handle-options\" rel=\"nofollow noreferrer\">User-defined subroutines to handle options</a> section in the documentation.</p>\n"}], "owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 54750698, "answer_count": 1, "score": 3, "last_activity_date": 1550513235, "creation_date": 1550503672, "question_id": 54750507, "link": "https://stackoverflow.com/questions/54750507/getoptlong-subroutines-in-getoptions", "title": "Getopt::Long &amp; subroutines in GetOptions", "body": "<p>is there a possiblity to pass arguments to subroutine called via getopt::long ?\ne.g i have this code calling &amp;Salt when a user specifies <strong>script.pl -pandora argument</strong> on the commandline</p>\n\n<pre><code>GetOptions (            \"domain=s\"    =&gt; \\$domain,\n                        \"pandora=s\"   =&gt; \\&amp;Salt,\n                        \"reverse=s\"   =&gt; \\$reverse,\n                        \"help\"        =&gt; \\&amp;Usage)\n       or die(&amp;Usage);\n</code></pre>\n\n<p>how do i get the argument to be passed to Salt ?\ntried a couple of things such as :</p>\n\n<pre><code>GetOptions (            \"domain=s\"    =&gt; \\$domain,\n                        \"pandora=s\"   =&gt; \\&amp;Salt($pandora),\n                        \"reverse=s\"   =&gt; \\$reverse,\n                        \"help\"        =&gt; \\&amp;Usage)\n       or die(&amp;Usage);\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>    GetOptions (            \"domain=s\"    =&gt; \\$domain,\n                            \"pandora=s\"   =&gt; \\&amp;Salt($_[1]),\n                            \"reverse=s\"   =&gt; \\$reverse,\n                            \"help\"        =&gt; \\&amp;Usage)\n       or die(&amp;Usage);\n</code></pre>\n\n<p>but it won't work</p>\n\n<p>i know i can make it working by doing => $pandora, then using a condition in the code that says if ($pandora) { &amp;Salt($pandora) } but i'll find it nicer to put the sub directly in getOptions if possible</p>\n\n<p>thanks</p>\n"}, {"tags": ["perl", "cpan", "pdl"], "comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 0, "creation_date": 1550502874, "post_id": 54750133, "comment_id": 96282588, "body": "Do you have to use cygwin or could you use Strawberry Perl instead?"}, {"owner": {"reputation": 357, "user_id": 3752927, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f0d8aad08c87abac3043cf23f85cb3c9?s=128&d=identicon&r=PG&f=1", "display_name": "Alexglvr", "link": "https://stackoverflow.com/users/3752927/alexglvr"}, "edited": false, "score": 0, "creation_date": 1550504007, "post_id": 54750133, "comment_id": 96283292, "body": "I do not have any preferences. I can use either install Active Perl nor Strawberry Perl. I just want  a working Perl developping environement with Eclispe that recognise the libraries such as use Math::Matrix or use PDL. Just please no more &quot;impossible to find xxx in @INC&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "is_accepted": false, "score": 0, "last_activity_date": 1550511613, "last_edit_date": 1550511613, "creation_date": 1550511257, "answer_id": 54752563, "question_id": 54750133, "link": "https://stackoverflow.com/questions/54750133/perl-cpan-pdl-install-issue/54752563#54752563", "title": "Perl : cpan PDL install issue", "body": "<blockquote>\n  <p>This may work better using Windows ( according to my personal experience )</p>\n</blockquote>\n\n<p>1- If you still haven't tried to install the module using ppm ( manager for modules similar to cpan ) or manually, please do.</p>\n\n<p>2- if the PDL module still don't want to get installed, the best thing to is installing PDL using a repository that have the installation error fixed using next steps :</p>\n\n<p>Be sure to have ppm installed</p>\n\n<p>You can simply install it directly</p>\n\n<pre><code>ppm install http://www.sisyphusion.tk/ppm/PDL.ppd\n</code></pre>\n\n<p>OR:\nFirst add the wanted repository to ppm</p>\n\n<pre><code>ppm repo add http://www.sisyphusion.tk/ppm\n</code></pre>\n\n<p>Next install PDL using the repository</p>\n\n<pre><code>ppm install PDL\n</code></pre>\n\n<p>You can check up more info if you want <a href=\"http://www.sisyphusion.tk/ppm/\" rel=\"nofollow noreferrer\">http://www.sisyphusion.tk/ppm/</a></p>\n"}], "owner": {"reputation": 357, "user_id": 3752927, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f0d8aad08c87abac3043cf23f85cb3c9?s=128&d=identicon&r=PG&f=1", "display_name": "Alexglvr", "link": "https://stackoverflow.com/users/3752927/alexglvr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1550511613, "creation_date": 1550502419, "question_id": 54750133, "link": "https://stackoverflow.com/questions/54750133/perl-cpan-pdl-install-issue", "title": "Perl : cpan PDL install issue", "body": "<p>I have Cygwin under win10 and I try to install PDL lib for Perl in order to use PDL::Matrix</p>\n\n<p>When making cpan install PDL I have make errors I do not manage to solve :</p>\n\n<pre><code>    make[3]: *** [Makefile:323: OpenGLQ.o] Error 1\nmake[2]: *** [Makefile:521: subdirs] Error 2\nmake[1]: *** [Makefile:476: subdirs] Error 2\nmake: *** [Makefile:545: subdirs] Error 2\nFailed during this command:\n CHM/PDL-2.019.tar.gz                         : make NO\n</code></pre>\n\n<p>thank you for your help</p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1550498006, "post_id": 54748715, "comment_id": 96279598, "body": "What do you expect to get in the end?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1550498408, "post_id": 54748715, "comment_id": 96279873, "body": "Maybe <code>s&#47;^(.*?)\\S+\\.(tags).*&#47;$1$2&#47;</code>?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1550499213, "post_id": 54748715, "comment_id": 96280408, "body": "Probably because a) your question was unclear and b) you showed no real effort to solve it yourself. (Note: I wasn&#39;t the downvoter - I&#39;m just guessing)"}], "answers": [{"comments": [{"owner": {"reputation": 5060, "user_id": 4232386, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ce91af7ddff3f83be990767058f3463b?s=128&d=identicon&r=PG", "display_name": "ZEE", "link": "https://stackoverflow.com/users/4232386/zee"}, "edited": false, "score": 0, "creation_date": 1550497958, "post_id": 54748788, "comment_id": 96279568, "body": "I don&#39;t want to get rid of tags, I want to get rit of public. which comes before tags"}, {"owner": {"reputation": 1487, "user_id": 264755, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c8043700c53d254e2fd46424e5b03745?s=128&d=identicon&r=PG", "display_name": "jasonmclose", "link": "https://stackoverflow.com/users/264755/jasonmclose"}, "reply_to_user": {"reputation": 5060, "user_id": 4232386, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ce91af7ddff3f83be990767058f3463b?s=128&d=identicon&r=PG", "display_name": "ZEE", "link": "https://stackoverflow.com/users/4232386/zee"}, "edited": false, "score": 0, "creation_date": 1550498073, "post_id": 54748788, "comment_id": 96279638, "body": "<code>sed &#39;s&#47;public&#47;&#47;&#39;</code>"}, {"owner": {"reputation": 5060, "user_id": 4232386, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ce91af7ddff3f83be990767058f3463b?s=128&d=identicon&r=PG", "display_name": "ZEE", "link": "https://stackoverflow.com/users/4232386/zee"}, "edited": false, "score": 0, "creation_date": 1550498151, "post_id": 54748788, "comment_id": 96279693, "body": "Public is not constant, actully the pattern is &#39;XYZ&#39;.tags I want to get rid of XYZ whatever the value."}, {"owner": {"reputation": 1487, "user_id": 264755, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c8043700c53d254e2fd46424e5b03745?s=128&d=identicon&r=PG", "display_name": "jasonmclose", "link": "https://stackoverflow.com/users/264755/jasonmclose"}, "reply_to_user": {"reputation": 5060, "user_id": 4232386, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ce91af7ddff3f83be990767058f3463b?s=128&d=identicon&r=PG", "display_name": "ZEE", "link": "https://stackoverflow.com/users/4232386/zee"}, "edited": false, "score": 0, "creation_date": 1550499655, "post_id": 54748788, "comment_id": 96280664, "body": "Ok.  But you didn&#39;t put that in your question.  Create a variable (i.e. <code>myvar=&quot;XYZ&quot;</code>), and then sub that into the sed command (<code>sed &quot;s&#47;$myvar&#47;&#47;&quot;</code>).  Just make sure to use double quotes if you use a variable."}], "tags": [], "owner": {"reputation": 1487, "user_id": 264755, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c8043700c53d254e2fd46424e5b03745?s=128&d=identicon&r=PG", "display_name": "jasonmclose", "link": "https://stackoverflow.com/users/264755/jasonmclose"}, "is_accepted": false, "score": 0, "last_activity_date": 1550497833, "creation_date": 1550497833, "answer_id": 54748788, "question_id": 54748715, "link": "https://stackoverflow.com/questions/54748715/match-a-string-expect-specific-characters/54748788#54748788", "title": "Match a string expect specific characters", "body": "<p>sed can do it easily.</p>\n\n<pre><code>echo \"INSERT INTO public.tags (created_at,\" | sed 's/tags//'\n</code></pre>\n\n<p>This is specific to your example, but we can easily add onto it if we need to.</p>\n"}, {"comments": [{"owner": {"reputation": 5060, "user_id": 4232386, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ce91af7ddff3f83be990767058f3463b?s=128&d=identicon&r=PG", "display_name": "ZEE", "link": "https://stackoverflow.com/users/4232386/zee"}, "edited": false, "score": 0, "creation_date": 1550498355, "post_id": 54748852, "comment_id": 96279838, "body": "Yes this is it, It would be great if you explain it. thank you :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5060, "user_id": 4232386, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ce91af7ddff3f83be990767058f3463b?s=128&d=identicon&r=PG", "display_name": "ZEE", "link": "https://stackoverflow.com/users/4232386/zee"}, "edited": false, "score": 0, "creation_date": 1550498763, "post_id": 54748852, "comment_id": 96280136, "body": "<code>(?=...)</code> is called a forward lookahead. It checks if the current position is followed by the subpattern, but without advancing the match position from the perspective of the outside of the parens."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1550498798, "last_edit_date": 1550498798, "creation_date": 1550498053, "answer_id": 54748852, "question_id": 54748715, "link": "https://stackoverflow.com/questions/54748715/match-a-string-expect-specific-characters/54748852#54748852", "title": "Match a string expect specific characters", "body": "<pre><code>s/\\S+\\.tags\\b/tags/\n</code></pre>\n\n<p>or</p>\n\n<pre><code>s/\\S+\\.(?=tags\\b)//\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1551635784, "last_edit_date": 1551635784, "creation_date": 1550498732, "answer_id": 54749047, "question_id": 54748715, "link": "https://stackoverflow.com/questions/54748715/match-a-string-expect-specific-characters/54749047#54749047", "title": "Match a string expect specific characters", "body": "<p>Your question isn't very clear. But I think you're saying that you have:</p>\n\n<pre><code>INSERT INTO public.tags (created_at,\n</code></pre>\n\n<p>And you want to end up with:</p>\n\n<pre><code>INSERT INTO tags (created_at,\n</code></pre>\n\n<p>You want to remove the <code>public.</code> - but it could be any string followed by a dot.</p>\n\n<p>This seems to do what you want.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $sql = 'INSERT INTO public.tags (created_at,';\n\n# Use s/.../.../ - the substitution operator.\n# \\S - match any non-whitespace character.\n# + - match one or more of the previous atom.\n# \\. - match a dot.\n# tags - match the string 'tags'\n# \\b - match the end of a word\n# So match a string of non-whitespace characters,\n# followed by '.tags' at the end of a word.\n# Replace it with 'tags'.\n$sql =~ s/\\S+\\.tags\\b/tags/;\n\nprint $sql;\n</code></pre>\n"}], "owner": {"reputation": 5060, "user_id": 4232386, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ce91af7ddff3f83be990767058f3463b?s=128&d=identicon&r=PG", "display_name": "ZEE", "link": "https://stackoverflow.com/users/4232386/zee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 54748852, "answer_count": 3, "score": -1, "last_activity_date": 1551635784, "creation_date": 1550497597, "last_edit_date": 1550499570, "question_id": 54748715, "link": "https://stackoverflow.com/questions/54748715/match-a-string-expect-specific-characters", "title": "Match a string expect specific characters", "body": "<p>So I've been trying for a while now, to match a string then exclude a certain character from it.</p>\n\n<p>Example:</p>\n\n<pre><code>INSERT INTO public.tags (created_at,\n</code></pre>\n\n<p>I want to end up with :</p>\n\n<pre><code>INSERT INTO tags (created_at,\n</code></pre>\n\n<ul>\n<li>I want to remove the public. - but it could be any string followed by a dot.</li>\n</ul>\n\n<p>this is what I've tried so fat with no luck:</p>\n\n<p><code>\\.tags</code> which only match '.tags'</p>\n\n<p><code>([^\\s]+)(\\.tags)</code> which match the whole public.tags string</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1550488619, "post_id": 54745944, "comment_id": 96273970, "body": "Perhaps, something like <code>perl -0777 -pi -e &#39;s&#47;^.*?abc.*?\\Kabc&#47;xyz&#47;s&#39; filename</code> will do."}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1550500951, "post_id": 54745944, "comment_id": 96281459, "body": "related: for replacing nth occurrence per line, see <a href=\"https://stackoverflow.com/questions/2555662/how-can-i-substitute-the-nth-occurrence-of-a-match-in-a-perl-regex\" title=\"how can i substitute the nth occurrence of a match in a perl regex\">stackoverflow.com/questions/2555662/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550497264, "post_id": 54746069, "comment_id": 96279152, "body": "Assumes <code>abc</code> only appears once per line."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1550497347, "last_edit_date": 1550497347, "creation_date": 1550488661, "answer_id": 54746069, "question_id": 54745944, "link": "https://stackoverflow.com/questions/54745944/how-to-solve-this-match-and-replace-problem-of-only-nth-occurrence-of-a-word-in/54746069#54746069", "title": "How to solve this match and replace problem of only nth occurrence of a word in a file in perl", "body": "<p>Count the number of time <code>abc</code> appears and subst if equal 2:</p>\n\n<pre><code>perl -i -pe'$found++ if /abc/; s/abc/xyz/ if $found ==2' filename\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "is_accepted": false, "score": 0, "last_activity_date": 1550496397, "creation_date": 1550496397, "answer_id": 54748386, "question_id": 54745944, "link": "https://stackoverflow.com/questions/54745944/how-to-solve-this-match-and-replace-problem-of-only-nth-occurrence-of-a-word-in/54748386#54748386", "title": "How to solve this match and replace problem of only nth occurrence of a word in a file in perl", "body": "<p>I have done it as a script. The first argument is the pattern, the second the replacement, the third the number of repetitions and the forth the file, you can also omit the file and insert the data v\u00eda stdin.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse v5.28;\nmy $patt = shift;\nmy $rep = shift;\nmy $nth = shift;\nmy $reps = 0;\nwhile (&lt;&gt;) {\n    $reps++ if /$patt/;\n    s/$patt/$rep/ if (/$patt/ &amp;&amp; $reps == $nth);\n    print $_;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11078656"}, "edited": false, "score": 0, "creation_date": 1550538376, "post_id": 54748696, "comment_id": 96296411, "body": "Thanks it is working. If I want to add this in a perl script, it is not working by putting this inside system command. I am trying to do like this system(&quot;perl -i -pe&#39;s/abc/ ++$count == 2 ? &quot;xyz&quot; : &quot;abc&quot; /eg&#39; file&quot;)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1550497545, "creation_date": 1550497545, "answer_id": 54748696, "question_id": 54745944, "link": "https://stackoverflow.com/questions/54745944/how-to-solve-this-match-and-replace-problem-of-only-nth-occurrence-of-a-word-in/54748696#54748696", "title": "How to solve this match and replace problem of only nth occurrence of a word in a file in perl", "body": "<pre><code>perl -i -pe's/abc/ ++$count == 2 ? \"xyz\" : \"abc\" /eg' file\n</code></pre>\n\n<p>This works even if <code>abc</code> appears more than once per line.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11078656"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1550497545, "creation_date": 1550488233, "last_edit_date": 1550488403, "question_id": 54745944, "link": "https://stackoverflow.com/questions/54745944/how-to-solve-this-match-and-replace-problem-of-only-nth-occurrence-of-a-word-in", "title": "How to solve this match and replace problem of only nth occurrence of a word in a file in perl", "body": "<p>Suppose I have a file which has these few lines</p>\n\n<pre><code>Hello abc\nhii\nhow are you\nHello abc\n</code></pre>\n\n<p>If I want to replace the 2nd occurrence of abc by xyz, how can I do? </p>\n\n<p>I want an output like</p>\n\n<pre><code>Hello abc\nhii\nhow are you\nHello xyz\n</code></pre>\n\n<p>I tried doing <code>perl -pi -e 's/abc/xyz/ if $. == 2' filename</code>. It is not working for me. Can anyone help me with this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550483157, "post_id": 54742480, "comment_id": 96270784, "body": "Tip: <code>return if $_[1]; local $_[1] = 1;</code> would be safer"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550484367, "post_id": 54742480, "comment_id": 96271551, "body": "Tip: Don&#39;t create a new wizard each time you call <code>cast</code>!"}, {"owner": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550486368, "post_id": 54742480, "comment_id": 96272657, "body": "sure, that was to keep things short; especially for the inner <code>cast</code>, the key name could be passed as an argument to instead of via the closure: <code>cast $_[0]{$k}, $keywiz, $k;</code>, where <code>my $keywiz = wizard data =&gt; sub {$_[1]}, set =&gt; sub { warn &quot;$_[1] &lt;- ${$_[0]}&quot; }</code>."}, {"owner": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550486467, "post_id": 54742480, "comment_id": 96272710, "body": "as to the unsafe <code>$_[1]++</code>, that&#39;s a bug, but better leave it as is, since that was a question ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "edited": false, "score": 0, "creation_date": 1550593017, "post_id": 54744748, "comment_id": 96321269, "body": "since you turned the answer into a sample, it would be nice if you also passed the key name to the <code>set</code> method from the element wizard."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "edited": false, "score": 0, "creation_date": 1550594442, "post_id": 54744748, "comment_id": 96322129, "body": "You&#39;d pass it as an argument to <code>cast</code>, which would be passed to <code>data</code>."}, {"owner": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "edited": false, "score": 0, "creation_date": 1550595815, "post_id": 54744748, "comment_id": 96322926, "body": "I know that -- I already mentioned in a <a href=\"https://stackoverflow.com/questions/54742480/how-to-bypass-magic-hooks-when-using-hash-or-array-elements/54744748?noredirect=1#comment96272657_54742480\">comment</a>. My point was that it would be nice to add it to the answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "edited": false, "score": 0, "creation_date": 1550621986, "post_id": 54744748, "comment_id": 96333489, "body": "The exact solution depends on the exact problem the solution is trying to address. Since the question is about a different problem, it lacks necessary information to provide an implementation. Trying to add this off-topic information to the answer will only reduce the clarity of the answer."}, {"owner": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "edited": false, "score": 0, "creation_date": 1550858257, "post_id": 54744748, "comment_id": 96440191, "body": "The gist of the answer is that <code>local</code> should be used instead of set/unset bracketing. <i>You</i> did transform it into a sample; feel free to reject, edit for style, whatever."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "edited": false, "score": 0, "creation_date": 1550858846, "post_id": 54744748, "comment_id": 96440472, "body": "I rejected your edit. As I already mentioned when I refused to make it myself, there are issues with it. If the OP wants the key name to be used they&#39;ll have to provide information in their (forthcoming) question about whether they intend to use it on nested structures, and how they want to handle scalars that are found at mutliple keys.  (And <code>use strict; use warnings; use feature qw( say );</code> were left out because they just take up space for nothing.)"}, {"owner": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "edited": false, "score": 0, "creation_date": 1550859410, "post_id": 54744748, "comment_id": 96440729, "body": "it doesn&#39;t matter if the same scalar/reference is set to multiple key, because the magic is per hash-element, not per-value. anyways, I have no intention to start a discussion, or act like I&#39;m pleading something, so cheers!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "edited": false, "score": 0, "creation_date": 1550859896, "post_id": 54744748, "comment_id": 96440977, "body": "I didn&#39;t say same value; I said same scalar. One of many ways of achieving this: <code>use experimental qw( refaliasing ); \\$h{b}=\\$h{a};</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1550491554, "last_edit_date": 1550491554, "creation_date": 1550484426, "answer_id": 54744748, "question_id": 54742480, "link": "https://stackoverflow.com/questions/54742480/how-to-bypass-magic-hooks-when-using-hash-or-array-elements/54744748#54744748", "title": "How to bypass magic hooks when using hash or array elements", "body": "<p><code>store</code> is called when the hash element is fetched as an lvalue, so <code>$h{$k}=\u2026</code>, <code>f($h{$k})</code> and <code>\\$h{$k}</code> call <code>store</code>. So while <code>set</code> is called after the value is changed, <code>store</code> is necessarily called before it's changed.</p>\n\n<p>In fact, it's called before the element is even fetched, so it's called before the element is even created when it doesn't exist. This is quite unfortunate, because it means than a simple <code>exists</code> check isn't sufficient.</p>\n\n<p>Because the magic callback is called \"at the wrong time\" (when the element doesn't even exist), a solution like yours (i.e. using a flag) is the best I could devise.</p>\n\n<p>That said, you should ensure that the flag is reset even if an exception occurs. This can be done using <code>local</code>.</p>\n\n<hr>\n\n<p>Your goal appears to be to add some magic to each element of a hash, including those that will be created at a later time. To that end, I'd use the following:</p>\n\n<pre><code>use Variable::Magic qw( cast wizard );\n\nmy $hash_ele_wiz = wizard(\n    set =&gt; sub {\n        my ($ref) = @_;\n        say \"store: $$ref\";\n    },\n);\n\nmy $hash_wiz = wizard(\n    data =&gt; sub {\n        my ($var) = @_;\n        cast($_, $hash_ele_wiz) for values(%$var);\n        return { nomg =&gt; 0 };\n    },\n    store =&gt; sub {\n        my ($var, $data, $key) = @_;\n        return if exists($var-&gt;{$key}) || $data-&gt;{nomg};\n        my $ele_ref = do { local $data-&gt;{nomg} = 1; \\( $var-&gt;{$key} ) };\n        cast($$ele_ref, $hash_ele_wiz);\n    },\n);\n\nmy %h = ( a =&gt; 1, b =&gt; 2 );\ncast(%h, $hash_wiz);\n\n$h{b} = 3;          # store: 3\n$h{c} = 4;          # store: 4\nmy $ref = \\$h{d};\n$$ref = 5;          # store: 5\n</code></pre>\n\n<p>It wouldn't take much to extend this to add the magic recursively. See the \"Recursively cast magic on datastructures\" recipe in the <a href=\"https://metacpan.org/pod/Variable::Magic\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}], "owner": {"reputation": 101, "user_id": 11003360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31471b3195f8ba8571f1674f9a4efc8?s=128&d=identicon&r=PG&f=1", "display_name": "C\u0103c\u0103r\u0103u", "link": "https://stackoverflow.com/users/11003360/c%c4%83c%c4%83r%c4%83u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1550491554, "creation_date": 1550475700, "last_edit_date": 1550479173, "question_id": 54742480, "link": "https://stackoverflow.com/questions/54742480/how-to-bypass-magic-hooks-when-using-hash-or-array-elements", "title": "How to bypass magic hooks when using hash or array elements", "body": "<p>I'm trying to use <code>Variable::Magic</code> in order to catch when an element of a hash is modified:</p>\n\n<pre><code>use Variable::Magic qw(cast wizard);\nmy %h = (a =&gt; 1, b =&gt; 2);\ncast %h, wizard store =&gt; sub {\n    warn \"store: @_\\n\";\n    my $k = $_[2];\n    cast $_[0]{$k}, wizard set =&gt; sub {\n        warn \"$k set to ${$_[0]}\\n\"\n    }\n};\n$h{a} = 33;\n</code></pre>\n\n<p>However, the second inner <code>cast</code> on the hash element will trigger the <code>store</code> magic from the hash, and go into an infinite recursion (and crash).</p>\n\n<p>The only way I found around it was use the data attached via <code>cast</code> as a lock/flag:</p>\n\n<pre><code>use Variable::Magic qw(cast wizard);\ncast %h, wizard\n    data =&gt; sub {0},\n    store =&gt; sub {\n        return if $_[1]++;\n        my $k = $_[2];\n        cast $_[0]{$k}, wizard set =&gt; sub {\n            warn \"$k set to ${$_[0]}\\n\"\n        };\n        $_[1] = 0;\n    }\n;\n$h{a} = 33;\n</code></pre>\n\n<p>That looks clumsy and dumb, and I feel like I be missing something obvious.</p>\n\n<p>Is there any better method? I've looked for some option to <code>Variable::Magic::wizard</code> to <code>mask</code> its own magic in the methods, but I didn't find anything.</p>\n\n<p>Note: I don't care to use the heavy-weight <code>tie</code> instead, or some other XS module that cannot be installed with a simple <code>apt-get</code>; if needs be, I can write my own XS where everything would be much simpler, but I'm trying to avoid that.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550469523, "post_id": 54741133, "comment_id": 96264629, "body": "<code>perl -p</code> di-sected: <code>$ perl -MO=Deparse -pe 1</code> -&gt; <code>LINE: while (defined($_ = readline ARGV)) {     &#39;???&#39;;  } ...</code>, i.e. your one-liner uses line-based processing, but you want your regex to match multiple lines."}], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1550471894, "post_id": 54741224, "comment_id": 96265471, "body": "The output result seems not right: <code>1 &lt;&#47;&gt; two 2 &lt;&#47;&gt; 2 two &lt;&#47;&gt;1 &lt;&#47;&gt; two 2 &lt;&#47;&gt; 2 two &lt;&#47;&gt;</code>"}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1550473807, "post_id": 54741224, "comment_id": 96266209, "body": "Had a typo earlier with the <code>-p</code> option. Fixed it by removing it."}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1550474044, "post_id": 54741224, "comment_id": 96266309, "body": "I run it again, this time the content of the file didn&#39;t change. But I changed the script a little to this: <code>perl -e &#39;undef $&#47;;$_=&lt;&gt;;s#((.*)\\n(.*)\\n&lt;&#47;&gt;)#$1\\n$3\\n$2\\n&lt;&#47;&gt;#g;print&#39; &quot;test1.txt&quot; &gt; &quot;output.txt&quot;</code> It works."}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 2, "last_activity_date": 1550473069, "last_edit_date": 1550473069, "creation_date": 1550469541, "answer_id": 54741224, "question_id": 54741133, "link": "https://stackoverflow.com/questions/54741133/this-perl-oneliner-that-handles-multiple-lines-doesnt-work/54741224#54741224", "title": "This perl oneliner that handles multiple lines doesn&#39;t work", "body": "<p>The <code>-p</code> option assigns the input to the <code>$_</code> variable on a per-line basis, so your regex, which matches multiple lines, would not find a match. You should read the entire file before you try to apply the regex instead:</p>\n\n<pre><code>perl -i.bak -e 'undef $/;$_=&lt;&gt;;s#((.*)\\n(.*)\\n&lt;/&gt;)#$1\\n$3\\n$2\\n&lt;/&gt;#g;print' \"test1.txt\"\n</code></pre>\n\n<p>Sample run in command line:</p>\n\n<pre><code># perl -e 'undef $/;$_=&lt;&gt;;s#((.*)\\n(.*)\\n&lt;/&gt;)#$1\\n$3\\n$2\\n&lt;/&gt;#g;print'&lt;&lt;EOF\n&gt; one\n&gt; 1\n&gt; &lt;/&gt;\n&gt; two\n&gt; 2\n&gt; &lt;/&gt;\n&gt; EOF\none\n1\n&lt;/&gt;\n1\none\n&lt;/&gt;\ntwo\n2\n&lt;/&gt;\n2\ntwo\n&lt;/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1550471675, "post_id": 54741392, "comment_id": 96265391, "body": "Thanks so much for your elaborate explanation, Stefan. I have tried the two approaches above, it seems the output is not the expected result though."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1550471890, "post_id": 54741392, "comment_id": 96265469, "body": "I had a typo in the 2nd solution which is fixed now. Both solutions gave me the result you wanted. Did you maybe forget the redirect on the command line (<code>&lt;</code>)? Or is your absolute requirement that you can&#39;t use redirection?"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1550472210, "post_id": 54741392, "comment_id": 96265585, "body": "I&#39;ve added a section with no-redirection alternative, if that is the solution you prefer."}, {"owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1550472994, "post_id": 54741392, "comment_id": 96265884, "body": "I just tried both approaches again:the first one works perfectly. a minor problem with the second one - the second &#39;2&#39; didn&#39;t start in a new line."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1550473533, "post_id": 54741392, "comment_id": 96266094, "body": "Then there must be something in your real file that didn&#39;t make it into your question, probably a copy &amp; paste issue. I just tried both solutions on the same input text I copy &amp; pasted from your question and they both generate the exact same output (according to <code>diff</code> on the ouput files)."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "edited": false, "score": 0, "creation_date": 1550473859, "post_id": 54741392, "comment_id": 96266226, "body": "Can it be that the last line in your input file doesn&#39;t have a line end? On my machine I have configured all editors to <i>always</i> make sure that the file is saved correctly with a line end after the last line (because I got tired of <code>git diff</code> complaining about <code>missing newline at end of file</code> :-)"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 2, "last_activity_date": 1550472178, "last_edit_date": 1550472178, "creation_date": 1550470493, "answer_id": 54741392, "question_id": 54741133, "link": "https://stackoverflow.com/questions/54741133/this-perl-oneliner-that-handles-multiple-lines-doesnt-work/54741392#54741392", "title": "This perl oneliner that handles multiple lines doesn&#39;t work", "body": "<p>Di-section of your one liner:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$ perl -MO=Deparse -pi.bak -e 's#((.*)\\n(.*)\\n&lt;\\/&gt;)#$1\\n$3\\n$2\\n&lt;\\/&gt;#g' test.txt\nBEGIN { $^I = \".bak\"; }\nLINE: while (defined($_ = readline ARGV)) {\n    s[((.*)\\n(.*)\\n&lt;\\/&gt;)][$1\\n$3\\n$2\\n&lt;/&gt;]g;\n}\ncontinue {\n    die \"-p destination: $!\\n\" unless print $_;\n}\n-e syntax OK\n</code></pre>\n\n<p>i.e. your processing loop is line-based, whereas your regex wants to match multiple lines.</p>\n\n<p><strong>NOTE:</strong> my solutions use the more generic filter approach STDIN to STDOUT, not <code>-i.bak</code>.</p>\n\n<p>You'll either have to slurp the file to memory and then apply the substitution...</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse open qw(:encoding(UTF-8) :std);\n\nmy $input;\n{\n    local $/;\n    $input = &lt;STDIN&gt;;\n}\n\n$input =~ s,((.*)\\n(.*)\\n&lt;\\/&gt;),$1\\n$3\\n$2\\n&lt;\\/&gt;,g;\n\nprint $input;\n\nexit 0;\n</code></pre>\n\n<p>... or use section detection with bi-stable range operator in scalar context:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse open qw(:encoding(UTF-8) :std);\n\nmy @section;\nwhile (&lt;STDIN&gt;) {\n    if (/^\\w+$/../^&lt;\\/&gt;$/) {\n        push(@section, $_);\n    }\n\n    print;\n\n    # End of section reached\n    if (/^&lt;\\/&gt;$/) {\n        # swivel lines around for desired output result...\n        print @section[1, 0, 2];\n        @section = ();\n    }\n}\n\nexit 0;\n</code></pre>\n\n<p>Which approach is more appropriate depends on your real-life input file or additional processing requirements.</p>\n\n<p>Test run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl &lt;dummy.txt\none\n1\n&lt;/&gt;\n1\none\n&lt;/&gt;\ntwo\n2\n&lt;/&gt;\n2\ntwo\n&lt;/&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATE</strong> if \"no redirection\" is an absolute requirement, you can replace the <code>&lt;STDIN&gt;</code> with <code>&lt;&gt;</code> to process the files on the command line, i.e.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $input = &lt;&gt;;\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>while (&lt;&gt;) {\n</code></pre>\n\n<p>and on the command line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -i.bak dummy.pl test1.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 0, "creation_date": 1550473884, "post_id": 54741970, "comment_id": 96266242, "body": "Didn&#39;t know about the <code>-0</code> option. +1"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1550478466, "post_id": 54741970, "comment_id": 96268402, "body": "Or perhaps it would be better not to read to whole file at once? And do something like<code>perl -pi.bak -e &#39;BEGIN{$&#47;=&quot;&lt;&#47;&gt;\\n&quot;} s&#47;(.*\\n)(.*\\n)(.*\\n)\\K&#47;$2$1$3&#47;&#39; test1.txt</code>. Well, depends on the size of the file of course."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1550473423, "creation_date": 1550473423, "answer_id": 54741970, "question_id": 54741133, "link": "https://stackoverflow.com/questions/54741133/this-perl-oneliner-that-handles-multiple-lines-doesnt-work/54741970#54741970", "title": "This perl oneliner that handles multiple lines doesn&#39;t work", "body": "<p>You are reading a line at a time and matching against that one line, so your pattern can't possibly match.</p>\n\n<p>The simple solution is to read the entire file as one line by using <code>-0777</code> (which sets <code>$/</code> to <code>undef</code>).</p>\n\n<pre><code>perl -i.bak -0777pe's#((.*)\\n(.*)\\n&lt;\\/&gt;)#$1\\n$3\\n$2\\n&lt;\\/&gt;#g' test1.txt\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 1118630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466905ee415e4cd9667f29eea987f15b?s=128&d=identicon&r=PG", "display_name": "jonah_w", "link": "https://stackoverflow.com/users/1118630/jonah-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "accepted_answer_id": 54741970, "answer_count": 3, "score": 1, "last_activity_date": 1550477721, "creation_date": 1550469040, "last_edit_date": 1550477721, "question_id": 54741133, "link": "https://stackoverflow.com/questions/54741133/this-perl-oneliner-that-handles-multiple-lines-doesnt-work", "title": "This perl oneliner that handles multiple lines doesn&#39;t work", "body": "<p>I have this string as follows(which is the content of the test1.txt file):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>one\n1\n&lt;/&gt;\ntwo\n2\n&lt;/&gt;\n</code></pre>\n\n<p>I want it to become a new string like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>one\n1\n&lt;/&gt;\n1\none\n&lt;/&gt;\ntwo\n2\n&lt;/&gt;\n2\ntwo\n&lt;/&gt;\n</code></pre>\n\n<p>I use the following perl oneliner to do just that.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>perl -pi.bak -e 's#((.*)\\n(.*)\\n&lt;\\/&gt;)#$1\\n$3\\n$2\\n&lt;\\/&gt;#g' \"test1.txt\"\n</code></pre>\n\n<p>but it did nothing to the test1.txt file.</p>\n\n<p>Update:I like all three answers. They all provide some brilliantly useful information. I'm not sure in this situation which answer to accept\u2026 </p>\n"}, {"tags": ["regex", "perl", "hex"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1550468434, "post_id": 54740981, "comment_id": 96264288, "body": "It would be easier to help out if you provided some sample input and explained what <code>$elems[0]</code> is supposed to be."}, {"owner": {"reputation": 1, "user_id": 7996259, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uF-lQql-OVg/AAAAAAAAAAI/AAAAAAAABiY/T_gzUTdqG8Y/photo.jpg?sz=128", "display_name": "ChetaN KS", "link": "https://stackoverflow.com/users/7996259/chetan-ks"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1550492431, "post_id": 54740981, "comment_id": 96276221, "body": "@mob. Thanks. I should&#39;ve been clear with my query. I&#39;m new to Perl. Updated it now."}, {"owner": {"reputation": 1, "user_id": 7996259, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uF-lQql-OVg/AAAAAAAAAAI/AAAAAAAABiY/T_gzUTdqG8Y/photo.jpg?sz=128", "display_name": "ChetaN KS", "link": "https://stackoverflow.com/users/7996259/chetan-ks"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1550492860, "post_id": 54740981, "comment_id": 96276443, "body": "@SteffenUllrich Thanks for your comment."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550493722, "post_id": 54740981, "comment_id": 96276979, "body": "If <code>$_</code> holds the string you&#39;re trying to validate, why are you putting it <i>in</i> the regular expression itself? If you lifted that from a web page, you should forget you ever saw that page."}, {"owner": {"reputation": 1, "user_id": 7996259, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uF-lQql-OVg/AAAAAAAAAAI/AAAAAAAABiY/T_gzUTdqG8Y/photo.jpg?sz=128", "display_name": "ChetaN KS", "link": "https://stackoverflow.com/users/7996259/chetan-ks"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550494292, "post_id": 54740981, "comment_id": 96277321, "body": "@Shawn. I don&#39;t understand your question. May be due to my inadequate basic knowledge on Perl, thus not aware of $_. I initially tried $sz=~/[[:xdigit:]+\\$entry], $entry being the word holder. But I couldn&#39;t get it work. I should have studied a bit more and figured this out myself."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1550473942, "creation_date": 1550473942, "answer_id": 54742060, "question_id": 54740981, "link": "https://stackoverflow.com/questions/54740981/validate-hexadecimal-value-in-perl-using-xdigit/54742060#54742060", "title": "Validate hexadecimal value in Perl using xdigit", "body": "<p>To check if a string consists entire of hex digits, you could use</p>\n\n<pre><code>$sz =~ /^[[:xdigit:]]+\\z/     # Consist entirely of hex digits\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$sz !~ /[^[:xdigit:]]/        # Doesn't contain non-hex digits\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7996259, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uF-lQql-OVg/AAAAAAAAAAI/AAAAAAAABiY/T_gzUTdqG8Y/photo.jpg?sz=128", "display_name": "ChetaN KS", "link": "https://stackoverflow.com/users/7996259/chetan-ks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1550492321, "creation_date": 1550468019, "last_edit_date": 1550492321, "question_id": 54740981, "link": "https://stackoverflow.com/questions/54740981/validate-hexadecimal-value-in-perl-using-xdigit", "title": "Validate hexadecimal value in Perl using xdigit", "body": "<p>I'm trying to validate a variable in my perl script if it's a hexadecimal or not.</p>\n\n<p>I Googled this and found out about xdigit and other possible methods. I want to use  xdigit only.</p>\n\n<p>But I couldn't find a sample script/snippet on how to use xdigit properly!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I don't have any code for this. I need to take a variable, say $sz which may contain a a valid hex value (00004a4c) or invalid hex value (some-alpha-numeric). I need to validate this $sz is holding proper hexadecimal or not.</p>\n\n<p>In a website, I saw this:</p>\n\n<p><strong>Checking a string whether it is the hexadecimal representation of some number (i.e. consists only of hexadecimal digits) is easily done with a regex. Assuming your string is in $_,</strong></p>\n\n<pre><code>/[[:xdigit:]]+$_/;\n</code></pre>\n\n<p>So I tried the below:</p>\n\n<pre><code>$sz =~ /[[:xdigit:]]+$_/;\n</code></pre>\n\n<p>I couldn't understand how I can use this correctly to my purpose.</p>\n"}, {"tags": ["python", "perl", "dictionary", "hash"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1550459866, "post_id": 54739979, "comment_id": 96262328, "body": "The problem is you are initialising your <code>defaultdict</code> to return (normal) <code>dict</code> instances when a key is not found and that&#39;s why the second dimension fails. Not marking as a duplicate because it is not exactly the same question but have a look at <a href=\"https://stackoverflow.com/questions/2600790/multiple-levels-of-collection-defaultdict-in-python\">this</a>"}, {"owner": {"reputation": 131, "user_id": 7207260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttQo8.jpg?s=128&g=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/7207260/skeeve"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1550463830, "post_id": 54739979, "comment_id": 96263167, "body": "Thanks for pointer, Selcuk..  I only used the defaultdict as I thought it would remove the need to initialize through the entire structure (as @mob identified in my thinking)...  but it seems like I will still need to do that, so maybe defaultdict wasn&#39;t actually the best choice.    More study to do, obviously..."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1550460466, "creation_date": 1550460466, "answer_id": 54740089, "question_id": 54739979, "link": "https://stackoverflow.com/questions/54739979/how-do-i-implement-a-multi-key-hash-in-perl-as-a-nested-dictionary-in-python/54740089#54740089", "title": "How do I Implement a Multi-Key Hash in Perl as a Nested Dictionary in Python?", "body": "<p>Python does not autovivify multilevel dictionaries the way that Perl does with its hashes. At the second and deeper levels, you have to assign an empty <code>dict</code> to the higher level <code>dict</code>s before you add more keys to them:</p>\n\n<pre><code>xdata = collections.defaultdict(dict)\nxdata[\"MC1\"] = collections.defaultdict(dict)\nxdata[\"MC1\"][123][\"PP\"] = \"-15,-15C\"  # ERROR: Key error 123\nxdata[\"MC1\"][456][\"PP\"] = \"5,5C\"\nxdata[\"MC1\"][391][\"PP\"] = \"-19,-19C\"\nxdata[\"MC1\"][287][\"PP\"] = \"-12,-12C\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 7207260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttQo8.jpg?s=128&g=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/7207260/skeeve"}, "is_accepted": false, "score": 1, "last_activity_date": 1550630207, "last_edit_date": 1550630207, "creation_date": 1550629900, "answer_id": 54777969, "question_id": 54739979, "link": "https://stackoverflow.com/questions/54739979/how-do-i-implement-a-multi-key-hash-in-perl-as-a-nested-dictionary-in-python/54777969#54777969", "title": "How do I Implement a Multi-Key Hash in Perl as a Nested Dictionary in Python?", "body": "<p>The simple way around the problem seems to be something like:-</p>\n\n<pre><code>xdata = collections.defaultdict(dict) # {}\nxdata[\"MC1\"][123] = {}                # Define the dict before using it\nxdata[\"MC1\"][123][\"PP\"] = \"-15,-15C\"  # Works Ok\n</code></pre>\n\n<p>...but that still means I have to 'manually' define a dict every time I 'discover' a new 'value'... <em>blah</em></p>\n\n<p>Notwithstanding the inherent <em>Gotcha!</em>'s with mis-typing and (possible) corruption of the dict content, <a href=\"https://stackoverflow.com/questions/635483/what-is-the-best-way-to-implement-nested-dictionaries/19829714#19829714\">What is the best way to implement nested dictionaries?</a> seems to be a good way to deal with the problem... particularly as the values (in my current application, anyway) \"never see the light of day\" (they are machine generated and validated before coming into my application)... So, some code that would likely work might be:-</p>\n\n<pre><code>class Vividict(dict):\n    def __missing__(self, key):\n        value = self[key] = type(self)() # retain local pointer to value\n        return value                     # faster to return than \n                                         # ...'dict lookup'\n\nydata = Vividict()\n\nydata[\"MC1\"][123][\"PP\"] = \"-15,-15C\"\nydata[\"MC1\"][456][\"PP\"] = \"5,5C\"\nydata[\"MC1\"][391][\"PP\"] = \"-19,-19C\"\nydata[\"MC1\"][287][\"PP\"] = \"-12,-12C\"\n\npprint.pprint(ydata)              # Ok, shows the full strucure\n</code></pre>\n\n<p>Thanks a heap for the suggestions and pointers.</p>\n"}], "owner": {"reputation": 131, "user_id": 7207260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttQo8.jpg?s=128&g=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/7207260/skeeve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 54740089, "answer_count": 2, "score": 2, "last_activity_date": 1550630207, "creation_date": 1550459465, "question_id": 54739979, "link": "https://stackoverflow.com/questions/54739979/how-do-i-implement-a-multi-key-hash-in-perl-as-a-nested-dictionary-in-python", "title": "How do I Implement a Multi-Key Hash in Perl as a Nested Dictionary in Python?", "body": "<p>I have some basic code to deal with a Perl hash where I can address the elements like: $data{\"WV2\"}{789}{PP1} (or use that actual text in an assignment) ...but I would like to do something like that using Python dictionaries.</p>\n\n<p>A couple of simple programs in both Perl and Python that illustrate what I've been trying to replicate follow:-</p>\n\n<p>So, the Perl code:-</p>\n\n<pre><code># hash.pl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %data = ();\n\nmy @reg_list = ( \"MC1\", \"CA2\", \"WV2\" );\nmy @site_list = ( 123, 456, 391, 287 );\n\n$data{MC1}{4564}{PP}{1} = \"-15,-15C\";\n$data{MC1}{4564}{PP}{2} = \"5,5C\";\n$data{MC1}{4564}{PP}{3} = \"-19,-19C\";\n$data{MC1}{4564}{PP}{4} = \"-12,-12C\";\n\nprintf(\"---- One:\\n\");\nprint Dumper(%data);                 # Ok, shows the full strucure\n\nprintf(\"---- Two:\\n\");\nprint Dumper($data{\"MC2\"});          # Shows as undef (sensible)\n\nprintf(\"---- Three:\\n\");\nprint Dumper($data{\"MC1\"});          # Ok, showing the key:values for each \"site\" key\n\nprintf(\"---- Four:\\n\");\nprint Dumper($data{\"MC1\"}{\"4564\"});  # Ok, shows the actual equality value above\n\n\n# ---- This works Ok\n\nmy %xdata = ();\n$xdata{\"MC1\"}{123}{\"PP\"} = \"-15,-15C\";\n$xdata{\"MC1\"}{456}{\"PP\"} = \"5,5C\";\n$xdata{\"MC1\"}{391}{\"PP\"} = \"-19,-19C\";\n$xdata{\"MC1\"}{287}{\"PP\"} = \"-12,-12C\";\n\nprintf(\"---- One:\\n\");\nprint Dumper(%xdata);                # Ok, shows the full strucure\n\n\n#pprint.pprint(data[\"MC2\"]) \n#pprint.pprint(data[\"MC1\"}{391]) \n\n\n# [eof]\n</code></pre>\n\n<p>...and the Python code:-</p>\n\n<pre><code># dict.py\n\nimport pprint\nimport collections\n\nreg_list  = [ \"MC1\", \"CA2\", \"WV2\" ]\nsite_list = [ 123, 456, 391, 287 ]\n\n#data = {}\ndata = collections.defaultdict(dict) # {}\ndata[\"MC1\"][123] = \"-15,-15C\"\ndata[\"MC1\"][456] = \"5,5C\"\ndata[\"MC1\"][391] = \"-19,-19C\"\ndata[\"MC1\"][287] = \"-12,-12C\"\n\nprint(\"---- One:\")\npprint.pprint(data)              # Ok, shows the full strucure\n\nprint(\"---- Two:\")\npprint.pprint(data[\"MC2\"])       # Shows: {} [...Ok, undefined...]\n\nprint(\"---- Three:\")\npprint.pprint(data[\"MC1\"])       # Ok, showing the key:values for each \"site\" key\n\nprint(\"---- Four:\")\npprint.pprint(data[\"MC1\"][391])  # Ok, shows the actual equality value above\n\n# ---- Cannot get the following to work\n\nxdata = collections.defaultdict(dict) # {}\nxdata[\"MC1\"][123][\"PP\"] = \"-15,-15C\"  # ERROR: Key error 123\nxdata[\"MC1\"][456][\"PP\"] = \"5,5C\"\nxdata[\"MC1\"][391][\"PP\"] = \"-19,-19C\"\nxdata[\"MC1\"][287][\"PP\"] = \"-12,-12C\"\n\n#pprint.pprint(data[\"MC2\"]) \n#pprint.pprint(data[\"MC1\"][391]) \n\n# [eof]\n</code></pre>\n\n<p>Outputs from each of the programs follow:-</p>\n\n<pre><code># Perl Output:\n\n---- One:\n$VAR1 = 'MC1';\n$VAR2 = {\n          '4564' =&gt; {\n                      'PP' =&gt; {\n                                '4' =&gt; '-12,-12C',\n                                '1' =&gt; '-15,-15C',\n                                '3' =&gt; '-19,-19C',\n                                '2' =&gt; '5,5C'\n                              }\n                    }\n        };\n---- Two:\n$VAR1 = undef;\n---- Three:\n$VAR1 = {\n          '4564' =&gt; {\n                      'PP' =&gt; {\n                                '4' =&gt; '-12,-12C',\n                                '1' =&gt; '-15,-15C',\n                                '3' =&gt; '-19,-19C',\n                                '2' =&gt; '5,5C'\n                              }\n                    }\n        };\n---- Four:\n$VAR1 = {\n          'PP' =&gt; {\n                    '4' =&gt; '-12,-12C',\n                    '1' =&gt; '-15,-15C',\n                    '3' =&gt; '-19,-19C',\n                    '2' =&gt; '5,5C'\n                  }\n        };\n---- One:\n$VAR1 = 'MC1';\n$VAR2 = {\n          '391' =&gt; {\n                     'PP' =&gt; '-19,-19C'\n                   },\n          '456' =&gt; {\n                     'PP' =&gt; '5,5C'\n                   },\n          '123' =&gt; {\n                     'PP' =&gt; '-15,-15C'\n                   },\n          '287' =&gt; {\n                     'PP' =&gt; '-12,-12C'\n                   }\n        };\n</code></pre>\n\n<p>...and from the Python:-</p>\n\n<pre><code># Python Output:-\n\n---- One:\ndefaultdict(&lt;class 'dict'&gt;,\n            {'MC1': {123: '-15,-15C',\n                     287: '-12,-12C',\n                     391: '-19,-19C',\n                     456: '5,5C'}})\n---- Two:\n{}\n---- Three:\n{123: '-15,-15C', 287: '-12,-12C', 391: '-19,-19C', 456: '5,5C'}\n---- Four:\n'-19,-19C'\nTraceback (most recent call last):\n  File \"C:\\Projects\\00-Development\\LXQuery\\CDB-Review\\dict.py\", line 30, in &lt;module&gt;\n    xdata[\"MC1\"][123][\"PP\"] = \"-15,-15C\"  # ERROR: Key error 123\nKeyError: 123\n</code></pre>\n\n<p>I've tried to look-up info about Nesting Dictionaries... but everything I've looked at doesn't clearly explain how the concept is supposed to work (to my mind, anyway).... particularly when there are 'deeper' levels of the dictionaries in use.</p>\n\n<p>I've been writing Perl code for ~25 years but am only starting with Python.</p>\n\n<p>Running ActiveState Perl v5.16.3, Build 1603 and Anaconda Python 3.6.5 under Windows 10 x64.</p>\n\n<p>Thanks a lot for any thoughts or suggestions.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 1, "creation_date": 1550437796, "post_id": 54737588, "comment_id": 96257823, "body": "Q2: use the <code>qr&#47;&#47;</code> operator (see <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">perlop</a>) to compile regexes. I.e. <code>my $regex = qr&#47;^\\w+(\\w+)*$\\n\\n#(\\d+)&#47;;</code>. You can also combine sub-regexes in this way ie. <code>my $regex = qr&#47;${subre1}${subre2}${subre3}&#47;;</code>"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550438137, "post_id": 54737588, "comment_id": 96257906, "body": "Q1 is a bit unclear. F.ex. the first example: do you want to match <code>Data Scientist</code> and <code>#1</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1550442331, "post_id": 54737732, "comment_id": 96258972, "body": "thank you for the answer. well  I wanted to treat the whole text as a single string because it wasn&#39;t a very long text and I wanted to see if I can tackle it with just one regex."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1550444066, "post_id": 54737732, "comment_id": 96259371, "body": "@Romario  By all means, that&#39;s how we learn :)  I only meant to offer a simpler approach (in principle crucial in production and with difficult problems: break it up using suitable computing approaches and algorithms, to simplify), not to discourage.  I&#39;ve added a section on regex, for completeness."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1554618373, "last_edit_date": 1554618373, "creation_date": 1550437971, "answer_id": 54737732, "question_id": 54737588, "link": "https://stackoverflow.com/questions/54737588/how-to-capture-multiple-words-using-regex-on-this-particular-text/54737732#54737732", "title": "How to capture multiple words using regex on this particular text?", "body": "<p>Why not process line-by-line, simple and easy</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $file = shift || die \"Usage: $0 file\\n\";\n\nopen my $fh, '&lt;', $file  or die \"Can't open $file: $!\";\n\nmy (@jobs, $prev_line);\n\nwhile (my $line = &lt;$fh&gt;) { \n    chomp $line;\n    next if not $line =~ /\\S/;\n\n    if ($line =~ /^\\s*#[0-9]/) {\n        push @jobs, $prev_line;\n    }   \n\n    $prev_line = $line;\n}\n\nsay for @jobs;\n</code></pre>\n\n<p>This relies on the requirement that the <code>#N</code> line is the first non-empty line after the jobs title.</p>\n\n<p>It prints</p>\n\n<pre>\nData Scientist\nProgrammer\nSAP Module Consultant\n</pre>\n\n<p>The question doesn't say whether rankings are wanted as well but there is a hint in the regex that they may be. Then, assuming that the ordering in the file is \"correct\" you can iterate over the array indices and print elements (titles) with their indices (rank). </p>\n\n<p>Or, to be certain, capture them in the regex, <code>/^\\s*#([0-9]+)/</code>. Then you can directly print both the title and its rank, or perhaps store them in a hash with key-value pairs <code>rank =&gt; title</code>.</p>\n\n<hr>\n\n<p>As for the regex, there are a few needed corrections. To compose a regex ahead of matching, what is a great idea, you want the <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">qr</a> operator. To work with multi-line strings you need the <code>/m</code> modifier. (See <a href=\"https://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a>.)  The regex itself needs fixing. For example</p>\n\n<pre><code>my $regex  = qr/^(.+)?(?:\\n\\s*)+\\n\\s*#\\s*[0-9]/m;\nmy @titles = $content =~ /$regex/g\n</code></pre>\n\n<p>what captures a line followed by at least one empty line and then <code>#N</code> on another line.</p>\n\n<p>If the ranking of titles is needed as well then capture it, too, and store in a hash</p>\n\n<pre><code>my $regex = qr/^(.+)?(?:\\n\\s*)+\\n\\s*#\\s*([0-9]+)/m;\nmy %jobs  = reverse  $content =~ /$regex/g;\n</code></pre>\n\n<p>or maybe better not push it with <code>reverse</code>-ing the list of matches but iterate through pairs instead</p>\n\n<pre><code>my %jobs;\nwhile ($content =~ /$regex/g) {\n    $jobs{$2} = $1;\n}\n</code></pre>\n\n<p>since with this we can check our \"catch\" at each iteration, do other processing, etc.  Then you can sort the keys to print in order</p>\n\n<pre><code>say \"#$_ $jobs{$_}\" for sort { $a &lt;=&gt; $b } keys %jobs;\n</code></pre>\n\n<p>and just in general pick jobs by their rank as needed.</p>\n\n<p>I think that it's fair to say that the regex here is much more complex than the first program.</p>\n"}, {"comments": [{"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1550440798, "post_id": 54737777, "comment_id": 96258578, "body": "Thank you for the answer. It&#39;s a fine regex. But it didn&#39;t  contain how to carry the result set of the regex into the Perl array therefore I couldn&#39;t select it with a tick."}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1550441104, "post_id": 54737777, "comment_id": 96258672, "body": "@Romario: No worries, glad to help."}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 2, "last_activity_date": 1550438275, "creation_date": 1550438275, "answer_id": 54737777, "question_id": 54737588, "link": "https://stackoverflow.com/questions/54737588/how-to-capture-multiple-words-using-regex-on-this-particular-text/54737777#54737777", "title": "How to capture multiple words using regex on this particular text?", "body": "<p>You were not taking whitespaces (as in <code>Data Scientist</code>) into account:</p>\n\n<pre><code>^\\w+.*$\\R+#(\\d+)\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/pA46yp/1/\" rel=\"nofollow noreferrer\"><strong>a demo on regex101.com</strong></a>.\n<hr>\n<code>\\R</code> is equal to <code>(?&gt;\\r\\n|\\n|\\r|\\f|\\x0b|\\x85)</code> (matches Unicode newlines sequences). </p>\n"}, {"comments": [{"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1550441450, "post_id": 54738004, "comment_id": 96258760, "body": "Thank you for the answer. I had heard about the <code>qr&#47;&#47;</code> but have forgotten it totally. The loop part is nice.  Never seen or used the <code>use feature qw(say);</code> and <code>use File::Slurper qw(read_text);</code> before but they&#39;re very practical and fine."}, {"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1550485545, "post_id": 54738004, "comment_id": 96272217, "body": "inside the expression <code>(?:\\s+\\w+)*</code> there is <code>:</code> I&#39;ve tried regexing without it and it didn&#39;t changed the output. Could it be a typo? What does it do?"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 1, "creation_date": 1550489882, "post_id": 54738004, "comment_id": 96274680, "body": "See <a href=\"https://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">perlre</a>: &quot;<code>(?:pattern)</code> This is for clustering, not capturing; it groups subexpressions like <code>()</code> , but doesn&#39;t make backreferences as <code>()</code> does&quot; AKA non-capturing group (NCG). When you need to group stuff, but not capture the contents, then this is preferable for a slight performance improvement."}, {"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1550517577, "post_id": 54738004, "comment_id": 96289710, "body": "I was thinking <code>: </code> separately, but it turned out to be the combination <code>?:</code> and that makes sense now. Thank you."}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 2, "last_activity_date": 1550440834, "last_edit_date": 1550440834, "creation_date": 1550440013, "answer_id": 54738004, "question_id": 54737588, "link": "https://stackoverflow.com/questions/54737588/how-to-capture-multiple-words-using-regex-on-this-particular-text/54738004#54738004", "title": "How to capture multiple words using regex on this particular text?", "body": "<p>Answers for your questions:</p>\n\n<ol>\n<li><p>you are capturing the second word only and you do not allow for space in between them. That's why it won't match e.g. <code>Data Scientist</code></p></li>\n<li><p>use the <code>qr//</code> operator to compile regexes with dynamic content. The error stems from the <code>$</code> in the middle of the regex which Perl regex compiler assumes you got wrong, because <code>$</code> should only come at the end of a regex.</p></li>\n</ol>\n\n<p>The following code should achieve what you want. Note the two-step approach:</p>\n\n<ol>\n<li><p>Find matching text</p>\n\n<ul>\n<li>beginning of a line (<code>^</code>)</li>\n<li>one-or-more words separated by white space (<code>\\w+(?:\\s+\\w+)*</code>, no need to capture match)</li>\n<li>2 line ends (<code>\\n\\n</code>)</li>\n<li><code>#</code> followed by a number (<code>\\d+</code>)</li>\n<li>apply regex multiple times (<code>/g</code>) and treat strings as multiple lines (<code>/m</code>, i.e. <code>^</code> will match <em>any</em> beginning of a line in the input text)</li>\n</ul></li>\n<li><p>Split match at line ends (<code>\\n</code>) and extract the 1st and the 3rd field</p>\n\n<ul>\n<li>as we know <code>$match</code> will contain three lines, this approach is much easier than writing another regex.</li>\n</ul></li>\n</ol>\n\n\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse feature qw(say);\nuse File::Slurper qw(read_text);\n\nmy $input = read_text($ARGV[0])\n    or die \"slurp: $!\\n\";\n\nmy $regex = qr/^(\\w+(?:\\s+\\w+)*\\n\\n#\\d+)/m;\n\nforeach my $match ($input =~ /$regex/g) {\n    #say $match;\n    my($title, undef, $rank) = split(\"\\n\", $match);\n    $rank =~ s/^#//;\n    say \"MATCH '${title}' '${rank}'\";\n}\n\nexit 0;\n</code></pre>\n\n<p>Test run over the example text you provided in your question.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl dummy.txt\nMATCH 'Data Scientist' '1'\nMATCH 'Programmer' '2'\nMATCH 'SAP Module Consultant' '3'\n</code></pre>\n\n<hr>\n\n<p><strong>UNICODE UPDATE:</strong> as suggested by @Jan's answer the code can be improved like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $regex = qr/^(\\w+(?:\\s+\\w+)*\\R\\R#\\d+)/m;\n...\n    my($title, undef, $rank) = split(/\\R/, $match);\n</code></pre>\n\n<p>That is probably the more generic approach, as <code>UTF-8</code> is the default for <code>File::Slurper::read_text()</code> anyway...</p>\n"}], "owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 716, "favorite_count": 0, "accepted_answer_id": 54738004, "answer_count": 3, "score": 3, "last_activity_date": 1554618373, "creation_date": 1550436826, "last_edit_date": 1550438066, "question_id": 54737588, "link": "https://stackoverflow.com/questions/54737588/how-to-capture-multiple-words-using-regex-on-this-particular-text", "title": "How to capture multiple words using regex on this particular text?", "body": "<p>I'm trying to extract the best paying job titles from this sample text:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Data Scientist\n\n#1 in Best Paying Jobs\n\n5,100  Projected Jobs $250,000 Median Salary 0.5% Unemployment Rate\n\nProgrammer\n\n#2 in Best Paying Jobs\n\n4,000 Projected Jobs $240,000 Median Salary 1.0% Unemployment Rate\n\nSAP Module Consultant\n\n#3 in Best Paying Jobs\n\n3,000 Projected Jobs $220,000 Median Salary 0.2% Unemployment Rate\n</code></pre>\n\n<p>by using the following regex and Perl code.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use File::Glob;\nlocal $/ = undef;\nmy $file = @ARGV[0];\n\nopen INPUT, \"&lt;\", $file\n    or die \"Couldn't open file $!\\n\";\n\nmy $content = &lt;INPUT&gt;;\n\nmy $regex = \"^\\w+(\\w+)*$\\n\\n#(\\d+)\";\n\nmy @arr_found = ($content =~ m/^\\w+(\\w+)*$\\n\\n#(\\d+)/g);\n\nclose (INPUT);\n</code></pre>\n\n<p>Q1: The regex finds only the one-word titles*. How to make it find the  multiple word titles and how to forward (i.e. how to properly capture) those found titles into the Perl array?</p>\n\n<p>Q2: I defined the regex into a Perl variable and tried to use that variable for the regex operation like:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my @arr_found = ($content =~ m/\"$regex\"/g);\n</code></pre>\n\n<p>but it gave error. How to make it?</p>\n\n<p>* When I apply the regex <code>^\\w+(\\w+)*$\\n\\n#(\\d+)</code> on Sublime Text 2, it finds only the one word titles.</p>\n"}, {"tags": ["perl", "date", "time", "module"], "comments": [{"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1550422069, "post_id": 54735335, "comment_id": 96253049, "body": "maybe DateTime::Format::Flexible can do that, will try it"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1550422079, "post_id": 54735335, "comment_id": 96253053, "body": "What should happen to <code>2012-02-03</code>? Is it 1328223600 or 1330642800?"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 2, "creation_date": 1550422419, "post_id": 54735335, "comment_id": 96253170, "body": "<a href=\"https://metacpan.org/pod/distribution/Date-Manip/lib/Date/Manip/Date.pod\" rel=\"nofollow noreferrer\">Date::Manip::Date</a> has <code>new Date::Manip::Date-&gt;parse(...)</code> that recognizes a wide range of formats, e.g. <code>-&gt;parse(&#39;today&#39;)</code>"}, {"owner": {"reputation": 4969, "user_id": 10971581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XPQr1.png?s=128&g=1", "display_name": "jhnc", "link": "https://stackoverflow.com/users/10971581/jhnc"}, "edited": false, "score": 1, "creation_date": 1550422781, "post_id": 54735335, "comment_id": 96253296, "body": "+1 for Date::Manip but note that some formats are inherently ambiguous and cannot reliably be distinguished: 10/11/12"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1550426570, "post_id": 54735335, "comment_id": 96254431, "body": "thanks gents, will try date::manip !"}], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "edited": false, "score": 0, "creation_date": 1550591342, "post_id": 54735557, "comment_id": 96320276, "body": "Even more amusingly.... <code>01-02-2019</code> was converted to <code>20th Feb, 2001, at 7pm</code> (being <code>[YY]YY-MM-DDHH:MM:SS</code> - an almost ISO 8601 Notation.  (parsing is never fun...)"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 2, "last_activity_date": 1550426749, "last_edit_date": 1550426749, "creation_date": 1550423144, "answer_id": 54735557, "question_id": 54735335, "link": "https://stackoverflow.com/questions/54735335/perl-module-that-automatically-detects-time-formats-and-can-convert/54735557#54735557", "title": "Perl module that automatically detects time formats ? (and can convert)", "body": "<p>Using <a href=\"https://metacpan.org/pod/distribution/Date-Manip/lib/Date/Manip.pod\" rel=\"nofollow noreferrer\">Date::Manip</a> is one option:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use warnings;\nuse strict;\n\nuse Date::Manip;\n\nmy $date = new Date::Manip::Date;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my $error = $date-&gt;parse($_);\n    die \"Can't parse '$_': ${error}\\n\"\n        if $error;\n    print $date-&gt;printf(\"$_: %s %O\\n\");\n}\n\nexit 0;\n\n__DATA__\ntoday\nyesterday\ntomorrow\n01-02-2019\n01/02/2019\n23:12:01 01/03/2019\n2019-03-02\n</code></pre>\n\n<p>Test run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl\ntoday: 1550354400 2019-02-17T00:00:00\nyesterday: 1550268000 2019-02-16T00:00:00\ntomorrow: 1550440800 2019-02-18T00:00:00\n01-02-2019: 982688400 2001-02-20T19:00:00\n01/02/2019: 1546380000 2019-01-02T00:00:00\n23:12:01 01/03/2019: 1546549921 2019-01-03T23:12:01\n2019-03-02: 1551477600 2019-03-02T00:00:00\n</code></pre>\n\n<p>Date formats can be ambiguous, f.ex. compare in the above example <code>01-02-2019</code> vs <code>01/02/2019</code>. Although the 2nd one looks OK, you have to ask is it <code>MM/DD/YYYY</code> (American, as it was parsed) or <code>DD/MM/YYYY</code> (European)?</p>\n\n<p>Another thing you'll always need to consider: if the input format doesn't include a timezone, in which timezone do I need to interpret it?</p>\n\n<p>Please do study the extensive <a href=\"https://metacpan.org/pod/distribution/Date-Manip/lib/Date/Manip.pod\" rel=\"nofollow noreferrer\">documentation</a> for the gory details.</p>\n"}], "owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 54735557, "answer_count": 1, "score": 2, "last_activity_date": 1550426749, "creation_date": 1550421719, "last_edit_date": 1550426403, "question_id": 54735335, "link": "https://stackoverflow.com/questions/54735335/perl-module-that-automatically-detects-time-formats-and-can-convert", "title": "Perl module that automatically detects time formats ? (and can convert)", "body": "<p>I am building some kind of an engine receiving data from different sources having different date formats (e.g. <code>MM-DD-YYYY</code>, <code>HH24:MM:SS MM/DD/YYYY</code>, <code>YYYY-MM-DD</code>, Epoch etc.) and I want to parse them all and transform these date/time formats to a defined one (e.g. only <code>YYYY-MM-DD</code> for example).</p>\n\n<p>I was starting to code this and make a huge hash with many regex of the predefined formats that I would receive (about 20), but then I was thinking...</p>\n\n<p>Do you know any module doing this detection automatically? I.e. when we don't specify the format as we do not know it.</p>\n"}, {"tags": ["css", "perl"], "comments": [{"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550409332, "post_id": 54733338, "comment_id": 96249669, "body": "<a href=\"https://metacpan.org/pod/MIME::Lite\" rel=\"nofollow noreferrer\">MIME::Lite</a> starts with a big caveat: &quot;MIME::Lite is not recommended by its current maintainer. There are a number of alternatives, like Email::MIME or MIME::Entity and Email::Sender, which you should probably use instead. &quot;"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550409496, "post_id": 54733338, "comment_id": 96249721, "body": "The first problem would be that <code>$msg-&gt;send</code> doesn&#39;t return until after the message has been sent. You would need to use a mail sender package with asynchronous API. Then you would need to add some Javascript on the client side to request status updates from the server to be able to update the progress bar. Such a thing can&#39;t be achieved with CGI."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1550413554, "post_id": 54733338, "comment_id": 96250685, "body": "<a href=\"https://www.perlmonks.org/?node_id=1229766\" rel=\"nofollow noreferrer\">Crossposted from PerlMonks</a>."}, {"owner": {"reputation": 65, "user_id": 10582377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/367efaa6ca1b350b146252193b6237ac?s=128&d=identicon&r=PG&f=1", "display_name": "mich kent", "link": "https://stackoverflow.com/users/10582377/mich-kent"}, "edited": false, "score": 0, "creation_date": 1550430991, "post_id": 54733338, "comment_id": 96255889, "body": "so u mean such thing cant be achieved with cgi. so only web framework like mojo, dancer crystal"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1550574114, "post_id": 54733338, "comment_id": 96309586, "body": "<i>u mean such thing cant be achieved with cgi</i> - No, I don&#39;t believe that anyone has said anything even close to that."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1550412818, "creation_date": 1550412818, "answer_id": 54734102, "question_id": 54733338, "link": "https://stackoverflow.com/questions/54733338/send-mail-with-progress-bar-using-perl/54734102#54734102", "title": "send mail with progress bar using Perl", "body": "<p>Firstly, I wouldn't suggest using a module which looks like it was abandoned over eight years ago.</p>\n\n<p>Secondly, I'm really not sure how you think this is going to work. In pseudo-code, your program looks like this:</p>\n\n<ul>\n<li>Set up CGI object</li>\n<li>Extract mail parameters</li>\n<li>Create mail</li>\n<li>Send mail</li>\n<li>Show a progress bar which updates every second for a hundred seconds</li>\n</ul>\n\n<p>The main problem is the fact that the line that says <code>$msg-&gt;send</code> is where the mail is sent. Once that line has been executed, the mail has gone. There's no point in creating and updating a progress bar after what you're showing the progress of has completed.</p>\n\n<p>You need to do something more like this:</p>\n\n<ul>\n<li>Set up CGI object</li>\n<li>Extract mail parameters</li>\n<li>Create mail</li>\n<li>Set up and display progress bar</li>\n<li>Send mail (including regular call-back to update the progress bar)</li>\n</ul>\n\n<p>Of course, it's that last part that is tricky. I haven't looked at MIME::Lite for years (it's mostly deprecated these days) but skimming the documentation, I can't see any way to make asynchronous callbacks from within the mail sending code.</p>\n\n<p>One approach would be to create an email for every person in the recipients list. That way you could send them one at a time and update the progress bar after sending each one. But that's not a particularly efficient way to email multiple people.</p>\n"}], "owner": {"reputation": 65, "user_id": 10582377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/367efaa6ca1b350b146252193b6237ac?s=128&d=identicon&r=PG&f=1", "display_name": "mich kent", "link": "https://stackoverflow.com/users/10582377/mich-kent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1550412818, "creation_date": 1550407197, "last_edit_date": 1550408290, "question_id": 54733338, "link": "https://stackoverflow.com/questions/54733338/send-mail-with-progress-bar-using-perl", "title": "send mail with progress bar using Perl", "body": "<p>I'm having problem with my send mail script. Mostly the problem is all about the progress bar. I want when I click submit that the progress bar starts moving and ends when the sending done.</p>\n\n<p>Well, I have tried to take similar examples <a href=\"https://metacpan.org/pod/CGI::ProgressBar\" rel=\"nofollow noreferrer\">CGI::ProgressBar</a> but I can't make it work.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl -w\n\nuse CGI::Carp qw(fatalsToBrowser warningsToBrowser);\nuse CGI;\nuse MIME::Lite;\nuse CGI::ProgressBar qw/:standard/;\n\n$| = 1; # Do not buffer output\n\nmy $CGI = CGI-&gt;new();\n\nmy $from_email = $CGI-&gt;param(\"from_email\");\nmy $from_name = $CGI-&gt;param(\"from_name\");\nmy $subject = $CGI-&gt;param(\"subject\");\nmy $receipts = $CGI-&gt;param(\"receipts\");\nmy $message  = $CGI-&gt;param(\"message\");\n\n# Newline format. send message to each email listed\nmy $output = join \"\\n\", split \" \", $receipts;  \n\nif ($from_email, $from_name, $subject, $receipts, $message) {\nmy $msg = MIME::Lite-&gt;new(\n        # From Name: John Deo And Sent From Email: johndeo@mail.com\n        From     =&gt; \"$from_name &lt;$from_email&gt;\",\n        To       =&gt; $output,\n        Subject  =&gt; $subject,\n        Data     =&gt; $message\n\n);\n# Support HTML Message\n$msg-&gt;attr(\"content-type\" =&gt; \"text/html\");  \n$msg-&gt;send;\n\nif ($msg) {   # if mail starts sending\nprint progress_bar( -from=&gt;1, -to=&gt;100 );\nfor (1..100){\n        print update_progress_bar;\n        # Print ProgressBar\n        $progressbar_html = qq{&lt;div class=\"box\"&gt;\n    &lt;div id=\"progressbar\"&gt;\n        &lt;div&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"text\"&gt;Sending... 1%&lt;/div&gt;\n&lt;/div&gt;\n};\n        sleep 1;\n\n}\nprint $response = \"Message Sent Successfully\";\nexit;\n}\n\nif(!$msg) {\nprint $response = \"Message Failed To Send\";\n}\n}\n\nprint \"Content-type: text/html\\n\\n\";\nprint &lt;&lt;START_HTML;\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Simple Mailer&lt;/title&gt;\n&lt;style type=\"text/css\"&gt;\n.box {\n    border-radius: 10px;\n    padding: 25px;\n    background-color: rgba(51, 51, 51, 0.96);\n    text-align: center;\n}\n#progressbar {\n    border: 3px solid #fff;\n    border-radius: 20px;\n    padding: 2px;\n}\n#progressbar &gt; div {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background-color: #fff;\n    width: 1%;\n    height: 18px;\n    border: 1px solid rgba(0, 0, 0, 0);\n    border-radius: 20px;\n}\n.text {\n    color: #fff;\n    margin-top: 15px;\n    font-size: 21px;\n    font-weight: bold;\n}\n&lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;form method=\"post\"&gt;\n&lt;label&gt;From Email\n&lt;input type=\"text\" name=\"from_email\" /&gt;\n&lt;br /&gt;\n&lt;br /&gt;\nFrom Name\n&lt;input type=\"text\" name=\"from_name\" /&gt;\n&lt;/label&gt;\n&lt;p&gt;\n  &lt;label&gt;Subject\n  &lt;input type=\"text\" name=\"subject\" /&gt;\n  &lt;/label&gt;\n&lt;/p&gt;\n&lt;p&gt;\n  &lt;label&gt;Receipts\n  &lt;textarea name=\"receipts\"&gt;&lt;/textarea&gt;\n  &lt;/label&gt;\n&lt;/p&gt;\n&lt;p&gt;\n  &lt;label&gt;message\n  &lt;textarea name=\"message\"&gt;&lt;/textarea&gt;\n  &lt;/label&gt;\n&lt;/p&gt;\n&lt;p&gt;\n  &lt;label&gt;Send\n  &lt;input type=\"submit\" value=\"Submit\" /&gt;\n  &lt;/label&gt;\n&lt;/p&gt;\n&lt;/form&gt;\n&lt;p&gt;&amp;nbsp;&lt;/p&gt;\n\n$progressbar_html\n&lt;p&gt;$response&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\nSTART_HTML\n</code></pre>\n"}, {"tags": ["regex", "perl", "latex"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 1, "creation_date": 1550406635, "post_id": 54733228, "comment_id": 96248920, "body": "With Perl you can try this <code>(?:\\\\begin{align}|\\G(?!\\A))(?:(?!\\\\end{align})[^(])*\\K\\(</code> . See live demo here <a href=\"https://regex101.com/r/sfFyVu/1\" rel=\"nofollow noreferrer\">regex101.com/r/sfFyVu/1</a>"}, {"owner": {"reputation": 91433, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 1, "creation_date": 1550406788, "post_id": 54733228, "comment_id": 96248955, "body": "If the opening parenthesis should be between \\begin{align} and \\end{align} you could use a positive lookahead <code>(?s)(?:\\G(?!^)|\\\\begin{align})[^(]+\\K\\((?=.*\\\\end{align})</code> and make the dot match a newline <a href=\"https://regex101.com/r/z4UVpi/1\" rel=\"nofollow noreferrer\">regex101.com/r/z4UVpi/1</a>"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 1, "creation_date": 1550406926, "post_id": 54733228, "comment_id": 96248996, "body": "or use range operator in scalar context (flip-flop) i.e. <code>if (&#47;^\\\\begin\\{align\\}&#47;..&#47;^\\\\end\\{align\\}) { ... processing that should happen only inside the align block goes here... }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "reply_to_user": {"reputation": 1547, "user_id": 950218, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c30b290f28a1b3ceb9f39d65e88b4339?s=128&d=identicon&r=PG", "display_name": "Sam Palmer", "link": "https://stackoverflow.com/users/950218/sam-palmer"}, "edited": false, "score": 0, "creation_date": 1550408739, "post_id": 54733301, "comment_id": 96249471, "body": "You can run it against the whole file content. What&#39;s the problem?"}, {"owner": {"reputation": 1547, "user_id": 950218, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c30b290f28a1b3ceb9f39d65e88b4339?s=128&d=identicon&r=PG", "display_name": "Sam Palmer", "link": "https://stackoverflow.com/users/950218/sam-palmer"}, "edited": false, "score": 0, "creation_date": 1550408907, "post_id": 54733301, "comment_id": 96249531, "body": "i&#39;m running perl -plwe &#39;s/(?s)(?:\\G(?!^)|\\\\begin{align})[^(]+\\K&#40;(?=.*\\\\end{alig&zwnj;&#8203;n})/\\\\left\\&#40;/;&#39; LHSOptions-rewrite-2-5-2_copy.tex &gt; testout.tex and the matches are still not being replaced"}], "tags": [], "owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "is_accepted": false, "score": 5, "last_activity_date": 1550409359, "last_edit_date": 1550409359, "creation_date": 1550406969, "answer_id": 54733301, "question_id": 54733228, "link": "https://stackoverflow.com/questions/54733228/regex-find-and-replace-inbetween-latex-enviroment/54733301#54733301", "title": "Regex find and replace inbetween Latex enviroment", "body": "<p>There are two techniques for accomplishing the given task. One is starting match from <code>\\\\begin{align}</code> and two is signaling engine to stop matching <code>(</code> right after facing with <code>\\\\end{align}</code>.</p>\n\n<p>The first step could be taken using <code>\\G</code> token and the second is a job for a restrictive match or tempered-<code>[^(]</code>.</p>\n\n<pre><code>(?:\\\\begin{align}|\\G(?!\\A))(?:(?!\\\\end{align})[^(])*\\K\\(\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/sfFyVu/2\" rel=\"nofollow noreferrer\">live demo here</a></p>\n\n<p>Perl code:</p>\n\n<pre><code>my $regex = qr/(?:\\\\begin{align}|\\G(?!\\A))(?:(?!\\\\end{align})[^(])*\\K\\(/p;\nmy $subst = '\\\\\\\\left(';\nmy $result = $str =~ s/$regex/$subst/rg;\n</code></pre>\n\n<p>See <a href=\"https://ideone.com/RDjIV3\" rel=\"nofollow noreferrer\">live demo here</a></p>\n\n<p>Regex breakdown:</p>\n\n<ul>\n<li><code>(?:</code> Start of non-capturing group\n\n<ul>\n<li><code>\\\\begin{align}</code> Match <code>\\begin{align}</code> literally</li>\n<li><code>|</code> Or</li>\n<li><code>\\G(?!\\A)</code> Start match from where previous match ends</li>\n</ul></li>\n<li><code>)</code> End of non-capturing group</li>\n<li><code>(?:</code> Start of NCG\n\n<ul>\n<li><code>(?!\\\\end{align})</code> Until we reach <code>\\end{align}</code></li>\n<li><code>[^(]</code> Try to match a non-<code>(</code> character</li>\n</ul></li>\n<li><code>)*</code> End of NCG, repeat as much as possible</li>\n<li><code>\\K\\(</code> Reset matched portion and try to match <code>(</code></li>\n</ul>\n\n<p>One-liner:</p>\n\n<pre><code>perl -0777 -i.bak -pe 's~(?:\\\\begin\\{align}|\\G(?!\\A))(?:(?!\\\\end\\{align})[^(])*\\K\\(~\\\\left(~g;' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1547, "user_id": 950218, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c30b290f28a1b3ceb9f39d65e88b4339?s=128&d=identicon&r=PG", "display_name": "Sam Palmer", "link": "https://stackoverflow.com/users/950218/sam-palmer"}, "edited": false, "score": 0, "creation_date": 1550408649, "post_id": 54733362, "comment_id": 96249436, "body": "thanks, I ran this on my text however I didn&#39;t get any output of the replacements"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 1547, "user_id": 950218, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c30b290f28a1b3ceb9f39d65e88b4339?s=128&d=identicon&r=PG", "display_name": "Sam Palmer", "link": "https://stackoverflow.com/users/950218/sam-palmer"}, "edited": false, "score": 1, "creation_date": 1550408800, "post_id": 54733362, "comment_id": 96249494, "body": "Maybe you need to make the begin/end regex a little less strict. They currently <i>only</i> match if the begin/end are at the beginning of the line. That works for the example you provided."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 1547, "user_id": 950218, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c30b290f28a1b3ceb9f39d65e88b4339?s=128&d=identicon&r=PG", "display_name": "Sam Palmer", "link": "https://stackoverflow.com/users/950218/sam-palmer"}, "edited": false, "score": 1, "creation_date": 1550408997, "post_id": 54733362, "comment_id": 96249564, "body": "I&#39;ve added a less tight begin/end detection regex to my answer."}, {"owner": {"reputation": 1547, "user_id": 950218, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c30b290f28a1b3ceb9f39d65e88b4339?s=128&d=identicon&r=PG", "display_name": "Sam Palmer", "link": "https://stackoverflow.com/users/950218/sam-palmer"}, "edited": false, "score": 0, "creation_date": 1550409954, "post_id": 54733362, "comment_id": 96249840, "body": "thanks worked beautifully! the more flexible block detection worked"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 6, "last_activity_date": 1550408965, "last_edit_date": 1550408965, "creation_date": 1550407416, "answer_id": 54733362, "question_id": 54733228, "link": "https://stackoverflow.com/questions/54733228/regex-find-and-replace-inbetween-latex-enviroment/54733362#54733362", "title": "Regex find and replace inbetween Latex enviroment", "body": "<p>Use the range operator (<code>..</code>) in scalar context, i.e. as flip-flop, to isolate the blocks you want to work on.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nwhile (&lt;STDIN&gt;) {\n    if (/^\\\\begin\\{align\\}/../^\\\\end\\{align\\}/) {\n        # replace all occurences of \"(\" with \"\\left(\"\n        s/\\(/\\\\left(/g;\n    }\n    print;\n}\n\nexit 0;\n</code></pre>\n\n<p>Test run with your given text:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl &lt;dummy.txt\nLorem Ipsum Lorem Ipsum Lorem Ipsum\nLorem Ipsum Lorem Ipsum (Lorem Ipsum Lorem Ipsum )\nLorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum\n\\begin{align}\n\\frac{d_l}{2}&lt; |\\epsilon_H\\left(g\\left(m))| &lt;\\frac{d_r}{2}\n\\frac{d_l}{2}&lt; |\\epsilon_H\\left(g\\left(m))| &lt;\\frac{d_r}{2}\n\\end{align}\nLorem Ipsum Lorem Ipsum Lorem Ipsum\nLorem Ipsum Lorem Ipsum Lorem Ipsum\n</code></pre>\n\n<p>Or as one-liner:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl &lt;dummy.txt -pe 's/\\(/\\\\left(/g if (/^\\\\begin\\{align\\}/../^\\\\end\\{align\\}/)'\n...\n\\frac{d_l}{2}&lt; |\\epsilon_H\\left(g\\left(m))| &lt;\\frac{d_r}{2}\n\\frac{d_l}{2}&lt; |\\epsilon_H\\left(g\\left(m))| &lt;\\frac{d_r}{2}\n...\n</code></pre>\n\n<p>If the block detection is too strict, i.e. in your real document the <code>\\begin</code> and <code>\\end</code> are not at the beginning of the line, then try the following without the <code>^</code> (caret):</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code> if (/\\\\begin\\{align\\}/../\\\\end\\{align\\}/) {\n</code></pre>\n"}], "owner": {"reputation": 1547, "user_id": 950218, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c30b290f28a1b3ceb9f39d65e88b4339?s=128&d=identicon&r=PG", "display_name": "Sam Palmer", "link": "https://stackoverflow.com/users/950218/sam-palmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 54733362, "answer_count": 2, "score": 4, "last_activity_date": 1550409359, "creation_date": 1550406362, "question_id": 54733228, "link": "https://stackoverflow.com/questions/54733228/regex-find-and-replace-inbetween-latex-enviroment", "title": "Regex find and replace inbetween Latex enviroment", "body": "<p>I'm trying to come up with a regex to use in find and replace so I can find all '(' characters used inside of the align environment.\nExample text: </p>\n\n<pre><code>Lorem Ipsum Lorem Ipsum Lorem Ipsum \nLorem Ipsum Lorem Ipsum (Lorem Ipsum Lorem Ipsum )\nLorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum \n\\begin{align}\n\\frac{d_l}{2}&lt; |\\epsilon_H(g(m))| &lt;\\frac{d_r}{2} \n\\frac{d_l}{2}&lt; |\\epsilon_H(g(m))| &lt;\\frac{d_r}{2} \n\\end{align}\nLorem Ipsum Lorem Ipsum Lorem Ipsum \nLorem Ipsum Lorem Ipsum Lorem Ipsum \n</code></pre>\n\n<p>I then want to find all the '(' inside of <code>\\begin{align}</code> and <code>\\end{align}</code>and NOT inside the main body of text. I so far have the regex:</p>\n\n<pre><code>(?&lt;=\\{align\\})\\s(.*)\\s(.*)\\s(?=\\\\end\\{align\\})\n</code></pre>\n\n<p>but this only finds ALL the text inside the environment and not the individual instances of '('.</p>\n\n<p>(The reason behind this is because I need to go through my whole document and change all the '(' inside the equations to '<code>\\left(</code>' and I don't want to change any parentheses occurring in the text that may be used.)</p>\n"}, {"tags": ["apache", "perl", "wamp", "wampserver"], "comments": [{"owner": {"reputation": 2720, "user_id": 861704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cbO2G.jpg?s=128&g=1", "display_name": "Jigar", "link": "https://stackoverflow.com/users/861704/jigar"}, "edited": false, "score": 2, "creation_date": 1550339787, "post_id": 54724978, "comment_id": 96235997, "body": "Check if this helps. <a href=\"https://stackoverflow.com/questions/2036577/how-do-i-ignore-the-perl-shebang-on-windows-with-apache-2\" title=\"how do i ignore the perl shebang on windows with apache 2\">stackoverflow.com/questions/2036577/&hellip;</a>"}, {"owner": {"reputation": 44407, "user_id": 2377343, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/AiMJg.jpg?s=128&g=1", "display_name": "T.Todua", "link": "https://stackoverflow.com/users/2377343/t-todua"}, "reply_to_user": {"reputation": 2720, "user_id": 861704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cbO2G.jpg?s=128&g=1", "display_name": "Jigar", "link": "https://stackoverflow.com/users/861704/jigar"}, "edited": false, "score": 0, "creation_date": 1550345863, "post_id": 54724978, "comment_id": 96237723, "body": "@Jigar I didn&#39;t even know that was named <code>shebang</code> , thanks !"}, {"owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 1, "creation_date": 1550410167, "post_id": 54724978, "comment_id": 96249882, "body": "What you need to do is simply make your Server ignore the shebang <code>#!C:\\perl\\perl.exe</code>"}, {"owner": {"reputation": 44407, "user_id": 2377343, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/AiMJg.jpg?s=128&g=1", "display_name": "T.Todua", "link": "https://stackoverflow.com/users/2377343/t-todua"}, "reply_to_user": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "edited": false, "score": 0, "creation_date": 1550412552, "post_id": 54724978, "comment_id": 96250431, "body": "@MobrineHayde so, it will use the path whatever is set in Windows automatically (which was created during perl installations), right? thanks!"}], "owner": {"reputation": 44407, "user_id": 2377343, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/AiMJg.jpg?s=128&g=1", "display_name": "T.Todua", "link": "https://stackoverflow.com/users/2377343/t-todua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "closed_date": 1550348114, "answer_count": 0, "score": 0, "last_activity_date": 1550353243, "creation_date": 1550333063, "last_edit_date": 1550353243, "question_id": 54724978, "link": "https://stackoverflow.com/questions/54724978/how-to-automatically-resolve-xyz-extension-files-to-c-perl-perl-exe-with", "closed_reason": "Duplicate", "title": "How to automatically resolve `.xyz` extension files to `#!C:\\perl\\perl.exe` without adding this in first line of them", "body": "<p>On Windiws machine (using Wampserver or whatever, using perl or python), when I use such approach:</p>\n\n<pre><code>#!C:\\perl\\perl.exe \nprint \"hi\"\n</code></pre>\n\n<p>and when I open <code>localhost/file.pl</code> , it works well. But If i remove first line (path to <code>.exe</code>), it doesn't.</p>\n\n<p>Is there any way (either with <code>htaccess</code> or <code>httpd.conf</code>) , so without need of that first line in each <code>.pl</code> file,  they were resolved to that path automatically?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1550397222, "post_id": 54724121, "comment_id": 96246789, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52708109/perl-error-cant-use-definedarray-how-can-i-fix-this\">Perl error, cant use defined(@array). How can i fix this?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 1, "creation_date": 1550328216, "post_id": 54724186, "comment_id": 96232512, "body": "<code>if</code> without parens looks like Perl 6, not Perl 5 syntax. Also, <code>!$initializer</code> is not the same as <code>!defined($initializer)</code>. And <code>exists</code> doesn&#39;t make sense here either."}], "tags": [], "owner": {"reputation": 15, "user_id": 1697581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyySw.jpg?s=128&g=1", "display_name": "aod", "link": "https://stackoverflow.com/users/1697581/aod"}, "is_accepted": false, "score": -2, "last_activity_date": 1550328985, "last_edit_date": 1550328985, "creation_date": 1550327924, "answer_id": 54724186, "question_id": 54724121, "link": "https://stackoverflow.com/questions/54724121/using-a-deprecated-perl-script-to-run-diogenes-how-can-i-rewrite-this-code-for/54724186#54724186", "title": "Using a deprecated perl script to run diogenes, how can i rewrite this code for newer versions?", "body": "<p>Try changing it to <code>exists</code>.</p>\n\n<p>This also works if the purpose is to test for non-emptiness:</p>\n\n<p><code>if (@QUERY_PARAM &amp;&amp; !$initializer) {</code></p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 3303019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221779148b1e878ba618714835509c0?s=128&d=identicon&r=PG&f=1", "display_name": "user3303019", "link": "https://stackoverflow.com/users/3303019/user3303019"}, "edited": false, "score": 0, "creation_date": 1550328618, "post_id": 54724249, "comment_id": 96232622, "body": "This comes up:     &lt;h1&gt;Software error:&lt;/h1&gt;     &lt;pre&gt;Unescaped left brace in regex is illegal here in regex; marked by &amp;lt;-- HERE      in m/xxbeginsamepage(?:\\n\\\\nrm{ &amp;lt;-- HERE } \\n)?/ at      /usr/local/diogenes/perl/Diogenes/Base.pm line 2769.     Compilation failed in require at ./diogenes-server.pl line 52.     BEGIN failed--compilation aborted at ./diogenes-server.pl line 52."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 17, "user_id": 3303019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221779148b1e878ba618714835509c0?s=128&d=identicon&r=PG&f=1", "display_name": "user3303019", "link": "https://stackoverflow.com/users/3303019/user3303019"}, "edited": false, "score": 0, "creation_date": 1550328690, "post_id": 54724249, "comment_id": 96232649, "body": "That&#39;s a different issue/question. Try putting a backslash \\ in front of the <code>{</code> that it is complaining about."}, {"owner": {"reputation": 17, "user_id": 3303019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221779148b1e878ba618714835509c0?s=128&d=identicon&r=PG&f=1", "display_name": "user3303019", "link": "https://stackoverflow.com/users/3303019/user3303019"}, "edited": false, "score": 0, "creation_date": 1550329803, "post_id": 54724249, "comment_id": 96232923, "body": "Sorry, I don&#39;t understand.  This is what comes up now and a buch of other stuff that doesnt&#39; fir in a reply. Should I start a new post?"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 17, "user_id": 3303019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221779148b1e878ba618714835509c0?s=128&d=identicon&r=PG&f=1", "display_name": "user3303019", "link": "https://stackoverflow.com/users/3303019/user3303019"}, "edited": false, "score": 0, "creation_date": 1550330009, "post_id": 54724249, "comment_id": 96232975, "body": "In <code>Diogenes&#47;Base.pm</code>, on line 2769 through 2792, there are several <code>s#SSS#RRR#</code> expressions. In the <code>SSS</code> parts, change any <code>{</code> into <code>\\{</code>. If that still doesn&#39;t help, then yes, post a new question. <i>Update:</i> Sorry, I was mistaken - it&#39;s only that one expression on line 2769 that is an issue, <code>nrm{}</code> should be changed to <code>nrm\\{}</code>."}, {"owner": {"reputation": 17, "user_id": 3303019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221779148b1e878ba618714835509c0?s=128&d=identicon&r=PG&f=1", "display_name": "user3303019", "link": "https://stackoverflow.com/users/3303019/user3303019"}, "edited": false, "score": 0, "creation_date": 1550331043, "post_id": 54724249, "comment_id": 96233326, "body": "That did it! Thank you. This started the server and gave me a url, but doesn&#39;t work. Guess its for another topic."}], "tags": [], "owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "is_accepted": false, "score": 3, "last_activity_date": 1550328305, "creation_date": 1550328305, "answer_id": 54724249, "question_id": 54724121, "link": "https://stackoverflow.com/questions/54724121/using-a-deprecated-perl-script-to-run-diogenes-how-can-i-rewrite-this-code-for/54724249#54724249", "title": "Using a deprecated perl script to run diogenes, how can i rewrite this code for newer versions?", "body": "<p>As documented in <a href=\"http://perldoc.perl.org/functions/defined.html\" rel=\"nofollow noreferrer\"><code>defined</code></a> (and mentioned in the error message), try changing this:</p>\n\n<pre><code>if (defined(@QUERY_PARAM) &amp;&amp; !defined($initializer)) {\n</code></pre>\n\n<p>into this:</p>\n\n<pre><code>if (@QUERY_PARAM &amp;&amp; !defined($initializer)) {\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1550387408, "creation_date": 1550387408, "answer_id": 54730985, "question_id": 54724121, "link": "https://stackoverflow.com/questions/54724121/using-a-deprecated-perl-script-to-run-diogenes-how-can-i-rewrite-this-code-for/54730985#54730985", "title": "Using a deprecated perl script to run diogenes, how can i rewrite this code for newer versions?", "body": "<p>The problem isn't really Diogenes itself. The problem is that Diogenes has packaged up all of the CPAN modules that it uses and that includes a version of CGI.pm from 2004.</p>\n\n<p>That wouldn't be a problem, except that you're running this on a far newer version of Perl - Perl 5.22 or greater. The <a href=\"https://metacpan.org/pod/distribution/perl/pod/perl5220delta.pod\" rel=\"nofollow noreferrer\">perldelta for Perl 5.22</a> includes this:</p>\n\n<blockquote>\n  <p><strong>defined(@array) and defined(%hash) are now fatal errors</strong></p>\n  \n  <p>These have been deprecated since v5.6.1 and have raised deprecation warnings since v5.16.</p>\n</blockquote>\n\n<p>So what's happening here is:</p>\n\n<ul>\n<li>Diogenes includes a really old version of CGI.pm which uses deprecated syntax.</li>\n<li>Diogenes doesn't include a version of the Perl compiler.</li>\n<li>You are now using a version of Perl which has turned this deprecated syntax warning into a fatal error.</li>\n</ul>\n\n<p>It looks like you have three options:</p>\n\n<ul>\n<li>Downgrade to an earlier version of Perl (pre-5.22) which will just warn on this syntax.</li>\n<li>Remove the Diogenes-installed copy of CGI.pm and install a recent version of CGI.pm from CPAN (version 3.60, released in 2012, fixed this bug).</li>\n<li>Hack your Diogenes-installed copy of CGI.pm to replace <code>defined(@QUERY_PARAM)</code> with just <code>@QUERY_PARAM</code>.</li>\n</ul>\n\n<p>In a comment, you mention trying the last suggestion on my list and getting a different problem. It looks like that's also caused by changes in Perl syntax (this time, regex syntax) in the twelve years since Diogenes was last updated. And, of course, it's possible that fixing that will just reveal another, similar, problem.</p>\n\n<p>All in all, it might be worth contacting the author of Diogenes and explaining the problems you're having using the software with modern versions of Perl. Even if the author doesn't have time to fix the problems, it's possible that they could add a warning to the web site, telling people about these problems.</p>\n"}], "owner": {"reputation": 17, "user_id": 3303019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9221779148b1e878ba618714835509c0?s=128&d=identicon&r=PG&f=1", "display_name": "user3303019", "link": "https://stackoverflow.com/users/3303019/user3303019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1551662265, "creation_date": 1550327512, "last_edit_date": 1551662265, "question_id": 54724121, "link": "https://stackoverflow.com/questions/54724121/using-a-deprecated-perl-script-to-run-diogenes-how-can-i-rewrite-this-code-for", "title": "Using a deprecated perl script to run diogenes, how can i rewrite this code for newer versions?", "body": "<p>I've searched a couple of topics about this issue, and in the exact same context (running diogenes on linux) on the following link, but it was closed due to vagueness in the submission: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/40609960/running-old-perl-script-2007/40610611#40610611\">Running old perl script (2007)</a></p>\n\n<p>So, the error message is this:</p>\n\n<pre><code>Can't use 'defined(@array)' (Maybe you should just omit the defined()?) at /usr/local/diogenes/perl/CPAN/CGI.pm line 449.\nCompilation failed in require at ./diogenes-server.pl line 42.\nBEGIN failed--compilation aborted at ./diogenes-server.pl line 42.\n</code></pre>\n\n<p>At line 449 in CGI.pm there is this:</p>\n\n<pre><code>   if (defined(@QUERY_PARAM) &amp;&amp; !defined($initializer)) {\n</code></pre>\n\n<p>So reading up a bit, it seems that this code is wrong and it has been deprecated in newer version of perl. Being Diogenes such an old software it seems correct. So, how can I rewrite this in order to move on.</p>\n\n<p>Lastly, i am following this tutorial on how to run diogenes on linux and have no clue about perl programming:\n<a href=\"http://community.dur.ac.uk/p.j.heslin/Software/Diogenes/linux_install.php\" rel=\"nofollow noreferrer\">http://community.dur.ac.uk/p.j.heslin/Software/Diogenes/linux_install.php</a>.</p>\n\n<p>:)</p>\n"}, {"tags": ["windows", "git", "perl", "svn", "git-svn"], "comments": [{"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 1, "creation_date": 1550314665, "post_id": 54722218, "comment_id": 96229086, "body": "I recently got the same issue on my Windows machine. Even with very small repositories, the process would not get past the &quot;Initialized empty Git repository&quot; line (I let a run for hours overnight). Finally I resorted to do all conversions in a Linux VM, where it worked like a charm."}, {"owner": {"reputation": 57253, "user_id": 947357, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wW1C6.png?s=128&g=1", "display_name": "A.H.", "link": "https://stackoverflow.com/users/947357/a-h"}, "edited": false, "score": 2, "creation_date": 1550317808, "post_id": 54722218, "comment_id": 96229827, "body": "What does <code>git --version</code> say on the working machine and the not working machine?"}, {"owner": {"reputation": 1157, "user_id": 1727039, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xgBkx.png?s=128&g=1", "display_name": "Mr. P", "link": "https://stackoverflow.com/users/1727039/mr-p"}, "edited": false, "score": 0, "creation_date": 1550480264, "post_id": 54722218, "comment_id": 96269228, "body": "Version on working machine is <code>2.18.0.windows.1</code> while on NOT working is <code>2.20.1.windows.1</code> (so newer...). I will install 2.18 on not working machine and let you know if it works."}], "answers": [{"comments": [{"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1550485507, "post_id": 54743785, "comment_id": 96272203, "body": "I too have the problem with <code>2.20.1</code> on Windows."}], "tags": [], "owner": {"reputation": 1157, "user_id": 1727039, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xgBkx.png?s=128&g=1", "display_name": "Mr. P", "link": "https://stackoverflow.com/users/1727039/mr-p"}, "is_accepted": true, "score": 6, "last_activity_date": 1550481691, "last_edit_date": 1550481691, "creation_date": 1550481129, "answer_id": 54743785, "question_id": 54722218, "link": "https://stackoverflow.com/questions/54722218/git-svn-clone-stuck-on-perl-exe/54743785#54743785", "title": "git svn clone stuck on perl.exe", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/users/947357/a-h\">A.H.</a> I have installed version <code>2.18.0</code> and it worked!</p>\n\n<p>It seems that there is some issue with the <code>2.20.1</code> version of Git for Windows which gets stuck on perl.exe. It seems to be connected with <a href=\"https://github.com/git-for-windows/git/issues/1993\" rel=\"noreferrer\">this ticket in github</a> - I have tested <code>2.20.0</code> and it also works fine so the problem is only with the latest Git version.</p>\n"}], "owner": {"reputation": 1157, "user_id": 1727039, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xgBkx.png?s=128&g=1", "display_name": "Mr. P", "link": "https://stackoverflow.com/users/1727039/mr-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 54743785, "answer_count": 1, "score": 5, "last_activity_date": 1550481691, "creation_date": 1550313649, "last_edit_date": 1550317691, "question_id": 54722218, "link": "https://stackoverflow.com/questions/54722218/git-svn-clone-stuck-on-perl-exe", "title": "git svn clone stuck on perl.exe", "body": "<p>I have executed command (Windows 10, Git BASH):</p>\n\n<pre><code>$ git svn clone &lt;svn app-url&gt;/trunk\nInitialized empty Git repository in C:/TEMP/svn-git/trunk/.git/\n</code></pre>\n\n<p>and after it got stuck. No further logs, nothing.</p>\n\n<p>The only thing i can see is that perl.exe is using loads of resources:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tsO5r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tsO5r.png\" alt=\"perl.exe using lots of processor\"></a></p>\n\n<p>I have tried the same command on other windows PC in same network and it worked fine - started to get all revisions from r100 etc and finished in about an hour without problems. </p>\n\n<p>Should I just be patient with this one?</p>\n"}, {"tags": ["perl", "pack", "seek", "unpack"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1550275938, "post_id": 54718573, "comment_id": 96222844, "body": "(1) <a href=\"https://perldoc.perl.org/Benchmark.html\" rel=\"nofollow noreferrer\">Benchmark</a>  and <a href=\"https://perldoc.perl.org/Time/HiRes.html\" rel=\"nofollow noreferrer\">Time::HiRes</a>  (2) What you show is incomparable: in one case you use <code>unpack</code>, in the other you <code>read</code> data; (regardless of buffering) you are comparing in-memory work with disk read? The last sentence is unclear."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1550280547, "post_id": 54718573, "comment_id": 96223639, "body": "Tip: Use <code>x</code> instead of <code>A</code> to skip over bytes without returning them"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1550280642, "post_id": 54718573, "comment_id": 96223649, "body": "Tip: Use <code>a</code> instead of <code>A</code> for binary data. <code>A</code> will remove trailing <code>0x20</code> bytes"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1550285097, "post_id": 54718573, "comment_id": 96224239, "body": "This leaves you with <code>my $data = unpack(&quot;x0x78 a*&quot;, $buf);</code>"}, {"owner": {"reputation": 45, "user_id": 11023814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QQM9P.png?s=128&g=1", "display_name": "SAnji Holic", "link": "https://stackoverflow.com/users/11023814/sanji-holic"}, "edited": false, "score": 0, "creation_date": 1550299576, "post_id": 54718573, "comment_id": 96226056, "body": "wow i first noticed the unpack feature called &#39;x&#39;. Thanks for letting me know"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1550277809, "last_edit_date": 1550277809, "creation_date": 1550277369, "answer_id": 54718735, "question_id": 54718573, "link": "https://stackoverflow.com/questions/54718573/i-wonder-about-the-efficiency-of-seek/54718735#54718735", "title": "I wonder about the efficiency of seek", "body": "<p>The minimum storage unit of a drive is called <a href=\"https://en.wikipedia.org/wiki/Disk_sector\" rel=\"noreferrer\">sector</a>. For hard drives, these are usually 512 bytes in size (though you can also find drives with 4096 byte sectors).</p>\n\n<p>Your file spans two sectors.</p>\n\n<pre><code>000  078       200   278      400\n+--------------+--------------+---...\n|    ****************\n+--------------+--------------+---...\n</code></pre>\n\n<p>And since the block of interest is partly in the first sector, the same amount of sectors will need to be read by both of the approaches you described.</p>\n\n<p>Since actually reading the data from disk is the slow part, there's no real difference between the two approaches.</p>\n\n<hr>\n\n<p>Oh, but you're buffered IO instead of using <code>sysread</code>. When using buffered IO (e.g. <code>read</code>), Perl reads from the OS in 4 KiB or 8 KiB chunks (depending on your version of Perl). So 8 or 16 sectors are loaded from the disk if you start reading at position 0, and 9 or 17 sectors are loaded from the disk if you <code>seek</code> first. So by trying to read less, you are actually reading more!</p>\n\n<p>That said, the difference is small enough that the speed difference should be lost in the noise.</p>\n"}], "owner": {"reputation": 45, "user_id": 11023814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QQM9P.png?s=128&g=1", "display_name": "SAnji Holic", "link": "https://stackoverflow.com/users/11023814/sanji-holic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 54718735, "answer_count": 1, "score": 0, "last_activity_date": 1550277809, "creation_date": 1550275466, "question_id": 54718573, "link": "https://stackoverflow.com/questions/54718573/i-wonder-about-the-efficiency-of-seek", "title": "I wonder about the efficiency of seek", "body": "<p>I m currently studying the PE structure. \nI am trying to parse this using perl instead of C.</p>\n\n<p>This is not an important thing, but if you read a binary file, you have to jump to a certain section. (For example, to read e_lfanew)</p>\n\n<p>I want to read the data at the point 0x78, which is read by $buf with 0x200 data.</p>\n\n<p>Here are two ways I thought to extract the data at 0x78.</p>\n\n<pre><code>my ($ dummy, $ data) = unpack (\"A0x78 A*\", $buf);\nor\nseek (F, 0x78,0); read F, $buf, 0x200; print ~\n</code></pre>\n\n<p>I want to know which of the two methods is more effective than subtracting dummy data and reading data and reading new data through seek.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 1, "creation_date": 1550269614, "post_id": 54717838, "comment_id": 96221465, "body": "I&#39;m trying to follow the code and goals, enough to reformat them readably, but I&#39;m failing to understand enough of what you&#39;re trying to ask to reformat it, let alone answer it. Can you try to format your question a bit better so that we can tell what is code, what is sample text, and what the question is?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1550269869, "post_id": 54717838, "comment_id": 96221536, "body": "Are you looking for <code>&#47;^identifier cust_pri$&#47;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1550301311, "post_id": 54717907, "comment_id": 96226320, "body": "Also, there&#39;s the word boundary <code>\\b</code> that might be helpful."}, {"owner": {"reputation": 1, "user_id": 11069453, "user_type": "registered", "profile_image": "https://graph.facebook.com/2379563238723936/picture?type=large", "display_name": "Guy DuBoice", "link": "https://stackoverflow.com/users/11069453/guy-duboice"}, "edited": false, "score": 0, "creation_date": 1550512441, "post_id": 54717907, "comment_id": 96287661, "body": "The $ sign at the end of the range worked.  Thank you"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1550269933, "creation_date": 1550269933, "answer_id": 54717907, "question_id": 54717838, "link": "https://stackoverflow.com/questions/54717838/perl-range-command-mismatching-similar-strings-with-one-ending-in-a-carriage-ret/54717907#54717907", "title": "Perl Range command mismatching similar strings with one ending in a carriage return", "body": "<p>You can explicitly exclude _sip with <code>/^ identifier cust_pri(?!_sip)/</code> or you can say cust_pri has to be at the end of the line with nothing after it with <code>/^ identifier cust_pri$/</code></p>\n"}], "owner": {"reputation": 1, "user_id": 11069453, "user_type": "registered", "profile_image": "https://graph.facebook.com/2379563238723936/picture?type=large", "display_name": "Guy DuBoice", "link": "https://stackoverflow.com/users/11069453/guy-duboice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550301255, "creation_date": 1550269437, "last_edit_date": 1550301255, "question_id": 54717838, "link": "https://stackoverflow.com/questions/54717838/perl-range-command-mismatching-similar-strings-with-one-ending-in-a-carriage-ret", "title": "Perl Range command mismatching similar strings with one ending in a carriage return", "body": "<p>The range command in Perl </p>\n\n<pre><code>RANGE\n/^        identifier                              cust_pri/ .. /addr-type-none/\n</code></pre>\n\n<p>matches on strings with <code>cust_pri</code> and <code>cust_pri_sip</code> where a carriage return is immediately after the string <code>cust_pri</code> (and <code>cust_pri_sip</code>). I don't want a match on <code>cust_pri_sip</code> but only on <code>cust_pri</code>.</p>\n\n<p>I tried putting in <code>\\r\\n</code> and both individually to no avail. Is there a string or metachar I can put into the end of perl range to help differentiate the two strings?</p>\n\n<p>I need to look at data for both types of interfaces but on the first range command it is also collecting the data the second range command is also collecting (<code>cust_pri_sip</code>) causing my first script to error out. The second works find. I cannot change the input data and I need a way to differentiate the two.</p>\n\n<p>This is a sub script of the main Perl program</p>\n\n<pre><code>WIDTH = 65\n\nDIRECTORY = /home/myfiles/\n\nMASTER Config Lines\n\n        identifier                              cust_pri\n        description                             *\n        addr prefix                             0.0.0.0\n        network interfaces                      M00|1:\\d*\n        tcp media profile\n        monitoring filters\n        node functionality\n        default location string\n        alt family realm\n        addr-type-none\n\n\nRANGE\n/^        identifier                              cust_pri/ .. /addr-type-none/\n#\n</code></pre>\n\n<p>There is another sub script that is similar to above </p>\n\n<pre><code>RANGE\n/^        identifier                              cust_pri_sip/ .. /addr-type-none/\n</code></pre>\n\n<p>The first script also collects the data of both scripts because it matches.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 1, "creation_date": 1550261433, "post_id": 54716378, "comment_id": 96218554, "body": "Where exactly do you have problems understanding? Does reading <a href=\"http://perldoc.perl.org/functions/bless.html\" rel=\"nofollow noreferrer\">bless</a> help?"}, {"owner": {"reputation": 13, "user_id": 9609987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1038d90fc11be00bb3436c04498ecf34?s=128&d=identicon&r=PG&f=1", "display_name": "impact", "link": "https://stackoverflow.com/users/9609987/impact"}, "reply_to_user": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1550261531, "post_id": 54716378, "comment_id": 96218589, "body": "@Corion - Sorry, I have updated my question."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1550267342, "post_id": 54716535, "comment_id": 96220728, "body": "++ It may be useful to expand on the arguments to the <code>new()</code> call, by adding a second key/value pair, as well as a brief explanation that once the class has been shifted off, all of the other items (comma-separated list) are put into the hash that&#39;s then blessed."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1550268957, "post_id": 54716535, "comment_id": 96221252, "body": "I would add a comment on why the package name (<code>My::Class</code>) is there, and that in non-OO code it isn&#39;t.  This is in fact not mentioned anywhere on this page and may confuse readers.  (It could be what the question is about?)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1550269710, "last_edit_date": 1550269710, "creation_date": 1550262230, "answer_id": 54716535, "question_id": 54716378, "link": "https://stackoverflow.com/questions/54716378/perl-help-understanding-class-declaration-code/54716535#54716535", "title": "Perl, Help understanding Class declaration code", "body": "<p><code>@_</code> contains the arguments of the subroutine. If you call</p>\n\n<pre><code>my $object = My::Class-&gt;new( x =&gt; 7, y =&gt; 12 );\n</code></pre>\n\n<p>(which is the most common way to call a constructor) the subroutine <code>My::Class::new</code> will be called with five arguments:</p>\n\n<pre><code>'My::Class', 'x', 7, 'y', 12\n</code></pre>\n\n<p>so <code>$class</code> will become 'My::Class' and <code>%ar</code> will contain two keys, <code>x</code> with the value of 7, and <code>y</code> with the value of 12.</p>\n\n<p><a href=\"http://p3rl.org/bless\" rel=\"nofollow noreferrer\">bless</a> will then associate the reference to <code>%ar</code> with the class, i.e. make it an object of the class. The object will therefore be a reference like</p>\n\n<pre><code>{ x =&gt; 7, y =&gt; 12 }\n</code></pre>\n\n<p>blessed to <code>My::Class</code>.</p>\n\n<p>The syntax <code>Class-&gt;method</code> is similar to calling an instance method</p>\n\n<pre><code>$object-&gt;proceed($z);\n</code></pre>\n\n<p>when the <code>proceed</code> subroutine will be called with two arguments, <code>$object</code> and <code>$z</code>. What class the subroutine comes from depends on what class the <code>$object</code> has been blessed to (i.e. it could be the <code>$object</code>'s class or its parent or its grandparent...)</p>\n"}], "owner": {"reputation": 13, "user_id": 9609987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1038d90fc11be00bb3436c04498ecf34?s=128&d=identicon&r=PG&f=1", "display_name": "impact", "link": "https://stackoverflow.com/users/9609987/impact"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550269710, "creation_date": 1550261391, "last_edit_date": 1550261517, "question_id": 54716378, "link": "https://stackoverflow.com/questions/54716378/perl-help-understanding-class-declaration-code", "title": "Perl, Help understanding Class declaration code", "body": "<p>I am creating a class, and I am trying to understand the following code</p>\n\n<pre><code>sub new {\n    my ($class, %ar) = @_;\n\n    return bless \\%ar, $class;\n}\n</code></pre>\n\n<p>I am specifically looking at the code inside of the block.</p>\n\n<pre><code>my($class, %ar) = @_;\n</code></pre>\n\n<p>I know that %ar are the arguments passed to the class, but i do not understand what this statement means.</p>\n\n<p>Can someone explain what this code means and what it does?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 5, "creation_date": 1550249908, "post_id": 54713783, "comment_id": 96213387, "body": "Use <code>Text::CSV</code> or another CSV module."}], "answers": [{"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 9, "last_activity_date": 1550252367, "creation_date": 1550252367, "answer_id": 54714454, "question_id": 54713783, "link": "https://stackoverflow.com/questions/54713783/split-a-comma-separated-list-where-commas-in-text-arent-escaped/54714454#54714454", "title": "Split a comma separated list where commas in text aren&#39;t escaped", "body": "<p>Quick example of <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"noreferrer\">Text::CSV</a> usage with reading from a string:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw/say/;\nuse Text::CSV;\n\nmy $str = q/01320   2,35,6,\"warm,windy\"/;\n\nmy $csv = Text::CSV-&gt;new({auto_diag =&gt; 2});\n\nmy @fields = split \" \", $str, 2;\n\nsay '$fields[0] is ', $fields[0];\nsay '$fields[1] is ', $fields[1];\n\nsay 'Parsed out $fields[1] is:';\n$csv-&gt;parse($fields[1]);\nsay for $csv-&gt;fields;\n</code></pre>\n\n<p>Running this will produce:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$fields[0] is 01320\n$fields[1] is 2,35,6,\"warm,windy\"\nParsed out $fields[1] is:\n2\n35\n6\nwarm,windy\n</code></pre>\n\n<p>This is a non-core module, so you'll have to install it with your favorite CPAN client or your OS's package manager. If doing so doesn't automatically also install <a href=\"https://metacpan.org/pod/Text::CSV_XS\" rel=\"noreferrer\">Text::CSV_XS</a>, you'll probably want to do so as well to get an optimized implementation that <code>Text::CSV</code> with automatically use if present.</p>\n"}, {"tags": [], "owner": {"reputation": 207, "user_id": 11021008, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d0HgPjP-Emg/AAAAAAAAAAI/AAAAAAAAAAc/7RZsVYIN2Po/photo.jpg?sz=128", "display_name": "Free Code", "link": "https://stackoverflow.com/users/11021008/free-code"}, "is_accepted": false, "score": -1, "last_activity_date": 1550351884, "last_edit_date": 1550351884, "creation_date": 1550314713, "answer_id": 54722334, "question_id": 54713783, "link": "https://stackoverflow.com/questions/54713783/split-a-comma-separated-list-where-commas-in-text-arent-escaped/54722334#54722334", "title": "Split a comma separated list where commas in text aren&#39;t escaped", "body": "<p>In your case I will use regexp and check the group that I need, this is an example I hope it will help you</p>\n\n<pre><code>use warnings;\nuse strict;\nmy $string = '01320 2,35,6,\"warm,windy\"';\n\nif ($string =~ /^(\\d+)\\t(\\d+),{1}(\\d+),{1}(\\d+),{1}(\\S+)$/gu) {\n        print \"$1\\n$2\\n$3\\n$4\\n$5\\n\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1940, "user_id": 169287, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1158b3457e0e53861ba6ee1aac772c39?s=128&d=identicon&r=PG", "display_name": "Derek", "link": "https://stackoverflow.com/users/169287/derek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1550351884, "creation_date": 1550249642, "question_id": 54713783, "link": "https://stackoverflow.com/questions/54713783/split-a-comma-separated-list-where-commas-in-text-arent-escaped", "title": "Split a comma separated list where commas in text aren&#39;t escaped", "body": "<p>I'm working with legacy data which is usually in the format:</p>\n\n<pre><code>QID    RESPONSE\n</code></pre>\n\n<p>However on some occasions the response contains multiple values of different types:</p>\n\n<pre><code>01320   2,35,6,\"warm\"\n</code></pre>\n\n<p>I have tried using </p>\n\n<pre><code>my @dataRowAsList = split('\\t', $_); \nmy $questionID = $dataRowAsList[0];     \nmy $response = substr($dataRowAsList[1],0,-2);\nmy @thisResponse = split(',', $response);\n</code></pre>\n\n<p>on relevant cases to split the output into question and response and then each response into component parts</p>\n\n<p>However I've just discovered this type of case: </p>\n\n<pre><code>01320   2,35,6,\"warm,windy\"\n</code></pre>\n\n<p>The comma in quotes is not escaped</p>\n\n<p>Is there a neat way to parse this into its components?</p>\n\n<pre><code>2\n35\n6\n\"warm,windy\"\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 143, "user_id": 5300462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/868114835114f81f4f4e0ead28a6181e?s=128&d=identicon&r=PG&f=1", "display_name": "John D", "link": "https://stackoverflow.com/users/5300462/john-d"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1550236853, "post_id": 54709996, "comment_id": 96205809, "body": "Thanks. I was using notepad++ with utf-8.  I copied the script from a kindle ebook and it must have come in with some strange encoding. Typed it out manually and it works."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550255705, "post_id": 54709996, "comment_id": 96216154, "body": "Looks like  <code>$format</code> has <code>U+2212 \u2212 MINUS SIGN</code> instead of <code>U+002D - HYPHEN-MINUS</code>. The joys of Unicode :-)"}], "answers": [{"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": true, "score": 4, "last_activity_date": 1550236606, "creation_date": 1550236606, "answer_id": 54710195, "question_id": 54709996, "link": "https://stackoverflow.com/questions/54709996/perl-hash-dereferencing/54710195#54710195", "title": "Perl hash dereferencing", "body": "<p>Are you using word as your editor? I say this because it looks like your format is using n-dash or m-dash instead of - and word will do this automatically. Get hold of notpad++ and use that as your editor.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3268346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a20039b012f998cd58f89d39cdeb660?s=128&d=identicon&r=PG&f=1", "display_name": "user3268346", "link": "https://stackoverflow.com/users/3268346/user3268346"}, "is_accepted": false, "score": 0, "last_activity_date": 1550244899, "last_edit_date": 1550244899, "creation_date": 1550244362, "answer_id": 54712374, "question_id": 54709996, "link": "https://stackoverflow.com/questions/54709996/perl-hash-dereferencing/54712374#54712374", "title": "Perl hash dereferencing", "body": "<p>I used NotePad++ to paste and save. The code worked as-is for me with no changes.</p>\n\n<p>If you take the current code and paste it into MS Word, it will look normal. Save it and open in Notepad++. You'll see that</p>\n\n<pre><code>my $format = \"%-15s %-7s %-7s %-15s\\n\";\n</code></pre>\n\n<p>is changed to</p>\n\n<pre><code>my $format = \"%?15s %?7s %?7s %?15s\\n\";\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 5300462, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/868114835114f81f4f4e0ead28a6181e?s=128&d=identicon&r=PG&f=1", "display_name": "John D", "link": "https://stackoverflow.com/users/5300462/john-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 54710195, "answer_count": 2, "score": 1, "last_activity_date": 1550245563, "creation_date": 1550235909, "last_edit_date": 1550245563, "question_id": 54709996, "link": "https://stackoverflow.com/questions/54709996/perl-hash-dereferencing", "title": "Perl hash dereferencing", "body": "<p>I am working through Intermediate Perl by brian d foy (2nd ed). I'm on the section dealing with references to hashes. I have run one of the scripts in Strawberry Perl and I'm not sure I'm getting the intended results. the script is:</p>\n\n<pre><code> my %gilligan_info = (\n  name     =&gt; 'Gilligan',\n  hat      =&gt; 'White',\n  shirt    =&gt; 'Red',\n  position =&gt; 'First Mate',\n);\nmy %skipper_info = (\n  name     =&gt; 'Skipper',\n  hat      =&gt; 'Black',\n  shirt    =&gt; 'Blue',\n  position =&gt; 'Captain',\n);\nmy @crew = (\\%gilligan_info, \\%skipper_info);\n\nmy $format = \"%\u221215s %\u22127s %\u22127s %\u221215s\\n\";\nprintf $format, qw(Name Shirt Hat Position);\nfor my $crewmember (@crew) {\n  printf $format, @$crewmember{qw(name shirt hat position)};\n}\n</code></pre>\n\n<p>The output I am seeing is </p>\n\n<p><a href=\"https://i.stack.imgur.com/WKbMJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WKbMJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I thought this example was going to show actual values, but I am just seeing memory addresses (I think)..</p>\n\n<p>Can somebody please advise\nthanks\nJohn</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 1, "creation_date": 1550253594, "post_id": 54709235, "comment_id": 96215181, "body": "The 2nd regex does not match your description, i.e. it is broken and will mismatch."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550254574, "post_id": 54709235, "comment_id": 96215594, "body": "@StefanBecker Indeed, and I must take the blame: I offered that line, with that blooper (was meant to be literal period, <code>\\.</code>), in a <a href=\"https://chat.stackoverflow.com/rooms/188330/discussion-between-cherry-and-zdim\">discussion</a> following <a href=\"https://stackoverflow.com/a/54664459/4653379\">an answer</a>.  It also needs a quantifier on the last character class ..."}, {"owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550338302, "post_id": 54709235, "comment_id": 96235572, "body": "@zdim I am not clear about that expression that&#39;s why i have asked that question for the suggestion.Is that anything hurt you,friend?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1550347257, "post_id": 54709235, "comment_id": 96238083, "body": "Hum?  No, no hurt -- good that you asked about something that wasn&#39;t clear! I am glad to see that!  (I don&#39;t think that the question should&#39;ve been closed.)  I was just confirming the observation about missing bits (<code>.</code> instead of <code>\\.</code>, and then the quantifier <code>*</code>).  It&#39;s all good."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1550365738, "post_id": 54709235, "comment_id": 96241956, "body": "Btw, when you want one of each (<code>.</code> and <code>&#47;</code>), there&#39;s a simpler way using transliteration operator (look it up <a href=\"https://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">in perlop</a>):  <code>if (1 == $v =~ tr{.}{} and 1 == $v =~ tr{&#47;}{})</code>. It changes the character (literal characters only, no variables, escapes or such) and returns the number of times it did this in the string.  Counts it, in other words, and you can tests that it&#39;s exactly 1."}], "answers": [{"tags": [], "owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "is_accepted": false, "score": 1, "last_activity_date": 1550233828, "creation_date": 1550233828, "answer_id": 54709448, "question_id": 54709235, "link": "https://stackoverflow.com/questions/54709235/strange-regular-expression/54709448#54709448", "title": "Strange regular expression", "body": "<p>The first expresion: m matches { opens expresion ^ first of line, [^/]* any character not '/' 0 or more times, '/' literal '/', again [^/]*, $ end of line, } closes the expresion.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1550255081, "post_id": 54709512, "comment_id": 96215850, "body": "Note the observation that in the second regex the <code>.</code> should be <code>\\.</code> and the character class should have a <code>*</code>.  Not the point of the answer but perhaps add a note for completeness?"}], "tags": [], "owner": {"reputation": 8506, "user_id": 10808674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j1tGB.jpg?s=128&g=1", "display_name": "Alain Merigot", "link": "https://stackoverflow.com/users/10808674/alain-merigot"}, "is_accepted": false, "score": 10, "last_activity_date": 1550235063, "last_edit_date": 1550235063, "creation_date": 1550234039, "answer_id": 54709512, "question_id": 54709235, "link": "https://stackoverflow.com/questions/54709235/strange-regular-expression/54709512#54709512", "title": "Strange regular expression", "body": "<pre><code>if($fp =~ m{^[^/]*/[^/]*$} and $fp =~ m{^[^.]*.[^.]$}) {\n            ^\\ / ^^\\ / ^^\n            | |  || |  ||\n------------- |  || |  ||\nbegin line    |  || |  ||\n---------------  || |  ||\nany char but /   || |  ||\n------------------| |  ||\nzero or more      | |  ||\n------------------  |  ||\none /               |  ||\n---------------------  ||\nany char but /         ||\n------------------------|\nzero or more            |\n------------------------|\nend of line\n</code></pre>\n\n<p>So it search</p>\n\n<ul>\n<li><p>begin or line (^),</p></li>\n<li><p>followed by zero or more occurrence (*) of any char but / ([^/])</p></li>\n<li><p>followed by a /</p></li>\n<li><p>followed by zero or more occurrence (*) of any char but / ([^/])</p></li>\n<li><p>followed by end of line ($)</p></li>\n</ul>\n\n<p>The \".\" search is similar and the 'if' triggers if both are true.</p>\n\n<p>Note that <code>[...]</code> searches a char in a range. For instance <code>[abc]</code> searches either a 'a', a 'b', or a 'c'. If first char is '^' test is reversed and <code>[^/]</code> is any char, but '/'.</p>\n"}, {"tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 2, "last_activity_date": 1550254764, "last_edit_date": 1550254764, "creation_date": 1550253549, "answer_id": 54714741, "question_id": 54709235, "link": "https://stackoverflow.com/questions/54709235/strange-regular-expression/54714741#54714741", "title": "Strange regular expression", "body": "<p>While the previous answers are correct in explaining the regex, they do fail to point out that the 2nd regex is actually broken. As written it will match</p>\n\n<ul>\n<li>start of line</li>\n<li>followed by zero-or-more non-<code>.</code> (dot) characters</li>\n<li>followed by <em>ANY</em> character, except <code>\\n</code></li>\n<li>followed by <em>ONE</em> non-<code>.</code> (dot) character</li>\n<li>end of line</li>\n</ul>\n\n<p>Proof:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ echo \"This should NOT match\" | perl -ne 'print if m{^[^.]*.[^.]$}'\nThis should NOT match          &lt;--- INCORRECT MATCH\n$ echo \"This should. match\"    | perl -ne 'print if m{^[^.]*.[^.]$}'\n                               &lt;--- INCORRECT MIS-MATCH\n$ echo \"This should match.!\"   | perl -ne 'print if m{^[^.]*.[^.]$}'\nThis should match.!            &lt;-- CORRECT (by luck)\n$ echo \"This should match.\"    | perl -ne 'print if m{^[^.]*.[^.]$}'\nThis should match.             &lt;-- CORRECT\n</code></pre>\n\n<p>Correct would be</p>\n\n<ul>\n<li>the <code>.</code> needs to be escaped (<code>\\.</code>)</li>\n<li>the 2nd character class needs a <code>*</code></li>\n</ul>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ echo \"This should NOT match\" | perl -ne 'print if m{^[^.]*\\.[^.]*$}'\n                               &lt;-- CORRECT\n$ echo \"This should. match\"    | perl -ne 'print if m{^[^.]*\\.[^.]*$}'\nThis should. match             &lt;-- CORRECT\n$ echo \"This should match.!\"   | perl -ne 'print if m{^[^.]*\\.[^.]*$}'\nThis should match.!            &lt;-- CORRECT\n$ echo \"This should match.\"    | perl -ne 'print if m{^[^.]*\\.[^.]*$}'\nThis should match.             &lt;-- CORRECT\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 10782176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf99d5611f25e7124a2eb47c7cfd011?s=128&d=identicon&r=PG&f=1", "display_name": "Crazy coder", "link": "https://stackoverflow.com/users/10782176/crazy-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 1, "closed_date": 1550267928, "answer_count": 3, "score": 0, "last_activity_date": 1550337940, "creation_date": 1550233115, "last_edit_date": 1550337940, "question_id": 54709235, "link": "https://stackoverflow.com/questions/54709235/strange-regular-expression", "closed_reason": "Needs more focus", "title": "Strange regular expression", "body": "<p>This regular expression will match exactly one <code>/</code>  and one <code>.</code> in a line. But why is it matching? Can anyone explain to me each characters role in this regular expression clearly? </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>if ($fp =~ m{^[^/]*/[^/]*$} and $fp =~ m{^[^.]*.[^.]$})\n{\n    print $fp;\n}\n</code></pre>\n"}, {"tags": ["perl", "canvas", "gtk"], "comments": [{"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 1, "creation_date": 1550230358, "post_id": 54705687, "comment_id": 96202318, "body": "I couldn&#39;t not fix it because the polyline doesn&#39;t show no matter what I do, but I don&#39;t get the error you said."}, {"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 1, "creation_date": 1550237614, "post_id": 54705687, "comment_id": 96206259, "body": "Are you sure Goo::Canvas supports Gtk3 ?"}, {"owner": {"reputation": 165, "user_id": 6920800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8aad840893bf8dddaa9bae758c57b78?s=128&d=identicon&r=PG&f=1", "display_name": "lesrol", "link": "https://stackoverflow.com/users/6920800/lesrol"}, "edited": false, "score": 0, "creation_date": 1550239743, "post_id": 54705687, "comment_id": 96207483, "body": "clamp: Line 7 requires GooCavas &quot; version =&gt; &#39;2.0&#39; &quot;, which is apparently the correct one for Gtk3. In the script above, I have already tried replacing the Goo::Canvas module with the GooCanvas2 module, with the same result."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1550246947, "creation_date": 1550246947, "answer_id": 54713063, "question_id": 54705687, "link": "https://stackoverflow.com/questions/54705687/cant-draw-lines-in-goocanvas/54713063#54713063", "title": "Can&#39;t draw lines in GooCanvas", "body": "<blockquote>\n  <p><code>my $points = Goo::CanvasPoints-&gt;new( $pts_ref );</code></p>\n</blockquote>\n\n<p>According to <a href=\"https://developer.gnome.org/goocanvas2/stable/goocanvas2-GooCanvas-Types.html#goo-canvas-points-new\" rel=\"nofollow noreferrer\">the documentation</a> the constructor should take <em>the number of points</em> to reserve, not the reference to the points array. So you could try:</p>\n\n<pre><code>[...]\n# first point set\nmy $pts_ref = [50,50,180,120,90,100,50,50];\nmy $num_points = (scalar @$pts_ref)/2;\nmy $points = Goo::CanvasPoints-&gt;new( $num_points );\n\n# Set the points:\nmy $j = 0;\nfor my $i (0..($num_points -1)) {\n    my $x = $pts_ref-&gt;[$j];\n    my $y = $pts_ref-&gt;[$j+1];\n    $points-&gt;set_point($i, $x, $y);\n    $j += 2;\n}\n[...]\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 6920800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8aad840893bf8dddaa9bae758c57b78?s=128&d=identicon&r=PG&f=1", "display_name": "lesrol", "link": "https://stackoverflow.com/users/6920800/lesrol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1550246947, "creation_date": 1550221154, "question_id": 54705687, "link": "https://stackoverflow.com/questions/54705687/cant-draw-lines-in-goocanvas", "title": "Can&#39;t draw lines in GooCanvas", "body": "<p>In a Perl/Gtk3 script and using GooCanvas, I can easily draw a rectangle, or an ellipsis, or whatever, but it seems to be impossible to draw a simple line.</p>\n\n<p>Lines are drawn with a call to Goo::CanvasPolyline->new(). The line's coordinates a specified by a call to Goo::CanvasPoints->new(), but that call creates the following error:</p>\n\n<pre><code>GLib-ERROR **: ../../../../glib/gmem.c:105: failed to allocate 18446744069314558208 bytes at /usr/lib/x86_64-linux-gnu/perl5/5.26/Glib/Object/Introspection.pm line 67.\nAborted (core dumped)\n</code></pre>\n\n<p>I've tried the Perl module Goo::Canvas and the more modern GooCanvas2; both produce the same error.</p>\n\n<p>I wasn't able to find any working code examples; merely the non-working script below, which Google found on $RANDOM_WEBSITE.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse Gtk3 -init;\n\nGlib::Object::Introspection-&gt;setup(basename =&gt; 'GooCanvas', version =&gt; '2.0', package =&gt; 'Goo');\n\n\nmy $window = Gtk3::Window-&gt;new('toplevel');\n$window-&gt;signal_connect('delete_event' =&gt; sub { Gtk2-&gt;main_quit; });\n$window-&gt;set_size_request(640, 600);\n$window-&gt;set_title(\"Gtk3 GooCanvas with Perl Gobject Introspection\");\n$window-&gt;signal_connect(destroy =&gt; sub { Gtk3-&gt;main_quit });\n\nmy $swin = Gtk3::ScrolledWindow-&gt;new;\n$swin-&gt;set_shadow_type('in');\n$window-&gt;add($swin);\n\nmy $canvas = Goo::Canvas-&gt;new; # Gobject Introspection of Gtk3 Goo version\n$canvas-&gt;set_size_request(800, 650);\n$canvas-&gt;set_bounds(0, 0, 1000, 1000);\n$swin-&gt;add($canvas);\nmy $root = $canvas-&gt;get_root_item();\n\n# first point set\nmy $pts_ref = [50,50,180,120,90,100,50,50];\n\nmy $points = Goo::CanvasPoints-&gt;new(\n         $pts_ref,\n         );\n\nmy $line = Goo::CanvasPolyline-&gt;new(\n   'parent' =&gt; $root,\n   'close-path' =&gt; 0,\n   'points' =&gt; $points, #in Gtk2 could just use $pts_ref\n   'stroke-color' =&gt; 'black',\n   'line-width' =&gt; 3,\n);\n\n\nmy $ellipse = Goo::CanvasEllipse-&gt;new(\n   'parent' =&gt; $root,\n   'center-x' =&gt; 20,  \n   'center-y' =&gt; 20,  \n   'width'  =&gt;  +60,\n   'height' =&gt;  +60,  \n   'stroke-color' =&gt; 'goldenrod',\n   'line-width' =&gt; 8,\n   'fill-color-rgba' =&gt; 0x3cb37180,\n);\n\n\n$root-&gt;translate(200,200);\n\n$window-&gt;show_all();\nGtk3-&gt;main;\n__END__ \n</code></pre>\n"}, {"tags": ["json", "perl", "unicode", "utf-8"], "comments": [{"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550218745, "post_id": 54704992, "comment_id": 96195979, "body": "Use <code>new JSON-&gt;utf8-&gt;encode(\\@retarray)</code> instead?"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550218915, "post_id": 54704992, "comment_id": 96196045, "body": "Oh wait in what format do you get the UTF-8 strings in the DB query? UTF-8 encoded? Then you probably need to <code>utf8::decode($hashref-&gt;{featurename})</code> first!"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 1, "creation_date": 1550220744, "post_id": 54704992, "comment_id": 96196840, "body": "I retracted my answer. It is obviously impossible to write test code that show the correct behavior without the <b>exact</b> input string. I.e. you question is missing the exact contents of <code>$hashref-&gt;{featurename}</code>. Is it an octet string with encoded UTF-8? Is it a string in the internal Perl representation. i.e. UTF-8 decoded? Note that this can change depending if an operation is executed under <code>use utf8;</code>or <code>no utf8;</code>."}, {"owner": {"reputation": 53, "user_id": 6649756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966e4ad5f8afe6db3d41d6d8b4f499?s=128&d=identicon&r=PG&f=1", "display_name": "Sally Goldin", "link": "https://stackoverflow.com/users/6649756/sally-goldin"}, "reply_to_user": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550223020, "post_id": 54704992, "comment_id": 96198107, "body": "Hello Stefan... How can I tell the &quot;exact input string&quot; format, please? (All operations are executed under &#39;use utf8;&#39;) When I print the string to a file then view in a terminal with UTF8 encoding set, the Thai characters render correctly. This is true both when I display the info after retrieving from the DB and also after the encode_json operation."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550224958, "post_id": 54704992, "comment_id": 96199280, "body": "Please see the updated answer I have posted for some example code. For your code it will be important to know if a scalar string value returned by DBI <code>fetchrow*</code> is a raw octet string (-&gt; needs decoding) or a Perl string (-&gt; already decoded)."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 1, "creation_date": 1550248372, "post_id": 54704992, "comment_id": 96212597, "body": "Just stumbled over <a href=\"https://stackoverflow.com/a/6163129/8866606\">Tom Christiansen&#39;s answer</a>. Probably recommended primer if you do anything with Unicode/UTF-8 on Perl."}, {"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 1, "creation_date": 1550259194, "post_id": 54704992, "comment_id": 96217613, "body": "Did you configure your db connection ? <code>SET client_encoding TO &#39;UTF-8&#39;</code>"}, {"owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "edited": false, "score": 1, "creation_date": 1550259595, "post_id": 54704992, "comment_id": 96217772, "body": "Depending on your DBD::Pg version you also might need to set <code>$dh-&gt;{pg_enable_utf8}=1</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 3, "last_activity_date": 1550248254, "last_edit_date": 1550248254, "creation_date": 1550224510, "answer_id": 54706721, "question_id": 54704992, "link": "https://stackoverflow.com/questions/54704992/perl-generated-utf8-strings-in-json-corrupted-on-client-side/54706721#54706721", "title": "Perl-generated UTF8 strings in JSON corrupted on client side", "body": "<p><strong>NOTE:</strong> you should probably also read this <a href=\"https://stackoverflow.com/a/6163129/8866606\">answer</a>, which makes my answer sub-par in comparison :-)</p>\n\n<p>The problem is that you have to be sure in which format each string is, otherwise you'll get incorrect conversions. When handling UTF-8 a string can be in two formats:</p>\n\n<ul>\n<li>raw UTF-8 encoded octet string, i.e. <code>\\x{100}</code> represented as two octets <code>0xC4 0x80</code></li>\n<li>internal Perl string representation, i.e. one Unicode <em>character</em> <code>\\x{100}</code> (<a href=\"https://unicode.org/charts/PDF/U0100.pdf\" rel=\"nofollow noreferrer\">U+0100 \u0100 LATIN CAPITAL LETTER A WITH MACRON</a>)</li>\n</ul>\n\n<p>If I/O is involved you also need to know if the I/O layer does UTF-8 de/encoding or not. For terminal I/O you also have to consider if it understands UTF-8 or not. Both taken together can make it difficult to get meaningful debug printouts from your code.</p>\n\n<p>If you Perl code needs to process UTF-8 strings after reading them from the source, you must make sure that they are in internal Perl format. Otherwise you'll get surprising result when you call code that expects Perl strings and not raw octet strings.</p>\n\n<p>I try to show this in my example code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse JSON;\n\nopen(my $utf8_stdout, '&gt;&amp; :encoding(UTF-8)', \\*STDOUT)\n    or die \"can't reopen STDOUT as utf-8 file handle: $!\\n\";\n\nmy $hex = \"C480\";\nprint \"${hex}\\n\";\n\nmy $raw = pack('H*', $hex);\nprint STDOUT       \"${raw}\\n\";\nprint $utf8_stdout \"${raw}\\n\";\n\nmy $decoded;\nutf8::decode($decoded = $raw);\nprint STDOUT       ord($decoded), \"\\n\";\nprint STDOUT       \"${decoded}\\n\"; # Wide character in print at...\nprint $utf8_stdout \"${decoded}\\n\";\n\nmy $json = JSON-&gt;new-&gt;encode([$decoded]);\nprint STDOUT       \"${json}\\n\"; # Wide character in print at...\nprint $utf8_stdout \"${json}\\n\";\n\n$json = JSON-&gt;new-&gt;utf8-&gt;encode([$decoded]);\nprint STDOUT       \"${json}\\n\";\nprint $utf8_stdout \"${json}\\n\";\n\nexit 0;\n</code></pre>\n\n<p>Copy &amp; paste from my terminal (which supports UTF-8). Look closely at the differences between the lines:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl\nC480\n\u0100\n\u00c4\n256\nWide character in print at dummy.pl line 21.\n\u0100\n\u0100\nWide character in print at dummy.pl line 25.\n[\"\u0100\"]\n[\"\u0100\"]\n[\"\u0100\"]\n[\"\u00c4\"]\n</code></pre>\n\n<p>But compare this to the following, where STDOUT is not a terminal, but piped to another program. The hex dump always shows \"c4 80\", i.e. UTF-8 encoded.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl | hexdump -C\nWide character in print at dummy.pl line 21.\nWide character in print at dummy.pl line 22.\nWide character in print at dummy.pl line 25.\nWide character in print at dummy.pl line 26.\n00000000  43 34 38 30 0a c4 80 0a  c4 80 0a 5b 22 c4 80 22  |C480.......[\"..\"|\n00000010  5d 0a 5b 22 c4 80 22 5d  0a 43 34 38 30 0a c4 80  |].[\"..\"].C480...|\n00000020  0a 32 35 36 0a c4 80 0a  5b 22 c4 80 22 5d 0a 5b  |.256....[\"..\"].[|\n00000030  22 c4 80 22 5d 0a                                 |\"..\"].|\n00000036\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6649756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966e4ad5f8afe6db3d41d6d8b4f499?s=128&d=identicon&r=PG&f=1", "display_name": "Sally Goldin", "link": "https://stackoverflow.com/users/6649756/sally-goldin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1550663817, "creation_date": 1550218206, "last_edit_date": 1550663817, "question_id": 54704992, "link": "https://stackoverflow.com/questions/54704992/perl-generated-utf8-strings-in-json-corrupted-on-client-side", "title": "Perl-generated UTF8 strings in JSON corrupted on client side", "body": "<p>I have a Perl CGI script that is accessing Thai language, UTF-8 strings from a PostgreSQL DB and returning them to a web-based front end as JSON. The strings are fine when I get them from the DB and after I encode them as JSON (based on writing to a log file). However, when the client receives them they are corrupted, for example:</p>\n\n<p>featurename \"\u00e0\u00b9\\u0082\u00e0\u00b8\u00a3\u00e0\u00b8\\u0087\u00e0\u00b9\\u0080\u00e0\u00b8\u00a3\u00e0\u00b8\u00b5\u00e0\u00b8\u00a2\u00e0\u00b8\\u0099\u00e0\u00b8\u00a7\u00e0\u00b8\u00b1\u00e0\u00b8\\u0094\u00e0\u00b8 \u00e0\u00b8\u00b2\u00e0\u00b8\u00a9\u00e0\u00b8\u00b5\"</p>\n\n<p>Clearly some chars are being converted to Unicode escape sequences, but not all. </p>\n\n<p>I could really use some suggestions as to how to solve this.</p>\n\n<p>Simplified code snippet follows. I am using 'utf8' and 'utf8::all', as well as 'JSON'.</p>\n\n<p>Thanks in advance for any help you can provide.</p>\n\n<pre><code>my $dataId = $cgi-&gt;param('dataid');\nmy $table = \"uploadpoints\";\nmy $sqlcommand = \"select id,featurename from $table where dataid=$dataId;\";\nmy $stmt = $gDbh-&gt;prepare($sqlcommand);\nmy $numrows = $stmt-&gt;execute;\n# print JSON header\nprint &lt;&lt;EOM;\nContent-type: application/json; charset=\"UTF-8\"\n\n\nEOM\nmy @retarray;\nfor (my $i = 0; ($i &lt; $numrows); $i=$i+1)\n{\n    my $hashref = $stmt-&gt;fetchrow_hashref(\"NAME_lc\");\n    #my $featurename = $hashref-&gt;{'featurename'};\n    #logentry(\"Point $i feature name is: $featurename\\n\");\n    push @retarray,$hashref;\n}\nmy $json = encode_json (\\@retarray);\nlogentry(\"JSON\\n $json\");\nprint $json;\n</code></pre>\n\n<p>I have modified and simplified the example, now running locally rather than via browser invocation:</p>\n\n<pre><code>my $dataId = 5; \nmy $table = \"uploadpoints\";\nmy $sqlcommand = \"select id,featurename from $table where dataid=$dataId and id=75;\";\nmy $stmt = $gDbh-&gt;prepare($sqlcommand);\nmy $numrows = $stmt-&gt;execute;\nmy @retarray;\nfor (my $i = 0; ($i &lt; $numrows); $i=$i+1)\n{\n    my $hashref = $stmt-&gt;fetchrow_hashref(\"NAME_lc\");\n    my $featurename = $hashref-&gt;{'featurename'};\n    print \"featurename $featurename\\n\";\n    push @retarray,$hashref;\n}\nmy $json = encode_json (\\@retarray);\nprint $json;\n</code></pre>\n\n<p>Using hexdump as in Stefan's example, I've determined that the data as read from the database are already in UTF-8. It looks as though they are being re-encoded in the JSON encode method. But why? </p>\n\n<p>The data in the JSON use exactly twice as many bytes as the original UTF-8. </p>\n\n<pre><code> perl testcase.pl | hexdump -C\n00000000  66 65 61 74 75 72 65 6e  61 6d 65 20 e0 b9 82 e0  |featurename ....|\n00000010  b8 a3 e0 b8 87 e0 b9 80  e0 b8 a3 e0 b8 b5 e0 b8  |................|\n00000020  a2 e0 b8 99 e0 b9 81 e0  b8 88 e0 b9 88 e0 b8 a1  |................|\n00000030  e0 b8 88 e0 b8 b1 e0 b8  99 e0 b8 97 e0 b8 a3 e0  |................|\n00000040  b9 8c 0a 5b 7b 22 66 65  61 74 75 72 65 6e 61 6d  |...[{\"featurenam|\n00000050  65 22 3a 22 c3 a0 c2 b9  c2 82 c3 a0 c2 b8 c2 a3  |e\":\"............|\n00000060  c3 a0 c2 b8 c2 87 c3 a0  c2 b9 c2 80 c3 a0 c2 b8  |................|\n00000070  c2 a3 c3 a0 c2 b8 c2 b5  c3 a0 c2 b8 c2 a2 c3 a0  |................|\n00000080  c2 b8 c2 99 c3 a0 c2 b9  c2 81 c3 a0 c2 b8 c2 88  |................|\n00000090  c3 a0 c2 b9 c2 88 c3 a0  c2 b8 c2 a1 c3 a0 c2 b8  |................|\n000000a0  c2 88 c3 a0 c2 b8 c2 b1  c3 a0 c2 b8 c2 99 c3 a0  |................|\n000000b0  c2 b8 c2 97 c3 a0 c2 b8  c2 a3 c3 a0 c2 b9 c2 8c  |................|\n000000c0  22 2c 22 69 64 22 3a 37  35 7d 5d                 |\",\"id\":75}]|\n000000cb\n</code></pre>\n\n<p>Further suggestions? I tried using decode on the UTF string but got errors related to wide characters. </p>\n\n<p>I did read the recommended answer from Tom Christianson, as well as his Unicode tutorials, but I will admit much of it went over my head. Also it seems my problem is considerably more constrained.</p>\n\n<p>I did wonder whether retrieving the hash value and assigning it to a normal variable was doing some sort of auto-decoding or encoding. I do not really understand when Perl uses its internal character format as opposed to when it retains the external encoding.</p>\n\n<p>UPDATE WITH SOLUTION</p>\n\n<p>Turns out that since the string retrieved from the DB is already in UTF-8, I need to use 'to_json' rather than 'encode_json'. This fixed the problem. Learned a lot about Perl Unicode handling in the process though... </p>\n\n<p>Also recommend: <a href=\"http://perldoc.perl.org/perluniintro.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perluniintro.html</a></p>\n\n<p>Very clear exposition.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4739, "user_id": 5403468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ8BE.jpg?s=128&g=1", "display_name": "Tiw", "link": "https://stackoverflow.com/users/5403468/tiw"}, "edited": false, "score": 0, "creation_date": 1550213137, "post_id": 54703507, "comment_id": 96193752, "body": "Why <code>[0-90]</code>? Isn&#39;t it the same as <code>[0-9]</code>? And why one line changed to <code>.*80Bs</code> and the other to <code>.*Bs</code>? What&#39;s the rule there?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550213603, "post_id": 54703507, "comment_id": 96193933, "body": "Two examples are inconsistent: the first one keeps the last number (80), the second one doesn&#39;t.  Assuming that you don&#39;t want that number: <code>s&#47;key=&quot;[a-zA-Z_]\\K[0-9_]&#47;.*&#47;</code>.  Can&#39;t test now ..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550253670, "post_id": 54703507, "comment_id": 96215216, "body": "(need quantifiers above, <code>s&#47;key=&quot;[a-z_]+\\K[0-9_]+&#47;.*&#47;i</code>, with <code>&#47;i</code> for upper/lower case)"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550217883, "post_id": 54704211, "comment_id": 96195629, "body": "<code>\\w\\K</code> would be faster than <code>(?&lt;=\\w)</code>"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 0, "last_activity_date": 1550217964, "last_edit_date": 1550217964, "creation_date": 1550214362, "answer_id": 54704211, "question_id": 54703507, "link": "https://stackoverflow.com/questions/54703507/perl-to-delete-specific-lines/54704211#54704211", "title": "Perl to delete specific lines", "body": "<p>If I understand your input data correctly</p>\n\n<ul>\n<li>word character (<code>\\w</code> -> KEEP)</li>\n<li>followed by one-or-more underscore + number (<code>(?:_\\d+)+</code> -> REPLACE)</li>\n</ul>\n\n<p>then this should be the correct solution.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nwhile (&lt;DATA&gt;) {\n    s/(?&lt;=\\w)(?:_\\d+)+/.*/g;\n    print;\n}\n\nexit 0;\n\n__DATA__\nkey=\"chicago_newyork_plane_1_3_8_7_9_80Bs111010110101101011010110101101011010111001100111010111001100111100110011100111\\.com_der_compare,chicago_newyork_plane_1_3_8_7_9_80Bs111010110101101011010110101101011010111001100111010111001100111100110011100111\nkey=\"delhi_pune_plane_1_3_8_7_15_16_10_11_9_80Bs100010110101101011010110101101011010111001100111010111001100111100110011100111\\.com_der_compare,delhi_pune_plane_1_3_8_7_15_16_10_11_9_80Bs100010110101101011010110101101011010111001100111010111001100111100110011100111\n</code></pre>\n\n<p>Test run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl \nkey=\"chicago_newyork_plane.*Bs111010110101101011010110101101011010111001100111010111001100111100110011100111\\.com_der_compare,chicago_newyork_plane.*Bs111010110101101011010110101101011010111001100111010111001100111100110011100111\nkey=\"delhi_pune_plane.*Bs100010110101101011010110101101011010111001100111010111001100111100110011100111\\.com_der_compare,delhi_pune_plane.*Bs100010110101101011010110101101011010111001100111010111001100111100110011100111\n</code></pre>\n\n<p>I just noticed that your expected output is inconsistent. If you want instead</p>\n\n<ul>\n<li>word character (<code>\\w</code> -> KEEP)</li>\n<li>followed by one-or-more underscore + number (<code>(?:_\\d+)+</code> -> REPLACE)</li>\n<li>followed by underscore (<code>_</code> -> REPLACE)</li>\n<li>followed by the string <code>80B</code> (-> KEEP)</li>\n</ul>\n\n<p>then it should be:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>s/(?&lt;=\\w)(?:_\\d+)+_(?=80B)/.*/g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550218207, "post_id": 54704568, "comment_id": 96195762, "body": "<code>\\K</code> was introduced in 5.10. You gotta be careful when using <code>&#47;g</code> because it&#39;s not a lookbehind. But otherwise, it&#39;s better because it&#39;s easier to read, and because it&#39;s more efficient than <code>(?&lt;=...)</code> since it just sets the start of match position rather than performing a submatch."}], "tags": [], "owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "is_accepted": false, "score": 1, "last_activity_date": 1550387065, "last_edit_date": 1550387065, "creation_date": 1550216158, "answer_id": 54704568, "question_id": 54703507, "link": "https://stackoverflow.com/questions/54703507/perl-to-delete-specific-lines/54704568#54704568", "title": "Perl to delete specific lines", "body": "<pre><code>while (&lt;$fd&gt;) {\n    s/\\w\\K_(?:\\d+_)+/.*/;\n    say;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>while (&lt;$fd&gt;) {\n    s/(?&lt;=\\w)_(?:\\d+_)+/.*/;\n    say;\n}\n</code></pre>\n\n<p>Does the trick for me, I supposed the first result you said you want as the correct one.</p>\n"}], "owner": {"reputation": 45, "user_id": 8507445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ea54e95ef7934881c700c33fabf8f77?s=128&d=identicon&r=PG&f=1", "display_name": "Python_geek", "link": "https://stackoverflow.com/users/8507445/python-geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1550387065, "creation_date": 1550210780, "last_edit_date": 1550213928, "question_id": 54703507, "link": "https://stackoverflow.com/questions/54703507/perl-to-delete-specific-lines", "title": "Perl to delete specific lines", "body": "<p>I have file which has more than 1000 lines, some lines have </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>key=\"chicago_newyork_plane_1_3_8_7_9_80Bs111010110101101011010110101101011010111001100111010111001100111100110011100111\\.com_der_compare,chicago_newyork_plane_1_3_8_7_9_80Bs111010110101101011010110101101011010111001100111010111001100111100110011100111\nkey=\"delhi_pune_plane_1_3_8_7_15_16_10_11_9_80Bs100010110101101011010110101101011010111001100111010111001100111100110011100111\\.com_der_compare,delhi_pune_plane_1_3_8_7_15_16_10_11_9_80Bs100010110101101011010110101101011010111001100111010111001100111100110011100111\n</code></pre>\n\n<p>I need to add .* </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>key=\"chicago_newyork_plane.*80Bs111010110101101011010110101101011010111001100111010111001100111100110011100111\\.com_der_compare,chicago_newyork_plane.*80Bs111010110101101011010110101101011010111001100111010111001100111100110011100111\nkey=\"delhi_pune_plane.*Bs100010110101101011010110101101011010111001100111010111001100111100110011100111\\.com_der_compare,delhi_pune_plane.*Bs100010110101101011010110101101011010111001100111010111001100111100110011100111\n</code></pre>\n\n<p>I have written code as,</p>\n\n<pre><code>$_ =~s/key=\"[a-z]+_[a-z]+_[a-z]+_[0-90]+_[0-9]+Bs/key=\" [a-z]+_[a-z]+_[a-z]+.*/g;\n</code></pre>\n\n<p>I am unable to override that.\nI was able to do if i hard code the values or number of underscore (_) , but don't want to do so </p>\n"}, {"tags": ["oracle", "perl"], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 3997124, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/342b1337a43ea5357ca9337320c19862?s=128&d=identicon&r=PG&f=1", "display_name": "mradul", "link": "https://stackoverflow.com/users/3997124/mradul"}, "edited": false, "score": 0, "creation_date": 1550217661, "post_id": 54704251, "comment_id": 96195531, "body": "Thanks for reply Corion. I have made some other changes after going through lots of documentations. Posted in Question EDIT section."}], "tags": [], "owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "is_accepted": false, "score": 2, "last_activity_date": 1550214535, "creation_date": 1550214535, "answer_id": 54704251, "question_id": 54703438, "link": "https://stackoverflow.com/questions/54703438/fetch-all-rows-of-a-oracle-sql-query-using-perl-script/54704251#54704251", "title": "Fetch all rows of a ORACLE SQL query using PERL Script", "body": "<p>The <code>-&gt;fetchrow_array</code> function is documented in <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a>. There you'll see documented that you can either use it within a loop:</p>\n\n<pre><code>$sth = $dbh-&gt;prepare(\"SELECT foo, bar FROM table WHERE baz=?\");\n\n$sth-&gt;execute( $baz );\n\nwhile ( @row = $sth-&gt;fetchrow_array ) {\n  print \"@row\\n\";\n}\n</code></pre>\n\n<p>to retrieve all rows sequentially, or that you can use the <code>-&gt;fetchall_arrayref</code> method to retrieve the complete resultset in one go:</p>\n\n<pre><code>$sth = $dbh-&gt;prepare(\"SELECT foo, bar FROM table WHERE baz=?\");\n\n$sth-&gt;execute( $baz );\n\nmy $rows = $sth-&gt;fetchall_arrayref;\n\nfor my $row (@$rows) {\n  print \"@row\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 3997124, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/342b1337a43ea5357ca9337320c19862?s=128&d=identicon&r=PG&f=1", "display_name": "mradul", "link": "https://stackoverflow.com/users/3997124/mradul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 822, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550217910, "creation_date": 1550210430, "last_edit_date": 1550217910, "question_id": 54703438, "link": "https://stackoverflow.com/questions/54703438/fetch-all-rows-of-a-oracle-sql-query-using-perl-script", "title": "Fetch all rows of a ORACLE SQL query using PERL Script", "body": "<p>I need to fetch all rows from an oracle sql query and then loop through each rows using PERL.</p>\n\n<p>Below is some sample data and table</p>\n\n<pre><code>create table t1 (col1 varchar2(30));\n\ninsert into t1 values ('row1');\ninsert into t1 values ('row2');\ninsert into t1 values ('row3');\ninsert into t1 values ('row4');\ninsert into t1 values ('row5');\n\ncommit;\n</code></pre>\n\n<p>i have written PERL script like below to fetch above table --</p>\n\n<pre><code># connexion a la base\nmy $dbh = DBI-&gt;connect( 'dbi:Oracle:'.$dbname,\n    $dbusername,\n    $pass,\n    {   PrintError =&gt; 0,\n        RaiseError =&gt; 1\n    }   \n) || die \"Erreur lors de la connexion: $DBI::errstr\";\n\nprint (\"Connexion \u00e0 la base de donn\u00e9es $dbname avec $dbusername OK \\n\");\n\n$requete = \"select col1 from t1\";\n\n$sth_sql = $dbh-&gt;prepare($requete);\n$sth_sql-&gt;execute(@row);\n@row=$sth_sql-&gt;fetchrow_array;\n\nmy $size = @row;\n\nprint $size;\n\n#$first=@row[0];\n#$sec=@row[1];\n\nprint $sec;\n\nprint $first;\n\nforeach $script_name (@row) {\n  print \"$script_name\\n\";\n}\n</code></pre>\n\n<p>the above code is returning only one row and size of the array is showing only 1 element in it.</p>\n\n<p>I need to fetch all fives rows and then loop through them one by one.</p>\n\n<p>please suggest what i am missing here !!</p>\n\n<p>I am using oracle database.</p>\n\n<p>Thanks </p>\n\n<p>EDIT :</p>\n\n<p>I have made some changes and it is working fine now </p>\n\n<pre><code>$requete = \"select col1 from t1\";\n\n$sth_sql = $dbh-&gt;prepare($requete);\n$sth_sql-&gt;execute();\n#@row=$sth_sql-&gt;fetchrow_array;\n$sth_sql-&gt;bind_columns(undef, \\$script_name);\n\n\nprint $sec;\n\nprint $first;\n\nwhile ($sth_sql-&gt;fetch()) {\n  $script_sql=$script_name.\".sql\";\n  print \"$script_sql\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 5, "last_activity_date": 1550208931, "creation_date": 1550208931, "answer_id": 54703230, "question_id": 54702798, "link": "https://stackoverflow.com/questions/54702798/run-a-subroutine-by-using-argument/54703230#54703230", "title": "run a subroutine by using argument", "body": "<p>The arguments to a subroutine in Perl are passed in the <code>@_</code> array. This is not the same as the <code>$_</code> variable.</p>\n\n<p>A common idiom is to \"unpack\" these arguments in the first line of a function, e.g.</p>\n\n<pre><code>sub example {\n   my ($arg1, $arg2) = @_;\n   print \"$arg1 and $arg2\";\n}\n</code></pre>\n\n<p>It's also possible to refer to arguments directly as elements of <code>@_</code>, e.g. as <code>$_[0]</code>, but this is much harder to read and as such is best avoided.</p>\n"}, {"tags": [], "owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "is_accepted": false, "score": 1, "last_activity_date": 1550230519, "last_edit_date": 1550230519, "creation_date": 1550216786, "answer_id": 54704679, "question_id": 54702798, "link": "https://stackoverflow.com/questions/54702798/run-a-subroutine-by-using-argument/54704679#54704679", "title": "run a subroutine by using argument", "body": "<p>I usually do something like:</p>\n\n<pre><code>my $first_arg = shift @_;\nmy $second_arg = shift @_;\n</code></pre>\n\n<p>You can also use the method of the other response:</p>\n\n<pre><code>my ($first_arg, $second_arg) = @_;\n</code></pre>\n\n<p>But be careful saying:</p>\n\n<pre><code>my $first_arg = @_;\n</code></pre>\n\n<p>Since you will get the number of arguments passed to the subroutine.</p>\n\n<p>When you refer to <code>$_</code> you are referencing the default string variable, you probably want in this case to refer <code>@_</code>, if you want to get a specific argument, you must say <code>$_[narg]</code>, be also careful passing arrays to subroutines if you do:</p>\n\n<pre><code>some_sub(@myarray);\n</code></pre>\n\n<p>You will pass the entire array as it was the argument list, instead you should say:</p>\n\n<pre><code>some_sub(\\@myarray);\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10959404, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yjEPcihp9qU/AAAAAAAAAAI/AAAAAAAAADo/v-msHHLN1R8/photo.jpg?sz=128", "display_name": "MarsEclipse", "link": "https://stackoverflow.com/users/10959404/marseclipse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 54703230, "answer_count": 2, "score": 0, "last_activity_date": 1550230519, "creation_date": 1550205794, "question_id": 54702798, "link": "https://stackoverflow.com/questions/54702798/run-a-subroutine-by-using-argument", "title": "run a subroutine by using argument", "body": "<p>My code:</p>\n\n<pre><code>my $aaa = \"abc\";   \nsub myp{\n  print \"$_\";\n}\nmyp($aaa);\n</code></pre>\n\n<p>I hope myp can print the argument it get.\nBut it said \nUse of uninitialized value $_ in string at ./arg line 17.</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1550178348, "post_id": 54698540, "comment_id": 96184991, "body": "If I may ask, what is the purpose of this conversion?  Trying to encrypt?"}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "reply_to_user": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1550178506, "post_id": 54698540, "comment_id": 96185057, "body": "@karakfa yes, I want to encrypt it :-D"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1550179593, "post_id": 54698540, "comment_id": 96185502, "body": "With bash and sed: <code>sed &#39;s&#47; .*&#47;&#47;&#39; data.txt | sed -f &lt;(sed &#39;s|  *|&#47;|;s|^|s&#47;|;s|$| &#47;g|&#39; key.txt)</code>"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1550180504, "post_id": 54698540, "comment_id": 96185945, "body": "Your example output appears to be missing a number."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1550180590, "post_id": 54698540, "comment_id": 96185982, "body": "Not efficient, but short: <code>perl -alpe &#39;($_=$F[0])=~s&#47;[A-Z]&#47;(index(&quot;ARNDBCEQZGHILKMFPSTWYV&quot;,$&amp;)+1).&zwnj;&#8203;&quot; &quot;&#47;ge&#39;</code>"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1550180732, "post_id": 54698540, "comment_id": 96186040, "body": "... and why are there only 22 letters, what about the other four?"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1550181046, "post_id": 54698540, "comment_id": 96186172, "body": "A little longer, but more efficient: <code>perl &#39;-M5;%h=map{$_,++$i}split&#47;&#47;,&quot;ARNDBCEQZGHILKMFPSTWYV&quot;&#39; -alpe &#39;($_=$F[0])=~s&#47;[A-Z]&#47;$h{$&amp;} &#47;g&#39;</code>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1550188454, "post_id": 54698540, "comment_id": 96188344, "body": "@haukex not all alphabets have 26 letters. The Hawaiian alphabet only has 12 letters, for example. Even in alphabets that do have 26 letters it&#39;s not unusual to avoid some letters in some applications, e.g. you should generally avoid using the letter <code>O</code> in alphanumeric identifier strings since it looks too much like the number <code>0</code>. So there are various reasons why the OP may well just have 22 letters in his/her application."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1550216739, "post_id": 54698540, "comment_id": 96195147, "body": "@EdMorton <i>&quot;So there are various reasons why the OP may well just have 22 letters in his/her application.&quot;</i> Yes, my question was <i>&quot;why are there only 22 letters&quot;</i>."}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1550217779, "post_id": 54698540, "comment_id": 96195585, "body": "@Learner If you want to make sure that my above oneliners only replace those letters that are in the set, change <code>[A-Z]</code> to <code>[A-IK-NP-TV-WY-Z]</code>. Here is some code to generate such a set: <code>echo &quot;ARNDBCEQZGHILKMFPSTWYV&quot; | perl -MSet::IntSpan -ple &#39;$_=Set::IntSpan-&gt;new([map{ord}split&#47;&#47;,$_])-&gt;run_list;s&#47;\\d+&#47;&zwnj;&#8203;chr$&amp;&#47;eg;s&#47;,&#47;&#47;g&#39;</code>"}, {"owner": {"reputation": 2833, "user_id": 9300627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7a38cf029222bcf1d902e6b2759ffeb?s=128&d=identicon&r=PG", "display_name": "haukex", "link": "https://stackoverflow.com/users/9300627/haukex"}, "edited": false, "score": 0, "creation_date": 1550739083, "post_id": 54698540, "comment_id": 96382318, "body": "BTW, I used this question as the basis for a golfing challenge on PerlMonks: <a href=\"https://www.perlmonks.org/?node_id=1230284\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1230284</a>"}], "answers": [{"comments": [{"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 1, "creation_date": 1550177501, "post_id": 54698814, "comment_id": 96184614, "body": "I liked it already , I give it sometime to see what others give , but you are amazing"}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1550177829, "post_id": 54698814, "comment_id": 96184757, "body": "I have a silly question, if I want to pick up only the numbers at the end, how can I do that ?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1550177891, "post_id": 54698814, "comment_id": 96184788, "body": "What do you mean by &quot;pick up&quot;? Are you referring to &quot;the numbers at the end&quot; of your input or your output or something else?"}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1550177995, "post_id": 54698814, "comment_id": 96184832, "body": "save only the numbers at the end of each line &quot;the numbers at the end&quot;"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1550178155, "post_id": 54698814, "comment_id": 96184907, "body": "each input line or each output line? By &quot;save&quot; do you mean store them in an array or a variable or print them to a file or to stdout or something else? Please edit your question to clearly state what it is you&#39;re trying to do and include that expected output in your example there. Right now there&#39;s just too many things you might mean."}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1550178257, "post_id": 54698814, "comment_id": 96184954, "body": "each input line . just remove the letters and save the data like <code>&gt;out.txt</code>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 1, "creation_date": 1550178329, "post_id": 54698814, "comment_id": 96184981, "body": "I&#39;m sorry, I&#39;m completely lost. Please update your question with an example."}, {"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1550178675, "post_id": 54698814, "comment_id": 96185138, "body": "done, I can do it like this <code>cat input.txt | sed &#39;s&#47;[^0-9]*&#47;&#47;g&#39; &gt; out.txt</code>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1550188002, "post_id": 54698814, "comment_id": 96188243, "body": "Are you just trying to print the 2nd field of the input to a file? That&#39;s <code>awk &#39;{print $2}&#39; input.txt &gt; out.txt</code>. You should google UUOC btw."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 3, "last_activity_date": 1550177163, "creation_date": 1550177163, "answer_id": 54698814, "question_id": 54698540, "link": "https://stackoverflow.com/questions/54698540/how-can-i-replace-letter-to-certain-number/54698814#54698814", "title": "how can I replace letter to certain number", "body": "<p>With any awk in any shell on any UNIX box:</p>\n\n<pre><code>$ cat tst.awk\nBEGIN {\n    chars = \"ARNDBCEQZGHILKMFPSTWYV\"\n    for (i=1; i&lt;=length(chars); i++) {\n        char = substr(chars,i,1)\n        map[char] = i\n    }\n}\n{\n    out = \"\"\n    chars = $1\n    for (i=1; i&lt;=length(chars); i++) {\n        char = substr(chars,i,1)\n        out = (out == \"\" ? \"\" : out \" \") (char in map ? map[char] : char)\n    }\n    print out\n}\n\n$ awk -f tst.awk file\n3 4 4 4 4 19 18 22 6 13 10 19 2 8 6 18 20 16 1 10 6 19 3 2 19 20 3 18 18 1\n22 6 13 10 19 2 8 6 18 20 16 1 10 6 19 3 2 19 20 3 18 18 1 22 17 13 12 10 13 17\n13 19 20 18 10 3 4 19 6 13 21 18 6 8 3 8 19 14 10 13 13 21 8 13 16 2 3 13 16 6\n6 8 3 8 19 14 10 13 13 21 8 13 16 2 3 13 16 6 18 21 10 13 19 7 1 11 10 14 20 2\n12 19 3 4 14 10 11 4 10 11 2 19 17 19 20 20 13 19 10 18 3 13 19 13 18 22 3 3 18 10\n10 11 2 19 17 19 20 20 13 19 10 18 3 13 19 13 18 22 3 3 18 10 13 16 16 13 6 10 3 10\n16 13 6 10 3 10 22 21 14 10 16 17 17 14 20 18 10 2 6 10 13 10 21 13 22 17 18 13 19 2\n14 10 16 17 17 14 20 18 10 2 6 10 13 10 21 13 22 17 18 13 19 2 21 13 19 13 3 1 18 8\n8 18 22 6 15 7 6 8 10 11 10 7 2 12 18 17 14 4 2 6 14 18 6 3 10 2 14 12 22 2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1550177866, "post_id": 54698881, "comment_id": 96184779, "body": "I liked your answer already !!! thanks"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550180181, "post_id": 54698881, "comment_id": 96185784, "body": "Didn&#39;t OP request that the number at the end of the line is stripped from the output? As-is the above solution prints the output with the trailing number intact."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1550181060, "post_id": 54698881, "comment_id": 96186178, "body": "The author permitting, I simplified their solution and added a much smaller one."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550181988, "post_id": 54698881, "comment_id": 96186520, "body": "@Stefan, I think the question is unclear about that point. However, the OP&#39;s comments to Ed&#39;s answer seem to indicate those numbers are wanted."}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550210443, "post_id": 54698881, "comment_id": 96192959, "body": "While I appreciate the finer points of your latest game play for this particular hole in the SO Perl Golf Championships, I do have to contend the decision that the ball went into the hole: <code>34444191822613101928618201611061...</code>. Does that mean <code>3 4 4 4 4 19 1 8...</code> or <code>3 4 4 4 4 1 9 18...</code> or ...? I think you need another go on the putting green to sink it in."}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 5, "last_activity_date": 1550248974, "last_edit_date": 1550248974, "creation_date": 1550177508, "answer_id": 54698881, "question_id": 54698540, "link": "https://stackoverflow.com/questions/54698540/how-can-i-replace-letter-to-certain-number/54698881#54698881", "title": "how can I replace letter to certain number", "body": "<pre><code>perl -e'\n    use autodie;\n    my %charmap = (\n        A =&gt;  1, R =&gt;  2, N =&gt;  3, D =&gt;  4, B =&gt;  5, C =&gt;  6, E =&gt;  7, Q =&gt;  8,\n        Z =&gt;  9, G =&gt; 10, H =&gt; 11, I =&gt; 12, L =&gt; 13, K =&gt; 14, M =&gt; 15, F =&gt; 16,\n        P =&gt; 17, S =&gt; 18, T =&gt; 19, W =&gt; 20, Y =&gt; 21, V =&gt; 22,\n    );\n    while (&lt;&gt;) {\n        s{(.)}{ ($charmap{$1} // $1) . \" \" }ge;\n        print;\n    }\n' file\n</code></pre>\n\n<p>Or just</p>\n\n<pre><code>perl -pe'\n    BEGIN { @charmap{ split //, \"ARNDBCEQZGHILKMFPSTWYV\" } = 1..22 }\n    s{(.)}{ ($charmap{$1} // $1) . \" \" }ge;\n' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1550180749, "post_id": 54699003, "comment_id": 96186045, "body": "thanks, I liked it already"}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 1, "last_activity_date": 1550180404, "last_edit_date": 1550180404, "creation_date": 1550178074, "answer_id": 54699003, "question_id": 54698540, "link": "https://stackoverflow.com/questions/54698540/how-can-i-replace-letter-to-certain-number/54699003#54699003", "title": "how can I replace letter to certain number", "body": "<p>another <code>awk</code></p>\n\n<pre><code>$ awk 'NR==FNR {a[$1]=$2; next} \n               {n=length($1); \n                for(i=1;i&lt;=n;i++) \n                   printf \"%s\", a[substr($1,i,1)] (i==n?ORS:OFS)}' mapfile datafile\n\n3 4 4 4 4 19 18 22 6 13 10 19 2 8 6 18 20 16 1 10 6 19 3 2 19 20 3 18 18 1\n22 6 13 10 19 2 8 6 18 20 16 1 10 6 19 3 2 19 20 3 18 18 1 22 17 13 12 10 13 17\n13 19 20 18 10 3 4 19 6 13 21 18 6 8 3 8 19 14 10 13 13 21 8 13 16 2 3 13 16 6\n6 8 3 8 19 14 10 13 13 21 8 13 16 2 3 13 16 6 18 21 10 13 19 7 1 11 10 14 20 2\n12 19 3 4 14 10 11 4 10 11 2 19 17 19 20 20 13 19 10 18 3 13 19 13 18 22 3 3 18 10\n10 11 2 19 17 19 20 20 13 19 10 18 3 13 19 13 18 22 3 3 18 10 13 16 16 13 6 10 3 10\n16 13 6 10 3 10 22 21 14 10 16 17 17 14 20 18 10 2 6 10 13 10 21 13 22 17 18 13 19 2\n14 10 16 17 17 14 20 18 10 2 6 10 13 10 21 13 22 17 18 13 19 2 21 13 19 13 3 1 18 8\n8 18 22 6 15 7 6 8 10 11 10 7 2 12 18 17 14 4 2 6 14 18 6 3 10 2 14 12 22 2\n</code></pre>\n\n<p>however, there is no provision of missing mappings that are not specified, i.e. if you have chars not listed on the mapfile they will be ignored.  </p>\n\n<p>If the goal is encryption I'll propose a different approach:</p>\n\n<p>First let's generate a mapping (or encryption key)</p>\n\n<pre><code>$ key=$(printf \"%s\\n\" {A..Z} | shuf | paste -sd' ' | tr -d ' ')\n\n$ echo \"$key\"\nCNYSGFRDKQTOXJVLEWBAHZPMUI\n</code></pre>\n\n<p>now you can encrypt/decrypt your file contents, simply</p>\n\n<pre><code>$ tr [A-Z] \"$key\" &lt; datafile  &gt; file.encrypted\n</code></pre>\n\n<p>and to reverse </p>\n\n<pre><code>$ tr \"$key\" [A-Z] &lt; file.encrypted &gt; file.decrypted\n</code></pre>\n\n<p>obviously, you need to save the key.</p>\n"}, {"comments": [{"owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "edited": false, "score": 0, "creation_date": 1550180733, "post_id": 54699389, "comment_id": 96186042, "body": "thanks, I liked it already"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1551917526, "post_id": 54699389, "comment_id": 96820770, "body": "while the obfuscation is readily unobfuscated, the perl command is really slick."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1551917887, "post_id": 54699389, "comment_id": 96820865, "body": "And golfing fun for maximum line noise: <code>perl -ple&#39;s&#47;\\@.*&#47;&#47;;tr&#47;ARNDBCEQZGHILKMFPSTWYV&#47;\\x01-\\x16&#47;;$_=join&quot; &quot;,map{ord}split&#47;&#47;&#39;</code>"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 2, "last_activity_date": 1550213339, "last_edit_date": 1550213339, "creation_date": 1550179999, "answer_id": 54699389, "question_id": 54698540, "link": "https://stackoverflow.com/questions/54698540/how-can-i-replace-letter-to-certain-number/54699389#54699389", "title": "how can I replace letter to certain number", "body": "<p>Alternative Perl solution:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %key = (\n    A =&gt;  1, R =&gt;  2, N =&gt;  3, D =&gt;  4, B =&gt;  5,\n    C =&gt;  6, E =&gt;  7, Q =&gt;  8, Z =&gt;  9, G =&gt; 10,\n    H =&gt; 11, I =&gt; 12, L =&gt; 13, K =&gt; 14, M =&gt; 15,\n    F =&gt; 16, P =&gt; 17, S =&gt; 18, T =&gt; 19, W =&gt; 20,\n    Y =&gt; 21, V =&gt; 22,\n);\n\nwhile (&lt;STDIN&gt;) {\n    my($text) = /^(\\w+)/;\n    print join(' ',\n               map { $key{$_} }\n               split(//, $text)\n          ), \"\\n\";\n}\n\nexit 0;\n</code></pre>\n\n<p>Output with your given text:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl &lt;dummy.txt\n3 4 4 4 4 19 18 22 6 13 10 19 2 8 6 18 20 16 1 10 6 19 3 2 19 20 3 18 18 1\n22 6 13 10 19 2 8 6 18 20 16 1 10 6 19 3 2 19 20 3 18 18 1 22 17 13 12 10 13 17\n13 19 20 18 10 3 4 19 6 13 21 18 6 8 3 8 19 14 10 13 13 21 8 13 16 2 3 13 16 6\n6 8 3 8 19 14 10 13 13 21 8 13 16 2 3 13 16 6 18 21 10 13 19 7 1 11 10 14 20 2\n12 19 3 4 14 10 11 4 10 11 2 19 17 19 20 20 13 19 10 18 3 13 19 13 18 22 3 3 18 10\n10 11 2 19 17 19 20 20 13 19 10 18 3 13 19 13 18 22 3 3 18 10 13 16 16 13 6 10 3 10\n16 13 6 10 3 10 22 21 14 10 16 17 17 14 20 18 10 2 6 10 13 10 21 13 22 17 18 13 19 2\n14 10 16 17 17 14 20 18 10 2 6 10 13 10 21 13 22 17 18 13 19 2 21 13 19 13 3 1 18 8\n8 18 22 6 15 7 6 8 10 11 10 7 2 12 18 17 14 4 2 6 14 18 6 3 10 2 14 12 22 2\n</code></pre>\n\n<hr>\n\n<h3>On second thought...</h3>\n\n<p>As OP wants to obfuscate clear text then the more appropriate solution IMHO should be something like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ bash &lt;dummy.txt -c \"$(echo /Td6WFoAAATm1rRGBMCtAbgBIQEWAAAAAAAAACsG0SbgALcApV0AOBlKq3igoJRmX9TqJifIRDIcDLdDtNRSv+tJBsifrrsdnlllNt2qqnlz0/uBmSnlO0FTKjKH/HXplJm9LaV7kXiNp/ZWDsyVqoV8EPjIEHHkXXd6jKahyq7tcCA4NGTHp/pwmk8jith6j/dcX67QCKmL0UtZUz9BqVWefD41lbrTNazbD8IP6zMLmAVxJav51SSTHzsUqhUfqhVmLsUg8sJkgloAAAAAAOMYtQXt21WNAAHJAbgBAABTvtYRscRn+wIAAAAABFla | base64 -d | xzcat)\"\n3 4 4 4 4 19 18 22 6 13 10 19 2 8 6 18 20 16 1 10 6 19 3 2 19 20 3 18 18 1\n22 6 13 10 19 2 8 6 18 20 16 1 10 6 19 3 2 19 20 3 18 18 1 22 17 13 12 10 13 17\n13 19 20 18 10 3 4 19 6 13 21 18 6 8 3 8 19 14 10 13 13 21 8 13 16 2 3 13 16 6\n6 8 3 8 19 14 10 13 13 21 8 13 16 2 3 13 16 6 18 21 10 13 19 7 1 11 10 14 20 2\n12 19 3 4 14 10 11 4 10 11 2 19 17 19 20 20 13 19 10 18 3 13 19 13 18 22 3 3 18 10\n10 11 2 19 17 19 20 20 13 19 10 18 3 13 19 13 18 22 3 3 18 10 13 16 16 13 6 10 3 10\n16 13 6 10 3 10 22 21 14 10 16 17 17 14 20 18 10 2 6 10 13 10 21 13 22 17 18 13 19 2\n14 10 16 17 17 14 20 18 10 2 6 10 13 10 21 13 22 17 18 13 19 2 21 13 19 13 3 1 18 8\n8 18 22 6 15 7 6 8 10 11 10 7 2 12 18 17 14 4 2 6 14 18 6 3 10 2 14 12 22 2\n</code></pre>\n"}], "owner": {"reputation": 685, "user_id": 10101956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1PZFP.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/10101956/learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 1, "closed_date": 1550221324, "accepted_answer_id": 54698814, "answer_count": 4, "score": 0, "last_activity_date": 1550248974, "creation_date": 1550175965, "question_id": 54698540, "link": "https://stackoverflow.com/questions/54698540/how-can-i-replace-letter-to-certain-number", "closed_reason": "Needs more focus", "title": "how can I replace letter to certain number", "body": "<p>I have a huge data like the following </p>\n\n<pre><code>NDDDDTSVCLGTRQCSWFAGCTNRTWNSSA 0\nVCLGTRQCSWFAGCTNRTWNSSAVPLIGLP 0\nLTWSGNDTCLYSCQNQTKGLLYQLFRNLFC 0\nCQNQTKGLLYQLFRNLFCSYGLTEAHGKWR 0\nITNDKGHDGHRTPTWWLTGSNLTLSVNNSG 0\nGHRTPTWWLTGSNLTLSVNNSGLFFLCGNG 0\nFLCGNGVYKGFPPKWSGRCGLGYLVPSLTR 0\nKGFPPKWSGRCGLGYLVPSLTRYLTLNASQ 0\nQSVCMECQGHGERISPKDRCKSCNGRKIVR 1 \n</code></pre>\n\n<p>I want to use the following key to replace the letter with numbers </p>\n\n<pre><code>A   1\nR   2\nN   3\nD   4\nB   5\nC   6\nE   7\nQ   8\nZ   9\nG   10\nH   11\nI   12\nL   13\nK   14\nM   15\nF   16\nP   17\nS   18\nT   19\nW   20\nY   21\nV   22\n</code></pre>\n\n<p>at first I want to remove all the numbers close to letter and then replace the letters , so lets look at the first like </p>\n\n<pre><code>NDDDDTSVCLGTRQCSWFAGCTNRTWNSSA \n</code></pre>\n\n<p>will have this </p>\n\n<pre><code>3 4 4 4 4 19 18 22 6 19 13 10 19 2 8 6 18 20 16 1 10 6 19 3 2 19 20 3 18 18 1\n</code></pre>\n\n<p>and for the rest of lines the same as many lines as I have </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1550169749, "post_id": 54697046, "comment_id": 96181350, "body": "(1) Unfortunately, I must say: don&#39;t use <code>~~</code>. It&#39;s broken and subject to massive changes. (2) Did you try, um, escaping it?  Like <code>\\*</code>? I presume you want a literal <code>.</code> so you escape that, too, and the <code>-</code> should be escaped as well.  A systemic way: <code>\\Q</code>, like <code>&#47;\\Q$pattern&#47;</code>. See docs"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550171861, "post_id": 54697046, "comment_id": 96182234, "body": "(by &quot;broken&quot; I meant to say that it is, for all I know, widely considered to be broken in its current form)"}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1550172906, "post_id": 54697046, "comment_id": 96182695, "body": "@zdim Sorry to be pedantic, but <code>-</code> only needs to be escaped when it&#39;s in a bracketed character class, and even then only when it&#39;s not at the beginning or end of the class."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1550175761, "post_id": 54697046, "comment_id": 96183892, "body": "@mwp  Thanks for stating/correcting it, my comment was too coarse with <code>-</code>"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550170299, "post_id": 54697150, "comment_id": 96181599, "body": "Curious about the reason to do it with <code>index</code> as well -- efficiency? I&#39;d expect it to be faster than starting up regex?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550170362, "post_id": 54697150, "comment_id": 96181632, "body": "@zdim No particular reason, just an alternative that some might find cleaner. I find the efficiency in comparison to regex varies and is almost never significant."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550179065, "post_id": 54697150, "comment_id": 96185299, "body": "@zdim, The regex engine does take up a relatively long time to start up, yes. However, the simplicity of using it is virtually always worth the cost."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1550237169, "post_id": 54697150, "comment_id": 96205993, "body": "i have a side question. What if i wanted to compare hash keys to elements in an array, instead of a single string. What is the correct way to do this? thanks"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1550251633, "post_id": 54697150, "comment_id": 96214207, "body": "@user3781528 You&#39;d have to be more specific. Hash keys and array elements are both lists, so you are not just searching for an item in a list. Do you want to find if the lists contain the same elements? If one list is contained within another? If they simply share at least one element?"}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 4, "last_activity_date": 1550180280, "last_edit_date": 1550180280, "creation_date": 1550169889, "answer_id": 54697150, "question_id": 54697046, "link": "https://stackoverflow.com/questions/54697046/perl-escape-wild-card-character-when-matching-hash-keys/54697150#54697150", "title": "Perl escape wild card character when matching hash keys", "body": "<p>First, note that smartmatch (<code>~~</code>) is experimental, so it's discouraged to use it.* For this task you can use <a href=\"https://perldoc.pl/List::Util#any\" rel=\"nofollow noreferrer\">any from List::Util</a> or on older perls <a href=\"https://perldoc.pl/functions/grep\" rel=\"nofollow noreferrer\">grep</a> can serve the same purpose.</p>\n\n<p>If you are trying to match an exact string, use <a href=\"https://perldoc.pl/functions/quotemeta\" rel=\"nofollow noreferrer\">quotemeta</a> which can also be written as <code>\\Q</code> in an interpolated string.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::Util 1.33 'any';\nprint \"pattern exists\\n\" if any { m/\\Q.ISPV3-21*02/ } keys %reads;\n</code></pre>\n\n<p>You can also use the <a href=\"https://perldoc.pl/functions/index\" rel=\"nofollow noreferrer\">index</a> function to find an exact substring.</p>\n\n<pre><code>print \"pattern exists\\n\" if any { index($_, '.ISPV3-21*02') &gt;= 0 } keys %reads;\n</code></pre>\n\n<p>If you are trying to match the whole key, and not just a substring within the key, you need to anchor the regex match with <code>\\A</code> (beginning of string, same as <code>^</code>) and <code>\\z</code> (end of string).</p>\n\n<pre><code>print \"pattern exists\\n\" if any { m/\\A\\Q.ISPV3-21*02\\E\\z/ } keys %reads;\n</code></pre>\n\n<p>But this is the same as just testing for <a href=\"https://perldoc.pl/perlop#Equality-Operators\" rel=\"nofollow noreferrer\">string equality</a>.</p>\n\n<pre><code>print \"pattern exists\\n\" if any { $_ eq '.ISPV3-21*02' } keys %reads;\n</code></pre>\n\n<p>And that's also the same as just checking if the key <a href=\"https://perldoc.pl/functions/exists\" rel=\"nofollow noreferrer\">exists</a>, since you are looking through the keys of a hash.</p>\n\n<pre><code>print \"pattern exists\\n\" if exists $reads{'.ISPV3-21*02'};\n</code></pre>\n\n<p>*Smartmatch was <a href=\"https://perldoc.pl/perl5180delta#The-smartmatch-family-of-features-are-now-experimental\" rel=\"nofollow noreferrer\">retroactively made experimental</a> as part of the introduction of experimental features, due to its overcomplicated ruleset (you have to go through the <a href=\"https://perldoc.pl/perlop#Smartmatch-Operator\" rel=\"nofollow noreferrer\">whole table</a> in the docs to figure out what any two operands, as well as each of their contents, will resolve to) and the same string/number ambiguity as <a href=\"https://perldoc.pl/perlop#Bitwise-String-Operators\" rel=\"nofollow noreferrer\">bitwise operators</a>. It has had several iterations of proposed changes and is likely at some point to be deprecated or incompatibly changed, so it should not be relied upon.</p>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 1, "accepted_answer_id": 54697150, "answer_count": 1, "score": 0, "last_activity_date": 1550180280, "creation_date": 1550169526, "question_id": 54697046, "link": "https://stackoverflow.com/questions/54697046/perl-escape-wild-card-character-when-matching-hash-keys", "title": "Perl escape wild card character when matching hash keys", "body": "<p>Please suggest how to escape wild card character found in hash keys.</p>\n\n<pre><code>print \"pattern exists\\n\" if /.ISPV3-21*02/ ~~ %reads;\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1550163837, "post_id": 54695353, "comment_id": 96178697, "body": "Have you actually tried it?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1550169606, "post_id": 54695353, "comment_id": 96181283, "body": "See the <a href=\"https://perldoc.pl/perlobj#Destructors\" rel=\"nofollow noreferrer\">documentation</a>. Beware that in global destruction, other references may have already been destroyed at random."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1550164098, "creation_date": 1550164098, "answer_id": 54695632, "question_id": 54695353, "link": "https://stackoverflow.com/questions/54695353/using-a-perl-class-object-variables-in-destroy/54695632#54695632", "title": "Using a perl class object variables in destroy", "body": "<p>The <a href=\"http://perldoc.perl.org/functions/DESTROY.html\" rel=\"nofollow noreferrer\"><code>DESTROY</code> method</a> gets the same <code>$self</code> reference as its first parameter as all other methods in Perl OOP.</p>\n\n<pre><code>package Person\n\nsub new { ... }\n\nsub DESTROY {\n    my $self = shift;\n    print \"destroying $self-&gt;{_firstName}\";\n}\n\npackage main;\n{\n    my $foo = Person-&gt;new( 'foo', 'bar', 123 );\n}\n</code></pre>\n\n<p>This will print</p>\n\n<pre><code>First Name is foo\nLast Name is bar\nSSN is 123\ndestroying foo\n</code></pre>\n"}], "owner": {"reputation": 507, "user_id": 1939168, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/2e47f3a6db33bc8a8e3f28a18f12a7ef?s=128&d=identicon&r=PG", "display_name": "user1939168", "link": "https://stackoverflow.com/users/1939168/user1939168"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550164098, "creation_date": 1550163120, "question_id": 54695353, "link": "https://stackoverflow.com/questions/54695353/using-a-perl-class-object-variables-in-destroy", "title": "Using a perl class object variables in destroy", "body": "<p>Can we access object variables inside the destroy method of a perl class.\nFor eg : i have a perl class as below:</p>\n\n<pre><code>package Person;\n\nsub new {\n   my $class = shift;\n   my $self = {\n      _firstName =&gt; shift,\n      _lastName  =&gt; shift,\n      _ssn       =&gt; shift,\n   };\n   # Print all the values just for clarification.\n   print \"First Name is $self-&gt;{_firstName}\\n\";\n   print \"Last Name is $self-&gt;{_lastName}\\n\";\n   print \"SSN is $self-&gt;{_ssn}\\n\";\n   bless $self, $class;\n   return $self;\n}\n</code></pre>\n\n<p>I create my object like below:</p>\n\n<pre><code>$object = new Person( \"Mohammad\", \"Saleem\", 23234345);\n</code></pre>\n\n<p>How can I make destroy function so that it will print me like</p>\n\n<pre><code>detroying Mohammad\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1550161050, "post_id": 54694745, "comment_id": 96176981, "body": "read about greedy and no greedy mathing"}, {"owner": {"reputation": 33, "user_id": 11063073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQ_fzLq5CqQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPGh-b0ZWzpZBF-c97msnsPIArkOA/mo/photo.jpg?sz=128", "display_name": "Vic Mac", "link": "https://stackoverflow.com/users/11063073/vic-mac"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1550161689, "post_id": 54694745, "comment_id": 96177366, "body": "Thank you. Something to read over the weekend."}, {"owner": {"reputation": 33, "user_id": 11063073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQ_fzLq5CqQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPGh-b0ZWzpZBF-c97msnsPIArkOA/mo/photo.jpg?sz=128", "display_name": "Vic Mac", "link": "https://stackoverflow.com/users/11063073/vic-mac"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1550162588, "post_id": 54694745, "comment_id": 96177897, "body": "lots to learn... :p"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11063073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQ_fzLq5CqQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPGh-b0ZWzpZBF-c97msnsPIArkOA/mo/photo.jpg?sz=128", "display_name": "Vic Mac", "link": "https://stackoverflow.com/users/11063073/vic-mac"}, "edited": false, "score": 1, "creation_date": 1550161803, "post_id": 54694815, "comment_id": 96177431, "body": "Thanks! I looked at the demo and it is what I wanted. I still need to familiarise myself with LookBehind and LookAhead."}, {"owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "reply_to_user": {"reputation": 33, "user_id": 11063073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQ_fzLq5CqQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPGh-b0ZWzpZBF-c97msnsPIArkOA/mo/photo.jpg?sz=128", "display_name": "Vic Mac", "link": "https://stackoverflow.com/users/11063073/vic-mac"}, "edited": false, "score": 0, "creation_date": 1550161952, "post_id": 54694815, "comment_id": 96177518, "body": "@VicMac: You can read about look arounds <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">here</a> This is a good site for learning basic to advanced regex. If my answer helped you, consider accepting it."}, {"owner": {"reputation": 28753, "user_id": 1138192, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4ed67a4983ab0568593e133930430941?s=128&d=identicon&r=PG", "display_name": "Always Sunny", "link": "https://stackoverflow.com/users/1138192/always-sunny"}, "reply_to_user": {"reputation": 33, "user_id": 11063073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQ_fzLq5CqQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPGh-b0ZWzpZBF-c97msnsPIArkOA/mo/photo.jpg?sz=128", "display_name": "Vic Mac", "link": "https://stackoverflow.com/users/11063073/vic-mac"}, "edited": false, "score": 0, "creation_date": 1550162164, "post_id": 54694815, "comment_id": 96177640, "body": "@VicMac this is the most easiest answer to understand lookahead &amp; lookbehind. See <a href=\"https://stackoverflow.com/a/2973495/1138192\">stackoverflow.com/a/2973495/1138192</a>"}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1550166925, "post_id": 54694815, "comment_id": 96180180, "body": "Using a lookahead is more complicated than necessary for this task. Use them when you need to match against text without actually consuming it (so that a later part of the regular expression will still see them)."}, {"owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "reply_to_user": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1550168885, "post_id": 54694815, "comment_id": 96180991, "body": "@chepner: You are right and of course there are multiple ways of extracting data and the lookaround regex can easily be written as <code>\\((.*)\\)</code> which is a simple regex not having lookaround where data can be extracted from first grouping pattern like this in <a href=\"https://regex101.com/r/kHKiy6/2\" rel=\"nofollow noreferrer\">demo</a>"}], "tags": [], "owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1550169195, "last_edit_date": 1550169195, "creation_date": 1550161234, "answer_id": 54694815, "question_id": 54694745, "link": "https://stackoverflow.com/questions/54694745/remove-first-and-last-parentheses/54694815#54694815", "title": "Remove first and last parentheses", "body": "<p>Since you want to capture all text inside parenthesis, you shouldn't use non-greedy quantifier. You can use this regex which uses lookarounds and greedy version <code>.*</code> which captures all text in between <code>(</code> and <code>)</code>.</p>\n\n<pre><code>(?&lt;=\\().*(?=\\))\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/kHKiy6/1\" rel=\"nofollow noreferrer\">Demo</a></strong></p>\n\n<p><strong>EDIT: Another alternative solution</strong></p>\n\n<p>Another way to extract same data can be done using following regex which doesn't have any look ahead/behind which is not supported by some regex flavors and might be useful in those situations.</p>\n\n<pre><code>^\\((.*)\\)$\n</code></pre>\n\n<p>Here <code>^\\(</code> matches the starting bracket and then <code>(.*)</code> consumes any text in a exhaustive manner and places in first grouping pattern and only stops at last occurrence of <code>)</code> before end of line.</p>\n\n<p><strong><a href=\"https://regex101.com/r/kHKiy6/3\" rel=\"nofollow noreferrer\">Demo without lookaround</a></strong></p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 11063073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQ_fzLq5CqQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPGh-b0ZWzpZBF-c97msnsPIArkOA/mo/photo.jpg?sz=128", "display_name": "Vic Mac", "link": "https://stackoverflow.com/users/11063073/vic-mac"}, "edited": false, "score": 0, "creation_date": 1550162022, "post_id": 54694843, "comment_id": 96177558, "body": "Thank you! I&#39;ll try this one, too."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1550166748, "post_id": 54694843, "comment_id": 96180094, "body": "Reversing the string twice is overkill. If you just want to remove the first and last characters (which doesn&#39;t, by the way, actually solve the original problem of capturing text between parentheses), the just use <code>substr $string, 1, -1</code>."}], "tags": [], "owner": {"reputation": 28753, "user_id": 1138192, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4ed67a4983ab0568593e133930430941?s=128&d=identicon&r=PG", "display_name": "Always Sunny", "link": "https://stackoverflow.com/users/1138192/always-sunny"}, "is_accepted": false, "score": 1, "last_activity_date": 1550161335, "creation_date": 1550161335, "answer_id": 54694843, "question_id": 54694745, "link": "https://stackoverflow.com/questions/54694745/remove-first-and-last-parentheses/54694843#54694843", "title": "Remove first and last parentheses", "body": "<p>A <strong>non-regex</strong> way with <code>chop()</code> and <code>reverse()</code></p>\n\n<pre><code>$string='((me) and (you))';\nchop($string);\n$string = reverse($string);\nchop($string); \n$string = reverse($string); \nprint $string;\n</code></pre>\n\n<p><strong>Output:</strong> </p>\n\n<pre><code>(me) and (you)\n</code></pre>\n\n<p><strong>DEMO:</strong>  <a href=\"http://tpcg.io/MhaLed\" rel=\"nofollow noreferrer\">http://tpcg.io/MhaLed</a> </p>\n"}, {"tags": [], "owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "is_accepted": false, "score": 1, "last_activity_date": 1550166340, "creation_date": 1550166340, "answer_id": 54696271, "question_id": 54694745, "link": "https://stackoverflow.com/questions/54694745/remove-first-and-last-parentheses/54696271#54696271", "title": "Remove first and last parentheses", "body": "<p>Your code is almost correct, it would worked only if you would not add the ? in the regex, for example: (I have also removed a couple of things)</p>\n\n<pre><code>/\\w+\\((.*)\\)/\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11063073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQ_fzLq5CqQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPGh-b0ZWzpZBF-c97msnsPIArkOA/mo/photo.jpg?sz=128", "display_name": "Vic Mac", "link": "https://stackoverflow.com/users/11063073/vic-mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1120, "favorite_count": 0, "accepted_answer_id": 54694815, "answer_count": 3, "score": 3, "last_activity_date": 1550169195, "creation_date": 1550160994, "last_edit_date": 1550161482, "question_id": 54694745, "link": "https://stackoverflow.com/questions/54694745/remove-first-and-last-parentheses", "title": "Remove first and last parentheses", "body": "<p>I need to pick up all texts between the first and last parentheses but am having a hard time with regex.</p>\n\n<p>What I have is this so far and I'm stuck and don't know hot to proceed further.</p>\n\n<pre><code>/(\\w+)\\((.*?)\\)\\s/g)\n</code></pre>\n\n<p>But it stops at the first \")\" that it sees.</p>\n\n<p>Sample:</p>\n\n<pre><code>(me)\n\n(mine)\n\n((me) and (you))\n</code></pre>\n\n<p>Desired output is</p>\n\n<pre><code>me\n\nmine\n\n(me) and (you)\n</code></pre>\n"}, {"tags": ["perl", "special-characters"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1550157026, "post_id": 54693332, "comment_id": 96174520, "body": "Semicolon missing after <code>open</code>, also, <code>($path || die)</code> will never die, use <code>or</code>."}, {"owner": {"reputation": 37, "user_id": 6256858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vVYL.jpg?s=128&g=1", "display_name": "Opethian", "link": "https://stackoverflow.com/users/6256858/opethian"}, "edited": false, "score": 0, "creation_date": 1550157152, "post_id": 54693332, "comment_id": 96174589, "body": "semicolon was a typo when I typed into SO. Also that is right about the filehandle. I am actually more concerned about opening a file with a special character in it."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1550158134, "post_id": 54693332, "comment_id": 96175163, "body": "What were you expecting that to print out?"}, {"owner": {"reputation": 37, "user_id": 6256858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vVYL.jpg?s=128&g=1", "display_name": "Opethian", "link": "https://stackoverflow.com/users/6256858/opethian"}, "edited": false, "score": 0, "creation_date": 1550158369, "post_id": 54693332, "comment_id": 96175320, "body": "Just to be able to see the content of the file."}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1550158462, "post_id": 54693332, "comment_id": 96175390, "body": "You haven&#39;t confirmed that the file was NOT opened. Try <code>print &quot;file = &quot;, &lt;$file&gt;</code> instead to see if the file can be read."}, {"owner": {"reputation": 37, "user_id": 6256858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vVYL.jpg?s=128&g=1", "display_name": "Opethian", "link": "https://stackoverflow.com/users/6256858/opethian"}, "edited": false, "score": 0, "creation_date": 1550160060, "post_id": 54693332, "comment_id": 96176391, "body": "I get blank after &quot;file =&quot;"}, {"owner": {"reputation": 37, "user_id": 6256858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vVYL.jpg?s=128&g=1", "display_name": "Opethian", "link": "https://stackoverflow.com/users/6256858/opethian"}, "edited": false, "score": 0, "creation_date": 1550160235, "post_id": 54693332, "comment_id": 96176483, "body": "It works now. I got a blank because I was not pointing to a valid file."}, {"owner": {"reputation": 37, "user_id": 6256858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vVYL.jpg?s=128&g=1", "display_name": "Opethian", "link": "https://stackoverflow.com/users/6256858/opethian"}, "edited": false, "score": 0, "creation_date": 1550160306, "post_id": 54693332, "comment_id": 96176528, "body": "What if the path and file were separate variables such as $path and $file. How can I combine these to work in this scenario?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1550170155, "post_id": 54693332, "comment_id": 96181537, "body": "@Opethian Can you elaborate? $path and $file are always separate variables. In your example the first is the file path (name) and the second is the file handle (what you can read from)."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550168633, "post_id": 54696490, "comment_id": 96180901, "body": "The <code>print &lt;$file_handle&gt;</code> will surely produce the whole file (even without messing with <code>$&#47;</code>) since <code>print</code> imposes the list context and the <code>&lt;&gt;</code> returns all lines; to make your point I&#39;d suggest to assign to a scalar, like <code>my $content = &lt;$file_handle&gt;; print $content;</code>.  @Shawn: fixed"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1550168911, "post_id": 54696490, "comment_id": 96181003, "body": "I took the liberty to make those changes.  Please by all means roll back what you don&#39;t like.  Another note: don&#39;t have to actually assign <code>undef</code>, just <code>local $&#47;;</code> undefines it.  (However, explicit <code>undef</code> can be claimed as documenting it, even though I&#39;d disagree.)"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1550169887, "post_id": 54696490, "comment_id": 96181415, "body": "Thanks for the corrections. You are right of course."}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 1, "last_activity_date": 1550168505, "last_edit_date": 1550168505, "creation_date": 1550167205, "answer_id": 54696490, "question_id": 54693332, "link": "https://stackoverflow.com/questions/54693332/how-to-open-a-file-that-has-a-special-character-in-it-such-as/54696490#54696490", "title": "How to open a file that has a special character in it such as $?", "body": "<p>It has nothing to do with the \"$\". Just follow standard file handling procedure.</p>\n\n<pre><code>use strict;\nuse warnings;   \n\nmy $path = 'C:\\dir\\name$.txt';\nopen my $file_handle, '&lt;', $path or die \"Can't open $path: $!\";\n\n# read and print the file line by line\nwhile (my $line = &lt;$file_handle&gt;) {\n    # the &lt;&gt; in scalar context gets one line from the file\n    print $line;\n}\n\n# reset the handle\nseek $file_handle, 0, 0;\n\n# read the whole file at once, print it\n{\n    # enclose in a block to localize the $/ \n    #     $/ is the line separator, so when it's set to undef,\n    #     it reads the whole file\n    local $/ = undef;\n    my $file_content = &lt;$file_handle&gt;;\n    print $file_content;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1550169205, "creation_date": 1550169205, "answer_id": 54696968, "question_id": 54693332, "link": "https://stackoverflow.com/questions/54693332/how-to-open-a-file-that-has-a-special-character-in-it-such-as/54696968#54696968", "title": "How to open a file that has a special character in it such as $?", "body": "<p>Consider using the CPAN modules <a href=\"https://metacpan.org/pod/File::Slurper\" rel=\"nofollow noreferrer\">File::Slurper</a> or <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a> which will handle the exact details of using open and readline, checking for errors, and encoding if appropriate (most text files are encoded to UTF-8).</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Slurper 'read_text';\nmy $file_content = read_text $path;\n\nuse Path::Tiny 'path';\nmy $file_content = path($path)-&gt;slurp_utf8;\n</code></pre>\n\n<p>If it's a data file, use <code>read_binary</code> or <code>slurp_raw</code>.</p>\n"}], "owner": {"reputation": 37, "user_id": 6256858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vVYL.jpg?s=128&g=1", "display_name": "Opethian", "link": "https://stackoverflow.com/users/6256858/opethian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1550169205, "creation_date": 1550156401, "question_id": 54693332, "link": "https://stackoverflow.com/questions/54693332/how-to-open-a-file-that-has-a-special-character-in-it-such-as", "title": "How to open a file that has a special character in it such as $?", "body": "<p>Seems fairly simple but with the \"$\" in the name causes the name to split. I tried escaping the character out but when I try to open the file I get GLOB().</p>\n\n<pre><code>my $path = 'C:\\dir\\name$.txt';\nopen my $file, '&lt;', $path || die\nprint \"file = $file\\n\";\n</code></pre>\n\n<p>It should open the file so I can traverse the entries.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1550155208, "post_id": 54692932, "comment_id": 96173243, "body": "A belated welcome to the site!  Check out the <a href=\"https://stackoverflow.com/tour\">tour</a> and the <a href=\"https://stackoverflow.com/help/how-to-ask\">how-to-ask page</a> for more about asking questions that will attract quality answers.  You can <a href=\"https://stackoverflow.com/posts/54692932/edit\">edit your question</a> to include more information.  What have you tried so far?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1550155433, "post_id": 54692932, "comment_id": 96173395, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4736/learning-regular-expressions\">Learning Regular Expressions</a>"}, {"owner": {"reputation": 63, "user_id": 10955982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fXlUjyZGvU4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM1ntguuklLWl7NMRK18InSOUcfEg/mo/photo.jpg?sz=128", "display_name": "Red_Developper", "link": "https://stackoverflow.com/users/10955982/red-developper"}, "edited": false, "score": 0, "creation_date": 1550157621, "post_id": 54692932, "comment_id": 96174883, "body": "I already mentioned my code that I tried to do,  but it does not work"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 10955982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fXlUjyZGvU4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM1ntguuklLWl7NMRK18InSOUcfEg/mo/photo.jpg?sz=128", "display_name": "Red_Developper", "link": "https://stackoverflow.com/users/10955982/red-developper"}, "is_accepted": false, "score": 0, "last_activity_date": 1550160495, "last_edit_date": 1550160495, "creation_date": 1550158656, "answer_id": 54694031, "question_id": 54692932, "link": "https://stackoverflow.com/questions/54692932/extract-all-text-include-space-and-carriage-return-between-two-word-with-regex/54694031#54694031", "title": "extract all text (include space and carriage return) between two word with regex perl", "body": "<p>I managed to find the solution thanks to you all</p>\n\n<pre><code>$example=~m/start([a-zA-Z0-9\\p{P}\\p{S} \\s]*)end/i;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 1, "last_activity_date": 1550172194, "creation_date": 1550172194, "answer_id": 54697696, "question_id": 54692932, "link": "https://stackoverflow.com/questions/54692932/extract-all-text-include-space-and-carriage-return-between-two-word-with-regex/54697696#54697696", "title": "extract all text (include space and carriage return) between two word with regex perl", "body": "<p>Line ending, i.e. <code>\\n</code>, is a white space, so this can simply be written as</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$example =~ /(?i:start)([\\w\\s]+)(?i:end)/\n</code></pre>\n\n<p>Is there a particular reason <code>start</code> and <code>end</code> have to be matched case-insensitive? Your example indicates that the regex might be simplified to:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$example =~ /Start([\\w\\s]+)End/\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10955982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fXlUjyZGvU4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM1ntguuklLWl7NMRK18InSOUcfEg/mo/photo.jpg?sz=128", "display_name": "Red_Developper", "link": "https://stackoverflow.com/users/10955982/red-developper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 54697696, "answer_count": 2, "score": -3, "last_activity_date": 1550172194, "creation_date": 1550155119, "last_edit_date": 1550155462, "question_id": 54692932, "link": "https://stackoverflow.com/questions/54692932/extract-all-text-include-space-and-carriage-return-between-two-word-with-regex", "title": "extract all text (include space and carriage return) between two word with regex perl", "body": "<pre><code>my $example=&lt;&lt;EO_STR;\n\nStart\n\ntext1 \n\ntext2 \n\n\ntext3 Text4\n\nText5 text6\n\ntext7\n\nEnd\n\nEO_STR\n</code></pre>\n\n<p>on the following exemple. I want to extract all the text between Start and End(knowing that the text text extract contains spaces and new line and return charriot)</p>\n\n<p>I tried this, but it does not work:</p>\n\n<pre><code>$example=~m/start\\s+(.*?)\\s+end/i\n</code></pre>\n"}, {"tags": ["perl", "cgi", "xss"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1550145446, "post_id": 54688670, "comment_id": 96167273, "body": "A minimal complete example that demonstrates the vulnerability would be useful to see."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1550153495, "post_id": 54688670, "comment_id": 96172097, "body": "What&#39;s <code>EVENT_PARAMETER</code>? There is no such thing in CGI, so it must be an actual parameter your code takes."}], "answers": [{"tags": [], "owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "is_accepted": false, "score": 1, "last_activity_date": 1550173434, "last_edit_date": 1550173434, "creation_date": 1550147984, "answer_id": 54690627, "question_id": 54688670, "link": "https://stackoverflow.com/questions/54688670/validating-cgi-event-parameters-to-protect-from-xss-cross-site-attack-in-perl/54690627#54690627", "title": "Validating CGI Event parameters to protect from XSS (cross site attack) in perl lauguauge", "body": "<p><a href=\"https://perldoc.perl.org/CGI.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/CGI.html</a></p>\n\n<p>Using the CGI cpan module you can use the subroutine escapeHTML and prevent XSS escaping user input before show it, since no html input from a user is viable, the user will be unable to insert links also.</p>\n"}], "owner": {"reputation": 31, "user_id": 8052645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3213baa1a73e79352c23ecdb9f8b67b4?s=128&d=identicon&r=PG&f=1", "display_name": "sudarsan", "link": "https://stackoverflow.com/users/8052645/sudarsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550173434, "creation_date": 1550141515, "question_id": 54688670, "link": "https://stackoverflow.com/questions/54688670/validating-cgi-event-parameters-to-protect-from-xss-cross-site-attack-in-perl", "title": "Validating CGI Event parameters to protect from XSS (cross site attack) in perl lauguauge", "body": "<p>From the IBM AppScan report i got to know that my code is not doing any CGI EVENT_PARAMETER validation to prevent the site from XSS (Cross site scripting) attack , Link Injection (facilitates Cross-Site Request Forgery). </p>\n\n<p>I tried all the below validation in my CGI.pm to check my EVENT_PARAMETERS contain any unwanted characters or not.</p>\n\n<p>But nothing got worked.</p>\n\n<p>Is there any other method in perl to perform validation of CGI EVENT_PARAMETERS against xss attack?.</p>\n\n<pre><code>sub string_param{  #my local function in cgi.pm to validate the parameter \n # othere code snippets here\n foreach my $val (@raw){\n\n $val =~ s/.*&lt;\\/?(script|img|a).*//igs;\n $val =~ s/%//igs;\n $val =~ s/[^A-Za-z0-9 ]*/ /g;\n $val =~ s/[^0-9\\-].*//g;\n $val = encode_entities($val);\n push( @cooked, $val );\n # returning the event parameter here\n  }\n</code></pre>\n\n<p>Would like to know is there any other  CGI EVENT_PARAMETER validation method in perl to resolve the XSS cross site scripting attack.</p>\n"}, {"tags": ["perl", "awk", "sed", "grep"], "comments": [{"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "edited": false, "score": 0, "creation_date": 1550127674, "post_id": 54684393, "comment_id": 96157787, "body": "Welcome to SO, very good that you have tried to use CODE TAGS. Use it more clearly eg--&gt; 1 section of code tags for only input and 1 section of code tags only for expected output then your question will be more clear. Also on SO we encourage people for posting their efforts also in their posts so kindly do so."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 3, "creation_date": 1550128812, "post_id": 54684393, "comment_id": 96158354, "body": "Why do you tag this <a href=\"https://stackoverflow.com/questions/tagged/awk\">awk</a> <a href=\"https://stackoverflow.com/questions/tagged/sed\">sed</a> <a href=\"https://stackoverflow.com/questions/tagged/grep\">grep</a> if you are looking for a Perl solution?"}, {"owner": {"reputation": 45, "user_id": 8507445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ea54e95ef7934881c700c33fabf8f77?s=128&d=identicon&r=PG&f=1", "display_name": "Python_geek", "link": "https://stackoverflow.com/users/8507445/python-geek"}, "edited": false, "score": 0, "creation_date": 1550141020, "post_id": 54684393, "comment_id": 96164877, "body": "i have tried using perl , with little modification , code seems to work fine. grep and awk really makes our work easy. i would love to learn about awk and sed. Hence tagged"}], "answers": [{"comments": [{"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "reply_to_user": {"reputation": 45, "user_id": 8507445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ea54e95ef7934881c700c33fabf8f77?s=128&d=identicon&r=PG&f=1", "display_name": "Python_geek", "link": "https://stackoverflow.com/users/8507445/python-geek"}, "edited": false, "score": 0, "creation_date": 1552311803, "post_id": 54684954, "comment_id": 96949182, "body": "If I understand your new requirement correctly, then you would need 3 changes: (1) before the while loop <code>my $out;</code>, (2) after the if: <code>$out = $1 if &#47;always_ff\\s+@\\((\\w+)&#47;;</code>, (3) after the print <code>print &quot;OUT=${out}\\n&quot; if &#47;^\\s*$&#47;;</code>"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": true, "score": 2, "last_activity_date": 1550128689, "last_edit_date": 1550128689, "creation_date": 1550128379, "answer_id": 54684954, "question_id": 54684393, "link": "https://stackoverflow.com/questions/54684393/perl-script-to-grep-for-always-block-and-print-the-specified-lines/54684954#54684954", "title": "Perl script to grep for always block and print the specified lines", "body": "<p>You should probably use the range operator with patterns that match the start and the end of the section. Looking at your input data I would suggest:</p>\n\n<ul>\n<li>start: match \"always_ff\" plus white space, i.e. <code>/always_ff\\s+/</code></li>\n<li>end: empty line, i.e. <code>/^\\s*$/</code></li>\n<li>in the block: print lines with assignment, i.e. <code>/&lt;=/</code></li>\n</ul>\n\n<p>Quote from <a href=\"https://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">perlop</a>:</p>\n\n<blockquote>\n  <p>In scalar context, <code>..</code> returns a boolean value. The operator is bistable, like a flip-flop, ... It is false as long as its left operand is false. Once the left operand is true, the range operator stays true until the right operand is true, AFTER which the range operator becomes false again.</p>\n</blockquote>\n\n<p>Something like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nwhile (&lt;DATA&gt;) {\n    if (/always_ff\\s+/../^\\s*$/) {\n        print if /&lt;=/;\n    }\n}\n\nexit 0;\n\n__DATA__\nalways_ff @(negedge clk )\n    begin\n       if (!clk)\n       begin\n          p1 &lt;= 1'b0;\n       end\n       else\n       begin\n         p1 &lt;= disable_ff;\n       end\n    end\n\nalways_ff @(negedge clk)\n    begin\n       if (!clk)\n       begin\n          p2&lt;= enable;\n       end\n       else\n       begin\n          p2 &lt;= disable_ff;\n       end\n    end\n</code></pre>\n\n<p>Test output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl dummy.pl\n          p1 &lt;= 1'b0;\n         p1 &lt;= disable_ff;\n          p2&lt;= enable;\n          p2 &lt;= disable_ff;\n</code></pre>\n\n<p>For your use case of reading <code>*.sv</code> files replace <code>&lt;DATA&gt;</code> from my test code with <code>&lt;STDIN&gt;</code> and use the following shell command line:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ cat *.sv | perl script.pl\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8507445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ea54e95ef7934881c700c33fabf8f77?s=128&d=identicon&r=PG&f=1", "display_name": "Python_geek", "link": "https://stackoverflow.com/users/8507445/python-geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 54684954, "answer_count": 1, "score": 0, "last_activity_date": 1550128689, "creation_date": 1550125658, "last_edit_date": 1550127917, "question_id": 54684393, "link": "https://stackoverflow.com/questions/54684393/perl-script-to-grep-for-always-block-and-print-the-specified-lines", "title": "Perl script to grep for always block and print the specified lines", "body": "<p>I need to fetch the files , read line by line and search for always_ff block.\nIf always_ff is present, then i need to print the specific lines from inside the found always_ff block </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nfor my $file ('*.sv')\n{\n   open my $fh, \"&lt;\", $file or die $!;\n   while (&lt;$fh&gt;) {\n     print scalar &lt;$fh&gt; if /begin/;\n   }\n}\n</code></pre>\n\n<p>The file has : </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>always_ff @(negedge clk )\n    begin\n       if (!clk)\n       begin\n          p1 &lt;= 1'b0;\n       end\n       else\n       begin\n         p1 &lt;= disable_ff;\n       end\n    end\n\nalways_ff @(negedge clk)\n    begin\n       if (!clk)\n       begin\n          p2&lt;= enable;\n       end\n       else\n       begin\n          p2 &lt;= disable_ff;\n       end\n    end\n</code></pre>\n\n<p>Expected result:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>p1 &lt;= disable_ff\np2&lt;= enable\np2 &lt;= disable_ff;\n</code></pre>\n\n<p>Actual result coming :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>if (!clk)\n  p1 &lt;= disable_ff;\n</code></pre>\n"}, {"tags": ["perl", "ubuntu-18.04", "net-snmp"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1550126900, "post_id": 54683952, "comment_id": 96157489, "body": "Include a trivial perl script that tries to use the module but gives you the error?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550126958, "post_id": 54683952, "comment_id": 96157511, "body": "And the full error message, not just part of it."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550127669, "post_id": 54683952, "comment_id": 96157783, "body": "No wonder. You should be using <code>use Net::SNMP;</code>. Same for anywhere else the package name is used."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550131226, "post_id": 54683952, "comment_id": 96159426, "body": "So... This is random code you found, not something you wrote intending to use Net::SNMP? Then it looks like it uses the <a href=\"https://metacpan.org/pod/SNMP\" rel=\"nofollow noreferrer\">SNMP</a> module. You should be able to figure out the Ubuntu package name for that one given @duskwuff&#39;s answer."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550131510, "post_id": 54683952, "comment_id": 96159557, "body": "Nah, I don&#39;t do chat. What package did you install this time?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550132640, "post_id": 54683952, "comment_id": 96160087, "body": "<code>Net::SNMP</code> and <code>SNMP</code> are two different modules, with two different packages in Ubuntu. Again, see @duskwuff&#39;s answer for the rules to figure out the Ubuntu package name from a perl module name."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550133095, "post_id": 54683952, "comment_id": 96160324, "body": "Install the correct package?"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1550134533, "post_id": 54683952, "comment_id": 96161047, "body": "You installed <code>libsnmp-perl</code>? That&#39;s not what you said earlier (Deleting all your comments is making this <b>really</b> hard for me or anyone else to follow, btw.)"}], "answers": [{"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 5, "last_activity_date": 1550123583, "creation_date": 1550123583, "answer_id": 54684013, "question_id": 54683952, "link": "https://stackoverflow.com/questions/54683952/why-im-not-able-to-install-perl-net-snmp-on-ubuntu-18-04/54684013#54684013", "title": "Why I&#39;m not able to install Perl Net-SNMP on Ubuntu 18.04", "body": "<p>The package you need to install is called <a href=\"https://packages.ubuntu.com/libnet-snmp-perl\" rel=\"noreferrer\"><code>libnet-snmp-perl</code></a>. Names of Perl module packages on Debian and related distributions always start with <code>lib</code> and end with <code>-perl</code>.</p>\n\n<p>The files you've installed are a set of SNMP utilities, not a Perl module.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1550321005, "post_id": 54686873, "comment_id": 96230586, "body": "I&#39;ve you&#39;ve installed <code>libsnmp-perl</code> then there&#39;s no need to install <code>SNMP</code> from CPAN as it has already been installed by <code>apt-get</code> :-)"}], "tags": [], "owner": {"reputation": 91, "user_id": 4123890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2b05b45946c4d37f379d9b617b4d931?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/4123890/vicky"}, "is_accepted": true, "score": 5, "last_activity_date": 1550135908, "creation_date": 1550135908, "answer_id": 54686873, "question_id": 54683952, "link": "https://stackoverflow.com/questions/54683952/why-im-not-able-to-install-perl-net-snmp-on-ubuntu-18-04/54686873#54686873", "title": "Why I&#39;m not able to install Perl Net-SNMP on Ubuntu 18.04", "body": "<p>Try <code>sudo apt-get install libsnmp-perl</code> and then simply install SNMP from CPAN as <code>CPAN SNMP.</code></p>\n"}], "owner": {"reputation": 1625, "user_id": 6380363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPW0n.jpg?s=128&g=1", "display_name": "PrakashG", "link": "https://stackoverflow.com/users/6380363/prakashg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5415, "favorite_count": 0, "accepted_answer_id": 54686873, "answer_count": 2, "score": 2, "last_activity_date": 1550135908, "creation_date": 1550123310, "last_edit_date": 1550127220, "question_id": 54683952, "link": "https://stackoverflow.com/questions/54683952/why-im-not-able-to-install-perl-net-snmp-on-ubuntu-18-04", "title": "Why I&#39;m not able to install Perl Net-SNMP on Ubuntu 18.04", "body": "<p>I'm trying to use <strong>Perl Net-SNMP</strong> for some monitoring scripts on <strong>Ubuntu 18.04</strong>.<br>\nBut when I execute the Perl script it says: <code>Can't locate SNMP.pm in @INC (you may need to install the SNMP module).</code>  </p>\n\n<p>I tried all possible ways to install <strong>Perl Net-SNMP</strong> and it is not able to get install successfully.<br>\nBelow are the commands which I tried to install <strong>Perl Net-SNMP</strong> on <strong>Ubuntu 18.04</strong>:  </p>\n\n<pre><code>sudo apt-get install perl-net-snmp\nsudo apt-get install net-snmp\n</code></pre>\n\n<p>I even tried using tar ball installation of tar ball [ <code>net-snmp_5.7.3+dfsg.orig.tar.xz</code> ] downloaded from: <a href=\"https://launchpad.net/ubuntu/+source/net-snmp/5.7.3+dfsg-1.7ubuntu1\" rel=\"nofollow noreferrer\">Here</a>. </p>\n\n<p>Seeking active help to get rid of this.<br>\n<em>This question is not previously asked so please do well research before</em> marking as duplicate.</p>\n\n<p><strong>My Perl script:</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse SNMP;\nuse Socket;\n\n# VARIABLES YOU SHOULD EDIT.\nmy $comm = 'public';    # EDIT ME!\nmy $dest = 'localhost'; # EDIT ME!\nmy $mib  = 'sysDescr';  # Toy with this to get different\n                        # results.\nmy $sver = '2';         # EDIT ME!\n\n# VARIABLES YOU SHOULD LEAVE ALONE.\nmy $sess; # The SNMP::Session object that does the work.\nmy $var;  # Used to hold the individual responses.\nmy $vb;   # The Varbind object used for the 'real' query.\n\n# Initialize the MIB (else you can't do queries).\n&amp;SNMP::initMib();\n\nmy %snmpparms;\n$snmpparms{Community} = $comm;\n$snmpparms{DestHost} = inet_ntoa(inet_aton($dest));\n$snmpparms{Version} = $sver;\n$snmpparms{UseSprintValue} = '1';\n$sess = new SNMP::Session(%snmpparms);\n\n# Turn the MIB object into something we can actually use.\n$vb = new SNMP::Varbind([$mib,'0']); # '0' is the instance.\n\n$var = $sess-&gt;get($vb); # Get exactly what we asked for.\nif ($sess-&gt;{ErrorNum}) {\n  die \"Got $sess-&gt;{ErrorStr} querying $dest for $mib.\\n\";\n  # Done as a block since you may not always want to die\n  # in here.  You could set up another query, just go on,\n  # or whatever...\n}\nprint $vb-&gt;tag, \".\", $vb-&gt;iid, \" : $var\\n\";\n\n# Now let's show a MIB that might return multiple instances.\n$mib = 'ipNetToMediaPhysAddress'; # The ARP table!\n$vb = new SNMP::Varbind([$mib]);  # No instance this time.\n\n# I prefer this loop method.  YMMV.\nfor ( $var = $sess-&gt;getnext($vb);\n      ($vb-&gt;tag eq $mib) and not ($sess-&gt;{ErrorNum});\n      $var = $sess-&gt;getnext($vb)\n    ) {\n  print $vb-&gt;tag, \".\", $vb-&gt;iid, \" : \", $var, \"\\n\";\n}\nif ($sess-&gt;{ErrorNum}) {\n  die \"Got $sess-&gt;{ErrorStr} querying $dest for $mib.\\n\";\n}\n\nexit;\n</code></pre>\n\n<p><strong>Complete Error:</strong></p>\n\n<pre><code>Can't locate SNMP.pm in @INC (you may need to install the SNMP module) (@INC contains: /home/prak/perl5/lib/perl5/5.26.1/x86_64-linux-gnu-thread-multi /home/prak/perl5/lib/perl5/5.26.1 /home/prak/perl5/lib/perl5/x86_64-linux-gnu-thread-multi /home/prak/perl5/lib/perl5 /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /home/prak/perl5/lib/perl5/5.26.0 /home/prak/perl5/lib/perl5/5.26.0/x86_64-linux-gnu-thread-multi /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at snmp1.pl line 4.\nBEGIN failed--compilation aborted at snmp1.pl line 4.\n</code></pre>\n"}, {"tags": ["string", "perl", "nlp"], "comments": [{"owner": {"reputation": 31, "user_id": 6058742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493848fe64e371cce740b87e030b8cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet Emre Harsa", "link": "https://stackoverflow.com/users/6058742/ahmet-emre-harsa"}, "edited": false, "score": 0, "creation_date": 1550113566, "post_id": 54682552, "comment_id": 96154027, "body": "I am not sure why the &quot; makes the rest of the code after the middle of while like that, btw. In our servers at university, that does not seem to create such a problem. And yes, I am aware that it is very very possible I have too much to go at Perl."}, {"owner": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1550113619, "post_id": 54682552, "comment_id": 96154040, "body": "Arguments to the entire script are stored in <code>@ARGV</code>, not <code>@_</code>. Getting values of <code>$stdin</code> and <code>$word_2Hash</code> from <code>@_</code> means they&#39;ll be undefined."}, {"owner": {"reputation": 31, "user_id": 6058742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493848fe64e371cce740b87e030b8cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet Emre Harsa", "link": "https://stackoverflow.com/users/6058742/ahmet-emre-harsa"}, "reply_to_user": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1550113676, "post_id": 54682552, "comment_id": 96154050, "body": "okay just checking thanks"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550114050, "post_id": 54682552, "comment_id": 96154127, "body": "I don&#39;t know from which source you are trying to learn Perl from, but it doesn&#39;t seem to have to do anything with Perl. It should be <code>hash_4Frequency($word_2Hash, \\%f);</code> and <code>print $ref2_Hash-&gt;{$hashWord}, &quot;\\n&quot;;</code>"}, {"owner": {"reputation": 31, "user_id": 6058742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493848fe64e371cce740b87e030b8cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet Emre Harsa", "link": "https://stackoverflow.com/users/6058742/ahmet-emre-harsa"}, "edited": false, "score": 0, "creation_date": 1550114290, "post_id": 54682552, "comment_id": 96154177, "body": "it is our Lecture and Lab notes frankly, maybe either they are really outdated or just trash. $ref2_Hash-&gt;{$hashWord}, &quot;\\n&quot;; makes sense to me, but since I was working on this for a long time, I diverged into whatever really"}, {"owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550114361, "post_id": 54682552, "comment_id": 96154191, "body": "The input loop should probably be <code>while (&lt;STDIN&gt;) { chomp; my @words = map { uc } &#47;(\\w+)&#47;g; $f{$_}++ foreach @words; $wc += @words; }</code>. You call your script with <code>perl script.pl &lt;wordlist.txt word-to-hash</code>."}, {"owner": {"reputation": 31, "user_id": 6058742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493848fe64e371cce740b87e030b8cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet Emre Harsa", "link": "https://stackoverflow.com/users/6058742/ahmet-emre-harsa"}, "edited": false, "score": 0, "creation_date": 1550114707, "post_id": 54682552, "comment_id": 96154262, "body": "I am working the points you have supplied me with. Will return."}, {"owner": {"reputation": 31, "user_id": 6058742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493848fe64e371cce740b87e030b8cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet Emre Harsa", "link": "https://stackoverflow.com/users/6058742/ahmet-emre-harsa"}, "reply_to_user": {"reputation": 705, "user_id": 6490359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/711f0af849e984c1633fe69ae8354b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Silvar", "link": "https://stackoverflow.com/users/6490359/silvar"}, "edited": false, "score": 0, "creation_date": 1550118039, "post_id": 54682552, "comment_id": 96154958, "body": "Any possible remarks on the latest version and the issue that might be of some  - <i>ahem</i> very appreciated - use? @Silvar"}, {"owner": {"reputation": 31, "user_id": 6058742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493848fe64e371cce740b87e030b8cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet Emre Harsa", "link": "https://stackoverflow.com/users/6058742/ahmet-emre-harsa"}, "reply_to_user": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "edited": false, "score": 0, "creation_date": 1550118144, "post_id": 54682552, "comment_id": 96154979, "body": "Couldn&#39;t refer you at above comment @StefanBecker"}], "answers": [{"tags": [], "owner": {"reputation": 4913, "user_id": 1682146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e62f4b6f77a92fb607a5760654891592?s=128&d=identicon&r=PG", "display_name": "piojo", "link": "https://stackoverflow.com/users/1682146/piojo"}, "is_accepted": false, "score": 1, "last_activity_date": 1550118379, "creation_date": 1550118379, "answer_id": 54683213, "question_id": 54682552, "link": "https://stackoverflow.com/questions/54682552/fixing-perl-errors-when-i-try-to-pass-a-hash-by-reference-and-a-variable-to-a/54683213#54683213", "title": "Fixing Perl errors when I try to pass a hash (by reference) AND a variable to a sub to print the corresponding value in the hash", "body": "<p>A quick test on the command line with this example shows one correct syntax for passing in a word and a hash reference to a function:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.18;\nsub foo {\n    my $word = $_[0];\n    shift;\n    my $hsh = $_[0];\n    say $word; say $hsh-&gt;{$word};\n};\nfoo(\"x\", {\"x\" =&gt; 4});\n# prints x and 4\n</code></pre>\n\n<p>This treats the argument list as an array, getting the first element and popping it off each time. Instead, I would actually suggest getting both arguments at the same time: <code>my ($word, $hsh) = @_;</code></p>\n\n<p>And your syntax for accessing the hash ref elements may well be correct, but I find it easier to remember the syntax which is shared between C++ and perl: an arrow means dereferencing. Plus you know you'll never accidentally copy the data structure when using the arrow syntax.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1550320874, "post_id": 54684001, "comment_id": 96230557, "body": "Please don&#39;t encourage beginners to the language to use prototypes. <a href=\"https://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">Why are Perl 5&#39;s function prototypes bad?</a>"}], "tags": [], "owner": {"reputation": 5181, "user_id": 8866606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ao_wuU1YCUE/AAAAAAAAAAI/AAAAAAAAAtc/Nc6ExTtKE_A/photo.jpg?sz=128", "display_name": "Stefan Becker", "link": "https://stackoverflow.com/users/8866606/stefan-becker"}, "is_accepted": false, "score": 1, "last_activity_date": 1550124296, "last_edit_date": 1550124296, "creation_date": 1550123519, "answer_id": 54684001, "question_id": 54682552, "link": "https://stackoverflow.com/questions/54682552/fixing-perl-errors-when-i-try-to-pass-a-hash-by-reference-and-a-variable-to-a/54684001#54684001", "title": "Fixing Perl errors when I try to pass a hash (by reference) AND a variable to a sub to print the corresponding value in the hash", "body": "<p>Your fixed version is not much better than your first one. Although it passes the syntax check it has several semantic errors. Here is a version with the minimum amount of fixes to make it work</p>\n\n<p><strong>NOTE:</strong> this is not how you write it in idiomatic Perl.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nsub hash_4Frequency($$) {\n    my($ref2_Hash, $hashWord) = @_;\n\n    print $ref2_Hash -&gt; {$hashWord}, \"\\n\";\n}\n\nmy %f = ();  # hash that will contain words and their frequencies\nmy $wc = 0;  # word-count\n\nwhile (&lt;STDIN&gt;)\n{\n    chomp;\n    while (/(\\w+)/g)\n    {\n        $f{$1}++;\n        $wc++;\n    }\n}\n\nhash_4Frequency(\\%f, $ARGV[0]);\n</code></pre>\n\n<p>Test output with \"Lorem ipsum\" as input text:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cat dummy.txt \nLorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor\nincidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis\nnostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat.\nQuis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat\nnulla pariatur. Excepteur sint obcaecat cupiditat non proident, sunt in culpa\nqui officia deserunt mollit anim id est laborum.\n\n$ perl &lt;dummy.txt dummy.pl Lorem\n1\n</code></pre>\n\n<hr>\n\n<p><strong>BONUS CODE:</strong> this would be my first stab the given problem. Your first version lower-cased all words, which does makes sense, so I kept it:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nsub word_frequency($$) {\n    my($hash_ref, $word) = @_;\n\n    print \"The word '${word}' appears \", $hash_ref-&gt;{$word} // 0, \" time(s) in the input text.\\n\";\n}\n\nmy %words;  # hash that will contain words and their frequencies\nmy $wc = 0; # word-count\n\nwhile (&lt;STDIN&gt;) {\n    # lower case all words\n    $wc += map { $words{lc($_)}++ } /(\\w+)/g\n}\n\nprint \"Input text has ${wc} words in total, of which \",\n      scalar(keys %words),\n      \" are unique.\\n\";\n\n# return frequency in input text for every word on the command line\nforeach my $word (@ARGV) {\n    word_frequency(\\%words, lc($word));\n}\n\nexit 0;\n</code></pre>\n\n<p>Test run</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl &lt;dummy.txt dummy.pl Lorem ipsum dolor in test\nInput text has 66 words in total, of which 61 are unique.\nThe word 'lorem' appears 1 time(s) in the input text.\nThe word 'ipsum' appears 1 time(s) in the input text.\nThe word 'dolor' appears 1 time(s) in the input text.\nThe word 'in' appears 2 time(s) in the input text.\nThe word 'test' appears 0 time(s) in the input text.\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6058742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493848fe64e371cce740b87e030b8cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet Emre Harsa", "link": "https://stackoverflow.com/users/6058742/ahmet-emre-harsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1550124296, "creation_date": 1550112979, "last_edit_date": 1550117589, "question_id": 54682552, "link": "https://stackoverflow.com/questions/54682552/fixing-perl-errors-when-i-try-to-pass-a-hash-by-reference-and-a-variable-to-a", "title": "Fixing Perl errors when I try to pass a hash (by reference) AND a variable to a sub to print the corresponding value in the hash", "body": "<p>I am banging my head over a Perl task in my Natural Language Processing course that we have been assigned to solve.</p>\n\n<p>What they require us to be able to solve with Perl is the following:</p>\n\n<ul>\n<li><p>Input: the program takes two inputs from stdin in the form and type of;\n  perl program.pl  </p></li>\n<li><p>Processing and Output:</p>\n\n<p>Part 1: the program tokenizes words in filename.txt and stores these words in a hash with their frequency of occurrence</p>\n\n<p>Part 2: the program uses the  input for hashing purposes. If the word cannot be found in the hash (thus in the text), prints out zero as the frequency of the word. If the word CAN indeed be\nfound in the hash, prints out the corresponding frequency value of the word in the hash.</p></li>\n</ul>\n\n<p>I am sure from experience that my script is already able to DO \"Part 1\" stated above.</p>\n\n<p>Part 2 needs to be accomplished using a Perl sub (subroutine) which takes the hash by reference, along with the  to hash for. This was the part that I had some serious trouble with.</p>\n\n<p>First version before major changes Stefan Becker suggested;</p>\n\n<pre><code>#!/usr/bin/perl                                                                           \n\nuse warnings;\nuse strict;\n\nsub hash_4Frequency\n{\n    my ($hashWord, $ref2_Hash) = @_;                       \n    print $ref2_Hash -&gt; {$hashWord}, \"\\n\";  # thank you Stefan Becker, for sobriety\n}\n\nmy %f = ();  # hash that will contain words and their frequencies                              \nmy $wc = 0;  # word-count                                       \n\nmy ($stdin, $word_2Hash) = @ARGV;  # corrected, thanks to Silvar\n\nwhile ($stdin)\n{\n    while (\"/\\w+/\")\n    {\n        my $w = $&amp;;\n        $_ = $\";\n        $f{lc $w} += 1;\n        $wc++;\n    }\n}\n\nmy @args = ($word_2Hash, %f);\nhash_4Frequency(@args);\n</code></pre>\n\n<p>The second version after some changes;</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nsub hash_4Frequency\n{\n    my $ref2_Hash = %_;\n    my $hashWord = $_;\n\n    print $ref2_Hash -&gt; {$hashWord}, \"\\n\";\n}\n\nmy %f = ();  # hash that will contain words and their frequencies\nmy $wc = 0;  # word-count\n\nwhile (&lt;STDIN&gt;) \n{\n    while (/\\w+/)\n    {\n        chomp;\n        my $w = $&amp;;\n        $_ = $\";\n\n        $f{$_}++ foreach keys %f;\n        $wc++;\n    }\n}\n\nhash_4Frequency($_, \\%f);\n</code></pre>\n\n<p>When I execute ' ./script.pl &lt; somefile.txt someWord ' in Terminal, Perl complains (Perl's output for the first version)</p>\n\n<pre><code> Use of uninitialized value $hashWord in hash element at   \n ./word_counter2.pl line 35.\n\n Use of uninitialized value in print at ./word_counter2.pl line 35.\n</code></pre>\n\n<p>What Perl complains for the second version;</p>\n\n<pre><code> Can't use string (\"0\") as a HASH ref while \"strict refs\" in use at ./word_counter2.pl line 13, &lt;STDIN&gt; line 8390.\n</code></pre>\n\n<p>At least now I know the script can successfully work until this very last point, and it seems something semantic rather than syntactical.</p>\n\n<p>Any further advice on this last part? Would be really appreciated.</p>\n\n<p>P.S.: Sorry pilgrims, I am just a novice in the path of Perl.</p>\n"}]