[{"tags": ["perl", "csv", "runtime-error"], "comments": [{"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 0, "creation_date": 1434125026, "post_id": 30768954, "comment_id": 49662976, "body": "see also: <a href=\"http://stackoverflow.com/a/9249543/468327\">stackoverflow.com/a/9249543/468327</a>"}], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1434041688, "post_id": 30769832, "comment_id": 49623492, "body": "your suggestion did the trick. Surprisingly though I only work on Windows hence both the file and the script in Perl are running on the same platform. Thanks for the help!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1433984251, "creation_date": 1433984251, "answer_id": 30769832, "question_id": 30768954, "link": "https://stackoverflow.com/questions/30768954/accessing-data-stored-in-csv-file/30769832#30769832", "title": "Accessing data stored in .CSV file", "body": "<p>I suspect that this is due to the CSV file originating on Windows but being processed on a different platform</p>\n\n<p><code>Tie::Array::CSV</code> hard codes the record separator as LF, which is correct for almost any situation (including Windows files being processed on a Windows system) but the records of a Windows file processed non-natively will appear to end in CR LF. The module will strip only the LF, leaving a spurious CR at the end of the last field</p>\n\n<p>If my conjecture is correct (I can't test at present as the system disk on my Windows machine died this afternoon) then you can change the record separator to CR LF by writing</p>\n\n<pre><code>tie my @data, 'Tie::Array::CSV', 'ExampleData.csv', tie_file =&gt; { recsep =&gt; \"\\r\\n\" };\n</code></pre>\n\n<p>I hope this helps</p>\n"}], "owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 30769832, "answer_count": 1, "score": 1, "last_activity_date": 1433984251, "creation_date": 1433978321, "question_id": 30768954, "link": "https://stackoverflow.com/questions/30768954/accessing-data-stored-in-csv-file", "title": "Accessing data stored in .CSV file", "body": "<p>I have written a very simple script that is supposed to output the 2nd element of the 2nd line of a CSV file. However, when I run it I get the following error message: <code>\"Uncaught exception from user code: CSV parse error: EIF - CR char inside unquoted, not part of EOL at csv.tester1.pl line 13\"</code> </p>\n\n<p>What am I doing wrong?</p>\n\n<p>This is the actual code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse diagnostics;\n\nuse Tie::Array::CSV;\n\ntie my @data, 'Tie::Array::CSV', 'ExampleData.csv';\n\nmy $length = scalar(@data);\nprint $length;\nprint \"\\n\";\nprint $data[1][1];\n</code></pre>\n\n<p>while the data file is called ExampleData.csv and is:</p>\n\n<pre><code>25201927,5.62963E+14,B,100,203300,P\n25201928,5.62963E+14,D,0,0,P\n25201928,5.62963E+14,B,400,202500,P\n</code></pre>\n"}, {"tags": ["xml", "perl", "xml-parsing"], "comments": [{"owner": {"reputation": 6351, "user_id": 10415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99940add21e5fb2247237459a586597d?s=128&d=identicon&r=PG", "display_name": "runrig", "link": "https://stackoverflow.com/users/10415/runrig"}, "edited": false, "score": 0, "creation_date": 1433979451, "post_id": 30768755, "comment_id": 49590253, "body": "use Data::Dumper; and print Dumper $data to see how it is parsing your XML."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1433982684, "post_id": 30768755, "comment_id": 49591075, "body": "You really should avoid <code>XML::Simple</code>. It makes any XML code much more complicated than it needs to be and gives rise to all sorts of problems like this one."}], "answers": [{"tags": [], "owner": {"reputation": 3217, "user_id": 21987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e82fa3d3e0a99a93777b65a4ccda8126?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/21987/joel"}, "is_accepted": true, "score": 1, "last_activity_date": 1433982013, "creation_date": 1433982013, "answer_id": 30769542, "question_id": 30768755, "link": "https://stackoverflow.com/questions/30768755/how-to-print-an-empty-xml-element-in-perl/30769542#30769542", "title": "How to print an empty XML element in perl", "body": "<p>Take a look at the <a href=\"https://metacpan.org/pod/XML::Simple#SuppressEmpty-1-undef-in-out---handy\" rel=\"nofollow\"><code>SuppressEmpty</code></a> option that can be passed to XML::Simple.  Without it, XML::Simple will provide an empty hash for empty elements.  By calling <code>XMLin(\"$ARGV[0]\", ForceArray=&gt;1, SuppressEmpty=&gt;1);</code> your output should be: <code>,,,,bshnbat612,Approved,email,2014-03-28,5,,Verified Purchaser;Verified Reviewer</code></p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1434016620, "creation_date": 1434016620, "answer_id": 30777484, "question_id": 30768755, "link": "https://stackoverflow.com/questions/30768755/how-to-print-an-empty-xml-element-in-perl/30777484#30777484", "title": "How to print an empty XML element in perl", "body": "<p>OK, there's a big hint on the <code>XML::Simple</code> documentation:</p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces. In particular, XML::LibXML is highly recommended.</p>\n</blockquote>\n\n<p>Personally though, I like <code>XML::Twig</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nsub print_full_review {\n    my ( $twig, $full_review ) = @_;\n    my $pageid =\n        $twig-&gt;root-&gt;get_xpath( '/products/product/pageid', 0 )-&gt;text;\n\n    print join(\n        \",\",\n        @ARGV[ 1 .. 4 ],\n        $pageid,\n        $full_review-&gt;first_child_text('status'),\n        $full_review-&gt;first_child_text('source'),\n        $full_review-&gt;first_child_text('createddate'),\n        $full_review-&gt;first_child_text('overallrating'),\n        $full_review-&gt;first_child_text('email_address_from_user'),\n        join( \";\",\n            map { $_-&gt;text }\n                $full_review-&gt;first_child('confirmstatusgroup')-&gt;children() )\n        ),\n        \"\\n\";\n}\n\nmy $twig = XML::Twig-&gt;new(\n    'pretty_print'  =&gt; 'indented_a',\n    'twig_handlers' =&gt; { 'fullreview' =&gt; \\&amp;print_full_review }\n);\n$twig-&gt;parsefile( $ARGV[0] );\n</code></pre>\n\n<p>The handlers 'print_full_review' is triggered each time the parser encounters a <code>fullreview</code> element (at any level in the tree - you can be more specific by setting it to process <code>/product/products/reviews/fullreview</code> if that's a problem).</p>\n\n<p>This handler is passed the <code>fullreview</code> element for processing. </p>\n\n<p>And from it we extract the values you seek. </p>\n\n<pre><code>join( \";\",\n    map { $_-&gt;text }\n        $full_review-&gt;first_child('confirmstatusgroup')-&gt;children() )\n</code></pre>\n\n<p>Is a slightly more complicated way of doing:</p>\n\n<pre><code>my $confirmstatusgroup = $full_review -&gt; first_child('confirmstatusgroup');\nforeach my $confirmstatus ( $confirmstatusgroup -&gt; children ) { \n    print $confirmstatus -&gt; text,\";\";\n}\n</code></pre>\n\n<p>But the code above produces your desired output, but without having to do any sort of 'suppressempty' fudges like you would with <code>XML::Simple</code>. </p>\n"}], "owner": {"reputation": 883, "user_id": 1481331, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c64dcab1acc95f1c9be7cf97962c77f4?s=128&d=identicon&r=PG", "display_name": "Scott Wood", "link": "https://stackoverflow.com/users/1481331/scott-wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 30769542, "answer_count": 2, "score": 0, "last_activity_date": 1434016620, "creation_date": 1433977187, "last_edit_date": 1433986033, "question_id": 30768755, "link": "https://stackoverflow.com/questions/30768755/how-to-print-an-empty-xml-element-in-perl", "title": "How to print an empty XML element in perl", "body": "<p>I occasionally have to write simple perl scripts to export data from XML files into CSV files for loading into a database.  </p>\n\n<p>I am encountering a problem \"print\"ing an element that has no value.  Instead of just printing nothing, it prints the string \"HASH(0x1ca05f8)\" (or its siblings).  </p>\n\n<p>How do I stop it from doing this?</p>\n\n<p>Below is the code that I am using, and the data that I am using.  Thanks,  --sw</p>\n\n<p>parse.pl:</p>\n\n<pre><code>#!/usr/bin/perl\n#use module\nuse XML::Simple;\nuse Data::Dumper;\n\n#create object\n$xml = new XML::Simple;\n\n#read XML file\n$data = $xml-&gt;XMLin(\"$ARGV[0]\", ForceArray=&gt;1);\n\nforeach $pr (@{$data-&gt;{product}})\n{\n  foreach $rv (@{$pr-&gt;{reviews}})\n  {\n    foreach $fr (@{$rv-&gt;{fullreview}})\n    {\n      print \"$ARGV[1]\", \",\";\n      print \"$ARGV[2]\", \",\";\n      print \"$ARGV[3]\", \",\";\n      print \"$ARGV[4]\", \",\";\n      print $pr-&gt;{\"pageid\"}-&gt;[0], \",\";\n      print $fr-&gt;{\"status\"}-&gt;[0], \",\";\n      print $fr-&gt;{\"source\"}-&gt;[0], \",\";\n      print $fr-&gt;{\"createddate\"}-&gt;[0], \",\";\n      print $fr-&gt;{\"overallrating\"}-&gt;[0], \",\";\n      print $fr-&gt;{\"email_address_from_user\"}-&gt;[0], \",\";\n      foreach $csg (@{$fr-&gt;{confirmstatusgroup}})\n      {\n        print join(\";\", @{$csg-&gt;{\"confirmstatus\"}});\n      }\n\n\n      print \"\\n\";\n    }\n  }\n}\n</code></pre>\n\n<p>data.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;products xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;product xsi:type=\"ProductWithReviews\" locale=\"en_US\"&gt;\n&lt;pageid&gt;bshnbat612&lt;/pageid&gt;\n&lt;reviews&gt;\n&lt;fullreview&gt;\n&lt;status&gt;Approved&lt;/status&gt;\n&lt;createddate&gt;2014-03-28&lt;/createddate&gt;\n&lt;source&gt;email&lt;/source&gt;\n&lt;confirmstatusgroup&gt;\n&lt;confirmstatus&gt;Verified Purchaser&lt;/confirmstatus&gt;\n&lt;confirmstatus&gt;Verified Reviewer&lt;/confirmstatus&gt;\n&lt;/confirmstatusgroup&gt;\n&lt;overallrating&gt;5&lt;/overallrating&gt;\n&lt;email_address_from_user/&gt;\n&lt;/fullreview&gt;\n&lt;/reviews&gt;\n&lt;/product&gt;\n&lt;/products&gt;\n</code></pre>\n\n<p>The output this creates:</p>\n\n<pre><code>,,,,bshnbat612,Approved,email,2014-03-28,5,HASH(0xe9fee8),Verified Purchaser;Verified Reviewer\n</code></pre>\n\n<p>In response to a suggestion made below, here is the Dumper output:</p>\n\n<pre><code>$VAR1 = {\n    'xmlns:xsi' =&gt; 'http://www.w3.org/2001/XMLSchema-instance',\n    'product' =&gt; [\n    {\n        'xsi:type' =&gt; 'ProductWithReviews',\n        'reviews' =&gt; [\n        {\n            'fullreview' =&gt; [\n            {\n                'source' =&gt; [\n                    'email'\n                ],\n                'email_address_from_user' =&gt; [\n                {}\n                ],\n                    'overallrating' =&gt; [\n                        '5'\n                    ],\n                    'confirmstatusgroup' =&gt; [\n                    {\n                        'confirmstatus' =&gt; [\n                            'Verified Purchaser',\n                        'Verified Reviewer'\n                        ]\n                    }\n                    ],\n                        'status' =&gt; [\n                            'Approved'\n                        ],\n                        'createddate' =&gt; [\n                            '2014-03-28'\n                        ]\n            }\n            ]\n        }\n        ],\n            'pageid' =&gt; [\n                'bshnbat612'\n            ],\n            'locale' =&gt; 'en_US'\n    }\n    ]\n};\n</code></pre>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 2, "creation_date": 1433968008, "post_id": 30766598, "comment_id": 49585333, "body": "Whaoh, I will need time to digest this. Wonderful example thank you. Could you please explain a bit more what you do here?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1433970578, "post_id": 30766598, "comment_id": 49586829, "body": "@jm666, Added to my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1433971012, "last_edit_date": 1433971012, "creation_date": 1433967842, "answer_id": 30766598, "question_id": 30766262, "link": "https://stackoverflow.com/questions/30766262/affecting-a-value-to-a-multilevel-hash-in-one-instruction/30766598#30766598", "title": "Affecting a value to a multilevel hash in one instruction", "body": "<p>it would be more effective if you actually passed the keys to it! Let's make it an lvalue sub at the same time.</p>\n\n<pre><code>sub dive_val :lvalue {\n   my $p = \\shift;\n   $p = \\( $$p-&gt;{$_} ) for @_;\n   $$p\n}\n\nmy %hash;\ndive_val(\\%hash, qw( foo babel )) = 'fish';\ndive_val(\\%hash, @keys) = 42;\n</code></pre>\n\n<p>There are two added advantages to this implementation.</p>\n\n<p>First, you can use it to peek into the data structure.</p>\n\n<pre><code>print(dive_val($hash, @keys), \"\\n\");\n</code></pre>\n\n<p>Second, it will autovivify its first argument.</p>\n\n<pre><code>my $hash;\ndive_val($hash, @keys) = 42;\n</code></pre>\n\n<p>This function already exists as <a href=\"http://search.cpan.org/perldoc?Data::Diver\" rel=\"nofollow\">Data::Diver</a>'s <code>DiveVal</code>.</p>\n\n<pre><code>use Dive::Val qw( DiveVal );\n\nDiveVal(\\%hash, map \\$_, @keys) = 42;\n</code></pre>\n\n<hr>\n\n<p>Comparison of the flow of <code>affect</code> and <code>dive_val</code>:</p>\n\n<ul>\n<li><p><code>affect</code></p>\n\n<p><code>$ref</code> is a reference to a hash.</p>\n\n<pre><code>Pre-loop:            $ref references %hash\nAfter loop pass 0:   $ref references %{ $hash{$key[0]} }\nAfter loop pass 1:   $ref references %{ $hash{$key[0]}{$key[1]} }\nPost loop uses:      $ref-&gt;{$key[2]}\n</code></pre></li>\n<li><p><code>dive_val</code></p>\n\n<p><code>$p</code> is a reference to a scalar.</p>\n\n<pre><code>Pre-loop:            $p references $hash\nAfter loop pass 0:   $p references $hash-&gt;{$key[0]}\nAfter loop pass 1:   $p references $hash-&gt;{$key[0]}{$key[1]}\nAfter loop pass 2:   $p references $hash-&gt;{$key[0]}{$key[1]}{$key[2]}\nPost loop uses:      $$p\n</code></pre></li>\n</ul>\n\n<p><code>dive_val</code>'s approach is purer.</p>\n\n<ul>\n<li>There's no need to create the hash before it's dereferenced (unlike <code>affect</code> which creates it in the previous loop pass). </li>\n<li>In fact, the scalar doesn't need to be in a hash at all. This means <code>dive_val</code> could easily be extended to support mixed array/hash structures.</li>\n<li>There's no need to treat the root specially (if you want to accept a potentially undefined argument).</li>\n<li>There's no need to treat the last key specially.</li>\n</ul>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 30766598, "answer_count": 1, "score": 1, "last_activity_date": 1433971012, "creation_date": 1433966753, "last_edit_date": 1433967509, "question_id": 30766262, "link": "https://stackoverflow.com/questions/30766262/affecting-a-value-to-a-multilevel-hash-in-one-instruction", "title": "Affecting a value to a multilevel hash in one instruction", "body": "<p>I am looking for a more effective way to write this <code>affect</code> subroutine in <a href=\"/questions/tagged/perl\" class=\"post-tag\" title=\"show questions tagged &#39;perl&#39;\" rel=\"tag\">perl</a>: </p>\n\n<pre><code>#!/usr/bin/perl\nuse 5.010;\nuse strict;\n\nmy @keys = qw/foo bar baz/;\nmy %hash = ( foo =&gt; {babel =&gt; 'fish'} );\n\naffect (\\%hash, 42);\n\nsub affect {\n   my $ref = shift;\n   $ref = $ref-&gt;{$keys[$_]} //= {} for (0.. $#keys - 1);\n   $ref-&gt;{$keys[$#keys]} = shift;\n}\n\nuse Data::Dumper;\nprint Dumper \\%hash;\n</code></pre>\n\n<p>And the expected result:</p>\n\n<pre><code>$VAR1 = {\n          'foo' =&gt; {\n                     'bar' =&gt; {\n                                'baz' =&gt; 42\n                              },\n                     'babel' =&gt; 'fish'\n                   }\n        };\n</code></pre>\n\n<p>I was thinking about things like this, but obviously it can't work like this:</p>\n\n<pre><code>%hash{ @keys } = 42;\n</code></pre>\n\n<p>Any idea?</p>\n"}, {"tags": ["regex", "perl", "awk", "sed", "fasta"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433968941, "post_id": 30765708, "comment_id": 49585918, "body": "Do the header lines really start with a backslash, and is every other line blank like that?"}, {"owner": {"reputation": 11, "user_id": 4996391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd2587ec7390f4b0ce4c01a042b1a72?s=128&d=identicon&r=PG&f=1", "display_name": "brandon scott", "link": "https://stackoverflow.com/users/4996391/brandon-scott"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1434060822, "post_id": 30765708, "comment_id": 49634021, "body": "no, I was having trouble, the browser keep thinking I was typing code, the lines start with the &quot;&gt;&quot; symbol and there are no empty lines."}], "answers": [{"tags": [], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "is_accepted": false, "score": 0, "last_activity_date": 1433966380, "last_edit_date": 1433966380, "creation_date": 1433965660, "answer_id": 30765924, "question_id": 30765708, "link": "https://stackoverflow.com/questions/30765708/edit-line-names-with-a-new-name-containing-an-incremented-value/30765924#30765924", "title": "Edit line names with a new name containing an incremented value", "body": "<p>Try something like this:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nopen (my $fh, '&lt;','example.txt');\nopen (my $fh1, '&gt;','example2.txt');\n\nmy $n = 1;\n\n# For each line of the input file\nwhile(&lt;$fh&gt;) {\n\n    # Try to update the name, if successful, increment $n\n    if ($_ =~ s/^&gt;.*/&gt;Contig$n/) { $n++; }\n\n    print $fh1 $_;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1637, "user_id": 2397101, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2f71dd495d236d8233ffda10596a011e?s=128&d=identicon&r=PG&f=1", "display_name": "josifoski", "link": "https://stackoverflow.com/users/2397101/josifoski"}, "is_accepted": false, "score": 0, "last_activity_date": 1433967297, "last_edit_date": 1433967297, "creation_date": 1433966448, "answer_id": 30766177, "question_id": 30765708, "link": "https://stackoverflow.com/questions/30765708/edit-line-names-with-a-new-name-containing-an-incremented-value/30766177#30766177", "title": "Edit line names with a new name containing an incremented value", "body": "<p>I'm not awk expert (far from that), but solved this only for curiosity and because sed don't contain variables (limited possibilities).</p>\n\n<p>One possible gawk solution could be  </p>\n\n<pre><code>awk -v n=1 '/^&gt;/{print \"&gt;Contig \" n; n++; next}1' &lt;file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1433988424, "post_id": 30766233, "comment_id": 49592431, "body": "While this answer is probably correct and useful, it is preferred if you include some explanation along with it to explain how it helps to solve the problem. This becomes especially useful in the future, if there is a change (possibly unrelated) that causes it to stop working and users need to understand how it once worked."}, {"owner": {"reputation": 11, "user_id": 4996391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd2587ec7390f4b0ce4c01a042b1a72?s=128&d=identicon&r=PG&f=1", "display_name": "brandon scott", "link": "https://stackoverflow.com/users/4996391/brandon-scott"}, "edited": false, "score": 0, "creation_date": 1434061023, "post_id": 30766233, "comment_id": 49634096, "body": "Understandable, I am parsing some output from a genomics assembly algorithm which created sequence contigs with complex long names.  These complicated sequence names confound another algorithm i am using to annotate the sequences, so i am converting the names to something simpler."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1433966963, "last_edit_date": 1433966963, "creation_date": 1433966652, "answer_id": 30766233, "question_id": 30765708, "link": "https://stackoverflow.com/questions/30765708/edit-line-names-with-a-new-name-containing-an-incremented-value/30766233#30766233", "title": "Edit line names with a new name containing an incremented value", "body": "<pre><code>perl -i -pe 's/&gt;.*/\"&gt;Contig \" . ++$c/e;' file.txt\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\\&gt;Contig 1\nATGTCGATGCGT\n\\&gt;Contig 2\nATGCGCTTACAC\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1433966780, "creation_date": 1433966780, "answer_id": 30766269, "question_id": 30765708, "link": "https://stackoverflow.com/questions/30765708/edit-line-names-with-a-new-name-containing-an-incremented-value/30766269#30766269", "title": "Edit line names with a new name containing an incremented value", "body": "<pre><code>$ awk '/^\\\\&gt;/{$0=\"\\\\&gt;Contig \"++n} 1' file\n\\&gt;Contig 1\n\nATGTCGATGCGT\n\n\\&gt;Contig 2\n\nATGCGCTTACAC\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1433966872, "creation_date": 1433966872, "answer_id": 30766301, "question_id": 30765708, "link": "https://stackoverflow.com/questions/30765708/edit-line-names-with-a-new-name-containing-an-incremented-value/30766301#30766301", "title": "Edit line names with a new name containing an incremented value", "body": "<p>When you use the <code>/e</code> modifier, Perl expects the substitution pattern to be a valid Perl expression. Try something like</p>\n\n<pre><code>s/&gt;.*/\"&gt;Contig \" . ++$n/e\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4996391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd2587ec7390f4b0ce4c01a042b1a72?s=128&d=identicon&r=PG&f=1", "display_name": "brandon scott", "link": "https://stackoverflow.com/users/4996391/brandon-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1434083656, "creation_date": 1433964968, "last_edit_date": 1434083656, "question_id": 30765708, "link": "https://stackoverflow.com/questions/30765708/edit-line-names-with-a-new-name-containing-an-incremented-value", "title": "Edit line names with a new name containing an incremented value", "body": "<p>This seems like a simple task to me but getting it to work easily is ending up more difficult than I thought:</p>\n\n<p>I have a fasta file containing several million lines of text (only a few hundred individual sequence entries) and these sequence names are long, I want to replace all characters after the header <code>&gt;</code> with <code>Contig $n</code>, where <code>$n</code> is an integer starting at 1 and is incremented for each replacement.</p>\n\n<p>an example input sequence name:</p>\n\n<pre><code>&gt;NODE:345643RD:Cov_456:GC47:34thgd\nATGTCGATGCGT\n&gt;NODE...\nATGCGCTTACAC\n</code></pre>\n\n<p>Which I then want to output like this</p>\n\n<pre><code>&gt;Contig 1\nATGTCGATGCGT\n&gt;Contig 2\nATGCGCTTACAC\n</code></pre>\n\n<p>so maybe a Perl script? I know some basics but I'd like to read in a file and then output the new file with the changes, and I'm unsure of the best way to do this? I've seen some Perl one liner examples but none did what I wanted.</p>\n\n<pre><code>$n = 1\n\nif { \n\n    s/&gt;.*/(Contig)++$n/e\n\n    ++$n\n}\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 2, "creation_date": 1433966828, "post_id": 30765522, "comment_id": 49584603, "body": "On a side note, you should specify the versions as strings (e.g. <code>&#39;JSON&#39; =&gt; &#39;2.90&#39;,</code>).  This avoids floating point conversion issues."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1433964815, "post_id": 30765614, "comment_id": 49583542, "body": "If you use Module::Build instead of ExtUtils::MakeMaker, you can use <code>.&#47;Build installdeps</code>. However, some consider M::B a failed experiment (and I think that includes its maintainer)."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1434026956, "post_id": 30765614, "comment_id": 49612509, "body": "Module::Build is also no longer in core as of 5.22.0"}, {"owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1549039266, "post_id": 30765614, "comment_id": 95774374, "body": "@ikegami Would you mind sharing some additional links to discussions? <a href=\"https://xdg.me/blog/paying-respect-to-modulebuild/\" rel=\"nofollow noreferrer\">xdg.me/blog/paying-respect-to-modulebuild</a>"}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 6, "last_activity_date": 1433964874, "last_edit_date": 1433964874, "creation_date": 1433964702, "answer_id": 30765614, "question_id": 30765522, "link": "https://stackoverflow.com/questions/30765522/cpan-module-prereqs/30765614#30765614", "title": "CPAN module prereqs", "body": "<p>The Makefile.PL doesn't install prerequisites; it just complains if they're not installed.  It's the CPAN client's job to install prerequisites.</p>\n\n<p>Note: <a href=\"https://metacpan.org/pod/distribution/Module-Install/lib/Module/Install.pod\">Module::Install</a> has an <code>auto_install</code> feature that does this, but the general consensus seems to be that using it is a bad idea.</p>\n"}], "owner": {"reputation": 463, "user_id": 4368834, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9FDCf.jpg?s=128&g=1", "display_name": "th3v0id", "link": "https://stackoverflow.com/users/4368834/th3v0id"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 30765614, "answer_count": 1, "score": 4, "last_activity_date": 1433964874, "creation_date": 1433964363, "question_id": 30765522, "link": "https://stackoverflow.com/questions/30765522/cpan-module-prereqs", "title": "CPAN module prereqs", "body": "<p>I plan on uploading a module to CPAN, shortly. This is the first module I've contributed. I've got the module to what I'd consider a \"beta\" stage. I'm using ExtUtils::MakeMaker to generate a Makefile through Makefile.PL (I've pasted the contents of it below). The Makefile.PL script has all the prereq modules listed. I'm wondering at which point in the installation process, the prereq modules are installed if they're not present? I'm wondering because I ran Makefile.PL followed by <code>make</code> then <code>make install</code> in a separate environment that's missing some of the prereq modules. However, they were not installed? I was under the impression they would be but maybe im missing something? I'm looking for someone to provide some clarity. Thanks in advance~</p>\n\n<p>Makefile.PL</p>\n\n<pre><code>#!/usr/bin/env perl \n\nuse strict;\nuse warnings;\nuse ExtUtils::MakeMaker;\n\nWriteMakefile(\n    NAME      =&gt; 'Imgur',\n    VERSION   =&gt; '0.01',\n    PREREQ_PM =&gt; {\n        'JSON'                      =&gt; 2.90,\n        'LWP::UserAgent'            =&gt; 6.05,\n        'HTTP::Request::Common'     =&gt; 6.04,\n        'Data::Dumper'              =&gt; 2.154,\n        'DateTime::Format::ISO8601' =&gt; 0.08,\n        'Config::IniFiles'          =&gt; 2.86,\n        'Scalar::Util'              =&gt; 1.42,\n        'Class::Std::Utils'         =&gt; 0.0.3,\n        'MIME::Base64'              =&gt; 3.15,\n        'File::Slurp'               =&gt; 9999.19\n    }\n);\n</code></pre>\n"}, {"tags": ["oracle", "perl", "pdf"], "comments": [{"owner": {"reputation": 12226, "user_id": 980549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68706fa5d2665f4dd0c6452b4e844c7?s=128&d=identicon&r=PG", "display_name": "Mark J. Bobak", "link": "https://stackoverflow.com/users/980549/mark-j-bobak"}, "edited": false, "score": 1, "creation_date": 1433958959, "post_id": 30763667, "comment_id": 49580108, "body": "I&#39;m thinking the problem is a discrepancy related to characterset, but I&#39;m no Perl expert either....What characterset does tyour database use?  AL32UTF8?  Something else?  What characherset have you chosen in Perl?"}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 1, "last_activity_date": 1433989668, "creation_date": 1433989668, "answer_id": 30770542, "question_id": 30763667, "link": "https://stackoverflow.com/questions/30763667/perl-code-causing-spaces-in-pdf-report/30770542#30770542", "title": "Perl code causing spaces in PDF report", "body": "<p>Your subroutine has an <code>if</code> conditional.  The true branch just prints out the string in one go using <code>prText()</code>.  The <code>else</code> branch calls <code>prText()</code> once for each character and calculates the position for each character.  The calculations seem to be based on the number of characters which is odd (given that a character like 'W' would usually require more space than a character like 'l'.</p>\n\n<p>The PDF::Reuse module (which I'm guessing is what you're using) provides a <a href=\"https://metacpan.org/pod/PDF::Reuse#prStrWidth---calculate-the-string-width\" rel=\"nofollow\">prStrWidth</a> function for determining how much horizontal space a string will require on the page in the currently selected font.  I recommend replacing the contents of the <code>else</code> block with code that uses that function.</p>\n"}, {"tags": [], "owner": {"reputation": 710, "user_id": 3224907, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a30ee6a5c98fdddd76cfeff0ad6c8e2d?s=128&d=identicon&r=PG&f=1", "display_name": "user3224907", "link": "https://stackoverflow.com/users/3224907/user3224907"}, "is_accepted": true, "score": 0, "last_activity_date": 1435724062, "creation_date": 1435724062, "answer_id": 31152433, "question_id": 30763667, "link": "https://stackoverflow.com/questions/30763667/perl-code-causing-spaces-in-pdf-report/31152433#31152433", "title": "Perl code causing spaces in PDF report", "body": "<p>The following line splits <code>$case_field</code> by character:</p>\n\n<pre><code>my @field = split //, $case_field;\n</code></pre>\n\n<p>And the following line adds a space after each character as long as the condition is true:</p>\n\n<pre><code>$field_str .= (1.5*(length(substr($field_str, $line_pos)) + length($field[$cnt+1])) &lt; $allowed) ? ' ' : \"\\n\";\n</code></pre>\n\n<p>Removing the space from the <code>?</code> operator solved the problem:</p>\n\n<pre><code>$field_str .= (1.5*(length(substr($field_str, $line_pos)) + length($field[$cnt+1])) &lt; $allowed) ? '' : \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 710, "user_id": 3224907, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a30ee6a5c98fdddd76cfeff0ad6c8e2d?s=128&d=identicon&r=PG&f=1", "display_name": "user3224907", "link": "https://stackoverflow.com/users/3224907/user3224907"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 31152433, "answer_count": 2, "score": -2, "last_activity_date": 1435724062, "creation_date": 1433958357, "last_edit_date": 1434029452, "question_id": 30763667, "link": "https://stackoverflow.com/questions/30763667/perl-code-causing-spaces-in-pdf-report", "title": "Perl code causing spaces in PDF report", "body": "<p>I am working on an issue which involves some perl code stored in an Oracle table. I have a PDF report which is displaying certain text with extra spaces in them i.e. \"L I K E  T H I S\". Below is the subroutine from where I believe the problem is coming from:</p>\n\n<p>Inside a for loop a subroutine is being called as such:</p>\n\n<p><code>printAdjustedFieldEW(238, $LINE_POS, uc($RECS-&gt;[$i]{'EVENT_WHERE'}), 35);</code></p>\n\n<p>Here is the subroutine:</p>\n\n<pre><code> sub printAdjustedFieldEW {\n  my ($left_pos, $line_height, $case_field, $allowed, $align) = @_;\n  my ($field_str, $line_pos) = ('', 0);\n\n  if($case_field =~ /(.*?)\\\\+$/) {\n    $case_field = $1;\n  }\n\n  my @field = split //, $case_field;\n\n  if($allowed == 0 || ((1.5*length($case_field)) - 1 &lt;= $allowed)) {\n    prText($left_pos, $line_height, $case_field, $align);\n  }\n  else {\n    for $cnt (0 .. $#field) {\n      $field_str .= $field[$cnt];\n\n      if($cnt != (scalar @field - 1)) {\n        $line_pos = (rindex($field_str, \"\\n\") &gt; 0) ? rindex($field_str, \"\\n\") : 0;\n\n        $field_str .= (1.5*(length(substr($field_str, $line_pos)) + length($field[$cnt+1])) &lt; $allowed) ? ' ' : \"\\n\";\n      }\n    }\n\n    @field = split(\"\\n\", $field_str);\n\n    for $pos (0 .. $#field) {\n      prText($left_pos, $line_height + (4*(scalar @field - ($pos+1))), $field[$pos], $align);\n    }\n  }\n}\n</code></pre>\n\n<p>Is there anything here which seems to be padding spaces between letters and could be fixed? Thanks in advance.</p>\n"}, {"tags": ["perl", "xs"], "answers": [{"comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 1, "creation_date": 1434375829, "post_id": 30764426, "comment_id": 49737072, "body": "magic can also be used to attach a custom deallocator to the SV, via the <code>svt_free</code> slot."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1434375463, "last_edit_date": 1434375463, "creation_date": 1433960779, "answer_id": 30764426, "question_id": 30762901, "link": "https://stackoverflow.com/questions/30762901/perl-sv-value-from-pointer-without-copy/30764426#30764426", "title": "Perl SV value from pointer without copy", "body": "<p>If you want Perl to manage the memory block, it needs to know how to reallocate it and deallocate it. The only memory it knows how to reallocate and deallocate is memory allocated using its allocator, <code>Newx</code>. (Otherwise, it would have to associate a reallocator and deallocator with each memory block.)</p>\n\n<p>If you can't allocate the memory block using <code>Newx</code>, then your best option might be to create a read-only SV with <code>SvLEN</code> set to zero. That tells Perl that it doesn't own the memory. That SV could be blessed into a class that has a destructor that will deallocate the memory using the appropriate deallocator.</p>\n\n<p>If you can allocate the memory block using <code>Newx</code>, then you can use the following:</p>\n\n<pre><code>SV* newSVpvn_steal_flags(pTHX_ const char* ptr, STRLEN len, const U32 flags) {\n#define newSVpvn_steal_flags(a,b,c) newSVpvn_steal_flags(aTHX_ a,b,c)\n    SV* sv;\n\n    assert(!(flags &amp; ~(SVf_UTF8|SVs_TEMP|SV_HAS_TRAILING_NUL)));\n\n    sv = newSV(0);\n    sv_usepvn_flags(sv, ptr, len, flags &amp; SV_HAS_TRAILING_NUL);\n    if ((flags &amp; SVf_UTF8) &amp;&amp; SvOK(sv)) {\n        SvUTF8_on(sv);\n    }\n\n    SvTAINT(sv);\n\n    if (flags &amp; SVs_TEMP) {\n        sv_2mortal(sv);\n    }\n\n    return sv;\n}\n</code></pre>\n\n<p>Note: <code>ptr</code> should point to memory that was allocated by <code>Newx</code>, and it must point to the start of the block returned by <code>Newx</code>.</p>\n\n<p>Note: Accepts flags <code>SVf_UTF8</code> (to specify that <code>ptr</code> is the UTF-8 encoding of the string to be seen in Perl), <code>SVs_TEMP</code> (to have <code>sv_2mortal</code> called on the SV) and <code>SV_HAS_TRAILING_NUL</code> (see below).</p>\n\n<p>Note: Some code expects the string buffer of scalars to have a trailing NUL (even though the length of the buffer is known and even though the buffer can contain NULs). If the memory block you allocated has a trailing NUL beyond the end of the data (e.g. a C-style NUL-terminated string), then pass the <code>SV_HAS_TRAILING_NUL</code> flag. If not, the function will attempt to extend the buffer and add a NUL.</p>\n"}], "owner": {"reputation": 3612, "user_id": 2464355, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f06527656750e7dc39c2b01e85fc302c?s=128&d=identicon&r=PG", "display_name": "John Tracid", "link": "https://stackoverflow.com/users/2464355/john-tracid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 1, "accepted_answer_id": 30764426, "answer_count": 1, "score": 6, "last_activity_date": 1434375463, "creation_date": 1433956014, "last_edit_date": 1433959454, "question_id": 30762901, "link": "https://stackoverflow.com/questions/30762901/perl-sv-value-from-pointer-without-copy", "title": "Perl SV value from pointer without copy", "body": "<p>How I could create SV value from null terminated string without copy? Like <code>newSVpv(const char*, STRLEN)</code> but without copy and with moving ownership to Perl (so Perl must release that string memory). I need this to avoid huge memory allocation and copy.</p>\n\n<p>I found following example:</p>\n\n<pre><code>SV *r = sv_newmortal();\nSvPOK_on(r);\nsv_usepvn_mg(r, string, strlen(string) + 1);\n</code></pre>\n\n<p>But I don't have deep knowledge of XS internals and have some doubts.</p>\n"}, {"tags": ["html", "perl"], "answers": [{"tags": [], "owner": {"reputation": 9945, "user_id": 2457005, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/YuKpj.jpg?s=128&g=1", "display_name": "AlliterativeAlice", "link": "https://stackoverflow.com/users/2457005/alliterativealice"}, "is_accepted": false, "score": 5, "last_activity_date": 1433955782, "creation_date": 1433955782, "answer_id": 30762822, "question_id": 30762736, "link": "https://stackoverflow.com/questions/30762736/creating-a-dynamic-html-select-option-with-perl/30762822#30762822", "title": "creating a dynamic html select option with perl", "body": "<p>You should be using separate variable names for Y/N</p>\n\n<pre><code>my $selected_y = '';\nmy $selected_n = '';\nif ($auto_flag eq 'Y'){\n    $selected_y = 'selected';\n}\nelsif ($auto_flag eq 'N'){\n    $selected_n = 'selected';\n}\nprint \"&lt;option value=\\\"Y\\\" $selected_y &gt;Yes&lt;/option&gt;\";\nprint \"&lt;option value=\\\"N\\\" $selected_n &gt;No&lt;/option&gt;\";\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 2174162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fa72c94d23d61e7b8c44df8b6bbace9?s=128&d=identicon&r=PG", "display_name": "user2174162", "link": "https://stackoverflow.com/users/2174162/user2174162"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433955782, "creation_date": 1433955520, "question_id": 30762736, "link": "https://stackoverflow.com/questions/30762736/creating-a-dynamic-html-select-option-with-perl", "title": "creating a dynamic html select option with perl", "body": "<p>The default selected value from the database is not displayed, I also checked the HTML  and does not show the selected value. Can someone give me some insight on where I went wrong. Thanks</p>\n\n<pre><code>  my $selected_val = 'selected';\n  print \"&lt;select&gt;\";\n  if ($auto_flag eq 'Y'){\n        $selected_val = 'selected';\n  }else{\n    $selected_val = '';\n  }\n  if ($auto_flag eq 'N'){\n    $selected_val = 'selected';\n  }else{\n      $selected_val = '';\n  }\n  print \"&lt;option value=\\\"Y\\\" $selected_val &gt;Yes&lt;/option&gt;\";\n  print \"&lt;option value=\\\"N\\\" $selected_val &gt;No&lt;/option&gt;\";\n\n  print \"&lt;/select&gt;\";\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "edited": false, "score": 0, "creation_date": 1433967811, "post_id": 30765165, "comment_id": 49585195, "body": "Perfect. Thank you very much... !"}, {"owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "edited": false, "score": 0, "creation_date": 1433968917, "post_id": 30765165, "comment_id": 49585906, "body": "Just one question - This increases the height of all rows. Is this again from Text::Table code?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "edited": false, "score": 0, "creation_date": 1433969412, "post_id": 30765165, "comment_id": 49586172, "body": "I don&#39;t understand what you mean. Can you be more specific?"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 4, "last_activity_date": 1433963630, "last_edit_date": 1433963630, "creation_date": 1433963198, "answer_id": 30765165, "question_id": 30762521, "link": "https://stackoverflow.com/questions/30762521/how-can-i-print-a-table-with-multi-line-strings-using-the-texttable-module/30765165#30765165", "title": "How can I print a table with multi-line strings using the Text::Table module?", "body": "<p>The <code>Text::Table</code> code calls <code>split( /\\n/ )</code> on each row of your data and puts the results into their own rows. You can work around this by calculating which rows actually correspond to multi-line data and only printing a rule at the appropriate boundaries:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util qw(max);\nuse Text::Table;\n\nmy $sep = \\'|';\nmy @col_spec = ($sep, '', $sep, 'Field', $sep, 'Length', $sep, 'Comment', $sep);\n\nmy $tb = Text::Table-&gt;new(@col_spec);\n\nmy @data = (\n    [ 1, \"Foo\", \"20\", \"Foo\" ],\n    [ 2, \"Bar\\nBaz\\nQux\", \"35\", \"Bar\\nBar\" ],\n    [ 3, \"Tze\", \"10\", \"Tze\\nTze\" ]\n);\n\n# Track which rows should be preceded by rules. A key of 'n' indicates that a\n# rule should be printed before the nth row (zero-indexed).\nmy %indexes = (\n    0 =&gt; 1, # Before header row\n    1 =&gt; 1  # After header row\n);\n\n# Calculate body rows for which rules should be printed\nmy $count = 1;\nforeach my $row (@data) {\n    # Greatest number of newlines in row\n    my $newlines = max map { tr/\\n// } @$row;\n\n    # One newline corresponds to two rows\n    $count += $newlines + 1;\n\n    $indexes{$count} = 1;\n}\n\n$tb-&gt;load(@data);\n\nmy $rule = $tb-&gt;rule('-', '+');\n\nforeach my $i (0 .. $tb-&gt;height) {\n    print $rule if exists $indexes{$i};\n    print $tb-&gt;table($i);\n}\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>+-+-----+------+-------+\n| |Field|Length|Comment|\n+-+-----+------+-------+\n|1|Foo  |20    |Foo    |\n+-+-----+------+-------+\n|2|Bar  |35    |Bar    |\n| |Baz  |      |Bar    |\n| |Qux  |      |       |\n+-+-----+------+-------+\n|3|Tze  |10    |Tze    |\n| |     |      |Tze    |\n+-+-----+------+-------+\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 2, "accepted_answer_id": 30765165, "answer_count": 1, "score": 4, "last_activity_date": 1433963630, "creation_date": 1433954889, "last_edit_date": 1433955401, "question_id": 30762521, "link": "https://stackoverflow.com/questions/30762521/how-can-i-print-a-table-with-multi-line-strings-using-the-texttable-module", "title": "How can I print a table with multi-line strings using the Text::Table module?", "body": "<p>I am using the CPAN <a href=\"http://search.cpan.org/perldoc?Text%3A%3ATable\" rel=\"nofollow\">Text::Table</a> module. I have a table in my script and some values are multi-line strings. I am also using a rule to print this table.</p>\n\n<p>My code is as follows:</p>\n\n<pre><code>#!/usr/bin/perl5.14.1\nuse FindBin;\nuse lib \"$FindBin::Bin/mylib/Text-Aligner-0.12/lib/\";\nuse lib \"$FindBin::Bin/mylib/Text-Table-1.130/lib/\";\nuse Text::Table;\n\nmy $tb = Text::Table-&gt;new(\\'| ', \"\", \\' | ', \"Field \", \\'| ', \"Length \", \\'| ', \"Comment \", \\' |');\nmy @AoA = (\n  [ 1, \"Foo\", \"20\", \"Foo\" ],\n  [ 2, \"Bar\", \"35\", \"Bar\\nBar\" ],\n  [ 3, \"Tze\", \"10\", \"Tze\\nTze\" ],\n);\n\n$tb-&gt;load(@AoA);\nmy $rule = $tb-&gt;rule(qw/- /);\nmy @arr = $tb-&gt;body;\n\n\nprint $rule, $tb-&gt;title, $rule;\nfor (@arr) {\n  print $_ . $rule;\n}\n</code></pre>\n\n<p>However when I run this I get the following:</p>\n\n<pre><code>|---|-------|--------|----------|\n|   | Field | Length | Comment  |\n|---|-------|--------|----------|\n| 1 | Foo   | 20     | Foo      |\n|---|-------|--------|----------|\n| 2 | Bar   | 35     | Bar      |\n|---|-------|--------|----------|\n|   |       |        | Bar      |\n|---|-------|--------|----------|\n| 3 | Tze   | 10     | Tze      |\n|---|-------|--------|----------|\n|   |       |        | Tze      |\n|---|-------|--------|----------|\n</code></pre>\n\n<p>Is there a way to not print separate lines in the case of multi-line strings?</p>\n\n<p>I want to display my table as follows:</p>\n\n<pre><code>|---|-------|--------|----------|\n|   | Field | Length | Comment  |\n|---|-------|--------|----------|\n| 1 | Foo   | 20     | Foo      |\n|---|-------|--------|----------|\n| 2 | Bar   | 35     | Bar      |\n|   |       |        | Bar      |\n|---|-------|--------|----------|\n| 3 | Tze   | 10     | Tze      |\n|   |       |        | Tze      |\n|---|-------|--------|----------|\n</code></pre>\n"}, {"tags": ["regex", "linux", "perl"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1433954020, "post_id": 30762228, "comment_id": 49577016, "body": "&quot;It throws an error&quot;? What error?"}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1433954149, "post_id": 30762228, "comment_id": 49577089, "body": "sorry, forgot to add that part, -bash: syntax error near unexpected token `(&#39;"}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 3, "creation_date": 1433954202, "post_id": 30762228, "comment_id": 49577131, "body": "You have double quotes around your whole expression, but also within it (which is messing it up)."}, {"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "edited": false, "score": 0, "creation_date": 1433954327, "post_id": 30762228, "comment_id": 49577214, "body": "I copied the wrong text, gah.  This is the correct thing I am running ---  <code>perl -nle &quot;print qq{$1 =&gt; $2} while &#47;^(?!#)(loop_.+rev).+?[\\&#39;|\\&quot;](.+?)[\\&#39;|\\&quot;]$&#47;g&quot; non-hadoop.env</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1433954590, "post_id": 30762228, "comment_id": 49577370, "body": "Note: <code>(?!\\#)(loop_.+rev)</code> is the same as <code>(loop_.+rev)</code> (since <code>l</code> isn&#39;t <code>#</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1433954639, "post_id": 30762228, "comment_id": 49577407, "body": "Note: <code>[\\&#39;|\\&quot;]</code> matches <code>&#39;</code>, <code>|</code> or <code>&quot;</code>. I think you meant <code>[\\&#39;\\&quot;]</code>, which can be simplified to <code>[&#39;&quot;]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "edited": false, "score": 0, "creation_date": 1433961167, "post_id": 30762436, "comment_id": 49581494, "body": "I need to include a variable in this now but it doesn&#39;t seem to work.  Usually in perl I would just do something like this ${variable} but it seems like the current command is calling the literal name  <code>perl &#39;-nle print &quot;Instance -&gt; $1\\nRevision -&gt; $2&quot; while &#47;^(?!#)($NAME_.+rev).+[\\x27&quot;]([^\\x27&quot;]*)[\\x27&quot;]$&#47;g;&#39; non-hadoop.env</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1433963051, "post_id": 30762436, "comment_id": 49582564, "body": "Don&#39;t generate code, especially not in a shell script. Instead, pass the value as argument or as an env var."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 0, "last_activity_date": 1433995771, "last_edit_date": 1433995771, "creation_date": 1433954647, "answer_id": 30762436, "question_id": 30762228, "link": "https://stackoverflow.com/questions/30762228/why-do-i-get-bash-syntax-error-near-unexpected-token-when-i-run-my-perl/30762436#30762436", "title": "Why do I get &quot;-bash: syntax error near unexpected token `(&#39;&quot; when I run my Perl one-liner?", "body": "<p>Double quotes cause Bash to  replace variable references like <code>$1</code> and <code>$2</code> with the values of these shell variables. Use single quotes around your Perl script to avoid this (or quote every  dollar sign, backtick, etc in the script).</p>\n\n<p>However, you cannot escape  single quotes inside single quotes easily; a common workaround in Perl strings is to use the character code <code>\\x27</code> instead.  If you need single-quoted Perl strings, use the generalized single-quoting operator <code>q{...}</code>.</p>\n\n<p>If you need to interpolate a shell variable name, a common trick is to use \"see-saw\" quoting.  The string <code>'str'\"in\"'g'</code> in the shell is equal to <code>'string'</code> after quote removal; you can similarly use adjacent single-quoted and double-quoted strings to build your script ... although it does tend to get rather unreadable.</p>\n\n<pre><code>perl -nle 'print \"Instance -&gt; $1\\nRevision -&gt; $2\"\n  while /^(?!#)('\"$NAME\"'_.+rev).+[\\x27\"]([^\\x27\"]*)[\\x27\"]$/g' non-hadoop.en\n</code></pre>\n\n<p>(Notice that the options <code>-nle</code> are not part of the script; the script is the quoted argument to the <code>-e</code> option.  In fact <code>perl '-nle script ...'</code> coincidentally works, but it is decidedly unidiomatic, to the point of confusing.)</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1433955558, "last_edit_date": 1433955558, "creation_date": 1433955245, "answer_id": 30762634, "question_id": 30762228, "link": "https://stackoverflow.com/questions/30762228/why-do-i-get-bash-syntax-error-near-unexpected-token-when-i-run-my-perl/30762634#30762634", "title": "Why do I get &quot;-bash: syntax error near unexpected token `(&#39;&quot; when I run my Perl one-liner?", "body": "<p>Using single quotes around your arguments to prevent special processing of <code>$</code>, <code>\\</code>, etc. If you need to include a single quote within, the generic solution is to use <code>'\\''</code>. In this particular case, however, we can avoid trying to include a <code>'</code> by using the equivalent <code>\\x27</code> in the regex pattern instead.</p>\n\n<pre><code>perl -nle'\n   print \"$1 =&gt; $2\"\n      while /^(?!#)(loop_.+rev).+?[\\x27\\\"|](.+?)[\\x27\\\"|]$/g;\n' non-hadoop.env\n</code></pre>\n\n<p>[I added some line breaks for readability. You can actually leave them in if you want to, but you don't need to.]</p>\n\n<hr>\n\n<p>Note that there are some problems with your regex pattern.</p>\n\n<ol>\n<li><p><code>(?!\\#)(loop_.+rev)</code> is the same as <code>(loop_.+rev)</code> since <code>l</code> isn't <code>#</code>, so <code>(?!\\#)</code> isn't doing whatever you think it's doing.</p></li>\n<li><p><code>[\\'|\\\"]</code> matches <code>'</code>, <code>\"</code> and <code>|</code>, but I think you only meant it to match <code>'</code> and <code>\"</code>. If so, you want to use <code>[\\'\\\"]</code>, which can be simplified to <code>['\"]</code>.</p></li>\n<li><p>Don't use the non-greedy modifier (<code>?</code> after <code>+</code>, <code>*</code>, etc). It's used for optimization, not for excluding characters. In fact, the second <code>?</code> in your pattern has absolutely no effect, so it's not doing what you think it's doing.</p></li>\n</ol>\n\n<p>Fixed?</p>\n\n<pre><code>perl -nle'\n   print \"$1 =&gt; $2\"\n      while /^(loop_.+rev).+[\\x27\"]([^\\x27\"]*)[\\x27\"]$/g;\n' non-hadoop.env\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1433995797, "post_id": 30765074, "comment_id": 49594131, "body": "Then please mark one of the answers as accepted; your own if you like.  This prevents this question from coming up as unanswered."}], "tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": 0, "last_activity_date": 1433962893, "creation_date": 1433962893, "answer_id": 30765074, "question_id": 30762228, "link": "https://stackoverflow.com/questions/30762228/why-do-i-get-bash-syntax-error-near-unexpected-token-when-i-run-my-perl/30765074#30765074", "title": "Why do I get &quot;-bash: syntax error near unexpected token `(&#39;&quot; when I run my Perl one-liner?", "body": "<p>I ended up figuring out due to all of you guys help.  Thanks again.  Here is my final command</p>\n\n<pre><code>perl -nle 'print \"$1 $2\" while /^($ENV{NAME}_.+rev).+\\x27(.+)\\x27/g;' $ENVFILE\n</code></pre>\n"}], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1295, "favorite_count": 0, "accepted_answer_id": 30762436, "answer_count": 3, "score": 0, "last_activity_date": 1434001743, "creation_date": 1433953961, "last_edit_date": 1434001743, "question_id": 30762228, "link": "https://stackoverflow.com/questions/30762228/why-do-i-get-bash-syntax-error-near-unexpected-token-when-i-run-my-perl", "title": "Why do I get &quot;-bash: syntax error near unexpected token `(&#39;&quot; when I run my Perl one-liner?", "body": "<p>This is driving me insane.  Here's my dilemma, I have a file in which I need to make a match.  Usually I use Perl and it works like a charm but in this case I am writing a shell script and for some reason it is throwing errors.</p>\n\n<p>Here is what I am trying to match:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>loop_loopStorage_rev='latest.integration'\n</code></pre>\n\n<p>I need to match <code>loop</code> and <code>latest.integration</code>.</p>\n\n<p>This is my regex:</p>\n\n<pre><code>^(?!\\#)(loop_.+rev).*[\\'|\\\"](.*)[\\'|\\\"]$\n</code></pre>\n\n<p>When I use this in a Perl script, <code>$1</code> and <code>$2</code> give me the appropriate output. If I do this:</p>\n\n<pre><code>perl -nle \"print qq{$1 =&gt; $2} while /^(?!#)(loop_.+rev).+?[\\'|\\\"](.+?)[\\'|\\\"]$/g\" non-hadoop.env\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-bash: syntax error near unexpected token `('\n</code></pre>\n\n<p>I believe it has something to do with the beginning part of my regex. So my real question is would there be an easier solution using sed, egrep or awk? If so, does any one know where to begin?</p>\n"}, {"tags": ["regex", "string", "perl", "whitespace"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1433952057, "post_id": 30761455, "comment_id": 49575749, "body": "Because it search line by line."}, {"owner": {"reputation": 33, "user_id": 4995706, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yJS6TAFlo5I/AAAAAAAAAAI/AAAAAAAAAEw/2inoiOt5D0I/photo.jpg?sz=128", "display_name": "Chris Hines", "link": "https://stackoverflow.com/users/4995706/chris-hines"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1433952067, "post_id": 30761455, "comment_id": 49575754, "body": "Also, what would I need to do to match both with the same regex?"}, {"owner": {"reputation": 1225, "user_id": 177002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aZPd1.png?s=128&g=1", "display_name": "demonkoryu", "link": "https://stackoverflow.com/users/177002/demonkoryu"}, "edited": false, "score": 1, "creation_date": 1433952103, "post_id": 30761455, "comment_id": 49575776, "body": "Because you are running the regex linewise instead of for the whole file by using the &#39;-n&#39; flag."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433952340, "post_id": 30761455, "comment_id": 49575941, "body": "Note that the <code>s</code> modifier makes <code>.</code> match a newline; even if you were processing more than one line at a time, the <code>s</code> wouldn&#39;t do anything since your regex contains no <code>.</code>s."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1433953675, "post_id": 30761455, "comment_id": 49576809, "body": "Tip: By <code>[\\S|\\s]</code>, you probably meant <code>[\\S\\s]</code>, which is the same thing as <code>.</code> when <code>&#47;s</code> is used."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1433953808, "post_id": 30761455, "comment_id": 49576889, "body": "Tip: <code>if &#47;...&#47;g</code> makes no sense, and the results of this bug are subtle. That should be <code>if &#47;...&#47;</code> or <code>while &#47;...&#47;g</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2591, "user_id": 1162732, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2fc947392492e1ff685f126964a2908?s=128&d=identicon&r=PG", "display_name": "zgpmax", "link": "https://stackoverflow.com/users/1162732/zgpmax"}, "is_accepted": false, "score": 0, "last_activity_date": 1610136091, "last_edit_date": 1610136091, "creation_date": 1433952525, "answer_id": 30761716, "question_id": 30761455, "link": "https://stackoverflow.com/questions/30761455/perl-and-regex-single-line-mode-matching/30761716#30761716", "title": "Perl and Regex - single line mode matching", "body": "<p>Because it is running line-wise. On your first data, $_ will take on three separate values</p>\n<ol>\n<li>\n<pre><code>&lt;Connector port=&quot;PORT&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;\n</code></pre>\n</li>\n<li>\n<pre><code>maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n</code></pre>\n</li>\n<li>\n<pre><code>clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;\n</code></pre>\n</li>\n</ol>\n<p>and none of these will match on their own.</p>\n<p>If you want to make it match, perhaps you could try slurping the whole file.</p>\n<pre><code>my $whole_file = do { local $/; &lt;&gt; };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433952772, "post_id": 30761730, "comment_id": 49576221, "body": "Or <code>perl -0777 -ne ...</code>"}, {"owner": {"reputation": 33, "user_id": 4995706, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yJS6TAFlo5I/AAAAAAAAAAI/AAAAAAAAAEw/2inoiOt5D0I/photo.jpg?sz=128", "display_name": "Chris Hines", "link": "https://stackoverflow.com/users/4995706/chris-hines"}, "edited": false, "score": 0, "creation_date": 1433952894, "post_id": 30761730, "comment_id": 49576291, "body": "Both of those print out the entire file, most of which does not match the regex"}, {"owner": {"reputation": 33, "user_id": 4995706, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yJS6TAFlo5I/AAAAAAAAAAI/AAAAAAAAAEw/2inoiOt5D0I/photo.jpg?sz=128", "display_name": "Chris Hines", "link": "https://stackoverflow.com/users/4995706/chris-hines"}, "edited": false, "score": 0, "creation_date": 1433953502, "post_id": 30761730, "comment_id": 49576692, "body": "@kjpires  That&#39;s awesome and almost works, it only matches the first instance of such. I really appreciate your help."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 33, "user_id": 4995706, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yJS6TAFlo5I/AAAAAAAAAAI/AAAAAAAAAEw/2inoiOt5D0I/photo.jpg?sz=128", "display_name": "Chris Hines", "link": "https://stackoverflow.com/users/4995706/chris-hines"}, "edited": false, "score": 0, "creation_date": 1433953607, "post_id": 30761730, "comment_id": 49576758, "body": "@Chris Hines, <code>perl -0777nle&#39;print $1 while &#47;(&lt;Conn.+?&gt;)&#47;sg;&#39; &#47;path&#47;to&#47;file</code>"}, {"owner": {"reputation": 33, "user_id": 4995706, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yJS6TAFlo5I/AAAAAAAAAAI/AAAAAAAAAEw/2inoiOt5D0I/photo.jpg?sz=128", "display_name": "Chris Hines", "link": "https://stackoverflow.com/users/4995706/chris-hines"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433953736, "post_id": 30761730, "comment_id": 49576844, "body": "@ikegami Very Awesome! Thank you so much"}], "tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": true, "score": 4, "last_activity_date": 1433954253, "last_edit_date": 1433954253, "creation_date": 1433952568, "answer_id": 30761730, "question_id": 30761455, "link": "https://stackoverflow.com/questions/30761455/perl-and-regex-single-line-mode-matching/30761730#30761730", "title": "Perl and Regex - single line mode matching", "body": "<p>The <code>-n</code> option reads the file line-by-line, but you can alter what a line is to be the whole file by undefining the input line terminator. That's is done using <code>local $/;</code>, or using the command line option <code>-0777</code> as follows:</p>\n\n<pre><code>perl -0777ne 'print \"$1\\n\" while /(&lt;Conn.+?&gt;)/sg;' /path/to/file\n</code></pre>\n\n<p>It reads in the whole file at once.  If that's a problem, try setting <code>$/</code> to <code>&gt;</code> (since your pattern always ends in <code>&gt;</code>) or <code>-o076</code> on the command-line:</p>\n\n<pre><code>perl -076ne 'print \"$1\\n\" if /(&lt;Conn.+?&gt;)/sg;' /path/to/file\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4995706, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yJS6TAFlo5I/AAAAAAAAAAI/AAAAAAAAAEw/2inoiOt5D0I/photo.jpg?sz=128", "display_name": "Chris Hines", "link": "https://stackoverflow.com/users/4995706/chris-hines"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "accepted_answer_id": 30761730, "answer_count": 2, "score": 3, "last_activity_date": 1610136091, "creation_date": 1433951835, "last_edit_date": 1433952158, "question_id": 30761455, "link": "https://stackoverflow.com/questions/30761455/perl-and-regex-single-line-mode-matching", "title": "Perl and Regex - single line mode matching", "body": "<p>Why doesn't </p>\n\n<pre><code>perl -ne \"print if /(&lt;Conn)([\\S|\\s]+?)(&gt;)/sg;\" /path/to/file\n</code></pre>\n\n<p>match</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;Connector port=\"PORT\" protocol=\"HTTP/1.1\" SSLEnabled=\"true\"\n           maxThreads=\"150\" scheme=\"https\" secure=\"true\"\n           clientAuth=\"false\" sslProtocol=\"TLS\" /&gt;`\n</code></pre>\n\n<p>when it does match</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;Connector port=\"PORT\" protocol=\"AJP/1.3\" redirectPort=\"PORT\" /&gt;\n</code></pre>\n\n<p>And what would I need to do to match both with the same regex?</p>\n"}, {"tags": ["xml", "perl", "xml-parsing", "libxml2", "xml-libxml"], "comments": [{"owner": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "edited": false, "score": 0, "creation_date": 1433951636, "post_id": 30761127, "comment_id": 49575439, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/17756926/remove-xml-namespaces-with-xmllibxml\">Remove XML namespaces with XML::LibXML</a>"}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "edited": false, "score": 0, "creation_date": 1433951909, "post_id": 30761321, "comment_id": 49575655, "body": "When I modified to my $source = &quot;Sample3.xml&quot;; my $xml = &#39;XML::LibXML&#39;-&gt;load_xml( string =&gt; $source); why do i get this &#39;:1: parser error : Start tag expected, &#39;&lt;&#39; not found Sample3.xml ^&#39;?"}, {"owner": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "edited": false, "score": 0, "creation_date": 1433952166, "post_id": 30761321, "comment_id": 49575819, "body": "And also I will use the same code to other xml file with more than 19000 lines. I dont think I can directly put the xml content inside the code"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "edited": false, "score": 1, "creation_date": 1433953069, "post_id": 30761321, "comment_id": 49576405, "body": "@user3922604, You can keep using <code>parse_file</code> (I prefer that interface). If you want to use <code>load_xml</code>, it&#39;s <code>XML::LibXML-&gt;load_xml( location =&gt; $qfn )</code> to load from a file"}, {"owner": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433953952, "post_id": 30761321, "comment_id": 49576976, "body": "@ikegami : Thanks but what I want to delete is only the attribute not the node. And I still dont understand the different behaviour between removeAttribute and getAttribute in argument acceptance"}, {"owner": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "reply_to_user": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "edited": false, "score": 0, "creation_date": 1433954025, "post_id": 30761321, "comment_id": 49577018, "body": "@user3922604 did you try the linked answer?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "edited": false, "score": 0, "creation_date": 1433954173, "post_id": 30761321, "comment_id": 49577108, "body": "@user3922604, I don&#39;t know why it works with getAttribute. It shouldn&#39;t."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1433955750, "post_id": 30761321, "comment_id": 49578092, "body": "Surprisingly, you can get the namespace, too: <code>$xpc-&gt;findnodes(&#39;&#47;config&#47;b:outer1&#39;, $xml))[0]-&gt;getAttribute(&#39;xmlns&#39;)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433967294, "post_id": 30761321, "comment_id": 49584873, "body": "Not surprising. It is an attribute, even though it is meta. Did you actually check if it could be deleted when you posted your answer?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433973057, "post_id": 30761321, "comment_id": 49588069, "body": "The real question is how to delete change the namespace of the elements to the default namespace, and this doesn&#39;t answer that."}, {"owner": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "reply_to_user": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "edited": false, "score": 0, "creation_date": 1434007821, "post_id": 30761321, "comment_id": 49599205, "body": "@dsolimano : yes, i tried and still figuring out how it works. I am new at Perl and LibXML"}, {"owner": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434007878, "post_id": 30761321, "comment_id": 49599251, "body": "@ikegami : yes I can delete the namespace when i remove the colon"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1434014268, "post_id": 30761321, "comment_id": 49603516, "body": "You can use <code>$outer-&gt;setNamespaceDeclURI(q(), q());</code> to remove a namespace from a node and its children."}, {"owner": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "edited": false, "score": 0, "creation_date": 1434015832, "post_id": 30761321, "comment_id": 49604627, "body": "@choroba : thanks, i tried this way my $xml2 = &quot;Sample3.xml&quot;;  my $parser = XML::LibXML-&gt;new(); my $tree   =$parser-&gt;parse_file($xml2);   my $root   =$tree-&gt;getDocumentElement; $root-&gt;setNamespaceDeclURI(q(), q()); print &quot;$tree-&gt;toString&quot;; But it does nothing. Do we have something like XMLin in LibXML which ignores attributes?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "edited": false, "score": 0, "creation_date": 1434016408, "post_id": 30761321, "comment_id": 49605012, "body": "@user3922604: The root is not in any namespace. <code>$root-&gt;setNamespaceDeclURI(&#39;xc&#39;, q());</code> removes the declaration from the root."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434031725, "post_id": 30761321, "comment_id": 49616369, "body": "You must have a newer libxml2 than I do. (I have 2.7.8.) Neither <code>removeAttribute</code> nor any usage of <code>setNamespaceDecl*</code> removed the <code>xmlns</code>. Could you complete the answer and show how to remove the namespaces, please?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1434031853, "post_id": 30761321, "comment_id": 49616451, "body": "@ikegami: libxml2 version 2.9.2, XML::LibXML 2.0117"}, {"owner": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "reply_to_user": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "edited": false, "score": 0, "creation_date": 1434036063, "post_id": 30761321, "comment_id": 49619657, "body": "@user3922604, I just ran that question on  your code, and it works.  I&#39;ll post the code as an answer, but please don&#39;t vote up or accept it, instead close this question as a dupe of yours"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1433951546, "creation_date": 1433951546, "answer_id": 30761321, "question_id": 30761127, "link": "https://stackoverflow.com/questions/30761127/libxml-colon-in-removeattribute-and-value-in-getattribute/30761321#30761321", "title": "LibXML : colon in removeAttribute and value in getAttribute", "body": "<p>In order to use namepsaces with <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>, use <a href=\"http://p3rl.org/XML::LibXML::XPathContext\" rel=\"nofollow\">XML::LibXML::XPathContext</a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse XML::LibXML;\n\nmy $xml = 'XML::LibXML'-&gt;load_xml( string =&gt;\n'&lt;config xmlns:xc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"&gt;\n    &lt;outer1  xmlns=\"http://blablabla\"&gt;\n      &lt;inner1&gt;\n        &lt;name&gt;Hello&lt;/name&gt;\n        &lt;org&gt;wwf&lt;/org&gt;\n        &lt;profession&gt;warrior&lt;/profession&gt;\n      &lt;/inner1&gt;\n    &lt;/outer1&gt;\n  &lt;/config&gt;');\n\nmy $xpc = 'XML::LibXML::XPathContext'-&gt;new;\n$xpc-&gt;registerNs('b', 'http://blablabla');\n\nsay for $xpc-&gt;findnodes('/config/b:outer1', $xml);\n#                               ^^^\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "is_accepted": false, "score": 0, "last_activity_date": 1434040989, "creation_date": 1434040989, "answer_id": 30786669, "question_id": 30761127, "link": "https://stackoverflow.com/questions/30761127/libxml-colon-in-removeattribute-and-value-in-getattribute/30786669#30786669", "title": "LibXML : colon in removeAttribute and value in getAttribute", "body": "<pre><code>my $dom = XML::LibXML-&gt;load_xml( location =&gt; $xml);\nmy $context = XML::LibXML::XPathContext-&gt;new( $dom-&gt;documentElement() );\n$context-&gt;registerNs( 'u' =&gt; '\"urn:ietf:params:xml:ns:netconf:base:1.0' );\n$context-&gt;registerNs( 'u' =&gt; 'http://alcatel-lucent.com/lte/enb');\n\nfor my $node ( $context-&gt;findnodes('//u:inner1[1]') ) {\n my ($mh)   = $context-&gt;findnodes('u:name', $node);\n    $mh -&gt;removeChildNodes();\n    $mh-&gt;appendText('World123');\n    print $dom-&gt;toString;\n</code></pre>\n\n<p>@Choroba : I got it. It should be $mh not $context. Thanks for your suggestion. And one more, why should put my ($mh) instead of my $mh?\n@all: Thanks for the advice too </p>\n"}], "owner": {"reputation": 121, "user_id": 3922604, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7714622ce4fd398ca41ac07bc016bafa?s=128&d=identicon&r=PG&f=1", "display_name": "user3922604", "link": "https://stackoverflow.com/users/3922604/user3922604"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1434040989, "creation_date": 1433950967, "last_edit_date": 1433952395, "question_id": 30761127, "link": "https://stackoverflow.com/questions/30761127/libxml-colon-in-removeattribute-and-value-in-getattribute", "title": "LibXML : colon in removeAttribute and value in getAttribute", "body": "<p>This is my xml file </p>\n\n<pre><code> &lt;config xmlns:xc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"&gt;\n    &lt;outer1  xmlns=\"http://blablabla\"&gt;\n      &lt;inner1&gt;\n        &lt;name&gt;Hello&lt;/name&gt;\n        &lt;org&gt;wwf&lt;/org&gt;\n        &lt;profession&gt;warrior&lt;/profession&gt;\n      &lt;/inner1&gt;\n    &lt;/outer1&gt;\n  &lt;/config&gt;\n</code></pre>\n\n<p>I want to do two things </p>\n\n<ol>\n<li>Get the attribute value from config and outer1</li>\n<li>Delete the attribute</li>\n</ol>\n\n<p>This is the perl code</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $xml = \"Sample3.xml\";\n\nmy $parser =XML::LibXML-&gt;new();\nmy $tree   =$parser-&gt;parse_file($xml);\nmy $root   =$tree-&gt;getDocumentElement;\nprint $root-&gt;getAttribute('xmlns:xc'), \"\\n\";\nprint $root-&gt;getAttribute('/config/outer1/@xmlns'), \"\\n\"; --&gt; not working\n\n$root-&gt;removeAttribute('xmlns:xc');--&gt; not working\nprint \"$tree-&gt;toString\";\n</code></pre>\n\n<p>The output should be</p>\n\n<pre><code>&lt;config&gt;\n        &lt;outer1&gt;\n          &lt;inner1&gt;\n            &lt;name&gt;Hello&lt;/name&gt;\n            &lt;org&gt;wwf&lt;/org&gt;\n            &lt;profession&gt;warrior&lt;/profession&gt;\n          &lt;/inner1&gt;\n        &lt;/outer1&gt;\n      &lt;/config&gt;\n</code></pre>\n\n<p>I managed to get the value of xmlns:xc but not for xmlns. I tried the other way with <code>$root-&gt;findvalue('/config/outer1/@xmlns');</code> but still not returning the value of xmlns. The other problem is removeAttribute. It doesn't recognize colon inside xmlns:xc but it does in getAttribute. I dont get why</p>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["perl", "mingw", "perl-module"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433952012, "post_id": 30761020, "comment_id": 49575721, "body": "It <a href=\"http://code.activestate.com/ppm/ExtUtils-CppGuess/\" rel=\"nofollow noreferrer\">looks like</a> the tests fail on Windows with Perl 5.18 and 5.20, but not 5.16. You might <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=ExtUtils-CppGuess\" rel=\"nofollow noreferrer\">submit a trouble ticket</a> to the module author."}, {"owner": {"reputation": 108, "user_id": 1319433, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c9021238cd1385cc83df9fb686cd4df?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/1319433/anthony"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433963208, "post_id": 30761020, "comment_id": 49582683, "body": "ok, thanks. I&#39;ll send him a message."}, {"owner": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "edited": false, "score": 0, "creation_date": 1435085692, "post_id": 30761020, "comment_id": 50049133, "body": "Any luck sir?  Also vaguely related - <a href=\"http://stackoverflow.com/questions/30738541/my-perl-module-from-cpan-wont-install-and-has-tests-failing-what-do-i-do/30738542#30738542\" title=\"my perl module from cpan wont install and has tests failing what do i do\">stackoverflow.com/questions/30738541/&hellip;</a>"}], "owner": {"reputation": 108, "user_id": 1319433, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2c9021238cd1385cc83df9fb686cd4df?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/1319433/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433950699, "creation_date": 1433950699, "question_id": 30761020, "link": "https://stackoverflow.com/questions/30761020/perl-extutilscppguess-fails-to-build", "title": "perl ExtUtils::CppGuess fails to build", "body": "<p>I'm trying to install ExtUtils::CppGuess on Windows 8.1 using ActivePerl, but I keep getting errors. </p>\n\n<p>I've tried just about everything I can find on the internet, but nothing is working. </p>\n\n<p>When I run </p>\n\n<pre><code>cpanm ExtUtils::CppGuess\n</code></pre>\n\n<p>then I get this in the build.log</p>\n\n<pre><code>cpanm (App::cpanminus) 1.7036 on perl 5.020002 built for MSWin32-x64-multi-thread\nWork directory is C:\\Users\\ANTHON~1/.cpanm/work/1433950037.5028\nYou have make C:\\Perl64\\site\\bin\\dmake.exe\nYou have LWP 6.08\nFalling back to Archive::Tar 2.04\nSearching ExtUtils::CppGuess () on cpanmetadb ...\n--&gt; Working on ExtUtils::CppGuess\nFetching http://www.cpan.org/authors/id/E/ET/ETJ/ExtUtils-CppGuess-0.09.tar.gz\n-&gt; OK\nUnpacking ExtUtils-CppGuess-0.09.tar.gz\nEntering ExtUtils-CppGuess-0.09\nChecking configure dependencies from META.json\nChecking if you have ExtUtils::MakeMaker 6.58 ... Yes (7.04)\nConfiguring ExtUtils-CppGuess-0.09\nRunning Makefile.PL\nChecking if your kit is complete...\nLooks good\nGenerating a dmake-style Makefile\nWriting Makefile for ExtUtils::CppGuess\nWriting MYMETA.yml and MYMETA.json\n-&gt; OK\nChecking dependencies from MYMETA.json ...\nChecking if you have Data::Dumper 0 ... Yes (2.154)\nChecking if you have File::Spec 0 ... Yes (3.48_01)\nChecking if you have Module::Build 0 ... Yes (0.4212)\nChecking if you have Test::More 0 ... Yes (1.001014)\nChecking if you have ExtUtils::Manifest 0 ... Yes (1.70)\nChecking if you have File::Basename 0 ... Yes (2.85)\nChecking if you have Cwd 0 ... Yes (3.48_01)\nChecking if you have ExtUtils::MakeMaker 0 ... Yes (7.04)\nChecking if you have Capture::Tiny 0 ... Yes (0.28)\nChecking if you have Fatal 0 ... Yes (2.25)\nBuilding and testing ExtUtils-CppGuess-0.09\ncp lib/ExtUtils/CppGuess.pm blib\\lib\\ExtUtils\\CppGuess.pm\n\"C:\\Perl64\\bin\\perl.exe\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib\\lib', 'blib\\arch')\" t/*.t\n# EUMM:$VAR1 = {\n#           'CCFLAGS' =&gt; ' -xc++ ',\n#           'dynamic_lib' =&gt; {\n#                              'OTHERLDFLAGS' =&gt; ' -lstdc++ '\n#                            }\n#         };\n# ---\n# MB:$VAR1 = {\n#           'extra_linker_flags' =&gt; ' -lstdc++ ',\n#           'extra_compiler_flags' =&gt; ' -xc++ '\n#         };\nt/001_load.t .......... ok\n\n#   Failed test 'build with Module::Build'\n#   at t/010_module_build.t line 12.\n# Build.PL output\n# ========================================\n# Created MYMETA.yml and MYMETA.json\n# Creating new 'Build' script for 'CppGuessTest' version '0.01'\n# ========================================\n# Build output\n# ========================================\n# Building CppGuessTest\n# C:\\Perl64\\site\\bin\\gcc.exe -c -s -O2 -DWIN32 -DWIN64 -DCONSERVATIVE -DPERL_TEXTMODE_SCRIPTS -DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -DUSE_PERLIO -fwrapv -fno-strict-aliasing -mms-bitfields -xc++ -s -O2 \"-DXS_VERSION=\\\"0.01\\\"\" \"-DVERSION=\\\"0.01\\\"\" -I\"C:\\Perl64\\lib\\CORE\" -I\"C:\\MinGW\\x86_64-w64-mingw32\\include\" -o \"lib\\CppGuessTest.o\" \"lib\\CppGuessTest.c\"\n# ExtUtils::Mkbootstrap::Mkbootstrap('blib\\arch\\auto\\CppGuessTest\\CppGuessTest.bs')\n# Generating script 'lib\\CppGuessTest.lds'\n# C:\\Perl64\\site\\bin\\dlltool.exe --def \"lib\\CppGuessTest.def\" --output-exp \"lib\\CppGuessTest.exp\"\n# C:\\Perl64\\site\\bin\\g++.exe -o \"blib\\arch\\auto\\CppGuessTest\\CppGuessTest.dll\" -Wl,--base-file,\"lib\\CppGuessTest.base\" -Wl,--image-base,0x36150000 -mdll -s -static-libgcc -static-libstdc++ -L\"C:\\Perl64\\lib\\CORE\" -L\"C:\\MinGW\\x86_64-w64-mingw32\\lib\" \"lib\\CppGuessTest.lds\" -lstdc++ \"lib\\CppGuessTest.exp\"\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/bits/basic_string.h:534: multiple definition of `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/ext/new_allocator.h:98: multiple definition of `std::string::_Rep::_M_destroy(std::allocator&lt;char&gt; const&amp;)'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/bits/basic_string.tcc:326: multiple definition of `std::string::append(std::string const&amp;)'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/bits/basic_string.tcc:171: multiple definition of `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(std::string const&amp;)'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/bits/basic_string.tcc:244: multiple definition of `std::string::assign(std::string const&amp;)'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/bits/basic_string.tcc:207: multiple definition of `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(char const*, unsigned long long, std::allocator&lt;char&gt; const&amp;)'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(eh_personality.o):c:\\gccbuild\\build\\mingw64\\gcc-4.6.3\\x86_64-w64-mingw32\\libstdc++-v3\\libsupc++/../../../../../../src/gcc-4.6.3/libstdc++-v3/libsupc++/eh_personality.cc:362: multiple definition of `__gxx_personality_sj0'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# collect2: ld returned 1 exit status\n# C:\\Perl64\\site\\bin\\dlltool.exe --def \"lib\\CppGuessTest.def\" --output-exp \"lib\\CppGuessTest.exp\" --base-file \"lib\\CppGuessTest.base\"\n# C:\\Perl64\\site\\bin\\g++.exe -o \"blib\\arch\\auto\\CppGuessTest\\CppGuessTest.dll\" -Wl,--image-base,0x36150000 -mdll -s -static-libgcc -static-libstdc++ -L\"C:\\Perl64\\lib\\CORE\" -L\"C:\\MinGW\\x86_64-w64-mingw32\\lib\" \"lib\\CppGuessTest.lds\" -lstdc++ \"lib\\CppGuessTest.exp\"\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/bits/basic_string.h:534: multiple definition of `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::~basic_string()'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/ext/new_allocator.h:98: multiple definition of `std::string::_Rep::_M_destroy(std::allocator&lt;char&gt; const&amp;)'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/bits/basic_string.tcc:326: multiple definition of `std::string::append(std::string const&amp;)'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/bits/basic_string.tcc:171: multiple definition of `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(std::string const&amp;)'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/bits/basic_string.tcc:244: multiple definition of `std::string::assign(std::string const&amp;)'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(string-inst.o):c:/gccbuild/build/mingw64/gcc-4.6.3/x86_64-w64-mingw32/libstdc++-v3/include/bits/basic_string.tcc:207: multiple definition of `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::basic_string(char const*, unsigned long long, std::allocator&lt;char&gt; const&amp;)'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3\\libstdc++.a(eh_personality.o):c:\\gccbuild\\build\\mingw64\\gcc-4.6.3\\x86_64-w64-mingw32\\libstdc++-v3\\libsupc++/../../../../../../src/gcc-4.6.3/libstdc++-v3/libsupc++/eh_personality.cc:362: multiple definition of `__gxx_personality_sj0'\n# c:/perl64/site/lib/auto/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.6.3/libstdc++.dll.a(libstdc++-6.dll):(.text+0x0): first defined here\n# collect2: ld returned 1 exit status\n</code></pre>\n\n<p>I'm running activeperl, perl 5.20.2 </p>\n\n<p>Any ideas on what is wrong?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1433947798, "post_id": 30759567, "comment_id": 49572592, "body": "<a href=\"http://perldoc.perl.org/perldsc.html#ARRAYS-OF-HASHES\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldsc.html#ARRAYS-OF-HASHES</a>"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 762641, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/4aSKD.jpg?s=128&g=1", "display_name": "user762641", "link": "https://stackoverflow.com/users/762641/user762641"}, "edited": false, "score": 0, "creation_date": 1433947870, "post_id": 30759780, "comment_id": 49572650, "body": "No i cant use Module Test::CSV_XS.Any other alternative"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "reply_to_user": {"reputation": 81, "user_id": 762641, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/4aSKD.jpg?s=128&g=1", "display_name": "user762641", "link": "https://stackoverflow.com/users/762641/user762641"}, "edited": false, "score": 0, "creation_date": 1433948060, "post_id": 30759780, "comment_id": 49572820, "body": "Good answer to a bad question...  I think @user762641 could benefit from reading <a href=\"https://metacpan.org/pod/distribution/perl/pod/perldsc.pod\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/perl/pod/perldsc.pod</a> and eventually <a href=\"https://metacpan.org/pod/distribution/perl/pod/perllol.pod\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/perl/pod/perllol.pod</a> as well."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 81, "user_id": 762641, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/4aSKD.jpg?s=128&g=1", "display_name": "user762641", "link": "https://stackoverflow.com/users/762641/user762641"}, "edited": false, "score": 0, "creation_date": 1433948600, "post_id": 30759780, "comment_id": 49573244, "body": "@user762641 There is no module in core that I know of that can parse CSV files. You will have to build your own."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 81, "user_id": 762641, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/4aSKD.jpg?s=128&g=1", "display_name": "user762641", "link": "https://stackoverflow.com/users/762641/user762641"}, "edited": false, "score": 1, "creation_date": 1433948934, "post_id": 30759780, "comment_id": 49573525, "body": "@user762641 : Please read <a href=\"http://stackoverflow.com/help/someone-answers\"><b>What should I do when someone answers my question</b></a> also."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 5, "last_activity_date": 1433950307, "last_edit_date": 1433950307, "creation_date": 1433947580, "answer_id": 30759780, "question_id": 30759567, "link": "https://stackoverflow.com/questions/30759567/creating-multidimension-array-with-multiple-coloumn-in-perl/30759780#30759780", "title": "creating multidimension array with multiple coloumn in perl", "body": "<p>A simple way to do this is to read your file, line-by-line, split each line into the id and category portions and use those to create an array of <em>hash references</em>:</p>\n\n<pre><code>use strict;\nuse warnings; \n\nuse Data::Dumper;\n\nmy @categories;\nwhile ( my $row = &lt;DATA&gt; ) {\n   my ($id, $cat) = $row =~ m/(\\d+)\\s+(\\w+)/;\n\n   push @categories, { id =&gt; $id, cat =&gt; $cat };\n}\n\nprint Dumper \\@categories; \n\n__DATA__\n1 Car\n2 Education\n3 Mathematics\n4 Physics\n5 Astrophysics \n</code></pre>\n\n<p>output:</p>\n\n<pre><code>$VAR1 = [\n          {\n            'cat' =&gt; 'Car',\n            'id' =&gt; '1'\n          },\n          {\n            'cat' =&gt; 'Education',\n            'id' =&gt; '2'\n          },\n          {\n            'cat' =&gt; 'Mathematics',\n            'id' =&gt; '3'\n          },\n          {\n            'cat' =&gt; 'Physics',\n            'id' =&gt; '4'\n          },\n          {\n            'cat' =&gt; 'Astrophysics',\n            'id' =&gt; '5'\n          }\n        ];\n</code></pre>\n\n<p>If your file is anymore complex than this (e.g. has quoting) you should really use <a href=\"https://metacpan.org/pod/Text::CSV_XS\" rel=\"nofollow\"><code>Text::CSV_XS</code></a></p>\n"}], "owner": {"reputation": 81, "user_id": 762641, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/4aSKD.jpg?s=128&g=1", "display_name": "user762641", "link": "https://stackoverflow.com/users/762641/user762641"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1433950307, "creation_date": 1433947071, "last_edit_date": 1433948186, "question_id": 30759567, "link": "https://stackoverflow.com/questions/30759567/creating-multidimension-array-with-multiple-coloumn-in-perl", "title": "creating multidimension array with multiple coloumn in perl", "body": "<pre>ID  Cat    \n1   Car          \n2   Education     \n3   Mathematics   \n4   Physics       \n5   Astrophysics</pre>\n\n<p>Based on this list, I want to generate and access array in the following manner:</p>\n\n<pre><code>Array\n(\n    [0] =&gt; Array\n        (\n            [id] =&gt; 1\n            [cat] =&gt; car\n        )\n\n    [1] =&gt; Array\n        (\n            [id] =&gt; 2\n            [cat] =&gt; Education\n        )\n\n      [2] =&gt; Array\n        (\n            [id] =&gt; 3\n            [cat] =&gt; Mathematics\n        )   \n\n\n)\n</code></pre>\n\n<p>and so on till end of array.</p>\n"}, {"tags": ["json", "perl", "hash"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1433946238, "post_id": 30759097, "comment_id": 49571258, "body": "Which module are you getting <code>encode_json</code> and <code>decode_json</code> from?"}, {"owner": {"reputation": 1290, "user_id": 617065, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2b29be70e590e62ccda123b2809b277?s=128&d=identicon&r=PG", "display_name": "Linus", "link": "https://stackoverflow.com/users/617065/linus"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1433947227, "post_id": 30759097, "comment_id": 49572113, "body": "I included use JSON;"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1433947246, "post_id": 30759097, "comment_id": 49572132, "body": "You can dereference hash, <code>my %myHashDecoded = %{ decode_json($enableInputEncoded) };</code>"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 4, "last_activity_date": 1433946417, "creation_date": 1433946417, "answer_id": 30759297, "question_id": 30759097, "link": "https://stackoverflow.com/questions/30759097/decoding-hash-from-json-string-in-perl/30759297#30759297", "title": "Decoding Hash from JSON-String in Perl", "body": "<p>You are encoding a <em>reference</em> to a hash (<code>encode_json \\%myHash</code>), which is correct. So when you decode your JSON string you are receiving a reference to a hash. Prepend a <code>%</code> sigil to a hash reference to dereference it.</p>\n\n<pre><code>$myHashReferenceDecoded = decode_json($myHashReferenceEncoded);\n%myHashDecoded = %$myHashReferenceDecoded;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1290, "user_id": 617065, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2b29be70e590e62ccda123b2809b277?s=128&d=identicon&r=PG", "display_name": "Linus", "link": "https://stackoverflow.com/users/617065/linus"}, "edited": false, "score": 0, "creation_date": 1433947094, "post_id": 30759307, "comment_id": 49571999, "body": "Thanks for the quick relpy. And sorry for my ignorance regarding the documentation."}, {"owner": {"reputation": 534, "user_id": 3882704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5f3c0ad59d68324bd15384465a8f17?s=128&d=identicon&r=PG", "display_name": "Kellen", "link": "https://stackoverflow.com/users/3882704/kellen"}, "edited": false, "score": 0, "creation_date": 1443845954, "post_id": 30759307, "comment_id": 53665062, "body": "This really helped me grok some aspects of Perl that (as a newcomer) didn&#39;t make a lot of sense to me. Thanks!"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 13, "last_activity_date": 1433947928, "last_edit_date": 1433947928, "creation_date": 1433946437, "answer_id": 30759307, "question_id": 30759097, "link": "https://stackoverflow.com/questions/30759097/decoding-hash-from-json-string-in-perl/30759307#30759307", "title": "Decoding Hash from JSON-String in Perl", "body": "<p>Assuming you are using JSON.pm, <a href=\"https://metacpan.org/pod/JSON#decode_json\" rel=\"noreferrer\">the documentation says</a>:</p>\n\n<blockquote>\n  <p>The opposite of encode_json: expects an UTF-8 (binary) string and tries to parse that as an UTF-8 encoded JSON text, returning the resulting <strong>reference</strong>.</p>\n</blockquote>\n\n<p>So you are getting back what you put in. You're putting in a hashref and you're getting a hashref back.</p>\n\n<p>If you want a regular hash, then you just dereference it as you would any other hashref:</p>\n\n<pre><code>my $myHashRefDecoded = decode_json($myHashEncoded);\nmy %myHashDecoded = %$myHashRefDecoded;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "is_accepted": false, "score": 1, "last_activity_date": 1433948729, "last_edit_date": 1433948729, "creation_date": 1433947853, "answer_id": 30759878, "question_id": 30759097, "link": "https://stackoverflow.com/questions/30759097/decoding-hash-from-json-string-in-perl/30759878#30759878", "title": "Decoding Hash from JSON-String in Perl", "body": "<p>The JSON API is consistent. If you use a reference to a hash when encoding, you also get a hash reference when decoding.\nSo if you want to store the result in a pure hash variable, you have to dereference the result of <code>decode_json</code> with <code>%{ ... }</code>.</p>\n\n<p>Solution:</p>\n\n<pre><code>my $myHashEncoded = encode_json \\%myHash;\nmy %myHashDecoded = %{ decode_json($myHashEncoded) };\n</code></pre>\n\n<p>Note that dereferencing a hash is a costly operation. You should really consider if using directly the reference is not enough in your code.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1433948465, "creation_date": 1433948465, "answer_id": 30760160, "question_id": 30759097, "link": "https://stackoverflow.com/questions/30759097/decoding-hash-from-json-string-in-perl/30760160#30760160", "title": "Decoding Hash from JSON-String in Perl", "body": "<p>On the following line, you do two things: you create a reference to the hash (<code>\\</code>), and you encode the result (<code>encode_json</code>):</p>\n\n<pre><code>my $myHashEncoded = encode_json(\\%myHash);\n</code></pre>\n\n<p>One the following line, you decode the JSON (<code>decode_json</code>), but you don't \"undo\" the reference.</p>\n\n<pre><code>my %myHashDecoded = decode_json($myHashEncoded);\n</code></pre>\n\n<p>The real inverse operation would involve a hash derereference.</p>\n\n<pre><code>my %myHashDecoded = %{ decode_json($myHashEncoded) };\n</code></pre>\n\n<p>But that needlessly makes a (shallow) copy of the hash. Maybe you should just work with the reference instead.</p>\n\n<pre><code>my $myHashDecoded = decode_json($myHashEncoded);\n</code></pre>\n\n<p>By the way, the reason a reference is used is that it's impossible to pass a hash to a sub or to return a hash from a sub. Only list of scalar can be passed and returned. </p>\n"}], "owner": {"reputation": 1290, "user_id": 617065, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2b29be70e590e62ccda123b2809b277?s=128&d=identicon&r=PG", "display_name": "Linus", "link": "https://stackoverflow.com/users/617065/linus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11846, "favorite_count": 1, "accepted_answer_id": 30759307, "answer_count": 4, "score": 7, "last_activity_date": 1433948729, "creation_date": 1433945983, "last_edit_date": 1433946597, "question_id": 30759097, "link": "https://stackoverflow.com/questions/30759097/decoding-hash-from-json-string-in-perl", "title": "Decoding Hash from JSON-String in Perl", "body": "<p>Why does this not work?</p>\n\n<pre><code>my $myHashEncoded = encode_json \\%myHash;\nmy %myHashDecoded = decode_json($myHashEncoded);\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>Reference found where even-sized list expected at ...\n</code></pre>\n\n<p>So I changed it to:</p>\n\n<pre><code>my $myHashEncoded = encode_json \\%myHash;\nmy $myHashDecoded = decode_json($enableInputEncoded);\n</code></pre>\n\n<p>But then obviously <code>%myHash</code> is not the same as <code>$myHashDecoded</code>.</p>\n\n<p>How do I restore a proper hash from the JSON string?</p>\n"}, {"tags": ["perl", "timestamp", "aix"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433948477, "post_id": 30758760, "comment_id": 49573146, "body": "You don&#39;t need Perl for this: <code>find . -type f -printf &#39;%T@ %p\\n&#39;</code>. If you do use Perl, it would be more efficient to pipe the output from <code>find</code> directly to <code>perl</code> so you don&#39;t invoke the interpreter separately for each file: <code>find . -type f -print0 | perl -0E &#39;say((stat)[9] . &quot; $_&quot;) while &lt;&gt;&#39;</code> (I think <code>-print0</code> is a GNU extension so your version of <code>find</code> may not have it.)"}, {"owner": {"reputation": 317, "user_id": 994141, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/82d38797e164400ef54867558c103be7?s=128&d=identicon&r=PG", "display_name": "pihug12", "link": "https://stackoverflow.com/users/994141/pihug12"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1434383281, "post_id": 30758760, "comment_id": 49742584, "body": "@ThisSuitIsBlackNot On my AIX 7.1 system, there isn&#39;t <code>-printf</code> or <code>-print0</code> on the find command. I don&#39;t know if an improvement is still possible..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1434384434, "post_id": 30758760, "comment_id": 49743375, "body": "So I guess you do need Perl. <code>-print0</code> allows you to process filenames containing newlines safely; if you&#39;re sure none of your filenames contain newlines, you could modify the second command I gave to <code>find . -type f | perl -nlE &#39;say((stat)[9] . &quot; $_&quot;)&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1433945668, "post_id": 30758829, "comment_id": 49570853, "body": "<code>$_</code> is default argument for <code>stat()</code> so it can be omitted."}, {"owner": {"reputation": 317, "user_id": 994141, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/82d38797e164400ef54867558c103be7?s=128&d=identicon&r=PG", "display_name": "pihug12", "link": "https://stackoverflow.com/users/994141/pihug12"}, "edited": false, "score": 0, "creation_date": 1433947133, "post_id": 30758829, "comment_id": 49572033, "body": "I will never understand the Perl syntax. :-) Thanks!"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 317, "user_id": 994141, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/82d38797e164400ef54867558c103be7?s=128&d=identicon&r=PG", "display_name": "pihug12", "link": "https://stackoverflow.com/users/994141/pihug12"}, "edited": false, "score": 1, "creation_date": 1433947427, "post_id": 30758829, "comment_id": 49572267, "body": "@pihug12 ok, this is equivalent which you&#39;re more familiar with, <code>perl -le &#39;for my $f (@ARGV) { print((stat $f)[9] . &quot; $f&quot;); }&#39;</code>"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1433945369, "creation_date": 1433945369, "answer_id": 30758829, "question_id": 30758760, "link": "https://stackoverflow.com/questions/30758760/list-files-and-timestamp-of-creation-on-aix-system-perl/30758829#30758829", "title": "List files and timestamp of creation on AIX system (Perl)", "body": "<p>What you're looking for is <code>@ARGV</code> array, which you can use to loop over, and check <code>$_</code> for current file name,</p>\n\n<pre><code>perl -le 'print((stat $_)[9] . \" $_\") for @ARGV' foo.txt\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 994141, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/82d38797e164400ef54867558c103be7?s=128&d=identicon&r=PG", "display_name": "pihug12", "link": "https://stackoverflow.com/users/994141/pihug12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 30758829, "answer_count": 1, "score": 1, "last_activity_date": 1433946740, "creation_date": 1433945223, "last_edit_date": 1492086984, "question_id": 30758760, "link": "https://stackoverflow.com/questions/30758760/list-files-and-timestamp-of-creation-on-aix-system-perl", "title": "List files and timestamp of creation on AIX system (Perl)", "body": "<p>I want to perform a command like <code>ls -l --time-style=\"+%s\"</code> on an AIX system.<br>\nI only need the timestamp of the file and the filename.</p>\n\n<p>With <a href=\"https://unix.stackexchange.com/a/137224\">this answer</a>, I made:</p>\n\n<pre><code>find . -type f -exec perl -le 'print((stat shift)[9])' {} \\;\n</code></pre>\n\n<p>But I can't find a way to print the filename with Perl (I don't know the language and have troubles with the one-liner syntax).<br>\nI'm experimenting with something like this:  </p>\n\n<pre><code>perl -le 'print((stat shift)[9] . \" ???\")' foo.txt\n</code></pre>\n\n<p>Can anyone help me out?</p>\n"}, {"tags": ["ios", "xcode", "perl", "run-script"], "comments": [{"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 1, "creation_date": 1433944040, "post_id": 30758186, "comment_id": 49569572, "body": "Please post your script here(from your machine). It is possible that you are doing some typo."}], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 2138071, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9835362ac36689cc1a9fc3fed6780ecb?s=128&d=identicon&r=PG", "display_name": "Jargen89", "link": "https://stackoverflow.com/users/2138071/jargen89"}, "edited": false, "score": 0, "creation_date": 1433946687, "post_id": 30758874, "comment_id": 49571611, "body": "Thanks! That helped a lot."}], "tags": [], "owner": {"reputation": 862, "user_id": 3586150, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f0969599955a953e592034929ed7a23?s=128&d=identicon&r=PG", "display_name": "Neil H Watson", "link": "https://stackoverflow.com/users/3586150/neil-h-watson"}, "is_accepted": true, "score": 3, "last_activity_date": 1433945510, "creation_date": 1433945510, "answer_id": 30758874, "question_id": 30758186, "link": "https://stackoverflow.com/questions/30758186/getting-syntax-error-in-perl-script/30758874#30758874", "title": "Getting syntax error in perl script", "body": "<p>I believe that the heredoc terminator (EOD) cannot be preceded by whitespace. Remove the indentation and try again.</p>\n"}], "owner": {"reputation": 470, "user_id": 2138071, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9835362ac36689cc1a9fc3fed6780ecb?s=128&d=identicon&r=PG", "display_name": "Jargen89", "link": "https://stackoverflow.com/users/2138071/jargen89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 30758874, "answer_count": 1, "score": -1, "last_activity_date": 1433945510, "creation_date": 1433943842, "last_edit_date": 1495540712, "question_id": 30758186, "link": "https://stackoverflow.com/questions/30758186/getting-syntax-error-in-perl-script", "title": "Getting syntax error in perl script", "body": "<p>I am trying to run the script you see in this answer:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6428353/best-way-to-add-license-section-to-ios-settings-bundle/6453507#6453507\">best way to add license section to iOS settings bundle</a></p>\n\n<p>And I am getting a syntax error in Xcode.</p>\n\n<pre><code>Missing right curly or square bracket at ./acknowledgements.pl line 57, at end of line\nsyntax error at ./acknowledgements.pl line 57, at EOF\nExecution of ./acknowledgements.pl aborted due to compilation errors.\nCommand /bin/sh failed with exit code 255\n</code></pre>\n\n<p>Not sure why it is happening.</p>\n\n<p>Here is the script from my machine:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nmy $out = \"../Settings.bundle/en.lproj/Acknowledgements.strings\";\nmy $plistout =  \"../Settings.bundle/Acknowledgements.plist\";\n\nunlink $out;\n\nopen(my $outfh, '&gt;', $out) or die $!;\nopen(my $plistfh, '&gt;', $plistout) or die $!;\n\nprint $plistfh &lt;&lt;'EOD';\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n&lt;key&gt;StringsTable&lt;/key&gt;\n&lt;string&gt;Acknowledgements&lt;/string&gt;\n&lt;key&gt;PreferenceSpecifiers&lt;/key&gt;\n&lt;array&gt;\nEOD\n\nfor my $i (sort glob(\"*.license\")){\n\n    my $value=`cat $i`;\n    $value =~ s/\\r//g;\n    $value =~ s/\\n/\\r/g;\n    $value =~ s/[ \\t]+\\r/\\r/g;\n    $value =~ s/\\\"/\\'/g;\n    my $key=$i;\n    $key =~ s/\\.license$//;\n\n    my $cnt = 1;\n    my $keynum = $key;\n    for my $str (split /\\r\\r/, $value){\n\n        print $plistfh &lt;&lt;\"EOD\";\n        &lt;dict&gt;\n        &lt;key&gt;Type&lt;/key&gt;\n        &lt;string&gt;PSGroupSpecifier&lt;/string&gt;\n        &lt;key&gt;FooterText&lt;/key&gt;\n        &lt;string&gt;$keynum&lt;/string&gt;\n        &lt;/dict&gt;\n        EOD\n\n        print $outfh \"\\\"$keynum\\\" = \\\"$str\\\";\\n\";\n        $keynum = $key.(++$cnt);\n     }\n}\n\nprint $plistfh &lt;&lt;'EOD';\n&lt;/array&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\nEOD\nclose($outfh);\nclose($plistfh);\n</code></pre>\n"}, {"tags": ["perl", "perl-module", "perl-data-structures"], "comments": [{"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433943488, "post_id": 30757082, "comment_id": 49569084, "body": "There are many ways. What you are asking is too broad. You should tell what you have tried so far and what you are expecting."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433943497, "post_id": 30757082, "comment_id": 49569093, "body": "The answer depends completely on what you want. What&#39;s wrong with the <code>for</code> loop that you have written?"}, {"owner": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433943991, "post_id": 30757082, "comment_id": 49569533, "body": "I get the error below when trying to de-reference  the hash. Pseudo-hashes are deprecated at ./ymsclient.pl line 44. Pseudo-hashes are deprecated at ./ymsclient.pl line 44. Argument &quot;N/A&quot; isn&#39;t numeric in hash dereference at ./ymsclient.pl line 44. Bad index while coercing array into hash at ./ymsclient.pl line 44."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1433952072, "post_id": 30757082, "comment_id": 49575757, "body": "I&#39;ve updated my answer below with how to deal with your data structure now that we&#39;ve finalized what it is (an array of arrays of hashes)."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433947253, "post_id": 30759248, "comment_id": 49572138, "body": "I tried your solutions and I also had tried de referencing the way you suggested but both brings back the pseudo hash error Pseudo-hashes are deprecated at ./ymsclient.pl line 44. Argument &quot;ENABLED&quot; isn&#39;t numeric in hash element at ./ymsclient.pl line 44. Bad index while coercing array into hash at ./ymsclient.pl line 44."}, {"owner": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433947313, "post_id": 30759248, "comment_id": 49572181, "body": "Also here is the same issue recurring when i tried the code snippet in your comment Pseudo-hashes are deprecated at ./ymsclient.pl line 43. Pseudo-hashes are deprecated at ./ymsclient.pl line 43. Argument &quot;N/A&quot; isn&#39;t numeric in each at ./ymsclient.pl line 43. Bad index while coercing array into hash at ./ymsclient.pl line 43."}, {"owner": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433948128, "post_id": 30759248, "comment_id": 49572881, "body": "Your latest edit also has the same issue,  I use perl, v5.8.6    Pseudo-hashes are deprecated at ./ymsclient.pl line 44. Pseudo-hashes are deprecated at ./ymsclient.pl line 44. Argument &quot;N/A&quot; isn&#39;t numeric in each at ./ymsclient.pl line 44. Bad index while coercing array into hash at ./ymsclient.pl line 44."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433948349, "post_id": 30759248, "comment_id": 49573049, "body": "That error means you are trying to access an array as a hash. Please post a <code>print Dumper \\@results</code> immediately after receiving the data. Something isn&#39;t adding up."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433948476, "post_id": 30759248, "comment_id": 49573144, "body": "Also, remove your loop with the iterators completely, and just try to <code>print &quot;$results[0]-&gt;{&#39;notification_enabled&#39;}\\n&quot;</code> instead."}, {"owner": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433950209, "post_id": 30759248, "comment_id": 49574457, "body": "print Dumper \\@results added to the post"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433950349, "post_id": 30759248, "comment_id": 49574555, "body": "ahh so what you&#39;ve got is an array of arrays, which then contain hashes... give me  a minute and I&#39;ll fix my code"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433950827, "post_id": 30759248, "comment_id": 49574881, "body": "My code is updated to reflect your actual returned data (array of arrays of hashes)"}, {"owner": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433954610, "post_id": 30759248, "comment_id": 49577386, "body": "It works like a charm!  I don&#39;t have the privileges enough to vote up this answer but much appreciated mate!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433955115, "post_id": 30759248, "comment_id": 49577690, "body": "Awesome :) You can mark the question as correct though"}, {"owner": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433956437, "post_id": 30759248, "comment_id": 49578538, "body": "I was able to individually access other elements using $result[0]-&gt;[0]{&#39;last_check_time&#39;}\\n&quot;; but how do I access anything under here ?   &#39;dimensions&#39; =&gt; {                                           &#39;cluster&#39; =&gt; &#39;&lt;cluster&gt;&#39;,                                           &#39;service&#39; =&gt; &#39;&lt;servicename&gt;&#39;,                                           &#39;host&#39; =&gt; &#39;hostfoobaar&#39;                                         },"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "edited": false, "score": 0, "creation_date": 1433960393, "post_id": 30759248, "comment_id": 49580983, "body": "<code>$result[0]-&gt;[0]{&#39;dimensions&#39;}{&#39;cluster&#39;}</code> or <code>my $href = $result[0]-&gt;[0]{&#39;dimensions&#39;};</code> then <code>$href-&gt;{&#39;cluster&#39;}</code> and <code>for my $k in (%$href){ print &quot;$href-&gt;{$k}\\n&quot;; }</code>"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1433953145, "last_edit_date": 1433953145, "creation_date": 1433946320, "answer_id": 30759248, "question_id": 30757082, "link": "https://stackoverflow.com/questions/30757082/array-of-hashes-manipulation/30759248#30759248", "title": "Array of hashes manipulation", "body": "<p>Below is a script that shows how to iterate over a loop the Perl idiomatic way. It doesn't go deeper than a 3rd level, but it should be enough to give you some good ideas. In the while() loop, it shows how to dereference an inner hash as a whole and without needing the incrementor, and shows how to properly dereference and access individual items within the structure.</p>\n\n<p>EDIT: We've found OP actually has an array of arrays of hashes. Code updated.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy @aoh = (\n            [\n                {\n                    1 =&gt; 'a',\n                    2 =&gt; 'b',\n                    3 =&gt; 'c',\n                },\n                {\n                    'z' =&gt; 26,\n                    'd' =&gt; {\n                            100 =&gt; '3rd level',\n                           },\n                    'y' =&gt; 25,\n                    'x' =&gt; 24,\n                },\n            ],\n);\n\nfor my $element (@aoh){\n\n    for my $level_2_element (@{ $element }){\n\n        while  (my ($key, $value) = (each %{ $level_2_element })){\n            if (ref($value) eq 'HASH'){\n                while (my ($k, $v) = (each %{$value})){\n                    print \"$key: -- $k: $v\\n\";\n\n                }\n            }\n            else {\n                print \"$key: $value\\n\";\n            }\n        }\n    }\n}\n\nprint \"Element 0 0, key 1: $aoh[0]-&gt;[0]{1}\\n\";\nprint \"Element 0 1, key x: $aoh[0]-&gt;[1]{x}\\n\";\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 3898856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4ba41455a288f3a09a706c4797615b76?s=128&d=identicon&r=PG&f=1", "display_name": "Ani", "link": "https://stackoverflow.com/users/3898856/ani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1433953145, "creation_date": 1433941107, "last_edit_date": 1433950183, "question_id": 30757082, "link": "https://stackoverflow.com/questions/30757082/array-of-hashes-manipulation", "title": "Array of hashes manipulation", "body": "<p>I'm running the script below to query a monitoring system and the results I get back are in array of hashes. What is the best way to access the individual hashes and their elements?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse YMS::Client::MonStatus;\nuse Getopt::Long;\nuse DBI::Dumper;\nuse Data::Dumper;\nuse YMS::Client::MonStatus::Filter;\n\nmy $username = \"username\";\nmy $password = \"passwd\";\nmy $cluster  = \"aso\";\n\n#my $filter = YMS::Client::MonStatus::Filter();\nmy $client  = YMS::Client::MonStatus-&gt;new($cluster);\n$client-&gt;verbose(\"on\");\n$client-&gt;byauth({username =&gt; $username, password =&gt; \"$password\"});\n$client-&gt;yms_rotation(\"bot.ops.com:4080\");\n$client-&gt;debug(\"on\");\n\nmy $filter = YMS::Client::MonStatus::Filter-&gt;new();\n$filter-&gt;add(\"cluster\", \"=\", \"aso\");\n$filter-&gt;add(\"host\", \"in\", \"&lt;hostname&gt;\");\n#$filter-&gt;add(\"service\", \"=\", \"Prod-Deploy\");\n$filter-&gt;add(\"status\", \"=\", \"OK\");\nmy %args = (\n    \"filters\" =&gt; $filter,\n    \"times\"   =&gt; {\n        \"start\" =&gt; \"now - 4 hours\",\n        \"end\"   =&gt; \"now\"\n    },\n);\n$client-&gt;filters($filter);\n#$client-&gt;saved_list();\n$client-&gt;status_list(\\%args);\n\nmy @result = $client-&gt;output;\nmy $field  = scalar (@result);\n\n#print Dumper (@result);\n#my $ref = $result[0][0]-&gt;[0];\n#print Dumper ($result[0][0]);\n\nprint $field;\nfor ( my $i = 0; $i &lt; $field; $i++ ) {\n    print $result[$i]{'notification_enabled'} .\"\\n\";\n}\n</code></pre>\n\n<p>The output I get querying the API is as below.</p>\n\n<pre><code>$VAR1 = [\n                      {\n                        'acknowledged' =&gt; 'N/A',\n                        'check_type' =&gt; 'ACTIVE',\n                        'current_attempt' =&gt; 1,\n                        'deleted' =&gt; 0,\n                        'dimensions' =&gt; {\n                                          'cluster' =&gt; '&lt;cluster&gt;',\n                                          'service' =&gt; '&lt;servicename&gt;',\n                                          'host' =&gt; 'hostfoobaar'\n                                        },\n                        'flapping' =&gt; 'N/A',\n                        'frequency' =&gt; 0,\n                        'hidden' =&gt; 0,\n                        'last_ack_time' =&gt; 0,\n                        'last_check_time' =&gt; 1432875229,\n                        'last_comment_time' =&gt; 0,\n                        'last_delete_time' =&gt; 1432875229,\n                        'last_downtime_time' =&gt; 0,\n                        'last_notif_time' =&gt; 0,\n                        'last_state_change' =&gt; 1432875094,\n                        'last_status_change' =&gt; 1432875094,\n                        'max_attempt' =&gt; 1,\n                        'msg_length' =&gt; 10,\n                        'notification_enabled' =&gt; 'ENABLED',\n                        'num_comments' =&gt; 0,\n                        'quality_metric' =&gt; 0,\n                        's_0' =&gt; 0,\n                        's_1' =&gt; 0,\n                        's_2' =&gt; 0,\n                        's_3' =&gt; 0,\n                        's_4' =&gt; 0,\n                        's_5' =&gt; 0,\n                        's_6' =&gt; 0,\n                        's_7' =&gt; 0,\n                        's_8' =&gt; 0,\n                        's_9' =&gt; 0,\n                        'scheduled_downtime' =&gt; 'NO',\n                        'source' =&gt; '',\n                        'state' =&gt; 'HARD',\n                        'status' =&gt; 'OK',\n                        'status_msg' =&gt; 'status ok',\n                        'trap' =&gt; 1,\n                        'ts_0' =&gt; 1432875229,\n                        'ts_1' =&gt; 1432875094,\n                        'ts_2' =&gt; 0,\n                        'ts_3' =&gt; 0,\n                        'ts_4' =&gt; 0,\n                        'ts_5' =&gt; 0,\n                        'ts_6' =&gt; 0,\n                        'ts_7' =&gt; 0,\n                        'ts_8' =&gt; 0,\n                        'ts_9' =&gt; 0\n                      }\n                    ];`\n</code></pre>\n\n<p>Here's the output of print Dumper \\@results</p>\n\n<pre><code>$VAR1 = [\n          [\n            {\n              'acknowledged' =&gt; 'N/A',\n              'check_type' =&gt; 'ACTIVE',\n              'current_attempt' =&gt; 1,\n              'deleted' =&gt; 0,\n              'dimensions' =&gt; {\n                                'cluster' =&gt; 'aso',\n                                'service' =&gt; 'system_launch',\n                                'host' =&gt; 'hostfoobar'\n                              },\n              'flapping' =&gt; 'N/A',\n              'frequency' =&gt; 0,\n              'hidden' =&gt; 0,\n              'last_ack_time' =&gt; 0,\n              'last_check_time' =&gt; 1432875317,\n              'last_comment_time' =&gt; 0,\n              'last_delete_time' =&gt; 0,\n              'last_downtime_time' =&gt; 0,\n              'last_notif_time' =&gt; 0,\n              'last_state_change' =&gt; 1432875317,\n              'last_status_change' =&gt; 1432875317,\n              'max_attempt' =&gt; 1,\n              'msg_length' =&gt; 10,\n              'notification_enabled' =&gt; 'ENABLED',\n              'num_comments' =&gt; 0,\n              'quality_metric' =&gt; 0,\n              's_0' =&gt; 0,\n              's_1' =&gt; 0,\n              's_2' =&gt; 0,\n              's_3' =&gt; 0,\n              's_4' =&gt; 0,\n              's_5' =&gt; 0,\n              's_6' =&gt; 0,\n              's_7' =&gt; 0,\n              's_8' =&gt; 0,\n              's_9' =&gt; 0,\n              'scheduled_downtime' =&gt; 'NO',\n              'source' =&gt; '',\n              'state' =&gt; 'HARD',\n              'status' =&gt; 'OK',\n              'status_msg' =&gt; 'status ok',\n              'trap' =&gt; 1,\n              'ts_0' =&gt; 1432875317,\n              'ts_1' =&gt; 0,\n              'ts_2' =&gt; 0,\n              'ts_3' =&gt; 0,\n              'ts_4' =&gt; 0,\n              'ts_5' =&gt; 0,\n              'ts_6' =&gt; 0,\n              'ts_7' =&gt; 0,\n              'ts_8' =&gt; 0,\n              'ts_9' =&gt; 0\n            },\n            {\n              'acknowledged' =&gt; 'N/A',\n              'check_type' =&gt; 'ACTIVE',\n              'current_attempt' =&gt; 1,\n              'deleted' =&gt; 0,\n              'dimensions' =&gt; {\n                                'cluster' =&gt; 'cluster',\n                                'service' =&gt; 'Prod-Deploy',\n                                'host' =&gt; 'hostfoobar'\n                              },\n              'flapping' =&gt; 'N/A',\n              'frequency' =&gt; 0,\n              'hidden' =&gt; 0,\n              'last_ack_time' =&gt; 0,\n              'last_check_time' =&gt; 1432875229,\n              'last_comment_time' =&gt; 0,\n              'last_delete_time' =&gt; 1432875229,\n              'last_downtime_time' =&gt; 0,\n              'last_notif_time' =&gt; 0,\n              'last_state_change' =&gt; 1432875094,\n              'last_status_change' =&gt; 1432875094,\n              'max_attempt' =&gt; 1,\n              'msg_length' =&gt; 10,\n              'notification_enabled' =&gt; 'ENABLED',\n              'num_comments' =&gt; 0,\n              'quality_metric' =&gt; 0,\n              's_0' =&gt; 0,\n              's_1' =&gt; 0,\n              's_2' =&gt; 0,\n              's_3' =&gt; 0,\n              's_4' =&gt; 0,\n              's_5' =&gt; 0,\n              's_6' =&gt; 0,\n              's_7' =&gt; 0,\n              's_8' =&gt; 0,\n              's_9' =&gt; 0,\n              'scheduled_downtime' =&gt; 'NO',\n              'source' =&gt; '',\n              'state' =&gt; 'HARD',\n              'status' =&gt; 'OK',\n              'status_msg' =&gt; 'status ok',\n              'trap' =&gt; 1,\n              'ts_0' =&gt; 1432875229,\n              'ts_1' =&gt; 1432875094,\n              'ts_2' =&gt; 0,\n              'ts_3' =&gt; 0,\n              'ts_4' =&gt; 0,\n              'ts_5' =&gt; 0,\n              'ts_6' =&gt; 0,\n              'ts_7' =&gt; 0,\n              'ts_8' =&gt; 0,\n              'ts_9' =&gt; 0\n            },\n            {\n              'acknowledged' =&gt; 'N/A',\n              'check_type' =&gt; 'ACTIVE',\n              'current_attempt' =&gt; 1,\n              'deleted' =&gt; 0,\n              'dimensions' =&gt; {\n                                'cluster' =&gt; 'cluster',\n                                'query' =&gt; 'foobar',\n                                'service' =&gt; 'foobar',\n                                'host' =&gt; 'hostfoobar'\n                              },\n              'flapping' =&gt; 'N/A',\n              'frequency' =&gt; 60,\n              'hidden' =&gt; 0,\n              'last_ack_time' =&gt; 1433949747,\n              'last_check_time' =&gt; 1433949867,\n              'last_comment_time' =&gt; 1421368592,\n              'last_delete_time' =&gt; 1433949867,\n              'last_downtime_time' =&gt; 1421376467,\n              'last_notif_time' =&gt; 1427825899,\n              'last_state_change' =&gt; 1407310478,\n              'last_status_change' =&gt; 1433949867,\n              'max_attempt' =&gt; 1,\n              'msg_length' =&gt; 172,\n              'notification_enabled' =&gt; 'ENABLED',\n              'num_comments' =&gt; 8,\n              'quality_metric' =&gt; 0,\n              's_0' =&gt; 0,\n              's_1' =&gt; 1,\n              's_2' =&gt; 0,\n              's_3' =&gt; 0,\n              's_4' =&gt; 0,\n              's_5' =&gt; 0,\n              's_6' =&gt; 0,\n              's_7' =&gt; 0,\n              's_8' =&gt; 0,\n              's_9' =&gt; 0,\n              'scheduled_downtime' =&gt; 'NO',\n              'source' =&gt; '',\n              'state' =&gt; 'HARD',\n              'status' =&gt; 'OK',\n              'status_msg' =&gt; 'UNKNOWN.',\n              'trap' =&gt; 0,\n              'ts_0' =&gt; 1433949867,\n              'ts_1' =&gt; 1433949747,\n              'ts_2' =&gt; 1433949687,\n              'ts_3' =&gt; 1433949627,\n              'ts_4' =&gt; 1433949567,\n              'ts_5' =&gt; 1433949507,\n              'ts_6' =&gt; 1433949447,\n              'ts_7' =&gt; 1433949387,\n              'ts_8' =&gt; 1433949327,\n              'ts_9' =&gt; 1433949267\n            },\n            {\n              'acknowledged' =&gt; 'N/A',\n              'check_type' =&gt; 'ACTIVE',\n              'current_attempt' =&gt; 1,\n              'deleted' =&gt; 0,\n              'dimensions' =&gt; {\n                                'cluster' =&gt; 'cluster',\n                                'service' =&gt; 'Production_Deployment',\n                                'host' =&gt; 'hostfoobar'\n                              },\n              'flapping' =&gt; 'N/A',\n              'frequency' =&gt; 0,\n              'hidden' =&gt; 0,\n              'last_ack_time' =&gt; 0,\n              'last_check_time' =&gt; 1432875270,\n              'last_comment_time' =&gt; 0,\n              'last_delete_time' =&gt; 0,\n              'last_downtime_time' =&gt; 0,\n              'last_notif_time' =&gt; 0,\n              'last_state_change' =&gt; 1432875270,\n              'last_status_change' =&gt; 1432875270,\n              'max_attempt' =&gt; 1,\n              'msg_length' =&gt; 10,\n              'notification_enabled' =&gt; 'ENABLED',\n              'num_comments' =&gt; 0,\n              'quality_metric' =&gt; 0,\n              's_0' =&gt; 0,\n              's_1' =&gt; 0,\n              's_2' =&gt; 0,\n              's_3' =&gt; 0,\n              's_4' =&gt; 0,\n              's_5' =&gt; 0,\n              's_6' =&gt; 0,\n              's_7' =&gt; 0,\n              's_8' =&gt; 0,\n              's_9' =&gt; 0,\n              'scheduled_downtime' =&gt; 'NO',\n              'source' =&gt; '',\n              'state' =&gt; 'HARD',\n              'status' =&gt; 'OK',\n              'status_msg' =&gt; 'status ok',\n              'trap' =&gt; 1,\n              'ts_0' =&gt; 1432875270,\n              'ts_1' =&gt; 0,\n              'ts_2' =&gt; 0,\n              'ts_3' =&gt; 0,\n              'ts_4' =&gt; 0,\n              'ts_5' =&gt; 0,\n              'ts_6' =&gt; 0,\n              'ts_7' =&gt; 0,\n              'ts_8' =&gt; 0,\n              'ts_9' =&gt; 0\n            }\n          ]\n        ];\n</code></pre>\n"}, {"tags": ["string", "bash", "perl", "quotes"], "comments": [{"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1433948865, "post_id": 30756900, "comment_id": 49573468, "body": "I don&#39;t see any problem when running on bash on Linux:  arrayLMEs=&#39;var availableTags=[ &quot;01 East Bering Sea&quot;, &quot;02 Gulf of Alaska&quot;];&#39;; echo --PLACEHOLDER-- | perl -pe &#39;s/PLACEHOLDER/&#39;&quot;${arrayLMEs}&quot;&#39;/&#39; -"}, {"owner": {"reputation": 862, "user_id": 1290178, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a491c73c367b36fa4c4343e0c7a2c24b?s=128&d=identicon&r=PG", "display_name": "Bruno von Paris", "link": "https://stackoverflow.com/users/1290178/bruno-von-paris"}, "reply_to_user": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1434018348, "post_id": 30756900, "comment_id": 49606395, "body": "I must say that my strings are generated. So I guess that the quotes happen to be stripped out when passed from a command to another."}], "answers": [{"comments": [{"owner": {"reputation": 862, "user_id": 1290178, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a491c73c367b36fa4c4343e0c7a2c24b?s=128&d=identicon&r=PG", "display_name": "Bruno von Paris", "link": "https://stackoverflow.com/users/1290178/bruno-von-paris"}, "edited": false, "score": 0, "creation_date": 1433941628, "post_id": 30757078, "comment_id": 49567582, "body": "Great explanations! Thanks"}, {"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1433948562, "post_id": 30757078, "comment_id": 49573212, "body": "This is an original solution. I never thought about using <code>-s</code> for one-liners!"}], "tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": true, "score": 3, "last_activity_date": 1433948987, "last_edit_date": 1433948987, "creation_date": 1433941098, "answer_id": 30757078, "question_id": 30756900, "link": "https://stackoverflow.com/questions/30756900/perl-to-substitute-string-with-a-string-containing-spaces-and-double-quotes/30757078#30757078", "title": "Perl to substitute string with a string containing spaces and double quotes", "body": "<p>Use the <code>-s</code> switch to pass the variable to perl:</p>\n\n<pre><code>perl -spe 's/PLACEHOLDER/$var/' -- -var=\"$arrayLMEs\" filename\n</code></pre>\n\n<p>The <code>--</code> signifies the end of the command line arguments. <code>-var=\"$arrayLMEs\"</code> sets a perl variable with the value of your shell variable <code>$arrayLMEs</code>.</p>\n\n<p>Alternatively, you could use awk:</p>\n\n<pre><code>awk -v var=\"$arrayLMEs\" '{sub(/PLACEHOLDER/, var)}1' filename\n</code></pre>\n\n<p>A nice side-effect of using awk is the replacement is a simple string, so metacharacters in the original string won't be interpreted.</p>\n"}, {"tags": [], "owner": {"reputation": 862, "user_id": 1290178, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a491c73c367b36fa4c4343e0c7a2c24b?s=128&d=identicon&r=PG", "display_name": "Bruno von Paris", "link": "https://stackoverflow.com/users/1290178/bruno-von-paris"}, "is_accepted": false, "score": 1, "last_activity_date": 1433942240, "last_edit_date": 1433942240, "creation_date": 1433941861, "answer_id": 30757371, "question_id": 30756900, "link": "https://stackoverflow.com/questions/30756900/perl-to-substitute-string-with-a-string-containing-spaces-and-double-quotes/30757371#30757371", "title": "Perl to substitute string with a string containing spaces and double quotes", "body": "<p>For the record, I found a workaround (but not as good as Tom Fenech's solution).</p>\n\n<ol>\n<li><p>Save the variable in a file</p>\n\n<p><code>echo $arrayLMEs &gt; tmpfile</code></p></li>\n<li><p>use sed to paste the file content into the target file</p>\n\n<p><code>sed -i '/PLACEHOLDER/{\nr tmpfile\nd\n}' filename</code></p></li>\n</ol>\n\n<p>I suppose that it is quite robust. Downside: forces to create another file on the fly.</p>\n"}], "owner": {"reputation": 862, "user_id": 1290178, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a491c73c367b36fa4c4343e0c7a2c24b?s=128&d=identicon&r=PG", "display_name": "Bruno von Paris", "link": "https://stackoverflow.com/users/1290178/bruno-von-paris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 30757078, "answer_count": 2, "score": 0, "last_activity_date": 1433948987, "creation_date": 1433940676, "question_id": 30756900, "link": "https://stackoverflow.com/questions/30756900/perl-to-substitute-string-with-a-string-containing-spaces-and-double-quotes", "title": "Perl to substitute string with a string containing spaces and double quotes", "body": "<p>My bash script builds a string variable <code>$arrayLMEs</code>, containing a string like:</p>\n\n<pre><code>var availableTags=[ \"01 East Bering Sea\", \"02 Gulf of Alaska\"];\n</code></pre>\n\n<p>I need to put this string in a javascript code, to replace a placeholder.\nI was thinking to use something like:</p>\n\n<pre><code>perl -i -pe 's/PLACEHOLDER/'\"${arrayLMEs}\"'/' filename\n</code></pre>\n\n<p>But actually the command complains, because of the double quotes found in the string, which are messing up the bash command and in consequence the perl command. </p>\n\n<p>How can I fix the command to keep the spaces and double quotes?</p>\n"}, {"tags": ["xml", "perl", "rrdtool"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1433945253, "last_edit_date": 1433945253, "creation_date": 1433943806, "answer_id": 30758166, "question_id": 30755720, "link": "https://stackoverflow.com/questions/30755720/rrdtool-amend-a-hwpredict-rra/30758166#30758166", "title": "rrdtool - amend a HWPREDICT rra", "body": "<p>Partial answer so far:</p>\n\n<p>Create new <code>rrd</code> file with new parameters. Include <code>--start</code> to allow you to back date far enough.  (Find lowest 'timestamp' in the dumped XML). </p>\n\n<p>Process dumped XML and extract data. There's a gotcha here - rrdtool won't accept 'clashing' timestamps if you have overlapping RRAs. For example, if you've a <code>MAX</code> and an <code>AVERAGE</code>. </p>\n\n<p>I've chosen to pick out <code>MAX</code> as that's probably most useful to me.</p>\n\n<p>I have also done it 'in order' because I have specified my initial RRAs in the appropriate order (e.g. smallest resolution first). This'll probably work otherwise, but bear in mind you might get some different values looking at a coarser resolution 'MAX'. </p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy %update_vals;\n\nsub parse_rra {\n    my ( $twig, $rra ) = @_;\n\n    return unless $rra-&gt;first_child_text('cf') eq 'MAX';\n    my $step      = $twig-&gt;root-&gt;first_child_text('step');\n    my $lastupd   = $twig-&gt;root-&gt;first_child_text('lastupdate');\n    my $base_time = $lastupd - $lastupd % $step;\n    my $pdp_step  = $rra-&gt;first_child_text('pdp_per_row');\n\n    my @row_vals;\n    foreach my $row ( $rra-&gt;first_child('database')-&gt;children('row') ) {\n        my $val = $row-&gt;first_child_text('v');\n        push( @row_vals, $val );\n    }\n\n    my $start_rra = $base_time - $#row_vals * $step * $pdp_step;\n    foreach my $value (@row_vals) {\n        if (   not $value eq \"NaN\"\n            or not defined $update_vals{$start_rra} )\n        {\n            $update_vals{$start_rra} = $value;\n            $start_rra += $step * $pdp_step;\n        }\n    }\n}\n\nmy $target_file      = \"your_rrd_dump.xml\";\nmy $destination_file = \"new.rrd\";\n\nmy $twig = XML::Twig-&gt;new( 'twig_handlers' =&gt; { 'rra' =&gt; \\&amp;parse_rra } )\n    -&gt;parsefile($target_file);\n\nforeach my $timestamp ( sort keys %update_vals ) {\n    print\n        `rrdtool update $destination_file $timestamp:$update_vals{$timestamp}`;\n}\n</code></pre>\n\n<p>Now, so far - all this does is 'replay' all the timestamps you have available. Unfortunately - it simply doesn't work (based on RRA config) for any consolidated data points, because you don't have enough samples at that resolution (e.g. 1 per day). </p>\n\n<p>So as a second approach (edited):</p>\n\n<ul>\n<li>Create your 'source' RRD.  </li>\n<li>Create a 'new' RRD with the desired parameters. </li>\n</ul>\n\n<p>Process both using <code>XML::Twig</code> - the first you preserve 'non HWPREDICT' data and delete the <code>HWPREDICT</code> stuff. The second you process and splice the <code>HWPREDICT</code> RRAs into the previous, to create a new XML dump... which you restore. </p>\n\n<p>Note - this'll may well not work if you've wildly differing data. (and note - <code>HWPREDICT</code> stuff being re-initialised might take a while to 'settle down' again). </p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy @cf_to_replace =\n    qw ( HWPREDICT MHWPREDICT SEASONAL DEVSEASONAL DEVPREDICT FAILURES );\nmy %hwp_cf = map { $_ =&gt; 1 } @cf_to_replace;\n\nmy $xml_doc;\n\nsub discard_hwp {\n    my ( $twig, $rra ) = @_;\n    my $CF = $rra-&gt;first_child_text('cf');\n    if ( $hwp_cf{$CF} ) { $rra-&gt;delete }\n}\n\nsub splice_hwp {\n    my ( $twig, $rra ) = @_;\n    my $CF = $rra-&gt;first_child_text('cf');\n    if ( $hwp_cf{$CF} ) {\n        $rra-&gt;cut;\n        $rra-&gt;paste( 'last_child', $xml_doc-&gt;root );\n    }\n}\n\nmy $orig_file             = 'your_xml_dump.xml';\nmy $newly_created_rrddump = 'new_params.xml';\n\n$xml_doc = XML::Twig-&gt;new(\n    'pretty_print'  =&gt; 'indented',\n    'twig_handlers' =&gt; { 'rra' =&gt; \\&amp;discard_hwp }\n)-&gt;parsefile($orig_file);\n\nmy $new = XML::Twig-&gt;new( 'twig_handlers' =&gt; { 'rra' =&gt; \\&amp;splice_hwp } )\n    -&gt;parsefile($newly_created_rrddump);\n\nopen( my $output, \"&gt;\", \"new.xml\" ) or die $!;\nprint {$output} $xml_doc-&gt;sprint;\nclose($output);\n</code></pre>\n\n<p>What this is doing is basically running through two separate 'rrdtool dumps' and splicing together the <code>RRA</code>s. I'll give this a try and see if it actually does what I need it to - I won't know until the Holt-Winters functions settle down. </p>\n"}], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 30758166, "answer_count": 1, "score": 1, "last_activity_date": 1433945253, "creation_date": 1433937627, "last_edit_date": 1433938174, "question_id": 30755720, "link": "https://stackoverflow.com/questions/30755720/rrdtool-amend-a-hwpredict-rra", "title": "rrdtool - amend a HWPREDICT rra", "body": "<p>I am using <code>rrdtool</code> to collect and process some system metrics. </p>\n\n<p>I have been experimenting with the rather marvelous <code>HWPREDICT</code> feature, that allow you to do Holt-Winters seasonal forecasting for aberration detection.</p>\n\n<p>However I've now hit a problem, in that when I started, I set my <code>HWPREDICT</code> parameters to have a \"season\" a day long:</p>\n\n<pre><code>rrdtool create &lt;filename&gt; -s 300 DS:curr_sessions:GAUGE:600:0:U RRA:AVERAGE:0.5:1:2880 RRA:AVERAGE:0.5:12:2016 RRA:AVERAGE:0.5:60:2400 RRA:HWPREDICT:1440:0.1:0.0001:288\n</code></pre>\n\n<p>288 samples with a 5 minute interval means a day long 'season'. </p>\n\n<p>What I'd like to do is extend that, such that my 'seasons' are 2016 samples - a week. </p>\n\n<p>E.g.</p>\n\n<pre><code>RRA:HWPREDICT:4032:0.1:0.0001:2016\n</code></pre>\n\n<p>But I'm having difficulty figuring out if there's any way I can do this without resetting my source data. I have looked at <code>rrddump</code> which lets you dump/restore. This exports XML but preserves the RRA structure. </p>\n\n<p><code>rrdtune</code> lets you adjust some of the parameters for alpha/beta/gamma, but not the season length. </p>\n\n<p>And rrdresize lets you amend the length of RRA, but not the length of season. </p>\n\n<p>Does anyone have a good solution that lets me recreate my <code>rrd</code> but preserve the data held in it? (I don't mind 'losing' my HWPREDICT RRA data as changing the seasonal period pretty much invalidates it anyway, but would quite like to keep my existing data in the other RRAs).</p>\n\n<p>For bonus points - I'm most familiar with perl, so don't mind having a fiddle with perl/XML if anyone's able to give me a point in the right direction. (Can I 'fudge' the exported XML somehow, to just 'feed' it a new RRA with a bunch of uninitialised values?)</p>\n"}, {"tags": ["perl", "function", "goto"], "comments": [{"owner": {"reputation": 2490, "user_id": 1173884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1aJWD.jpg?s=128&g=1", "display_name": "Jindra Helcl", "link": "https://stackoverflow.com/users/1173884/jindra-helcl"}, "edited": false, "score": 1, "creation_date": 1433937292, "post_id": 30754927, "comment_id": 49564345, "body": "The rule of thumb (in many languages including Perl) is not to use the <code>goto</code> statement unless you know exactly why it is needed."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1433937294, "post_id": 30754927, "comment_id": 49564348, "body": "Looking at this together with <a href=\"http://stackoverflow.com/q/30691110/622310\">your previous question</a> you don&#39;t appear to have got the hang of writing questions for Stack Overflow. I suggest you take a look at <a href=\"http://stackoverflow.com/questions/how-to-ask\"><b><i>How to Ask</i></b></a>"}], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1433939193, "post_id": 30755642, "comment_id": 49565673, "body": "Sometimes you must use goto. If the flowchart looks like the three-utility problem &lt;<a href=\"https://en.wikipedia.org/wiki/Water,_gas,_and_electricity\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Water,_gas,_and_electricity</a>&gt;, then a goto is required. Or you can hide the goto in a state machine. It&#39;s &quot;goto&quot;-less programming, mean don&#39;t use the word &quot;goto&quot;. But goto&#39;s are required for non-trivial code."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 3, "creation_date": 1433941159, "post_id": 30755642, "comment_id": 49567180, "body": "@shawnhcorey while that might be true, it&#39;s not the point here. We are dealing with a beginner. There are almost always exceptions to rules, but sometimes it&#39;s a good decision to ommit them initially. :)"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1433945901, "post_id": 30755642, "comment_id": 49571025, "body": "@shawnhcorey you can almost always avoid goto, eg. by using basic blocks <a href=\"http://perldoc.perl.org/perlsyn.html#Basic-BLOCKs\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlsyn.html#Basic-BLOCKs</a>"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1433953749, "post_id": 30755642, "comment_id": 49576852, "body": "@simbabque It used to bug the heck out of me that my professors tried to dumb things down. I wanted to know not only the exceptions but how to identify them, so I could use the correct technique to deal with them."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1433953754, "post_id": 30755642, "comment_id": 49576855, "body": "@\u0421\u0443\u0445\u043e\u043927 &quot;...almost always...&quot; Yes but how do you know when? That takes experience but you may have to use a goto when you cannot create a flowchart without the lines crossing over themselves."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1433937442, "creation_date": 1433937442, "answer_id": 30755642, "question_id": 30754927, "link": "https://stackoverflow.com/questions/30754927/goto-vs-local-function-in-perl/30755642#30755642", "title": "Goto vs. Local function in Perl", "body": "<blockquote>\n  <p>Programmers don't die. They just <code>GOSUB</code> without <code>RETURN</code>.</p>\n</blockquote>\n\n<p>That said, do <strong>not</strong> use <code>goto</code> in Perl. </p>\n\n<ul>\n<li>If you want a statement to be executed once, just write that statement and don't use any flow control</li>\n<li>If you want your program to execute the stuff several times, put it in a loop</li>\n<li>If you want them to be executed from different places, put them in a sub</li>\n<li>If you want the sub to be available in different programs, put them in a module</li>\n<li>Don't use <code>goto</code></li>\n</ul>\n\n<hr>\n\n<p>There is one place where a <code>goto</code> makes sense in Perl. Matt Trout is talking about that in his blog post <a href=\"http://shadow.cat/blog/matt-s-trout/goto-considered-useful/\"><em>No, not that <code>goto</code>, the other <code>goto</code></em></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2591, "user_id": 1162732, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c2fc947392492e1ff685f126964a2908?s=128&d=identicon&r=PG", "display_name": "zgpmax", "link": "https://stackoverflow.com/users/1162732/zgpmax"}, "is_accepted": false, "score": 0, "last_activity_date": 1433959250, "creation_date": 1433959250, "answer_id": 30763911, "question_id": 30754927, "link": "https://stackoverflow.com/questions/30754927/goto-vs-local-function-in-perl/30763911#30763911", "title": "Goto vs. Local function in Perl", "body": "<p>Conventional wisdom is that other constructs are better than goto.</p>\n\n<p>If you want to do something repeatedly, use a loop.</p>\n\n<p>If you want to do something conditionally, use a block with if.</p>\n\n<p>If you want to go somewhere and come back, use a function.</p>\n\n<p>If you want to bail out early and \"jump straight to the end\", this can often be better written using an exception. (Perl handily manages </p>\n"}], "owner": {"reputation": 21, "user_id": 4982857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a110cb3fd5d43833f88dee38b82d88?s=128&d=identicon&r=PG&f=1", "display_name": "sam forums", "link": "https://stackoverflow.com/users/4982857/sam-forums"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 1, "accepted_answer_id": 30755642, "answer_count": 2, "score": 1, "last_activity_date": 1433959250, "creation_date": 1433935655, "last_edit_date": 1433936986, "question_id": 30754927, "link": "https://stackoverflow.com/questions/30754927/goto-vs-local-function-in-perl", "title": "Goto vs. Local function in Perl", "body": "<p>In Perl, is it better to use <code>goto</code> or local function, and why with an example?</p>\n\n<p>For example, I am using a code</p>\n\n<pre><code>sub data {\n    data;\n}\n\ndata();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>goto L:\n\nL: if ( $i == 0 )\n   print \"Hello!!!!\";\n</code></pre>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1433932326, "post_id": 30752173, "comment_id": 49561212, "body": "I don&#39;t know how that works in mojo, but in Dancer2 you could write your own session, subclassing whatever type of session you want to use, and overwrite or wrap the <code>_destroy</code> method to sign out of your API. See <a href=\"https://metacpan.org/pod/Dancer2::Core::Role::SessionFactory#destroy\" rel=\"nofollow noreferrer\">metacpan.org/pod/Dancer2::Core::Role::SessionFactory#destroy</a>"}], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 2291758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4391c4d45560de40165b291211b13ba6?s=128&d=identicon&r=PG", "display_name": "user2291758", "link": "https://stackoverflow.com/users/2291758/user2291758"}, "edited": false, "score": 0, "creation_date": 1434118423, "post_id": 30779567, "comment_id": 49658755, "body": "So it seems there is no direct answer to my question allowing me to do that in Mojolicious. Anyway now I have a lot of pointers where to do more research. Thanks"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "reply_to_user": {"reputation": 645, "user_id": 2291758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4391c4d45560de40165b291211b13ba6?s=128&d=identicon&r=PG", "display_name": "user2291758", "link": "https://stackoverflow.com/users/2291758/user2291758"}, "edited": false, "score": 0, "creation_date": 1434124508, "post_id": 30779567, "comment_id": 49662646, "body": "It seems that &quot;<code>Mojo::Server::PSGI</code> allows Mojolicious applications to run on all PSGI compatible servers&quot;, but I wouldn&#39;t know if you can use <code>Plack::Middleware::Session</code> and <code>Plack::Session::Cleanup</code> with it nor how to and if it is worth it.  Good Luck.  If you find a solution, please come back and answer your own question!"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "reply_to_user": {"reputation": 645, "user_id": 2291758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4391c4d45560de40165b291211b13ba6?s=128&d=identicon&r=PG", "display_name": "user2291758", "link": "https://stackoverflow.com/users/2291758/user2291758"}, "edited": false, "score": 0, "creation_date": 1434137460, "post_id": 30779567, "comment_id": 49669820, "body": "I just noticed <code>Mojolicious::Plugin::PlackMiddleware</code> which should allow you to use <code>Plack::Middleware::Session</code> and <code>Plack::Session::Cleanup</code> from Mojolicious.  I don&#39;t know if it works, but it is worth checking out!"}], "tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": true, "score": 1, "last_activity_date": 1434022243, "creation_date": 1434022243, "answer_id": 30779567, "question_id": 30752173, "link": "https://stackoverflow.com/questions/30752173/mojolicious-session-destructor/30779567#30779567", "title": "Mojolicious session destructor", "body": "<p>Since you're not getting any answers on your question, I decided do some digging.</p>\n\n<p>I found <a href=\"https://metacpan.org/pod/Plack::Session::Cleanup\" rel=\"nofollow\">Plack::Session::Cleanup</a> (which can be used by <a href=\"https://metacpan.org/pod/Plack::Middleware::Session\" rel=\"nofollow\">Plack::Middleware::Session</a>) that seems to have what you wish.  Unfortunately, here's where I ran into problems, there's a <a href=\"https://metacpan.org/pod/Plack::Middleware::Session\" rel=\"nofollow\">MojoX::Session::Simple</a> for <a href=\"https://metacpan.org/pod/MojoX::Session::Simple\" rel=\"nofollow\">Plack::Middleware::Session::Simple</a>, but no connectors for the non-Simple modules.  So, I don't know if this will help you, but you might poke around and see if it can.</p>\n\n<hr>\n\n<p>I then looked at <code>Mojolicious::Sessions</code>, <code>Mojolicious::Sessions::Storable</code>, <code>MojoX::Session</code> and <code>Mojolicious::Plugin::SimpleSession</code> to see how they handle expiration...</p>\n\n<p>Looking at <a href=\"https://metacpan.org/source/SRI/Mojolicious-6.11/lib/Mojolicious/Sessions.pm\" rel=\"nofollow\">the code for <code>Mojolicious::Sessions</code></a>, it seems that the sessions are only stored within the cookie and the expiration is only checked when the cookie is loaded back from the client.  If you had a hook at line 24 to handle the expired session, it might get called multiple times for the same expired session (and probably not what you want) or it may never get called (if the client stops accessing the system before expiration).</p>\n\n<p><code>Mojolicious::Sessions::Storable</code> is based on <code>Mojolicious::Sessions</code> and seems to have the same expiration code (with the same issues).</p>\n\n<p>Looking at <a href=\"https://metacpan.org/source/VTI/MojoX-Session-0.33/lib/MojoX/Session.pm\" rel=\"nofollow\">the code for <code>MojoX::Session</code></a>, it looks like <code>flush</code> has a provision for a callback (for both previously expired sessions at line 216 and newly expired sessions at lines 227, 233, 262 and 268 [unfortunately there's no way to distinguish between the two]).  <em>Unfortunately, this functionality is not documented and so it might go away at any time plus I'm not sure when/how it can be used (again because it isn't documented).</em></p>\n\n<p><code>Mojolicious::Plugin::SimpleSession</code> has a single method (<code>_too_old</code>) that could be overridden.</p>\n\n<p>I also looked at <code>WWW::Session::Storage::File</code> which is often used with <code>WWW::Session</code> which can be used via <code>Mojolicious::Plugin::WWWSession</code> and you could put a hook <a href=\"https://metacpan.org/source/HOREA/WWW-Session-0.12/lib/WWW/Session/Storage/File.pm\" rel=\"nofollow\">in the code</a> around line 112, but again nothing is built-in.</p>\n\n<p>So, in summary, the <em>undocumented</em> callback in <code>MojoX::Session</code>'s <code>flush</code> method comes closest, but all of these solutions have one fatal flaw: <strong>they only get called when a transaction happens</strong> and this means that you'll miss some expirations (unless you have another mechanism to handle those).  Because of this, I think it is best that you have the other API manage its session cleanup based on a longer timeout then your application's session or create your own timeout/cleanup mechanism for the other API's session stored in your application.</p>\n"}], "owner": {"reputation": 645, "user_id": 2291758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4391c4d45560de40165b291211b13ba6?s=128&d=identicon&r=PG", "display_name": "user2291758", "link": "https://stackoverflow.com/users/2291758/user2291758"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 30779567, "answer_count": 1, "score": 1, "last_activity_date": 1434022243, "creation_date": 1433927918, "question_id": 30752173, "link": "https://stackoverflow.com/questions/30752173/mojolicious-session-destructor", "title": "Mojolicious session destructor", "body": "<p>How can I call some custom action, when a session of a user expires. Can this be done with mojolicious? Can it be done with other web frameworks?</p>\n\n<p>What is the term I am looking for, I don't know what to google, except \"session destructor\" or \"session destroy\".</p>\n\n<p>Specifically I want to notify an external API, deleting the session there.</p>\n"}, {"tags": ["regex", "perl", "split"], "comments": [{"owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "edited": false, "score": 0, "creation_date": 1433925884, "post_id": 30751224, "comment_id": 49556850, "body": "What about moving the <code>my @grabbed</code> inside of the <code>if ($line =~...) { ...</code> ?"}, {"owner": {"reputation": 347, "user_id": 3172948, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2e93cbea6404b437732a718123728d4?s=128&d=identicon&r=PG&f=1", "display_name": "ProfGhost", "link": "https://stackoverflow.com/users/3172948/profghost"}, "edited": false, "score": 0, "creation_date": 1433926503, "post_id": 30751224, "comment_id": 49557257, "body": "Are the number of lines between the occurences of run_diagnosis always the same?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433926551, "post_id": 30751224, "comment_id": 49557275, "body": "<code>undef @grabbed</code> also forces unnecessary garbage collection. You should empty an array with <code>@grabbed = ()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 4993835, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/100000413264467/picture?type=large", "display_name": "Ashesh Nair", "link": "https://stackoverflow.com/users/4993835/ashesh-nair"}, "edited": false, "score": 0, "creation_date": 1433928558, "post_id": 30751585, "comment_id": 49558665, "body": "Hi Borodin , ..All solutions mentioned above works great .Thanks a lot for your help ...will read through the code and understand"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1433926461, "creation_date": 1433926461, "answer_id": 30751585, "question_id": 30751224, "link": "https://stackoverflow.com/questions/30751224/split-input-files-into-multiple-file-using-perl/30751585#30751585", "title": "Split input files into multiple file using perl", "body": "<p>This program will do as you ask. It simply opens a new output file whenever a <code>run_diagnosis</code> line is found</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $file_in = 'Diagnosis_add_seal_ring.ppd';\nopen my $fh, '&lt;', $file_in or die qq{Unable to open \"$file_in\" for input: $!};\nmy ($file_ext) = $file_in =~ /(\\.[^.]*)\\z/;\n\nmy $filenum;\nmy $fh_out;\n\nwhile ( &lt;$fh&gt; ) {\n  if ( /^run_diagnosis/ ) {\n    my $file_out = (split /\\./)[2] . $file_ext;\n    warn $file_out, \"\\n\";\n    open $fh_out, '&gt;', $file_out or die qq{Unable to open \"$file_out\" for output: $!};\n    select $fh_out;\n  }\n  print if $fh_out;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>UMK004_W13_X3Y12.ppd\nUMK004_W13_X13Y10.ppd\nUMK004_W13_X15Y4.ppd\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433926707, "post_id": 30751627, "comment_id": 49557375, "body": "<code>use warnings</code> is superior to <code>-w</code> on the command-line or shebang line"}], "tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": true, "score": 1, "last_activity_date": 1433926737, "last_edit_date": 1433926737, "creation_date": 1433926586, "answer_id": 30751627, "question_id": 30751224, "link": "https://stackoverflow.com/questions/30751224/split-input-files-into-multiple-file-using-perl/30751627#30751627", "title": "Split input files into multiple file using perl", "body": "<p>You can open output files on the fly while you're reading the input. Whenever you meet a <code>^run_diagnosis</code> just open a new output file and continue to write using the same file handle variable:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $file_in = 'Diagnosis_add_seal_ring.ppd';\nmy ($ext) = $file_in =~ /([^.]+)$/;\n\nopen my $IN, \"&lt;\", $file_in or die \"unable to open $file_in $!\";\nmy $OUT;\nmy $file_num = 0;\n\nwhile (&lt;$IN&gt;) {\n    if (/^run_diagnosis[^.]+\\.[^.]+\\.([^.]+)/) {\n        my $file_out = \"$1.$ext\";\n        open $OUT, \"&gt;\", $file_out or die \"unable to open $file_out file $!\";\n        $file_num++;\n    }\n    print $OUT $_ if ($file_num);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 361, "user_id": 1269255, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HU0Gm.jpg?s=128&g=1", "display_name": "altimit", "link": "https://stackoverflow.com/users/1269255/altimit"}, "is_accepted": false, "score": 0, "last_activity_date": 1433927597, "creation_date": 1433927597, "answer_id": 30752048, "question_id": 30751224, "link": "https://stackoverflow.com/questions/30751224/split-input-files-into-multiple-file-using-perl/30752048#30752048", "title": "Split input files into multiple file using perl", "body": "<pre><code>#!/usr/bin/env perl\n\nuse v5.20;\nuse experimental qw/signatures postderef/;\nuse autodie;\n\nmy $i = 0;\nmy $fh;\n\nwhile(&lt;&gt;)\n{\n    if($_ =~ m/run_diagnosis/)\n    {\n        $i++;\n        open $fh, \"&gt;\", \"File_\".$i.\".txt\";\n        writeFile($_, $fh);\n    }else\n    {\n        unless($i==0)\n        {\n            open $fh, \"&gt;&gt;\", \"File_\".$i.\".txt\";\n            writeFile($_, $fh)\n        }\n    }\n}\n\nsub writeFile($line, $fh)\n{\n    print $fh $line;\n    close $fh;\n}\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 4993835, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/100000413264467/picture?type=large", "display_name": "Ashesh Nair", "link": "https://stackoverflow.com/users/4993835/ashesh-nair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 30751627, "answer_count": 3, "score": 0, "last_activity_date": 1433927722, "creation_date": 1433925476, "last_edit_date": 1433927722, "question_id": 30751224, "link": "https://stackoverflow.com/questions/30751224/split-input-files-into-multiple-file-using-perl", "title": "Split input files into multiple file using perl", "body": "<p>I have an input file with format as below , </p>\n\n<pre><code>Line 1 ......\nLine 2 ......\nLine 3 ...... \nLine 4 ......\nrun_diagnosis ./FAILCYCLE/pat.UMK004_W13_X3Y12.dat.trans -cycle_offset 1 -verbose\nLine 48 ....\nLine 49 ....\nLine 50 .....\nrun_diagnosis ./FAILCYCLE/pat.UMK004_W13_X13Y10.dat.trans -cycle_offset 1 -verbose \nLine 52 ..... \nLine 53 ..... \nLine 53 ..... \nrun_diagnosis ./FAILCYCLE/pat.UMK004_W13_X15Y4.dat.trans -cycle_offset 1 -verbose\nLine 55 .....\nLine 56 ..... \nLine 57 .....\n</code></pre>\n\n<p>The keyword for my search would be \"run_diagnosis\".<br>\nI want to split the content into multiple file (Number of file will be equal to number of occurrence of keyword \"run_diagnosis\") in input file.</p>\n\n<p>The data above the first occurrence of \"run_diagnosis\" is useless content.\nI want the output to be something like this , </p>\n\n<p><strong>File 1 :</strong> </p>\n\n<pre><code>run Diagnosis ./FAILCYCLE/pat.UMK004_W13_X3Y12.dat.trans -cycle_offset 1 -verbose\nLine 48 ....\nLine 49 .... \nLine 50 ..... \n</code></pre>\n\n<p><strong>File 2 :</strong>  </p>\n\n<pre><code>run_diagnosis ./FAILCYCLE/pat.UMK004_W13_X13Y10.dat.trans -cycle_offset 1 -verbose \nLine 52 ..... \nLine 53 ..... \nLine 53 .....\n</code></pre>\n\n<p>And so on ...till the last occurrence of keyword \"run_diagnosis\".<br>\nI have tried something using array , but it can only print the first and third occurrence of the keyword and skip the second and fourth.</p>\n\n<p>Also the name of the file to be created come from the \"run_diagnosis\" line entry.<br>\nIn my case the name of File 1 will be : UMK004_13_3_12.ext of the input file passed</p>\n\n<pre><code>my $file_in = 'Diagnosis_add_seal_ring.ppd';\nmy $ext = (fileparse($file_in,'\\..*'))[2];\nmy $start_of = 'Unwanted_Content.txt';\nmy $line;\nmy @grabbed;\n\nopen my $IN, \"&lt;\", $file_in or die \"unable to open $file_in $!\"; \nopen my $OUT, \"&gt;\", $start_of or die \"unable to open $start_of file $!\"; \n\n  while ($line = &lt;$IN&gt;) { \n      if ($line =~ /^run_diagnosis/) { \n         my $file_name = (split /\\./, $line)[2] . $ext;\n         push @grabbed, $line;\n             while (&lt;$IN&gt;) {\n                 last if /^run_diagnosis/;\n                 push @grabbed, $_;\n             }\n         open $OUT, \"&gt;\", $file_name or die \"... $!\"; \n         print $OUT @grabbed; \n         undef(@grabbed)\n  }     \n  close $OUT;\n}\n</code></pre>\n\n<p>Can you please guide me with this.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3, "user_id": 4993366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e67c5b16032a5946eeb5821653cb6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Looter11", "link": "https://stackoverflow.com/users/4993366/looter11"}, "reply_to_user": {"reputation": 4085, "user_id": 4185106, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/er5li.png?s=128&g=1", "display_name": "moffeltje", "link": "https://stackoverflow.com/users/4185106/moffeltje"}, "edited": false, "score": 0, "creation_date": 1433923777, "post_id": 30750431, "comment_id": 49555555, "body": "That&#39;s how we did it in classes and, as far as i know, the array is filled correctly with all the names. When i tried printing them all everything was there."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 2, "creation_date": 1433924286, "post_id": 30750431, "comment_id": 49555875, "body": "You really should use three argument <code>open</code> and check if you were successful. Like this: <code>open FILE, &#39;&lt;&#39;, &#39;list_marvel.txt&#39; or die &quot;error on opening:$!&#39;</code>. And honestly, it seems to me like you&#39;re getting taught a perl that is over ten years old. If you want to use it somewhere else, I strongly suggest that you pick up some books like \u201dLearning perl\u201d and \u201cModern Perl\u201d to complement your classes."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1433924728, "post_id": 30750431, "comment_id": 49556135, "body": "@moffeltje: Please don&#39;t &quot;fix&quot; British English to American English"}, {"owner": {"reputation": 4085, "user_id": 4185106, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/er5li.png?s=128&g=1", "display_name": "moffeltje", "link": "https://stackoverflow.com/users/4185106/moffeltje"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433925405, "post_id": 30750431, "comment_id": 49556564, "body": "@Borodin Oops, didn&#39;t think about it.. habits.. ;)"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433927808, "post_id": 30750618, "comment_id": 49558112, "body": "Case-independent equality is usually written <code>lc eq lc $hero</code> (or <code>fc eq fc $hero</code> if you are using Unicode and have version 16 or later of Perl)"}], "tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1433923631, "creation_date": 1433923631, "answer_id": 30750618, "question_id": 30750431, "link": "https://stackoverflow.com/questions/30750431/cant-find-a-string-in-array/30750618#30750618", "title": "Can&#39;t find a string in array", "body": "<p>First, you miss setting the <code>$result</code> at around <code>if($_ eq $hero)</code>.</p>\n\n<p>Then, you may wish to make you comparison case insensitive. This would require a regular expression, e.g.:</p>\n\n<pre><code>$result = 1 if (/^$hero$/i);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4993366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e67c5b16032a5946eeb5821653cb6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Looter11", "link": "https://stackoverflow.com/users/4993366/looter11"}, "edited": false, "score": 0, "creation_date": 1433924643, "post_id": 30750635, "comment_id": 49556080, "body": "This shows only the last one as well, for every other name it says its not on the list. I tried almost every method posted here and all of them show only the last element of the list properly."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3, "user_id": 4993366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e67c5b16032a5946eeb5821653cb6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Looter11", "link": "https://stackoverflow.com/users/4993366/looter11"}, "edited": false, "score": 0, "creation_date": 1433924945, "post_id": 30750635, "comment_id": 49556277, "body": "@Looter: Please add the file to the question. If all the solutions should work if the data is exactly the same as what you entered. Hence, it&#39;s not the same."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3, "user_id": 4993366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e67c5b16032a5946eeb5821653cb6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Looter11", "link": "https://stackoverflow.com/users/4993366/looter11"}, "edited": false, "score": 0, "creation_date": 1433931903, "post_id": 30750635, "comment_id": 49560956, "body": "Strictly speaking it&#39;s a list of characters, not heroes :P"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1433924074, "last_edit_date": 1433924074, "creation_date": 1433923693, "answer_id": 30750635, "question_id": 30750431, "link": "https://stackoverflow.com/questions/30750431/cant-find-a-string-in-array/30750635#30750635", "title": "Can&#39;t find a string in array", "body": "<p>You forgot to increment your <code>$result</code>. If you indent your code properly, it is easier to see.</p>\n\n<pre><code>foreach (@marvel) {\n    # here something is missing\n    if ( $_ eq $hero );\n}\n</code></pre>\n\n<p>Add <code>$result++ if $_ eq $hero;</code> in the foreach. </p>\n\n<hr>\n\n<p>You should always <code>use strict</code> and <code>use warnings</code>. That would have told you about a <em>syntax error near );</em>.</p>\n\n<p>Also consider using the three argument open with lexical filehandles.</p>\n\n<p>Rewritten it looks like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say'; # gives you say, which is print with a newline at the end\n\nsay \"What's you favourite hero?\";\nmy $hero = &lt;STDIN&gt;;\nchomp $hero;\n\n# alsways name variables so it's clear what they are for\nmy $found = 0;\n\n# die with the reason of error if something goes wrong\nopen my $fh, '&lt;', 'list_marvel.txt' or die $!;\n\n# read the file line by line    \nwhile ( my $line = &lt;$fh&gt; ) {\n  chomp $line;\n  if ( $line eq $hero ) {\n    # increment so we know we 'found' the hero in the list\n    $found++;\n\n    # stop reading at the first hit\n    last;\n  }\n}\nclose $fh;\n\n# no need to check for 1, truth is enough\nif ( $result ) {\n    say \"That hero is on the list.\";\n}\nelse {\n    say \"$hero is not on the list.\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1433923798, "creation_date": 1433923798, "answer_id": 30750666, "question_id": 30750431, "link": "https://stackoverflow.com/questions/30750431/cant-find-a-string-in-array/30750666#30750666", "title": "Can&#39;t find a string in array", "body": "<p>You don't set <code>$result</code> anywhere to true.</p>\n\n<p>Make your <code>foreach</code> loop like this:</p>\n\n<pre><code>foreach(@marvel){\n  $result = $_ eq $hero;\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>foreach (@marvel){\n  $result = 1 if $_ eq $hero\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 0, "creation_date": 1433992257, "post_id": 30750785, "comment_id": 49593302, "body": "You don&#39;t want to do ++ and then compare to 1, in case there are duplicates"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1433924157, "creation_date": 1433924157, "answer_id": 30750785, "question_id": 30750431, "link": "https://stackoverflow.com/questions/30750431/cant-find-a-string-in-array/30750785#30750785", "title": "Can&#39;t find a string in array", "body": "<p>Just modified your code. After if condition increment <code>$result</code>. Always use <code>use strict</code> and <code>use warnings</code> and always use 3 arguments to open a file.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"Whats your favourite hero?\\n\";\nmy $hero = &lt;stdin&gt;;\nchomp $hero;\nopen FILE, \"&lt;\", \"list_marvel.txt\" or die $!;\nchomp (my @marvel = &lt;FILE&gt;);\nclose FILE;\n\nmy $result = 0;\n\nforeach my $name (@marvel)\n{\n    if($name eq $hero)\n    {\n        $result++;\n    }\n}\nif ($result == 1)\n{\n    print \"That hero is in the list.\\n\";\n} \nelse\n{\n    print \"$hero is not in the list.\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1433925212, "creation_date": 1433925212, "answer_id": 30751121, "question_id": 30750431, "link": "https://stackoverflow.com/questions/30750431/cant-find-a-string-in-array/30751121#30751121", "title": "Can&#39;t find a string in array", "body": "<p>This will take a single user entry from STDIN. It will run through the file of hero names, and if one matches the user entry it will print the name and exit the loop. If the name is not found it will tell you:</p>\n\n<pre><code>use warnings;\nuse strict; \n\nopen my $file1, '&lt;', 'input.txt' or die $!;\n\nprint \"Enter hero: \";\nchomp(my $hero = &lt;STDIN&gt;);\n\nmy $result = 0;\nwhile(&lt;$file1&gt;){\n    chomp;\n    if (/$hero/){   \n        print \"$_\\n\";\n        $result++;\n        last;\n    }\n}\nprint \"hero not in list\\n\" if $result == 0;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4993366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e67c5b16032a5946eeb5821653cb6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Looter11", "link": "https://stackoverflow.com/users/4993366/looter11"}, "edited": false, "score": 0, "creation_date": 1433927175, "post_id": 30751150, "comment_id": 49557691, "body": "This one gives the same results as mine with added ++result;. It works only for last element from the list."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 4993366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e67c5b16032a5946eeb5821653cb6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Looter11", "link": "https://stackoverflow.com/users/4993366/looter11"}, "edited": false, "score": 0, "creation_date": 1433927543, "post_id": 30751150, "comment_id": 49557945, "body": "@Looter11:  I apologise - it was missing a <code>chomp</code>. Try now"}, {"owner": {"reputation": 3, "user_id": 4993366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e67c5b16032a5946eeb5821653cb6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Looter11", "link": "https://stackoverflow.com/users/4993366/looter11"}, "edited": false, "score": 0, "creation_date": 1433928043, "post_id": 30751150, "comment_id": 49558290, "body": "Still nothing. I&#39;m starting to wonder if it&#39;s something wrong with my files, because none of this replies works as intended. Even though i know they are good (in theory), something is preventing them from working."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 4993366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e67c5b16032a5946eeb5821653cb6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Looter11", "link": "https://stackoverflow.com/users/4993366/looter11"}, "edited": false, "score": 0, "creation_date": 1433928175, "post_id": 30751150, "comment_id": 49558380, "body": "@Looter11: Then at a guess you have leading or trailing spaces on your file records. Try <code>s&#47;\\s+\\z&#47;&#47;</code> instead of <code>chomp</code>"}, {"owner": {"reputation": 3, "user_id": 4993366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e67c5b16032a5946eeb5821653cb6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Looter11", "link": "https://stackoverflow.com/users/4993366/looter11"}, "edited": false, "score": 0, "creation_date": 1433928573, "post_id": 30751150, "comment_id": 49558673, "body": "That was it! I couldn&#39;t find any spaces when scrolling down the file, but after using that expression instead of chomp, everything works fine. Thank you!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1433927513, "last_edit_date": 1433927513, "creation_date": 1433925279, "answer_id": 30751150, "question_id": 30750431, "link": "https://stackoverflow.com/questions/30750431/cant-find-a-string-in-array/30751150#30751150", "title": "Can&#39;t find a string in array", "body": "<p>Your program has a syntax error and won't compile. It certainly won't find only the last name on the list</p>\n\n<p>The main problem is that you never set <code>$result</code>, and <code>if($_ eq $hero)</code> should be something like <code>$result = 1 if($_ eq $hero)</code></p>\n\n<p>You <strong><em>must always</em></strong> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program you write. It is an enormous help in finding straighforward problems</p>\n\n<p>Here's a working version</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'list_marvel.txt';\n\nopen my $fh, '&lt;', $filename or die qq{Unable to open \"'list_marvel.txt'\": $!};\n\nprint \"Whats your favourite hero? \";\nmy $hero = &lt;&gt;;\nchomp $hero;\n\nmy $found;\nwhile ( &lt;$fh&gt; ) {\n    chomp;\n    if ( $_ eq $hero ) {\n        ++$found;\n        last;\n    }\n}\n\nprint $found ? \"$hero is on the list\\n\" : \"$hero is not on the list\";\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4993366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e67c5b16032a5946eeb5821653cb6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Looter11", "link": "https://stackoverflow.com/users/4993366/looter11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 30751150, "answer_count": 6, "score": 0, "last_activity_date": 1433992229, "creation_date": 1433923025, "last_edit_date": 1433925865, "question_id": 30750431, "link": "https://stackoverflow.com/questions/30750431/cant-find-a-string-in-array", "title": "Can&#39;t find a string in array", "body": "<p>I have a file with almost 1,500 names of Marvel heroes, each name in new line. I have to ask user what his favourite hero is and find out if it's a hero from the list or not.  Here's what I have right now. It doesn't work: I can guess only the last hero from the list. For the rest it just prints that they are not on the list.</p>\n\n<pre><code>print \"Whats your favourite hero?\\n\";\nmy $hero = &lt;stdin&gt;;\nchomp $hero;\n\nopen FILE, \"&lt;list_marvel.txt\";\nmy @marvel = &lt;FILE&gt;;\nchomp(@marvel);\n\nmy $result = 0;\nforeach (@marvel) {\n    if ($_ eq $hero);\n}\n\nif ($result == 1) {\n    print \"That hero is on the list\";\n}\nelse {\n    print \"$hero is not on the list.\\n\";\n}\n</code></pre>\n\n<p>Here are two files:\n-Perl code : <a href=\"http://1drv.ms/1BYf8yM\" rel=\"nofollow\">Perl Code</a>\n-List of heroes : <a href=\"http://1drv.ms/1BYfiGg\" rel=\"nofollow\">List</a></p>\n"}, {"tags": ["perl", "file-handling"], "comments": [{"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "edited": false, "score": 1, "creation_date": 1433922467, "post_id": 30749997, "comment_id": 49554683, "body": "Not an answer to your question but an alternative solution to your initial problem. In order to print last ten lines you can use this: <code>perl -nle &#39;push @tail, $_; shift @tail if @tail &gt; 10; END {print foreach (@tail)}&#39;  input.txt </code>"}, {"owner": {"reputation": 45, "user_id": 1585026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8baa2deefd163fc8523e1ee44c1e2b15?s=128&d=identicon&r=PG", "display_name": "chipou", "link": "https://stackoverflow.com/users/1585026/chipou"}, "edited": false, "score": 0, "creation_date": 1433922533, "post_id": 30749997, "comment_id": 49554728, "body": "This discussion may help you :  <a href=\"http://stackoverflow.com/questions/6036244/perl-is-there-a-built-in-function-to-clear-all-variable-values\" title=\"perl is there a built in function to clear all variable values\">stackoverflow.com/questions/6036244/&hellip;</a>"}, {"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1433949393, "post_id": 30749997, "comment_id": 49573897, "body": "Here is another implementation of <code>tail</code> in Perl 5: <a href=\"https://metacpan.org/source/BDFOY/PerlPowerTools-1.006/bin/tail#L142\" rel=\"nofollow noreferrer\">metacpan.org/source/BDFOY/PerlPowerTools-1.006/bin/tail#L142</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1433922447, "creation_date": 1433922447, "answer_id": 30750218, "question_id": 30749997, "link": "https://stackoverflow.com/questions/30749997/how-to-reset/30750218#30750218", "title": "How to reset $.?", "body": "<p>You must reopen the file handle. Otherwise, as you have found, the line number just continues to increment</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy ($filename) = @ARGV;\n\nmy $num_lines;\nopen my $fh, '&lt;', $filename or die qq{Unable to open file \"$filename\" for input: $!\\n};\n++$num_lines while &lt;$fh&gt;;\n\nopen $fh, '&lt;', $filename or die qq{Unable to open file \"$filename\" for input: $!\\n};\n\nprint \"$num_lines lines\\n\";\nwhile ( &lt;$fh&gt; ) {\n    print \"$. $_\" if $. &gt; $num_lines - 10;\n}\n</code></pre>\n\n<p>Here's a neater way</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy ($filename) = @ARGV;\n\nmy @lines;\nopen my $fh, '&lt;', $filename or die qq{Unable to open file \"$filename\" for input: $!\\n};\n\nwhile ( &lt;$fh&gt; ) {\n  push @lines, $_;\n  shift @lines while @lines &gt; 10;\n}\n\nprint @lines;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1433924609, "post_id": 30750589, "comment_id": 49556064, "body": "but we can use local for $/ to set its value but for $. why can&#39;t we use local?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1433924698, "post_id": 30750589, "comment_id": 49556118, "body": "@ArruneshSingh: See <code>$.</code> in <a href=\"http://p3rl.org/perlvar\" rel=\"nofollow noreferrer\">perlvar</a>. The quote is from there."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1433923516, "creation_date": 1433923516, "answer_id": 30750589, "question_id": 30749997, "link": "https://stackoverflow.com/questions/30749997/how-to-reset/30750589#30750589", "title": "How to reset $.?", "body": "<p>Using <code>local</code> with <code>$.</code> does something else than you think:</p>\n\n<blockquote>\n  <p>Localizing $. will not\n                 localize the filehandle's line count. Instead, it will localize\n                 perl's notion of which filehandle $. is currently aliased to.</p>\n</blockquote>\n\n<p><code>$.</code> is not read-only, it can be assigned to normally.</p>\n\n<pre><code>1 while &lt;$fh&gt;;\nmy $i = $.;\nseek $fh, $. = 0, 0;\n</code></pre>\n"}], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "accepted_answer_id": 30750589, "answer_count": 2, "score": 1, "last_activity_date": 1433923516, "creation_date": 1433921810, "last_edit_date": 1433922233, "question_id": 30749997, "link": "https://stackoverflow.com/questions/30749997/how-to-reset", "title": "How to reset $.?", "body": "<p>I know <code>$.</code> shows the line number when <code>$/</code> is set to <code>\"\\n\"</code>.</p>\n\n<p>I wanted to emulate the Unix <code>tail</code> command in Perl and print the last 10 lines from a file but <code>$.</code> didn't work. If the file contains 14 lines it starts from 15 in the next loop.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $i;\n\nopen my $fh, '&lt;', $ARGV[0] or die \"unable to open file $ARGV[0] :$! \\n\";\ndo { local $.; $i = $. } while (&lt;$fh&gt;);\nseek $fh, 0, 0;\n\nif ($i &gt; 10) {\n    $i = $i - 10;\n    print \"$i \\n\";\n    while (&lt;$fh&gt;) {\n\n        #local $.;# tried doesn't work\n        #undef $.; #tried doesn't work\n\n        print \"$. $_\" if ($. &gt; $i);\n    }\n}\nelse {\n    print \"$_\" while (&lt;$fh&gt;);\n}\n\nclose($fh);\n</code></pre>\n\n<p>I want to reset <code>$.</code> so it can be used usefully in next loop.</p>\n"}, {"tags": ["regex", "perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433921023, "post_id": 30749559, "comment_id": 49553727, "body": "For the second problem, yes thank you for that. I have modified the expression to be <code>^(\\S+.)+\\s+(\\S+)</code> because now I want the digits as well. As for the first problem, yes I tried that at my previous question and it didn&#39;t work but I didn&#39;t want to continue the discussion there so I&#39;ve decided to post a whole new question as suggested by @Borodin . I am still currently searching(google) on how to solve the first. There are many suggested solutions, but they don&#39;t seem to cater to mine."}, {"owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433921544, "post_id": 30749559, "comment_id": 49554065, "body": "Hmm, I&#39;m surprised that @Borodin&#39;s suggestion did&#39;t work for you, it definitely should, I believe. Anyway, this <code>&#47;&#47;=</code> approach he&#39;s proposed for this question is even more beautiful. I&#39;ve voted for it."}], "tags": [], "owner": {"reputation": 9137, "user_id": 4295017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53186503963b4007f9107bd53e151966?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Egorov", "link": "https://stackoverflow.com/users/4295017/dmitry-egorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1433920547, "last_edit_date": 1495542602, "creation_date": 1433920547, "answer_id": 30749559, "question_id": 30749382, "link": "https://stackoverflow.com/questions/30749382/extracting-data-from-log-file-into-perl-hash/30749559#30749559", "title": "Extracting data from log file into Perl hash", "body": "<p>The first question has been already answered there: <a href=\"https://stackoverflow.com/questions/30748709/stopping-regex-at-the-first-match-it-shows-two-times\">Stopping regex at the first match, it shows two times</a></p>\n\n<p>As for the second, you need to use the start anchor (<code>^</code>) immediately followed by some digits and dots:</p>\n\n<pre><code>if($row =~/^[\\d\\.]+\\s+(\\S+)/)\n{\n    print $1, \"\\n\";  \n}\n</code></pre>\n\n<p>Here's how this regex works: <a href=\"https://regex101.com/r/vY7aL6/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/vY7aL6/1</a></p>\n"}, {"comments": [{"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433922949, "post_id": 30749698, "comment_id": 49554978, "body": "Ohh, for the dotted decimals I would be storing them as a string."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433923229, "post_id": 30749698, "comment_id": 49555164, "body": "@hzq: Yes, but there are several of them (so it would take more than a single hash element) and you presumably want to relate the second column to the first somehow"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433923327, "post_id": 30749698, "comment_id": 49555242, "body": "I don&#39;t understand your answer though. Why are you using <code>elsif</code>? Wouldn&#39;t that only get <code>Computer  Name: </code> and ignore the rest because <code>Computer Name: </code> is the first match? What I want to get is all 4 of the pieces of data from <code>Computer Name: </code>, <code>Operating System: </code>, <code>IG-XL Version: </code>, <code>the digit and the name</code>. From what I understand, this would only output <code>Computer Name: </code> because that&#39;s the one that occurs first in the log file."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433923400, "post_id": 30749698, "comment_id": 49555283, "body": "@hzq: Have you tried it? That <code>if</code> statement is inside the <code>while</code> loop so it&#39;s being applied to every line in the file. Presumably there&#39;s only one item of information per line? Rather than saying the input file is too big and so showing us nothing, it would be best to create a minimal example of your input that we can test against, together with the result you want from it"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433923517, "post_id": 30749698, "comment_id": 49555367, "body": "Yes, I&#39;ve tried it.  It outputs nothing though. I&#39;ll edit the question to grab a section of the log file to show you what I mean."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433923562, "post_id": 30749698, "comment_id": 49555407, "body": "@hzq: Have you tried it since my comment? I had some spaces that shouldn&#39;t be there and updated it. And it won&#39;t output anything - it&#39;s simply building a hash as you requested"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433923880, "post_id": 30749698, "comment_id": 49555631, "body": "Ohh right, didn&#39;t notice you didn&#39;t print out the values. Let me print the outputs"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433923900, "post_id": 30749698, "comment_id": 49555640, "body": "Okay I&#39;ve added a dump statement to show the contents of the hash it builds and run it against your data. My input datya is a combination of the two chunks that you show"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433924366, "post_id": 30749698, "comment_id": 49555919, "body": "Ahh yes. Okay now it&#39;s close. If you saw what I commented at @Dmitry &#39;s post I changed the regex to <code>^(\\S+.)+\\s+(\\S+)</code> but that&#39;s a wrong match. The current one you have provided(thank you) <code>&#47;^([\\d.]+)\\s+(\\S+)&#47;</code> makes the digits such as <code>2.0</code> as the name of the hash array. Now what&#39;s that&#39;s  to do is to actually I want to get <code>2.0</code> and <code>HSD-U</code> together as a line <b>first</b>, from there that&#39;s where you saw in one of my questions I tried to do a <code>split</code>. I want to then <code>split</code> the lnie <code>2.0 </code>HSD-U` into <code>2.0</code> and <code>HSD-U</code>. Then I would assign each to a hash array. An help on this?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433924459, "post_id": 30749698, "comment_id": 49555977, "body": "@hzq: They&#39;re already split into two fields in <code>$1</code> and <code>$2</code>. What I don&#39;t know is how you want to store them. How about an example?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433925634, "post_id": 30749698, "comment_id": 49556684, "body": "@hzq: Your output is only duplicated because you&#39;ve added print statements. If what you want is a hash then you must dump the resultant <code>%details</code> structure as I have done to see what has been collected. You also haven&#39;t specified how you want multiple <code>slot</code> and <code>name</code> values handled"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433926794, "post_id": 30749698, "comment_id": 49557438, "body": "I&#39;ll edit it in the question, I ran out of word count."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433928046, "post_id": 30749698, "comment_id": 49558292, "body": "@hzq: You&#39;re still missing the point and not dumping the hash. For example, your <code>INSERT INTO</code> has only five values <code>cp_name</code>, <code>os</code>, <code>version</code>, <code>slot</code>, <code>slot_name</code> but there are <i>multiple</i> values of <code>slot</code> and <code>slot_name</code>. So you can&#39;t put all that information into a single hash or a single database record and you need to specify how you want to handle them"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433980739, "post_id": 30749698, "comment_id": 49590606, "body": "Hmm I understand what you mean. So to put multiple/different information in I need to dump the hash? What should I do after that?"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433981490, "post_id": 30749698, "comment_id": 49590774, "body": "I don&#39;t understand what you mean by handling them though, you mean how am I going to use them or?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433982520, "post_id": 30749698, "comment_id": 49591034, "body": "@hzq: No, you need to dump the hash to see what values the code is putting into it. Your <code>print</code> statements make it look as if there are multiple duplicates when there aren&#39;t. What I mean about handling the slot information is how are you going to write it into a database table with five columns? Each computer has one name, OS, and version, but a variable number of slot/name pairs. If there&#39;s only room for one such pair in your table then where are you putting the rest? There are a number of solutions but you need to say what you have in mind, if anything. Does this table already exist?"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433983963, "post_id": 30749698, "comment_id": 49591388, "body": "Alright I did the dump and the values are correct. That&#39;s dump would be counted as one row in the table. As for the slot information, one row would have a <b>different slot no. but can have the same name</b> .So let&#39;s say the first row is <code>UFLEX-06</code>, <code>Windows</code>, <code>9.0.0</code>, <code>2.0</code>, <code>HSD-U</code>. The second row would be <code>UFLEX-06</code>, <code>Windows</code>, <code>9.0.0</code>, <code>5.0</code>, <code>HSD-U</code>. So as you can see the slot number is different, the slot name would have duplicates but there are different names as well. Slot number would be called as they say <code>unique</code>. And yes I have a dummy table created if you would like I could show you"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433984149, "post_id": 30749698, "comment_id": 49591428, "body": "Then about the handling I am going to use insert statements. So every time I want to insert a different slot I would use another insert statement. If I have 10 different slots I would use 10 different statements."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433984853, "post_id": 30749698, "comment_id": 49591586, "body": "@hzq: Okay so any one system has multiple table rows with the same values for <code>cp_name</code>, <code>os</code>, and <code>version</code>, but a different <code>slot</code> and <code>slot_name</code> pair in each. That should work although it&#39;s not ideal as it&#39;s best not to have the same data duplicated in multiple places. If, for instance, you wanted to change the name of a computer, you would have several records to modify and would have to do it inside a transaction. It may well be good enough for you as it is though. I don&#39;t know if I shall be able to help much tomorrow as my main computer&#39;s system disk has died and I only have a tablet"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433985299, "post_id": 30749698, "comment_id": 49591692, "body": "Ahh it&#39;s okay! I&#39;ve found a way how to include all the different <code>slot</code> and <code>slot_name</code>. I&#39;ve made a global array and instead of <code>$details{$1} &#47;&#47;= $2;</code> in your answer, I did a <code>push @matches, [$1, $2];</code> so that for every one that was matched I am able to assign it in <code>@matches</code>. Now I can move on to the next part of my work. Thank you, you&#39;ve really been a great help. I marked your answer in the prev question as well. Again, thanks a lot."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433985501, "post_id": 30749698, "comment_id": 49591744, "body": "@hzq: I was going to suggest something like that, but you should push it onto a hash element instead, with <code>push @{ $details{slot} }, [ $1, $2 ];</code>"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433985975, "post_id": 30749698, "comment_id": 49591834, "body": "Ohh I see, just tried that. I did <code>push @{ $details{slot} }, [ $1 ]</code> and <code>push @{ $details{slot_name} }, [ $2 ]</code> just to separate them. One question, how do I get index 0 ? If I were to print would it just be <code>$details{slot_name} [0]</code>? Cause when I print that I get <code>ARRAY(0x8750d0)</code>, how do I get the string instead?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433986355, "post_id": 30749698, "comment_id": 49591938, "body": "You should put them together in a single array as I wrote. It&#39;s the same as you had for your <code>@matches</code> array! If you go for that then <code>$details{slot}[0]</code> is the first slot, with the number in <code>$details{slot}[0][0]</code> and the name in <code>$details{slot}[0][1]</code>. The info for the second slot is in <code>$details{slot}[1]</code> etc."}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433986439, "post_id": 30749698, "comment_id": 49591956, "body": "Ahh I see. Alright last of all, there&#39;s one thing that I was puzzled about before at the start. Why do you use <code>elsif</code> instead of just <code>if</code>? Because I don&#39;t understand why it is that way."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433986608, "post_id": 30749698, "comment_id": 49591997, "body": "@hzq: Because that way it stops testing once it has found a match. Any one line of the file can contain only one type of information, so once one has been found there&#39;s no point in also testing for the rest. Gotta sleep now -- it&#39;s 2:30am!"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433988853, "post_id": 30749698, "comment_id": 49592532, "body": "Ahh I understand now. Alright, thanks a lot for all the help."}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433994829, "post_id": 30749698, "comment_id": 49593882, "body": "Once you&#39;re awake, it&#39;d be great if you could help me out in my other question. :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1433924569, "last_edit_date": 1433924569, "creation_date": 1433920970, "answer_id": 30749698, "question_id": 30749382, "link": "https://stackoverflow.com/questions/30749382/extracting-data-from-log-file-into-perl-hash/30749698#30749698", "title": "Extracting data from log file into Perl hash", "body": "<p>I would write it like this. Using an explicit variable for the file records just makes more noise so I've used Perl's default <code>$_</code></p>\n\n<p>The expression <code>$details{comp_name} //= $1</code> etc. assigns the hash element only if it doesn't already have a value</p>\n\n<p>You didn't make it clear how you wanted the dotted decimals stored in your hash, so I've used the first field as a key and the second as a hash</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'IGXLEventLog.3.17.2015.20.25.12.625.log';\nopen my $fh, '&lt;', $filename or die \"Could not open file '$filename': $!\";\n\nmy %details;\n\nwhile ( &lt;$fh&gt; ) {\n\n    if ( /Computer Name:\\s*(.*\\S)/i ) {\n        $details{comp_name} //= $1;\n    }\n    elsif (/Operating System:\\s*(.*\\S)/i ) {\n        $details{op_sys} //= $1;\n    }\n    elsif (/IG-XL Version:\\s*([^;]*)/ ) {\n        $details{igxl_vn} //= $1;\n    }\n    elsif ( /^([\\d.]+)\\s+(\\S+)/ ) {\n        $details{$1} //= $2;\n    }\n}\n\nuse Data::Dump;\ndd \\%details;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>{\n  \"2.0\"       =&gt; \"HSD-U\",\n  \"6.0\"       =&gt; \"DC-07\",\n  \"7.0\"       =&gt; \"DC-07\",\n  \"comp_name\" =&gt; \"UFLEX-06\",\n  \"igxl_vn\"   =&gt; \"8.00.01_uflx (P7)\",\n  \"op_sys\"    =&gt; \"Windows XP Service Pack 3\",\n}\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 30749698, "answer_count": 2, "score": 0, "last_activity_date": 1433927370, "creation_date": 1433919992, "last_edit_date": 1433927370, "question_id": 30749382, "link": "https://stackoverflow.com/questions/30749382/extracting-data-from-log-file-into-perl-hash", "title": "Extracting data from log file into Perl hash", "body": "<p>I have a four log files. Each log file is in the same format so let's focus on one.</p>\n\n<p>In each log file I have to extract information such as <code>Computer Name</code> and such. I won't post the log file here because it has over 46,000 lines.</p>\n\n<p>My main goal in the end is that, once this information is extracted, I would store it in a hash. These hashes would be later used for an insert statement into a database table.</p>\n\n<p>What I have done so far is this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'IGXLEventLog.3.17.2015.20.25.12.625.log';\nopen(my $fn, '&lt;', $filename) or die \"Could not open file '$filename': $!\";\n\nour %details;\n\nwhile ( my $row = &lt;$fn&gt; ) {\n    chomp $row;\n\n    if ( $row =~ /Computer Name:\\s*(\\S+)/i ) {\n        print $1, \"\\n\";\n    }\n\n    if ( $row =~/Operating System:\\s*(.*)/i ) {\n        print $1, \"\\n\";\n    }\n\n    if ( $row =~/IG-XL Version:\\s(.*?)\\;/ ) {\n        print $1, \"\\n\";  \n    }\n}\n</code></pre>\n\n<h3>Problem 1</h3>\n\n<p>I have no problem extracting the computer name and operating system from the log file. However, <code>IG-XL Version</code> in the log file occurs twice. So what I'm getting from printing <code>$1</code> is:</p>\n\n<pre><code>8.00.01_uflx (P7)\n8.00.01_uflx (P7)\n</code></pre>\n\n<p>The original records are</p>\n\n<pre><code>Current IG-XL Version: 8.00.01_uflx (P7); Build: 11.10.12.01.31\nCurrent IG-XL Version: 8.00.01_uflx (P7); Build: 11.10.12.01.31\n</code></pre>\n\n<p>So as you can see what I've managed to isolate the data that I want, but I get two results. My main objective now is to solve how to only get the first match.</p>\n\n<p>Any help on this? Is there anything I am doing wrong? Please let me know.</p>\n\n<h3>Problem 2</h3>\n\n<p>This is problem is not my focus yet, but will be after I solve the first one. In the log file, there's a section where data is structured like this:</p>\n\n<pre><code>2.0  HSD-U       664-999-01 c301036 1251-A 5445\n      ChanBoard0    233-455-00 c303bb6 1521-A 5445\n      ChanBoard1    321-493-00 c303496 1321-A 5445\n6.0   DC-07       888-375-02 0C31F8F1 1330-A 5445\n    aka: 604-375-00\n      DC-07       123-456-01 0C6203EF 1150-A 5445\n    aka: 939-420-00\n7.0   DC-07       613-493-00 c303496 1321-A 5445\n    aka: 466-456-65\n      DC-07       613-493-00 c303496 1321-A 5545\n</code></pre>\n\n<p>Notice there are digits (not to be treated as decimals) on the left-hand side such as <code>2.0</code>, <code>6.0</code>, <code>7.0</code> and so on. (Some other digits for example would be <code>1.4</code>, <code>5.60</code>, <code>57.58</code>.)</p>\n\n<p>In this section of the string, I want to get only the first line according to the digits. So for <code>2.0</code> I would only pick up the line <code>2.0 HSD-U       664-999-01 c301036 1251-A 5445</code> and ignore the lines without numbers.</p>\n\n<p>In this line, I want to get the fields <code>2.0</code> and <code>HSD-U</code> separately, and assign those two to a separate hash each.</p>\n\n<p>So I need to extract a total of four types of different data, with the last type being the one that has the most pieces.</p>\n\n<p>EDIT: What I did according to Borodin's answer</p>\n\n<pre><code>while(&lt;$fn&gt;)\n{\n    if ( /Computer Name:\\s*(\\S+)/i ) {\n        $details{comp_name} //= $1;\n        print $details{comp_name}, \"\\n\";\n    }\n    elsif ( /Operating System:\\s*(.*)/i ) {\n        $details{op_sys} //= $1;\n        print $details{op_sys}, \"\\n\";\n    }\n    elsif ( /IG-XL Version:\\s*([^;]*)/i ) {\n        $details{igxl_vn} //= $1;\n        print $details{igxl_vn}, \"\\n\";\n    }\n    elsif ( /^([\\d.]+)\\s+(\\S+)/ ) {\n        $details{slot} //= $1;\n        $details{name} //=$2;\n        print $details{slot}, \"\\n\", $details{name};\n    }\n}\n</code></pre>\n\n<p>My output:</p>\n\n<pre><code>UFLEX-06\nWindows XP Service Pack 3\n8.00.01_uflx (P7)\n8.00.01_uflx (P7)    &lt;-Duplicated\nHSD-U2.0             &lt;-Duplicated\nHSD-U2.0             &lt;-Duplicated\nHSD-U2.0             &lt;-Duplicated\nHSD-U2.0             &lt;-Duplicated\nHSD-U2.0             &lt;-Duplicated\nHSD-U2.0             &lt;-Duplicated\nHSD-U8.00.01_uflx (P7) &lt;-Weird line\n</code></pre>\n\n<p>This expected output is what I desire only up till the 3rd line.</p>\n\n<p>An expected one would be:</p>\n\n<pre><code>UFLEX-06\nWindows XP Service Pack 3\n8.00.01_uflx (P7)\n2.0\nHSD-U\n5.0\nGigabit\n6.0\nMattersNot\n7.9\nMatterMatter\n15.20\nKnnccb\n</code></pre>\n\n<p>EDIT 2: @Borodin Both as strings. In fact all as strings. What I am going to do is that for all these values, I will be inserting them into a table in my database where by I would create an SQL file with just the text: <code>INSERT INTO TABLE1(cp_name, os, version, slot, slot_name) values('UFLEX-06', 'Windows XP dot dot', '8.0.0_uflx', '2.0', 'HSD-U')</code>. This is just to show for a better understanding.</p>\n\n<p>There would be a lot of <code>slots</code> in this <code>cp_name</code>. Just take it as a computer. There would be 4 ram slots. Each ram card would have a different name. The name or rather a way to identify which card is at which slot would be let's say the ram name is EatYou. That ram card is at slot 3. So I have to insert into the database all the details other than the ram name and ram slot number which would be the different one.</p>\n\n<p>Back to the main point, that's why I'm trying to find a simple way to do this by assigning each value to a hash array so that when I create the sql file it would be easy for me to assign the insert values.</p>\n"}, {"tags": ["perl", "grep"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 2, "creation_date": 1433919110, "post_id": 30748906, "comment_id": 49552466, "body": "Try to use an XML parser like xmllint or xmlstarlet."}, {"owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "edited": false, "score": 0, "creation_date": 1433919584, "post_id": 30748906, "comment_id": 49552746, "body": "Why is your XML data in a file named <code>abc.json</code>? Is that shell code or Perl code? Make up your mind!"}, {"owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1433920202, "post_id": 30748906, "comment_id": 49553150, "body": "I want to extract these two values from the file abc.json in a perl script."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1433920234, "post_id": 30748906, "comment_id": 49553171, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/2222150/extraction-of-data-from-a-simple-xml-file\">Extraction of data from a simple XML file</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "edited": false, "score": 1, "creation_date": 1433920319, "post_id": 30748906, "comment_id": 49553230, "body": "I think what @200_success means is, why do you have XML data in a file called <code>abc.json</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1433920063, "creation_date": 1433920063, "answer_id": 30749412, "question_id": 30748906, "link": "https://stackoverflow.com/questions/30748906/use-grep-to-extract-the-value-from-the-file/30749412#30749412", "title": "Use grep to extract the value from the file", "body": "<p>You should use a proper XML parser such as <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a></p>\n\n<p>This short program demonstrates the idea</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.014;  # For non-destructive substitution\n\nuse XML::LibXML;\n\nmy $doc = XML::LibXML-&gt;load_xml(IO =&gt; \\*DATA);\n\nmy $desc = $doc-&gt;find('/rdf:RDF/rdf:Description')-&gt;get_node(1);\nmy $mbox = $desc-&gt;find('foaf:mbox/@rdf:resource')-&gt;string_value  =~ s/^mailto://ir;\nmy $name = $desc-&gt;find('foaf:name')-&gt;string_value;\nprint qq{\"$name\" &lt;$mbox&gt;\\n};\n\n__DATA__\n&lt;rdf:RDF\n    xmlns:rdf=\"/www.w3.org/1999/02/22-rdf-syntax-ns#\"\n    xmlns:foaf=\"/xmlns.com/foaf/0.1/\"\n    xmlns:jfs=\"//abc.net/xmlns/prod/xyz/jfs/1.0/\"&gt;\n  &lt;rdf:Description rdf:about=\"//alm.com/abc/users/piku\"&gt;\n    &lt;foaf:mbox rdf:resource=\"mailto:piku@disney.com\"/&gt;\n    &lt;foaf:nick&gt;piku&lt;/foaf:nick&gt;\n    &lt;foaf:name&gt;Pallavi Mishra&lt;/foaf:name&gt;\n    &lt;jfs:archived rdf:datatype=\"//www.w3.org/2001/XMLSchema#boolean\"\n    &gt;false&lt;/jfs:archived&gt;\n    &lt;rdf:type rdf:resource=\"//xmlns.com/foaf/0.1/Person\"/&gt;\n  &lt;/rdf:Description&gt;\n&lt;/rdf:RDF&gt;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>\"Pallavi Mishra\" &lt;piku@disney.com&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1433921578, "post_id": 30749484, "comment_id": 49554087, "body": "I am able to fetch the name using :perl -l -ne &#39;/&lt;foaf:name&gt;(.*)&lt;\\\\/foaf:name&gt;/ and print \\$1&#39;`;"}, {"owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "reply_to_user": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1433921744, "post_id": 30749484, "comment_id": 49554229, "body": "I have no doubt that you are able to do so. That doesn&#39;t make it a <i>good</i> idea. What if, for example, the document contains <code>&amp;#123;</code>\u2013escaped characters? XML parsers handle all of those details for you, automatically and correctly. Don&#39;t reinvent the wheel poorly."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1433928154, "post_id": 30749484, "comment_id": 49558363, "body": "XML also has a a variety of valid ways of reformatting semantically identical documents. This makes line/regex based parsing break."}], "tags": [], "owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "is_accepted": false, "score": 1, "last_activity_date": 1433920304, "creation_date": 1433920304, "answer_id": 30749484, "question_id": 30748906, "link": "https://stackoverflow.com/questions/30748906/use-grep-to-extract-the-value-from-the-file/30749484#30749484", "title": "Use grep to extract the value from the file", "body": "<p>Do <em>not</em> try to parse XML using your own Perl string processing.  That's a nasty unreliable hack.</p>\n\n<p>Perl is a plenty capable language.  You don't need to use shell to help Perl parse XML.</p>\n\n<pre><code>use XML::LibXML;\nmy $foaf = '/xmlns.com/foaf/0.1/';\nmy $rdf = '/www.w3.org/1999/02/22-rdf-syntax-ns#';\n\nmy $doc = XML::LibXML-&gt;new-&gt;load_xml(location =&gt; 'foof.xml');\nmy $Name = $doc-&gt;getElementsByTagNameNS($foaf, 'name')-&gt;[0]-&gt;textContent;\nmy $EmailAddress = $doc-&gt;getElementsByTagNameNS($foaf, 'mbox')-&gt;[0]-&gt;getAttributeNS($rdf, 'resource');\n$EmailAddress =~ s/^mailto://;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5756, "user_id": 2768341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fjQy3.jpg?s=128&g=1", "display_name": "chaos", "link": "https://stackoverflow.com/users/2768341/chaos"}, "is_accepted": false, "score": 1, "last_activity_date": 1433921381, "creation_date": 1433921381, "answer_id": 30749836, "question_id": 30748906, "link": "https://stackoverflow.com/questions/30748906/use-grep-to-extract-the-value-from-the-file/30749836#30749836", "title": "Use grep to extract the value from the file", "body": "<p>With <code>xmlstarlet</code>:</p>\n\n<p>For the name:</p>\n\n<pre><code>xmlstarlet sel -t -v /rdf:RDF/rdf:Description/foaf:name file\n</code></pre>\n\n<p>And for the email address:</p>\n\n<pre><code>xmlstarlet sel -t -v \"/rdf:RDF/rdf:Description/foaf:mbox/@rdf:resource\" file\n</code></pre>\n\n<p>You could add to the second one the <code>sed</code> statement to remove the mailto part:</p>\n\n<pre><code>xmlstarlet ... | sed 's/^mailto://g'\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1433921381, "creation_date": 1433918568, "last_edit_date": 1433920467, "question_id": 30748906, "link": "https://stackoverflow.com/questions/30748906/use-grep-to-extract-the-value-from-the-file", "title": "Use grep to extract the value from the file", "body": "<p>I have the file with the following content:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;rdf:RDF\n    xmlns:rdf=\"/www.w3.org/1999/02/22-rdf-syntax-ns#\"\n    xmlns:foaf=\"/xmlns.com/foaf/0.1/\"\n    xmlns:jfs=\"//abc.net/xmlns/prod/xyz/jfs/1.0/\"&gt;\n  &lt;rdf:Description rdf:about=\"//alm.com/abc/users/piku\"&gt;\n    &lt;foaf:mbox rdf:resource=\"mailto:piku@disney.com\"/&gt;\n    &lt;foaf:nick&gt;piku&lt;/foaf:nick&gt;\n    &lt;foaf:name&gt;Pallavi Mishra&lt;/foaf:name&gt;\n    &lt;jfs:archived rdf:datatype=\"//www.w3.org/2001/XMLSchema#boolean\"\n    &gt;false&lt;/jfs:archived&gt;\n    &lt;rdf:type rdf:resource=\"//xmlns.com/foaf/0.1/Person\"/&gt;\n  &lt;/rdf:Description&gt;\n&lt;/rdf:RDF&gt;\n</code></pre>\n\n<p>Hoe can I extract email id 'piku@disney.com' and name 'Pallavi Mishra' from this file using <code>perl</code> or <code>grep</code>.</p>\n\n<p>My piece of code is:</p>\n\n<pre><code>my $Name = `cat abc.json | perl -l -ne '/&lt;j.0:name&gt;(.*)&lt;\\\\/j.0:name&gt;/ and print \\$1'`;\nmy $EmailAddress = `cat abc.json | grep mailto | awk 'BEGIN{FS=\"\\\\\"|:\"} {for(i=1;i&lt;NF;i++) if(\\$i ~ /@/) print \\$i}'`;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1433918636, "post_id": 30748840, "comment_id": 49552175, "body": "Read through <a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlootut.html</a> and <a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlobj.html</a> - although you don&#39;t need &quot;OO&quot; to share variables/state"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433919309, "post_id": 30748840, "comment_id": 49552599, "body": "You can access variables declared using <code>our</code> (instead of <code>my</code>) by fully qualifying them with the package name, such as <code>print $Other::Package::shared_value</code>, but it&#39;s an ugly thing to do. In general you should write an access method and export it to the calling code, even if your modules aren&#39;t object oriented. You should show full details of your code and the value you want to share"}], "answers": [{"comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1433920172, "post_id": 30749162, "comment_id": 49553135, "body": "Let me know if you want OO way,I will update but do some homework."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1433919955, "last_edit_date": 1433919955, "creation_date": 1433919406, "answer_id": 30749162, "question_id": 30748840, "link": "https://stackoverflow.com/questions/30748840/perl-like-in-java-we-can-access-public-member-variables-in-other-class-is-th/30749162#30749162", "title": "Perl : Like in java we can access public member (variables) in other class is there any same concept in perl", "body": "<p>As  @user2864740 pointed you don't need \"OO\" in perl to share variables.It is one way, Let's say you have two files \n<strong>Foo.pm</strong>(package)<strong>:</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Exporter;\n\npackage Foo;\n\nour @ISA = qw(Exporter);\nour @EXPORT = qw( blat); #exported by default\nour @EXPORT_OK = qw(bar );#not exported by default\n\nour $x=\"42\";#variable to be shared should be \"our\" not \"my\"\nsub bar { \n   print \"Hello $_[0]\\n\" \n}\n\nsub blat { \nprint \"World $_[0]\\n\" \n}\n1;\n</code></pre>\n\n<p>Access that variable from other file as\n<strong>bar.pl</strong> :</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Foo;\n\n\nprint \"$Foo::x\";#imported variable\nblat(\"hello\");#imported subroutine\n</code></pre>\n\n<p>If you want to import listed functions then:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Foo qw(bar blat);# import listed subs\n\n\nprint \"$Foo::x\";#imported variable\nblat(\"hello \");#imported subroutine\nbar(\"hi\");#this also get imported\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2490, "user_id": 1173884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1aJWD.jpg?s=128&g=1", "display_name": "Jindra Helcl", "link": "https://stackoverflow.com/users/1173884/jindra-helcl"}, "is_accepted": false, "score": 0, "last_activity_date": 1433936751, "creation_date": 1433936751, "answer_id": 30755374, "question_id": 30748840, "link": "https://stackoverflow.com/questions/30748840/perl-like-in-java-we-can-access-public-member-variables-in-other-class-is-th/30755374#30755374", "title": "Perl : Like in java we can access public member (variables) in other class is there any same concept in perl", "body": "<p>In this answer, I'll skip the discussion about whether it is the right decision to use OOP or not and just assume you want to do it the OOP-way.</p>\n\n<p>In short, all variables of an object in Perl can be considered public. In fact, the problem is often the opposite - to make some of them private. Anyway, if you have a file <code>Obj.pm</code> which defines an object with a field <code>foo</code> which looks like this:</p>\n\n<pre><code>package Obj;\n\nsub new {\n    my $class = shift;\n\n    my $self = {foo =&gt; \"bar\"};\n\n    bless $self, $class;\n    return $self;\n}\n</code></pre>\n\n<p>you can access the <code>foo</code> variable as if it were public:</p>\n\n<pre><code>use Obj;\n\nmy $obj = Obj-&gt;new();\nprint $obj-&gt;{foo};\n</code></pre>\n\n<p>For perhaps a more pleasant OOP in Perl, look at the <code>Moose</code> package which gives you more flexibility.</p>\n"}], "owner": {"reputation": 1, "user_id": 4809583, "user_type": "registered", "profile_image": "https://graph.facebook.com/914029405315627/picture?type=large", "display_name": "Rahul Porwal", "link": "https://stackoverflow.com/users/4809583/rahul-porwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433936751, "creation_date": 1433918348, "question_id": 30748840, "link": "https://stackoverflow.com/questions/30748840/perl-like-in-java-we-can-access-public-member-variables-in-other-class-is-th", "title": "Perl : Like in java we can access public member (variables) in other class is there any same concept in perl", "body": "<p>I have 2 perl file and i want to use value of one variable in another perl file as input so how i can do it  is there any concept like java we can declare it as public and use it.\nany help appreciated thank you!</p>\n"}, {"tags": ["regex", "perl", "match"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1433918050, "post_id": 30748709, "comment_id": 49551863, "body": "What is the value of <code>$row</code>"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1433918283, "post_id": 30748709, "comment_id": 49551973, "body": "@Jens Edited the code."}], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433918948, "post_id": 30748892, "comment_id": 49552372, "body": "Hmm I see, alright I&#39;ll post the whole thing if I really can&#39;t seem to find any other way. It&#39;s all in bits and pieces because I really want to try this myself, with a little help of course so do pardon me. I think you&#39;re right, I&#39;ll post up my main problem so that it&#39;ll be easier for everyone to understand."}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433920392, "post_id": 30748892, "comment_id": 49553282, "body": "There, I have posted and summarized my problems."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1433918982, "last_edit_date": 1495542141, "creation_date": 1433918538, "answer_id": 30748892, "question_id": 30748709, "link": "https://stackoverflow.com/questions/30748709/stopping-regex-at-the-first-match-it-shows-two-times/30748892#30748892", "title": "Stopping regex at the first match, it shows two times", "body": "<p>The only way to do this while reading the file line by line is to keep a status flag that records whether you have already found that pattern. But if you are storing the data in a hash, as you were in <a href=\"https://stackoverflow.com/q/30746611\">your previous question</a>, then it won't matter as you will just overwrite the hash element with the same value</p>\n\n<pre><code>if ( $row =~ /IG-XL Version:\\s*([^;]+)/ and not $seen_igxl_vn ) {\n    print $1, \"\\n\";\n    $seen_igxl_vn = 1;\n}\n</code></pre>\n\n<p>Or, if the file is reasonably small, you could read the whole thing into memory and search for just the first occurrence of each item</p>\n\n<p>I suggest you should post a question showing your complete program, your input data, and your required output, so that we can give you a complete solution rather than seeing your problem bit by bit</p>\n"}], "owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433918982, "creation_date": 1433917889, "last_edit_date": 1433918268, "question_id": 30748709, "link": "https://stackoverflow.com/questions/30748709/stopping-regex-at-the-first-match-it-shows-two-times", "title": "Stopping regex at the first match, it shows two times", "body": "<p>I am writing a perl script and I have a simple regex to capture a line from a data file. That line starts with <code>IG-XL Version:</code>, followed by the data, so my regex matches that line.</p>\n\n<pre><code>if($row =~/IG-XL Version:\\s(.*)\\;/)\n{\n    print $1, \"\\n\";\n}\n</code></pre>\n\n<p>Let's say <code>$1</code> prints out <code>9.0.0</code>. That's my desired outcome. However in another part of the <strong>same</strong> data file also has a <strong>same</strong> line <code>IG-XL Version:</code>. $1 now prints out two of the data <code>9.0.0</code>.</p>\n\n<p>I only want it to match the first one so I can only get the one value. I have tried <code>/IG-XL Version:\\s(.*?)\\;/</code> which is the most suggested solution by adding   a <code>?</code> so it'll be <code>.*?</code> but it still outputs two. Any help?</p>\n\n<p>EDIT:</p>\n\n<p>The value of <code>$row</code> is:</p>\n\n<pre><code>Current IG-XL Version: 8.00.01_uflx (P7); Build: 11.10.12.01.31\nCurrent IG-XL Version: 8.00.01_uflx (P7); Build: 11.10.12.01.31\n</code></pre>\n\n<p>The desired value I want is <code>8.00.01_uflx (P7)</code> which I did get, but two times.</p>\n"}, {"tags": ["bash", "perl", "shell"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 2, "creation_date": 1433911038, "post_id": 30747174, "comment_id": 49549200, "body": "Please take a look at <a href=\"http://stackoverflow.com/editing-help\">editing-help</a>."}], "answers": [{"tags": [], "owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "is_accepted": false, "score": 2, "last_activity_date": 1433913062, "creation_date": 1433913062, "answer_id": 30747553, "question_id": 30747174, "link": "https://stackoverflow.com/questions/30747174/how-to-replace-last-space-into-new-line-in-bash-or-perl/30747553#30747553", "title": "how to replace last space into new line in bash or perl", "body": "<p>Try this with sed:</p>\n\n<pre><code>sed 's/ \\([^ ]*\\)$/\\n\\1/' file\n</code></pre>\n\n<p>Output:</p>\n\n<pre>\ntae-miR16a Ta#S1798083_1\nMRRGTILVVSWS\ntae-miR16a Ta#S1798783_5\nMAPMEAEEPDQQ\ntae-miR16a Ta#S1797083_7 REVERSE SENSE\nMEDXYSSGSX\ntae-miR16a Ta#S1987083_8 REVERSE SENSE\nMNSRMTCCSAISSEWATANFASVCSM\n</pre>\n\n<p>Add option <code>-i</code> to edit file in place.</p>\n"}, {"tags": [], "owner": {"reputation": 581, "user_id": 3074319, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aca9a83bd3cb915fc45348cb13118bbf?s=128&d=identicon&r=PG&f=1", "display_name": "aksg24", "link": "https://stackoverflow.com/users/3074319/aksg24"}, "is_accepted": false, "score": -2, "last_activity_date": 1433921394, "last_edit_date": 1433921394, "creation_date": 1433916457, "answer_id": 30748348, "question_id": 30747174, "link": "https://stackoverflow.com/questions/30747174/how-to-replace-last-space-into-new-line-in-bash-or-perl/30748348#30748348", "title": "how to replace last space into new line in bash or perl", "body": "<p>i am getting following output using above given command:</p>\n\n<pre><code>zma-miR827-5p   Zm#S48299167_11         MLFSPYISFLNSELATHYPYLNLGIRYG\nzma-miR827-5p   Zm#S48299167_12 REVERSE\nSENSE   MGCKLTIEKTYIR\nzma-miR827-5p   Zm#S48299167_13 REVERSE\nSENSE   MRMSTATRQIFT\n</code></pre>\n\n<p>Here i found a little bit long command pipeline to resolve the issue:</p>\n\n<pre><code>cat inputfilenae | sed 's/\\s/\\__/g' |sed 's/\\__$//g' | awk 'BEGIN{FS=OFS=\"\\__\"} {$NF=\"\\n\"$NF}{print}' | sed 's/\\__$//g' |sed 's/\\__$//g'  &gt; outputfilename\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1433917994, "creation_date": 1433917994, "answer_id": 30748740, "question_id": 30747174, "link": "https://stackoverflow.com/questions/30747174/how-to-replace-last-space-into-new-line-in-bash-or-perl/30748740#30748740", "title": "how to replace last space into new line in bash or perl", "body": "<p>This one-line Perl program will do as you ask</p>\n\n<pre><code>perl -pe's/\\s+(\\S+)\\s*\\z/\\n$1\\n/' infile &gt; outfile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18098, "user_id": 3744681, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/XvLrx.jpg?s=128&g=1", "display_name": "Jahid", "link": "https://stackoverflow.com/users/3744681/jahid"}, "is_accepted": false, "score": 0, "last_activity_date": 1434991211, "creation_date": 1434991211, "answer_id": 30985364, "question_id": 30747174, "link": "https://stackoverflow.com/questions/30747174/how-to-replace-last-space-into-new-line-in-bash-or-perl/30985364#30985364", "title": "how to replace last space into new line in bash or perl", "body": "<p>You can use <code>sed</code> with extended regex:</p>\n\n<pre><code>sed -r 's/[[:space:]]+([^[:space:]]+[[:space:]]*)$/\\n\\1/' file\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>tae-miR16a     Ta#S1798083_1\nMRRGTILVVSWS    \ntae-miR16a     Ta#S1798783_5\nMAPMEAEEPDQQ\ntae-miR16a     Ta#S1797083_7  REVERSE SENSE\nMEDXYSSGSX\ntae-miR16a     Ta#S1987083_8  REVERSE SENSE\nMNSRMTCCSAISSEWATANFASVCSM\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 3074319, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aca9a83bd3cb915fc45348cb13118bbf?s=128&d=identicon&r=PG&f=1", "display_name": "aksg24", "link": "https://stackoverflow.com/users/3074319/aksg24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "answer_count": 4, "score": -3, "last_activity_date": 1434991211, "creation_date": 1433910841, "last_edit_date": 1433918184, "question_id": 30747174, "link": "https://stackoverflow.com/questions/30747174/how-to-replace-last-space-into-new-line-in-bash-or-perl", "title": "how to replace last space into new line in bash or perl", "body": "<p>I have a space delimited text file, like-</p>\n\n<pre><code>tae-miR16a     Ta#S1798083_1          MRRGTILVVSWS    \ntae-miR16a     Ta#S1798783_5          MAPMEAEEPDQQ\ntae-miR16a     Ta#S1797083_7  REVERSE SENSE   MEDXYSSGSX\ntae-miR16a     Ta#S1987083_8  REVERSE SENSE   MNSRMTCCSAISSEWATANFASVCSM\n</code></pre>\n\n<p>I want to put last column into new line like-</p>\n\n<pre><code>tae-miR16a     Ta#S1798083_1\nMRRGTILVVSWS\ntae-miR16a     Ta#S1798783_5\nMAPMEAEEPDQQ\ntae-miR16a     Ta#S1797083_7  REVERSE SENSE\nMEDXYSSGSX\ntae-miR16a     Ta#S1987083_8  REVERSE SENSE\nMNSRMTCCSAISSEWATANFASVCSM\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2493, "user_id": 4866989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ea9d94abae12663ba3ad2564619081?s=128&d=identicon&r=PG&f=1", "display_name": "Tim3880", "link": "https://stackoverflow.com/users/4866989/tim3880"}, "edited": false, "score": 0, "creation_date": 1433910280, "post_id": 30746611, "comment_id": 49548979, "body": "Your remove line needs &quot;=~  s//&quot; to do the replacement. Don&#39;t use split. Try the (.*) trick as answered, the matched name is stored in $0..."}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "reply_to_user": {"reputation": 2493, "user_id": 4866989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ea9d94abae12663ba3ad2564619081?s=128&d=identicon&r=PG&f=1", "display_name": "Tim3880", "link": "https://stackoverflow.com/users/4866989/tim3880"}, "edited": false, "score": 0, "creation_date": 1433913292, "post_id": 30746611, "comment_id": 49549897, "body": "The <code>(.*)</code> doesn&#39;t work for me."}], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433912576, "post_id": 30746845, "comment_id": 49549665, "body": "Tried as you suggested,  this just returns a value <code>1</code>. Still trying out other ways."}], "tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": false, "score": 0, "last_activity_date": 1433944006, "last_edit_date": 1433944006, "creation_date": 1433908753, "answer_id": 30746845, "question_id": 30746611, "link": "https://stackoverflow.com/questions/30746611/how-to-extract-string-from-raw-data-file-stuck/30746845#30746845", "title": "How to extract string from raw data file (stuck)", "body": "<p>You can use a regex with capturing groups like this:</p>\n\n<pre><code>Computer Name: (.*)\n</code></pre>\n\n<p>And then grab the content from the group</p>\n\n<p><strong><a href=\"https://regex101.com/r/nU7oZ5/1\" rel=\"nofollow\">Working demo</a></strong></p>\n\n<p>I'm not good at Perl but I think you can use below code and adapt it to your needs:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'IGXLEventLog.3.17.2015.20.25.12.625.log';\nopen(my $fn, '&lt;', $filename) or die \"Could not open file '$filename' $!\";\n\nour %details;\n\nwhile(my $row = &lt;$fn&gt;)\n{\n    chomp $row;\n\n    if($row =~ m/Computer Name: (.*)/)\n    {   \n         print $1;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433914826, "post_id": 30747749, "comment_id": 49550404, "body": "Ahh this was what I was looking for. My bad, I thought too far ahead that I made it complicated. If you don&#39;t mind, can you explain what&#39;s $1?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433914987, "post_id": 30747749, "comment_id": 49550459, "body": "<code>$1</code> contains the contents of the first <i>capture</i> (parenthesised expression) in the regex. In this case I have captured all non-space characters after <code>Computer Name: </code>"}, {"owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "edited": false, "score": 0, "creation_date": 1433915266, "post_id": 30747749, "comment_id": 49550553, "body": "Thank you. +1 for a simple explanation as well."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1433914048, "creation_date": 1433914048, "answer_id": 30747749, "question_id": 30746611, "link": "https://stackoverflow.com/questions/30746611/how-to-extract-string-from-raw-data-file-stuck/30747749#30747749", "title": "How to extract string from raw data file (stuck)", "body": "<p>I really don't follow what you are trying to do with your own code, but this is all that is necessary</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'IGXLEventLog.3.17.2015.20.25.12.625.log';\n\nopen my $fh, '&lt;', $filename or die \"Could not open file '$filename': $!\";\n\nwhile ( &lt;$fh&gt; ) {\n    if ( /Computer Name:\\s*(\\S+)/i ) {\n        print $1, \"\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 3910757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee7d2a2e6ef6a7e5d06502f4193b3c75?s=128&d=identicon&r=PG&f=1", "display_name": "kross", "link": "https://stackoverflow.com/users/3910757/kross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 30747749, "answer_count": 2, "score": 0, "last_activity_date": 1433944006, "creation_date": 1433907084, "question_id": 30746611, "link": "https://stackoverflow.com/questions/30746611/how-to-extract-string-from-raw-data-file-stuck", "title": "How to extract string from raw data file (stuck)", "body": "<p>I have a raw data text file and I am writing a perl script to extract a string from it. I am trying to get the computer name where the result would only be <code>UFLEX-06</code> however, I am getting <code>Computer Name: UFLEX-06</code> (with the tab spacing at the back of <code>Computer Name</code>).</p>\n\n<p>This is what the text file contains:</p>\n\n<p><code>Computer Info:\n    Computer Name: UFLEX-06\n    Computer is external to Teradyne.\n    Computer IP Address(es):</code></p>\n\n<p>This is what I've done so far in my perl script:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'IGXLEventLog.3.17.2015.20.25.12.625.log';\nopen(my $fn, '&lt;', $filename) or die \"Could not open file '$filename' $!\";\n\nour %details;\n\nwhile(my $row = &lt;$fn&gt;)\n{\n    chomp $row;\n\n    if($row =~ /Computer Name:/i)\n    {\n        my $cp_line;\n        do\n        {\n            $cp_line .= $row;\n        }while($row !~ /Computer Name:/);\n\n    #Remove\n    $cp_line =~ /Computer Name:/s;\n\n    my @String = split(/Computer Name:/, $cp_line);\n\n    #Assigning array elements to hash array\n    $details{cp_line} = $String[0];\n\n    print $details{cp_line};\n    }\n}\n</code></pre>\n\n<p>I'm new to Perl so do pardon me if there are any obvious mistakes. My idea was to use <code>split</code> so that I can remove the <code>Computer Name:</code>. Any help on this?</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 1, "creation_date": 1433900135, "post_id": 30745541, "comment_id": 49546627, "body": "I think you&#39;ve misunderstood what <code>Thread::Queue</code> is about. <code>Thread::Queue</code> is a <i>queue</i> library (<i>queue</i> in the normal sense: a list-like data-structure where you add elements to one end and remove them from the other) that&#39;s designed to be threadsafe (meaning it&#39;s OK for multiple different <a href=\"http://perldoc.perl.org/threads.html\" rel=\"nofollow noreferrer\">threads</a> to be adding and removing elements at the same time)."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 0, "creation_date": 1433900242, "post_id": 30745541, "comment_id": 49546649, "body": "You are correct. I was incorrect in my understanding."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 7, "last_activity_date": 1433903381, "last_edit_date": 1433903381, "creation_date": 1433901859, "answer_id": 30745889, "question_id": 30745541, "link": "https://stackoverflow.com/questions/30745541/perl-run-multiple-system-commands-at-once/30745889#30745889", "title": "Perl: Run multiple system commands at once", "body": "<p>You can use <code>fork()</code>. In this example, I use the <code>Parallel::ForkManager</code> module. <code>$max_forks</code> is the number of processes to run simultaneously (set to two for an example), and you'd put your system/curl code after <code>### add curl logic here</code>, and remove the <code>print()</code> and <code>sleep()</code> example statements from there as well.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse Parallel::ForkManager;\n\nmy $max_forks = 2;\n\nmy $fork = new Parallel::ForkManager($max_forks);\n\nmy @urls = (\n             'http://perlmonks.org', \n             'http://stackoverflow.com',\n             'http://slashdot.org', \n             'http://wired.com',\n);\n\n# on start callback\n\n$fork-&gt;run_on_start(\n    sub {\n            my $pid = shift;\n            print \"Starting PID $pid\\n\";\n    }\n);\n\n# on finish callback\n\n$fork-&gt;run_on_finish(\n    sub {\n        my ( $pid, $exit, $ident, $signal, $core) = @_;\n        if ($core){\n            print \"PID $pid core dumped.\\n\";\n        }\n        else {\n            print \"PID $pid exited with exit code $exit \" .\n                  \" and signal $signal\\n\";\n        }\n    }\n);\n\n# forking code\n\nfor my $url (@urls){\n\n    $fork-&gt;start and next;\n\n    ### add curl logic here\n    print \"$url\\n\";\n    sleep(2);\n\n    $fork-&gt;finish;\n}\n\n$fork-&gt;wait_all_children;\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1412, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1433903381, "creation_date": 1433899374, "last_edit_date": 1433900220, "question_id": 30745541, "link": "https://stackoverflow.com/questions/30745541/perl-run-multiple-system-commands-at-once", "title": "Perl: Run multiple system commands at once", "body": "<p>In perl, I have some code like </p>\n\n<pre><code>my $enter = `curl -s -m 10 http://URL`;\n</code></pre>\n\n<p>How would I use threading to run this function 10 times at once?</p>\n\n<p>I found <a href=\"http://perldoc.perl.org/Thread/Queue.html\" rel=\"nofollow\">this</a> but I am not sure how to use it to set a specific amount of threads</p>\n\n<p>Edit: I guess I misunderstood what Threads::Queue was doing. My original question still stands for simultaneously running multiple commands at once.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "reply_to_user": {"reputation": 63648, "user_id": 97248, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d891ba8bd448f11617333f8642870262?s=128&d=identicon&r=PG", "display_name": "pts", "link": "https://stackoverflow.com/users/97248/pts"}, "edited": false, "score": 0, "creation_date": 1433891539, "post_id": 30744379, "comment_id": 49544440, "body": "For simplicity, let&#39;s assume that strings do not contain regexp meta-characters (as with my use case). What would be the answers in that case?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433892258, "post_id": 30744379, "comment_id": 49544663, "body": "Often you&#39;re not looking for a match just <i>anywhere</i> in your string. In your example, you probably want <code>this is a test string</code> to match but you may not want to match <code>I am a Protestant</code>. In fact, looking for a match just anywhere (whether with <code>index</code> or an unanchored regex) is a common logic bug."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1433892701, "post_id": 30744379, "comment_id": 49544816, "body": "I think that regular expressions try to optimize the location of the first letter in your expression. It might be faster, better benchmark both ways. And I think regex allows you to continue to find the next match starting from where the previous match left off. But, it could be index allows you to set a start position (can&#39;t remember)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433897455, "post_id": 30744379, "comment_id": 49546003, "body": "The equivalent of <code>index($str1, $str2) != -1</code> is actually <code>$str1 =~ &#47;\\Q$str2&#47;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 7, "creation_date": 1433897372, "post_id": 30744417, "comment_id": 49545977, "body": "If <code>$str2</code> doesn&#39;t change, the pattern won&#39;t be recompiled, so <code>&#47;o</code> is useless. If <code>$str2</code> does change, then pattern needs to be recompiled, so <code>&#47;o</code> is wrong. <code>&#47;o</code> is at best useless, so no, don&#39;t use <code>&#47;o</code>!"}, {"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1433898818, "post_id": 30744417, "comment_id": 49546323, "body": "I want to emphasize that what @ikegami <a href=\"http://stackoverflow.com/questions/30744379/perl-string-index-function-or-regex-which-is-better-and-when#comment49545977_30744417\">said</a> applies, not just in this case, but in virtually all cases.  See <a href=\"http://stackoverflow.com/q/550258/20938\">this question</a> for more info."}, {"owner": {"reputation": 63648, "user_id": 97248, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d891ba8bd448f11617333f8642870262?s=128&d=identicon&r=PG", "display_name": "pts", "link": "https://stackoverflow.com/users/97248/pts"}, "edited": false, "score": 0, "creation_date": 1589908501, "post_id": 30744417, "comment_id": 109478008, "body": "Updated my answer about <code>&#47;o</code>."}], "tags": [], "owner": {"reputation": 63648, "user_id": 97248, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d891ba8bd448f11617333f8642870262?s=128&d=identicon&r=PG", "display_name": "pts", "link": "https://stackoverflow.com/users/97248/pts"}, "is_accepted": false, "score": 0, "last_activity_date": 1589908447, "last_edit_date": 1589908447, "creation_date": 1433891542, "answer_id": 30744417, "question_id": 30744379, "link": "https://stackoverflow.com/questions/30744379/unanchored-substring-searching-index-vs-regex/30744417#30744417", "title": "Unanchored substring searching: index vs regex?", "body": "<p>If you need a substring match, use <code>index</code>. If you need a regexp match (with special meaning for regexp metacharacters), use <code>=~</code>. A substring match is usually faster, but regexps in Perl are quite well optimized, and simple regexp matches can be surprisingly fast. Benchmark it for yourself.</p>\n\n<p>Since Perl 5.6, Perl is smart enough to recompile the regexp in <code>$str =~ /$str2/</code> iff <code>$str2</code> has changed since the last compilation. To fully control when your regexp is compiled, use <code>qr/$str2/</code>. See <a href=\"http://stackoverflow.com/q/550258/20938\">Does the &#39;o&#39; modifier for Perl regular expressions still provide any benefit?</a> for <code>q/.../o</code> (obsolete) and <code>qr/.../</code> (not needed most of the time, but can be useful).</p>\n"}, {"comments": [{"owner": {"reputation": 10469, "user_id": 519360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f90aeb577f276cbaee4db1b7bdf622a?s=128&d=identicon&r=PG", "display_name": "Adam Katz", "link": "https://stackoverflow.com/users/519360/adam-katz"}, "edited": false, "score": 1, "creation_date": 1531937586, "post_id": 30745052, "comment_id": 89788234, "body": "The above comment has so much more charm when reading its author&#39;s nickname as @\u200csin rather than @sln. Thanks, sans-serif fonts!"}], "tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": false, "score": 2, "last_activity_date": 1433895588, "creation_date": 1433895588, "answer_id": 30745052, "question_id": 30744379, "link": "https://stackoverflow.com/questions/30744379/unanchored-substring-searching-index-vs-regex/30745052#30745052", "title": "Unanchored substring searching: index vs regex?", "body": "<p>When I see code that uses <code>index</code>, I usually see an <code>index</code> within an <code>index</code> within an <code>index</code>, etc.  There's also more branching too: \"if found, look for <em>this</em>; otherwise since not found, look for <em>that</em>.\"  Almost always a single regex would have worked.  So, for me, I almost always use a regex unless there's some specific reason I want to use an <code>index</code>.</p>\n\n<p>Unfortunately, most programmers I run into don't read regex well and so for maintainability, the <code>index</code> method should be used more than I do.</p>\n"}, {"comments": [{"owner": {"reputation": 645, "user_id": 1507619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3361ffe35af2b9095ccdb5b4e56d61f3?s=128&d=identicon&r=PG", "display_name": "Nuxwin", "link": "https://stackoverflow.com/users/1507619/nuxwin"}, "edited": false, "score": 0, "creation_date": 1539540909, "post_id": 30752068, "comment_id": 92529711, "body": "Beyond the benchmark, I would want understand why that is so much more faster for simple match like this. OK, there is compile time but it is normally done only once for such case. I would known difference in term of algorythm."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 645, "user_id": 1507619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3361ffe35af2b9095ccdb5b4e56d61f3?s=128&d=identicon&r=PG", "display_name": "Nuxwin", "link": "https://stackoverflow.com/users/1507619/nuxwin"}, "edited": false, "score": 1, "creation_date": 1539592872, "post_id": 30752068, "comment_id": 92543388, "body": "@Nuxwin: I am not able to give you such info but you will have useful information when running <code>B::Debug</code> or <code>B::Concise</code> modules. See: <a href=\"https://perldoc.perl.org/index-modules-B.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/index-modules-B.html</a>"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 8, "last_activity_date": 1469362290, "last_edit_date": 1469362290, "creation_date": 1433927619, "answer_id": 30752068, "question_id": 30744379, "link": "https://stackoverflow.com/questions/30744379/unanchored-substring-searching-index-vs-regex/30752068#30752068", "title": "Unanchored substring searching: index vs regex?", "body": "<p>Here is the result of Benchmark:</p>\n\n<pre><code>use Benchmark qw(:all) ;\nmy $count = -1;\nmy $str1 = \"this is a test string\";\nmy $str2 = \"test\";\nmy $str3 = qr/test/;\n\ncmpthese($count, {\n    'type1' =&gt; sub { if ( index($str1, $str2) != -1 ) { 1 } },\n    'type2' =&gt; sub { if( $str1 =~ $str3 ) { 1 } },\n});\n</code></pre>\n\n<p><strong>Result (when a match happens):</strong></p>\n\n<pre><code>           Rate type2 type1\ntype2 1747627/s    --  -70%\ntype1 5770465/s  230%    --\n</code></pre>\n\n<p>To be able to draw a conclusion, test <em>not</em> to match:</p>\n\n<pre><code>my $str2 = \"text\";\nmy $str3 = qr/text/;\n</code></pre>\n\n<p><strong>Result (when a match does not happen):</strong></p>\n\n<pre><code>           Rate type2 type1\ntype2 1857295/s    --  -67%\ntype1 5560630/s  199%    --\n</code></pre>\n\n<p><strong>Conclusion:</strong></p>\n\n<p>The <code>index</code> function is much faster than the regexp match.</p>\n"}], "owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1879, "favorite_count": 0, "answer_count": 3, "score": 10, "last_activity_date": 1600149005, "creation_date": 1433891348, "last_edit_date": 1600145738, "question_id": 30744379, "link": "https://stackoverflow.com/questions/30744379/unanchored-substring-searching-index-vs-regex", "title": "Unanchored substring searching: index vs regex?", "body": "<p>I am writing some Perl scripts where I need to do a lot of string matching.\nFor example:</p>\n\n<pre><code>my $str1 = \"this is a test string\";\nmy $str2 = \"test\";\n</code></pre>\n\n<p>To see if $str1 contains $str2 - I found that there are 2 approaches:</p>\n\n<p>Approach 1:\nuse Index function:</p>\n\n<pre><code>if ( index($str1, $str2) != -1 ) { .... }\n</code></pre>\n\n<p>Approach 2:\nuse regular expression:</p>\n\n<pre><code>if( $str1 =~ /$str2/ ) { .... }\n</code></pre>\n\n<p>Which is better? and when should we use each of these over the other?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1433889368, "post_id": 30743969, "comment_id": 49543741, "body": "The <code>&#47;s</code> modifier changes how <code>.</code> behaves, but there&#39;s no <code>.</code> in your regex."}, {"owner": {"reputation": 25, "user_id": 1940015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7780290bb11dd23447cd79bfcd50eda?s=128&d=identicon&r=PG", "display_name": "user1940015", "link": "https://stackoverflow.com/users/1940015/user1940015"}, "edited": false, "score": 0, "creation_date": 1433890222, "post_id": 30743969, "comment_id": 49544037, "body": "BTW, where I get some documentation/information on that -0777 flag?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 25, "user_id": 1940015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7780290bb11dd23447cd79bfcd50eda?s=128&d=identicon&r=PG", "display_name": "user1940015", "link": "https://stackoverflow.com/users/1940015/user1940015"}, "edited": false, "score": 1, "creation_date": 1433890739, "post_id": 30743969, "comment_id": 49544208, "body": "@user1940015 Run <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\"><code>perldoc perlrun</code></a> (I&#39;ve linked to the online version in case you don&#39;t have <code>perldoc</code> on your machine)."}, {"owner": {"reputation": 25, "user_id": 1940015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7780290bb11dd23447cd79bfcd50eda?s=128&d=identicon&r=PG", "display_name": "user1940015", "link": "https://stackoverflow.com/users/1940015/user1940015"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433891538, "post_id": 30743969, "comment_id": 49544438, "body": "@ThisSuitIsBlackNot Thanks!"}], "tags": [], "owner": {"reputation": 33858, "user_id": 773159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fcd72af6d7d5fdd28fc45289da3792a?s=128&d=identicon&r=PG", "display_name": "Birei", "link": "https://stackoverflow.com/users/773159/birei"}, "is_accepted": true, "score": 2, "last_activity_date": 1433889143, "creation_date": 1433889143, "answer_id": 30743969, "question_id": 30743825, "link": "https://stackoverflow.com/questions/30743825/perl-multiline-search-replace/30743969#30743969", "title": "Perl multiline search replace", "body": "<p>One option:</p>\n\n<pre><code>perl -0777 -pe 's/(#\\s*label2\\s*\\n)#/$1/s' infile\n</code></pre>\n\n<p>The <code>-0777</code> slurps the whole file, parens do grouping over the key line to use it again in the replacement part, and remove what it's outside of it, the <code>#</code> character. It yields:</p>\n\n<pre><code>#   label1\n#variable=foobar1\n\n#   label2\nvariable=foobar2\n</code></pre>\n\n<p>About the debugging, I think it works the same that from a script, use <code>-d</code> switch to activate it. Simply put each instruction in a different line to visualize it fine.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 1940015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7780290bb11dd23447cd79bfcd50eda?s=128&d=identicon&r=PG", "display_name": "user1940015", "link": "https://stackoverflow.com/users/1940015/user1940015"}, "edited": false, "score": 0, "creation_date": 1433890684, "post_id": 30744065, "comment_id": 49544190, "body": "Thanks, but I am limited to using perl for my case"}], "tags": [], "owner": {"reputation": 847, "user_id": 3101160, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02050f88fd816beb58e2720d5da68c31?s=128&d=identicon&r=PG&f=1", "display_name": "Ell", "link": "https://stackoverflow.com/users/3101160/ell"}, "is_accepted": false, "score": -2, "last_activity_date": 1433889651, "creation_date": 1433889651, "answer_id": 30744065, "question_id": 30743825, "link": "https://stackoverflow.com/questions/30743825/perl-multiline-search-replace/30744065#30744065", "title": "Perl multiline search replace", "body": "<p>One awk solution if you are not limited to perl:</p>\n\n<pre><code>awk 'f{f=sub(/^#/,\"\")};/label2/{f=1}1' file.txt\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 1940015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7780290bb11dd23447cd79bfcd50eda?s=128&d=identicon&r=PG", "display_name": "user1940015", "link": "https://stackoverflow.com/users/1940015/user1940015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 30743969, "answer_count": 2, "score": 0, "last_activity_date": 1433893990, "creation_date": 1433888447, "last_edit_date": 1433889275, "question_id": 30743825, "link": "https://stackoverflow.com/questions/30743825/perl-multiline-search-replace", "title": "Perl multiline search replace", "body": "<p>I want to find and corresponding block and uncomment the second line in text file using perl one-liner. Im fairly new to using complex regex, so your help is very much appreciated! Also is there a way to debug one-liners?</p>\n\n<p>Here is what I have so far, which does not work even though I tested it using a interactive regex tester:</p>\n\n<pre><code>perl -p -i.bak -e 's/#[\\s]*label2[\\n]#(.*)/${1}/gi;' file.txt\n</code></pre>\n\n<p>The text file looks like the following</p>\n\n<pre><code>#   label1\n#variable=foobar1\n\n#   label2\n#variable=foobar2\n</code></pre>\n"}, {"tags": ["regex", "perl", "replace", "escaping", "metacharacters"], "comments": [{"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433885590, "post_id": 30743125, "comment_id": 49542214, "body": "Please provide your exact code and also give exactly what is the output that you are getting."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1433886166, "post_id": 30743125, "comment_id": 49542496, "body": "<code>perl -e &#39;$s=&quot;subnet 1 ims-0-x ip address&quot;; $s =~ s&#47;\\-x&#47;&#47;; print $s;&#39;</code> works. If that&#39;s not the actual string you&#39;re using and is a fabricated/stripped example, please post the original string with perhaps the IPs changed. You could be getting caught up with what is contained in the original string. For example... if the &quot;-x&quot; actually contains special characters, you may not be escaping them properly."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 3, "creation_date": 1433890075, "post_id": 30743125, "comment_id": 49543979, "body": "FYI: double-backslash in a regex is a literal blackslash (i.e. a literal backslash in the input) and <code>-</code> isn&#39;t special in this context: within a regex a hyphen is only special in between <code>[</code> and <code>]</code> (and only if it isn&#39;t first or last)."}, {"owner": {"reputation": 1, "user_id": 4992365, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lX_DG5TDMk4/AAAAAAAAAAI/AAAAAAAAEus/uTEu0reJkB4/photo.jpg?sz=128", "display_name": "malika waller", "link": "https://stackoverflow.com/users/4992365/malika-waller"}, "edited": false, "score": 0, "creation_date": 1434029905, "post_id": 30743125, "comment_id": 49614816, "body": "it had one back slash escaping the dash, when i typed one back slash it did not show up on stackoverflow for some reason. so i typed two back slashes and then it only showed 1. but now i see two there.... not sure why. but yes its supposed to say s/\\-x// ;"}], "answers": [{"comments": [{"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433885658, "post_id": 30743214, "comment_id": 49542252, "body": "I do not see any difference between your regex and one given in question."}, {"owner": {"reputation": 1891, "user_id": 493085, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/8c86b10df9af9c4bd40e5ba762db7f00?s=128&d=identicon&r=PG", "display_name": "Nate", "link": "https://stackoverflow.com/users/493085/nate"}, "reply_to_user": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433891805, "post_id": 30743214, "comment_id": 49544536, "body": "I took out the first backslash that was escaping another backslash... Then in an edit I removed both backslashes because it isn&#39;t necessary to escape the dash..."}], "tags": [], "owner": {"reputation": 1891, "user_id": 493085, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/8c86b10df9af9c4bd40e5ba762db7f00?s=128&d=identicon&r=PG", "display_name": "Nate", "link": "https://stackoverflow.com/users/493085/nate"}, "is_accepted": false, "score": 1, "last_activity_date": 1433886895, "last_edit_date": 1433886895, "creation_date": 1433885591, "answer_id": 30743214, "question_id": 30743125, "link": "https://stackoverflow.com/questions/30743125/how-to-replace-a-part-of-string-when-it-contains-a-metacharacter-in-perl/30743214#30743214", "title": "how to replace a part of string when it contains a metacharacter in perl", "body": "<p>You are escaping a backslash and not the dash. With two backslashes (<code>\\\\</code>), the first backslash escapes the second and it looks for a backslash in the string. It should be <code>s/-x//</code>. You don't need to escape the <code>-</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $s = \"subnet 1 ims-0-x ip address\";\n$s =~ s/-x//;\nprint \"$s\\n\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 406, "user_id": 4219404, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-pUPSixYDlqY/AAAAAAAAAAI/AAAAAAAADRQ/Qgmb9FiMd7s/photo.jpg?sz=128", "display_name": "Vishwas", "link": "https://stackoverflow.com/users/4219404/vishwas"}, "is_accepted": false, "score": 0, "last_activity_date": 1433886582, "last_edit_date": 1433886582, "creation_date": 1433886258, "answer_id": 30743396, "question_id": 30743125, "link": "https://stackoverflow.com/questions/30743125/how-to-replace-a-part-of-string-when-it-contains-a-metacharacter-in-perl/30743396#30743396", "title": "how to replace a part of string when it contains a metacharacter in perl", "body": "<p>I tried this and its working fine, /g is to replaceAll instances.\nThe output is \"subnet 1 ims-0 ip address\"</p>\n\n<pre><code>$string = \"vishwassubnet 1 ims-0-x ip address\";\n$string =~ s/-x//g;\nprint $string;\n</code></pre>\n\n<p><a href=\"https://ideone.com/9zh91T\" rel=\"nofollow\">https://ideone.com/9zh91T</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4992365, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lX_DG5TDMk4/AAAAAAAAAAI/AAAAAAAAEus/uTEu0reJkB4/photo.jpg?sz=128", "display_name": "malika waller", "link": "https://stackoverflow.com/users/4992365/malika-waller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433886895, "creation_date": 1433885221, "last_edit_date": 1433886767, "question_id": 30743125, "link": "https://stackoverflow.com/questions/30743125/how-to-replace-a-part-of-string-when-it-contains-a-metacharacter-in-perl", "title": "how to replace a part of string when it contains a metacharacter in perl", "body": "<p>I have strings that look like this for example <code>subnet 1 ims-0-x ip address</code></p>\n\n<p>and I want to get rid of the <code>-x</code> so it will be <code>subnet 1 ims-0 ip address</code></p>\n\n<p>I tried doing this regex replace</p>\n\n<pre><code>$string=~ s/\\\\-x//;\n</code></pre>\n\n<p>which is not working. I think my issue is that I am not escaping the dash properly. please help me fix that one line.</p>\n"}, {"tags": ["perl", "hash", "key"], "comments": [{"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 5, "creation_date": 1433883813, "post_id": 30742688, "comment_id": 49541355, "body": "I do not know how this is empty in your case . This same code with sample data provided by you is giving me keys i.e. <code>rs11273140 rs79236118 rs63414861 rs11414981</code>"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 4, "creation_date": 1433884068, "post_id": 30742688, "comment_id": 49541511, "body": "Do your lines begin with a tab?"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 1, "creation_date": 1433884637, "post_id": 30742688, "comment_id": 49541753, "body": "Inspect your actual file using: <code>od -c missing_rs.txt | head</code>"}, {"owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "edited": false, "score": 0, "creation_date": 1433884708, "post_id": 30742688, "comment_id": 49541786, "body": "my output shows only &#39;Total missing rs (non-redundant) count is 23&#39; and &#39;Total number of missing rs after building hash is 20&#39;."}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 1, "creation_date": 1433884995, "post_id": 30742688, "comment_id": 49541930, "body": "@BChen I think you should explain why are you splitting using <code>\\t</code> and if your file contains more text then what you put here then you should put that here too. Also it does not make sense if you are able to print using <code>foreach</code> then why is <code>interpolation</code> not working for you. I do not think this has anything to do with your code. Are you able to print  <code>array</code> this way in some other code?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1433885253, "post_id": 30742688, "comment_id": 49542063, "body": "Does your input end in <code>\\r\\n</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1433885718, "post_id": 30742688, "comment_id": 49542287, "body": "<code>print &quot;@array&quot;;</code> is not great for debugging; do <code>use Data::Dumper; $Data::Dumper::Useqq = 1; print Dumper \\@array;</code> instead. Even better, simply dump the hash itself: <code>print Dumper \\%hash2;</code>"}, {"owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "reply_to_user": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433887469, "post_id": 30742688, "comment_id": 49543037, "body": "@shivams, new to perl so any comment could be off the mark. but unless <code>\\t</code> could affect the output, i doubt it&#39;s causing the trouble. <code>\\t</code> was used in other <code>hashes</code> so i just kept it. as you already pointed out, it is not needed for <code>hash2</code>. I did wrete a small script just to test <code>print @array</code> for general purpose and it went well. That&#39;s why I said I was about to go berserk because I could NOT figure out why this particular script refuses to print the array."}, {"owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1433887475, "post_id": 30742688, "comment_id": 49543042, "body": "@mob when i ran the code per suggestion from kjpires, the output does end in <code>\\r \\n r</code>. What does that mean? @ThisSuitIsBlackNot, I am a newbie for language so I cannot fully grasp what you suggested. Will google them and try. Thanks"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1433887615, "post_id": 30742688, "comment_id": 49543107, "body": "<code>\\r</code> is a carriage return character that moves the cursor to the beginning of the current line without advancing to the next line. Printing <code>&quot;@missing_rs_keys&quot;</code> when every element of that array ends in <code>\\r</code> will just print all the elements on top of each other. Instead of <code>chomp($line2)</code>, say <code>$line2 =~ s&#47;\\s+$&#47;&#47;</code>."}, {"owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "edited": false, "score": 0, "creation_date": 1433887629, "post_id": 30742688, "comment_id": 49543113, "body": "this is the (partial) output after I run <code>od -c missing_rs.txt | head</code> <code>0000000   r   s   1   1   2   7   3   1   4   0  \\r  \\n   r   s   7   9 0000020   2   3   6   1   1   8  \\r  \\n   r   s   6   3   4   1   4   8</code>"}, {"owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1433887904, "post_id": 30742688, "comment_id": 49543209, "body": "@mob, are you suggesting that my output data just happens to be incompatible with my &quot;environment&quot; so <code>rs</code> gets reinterpreted ?? but if so, how could I get the <code>rs</code> output when I use a <code>foreach</code> loop to &quot;force&quot; printing the <code>keys</code>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1433904769, "post_id": 30742688, "comment_id": 49547680, "body": "Then print an <code>\\n</code> after each element, e.g. <code>print join(&quot;\\n&quot;,@missing_rs_keys)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433916400, "post_id": 30747918, "comment_id": 49551052, "body": "I am just curious here. Why is this not effecting when print is done with <code>foreach</code>. As per question <code>foreach</code> is giving keys. Is this carriage-return thingy only work on interpolating array? Why is this different behaviour?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433917702, "post_id": 30747918, "comment_id": 49551695, "body": "@shivams: Because you presumably printed a newline after each array element. Something like <code>print &quot;$_\\n&quot; for @missing_rs_keys</code> would output separate lines"}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433920330, "post_id": 30747918, "comment_id": 49553242, "body": "So if do <code>print &quot;$_&quot;  for @missing_rs_keys</code> then i will face the same issue of not getting anything on output."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433920456, "post_id": 30747918, "comment_id": 49553330, "body": "@shivams: Yes. Why don&#39;t you try it?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1433914780, "creation_date": 1433914780, "answer_id": 30747918, "question_id": 30742688, "link": "https://stackoverflow.com/questions/30742688/keys-in-perl-hash-disappeared/30747918#30747918", "title": "Keys in Perl hash disappeared", "body": "<p>You are processing a Windows text file in a non-Windows environment, so your <code>chomp</code> is removing the trailing linefeed on each record but leaving the carriage-return. That has the effect of making each line of output on the console overwrite the preceding one so it appears as if there is nothing in the array</p>\n\n<p>Just replace your <code>chomp</code> with <code>s/\\s+\\z//</code> and all will be well</p>\n"}], "owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1433915688, "creation_date": 1433883455, "last_edit_date": 1433915688, "question_id": 30742688, "link": "https://stackoverflow.com/questions/30742688/keys-in-perl-hash-disappeared", "title": "Keys in Perl hash disappeared", "body": "<p>I have a list of data that I want to put into a Perl hash</p>\n\n<p><strong>file</strong> <code>missing_rs.txt</code></p>\n\n<pre><code>rs11273140\nrs79236118\nrs63414861\nrs11414981\n...\n</code></pre>\n\n<p>So I built a <code>while</code> loop</p>\n\n<pre><code>#! usr/bin/perl\nuse warnings;\nuse strict;\n\nmy (%hash1, %hash2, %hash3); #%hash1, %hash3 are for other purposes\nopen (my $FH2, '&lt;', 'missing_rs.txt') or die $!;\n\nmy $count2 = 0;\nwhile ( my $line2 = &lt;$FH2&gt; ) {\n        chomp $line2;\n        my @key2 = split /\\t/, $line2;\n        $hash2{$key2[0]} = 1;\n        $count2++;\n}\n\nmy @missing_rs_keys = keys %hash2; # added to help troubleshoot\nmy @missing_rs_values = values %hash2; # added to help troubleshoot\nmy $item;\nprint \"@missing_rs_keys\"; \n\nmy $missing_rs = scalar @missing_rs_keys; #added to help troubleshoot\nprint \"Total missing rs (non-redundant) count is $count2\\n\"; # added to help troubleshoot\nprint \"Total number of missing rs after buidling hash is $missing_rs\\n\"; # added to help troubleshoot\n</code></pre>\n\n<p>My question is, why can I not <code>print</code> the <code>%hash2</code> keys, as the output from <code>print \"@missing_rs_keys\";</code> is empty but <code>$missing_rs = 20</code>.</p>\n\n<p>I tried to build a <code>foreach</code> loop to print out each key in <code>%hash2</code>, and the loop ran well and gave me what I expected, but somehow I could not <code>print \"@missing_rs_keys\"</code> directly.</p>\n\n<p><strong>Update</strong></p>\n\n<p>When I ran the script I got this output</p>\n\n<pre><code>[chenb07@minerva4 ~]$ perl crazy2\nTotal missing rs (non-redundant) count is 23\nTotal number of missing rs after buidling hash is 20\n[chenb07@minerva4 ~]$\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433965943, "post_id": 30742232, "comment_id": 49584159, "body": "But , I just noticed that &quot;versio\u200c\u200bn&quot;:&quot;15320029&quot; which was the first line of the file  is now getting printed at the end."}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433966514, "post_id": 30742232, "comment_id": 49584446, "body": "The format of the file looks good .but the order of the parameters and the curly braces are completely messed up"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433966976, "post_id": 30742232, "comment_id": 49584686, "body": "Yup, but that&#39;s fine. From the JSON spec: &quot;An object is an unordered set of name/value pairs.&quot; (&quot;Object&quot; is the name of the <code>{ }</code> construct.)"}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433968240, "post_id": 30742232, "comment_id": 49585489, "body": "Is there a way to ensure that the order of the parameters in the file doesn&#39;t change. If the format changes , this file will not get pushed to our test machines. A syntax check is performed by a process , and if the config files doesn&#39;t conform to the format , config push will be rejected. So is there a way to ensure that the order of the parameters remain intact."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433968865, "post_id": 30742232, "comment_id": 49585876, "body": "The format didn&#39;t change. The order is meaningless. And no, not as long as you use hashes, and the JSON module uses hashes."}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433969010, "post_id": 30742232, "comment_id": 49585954, "body": "In this case order is important. If the order changes the config push will fail."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433969042, "post_id": 30742232, "comment_id": 49585973, "body": "Either the order is meaningless and your push tool is buggy, or the order is meaningful and you shouldn&#39;t be using JSON, because in JSON, the order of object attributes is meaningless."}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433970568, "post_id": 30742232, "comment_id": 49586828, "body": "One last question. If i were to change the version number in the config file how do i do that. Version is not part of cust [ ] . I&#39;m curious to know how we change it ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433972018, "post_id": 30742232, "comment_id": 49587575, "body": "Look at the data dumper output. It&#39;s in the hash referenced by <code>$data</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1433964457, "last_edit_date": 1433964457, "creation_date": 1433881791, "answer_id": 30742232, "question_id": 30742078, "link": "https://stackoverflow.com/questions/30742078/edit-json-using-perl/30742232#30742232", "title": "Edit json using Perl", "body": "<p>Problem #1: You just read the first line of the file.</p>\n\n<p>One trick to read the whole file at once is to use <code>local $/</code>. With some error checking and scoping, that will look like:</p>\n\n<pre><code>my $qfn = 'data.json';\n\nmy $json;\n{\n   open(my $fh, \"&lt;\", $qfn)\n      or die(\"Can't open file \\\"$qfn\\\": $!\\n\");\n   local $/;\n   $json = &lt;$fh&gt;;\n}\n</code></pre>\n\n<hr>\n\n<p>Problem #2: You need some kind of loop since you need to check each of the objects in <code>cus</code>.</p>\n\n<pre><code>for my $cus (@{ $data-&gt;{global}{cus} }) {\n   $cus-&gt;{q}{custcap} = 99999\n      if $cus-&gt;{cp} == 10000;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433884238, "post_id": 30742289, "comment_id": 49541591, "body": "When i compile the code i see the following error : or } expected while parsing object/hash, at character offset 1106 (before &quot;\\n&quot;)"}, {"owner": {"reputation": 23067, "user_id": 186039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c81298bb18acbac2f527ff8db55b107?s=128&d=identicon&r=PG", "display_name": "EmFi", "link": "https://stackoverflow.com/users/186039/emfi"}, "reply_to_user": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433884459, "post_id": 30742289, "comment_id": 49541687, "body": "I think this has to do with your JSON object. It&#39;s missing a closing }"}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433884633, "post_id": 30742289, "comment_id": 49541751, "body": "#!/usr/bin/perl      use strict;     use warnings;     use JSON;       my $json;     {     open my $fh, &quot;&lt;&quot;, &quot;cfg.txt&quot;     or die(&quot;Can&#39;t open file \\&quot;file name\\&quot;: $!\\n&quot;);     local $/;     $json = &lt;$fh&gt;;     }      my $data = decode_json($json);       for my $cus (@{ $data-&gt;{global}{cus} }) {     $cus-&gt;{q}{custcap} = 99999     if $cus-&gt;{cp} == 10000;     }      #open the file and save the changes    {    open my $fh, &quot;&gt;&quot;, &quot;file name&quot;    or die(&quot;Can&#39;t open file \\&quot;file name\\&quot;: $!\\n&quot;);    local $/;    $json = &lt;$fh&gt;;    } ~ ~"}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "edited": false, "score": 0, "creation_date": 1433884657, "post_id": 30742289, "comment_id": 49541767, "body": "Sorry for not formatting the code. I&#39;m unable to format it."}], "tags": [], "owner": {"reputation": 23067, "user_id": 186039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c81298bb18acbac2f527ff8db55b107?s=128&d=identicon&r=PG", "display_name": "EmFi", "link": "https://stackoverflow.com/users/186039/emfi"}, "is_accepted": false, "score": 1, "last_activity_date": 1433882342, "last_edit_date": 1433882342, "creation_date": 1433881970, "answer_id": 30742289, "question_id": 30742078, "link": "https://stackoverflow.com/questions/30742078/edit-json-using-perl/30742289#30742289", "title": "Edit json using Perl", "body": "<p>@kjpires is correct that the posted snippet does not load the entire file, and will not parses it correctly. </p>\n\n<p>That's only half the solution. The posted snippet traverses the JSON structure incorrectly. </p>\n\n<p>The root node has a <code>global</code> node which has a <code>cus</code> node that is an array, and each <code>cus</code> node can have a <code>q</code> node which has a <code>custcap</code> property. Your snippet omits the <code>cus</code> array and attempts to access <code>q</code> directly</p>\n\n<p>Your requirements aren't specific as to what to do if <code>custcap</code> appears multiple times. Assuming that you need to update each occurrence of <code>custcap</code> if its current value is 10000 with 99999 then you need to replace </p>\n\n<p><code>$data-&gt;{'q'}-&gt;{'custcap'}-&gt;[1] = \"9999\";</code></p>\n\n<p>with something like this:</p>\n\n<pre><code>for my $customer (@{$data-&gt;{global}{cus}}) {\n      $customer-&gt;{q}{custcap} = 99999 if ($customer-&gt;{cp} == 10000);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": false, "score": 1, "last_activity_date": 1433882087, "creation_date": 1433882087, "answer_id": 30742313, "question_id": 30742078, "link": "https://stackoverflow.com/questions/30742078/edit-json-using-perl/30742313#30742313", "title": "Edit json using Perl", "body": "<p>One problem is that <code>my $json = &lt;$fh&gt;;</code> doesn't read the whole file: you are just getting one line of the file (and then parsing just that one line which should probably fail unless it is all on one line).</p>\n\n<p>One quick solution is to undefine the input end-of-line terminator using: <code>$/ = undef;</code> before you read your file.  Another solution is to use the <a href=\"https://metacpan.org/pod/File::Slurp\" rel=\"nofollow\">File::Slurp</a> module.</p>\n"}], "owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1909, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1433964457, "creation_date": 1433881277, "last_edit_date": 1433964373, "question_id": 30742078, "link": "https://stackoverflow.com/questions/30742078/edit-json-using-perl", "title": "Edit json using Perl", "body": "<p>I need to edit the below config file using Perl. I need to check if <code>cp</code> is 10000 and set <code>custcap</code> to 99999 if so.</p>\n\n<p>If the <code>cp</code> is not equal to 10000, just exit out of the file without making changes.</p>\n\n<p>My understanding is we can use Perl file handles to open the file, and the JSON module for editing, but I'm not really sure about editing the file.</p>\n\n<p>Can some one help me out with editing the file?</p>\n\n<pre><code>{\n    \"version\": \"15320029\",\n    \"global\": {\n        \"ap\": {\n            \"log\": \"info\",\n            \"hyd\": {\n                \"log\": \"info\",\n                \"qo\": false\n            }\n        },\n        \"cus\": [\n            {\n                **\"cp\": \"10000\"**,\n                \"ser\": \"XYZ\",\n                \"usesr\": false,\n                \"services\": {\n                    \"acc\": {\n                        \"ips\": {\n                            \"usesr\": false\n                        }\n                    }\n                },\n                \"q\": {\n                    \"policy\": \"CAP\",\n                    **\"custcap\": 3000000**\n                }\n            },\n            {\n            \"cp\": \"10441\",\n                \"ser\": \"abc\",\n                \"usesr\": false,\n                \"services\": {\n                    \"acc\": {\n                        \"ips\": {\n                            \"usesr\": false\n                        }\n                    }\n                },\n                \"q\": {\n                    \"policy\": \"CAP\",\n                    \"custcap\": 3000000\n                }\n            }\n         ]  \n      }\n</code></pre>\n\n<p>Code snippet :</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse JSON;\n\nopen my $fh, \"&lt;\", \"data.json\";\nmy $json = &lt;$fh&gt;;\nclose $fh;\n\n\nmy $data = decode_json($json);\n\n$data-&gt;{'q'}-&gt;{'custcap'}-&gt;[1] = \"9999\";\n\nopen my $fh, \"&gt;\", \"data.json\";\n\nprint $fh encode_json($data);\n\nclose $fh;\n</code></pre>\n"}, {"tags": ["javascript", "ajax", "json", "perl"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 4, "creation_date": 1433872349, "post_id": 30739300, "comment_id": 49534543, "body": "You have to explain what the problem is. <i>&quot;I can&#39;t get it to work&quot;</i> is not a problem description. Is the request sent at all? Does the server return the response? Is the  <code>onreadystatechange </code> callback called? Are you able to parse the response? Is the callback called? You have to do a little bit of debugging yourself."}, {"owner": {"reputation": 15, "user_id": 3397176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66a66668d20b1a2be87e6bc29f4f62ec?s=128&d=identicon&r=PG&f=1", "display_name": "user3397176", "link": "https://stackoverflow.com/users/3397176/user3397176"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1433873588, "post_id": 30739300, "comment_id": 49535368, "body": "Thank you very much for for your answer. I now see I never checked whether the request was sent. The server file is not mentioned in /var/log/httpd/access_log so I guess the request was never sent. Why might that be?"}, {"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 1, "creation_date": 1433874054, "post_id": 30739300, "comment_id": 49535676, "body": "@user3397176 -- Pop open your console (F12 on most browser) - and look for errors when you click your button. Also, the &quot;Network&quot; tab of the console shows network requests, verify that yours is being sent."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433877714, "post_id": 30739300, "comment_id": 49537801, "body": "Is the HTML page located on <code>http:&#47;&#47;www.skutan.com&#47;</code>? If not, it could be blocked as a cross-site request."}, {"owner": {"reputation": 15, "user_id": 3397176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66a66668d20b1a2be87e6bc29f4f62ec?s=128&d=identicon&r=PG&f=1", "display_name": "user3397176", "link": "https://stackoverflow.com/users/3397176/user3397176"}, "edited": false, "score": 0, "creation_date": 1433885972, "post_id": 30739300, "comment_id": 49542417, "body": "Thank you tymeJV. I&#39;ll have to learn more about the console."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 3397176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66a66668d20b1a2be87e6bc29f4f62ec?s=128&d=identicon&r=PG&f=1", "display_name": "user3397176", "link": "https://stackoverflow.com/users/3397176/user3397176"}, "edited": false, "score": 0, "creation_date": 1433886069, "post_id": 30741563, "comment_id": 49542447, "body": "Thank you. It did indeed work after your suggested modification."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1433879465, "creation_date": 1433879465, "answer_id": 30741563, "question_id": 30739300, "link": "https://stackoverflow.com/questions/30739300/getting-a-json-from-a-server-and-assigning-it-to-a-variable/30741563#30741563", "title": "Getting a json from a server and assigning it to a variable", "body": "<p>If you checked your brower's console, you'll see an error such as</p>\n\n<pre><code>ReferenceError: POST is not defined\n</code></pre>\n\n<p>with a reference to the line</p>\n\n<pre><code>req.open(POST, \"http://www.skutan.com/cgi-bin/hvserver.cgi\", true);\n</code></pre>\n\n<p>It should be</p>\n\n<pre><code>req.open(\"POST\", \"http://www.skutan.com/cgi-bin/hvserver.cgi\", true);\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3397176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66a66668d20b1a2be87e6bc29f4f62ec?s=128&d=identicon&r=PG&f=1", "display_name": "user3397176", "link": "https://stackoverflow.com/users/3397176/user3397176"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 30741563, "answer_count": 1, "score": 0, "last_activity_date": 1433879465, "creation_date": 1433872207, "last_edit_date": 1433874797, "question_id": 30739300, "link": "https://stackoverflow.com/questions/30739300/getting-a-json-from-a-server-and-assigning-it-to-a-variable", "title": "Getting a json from a server and assigning it to a variable", "body": "<p>I'm new to Javascript but not programming. I'm trying to write a program that exchanges information with a server. I can't get it to work and even simplifying and borrowing other peoples code doesn't help. What I'm doing wrong?</p>\n\n<p>Here is the client:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Testing&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;script&gt;\n        GET_JSON = function(callback) {\n            var req = new XMLHttpRequest();\n            req.open(POST, \"http://www.skutan.com/cgi-bin/hvserver.cgi\", true);\n            req.onreadystatechange = function() {\n                if (this.readyState == 4) {\n                    callback(JSON.parse(req.responseText));\n                }\n            }\n            req.send(\"a=2&amp;b=1\");\n        }\n\n        JSONCallback = function(JSONObj) {\n            alert(JSONObj);\n        };\n    &lt;/script&gt;\n\n    &lt;button type=\"button\" onclick=\"GET_JSON(JSONCallback)\"&gt;Test&lt;/button&gt;\n\n    &lt;h1&gt;.&lt;/h1&gt;\n    &lt;span id=\"koord\"&gt;&lt;/span&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>The server is witten in perl and looks like this:</p>\n\n<pre><code>#!/usr/bin/perl -wT                                                             \nuse strict;\nuse CGI qw(:standard);\n\nmy @fields = param;\n\nmy $json_ut = \"{\\\"a\\\": 1, \\\"b\\\": 2}\";\n\nprint(\"Content-type: application/json; charset=utf-8\\n\\n\");\n\nprint(\"$json_ut\");\n</code></pre>\n\n<p>Why don't I get any alert in the client?</p>\n"}, {"tags": ["perl", "perl-module", "cpan"], "comments": [{"owner": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "edited": false, "score": 0, "creation_date": 1433869881, "post_id": 30738541, "comment_id": 49533179, "body": "Once this gets into shape, perhaps we should link it to the cpan or perl tag-wikis"}, {"owner": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "edited": false, "score": 0, "creation_date": 1554188596, "post_id": 30738541, "comment_id": 97648618, "body": "I&#39;ve never got cpan to work first time on tens of new fresh linux installs. I wonder if any ever tests it?"}], "answers": [{"tags": [], "owner": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "is_accepted": false, "score": 3, "last_activity_date": 1435085950, "last_edit_date": 1592644375, "creation_date": 1433869662, "answer_id": 30738542, "question_id": 30738541, "link": "https://stackoverflow.com/questions/30738541/my-perl-module-from-cpan-wont-install-what-do-i-do/30738542#30738542", "title": "My Perl module from CPAN won&#39;t install, what do I do?", "body": "<h2>Does it build at all?</h2>\n<p>The first thing to consider is, is your module building at all?  If it isn't building, you should check for existing bug reports, file one if necessary, and perhaps try to fix the issue yourself (steps 2 and 3b/3c below).</p>\n<p>If it builds but tests fail, follow these steps.</p>\n<h2>1. Determine if the test is valid</h2>\n<p>The purpose of these tests is to <em>test</em>. If there's a problem, you need to know about it, and not sweep it under the rug. Resolve the issue one way or another. Is there a problem with something on your system, or is this a problem with the test itself. If this is a problem with the test, does it still affect you? If this is a system problem, is this something you might run into? For example, let's say there's a test that checks for connectivity between your system and a Windows system. If you don't connect to Windows systems, maybe that particular test doesn't apply to you.</p>\n<h1>2. Check MetaCPAN for bug reports</h1>\n<p>If you have a test failure, go to the <a href=\"http://metacpan.org\" rel=\"nofollow noreferrer\">MetaCPAN</a> webpage for that module, and check the left hand side for RT <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=Date-Calc\" rel=\"nofollow noreferrer\">issues</a> to see if someone else is getting the same errors.  If no one is, you should open an RT ticket, or a ticket in the project's bug tracker of choice.</p>\n<p>There may be patches available from other users.  If the patches make sense to you, you can try applying them and rerunning the tests.</p>\n<p>You can also click on the <em>Testers</em> link on MetaCPAN. The QA testers webpage will show you the various Perl versions, module versions, platforms, and show you which tests are failing on particular platforms on which versions. You might need to install an alternative version of the module.</p>\n<p>At this point, there are a few paths you can take.</p>\n<h1>3a. Force the installation</h1>\n<p>Only once you've determined that the failed test doesn't necessarily apply to you, do a <em>force</em> install:</p>\n<pre><code>cpan&gt; force install Date::Calc\n</code></pre>\n<p>This will run through the entire install, except that it will skip all testing. (Or maybe it still tests, but doesn't fail if a test fails.). The module will still fail on compiler errors, or if something can't get written to your system. It merely ignores tests.</p>\n<p>This should be the last desperate attempt to get something installed. You've should have already resolved that the failed tests are bugs or not meaningful for you. Or, someone is standing beside you with a gun to your head saying, <em>&quot;Install that module, or I'll pull the trigger!&quot;</em>.</p>\n<h1>3b. Find an alternative module</h1>\n<p>Or, you can decide to use another module.  CPAN is full of various approaches to problems (<a href=\"http://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it\" rel=\"nofollow noreferrer\">TMTOWTDI</a>), so there many be one there that does what you want.</p>\n<h1>3c. Write some code</h1>\n<p>Or, you can analyze why the test is failing and either fix the module or the code.  Bug reports with potential patches are often appreciated by busy module authors.  If it doesn't look like the author wants to take your fix, you can always fork an existing module, or write a fresh one.</p>\n<p>If the author has gone MIA, you may be able to <a href=\"http://neilb.org/adoption/\" rel=\"nofollow noreferrer\">adopt the module</a> and maintain it yourself.  The <a href=\"http://neilb.org/2013/07/24/adopt-a-module.html\" rel=\"nofollow noreferrer\">general process for adopting a module</a> is first to try to submit code to the author that fixes it, and then wait a while, maybe a month, for the author to pick it up.  If there's no response, try alternative means of contact, email, Google+, whatever you can find.  After that, you can go on Perl IRC chats, mailing lists, etc, looking for someone who knows where the author might be.  If none of that works after a few months, the PAUSE admins can investigate and turn the module over to you.</p>\n<p><a href=\"https://stackoverflow.com/a/27891153/58074\">This is based on this excellent answer</a></p>\n"}], "owner": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3628, "favorite_count": 0, "answer_count": 1, "community_owned_date": 1433889525, "score": 5, "last_activity_date": 1435085950, "creation_date": 1433869662, "last_edit_date": 1495541041, "question_id": 30738541, "link": "https://stackoverflow.com/questions/30738541/my-perl-module-from-cpan-wont-install-what-do-i-do", "title": "My Perl module from CPAN won&#39;t install, what do I do?", "body": "<p>This is a canonical question for the above problem, inspired by <a href=\"https://stackoverflow.com/a/27891153/58074\">this answer</a> and <a href=\"https://stackoverflow.com/questions/30627467/why-does-installing-numberformat-on-win-64-fail\">this question</a>.  Please edit and improve it.</p>\n\n<p>I'm trying to install a module from CPAN, using the CPAN/cpanm/CPANPLUS client.  However, I'm getting build or test errors when I try to install it.  What should I do?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 2, "creation_date": 1433869811, "post_id": 30738537, "comment_id": 49533137, "body": "Hello, please consider reading <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433872391, "post_id": 30738537, "comment_id": 49534578, "body": "Does your variable contain all three of the repeated sections shown in your screenshot, or only one of them? (I assume all three, since you&#39;re asking how to split them up, but just want to make sure, since your example code only shows a single title and tabbed paragraph.) How do you set the value of the variable in the first place?"}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433872841, "post_id": 30738537, "comment_id": 49534849, "body": "As per your figure each paragraph has same text and title. Also please provide more detail in your question. Give what you have tried so far (code) and also give some text here in question instead in picture."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433875819, "post_id": 30738537, "comment_id": 49536725, "body": "I don&#39;t see how the text marked <i>Example</i> is &quot;of the format&quot; shown in the first block"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3893677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0e8601bb5eaded3d25469d459b96f3?s=128&d=identicon&r=PG&f=1", "display_name": "user3893677", "link": "https://stackoverflow.com/users/3893677/user3893677"}, "is_accepted": false, "score": -2, "last_activity_date": 1433874971, "creation_date": 1433874971, "answer_id": 30740135, "question_id": 30738537, "link": "https://stackoverflow.com/questions/30738537/regex-extracting-paragraph-including-tab-and-new-line-delimeters/30740135#30740135", "title": "Regex extracting paragraph including tab and new line delimeters", "body": "<p>To answer my own question, I used:</p>\n\n<pre><code>'\\n(?!\\t)'\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3893677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0e8601bb5eaded3d25469d459b96f3?s=128&d=identicon&r=PG&f=1", "display_name": "user3893677", "link": "https://stackoverflow.com/users/3893677/user3893677"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1433874971, "creation_date": 1433869638, "question_id": 30738537, "link": "https://stackoverflow.com/questions/30738537/regex-extracting-paragraph-including-tab-and-new-line-delimeters", "title": "Regex extracting paragraph including tab and new line delimeters", "body": "<p>I have a string which contains text of the format:</p>\n\n<pre><code> $textOne\\n;\n \\t$textTwo\\n;\n</code></pre>\n\n<p>Example: </p>\n\n<pre><code>$textOne = Lorem Ipsum\n$textTwo = is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make \n\nOutput is in the picture.\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/NfoJA.png\" rel=\"nofollow\">http://i.stack.imgur.com/NfoJA.png</a></p>\n\n<p>This is all one string. I want to break up each section (Title and tabbed paragraph) into it's own element and have these all in an array. I'm having trouble figuring out exactly what regex pattern to use to find this element. If I broke on new line characters, that would give the title and paragraph separately which is not desired.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1433863358, "post_id": 30736070, "comment_id": 49528672, "body": "You have to define <code>&quot;any other header&quot;</code> and <code>plus lines</code> .. Continuity, etc ..."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "edited": false, "score": 0, "creation_date": 1433863671, "post_id": 30736213, "comment_id": 49528924, "body": "The pointed I tried expression similar to yours but it doesn&#39;t work. How I could match group many times like <code>(\\+\\s+(.*))</code>. I want to match this repeated capture group as it repeated many times. I tried to add <code>*</code> at end of expression as you did but I got none at the output. what do you think?"}], "tags": [], "owner": {"reputation": 12281, "user_id": 1322268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfWtq.jpg?s=128&g=1", "display_name": "shawnt00", "link": "https://stackoverflow.com/users/1322268/shawnt00"}, "is_accepted": true, "score": 1, "last_activity_date": 1433863105, "creation_date": 1433863105, "answer_id": 30736213, "question_id": 30736070, "link": "https://stackoverflow.com/questions/30736070/perl-regex-capture-group-multiple-times/30736213#30736213", "title": "Perl: RegEX: Capture group multiple times", "body": "<p>Perhaps this is closer to what you need.</p>\n\n<pre><code>m/\\.SUBCKT\\s+SVI\\s(.*)\\n(\\+\\s+(.*)\\n)*/gm\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "is_accepted": false, "score": 0, "last_activity_date": 1433910433, "last_edit_date": 1433910433, "creation_date": 1433864163, "answer_id": 30736648, "question_id": 30736070, "link": "https://stackoverflow.com/questions/30736070/perl-regex-capture-group-multiple-times/30736648#30736648", "title": "Perl: RegEX: Capture group multiple times", "body": "<p>I made use of @shawnt00 answer and modified the regular expression and it made the job. </p>\n\n<pre><code>\\.SUBCKT\\s+SVI_TRX201TH\\s(.*\\n(\\+\\s+.*\\n)*)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1433865037, "creation_date": 1433865037, "answer_id": 30736973, "question_id": 30736070, "link": "https://stackoverflow.com/questions/30736070/perl-regex-capture-group-multiple-times/30736973#30736973", "title": "Perl: RegEX: Capture group multiple times", "body": "<p>Does this do what you want? Note that it stops at the <code>.....</code> because it doesn't begin with a <code>+</code> or <code>.SUBCKT</code></p>\n\n<p>It won't handle the case where a range of <code>+</code> lines is immediately followed by another <code>.SUBCKT</code> line; is that a problem?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( &lt;DATA&gt; ) {\n  next unless my $in_range = s/^\\.SUBCKT\\s+// ... /^[^+]/;\n  next if $in_range =~ /E/;\n\n  s/^\\S+\\s+//;\n  print;\n}\n\n__DATA__\n&lt;DATA&gt;\n.SUBCKT SVI A B C D E F\n+ G H I\n+ J K L\n.....\n+ X Y Z\n*.PININFO AA BB CC\n*.PININFO DD EE FF\n&lt;DATA&gt;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>A B C D E F\nG H I\nJ K L\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Here's a state machine version that deals with the special case described above</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $state;\n\nwhile ( &lt;DATA&gt; ) {\n\n  if ( /^\\.SUBCKT\\s+\\S+\\s+(.+)/ ) {\n    $state = 1;\n    print $1, \"\\n\";\n  }\n  elsif ( /^\\+\\s+(.+)/ ) {\n    print $1, \"\\n\" if $state;\n  }\n  else {\n    $state = 0;\n  }\n}\n\n__DATA__\n&lt;DATA&gt;\n.SUBCKT SVI A B C D E F\n+ G H I\n+ J K L\n.SUBCKT SVI A B C D E F\n+ M N O\n+ P Q R\n*.PININFO AA BB CC\n*.PININFO DD EE FF\n&lt;DATA&gt;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>A B C D E F\nG H I\nJ K L\nA B C D E F\nM N O\nP Q R\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "accepted_answer_id": 30736213, "answer_count": 3, "score": 0, "last_activity_date": 1433910433, "creation_date": 1433862778, "last_edit_date": 1433863728, "question_id": 30736070, "link": "https://stackoverflow.com/questions/30736070/perl-regex-capture-group-multiple-times", "title": "Perl: RegEX: Capture group multiple times", "body": "<p>I'm developing a piece of code to filter a text as follows:</p>\n\n<pre><code>    &lt;DATA&gt;\n    .SUBCKT SVI A B C D E F\n    + G H I\n    + J K L\n    .....\n    + X Y Z\n    *.PININFO AA BB CC\n    *.PININFO DD EE FF\n    &lt;DATA&gt;\n</code></pre>\n\n<p>I need the output to be </p>\n\n<pre><code>    A B C D E F\n    G H I\n    J K L\n    .....\n    X Y Z\n</code></pre>\n\n<p>I already made a regular expression to do so:</p>\n\n<pre><code>m/\\.SUBCKT\\s+SVI\\s(.*)|\\+(.*)/gm\n</code></pre>\n\n<p>The problem is that I have many similar sections like this input but I only need to detect <code>+</code> lines which are following <code>.SUBCKT SVI</code> header not any other header. </p>\n\n<p>How I could match group many times like <code>(\\+\\s+(.*))</code>. I want to match this repeated capture group as it repeated many times.</p>\n\n<p>Any advice to get this expression.</p>\n"}, {"tags": ["perl", "google-authentication"], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1436175866, "post_id": 31213893, "comment_id": 50482737, "body": "Worked &quot;right out of the box&quot; (except of course substituting the client-ID and the client_secret). Thanks @ELNJ!"}], "tags": [], "owner": {"reputation": 247, "user_id": 2574196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z9wOZ.jpg?s=128&g=1", "display_name": "ELNJ", "link": "https://stackoverflow.com/users/2574196/elnj"}, "is_accepted": true, "score": 5, "last_activity_date": 1598215986, "last_edit_date": 1598215986, "creation_date": 1435955682, "answer_id": 31213893, "question_id": 30735920, "link": "https://stackoverflow.com/questions/30735920/authenticating-in-a-google-sheets-application/31213893#31213893", "title": "Authenticating in a Google sheets application", "body": "<p>I had to go through this too, without knowing much at the start, so I'm happy to help explain it.  Here are the answers, but feel free to ask for clarification.  Basically, you need to first run a script that requires manual intervention - this lets you obtain an access token from Google, which your batch-like script can then use over and over without human intervention.   So you have to jump through some hoops at the start, but once that's done, you're all set.  So:</p>\n<ol>\n<li>Choose &quot;web application&quot;.  Not intuitive, but it will work.</li>\n</ol>\n<p>1b. You'll be asked to configure a &quot;consent screen&quot;.  Doesn't really matter what you put here - just give the project a title.</p>\n<p>1c.  For &quot;redirect uri&quot;, delete the provided &quot;example.com&quot; value and enter &quot;https://developers.google.com/oauthplayground&quot;.</p>\n<p>Ignore the JSON and P12 keys; they are for other types of applications.  Once you fill in the above info and click &quot;Create Client ID&quot;, you'll get a page (after a pause) that displays a client ID and client secret.  Those are the two strings you'll need in the code below.</p>\n<p>The code below is essentially the same solution that you linked to above (and I relied heavily on it), but I've edited it to change a few things, primarily to give more information about what's going on.  Once you have added your client ID and client secret to the code below, run it.  Then you'll go through these steps:</p>\n<ol>\n<li>Copy the URL that the script prints out, and paste it in a browser.</li>\n<li>Log into Google if it asks you to.  Then click &quot;allow access&quot; on the next page.</li>\n<li>On the following page in the browser, there will be a box toward the left labeled &quot;Authorization code&quot;.  (Like this: <a href=\"https://members.orcid.org/sites/default/files/image06.png\" rel=\"nofollow noreferrer\">https://members.orcid.org/sites/default/files/image06.png</a> but your auth code will be longer.) <em>Don't</em> click the button below the code, but do copy that string, being sure to get the whole thing (which may stretch out of sight in the dialog box).</li>\n<li>Go back to the terminal where you ran the script, and paste in the code you've copied.</li>\n</ol>\n<p>If all goes well, the script will exchange that code for an access token, and save the token on disk.  Then your batch script can use that token repeatedly.</p>\n<p>Here's the expanded code to do all of this:</p>\n<pre><code>#!/usr/bin/perl\n\n# Code to get a web-based token that can be stored \n# and used later to authorize our spreadsheet access. \n\n# Based on code from https://gist.github.com/hexaddikt/6738162\n\n#-------------------------------------------------------------------\n\n# To use this code:\n\n# 1. Edit the lines below to put in your own\n#    client_id and client_secret from Google. \n# 2. Run this script and follow the directions on \n#    the screen, which will give step you \n#    through the following steps:\n# 3. Copy the URL printed out, and paste \n#    the URL in a browser to load the page. \n# 4. On the resulting page, click OK (possibly\n#    after being asked to log in to your Google \n#    account). \n# 5. You will be redirected to a page that provides \n#    a code that you should copy and paste back into the \n#    terminal window, so this script can exchange it for\n#    an access token from Google, and store the token.  \n#    That will be the token the other spreadsheet access\n#    code can use. \n\n\nuse Net::Google::DataAPI::Auth::OAuth2;\nuse Net::Google::Spreadsheets;\nuse Storable; #to save and restore token for future use\nuse Term::Prompt;\n\n# Provide the filename in which we will store the access \n# token.  This file will also need to be readable by the \n# other script that accesses the spreadsheet and parses\n# the contents. \n\nmy $session_filename = &quot;stored_google_access.session&quot;;\n\n\n# Code for accessing your Google account.  The required client_id\n# and client_secret can be found in your Google Developer's console \n# page, as described in the detailed instruction document.  This \n# block of code will also need to appear in the other script that\n# accesses the spreadsheet. \n\n# Be sure to edit the lines below to fill in your correct client \n# id and client secret!\nmy $oauth2 = Net::Google::DataAPI::Auth::OAuth2-&gt;new(\n    client_id =&gt; 'your_client_id.apps.googleusercontent.com',\n    client_secret =&gt; 'your_client_secret',\n    scope =&gt; ['http://spreadsheets.google.com/feeds/'],\n    redirect_uri =&gt; 'https://developers.google.com/oauthplayground',\n                             );\n# We need to set these parameters this way in order to ensure \n# that we get not only an access token, but also a refresh token\n# that can be used to update it as needed. \nmy $url = $oauth2-&gt;authorize_url(access_type =&gt; 'offline',\n                 approval_prompt =&gt; 'force');\n\n# Give the user instructions on what to do:\nprint &lt;&lt;END\n\nThe following URL can be used to obtain an access token from\nGoogle.  \n\n1. Copy the URL and paste it into a browser.  \n\n2.  You may be asked to log into your Google account if you \nwere not logged in already in that browser.  If so, go \nahead and log in to whatever account you want to have \naccess to the Google doc. \n\n3. On the next page, click &quot;Accept&quot; when asked to grant access. \n\n4.  You will then be redirected to a page with a box in the \nleft-hand column labeled  &quot;Authorization code&quot;.  \nCopy the code in that box and come back here. \n\nHere is the URL to paste in your browser to get the code:\n\n$url\n\nEND\n    ;\n\n# Here is where we get the code from the user:\nmy $code = prompt('x', 'Paste the code obtained at the above URL here: ', '', ''); \n\n# Exchange the code for an access token:\nmy $token = $oauth2-&gt;get_access_token($code) or die;\n\n# If we get to here, it worked!  Report success: \nprint &quot;\\nToken obtained successfully!\\n&quot;;\nprint &quot;Here are the token contents (just FYI):\\n\\n&quot;;\nprint $token-&gt;to_string, &quot;\\n&quot;;\n\n# Save the token for future use:\nmy $session = $token-&gt;session_freeze;\nstore($session, $session_filename);\n\nprint &lt;&lt;END2\n\nToken successfully stored in file $session_filename.\n\nUse that filename in your spreadsheet-access script to \nload the token as needed for access to the spreadsheet data. \n\nEND2\n    ;\n</code></pre>\n<p>Once you've gotten that working and have the token stored on disk, then the beginning of your batch script can set up the spreadsheet access like this:</p>\n<pre><code>use Net::Google::Spreadsheets;\nuse Net::Google::DataAPI::Auth::OAuth2;\nuse Net::OAuth2::AccessToken;\nuse Storable;\n\n# Authentication code based on example from gist at \n#  https://gist.github.com/hexaddikt/6738247\n\n# Get the token that we saved previously in order to authenticate:\nmy $session_filename = &quot;stored_google_access.session&quot;;\n\n\n# Be sure to edit the lines below to fill in your correct client \n# id and client secret!\nmy $oauth2 = Net::Google::DataAPI::Auth::OAuth2-&gt;new(\n    client_id =&gt; 'your_client_id.apps.googleusercontent.com',\n    client_secret =&gt; 'your_client_secret',\n    scope =&gt; ['http://spreadsheets.google.com/feeds/'],\n    redirect_uri =&gt; 'https://developers.google.com/oauthplayground',\n                             );\n\n# Deserialize the file so we can thaw the session and reuse the refresh token\nmy $session = retrieve($sessionfile);\n\nmy $restored_token = Net::OAuth2::AccessToken-&gt;session_thaw($session,\n                                auto_refresh =&gt; 1,\n                                profile =&gt; $oauth2-&gt;oauth2_webserver,\n                                );\n\n$oauth2-&gt;access_token($restored_token);\n# Now we can use this token to access the spreadsheets \n# in our account:\nmy $service = Net::Google::Spreadsheets-&gt;new(\n                         auth =&gt; $oauth2);\n    \n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2427, "favorite_count": 1, "accepted_answer_id": 31213893, "answer_count": 1, "score": 2, "last_activity_date": 1598215986, "creation_date": 1433862362, "last_edit_date": 1495540379, "question_id": 30735920, "link": "https://stackoverflow.com/questions/30735920/authenticating-in-a-google-sheets-application", "title": "Authenticating in a Google sheets application", "body": "<p>I have a batch-like application which is periodically invoked by a scheduler, no human user involved. It uses the Perl <a href=\"http://metacpan.org/pod/Net::Google::Spreadsheets\" rel=\"nofollow noreferrer\">Net::Google::Spreadsheets</a> package to update some cells in a Google-sheets spreadsheet, by data fetched from a database.</p>\n\n<p>For a long time it was simple to authenticate itself by just providing a username and a password to the 'new' method of the package. But as of lately, Google require us to authenticate using the OAuth2 protocol.</p>\n\n<p><a href=\"https://stackoverflow.com/users/4943604/j-t\">J.T.</a> provided <a href=\"https://stackoverflow.com/questions/30476405/netgoogleauthsub-login-failed-with-new-google-drive-version\">a solution</a> that I am sure is very helpful to many people more knowledgeable than I am. I will appreciate however if somebody could answer some questions to clarify it, as follows:</p>\n\n<ol>\n<li><p>Creating credentials: once you created a project in the Google Developer Console and you are asking to create a new client ID, you are presented with three options:</p>\n\n<ul>\n<li>For a \"Web Application\"  (It then asks to provide an \"Authorized JavaScript origins\" and an \"Authorized redirect URIs\". Are these relevant to my situation?)</li>\n<li>For a \"Service Account\" (I Suspect this is the choice  for me, but without answers to the following questions I can't verify it.)</li>\n<li>For an \"Installed application\" (Can one give examples to such?)</li>\n</ul>\n\n<p>Which one should I choose <em>for may application</em>?</p></li>\n<li><p>Should I asked for a JSON or a P12 key?</p></li>\n<li><p>What do I do with the various types of entities I get? What do I embed in the Perl script?</p></li>\n<li><p>At line 13, J.T commented that \"you will need to put code here and receive a token\". What kind of code?  Doing what?</p></li>\n<li><p>Since there is no human user, I need the application to do the full authentication process by itself. J.T.'s code prompts a user for a 'code'. Is this code one of the \"credentials\" entities? How do I do it?</p></li>\n</ol>\n\n<p>In other words, I need somebody to walk me gently through the whole process, step by small step.</p>\n\n<p>Thanks folks!</p>\n\n<p>MeirG</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1433860671, "post_id": 30735108, "comment_id": 49526587, "body": "Like i said i already installed the DBI module"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 6, "creation_date": 1433860833, "post_id": 30735108, "comment_id": 49526741, "body": "Perl disagrees."}, {"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1433860920, "post_id": 30735108, "comment_id": 49526812, "body": "Is the module installed in a different directory?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1433860947, "post_id": 30735108, "comment_id": 49526838, "body": "Why do you have a <code>.pm</code> file listed directly in <code>@INC</code>? Why do you have <code>&#47;5.20&#47;</code> and <code>&#47;5.20.1&#47;</code> in <code>@INC</code>? Did you install DBI for Perl 5.20, upgrade to 5.20.1 and then try to hack the old DBI.pm into your <code>@INC</code> install of just installing it properly for the new perl?"}, {"owner": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1433861005, "post_id": 30735108, "comment_id": 49526891, "body": "I have no idea @Quentin ... ! i installed DBI with cpan and the command line install DBI"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1433861211, "post_id": 30735108, "comment_id": 49527052, "body": "I&#39;d guess you installed DBI for a different perl and the weird entry .pm in @INC is you trying to work around that; don&#39;t do that.  Do <code>perlbrew use perl-5.20.1; cpan DBI</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433861734, "post_id": 30735440, "comment_id": 49527466, "body": "for the last perl -MDBI -e1, it&#39;s the same output as my error"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433861791, "post_id": 30735440, "comment_id": 49527516, "body": "<code>PERL5LIB</code> should be unset, but it&#39;s not causing any harm. Bad paths are simply ignored."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433861845, "post_id": 30735440, "comment_id": 49527558, "body": "Sorry for the million questions, but it&#39;s because everything looks right! One more: <code>find &#47;home&#47;heisenberg&#47;perl5&#47;perlbrew&#47;perls&#47;perl-5.20.1 -name &#39;DBI.pm&#39;</code> It makes no sense that <code>perl</code> running <code>cpan</code> can see it, but the same <code>perl</code> can&#39;t otherwise."}, {"owner": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433861956, "post_id": 30735440, "comment_id": 49527652, "body": "For the find there is no output.. Yeah all looks right but always have this error ^"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433862172, "post_id": 30735440, "comment_id": 49527789, "body": "So it&#39;s not installed, but <code>cpan</code> says it is?!?! I don&#39;t know, but I think you should be able to install it using <code>perl -MCPAN -e&#39;install DBI&#39;</code>"}, {"owner": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433862259, "post_id": 30735440, "comment_id": 49527858, "body": "With this i have the output Reading &#39;/home/heisenberg/.cpan/Metadata&#39;   Database was generated on Tue, 09 Jun 2015 12:17:01 GMT DBI is up to date (1.633)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433862355, "post_id": 30735440, "comment_id": 49527927, "body": "wut? <code>echo &#39;! print &quot;\\n$^X\\n&quot;&#39; | cpan | grep &#47;home</code>"}, {"owner": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433862371, "post_id": 30735440, "comment_id": 49527939, "body": "/home/heisenberg/.cpan     /home/heisenberg/.cpan/.lock /home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/bin/perl"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433862402, "post_id": 30735440, "comment_id": 49527971, "body": "<code>mv ~&#47;.cpan ~&#47;.cpan.bk ; cpan DBI</code> (This renames the directory that contains your CPAN settings and the temporary build directory <code>cpan</code> uses.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433862536, "post_id": 30735440, "comment_id": 49528075, "body": "One last: <code>PERL5LIB= cpan DBI</code>"}, {"owner": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433862561, "post_id": 30735440, "comment_id": 49528097, "body": "Reading &#39;/home/heisenberg/.cpan/Metadata&#39; Database was generated on Tue, 09 Jun 2015 12:17:01 GMT DBI is up to date (1.633)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "edited": false, "score": 0, "creation_date": 1433862613, "post_id": 30735440, "comment_id": 49528117, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/80084/discussion-between-ikegami-and-clement-andraud\">continue this discussion in chat</a>."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1433862702, "post_id": 30735440, "comment_id": 49528186, "body": "In <code>&#47;home&#47;heisenberg&#47;.cpan&#47;build</code> do you see <code>DBI-*</code> directories?  If so, go into one of them and run: <code>&#47;home&#47;heisenberg&#47;perl5&#47;perlbrew&#47;perls&#47;perl-5.20.1&#47;bin&#47;perl Makefile.PL</code> and then <code>make install</code> to force a new manual install.  Where did it put the <code>DBI.pm</code>?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1433864040, "last_edit_date": 1433864040, "creation_date": 1433861190, "answer_id": 30735440, "question_id": 30735108, "link": "https://stackoverflow.com/questions/30735108/cant-locate-dbi-pm-in-inc-with-perl/30735440#30735440", "title": "Can&#39;t locate DBI.pm in @INC with Perl", "body": "<p>You need to install DBI using the <code>perl</code> for which you want available. You said you've already done this, but that's obviously not the case. Normally, you'd do the following, but maybe you have a messed up system</p>\n\n<pre><code>perlbrew use perl-5.20.1\ncpan DBI\n</code></pre>\n\n<p>If that doesn't work, add the output of the following to your question and notify me you've done this by leaving a comment.</p>\n\n<pre><code>perlbrew use perl-5.20.1\ntype perl\ntype cpan\nhead -n 3 \"$( type -p cpan )\"\necho \"o conf\" | cpan | grep arg\nperl -E'say \"$_: $ENV{$_}\" for grep /^PERL/, keys %ENV'\n</code></pre>\n\n<p>PS - Whatever you did to add <code>/usr/lib/x86_64-linux-gnu/perl5/5.20/DBI.pm</code> to <code>@INC</code> is wrong! Get rid of it.</p>\n\n<hr>\n\n<p>The problems were caused by the use <code>su</code>, which would cause the system <code>perl</code> to be used instead of the <code>perlbrew</code>-installed <code>perl</code>.</p>\n"}], "owner": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7069, "favorite_count": 0, "accepted_answer_id": 30735440, "answer_count": 1, "score": -1, "last_activity_date": 1433864040, "creation_date": 1433860397, "last_edit_date": 1433861519, "question_id": 30735108, "link": "https://stackoverflow.com/questions/30735108/cant-locate-dbi-pm-in-inc-with-perl", "title": "Can&#39;t locate DBI.pm in @INC with Perl", "body": "<p>I'm new in Perl, I installed the DBI module but when I try to run my script I get this error:</p>\n\n<pre><code>Can't locate DBI.pm in @INC (you may need to install the DBI module) (@INC contains:\n    /usr/lib/x86_64-linux-gnu/perl5/5.20/DBI.pm\n    /home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/x86_64-linux\n    /home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1\n    /home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/x86_64-linux\n    /home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1\n    .\n    ) at call_request.pl line 12.\n</code></pre>\n\n<p>[Line breaks added for readability]</p>\n\n<p>I know there is another topic with the same subject but no answer. I have no idea what I can do.. ? </p>\n\n<p>I'm on linux (ubutunu)</p>\n\n<p>Thanks for help !</p>\n\n<p>Edit : </p>\n\n<p>Output : </p>\n\n<pre><code>perl est /home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/bin/perl\n\ncpan est /home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/bin/cpan\n\n#!/home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/bin/perl\n    eval 'exec /home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/bin/perl -S $0 ${1+\"$@\"}'\n    if $running_under_some_shell;\n\ngrep arg\n    make_arg           []\n    make_install_arg   []\n    makepl_arg         [INSTALLDIRS=site]\n    mbuild_arg         []\n    mbuild_install_arg []\n    mbuildpl_arg       [--installdirs site]\n\nPERLBREW_PERL: perl-5.20.1\nPERLBREW_VERSION: 0.73\nPERLBREW_ROOT: /home/heisenberg/perl5/perlbrew\nPERLBREW_MANPATH: /home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/man\nPERLBREW_HOME: /home/heisenberg/.perlbrew\nPERLBREW_BASHRC_VERSION: 0.73\nPERLBREW_PATH: /home/heisenberg/perl5/perlbrew/bin:/home/heisenberg/perl5/perlbrew/perls/perl-5.20.1/bin\nPERL5LIB: /usr/lib/x86_64-linux-gnu/perl5/5.20/DBI.pm\n</code></pre>\n"}, {"tags": ["database", "perl", "batch-file"], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": true, "score": 0, "last_activity_date": 1433883771, "creation_date": 1433883771, "answer_id": 30742775, "question_id": 30734890, "link": "https://stackoverflow.com/questions/30734890/referencing-a-schemas-table-batch-perl/30742775#30742775", "title": "Referencing a Schema&#39;s table batch/perl", "body": "<p>First of all, I rarely work outside my default schema and thus rarely ever list the schema name in my SQL statements.  Having said that, there are rare occasions when I do need to access more than one schema and only a single dot is used to separate the schema name from the table name.  I checked both DB2 and Oracle: neither even allow a double dot.  So, unless they are manipulating the SQL in some manner (e.g. maybe the code is processed in a template), SQL statements with a double dot should not work.</p>\n"}, {"tags": [], "owner": {"reputation": 98, "user_id": 4948068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jlc2S.jpg?s=128&g=1", "display_name": "cecukemon", "link": "https://stackoverflow.com/users/4948068/cecukemon"}, "is_accepted": false, "score": 0, "last_activity_date": 1433955573, "creation_date": 1433955573, "answer_id": 30762752, "question_id": 30734890, "link": "https://stackoverflow.com/questions/30734890/referencing-a-schemas-table-batch-perl/30762752#30762752", "title": "Referencing a Schema&#39;s table batch/perl", "body": "<p>MySQL doesn't allow a double dot as separator either; so unless they're preprocessing the SQL in some way as kjpires suggested, this is likely an error. Does the code work?</p>\n"}], "owner": {"reputation": 17, "user_id": 3786182, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5abe5984e35857edafb434c37106bc5?s=128&d=identicon&r=PG&f=1", "display_name": "user3786182", "link": "https://stackoverflow.com/users/3786182/user3786182"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 30742775, "answer_count": 2, "score": 0, "last_activity_date": 1433955573, "creation_date": 1433859899, "question_id": 30734890, "link": "https://stackoverflow.com/questions/30734890/referencing-a-schemas-table-batch-perl", "title": "Referencing a Schema&#39;s table batch/perl", "body": "<p>I just came across this when looking into someone else code.</p>\n\n<p>Say there is this schema called Books that has a table call Genres...whenever this schema and table is being used on a script, such as batch/perl it was originally Books..Genres</p>\n\n<p>question is, should it stay like this or changed to Books.Genres?  and what is the difference?</p>\n"}, {"tags": ["perl", "email", "utf-8"], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 3172948, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2e93cbea6404b437732a718123728d4?s=128&d=identicon&r=PG&f=1", "display_name": "ProfGhost", "link": "https://stackoverflow.com/users/3172948/profghost"}, "edited": false, "score": 0, "creation_date": 1433862243, "post_id": 30735441, "comment_id": 49527850, "body": "Adding both lines changes nothing at all. I just noticed that the mail is shown correctly at outlook.com but not in the preview on my iPhone"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1433862391, "post_id": 30735441, "comment_id": 49527962, "body": "Maybe Microsoft and iPhone don&#39;t go well together. ;)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 347, "user_id": 3172948, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2e93cbea6404b437732a718123728d4?s=128&d=identicon&r=PG&f=1", "display_name": "ProfGhost", "link": "https://stackoverflow.com/users/3172948/profghost"}, "edited": false, "score": 0, "creation_date": 1433862484, "post_id": 30735441, "comment_id": 49528030, "body": "@ProfGhost on a more serious note: did you add the <code>Content-Type</code> header correctly in the params of the <code>E::S-&gt;create</code> or did you put it in front of the mail body? The latter would not work."}, {"owner": {"reputation": 347, "user_id": 3172948, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2e93cbea6404b437732a718123728d4?s=128&d=identicon&r=PG&f=1", "display_name": "ProfGhost", "link": "https://stackoverflow.com/users/3172948/profghost"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1433865523, "post_id": 30735441, "comment_id": 49530380, "body": "@simbabque  put it in the mail body, i will try it in the create."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1433868468, "post_id": 30735441, "comment_id": 49532286, "body": "Add FULL set of MIME headers.  <code>MIME-Version: 1.0</code> <code>Content-Type: text&#47;plain; charset=utf-8</code> <code>Content-Transfer-Encoding: 8bit</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1433861192, "creation_date": 1433861192, "answer_id": 30735441, "question_id": 30734516, "link": "https://stackoverflow.com/questions/30734516/send-utf-8-encoded-mail-with-emailsender/30735441#30735441", "title": "Send UTF-8 encoded mail with Email::Sender", "body": "<p>Yes. Add a <code>Content-Type</code> line to your message:</p>\n\n<pre><code>Content-Type: text/html; charset=UTF-8\n</code></pre>\n\n<p>You may also need to specify your input encoding when reading the mail file:</p>\n\n<pre><code>open ( my $input, \"&lt;:encoding(UTF-8)\", \"Your_File\" ) or die $!; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 347, "user_id": 3172948, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2e93cbea6404b437732a718123728d4?s=128&d=identicon&r=PG&f=1", "display_name": "ProfGhost", "link": "https://stackoverflow.com/users/3172948/profghost"}, "edited": false, "score": 0, "creation_date": 1433936095, "post_id": 30740733, "comment_id": 49563466, "body": "Well, create a simple <code>&#39;mail-content&#39;</code> file, and paste the hexdump in your question then. Is the file really UTF-8 encoded?"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1433876864, "last_edit_date": 1495535216, "creation_date": 1433876864, "answer_id": 30740733, "question_id": 30734516, "link": "https://stackoverflow.com/questions/30734516/send-utf-8-encoded-mail-with-emailsender/30740733#30740733", "title": "Send UTF-8 encoded mail with Email::Sender", "body": "<p>You have</p>\n\n<pre><code>open(my $mailbody, \"&lt;\", \"mail-content\");\n</code></pre>\n\n<p>If the file <code>mail-content</code> contains UTF-8 encoded data, you must open it with the appropriate IO layer:</p>\n\n<pre><code>open my $mailbody, '&lt;:encoding(UTF-8)', 'mail-content'\n    or croak ...;\n</code></pre>\n\n<p>If, in addition, the source code of your script contains UTF-8 strings that will be incorporated in the message, you must have <code>use utf8;</code> in your script.</p>\n\n<p>In addition, if any header fields include UTF-8 encoded strings, you must <a href=\"https://stackoverflow.com/a/11970433/100754\">encode those strings</a> as well.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 9674543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzRWG.jpg?s=128&g=1", "display_name": "DeDry", "link": "https://stackoverflow.com/users/9674543/dedry"}, "is_accepted": false, "score": 0, "last_activity_date": 1582739875, "last_edit_date": 1582739875, "creation_date": 1524225924, "answer_id": 49941277, "question_id": 30734516, "link": "https://stackoverflow.com/questions/30734516/send-utf-8-encoded-mail-with-emailsender/49941277#49941277", "title": "Send UTF-8 encoded mail with Email::Sender", "body": "<p>Just had the same problem and could solve it by adding a   </p>\n\n<pre><code>require Net::SMTP;\n</code></pre>\n\n<p>before using Email::Simple. This seems to be related to a 'workaround' in <code>Email::Sender::Transport::SMTP</code> where it says </p>\n\n<pre><code>utf8::downgrade($next_hunk) if (Net::SMTP-&gt;VERSION || 0) &lt; 3.07;\n</code></pre>\n\n<p>If <code>Net::SMTP</code> is not loaded this resolves to <code>if (0 &lt; 3.07)</code> and causes the downgrade.</p>\n"}], "owner": {"reputation": 347, "user_id": 3172948, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2e93cbea6404b437732a718123728d4?s=128&d=identicon&r=PG&f=1", "display_name": "ProfGhost", "link": "https://stackoverflow.com/users/3172948/profghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2009, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1582739875, "creation_date": 1433858974, "question_id": 30734516, "link": "https://stackoverflow.com/questions/30734516/send-utf-8-encoded-mail-with-emailsender", "title": "Send UTF-8 encoded mail with Email::Sender", "body": "<p>I'm trying to send an mail with Email::Sender which contains umlauts.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Email::Sender::Simple qw(sendmail);\nuse Email::Sender::Transport::SMTP::TLS;\nuse Email::Simple ();\nuse Email::Simple::Creator ();\n\nopen(my $mailbody, \"&lt;\", \"mail-content\");\n\nmy $smtpserver = 'smtp.gmail.com';\nmy $smtpport = 587;\nmy $smtpuser   = 'example@mail.de';\nmy $smtppassword = 'password';\n\nmy $transport = Email::Sender::Transport::SMTP::TLS-&gt;new({\n  host =&gt; $smtpserver,\n  port =&gt; $smtpport,\n  username =&gt; $smtpuser,\n  password =&gt; $smtppassword,\n});\n\nmy $email = Email::Simple-&gt;create(\n  header =&gt; [\n    To      =&gt; 'example@mail.de',\n    From    =&gt; 'example@mail.de',\n    Subject =&gt; 'Mail',\n  ],\n  body =&gt; &lt;$mailbody&gt;,\n);\n\nsendmail($email, { transport =&gt; $transport });\n</code></pre>\n\n<p>The received mail looks like <code>gegr\u00c3\u0152\u00c3t</code> instead of <code>gegr\u00fc\u00dft</code>.<br>\nIs there any way i can specify how the mail is getting encoded in perl?</p>\n"}, {"tags": ["regex", "bash", "perl", "date"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1433859603, "last_edit_date": 1433859603, "creation_date": 1433859050, "answer_id": 30734544, "question_id": 30734410, "link": "https://stackoverflow.com/questions/30734410/define-a-variable-in-bash-or-perl-with-regular-expression/30734544#30734544", "title": "Define a variable in Bash or Perl with regular expression", "body": "<p>That is <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm\" rel=\"nofollow\">JSON</a>. You can parse JSON in perl like so:</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\nuse JSON;\nuse Data::Dumper; \n\nmy $text = '{\"v\":0,\"_id\":\"54ff561168a\",\"time\":\"1421165205\"}';\n\nmy $data = decode_json ( $text );\nprint Dumper $data;\n\nprint $data -&gt; {\"time\"},\"\\n\";\n\n$data -&gt; {\"time\"} = time();\n\n$text = encode_json($data);\n\nprint \"Result:\\n\";\nprint $text;\n</code></pre>\n\n<p>You don't need regular expressions - and indeed, you should actively avoid them, because <code>JSON</code> allows you to format your data with e.g. line feeds/indentation - and is semantically identical. </p>\n\n<p>E.g you could output your example above as:</p>\n\n<pre><code>{\n   \"_id\" : \"54ff561168a\",\n   \"time\" : 1433859139,\n   \"v\" : 0\n}\n</code></pre>\n\n<p>By using:</p>\n\n<pre><code>$text = to_json($data, {pretty =&gt; 1});\n</code></pre>\n\n<p>It means the same thing, but different regular expressions apply thanks to changing whitespace etc.</p>\n\n<p>If you wish to manipulate/reformat your timestamp, I'll refer you to the excellent <a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow\"><code>Time::Piece</code></a> module:</p>\n\n<pre><code>use Time::Piece;\nmy $t = localtime ( $data -&gt; {\"time\"} );\nprint $t;\n</code></pre>\n\n<p>Will give:</p>\n\n<pre><code>Tue Jan 13 16:06:45 2015\n</code></pre>\n\n<p>If you want a specific format:</p>\n\n<pre><code>print $t-&gt;strftime(\"%Y/%m/%d %H:%M:%S\"),\"\\n\";\n</code></pre>\n\n<p>Giving:</p>\n\n<pre><code>2015/01/13 16:06:45\n</code></pre>\n"}], "owner": {"reputation": 461, "user_id": 4890771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-2OOpkrabTUs/AAAAAAAAAAI/AAAAAAAAAXc/yrrbazBIB7o/photo.jpg?sz=128", "display_name": "sinaei", "link": "https://stackoverflow.com/users/4890771/sinaei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 30734544, "answer_count": 1, "score": -2, "last_activity_date": 1433859603, "creation_date": 1433858699, "last_edit_date": 1433859100, "question_id": 30734410, "link": "https://stackoverflow.com/questions/30734410/define-a-variable-in-bash-or-perl-with-regular-expression", "title": "Define a variable in Bash or Perl with regular expression", "body": "<p>I have a file that has some lines like this: </p>\n\n<p><code>{\"v\":0,\"_id\":\"54ff561168a\",\"time\":\"1421165205\"}</code></p>\n\n<p>I want to use bash that read each line and set the value of the time as <code>Variable</code> (t) and replace it with other timestamp using <code>date -d @{$t}</code></p>\n\n<p>Do you know how can I use regular expression for getting the value of time as variable?</p>\n"}, {"tags": ["perl", "poe"], "answers": [{"tags": [], "owner": {"reputation": 1167, "user_id": 2032248, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d472dbfa93dfa948df2f9664622893d?s=128&d=identicon&r=PG&f=1", "display_name": "smartmeta", "link": "https://stackoverflow.com/users/2032248/smartmeta"}, "is_accepted": true, "score": 0, "last_activity_date": 1433859538, "creation_date": 1433859538, "answer_id": 30734749, "question_id": 30734333, "link": "https://stackoverflow.com/questions/30734333/poe-recurring-server-alarms-in-a-custom-poecomponent/30734749#30734749", "title": "POE: recurring server Alarms in a custom POE::Component", "body": "<p>I found one way my self. I added an additional session:</p>\n\n<pre><code>POE::Session-&gt;create(\n  inline_states =&gt; {\n        _start =&gt; sub {\n\n          $_[HEAP]-&gt;{next_alarm_time} = int(time()) + 1;\n          $_[KERNEL]-&gt;alarm(tick =&gt; $_[HEAP]-&gt;{next_alarm_time});\n        },\n\n        tick =&gt; sub {\n          print \"tick at \", time(), \"\\n\";\n          $_[HEAP]-&gt;{next_alarm_time}++;\n          $_[KERNEL]-&gt;alarm(tick =&gt; $_[HEAP]-&gt;{next_alarm_time});\n        },\n  },\n);\n</code></pre>\n\n<p>This way it independent form the <em>POE::Component::Server::TCP</em>. May be there are are other/better ways. </p>\n"}], "owner": {"reputation": 1167, "user_id": 2032248, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1d472dbfa93dfa948df2f9664622893d?s=128&d=identicon&r=PG&f=1", "display_name": "smartmeta", "link": "https://stackoverflow.com/users/2032248/smartmeta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 30734749, "answer_count": 1, "score": 0, "last_activity_date": 1433859538, "creation_date": 1433858523, "question_id": 30734333, "link": "https://stackoverflow.com/questions/30734333/poe-recurring-server-alarms-in-a-custom-poecomponent", "title": "POE: recurring server Alarms in a custom POE::Component", "body": "<p>I'm trying to set up a client-server application with perl POE.</p>\n\n<p>After reading some of the POE documentation on <a href=\"http://search.cpan.org/~rcaputo/POE/\" rel=\"nofollow\">CPAN</a> and trying some of the examples of the <a href=\"http://poe.perl.org/?Poe_cookbook/\" rel=\"nofollow\">cookbook</a>, finaly <a href=\"http://poe.perl.org/?Poe_cookbook/recurring_alarms\" rel=\"nofollow\">reccuring Alarms</a>, I have the following problem:</p>\n\n<p>The events in my custom component are fired inside the (client) session.</p>\n\n<pre><code>package POE::Component::OXO_TCP_Server;\n\nuse strict;\nuse warnings;\nuse POE;\nuse POE::Filter::Reference;\nuse POE::Component::Server::TCP;\n\nsub new {\n    my ($proto, %args) = @_;\n    my $class = ref ($proto) || $proto;\n\n    my $send_up_intervall   = 10;\n    my %default = (\n      Alias         =&gt; \"oxo_tcp_server\",\n      Address       =&gt; \"localhost\",\n      Port          =&gt; 12345,\n      ClientFilter  =&gt; \"POE::Filter::Reference\",\n      ClientInput   =&gt; \\&amp;handle_client_input,\n\n      ClientDisconnected =&gt; sub {\n          $_[KERNEL]-&gt;yield(\"shutdown\");\n      },\n\n      SessionParams =&gt; [ options =&gt; { debug =&gt; 1, trace =&gt; 1 } ],\n\n      InlineStates =&gt; {\n        _start =&gt; sub {\n          $_[HEAP]-&gt;{next_alarm_time} = int(time()) + 1;\n          $_[KERNEL]-&gt;alarm(tick =&gt; $_[HEAP]-&gt;{next_alarm_time});\n        },\n\n        tick =&gt; sub {\n          print \"tick at \", time(), \"\\n\";\n          $_[HEAP]-&gt;{next_alarm_time}++;\n          $_[KERNEL]-&gt;alarm(tick =&gt; $_[HEAP]-&gt;{next_alarm_time});\n        }, \n      }\n    );\n\n    # add \\%args; to \\%default\n    my $self = POE::Component::Server::TCP-&gt;new(%default);\n    return $self;\n}\n\nsub handle_client_input {...}\n\n1;\n</code></pre>\n\n<p>When I send some input to the server the events</p>\n\n<pre><code>=== 8071 === 2 -&gt; tick (from ../lib/POE/Component/OXO_TCP_Server.pm at 65) tick at 1433857644\n...\n</code></pre>\n\n<p>are fired. </p>\n\n<p>But I want them to be fired independent form the client (only by time).</p>\n\n<p>How can I do that? I did not find this in the documentation or the cookbook. </p>\n\n<p>To avoid overloading <em>_start</em> I also tried to inititalize the timer in</p>\n\n<pre><code>Started =&gt; sub {\n  $_[HEAP]-&gt;{next_alarm_time} = int(time()) + 1;\n  $_[KERNEL]-&gt;alarm(tick =&gt; $_[HEAP]-&gt;{next_alarm_time});\n},  \n</code></pre>\n\n<p>at the first view it looks like it is working because the debug says:</p>\n\n<pre><code>=== 8093 === 1 -&gt; tick (from ../lib/POE/Component/OXO_TCP_Server.pm at 47)\n</code></pre>\n\n<p>but it isn't. May be it is still the wrong session. Ideas? </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "http", "google-api", "google-oauth"], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 3751471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c90be57c058861e813b9469729ac063b?s=128&d=identicon&r=PG&f=1", "display_name": "Kostiuk Aleksandr", "link": "https://stackoverflow.com/users/3751471/kostiuk-aleksandr"}, "edited": false, "score": 0, "creation_date": 1433943750, "post_id": 30757687, "comment_id": 49569305, "body": "I know this, but status hangs in the <code>STARTED</code> state."}, {"owner": {"reputation": 11, "user_id": 4995068, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/72973e9424559ae94aa9ac046adb0449?s=128&d=identicon&r=PG", "display_name": "Javier", "link": "https://stackoverflow.com/users/4995068/javier"}, "reply_to_user": {"reputation": 409, "user_id": 3751471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c90be57c058861e813b9469729ac063b?s=128&d=identicon&r=PG&f=1", "display_name": "Kostiuk Aleksandr", "link": "https://stackoverflow.com/users/3751471/kostiuk-aleksandr"}, "edited": false, "score": 0, "creation_date": 1433954152, "post_id": 30757687, "comment_id": 49577094, "body": "Could you please copy&amp;paste the code you use to do the polling?"}], "tags": [], "owner": {"reputation": 11, "user_id": 4995068, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/72973e9424559ae94aa9ac046adb0449?s=128&d=identicon&r=PG", "display_name": "Javier", "link": "https://stackoverflow.com/users/4995068/javier"}, "is_accepted": false, "score": 1, "last_activity_date": 1433942607, "creation_date": 1433942607, "answer_id": 30757687, "question_id": 30733845, "link": "https://stackoverflow.com/questions/30733845/getting-google-contacts-using-shuttlecloud/30757687#30757687", "title": "getting google contacts using shuttlecloud", "body": "<p>in the documentation it says:</p>\n\n<blockquote>\n  <p>This request returns the status of the job and the extracted contacts\n  up to that point in time from the account.</p>\n  \n  <p>The server provides a URL from which the real-time progress can be\n  retrieved.</p>\n</blockquote>\n\n<p>You need to do polling to retrieve the contacts until they are ready. It is quite fast, usually some seconds, but not instant. Try to do the contacts fetch request in a loop waiting 1 second for example between each request and you should obtain all the contacts.</p>\n"}, {"tags": [], "owner": {"reputation": 409, "user_id": 3751471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c90be57c058861e813b9469729ac063b?s=128&d=identicon&r=PG&f=1", "display_name": "Kostiuk Aleksandr", "link": "https://stackoverflow.com/users/3751471/kostiuk-aleksandr"}, "is_accepted": true, "score": 0, "last_activity_date": 1434006408, "last_edit_date": 1495541159, "creation_date": 1434006408, "answer_id": 30773892, "question_id": 30733845, "link": "https://stackoverflow.com/questions/30733845/getting-google-contacts-using-shuttlecloud/30773892#30773892", "title": "getting google contacts using shuttlecloud", "body": "<p>The answer is ridiculous and stupid. I did not know that the API must be activated in the Google console. You can see how to do this <a href=\"https://stackoverflow.com/questions/22870082/getting-error-403-access-not-configured-please-use-google-developers-console-t\">here</a>.</p>\n"}], "owner": {"reputation": 409, "user_id": 3751471, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c90be57c058861e813b9469729ac063b?s=128&d=identicon&r=PG&f=1", "display_name": "Kostiuk Aleksandr", "link": "https://stackoverflow.com/users/3751471/kostiuk-aleksandr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 30773892, "answer_count": 2, "score": 1, "last_activity_date": 1434006408, "creation_date": 1433857509, "last_edit_date": 1433859339, "question_id": 30733845, "link": "https://stackoverflow.com/questions/30733845/getting-google-contacts-using-shuttlecloud", "title": "getting google contacts using shuttlecloud", "body": "<p>I can not get the google user's contacts using shuttlecloud. I did everything according to the shuttlecloud and google documentation. I got a user's contact with shuttlecloud using password-based authentication(mail.ru for example). I create url and put it to browser <code>https://accounts.google.com/o/oauth2/auth?redirect_uri=http://localhost:80&amp;response_type=code&amp;client_id=my_id.apps.googleusercontent.com&amp;scope=https://www.googleapis.com/auth/contacts.readonly&amp;access_type=offline</code></p>\n\n<p>I get the code and copy to script:</p>\n\n<pre><code>my $url = 'https://demo.api.shuttlecloud.com/beta/load';\nmy $auth_url = 'https://demo.api.shuttlecloud.com/beta/auth/capabilities';\nmy $appid = 'my_shuttlecloud_id';\nmy $ts = int(time);\nmy $secret = 'my_shuttlecloud_secret';\nmy $sig = sha256_hex(\"{\".$appid.\":\".$secret.\":\".$ts.\"}\");\nmy $url_tok = 'https://www.googleapis.com/oauth2/v3/token';\nmy $code = '4/GmVQi8AgNzajSo0mTudUBumjHyHhhb9EBxN8ufG6z34.QjE7Q6MjmUweWmFiZwPfH01FreiwmwI';\nmy $id = 'my_google_id';\nmy $sec = 'my_google_secret';\nmy $redirect = 'http://localhost:80';\nmy $grant_type = 'authorization_code';\n\nmy $response = $ua-&gt;request(POST $url_tok,\n       Content_Type =&gt; 'application/x-www-form-urlencoded',\n       Content      =&gt; [ code  =&gt; $code,\n                         redirect_uri =&gt; $redirect,\n                         client_id =&gt; $id,\n                         client_secret =&gt; $sec,\n                         grant_type   =&gt; $grant_type,\n                       ]);\nmy $cod = $response-&gt;content;\nmy $decoded_json = decode_json( $cod );\nmy $token = @{$decoded_json}{'access_token'};\nmy $email = 'my_google_email@gmail.com';\nmy $data = '{\n    \"contactsextraction\": {\n        \"sourceaccount\": {\n            \"userid\": {\n                        \"email\": \"'.$email.'\"\n            },\n            \"auth\": {\n            \"3loauth\": \"'.$token.'\"\n            }\n        }\n    }\n}';\n\n$url = $url.\"?appid=\".$appid.\"&amp;ts=\".$ts.\"&amp;sig=\".$sig;\nmy $req = HTTP::Request-&gt;new(POST =&gt; $url);\n$req-&gt;content($data);\nmy $resp = $ua-&gt;request($req);\nmy $message;\nif ($resp-&gt;is_success) {\n    $message = $resp-&gt;decoded_content;\n}\nelse {\n    print \"error code: \", $resp-&gt;code, \"\\n\";\n    print \"error message: \", $resp-&gt;message, \"\\n\";\n}\n$decoded_json = decode_json( $message );\nmy $ft_url = @{$decoded_json}{'fetchurl'};\n$ft_url = $ft_url.\"?appid=\".$appid.\"&amp;ts=\".$ts.\"&amp;sig=\".$sig;\nsleep 5;\n$req = HTTP::Request-&gt;new(GET =&gt; $ft_url);\n$resp = $ua-&gt;request($req);\nif ($resp-&gt;is_success) {\n    $message = $resp-&gt;decoded_content;\n}\nelse {\n    print \"error code: \", $resp-&gt;code, \"\\n\";\n    print \"error message: \", $resp-&gt;message, \"\\n\";\n}\n$decoded_json = decode_json( $message );\nprint Dumper ($decoded_json);\n</code></pre>\n\n<p>I receive from shuttlecloud json: <code>'status' =&gt; 'STARTED'</code> without contacts.\nWhen i create token using <code>OAuth 2.0 Playground</code> and paste to script - all works. Following from this, i do not correctly create access token, but can not understand what I'm doing wrong.</p>\n"}, {"tags": ["perl", "upload", "ftp"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1433854316, "post_id": 30732502, "comment_id": 49521250, "body": "Looks like the file on local system has zero byte <code>&#47;home&#47;file.txt (0 bytes).</code> Are you sure that is the correct file?"}, {"owner": {"reputation": 779, "user_id": 2192923, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ae3f9f93df9ae60d57654e128af240d8?s=128&d=identicon&r=PG", "display_name": "WolfyD", "link": "https://stackoverflow.com/users/2192923/wolfyd"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1433854415, "post_id": 30732502, "comment_id": 49521333, "body": "@Jens It is 7770 Bytes long actually, it contains CSV data"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1433854468, "post_id": 30732502, "comment_id": 49521379, "body": "You are looking on the same file?"}, {"owner": {"reputation": 779, "user_id": 2192923, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ae3f9f93df9ae60d57654e128af240d8?s=128&d=identicon&r=PG", "display_name": "WolfyD", "link": "https://stackoverflow.com/users/2192923/wolfyd"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1433854565, "post_id": 30732502, "comment_id": 49521455, "body": "@Jens I could upload a picture if you wish, but in my Perl script I create a file containing data, and in the same script i try and upload it to FTP. But I&#39;ll add some more code so you can see."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 3, "creation_date": 1433854661, "post_id": 30732502, "comment_id": 49521551, "body": "If you created it in the same script make sure you have closed the file before transfer it."}, {"owner": {"reputation": 779, "user_id": 2192923, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ae3f9f93df9ae60d57654e128af240d8?s=128&d=identicon&r=PG", "display_name": "WolfyD", "link": "https://stackoverflow.com/users/2192923/wolfyd"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1433854807, "post_id": 30732502, "comment_id": 49521671, "body": "@Jens You are a genious my good Sir! Thank you! That did in fact help."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 2, "creation_date": 1433854953, "post_id": 30732502, "comment_id": 49521796, "body": "I am not a genious. I made the same error many times before."}], "answers": [{"tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 1, "last_activity_date": 1433855047, "creation_date": 1433855047, "answer_id": 30732837, "question_id": 30732502, "link": "https://stackoverflow.com/questions/30732502/perl-ftp-uploading-empty-file-to-server/30732837#30732837", "title": "Perl FTP uploading empty file to server", "body": "<p>You have to close the strem befor transfer it to the remote host:</p>\n\n<pre><code>open(DATA, \"&gt;$file\") || die(print(\"I cannot save to the file [$file]\"));\n\n        print(\"Created file [$file]\\r\\nWriting data to file. Please be patient...\");\n        foreach(@file){\n                print DATA $_ . \"\\r\\n\";\n                $indexer++;\n                print \".\\b\";\n        }\n close(DATA);\n</code></pre>\n"}], "owner": {"reputation": 779, "user_id": 2192923, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ae3f9f93df9ae60d57654e128af240d8?s=128&d=identicon&r=PG", "display_name": "WolfyD", "link": "https://stackoverflow.com/users/2192923/wolfyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 756, "favorite_count": 0, "accepted_answer_id": 30732837, "answer_count": 1, "score": 0, "last_activity_date": 1433855047, "creation_date": 1433854153, "last_edit_date": 1433854603, "question_id": 30732502, "link": "https://stackoverflow.com/questions/30732502/perl-ftp-uploading-empty-file-to-server", "title": "Perl FTP uploading empty file to server", "body": "<p>I have to upload a file to a Debian server using Perl and FTP. I tried <code>$ftp-&gt;put</code> which gave me no errors but uploaded only an empty file (or created one), and <code>$ftp-&gt;copy</code> which gave me some weird message, I guess is an error and again, an empty file.</p>\n\n<p>My file is located in <code>/home/upload</code></p>\n\n<p>Debug from put:</p>\n\n<pre><code>Upload file to FTP? (y/n): y\nNet::FTP&gt;&gt;&gt; Net::FTP(2.77)\nNet::FTP&gt;&gt;&gt;   Exporter(5.64_03)\nNet::FTP&gt;&gt;&gt;   Net::Cmd(2.29)\nNet::FTP&gt;&gt;&gt;   IO::Socket::INET(1.31)\nNet::FTP&gt;&gt;&gt;     IO::Socket(1.32)\nNet::FTP&gt;&gt;&gt;       IO::Handle(1.31)\nNet::FTP=GLOB(0xa7bdf30)&lt;&lt;&lt; 220 (vsFTPd 2.3.5)\nNet::FTP=GLOB(0xa7bdf30)&gt;&gt;&gt; USER upload\nNet::FTP=GLOB(0xa7bdf30)&lt;&lt;&lt; 331 Please specify the password.\nNet::FTP=GLOB(0xa7bdf30)&gt;&gt;&gt; PASS ....\nNet::FTP=GLOB(0xa7bdf30)&lt;&lt;&lt; 230 Login successful.\nNet::FTP=GLOB(0xa7bdf30)&gt;&gt;&gt; CWD /home/upload/uploaded/\nNet::FTP=GLOB(0xa7bdf30)&lt;&lt;&lt; 250 Directory successfully changed.\nNet::FTP=GLOB(0xa7bdf30)&gt;&gt;&gt; PORT 127,0,0,1,212,114\nNet::FTP=GLOB(0xa7bdf30)&lt;&lt;&lt; 200 PORT command successful. Consider using PASV.\nNet::FTP=GLOB(0xa7bdf30)&gt;&gt;&gt; STOR file.txt\nNet::FTP=GLOB(0xa7bdf30)&lt;&lt;&lt; 150 Ok to send data.\nNet::FTP=GLOB(0xa7bdf30)&lt;&lt;&lt; 226 Transfer complete.\n</code></pre>\n\n<p>Debug from copy:</p>\n\n<pre><code>Upload file to FTP? (y/n): y\nNet::FTP&gt;&gt;&gt; Net::FTP(2.77)\nNet::FTP&gt;&gt;&gt;   Exporter(5.64_03)\nNet::FTP&gt;&gt;&gt;   Net::Cmd(2.29)\nNet::FTP&gt;&gt;&gt;   IO::Socket::INET(1.31)\nNet::FTP&gt;&gt;&gt;     IO::Socket(1.32)\nNet::FTP&gt;&gt;&gt;       IO::Handle(1.31)\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 220 (vsFTPd 2.3.5)\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; USER upload\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 331 Please specify the password.\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; PASS ....\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 230 Login successful.\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; CWD /home/upload/uploaded/\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 250 Directory successfully changed.\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; PWD\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 257 \"/home/upload/uploaded\"\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; HELP SIZE\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 214-The following commands are recognized.\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt;  ABOR ACCT ALLO APPE CDUP CWD  DELE EPRT EPSV FEAT HELP LIST MDTM MKD\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt;  MODE NLST NOOP OPTS PASS PASV PORT PWD  QUIT REIN REST RETR RMD  RNFR\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt;  RNTO SITE SIZE SMNT STAT STOR STOU STRU SYST TYPE USER XCUP XCWD XMKD\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt;  XPWD XRMD\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 214 Help OK.\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; SIZE /home/file.txt\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 213 0\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; PWD\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 257 \"/home/upload/uploaded\"\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; CWD /home/file.txt\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 550 Failed to change directory.\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; CWD /home/upload/uploaded\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 250 Directory successfully changed.\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; PWD\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 257 \"/home/upload/uploaded\"\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; PORT 127,0,0,1,161,36\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 200 PORT command successful. Consider using PASV.\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; RETR /home/file.txt\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 150 Opening BINARY mode data connection for /home/file.txt (0 bytes).\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 226 Transfer complete.\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; PORT 127,0,0,1,233,200\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 200 PORT command successful. Consider using PASV.\nNet::FTP=GLOB(0x9f45f48)&gt;&gt;&gt; STOR copied.txt\nNet::FTP=GLOB(0x9f45f48)&lt;&lt;&lt; 150 Ok to send data.\nwrite($buf,$size,[$timeout]) at /usr/local/share/perl/5.14.2/Net/FTP/File.pm line 128\n</code></pre>\n\n<p>Relevant code:</p>\n\n<pre><code>sub write_file(){\n    my $file = $savefile;\n    if($file ne \"\" &amp;&amp; $file ne \"\\n\"){\n            open(DATA, \"&gt;$file\") || die(print(\"I cannot save to the file [$file]\"));\n            print(\"Created file [$file]\\r\\nWriting data to file. Please be patient...\");\n            foreach(@file){\n                    print DATA $_ . \"\\r\\n\";\n                    $indexer++;\n                    print \".\\b\";\n            }\n\n            print(\"\\r\\n\\r\\nFinished! $indexer lines written to file.\\r\\n\");\n\n            print(\"Upload file to FTP? (y/n): \");\n            my $yn = &lt;STDIN&gt;;\n            if(lc($yn) eq \"y\\n\"){\n                    my $ftp = Net::FTP-&gt;new(\"127.0.0.1\",Timeout=&gt;250, Debug =&gt; 1) or die \"Cannot connect to 127.0.0.1: $@\";\n                    $ftp-&gt;login(\"upload\",'ftp') or die \"Cannot login \", $ftp-&gt;message;\n                    my $file_to_put = $file;\n                    my $dir = \"/home/upload/uploaded/\";\n                    $ftp-&gt;cwd($dir) or die \"Can't cwd to $dir\\n\";\n\n\n                    #$ftp-&gt;put($file_to_put) or die \"Can't put $file into $dir\\n\";\n                    #if (! $ftp-&gt;put($file_to_put)) {\n                    if (! $ftp-&gt;copy($file_to_put, \"copied.txt\", 1000)) {\n                            my $ftp_message = $ftp-&gt;message;\n                            chomp($ftp_message);\n                            print \"[Error] UNABLE TO PUT FILE $file_to_put- [$ftp_message]\\n\";\n                    }\n\n                    #$ftp-&gt;quit;\n            }\n    }\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1433852521, "post_id": 30731917, "comment_id": 49519853, "body": "What internal server error does it generate? You&#39;ll need to look in your log files because the specifics of internal server errors are not reported to clients."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1433852576, "post_id": 30731917, "comment_id": 49519891, "body": "<a href=\"http://perldoc.perl.org/perlfaq1.html#What&#39;s-the-difference-between-%22perl%22-and-%22Perl%22%3f\" rel=\"nofollow noreferrer\">perldoc.perl.org/&hellip;</a>"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 3, "creation_date": 1433852701, "post_id": 30731917, "comment_id": 49519987, "body": "You have installed the module <code>UUID::Generator::PurePerl</code>?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1433853787, "post_id": 30731917, "comment_id": 49520850, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/18628244/how-we-can-create-a-unique-id-in-perl\">How we can create a Unique Id in Perl</a>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1433855495, "post_id": 30731917, "comment_id": 49522231, "body": "Does the error start with this: <code>Can&#39;t locate UUID&#47;Generator&#47;PurePerl.pm in @INC</code>? If so, do this: <code>perl -MCPAN -e &#39;install UUID::Generator::PurePerl&#39;</code> at the command line. If not, and &quot;Internal server error&quot; is literally your error, we need more info, such as whether this is a web GUI, along with any error log entries surrounding the running of the code."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1433863730, "post_id": 30731917, "comment_id": 49528967, "body": "By <code>6 characters</code> do you mean <code>0</code> through <code>9</code> and <code>A</code> through <code>F</code> (i.e. hexadecimal) or do you mean only six digits?  If the latter (i.e. 6 digits), you only have a million unique numbers: I&#39;d just start with <code>000000</code> then <code>000001</code> then ... until <code>999999</code> (which is where you have to stop) and if necessary save the number to a file and read it back in when you need the next one."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 2, "last_activity_date": 1433855587, "creation_date": 1433855587, "answer_id": 30733043, "question_id": 30731917, "link": "https://stackoverflow.com/questions/30731917/generate-a-unique-id-in-perl/30733043#30733043", "title": "Generate a unique Id in Perl", "body": "<p>A <a href=\"http://en.wikipedia.org/wiki/UUID\" rel=\"nofollow\">UUID</a> is a special form of unique identifier; any UUID-generating module is unlikely to support creating an identifier in the form you want.</p>\n\n<p>I'm not certain what \"6 characters and only numbers\" means; if you mean 6 digits, just something like this:</p>\n\n<pre><code>my $id = join '', map int rand 10, 1..6;\n</code></pre>\n\n<p>But to make it unique, you'd need to be able to check that it isn't already in use, and you haven't told us anything about how you are using it.</p>\n"}], "owner": {"reputation": 8301, "user_id": 1474334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nRHIW.jpg?s=128&g=1", "display_name": "Cl&#233;ment Andraud", "link": "https://stackoverflow.com/users/1474334/cl%c3%a9ment-andraud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1075, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433855587, "creation_date": 1433852462, "last_edit_date": 1433853153, "question_id": 30731917, "link": "https://stackoverflow.com/questions/30731917/generate-a-unique-id-in-perl", "title": "Generate a unique Id in Perl", "body": "<p>I'm new to Perl, and I need to generate a unique ID with 6 characters and only numbers, is there a way to do that simply?</p>\n\n<p>I found :</p>\n\n<pre><code>use UUID::Generator::PurePerl;\n\nsub create_search_id {\n    my $this =shift;\n    my $args=shift;\n    my $ug = UUID::Generator::PurePerl-&gt;new();\n    my $uuid1 = $ug-&gt;generate_v1();\n    return $uuid1;\n}\n</code></pre>\n\n<p>But the <code>use</code> statement generates an internal server error... Thanks !</p>\n"}, {"tags": ["perl", "find"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1433848662, "post_id": 30730079, "comment_id": 49517093, "body": "What have you tried? What problems are you having? Please show your code and any error messages"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1433849167, "post_id": 30730079, "comment_id": 49517453, "body": "<a href=\"http://search.cpan.org/~podmaster/HTML-LinkExtractor-0.13/LinkExtractor.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~podmaster/HTML-LinkExtractor-0.13/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": -1, "last_activity_date": 1433860552, "last_edit_date": 1433860552, "creation_date": 1433850404, "answer_id": 30731108, "question_id": 30730079, "link": "https://stackoverflow.com/questions/30730079/how-to-find-strings-between-two-specified-texts/30731108#30731108", "title": "How to find strings between two specified texts", "body": "<p>This is not the right way to parse an HTML file but for your given data this code will give you desire output:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = $ARGV[0];\nopen my $fh, \"&lt;\", $file or die $!;\n\nwhile ( my $line = &lt;$fh&gt; ) {\n    chomp $line;\n    if ( $line =~ m/a href=\"(.+)\"(.*)/g ) {\n        print \"$1\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>data</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;a href=\"one\"&gt;frist&lt;/a&gt;\n&lt;a href=\"two\"&gt;second&lt;/a&gt;\n&lt;a href=\"three\"&gt;third&lt;/a&gt;\n&lt;a href=\"four\"&gt;fourth&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>one\ntwo\nthree\nfour\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1433860250, "creation_date": 1433860250, "answer_id": 30735046, "question_id": 30730079, "link": "https://stackoverflow.com/questions/30730079/how-to-find-strings-between-two-specified-texts/30735046#30735046", "title": "How to find strings between two specified texts", "body": "<p>Use <a href=\"https://metacpan.org/pod/HTML::LinkExtor\" rel=\"nofollow\"><code>HTML::LinkExtor</code></a> like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse HTML::LinkExtor;\n\nmy $extor = HTML::LinkExtor-&gt;new;\n$extor-&gt;parse_file(\\*DATA);\n\nfor ( $extor-&gt;links ) {\n  my ($tag, $att, $val) = @$_;\n  print $val, \"\\n\" if $tag eq 'a' and $att eq 'href';\n}\n\n__DATA__\n&lt;html&gt;\n&lt;body&gt;\n&lt;a href=\"one\"&gt;frist&lt;/a&gt;\n&lt;a href=\"two\"&gt;secnod&lt;/a&gt;\n&lt;a href=\"three\"&gt;thrid&lt;/a&gt;\n&lt;a href=\"four\"&gt;furoth&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>one\ntwo\nthree\nfour\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4990047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cafe53709790d49194e4802bea05311?s=128&d=identicon&r=PG&f=1", "display_name": "S0m3oN3", "link": "https://stackoverflow.com/users/4990047/s0m3on3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1433860552, "creation_date": 1433847478, "last_edit_date": 1433851010, "question_id": 30730079, "link": "https://stackoverflow.com/questions/30730079/how-to-find-strings-between-two-specified-texts", "title": "How to find strings between two specified texts", "body": "<p>I have a html code like this</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;a href=\"one\"&gt;frist&lt;/a&gt;\n&lt;a href=\"two\"&gt;second&lt;/a&gt;\n&lt;a href=\"three\"&gt;third&lt;/a&gt;\n&lt;a href=\"four\"&gt;fourth&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I want to make a perl script that get this code and print the string between</p>\n\n<pre><code>&lt;a href=\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>\"&gt;\n</code></pre>\n\n<p>For this code it will be this</p>\n\n<pre><code>one\ntwo\nthree\nfour\n</code></pre>\n\n<p>How can i do that?\nSorry for my bad english</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 7, "last_activity_date": 1433849872, "last_edit_date": 1433849872, "creation_date": 1433849268, "answer_id": 30730724, "question_id": 30730051, "link": "https://stackoverflow.com/questions/30730051/split-string-into-several-substring-using-indexes/30730724#30730724", "title": "split string into several substring using indexes", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/substr.html\"><code>substr()</code></a> as an lvalue and start replacing the string from right side of it,</p>\n\n<pre><code>my $string = 'GATGCAGTTAGGCGTAGCAGAGTGAGACGACGACGATATTAGGACCCGGTAAGGCACAATATAGC';\nmy %coord_colors = (\n  10 =&gt; \"red\",\n  48 =&gt; \"orange\",\n  60 =&gt; \"purple\",\n);\n\nsubstr($string,$_,0) = $coord_colors{$_}\n  for sort { $b &lt;=&gt; $a } keys %coord_colors;\n\nprint $string;\n</code></pre>\n\n<p>output</p>\n\n<blockquote>\n  <p>GATGCAGTTAredGGCGTAGCAGAGTGAGACGACGACGATATTAGGACCCGorangeGTAAGGCACAATpurpleATAGC</p>\n</blockquote>\n\n<p>using regex,</p>\n\n<pre><code>$string =~ s|.{$_}\\K|$coord_colors{$_}|s\n  for sort { $b &lt;=&gt; $a } keys %coord_colors;\n</code></pre>\n"}], "owner": {"reputation": 959, "user_id": 3481031, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2f8b5c98a1b12a073aa6b93f780fb83b?s=128&d=identicon&r=PG&f=1", "display_name": "cucurbit", "link": "https://stackoverflow.com/users/3481031/cucurbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 30730724, "answer_count": 1, "score": -6, "last_activity_date": 1433849872, "creation_date": 1433847383, "question_id": 30730051, "link": "https://stackoverflow.com/questions/30730051/split-string-into-several-substring-using-indexes", "title": "split string into several substring using indexes", "body": "<p>I have this string and hash:</p>\n\n<p><strong>Input data:</strong></p>\n\n<pre><code>my $string = 'GATGCAGTTAGGCGTAGCAGAGTGAGACGACGACGATATTAGGACCCGGTAAGGCACAATATAGC';\nmy %coord_colors = (\n  10 =&gt; \"red\",\n  48 =&gt; \"orange\",\n  60 =&gt; \"purple\",\n);\n</code></pre>\n\n<p>What I want to do is to \"open\" the string at each hash key position, and insert the key-value. See the desired output to have an idea about what I'm trying to explain:</p>\n\n<p><strong>Desired output:</strong></p>\n\n<pre><code>GATGCAGTTAredGGCGTAGCAGAGTGAGACGACGACGATATTAGGACCCGorangeGTAAGGCACAATpurpleATAGC\n</code></pre>\n\n<p>I know how the substr and split functions, but I'm not inspired about how to divide a string in several parts \"simultaneously\" and then introduce another string, and finally join. I've thought about doing a loop, and change positions in the has while I add the first positions but I would like to know the best approach to figure out this task.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4960330, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/959978027379715/picture?type=large", "display_name": "Vikas Vykuntham Veerabathini", "link": "https://stackoverflow.com/users/4960330/vikas-vykuntham-veerabathini"}, "edited": false, "score": 0, "creation_date": 1433849147, "post_id": 30729134, "comment_id": 49517440, "body": "But there are no timeline charts in Spreadsheet::WriteExcel::Chart module@simbabaque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53, "user_id": 4960330, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/959978027379715/picture?type=large", "display_name": "Vikas Vykuntham Veerabathini", "link": "https://stackoverflow.com/users/4960330/vikas-vykuntham-veerabathini"}, "edited": false, "score": 0, "creation_date": 1433850558, "post_id": 30729134, "comment_id": 49518426, "body": "Then there probably is no other way to do that."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1433851448, "last_edit_date": 1433851448, "creation_date": 1433844748, "answer_id": 30729134, "question_id": 30728892, "link": "https://stackoverflow.com/questions/30728892/is-there-anyway-to-plot-timeline-charts-in-excel-sheets-using-spreadhseetwrite/30729134#30729134", "title": "Is there anyway to plot timeline charts in excel sheets using Spreadhseet::WriteExcel module in Perl?", "body": "<p><code>Spreadsheet::WriteExcel</code> provides <a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel::Chart\" rel=\"nofollow\">Spreadhseet::WriteExcel::Chart</a> to insert charts into Excel documents.</p>\n"}], "owner": {"reputation": 53, "user_id": 4960330, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/959978027379715/picture?type=large", "display_name": "Vikas Vykuntham Veerabathini", "link": "https://stackoverflow.com/users/4960330/vikas-vykuntham-veerabathini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433851448, "creation_date": 1433844070, "last_edit_date": 1433851394, "question_id": 30728892, "link": "https://stackoverflow.com/questions/30728892/is-there-anyway-to-plot-timeline-charts-in-excel-sheets-using-spreadhseetwrite", "title": "Is there anyway to plot timeline charts in excel sheets using Spreadhseet::WriteExcel module in Perl?", "body": "<p>Any kind of links details would be helpful. I went through the  Spreadhseet::WriteExcel module in CPAN but I couldn't find anything.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1433850240, "post_id": 30728622, "comment_id": 49518226, "body": "Although using a CAPTCHA may resolve your CSRF vulnerability, it is kind of over-kill unless you also want to require a human to decode the CAPTCHA."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1433851548, "post_id": 30728622, "comment_id": 49519122, "body": "Are you using a Perl Web Framework?  If so, which one (e.g. Catalyst, Dancer, Mojolicious)?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1433855920, "post_id": 30728622, "comment_id": 49522590, "body": "what was the installation failure?"}, {"owner": {"reputation": 15, "user_id": 3894099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/87e073a118613843d1bd5463a5e7b1ae?s=128&d=identicon&r=PG&f=1", "display_name": "user142847", "link": "https://stackoverflow.com/users/3894099/user142847"}, "edited": false, "score": 0, "creation_date": 1434428190, "post_id": 30728622, "comment_id": 49760269, "body": "Sorry for late reply.@kjpires -- no we are not using any Perl Web Framework."}, {"owner": {"reputation": 15, "user_id": 3894099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/87e073a118613843d1bd5463a5e7b1ae?s=128&d=identicon&r=PG&f=1", "display_name": "user142847", "link": "https://stackoverflow.com/users/3894099/user142847"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1434428341, "post_id": 30728622, "comment_id": 49760313, "body": "@ysth -- when tried to install CPAN module WebService::CaptchasDotNet, did&#39;t install successfully."}], "owner": {"reputation": 15, "user_id": 3894099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/87e073a118613843d1bd5463a5e7b1ae?s=128&d=identicon&r=PG&f=1", "display_name": "user142847", "link": "https://stackoverflow.com/users/3894099/user142847"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433843333, "creation_date": 1433843333, "question_id": 30728622, "link": "https://stackoverflow.com/questions/30728622/captcha-implementation-for-perl-cgi-web-application", "title": "Captcha implementation for Perl Cgi web application", "body": "<p>For web application we have received audit issues (Cross Site Request forgery) while testing. to prevent Cross Site Request forgery issue we need to use anti-Cross-Site Request Forgery tokens or CAPTCHA.</p>\n\n<p>Please suggest me how to implement Captcha for Perl Cgi Web application.</p>\n\n<p>Tried by installing CPAN WebService::CaptchasDotNet module, by failed while installing.</p>\n"}, {"tags": ["perl", "permutation", "word"], "answers": [{"tags": [], "owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "is_accepted": true, "score": 5, "last_activity_date": 1433836534, "last_edit_date": 1433836534, "creation_date": 1433828275, "answer_id": 30723762, "question_id": 30723657, "link": "https://stackoverflow.com/questions/30723657/get-all-possible-permutations-of-words-in-string-using-perl-script/30723762#30723762", "title": "get all possible permutations of words in string using perl script", "body": "<p>What you're talking about are <a href=\"http://en.wikipedia.org/wiki/Permutation\" rel=\"nofollow\">permutations</a>. This can be done in Perl with the <a href=\"https://metacpan.org/pod/Algorithm::Permute\" rel=\"nofollow\"><code>Algorithm::Permute</code></a> module:</p>\n\n<p>If you've installed the module, here's a shell one-liner that will do it for you:</p>\n\n<pre><code>perl -e'\n use Algorithm::Permute qw();\n my $str = $ARGV[0]; \n my @arr = split(/\\s+/,$str);\n my $ap = new Algorithm::Permute(\\@arr); \n while (my @res = $ap-&gt;next()) { print(\"@res\\n\"); }\n' 'how are you';\n## you are how\n## are you how\n## are how you\n## you how are\n## how you are\n## how are you\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 3, "last_activity_date": 1433830153, "last_edit_date": 1433830153, "creation_date": 1433828937, "answer_id": 30723879, "question_id": 30723657, "link": "https://stackoverflow.com/questions/30723657/get-all-possible-permutations-of-words-in-string-using-perl-script/30723879#30723879", "title": "get all possible permutations of words in string using perl script", "body": "<p>You can use <a href=\"http://search.cpan.org/~phoenix/List-Permutor-0.022/Permutor.pm\" rel=\"nofollow\">List::Permutor</a> CPAN module:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Permutor;\n\nmy $perm = new List::Permutor qw/ how are you /;\nwhile (my @set = $perm-&gt;next)\n{\n  print \"@set\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>how are you\nhow you are\nare how you\nare you how\nyou how are\nyou are how\n</code></pre>\n\n<p>As <em>bgoldst</em> suggested <a href=\"http://search.cpan.org/dist/Algorithm-Permute/Permute.pm\" rel=\"nofollow\">Algorithm::Permute</a>, for faster execution you can write this without using <em>while loop</em>:</p>\n\n<pre><code>use Algorithm::Permute;\nmy @array = qw(how are you);\nAlgorithm::Permute::permute {\n    print \"@array\\n\";\n}@array;\n</code></pre>\n"}], "owner": {"reputation": 5600, "user_id": 1427849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/ht97D.jpg?s=128&g=1", "display_name": "zey", "link": "https://stackoverflow.com/users/1427849/zey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 30723762, "answer_count": 2, "score": 0, "last_activity_date": 1433929422, "creation_date": 1433827738, "last_edit_date": 1433929422, "question_id": 30723657, "link": "https://stackoverflow.com/questions/30723657/get-all-possible-permutations-of-words-in-string-using-perl-script", "title": "get all possible permutations of words in string using perl script", "body": "<p>I have a string like this , <code>how are you</code> , I want to get all possible shuffle of word like   </p>\n\n<pre><code>how are you\nare how you\nyou how are\nyou are how\nare you how\nhow you are\n</code></pre>\n\n<p>How can I make it in <code>perl</code> script , i've tried the <code>shuffle</code> function but it returns only one string of shuffle .<br>\nIf you are not familiar with <code>Perl</code> script, you can tell me the logic only.</p>\n\n<p><strong>Note:</strong> The words count in string are not constant.</p>\n"}, {"tags": ["perl", "syntax-error", "conditional-statements"], "comments": [{"owner": {"reputation": 112006, "user_id": 15031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dfc9c03509b7d2d1646b21cb8de8ec5a?s=128&d=identicon&r=PG", "display_name": "Jonathan Lonowski", "link": "https://stackoverflow.com/users/15031/jonathan-lonowski"}, "edited": false, "score": 1, "creation_date": 1433807001, "post_id": 30720737, "comment_id": 49498986, "body": "Just to be to clear, are the <code>**</code> for emphasis / bold? Markdown styling isn&#39;t available within code blocks. It&#39;d be better to add a comment within the snippet near the line or shorten the snippet to what&#39;s really needed. Also, if you can include the message given by the error within your post, that can usually be helpful."}, {"owner": {"reputation": 53052, "user_id": 728795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74899fd197722b4ddaeb21de21c6b313?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/728795/andrei"}, "edited": false, "score": 2, "creation_date": 1433807122, "post_id": 30720737, "comment_id": 49499038, "body": "You are missing a semicolon on a previous line"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1433810351, "post_id": 30720737, "comment_id": 49499835, "body": "You also have your <code>die</code> messages mixed up. <code>&gt;&gt;</code> is append, and <code>&gt;</code> is overwrite."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1433817688, "post_id": 30720737, "comment_id": 49501610, "body": "When you are checking the status of an <code>open</code> call you should <i>always</i> include the value of the built-in variable <code>$!</code> in the <code>die</code> string to say <i>why</i> the open failed"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433817774, "post_id": 30720814, "comment_id": 49501634, "body": "@UMD2UCSF: Please take a look at <a href=\"http://stackoverflow.com/help/someone-answers\"><b><i>What should I do when someone answers my question?</i></b></a>"}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 7, "last_activity_date": 1433807118, "creation_date": 1433807118, "answer_id": 30720814, "question_id": 30720737, "link": "https://stackoverflow.com/questions/30720737/syntax-error-in-perl-open/30720814#30720814", "title": "Syntax error in Perl open", "body": "<p>You're missing a semicolon on the <code>print</code> before the <code>open</code> that is causing trouble.</p>\n\n<p>Also, there's seldom a need to output blanks before newlines.  You have numerous strings such as:</p>\n\n<pre><code>print \"Did not find pattern. \\n\"   # This is where the semicolon should be\n</code></pre>\n\n<p>that would be better written as:</p>\n\n<pre><code>print \"Did not find pattern.\\n\";\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4984670, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206854405189417/picture?type=large", "display_name": "UMD2UCSF", "link": "https://stackoverflow.com/users/4984670/umd2ucsf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "closed_date": 1435053653, "answer_count": 1, "score": 0, "last_activity_date": 1433817520, "creation_date": 1433806441, "last_edit_date": 1433817520, "question_id": 30720737, "link": "https://stackoverflow.com/questions/30720737/syntax-error-in-perl-open", "closed_reason": "Not suitable for this site", "title": "Syntax error in Perl open", "body": "<p>I have the following conditional code as part of my script and I keep getting a syntax error for only the last <code>open</code> call. Suggestions? </p>\n\n<pre><code>if ($contig_string =~ /($pattern)/) {\n        print \"$ERR_number \\n\";\n        print \"Found forward pattern.\\n\";\n        print \"Pattern found is: $1 \\n\";\n        $position = index($contig_string,$1);\n        print \"Index returned: $position \\n\";\n        $substr_forward = substr($contig_string, $position, -2000);\n        print \"$substr_forward \\n\";  \n        open (REPORT, \"&gt;&gt;\", spacer_contigs) or die \"Could not open\";\n        print REPORT \"&gt;$ERR_number \\n\";\n        print REPORT \"$substr_forward \\n\";\n        }\nelsif ($contig_string =~ /($pattern_reverse)/) {\n        print \"$ERR_number \\n\";\n        print \"Found reverse pattern.\\n\";\n        print \"Pattern found is: $1 \\n\";\n        $position_reverse = index($contig_string,$1);\n        print \"Index returned: $position_reverse \\n\";\n        $substr_reverse = substr($contig_string, $position_reverse, 2000);\n        print \"$substr_reverse \\n\";\n        open (REPORT, \"&gt;&gt;\", spacer_contigs) or die \"Could not open\";\n        print REPORT \"&gt;$ERR_number \\n\" or die \"Could not append\";\n        print REPORT \"$substr_reverse \\n\";\n\n        }\nelsif ($contig_string !~ /$pattern_forward/) {\n        print \"$ERR_number \\n\";\n        print \"Did not find pattern. \\n\"\n        open (NOMATCH, \"&gt;&gt;\", no_match) or die \"Could not open\"; # SYNTAX ERROR\n        print NOMATCH \"&gt;$ERR_number \\n\" or die \"Could not append\";      \n\n        }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 857, "user_id": 2586121, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8daacc4dea8d817aa536fff39189a528?s=128&d=identicon&r=PG", "display_name": "Al Berger", "link": "https://stackoverflow.com/users/2586121/al-berger"}, "is_accepted": true, "score": 1, "last_activity_date": 1433809816, "creation_date": 1433809816, "answer_id": 30721191, "question_id": 30719838, "link": "https://stackoverflow.com/questions/30719838/using-multiline-regexps-in-perl-5/30721191#30721191", "title": "Using multiline regexps in Perl 5", "body": "<p>On perlmonks.org I was advised with the correct variant:</p>\n\n<pre><code>my $a = $1 if  $s =~ s/^$m *: (.*?)$/$1/rsm;\nmy $b = $1 if  $s =~ s/^$m *: (.*)$/$1/rm;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 0, "last_activity_date": 1433858341, "creation_date": 1433858341, "answer_id": 30734257, "question_id": 30719838, "link": "https://stackoverflow.com/questions/30719838/using-multiline-regexps-in-perl-5/30734257#30734257", "title": "Using multiline regexps in Perl 5", "body": "<p>With the s flag you are allowing the . meta character to match line endings. Either remove it or change the .* at the end of the regex to .*?</p>\n"}, {"comments": [{"owner": {"reputation": 857, "user_id": 2586121, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8daacc4dea8d817aa536fff39189a528?s=128&d=identicon&r=PG", "display_name": "Al Berger", "link": "https://stackoverflow.com/users/2586121/al-berger"}, "edited": false, "score": 1, "creation_date": 1433885096, "post_id": 30742664, "comment_id": 49541989, "body": "You are right, for parsing such a simple string regexes aren&#39;t needed at all. But this string was used just for simple example of how multiline regexes work."}], "tags": [], "owner": {"reputation": 1720, "user_id": 27310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef10e56567f5d6e20bc3f7f4ab4e3254?s=128&d=identicon&r=PG", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/27310/gaurav"}, "is_accepted": false, "score": 0, "last_activity_date": 1433883355, "creation_date": 1433883355, "answer_id": 30742664, "question_id": 30719838, "link": "https://stackoverflow.com/questions/30719838/using-multiline-regexps-in-perl-5/30742664#30742664", "title": "Using multiline regexps in Perl 5", "body": "<p>I think it might be easier to split that string by both <code>\\s*:\\s*</code> and <code>\\n</code>. You can build a hash very easily with the output, although this approach won't work if you have <code>:</code> in one of your strings, while your regular expression does. The following code works for me:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse v5.20;\n\nmy $s = &lt;&lt;'ENDSTR';\naaa       : AAA\nbbb       : BBB\nccc       : CCC\nENDSTR\n\nmy %hash = split(/(\\s*:?\\s*|\\n)/, $s);\nsay $hash{'bbb'};\n</code></pre>\n\n<p>If you're trying to parse data in that format, you should try using <code>Config::General</code>, which <a href=\"http://search.cpan.org/dist/Config-General/General.pm#CONFIG_FILE_FORMAT\" rel=\"nofollow\">can parse a simple configuration file format</a> that's pretty similar to what you have, but also supports comments, blocks, and other cool things.</p>\n"}], "owner": {"reputation": 857, "user_id": 2586121, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8daacc4dea8d817aa536fff39189a528?s=128&d=identicon&r=PG", "display_name": "Al Berger", "link": "https://stackoverflow.com/users/2586121/al-berger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 30721191, "answer_count": 3, "score": 1, "last_activity_date": 1433883355, "creation_date": 1433800935, "question_id": 30719838, "link": "https://stackoverflow.com/questions/30719838/using-multiline-regexps-in-perl-5", "title": "Using multiline regexps in Perl 5", "body": "<p>I read the manuals about using multiline regexes in Perl 5, but still cannot figure out why the following ones don't work as intended:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse v5.20;\n\nmy $s = &lt;&lt;'ENDSTR';\naaa       : AAA\nbbb       : BBB\nccc       : CCC\nENDSTR\n\nmy $m = 'bbb';\n\nmy $a = $s =~ s/.*^$m *: (.*?)$.*/$1/rsm;\nmy $b = $s =~ s/[.\\n]*?^$m *: (.*)$[.\\n]*/$1/rm;\n\nprint \"a: $a\\n\";\nprint \"b: $b\\n\";\n</code></pre>\n\n<p>The intended output of the program is </p>\n\n<pre><code>a: BBB\nb: BBB\n</code></pre>\n\n<p>But these regexes produce:</p>\n\n<pre><code>a: BBB\nccc       : CCC\n\nb: aaa       : AAA\nbbb       : BBB\nccc       : CCC  \n</code></pre>\n\n<p>How to correct these regexes in order to get the needed matches?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 3, "creation_date": 1433800830, "post_id": 30719790, "comment_id": 49497047, "body": "<code>$appending_test</code> is empty."}, {"owner": {"reputation": 11, "user_id": 4984670, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206854405189417/picture?type=large", "display_name": "UMD2UCSF", "link": "https://stackoverflow.com/users/4984670/umd2ucsf"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1433801071, "post_id": 30719790, "comment_id": 49497141, "body": "I wrote PLACEHOLDER within the text file so I know that its there if thats what you mean"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1433801276, "post_id": 30719790, "comment_id": 49497209, "body": "Hint: don&#39;t hardcode any filenames of input or output files into scripts. Specify them in the call instead.  <code>Appending.pl &gt;&gt; whatever.txt</code>"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1433801389, "post_id": 30719790, "comment_id": 49497255, "body": "Hint2: make the <code>&gt;&gt;</code> a separate argument. See <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">the documentation</a>."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1433801486, "post_id": 30719790, "comment_id": 49497294, "body": "Hint 3: <a href=\"http://perldoc.perl.org/perlfaq5.html#How-do-I-flush/unbuffer-an-output-filehandle%3F-Why-must-I-do-this%3F\" rel=\"nofollow noreferrer\">you may need to <code>flush</code> or <code>close</code> the filehandle before all output is written to it</a>. (Output can be buffered.)"}, {"owner": {"reputation": 11, "user_id": 4984670, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206854405189417/picture?type=large", "display_name": "UMD2UCSF", "link": "https://stackoverflow.com/users/4984670/umd2ucsf"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1433802051, "post_id": 30719790, "comment_id": 49497488, "body": "@reinierpost Not working. I thought it might of been the <code>close</code> command that I needed but even then still"}, {"owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1433802357, "post_id": 30719790, "comment_id": 49497581, "body": "Try <code>print $!;</code> after the <code>open</code> command - you might get a useful error message."}, {"owner": {"reputation": 11, "user_id": 4984670, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206854405189417/picture?type=large", "display_name": "UMD2UCSF", "link": "https://stackoverflow.com/users/4984670/umd2ucsf"}, "edited": false, "score": 0, "creation_date": 1433802563, "post_id": 30719790, "comment_id": 49497650, "body": "No error message at all...@DavidKnipe"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1433816154, "post_id": 30719790, "comment_id": 49501246, "body": "@reinierpost: Your comnment about using <code>&#39;&gt;&gt;&#39;</code> as a separate parameter is good advice, but not the cause of the problem. Your other comments are misleading, particularly the one that says the OP&#39;s code ought to work. As others have pointed out, the variable <code>$appending_test</code> has the value <code>undef</code> so the open will fail."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433838578, "post_id": 30719790, "comment_id": 49510115, "body": "@Borodin: I thought that went without repeating."}], "answers": [{"comments": [{"owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 1, "creation_date": 1433805816, "post_id": 30720449, "comment_id": 49498630, "body": "While I agree it&#39;s bad practice to use <code>&quot;&gt;&gt;$appending_test&quot;</code> instead of <code>&quot;&gt;&gt;&quot;, $appending_test</code>, you should make it clear that this is just a side remark and not actually an answer to the question. Otherwise it&#39;s probably just confusing."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 4, "last_activity_date": 1433806972, "last_edit_date": 1433806972, "creation_date": 1433804432, "answer_id": 30720449, "question_id": 30719790, "link": "https://stackoverflow.com/questions/30719790/appending-into-file/30720449#30720449", "title": "Appending into file", "body": "<p>You don't specify a filename for open() to open...</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $filename = 'output.txt';\n\nopen my $fh, '&gt;&gt;', $filename\n  or die \"Can't open the file $filename: $!\";\n\nprint $fh \"I am appending...\\n\";\n</code></pre>\n\n<p>As just a side note, the more idiomatic way to open a file is to use the three-arg open, and output a statement with the error message if the open fails as I have done in the code snip above.</p>\n"}], "owner": {"reputation": 11, "user_id": 4984670, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206854405189417/picture?type=large", "display_name": "UMD2UCSF", "link": "https://stackoverflow.com/users/4984670/umd2ucsf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433806972, "creation_date": 1433800705, "question_id": 30719790, "link": "https://stackoverflow.com/questions/30719790/appending-into-file", "title": "Appending into file", "body": "<p>So I'm a brand new to writing scripts and I am currently using Perl. I wrote a script and the very last thing I need it to do is append the output in a .txt file that is already there. I've been trying to get a simple script to work that appends to see if my syntax is correct and it is not working. Advice?</p>\n\n<pre><code>#Appending.pl\n#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $appending_test;\n\n\nopen(my $APPENDING, \"&gt;&gt;$appending_test\");\nprint $APPENDING \"I am appending\";\n</code></pre>\n"}, {"tags": ["regex", "perl", "wolfram-mathematica"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1433798953, "post_id": 30719375, "comment_id": 49496258, "body": "you need to escape the square brackets in the pattern. if there are spaces at the start of the line, add <code>\\h*</code> to match them. You can use this tool to make your test: <a href=\"http://regex101.com\" rel=\"nofollow noreferrer\">regex101.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6770, "user_id": 378418, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ea588ebbc4eaa80b537abe2af155308e?s=128&d=identicon&r=PG", "display_name": "Luke", "link": "https://stackoverflow.com/users/378418/luke"}, "is_accepted": true, "score": 2, "last_activity_date": 1433798973, "creation_date": 1433798973, "answer_id": 30719435, "question_id": 30719375, "link": "https://stackoverflow.com/questions/30719375/perl-regex-line-that-starts-with-out1/30719435#30719435", "title": "Perl - Regex line that starts with &quot;Out[1]=&quot;", "body": "<p>Square brackets are special characters in a regex. Try: <code>$line =~ /^Out\\[1\\]=/</code></p>\n\n<p>I'd recommend reading a regex tutorial <a href=\"http://www.regular-expressions.info/tutorial.html\" rel=\"nofollow\">like this one</a> to learn this kind of thing.</p>\n"}], "owner": {"reputation": 139, "user_id": 3909489, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/368392c8cd5a495158377e5311d655a5?s=128&d=identicon&r=PG&f=1", "display_name": "Kolibrie", "link": "https://stackoverflow.com/users/3909489/kolibrie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 30719435, "answer_count": 1, "score": 0, "last_activity_date": 1433798973, "creation_date": 1433798695, "question_id": 30719375, "link": "https://stackoverflow.com/questions/30719375/perl-regex-line-that-starts-with-out1", "title": "Perl - Regex line that starts with &quot;Out[1]=&quot;", "body": "<p>I have a Perl script to capture Mathematica output, but am trying to find a good way to just catch the line starting with \"Out[1]\".  </p>\n\n<p>I thought I would just check <code>if ( $line =~ /^Out[1]=/ )</code></p>\n\n<p>What am I doing wrong?  Code is below, and then output of program below that:</p>\n\n<pre><code>#!/usr/bin/perl\n#perl testMathy.pl\nuse strict;\nuse warnings;\n\n### Test 1: Print entire Mathematica output from calling Roots[]\nmy @charPoly = \"-R^3 + R^2 + 3*R - 3\";\nmy @roots = `echo \\\" Roots[@charPoly == 0, R] \\\" | math`;\n\nprint \"\\n***ROOTS (TEST 1)***: [@roots]\\n~~~~~~~~~~\\n\";\n\n### Test 2: Print line beginning with Out[1]\nmy $rootList = \"\";\n\nfor my $line ( @roots ){\n        #take line that starts with Out[1]\n        print \"LINE:\", $line;\n        if ( $line =~ /^Out[1]=/ ){\n            print \"success\\n\";\n            $rootList .= $line;\n            last; #break\n        }\n    }\n\nprint \"\\n***ROOTS (TEST 2)***: $rootList\\n~~~~~~~~~~\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>***ROOTS (TEST 1)***: [Mathematica 10.1.0 for Linux x86 (64-bit)\n Copyright 1988-2015 Wolfram Research, Inc.\n\n In[1]:= \n Out[1]= R == Sqrt[3] || R == -Sqrt[3] || R == 1\n\n In[2]:= \n]\n~~~~~~~~~~\nLINE:Mathematica 10.1.0 for Linux x86 (64-bit)\nLINE:Copyright 1988-2015 Wolfram Research, Inc.\nLINE:\nLINE:In[1]:= \nLINE:Out[1]= R == Sqrt[3] || R == -Sqrt[3] || R == 1\nLINE:\nLINE:In[2]:= \n\n***ROOTS (TEST 2)***: \n~~~~~~~~~~\n</code></pre>\n\n<p>Why is ROOTS(TEST 2): blank?</p>\n"}, {"tags": ["perl", "template-toolkit"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433798735, "post_id": 30718877, "comment_id": 49496143, "body": "See <a href=\"http://www.template-toolkit.org/docs/modules/Template/Plugin/Directory.html\" rel=\"nofollow noreferrer\"><code>Template::Plugin::Directory</code></a>"}, {"owner": {"reputation": 2966, "user_id": 230270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f2eead5d54d62be44a0936f6914c3fe?s=128&d=identicon&r=PG", "display_name": "Eagle", "link": "https://stackoverflow.com/users/230270/eagle"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433800598, "post_id": 30718877, "comment_id": 49496970, "body": "@ThisSuitIsBlackNot, looked, unfortentlys did not find anything useful..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433801082, "post_id": 30718877, "comment_id": 49497146, "body": "What exactly are you having trouble with? You don&#39;t know how to change the regex to match <code>.xml</code> files? You don&#39;t know how to specify the path to the directory? (The documentation I linked above shows how.) Something else?"}, {"owner": {"reputation": 2966, "user_id": 230270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f2eead5d54d62be44a0936f6914c3fe?s=128&d=identicon&r=PG", "display_name": "Eagle", "link": "https://stackoverflow.com/users/230270/eagle"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1433801451, "post_id": 30718877, "comment_id": 49497275, "body": "Template::Plugin::Directory return a list of files and directories in a given path, based on path input. I was unable to do: Directory(&#39;./*.xml&#39;). I simply get an error (Directory(&#39;./&#39;) works). Do you know a way to tell Template::Plugin::Directory to return a list of file with a given rule (e.g. *.xml)?"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1433890625, "post_id": 30720897, "comment_id": 49544171, "body": "Alternatively, since <code>Template::Plugin::File</code> provides the <a href=\"http://www.template-toolkit.org/docs/modules/Template/Plugin/File.html#section_ext\" rel=\"nofollow noreferrer\">file extension</a>, <code>NEXT UNLESS file.ext == &#39;xml&#39;;</code>"}], "tags": [], "owner": {"reputation": 8942, "user_id": 14750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1259cb9901b6d9caf5aeda812927d111?s=128&d=identicon&r=PG", "display_name": "RET", "link": "https://stackoverflow.com/users/14750/ret"}, "is_accepted": true, "score": 2, "last_activity_date": 1433892357, "last_edit_date": 1495539890, "creation_date": 1433807653, "answer_id": 30720897, "question_id": 30718877, "link": "https://stackoverflow.com/questions/30718877/retrieving-filtered-list-of-files-using-template-toolkit/30720897#30720897", "title": "Retrieving filtered list of files using template toolkit", "body": "<p>A quick look at the documentation suggests that the output of <code>directory.files</code> is a collection of objects, so <code>.grep()</code> is unlikely to work. It has methods like <code>name</code>, <code>isdir</code> and so on.</p>\n\n<p>The simplest solution would be something like:</p>\n\n<pre><code>[%- FOREACH file IN directory.files;\n        #NEXT UNLESS file.name.match('\\.xml$');\n        NEXT UNLESS file.ext == 'xml';\n        ...\n    END -%]\n</code></pre>\n\n<p>Edit: improved answer based on suggestion by <a href=\"https://stackoverflow.com/users/176646/thissuitisblacknot\">ThisSuitIsBlackNot</a>.</p>\n"}], "owner": {"reputation": 2966, "user_id": 230270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1f2eead5d54d62be44a0936f6914c3fe?s=128&d=identicon&r=PG", "display_name": "Eagle", "link": "https://stackoverflow.com/users/230270/eagle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 30720897, "answer_count": 1, "score": 0, "last_activity_date": 1445983219, "creation_date": 1433796773, "last_edit_date": 1445983219, "question_id": 30718877, "link": "https://stackoverflow.com/questions/30718877/retrieving-filtered-list-of-files-using-template-toolkit", "title": "Retrieving filtered list of files using template toolkit", "body": "<p>I would like to retrive the content of files in a directory, which fulfill a given regexp rule or string (e.g. <em>./*.xml</em>).</p>\n\n<p>I found following example</p>\n\n<pre><code>[% FOREACH directory.files.grep('\\.txt$') %]\n   ...\n[% END %]\n</code></pre>\n\n<p>but do not know how to use it. Could this solve my problem?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1433820849, "last_edit_date": 1433820849, "creation_date": 1433795428, "answer_id": 30718513, "question_id": 30718302, "link": "https://stackoverflow.com/questions/30718302/calculate-network-address-with-perl/30718513#30718513", "title": "calculate network address with perl", "body": "<p><code>Net::IP-&gt;new</code> returns <code>undef</code> on error. The error message can be obtained by calling <code>Net::IP::Error()</code>.</p>\n\n<pre><code>my $ipObject = Net::IP-&gt;new(\"$ip/24\")\n   or die(Net::IP::Error());\n</code></pre>\n\n<p>It probably failed because you specified a prefix without using the base address of the subnet. For example, it will fail for <code>10.1.2.3/24</code>, but not for <code>10.1.2.0/24</code>.</p>\n\n<pre><code>$ perl -E'\n   use Net::IP;\n   Net::IP-&gt;new(\"10.1.2.3/24\")\n      or die(Net::IP::Error());\n'\nInvalid prefix 00001010000000010000001000000011/24 at -e line 4.\n</code></pre>\n\n<p>Since you are trying to find the base address of the subnet, it means you'll need to omit the <code>/24</code> and apply it as a mask to the address. However, I don't see any way of applying a mask to an Net::IP object. In fact, I don't see any way of using Net::IP to obtain the base address of a subnet at all.</p>\n\n<p>On the other hand, it's trivial using <a href=\"http://search.cpan.org/perldoc?NetAddr::IP\" rel=\"nofollow\">NetAddr::IP</a>.</p>\n\n<pre><code>$ perl -E'\n   use NetAddr::IP;\n   say NetAddr::IP-&gt;new(\"10.1.2.3/24\")-&gt;network-&gt;addr;\n'\n10.1.2.0\n</code></pre>\n\n<hr>\n\n<p>Of course, you could also use</p>\n\n<pre><code>( my $network = $ip ) =~ s/\\.\\d+\\z/.0/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1433797627, "creation_date": 1433797627, "answer_id": 30719101, "question_id": 30718302, "link": "https://stackoverflow.com/questions/30718302/calculate-network-address-with-perl/30719101#30719101", "title": "calculate network address with perl", "body": "<p>ikegami has given you a solution, but I'll point out something. IP addresses are simply base 256 numbers. CIDR involves 'bit masks' which are applied to an IP to differentiate the network address from the host address. </p>\n\n<p>So given an IP of 10.11.12.13 - that's a representation of:</p>\n\n<pre><code>  10 * 256 * 256 * 256\n+ 11 * 256 * 256\n+ 12 * 256\n+ 13\n</code></pre>\n\n<p>Or 168496141</p>\n\n<p>When working with bitmasks, you logically 'and' the mask to get the 'network part'. A <code>/24</code> is 24 bits (out of 32):</p>\n\n<pre><code>11111111111111111111111100000000\n</code></pre>\n\n<p>So if you take the IP above, bitwise <code>and</code> to get your network address. A bit like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @IP = qw ( 10 11 12 13 ); \nprint join (\".\", @IP),\"\\n\";\n\n\nmy $DWORD = 0; \n\nforeach my $octet ( @IP ) {\n   $DWORD *= 256; \n   $DWORD += $octet;\n }\n\n print \"Decimal of IP:\",$DWORD,\"\\n\";\n\n my $host_mask = 2 ** 8;\n my $netmask = 2 ** 32;\n    $netmask -= $host_mask; \n$host_mask -= 1;\n\nprintf ( \"%032b\\n\", $netmask);\nprintf ( \"%032b\\n\", $host_mask);\n\n\nmy $network = $DWORD &amp; $netmask;\nmy $host = $DWORD &amp; $host_mask;\n\n#and convert back to IP:\nmy @net;\nwhile ( $network &gt; 0 ) {\n    my $octet = $network % 256;\n    $network -= $octet; \n    $network /= 256;\n    unshift ( @net, $octet ); \n}\nprint \"Network part:\", join ( \".\", @net ),\"\\n\";\n\nmy @host_ip; \nwhile ( $host &gt; 0 ) {\n   my $octet = $host % 256;\n   $host -= $octet; \n   $host /= 256;\n   unshift ( @host_ip, $octet ); \n} \n\nprint \"Host Part:\", join ( \".\", @host_ip ),\"\\n\";\n</code></pre>\n\n<p>Not particularly complicated, but hopefully illustrates why the 'right' answer is 'use a module' - the conversions back and forth can be error prone. </p>\n"}], "owner": {"reputation": 13, "user_id": 4987773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec381ab695a1816fcb14a36489beca7?s=128&d=identicon&r=PG&f=1", "display_name": "jotpe", "link": "https://stackoverflow.com/users/4987773/jotpe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 1, "accepted_answer_id": 30718513, "answer_count": 2, "score": 0, "last_activity_date": 1433820849, "creation_date": 1433794632, "question_id": 30718302, "link": "https://stackoverflow.com/questions/30718302/calculate-network-address-with-perl", "title": "calculate network address with perl", "body": "<p>How can I get the class c network address from an ipv4 address in perl?</p>\n\n<p>I tried already this:</p>\n\n<pre><code>my $ipObject = new Net::IP(\"$ip/24\");\nreturn $ipObject-&gt;prefix();\n</code></pre>\n\n<p>leads to</p>\n\n<blockquote>\n  <p>Can't call method \"prefix\" on an undefined value at /usr/share/awstats/plugins/geoipfree.pm line 101,  line 1.</p>\n</blockquote>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 27, "user_id": 4576513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/353349869e77f12a21a9be939e3bfdd4?s=128&d=identicon&r=PG&f=1", "display_name": "detro", "link": "https://stackoverflow.com/users/4576513/detro"}, "edited": false, "score": 0, "creation_date": 1433793041, "post_id": 30717804, "comment_id": 49493275, "body": "Here is a sample from the xml file"}, {"owner": {"reputation": 27, "user_id": 4576513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/353349869e77f12a21a9be939e3bfdd4?s=128&d=identicon&r=PG&f=1", "display_name": "detro", "link": "https://stackoverflow.com/users/4576513/detro"}, "edited": false, "score": 0, "creation_date": 1433793049, "post_id": 30717804, "comment_id": 49493283, "body": "&lt;a:t&gt;Bailey&lt;/a:t&gt;&lt;/a:r&gt;&lt;/a:p&gt;&lt;a:p&gt;&lt;a:pPr lvl=&quot;1&quot;&gt;&lt;a:lnSpc&gt;&lt;a:spcPct val=&quot;90000&quot;/&gt;"}, {"owner": {"reputation": 5903, "user_id": 790107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de1c480ed937e9291c4dcbf252e6d1f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/790107/david"}, "edited": false, "score": 1, "creation_date": 1433793427, "post_id": 30717804, "comment_id": 49493464, "body": "What is <code>verb</code>?  Where do the strings <code>billybob</code> and <code>Bailey</code> come from?  What does your command line look like for your example?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1433795221, "creation_date": 1433795221, "answer_id": 30718462, "question_id": 30717804, "link": "https://stackoverflow.com/questions/30717804/how-can-i-search-an-xml-file-with-perl-for-a-specific-character-string/30718462#30718462", "title": "How can I search an xml file with perl for a specific character string?", "body": "<p>The first two major issues:</p>\n\n<ol>\n<li><p>You are trying to open a file whose name ends with <code>.xml&gt;</code>.</p>\n\n<pre><code>open FILE, \"&lt;$inputFile&gt;\";\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>open FILE, \"&lt;$inputFile\";\n</code></pre>\n\n<p>Well, not really. It should be</p>\n\n<pre><code>open(my $FILE, '&lt;', $inputFile)\n   or die(\"Can't open \\\"$inputFile\\\": $!\\n\");\n</code></pre>\n\n<p>This avoids the use of global vars, this avoids the file name from being treated as anything but a file name, and this checks if the <code>open</code> succeeded (being a common point of failure).</p></li>\n<li><p>You never read from the file handle.</p>\n\n<pre><code>for (@lines) {\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>while (&lt;FILE&gt;) {\n</code></pre>\n\n<p>Or if you adopted my suggested change,</p>\n\n<pre><code>while (&lt;$FILE&gt;) {\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1433838969, "creation_date": 1433838969, "answer_id": 30726929, "question_id": 30717804, "link": "https://stackoverflow.com/questions/30717804/how-can-i-search-an-xml-file-with-perl-for-a-specific-character-string/30726929#30726929", "title": "How can I search an xml file with perl for a specific character string?", "body": "<p>I would suggest that you're taking the wrong approach. XML doesn't parse well with line and regex based parsing - there's a variety of ways to create semantically identical XML that doesn't match the same regular expressions. </p>\n\n<p>I've had to adjust your XML a little too, because it's not valid. I am assuming that because you mention 'sample' that your XML <em>is</em> valid. For reference - it's useful to provide sample XML that's valid - which means all the tags open/close.</p>\n\n<p>So I'm using this:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;a:r&gt;\n    &lt;a:p&gt;\n      &lt;a:t&gt;Bailey&lt;/a:t&gt;\n    &lt;/a:p&gt;\n  &lt;/a:r&gt;\n  &lt;a:p&gt;\n    &lt;a:pPr lvl=\"1\"&gt;\n      &lt;a:lnSpc&gt;\n        &lt;a:spcPct val=\"90000\" /&gt;\n      &lt;/a:lnSpc&gt;\n    &lt;/a:pPr&gt;\n  &lt;/a:p&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Note this can be written in a variety of ways:</p>\n\n<pre><code>&lt;root\n&gt;&lt;a:r\n&gt;&lt;a:p\n&gt;&lt;a:t\n&gt;Bailey&lt;/a:t&gt;&lt;/a:p&gt;&lt;/a:r&gt;&lt;a:p\n&gt;&lt;a:pPr\nlvl=\"1\"\n&gt;&lt;a:lnSpc\n&gt;&lt;a:spcPct\nval=\"90000\"\n/&gt;&lt;/a:lnSpc&gt;&lt;/a:pPr&gt;&lt;/a:p&gt;&lt;/root&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;root&gt;&lt;a:r&gt;&lt;a:p&gt;&lt;a:t&gt;Bailey&lt;/a:t&gt;&lt;/a:p&gt;&lt;/a:r&gt;&lt;a:p&gt;&lt;a:pPr lvl=\"1\"&gt;&lt;a:lnSpc&gt;&lt;a:spcPct val=\"90000\"/&gt;&lt;/a:lnSpc&gt;&lt;/a:pPr&gt;&lt;/a:p&gt;&lt;/root&gt;\n</code></pre>\n\n<p>All of which mean the same - and hopefully illustrates why using line based parsing is a bad idea. This may not entirely apply to your use case, but I'm a firm believer that using an XML parser whenever XML is involved is no bad thing. </p>\n\n<p>Anyway - finding elements. </p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $search = 'Bailey';\n\nmy $found;\nXML::Twig-&gt;new(\n    twig_handlers =&gt; {\n        '_all_' =&gt; sub { $found++ if $_-&gt;text =~ m/$search/ }\n    }\n)-&gt;parsefile($inputFile); \n\nif ($found) {\n    print \"Found $search\\n\";\n}\nelse {\n    print \"Didn't find $search\\n\";\n}\n</code></pre>\n\n<p>Note - only 'finds' the keywords in the text of the XML, rather than in any of the attributes. This is usually more desirable than just blind matching XML structure/attributes/content. </p>\n"}], "owner": {"reputation": 27, "user_id": 4576513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/353349869e77f12a21a9be939e3bfdd4?s=128&d=identicon&r=PG&f=1", "display_name": "detro", "link": "https://stackoverflow.com/users/4576513/detro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1433838969, "creation_date": 1433792924, "last_edit_date": 1433794865, "question_id": 30717804, "link": "https://stackoverflow.com/questions/30717804/how-can-i-search-an-xml-file-with-perl-for-a-specific-character-string", "title": "How can I search an xml file with perl for a specific character string?", "body": "<pre><code>$characterString = $verb[2];\n$inputFile = $targetdirectory.\"/ppt/slides/slide\".$slidenumber.\".xml\";\n\nopen FILE, \"&lt;$inputFile&gt;\";\n  for (@lines) {\n  if ($_ =~ /$characterString/) {\n    print \"Matched $characterString \\n \";\n  } else {\n    print \"Did not match $characterString\\n\";\n}\n}\nclose FILE;\n</code></pre>\n\n<p>Here is a sample from the XML file:</p>\n\n<pre><code>&lt;a:t&gt;Bailey&lt;/a:t&gt;&lt;/a:r&gt;&lt;/a:p&gt;&lt;a:p&gt;&lt;a:pPr lvl=\"1\"&gt;&lt;a:lnSpc&gt;&lt;a:spcPct val=\"90000\"/&gt;\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>PUB ENGINE: Version 5-26-2015\nDid not match billybob\nDid not match Bailey\n</code></pre>\n\n<p>Bailey is in the xml file, but billybob is not</p>\n"}, {"tags": ["perl", "perl-mouse"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1433834105, "post_id": 30716609, "comment_id": 49507494, "body": "I think the naming of the type <code>CoercedArrayRefOfMyModuleObjects</code> is a bit unlucky. You can pass an actual array ref with <code>MyModule::Objects</code> in there and it will work, but it&#39;s not coerced. For maintainability, name the types after what they are, not where they come from. The <code>coerce =&gt; 1</code> is sufficient to tell the next guy you that it might be coerced, and even if the types are <i>somewhere</i>, a simple grep will find it. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1433834948, "post_id": 30716609, "comment_id": 49508031, "body": "Is there a reason you are using Mouse? If you need something lighter than Moose, consider using <a href=\"http://p3rl.org/Moo\" rel=\"nofollow noreferrer\">Moo</a>. There is a nice presentation by SawyerX from NLPW 2014 where he explaines why at <a href=\"https://www.youtube.com/watch?v=r2Fl6Kg1E9I\" rel=\"nofollow noreferrer\">youtube.com/watch?v=r2Fl6Kg1E9I</a>"}, {"owner": {"reputation": 4843, "user_id": 834140, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dba32ebf9d12c67b53f1c5e2d4737eca?s=128&d=identicon&r=PG", "display_name": "srchulo", "link": "https://stackoverflow.com/users/834140/srchulo"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1433857045, "post_id": 30716609, "comment_id": 49523524, "body": "@simbabque thanks for the suggestions. I&#39;ll check out that video!"}, {"owner": {"reputation": 202, "user_id": 1606164, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6306a99514c0a21ba2e88e58b998505e?s=128&d=identicon&r=PG", "display_name": "Tigran Khachikyan", "link": "https://stackoverflow.com/users/1606164/tigran-khachikyan"}, "edited": false, "score": 0, "creation_date": 1490041331, "post_id": 30716609, "comment_id": 72925657, "body": "Please refer to this question <a href=\"http://stackoverflow.com/questions/41550691/the-type-constraint-xyz-has-already-been-created/41551350#41551350\">The type constraint &#39;XYZ&#39; has already been created</a>"}], "owner": {"reputation": 4843, "user_id": 834140, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dba32ebf9d12c67b53f1c5e2d4737eca?s=128&d=identicon&r=PG", "display_name": "srchulo", "link": "https://stackoverflow.com/users/834140/srchulo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1490037516, "creation_date": 1433788606, "last_edit_date": 1433790541, "question_id": 30716609, "link": "https://stackoverflow.com/questions/30716609/mouse-type-constraint-implicitly-created", "title": "Mouse type constraint implicitly created", "body": "<p>I am trying to coerce from the type <code>ArrayRef[HashRef]</code> to <code>ArrayRef[MyModule::Object]</code>, but for some reason I am getting an error. Below is my type constraint class:</p>\n\n<pre><code>package MyModule::Types;\nuse Mouse::Util::TypeConstraints;\n\nsubtype 'CoercedArrayRefOfMyModuleObjects' =&gt; as 'ArrayRef[MyModule::Object]';\ncoerce 'CoercedArrayRefOfMyModuleObjects'\n    =&gt; from 'ArrayRef[HashRef]'\n    =&gt; via { [map { MyModule::Object-&gt;new( %{$_} ) } @{$_}] };\n\nno Mouse::Util::TypeConstraints;\n1;\n</code></pre>\n\n<p>And this is the class that has an array ref of MyModule::Objects: </p>\n\n<pre><code>use strict;\npackage MyModule;\nuse Mouse;\nuse MyModule::Types;\n\nhas objects =&gt; ( \n    is =&gt; 'rw',\n    isa =&gt; 'CoercedArrayRefOfMyModuleObjects',\n    coerce =&gt; 1,\n);\n\n__PACKAGE__-&gt;meta-&gt;make_immutable();\n\n1;\n</code></pre>\n\n<p>And this is my <code>MyModule::Object</code> class:</p>\n\n<pre><code>use strict;\npackage MyModule::Object;\nuse Mouse;\n\nhas x =&gt; (\n    is =&gt; 'rw',\n    isa =&gt; 'Int',\n);\n\n__PACKAGE__-&gt;meta-&gt;make_immutable();\n\n1;\n</code></pre>\n\n<p>But whenever I try to create an object and pass it an arrayref of hashes:</p>\n\n<pre><code>my $obj = MyModule-&gt;new(objects =&gt; [{x =&gt; 1}, {x =&gt; 2}, {x =&gt; 3}]);\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>The type constraint 'CoercedArrayRefOfMyModuleObjects' has already been created in Mouse::Util::TypeConstraints and cannot be created again in MyModule::Types ('CoercedArrayRefOfMyModuleObjects' is an implicitly created type constraint) at lib/MyModule/Types.pm line 41.\n</code></pre>\n\n<p>Does anyone know why this is?</p>\n\n<p><strong>EDIT:</strong> I think it has to do with me maybe having <code>use MyModule::Types</code> in multiple places. But I need to use it in multiple locations so that modules can be used on their own. Also, for some reason other types (I have other types defined in my TypeConstraints file) don't seem to be giving me this error. Shouldn't Mouse::Util::TypeConstraints be able to handle being included in to modules that might be used together, so that the modules could be used individually?</p>\n"}, {"tags": ["regex", "string", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1433786356, "last_edit_date": 1433786356, "creation_date": 1433785972, "answer_id": 30715883, "question_id": 30715777, "link": "https://stackoverflow.com/questions/30715777/perl-regex-merge-multiple-one-character-substrings/30715883#30715883", "title": "Perl Regex: Merge multiple one-character substrings", "body": "<pre><code>s{\\b((?:\\w )+\\w)\\b}{ ( $1 =~ s/ //gr }eg;   # 5.14+\n\ns{\\b((?:\\w )+\\w)\\b}{ ( my $s = $1 ) =~ s/ //g; $s }eg;\n</code></pre>\n\n<p>In this particular case, you could use a lookahead.</p>\n\n<pre><code>s/\\b\\w\\K (?=\\w\\b)//g;   # 5.10+\n\ns/(?&lt;=\\b\\w) (?=\\w\\b)//g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1433786409, "post_id": 30715981, "comment_id": 49489432, "body": "Jinx! I added that to my answer at the same time you posted yours!"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 2, "last_activity_date": 1433786452, "last_edit_date": 1433786452, "creation_date": 1433786334, "answer_id": 30715981, "question_id": 30715777, "link": "https://stackoverflow.com/questions/30715777/perl-regex-merge-multiple-one-character-substrings/30715981#30715981", "title": "Perl Regex: Merge multiple one-character substrings", "body": "<p>You can use a lookahead, in this way the second letter is not a part of the match and the regex engine can continue the job:</p>\n\n<pre><code>$temp =~ s/\\b\\w\\K (?=\\w\\b)//g;\n</code></pre>\n\n<p><code>\\K</code> discards all on the left from the whole match.</p>\n"}], "owner": {"reputation": 498, "user_id": 1769925, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/fb6cf77bdcefd03d0e7e7228314c179e?s=128&d=identicon&r=PG&f=1", "display_name": "user1769925", "link": "https://stackoverflow.com/users/1769925/user1769925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 30715883, "answer_count": 2, "score": 1, "last_activity_date": 1433786452, "creation_date": 1433785580, "question_id": 30715777, "link": "https://stackoverflow.com/questions/30715777/perl-regex-merge-multiple-one-character-substrings", "title": "Perl Regex: Merge multiple one-character substrings", "body": "<p>I have a string, and if there are two or more one-character units in it, I want to merge them (\"J R EWING\" --> \"JR EWING\")</p>\n\n<p>I am using this:</p>\n\n<pre><code>$temp =~ s/\\b(\\w) (\\w)\\b/$1$2/g;\n</code></pre>\n\n<p>But it of course fails for \"E T A HOFFMANN\". Any thoughts?</p>\n"}, {"tags": ["perl", "mechanize", "www-mechanize", "html-tree"], "comments": [{"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1433782545, "post_id": 30714076, "comment_id": 49487240, "body": "Why do you have to find the red banana instead of just finding the square figure?"}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "reply_to_user": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 1, "creation_date": 1433783373, "post_id": 30714076, "comment_id": 49487696, "body": "I am searching is 1000+ websites for data. They all have the same structure. What is &quot;red Banana&quot; in my simplified example-document is a fix text and a fix class that exists in all 1000+ documents. What varies (and what I am trying to extract) is what in my example is &quot;square&quot; and &quot;circle&quot;). You can think of &quot;red + Banana&quot; as a key and &quot;square&quot; as the value."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433806810, "post_id": 30714076, "comment_id": 49498921, "body": "You can forget about <code>WWW::Mechanize</code> and write just <code>my $root = HTML::TreeBuilder-&gt;new_from_url($uri)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1433788251, "post_id": 30715467, "comment_id": 49490452, "body": "This is very similar to the workaround that I use. But I expected a more native solution, i.e. a mechanize-command to search for text."}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1433794189, "post_id": 30715467, "comment_id": 49493892, "body": "Explicitly: I&#39;m not sure. I did not find an explicit documentation of a text-find-function. But &quot;I didn&#39;t find it&quot; and &quot;It doesn&#39;t exist&quot; are two different things, and this is the reason why I have to ask here. - Implicitly: Yes. WWW::Mechanize and  the many HTML::* modules cover (almost?) everything that has to do with parsing html-documents. This is why I guess that there must be a text-search-function hidden in the jungle of documentations. To search for text in a html-document is a common task, so it is hard to believe that the developers didn&#39;t create a function that performs this task."}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1433801713, "post_id": 30715467, "comment_id": 49497365, "body": "Mech is mostly concerned with navigation, so the bulk of the methods deal with links, forms, and form elements.  You&#39;ve already hit on TreeBuilder for parsing and querying the HTML, for when a simple $content =~ /something/ is not good enough."}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1433802176, "post_id": 30715467, "comment_id": 49497529, "body": "&gt; This is why I guess that there must be a text-search-function hidden in the jungle"}], "tags": [], "owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "is_accepted": false, "score": 0, "last_activity_date": 1433802355, "last_edit_date": 1433802355, "creation_date": 1433784413, "answer_id": 30715467, "question_id": 30714076, "link": "https://stackoverflow.com/questions/30714076/how-to-search-for-text-in-html-document-with-mechanize/30715467#30715467", "title": "How to search for text in html-document with Mechanize?", "body": "<p>here's psuedocode/unttested Perl:</p>\n\n<pre><code>  my @twoElements = $root-&gt;look_down('_tag' =&gt; 'div', 'class' =&gt; 'red');\n  foreach my $e ( @twoElements ) {\n     next unless $e-&gt;content_list-&gt;[0] eq 'Banana';\n     my $e2 = $e-&gt;right;   # get the sibling - might need to try left() depending on ordering\n     my ($shape) = $e2-&gt;content_list-&gt;[0] =~ /figure = (.+)/;\n\n     # do something with shape...\n\n  }\n</code></pre>\n\n<p>Not perfect, but it should get you started, and it's general enough to reuse easily.  otherwise replace</p>\n\n<pre><code>    ($shape) = $e2-&gt;content_list-&gt;[0] =~ /figure = (.+)/;\n</code></pre>\n\n<p>with something like</p>\n\n<pre><code>$shape = 'square' if $e2-&gt;content_list-&gt;[0] =~ /square/;\n</code></pre>\n\n<p>This might be a little cleaner:</p>\n\n<p>my @elements = $root->look_down('_tag' => 'div', 'class' => 'red' );\n      foreach my $e ( @elements ) {\n         next unless $e->as_trimmed_text eq 'Banana';\n         my $e2 = $e->right;\n         my ($shape) = $e2->as_trimmed_text =~ /figure = (.+)/;</p>\n\n<pre><code>     # do something with shape...\n  }\n</code></pre>\n\n<p><a href=\"https://metacpan.org/pod/WWW::Mechanize::TreeBuilder\" rel=\"nofollow\">WWW::Mechanize::TreeBuilder</a></p>\n"}], "owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 964, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1433802355, "creation_date": 1433779574, "last_edit_date": 1433794632, "question_id": 30714076, "link": "https://stackoverflow.com/questions/30714076/how-to-search-for-text-in-html-document-with-mechanize", "title": "How to search for text in html-document with Mechanize?", "body": "<p>I am using WWW::Mechanize, HTML::TreeBuilder and HTML::Element in my perl-script to navigate through html-Documents. </p>\n\n<p>I want to know how to search for an element, that contains a certain string as text.</p>\n\n<p>Here is an example of an html-document:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;ul&gt;\n      &lt;li&gt;\n       &lt;div class=\"red\"&gt;Apple&lt;/div&gt;\n       &lt;div class=\"abc\"&gt;figure = triangle&lt;/div&gt;\n      &lt;/li&gt;\n      &lt;li&gt;\n       &lt;div class=\"red\"&gt;Banana&lt;/div&gt;\n       &lt;div class=\"abc\"&gt;figure = square&lt;/div&gt;\n      &lt;/li&gt;\n      &lt;li&gt;\n       &lt;div class=\"green\"&gt;Lemon&lt;/div&gt;\n       &lt;div class=\"abc\"&gt;figure = circle&lt;/div&gt;\n      &lt;/li&gt;\n      &lt;li&gt;\n       &lt;div class=\"blue\"&gt;Banana&lt;/div&gt;\n       &lt;div class=\"abc\"&gt;figure = line&lt;/div&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I want to extract the text <code>square</code>. To get it, I have to search for an element with this properties:</p>\n\n<ul>\n<li>tag-name is \"div\"  </li>\n<li>class is \"red\"</li>\n<li>content is text \"Banana\"</li>\n</ul>\n\n<p>Then I need to get it's parent (a <code>&lt;li&gt;</code>-element), and from the parent the child who's text starts with <code>figure =</code>, but this, and the rest, is easy.</p>\n\n<p>I tried it this way:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\nuse Encode;\nuse WWW::Mechanize;\nuse HTML::TreeBuilder;\nuse HTML::Element;\n\nbinmode STDOUT, \":utf8\";\n\nmy $mech = WWW::Mechanize-&gt;new();\n\nmy $uri = 'http.....'; #URI of an existing html-document\n\n$mech-&gt;get($uri);\nif (($mech-&gt;success()) &amp;&amp; ($mech-&gt;is_html())) {\n    my $resp = $mech-&gt;response();\n    my $cont = $resp-&gt;decoded_content;\n    my $root = HTML::TreeBuilder-&gt;new_from_content($cont);\n\n    #this works, but returns 2 elements:\n    my @twoElements = $root-&gt;look_down('_tag' =&gt; 'div', 'class' =&gt; 'red');\n\n    #this returns an empty list:\n    my @empty = $root-&gt;look_down('_tag' =&gt; 'div', 'class' =&gt; 'red', '_content' =&gt; 'Banana');\n\n    # do something with @twoElements or @empty   \n}\n</code></pre>\n\n<p>What must I use instead the last command to get the wanted element?</p>\n\n<p>I am not looking for a workaround (I've found one). What I want to have is a native function of WWW::Mechanize, HTML::Tree or any other cpan-modul.</p>\n"}, {"tags": ["arrays", "perl", "csv", "foreach"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1433783577, "post_id": 30714022, "comment_id": 49487816, "body": "You did not change all the <code>$_</code> to <code>$var</code>. The <code>if</code> condition and the <code>split</code> still use <code>$_</code>."}], "answers": [{"comments": [{"owner": {"reputation": 33595, "user_id": 350890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/186bebdcf5f3045b53362efe34e56e8a?s=128&d=identicon&r=PG", "display_name": "Peter Tillemans", "link": "https://stackoverflow.com/users/350890/peter-tillemans"}, "edited": false, "score": 0, "creation_date": 1433780845, "post_id": 30714288, "comment_id": 49486286, "body": "I would use Text::CSV regardless if the current data has a &#39;|&#39; character in it. There are enough edge-cases in a &#39;simple&#39; format like CSV to not write your own parser for it in anything but the most trivial cases."}, {"owner": {"reputation": 53, "user_id": 4986708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2864b5a0105c9107bcd82de52cfe4a56?s=128&d=identicon&r=PG&f=1", "display_name": "Phillip Pinto", "link": "https://stackoverflow.com/users/4986708/phillip-pinto"}, "edited": false, "score": 0, "creation_date": 1433783248, "post_id": 30714288, "comment_id": 49487625, "body": "Thank you. The editing the if field fixed it. I didn&#39;t even think to look into the if construction. I&#39;ll look into Text::CSV, it sound like something I&#39;ll be using a lot of."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1433781359, "last_edit_date": 1433781359, "creation_date": 1433780266, "answer_id": 30714288, "question_id": 30714022, "link": "https://stackoverflow.com/questions/30714022/how-do-i-modify-elements-in-a-perl-array-inside-a-foreach-loop/30714288#30714288", "title": "How do I modify elements in a Perl array inside a foreach loop?", "body": "<p><code>/^h/</code> is not bound to anything, so the match happens against <code>$_</code>. If you want to match <code>$var</code>, you have to bind it:</p>\n\n<pre><code>if ($var =~ /^[#U]/ || $var !~ /^h/) {\n</code></pre>\n\n<p>Using <code>||</code> with two matches could probably be incorporated into a single regular expression with an alternative:</p>\n\n<pre><code>next if $var =~ /^(?: [#U] | [^h] | $ )/x;\n</code></pre>\n\n<p>i.e. The line has to start with <code>#</code>, <code>U</code>, something else than <code>h</code>, or be empty.</p>\n\n<p>You can populate a new array with the results by using <code>push</code>:</p>\n\n<pre><code>push @results, $var;\n</code></pre>\n\n<p>Also note that if your data can contain <code>|</code> quoted or escaped (or newlines etc.), you should use <a href=\"http://p3rl.org/Text::CSV\" rel=\"nofollow\">Text::CSV</a> instead of <code>split</code>.</p>\n"}], "owner": {"reputation": 53, "user_id": 4986708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2864b5a0105c9107bcd82de52cfe4a56?s=128&d=identicon&r=PG&f=1", "display_name": "Phillip Pinto", "link": "https://stackoverflow.com/users/4986708/phillip-pinto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 0, "accepted_answer_id": 30714288, "answer_count": 1, "score": 1, "last_activity_date": 1433783369, "creation_date": 1433779393, "last_edit_date": 1433783369, "question_id": 30714022, "link": "https://stackoverflow.com/questions/30714022/how-do-i-modify-elements-in-a-perl-array-inside-a-foreach-loop", "title": "How do I modify elements in a Perl array inside a foreach loop?", "body": "<p>My goal with this piece of code is to sanitize an array of elements (a list of URL's, some with special characters like <code>%</code>) so that I can eventually compare it to another file of URL's and output which ones match. The list of URL's is from a <code>.csv</code> file with the first field being the URL that I want (with some other entries that I skip over with a quick <code>if()</code> statement).</p>\n\n<pre><code>foreach my $var(@input_1) {\n    #Skip anything that doesn't start with http:\n    if ((/^[#U]/ ) || !(/^h/)) {\n        next;\n    }\n    #Split the .csv into the relevant field:\n    my @fields = split /\\s?\\|\\s?/, $_;\n    $var = uri_unescape($fields[0]);\n}\n</code></pre>\n\n<p>My delimiter is a <code>|</code> in the csv. In its current setup, and also when I change the <code>$_</code> to <code>$var</code>, it only returns blank lines. When I remove the <code>$var</code> declaration at the beginning of the loop and use <code>$_</code>, it will output the URL's in the correct format. But in that case, how can I assign the output to the same element in the array? Would this require a second array to output the value to?</p>\n\n<p>I'm relatively new to perl, so I'm sure there is some stuff that I'm missing. I have no clue at this moment why removing the <code>$var</code> at the <code>foreach</code> declaration breaks the parsing of the <code>@fields</code> line, but removing it and using <code>$_</code> doesn't. Reading the <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow\">perlsyn</a> documentation did not help as much as I would have liked. Any help appreciated!</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4942263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be13d6e125659306dd90a9142e1249e4?s=128&d=identicon&r=PG&f=1", "display_name": "Genome K", "link": "https://stackoverflow.com/users/4942263/genome-k"}, "edited": false, "score": 0, "creation_date": 1433785465, "post_id": 30714503, "comment_id": 49488860, "body": "thanks a lot. Its working !! What about the split , if we have \\t delimited data ??"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1, "user_id": 4942263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be13d6e125659306dd90a9142e1249e4?s=128&d=identicon&r=PG&f=1", "display_name": "Genome K", "link": "https://stackoverflow.com/users/4942263/genome-k"}, "edited": false, "score": 0, "creation_date": 1433794975, "post_id": 30714503, "comment_id": 49494310, "body": "<code>split</code> defaults to &#39;any whitespace&#39;. <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/split.html</a> so it will work for tabs. But if you want <i>just</i> tabs, then <code>split &#47;\\t&#47;;</code> will do the trick."}, {"owner": {"reputation": 1, "user_id": 4942263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be13d6e125659306dd90a9142e1249e4?s=128&d=identicon&r=PG&f=1", "display_name": "Genome K", "link": "https://stackoverflow.com/users/4942263/genome-k"}, "edited": false, "score": 0, "creation_date": 1434028889, "post_id": 30714503, "comment_id": 49613974, "body": "Now, I want only the numbers, not the things&#39;s name. What I have to do ??"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1, "user_id": 4942263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be13d6e125659306dd90a9142e1249e4?s=128&d=identicon&r=PG&f=1", "display_name": "Genome K", "link": "https://stackoverflow.com/users/4942263/genome-k"}, "edited": false, "score": 0, "creation_date": 1434031538, "post_id": 30714503, "comment_id": 49616210, "body": "remove <code>&quot;$thing =&gt; &quot;,</code> from the print statement."}, {"owner": {"reputation": 1, "user_id": 4942263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be13d6e125659306dd90a9142e1249e4?s=128&d=identicon&r=PG&f=1", "display_name": "Genome K", "link": "https://stackoverflow.com/users/4942263/genome-k"}, "edited": false, "score": 0, "creation_date": 1434467636, "post_id": 30714503, "comment_id": 49784803, "body": "Its fine. Its a great help from your side. Now, I have a different question."}, {"owner": {"reputation": 1, "user_id": 4942263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be13d6e125659306dd90a9142e1249e4?s=128&d=identicon&r=PG&f=1", "display_name": "Genome K", "link": "https://stackoverflow.com/users/4942263/genome-k"}, "edited": false, "score": 0, "creation_date": 1434658427, "post_id": 30714503, "comment_id": 49886703, "body": "Please give your EMAIL id. I want to contact you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1, "user_id": 4942263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be13d6e125659306dd90a9142e1249e4?s=128&d=identicon&r=PG&f=1", "display_name": "Genome K", "link": "https://stackoverflow.com/users/4942263/genome-k"}, "edited": false, "score": 0, "creation_date": 1434982570, "post_id": 30714503, "comment_id": 49994726, "body": "Sorry, I&#39;m not inclined to give out my email ID. If you have a different question, then the appropriate course would be to post a new question."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1433781650, "last_edit_date": 1433781650, "creation_date": 1433781000, "answer_id": 30714503, "question_id": 30713676, "link": "https://stackoverflow.com/questions/30713676/how-to-count-each-entry-from-each-column-corresponding-to-a-search-term/30714503#30714503", "title": "How to count each entry from each column corresponding to a search term", "body": "<p>Like this:</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\n\nmy %count_elements_of;\nmy %count_of;\n\nwhile (&lt;DATA&gt;) {\n    my ( $term, @things ) = split;\n    $count_of{$term}++;\n    foreach my $thing (@things) {\n        $count_elements_of{$term}{$thing}++;\n    }\n}\n\nforeach my $term ( sort keys %count_elements_of ) {\n    print \"$term =&gt; $count_of{$term}, \";\n    foreach my $thing ( sort keys %{ $count_elements_of{$term} } ) {\n        print \"$thing =&gt; $count_elements_of{$term}{$thing}, \";\n    }\n    print \"\\n\";\n}\n\n\n__DATA__\na sk asd\na sk lsd\na mk wsd\na lk asd\na lk lsd\na pk wsd\na pk asd\nb sk lsd\nb sk wsd\nb mk asd\nb lk lsd\nb lk wsd\nc sk asd\nc sk lsd\nc mk wsd\nc lk asd\nc lk lsd\nd sk wsd\nd sk asd\nd mk lsd\n</code></pre>\n\n<p>Which will print:</p>\n\n<pre><code>a =&gt; 7, asd =&gt; 3, lk =&gt; 2, lsd =&gt; 2, mk =&gt; 1, pk =&gt; 2, sk =&gt; 2, wsd =&gt; 2, \nb =&gt; 5, asd =&gt; 1, lk =&gt; 2, lsd =&gt; 2, mk =&gt; 1, sk =&gt; 2, wsd =&gt; 2, \nc =&gt; 5, asd =&gt; 2, lk =&gt; 2, lsd =&gt; 2, mk =&gt; 1, sk =&gt; 2, wsd =&gt; 1, \nd =&gt; 3, asd =&gt; 1, lsd =&gt; 1, mk =&gt; 1, sk =&gt; 2, wsd =&gt; 1, \n</code></pre>\n\n<p>To explain - what you need is hashes, which are really one of perl's 'killer features'. We have two in the example above, because you want to count two different things - occurrences of the <em>first</em> letter, and occurrences of each of the sub elements within that letter prefix.</p>\n\n<ul>\n<li><p>So we run through each line of <code>DATA</code> (you probably want to use a real filehandle here). </p></li>\n<li><p>We use <code>split</code> to turn the line into an array, delimited by spaces. </p></li>\n<li><p>We assign the first element to <code>$term</code> and all the other things on the line into <code>@things</code>.</p></li>\n<li><p>iterate the <code>@things</code> list, and update the total count within a particular letter, and also the per prefix/letter <code>%count_elements_of</code> hash. </p></li>\n<li><p>And then we iterate the keys of our hashes (sorting them) and printing the results. </p></li>\n</ul>\n\n<p>What we don't do in the above, is handle completely missing keys particularly well. If you want to do that, you can't use <code>keys</code> on the hash any more - because 'not present' is 'undefined'. </p>\n\n<p>So instead, you need to:</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\n\nmy %count_elements_of;\nmy %count_of;\nmy %all_sub_elements; \n\nwhile (&lt;DATA&gt;) {\n    my ( $term, @things ) = split;\n    $count_of{$term}++;\n    foreach my $thing (@things) {\n        $count_elements_of{$term}{$thing}++;\n        $all_sub_elements{$thing}++; \n    }\n}\n\nforeach my $term ( sort keys %count_elements_of ) {\n    print \"$term =&gt; $count_of{$term}, \";\n    foreach my $thing ( sort keys %all_sub_elements ) {\n        print \"$thing =&gt; \", $count_elements_of{$term}{$thing} // 0,\" \";\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>This will 'build up' a list of all the things that might need printing in <code>%all_sub_elements</code> which we use later to figure out what to output. We use the <code>//</code> operator, which is a conditional <em>similar</em> to <code>||</code> (logical or) but is for <code>defined</code>. It doesn't make much difference in this case, but I think it's a useful distinction when operating on hashes normally. (Because as hash with a value of zero isn't the same as one with a missing value). </p>\n\n<p>Which then prints:</p>\n\n<pre><code>a =&gt; 7, asd =&gt; 3 lk =&gt; 2 lsd =&gt; 2 mk =&gt; 1 pk =&gt; 2 sk =&gt; 2 wsd =&gt; 2 \nb =&gt; 5, asd =&gt; 1 lk =&gt; 2 lsd =&gt; 2 mk =&gt; 1 pk =&gt; 0 sk =&gt; 2 wsd =&gt; 2 \nc =&gt; 5, asd =&gt; 2 lk =&gt; 2 lsd =&gt; 2 mk =&gt; 1 pk =&gt; 0 sk =&gt; 2 wsd =&gt; 1 \nd =&gt; 3, asd =&gt; 1 lk =&gt; 0 lsd =&gt; 1 mk =&gt; 1 pk =&gt; 0 sk =&gt; 2 wsd =&gt; 1 \n</code></pre>\n\n<p>You could - alternatively - define an array:</p>\n\n<pre><code>my @output_order = qw ( sk lk mk asd lsd wsd );\n</code></pre>\n\n<p>And instead use that for the ordering of your output if you prefer:</p>\n\n<pre><code>foreach my $thing ( @output_order ) {\n</code></pre>\n\n<p>etc.</p>\n"}], "owner": {"reputation": 1, "user_id": 4942263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be13d6e125659306dd90a9142e1249e4?s=128&d=identicon&r=PG&f=1", "display_name": "Genome K", "link": "https://stackoverflow.com/users/4942263/genome-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1434720295, "creation_date": 1433778453, "last_edit_date": 1433843483, "question_id": 30713676, "link": "https://stackoverflow.com/questions/30713676/how-to-count-each-entry-from-each-column-corresponding-to-a-search-term", "title": "How to count each entry from each column corresponding to a search term", "body": "<p>I have a input file like this (3 column data). Different entries are also present in each rows.. corresponding to a .. b .. and c ...</p>\n\n<pre><code>a   sk  asd                 \na   sk  lsd                 \na   mk  wsd                 \na   lk  asd                 \na   lk  lsd                 \na   pk  wsd                 \na   pk  asd                 \nb   sk  lsd                 \nb   sk  wsd                 \nb   mk  asd                 \nb   lk  lsd                 \nb   lk  wsd                 \nc   sk  asd                 \nc   sk  lsd                 \nc   mk  wsd                 \nc   lk  asd                 \nc   lk  lsd                 \nd   sk  wsd                 \nd   sk  asd                 \nd   mk  lsd\n</code></pre>\n\n<p>I want to write a perl program, which, first count a, b, c and d. and then count each entries corresponding to a, b, c and d.</p>\n\n<p>Output will be like this..</p>\n\n<pre><code>a=7 sk=2    mk=1    lk=2    pk=2    asd=3   lsd=2   wsd=2    \nb=5 sk=2    mk=1    lk=2    pk=0    asd=1   lsd=2   wsd=2    \nc=5 sk=2    mk=1    lk=2    pk=0    asd=2   lsd=2   wsd=1\nd=3 sk=2    mk=1    lk=0    pk=0    asd=1   lsd=1   wsd=1\n</code></pre>\n\n<p>How I can make this. Please help ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1433775830, "post_id": 30712297, "comment_id": 49482791, "body": "@ikegami: The OP says \u201cHow can I print out the command that it tries to execute\u201d so it clearly <i>did</i> occur to them to do so"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433775866, "post_id": 30712297, "comment_id": 49482810, "body": "@Borodin, Indeed, oops."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433776035, "post_id": 30712297, "comment_id": 49482916, "body": "There are some very major off-topic issues with the above code, starting with the dynamic generate of variable names."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433776331, "post_id": 30712297, "comment_id": 49483131, "body": "I am puzzled about what you are showing us, and you seem to be confused about what is Perl code and what is shell. My first thought isn&#39;t about <code>$old_file</code> and <code>$new_file</code> but rather where <code>$ct</code>, <code>$old_view</code> and <code>$new_view</code> come from, and why you expect Perl to be able to see the contents of C++ source files. If you explain more about what you need to do and how you are running your program then I am sure we can help"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1433778592, "last_edit_date": 1433778592, "creation_date": 1433775900, "answer_id": 30712714, "question_id": 30712297, "link": "https://stackoverflow.com/questions/30712297/badly-placed-s-error-when-running-loc-command/30712714#30712714", "title": "\u201cBadly placed ()&#39;s\u201d error when running loc command", "body": "<blockquote>\n  <p>It has obviously something to do with my <code>${\"${file_type}_flag\"}</code> but I don't know how to debug this. How can I print out the command that it tries to execute?</p>\n</blockquote>\n\n<p>With <code>print</code>, of course.</p>\n\n<pre><code>print(qq{${loc} ${\"${type}_flag\"} ${old_view_path}/${old_file} &gt; ${tmpdir}/old_file\\n});\n</code></pre>\n\n<p><code>warn</code> will send it to STDERR instead.</p>\n\n<pre><code>warn(qq{${loc} ${\"${type}_flag\"} ${old_view_path}/${old_file} &gt; ${tmpdir}/old_file\\n});\n</code></pre>\n"}], "owner": {"reputation": 1465, "user_id": 1734929, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fa94be4b6d99305d3854003af58f5a41?s=128&d=identicon&r=PG", "display_name": "anders", "link": "https://stackoverflow.com/users/1734929/anders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 30712714, "answer_count": 1, "score": 0, "last_activity_date": 1433778592, "creation_date": 1433774793, "last_edit_date": 1433775638, "question_id": 30712297, "link": "https://stackoverflow.com/questions/30712297/badly-placed-s-error-when-running-loc-command", "title": "\u201cBadly placed ()&#39;s\u201d error when running loc command", "body": "<p>I keep getting errors like <code>Badly placed ()'s</code> and I don't understand why.</p>\n\n<p>The following row is giving me this printout</p>\n\n<pre><code>${tmp} = `${loc} ${\"${type}_flag\"} ${old_view_path}/${old_file} &gt; ${tmpdir}/old_file`;\n</code></pre>\n\n<p>I'm running a command like this</p>\n\n<pre><code>system(\"${ct} startview ${new_view}\");\nsystem(\"${ct} startview ${old_view}\");\n${new_view_path} = \"/view/${new_view}\";\n${old_view_path} = \"/view/${old_view}\";\n${loc} = \"/proj/uz/util/bin/loc\";\n\n@{file_types} = ();\n${file_type} = \"Erlang\";\npush @{file_types},${file_type};\n@{\"${file_type}_ext\"} = split /,/,\"erl,hrl\";\n${\"${file_type}_flag\"} = \"-erl\";\n\n${file_type} = \"IDL\";\npush @{file_types},${file_type};\n@{\"${file_type}_ext\"} = split /,/,\"idl\";\n${\"${file_type}_flag\"} = \"-erl\";\n\n${file_type} = \"C\";\npush @{file_types},${file_type};\n@{\"${file_type}_ext\"} = split /,/,\"c,h\";\n${\"${file_type}_flag\"} = \"-c\";\n\n${file_type} = \"C++\";\npush @{file_types},${file_type};\n@{\"${file_type}_ext\"} = split /,/,\"cc, cpp, hh, hpp\";\n${\"${file_type}_flag\"} = \"-c++\";\n\n${file_type} = \"Assembler\";\npush @{file_types},${file_type};\n@{\"${file_type}_ext\"} = split /,/,\"s\";\n${\"${file_type}_flag\"} = \"-c\";\n\n${file_type} = \"Java\";\npush @{file_types},${file_type};\n@{\"${file_type}_ext\"} = split /,/,\"java,classes\";\n${\"${file_type}_flag\"} = \"-c++\";\n\nforeach ${type} (@{file_types}){\n     //The bellow give me sometimes error like badly placed ()'s\n     ${tmp} = `${loc} ${\"${type}_flag\"} ${old_view_path}/${old_file} &gt; ${tmpdir}/old_file`;\n}\n</code></pre>\n\n<p>It has obviously something to do with my <code>${\"${file_type}_flag\"}</code> but I don't know how to debug this. How can I print out the command that it tries to execute?</p>\n\n<p>Don't mention that <code>${old_file}</code> or <code>${new_file}</code> don't exist. They are on the form <code>nameOfFile.h</code> or <code>nameOfFile.cpp</code> etc.</p>\n"}, {"tags": ["perl", "user-interface", "crash", "interpreter", "tkx"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1433774345, "post_id": 30711895, "comment_id": 49481606, "body": "What about adding <code>$mw-&gt;g_destroy</code> before <code>exit</code>?"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1433774583, "post_id": 30711895, "comment_id": 49481791, "body": "I guess that works, but still why would it be crashing the interpreter if you don&#39;t manually destroy the window first?  Perl is supposed to be able to clean up and destroy the window itself."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1433774714, "post_id": 30711895, "comment_id": 49481895, "body": "During global destruction, objects might be destroyed in any order."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1433782145, "post_id": 30711895, "comment_id": 49487025, "body": "Hmm that&#39;s interesting to know.  What&#39;s strange is this seemed to be working before I switched from 64 bit Perl to 32 bit to try and solve a different issue.  I think this showed up after I switched to 32 bit Perl.  I will try switching back to the 64 bit version and see if it works without using <code>g_destroy</code> and I will let you know what I find."}], "answers": [{"tags": [], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "is_accepted": true, "score": 1, "last_activity_date": 1433788172, "creation_date": 1433788172, "answer_id": 30716488, "question_id": 30711895, "link": "https://stackoverflow.com/questions/30711895/perl-command-line-interpreter-crashing-on-exit/30716488#30716488", "title": "Perl Command Line Interpreter crashing on exit", "body": "<p>It appears that this issue started when I switched from 64 bit Perl to 32 bit Perl.  Switching back to the 64 bit version of Perl solved the problem.</p>\n\n<p>It is worth noting that choroba's solution to destroy the main window using <code>g_destroy</code> before exiting did solve the problem even when running the 32 bit version of Perl.  Also it is probably better practice to manually destroy your window before exiting even if Perl can clean it up on its own... you never know what version of Perl someone else trying to run your script might have!</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 30716488, "answer_count": 1, "score": 1, "last_activity_date": 1433788172, "creation_date": 1433773754, "last_edit_date": 1433774383, "question_id": 30711895, "link": "https://stackoverflow.com/questions/30711895/perl-command-line-interpreter-crashing-on-exit", "title": "Perl Command Line Interpreter crashing on exit", "body": "<p>I have an issue where exiting a Perl <code>Tkx</code> script causes the Perl Command Line Interpreter to crash.</p>\n\n<p>Ex:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Tkx;\n\nmy $mw     = Tkx::widget-&gt;new('.');\nmy $button = $mw-&gt;new_ttk__button(-text =&gt; \"Hello\", -command =&gt; \\&amp;main);\n\nTkx::pack($button);\n\nTkx::MainLoop;\n\nsub main {\n    print \"TESTING\\n\";\n    exit 0;\n}\n</code></pre>\n\n<p>This code generates the following output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/tqX5f.png\" alt=\"Main Window\"></p>\n\n<p>Clicking the \"Hello\" button invokes the <code>main()</code> subroutine which prints \"TESTING\" and then attempts to exit and crashes the Command Line Interpreter:</p>\n\n<p><img src=\"https://i.stack.imgur.com/etgrr.png\" alt=\"Error Message\"></p>\n\n<p>This only seems to be happening with <code>Tkx</code> scripts and will only crash if the program has already entered the <code>MainLoop</code> before calling <code>exit</code>.   Does anyone know what is going on here?</p>\n\n<hr>\n\n<p>Perl version information:</p>\n\n<p><img src=\"https://i.stack.imgur.com/2QihC.png\" alt=\"Perl Version\"></p>\n"}, {"tags": ["perl", "translate"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 4986395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e10ac03738f74577a6a63fb3355f839?s=128&d=identicon&r=PG&f=1", "display_name": "vikas81", "link": "https://stackoverflow.com/users/4986395/vikas81"}, "edited": false, "score": 0, "creation_date": 1433839880, "post_id": 30710568, "comment_id": 49510945, "body": "great!. Thanks a lot Sobrique for this detail explanation. Appreciate your quick help."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 8, "last_activity_date": 1433777663, "last_edit_date": 1433777663, "creation_date": 1433770483, "answer_id": 30710568, "question_id": 30710164, "link": "https://stackoverflow.com/questions/30710164/need-help-in-understanding-perl-tr-command-with-d/30710568#30710568", "title": "Need help in understanding perl tr command with /d", "body": "<p><code>/d</code> denotes <code>delete</code>. </p>\n\n<p>It's quite unusual to do a <code>tr</code> like that because it's confusing.</p>\n\n<pre><code>tr/a-z//d\n</code></pre>\n\n<p>would delete all 'a-z' characters. </p>\n\n<pre><code>tr/a-z/b/ \n</code></pre>\n\n<p>would transliterate all <code>a-z</code> characters to <code>b</code>. </p>\n\n<p>What's happening here though is - because your transliteration doesn't map an equal number of character on each side - anything that <em>doesn't</em> map is deleted.</p>\n\n<p>So what you're effectively doing is:</p>\n\n<pre><code>tr/b-z//d;\ntr/a/b/;\n</code></pre>\n\n<p>E.g. transliterating all the <code>a</code>s to <code>b</code>s and then deleting anything else (except spaces and dots). </p>\n\n<p>To illustrate:</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $string = 'the cat sat on the mat.';\n$string =~ tr/the/xyz/d;\n\nprint \"$string\\n\";\n</code></pre>\n\n<p>Warns:</p>\n\n<pre><code>Useless use of /d modifier in transliteration operator at line 5.\n</code></pre>\n\n<p>and prints:</p>\n\n<pre><code>xyz cax sax on xyz max.\n</code></pre>\n\n<p>If you change that to:</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\nmy $string = 'the cat sat on the mat.';\n$string =~ tr/the/xy/d;\n\nprint \"$string\\n\";\n</code></pre>\n\n<p>You get instead:</p>\n\n<pre><code>xy cax sax on xy max.\n</code></pre>\n\n<p>And thus: <code>t</code> -> <code>x</code> and <code>h</code> -> <code>y</code>. <code>e</code> just gets deleted. </p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 4986395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e10ac03738f74577a6a63fb3355f839?s=128&d=identicon&r=PG&f=1", "display_name": "vikas81", "link": "https://stackoverflow.com/users/4986395/vikas81"}, "edited": false, "score": 2, "creation_date": 1433840188, "post_id": 30711197, "comment_id": 49511164, "body": "thank you serenesat for the quick help. As sobrique explained i was unaware of the effective result of tr/b-z//d; tr/a/b/;"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 3, "last_activity_date": 1433772072, "creation_date": 1433772072, "answer_id": 30711197, "question_id": 30710164, "link": "https://stackoverflow.com/questions/30710164/need-help-in-understanding-perl-tr-command-with-d/30711197#30711197", "title": "Need help in understanding perl tr command with /d", "body": "<p><code>d</code> is used to delete found but not replaced characters.  </p>\n\n<p>To remove the characters which are not in the matching list can be done by appending <code>d</code> to the end of the <a href=\"http://perldoc.perl.org/functions/tr.html\" rel=\"nofollow\"><code>tr</code></a> operator.</p>\n\n<pre><code>#!/usr/bin/perl \n\nmy $string = 'my name is serenesat';\n$string =~ tr/a-z/bcd/d;\nprint \"$string\\n\";\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code> b  b\n</code></pre>\n\n<p>Not matching characters in the string is removed, and only the matching character replaced (<code>a</code> replaced with <code>b</code>).</p>\n"}], "owner": {"reputation": 91, "user_id": 4986395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e10ac03738f74577a6a63fb3355f839?s=128&d=identicon&r=PG&f=1", "display_name": "vikas81", "link": "https://stackoverflow.com/users/4986395/vikas81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 1, "accepted_answer_id": 30710568, "answer_count": 2, "score": 7, "last_activity_date": 1433777663, "creation_date": 1433769350, "last_edit_date": 1433769715, "question_id": 30710164, "link": "https://stackoverflow.com/questions/30710164/need-help-in-understanding-perl-tr-command-with-d", "title": "Need help in understanding perl tr command with /d", "body": "<p>I came across the following Perl example on the web.</p>\n\n<pre><code>#!/usr/bin/perl \n\n$string = 'the cat sat on the mat.';\n$string =~ tr/a-z/b/d;\n\nprint \"$string\\n\";\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>b b   b.\n</code></pre>\n\n<p>Can someone please explain how ? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1433756836, "post_id": 30705856, "comment_id": 49469346, "body": "Why you do not use <a href=\"http://search.cpan.org/~mschilli/Log-Log4perl-1.46/lib/Log/Log4perl.pm\" rel=\"nofollow noreferrer\">log4perl</a>?"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1433756990, "post_id": 30705856, "comment_id": 49469446, "body": "@Jens, two reasons: first,  feel <code>Log4Perl</code> is much more complicated that just a <code>say STDERR &quot;something&quot; and exit</code>, and second, <code>Log4Perl</code> is not a core module. People will need to install a module just to display error messages. This sounds a bit too complex and not very <a href=\"http://en.wikipedia.org/wiki/KISS_principle\" rel=\"nofollow noreferrer\">KISS</a>."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1433757118, "post_id": 30705856, "comment_id": 49469543, "body": "But reinventing the wheel is also no good solution."}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1433757370, "post_id": 30705856, "comment_id": 49469722, "body": "@Jens so can you provide a solution with Log4Perl that does what I need? With <code>use Log::Log4perl qw(:easy); Log::Log4perl-&gt;easy_init($ERROR); ERROR &quot;This gets logged&quot;;</code> I don&#39;t get the expected message <code>Error: This gets logged</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433769049, "post_id": 30705856, "comment_id": 49477383, "body": "An exit code of <code>-1</code> makes no sense. Use non-negative numbers."}], "answers": [{"comments": [{"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1433832258, "post_id": 30710041, "comment_id": 49506454, "body": "Actually I love Perl but these very subtle subtleties such as the effect of a <code>\\n</code> confuses me all the time. Where can I find a nice cheat sheet with all these nice details ?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1433768982, "creation_date": 1433768982, "answer_id": 30710041, "question_id": 30705856, "link": "https://stackoverflow.com/questions/30705856/display-an-error-on-stderr-and-exit-in-perl/30710041#30710041", "title": "Display an error on STDERR and exit in Perl?", "body": "<p><code>die</code> doesn't output a stack trace; it merely displays the line on which <code>die</code> is located, and even that can be omitted by ending the message with a line feed.</p>\n\n<pre><code>$ perl -e'die \"foo\\n\"'\nfoo\n</code></pre>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 30710041, "answer_count": 1, "score": 1, "last_activity_date": 1438638989, "creation_date": 1433756645, "last_edit_date": 1438638989, "question_id": 30705856, "link": "https://stackoverflow.com/questions/30705856/display-an-error-on-stderr-and-exit-in-perl", "title": "Display an error on STDERR and exit in Perl?", "body": "<p>I currently implement my error display as below:</p>\n\n<pre><code>#!/usr/bin/env perl\nerror(\"Something happened\");\n\nsub error {say STDERR \"Error: \", shift; and exit 1}\n</code></pre>\n\n<p>I am wondering if a better solution exists. </p>\n\n<p>I don\u2019t want to use <code>die</code> because the output with the traceback is sometimes too cryptic for basic users. I want a clean and simple message.</p>\n\n<p>Actually I do the same with </p>\n\n<pre><code>sub verb {say STDERR \"Info: \", shift;}\nsub warning {say STDERR \"Warning: \", shift;}\n</code></pre>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1433755477, "post_id": 30705384, "comment_id": 49468459, "body": "<a href=\"http://search.cpan.org/~tmtm/Spreadsheet-ParseExcel-Simple-1.04/lib/Spreadsheet/ParseExcel/Simple.pm\" rel=\"nofollow noreferrer\"><code>Spreadsheet::ParseExcel::Simple</code></a> module is not installed. First install this module."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1433764888, "post_id": 30705384, "comment_id": 49474509, "body": "Before you can program, you must learn how to read. The message says the module can&#39;t be located on your computer, not that you did not <code>use</code> it in your script. Your script has many problems, but they are not relevant."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1433764952, "post_id": 30705384, "comment_id": 49474544, "body": "Also, don&#39;t you get tired of typing <code>sheet</code> everywhere?"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 4502871, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/caab609e3d6f324b0e47908e22506943?s=128&d=identicon&r=PG&f=1", "display_name": "vivi xu", "link": "https://stackoverflow.com/users/4502871/vivi-xu"}, "edited": false, "score": 0, "creation_date": 1434095524, "post_id": 30705471, "comment_id": 49644725, "body": "Do I add this line under <code>use Spreadsheet::ParseExcel::Simple;</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 147, "user_id": 4502871, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/caab609e3d6f324b0e47908e22506943?s=128&d=identicon&r=PG&f=1", "display_name": "vivi xu", "link": "https://stackoverflow.com/users/4502871/vivi-xu"}, "edited": false, "score": 0, "creation_date": 1434100036, "post_id": 30705471, "comment_id": 49647215, "body": "No. It&#39;s not part of the script. You need to run this on your command line."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1433755539, "creation_date": 1433755539, "answer_id": 30705471, "question_id": 30705384, "link": "https://stackoverflow.com/questions/30705384/error-with-spreadsheetparseexcelsimple-in-perl/30705471#30705471", "title": "Error with Spreadsheet::ParseExcel::Simple in Perl", "body": "<p>That error means the module cannot be located. This probably means you need to install the module first. </p>\n\n<p>I'm guessing you've ActivePerl, so what you need to do is:</p>\n\n<pre><code>ppm install Spreadsheet::ParseExcel::Simple\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 4502871, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/caab609e3d6f324b0e47908e22506943?s=128&d=identicon&r=PG&f=1", "display_name": "vivi xu", "link": "https://stackoverflow.com/users/4502871/vivi-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "closed_date": 1433764793, "answer_count": 1, "score": -1, "last_activity_date": 1433755539, "creation_date": 1433755306, "question_id": 30705384, "link": "https://stackoverflow.com/questions/30705384/error-with-spreadsheetparseexcelsimple-in-perl", "closed_reason": "Duplicate", "title": "Error with Spreadsheet::ParseExcel::Simple in Perl", "body": "<p>I have a perl script which extracts rows from many Excel spreadsheets in a directory, however, it's not working due to some error messages:\n<img src=\"https://i.stack.imgur.com/lHiBr.png\" alt=\"enter image description here\"></p>\n\n<p>I didn't know why I had this error since I only used <code>Spreadsheet::ParseExcel::Simple</code> twice in my script:</p>\n\n<ol>\n<li><p><code>use Spreadsheet::ParseExcel::Simple;</code></p></li>\n<li><p><code>my $xls = Spreadsheet::ParseExcel::Simple-&gt;read($exxfilename);</code></p></li>\n</ol>\n\n<p>Here's the whole chunk of code for your reference:</p>\n\n<pre><code> # Get rows from many Excel spreadsheets in a directory\n###################################\n #! /usr/local/bin/perl -w\nuse strict;\nuse Spreadsheet::ParseExcel::Simple;\n\n#----------------------------------------------------------------------------------------------------------\n# Read Directory\n#-------------------------------------------------------------------------------   ---------------------------   \nmy $excel_directory=getcwd;\n\nmy $out_directory = 'xxxout';\nopendir(EXCELDIR, $excel_directory) || die (\"no excel directory\");\nmy @excelfiles = readdir(EXCELDIR);\nclosedir(EXCELDIR);\n\nchdir($excel_directory);\n   my $LPHname;    # String to hold Local Public Health Name.\n   my @sheetarray; # Array to hold the row.\n   my $sheetcount; # Array element in the row.\n   my $sheetname; # Name of the Excel spreadsheet.\n   my $sheettemp;  # Temporary string to hold row for join.\n   my $cellnumber;  # Cell number in the row.\n   my $cellwanted;  # Cell number in the row.\n   my $rowwanted;  # Row number wanted.\n   my $county_namecell;  # Cell for county name.\n   my $county_namerow;  # Row for county name.\n foreach my $exxfilename (@excelfiles){\n if ($exxfilename =~ /^\\.+.*/) { next; }\n my $xls = Spreadsheet::ParseExcel::Simple-&gt;read($exxfilename);\n foreach my $sheet ($xls-&gt;sheets) {\n   $sheetname= $sheet-&gt;{sheet}-&gt;{Name}; # Sheet Name\n   if ($sheetname !~ '2007 Budget') { next; }\n   $sheetcount=0;\n   $county_namecell=11;\n   $county_namerow=1;\n#      $cellwanted=4;\n   $rowwanted=11;\n\n   while ($sheet-&gt;has_data) {\n        my @data = $sheet-&gt;next_row;\n        $sheetcount++;\n     if ($sheetcount==$county_namerow){\n        $cellnumber=0;\n        foreach my $ttcell (@data) {\n            $cellnumber++;\n            if ($cellnumber != $county_namecell ){next;};\n             $sheettemp=$sheetarray[$sheetcount];\n#                 $sheetarray[$sheetcount]=join(\"\\t\",$sheettemp,$ttcell);\n             $LPHname=$ttcell;\n        }\n     } \n\n#        if (($sheetcount &lt; ($rowwanted-1)) || \n           ($sheetcount &gt; ($rowwanted+7))){next;}\n     if ($sheetcount != $rowwanted){next;};\n     $cellnumber=0;\n     $sheetarray[$sheetcount]=join(\"\\t\",$sheettemp,$LPHname);\n     foreach my $ttcell (@data) {\n        $cellnumber++;\n #    if ($cellnumber != $cellwanted ){next;};\n        $sheettemp=$sheetarray[$sheetcount];\n        $sheetarray[$sheetcount]=join(\"\\t\",$sheettemp,$ttcell);\n     }\n   }\n}\nforeach my $sheetline (@sheetarray){\n    print $sheetline,\"\\n\";\n}\n}\nexit\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1433753842, "post_id": 30704729, "comment_id": 49467412, "body": "Welcome to Stack Overflow. Please read the <a href=\"https://stackoverflow.com/tour\">faq</a> about new posts and <a href=\"https://stackoverflow.com/posts/30704729/edit\">edit</a> your question. It&#39;s not clear what you are asking right now."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1433753883, "post_id": 30704729, "comment_id": 49467441, "body": "When I run your code, I get 99 formatted rows. What&#39;s the problem?"}, {"owner": {"reputation": 53, "user_id": 4960330, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/959978027379715/picture?type=large", "display_name": "Vikas Vykuntham Veerabathini", "link": "https://stackoverflow.com/users/4960330/vikas-vykuntham-veerabathini"}, "edited": false, "score": 0, "creation_date": 1433754219, "post_id": 30704729, "comment_id": 49467658, "body": "m only getting 43 formatted rows...@choroba"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1433754355, "post_id": 30704729, "comment_id": 49467758, "body": "Please stop writing <code>M</code> or <code>m</code>, write <code>am</code> or <code>I am</code> or <code>I&#39;m</code>."}, {"owner": {"reputation": 53, "user_id": 4960330, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/959978027379715/picture?type=large", "display_name": "Vikas Vykuntham Veerabathini", "link": "https://stackoverflow.com/users/4960330/vikas-vykuntham-veerabathini"}, "edited": false, "score": 0, "creation_date": 1433754511, "post_id": 30704729, "comment_id": 49467865, "body": "yeah sure @serenesat..i am so sorry abt. that"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4960330, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/959978027379715/picture?type=large", "display_name": "Vikas Vykuntham Veerabathini", "link": "https://stackoverflow.com/users/4960330/vikas-vykuntham-veerabathini"}, "edited": false, "score": 0, "creation_date": 1433755697, "post_id": 30705416, "comment_id": 49468586, "body": "thank u @serenesat it&#39;s working properly now i m getting 100 formatted rows, i dont know what was wrong with previous code.."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 53, "user_id": 4960330, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/959978027379715/picture?type=large", "display_name": "Vikas Vykuntham Veerabathini", "link": "https://stackoverflow.com/users/4960330/vikas-vykuntham-veerabathini"}, "edited": false, "score": 0, "creation_date": 1433755769, "post_id": 30705416, "comment_id": 49468640, "body": "Even for me your previous code was giving 100 formatted rows. :)"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": true, "score": 1, "last_activity_date": 1433755392, "creation_date": 1433755392, "answer_id": 30705416, "question_id": 30704729, "link": "https://stackoverflow.com/questions/30704729/in-perl-using-spreadsheetwriteexcel-for-formatting-but-its-not-able-to-form/30705416#30705416", "title": "In Perl, using &#39;Spreadsheet::WriteExcel&#39; for formatting but its not able to format the excel after 43 rows", "body": "<p>If I am understanding you correctly. I have just modified your code. This will give you 100 formatted rows:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Spreadsheet::WriteExcel;\nmy $xls = $ARGV[0];\n\n# Create a new workbook called simple.xls and add a worksheet\nmy $workbook  = Spreadsheet::WriteExcel-&gt;new($xls);\nmy $worksheet = $workbook-&gt;add_worksheet();\n\n# Add and define a format\nmy $format = $workbook-&gt;add_format();\n$format-&gt;set_bg_color('grey');\n$format-&gt;set_align('center');\n\nmy $col = my $row = 0;\nwhile($row&lt;100)\n{\n    $worksheet-&gt;write($row, $col, \"vikas veer\", $format);\n    $row++;\n}\n$workbook-&gt;close();\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4960330, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/959978027379715/picture?type=large", "display_name": "Vikas Vykuntham Veerabathini", "link": "https://stackoverflow.com/users/4960330/vikas-vykuntham-veerabathini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "closed_date": 1433761438, "accepted_answer_id": 30705416, "answer_count": 1, "score": 0, "last_activity_date": 1433756618, "creation_date": 1433753293, "last_edit_date": 1433756618, "question_id": 30704729, "link": "https://stackoverflow.com/questions/30704729/in-perl-using-spreadsheetwriteexcel-for-formatting-but-its-not-able-to-form", "closed_reason": "Needs details or clarity", "title": "In Perl, using &#39;Spreadsheet::WriteExcel&#39; for formatting but its not able to format the excel after 43 rows", "body": "<p>Below is the code, I'm using a while loop to write rows but getting only 43 formatted rows. How to solve this?</p>\n\n<pre><code>use strict;\nuse Spreadsheet::WriteExcel;\nmy $xls=@ARGV[0];\n# Create a new workbook called simple.xls and add a worksheet\nmy $workbook  = Spreadsheet::WriteExcel-&gt;new($xls);\nmy $worksheet = $workbook-&gt;add_worksheet();\n\n# The general syntax is write($row, $column, $token). Note that row and\n# column are zero indexed\n\n# Write some text\nmy $row=1;\n$worksheet-&gt;write(0, 0,  'Hi Excel!');\nwhile($row&lt;100)\n{\n  my $format = $workbook-&gt;add_format();\n  $format-&gt;set_bg_color('grey');\n  $format-&gt;set_align('center');\n  $worksheet-&gt;write($row, 1, \"vikas veer\",$format);\n  $row++;\n}\n$workbook-&gt;close();\n</code></pre>\n"}, {"tags": ["perl", "hash", "compare"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 3, "creation_date": 1433730632, "post_id": 30700485, "comment_id": 49459056, "body": "Having different variables with the same name (aside from the sigil) like  <code>%hash1</code> and <code>$hash1</code> is only going to cause you grief."}, {"owner": {"reputation": 8571, "user_id": 1307166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3a10ed3ebf00cf0f9dc70a014a703e?s=128&d=identicon&r=PG", "display_name": "b4hand", "link": "https://stackoverflow.com/users/1307166/b4hand"}, "edited": false, "score": 2, "creation_date": 1433730825, "post_id": 30700485, "comment_id": 49459093, "body": "There&#39;s a huge number of bad practices in this tiny script. I strongly recommend reading <i>Perl Best Practices</i> to avoid some of the many pitfalls of using Perl. There&#39;s no need to form bad habits when learning Perl new at this point in time."}, {"owner": {"reputation": 8571, "user_id": 1307166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3a10ed3ebf00cf0f9dc70a014a703e?s=128&d=identicon&r=PG", "display_name": "b4hand", "link": "https://stackoverflow.com/users/1307166/b4hand"}, "edited": false, "score": 1, "creation_date": 1433731599, "post_id": 30700485, "comment_id": 49459234, "body": "In particular, the <code>use vars</code> pragma is strongly discouraged. Also, we can&#39;t see what your input files are. So, it&#39;s difficult to tell what your program is trying to do."}], "answers": [{"tags": [], "owner": {"reputation": 8571, "user_id": 1307166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3a10ed3ebf00cf0f9dc70a014a703e?s=128&d=identicon&r=PG", "display_name": "b4hand", "link": "https://stackoverflow.com/users/1307166/b4hand"}, "is_accepted": true, "score": 1, "last_activity_date": 1433732264, "creation_date": 1433732264, "answer_id": 30700690, "question_id": 30700485, "link": "https://stackoverflow.com/questions/30700485/perl-comparing-two-hashes/30700690#30700690", "title": "Perl comparing two hashes", "body": "<p>I've found what appears to be multiple bugs in your program. I've reformatted your code and left comments to the precise locations of the bugs below:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse autodie;\n\n# use 3-arg open\nopen my $file1, '&lt;', 'file1.txt'; # no need to check errors with autodie\n\n# declare your lexical variables in the proper scope    \nmy $hash1 = {};\nwhile (my $line = &lt;$file1&gt;) {\n    chomp $line;\n    my ($a, $b, $c, $d) = split /\\t/, $line;\n    if ($a) {\n         $hash1-&gt;{$a}{info1} = \"$b\\t$c\\t$d\";\n    }\n    # It's unclear why you are assigning to this variable?\n    my $info1 = $hash1-&gt;{$a}{info1};\n}\n\nopen my $file2, '&lt;', 'file2.txt';\nopen my $output, '&gt;', 'Output.txt';\n\n# same thing here: declare your lexical variables\nmy $hash2 = {};\nwhile (my $line = &lt;$file2&gt;) {\n    chomp $line;\n\n    my ($a, $b, $c, $d) = split (/\\t/, $line);\n    if ($a) {\n        $hash2-&gt;{$a}{info2} = \"$b\\t$c\\t$d\";\n    }\n\n    # BUG: You can't iterate over a hash directly, but you\n    # can iterate over the keys of a hash.\n    foreach my $key (keys %$hash1) {\n        # BUG: You wrote `$hash2{$a}`, but probably meant `$hash2-&gt;{$a}`.\n        if (!exists $hash2-&gt;{$key}) {\n            # BUG: I think you probably meant for the following\n            # `$info1` reference to refer to the value inside\n            # `$hash1-&gt;{a}` and not the last line from the prior\n            # loop. Using lexical variables will detect these\n            # types of problems.\n            my $info1 = $hash1-&gt;{$key}{info1};\n            print {$output} \"$key\\t$info1\\n\";\n        }\n    }\n}\n\n# If you use lexical file handles, calling close is not required. They\n# get closed at the end of the containing scope, which in this case is\n# the end of the script.\n\nprint \"Done!\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1433743103, "creation_date": 1433743103, "answer_id": 30702124, "question_id": 30700485, "link": "https://stackoverflow.com/questions/30700485/perl-comparing-two-hashes/30702124#30702124", "title": "Perl comparing two hashes", "body": "<p>You can take all keys from <code>%h1</code> and delete all keys from <code>%h2</code>, which leaves only keys which are not in <code>%h2</code>,</p>\n\n<pre><code>my %h1 = qw(k1 v1 k2 v2 k3 v3 k4 v4);\nmy %h2 = qw(k1 v1 k2 v2 k3 v3);\n\nmy %not_found_in_h2 = %h1;\ndelete @not_found_in_h2{keys %h2};\n\nprint \"$_\\n\" for values %not_found_in_h2;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>v4\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4889783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32c48974bc7b7bbd08371b587f57d7c?s=128&d=identicon&r=PG&f=1", "display_name": "e2121", "link": "https://stackoverflow.com/users/4889783/e2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 30700690, "answer_count": 2, "score": 0, "last_activity_date": 1433743103, "creation_date": 1433730253, "question_id": 30700485, "link": "https://stackoverflow.com/questions/30700485/perl-comparing-two-hashes", "title": "Perl comparing two hashes", "body": "<p>I am a beginner with Perl, and am trying to write a script to compare the two hashes and print the values in the first hash that are not found in the second. Although I know the script should be very simple, I am not sure why mine is not working. Any help would be much appreciated. </p>\n\n<p>My script so far:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse vars qw($a $b $c $d $hash1 %hash1 $info1 $hash2 %hash2);\n\nopen (FILE1, \"&lt;file1.txt\") || die \"$!\\n Couldn't open file1.txt\\n\";\n\nwhile (&lt;FILE1&gt;){\n    chomp (my $line=$_);\n    my ($a, $b, $c, $d) = split (/\\t/, $line); \n    if ($a){\n         $hash1 -&gt; {$a} -&gt; {info1} = \"$b\\t$c\\t$d\"; \n       } \n        $info1=$hash1-&gt;{$a}-&gt;{info1};\n }\n\n\n\nopen (FILE2, \"&lt;file2.txt\") || die \"$!\\n Couldnt open file2.txt \\n\";\nopen (Output, \"&gt;Output.txt\")||die \"Can't Open Output file\";\n\n\n\nwhile (&lt;FILE2&gt;) {\n   chomp (my $line=$_);\n\n   my ($a, $b, $c, $d) = split (/\\t/, $line); \n   if ($a){\n   $hash2 -&gt; {$a} -&gt; {info2} = \"$b\\t$c\\t$d\"; \n   } \n\n\nforeach (my $hash1-&gt;{$a}) {\n    if (!exists $hash2{$a}) {\n               print Output \"$a\\t$info1\\n\";\n                      }\n       }\n }\n\n close FILE1;\n close FILE2;\n close Output;\n\n print \"Done!\\n\";\n</code></pre>\n"}, {"tags": ["xml", "perl", "xslt"], "comments": [{"owner": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "edited": false, "score": 0, "creation_date": 1433673845, "post_id": 30692255, "comment_id": 49443869, "body": "Do you really need <code>m</code> namespace prefix declaration to be in every element instead of at the root level element only? This part to be clear : <code>xmlns:m=&quot;http:&#47;&#47;www.w3.org&#47;1998&#47;Math&#47;MathML&quot;</code>"}, {"owner": {"reputation": 11973, "user_id": 1419315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e13603f86a9561d16a944963943fb8a9?s=128&d=identicon&r=PG", "display_name": "JohnB", "link": "https://stackoverflow.com/users/1419315/johnb"}, "reply_to_user": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "edited": false, "score": 0, "creation_date": 1433674035, "post_id": 30692255, "comment_id": 49443908, "body": "It seems so. Although, in my opinion, the xml files are equivalent, the target program (ArborText Editor) seems to accept only the second form. Defining the namespace prefix &quot;m&quot; at the root level of the document not help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433675078, "post_id": 30692255, "comment_id": 49444169, "body": "Your example data is extremely small. Are you saying that you need a namespace definition on <i>every element</i>, or just on <code>math</code> and <code>mn</code> elements?"}, {"owner": {"reputation": 11973, "user_id": 1419315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e13603f86a9561d16a944963943fb8a9?s=128&d=identicon&r=PG", "display_name": "JohnB", "link": "https://stackoverflow.com/users/1419315/johnb"}, "edited": false, "score": 0, "creation_date": 1433675143, "post_id": 30692255, "comment_id": 49444185, "body": "I need a namespace definition on every nested element inside a <code>&lt;math&gt;...&lt;&#47;math&gt;</code> element."}, {"owner": {"reputation": 95646, "user_id": 3016153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWA7Z.png?s=128&g=1", "display_name": "michael.hor257k", "link": "https://stackoverflow.com/users/3016153/michael-hor257k"}, "edited": false, "score": 0, "creation_date": 1433675160, "post_id": 30692255, "comment_id": 49444188, "body": "The two documents <i>are</i> semantically equivalent, and if your target application understands one but not the other, then it doesn&#39;t know how to parse XML. I doubt XSLT is the tool to solve this problem, because you have no control over the exact lexical representation an XSLT processor will choose for the output (although you <i>might</i> find one that under certain circumstances will oblige)."}, {"owner": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "edited": false, "score": 0, "creation_date": 1433676314, "post_id": 30692255, "comment_id": 49444525, "body": "@JohnB This can be done using XSLT if the expected result is rather like this (no repeated ns prefix declaration at the descendant level) : <code>&lt;m:math xmlns:m=&quot;http:&#47;&#47;www.w3.org&#47;1998&#47;Math&#47;MathML&quot;&gt; &lt;m:mn&gt; .... &lt;&#47;m:mn&gt; &lt;&#47;m:math&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1433750985, "creation_date": 1433750985, "answer_id": 30704077, "question_id": 30692255, "link": "https://stackoverflow.com/questions/30692255/adding-explicit-namespace-attribute-to-particular-xml-tags/30704077#30704077", "title": "Adding explicit namespace attribute to particular xml tags", "body": "<p><strong>Disclaimer</strong>: I am going to use regex to this! If you are afraid They might get you, stop reading now.</p>\n\n<hr>\n\n<p>Because this is a very limited kind of problem, I believe using an XML parser to find the things we want to change and then using regex is ok here. We are not trying to parse anything with the regex, just replacing simple text patterns. </p>\n\n<p>I used <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\">XML::Twig</a> to find all the <code>math</code> nodes, grabber their XML as a string, replaced the namespaces and put the XML back, which makes XML::Twig parse the altered string. If the regex manipulation broke something to the extend that it's invalid, we will notice here because the parsing will fail.</p>\n\n<p>Of course this asumes there are no other namespaces inside the <code>math</code> elements.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nmy $xml = &lt;&lt;XML;\n&lt;container&gt;\n&lt;math xmlns=\"http://www.w3.org/1998/Math/MathML\"&gt;\n&lt;mn&gt;\n&lt;foo&gt;asdf&lt;/foo&gt;\n&lt;bar&gt;fdsa&lt;/bar&gt;\n&lt;/mn&gt;\n&lt;/math&gt;\n&lt;/container&gt;\nXML\n\nmy $t = XML::Twig-&gt;new(\n    pretty_print  =&gt; 'indented',\n    twig_handlers =&gt; {\n        math =&gt; sub {\n            my $new_xml = $_-&gt;outer_xml;\n            $new_xml =~ s{ xmlns=\"http://www.w3.org/1998/Math/MathML\"}{};\n            $new_xml =~ s{&lt;([a-zA-Z]+)}{&lt;m:$1 xmlns:m=\"http://www.w3.org/1998/Math/MathML\"}g;\n            $new_xml =~ s{&lt;/}{&lt;/m:}g;\n\n            $_-&gt;set_outer_xml($new_xml);\n        },\n    }\n);\n$t-&gt;parse($xml);\n$t-&gt;print;\n</code></pre>\n\n<p>Output contains the namespace in each element starting from <code>math</code>.</p>\n\n<pre><code>&lt;container&gt;\n  &lt;m:math xmlns:m=\"http://www.w3.org/1998/Math/MathML\"&gt;\n    &lt;m:mn xmlns:m=\"http://www.w3.org/1998/Math/MathML\"&gt;\n      &lt;m:foo xmlns:m=\"http://www.w3.org/1998/Math/MathML\"&gt;asdf&lt;/m:foo&gt;\n      &lt;m:bar xmlns:m=\"http://www.w3.org/1998/Math/MathML\"&gt;fdsa&lt;/m:bar&gt;\n    &lt;/m:mn&gt;\n  &lt;/m:math&gt;\n&lt;/container&gt;\n</code></pre>\n\n<p>I verified that it works for more deeply nested structures and multiple <code>math</code> elements.</p>\n"}], "owner": {"reputation": 11973, "user_id": 1419315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e13603f86a9561d16a944963943fb8a9?s=128&d=identicon&r=PG", "display_name": "JohnB", "link": "https://stackoverflow.com/users/1419315/johnb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 1, "accepted_answer_id": 30704077, "answer_count": 1, "score": 1, "last_activity_date": 1433750985, "creation_date": 1433671303, "question_id": 30692255, "link": "https://stackoverflow.com/questions/30692255/adding-explicit-namespace-attribute-to-particular-xml-tags", "title": "Adding explicit namespace attribute to particular xml tags", "body": "<p>In a quick-and-dirty conversion from XML generated by one program (htlatex) to another (ArborText Editor), I need to replace all XML of the following form</p>\n\n<pre><code>&lt;math xmlns=\"http://www.w3.org/1998/Math/MathML\"&gt;\n&lt;mn&gt;\n....\n&lt;/mn&gt;\n&lt;/math&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;m:math xmlns:m=\"http://www.w3.org/1998/Math/MathML\"&gt;\n&lt;m:mn xmlns:m=\"http://www.w3.org/1998/Math/MathML\"&gt;\n....\n&lt;/m:mn&gt;\n&lt;/m:math&gt;\n</code></pre>\n\n<p>Is there a cleaner <em>easy</em> way to achieve this rather than searching for tags <code>&lt;math</code>, <code>&lt;mn&gt;</code> etc. and replacing them? Or can this be done via xslt?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "edited": false, "score": 1, "creation_date": 1433655954, "post_id": 30690047, "comment_id": 49439892, "body": "The code you posted would not produce that output. It is also an error under <code>use strict</code>. You should <code>use warnings</code> as well. Post a working example that demonstrates the problem you are having."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1433679432, "post_id": 30690047, "comment_id": 49445317, "body": "BTW, you do not need quotes if the string is only a variable. That&#39;s true anywhere, not just for hash keys. Also, you don&#39;t need quotes if the key is an alphanumeric constant. <code>$dataStore{$items1}{$items2}{$items3}{counts}[0] = 534;</code> Everyone has their preferences but you might come across this if you read other people&#39;s code."}], "answers": [{"comments": [{"owner": {"reputation": 822, "user_id": 189625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c3cdb91832afb69268b9e9862ecc44d?s=128&d=identicon&r=PG", "display_name": "Structure", "link": "https://stackoverflow.com/users/189625/structure"}, "edited": false, "score": 0, "creation_date": 1433663017, "post_id": 30690291, "comment_id": 49441320, "body": "Thanks, I marked the other response as the answer because it helped me understand my problems better within the original context, but I&#39;ll take your suggestions under advisement!"}], "tags": [], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "is_accepted": false, "score": 3, "last_activity_date": 1433654106, "creation_date": 1433654106, "answer_id": 30690291, "question_id": 30690047, "link": "https://stackoverflow.com/questions/30690047/how-to-correctly-dereference-a-hash-within-a-foreach-loop/30690291#30690291", "title": "How to correctly dereference a hash within a foreach loop?", "body": "<p>I think a better approach will be to use <code>reference</code> instead to go this way. If levels in your hash increase then this code need to be changed again and again. Also at a certain point maintaining and writing more in this code will be almost impossible to do. </p>\n\n<p>You can use this code for your problem. Also this might be not much optimized so you might need to do that. But it will solve your problem.</p>\n\n<pre><code>use strict;\nuse warnings;     \nmy $dataStore =  {\n    'items1' =&gt; {\n        'items2' =&gt; {\n            'items3' =&gt; {\n                'counts' =&gt; [\n                    '534'\n                ]\n}}}};\n\n\nmy $temp_hash = $dataStore;\nmy $key;\nmy $flag=0;\nwhile (1) {\nforeach  $key ( keys %$temp_hash) {\n\n        if (ref($temp_hash-&gt;{$key}) eq 'HASH') {\n                $temp_hash=$temp_hash-&gt;{$key};\n        }\n\n        elsif (ref($temp_hash-&gt;{$key}) eq 'ARRAY') {\n                my $arr = $temp_hash-&gt;{$key};\n                print join (',', @$arr);\n                $flag =1;\n\n        }\n}\nlast if $flag ==1 ;\n}\n</code></pre>\n\n<p>I hope this will solve your problem.</p>\n"}, {"comments": [{"owner": {"reputation": 822, "user_id": 189625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c3cdb91832afb69268b9e9862ecc44d?s=128&d=identicon&r=PG", "display_name": "Structure", "link": "https://stackoverflow.com/users/189625/structure"}, "edited": false, "score": 0, "creation_date": 1433662938, "post_id": 30690478, "comment_id": 49441305, "body": "Thanks, I am using strict but it only threw warnings. With the corrections above, now I see what I did. Funny enough, I tried some variant of each - but I tried them separately so nothing worked. Thanks."}], "tags": [], "owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "is_accepted": true, "score": 2, "last_activity_date": 1433656439, "creation_date": 1433656439, "answer_id": 30690478, "question_id": 30690047, "link": "https://stackoverflow.com/questions/30690047/how-to-correctly-dereference-a-hash-within-a-foreach-loop/30690478#30690478", "title": "How to correctly dereference a hash within a foreach loop?", "body": "<p>Make sure to <code>use strict</code>, <code>use warnings</code>, and it would be a good idea to avoid the experimental auto-dereferencing. There are several runtime errors in your code that you would have caught with strict mode, for example you try to dereference items3 into an array but it is a hashref, with the key 'counts' which then is an arrayref.</p>\n\n<p>Given:</p>\n\n<pre><code>my $items1 = \"items1\";\nmy $items2 = \"items2\";\nmy $items3 = \"items3\";\nmy %dataStore = ();\n$dataStore{\"$items1\"}{\"$items2\"}{\"$items3\"}{'counts'}[0] = 534;\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>foreach my $item1 (sort keys %dataStore) {\n    foreach my $item2 (sort keys %{$dataStore{\"$item1\"}}) {\n        print \"%$item2\\n\";\n        foreach my $item3 (sort keys %{$dataStore{\"$item1\"}{\"$item2\"}}) {\n            print \"%$item3\\n\";\n            print join (', ', @{$dataStore{\"$item1\"}{\"$item2\"}{\"$item3\"}{'counts'}});\n        }\n    }\n}\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>%items2\n%items3\n534\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1433688503, "creation_date": 1433688503, "answer_id": 30694869, "question_id": 30690047, "link": "https://stackoverflow.com/questions/30690047/how-to-correctly-dereference-a-hash-within-a-foreach-loop/30694869#30694869", "title": "How to correctly dereference a hash within a foreach loop?", "body": "<p>Here's a way using a recursive subroutine:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $h = {'i1' =&gt; {'i2' =&gt; {'i3' =&gt; [534, 10, 99]}}};\n\nsub deref {\n\n    my $param = shift;\n\n    for my $k (keys(%$param)){\n        if (ref($param-&gt;{$k}) eq 'HASH'){\n            print \"$param-&gt;{$k}\\n\";\n\n            # call this sub again with the next level of the hash\n            # as a parameter, if it's another hashref\n\n            deref($param-&gt;{$k});\n        }\n        elsif (ref($param-&gt;{$k}) eq 'ARRAY'){\n            print \"$_\\n\" for @{ $param-&gt;{$k} };\n        }\n    }\n}\n\nderef($h);\n</code></pre>\n"}], "owner": {"reputation": 822, "user_id": 189625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c3cdb91832afb69268b9e9862ecc44d?s=128&d=identicon&r=PG", "display_name": "Structure", "link": "https://stackoverflow.com/users/189625/structure"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 30690478, "answer_count": 3, "score": 1, "last_activity_date": 1433688503, "creation_date": 1433651144, "last_edit_date": 1433653982, "question_id": 30690047, "link": "https://stackoverflow.com/questions/30690047/how-to-correctly-dereference-a-hash-within-a-foreach-loop", "title": "How to correctly dereference a hash within a foreach loop?", "body": "<p>I would like to print the contents of a hash that I have created in the following way:\n<code>$dataStore{\"$items1\"}{\"$items2\"}{\"$items3\"}{'counts'}[0] = 534;</code></p>\n\n<p>Edit: I forgot to add that the variables above are being read in from a file within a while loop, but I left it out since that works correctly per the Data::Dumper output.</p>\n\n<p>Basically, I am creating a nested hash structure that terminates with an array. My program is entering values into different positions of the array using the method above.</p>\n\n<p>Using Data::Dumper I can see that this is working correctly.</p>\n\n<pre><code>$VAR1 = {\n    'items1' =&gt; {\n        'items2' =&gt; {\n            'items3' =&gt; {\n                'counts' =&gt; [\n                    '534'\n                ]\n...\n</code></pre>\n\n<p>However, the problem is that I want to print the structure using a foreach loop. Mostly because this is the only way I know how.</p>\n\n<p>My foreach loop looks like this, without much formatting yet:</p>\n\n<pre><code>foreach my $item1 (sort keys %dataStore) {\n    print \"$item1\\n\";\n    foreach my $item2 (sort keys $dataStore{\"$item1\"}) {\n        print \"%$item2\\n\";\n        foreach my $item3 (sort keys $dataStore{\"$item1\"}{\"$item2\"}) {\n            print \"%$item3\\n\";\n            print join (', ', @{$dataStore{\"$item1\"}{\"$item2\"}{\"$item3\"}})\n        }\n    }\n}\n</code></pre>\n\n<p>The result ends up looking like this (I have anonymized the data):</p>\n\n<pre><code>item1\nitem2\nitem3\nHASH(0x2c10dc0)item3\nHASH(0x2b1dc70)item3\nHASH(0x295bbd8)item3\nHASH(0x2c34fb8)item3\nHASH(0x2cca6a0)item3\nHASH(0x2ba5ef0)item3\nHASH(0x28fcb58)item3\nHASH(0x2cca760)item3\n</code></pre>\n\n<p>Based on what I have read so far I think my problem is that I am incorrectly dereferencing the hashes, but I am not sure. It could be as simple as calling print on the wrong thing. I have tried many different ways to dereference the hashes, but I either get results like this, or truncated results after perl complains that sorting references in a foreach loop is \"experimental\".</p>\n\n<p>I am using Perl v5.20.1 on Windows 8.1 via cygwin.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "binary", "unpack"], "comments": [{"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433654287, "post_id": 30690046, "comment_id": 49439634, "body": "Did you try to open file in <code>binmode</code> and then try to read the file."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1433775409, "last_edit_date": 1433775409, "creation_date": 1433657073, "answer_id": 30690555, "question_id": 30690046, "link": "https://stackoverflow.com/questions/30690046/reading-binary-file-in-perl/30690555#30690555", "title": "Reading binary file in Perl", "body": "<p><code>&lt;INFILE&gt;</code> makes no sense. It reads until a newline is found.</p>\n\n<p>If you have the whole file in memory, you can use the following:</p>\n\n<pre><code>my @fields = unpack('( n N n/a* )*', $file);\nwhile (@fields) {\n   my ($sig, $ts, $data) = splice(@fields, 0, 3);\n   die \"Incorrect signature\" if $sig != 0xFFFF;\n   process_rec($ts, $data);\n}\n</code></pre>\n\n<p>If we were to extract the header separately from the data, we can save memory and add some error checking.</p>\n\n<pre><code>use constant HEADER_FORMAT =&gt; 'nNn';\nuse constant HEADER_LENGTH =&gt; length(pack(HEADER_FORMAT, 0, 0, 0));\n\nwhile (length($file)) {\n   last if length($file) &lt; HEADER_LENGTH;\n   my ($sig, $ts, $data_len) = unpack(HEADER_FORMAT, substr($file, 0, HEADER_LENGTH, ''));\n   die \"Incorrect signature\" if $sig != 0xFFFF;\n   last  if length($file) &lt; $data_len;\n   process_rec($ts, substr($file, 0, $data_len, ''));\n}\n\ndie \"Premature EOF\" if length($file);\n</code></pre>\n\n<p>Reading from a file handle is an extension of the second snippet. If you don't have the whole file in memory, you can use the following:</p>\n\n<pre><code>use constant HEADER_FORMAT =&gt; 'nNn';\nuse constant HEADER_LENGTH =&gt; length(pack(HEADER_FORMAT, 0, 0, 0));\nuse constant BLOCK_SIZE    =&gt; 128*1024;\n\nsub make_fill_to = sub {\n   my $fh      =  shift;\n   my $buf_ref = \\shift;\n   my $eof = 0;\n\n   return sub {\n      my $bytes_needed = $_[1];\n      while (!$eof &amp;&amp; length($$buf_ref) &lt; $bytes_needed) {\n         my $rv = sysread($fh, $$buf_ref, BLOCK_SIZE, length($$buf_ref));\n         die $! if !defined($rv);\n         $eof = 1 if !$rv;\n      }\n\n      return !$eof;\n   }\n};\n\nmy $buf = '';\nmy $fill_to = make_fill_to($fh, $buf);\nwhile (1) {\n   $fill_to-&gt;(HEADER_LENGTH)\n      or last LOOP;\n   my ($sig, $ts, $data_len) = unpack(HEADER_FORMAT, substr($buf, 0, HEADER_LENGTH, ''));\n   die \"Incorrect signature\" if $sig != 0xFFFF;\n   $fill_to-&gt;($data_len)\n      or last LOOP;\n   process_rec($ts, substr($buf, 0, $data_len, ''));\n}\n\ndie \"Premature EOF\" if length($buf);\n</code></pre>\n\n<p>When using <code>select</code> to manage multiple handles, the read must come first, so I'm used to writing it that way. The following is what the above would look like if it was refactored to put the read first:</p>\n\n<pre><code>use constant HEADER_FORMAT =&gt; 'nNn';\nuse constant HEADER_LENGTH =&gt; length(pack(HEADER_FORMAT, 0, 0, 0));\nuse constant BLOCK_SIZE    =&gt; 128*1024;\n\nmy $buf = '';\nmy ($got_header, $sig, $ts, $data_len);\nwhile (1) {\n   my $rv = sysread($fh, $buf, BLOCK_SIZE, length($buf));\n   die $! if !defined($rv);\n   last if !$rv;\n\n   while (1) {\n      if (!$got_header) {\n         last if length($buf) &lt; HEADER_LENGTH;          \n         ($sig, $ts, $data_len) = unpack(HEADER_FORMAT, substr($buf, 0, HEADER_LENGTH, ''));\n         die \"Incorrect signature\" if $sig != 0xFFFF;\n         $got_header = 1;\n      }\n\n      last if length($buf) &lt; $data_len;\n      process_rec($ts, substr($buf, 0, $data_len, ''));\n      $got_header = 0;\n   }\n}\n\ndie \"Premature EOF\" if $got_buffer || length($buf);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4415999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/347cb185b5ffcacaea2c40339a23453f?s=128&d=identicon&r=PG&f=1", "display_name": "vancom", "link": "https://stackoverflow.com/users/4415999/vancom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1290, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462095695, "creation_date": 1433651143, "last_edit_date": 1462095695, "question_id": 30690046, "link": "https://stackoverflow.com/questions/30690046/reading-binary-file-in-perl", "title": "Reading binary file in Perl", "body": "<p>I have a binary file with a bunch of data blocks stored each after another. The data block is formatted in the following style:</p>\n\n<pre><code>Length [byte]   Content       Description\n2               0xFFFF        Data block header\n4               Epoch time    seconds since 00:00:00 UTC, January 1, 1970\n2               value of N    Length of data following this value\nN               Data          Data itself\n</code></pre>\n\n<p>I tried to use <a href=\"http://perldoc.perl.org/functions/unpack.html\" rel=\"nofollow\">unpack</a>, but this was wrong because of the non-fixed length of data.</p>\n\n<p>I need to write a subroutine which will read and parse data blocks (one data block each time the subroutine is called) until the end of file.</p>\n\n<p>The file is using <a href=\"https://en.wikipedia.org/wiki/Endianness#Big-endian\" rel=\"nofollow\">big-endian</a>.</p>\n\n<p>This is what I tried until now:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename;\n\nif (! $ARGV[0])\n{\n    die \"Input filename is required\";\n}\n\nsub setFile\n{\n    $filename = $_[0];\n}\n\nmy $inFile = $ARGV[0];\n\nsetFile($inFile);\n\nopen INFILE, $filename or die \"\\nUnable to open input file\";\n\nbinmode INFILE;\n\nmy $nbytes;\n\nwhile (&lt;INFILE&gt;) {\n    my( $header, $timestamp_hex, $datalength_hex ) = unpack 'H4 H8 H4', $_;\n    my $timestamp = hex($timestamp_hex);\n    my $datalength = hex($datalength_hex);\n    print \"$timestamp $datalength\\n\";\n\n    for (my $i = 0; $i &lt; $datalength; $i++)\n    {\n        my $data = unpack 'H', $_;\n        print \"$data\";\n    }\n    print \"\\n\";\n}\n\nclose INFILE\n    or die \"Error while closing $filename: $!\\n\";\n</code></pre>\n"}, {"tags": ["perl", "antivirus", "strawberry-perl"], "comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 1, "creation_date": 1433646508, "post_id": 30689540, "comment_id": 49438522, "body": "Did your antivirus find a false positive on <code>perl.exe</code> and quarantine or delete it?  Is there a <code>perl.exe</code> in <code>C:\\Strawberry\\perl\\bin</code>?"}, {"owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "reply_to_user": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1433649303, "post_id": 30689540, "comment_id": 49438941, "body": "No &amp; Yes. So far, no antivirus did not pick up perl.exe as a suspect (scan not finished). And yes, perl.exe (perl15.22.0.exe) is still in strawberry\\perl\\bin"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 2, "creation_date": 1433650957, "post_id": 30689540, "comment_id": 49439179, "body": "<code>perl.exe</code> and <code>perl5.22.0.exe</code> are two separate (though identical) files.  Typing &quot;perl&quot; will run <code>perl.exe</code>, not <code>perl5.22.0.exe</code>.  You&#39;d have to type &quot;perl5.22.0&quot; to run that."}, {"owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "reply_to_user": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1433651726, "post_id": 30689540, "comment_id": 49439285, "body": "to clarify, am i supposed to have perl.exe from Strawberryperl ? a search in C: shows that there is no perl.exe. so either it&#39;s been quarantined, or it&#39;s never there to begin with. but as i never check after installing strawberryperl, it&#39;s difficult to know now if i had it at the beginning (a quick look at strawberryperl.com didn&#39;t seem to suggest perl.exe exists though)"}, {"owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "reply_to_user": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1433654088, "post_id": 30689540, "comment_id": 49439603, "body": "@CJM, you are right ! It turns out antivirus DID quarantine perl.exe as a suspect. Thanks a lot for the help !"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1433709222, "post_id": 30689540, "comment_id": 49454634, "body": "I&#39;ve summarized my comments as an answer so you can accept it."}], "answers": [{"tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 2, "last_activity_date": 1433658845, "creation_date": 1433658845, "answer_id": 30690764, "question_id": 30689540, "link": "https://stackoverflow.com/questions/30689540/perl-not-recognized-as-a-command-in-windows-7/30690764#30690764", "title": "perl not recognized as a command in Windows 7", "body": "<p>Just because the Strawberry Perl bin directory is still in your path, it doesn't follow that <code>perl.exe</code> is still located in that directory.  <code>perl.exe</code> and <code>perl5.22.0.exe</code> are two separate (though identical) files.  Typing \"perl\" will run <code>perl.exe</code>, not <code>perl5.22.0.exe</code>. You'd have to type \"perl5.22.0\" to run that.</p>\n\n<p>The message \"perl is not recognized as an internal or external command, operable program or batch file\" indicates that <code>perl.exe</code> was not found in any directory in your path.  (Or your system is so messed up it can't run <code>.exe</code> files anymore, which can happen.) So something (e.g. your antivirus) must have removed <code>perl.exe</code>.</p>\n"}], "owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 1, "accepted_answer_id": 30690764, "answer_count": 1, "score": 0, "last_activity_date": 1433756707, "creation_date": 1433644614, "last_edit_date": 1433756707, "question_id": 30689540, "link": "https://stackoverflow.com/questions/30689540/perl-not-recognized-as-a-command-in-windows-7", "title": "perl not recognized as a command in Windows 7", "body": "<p>There are other posts on the forum with similar titles, but I think my problem is different and hence am posting this inquiry here.</p>\n\n<p>What I encountered is the same (as other posts) in that I was \"suddenly\" prompted with an error message \"<code>perl is not recognized as an internal or external command, operable program or batch file</code>\".</p>\n\n<p>But the differences are (or so I think) -</p>\n\n<p>(1) Strawberry Perl (64-bit) installed and ran well earlier.</p>\n\n<p>(2) After the error message showed up, I typed <code>path</code> under <code>cmd</code> and it showed that Strawberry perl was \"still\" in the path (assuming my understanding of the <code>path</code> in <code>cmd</code> was correct). See at the end the full \"PATH\".</p>\n\n<p>(3) Earlier of the day I ran a few perl scripts with no problems. Then I noticed my Panda Free Antivirus was disabled. I re-enabled it and started a full scan. It seems that right after I started the scan, the error message about perl not recognized showed up when I attempted to run another script.</p>\n\n<p>Any solution as to how I could run perl scripts, assuming PATH is correctly set. (Antivirus Scan is ongoing. I know perhaps I should have waited until the scan is finished and re-test the perl module, but I wonder why anti-virus, if at all, would cause the conflict with Strawberry Perl module) </p>\n\n<p>Not sure if this is a question for stackoverflow or if I should direct my question to anti-virus forum/am-I-infected forum ?</p>\n\n<p>Any suggestion?</p>\n\n<blockquote>\n  <p>PATH=C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files\n  (x86)\\Cuminas\\Document Express DjVu Plug-in\\;c:\\Program Files\n  (x86)\\Intel\\iCLS Client\\;c:\\Program Files\\Intel\\iCLS\n  Client\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;c:\\Program\n  Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\n  (x86)\\Intel\\OpenCL SDK\\3.0\\bin\\x86;C:\\Program Files (x86)\\Intel\\OpenCL\n  SDK\\3.0\\bin\\x64;C:\\Program Files\\Intel\\Intel(R) Management Engine\n  Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine\n  Components\\IPT;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine\n  Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine\n  Components\\IPT;C:\\Strawberry\\perl\\bin;C:\\Strawberry\\perl\\site\\bin;C:\\Strawberry\\c\\bin;</p>\n</blockquote>\n"}, {"tags": ["perl", "amazon-web-services", "amazon-ec2", "otrs"], "comments": [{"owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "edited": false, "score": 3, "creation_date": 1433627740, "post_id": 30687167, "comment_id": 49435323, "body": "Because OTRS is an rpm package and it looks for the perl modules to be installed as rpm&#39;s as well. yum doesn&#39;t know about cpan."}, {"owner": {"reputation": 1777, "user_id": 1638627, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f213b690f66c98dc13cc41f1431b9c8?s=128&d=identicon&r=PG", "display_name": "tmoore82", "link": "https://stackoverflow.com/users/1638627/tmoore82"}, "reply_to_user": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "edited": false, "score": 0, "creation_date": 1433630189, "post_id": 30687167, "comment_id": 49435903, "body": "That makes sense. Is there any way I can get the rpm database to recognize that the modules are installed?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1433635938, "post_id": 30687167, "comment_id": 49436892, "body": "rpm doesn&#39;t know anything about Perl modules."}], "answers": [{"comments": [{"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "edited": false, "score": 0, "creation_date": 1433708178, "post_id": 30690154, "comment_id": 49454280, "body": "Please do not just go out to rpmfind.net to find RPMs for your Linux deployment. Just use your system&#39;s package manager. <code>perl-Archive-Zip</code> is in base. Just use <code>yum install -y &quot;perl(Archive::Zip)&quot; to install it. If you&#39;d </code>yum install` OTRS as well, this is supposed to install the dependencies automatically."}, {"owner": {"reputation": 1777, "user_id": 1638627, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f213b690f66c98dc13cc41f1431b9c8?s=128&d=identicon&r=PG", "display_name": "tmoore82", "link": "https://stackoverflow.com/users/1638627/tmoore82"}, "reply_to_user": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "edited": false, "score": 0, "creation_date": 1433714723, "post_id": 30690154, "comment_id": 49456074, "body": "I tried <code>yum install -y &quot;perl(Archive::Zip)&quot; and kept getting a message that no such package existed. That&#39;s why I had to go looking for the rpm. The errors I cite above came as a result of running </code>yum install -y otrs-*.rpm`. For whatever reason, maybe because of something with AWS, it couldn&#39;t resolve the dependencies on its own."}, {"owner": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "edited": false, "score": 0, "creation_date": 1433774991, "post_id": 30690154, "comment_id": 49482132, "body": "Yeah, you&#39;ll not have the correct yum repos set I guess. Did you try <code>yum clean all &amp;&amp; yum search perl-Archive-Zip</code> ?"}, {"owner": {"reputation": 1777, "user_id": 1638627, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f213b690f66c98dc13cc41f1431b9c8?s=128&d=identicon&r=PG", "display_name": "tmoore82", "link": "https://stackoverflow.com/users/1638627/tmoore82"}, "reply_to_user": {"reputation": 3638, "user_id": 114904, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8e7f89dbe697baaef1fb80098f6db29d?s=128&d=identicon&r=PG", "display_name": "MichielB", "link": "https://stackoverflow.com/users/114904/michielb"}, "edited": false, "score": 0, "creation_date": 1434156389, "post_id": 30690154, "comment_id": 49675822, "body": "@MichielB. Nope. I&#39;ll have to try that next time."}], "tags": [], "owner": {"reputation": 1777, "user_id": 1638627, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f213b690f66c98dc13cc41f1431b9c8?s=128&d=identicon&r=PG", "display_name": "tmoore82", "link": "https://stackoverflow.com/users/1638627/tmoore82"}, "is_accepted": true, "score": 1, "last_activity_date": 1434156350, "last_edit_date": 1434156350, "creation_date": 1433652546, "answer_id": 30690154, "question_id": 30687167, "link": "https://stackoverflow.com/questions/30687167/missing-perl-dependencies-not-actually-missing/30690154#30690154", "title": "Missing Perl dependencies not actually missing", "body": "<p>As the comments above point out, OTRS is an rpm package that looks for other rpm's. There's no coordination between that and CPAN. So the solution is to find the .rpm file using something like <a href=\"http://www.rpmfind.net\" rel=\"nofollow\">rpmfind.net</a>. In my case, then I would use <code>wget</code> to download the rpm, and then I was able to install the dependencies.</p>\n"}], "owner": {"reputation": 1777, "user_id": 1638627, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f213b690f66c98dc13cc41f1431b9c8?s=128&d=identicon&r=PG", "display_name": "tmoore82", "link": "https://stackoverflow.com/users/1638627/tmoore82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 0, "accepted_answer_id": 30690154, "answer_count": 1, "score": 0, "last_activity_date": 1434156350, "creation_date": 1433621746, "question_id": 30687167, "link": "https://stackoverflow.com/questions/30687167/missing-perl-dependencies-not-actually-missing", "title": "Missing Perl dependencies not actually missing", "body": "<p>I'm trying to install OTRS Help Desk on an EC2 instance of Amazon Web Services. I'm following the installation instructions <a href=\"http://otrs.github.io/doc/manual/admin/stable/en/html/installation.html#rhel-installing-rpm\" rel=\"nofollow\">here</a>. But when I try to install otrs, I get the following errors:</p>\n\n<pre><code>Error: Package: otrs-4.0.8-02.noarch (/otrs-4.0.8-02.noarch)\n       Requires: perl(Archive::Zip)\nError: Package: otrs-4.0.8-02.noarch (/otrs-4.0.8-02.noarch)\n       Requires: perl(Template)\n You could try using --skip-broken to work around the problem\n You could try running: rpm -Va --nofiles --nodigest\n</code></pre>\n\n<p>When I try to install Archive::Zip using cpan:</p>\n\n<pre><code>cpan[2]&gt; install Archive::Zip\nCPAN: Storable loaded ok (v2.20)\nGoing to read '/root/.cpan/Metadata'\nDatabase was generated on Sat, 06 Jun 2015 19:41:02 GMT\nArchive::Zip is up to date (1.46).\n</code></pre>\n\n<p>Any idea why it can't find the dependency?</p>\n"}, {"tags": ["arrays", "perl", "filehandle"], "comments": [{"owner": {"reputation": 632, "user_id": 462011, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/4SOXy.jpg?s=128&g=1", "display_name": "Mir", "link": "https://stackoverflow.com/users/462011/mir"}, "edited": false, "score": 1, "creation_date": 1433604980, "post_id": 30684525, "comment_id": 49428973, "body": "Are you sure? I was able to run the same code without any problem."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1433605559, "post_id": 30684525, "comment_id": 49429159, "body": "Second example with foreach does not make any sense, and there is your problem, not three args open. while(&lt;$fh&gt;) .. reads from filehandle scalar in samme way as globtype does."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1433605614, "post_id": 30684525, "comment_id": 49429178, "body": "@\u0421\u0443\u0445\u043e\u043927, The <code>foreach ($fh) { }</code> makes no sense, but only because it doesn&#39;t do anything. It causes no harm except to readability."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1433605850, "post_id": 30684525, "comment_id": 49429254, "body": "@B Chen, The only way you could get that warning there is if <code>$line[$count]</code> was an empty string, but that&#39;s impossible. It contains at least a newline. The code you posted did not produce the error you claimed it did. Please post the code that actually produces the warning, along with the necessary data."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1433615341, "creation_date": 1433615341, "answer_id": 30686229, "question_id": 30684525, "link": "https://stackoverflow.com/questions/30684525/confusing-filehandle-in-perl/30686229#30686229", "title": "confusing filehandle in perl", "body": "<p>In your second example, you are reading the filehandle in a list context,  which I think is the root of your problem. </p>\n\n<pre><code>my $line = &lt;$fh&gt;;\n</code></pre>\n\n<p>Reads one line from the filehandle. </p>\n\n<pre><code>my @lines = &lt;$fh&gt;;\n</code></pre>\n\n<p>Reads all the file. \nYour former example, thanks to the </p>\n\n<pre><code>while (&lt;FH&gt;) {\n</code></pre>\n\n<p>Is effectively doing the first case. </p>\n\n<p>But in the second example, you are doing the second thing. </p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1433682250, "post_id": 30687496, "comment_id": 49446101, "body": "There is no difference between <code>while (my $line = &lt;FH&gt;)</code> and <code>while(defined(my $line = &lt;FH&gt;))</code>."}, {"owner": {"reputation": 39, "user_id": 4977142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f8ff33c037cbf8095348392d51bf267?s=128&d=identicon&r=PG&f=1", "display_name": "My Too", "link": "https://stackoverflow.com/users/4977142/my-too"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1433720698, "post_id": 30687496, "comment_id": 49457295, "body": "It is always better doing it correct. I has no impact any more but in older perl versions:  <code>#!&#47;usr&#47;bin&#47;env perl use strict; use warnings;  open(FH, &quot;test.txt&quot;) or die &quot;ERROR: $!&quot;;  while (&lt;FH&gt;) { \tprint &quot;----&quot; . $_ . &quot;+++&quot;; } </code> becomes:  <code>$ perl -MO=Deparse ~&#47;Desktop&#47;testMe.pl use warnings; use strict; die &quot;ERROR: $!&quot; unless open FH, &#39;test.txt&#39;; while (defined($_ = &lt;FH&gt;)) {     print &#39;----&#39; . $_ . &#39;+++&#39;; } testMe.pl syntax OK </code>  And the lacy <code>while (my $line = &lt;FH&gt;)</code> will be translated to <code>while(defined(my $line = &lt;FH&gt;))</code> as well."}, {"owner": {"reputation": 39, "user_id": 4977142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f8ff33c037cbf8095348392d51bf267?s=128&d=identicon&r=PG&f=1", "display_name": "My Too", "link": "https://stackoverflow.com/users/4977142/my-too"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1433721072, "post_id": 30687496, "comment_id": 49457375, "body": "see <a href=\"http://stackoverflow.com/questions/9621221/usage-of-defined-with-filehandle-and-while-loop\" title=\"usage of defined with filehandle and while loop\">stackoverflow.com/questions/9621221/&hellip;</a> so why not just doing it correctly as the old perl books tell you anyway?"}, {"owner": {"reputation": 39, "user_id": 4977142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f8ff33c037cbf8095348392d51bf267?s=128&d=identicon&r=PG&f=1", "display_name": "My Too", "link": "https://stackoverflow.com/users/4977142/my-too"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1433722324, "post_id": 30687496, "comment_id": 49457597, "body": "At least 2010 this was still true and 2010 is not too long ago. See &quot;Effective Perl Programming: Ways to Write Better, More Idiomatic Perl, Second Edition By: Joseph N. Hall; Joshua A. McAdams; brian d foy Effective Perl Programming&quot;  Chapter 1. The Basics of Perl; Item 7. Know which values are false and test them accordingly"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1433727694, "post_id": 30687496, "comment_id": 49458518, "body": "I repeat, there is absolutely no reason whatsoever to write <code>while(defined(my $single_line = &lt;FH&gt;)) {</code> when you can write <code>while (my $single_line = &lt;FH&gt;) {</code>. I do not understand what argument you are trying to make with your previous comments. If you want to enhance your answer, edit it to incorporate new information, instead of cramming code and output into comments."}, {"owner": {"reputation": 39, "user_id": 4977142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f8ff33c037cbf8095348392d51bf267?s=128&d=identicon&r=PG&f=1", "display_name": "My Too", "link": "https://stackoverflow.com/users/4977142/my-too"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1433738968, "post_id": 30687496, "comment_id": 49460784, "body": "The point is just that your <code>while (my $line = &lt;FH&gt;)</code> is translated to <code>while(defined(my $line = &lt;FH&gt;))</code> as well because this would be the correct behavior. You can verify this by executing your code with <code>perl -MO=Deparse</code>. Anyway, just writing it does not hurt and does not rely on the goodwill of the interpreter. Yes it is an edge case only relevant if the last line of a file has content &quot;&quot; or 0 and if a perl version old (5.004 it seems). But except of that your example is shorter, it does exactly what mine does and mine is more stable."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1433756434, "post_id": 30687496, "comment_id": 49469079, "body": "As the guy who wrote the book that you reference, I say listen to Sinan as he tells you something more specific than the general rule. Your version isn&#39;t more or less stable because it&#39;s the same.  It&#39;s a documented special case that most people who know what they are doing are going to write."}, {"owner": {"reputation": 39, "user_id": 4977142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f8ff33c037cbf8095348392d51bf267?s=128&d=identicon&r=PG&f=1", "display_name": "My Too", "link": "https://stackoverflow.com/users/4977142/my-too"}, "edited": false, "score": 0, "creation_date": 1433969930, "post_id": 30687496, "comment_id": 49586464, "body": "you are right <a href=\"http://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#I%2fO-Operators</a> shows says that all are similar in context of while(&lt;FH&gt;) and for(;&lt;FH&gt;;) but must be checked for defined( ) in other contexts."}], "tags": [], "owner": {"reputation": 39, "user_id": 4977142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f8ff33c037cbf8095348392d51bf267?s=128&d=identicon&r=PG&f=1", "display_name": "My Too", "link": "https://stackoverflow.com/users/4977142/my-too"}, "is_accepted": false, "score": -2, "last_activity_date": 1433969952, "last_edit_date": 1433969952, "creation_date": 1433624262, "answer_id": 30687496, "question_id": 30684525, "link": "https://stackoverflow.com/questions/30684525/confusing-filehandle-in-perl/30687496#30687496", "title": "confusing filehandle in perl", "body": "<p>AFAIK, you should always use</p>\n\n<pre><code>while (&lt;FH&gt;) {\n   # use $_ to access the content\n}\n</code></pre>\n\n<p>or better </p>\n\n<pre><code>while(my $single_line = &lt;FH&gt;) {\n   # use $single_line to access the content\n}\n</code></pre>\n\n<p>because while reads line by line where for first loads all in memory and iterates it after.</p>\n\n<p>Even the  returns undef on EOF or error, the check for undef is added by the interpreter when not explicitly done.</p>\n\n<p>So with while you can load multi gigabyte log files without any issue and without wasting RAM where you can't with for loops that require arrays to be iterated.</p>\n\n<p>At least this is how I remember it from a Perl book that I read some years ago.</p>\n"}], "owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433969952, "creation_date": 1433604315, "last_edit_date": 1433629772, "question_id": 30684525, "link": "https://stackoverflow.com/questions/30684525/confusing-filehandle-in-perl", "title": "confusing filehandle in perl", "body": "<p>Have been playing with the following script but still couldn't understand the meaning behind the two different \"kinds\" of filehandle forms. Any insight will be hugely appreciated.</p>\n\n<pre><code>#! usr/bin/perl\nuse warnings;\nuse strict;\nopen (FH, \"example.txt\") or die $!;\n\nwhile (&lt;FH&gt;) {\n    my @line = split (/\\t/, $_); {\n        print \"@line\",\"\\n\";\n    }\n}\n</code></pre>\n\n<p>The output is as expected: <code>@line</code> array contains elements from line 1,2,3 ... from <code>example.txt</code>. As I was told that <code>open (FH, example.txt)</code> is not as good as <code>open (my $fh, '&lt;', 'example.txt')</code>, I changed it but then confusion arose.</p>\n\n<p>From what I found, <code>$fh</code> is <code>scalar</code> and contains ALL info in <code>example.txt</code>. When I assigned an array to <code>$fh</code>, the array stored each line in <code>example.txt</code> as a component in the array. However, when I tried to further split the component into \"more components\", I got the error/warning message \"<code>use of uninitialized value</code>\". Below is the actual script that shows the error/warning message. </p>\n\n<pre><code>open (my $fh, '&lt;', 'example.txt') or die $!;\nforeach ($fh) {\n    my @line = &lt;$fh&gt;;\n    my $count = 0;\n    for $count (0..$#line) {\n        my @line2 = split /\\t/, $line[$count];\n        print \"@line2\";\n        print \"$line2[0]\";\n        }\n    }\n</code></pre>\n\n<p><code>print \"@line2\"</code> shows the expected output but <code>print \"$line2[0]\"</code> invokes the error/warning message. I thought if <code>@line2</code> is a true array, <code>$line2[0]</code> should be okay. But why \"uninitialized value\" ??</p>\n\n<p>Any help will be appreciated. Thank you very much.</p>\n\n<p>Added -\nthe following is the \"actual\" script (I re-ran it and the warning was there)</p>\n\n<pre><code>#! usr/bin/perl\nuse warnings;\nuse strict;\nopen (my $fh, '&lt;', 'example.txt') or die $!;\n\nforeach ($fh) {\n    my @line = &lt;$fh&gt;;\n    print \"$line[1]\";\n    my $count = 0;\n    for my $count (0..$#line) {\n    my @line2 = split /\\t/, $line[$count];\n    print \"@line2\";\n    #my $line2_count = $#line2;\n    #print $line2_count;\n    print \"$line2[3]\";\n    }\n    }\n</code></pre>\n\n<p>The warning is still <code>use of uninitialized value $line2[3] in string at filename.pl line 15, &lt;$fh&gt; line3</code>.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1433625949, "post_id": 30683972, "comment_id": 49434903, "body": "What is your question?"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433626361, "post_id": 30683972, "comment_id": 49435005, "body": "@Borodin, Is my implementation good and if not (I&#39;m supposing that I am doing all wrong), what modules should I use to get the desired behavior?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433626750, "post_id": 30683972, "comment_id": 49435096, "body": "You shouldn&#39;t suppose that: your implementation looks reasonable. You don&#39;t mention any command-line parameters but your code uses <code>@ARGV</code>. Would you explain that, please?"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433627437, "post_id": 30683972, "comment_id": 49435264, "body": "As explained above, each SQL query can take <code>bind</code> values. The first query cannot inherit values from its predecessor because it is the first query. So if you want to bind value to the first query, you just use <code>@ARGV</code>. For example if my database contains the different solutions of the Einstein Puzzle and a column &#39;solution_number<code>, I can simply call my program with </code>--solution_number=2` to get the second solution. However, in my example, this feature is not used."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433638982, "post_id": 30683972, "comment_id": 49437339, "body": "Fine. Thank you. I&#39;ll take a look tomorrow"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1433707005, "post_id": 30683972, "comment_id": 49453940, "body": "If you can output json, why not just keep it as json?"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1433709811, "post_id": 30683972, "comment_id": 49454773, "body": "@Sobrique Database cannot output as JSON. I need to translate the data from the database to JSON. JSON is less readable than YAML and also <a href=\"http://eli.thegreenplace.net/2008/11/22/json-yaml-but-yaml-json\" rel=\"nofollow noreferrer\">YAML is not JSON</a>"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433877365, "post_id": 30683972, "comment_id": 49537593, "body": "@Borodin is this question good for <a href=\"http://codereview.stackexchange.com/\">codereview</a>?"}, {"owner": {"reputation": 64429, "user_id": 1188513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wNdZG.jpg?s=128&g=1", "display_name": "Mathieu Guindon", "link": "https://stackoverflow.com/users/1188513/mathieu-guindon"}, "edited": false, "score": 0, "creation_date": 1433877732, "post_id": 30683972, "comment_id": 49537811, "body": "@nowox not if it&#39;s not working as expected."}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 64429, "user_id": 1188513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wNdZG.jpg?s=128&g=1", "display_name": "Mathieu Guindon", "link": "https://stackoverflow.com/users/1188513/mathieu-guindon"}, "edited": false, "score": 0, "creation_date": 1433880349, "post_id": 30683972, "comment_id": 49539502, "body": "@Mat&#39;sMug So I&#39;m gonna spend some time on this though. The most difficult thing is to keep the columns order in the YAML output. Apparently the YAML dumper sort the keys in alphabetic order. I have either to abandon this feature and keep the keys like this or, rewrite the wheel by implementing a new YAML dumper :("}, {"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 0, "creation_date": 1435872497, "post_id": 30683972, "comment_id": 50394495, "body": "@nowox: Mappings are unordered; the dumper is just trying to do something consistent and reasonable. If order is important you&#39;ll need to use a sequence instead. That said, there have been times when I&#39;d like to specify a custom keysort, too."}, {"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 1, "creation_date": 1435873646, "post_id": 30683972, "comment_id": 50394935, "body": "If you use <a href=\"https://metacpan.org/pod/distribution/YAML/lib/YAML/Node.pod\" rel=\"nofollow noreferrer\">YAML::Node</a> to build your data structure you can control the order in which keys are dumped."}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "is_accepted": true, "score": 1, "last_activity_date": 1436551437, "creation_date": 1436551437, "answer_id": 31347422, "question_id": 30683972, "link": "https://stackoverflow.com/questions/30683972/build-tree-like-hash-yaml-from-a-complex-database-extraction-sql/31347422#31347422", "title": "Build tree-like hash (YAML) from a complex database extraction (SQL)?", "body": "<blockquote>\n  <p>Is my implementation good</p>\n</blockquote>\n\n<p>This is a rather broad question, and the answer probably depends on what you want from your code. For instance:</p>\n\n<p>Does it work? Does it have all the features you need? Does it do what you want? Does it respond appropriately for all the ranges of inputs you want to cater for (and input you don't)? If you aren't sure, write some <a href=\"https://metacpan.org/pod/Test::Tutorial\" rel=\"nofollow\">tests</a>.</p>\n\n<p>Is it fast enough? If not, what are the slow bits? Use <a href=\"https://metacpan.org/pod/Devel::NYTProf\" rel=\"nofollow\">Devel::NYTProf</a> to find them.</p>\n\n<p>If it's working, you probably also want to turn your code into a <a href=\"http://perldoc.perl.org/perlnewmod.html\" rel=\"nofollow\">module</a> rather than just a script so you can use it again.</p>\n\n<blockquote>\n  <p>and if not (I'm supposing that I am doing all wrong), what modules should I use to get the desired behavior? </p>\n</blockquote>\n\n<p>It sounds very much like you're trying to do something like <a href=\"https://metacpan.org/pod/DBIx::Class\" rel=\"nofollow\">DBIx::Class</a> (aka DBIC) does when you ask it to <a href=\"https://metacpan.org/pod/DBIx::Class::Manual::Joining#FETCHING-RELATED-DATA\" rel=\"nofollow\">prefetch</a>; it will build you a data structure of objects.</p>\n\n<p>If you need to do this dynamically in response to arbitrary databases and YAML, that's not quite what DBIC was designed to do; it's probably possible but will probably involve you dynamically creating packages, which will not be easy.</p>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 1, "accepted_answer_id": 31347422, "answer_count": 1, "score": 7, "last_activity_date": 1436551437, "creation_date": 1433600533, "last_edit_date": 1433617757, "question_id": 30683972, "link": "https://stackoverflow.com/questions/30683972/build-tree-like-hash-yaml-from-a-complex-database-extraction-sql", "title": "Build tree-like hash (YAML) from a complex database extraction (SQL)?", "body": "<h2>Introduction</h2>\n\n<p>Considering the tables given at the end of this question, I would like an algorithm or a simple solution that returns a nested tree from a <code>YAML</code> description. Using <a href=\"/questions/tagged/yaml\" class=\"post-tag\" title=\"show questions tagged &#39;yaml&#39;\" rel=\"tag\">yaml</a> format is an optional need. In fact, the output I need is an array of ordered hashes that may or may not contain nested ordered hashes or arrays of ordered hashes. </p>\n\n<p>In short, I am talking about a <em>tree-like</em> structure.</p>\n\n<p>For a better understanding of my question I will treat a simple example that covers all my needs. Actually this example is the one I am using to implement this algorithm. </p>\n\n<p>I decided to ask this question in parallel with my own investigations as my knowledge in Perl is limited. I don't want to dig into the wrong tunnel and that's why I am asking for help. </p>\n\n<p>I am currently focussing on the DBI module. I tried to look at other modules such as <code>DBIx::Tree::NestedSet</code>, but I don't think it is what I need.</p>\n\n<p>So, let's get down to the details of my example.</p>\n\n<h2>Example</h2>\n\n<p>The inital idea is to write a <a href=\"/questions/tagged/perl\" class=\"post-tag\" title=\"show questions tagged &#39;perl&#39;\" rel=\"tag\">perl</a> program that takes a <a href=\"/questions/tagged/yaml\" class=\"post-tag\" title=\"show questions tagged &#39;yaml&#39;\" rel=\"tag\">yaml</a> description and outputs the extracted data. </p>\n\n<p>This input description follows simple rules:</p>\n\n<ul>\n<li><strong>query</strong> is what data we are looking for. It can contains the following keys\n<ul>\n<li><strong>sql</strong> is the SQL query</li>\n<li><strong>hide</strong> hides columns from the final output. This field is used when a column is required only in a subquery but not wanted in the end.</li>\n<li><strong>subquery</strong> is a nested query executed for each row of the parent query</li>\n<li><strong>bind</strong> to bind columns values to the <a href=\"/questions/tagged/sql\" class=\"post-tag\" title=\"show questions tagged &#39;sql&#39;\" rel=\"tag\">sql</a> query</li>\n<li><strong>hash</strong> tells the program to group the results not in an array of hashes but an hash of hashes. Actually this could be directly given to <code>DBI::selectall_hashref</code>. If this field is omitted the output is listed as an array of ordered hashes.</li>\n<li><strong>key</strong> is the name of the key listed at the same level of the parent's result. We will see\nlater that a key name can mask a result column.</li>\n<li><strong>list</strong> tells the program to list the result into an array. Notice that only one column can be displayed <em>i.e.</em> <code>array: name</code> displays the list of <code>names</code></li>\n</ul></li>\n<li><strong>connect</strong> is the DBI connection string</li>\n<li><strong>format</strong> is the output format. It can be either <code>XML</code>, <code>YAML</code> or <code>JSON</code>. I primarly focus on the\n<code>YAML</code> format as it can be easily translated. When omitted, the default ouput is <code>YAML</code>.</li>\n<li><strong>indent</strong> how many spaces is one identation. The <code>tabs</code> or <code>tab</code> value is also supported.</li>\n</ul>\n\n<p>In addition, we know that in Perl hashes are not ordered. Here, the output keys  order is important and should appear as they appear in the sql query. </p>\n\n<p>From this I simpy use the <code>YAML</code> module :(</p>\n\n<p>In summary, in the end we will just execute this command: </p>\n\n<pre><code>$ cat desc.yml | ./fetch &gt; data.yml\n</code></pre>\n\n<p>The <code>desc.yml</code> description is given below:</p>\n\n<pre><code>---\nconnect: \"dbi:SQLite:dbname=einstein-puzzle.sqlite\"\nident: 4\nquery:\n   - sql: SELECT * from people\n     hide:\n        - pet_id\n        - house_id\n        - id\n     subquery:\n        - key: brevage\n          bind: id\n          sql: |\n                SELECT name, calories, potassium FROM drink\n                LEFT JOIN people_has_drink ON drink.id = people_has_drink.id_drink\n                WHERE people_has_drink.id_people = 1       \n          hash:\n             - name\n        - key: house\n          sql: SELECT color as paint, size, id from house WHERE id = ?\n          hide: id\n          bind: paint\n          subquery:\n             - key: color\n               sql: SELECT name, ral, hex from color WHERE short LIKE ?\n               bind: color\n        - key: pet\n          sql: SELECT name from pet WHERE id = ?\n          bind: pet_id\n          list: name\n</code></pre>\n\n<h2>Expected Output</h2>\n\n<p>From the description above, the output data would be this:</p>\n\n<pre><code>---\n- nationality: Norvegian\n  smoke: Dunhill\n  brevage:\n      orange juice:\n          calories: 45\n          potassium: 200 mg\n      water:\n          calories: 0\n          potassium: 3 mg\n  house:\n      color:\n          name: Zinc yellow\n          ral:  RAL 1018\n          hex:  #F8F32B\n      paint: yellow\n      size: small\n  pet:\n      - cats\n- nationality: Brit\n  smoke: Pall Mall\n  brevage:\n      milk:\n          calories: 42\n          potassium: 150 mg\n  house:\n      color:\n          name: Vermilion\n          ral:  RAL 2002\n          hex:  #CB2821\n      paint: red\n      size: big\n  pet:\n      - birds\n      - phasmatodea\n</code></pre>\n\n<h2>Where I am</h2>\n\n<p>I still did not fully implemented the nested queries. My current sate is given here:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse 5.010;\nuse strict;\nuse warnings;\nuse DBI;\nuse YAML;\nuse Data::Dumper;\nuse Tie::IxHash;\n\n# Read configuration and databse connection\nmy %yml = %{ Load(do { local $/; &lt;DATA&gt;}) };\nmy $dbh = DBI-&gt;connect($yml{connect});\n\n# Fill the bind values of the first query with command-line information\nmy %bind;\nfor(@ARGV) {\n    next unless /--(\\w+)=(.*)/;\n    $bind{$1} = $2;\n}\n\nmy $q0 = $yml{query}[0];\nif ($q0-&gt;{bind} and keys %bind &gt; 0) {\n    $q0-&gt;{bind_values} = arrayref($q0-&gt;{bind});\n    $q0-&gt;{bind_values}[$_] = $bind{$q0-&gt;{bind}[$_]} foreach (0 .. @{$q0-&gt;{bind}} - 1);\n}\n\n# Fetch all data from the database recursively\nmy $out = fetch($q0);\n\nsub fetch {\n    # As long we have a query, one processes it\n    my $query = shift; \n    return undef unless $query;\n\n    $query-&gt;{bind_values} = [] unless ref $query-&gt;{bind_values} eq 'ARRAY';\n    # Execute SQL query\n    my $sth = $dbh-&gt;prepare($query-&gt;{sql});\n    $sth-&gt;execute(@{$query-&gt;{bind_values}});\n    my @columns = @{$sth-&gt;{NAME}}; \n\n    # Fetch all the current level's data and preserve columns order \n    my @return;\n    for my $row (@{$sth-&gt;fetchall_arrayref()}) { \n        my %data;\n        tie %data, 'Tie::IxHash';\n        $data{$columns[$_]} = $row-&gt;[$_] for (0 .. $#columns);\n        for my $subquery (@{ $query-&gt;{subquery} }) { \n            my @bind;\n            push @bind, $data{$_} for (@{ arrayref($subquery-&gt;{bind}) });\n            $subquery-&gt;{bind_values} = \\@bind;\n            my $sub = fetch($subquery);\n\n            # Present output as a list \n            if ($subquery-&gt;{list}) {\n                #if ( map ( $query-&gt;{list} eq $_ , keys $sub ) )\n                my @list;\n                for (@$sub) {\n                    push @list, $_-&gt;{$subquery-&gt;{list}};\n                }\n                $sub = \\@list;\n            }\n\n            if ($subquery-&gt;{key}) {\n                $data{$subquery-&gt;{key}} = $sub;\n            } else {\n                die \"[Error] Key is missing for query '$subquery-&gt;{sql}'\";\n            }\n        }\n\n        # Remove unwanted columns from the output\n        if ($query-&gt;{hide}) {\n            delete $data{$_} for( @{ arrayref($query-&gt;{hide}) } );\n        }        \n\n        push @return, \\%data;\n    }\n\n    \\@return;    \n}\n\nDumpYaml($out);\n\nsub arrayref {\n   my $ref = shift;\n   return (ref $ref ne 'ARRAY') ? [$ref] : $ref; \n}\n\nsub DumpYaml {\n    # I am not happy with this current dumper. I cannot specify the indent and it does \n    # not preserve the extraction order\n    print Dump shift;\n}\n\n__DATA__\n---\nconnect: \"dbi:SQLite:dbname=einstein-puzzle.sqlite\"\nident: 4\nquery:\n   - sql: SELECT * from people\n     hide:\n        - pet_id\n        - house_id\n        - id\n     subquery:\n        - key: brevage\n          bind: id\n          sql: |\n                SELECT name, calories, potassium FROM drink\n                LEFT JOIN people_has_drink ON drink.id = people_has_drink.id_drink\n                WHERE people_has_drink.id_people = ?       \n          hash:\n             - name\n        - key: house\n          sql: SELECT color as paint, size, id from house WHERE id = ?\n          hide: id\n          bind: house_id\n          subquery:\n             - key: color\n               sql: SELECT short, ral, hex from color WHERE short LIKE ?\n               bind: paint\n        - key: pet\n          sql: SELECT name from pet WHERE id = ?\n          bind: pet_id\n          list: name  \n</code></pre>\n\n<p>And this is what output I get:</p>\n\n<pre><code>---\n- brevage:\n    - calories: 0\n      name: water\n      potassium: 3 mg\n    - calories: 45\n      name: orange juice\n      potassium: 200 mg\n  house:\n    - color:\n        - hex: '#F8F32B'\n          ral: RAL 1018\n          short: yellow\n      paint: yellow\n      size: small\n  nationality: Norvegian\n  pet:\n    - cats\n  smoke: Dunhill\n- brevage:\n    - calories: 42\n      name: milk\n      potassium: 150 mg\n  house:\n    - color:\n        - hex: '#CB2821'\n          ral: RAL 2002\n          short: red\n      paint: red\n      size: big\n  nationality: Brit\n  pet:\n    - birds\n    - phasmatodea\n  smoke: Pall Mall\n</code></pre>\n\n<h2>Database</h2>\n\n<p>My test databse is a <a href=\"/questions/tagged/sqlite\" class=\"post-tag\" title=\"show questions tagged &#39;sqlite&#39;\" rel=\"tag\">sqlite</a> db where the tables are listed below: </p>\n\nTable People\n\n<pre class=\"lang-none prettyprint-override\"><code>.----+-------------+----------+--------+-----------.\n| id | nationality | house_id | pet_id | smoke     |\n+----+-------------+----------+--------+-----------+\n|  1 | Norvegian   |        4 |      3 | Dunhill   |\n|  2 | Brit        |        1 |      2 | Pall Mall |\n'----+-------------+----------+--------+-----------'\n</code></pre>\n\nTable Drink\n\n<pre class=\"lang-none prettyprint-override\"><code>.----+--------------+----------+-----------.\n| id | name         | calories | potassium |\n+----+--------------+----------+-----------+\n|  1 | tea          |        1 | 18 mg     |\n|  2 | coffee       |        0 | 49 mg     |\n|  3 | milk         |       42 | 150 mg    |\n|  4 | beer         |       43 | 27 mg     |\n|  5 | water        |        0 | 3 mg      |\n|  6 | orange juice |       45 | 200 mg    |\n'----+--------------+----------+-----------'\n</code></pre>\n\nTable People Has Drink\n\n<pre class=\"lang-none prettyprint-override\"><code>.-----------+----------.\n| id_people | id_drink |\n+-----------+----------+\n|         1 |        5 |\n|         1 |        6 |\n|         2 |        3 |\n'-----------+----------'\n</code></pre>\n\nTable House\n\n<pre class=\"lang-none prettyprint-override\"><code>+----+--------+--------+\n| id | color  |  size  |\n+----+--------+--------+\n|  1 | red    | big    |\n|  2 | green  | small  |\n|  3 | white  | middle |\n|  4 | yellow | small  |\n|  5 | blue   | huge   |\n+----+--------+--------+\n</code></pre>\n\nTable Color\n\n<pre class=\"lang-none prettyprint-override\"><code>.--------+-------------+----------+---------.\n| short  |    color    |   ral    |   hex   |\n+--------+-------------+----------+---------+\n| red    | Vermilion   | RAL 2002 | #CB2821 |\n| green  | Pale green  | RAL 6021 | #89AC76 |\n| white  | Light grey  | RAL 7035 | #D7D7D7 |\n| yellow | Zinc yellow | RAL 1018 | #F8F32B |\n| blue   | Capri blue  | RAL 5019 | #1B5583 |\n'--------+-------------+----------+---------'\n</code></pre>\n\nTable Pet\n\n<pre class=\"lang-none prettyprint-override\"><code>+----+-------------+\n| id |    name     |\n+----+-------------+\n|  1 | dogs        |\n|  2 | birds       |\n|  3 | cats        |\n|  4 | horses      |\n|  5 | fishes      |\n|  2 | phasmatodea |\n+----+-------------+\n</code></pre>\n\n<h2>Database data</h2>\n\n<p>If you wish use the same data as mine also give you all what you need:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>BEGIN TRANSACTION;\nCREATE TABLE \"pet\" (\n    `id`    INTEGER,\n    `name`  TEXT\n);\nINSERT INTO `pet` VALUES (1,'dogs');\nINSERT INTO `pet` VALUES (2,'birds');\nINSERT INTO `pet` VALUES (3,'cats');\nINSERT INTO `pet` VALUES (4,'horses');\nINSERT INTO `pet` VALUES (5,'fishes');\nINSERT INTO `pet` VALUES (2,'phasmatodea');\nCREATE TABLE `people_has_drink` (\n    `id_people` INTEGER NOT NULL,\n    `id_drink`  INTEGER NOT NULL,\n    PRIMARY KEY(id_people,id_drink)\n);\nINSERT INTO `people_has_drink` VALUES (1,5);\nINSERT INTO `people_has_drink` VALUES (1,6);\nINSERT INTO `people_has_drink` VALUES (2,3);\nCREATE TABLE \"people\" (\n    `id`    INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,\n    `nationality`   VARCHAR(45),\n    `house_id`  INT,\n    `pet_id`    INT,\n    `smoke` VARCHAR(45)\n);\nINSERT INTO `people` VALUES (1,'Norvegian',4,3,'Dunhill');\nINSERT INTO `people` VALUES (2,'Brit',1,2,'Pall Mall');\nCREATE TABLE \"house\" (\n    `id`    INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,\n    `color` TEXT,\n    `size`  TEXT\n);\nINSERT INTO `house` VALUES (1,'red','big');\nINSERT INTO `house` VALUES (2,'green','small');\nINSERT INTO `house` VALUES (3,'white','middle');\nINSERT INTO `house` VALUES (4,'yellow','small');\nINSERT INTO `house` VALUES (5,'blue','huge');\nCREATE TABLE `drink` (\n    `id`    INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,\n    `name`  TEXT,\n    `calories`  INTEGER,\n    `potassium` TEXT\n);\nINSERT INTO `drink` VALUES (1,'tea',1,'18 mg');\nINSERT INTO `drink` VALUES (2,'coffee',0,'49 mg');\nINSERT INTO `drink` VALUES (3,'milk',42,'150 mg');\nINSERT INTO `drink` VALUES (4,'beer',43,'27 mg');\nINSERT INTO `drink` VALUES (5,'water',0,'3 mg');\nINSERT INTO `drink` VALUES (6,'orange juice',45,'200 mg');\nCREATE TABLE `color` (\n    `short` TEXT UNIQUE,\n    `color` TEXT,\n    `ral`   TEXT,\n    `hex`   TEXT,\n    PRIMARY KEY(short)\n);\nINSERT INTO `color` VALUES ('red','Vermilion','RAL 2002','#CB2821');\nINSERT INTO `color` VALUES ('green','Pale green','RAL 6021','#89AC76');\nINSERT INTO `color` VALUES ('white','Light grey','RAL 7035','#D7D7D7');\nINSERT INTO `color` VALUES ('yellow','Zinc yellow','RAL 1018','#F8F32B');\nINSERT INTO `color` VALUES ('blue','Capri blue','RAL 5019','#1B5583');\nCOMMIT;\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1433590093, "post_id": 30682187, "comment_id": 49424860, "body": "How about <code>print &quot;1: $hash{1}&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1433624569, "post_id": 30682220, "comment_id": 49434575, "body": "This is <b><i>wrong</i></b>. There is no need to search through all the hash keys to find a match: just <code>print &quot;1 : $hash{1}&quot;</code> will do fine. And <i>all</i> hash keys are strings and should <i>always</i> be compared using <code>eq</code>"}], "tags": [], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "is_accepted": true, "score": -1, "last_activity_date": 1433648993, "last_edit_date": 1433648993, "creation_date": 1433589899, "answer_id": 30682220, "question_id": 30682187, "link": "https://stackoverflow.com/questions/30682187/to-access-a-specific-key-value-pair-in-hash/30682220#30682220", "title": "to access a specific key-value pair in hash", "body": "<pre><code>foreach (sort keys %hash) {\n  if ($_ eq 1 ) {\n    print \"$_ : $hash{$_}\";\n    last;\n  }\n}\n</code></pre>\n\n<p>Using <code>last</code> will cause your loop to exit as soon as condition is met. I hope this will solve your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 2, "last_activity_date": 1463072629, "last_edit_date": 1495541275, "creation_date": 1433663407, "answer_id": 30691264, "question_id": 30682187, "link": "https://stackoverflow.com/questions/30682187/to-access-a-specific-key-value-pair-in-hash/30691264#30691264", "title": "to access a specific key-value pair in hash", "body": "<p>A hash is designed to enable fast lookup of a value for a given key. You would only <code>foreach</code> through all keys of your hash if you wanted to see or do something to every single value. If you wanted to just look up the value for a given key, you would, as mentioned by <a href=\"https://stackoverflow.com/users/223226/%D0%A1%D1%83%D1%85%D0%BE%D0%B927\">\u0421\u0443\u0445\u043e\u043927</a> and <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a>, use</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %hash = (\n    1 =&gt; \"one\",\n    2 =&gt; \"two\",\n    3 =&gt; \"three\",\n);\n\nprint \"1: $hash{1}\\n\";\nprint \"2: $hash{2}\\n\";\n</code></pre>\n\n<p>or, more general for a key <code>$key</code>:</p>\n\n<pre><code>print \"$key: $hash{$key}\\n\";\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 4572971, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/46c342a03740ca2886dc02980e1ce546?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj", "link": "https://stackoverflow.com/users/4572971/pankaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1076, "favorite_count": 0, "accepted_answer_id": 30682220, "answer_count": 2, "score": -1, "last_activity_date": 1463072629, "creation_date": 1433589626, "last_edit_date": 1433590808, "question_id": 30682187, "link": "https://stackoverflow.com/questions/30682187/to-access-a-specific-key-value-pair-in-hash", "title": "to access a specific key-value pair in hash", "body": "<p>I want to print only the specific key:pair from the following hash in perl:</p>\n\n<pre><code>1: one\n2: two\n3: three\n</code></pre>\n\n<p>and I am using the following statement to print my hash:</p>\n\n<pre><code>foreach (sort keys %hash) {\n    print \"$_ : $hash{$_}\";\n }\n</code></pre>\n\n<p>what should the code if I only want to print <code>1: one</code> or <code>2: two</code> from the hash.</p>\n"}, {"tags": ["perl", "youtube-api"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1433587244, "post_id": 30681825, "comment_id": 49424166, "body": "Ok I will take your word for it, since the error message gives no clue about this being the case :) Do you know of any alternatives to <code>WebService::GData</code> ?"}, {"owner": {"reputation": 2526, "user_id": 4479165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb7faf1344075e6252156358b64e539?s=128&d=identicon&r=PG&f=1", "display_name": "theduck", "link": "https://stackoverflow.com/users/4479165/theduck"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1433587564, "post_id": 30681825, "comment_id": 49424244, "body": "Details that the library is accessing v2 can be seen here: <a href=\"https://metacpan.org/pod/WebService::GData::YouTube#NAME\" rel=\"nofollow noreferrer\">metacpan.org/pod/WebService::GData::YouTube#NAME</a>"}, {"owner": {"reputation": 2526, "user_id": 4479165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb7faf1344075e6252156358b64e539?s=128&d=identicon&r=PG&f=1", "display_name": "theduck", "link": "https://stackoverflow.com/users/4479165/theduck"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1433587628, "post_id": 30681825, "comment_id": 49424255, "body": "I don&#39;t know of a new Perl library for this I am afraid. There are client libraries for most other languages here: <a href=\"https://developers.google.com/youtube/v3/libraries\" rel=\"nofollow noreferrer\">developers.google.com/youtube/v3/libraries</a>. Sorry I can&#39;t be more help on the Perl side though."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1433599796, "post_id": 30681825, "comment_id": 49427541, "body": "Well volunteered to build one @H&#229;konH&#230;gland! :)"}], "tags": [], "owner": {"reputation": 2526, "user_id": 4479165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb7faf1344075e6252156358b64e539?s=128&d=identicon&r=PG&f=1", "display_name": "theduck", "link": "https://stackoverflow.com/users/4479165/theduck"}, "is_accepted": true, "score": 1, "last_activity_date": 1433587073, "creation_date": 1433587073, "answer_id": 30681825, "question_id": 30681201, "link": "https://stackoverflow.com/questions/30681201/obtaining-youtube-user-profile-using-webservicegdatayoutube-fails/30681825#30681825", "title": "Obtaining youtube user profile using WebService::GData::YouTube fails", "body": "<p><code>WebService::GData::YouTube</code> uses the YouTube API v2, which has now been deprecated. You will need to use a library that works with v3 of the API.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 30681825, "answer_count": 1, "score": 0, "last_activity_date": 1433587073, "creation_date": 1433583070, "question_id": 30681201, "link": "https://stackoverflow.com/questions/30681201/obtaining-youtube-user-profile-using-webservicegdatayoutube-fails", "title": "Obtaining youtube user profile using WebService::GData::YouTube fails", "body": "<p>I am trying to learn how to use <a href=\"https://metacpan.org/pod/WebService::GData::YouTube\" rel=\"nofollow\"><code>WebService::GData::YouTube</code></a> by following the tutorial at <a href=\"http://perlmaven.com/fetching-data-from-youtube-using-perl\" rel=\"nofollow\">http://perlmaven.com/fetching-data-from-youtube-using-perl</a> :</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse WebService::GData::YouTube;\nmy $yt = WebService::GData::YouTube-&gt;new();\nmy $p = $yt-&gt;get_user_profile('Gabor Szabo');\nprint \"ok\\n\";\n</code></pre>\n\n<p>But this fails with output:</p>\n\n<pre><code>WebService::GData::Error=HASH(0x1c45dc8)\n</code></pre>\n\n<p>The exception occurs in <code>$yt-&gt;get_user_profile()</code>..</p>\n"}, {"tags": ["perl", "osx-yosemite", "launchd"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1433579235, "creation_date": 1433579235, "answer_id": 30680657, "question_id": 30678601, "link": "https://stackoverflow.com/questions/30678601/launchctl-os-x-perl-global-daemon-variable/30680657#30680657", "title": "launchctl OS X Perl Global Daemon Variable", "body": "<p>Just change your <code>PATH</code> variable so that the path to the perl.exe that you want to use appears first</p>\n"}, {"comments": [{"owner": {"reputation": 7209, "user_id": 1891327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dU9Mf.png?s=128&g=1", "display_name": "Shamas S", "link": "https://stackoverflow.com/users/1891327/shamas-s"}, "edited": false, "score": 0, "creation_date": 1433615074, "post_id": 30682862, "comment_id": 49432008, "body": "Please consider adding some more detail to the answer. :)"}, {"owner": {"reputation": 252, "user_id": 3942518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7f88365bd2f2b46d2c308f10969155f0?s=128&d=identicon&r=PG&f=1", "display_name": "Number1", "link": "https://stackoverflow.com/users/3942518/number1"}, "edited": false, "score": 0, "creation_date": 1434197652, "post_id": 30682862, "comment_id": 49683519, "body": "I don&#39;t exactly understand..... My perl script is inside a .sh file that is run as a global daemon/launchctl."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1433593730, "creation_date": 1433593730, "answer_id": 30682862, "question_id": 30678601, "link": "https://stackoverflow.com/questions/30678601/launchctl-os-x-perl-global-daemon-variable/30682862#30682862", "title": "launchctl OS X Perl Global Daemon Variable", "body": "<pre><code>$ENV{'PATH'} = '/some/new/path';\n</code></pre>\n"}], "owner": {"reputation": 252, "user_id": 3942518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7f88365bd2f2b46d2c308f10969155f0?s=128&d=identicon&r=PG&f=1", "display_name": "Number1", "link": "https://stackoverflow.com/users/3942518/number1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433593730, "creation_date": 1433561047, "question_id": 30678601, "link": "https://stackoverflow.com/questions/30678601/launchctl-os-x-perl-global-daemon-variable", "title": "launchctl OS X Perl Global Daemon Variable", "body": "<p>I have a script that uses <code>#!/usr/bin/env perl</code>. I'm wondering how to set the env variable for launchctl so my script will use 5.20.1 (all user accounts are using 5.20.1) as currently is set at 5.18.</p>\n\n<p>This might be partially caused from the upgrade from OS X Mavericks to OS X Yosemite.</p>\n"}, {"tags": ["arrays", "perl", "filehandle"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1433559734, "post_id": 30678449, "comment_id": 49418274, "body": "<a href=\"http://perlmaven.com/reading-from-a-file-in-scalar-and-list-context\" rel=\"nofollow noreferrer\">perlmaven.com/reading-from-a-file-in-scalar-and-list-context</a>"}, {"owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1433560710, "post_id": 30678449, "comment_id": 49418435, "body": "thanks a lot for showing perlmaven !!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1433561222, "post_id": 30678449, "comment_id": 49418507, "body": "Looks like  \u0421\u0443\u0445\u043e\u043927 solved your issue, but I want to point out that in Perl, it&#39;s a common idiom to use the three-arg open:   open my $fh, &#39;&lt;&#39;, &#39;file.txt&#39; or die &quot;Can&#39;t open file: $!&quot;;"}, {"owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "edited": false, "score": 0, "creation_date": 1433586728, "post_id": 30678449, "comment_id": 49424032, "body": "thanks for pointing it out. i saw that idiom in oreilly&#39;s books, but somehow the  &quot;beginner book&quot; (non-oreilly, I assume) did not follow that idiom. the program still runs without the traditional idiom but now i wonder if reading the beginner book is the right choice ??"}], "answers": [{"tags": [], "owner": {"reputation": 5421, "user_id": 1818, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/86facebf59b1b445e33b2da8561c1f78?s=128&d=identicon&r=PG", "display_name": "Kevin Crumley", "link": "https://stackoverflow.com/users/1818/kevin-crumley"}, "is_accepted": false, "score": 2, "last_activity_date": 1433560247, "creation_date": 1433560247, "answer_id": 30678541, "question_id": 30678449, "link": "https://stackoverflow.com/questions/30678449/misunderstanding-of-filehandle-or-array-in-perl/30678541#30678541", "title": "misunderstanding of filehandle (or array?) in perl?", "body": "<p>In Perl, when you read from a filehandle in a list context, it automatically reads to the end of the file. <code>$_</code> is empty because the entire file has been read into <code>@array</code>, and the filehandle has been moved to <code>EOF</code>. Perl's different handling of the same instruction in scalar and list \"context\" is unusual, but the behavior of the filehandle itself is pretty standard across languages. In general, a filehandle or input stream will let you read a line at a time, a byte at a time, or the whole file at a time, and have a pointer that keeps track of the last place in the file you read. When you inadvertently moved that pointer all the way to the end of the file (<code>EOF</code>) by doing a read in a list context, your next call to read a line finds that there's no more file to read. This is a pretty good explanation of <a href=\"http://perlmaven.com/scalar-and-list-context-in-perl\" rel=\"nofollow\">scalar and list context</a>; that might be the trickier part of what's going on here.</p>\n"}], "owner": {"reputation": 883, "user_id": 1695751, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3f255c2c656c8c2b8296ac01e0124070?s=128&d=identicon&r=PG", "display_name": "B Chen", "link": "https://stackoverflow.com/users/1695751/b-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "closed_date": 1433682472, "answer_count": 1, "score": 0, "last_activity_date": 1433560247, "creation_date": 1433559232, "question_id": 30678449, "link": "https://stackoverflow.com/questions/30678449/misunderstanding-of-filehandle-or-array-in-perl", "closed_reason": "Duplicate", "title": "misunderstanding of filehandle (or array?) in perl?", "body": "<p>New to perl (and language in general), and have gone so far as <code>OPEN FH</code>.\nA little confused about the following two scenarios (outputs are different, but I couldn't understand why the second one is \"wrong\").</p>\n\n<p>script 1</p>\n\n<pre><code>#! usr/bin/perl\nuse warnings;\nuse strict;\nopen FILE, \"example.txt\" or die $!;\nwhile (&lt;FILE&gt;) {\n    print $_;\n    }\n</code></pre>\n\n<p>script2</p>\n\n<pre><code>#! usr/bin/perl\nuse warnings;\nuse strict;\nopen FILE, \"example.txt\" or die $!;\nmy @array = &lt;FILE&gt;;\nwhile (&lt;FILE&gt;) {\n    print $_;\n    }\n</code></pre>\n\n<p>The example.txt contains 3 lines of sentence. When I assign filehandle <code>FILE</code> to an array, suddenly, <code>$_</code> becomes empty ??</p>\n\n<p>If I replace <code>&lt;FILE&gt;</code> in the <code>while</code> loop with array (<code>@array</code>), the loop cannot stop and <code>$_</code> becomes \"uninitialized value\". </p>\n\n<p>This is likely a very basic misunderstanding of <code>filehandle</code> and array , but can someone please help explain them - in plain English - ? Or point to the references where I could find more info (have a few references handy and have consulted them, but obviously I still couldn't quite understand why script 2 (and 3) are not correct). Great many thanks. </p>\n"}, {"tags": ["perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 1, "creation_date": 1433552528, "post_id": 30677816, "comment_id": 49417123, "body": "I like using Schwartzian transforms for stuff like this: <a href=\"http://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Schwartzian_transform</a>"}, {"owner": {"reputation": 4400, "user_id": 1452951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa59033112232be3423b6643c697816?s=128&d=identicon&r=PG", "display_name": "Dondi Michael Stroma", "link": "https://stackoverflow.com/users/1452951/dondi-michael-stroma"}, "edited": false, "score": 0, "creation_date": 1433555514, "post_id": 30677816, "comment_id": 49417646, "body": "What you have written looks fine to me."}, {"owner": {"reputation": 363, "user_id": 3112401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b072f502ab30a29d9a76b5af429377?s=128&d=identicon&r=PG&f=1", "display_name": "user3112401", "link": "https://stackoverflow.com/users/3112401/user3112401"}, "reply_to_user": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1433595962, "post_id": 30677816, "comment_id": 49426433, "body": "Ok, thanks, DondiMichaelStroma.  I was thinking there might be a way to do it in one pass.  @chilemagic, I couldn&#39;t figure out how to make a Schwartzian Transform work on this."}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1433601671, "post_id": 30677816, "comment_id": 49428061, "body": "@user3112401 I&#39;ll post an answer in a few hours, gotta get a haircut first!"}], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 3112401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b072f502ab30a29d9a76b5af429377?s=128&d=identicon&r=PG&f=1", "display_name": "user3112401", "link": "https://stackoverflow.com/users/3112401/user3112401"}, "edited": false, "score": 0, "creation_date": 1433695844, "post_id": 30685986, "comment_id": 49450239, "body": "Wow! I asked about sorting and got a course in good programming practices with Perl.  Thanks!  I printed this out and will read through it.  Will get back to you if I have any further questions."}], "tags": [], "owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "is_accepted": true, "score": 3, "last_activity_date": 1433613839, "last_edit_date": 1492087233, "creation_date": 1433613839, "answer_id": 30685986, "question_id": 30677816, "link": "https://stackoverflow.com/questions/30677816/sorting-a-hash-in-perl-when-the-keys-are-dynamic/30685986#30685986", "title": "Sorting a hash in Perl when the keys are dynamic", "body": "<p>This type question might be more suited to the <a href=\"https://softwareengineering.stackexchange.com/\">Programmers</a> Stack Exchange site or the <a href=\"https://codereview.stackexchange.com/\">Code Review</a> one. Since it is asking about implementation, I think its fine to ask here. The sites tend to have some <a href=\"https://meta.stackexchange.com/questions/129598/which-computer-science-programming-stack-exchange-do-i-post-in\">overlap</a>. </p>\n\n<hr>\n\n<p>As @DondiMichaelStroma pointed out, and as you already know, your code works great! However, there is more than one way to do it. For me, if this was in a small script, I would probably leave it as is and move on to the next part of the project. If this was in a more professional code base, I would make some changes.</p>\n\n<p>For me, when writing for a professional code base, I try to keep a few things in mind.</p>\n\n<ul>\n<li>Readability</li>\n<li>Efficiency when it matters</li>\n<li>Not gold-plating it</li>\n<li>Unit Testing</li>\n</ul>\n\n<p>So let's take a look at your code:</p>\n\n<pre><code>my %data = (\n    'B2' =&gt; {\n        'one' =&gt; {\n            timestamp =&gt; '00:12:30'\n        },\n        'two' =&gt; {\n            timestamp =&gt; '00:09:30'\n        }\n    },\n    'C3' =&gt; {\n        'three' =&gt; {\n            timestamp =&gt; '00:13:45'\n        },\n        'adam' =&gt; {\n            timestamp =&gt; '00:09:30'\n        }\n    }\n);\n</code></pre>\n\n<p>The way data is defined is excellent and nicely formatted. This may not be how <code>%data</code> is built in your code, but maybe a unit test would have a hash like that.</p>\n\n<pre><code>my @flattened;\nfor my $outer_key (keys %data) {\n    for my $inner_key (keys %{$data{$outer_key}}) {\n        push @flattened, [\n            $data{$outer_key}{$inner_key}{timestamp}\n            , $outer_key\n            , $inner_key\n        ];\n    }\n}\nfor my $ary (sort { $a-&gt;[0] cmp $b-&gt;[0] || $a-&gt;[2] cmp $b-&gt;[2] } @flattened) {\n    print join ',' =&gt; @$ary;\n    print \"\\n\";\n}\n</code></pre>\n\n<p>The variable names could be more descriptive, and the <code>@flattened</code> array has some redundant data in it. Printing it with <a href=\"http://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\">Data::Dumper</a>, you can see we have <code>C3</code> and <code>B2</code> in multiple places.</p>\n\n<pre><code>$VAR1 = [\n          '00:13:45',\n          'C3',\n          'three'\n        ];\n$VAR2 = [\n          '00:09:30',\n          'C3',\n          'adam'\n        ];\n$VAR3 = [\n          '00:12:30',\n          'B2',\n          'one'\n        ];\n$VAR4 = [\n          '00:09:30',\n          'B2',\n          'two'\n        ];\n</code></pre>\n\n<p>Maybe this isn't a big deal, or maybe you want to keep the functionality of getting all the data under the key <code>B2</code>.</p>\n\n<p>Here's another way we could store that data:</p>\n\n<pre><code>my %flattened = (\n    'B2' =&gt; [['one', '00:12:30'],\n             ['two', '00:09:30']],\n    'C3' =&gt; [['three','00:13:45'],\n             ['adam', '00:09:30']]\n);\n</code></pre>\n\n<p>It may make the sorting more complicated, but it makes the data structure simpler! Maybe this is getting closer to gold-plating, or maybe you'd benefit from this data structure in another part of the code. My preference is to keep data structures simple, and add extra code if needed when processing them. If you decide you need to dump <code>%flattened</code> to a log file, you might appreciate not seeing duplicate data.</p>\n\n<hr>\n\n<h1>Implementation</h1>\n\n<p><strong>Design:</strong> I think we want to keep this as two distinct operations. This will help code clarity and we could test each function individually. The first function would convert between the data formats we want to use, and the second function would sort the data. These functions should be in a Perl module, and we can use <a href=\"http://perldoc.perl.org/Test/More.html\" rel=\"nofollow noreferrer\">Test::More</a> to do the unit testing. I don't know where we are calling these functions from, so let's pretend we are calling them from <code>main.pl</code>, and we can put the functions in a module called <code>Helper.pm</code>. These names should be more descriptive, but again I'm not sure what the application is here! Great names lead to readable code.</p>\n\n<hr>\n\n<h1>main.pl</h1>\n\n<p>This is what <code>main.pl</code> could look like. Even though there are no comments, the descriptive names can make it self documenting. These names could be still be improved too!</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse Utilities::Helper qw(sort_by_times_then_names convert_to_simple_format);\n\nmy %data = populate_data();\n\nmy @sorted_data = @{ sort_by_times_then_names( convert_to_simple_format( \\%data ) ) };\n\nprint Dumper(@sorted_data);\n</code></pre>\n\n<hr>\n\n<h1>Utilities/Helper.pm</h1>\n\n<p>Is this readable and elegant? I think it could use some improvements. More descriptive variable names would help in this module as well. However, it is easily testable, and keeps our main code clean and data structures simple.</p>\n\n<pre><code>package Utilities::Helper;\nuse strict;\nuse warnings;\n\nuse Exporter qw(import);\nour @EXPORT_OK = qw(sort_by_times_then_names convert_to_simple_format);\n\n# We could put a comment here explaning the expected input and output formats.\nsub sort_by_times_then_names {\n\n    my ( $data_ref ) = @_;\n\n    # Here we can use the Schwartzian Transform to sort it\n    # Normally, we would just be sorting an array. But here we\n    # are converting the hash into an array and then sorting it.\n    # Maybe that should be broken up into two steps to make to more clear!\n    #my @sorted = map  { $_ } we don't actually need this map\n    my @sorted = sort {\n                        $a-&gt;[2] cmp $b-&gt;[2] # sort by timestamp\n                                 ||\n                        $a-&gt;[1] cmp $b-&gt;[1] # then sort by name\n                      }\n                 map  { my $outer_key=$_;       # convert $data_ref to an array of arrays\n                        map {                    # first element is the outer_key\n                             [$outer_key, @{$_}] # second element is the name\n                            }                    # third element is the timestamp\n                            @{$data_ref-&gt;{$_}}\n                      }\n                      keys %{$data_ref};\n    # If you want the elements in a different order in the array,\n    # you could modify the above code or change it when you print it.\n    return \\@sorted;\n}\n\n\n# We could put a comment here explaining the expected input and output formats.\nsub convert_to_simple_format {\n    my ( $data_ref ) = @_;\n\n    my %reformatted_data;\n\n    # $outer_key and $inner_key could be renamed to more accurately describe what the data they are representing.\n    # Are they names? IDs? Places? License plate numbers?\n    # Maybe we want to keep it generic so this function can handle different kinds of data.\n    # I still like the idea of using nested for loops for this logic, because it is clear and intuitive.\n    for my $outer_key ( keys %{$data_ref} ) {\n        for my $inner_key ( keys %{$data_ref-&gt;{$outer_key}} ) {\n            push @{$reformatted_data{$outer_key}},\n                 [$inner_key, $data_ref-&gt;{$outer_key}{$inner_key}{timestamp}];\n        }\n    }\n\n    return \\%reformatted_data;\n}\n\n1;\n</code></pre>\n\n<hr>\n\n<h1>run_unit_tests.pl</h1>\n\n<p>Finally, let's implement some unit testing. This is might be more than you were looking for with this question, but I think clean seams for testing is part of elegant code and I want to demonstrate that. <a href=\"http://perldoc.perl.org/Test/More.html\" rel=\"nofollow noreferrer\">Test::More</a> is really great for this. I'll even throw in a test harness and formatter so we can get some elegant output. You can use <a href=\"http://perldoc.perl.org/TAP/Formatter/Console.html\" rel=\"nofollow noreferrer\">TAP::Formatter::Console</a> if you don't have <a href=\"http://search.cpan.org/~gtermars/TAP-Formatter-JUnit-0.11/lib/TAP/Formatter/JUnit.pm\" rel=\"nofollow noreferrer\">TAP::Formatter::JUnit</a> installed.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse TAP::Harness;\n\nmy $harness = TAP::Harness-&gt;new({\n    formatter_class =&gt; 'TAP::Formatter::JUnit',\n    merge           =&gt; 1,\n    verbosity       =&gt; 1,\n    normalize       =&gt; 1,\n    color           =&gt; 1,\n    timer           =&gt; 1,\n});\n\n$harness-&gt;runtests('t/helper.t');\n</code></pre>\n\n<hr>\n\n<h1>t/helper.t</h1>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Test::More;\nuse Utilities::Helper qw(sort_by_times_then_names convert_to_simple_format);\n\nmy %data = (\n    'B2' =&gt; {\n        'one' =&gt; {\n            timestamp =&gt; '00:12:30'\n        },\n        'two' =&gt; {\n            timestamp =&gt; '00:09:30'\n        }\n    },\n    'C3' =&gt; {\n        'three' =&gt; {\n            timestamp =&gt; '00:13:45'\n        },\n        'adam' =&gt; {\n            timestamp =&gt; '00:09:30'\n        }\n    }\n);\n\nmy %formatted_data = %{ convert_to_simple_format( \\%data ) };\n\nmy %expected_formatted_data = (\n    'B2' =&gt; [['one', '00:12:30'],\n             ['two', '00:09:30']],\n    'C3' =&gt; [['three','00:13:45'],\n             ['adam', '00:09:30']]\n);\n\nis_deeply(\\%formatted_data, \\%expected_formatted_data, \"convert_to_simple_format test\");\n\nmy @sorted_data = @{ sort_by_times_then_names( \\%formatted_data ) };\n\nmy @expected_sorted_data = ( ['C3','adam', '00:09:30'],\n                             ['B2','two',  '00:09:30'],\n                             ['B2','one',  '00:12:30'],\n                             ['C3','thee','00:13:45'] #intentionally typo to demonstrate output\n                            );\n\nis_deeply(\\@sorted_data, \\@expected_sorted_data, \"sort_by_times_then_names test\");\n\ndone_testing;\n</code></pre>\n\n<hr>\n\n<h1>Test Output</h1>\n\n<p>The nice thing about testing this way is that it will tell you what is wrong when a test fails.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;testsuites&gt;\n  &lt;testsuite failures=\"1\"\n             errors=\"1\"\n             time=\"0.0478239059448242\"\n             tests=\"2\"\n             name=\"helper_t\"&gt;\n    &lt;testcase time=\"0.0452120304107666\"\n              name=\"1 - convert_to_simple_format test\"&gt;&lt;/testcase&gt;\n    &lt;testcase time=\"0.000266075134277344\"\n              name=\"2 - sort_by_times_then_names test\"&gt;\n      &lt;failure type=\"TestFailed\"\n               message=\"not ok 2 - sort_by_times_then_names test\"&gt;&lt;![CDATA[not o\nk 2 - sort_by_times_then_names test\n\n#   Failed test 'sort_by_times_then_names test'\n#   at t/helper.t line 45.\n#     Structures begin differing at:\n#          $got-&gt;[3][1] = 'three'\n#     $expected-&gt;[3][1] = 'thee']]&gt;&lt;/failure&gt;\n    &lt;/testcase&gt;\n    &lt;testcase time=\"0.00154280662536621\" name=\"(teardown)\" /&gt;\n    &lt;system-out&gt;&lt;![CDATA[ok 1 - convert_to_simple_format test\nnot ok 2 - sort_by_times_then_names test\n\n#   Failed test 'sort_by_times_then_names test'\n#   at t/helper.t line 45.\n#     Structures begin differing at:\n#          $got-&gt;[3][1] = 'three'\n#     $expected-&gt;[3][1] = 'thee'\n1..2\n]]&gt;&lt;/system-out&gt;\n    &lt;system-err&gt;&lt;![CDATA[Dubious, test returned 1 (wstat 256, 0x100)\n]]&gt;&lt;/system-err&gt;\n    &lt;error message=\"Dubious, test returned 1 (wstat 256, 0x100)\" /&gt;\n  &lt;/testsuite&gt;\n&lt;/testsuites&gt;\n</code></pre>\n\n<p>In summary, I prefer readable and clear over concise. Sometimes you can make less efficient code that is easier to write and logically simpler. Putting ugly code inside functions is a great way to hide it! It isn't worth messing around with code to save 15ms when you run it. If your data set is large enough that performance becomes an issue, Perl might not be the right tool for the job.  If you are really looking for some concise code, post a challenge over at the <a href=\"https://codegolf.stackexchange.com/\">Code Golf</a> Stack Exchange.</p>\n"}], "owner": {"reputation": 363, "user_id": 3112401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b072f502ab30a29d9a76b5af429377?s=128&d=identicon&r=PG&f=1", "display_name": "user3112401", "link": "https://stackoverflow.com/users/3112401/user3112401"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 30685986, "answer_count": 1, "score": 3, "last_activity_date": 1433613839, "creation_date": 1433551934, "question_id": 30677816, "link": "https://stackoverflow.com/questions/30677816/sorting-a-hash-in-perl-when-the-keys-are-dynamic", "title": "Sorting a hash in Perl when the keys are dynamic", "body": "<p>I have a hash as follows:\n</p>\n\n<pre><code>my %data = (\n    'B2' =&gt; {\n        'one' =&gt; {\n            timestamp =&gt; '00:12:30'\n        },\n        'two' =&gt; {\n            timestamp =&gt; '00:09:30'\n        }\n    },\n    'C3' =&gt; {\n        'three' =&gt; {\n            timestamp =&gt; '00:13:45'\n        },\n        'adam' =&gt; {\n            timestamp =&gt; '00:09:30'\n        }\n    }\n);\n</code></pre>\n\n<p>(The structure is actually more complex than that; I'm simplifying it here.)</p>\n\n<p>I wish to sort \"globally\" on timestamp and then the keys of the inner hashes (one, two, three adam).  But the keys of the inner hashes are dynamic; I don't know what they are going to be until the data is read from files.</p>\n\n<p>I want the sorted output of the above hash to be:</p>\n\n<pre><code>00:09:30,C3,adam\n00:09:30,B2,two\n00:12:30,B2,one\n00:13:45,C3,three\n</code></pre>\n\n<p>I've looked at many questions/answers regarding sorting hashes by keys and/or values, but I haven't been able to figure it out when the key names are not known ahead of time.  (Or maybe I'm just not understanding it.)</p>\n\n<p>What I'm doing for now is two steps.</p>\n\n<p>Flattening the hash into an array:</p>\n\n<pre><code>my @flattened;\nfor my $outer_key (keys %data) {\n    for my $inner_key (keys %{$data{$outer_key}}) {\n        push @flattened, [\n            $data{$outer_key}{$inner_key}{timestamp}\n            , $outer_key\n            , $inner_key\n        ];\n    }\n}\n</code></pre>\n\n<p>And then doing the sort:</p>\n\n<pre><code>for my $ary (sort { $a-&gt;[0] cmp $b-&gt;[0] || $a-&gt;[2] cmp $b-&gt;[2] } @flattened) {\n    print join ',' =&gt; @$ary;\n    print \"\\n\";\n}\n</code></pre>\n\n<p>I'm wondering if there is a more concise, elegant, efficient way of doing this?</p>\n"}, {"tags": ["regex", "linux", "bash", "perl", "sed"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1433543233, "post_id": 30676644, "comment_id": 49415162, "body": "Try <code>perl -pe &#39;s&#47;&lt;\\&#47;Shipment&gt;\\s*$&#47;  &lt;\\&#47;ShipHdr&gt;\\n&lt;\\&#47;ShipmentX&gt;&#47;&#39;</code>."}, {"owner": {"reputation": 65, "user_id": 3152289, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b704880f950a57f495c08c9b0e743892?s=128&d=identicon&r=PG&f=1", "display_name": "user3152289", "link": "https://stackoverflow.com/users/3152289/user3152289"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1433549725, "post_id": 30676644, "comment_id": 49416659, "body": "This does not produce the desired result because it also replaces the 1st occurrence of &lt;/Shipment&gt; along with the last one"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 3152289, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b704880f950a57f495c08c9b0e743892?s=128&d=identicon&r=PG&f=1", "display_name": "user3152289", "link": "https://stackoverflow.com/users/3152289/user3152289"}, "edited": false, "score": 1, "creation_date": 1433549645, "post_id": 30676740, "comment_id": 49416638, "body": "Thanks, that worked! I just had to switch the ShipmentX and ShipHdr after the print command."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 1, "last_activity_date": 1433543299, "creation_date": 1433543299, "answer_id": 30676740, "question_id": 30676644, "link": "https://stackoverflow.com/questions/30676644/linux-bash-script-replace-last-occurrence-of-string-in-a-file/30676740#30676740", "title": "Linux bash script - Replace last occurrence of string in a file", "body": "<p>Using <code>tac</code> and <code>awk</code>:</p>\n\n<pre><code>tac xml | awk '!p &amp;&amp; /&lt;\\/Shipment&gt;/{p=1;print \"&lt;/ShipmentX&gt;\\n   &lt;/ShipHdr&gt;\"; next} 1'| tac\n&lt;ShipmentX&gt;\n  &lt;ShipHdr&gt;\n   &lt;RefID&gt;REF01&lt;/RefID&gt;\n   &lt;HeaderReferenceNumber&gt;1234565&lt;/HeaderReferenceNumber&gt;\n   &lt;Shipment&gt;\n     &lt;RefCode&gt;GHIJK&lt;/RefCode&gt;\n     &lt;ShipmentStatusCode&gt;FG&lt;/ShipmentStatusCode&gt;\n   &lt;/Shipment&gt;\n   &lt;Summary&gt;\n     &lt;TotalWeight&gt;10&lt;/TotalWeight&gt;\n   &lt;/Summary&gt;\n   &lt;/ShipHdr&gt;\n&lt;/ShipmentX&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 3152289, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b704880f950a57f495c08c9b0e743892?s=128&d=identicon&r=PG&f=1", "display_name": "user3152289", "link": "https://stackoverflow.com/users/3152289/user3152289"}, "edited": false, "score": 0, "creation_date": 1433550098, "post_id": 30676802, "comment_id": 49416725, "body": "For some reason, I can&#39;t this to work. I tried <code>perl -pi -e &quot;s{(?s).*\\K&lt;&#47;Shipment&gt;}{&lt;&#47;ShipHdr&gt; &lt;&#47;ShipmentX&gt;}&quot; $file</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1433543988, "last_edit_date": 1433543988, "creation_date": 1433543636, "answer_id": 30676802, "question_id": 30676644, "link": "https://stackoverflow.com/questions/30676644/linux-bash-script-replace-last-occurrence-of-string-in-a-file/30676802#30676802", "title": "Linux bash script - Replace last occurrence of string in a file", "body": "<p>In Perl the regex is <code>$n =~ s/(?s).*\\K&lt;\\/Shipment&gt;/&lt;\\/ShipHdr&gt; &lt;\\/ShipmentX&gt;/;</code>  </p>\n\n<p>Or, you can avoid the LTS with this syntax:  </p>\n\n<p><code>$n =~ s{(?s).*\\K&lt;/Shipment&gt;}{&lt;/ShipHdr&gt; &lt;/ShipmentX&gt;};</code>  </p>\n\n<p>This regex finds only the <em>last</em> occurance of <code>&lt;/Shipment&gt;</code>, no matter what comes after it, ie. there won't be another <code>&lt;/Shipment&gt;</code> after it.</p>\n"}], "owner": {"reputation": 65, "user_id": 3152289, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b704880f950a57f495c08c9b0e743892?s=128&d=identicon&r=PG&f=1", "display_name": "user3152289", "link": "https://stackoverflow.com/users/3152289/user3152289"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1023, "favorite_count": 0, "accepted_answer_id": 30676740, "answer_count": 2, "score": -1, "last_activity_date": 1433543988, "creation_date": 1433542815, "question_id": 30676644, "link": "https://stackoverflow.com/questions/30676644/linux-bash-script-replace-last-occurrence-of-string-in-a-file", "title": "Linux bash script - Replace last occurrence of string in a file", "body": "<p>I have a XML file that looks something like this, and I only want to replace the last occurrence of /Shipment with /ShipHdr /ShipmentX:</p>\n\n<pre><code>&lt;ShipmentX&gt;\n  &lt;ShipHdr&gt;\n   &lt;RefID&gt;REF01&lt;/RefID&gt;\n   &lt;HeaderReferenceNumber&gt;1234565&lt;/HeaderReferenceNumber&gt;\n   &lt;Shipment&gt;\n     &lt;RefCode&gt;GHIJK&lt;/RefCode&gt;\n     &lt;ShipmentStatusCode&gt;FG&lt;/ShipmentStatusCode&gt;\n   &lt;/Shipment&gt;\n   &lt;Summary&gt;\n     &lt;TotalWeight&gt;10&lt;/TotalWeight&gt;\n   &lt;/Summary&gt;\n&lt;/Shipment&gt;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;ShipmentX&gt;\n  &lt;ShipHdr&gt;\n   &lt;RefID&gt;REF01&lt;/RefID&gt;\n   &lt;HeaderReferenceNumber&gt;1234565&lt;/HeaderReferenceNumber&gt;\n   &lt;Shipment&gt;\n     &lt;RefCode&gt;GHIJK&lt;/RefCode&gt;\n     &lt;ShipmentStatusCode&gt;FG&lt;/ShipmentStatusCode&gt;\n   &lt;/Shipment&gt;\n   &lt;Summary&gt;\n     &lt;TotalWeight&gt;10&lt;/TotalWeight&gt;\n   &lt;/Summary&gt;\n  &lt;/ShipHdr&gt;\n&lt;/ShipmentX&gt;\n</code></pre>\n\n<p>Any advice on how I can do this using perl or sed in a bash script?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "proxy", "connection", "mingw"], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1607030768, "creation_date": 1433534934, "last_edit_date": 1607030768, "question_id": 30674962, "link": "https://stackoverflow.com/questions/30674962/perl-ppm-failing-to-install-mingw", "title": "Perl PPM failing to install MinGW", "body": "<p>I am trying to run a Perl script that uses the module <code>Archive::Extract</code> to extract a <code>.zip</code> file.  The problem is every time I run it I keep getting the following error:</p>\n\n<p>ex:</p>\n\n<p><code>perl -e \"use Archive::Extract\"</code></p>\n\n<blockquote>\n  <p>It looks like you don't have a C compiler on your PATH, so you will not be\n  able to compile C or XS extension modules.  You can install GCC from the\n  MinGW package using the Perl Package Manager by running:\n  <strong>ppm install MinGW</strong></p>\n</blockquote>\n\n<hr>\n\n<p>Then when I try to fix this error by running the following command I get this:</p>\n\n<p><code>ppm install MinGW</code></p>\n\n<blockquote>\n  <p>Downloading ActiveState Package Repository packlist...failed 500 Can't connect to ppm4.activestate.com:80 (10060)</p>\n  \n  <p>ppm install failed: Can't find any package that provides MinGW</p>\n</blockquote>\n\n<hr>\n\n<p>I looked online to find a solution to this problem, but everything says it's a proxy issue and you need to set the <code>http_proxy</code> environment variable to solve the problem.  The problem is I can't seem to find any of my proxy settings (The PCs where I work are pretty locked down with security).</p>\n\n<p>I did some research <a href=\"https://superuser.com/questions/346372/how-do-i-know-what-proxy-server-im-using\">here</a> and I found one command that gave me a result, but i'm not certain it is accurate judging by the comments below the answer.</p>\n\n<p>The command gives me the following results:</p>\n\n<p><code>netsh winhttp show proxy</code></p>\n\n<blockquote>\n  <p>Current WinHTTP proxy settings:</p>\n  \n  <p>Direct access (no proxy server).</p>\n</blockquote>\n\n<hr>\n\n<p><strong>How can I get this to connect properly?</strong></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "edited": false, "score": 0, "creation_date": 1433534987, "post_id": 30674936, "comment_id": 49411729, "body": "Are you sure you didn&#39;t forget to escape the backslashes ? In sum there should be four backslashes in front of remote and two in front of dir because only half of them will make their way into the string. To be on the safe side you could print the value of $path to the screen, I bet you will see something strange"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1433535284, "post_id": 30674936, "comment_id": 49411903, "body": "Works with slashes under win7; <code>perl -E &quot;say for glob(&#39;&#47;&#47;localhost&#47;Users&#47;*&#39;)&quot;</code>"}, {"owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "reply_to_user": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "edited": false, "score": 0, "creation_date": 1433535527, "post_id": 30674936, "comment_id": 49412020, "body": "@Marged  OK I am embarrassed. I dont know what changed , I think i missed four backslashes... now it worked.. I simply did $path =~ s/\\\\/\\\\\\\\/g;    .... Thanks!!!! I thought I had tried that. Maybe you can add the answer?"}, {"owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1433535546, "post_id": 30674936, "comment_id": 49412031, "body": "@\u0421\u0443\u0445\u043e\u043927 Thanks for the input, got it working."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1433539393, "post_id": 30675116, "comment_id": 49413798, "body": "Double the dashes for glob, then again or double-quotes, meaning you need 4x the slashes, so you need <code>&quot;\\\\\\\\\\\\\\\\remote\\\\\\\\dir&quot;</code> (to produce the glob pattern <code>\\\\\\\\remove\\\\dir</code>), which can be shortened to <code>&quot;\\\\\\\\\\\\remote\\\\dir&quot;</code> (which produces the glob pattern <code>\\\\\\remote\\dir</code>). What you posted doesn&#39;t work; it will looks in <code>\\remote\\dir</code> on the current drivee."}, {"owner": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433540188, "post_id": 30675116, "comment_id": 49414110, "body": "@ikegami you are correct, I didn&#39;t know about the &quot;special&quot; behavior of glob and just remembered that perl has the same &quot;problem&quot; with backslashes like C and Java. I suggest that someone create an answer which considers all of what was mentioned in thist post and that this one become the accepted answer"}], "tags": [], "owner": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "is_accepted": true, "score": 1, "last_activity_date": 1433535410, "creation_date": 1433535410, "answer_id": 30675116, "question_id": 30674936, "link": "https://stackoverflow.com/questions/30674936/listing-files-in-a-shared-drive/30675116#30675116", "title": "Listing files in a shared drive", "body": "<p>I think you simply will have to change your program this way:</p>\n\n<pre><code>my $path = \"\\\\\\\\remote\\\\dir\";\n</code></pre>\n\n<p>The reason for this is that perl will use the backslash as an escape character. If you want to have a backslash in a string you will have to escape the backslash by a second backslash.</p>\n"}, {"comments": [{"owner": {"reputation": 8993, "user_id": 1354537, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24aaaba3c6140eaef24f9ed711644033?s=128&d=identicon&r=PG", "display_name": "Marged", "link": "https://stackoverflow.com/users/1354537/marged"}, "edited": false, "score": 0, "creation_date": 1433536500, "post_id": 30675318, "comment_id": 49412519, "body": "I think for perl this will work out always, but in general there is a certain &quot;risk&quot; when presenting forward slashes to Windows. I have seen situations where commands (admittedly outside of a perl program) failed because they were not run with backslashes"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1433536114, "creation_date": 1433536114, "answer_id": 30675318, "question_id": 30674936, "link": "https://stackoverflow.com/questions/30674936/listing-files-in-a-shared-drive/30675318#30675318", "title": "Listing files in a shared drive", "body": "<p>I find it easier to use forward slashes instead of escaping backslashes repeatedly:</p>\n\n<pre><code>my $path = \"//dt01/users/steve\";\n\nmy @files = glob($path.\"/desktop/*\");\n\nprint \"$_\\n\" for @files;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>//dt01/users/steve/desktop/test.fil\n//dt01/users/steve/desktop/desktop.ini\n//dt01/users/steve/desktop/get-pip.py\n//dt01/users/steve/desktop/install-tl-20150223\n</code></pre>\n"}], "owner": {"reputation": 800, "user_id": 1113720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6N9jm.jpg?s=128&g=1", "display_name": "Mathai", "link": "https://stackoverflow.com/users/1113720/mathai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 1, "accepted_answer_id": 30675116, "answer_count": 2, "score": 0, "last_activity_date": 1433536114, "creation_date": 1433534794, "question_id": 30674936, "link": "https://stackoverflow.com/questions/30674936/listing-files-in-a-shared-drive", "title": "Listing files in a shared drive", "body": "<p>I have the path of a directory in a shared drive</p>\n\n<p><code>\\\\remote\\dir</code> stored in a variable $path.</p>\n\n<p>I need the list of all files in dir1. I used</p>\n\n<pre><code>my @files = glob($path.\"\\\\*\");\n</code></pre>\n\n<p>@files is empty. I tried escaping the slashes in $path. This didn't work too. \nHow do I get the list of files in <code>\\\\remote\\dir</code> ?</p>\n\n<p>I am on Windows. </p>\n"}, {"tags": ["regex", "linux", "perl", "awk"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1433545663, "post_id": 30674277, "comment_id": 49415766, "body": "Post sample input and expected output and what you&#39;ve tried so far."}], "answers": [{"comments": [{"owner": {"reputation": 2694, "user_id": 1134753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3011ba0227ede53272ed9c67476b2695?s=128&d=identicon&r=PG", "display_name": "Gluz", "link": "https://stackoverflow.com/users/1134753/gluz"}, "edited": false, "score": 1, "creation_date": 1433618590, "post_id": 30674880, "comment_id": 49432993, "body": "Thanks. Such a great answer."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1433534599, "creation_date": 1433534599, "answer_id": 30674880, "question_id": 30674277, "link": "https://stackoverflow.com/questions/30674277/replacing-ascii-with-matching-characters-using-perl-awk-or-other/30674880#30674880", "title": "Replacing ascii with matching characters using perl / awk or other", "body": "<p>You can use <code>gnu-awk</code> like this:</p>\n\n<pre><code>str='\\x22 \\x41 written as \\x22).'\n\nawk -v RS='\\\\\\\\x[0-9]+' 'RT{ORS=sprintf(\"%c\", strtonum(\"0\" substr(RT, 2)))} 1' &lt;&lt;&lt; \"$str\"\n\" A written as \").\n</code></pre>\n\n<p>This is how it is working:</p>\n\n<ol>\n<li>Using <code>RS='\\\\\\\\x[0-9]+'</code> we're separating custom record separator for each of those <code>\\xNN</code> numbers. </li>\n<li><code>substr(RT, 2)</code> takes <code>x41</code> from <code>\\x41</code></li>\n<li><code>strtonum(\"0\" substr(RT, 2))</code> adds <code>0</code> to make it <code>0x41</code> and returns ascii code <code>65</code>.</li>\n<li><code>printf \"%c\"</code> prints equivalent ascii character <code>A</code> from <code>65</code>.</li>\n<li><code>ORS=...</code> sets output record separator same as the return value of <code>sprintf</code>.</li>\n</ol>\n"}], "owner": {"reputation": 2694, "user_id": 1134753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3011ba0227ede53272ed9c67476b2695?s=128&d=identicon&r=PG", "display_name": "Gluz", "link": "https://stackoverflow.com/users/1134753/gluz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "closed_date": 1434946685, "accepted_answer_id": 30674880, "answer_count": 1, "score": 1, "last_activity_date": 1433534599, "creation_date": 1433532257, "question_id": 30674277, "link": "https://stackoverflow.com/questions/30674277/replacing-ascii-with-matching-characters-using-perl-awk-or-other", "closed_reason": "Not suitable for this site", "title": "Replacing ascii with matching characters using perl / awk or other", "body": "<p>I have an access log that was written with nginx and lua code.\nIt is url encoded and those some characters are written in the format of \\xHexCode (for example, double quotes are written as \\x22).\nI would like to run awk or perl or other fast script to replace it back.</p>\n"}, {"tags": ["python", "perl", "ssh", "expect.pm"], "comments": [{"owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "edited": false, "score": 0, "creation_date": 1433526913, "post_id": 30672819, "comment_id": 49407652, "body": "I have actually came up with the solution for a work around to the password issue by using &quot;use expect&quot; in perl and having that handle that for me.  Also, I know for security reasons this is sub par, but It is not by choice."}, {"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1433526926, "post_id": 30672819, "comment_id": 49407655, "body": "have you heard of pexpect?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1433527465, "post_id": 30672819, "comment_id": 49407912, "body": "If at all possible, you should set up SSH keys instead of using a password."}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1433530763, "post_id": 30672819, "comment_id": 49409565, "body": "@Tom i think you should use SSH keys. They will not ask for anything and you will not stuck on anything."}, {"owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "edited": false, "score": 0, "creation_date": 1433532237, "post_id": 30672819, "comment_id": 49410282, "body": "I will look into the keys, but for this project they were not really an option.  Why I couldn&#39;t get past the password portion with out using some form of Except is really the question Im stuck on."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1433749542, "post_id": 30672819, "comment_id": 49465108, "body": "Can you expand the sentence <code>but I am still stuck at the prompt for the password</code>, what that it means exactly? are you seeing any prompt on the console or something? Also, which operating system is running on the remote side?"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1433844204, "post_id": 30672819, "comment_id": 49513985, "body": "There is something completely wrong with your question: what you say doesn&#39;t make sense. Describe in detail the steps you take and what happens every time because probably the issue is that SSH doesn&#39;t work the way you thing it does."}, {"owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "edited": false, "score": 0, "creation_date": 1433889478, "post_id": 30672819, "comment_id": 49543779, "body": "1. putty in to a linux machine where script is located.  2. run script.  3. Will be promtped for password... 4.  wait for a while to see if there is any time lag.  5.  Maunually enter password wrong 3 times so it will prompt for password in form &quot;username@hostname password: &quot; 6.  verify username was set correctly via -l flag, not the default username."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1433941281, "post_id": 30672819, "comment_id": 49567287, "body": "Can you from the second machine connect to the third one using the binary ssh client in verbose mode (<code>ssh -vvv user@host3</code>) and post the output?"}, {"owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "edited": false, "score": 0, "creation_date": 1433948113, "post_id": 30672819, "comment_id": 49572868, "body": "Is there a more specific section of that you are looking for? It is numerous pages of output"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1434005111, "post_id": 30672819, "comment_id": 49597622, "body": "The thing is that when you pass a password to Net::SSH::Perl it nevers prompts for one at the console... wait!, can you check that <code>$pass</code> is defined? Have you enabled the <code>strict</code> pragma in your code?"}, {"owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "edited": false, "score": 0, "creation_date": 1434037377, "post_id": 30672819, "comment_id": 49620675, "body": "Yes &quot;use strict&quot; and &quot;use warnings&quot; enabled."}], "answers": [{"tags": [], "owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "is_accepted": true, "score": 0, "last_activity_date": 1433544223, "creation_date": 1433544223, "answer_id": 30676889, "question_id": 30672819, "link": "https://stackoverflow.com/questions/30672819/perl-ssh-password/30676889#30676889", "title": "Perl ssh Password", "body": "<pre><code>  use strict;\n  use warnings;\n  use Expect;\n\n  $exp= Expect-&gt;spawn(\"ssh $host -l $user\");\n\n  sleep(1);\n\n  $exp-&gt;expect($timeout,\"Password:\");\n  $exp-&gt;send(\"$pass\\r\");\n\n  $exp-&gt;expect($timeout,-re,'&gt;');\n  $exp-&gt;send(\"ls -l\\r\");\n\n  $exp-&gt;expect($timeout,-re,'&gt;');\n  $exp-&gt;send(\"mkdir aDir\\r\");\n\n  $exp-&gt;expect($timeout,-re,'&gt;');\n  $exp-&gt;send(\"chmod 777 aDir\\r\");\n\n  $exp-&gt;expect($timeout,-re,'&gt;');\n  $exp-&gt;send(\"exit\\r\");\n</code></pre>\n\n<p>left out variable declarations for obvious reasons... Not exact answer to question but a viable work around using only the \"Expect Module\".</p>\n"}], "owner": {"reputation": 302, "user_id": 4430757, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d766983d20a5a28762b0ef58a151c47?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4430757/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 0, "accepted_answer_id": 30676889, "answer_count": 1, "score": 3, "last_activity_date": 1504623853, "creation_date": 1433526646, "last_edit_date": 1504623853, "question_id": 30672819, "link": "https://stackoverflow.com/questions/30672819/perl-ssh-password", "title": "Perl ssh Password", "body": "<p>I am trying to use perl to SSH in to a machine and issue a few commands...</p>\n\n<pre><code>my $ssh = Net::SSH::Perl-&gt;new($host);\n$ssh-&gt;login($user,$pass);\nmy($stdout, $sterr, $exit) = $ssh-&gt;cmd($cmd);\nprint \"$stdout \\n\"\n</code></pre>\n\n<p>This is the general idea, but I am still stuck at the prompt for the password. I have also attempted to use python, and also can not get past the prompt for password. Expect, on the other hand, handles the password just fine.  Does anyone have any idea what would cause this?</p>\n\n<p>Edit: additional info</p>\n\n<p>I am using putty to a linux machine and then ssh into numerous more linux machines.  Using the perl code above, the user name gets set correctly, but I end up having to manually entering the password each time. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1433521878, "post_id": 30671435, "comment_id": 49405010, "body": "<code>\\G</code> is called the G-Anchor construct. It means it must match where the last successful match ended."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1433522185, "post_id": 30671435, "comment_id": 49405171, "body": "&quot;I know the <code>s</code> modifier (single-line).&quot; I think you&#39;re confusing this with the substitution operator. <code>s</code> modifier: <code>&#47;foo&#47;s</code> Substitution operator: <code>s&#47;foo&#47;bar&#47;</code>"}, {"owner": {"reputation": 71, "user_id": 4489443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab265e151936b106d201f4a8a7b4e58?s=128&d=identicon&r=PG&f=1", "display_name": "Agnaroc", "link": "https://stackoverflow.com/users/4489443/agnaroc"}, "edited": false, "score": 0, "creation_date": 1433523601, "post_id": 30671435, "comment_id": 49405940, "body": "Yes indeed, thanks for clearing that up !"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4489443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab265e151936b106d201f4a8a7b4e58?s=128&d=identicon&r=PG&f=1", "display_name": "Agnaroc", "link": "https://stackoverflow.com/users/4489443/agnaroc"}, "edited": false, "score": 0, "creation_date": 1433523203, "post_id": 30671499, "comment_id": 49405713, "body": "I understand but why does this: $n =~ s/\\G/0/g; Gives this as output: 0  49 here While this: $n =~ s/\\G /0/g; gives this as output: 00049 here Note that I&#39;m using perl here (notice the whitespace in the first code) I saw your regex demo but that still doesn&#39;t explain why the whitespace is needed :("}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 71, "user_id": 4489443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab265e151936b106d201f4a8a7b4e58?s=128&d=identicon&r=PG&f=1", "display_name": "Agnaroc", "link": "https://stackoverflow.com/users/4489443/agnaroc"}, "edited": false, "score": 0, "creation_date": 1433523279, "post_id": 30671499, "comment_id": 49405754, "body": "First <code>s</code> is for <b>substitute</b> command and <code>\\G </code> is pattern with <code>0</code> as replacement. <code>g</code> is for global."}, {"owner": {"reputation": 71, "user_id": 4489443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab265e151936b106d201f4a8a7b4e58?s=128&d=identicon&r=PG&f=1", "display_name": "Agnaroc", "link": "https://stackoverflow.com/users/4489443/agnaroc"}, "edited": false, "score": 0, "creation_date": 1433523716, "post_id": 30671499, "comment_id": 49406013, "body": "But what does the whitespace mean ?"}, {"owner": {"reputation": 21412, "user_id": 333698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca080b4ef1c6cb4df9bc123d3b3af61?s=128&d=identicon&r=PG", "display_name": "psmears", "link": "https://stackoverflow.com/users/333698/psmears"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1433525939, "post_id": 30671499, "comment_id": 49407169, "body": "@ikegami: True, but the REs are largely compatible, hence the name :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433526518, "post_id": 30671499, "comment_id": 49407453, "body": "Similar, but not the same. Fixed the answer. This comment will self-destruct."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 2, "last_activity_date": 1433525734, "last_edit_date": 1433525734, "creation_date": 1433521909, "answer_id": 30671499, "question_id": 30671435, "link": "https://stackoverflow.com/questions/30671435/what-does-s-g-0-g-mean/30671499#30671499", "title": "What does s/\\G /0/g mean?", "body": "<p>In Perl, <code>\\G</code> asserts position at the end of the previous match or the start of the string for the first match.</p>\n\n<p>That's why space at start and all subsequent spaces after that are being replaced by <code>0</code> but space after <code>49</code> in unchanged.</p>\n\n<p><a href=\"https://regex101.com/r/kM0wP3/1\" rel=\"nofollow\">RegEx Demo</a> (Uses PCRE rather than Perl, but <code>\\G</code> means the same thing in that engine)</p>\n"}, {"comments": [{"owner": {"reputation": 21412, "user_id": 333698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca080b4ef1c6cb4df9bc123d3b3af61?s=128&d=identicon&r=PG", "display_name": "psmears", "link": "https://stackoverflow.com/users/333698/psmears"}, "edited": false, "score": 2, "creation_date": 1433522532, "post_id": 30671608, "comment_id": 49405359, "body": "I don&#39;t think it&#39;s misused here - the intention appears to be to convert a space-padded number at the start of the line to a zero-padded number, so not matching after the string-initial spaces is deliberate."}, {"owner": {"reputation": 21412, "user_id": 333698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca080b4ef1c6cb4df9bc123d3b3af61?s=128&d=identicon&r=PG", "display_name": "psmears", "link": "https://stackoverflow.com/users/333698/psmears"}, "edited": false, "score": 0, "creation_date": 1433522563, "post_id": 30671608, "comment_id": 49405377, "body": "Ah, I see you updated the answer as I was writing my comment :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 21412, "user_id": 333698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca080b4ef1c6cb4df9bc123d3b3af61?s=128&d=identicon&r=PG", "display_name": "psmears", "link": "https://stackoverflow.com/users/333698/psmears"}, "edited": false, "score": 0, "creation_date": 1433522660, "post_id": 30671608, "comment_id": 49405430, "body": "@psmears - Sure that could be the intent, but who knows. I know 20 other was to do it in Perl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1433526425, "post_id": 30671608, "comment_id": 49407421, "body": "It&#39;s not actually a flag, <code>perl -E&#39;my $n = &quot;abcdefabc&quot;; $n =~ s&#47;def\\Gabc&#47;!!!&#47;; say $n&#39;</code> vs <code>perl -E&#39;my $n = &quot;abcdefabc&quot;; pos($n)=6; $n =~ s&#47;def\\Gabc&#47;!!!&#47;; say $n&#39;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433541842, "post_id": 30671608, "comment_id": 49414757, "body": "@ikegami - I think the last match position is reset after each non-global match context. Its just easier to say flag instead of at the point of hitting the <code>\\G</code> construct, the current position must equal the previous position. In PHP I&#39;m guessing initially <code>\\G</code> refers to the beginning of string, but not sure."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 4, "last_activity_date": 1433526317, "last_edit_date": 1433526317, "creation_date": 1433522279, "answer_id": 30671608, "question_id": 30671435, "link": "https://stackoverflow.com/questions/30671435/what-does-s-g-0-g-mean/30671608#30671608", "title": "What does s/\\G /0/g mean?", "body": "<p><code>\\G</code> is called the G-Anchor construct. It means it must match where the last successful match ended. Before any regex starts, <code>\\G</code> (really a flag) is <code>true</code>, so it will start as true, then look for a space, find it, still true, finds the next, etc.. When it doesn't find a space, <code>\\G</code> flag becomes false and stays that way (in this case). </p>\n\n<p>Without it, it will look for space anywhere in the string instead of just at the beginning.</p>\n\n<pre><code>$ perl -E'my $n = \"   49 here\"; $n =~ s/\\G /0/g; say $n'\n00049 here\n\n$ perl -E'my $n = \"   49 here\"; $n =~ s/ /0/g; say $n'\n000490here\n</code></pre>\n\n<p><code>/\\G/g</code> is going to match (nothing) only 1 time at the beginning of string only because Perl won't return exactly the same match (defined as having the same starting position and same length) twice. That's why it adds a <code>0</code> there and stops in the following:</p>\n\n<pre><code>$ perl -E'my $n = \"   49 here\"; $n =~ s/\\G/0/g; say $n'\n0   49 here\n</code></pre>\n\n<p>In Perl, the position at which the last match ended is associated with the variable being matched (not the operator). It can observed and changed using the <code>pos</code> function. <code>\\G</code> flag stays with the variable, not the regex. Since it's associated with the variable being matched, in a subsequent application of another regex, <code>\\G</code> will start with the last match left off.</p>\n\n<pre><code>$ perl -E'my $n = \"abcdefabc\"; $n =~ /def/g; $n =~ s/\\Gabc/ABC/; say $n'\nabcdefABC\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 4489443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab265e151936b106d201f4a8a7b4e58?s=128&d=identicon&r=PG&f=1", "display_name": "Agnaroc", "link": "https://stackoverflow.com/users/4489443/agnaroc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3635, "favorite_count": 1, "accepted_answer_id": 30671608, "answer_count": 2, "score": 5, "last_activity_date": 1433526317, "creation_date": 1433521723, "last_edit_date": 1433522000, "question_id": 30671435, "link": "https://stackoverflow.com/questions/30671435/what-does-s-g-0-g-mean", "title": "What does s/\\G /0/g mean?", "body": "<p>I'm using regex in Perl. One of the things I've come across:</p>\n\n<pre><code>my $n = \"   49 here\";\n$n =~ s/\\G /0/g;\nprint $n;\n</code></pre>\n\n<p>This gives:</p>\n\n<pre><code>00049 here\n</code></pre>\n\n<p>I know the <code>s</code> modifier (single-line). I also understand the <code>g</code> modifier (global, which keeps track of the last match position). I know the regex replaces something with zeros but I don't understand what the <code>\\G</code> AND the whitespace following it do (without the whitespace following <code>\\G</code> the result is: <code>0  49 here</code>).</p>\n"}, {"tags": ["oracle", "perl", "oracle11g", "installation"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1433519748, "post_id": 30670789, "comment_id": 49403779, "body": "Does it help if you retry in a brand new terminal window? (perhaps the variables haven&#39;t &#39;refreshed&#39; in the current terminal)"}, {"owner": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1433520542, "post_id": 30670789, "comment_id": 49404225, "body": "Not really that but thank you! It seems, that I have some problems with variables while using sudo. Will come back to it on mon."}, {"owner": {"reputation": 2542, "user_id": 4044030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E3GIe.jpg?s=128&g=1", "display_name": "mmmmmpie", "link": "https://stackoverflow.com/users/4044030/mmmmmpie"}, "edited": false, "score": 0, "creation_date": 1433523292, "post_id": 30670789, "comment_id": 49405761, "body": "What are you doing with sudo?"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1433536427, "post_id": 30670789, "comment_id": 49412488, "body": "You can use <code>sudo</code> to get a shell, but you can&#39;t use it multiple times: setting environment variables in a shell is not persistent and will not be present over multiple <code>sudo</code> calls."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1433537809, "post_id": 30670789, "comment_id": 49413140, "body": "Has your <code>Perl</code> been compiled 64-bit?"}], "answers": [{"comments": [{"owner": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "edited": false, "score": 0, "creation_date": 1433758108, "post_id": 30675664, "comment_id": 49470176, "body": "I was able to install RPMs 11.2. But getting this error: from DBD::Oracle WARNING: I will now try to guess how to build and link DBD::Oracle for you.          This kind of guess work is very error prone and Oracle-version sensitive.          It is possible that it won&#39;t be supported in future versions of DBD::Oracle.          <i>PLEASE</i> notify dbi-users about exactly <i>why</i> you had to build it this way."}, {"owner": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "edited": false, "score": 0, "creation_date": 1433758606, "post_id": 30675664, "comment_id": 49470470, "body": "Where should I put tnsnames.ora? in /usr/lib/oracle/11.2/client64/network/admin?"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "reply_to_user": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "edited": false, "score": 0, "creation_date": 1433770438, "post_id": 30675664, "comment_id": 49478434, "body": "If <code>ORACLE_HOME</code> is <code>&#47;usr&#47;lib&#47;oracle&#47;11.2&#47;client64</code> and <code>network&#47;admin</code> exists, that would work.  When I install the Instant Client on my application servers though, <code>network&#47;admin</code> does not exist and so I set <code>TNS_ADMIN</code> to my application&#39;s configuration file where I store <code>tnsnames.ora</code>.  Actually, on my application servers, I just worry about <code>LD_LIBRARY_PATH</code> (where my Oracle Instance Client libraries are) and <code>TNS_ADMIN</code> (where <code>tnsnames.ora</code> is) only."}, {"owner": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "edited": false, "score": 0, "creation_date": 1433779670, "post_id": 30675664, "comment_id": 49485553, "body": "And how about ORA_NLS33?"}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "reply_to_user": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "edited": false, "score": 0, "creation_date": 1433816089, "post_id": 30675664, "comment_id": 49501223, "body": "I&#39;ve never specified <code>ORA_NLS33</code> (and so I guess it has always used the default value or it didn&#39;t matter for our application which is almost completely numeric rather than text)."}], "tags": [], "owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "is_accepted": true, "score": 2, "last_activity_date": 1433537762, "creation_date": 1433537762, "answer_id": 30675664, "question_id": 30670789, "link": "https://stackoverflow.com/questions/30670789/oracle-cilent-and-perl-installation-on-centos/30675664#30675664", "title": "Oracle cilent and Perl installation on Centos", "body": "<p>I compile <code>DBD::Oracle</code> on <code>AIX</code>, <code>CentOS</code>, <code>RedHat</code> and <code>Solaris</code> all the time.  I recommend that you make a script (especially if you are using <code>sudo</code> to compile these things).  Here's the script I use to set environment variables (some are extra and some are including for testing) and make the modules:</p>\n\n<pre><code># These are usually pre-set in my environment:\nexport ORACLE_PATH=/usr/lib/oracle/11.2/client64/bin\nexport ORACLE_BASE=/usr/lib/oracle\nexport ORACLE_HOME=/usr/lib/oracle/11.2/client64\nexport ORACLE_DOC=/usr/lib/oracle/11.2/client64/doc\nexport ORACLE_SID=Mydbsid\n# My PATH include my /perl/bin directory\n\n# My script starts here:\nulimit\n\n/perl/bin/perl -MCPAN -e 'install(qw(LWP HTTP::Date))'\n/perl/bin/perl -MCPAN -e 'install(qw(Bundle::CPAN))'\n/perl/bin/perl -MCPAN -e 'install(qw(Bundle::libnet Bundle::LWP Bundle::DBD::CSV Bundle::Net::LDAP))'\n\nexport LD_LIBRARY_PATH=/usr/lib/oracle/11.2/client64/lib\nexport TNS_ADMIN=my_tnsnames.ora_directory\nexport ORACLE_USERID=Username/Password@Mydbsid\n\n/perl/bin/perl -MCPAN -e 'install(qw(DBD::Oracle))'\n\nexport DBICTEST_ORA_DSN mydbsid\nexport DBICTEST_ORA_USER Username\nexport DBICTEST_ORA_PASS Password\nexport DBI_DRIVER Oracle\nexport DBI_DATABASE Mydbsid\nexport DBI_USERNAME Username\nexport DBI_PASSWORD Password\n\n/perl/bin/perl -MCPAN -e 'install(qw(Time::Piece Date::Simple DateTime::Format::Oracle Math::Base36 Class::DBI::Plugin::DeepAbstractSearch Class::Trigger DBIx::ContextualFetch DBIx::Class))'\n/perl/bin/perl -MCPAN -e 'install(qw(Task::Kensho))'\n# It continues, but nothing more database-orientated appears later.\n</code></pre>\n\n<p>The latter environment variables are for testing other modules (such as <code>DBIx::Class</code>) that appear later in my build.</p>\n\n<p>I've done this for Oracle 10 and 11, but not Oracle 12 (yet).</p>\n"}], "owner": {"reputation": 1637, "user_id": 1829473, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/37a3d3c86fdac20366db9a8c092a2f56?s=128&d=identicon&r=PG", "display_name": "MaMu", "link": "https://stackoverflow.com/users/1829473/mamu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1886, "favorite_count": 0, "accepted_answer_id": 30675664, "answer_count": 1, "score": 0, "last_activity_date": 1433537762, "creation_date": 1433519587, "last_edit_date": 1433537566, "question_id": 30670789, "link": "https://stackoverflow.com/questions/30670789/oracle-cilent-and-perl-installation-on-centos", "title": "Oracle cilent and Perl installation on Centos", "body": "<p>I'm not abble to install  DBD-Oracle.</p>\n\n<p>I have installed the oracle client following these steps:</p>\n\n<ol>\n<li><p>I have downloaded the instant Client ZIP file. </p></li>\n<li><p>Unziped the packages into  directory  <code>\"/opt/oracle/product/instantclient_12_1\".</code></p></li>\n<li><p>Created the appropriate <code>libclntsh.so</code> and <code>libocci.so</code> links :</p>\n\n<pre><code>cd /opt/oracle/product/instantclient_12_1\nln -s libclntsh.so.12.1 libclntsh.so\nln -s libocci.so.12.1 libocci.so\n</code></pre></li>\n<li><p>Setted the environment variable <code>LD_LIBRARY_PATH</code> to the directory created in Step 2:</p>\n\n<pre><code>export LD_LIBRARY_PATH=/opt/oracle/product/instantclient_12_1:$LD_LIBRARY_PATH\n</code></pre></li>\n</ol>\n\n<p><code>echo $LD_LIBRARY_PATH</code> returns:</p>\n\n<pre><code>    /opt/oracle/product/instantclient_12_1:/opt/oracle/instantclient_12_1:/usr/lib/oracle/11.2/client64/lib\n</code></pre>\n\n<p>Added this path to an ldconfig configuration <code>/etc/ld.so.conf</code> too.</p>\n\n<pre><code>ldconf -v returned\n/opt/oracle/product/instantclient_12_1:\n        libclntsh.so.12.1 -&gt; libclntsh.so.12.1\n        libociei.so -&gt; libociei.so\n        liboramysql12.so -&gt; liboramysql12.so\n        libocijdbc12.so -&gt; libocijdbc12.so\n        libmql1.so -&gt; libmql1.so\n        libnnz12.so -&gt; libnnz12.so\n        libclntshcore.so.12.1 -&gt; libclntshcore.so.12.1\n        libipc1.so -&gt; libipc1.so\n        libons.so -&gt; libons.so\n        libocci.so.12.1 -&gt; libocci.so.12.1\n</code></pre>\n\n<ol start=\"5\">\n<li><p>Updated <code>PATH</code> environment variable:</p>\n\n<pre><code>export PATH=/opt/oracle/instantclient_12_1:$PATH\n</code></pre></li>\n</ol>\n\n<p>Now I'm trying to install DBD-Oracle, following these seps</p>\n\n<pre><code>  tar xfvz DBD-Oracle.tar.gz\n  cd DBD-Oracle\n  perl Makefile.PL\n  make\n  make install\n</code></pre>\n\n<p>Anyhow getting this error:</p>\n\n<pre><code>Trying to find an ORACLE_HOME\nYour LD_LIBRARY_PATH env var is set to ''\n\n      The ORACLE_HOME environment variable is not set and I couldn't guess it.\n      It must be set to hold the path to an Oracle installation directory\n      on this machine (or a machine with a compatible architecture).\n      See the appropriate README file for your OS for more information.\n      ABORTED!\n</code></pre>\n\n<p>But these vars are not empty:</p>\n\n<pre><code>echo $LD_LIBRARY_PATH\n/opt/oracle/product/instantclient_12_1:/opt/oracle/instantclient_12_1:/usr/lib/oracle/11.2/client64/lib\n echo $ORACLE_HOME\n/opt/oracle/product/instantclient_12_1/\n</code></pre>\n"}, {"tags": ["string", "perl", "literals"], "comments": [{"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1433518354, "post_id": 30670424, "comment_id": 49402976, "body": "<a href=\"http://stackoverflow.com/questions/2660123/how-can-i-manually-interpolate-string-escapes-in-a-perl-string\" title=\"how can i manually interpolate string escapes in a perl string\">stackoverflow.com/questions/2660123/&hellip;</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1433518551, "post_id": 30670424, "comment_id": 49403087, "body": "How is <code>$configHash{key}</code> set in the first place? That&#39;s really where the interpolation should happen: <code>$configHash{key} = &quot;~\\n&quot;;</code>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1433519411, "post_id": 30670424, "comment_id": 49403575, "body": "You need to show how the hash key is being set as ThisSuitIsBlackNot said. This works:  perl -e &#39;$h{&#39;k&#39;}=&quot;~\\n&quot;; $a=$h{&#39;k&#39;}; print $a;&#39;"}, {"owner": {"reputation": 61, "user_id": 2460361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db13648b0ccbf8539af865a8b98a350a?s=128&d=identicon&r=PG", "display_name": "Lee Fowler", "link": "https://stackoverflow.com/users/2460361/lee-fowler"}, "edited": false, "score": 0, "creation_date": 1433519944, "post_id": 30670424, "comment_id": 49403901, "body": "The hash key is being set via a module that reads data out of a python-style dictionary file. I have changed the code in this module to double interpolate the inputs via the method here: <a href=\"http://www.perlmonks.org/?node_id=12275\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=12275</a>"}], "owner": {"reputation": 61, "user_id": 2460361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db13648b0ccbf8539af865a8b98a350a?s=128&d=identicon&r=PG", "display_name": "Lee Fowler", "link": "https://stackoverflow.com/users/2460361/lee-fowler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1433520438, "answer_count": 0, "score": 0, "last_activity_date": 1433520245, "creation_date": 1433518267, "last_edit_date": 1433520245, "question_id": 30670424, "link": "https://stackoverflow.com/questions/30670424/perl-force-inteprolation-of-literal-string", "closed_reason": "Duplicate", "title": "Perl Force Inteprolation of Literal String", "body": "<p>I have a Scalar variable that is assigned a literal string value via assignment to a hash value. I.e.</p>\n\n<pre><code>my $value = $configHash{'key'};\n</code></pre>\n\n<p>The value associated with that key are the three characters <code>~\\n</code>.</p>\n\n<p>When I print <code>$value</code> it prints the literal interpretation of the value:</p>\n\n<pre><code>print $value\n\nOutputs: ~\\n\n\nWant: ~ &lt;followed by a newline&gt;\n</code></pre>\n\n<p>Is there any way I can force the print statement to treat the string as a doubly quoted string and not a literal? </p>\n\n<p>I attempted these with no success:</p>\n\n<pre><code>print \"$value$\";\nprint qq($value);\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1433513038, "post_id": 30668473, "comment_id": 49399140, "body": "You seem to have made very little effort to write a clear and concise question, and it doesn&#39;t appear to be because you are struggling with the English language"}, {"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1433513185, "post_id": 30668473, "comment_id": 49399266, "body": "just because perl can be written in a single line doesn&#39;t mean we want to read it as such."}, {"owner": {"reputation": 49, "user_id": 4723683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc63a2632bcb4e9eb611390e83adf143?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold", "link": "https://stackoverflow.com/users/4723683/arnold"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433513210, "post_id": 30668473, "comment_id": 49399290, "body": "@Borodin, Thanks for your reply! I don&#39;t no with tidy. At this moment all is to news for me. @r"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1433515348, "post_id": 30669052, "comment_id": 49400856, "body": "The paths should be looking only in the root of the data, so <code>&#47;city&#47;name</code> etc."}, {"owner": {"reputation": 49, "user_id": 4723683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc63a2632bcb4e9eb611390e83adf143?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold", "link": "https://stackoverflow.com/users/4723683/arnold"}, "edited": false, "score": 0, "creation_date": 1433517293, "post_id": 30669052, "comment_id": 49402288, "body": "@Sobrique, many thanks for your stuff!. Thats wath I would &quot; my $xbcom = $t -&gt; root -&gt; first_child(&#39;bases&#39;) -&gt; att(&#39;com&#39;);&quot; @r"}, {"owner": {"reputation": 49, "user_id": 4723683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc63a2632bcb4e9eb611390e83adf143?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold", "link": "https://stackoverflow.com/users/4723683/arnold"}, "edited": false, "score": 0, "creation_date": 1433517526, "post_id": 30669052, "comment_id": 49402426, "body": "To all, Please can you give any link with good explication (handlers... to explore expressions? @r"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 49, "user_id": 4723683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc63a2632bcb4e9eb611390e83adf143?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold", "link": "https://stackoverflow.com/users/4723683/arnold"}, "edited": false, "score": 0, "creation_date": 1433518586, "post_id": 30669052, "comment_id": 49403112, "body": "@Arnold: There is no need to use callbacks with <code>XML::Twig</code> unless your data is huge and will not fit in memory."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "edited": false, "score": 0, "creation_date": 1433519362, "post_id": 30669052, "comment_id": 49403551, "body": "@mirod: Are you recommending that as a resource?"}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1433519926, "post_id": 30669052, "comment_id": 49403892, "body": "@Borodin yes, it&#39;s all a bit old but the module hasn&#39;t changed that much in a while. The Changes file in the distribution is also a good resource, especially if you have been using the module for a while."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1433515491, "last_edit_date": 1433515491, "creation_date": 1433514372, "answer_id": 30669052, "question_id": 30668473, "link": "https://stackoverflow.com/questions/30668473/perl-xmltwig-find-single-node-nested/30669052#30669052", "title": "Perl XML::Twig find single node nested", "body": "<p>So, if you're looking for:</p>\n\n<pre><code>city/bases/@com\n</code></pre>\n\n<p>That's an xpath expression, which extracts the attribute 'com' from the element <code>city/bases</code>.</p>\n\n<p>So the way you could access this with <code>XML::Twig</code> is</p>\n\n<pre><code>#!perl \nuse strict;\nuse warnings;\nuse CGI;\n\nuse XML::Twig;\nmy $t = XML::Twig-&gt;new(\n    pretty_print  =&gt; 'indented',\n    twig_handlers =&gt; {\n        '/city/name' =&gt; sub { print $_-&gt;text, \"\\n\"; },\n        '/city/population' =&gt; sub { print \"Pop: \", $_-&gt;text, \"\\n\"; },\n        '/city/bases' =&gt; sub { print \"Bases com: \", $_-&gt;att('com'), \"\\n\" },\n    }\n);\n$t-&gt;parseurl ( 'http://athome.myminicity.com/xml' );\n</code></pre>\n\n<p>You may want to extend the sub a little to test for the existence of that attribute, but that hopefully gives you an idea of how it could work? What may be useful to know - <code>XML::Twig</code> parses two sets of data into it's handlers:</p>\n\n<p><code>@_</code> is <code>$twig</code>, and <code>$element</code>. </p>\n\n<p><code>$_</code> is <code>$element</code>. </p>\n\n<p>So you don't need to <code>$_[1]</code> there. </p>\n\n<p>This will print each instance of a matching attribute, rather than a single one, but I'm sure you can figure out how to deal with that if you need to. </p>\n\n<p>However you probably don't want to use <code>twig_handlers</code> for this job at all:</p>\n\n<pre><code>my $city = $t-&gt;root;\nprint \"Name: \", $city-&gt;field('name'),       \"\\n\";\nprint \"Pop:\",   $city-&gt;field('population'), \"\\n\";\nprint \"COM:\",   $city-&gt;first_child('bases')-&gt;att('com'), \"\\n\";\n</code></pre>\n\n<p>Or to answer what I think is your question:</p>\n\n<pre><code>my $xbcom = $t -&gt; root -&gt; first_child('bases') -&gt; att('com');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 4723683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc63a2632bcb4e9eb611390e83adf143?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold", "link": "https://stackoverflow.com/users/4723683/arnold"}, "edited": false, "score": 0, "creation_date": 1434549381, "post_id": 30669095, "comment_id": 49826679, "body": "Hi,Thanks for your sugestion! You present me &quot;Table version&quot;. But how you isolat each value in differ variable? Ex./ $var1, $var2 .... (7 variables)? Thanks @r"}, {"owner": {"reputation": 49, "user_id": 4723683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc63a2632bcb4e9eb611390e83adf143?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold", "link": "https://stackoverflow.com/users/4723683/arnold"}, "edited": false, "score": 0, "creation_date": 1434550049, "post_id": 30669095, "comment_id": 49827209, "body": ",Thanks.But this is &quot;table version&quot; How you us subroutines or function for each value-(7 diff values)? @r"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1433515250, "last_edit_date": 1433515250, "creation_date": 1433514516, "answer_id": 30669095, "question_id": 30668473, "link": "https://stackoverflow.com/questions/30668473/perl-xmltwig-find-single-node-nested/30669095#30669095", "title": "Perl XML::Twig find single node nested", "body": "<p>I don't understand what your question means, but it looks like this will at least fetch your data</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse URI;\nuse XML::Twig;\n\nmy $url = URI-&gt;new('http://athome.myminicity.com/xml');\n\nmy $twig = XML::Twig-&gt;new;\n\n$twig-&gt;parseurl($url);\n\nfor my $city ( $twig-&gt;findnodes('/city') ) {\n\n  printf \"City:       %s\\n\", $city-&gt;field('name');\n  printf \"Population: %s\\n\", $city-&gt;field('population');\n\n  my $bases = $city-&gt;first_child('bases');\n  print \"Bases:\\n\";\n  for my $base ( sort $bases-&gt;att_names ) {\n    printf \"  %s = %s\\n\", $base, $bases-&gt;att($base);\n  }\n\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>City:       AtHome\nPopulation: 19039137\nBases:\n  com = 381162\n  env = 4119042\n  ind = 6219519\n  sec = 4759834\n  tra = 3807909\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 4723683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc63a2632bcb4e9eb611390e83adf143?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold", "link": "https://stackoverflow.com/users/4723683/arnold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 30669052, "answer_count": 2, "score": -1, "last_activity_date": 1433531050, "creation_date": 1433512791, "last_edit_date": 1592644375, "question_id": 30668473, "link": "https://stackoverflow.com/questions/30668473/perl-xmltwig-find-single-node-nested", "title": "Perl XML::Twig find single node nested", "body": "<p>How selecte singelnode nestet with Twig. and holdet by my $var =? (in the future so i can add math formula) (With Shell was : $xbcom = (xml$xdxml).selectSingleNode(&quot;city/bases/@com&quot;).$xt)</p>\n<pre><code>#!perl \nuse strict;\nuse warnings;\nuse CGI;\n\nuse XML::Twig;\nmy $t = XML::Twig-&gt;new(\n    pretty_print  =&gt; 'indented',\n    twig_handlers =&gt; {\n        'city/name' =&gt; sub { print $_[1]-&gt;text, &quot;\\n&quot;; },\n        'city/population' =&gt; sub { print &quot;Pop: &quot;, $_[1]-&gt;text, &quot;\\n&quot;; },\n    }\n);\n$t-&gt;parseurl('http://athome.myminicity.com/xml');\n</code></pre>\n<hr />\n<h3>Expected XML data</h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;city&gt;\n  &lt;host&gt;athome.myminicity.com&lt;/host&gt;\n  &lt;name&gt;AtHome&lt;/name&gt;\n  &lt;region code=&quot;FR&quot;&gt;france&lt;/region&gt;\n  &lt;ranking&gt;2&lt;/ranking&gt;\n  &lt;population&gt;19038934&lt;/population&gt;\n  &lt;incomes&gt;-2147483648&lt;/incomes&gt;\n  &lt;unemployment&gt;0&lt;/unemployment&gt;\n  &lt;transport&gt;100&lt;/transport&gt;\n  &lt;criminality&gt;0&lt;/criminality&gt;\n  &lt;pollution&gt;0&lt;/pollution&gt;\n  &lt;nextnuke&gt;1&lt;/nextnuke&gt;\n  &lt;signatures&gt;0&lt;/signatures&gt;\n  &lt;bases com=&quot;381162&quot; env=&quot;4118994&quot; ind=&quot;6219447&quot; sec=&quot;4759785&quot; tra=&quot;3807867&quot;/&gt;\n&lt;/city&gt;\n</code></pre>\n<p>I have work on:</p>\n<pre><code>#!perl\n\nuse strict;\nuse warnings;\nuse CGI;\n\nuse XML::Twig;\nmy $t= XML::Twig-&gt;new(pretty_print =&gt; 'indented',\n                    twig_handlers =&gt; {\n                          'city/name'=&gt;sub{  print &quot;      &quot;,$_-&gt;text,&quot;-Mmc\\n\\n&quot;; },\n                          'city/population'=&gt;sub{  print &quot;      Population: &quot;,$_-&gt;text,&quot;\\n&quot;; },\n                          'city/bases'=&gt;sub{  print &quot;      Commerce: &quot;,$_-&gt;att('com'),&quot;; Environ: &quot;,$_-&gt;att('env'),&quot;; Security: &quot;,$_-&gt;att('sec'),&quot;; transport: &quot;,$_-&gt;att('tra'),&quot;; Industrie: &quot;,$_-&gt;att('ind'),&quot;\\n\\n&quot;, },\n                    }\n);\n\n## Html future ....\nprint &quot;Content-type:text/html; charset=utf-8\\r\\n\\r\\n&quot;;\n\n## Intro\nprint &quot;\\n      XML Data Info:\\n\\r\\n&quot;;\n\n## Date time stamp\nmy ($sec,$min,$hour,$day,$month,$yr19,@rest) =   localtime(time); \nprint &quot;      Date:\\t$day-&quot;.++$month. &quot;-&quot;.($yr19+1900).&quot;\\n&quot;; \nprint &quot;      Time:\\t&quot;.sprintf(&quot;%02d&quot;,$hour).&quot;:&quot;.sprintf(&quot;%02d&quot;,$min).&quot;:&quot;.sprintf(&quot;%02d&quot;,$sec).&quot;\\n\\n&quot;; \n\n## Result (processe)\n$t-&gt;parseurl('http://athome.myminicity.com/xml');\n</code></pre>\n<p>But I don't find all @r</p>\n"}, {"tags": ["macos", "perl", "sed", "du", "timemachine"], "comments": [{"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 1, "creation_date": 1433510482, "post_id": 30667061, "comment_id": 49397294, "body": "There is a newline at the end of each filename.  Or, rather, there isn&#39;t."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1433510596, "post_id": 30667061, "comment_id": 49397370, "body": "<code>quotemeta</code> is your friend here. <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/quotemeta.html</a>"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1433527982, "post_id": 30667061, "comment_id": 49408175, "body": "With the list form of <code>system</code> you shouldn&#39;t need to escape filenames."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1433510618, "post_id": 30667667, "comment_id": 49397384, "body": "Don&#39;t <code>chop</code> try <code>chomp</code>"}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1433510651, "post_id": 30667667, "comment_id": 49397408, "body": "The newlines are guaranteed to be there, and this is exactly when <code>chop</code> is appropriate."}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1433510802, "post_id": 30667667, "comment_id": 49397513, "body": "On the other hand, the performance gain of <code>chop</code> over <code>chomp</code> is totally irrelevant here, so there&#39;s no reason to avoid <code>chomp</code> other than losing a stroke in code golf."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1433510941, "post_id": 30667667, "comment_id": 49397608, "body": "@WilliamPursell: <code>chomp</code> is the correct call. If the input is terminated with <code>Ctrl-D</code> instead of <code>Enter</code> then there will be no trailing newline. <code>chop</code> has its place but it isn&#39;t here"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3626141"}, "edited": false, "score": 0, "creation_date": 1433777736, "post_id": 30667667, "comment_id": 49484189, "body": "unfortunately, the list cannot be retrieved from find. I rely on tmutil, a TimeMachine utility, to generate the list.  thanks"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3626141"}, "edited": false, "score": 0, "creation_date": 1433778779, "post_id": 30667667, "comment_id": 49484937, "body": "I removed the necessity of tmutil. find words great. It&#39;s just amazing what you can do with find!"}], "tags": [], "owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "is_accepted": false, "score": 3, "last_activity_date": 1433512554, "last_edit_date": 1433512554, "creation_date": 1433510519, "answer_id": 30667667, "question_id": 30667061, "link": "https://stackoverflow.com/questions/30667061/no-such-file-or-directory-with-perl-system-calls/30667667#30667667", "title": "&quot;no such file or directory&quot; with perl system calls", "body": "<p>The error message tells you what you need.  It is trying to open a file whose name ends with <code>\\n</code>.  Try <code>chomp</code>.</p>\n\n<p>But really you should be using find w/--exec or xargs, or traversing in perl with <code>File::Find</code>.  This is an extremely fragile way to accomplish your goals.</p>\n\n<pre><code>find /path/to/root/dir -type f -exec du -sh {} \\;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1433511374, "last_edit_date": 1433511374, "creation_date": 1433510850, "answer_id": 30667767, "question_id": 30667061, "link": "https://stackoverflow.com/questions/30667061/no-such-file-or-directory-with-perl-system-calls/30667767#30667767", "title": "&quot;no such file or directory&quot; with perl system calls", "body": "<p>The contents  of <code>$line1</code> includes the newline that you typed to terminate the string. That will cause a mismatch if you try to find a file with that name, so remove it using <code>chomp</code></p>\n\n<p>It is also best to declare your variables as <em>late</em> as possible \u2014 preferably at their first point of use \u2014 and not in a block at the top of the program</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( my $filename = &lt;&gt; ) {\n    chomp $filename;\n    system('du', '-sh', $filename);\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3626141"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1089, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1433512554, "creation_date": 1433508777, "last_edit_date": 1433512052, "question_id": 30667061, "link": "https://stackoverflow.com/questions/30667061/no-such-file-or-directory-with-perl-system-calls", "title": "&quot;no such file or directory&quot; with perl system calls", "body": "<p>I am trying to run a Perl script that reads in filenames from stdin and calls du using a system command. When I run the du command on the commandline it works fine but when du is called in the perl script using system() I get \"No such file or directory.\" The filename does have spaces and an apostrophe which I escape before passing it into the perl script. The perl script itself is VERY simple:</p>\n\n<pre><code>use strict; use warnings;\nmy $line1;\nmy @tmutil_args;\n\nwhile($line1 = &lt;&gt;){\n    @tmutil_args = (\"du\", \"-sh\", $line1);\n    system(@tmutil_args);\n}\n</code></pre>\n\n<p>I also use a shell script to escape the filename. The one line script is as follows:</p>\n\n<pre><code>s/[\\' ]/\\\\&amp;/g\n</code></pre>\n\n<p>a sample filename before and after it is run through sed is:</p>\n\n<pre><code>/Volumes/Mac Mini Backup 4TB/Backups.backupdb/John's Mac Mini/2015-06-04-132645\n\n/Volumes/Mac\\ Mini\\ Backup\\ 4TB/Backups.backupdb/Pete\\'s\\ Mac\\ Mini/2015-06-04-132645 \n</code></pre>\n\n<p>I have tried with and without escaping the spaces and apostrophe. </p>\n\n<p>the output is:</p>\n\n<pre><code>du: /Volumes/Mac\\ Mini\\ Backup\\ 4TB/Backups.backupdb/Pete\\'s\\ Mac\\ Mini/2015-06-04-132645\n: No such file or directory\n</code></pre>\n\n<p>one important thing, I am running this on a mac OS X 10.95 in a terminal window. Perl v5.16.2</p>\n\n<p>you might ask what I am trying to do. I am trying to get the size of the individual Mac TimeMachine backups.  </p>\n\n<p>so can anyone tell me what I need?</p>\n"}, {"tags": ["perl", "arguments", "packages"], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1433508440, "creation_date": 1433508440, "answer_id": 30666953, "question_id": 30666896, "link": "https://stackoverflow.com/questions/30666896/passing-arguments-to-a-perl-package-while-using-it/30666953#30666953", "title": "Passing arguments to a perl package while using it", "body": "<p>Some may say it is more readable in some scenarios, but in essence it is same as</p>\n\n<pre><code>use Test::More qw(tests 21);\n</code></pre>\n\n<p>(<code>test</code> is auto-quoted by fat comma <code>=&gt;</code>, and number doesn't need quote).</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1433515045, "post_id": 30668318, "comment_id": 49400631, "body": "Your custom import can fall back to using Exporter&#39;s"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1433516906, "post_id": 30668318, "comment_id": 49402040, "body": "What of it? The first paragraph is still highly misleading if not wrong, and after a careful rereading of your answer, nothing in it refutes that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1433518518, "post_id": 30668318, "comment_id": 49403071, "body": "Your = Borodin&#39;s. It = your answer. That = The first paragraph"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1433512399, "creation_date": 1433512399, "answer_id": 30668318, "question_id": 30666896, "link": "https://stackoverflow.com/questions/30666896/passing-arguments-to-a-perl-package-while-using-it/30668318#30668318", "title": "Passing arguments to a perl package while using it", "body": "<p>The major disadvantage is that you can't use the default <code>import</code> subroutine from <a href=\"https://metacpan.org/pod/Exporter\" rel=\"nofollow\"><code>Exporter</code></a>, which expects only a list of symbols (or tags denoting collections of symbols) to import into the calling package</p>\n\n<p><a href=\"https://metacpan.org/pod/Test::More\" rel=\"nofollow\"><code>Test::More</code></a> inherits a custom <code>import</code> routine from the superclass <a href=\"https://metacpan.org/pod/Test::Builder::Module\" rel=\"nofollow\"><code>Test::Builder::Module</code></a>, which uses the arguments supplied in the <code>use</code> statement to configure the test plan. It also in turn uses <code>Exporter</code> to handle options specified like <code>import =&gt; [qw/ symbols to import /]</code></p>\n\n<p>Pretty much anything can be done by a custom <code>import</code> subroutine if you have a specific requirement, but it is probably unwise to stray too far from standard object-oriented semantics</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 5, "last_activity_date": 1433522310, "last_edit_date": 1433522310, "creation_date": 1433521044, "answer_id": 30671231, "question_id": 30666896, "link": "https://stackoverflow.com/questions/30666896/passing-arguments-to-a-perl-package-while-using-it/30671231#30671231", "title": "Passing arguments to a perl package while using it", "body": "<p><a href=\"https://metacpan.org/pod/perlfunc#use-Module-LIST\" rel=\"noreferrer\"><code>use My::Module LIST</code></a> does two things: 1) It <a href=\"https://metacpan.org/pod/perlfunc#require-EXPR\" rel=\"noreferrer\"><code>require</code></a>s <code>My::Module</code>; and 2) Invokes <a href=\"https://metacpan.org/pod/perlfunc#import-LIST\" rel=\"noreferrer\"><code>My::Module-&gt;import(LIST)</code></a>.</p>\n\n<p>Therefore, you can write your module's <code>import</code> routine to treat the list of arguments passed any which way you want. This becomes even easier if you are indeed writing an object oriented module that does not export anything to the caller's namespace.</p>\n\n<p>Here's a rather pointless example:</p>\n\n<pre><code>package Ex;\n\nuse strict;\nuse warnings;\n\n{\n    my $hello = 'Hello';\n    sub import {\n        my $self = shift;\n        my $lang = shift || 'English';\n        if ($lang eq 'Turkish') {\n            $hello = 'Merhaba';\n        }\n        else {\n            $hello = 'Hello';\n        }\n        return;\n    }\n\n    sub say_hello {\n        my $self = shift;\n        my $name = shift;\n\n        print \"$hello $name!\\n\";\n        return;\n    }\n}\n\n__PACKAGE__;\n__END__\n</code></pre>\n\n<p>And a script to use it:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Ex 'Turkish';\nEx-&gt;say_hello('Perl');\n\nEx-&gt;import;\nEx-&gt;say_hello('Perl');\n</code></pre>\n\n<p>Output:</p>\n\n<pre>$ ./imp.pl\nMerhaba Perl!\nHello Perl!</pre>\n"}], "owner": {"reputation": 3824, "user_id": 197181, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3fb737a30d2c22a594944b09c632d71b?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/197181/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 1, "accepted_answer_id": 30671231, "answer_count": 3, "score": 6, "last_activity_date": 1520104991, "creation_date": 1433508299, "last_edit_date": 1520104991, "question_id": 30666896, "link": "https://stackoverflow.com/questions/30666896/passing-arguments-to-a-perl-package-while-using-it", "title": "Passing arguments to a perl package while using it", "body": "<p>How to pass some arguments while using a package, for example:</p>\n\n<pre><code>use Test::More tests =&gt; 21;   \n</code></pre>\n\n<p>I wasn't able to find any valuable documentation about this featue. Are there any pros and cons of passing such arguments? </p>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1433508626, "post_id": 30666672, "comment_id": 49395892, "body": "Locally scoping with <code>my</code> to the smallest code block goes a fair way to &#39;reducing&#39; this sort of problem. As does using an anon array ref."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1433508802, "post_id": 30666672, "comment_id": 49396026, "body": "@Sobrique yes, it depends on what you want to achieve."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1433507553, "creation_date": 1433507553, "answer_id": 30666672, "question_id": 30666405, "link": "https://stackoverflow.com/questions/30666405/putting-a-perl-array-into-a-hash/30666672#30666672", "title": "Putting a Perl array into a hash", "body": "<p><code>\\@sections</code> is a reference to <code>@sections</code> container (array). </p>\n\n<p><code>@sections = ()</code> doesn't create new array, but empties old one. To check whether two variables are identical, compare their references,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @sections = 1 .. 3;\nmy $ref1 = \\@sections;\n@sections = ();\n\nprint \"identical!\\n\" if $ref1 == \\@sections;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "edited": false, "score": 0, "creation_date": 1433512319, "post_id": 30667210, "comment_id": 49398586, "body": "I knew that just using \\@sections1 and \\@sections2 would give me the desired result, however I&#39;m using a loop and the arrays are filled from a file.  The anonymous array [] works great."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "edited": false, "score": 0, "creation_date": 1433512772, "post_id": 30667210, "comment_id": 49398933, "body": "@PeterStaab: If you&#39;re defining the arrays from a file then \u2014 as I commented in my solution \u2014 you are declaring them with the wrong scope. If they were declared <i>inside</i> the loop that populates and uses them then you could simply take a reference as you did originally. That would be preferable to duplicating the information in an anonymous array, but without seeing the bigger picture I can&#39;t help you with specifics"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1433509808, "last_edit_date": 1433509808, "creation_date": 1433509221, "answer_id": 30667210, "question_id": 30666405, "link": "https://stackoverflow.com/questions/30666405/putting-a-perl-array-into-a-hash/30667210#30667210", "title": "Putting a Perl array into a hash", "body": "<p>The problem is that there's only one <code>@sections</code> array and, no matter what you do to its contents, the reference <code>\\@sections</code> will refer to the same array</p>\n\n<p>The dumper output shows you this</p>\n\n<pre><code>$VAR2 = {\n          'title' =&gt; 'title2',\n          'sections' =&gt; $VAR1-&gt;{'sections'},\n          'author' =&gt; 'author2'\n        };\n</code></pre>\n\n<p>is saying that <code>$VAR2-&gt;{sections}</code> is the same reference as <code>$VAR1-&gt;{sections}</code>, which is clearly true as they are both a reference to the same <code>@sections</code> array. The data it contains is simply a matter of how it was left after the latest modification. Here it is a copy of <code>@sections2</code> and will contain <code>('sect4', 'sect5')</code></p>\n\n<p>Some concepts that may help are</p>\n\n<ul>\n<li><p>You should declare your variables as <em>late</em> as possible, preferably at their first point of use</p></li>\n<li><p>You can write the loop</p>\n\n<pre><code>for ( @sections1 ) {\n  push(@sections, $_);\n}\n</code></pre>\n\n<p>as just</p>\n\n<pre><code>push @sections, @sections1\n</code></pre></li>\n<li><p>Instead of</p>\n\n<pre><code>$text1-&gt;{sections} = \\@sections\n</code></pre>\n\n<p>which assigns a reference to the array <code>@sections</code>, you can use</p>\n\n<pre><code>$text1-&gt;{sections} = [ @sections ]\n</code></pre>\n\n<p>which creates a new, anonymous array, populates it from the contents of <code>@sections</code>, and returns a reference to it. That leaves you free to modify <code>@sections</code> without changing the copy of the data that you have saved in <code>$text1</code></p></li>\n</ul>\n\n<p>Your code should probably be written something like this, but you haven't said anything about what you want to do with the data so you may need some changes</p>\n\n<p>I highly recommend that you use <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow\"><code>Data::Dump</code></a> in preference to <code>Data::Dumper</code>. You may need to install it as it isn't a core module, but it is well worth it as the dump output is much neater, more concise, and readable</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nmy @sections1 = qw/ sect1 sect2 sect3 /;\nmy @sections2 = qw/ sect4 sect5 /;\n\nmy @textbooks = (\n  { title =&gt; 'title1', author =&gt; 'author1' },\n  { title =&gt; 'title2', author =&gt; 'author2' },\n);\n\n$textbooks[0]{sections} = \\@sections1;\n$textbooks[1]{sections} = \\@sections2;\n\ndd \\@textbooks;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>[\n  {\n    author   =&gt; \"author1\",\n    sections =&gt; [\"sect1\", \"sect2\", \"sect3\"],\n    title    =&gt; \"title1\",\n  },\n  {\n    author =&gt; \"author2\",\n    sections =&gt; [\"sect4\", \"sect5\"],\n    title =&gt; \"title2\",\n  },\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "edited": false, "score": 0, "creation_date": 1433512357, "post_id": 30667271, "comment_id": 49398612, "body": "Using <code>@sections=[];</code> was exactly what I needed.  Thanks."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1433509404, "creation_date": 1433509404, "answer_id": 30667271, "question_id": 30666405, "link": "https://stackoverflow.com/questions/30666405/putting-a-perl-array-into-a-hash/30667271#30667271", "title": "Putting a Perl array into a hash", "body": "<p>You're entirely correct:</p>\n\n<pre><code>@sections = (); \n</code></pre>\n\n<p>does <em>NOT</em> create a new array, it overwrites the content of the old. </p>\n\n<p>One of the things <code>Data::Dumper</code> 'hides' is the references. </p>\n\n<p>Try this:</p>\n\n<pre><code>foreach my $key ( keys %{$text2} ) { \n   print $key, $text2 -&gt; {$key},\"\\n\"\n}\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>foreach my $thing (@textbooks) {\n    print \"TB ref $thing\\n\";\n    foreach my $key ( keys %{$thing} ) {\n        print \"$key =&gt; \", $thing-&gt;{$key}, \"\\n\";\n    }\n}\n</code></pre>\n\n<p>From the latter, you'll get something like:</p>\n\n<pre><code>TB ref HASH(0x12de994)\nsections =&gt; ARRAY(0x12e43b4)\nauthor =&gt; author1\ntitle =&gt; title1\nTB ref HASH(0x12de9ac)\nsections =&gt; ARRAY(0x12e43b4)\ntitle =&gt; title2\nauthor =&gt; author2\n</code></pre>\n\n<p>Note how the array has the same ID here -  this is the root of your problem. Your hash has the same reference twice. (The parent <code>hashes</code> in your array of hashes differ)</p>\n\n<p>An easy workaround might be to switch from using <code>@sections</code> to <code>$sections</code>, because whilst:</p>\n\n<pre><code>@sections = ();\n</code></pre>\n\n<p>Doesn't make a 'new' data structure:</p>\n\n<pre><code>$sections = []; \n</code></pre>\n\n<p>Will because <code>[]</code> is an anonymous array, you're creating, and just reassigning the reference. </p>\n\n<p>The other solution is to generally narrow down the scope with <code>my</code>, but with your code that won't work so well - works nicely with <code>foreach</code> loops though. </p>\n"}], "owner": {"reputation": 349, "user_id": 2773127, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fef172929e808d472f63d56950a4b62?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Staab", "link": "https://stackoverflow.com/users/2773127/peter-staab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 30667271, "answer_count": 3, "score": 2, "last_activity_date": 1433509808, "creation_date": 1433506737, "last_edit_date": 1433508431, "question_id": 30666405, "link": "https://stackoverflow.com/questions/30666405/putting-a-perl-array-into-a-hash", "title": "Putting a Perl array into a hash", "body": "<p>I am writing a script that parses a file and want the entire result in an array.  I ran into a problem that I boiled down to the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy @sections  = ();\nmy @sections1 = qw/sect1 sect2 sect3/;\nmy @sections2 = qw/sect4 sect5/;\n\nmy @textbooks = ();\n\nmy $text1 = { title =&gt; \"title1\", author =&gt; \"author1\" };\nmy $text2 = { title =&gt; \"title2\", author =&gt; \"author2\" };\n\nfor ( @sections1 ) {\n  push(@sections, $_);\n}\n$text1-&gt;{sections} = \\@sections;\n@sections = ();\n\nfor ( @sections2 ) {\n  push(@sections, $_);\n}\n\npush(@textbooks, $text1);\n$text2-&gt;{sections} = \\@sections;\nprint Dumper($text2);\n\npush(@textbooks, $text2);\n\nprint Dumper(@textbooks);\n</code></pre>\n\n<p>The result of the first print Dumper is as follows:</p>\n\n<pre><code>$VAR1 = {\n          'title' =&gt; 'title2',\n          'sections' =&gt; [\n                          'sect4',\n                          'sect5'\n                        ],\n          'author' =&gt; 'author2'\n        }\n</code></pre>\n\n<p>and the result of the second one is:</p>\n\n<pre><code>$VAR1 = {\n          'sections' =&gt; [\n                          'sect4',\n                          'sect5'\n                        ],\n          'title' =&gt; 'title1',\n          'author' =&gt; 'author1'\n        };\n$VAR2 = {\n          'title' =&gt; 'title2',\n          'sections' =&gt; $VAR1-&gt;{'sections'},\n          'author' =&gt; 'author2'\n        };\n</code></pre>\n\n<p>I have two questions on this which I'm sure are related.</p>\n\n<ul>\n<li><p>I realized that the first sections are a reference so that they contains what I would expect the second sections.  I thought that the line <code>@sections=()</code> would create a new array and a new reference would be made later.  Obviously I'm not thinking of this correctly.  </p></li>\n<li><p>What's going on with the second sections? From the output of <code>$text2</code> it appears correct until the push. </p></li>\n</ul>\n"}, {"tags": ["linux", "perl", "printing", "cups"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1433508861, "post_id": 30665862, "comment_id": 49396068, "body": "Please check <code>system()</code> docs; <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/system.html</a>"}, {"owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1433514163, "post_id": 30665862, "comment_id": 49399978, "body": "@\u0421\u0443\u0445\u043e\u043927,   perldoc.perl.org/functions/system.html  helps a lot."}], "answers": [{"tags": [], "owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "is_accepted": false, "score": 0, "last_activity_date": 1433514256, "creation_date": 1433514256, "answer_id": 30669008, "question_id": 30665862, "link": "https://stackoverflow.com/questions/30665862/how-to-get-a-response-of-file-printing-job-to-user-from-printer-using-cups-in-li/30669008#30669008", "title": "How to get a response of file printing job to user from printer using CUPS in linux", "body": "<p>$? returns the response status of system command.</p>\n\n<pre><code>system(\"lpr -P laserJet123   -o raw -T test_womargin abc.txt\");\nif ($? == -1) {\nprint \"failed to execute: $!\\n\";\n}\nelsif ($? &amp; 127) {\nprintf \"Job failed with signal %d, %s coredump\\n\",\n($? &amp; 127), ($? &amp; 128) ? 'with' : 'without';\n}\nelse {\n printf \"Job exited with value %d\\n\", $? &gt;&gt; 8;\n}\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 3829086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/15358ac3a1f4a45b835aea23ff065501?s=128&d=identicon&r=PG&f=1", "display_name": "user3829086", "link": "https://stackoverflow.com/users/3829086/user3829086"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433514256, "creation_date": 1433505093, "last_edit_date": 1433505183, "question_id": 30665862, "link": "https://stackoverflow.com/questions/30665862/how-to-get-a-response-of-file-printing-job-to-user-from-printer-using-cups-in-li", "title": "How to get a response of file printing job to user from printer using CUPS in linux", "body": "<p>I am  trying to print a file  in remote server through CUPS command , User needs to know the status of  job status. How to get a response from that. Here is my code :</p>\n\n<pre><code> #!/usr/bin/perl\n my $response = system(\"lpr -P laserJet123   -o raw -T test_womargin abc.txt\");\n print $response; \n</code></pre>\n"}, {"tags": ["java", "eclipse", "perl", "server", "epic"], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "is_accepted": false, "score": 0, "last_activity_date": 1433514835, "creation_date": 1433514835, "answer_id": 30669208, "question_id": 30665266, "link": "https://stackoverflow.com/questions/30665266/cant-run-perl-scripts-from-server-in-epic-eclipse/30669208#30669208", "title": "Can&#39;t run perl scripts from server in EPIC (Eclipse)", "body": "<p>This can be done on the Launch Configuration of Eclipse.\n<a href=\"http://www.epic-ide.org/guide/ch06s02.php\" rel=\"nofollow\">http://www.epic-ide.org/guide/ch06s02.php</a></p>\n"}], "owner": {"reputation": 779, "user_id": 2192923, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ae3f9f93df9ae60d57654e128af240d8?s=128&d=identicon&r=PG", "display_name": "WolfyD", "link": "https://stackoverflow.com/users/2192923/wolfyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433514835, "creation_date": 1433503301, "question_id": 30665266, "link": "https://stackoverflow.com/questions/30665266/cant-run-perl-scripts-from-server-in-epic-eclipse", "title": "Can&#39;t run perl scripts from server in EPIC (Eclipse)", "body": "<p>I'm trying to edit Perl scripts on a company server (test server so far) with Eclipse using the EPIC plugin. I managed to get so far as to be able to load folders with scripts, and open the scripts properly, but any time I try to run them, I get the following error:</p>\n\n<pre><code>An internal error occurred during: \"Launching --FileName--\".\njava.lang.NullPointerException\n</code></pre>\n\n<p>Image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/M2p0K.png\" alt=\"Perl Error - javaLangNullPointException\"></p>\n\n<p>I have no idea what could be wrong, as Padre (Perl IDE) runs these files properly. I am updating my Perl to the latest version as I write this, but I don't think that the difference between <code>5.14</code> and <code>5.22</code> would be the problem.</p>\n\n<p>What do I need to do to fix this?</p>\n"}]